(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1:function(t,n,r){"use strict";r.d(n,"b",function(){return i}),r.d(n,"c",function(){return c}),r.d(n,"d",function(){return a}),r.d(n,"e",function(){return f}),r.d(n,"f",function(){return s}),r.d(n,"g",function(){return p}),r.d(n,"h",function(){return h}),r.d(n,"i",function(){return l}),r.d(n,"j",function(){return d}),r.d(n,"k",function(){return v}),r.d(n,"l",function(){return y}),r.d(n,"m",function(){return O}),r.d(n,"n",function(){return T}),r.d(n,"o",function(){return _}),r.d(n,"p",function(){return E}),r.d(n,"q",function(){return b}),r.d(n,"r",function(){return N}),r.d(n,"s",function(){return I}),r.d(n,"t",function(){return A}),r.d(n,"u",function(){return G}),r.d(n,"v",function(){return g}),r.d(n,"w",function(){return m}),r.d(n,"x",function(){return j}),r.d(n,"y",function(){return w}),r.d(n,"z",function(){return B}),r.d(n,"A",function(){return P}),r.d(n,"B",function(){return H}),r.d(n,"C",function(){return L}),r.d(n,"D",function(){return F}),r.d(n,"E",function(){return C}),r.d(n,"F",function(){return x}),r.d(n,"H",function(){return W}),r.d(n,"I",function(){return k}),r.d(n,"J",function(){return V}),r.d(n,"G",function(){return K}),r.d(n,"a",function(){return S});var u=r(9),e=r(108),o=r(107);function i(t){for(var n=d(),r=0,u=t.length;r<u;++r)N(n,t[r]);return n}function c(t,n,r){return r?(r[0]=t[0]-n,r[1]=t[1]-n,r[2]=t[2]+n,r[3]=t[3]+n,r):[t[0]-n,t[1]-n,t[2]+n,t[3]+n]}function a(t,n){return n?(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n):t.slice()}function f(t,n,r){var u,e;return(u=n<t[0]?t[0]-n:t[2]<n?n-t[2]:0)*u+(e=r<t[1]?t[1]-r:t[3]<r?r-t[3]:0)*e}function s(t,n){return h(t,n[0],n[1])}function p(t,n){return t[0]<=n[0]&&n[2]<=t[2]&&t[1]<=n[1]&&n[3]<=t[3]}function h(t,n,r){return t[0]<=n&&n<=t[2]&&t[1]<=r&&r<=t[3]}function l(t,n){var r=t[0],u=t[1],e=t[2],i=t[3],c=n[0],a=n[1],f=o.a.UNKNOWN;return c<r?f|=o.a.LEFT:c>e&&(f|=o.a.RIGHT),a<u?f|=o.a.BELOW:a>i&&(f|=o.a.ABOVE),f===o.a.UNKNOWN&&(f=o.a.INTERSECTING),f}function d(){return[1/0,1/0,-1/0,-1/0]}function v(t,n,r,u,e){return e?(e[0]=t,e[1]=n,e[2]=r,e[3]=u,e):[t,n,r,u]}function y(t){return v(1/0,1/0,-1/0,-1/0,t)}function O(t,n){var r=t[0],u=t[1];return v(r,u,r,u,n)}function T(t,n){return M(y(n),t)}function _(t,n,r,u,e){return I(y(e),t,n,r,u)}function E(t,n){return t[0]==n[0]&&t[2]==n[2]&&t[1]==n[1]&&t[3]==n[3]}function b(t,n){return n[0]<t[0]&&(t[0]=n[0]),n[2]>t[2]&&(t[2]=n[2]),n[1]<t[1]&&(t[1]=n[1]),n[3]>t[3]&&(t[3]=n[3]),t}function N(t,n){n[0]<t[0]&&(t[0]=n[0]),n[0]>t[2]&&(t[2]=n[0]),n[1]<t[1]&&(t[1]=n[1]),n[1]>t[3]&&(t[3]=n[1])}function M(t,n){for(var r=0,u=n.length;r<u;++r)N(t,n[r]);return t}function I(t,n,r,u,e){for(;r<u;r+=e)R(t,n[r],n[r+1]);return t}function R(t,n,r){t[0]=Math.min(t[0],n),t[1]=Math.min(t[1],r),t[2]=Math.max(t[2],n),t[3]=Math.max(t[3],r)}function A(t,n,r){var u;return(u=n.call(r,g(t)))?u:(u=n.call(r,m(t)))?u:(u=n.call(r,F(t)))?u:(u=n.call(r,L(t)))||!1}function G(t){var n=0;return W(t)||(n=C(t)*P(t)),n}function g(t){return[t[0],t[1]]}function m(t){return[t[2],t[1]]}function j(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function w(t,n){var r;return n===e.a.BOTTOM_LEFT?r=g(t):n===e.a.BOTTOM_RIGHT?r=m(t):n===e.a.TOP_LEFT?r=L(t):n===e.a.TOP_RIGHT?r=F(t):Object(u.a)(!1,13),r}function B(t,n,r,u,e){var o=n*u[0]/2,i=n*u[1]/2,c=Math.cos(r),a=Math.sin(r),f=o*c,s=o*a,p=i*c,h=i*a,l=t[0],d=t[1],y=l-f+h,O=l-f-h,T=l+f-h,_=l+f+h,E=d-s-p,b=d-s+p,N=d+s+p,M=d+s-p;return v(Math.min(y,O,T,_),Math.min(E,b,N,M),Math.max(y,O,T,_),Math.max(E,b,N,M),e)}function P(t){return t[3]-t[1]}function H(t,n,r){var u=r||[1/0,1/0,-1/0,-1/0];return x(t,n)?(t[0]>n[0]?u[0]=t[0]:u[0]=n[0],t[1]>n[1]?u[1]=t[1]:u[1]=n[1],t[2]<n[2]?u[2]=t[2]:u[2]=n[2],t[3]<n[3]?u[3]=t[3]:u[3]=n[3]):y(u),u}function L(t){return[t[0],t[3]]}function F(t){return[t[2],t[3]]}function C(t){return t[2]-t[0]}function x(t,n){return t[0]<=n[2]&&t[2]>=n[0]&&t[1]<=n[3]&&t[3]>=n[1]}function W(t){return t[2]<t[0]||t[3]<t[1]}function k(t,n){return n?(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n):t}function V(t,n){var r=(t[2]-t[0])/2*(n-1),u=(t[3]-t[1])/2*(n-1);t[0]-=r,t[2]+=r,t[1]-=u,t[3]+=u}function K(t,n,r){var u=!1,e=l(t,n),i=l(t,r);if(e===o.a.INTERSECTING||i===o.a.INTERSECTING)u=!0;else{var c,a,f=t[0],s=t[1],p=t[2],h=t[3],d=n[0],v=n[1],y=r[0],O=r[1],T=(O-v)/(y-d);i&o.a.ABOVE&&!(e&o.a.ABOVE)&&(u=(c=y-(O-h)/T)>=f&&c<=p),u||!(i&o.a.RIGHT)||e&o.a.RIGHT||(u=(a=O-(y-p)*T)>=s&&a<=h),u||!(i&o.a.BELOW)||e&o.a.BELOW||(u=(c=y-(O-s)/T)>=f&&c<=p),u||!(i&o.a.LEFT)||e&o.a.LEFT||(u=(a=O-(y-f)*T)>=s&&a<=h)}return u}function S(t,n,r){var u=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return n(u,u,2),function(t,n,r){return v(Math.min.apply(null,t),Math.min.apply(null,n),Math.max.apply(null,t),Math.max.apply(null,n),r)}([u[0],u[2],u[4],u[6]],[u[1],u[3],u[5],u[7]],r)}},107:function(t,n,r){"use strict";n.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},108:function(t,n,r){"use strict";n.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},12:function(t,n,r){"use strict";r.d(n,"b",function(){return p});var u=r(3),e=r(50),o=r(73),i=r(11),c=r(5),a=function(t){function n(n,r,u){t.call(this,n),this.key=r,this.oldValue=u}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(i.a),f=function(t){function n(n){t.call(this),Object(u.c)(this),this.values_={},void 0!==n&&this.setProperties(n)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.get=function(t){var n;return this.values_.hasOwnProperty(t)&&(n=this.values_[t]),n},n.prototype.getKeys=function(){return Object.keys(this.values_)},n.prototype.getProperties=function(){return Object(c.a)({},this.values_)},n.prototype.notify=function(t,n){var r;r=p(t),this.dispatchEvent(new a(r,t,n)),r=e.a.PROPERTYCHANGE,this.dispatchEvent(new a(r,t,n))},n.prototype.set=function(t,n,r){if(r)this.values_[t]=n;else{var u=this.values_[t];this.values_[t]=n,u!==n&&this.notify(t,u)}},n.prototype.setProperties=function(t,n){for(var r in t)this.set(r,t[r],n)},n.prototype.unset=function(t,n){if(t in this.values_){var r=this.values_[t];delete this.values_[t],n||this.notify(t,r)}},n}(o.a),s={};function p(t){return s.hasOwnProperty(t)?s[t]:s[t]="change:"+t}n.a=f},50:function(t,n,r){"use strict";n.a={PROPERTYCHANGE:"propertychange"}},73:function(t,n,r){"use strict";var u=r(4),e=r(40),o=r(2),i=function(t){function n(){t.call(this),this.revision_=0}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.changed=function(){++this.revision_,this.dispatchEvent(o.a.CHANGE)},n.prototype.getRevision=function(){return this.revision_},n.prototype.on=function(t,n){if(Array.isArray(t)){for(var r=t.length,e=new Array(r),o=0;o<r;++o)e[o]=Object(u.a)(this,t[o],n);return e}return Object(u.a)(this,t,n)},n.prototype.once=function(t,n){if(Array.isArray(t)){for(var r=t.length,e=new Array(r),o=0;o<r;++o)e[o]=Object(u.b)(this,t[o],n);return e}return Object(u.b)(this,t,n)},n.prototype.un=function(t,n){if(Array.isArray(t))for(var r=0,e=t.length;r<e;++r)Object(u.c)(this,t[r],n);else Object(u.c)(this,t,n)},n}(e.a);n.a=i}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvZXh0ZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9leHRlbnQvUmVsYXRpb25zaGlwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9leHRlbnQvQ29ybmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9PYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL09iamVjdEV2ZW50VHlwZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvT2JzZXJ2YWJsZS5qcyJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZCIsIl9fd2VicGFja19leHBvcnRzX18iLCJib3VuZGluZ0V4dGVudCIsImJ1ZmZlciIsImNsb25lIiwiY2xvc2VzdFNxdWFyZWREaXN0YW5jZVhZIiwiY29udGFpbnNDb29yZGluYXRlIiwiY29udGFpbnNFeHRlbnQiLCJjb250YWluc1hZIiwiY29vcmRpbmF0ZVJlbGF0aW9uc2hpcCIsImNyZWF0ZUVtcHR5IiwiY3JlYXRlT3JVcGRhdGUiLCJjcmVhdGVPclVwZGF0ZUVtcHR5IiwiY3JlYXRlT3JVcGRhdGVGcm9tQ29vcmRpbmF0ZSIsImNyZWF0ZU9yVXBkYXRlRnJvbUNvb3JkaW5hdGVzIiwiY3JlYXRlT3JVcGRhdGVGcm9tRmxhdENvb3JkaW5hdGVzIiwiZXF1YWxzIiwiZXh0ZW5kIiwiZXh0ZW5kQ29vcmRpbmF0ZSIsImV4dGVuZEZsYXRDb29yZGluYXRlcyIsImZvckVhY2hDb3JuZXIiLCJnZXRBcmVhIiwiZ2V0Qm90dG9tTGVmdCIsImdldEJvdHRvbVJpZ2h0IiwiZ2V0Q2VudGVyIiwiZ2V0Q29ybmVyIiwiZ2V0Rm9yVmlld0FuZFNpemUiLCJnZXRIZWlnaHQiLCJnZXRJbnRlcnNlY3Rpb24iLCJnZXRUb3BMZWZ0IiwiZ2V0VG9wUmlnaHQiLCJnZXRXaWR0aCIsImludGVyc2VjdHMiLCJpc0VtcHR5IiwicmV0dXJuT3JVcGRhdGUiLCJzY2FsZUZyb21DZW50ZXIiLCJpbnRlcnNlY3RzU2VnbWVudCIsImFwcGx5VHJhbnNmb3JtIiwiX2Fzc2VydHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsIl9leHRlbnRfQ29ybmVyX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJfZXh0ZW50X1JlbGF0aW9uc2hpcF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fIiwiY29vcmRpbmF0ZXMiLCJleHRlbnQiLCJpIiwiaWkiLCJsZW5ndGgiLCJ2YWx1ZSIsIm9wdF9leHRlbnQiLCJzbGljZSIsIngiLCJ5IiwiZHgiLCJkeSIsImNvb3JkaW5hdGUiLCJleHRlbnQxIiwiZXh0ZW50MiIsIm1pblgiLCJtaW5ZIiwibWF4WCIsIm1heFkiLCJyZWxhdGlvbnNoaXAiLCJVTktOT1dOIiwiTEVGVCIsIlJJR0hUIiwiQkVMT1ciLCJBQk9WRSIsIklOVEVSU0VDVElORyIsIkluZmluaXR5IiwiZXh0ZW5kQ29vcmRpbmF0ZXMiLCJmbGF0Q29vcmRpbmF0ZXMiLCJvZmZzZXQiLCJlbmQiLCJzdHJpZGUiLCJleHRlbmRYWSIsIk1hdGgiLCJtaW4iLCJtYXgiLCJjYWxsYmFjayIsIm9wdF90aGlzIiwidmFsIiwiY2FsbCIsImFyZWEiLCJjb3JuZXIiLCJCT1RUT01fTEVGVCIsIkJPVFRPTV9SSUdIVCIsIlRPUF9MRUZUIiwiVE9QX1JJR0hUIiwiT2JqZWN0IiwiY2VudGVyIiwicmVzb2x1dGlvbiIsInJvdGF0aW9uIiwic2l6ZSIsImNvc1JvdGF0aW9uIiwiY29zIiwic2luUm90YXRpb24iLCJzaW4iLCJ4Q29zIiwieFNpbiIsInlDb3MiLCJ5U2luIiwieDAiLCJ4MSIsIngyIiwieDMiLCJ5MCIsInkxIiwieTIiLCJ5MyIsImludGVyc2VjdGlvbiIsImRlbHRhWCIsImRlbHRhWSIsInN0YXJ0Iiwic3RhcnRSZWwiLCJlbmRSZWwiLCJzdGFydFgiLCJzdGFydFkiLCJlbmRYIiwiZW5kWSIsInNsb3BlIiwidHJhbnNmb3JtRm4iLCJ4cyIsInlzIiwiYXBwbHkiLCJfYm91bmRpbmdFeHRlbnRYWXMiLCJnZXRDaGFuZ2VFdmVudFR5cGUiLCJfdXRpbF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwiX09iamVjdEV2ZW50VHlwZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwiX09ic2VydmFibGVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyIsIl9ldmVudHNfRXZlbnRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyIsIl9vYmpfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyIsIk9iamVjdEV2ZW50IiwiRXZlbnQiLCJ0eXBlIiwia2V5Iiwib2xkVmFsdWUiLCJ0aGlzIiwiX19wcm90b19fIiwicHJvdG90eXBlIiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJCYXNlT2JqZWN0IiwiT2JzZXJ2YWJsZSIsIm9wdF92YWx1ZXMiLCJ2YWx1ZXNfIiwidW5kZWZpbmVkIiwic2V0UHJvcGVydGllcyIsImdldCIsImhhc093blByb3BlcnR5IiwiZ2V0S2V5cyIsImtleXMiLCJnZXRQcm9wZXJ0aWVzIiwibm90aWZ5IiwiZXZlbnRUeXBlIiwiZGlzcGF0Y2hFdmVudCIsIlBST1BFUlRZQ0hBTkdFIiwic2V0Iiwib3B0X3NpbGVudCIsInZhbHVlcyIsInVuc2V0IiwiY2hhbmdlRXZlbnRUeXBlQ2FjaGUiLCJfZXZlbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfZXZlbnRzX1RhcmdldF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwiX2V2ZW50c19FdmVudFR5cGVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyIsIkV2ZW50VGFyZ2V0IiwicmV2aXNpb25fIiwiY2hhbmdlZCIsIkNIQU5HRSIsImdldFJldmlzaW9uIiwib24iLCJsaXN0ZW5lciIsIkFycmF5IiwiaXNBcnJheSIsImxlbiIsIm9uY2UiLCJ1biJdLCJtYXBwaW5ncyI6IndGQUFBQSxFQUFBQyxFQUFBQyxFQUFBLHNCQUFBQyxJQUFBSCxFQUFBQyxFQUFBQyxFQUFBLHNCQUFBRSxJQUFBSixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBRyxJQUFBTCxFQUFBQyxFQUFBQyxFQUFBLHNCQUFBSSxJQUFBTixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBSyxJQUFBUCxFQUFBQyxFQUFBQyxFQUFBLHNCQUFBTSxJQUFBUixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBTyxJQUFBVCxFQUFBQyxFQUFBQyxFQUFBLHNCQUFBUSxJQUFBVixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBUyxJQUFBWCxFQUFBQyxFQUFBQyxFQUFBLHNCQUFBVSxJQUFBWixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBVyxJQUFBYixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBWSxJQUFBZCxFQUFBQyxFQUFBQyxFQUFBLHNCQUFBYSxJQUFBZixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBYyxJQUFBaEIsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQWUsSUFBQWpCLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUFnQixJQUFBbEIsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQWlCLElBQUFuQixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBa0IsSUFBQXBCLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUFtQixJQUFBckIsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQW9CLElBQUF0QixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBcUIsSUFBQXZCLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUFzQixJQUFBeEIsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQXVCLElBQUF6QixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBd0IsSUFBQTFCLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUF5QixJQUFBM0IsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQTBCLElBQUE1QixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBMkIsSUFBQTdCLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUE0QixJQUFBOUIsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQTZCLElBQUEvQixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBOEIsSUFBQWhDLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUErQixJQUFBakMsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQWdDLElBQUFsQyxFQUFBQyxFQUFBQyxFQUFBLHNCQUFBaUMsSUFBQW5DLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUFrQyxJQUFBcEMsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQW1DLElBQUFyQyxFQUFBQyxFQUFBQyxFQUFBLHNCQUFBb0MsSUFBQSxJQUFBQyxFQUFBdkMsRUFBQSxHQUFBd0MsRUFBQXhDLEVBQUEsS0FBQXlDLEVBQUF6QyxFQUFBLEtBcUJPLFNBQUFHLEVBQUF1QyxHQUVQLElBREEsSUFBQUMsRUFBQWhDLElBQ0FpQyxFQUFBLEVBQUFDLEVBQUFILEVBQUFJLE9BQTBDRixFQUFBQyxJQUFRRCxFQUNsRHpCLEVBQUF3QixFQUFBRCxFQUFBRSxJQUVBLE9BQUFELEVBNEJPLFNBQUF2QyxFQUFBdUMsRUFBQUksRUFBQUMsR0FDUCxPQUFBQSxHQUNBQSxFQUFBLEdBQUFMLEVBQUEsR0FBQUksRUFDQUMsRUFBQSxHQUFBTCxFQUFBLEdBQUFJLEVBQ0FDLEVBQUEsR0FBQUwsRUFBQSxHQUFBSSxFQUNBQyxFQUFBLEdBQUFMLEVBQUEsR0FBQUksRUFDQUMsR0FFQSxDQUNBTCxFQUFBLEdBQUFJLEVBQ0FKLEVBQUEsR0FBQUksRUFDQUosRUFBQSxHQUFBSSxFQUNBSixFQUFBLEdBQUFJLEdBYU8sU0FBQTFDLEVBQUFzQyxFQUFBSyxHQUNQLE9BQUFBLEdBQ0FBLEVBQUEsR0FBQUwsRUFBQSxHQUNBSyxFQUFBLEdBQUFMLEVBQUEsR0FDQUssRUFBQSxHQUFBTCxFQUFBLEdBQ0FLLEVBQUEsR0FBQUwsRUFBQSxHQUNBSyxHQUVBTCxFQUFBTSxRQVdPLFNBQUEzQyxFQUFBcUMsRUFBQU8sRUFBQUMsR0FDUCxJQUFBQyxFQUFBQyxFQWVBLE9BYkFELEVBREFGLEVBQUFQLEVBQUEsR0FDQUEsRUFBQSxHQUFBTyxFQUNHUCxFQUFBLEdBQUFPLEVBQ0hBLEVBQUFQLEVBQUEsR0FFQSxHQVNBUyxHQU5BQyxFQURBRixFQUFBUixFQUFBLEdBQ0FBLEVBQUEsR0FBQVEsRUFDR1IsRUFBQSxHQUFBUSxFQUNIQSxFQUFBUixFQUFBLEdBRUEsR0FFQVUsRUFZTyxTQUFBOUMsRUFBQW9DLEVBQUFXLEdBQ1AsT0FBQTdDLEVBQUFrQyxFQUFBVyxFQUFBLEdBQUFBLEVBQUEsSUFnQk8sU0FBQTlDLEVBQUErQyxFQUFBQyxHQUNQLE9BQUFELEVBQUEsSUFBQUMsRUFBQSxJQUFBQSxFQUFBLElBQUFELEVBQUEsSUFDQUEsRUFBQSxJQUFBQyxFQUFBLElBQUFBLEVBQUEsSUFBQUQsRUFBQSxHQWFPLFNBQUE5QyxFQUFBa0MsRUFBQU8sRUFBQUMsR0FDUCxPQUFBUixFQUFBLElBQUFPLE1BQUFQLEVBQUEsSUFBQUEsRUFBQSxJQUFBUSxNQUFBUixFQUFBLEdBV08sU0FBQWpDLEVBQUFpQyxFQUFBVyxHQUNQLElBQUFHLEVBQUFkLEVBQUEsR0FDQWUsRUFBQWYsRUFBQSxHQUNBZ0IsRUFBQWhCLEVBQUEsR0FDQWlCLEVBQUFqQixFQUFBLEdBQ0FPLEVBQUFJLEVBQUEsR0FDQUgsRUFBQUcsRUFBQSxHQUNBTyxFQUFxQnBCLEVBQUEsRUFBWXFCLFFBY2pDLE9BYkFaLEVBQUFPLEVBQ0FJLEdBQWtDcEIsRUFBQSxFQUFZc0IsS0FDM0NiLEVBQUFTLElBQ0hFLEdBQWtDcEIsRUFBQSxFQUFZdUIsT0FFOUNiLEVBQUFPLEVBQ0FHLEdBQWtDcEIsRUFBQSxFQUFZd0IsTUFDM0NkLEVBQUFTLElBQ0hDLEdBQWtDcEIsRUFBQSxFQUFZeUIsT0FFOUNMLElBQXVCcEIsRUFBQSxFQUFZcUIsVUFDbkNELEVBQW1CcEIsRUFBQSxFQUFZMEIsY0FFL0JOLEVBU08sU0FBQWxELElBQ1AsT0FBQXlELG1CQWFPLFNBQUF4RCxFQUFBNkMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQVosR0FDUCxPQUFBQSxHQUNBQSxFQUFBLEdBQUFTLEVBQ0FULEVBQUEsR0FBQVUsRUFDQVYsRUFBQSxHQUFBVyxFQUNBWCxFQUFBLEdBQUFZLEVBQ0FaLEdBRUEsQ0FBQVMsRUFBQUMsRUFBQUMsRUFBQUMsR0FVTyxTQUFBL0MsRUFBQW1DLEdBQ1AsT0FBQXBDLEVBQ0F3RCxrQkFBQXBCLEdBU08sU0FBQWxDLEVBQUF3QyxFQUFBTixHQUNQLElBQUFFLEVBQUFJLEVBQUEsR0FDQUgsRUFBQUcsRUFBQSxHQUNBLE9BQUExQyxFQUFBc0MsRUFBQUMsRUFBQUQsRUFBQUMsRUFBQUgsR0FTTyxTQUFBakMsRUFBQTJCLEVBQUFNLEdBRVAsT0FBQXFCLEVBREF4RCxFQUFBbUMsR0FDQU4sR0FZTyxTQUFBMUIsRUFBQXNELEVBQUFDLEVBQUFDLEVBQUFDLEVBQUF6QixHQUVQLE9BQUE1QixFQURBUCxFQUFBbUMsR0FDQXNCLEVBQUFDLEVBQUFDLEVBQUFDLEdBcUJPLFNBQUF4RCxFQUFBc0MsRUFBQUMsR0FDUCxPQUFBRCxFQUFBLElBQUFDLEVBQUEsSUFBQUQsRUFBQSxJQUFBQyxFQUFBLElBQ0FELEVBQUEsSUFBQUMsRUFBQSxJQUFBRCxFQUFBLElBQUFDLEVBQUEsR0FXTyxTQUFBdEMsRUFBQXFDLEVBQUFDLEdBYVAsT0FaQUEsRUFBQSxHQUFBRCxFQUFBLEtBQ0FBLEVBQUEsR0FBQUMsRUFBQSxJQUVBQSxFQUFBLEdBQUFELEVBQUEsS0FDQUEsRUFBQSxHQUFBQyxFQUFBLElBRUFBLEVBQUEsR0FBQUQsRUFBQSxLQUNBQSxFQUFBLEdBQUFDLEVBQUEsSUFFQUEsRUFBQSxHQUFBRCxFQUFBLEtBQ0FBLEVBQUEsR0FBQUMsRUFBQSxJQUVBRCxFQVFPLFNBQUFwQyxFQUFBd0IsRUFBQVcsR0FDUEEsRUFBQSxHQUFBWCxFQUFBLEtBQ0FBLEVBQUEsR0FBQVcsRUFBQSxJQUVBQSxFQUFBLEdBQUFYLEVBQUEsS0FDQUEsRUFBQSxHQUFBVyxFQUFBLElBRUFBLEVBQUEsR0FBQVgsRUFBQSxLQUNBQSxFQUFBLEdBQUFXLEVBQUEsSUFFQUEsRUFBQSxHQUFBWCxFQUFBLEtBQ0FBLEVBQUEsR0FBQVcsRUFBQSxJQVVPLFNBQUFlLEVBQUExQixFQUFBRCxHQUNQLFFBQUFFLEVBQUEsRUFBQUMsRUFBQUgsRUFBQUksT0FBMENGLEVBQUFDLElBQVFELEVBQ2xEekIsRUFBQXdCLEVBQUFELEVBQUFFLElBRUEsT0FBQUQsRUFZTyxTQUFBdkIsRUFBQXVCLEVBQUEyQixFQUFBQyxFQUFBQyxFQUFBQyxHQUNQLEtBQVFGLEVBQUFDLEVBQWNELEdBQUFFLEVBQ3RCQyxFQUFBL0IsRUFBQTJCLEVBQUFDLEdBQUFELEVBQUFDLEVBQUEsSUFFQSxPQUFBNUIsRUFzQk8sU0FBQStCLEVBQUEvQixFQUFBTyxFQUFBQyxHQUNQUixFQUFBLEdBQUFnQyxLQUFBQyxJQUFBakMsRUFBQSxHQUFBTyxHQUNBUCxFQUFBLEdBQUFnQyxLQUFBQyxJQUFBakMsRUFBQSxHQUFBUSxHQUNBUixFQUFBLEdBQUFnQyxLQUFBRSxJQUFBbEMsRUFBQSxHQUFBTyxHQUNBUCxFQUFBLEdBQUFnQyxLQUFBRSxJQUFBbEMsRUFBQSxHQUFBUSxHQWNPLFNBQUE5QixFQUFBc0IsRUFBQW1DLEVBQUFDLEdBQ1AsSUFBQUMsRUFFQSxPQURBQSxFQUFBRixFQUFBRyxLQUFBRixFQUFBeEQsRUFBQW9CLEtBRUFxQyxHQUVBQSxFQUFBRixFQUFBRyxLQUFBRixFQUFBdkQsRUFBQW1CLEtBRUFxQyxHQUVBQSxFQUFBRixFQUFBRyxLQUFBRixFQUFBaEQsRUFBQVksS0FFQXFDLEdBRUFBLEVBQUFGLEVBQUFHLEtBQUFGLEVBQUFqRCxFQUFBYSxPQUlBLEVBVU8sU0FBQXJCLEVBQUFxQixHQUNQLElBQUF1QyxFQUFBLEVBSUEsT0FIQWhELEVBQUFTLEtBQ0F1QyxFQUFBbEQsRUFBQVcsR0FBQWYsRUFBQWUsSUFFQXVDLEVBVU8sU0FBQTNELEVBQUFvQixHQUNQLE9BQUFBLEVBQUEsR0FBQUEsRUFBQSxJQVVPLFNBQUFuQixFQUFBbUIsR0FDUCxPQUFBQSxFQUFBLEdBQUFBLEVBQUEsSUFVTyxTQUFBbEIsRUFBQWtCLEdBQ1AsUUFBQUEsRUFBQSxHQUFBQSxFQUFBLE9BQUFBLEVBQUEsR0FBQUEsRUFBQSxPQVVPLFNBQUFqQixFQUFBaUIsRUFBQXdDLEdBQ1AsSUFBQTdCLEVBWUEsT0FYQTZCLElBQWlCM0MsRUFBQSxFQUFNNEMsWUFDdkI5QixFQUFBL0IsRUFBQW9CLEdBQ0d3QyxJQUFxQjNDLEVBQUEsRUFBTTZDLGFBQzlCL0IsRUFBQTlCLEVBQUFtQixHQUNHd0MsSUFBcUIzQyxFQUFBLEVBQU04QyxTQUM5QmhDLEVBQUF4QixFQUFBYSxHQUNHd0MsSUFBcUIzQyxFQUFBLEVBQU0rQyxVQUM5QmpDLEVBQUF2QixFQUFBWSxHQUVJNkMsT0FBQWpELEVBQUEsRUFBQWlELEVBQU0sTUFFVmxDLEVBMEJPLFNBQUEzQixFQUFBOEQsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQTVDLEdBQ1AsSUFBQUksRUFBQXNDLEVBQUFFLEVBQUEsS0FDQXZDLEVBQUFxQyxFQUFBRSxFQUFBLEtBQ0FDLEVBQUFsQixLQUFBbUIsSUFBQUgsR0FDQUksRUFBQXBCLEtBQUFxQixJQUFBTCxHQUNBTSxFQUFBN0MsRUFBQXlDLEVBQ0FLLEVBQUE5QyxFQUFBMkMsRUFDQUksRUFBQTlDLEVBQUF3QyxFQUNBTyxFQUFBL0MsRUFBQTBDLEVBQ0E3QyxFQUFBdUMsRUFBQSxHQUNBdEMsRUFBQXNDLEVBQUEsR0FDQVksRUFBQW5ELEVBQUErQyxFQUFBRyxFQUNBRSxFQUFBcEQsRUFBQStDLEVBQUFHLEVBQ0FHLEVBQUFyRCxFQUFBK0MsRUFBQUcsRUFDQUksRUFBQXRELEVBQUErQyxFQUFBRyxFQUNBSyxFQUFBdEQsRUFBQStDLEVBQUFDLEVBQ0FPLEVBQUF2RCxFQUFBK0MsRUFBQUMsRUFDQVEsRUFBQXhELEVBQUErQyxFQUFBQyxFQUNBUyxFQUFBekQsRUFBQStDLEVBQUFDLEVBQ0EsT0FBQXZGLEVBQ0ErRCxLQUFBQyxJQUFBeUIsRUFBQUMsRUFBQUMsRUFBQUMsR0FBQTdCLEtBQUFDLElBQUE2QixFQUFBQyxFQUFBQyxFQUFBQyxHQUNBakMsS0FBQUUsSUFBQXdCLEVBQUFDLEVBQUFDLEVBQUFDLEdBQUE3QixLQUFBRSxJQUFBNEIsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQTVELEdBVU8sU0FBQXBCLEVBQUFlLEdBQ1AsT0FBQUEsRUFBQSxHQUFBQSxFQUFBLEdBdUJPLFNBQUFkLEVBQUEwQixFQUFBQyxFQUFBUixHQUNQLElBQUE2RCxFQUFBN0QsR0ExWEEsQ0FBQW9CLFNBQUEsVUFtWkEsT0F4QkFuQyxFQUFBc0IsRUFBQUMsSUFDQUQsRUFBQSxHQUFBQyxFQUFBLEdBQ0FxRCxFQUFBLEdBQUF0RCxFQUFBLEdBRUFzRCxFQUFBLEdBQUFyRCxFQUFBLEdBRUFELEVBQUEsR0FBQUMsRUFBQSxHQUNBcUQsRUFBQSxHQUFBdEQsRUFBQSxHQUVBc0QsRUFBQSxHQUFBckQsRUFBQSxHQUVBRCxFQUFBLEdBQUFDLEVBQUEsR0FDQXFELEVBQUEsR0FBQXRELEVBQUEsR0FFQXNELEVBQUEsR0FBQXJELEVBQUEsR0FFQUQsRUFBQSxHQUFBQyxFQUFBLEdBQ0FxRCxFQUFBLEdBQUF0RCxFQUFBLEdBRUFzRCxFQUFBLEdBQUFyRCxFQUFBLElBR0EzQyxFQUFBZ0csR0FFQUEsRUE4Qk8sU0FBQS9FLEVBQUFhLEdBQ1AsT0FBQUEsRUFBQSxHQUFBQSxFQUFBLElBVU8sU0FBQVosRUFBQVksR0FDUCxPQUFBQSxFQUFBLEdBQUFBLEVBQUEsSUFVTyxTQUFBWCxFQUFBVyxHQUNQLE9BQUFBLEVBQUEsR0FBQUEsRUFBQSxHQVdPLFNBQUFWLEVBQUFzQixFQUFBQyxHQUNQLE9BQUFELEVBQUEsSUFBQUMsRUFBQSxJQUNBRCxFQUFBLElBQUFDLEVBQUEsSUFDQUQsRUFBQSxJQUFBQyxFQUFBLElBQ0FELEVBQUEsSUFBQUMsRUFBQSxHQVVPLFNBQUF0QixFQUFBUyxHQUNQLE9BQUFBLEVBQUEsR0FBQUEsRUFBQSxJQUFBQSxFQUFBLEdBQUFBLEVBQUEsR0FTTyxTQUFBUixFQUFBUSxFQUFBSyxHQUNQLE9BQUFBLEdBQ0FBLEVBQUEsR0FBQUwsRUFBQSxHQUNBSyxFQUFBLEdBQUFMLEVBQUEsR0FDQUssRUFBQSxHQUFBTCxFQUFBLEdBQ0FLLEVBQUEsR0FBQUwsRUFBQSxHQUNBSyxHQUVBTCxFQVNPLFNBQUFQLEVBQUFPLEVBQUFJLEdBQ1AsSUFBQStELEdBQUFuRSxFQUFBLEdBQUFBLEVBQUEsT0FBQUksRUFBQSxHQUNBZ0UsR0FBQXBFLEVBQUEsR0FBQUEsRUFBQSxPQUFBSSxFQUFBLEdBQ0FKLEVBQUEsSUFBQW1FLEVBQ0FuRSxFQUFBLElBQUFtRSxFQUNBbkUsRUFBQSxJQUFBb0UsRUFDQXBFLEVBQUEsSUFBQW9FLEVBWU8sU0FBQTFFLEVBQUFNLEVBQUFxRSxFQUFBeEMsR0FDUCxJQUFBdkMsR0FBQSxFQUNBZ0YsRUFBQXZHLEVBQUFpQyxFQUFBcUUsR0FDQUUsRUFBQXhHLEVBQUFpQyxFQUFBNkIsR0FDQSxHQUFBeUMsSUFBbUJ4RSxFQUFBLEVBQVkwQixjQUMvQitDLElBQWlCekUsRUFBQSxFQUFZMEIsYUFDN0JsQyxHQUFBLE1BQ0csQ0FDSCxJQVNBaUIsRUFBQUMsRUFUQU0sRUFBQWQsRUFBQSxHQUNBZSxFQUFBZixFQUFBLEdBQ0FnQixFQUFBaEIsRUFBQSxHQUNBaUIsRUFBQWpCLEVBQUEsR0FDQXdFLEVBQUFILEVBQUEsR0FDQUksRUFBQUosRUFBQSxHQUNBSyxFQUFBN0MsRUFBQSxHQUNBOEMsRUFBQTlDLEVBQUEsR0FDQStDLEdBQUFELEVBQUFGLElBQUFDLEVBQUFGLEdBRUFELEVBQW9CekUsRUFBQSxFQUFZeUIsU0FDaEMrQyxFQUFxQnhFLEVBQUEsRUFBWXlCLFNBR2pDakMsR0FEQWlCLEVBQUFtRSxHQUFBQyxFQUFBMUQsR0FBQTJELElBQ0E5RCxHQUFBUCxHQUFBUyxHQUVBMUIsS0FBQWlGLEVBQW1DekUsRUFBQSxFQUFZdUIsUUFDL0NpRCxFQUFxQnhFLEVBQUEsRUFBWXVCLFFBR2pDL0IsR0FEQWtCLEVBQUFtRSxHQUFBRCxFQUFBMUQsR0FBQTRELElBQ0E3RCxHQUFBUCxHQUFBUyxHQUVBM0IsS0FBQWlGLEVBQW1DekUsRUFBQSxFQUFZd0IsUUFDL0NnRCxFQUFxQnhFLEVBQUEsRUFBWXdCLFFBR2pDaEMsR0FEQWlCLEVBQUFtRSxHQUFBQyxFQUFBNUQsR0FBQTZELElBQ0E5RCxHQUFBUCxHQUFBUyxHQUVBMUIsS0FBQWlGLEVBQW1DekUsRUFBQSxFQUFZc0IsT0FDL0NrRCxFQUFxQnhFLEVBQUEsRUFBWXNCLE9BR2pDOUIsR0FEQWtCLEVBQUFtRSxHQUFBRCxFQUFBNUQsR0FBQThELElBQ0E3RCxHQUFBUCxHQUFBUyxHQUlBLE9BQUEzQixFQWFPLFNBQUFLLEVBQUFLLEVBQUE2RSxFQUFBeEUsR0FDUCxJQUFBTixFQUFBLENBQ0FDLEVBQUEsR0FBQUEsRUFBQSxHQUNBQSxFQUFBLEdBQUFBLEVBQUEsR0FDQUEsRUFBQSxHQUFBQSxFQUFBLEdBQ0FBLEVBQUEsR0FBQUEsRUFBQSxJQUtBLE9BSEE2RSxFQUFBOUUsSUFBQSxHQWx2QkEsU0FBQStFLEVBQUFDLEVBQUExRSxHQUtBLE9BQUFwQyxFQUpBK0QsS0FBQUMsSUFBQStDLE1BQUEsS0FBQUYsR0FDQTlDLEtBQUFDLElBQUErQyxNQUFBLEtBQUFELEdBQ0EvQyxLQUFBRSxJQUFBOEMsTUFBQSxLQUFBRixHQUNBOUMsS0FBQUUsSUFBQThDLE1BQUEsS0FBQUQsR0FDQTFFLEdBZ3ZCQTRFLENBRkEsQ0FBQWxGLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsSUFDQSxDQUFBQSxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLElBQ0FNLHNDQ2x4QmU5QyxFQUFBLEdBQ2Y0RCxRQUFBLEVBQ0FLLGFBQUEsRUFDQUQsTUFBQSxFQUNBRixNQUFBLEVBQ0FDLE1BQUEsRUFDQUYsS0FBQSxzQ0NOZTdELEVBQUEsR0FDZmtGLFlBQUEsY0FDQUMsYUFBQSxlQUNBQyxTQUFBLFdBQ0FDLFVBQUEsOENDWkF2RixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBMkgsSUFBQSxJQUFBQyxFQUFBOUgsRUFBQSxHQUFBK0gsRUFBQS9ILEVBQUEsSUFBQWdJLEVBQUFoSSxFQUFBLElBQUFpSSxFQUFBakksRUFBQSxJQUFBa0ksRUFBQWxJLEVBQUEsR0FjT21JLEVBQUEsU0FBQUMsR0FDUCxTQUFBRCxFQUFBRSxFQUFBQyxFQUFBQyxHQUNBSCxFQUFBbkQsS0FBQXVELEtBQUFILEdBT0FHLEtBQUFGLE1BUUFFLEtBQUFELFdBUUEsT0FKQUgsSUFBQUQsRUFBQU0sVUFBQUwsR0FDQUQsRUFBQU8sVUFBQWxELE9BQUFtRCxPQUFBUCxLQUFBTSxXQUNBUCxFQUFBTyxVQUFBRSxZQUFBVCxFQUVBQSxFQXpCTyxDQTBCTEYsRUFBQSxHQThDRlksRUFBQSxTQUFBQyxHQUNBLFNBQUFELEVBQUFFLEdBQ0FELEVBQUE3RCxLQUFBdUQsTUFNSWhELE9BQUFzQyxFQUFBLEVBQUF0QyxDQUFNZ0QsTUFNVkEsS0FBQVEsUUFBQSxRQUVBQyxJQUFBRixHQUNBUCxLQUFBVSxjQUFBSCxHQW9HQSxPQWhHQUQsSUFBQUQsRUFBQUosVUFBQUssR0FDQUQsRUFBQUgsVUFBQWxELE9BQUFtRCxPQUFBRyxLQUFBSixXQUNBRyxFQUFBSCxVQUFBRSxZQUFBQyxFQVFBQSxFQUFBSCxVQUFBUyxJQUFBLFNBQUFiLEdBQ0EsSUFBQXZGLEVBSUEsT0FIQXlGLEtBQUFRLFFBQUFJLGVBQUFkLEtBQ0F2RixFQUFBeUYsS0FBQVEsUUFBQVYsSUFFQXZGLEdBUUE4RixFQUFBSCxVQUFBVyxRQUFBLFdBQ0EsT0FBQTdELE9BQUE4RCxLQUFBZCxLQUFBUSxVQVFBSCxFQUFBSCxVQUFBYSxjQUFBLFdBQ0EsT0FBVy9ELE9BQUEwQyxFQUFBLEVBQUExQyxDQUFNLEdBQUdnRCxLQUFBUSxVQU9wQkgsRUFBQUgsVUFBQWMsT0FBQSxTQUFBbEIsRUFBQUMsR0FDQSxJQUFBa0IsRUFDQUEsRUFBQTVCLEVBQUFTLEdBQ0FFLEtBQUFrQixjQUFBLElBQUF2QixFQUFBc0IsRUFBQW5CLEVBQUFDLElBQ0FrQixFQUFnQjFCLEVBQUEsRUFBZTRCLGVBQy9CbkIsS0FBQWtCLGNBQUEsSUFBQXZCLEVBQUFzQixFQUFBbkIsRUFBQUMsS0FVQU0sRUFBQUgsVUFBQWtCLElBQUEsU0FBQXRCLEVBQUF2RixFQUFBOEcsR0FDQSxHQUFBQSxFQUNBckIsS0FBQVEsUUFBQVYsR0FBQXZGLE1BQ0ssQ0FDTCxJQUFBd0YsRUFBQUMsS0FBQVEsUUFBQVYsR0FDQUUsS0FBQVEsUUFBQVYsR0FBQXZGLEVBQ0F3RixJQUFBeEYsR0FDQXlGLEtBQUFnQixPQUFBbEIsRUFBQUMsS0FZQU0sRUFBQUgsVUFBQVEsY0FBQSxTQUFBWSxFQUFBRCxHQUNBLFFBQUF2QixLQUFBd0IsRUFDQXRCLEtBQUFvQixJQUFBdEIsRUFBQXdCLEVBQUF4QixHQUFBdUIsSUFVQWhCLEVBQUFILFVBQUFxQixNQUFBLFNBQUF6QixFQUFBdUIsR0FDQSxHQUFBdkIsS0FBQUUsS0FBQVEsUUFBQSxDQUNBLElBQUFULEVBQUFDLEtBQUFRLFFBQUFWLFVBQ0FFLEtBQUFRLFFBQUFWLEdBQ0F1QixHQUNBckIsS0FBQWdCLE9BQUFsQixFQUFBQyxLQUtBTSxFQXJIQSxDQXNIRWIsRUFBQSxHQU1GZ0MsRUFBQSxHQU9PLFNBQUFuQyxFQUFBUyxHQUNQLE9BQUEwQixFQUFBWixlQUFBZCxHQUNBMEIsRUFBQTFCLEdBQ0EwQixFQUFBMUIsR0FBQSxVQUFBQSxFQUllcEksRUFBQSxxQ0N6TkFBLEVBQUEsR0FNZnlKLGVBQUEsbURDYkEsSUFBQU0sRUFBQWpLLEVBQUEsR0FBQWtLLEVBQUFsSyxFQUFBLElBQUFtSyxFQUFBbkssRUFBQSxHQWtCQThJLEVBQUEsU0FBQXNCLEdBQ0EsU0FBQXRCLElBRUFzQixFQUFBbkYsS0FBQXVELE1BTUFBLEtBQUE2QixVQUFBLEVBd0ZBLE9BcEZBRCxJQUFBdEIsRUFBQUwsVUFBQTJCLEdBQ0F0QixFQUFBSixVQUFBbEQsT0FBQW1ELE9BQUF5QixLQUFBMUIsV0FDQUksRUFBQUosVUFBQUUsWUFBQUUsRUFNQUEsRUFBQUosVUFBQTRCLFFBQUEsYUFDQTlCLEtBQUE2QixVQUNBN0IsS0FBQWtCLGNBQXVCUyxFQUFBLEVBQVNJLFNBU2hDekIsRUFBQUosVUFBQThCLFlBQUEsV0FDQSxPQUFBaEMsS0FBQTZCLFdBWUF2QixFQUFBSixVQUFBK0IsR0FBQSxTQUFBcEMsRUFBQXFDLEdBQ0EsR0FBQUMsTUFBQUMsUUFBQXZDLEdBQUEsQ0FHQSxJQUZBLElBQUF3QyxFQUFBeEMsRUFBQXZGLE9BQ0F3RyxFQUFBLElBQUFxQixNQUFBRSxHQUNBakksRUFBQSxFQUFxQkEsRUFBQWlJLElBQVNqSSxFQUM5QjBHLEVBQUExRyxHQUFrQjRDLE9BQUF5RSxFQUFBLEVBQUF6RSxDQUFNZ0QsS0FBQUgsRUFBQXpGLEdBQUE4SCxHQUV4QixPQUFBcEIsRUFFQSxPQUFhOUQsT0FBQXlFLEVBQUEsRUFBQXpFLENBQU1nRCxLQUF5QixFQUFBa0MsSUFhNUM1QixFQUFBSixVQUFBb0MsS0FBQSxTQUFBekMsRUFBQXFDLEdBQ0EsR0FBQUMsTUFBQUMsUUFBQXZDLEdBQUEsQ0FHQSxJQUZBLElBQUF3QyxFQUFBeEMsRUFBQXZGLE9BQ0F3RyxFQUFBLElBQUFxQixNQUFBRSxHQUNBakksRUFBQSxFQUFxQkEsRUFBQWlJLElBQVNqSSxFQUM5QjBHLEVBQUExRyxHQUFrQjRDLE9BQUF5RSxFQUFBLEVBQUF6RSxDQUFVZ0QsS0FBQUgsRUFBQXpGLEdBQUE4SCxHQUU1QixPQUFBcEIsRUFFQSxPQUFhOUQsT0FBQXlFLEVBQUEsRUFBQXpFLENBQVVnRCxLQUF5QixFQUFBa0MsSUFVaEQ1QixFQUFBSixVQUFBcUMsR0FBQSxTQUFBMUMsRUFBQXFDLEdBQ0EsR0FBQUMsTUFBQUMsUUFBQXZDLEdBQ0EsUUFBQXpGLEVBQUEsRUFBQUMsRUFBQXdGLEVBQUF2RixPQUF1Q0YsRUFBQUMsSUFBUUQsRUFDdkM0QyxPQUFBeUUsRUFBQSxFQUFBekUsQ0FBUWdELEtBQUFILEVBQUF6RixHQUFBOEgsUUFJVmxGLE9BQUF5RSxFQUFBLEVBQUF6RSxDQUFRZ0QsS0FBeUIsRUFBQWtDLElBSXZDNUIsRUFqR0EsQ0FrR0VvQixFQUFBLEdBb0JhaEssRUFBQSIsImZpbGUiOiJ2ZW5kb3Jzfm9sL0dlb2xvY2F0aW9ufm9sL01hcH5vbC9WaWV3fm9sL2dlb20vUG9pbnR+b2wvaW50ZXJhY3Rpb25+b2wvbGF5ZXJ+b2wvc291cmNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbW9kdWxlIG9sL2V4dGVudFxuICovXG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi9hc3NlcnRzLmpzJztcbmltcG9ydCBDb3JuZXIgZnJvbSAnLi9leHRlbnQvQ29ybmVyLmpzJztcbmltcG9ydCBSZWxhdGlvbnNoaXAgZnJvbSAnLi9leHRlbnQvUmVsYXRpb25zaGlwLmpzJztcblxuXG4vKipcbiAqIEFuIGFycmF5IG9mIG51bWJlcnMgcmVwcmVzZW50aW5nIGFuIGV4dGVudDogYFttaW54LCBtaW55LCBtYXh4LCBtYXh5XWAuXG4gKiBAdHlwZWRlZiB7QXJyYXk8bnVtYmVyPn0gRXh0ZW50XG4gKiBAYXBpXG4gKi9cblxuLyoqXG4gKiBCdWlsZCBhbiBleHRlbnQgdGhhdCBpbmNsdWRlcyBhbGwgZ2l2ZW4gY29vcmRpbmF0ZXMuXG4gKlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICogQHJldHVybiB7RXh0ZW50fSBCb3VuZGluZyBleHRlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBib3VuZGluZ0V4dGVudChjb29yZGluYXRlcykge1xuICB2YXIgZXh0ZW50ID0gY3JlYXRlRW1wdHkoKTtcbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGV4dGVuZENvb3JkaW5hdGUoZXh0ZW50LCBjb29yZGluYXRlc1tpXSk7XG4gIH1cbiAgcmV0dXJuIGV4dGVudDtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0geHMgWHMuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHlzIFlzLlxuICogQHBhcmFtIHtFeHRlbnQ9fSBvcHRfZXh0ZW50IERlc3RpbmF0aW9uIGV4dGVudC5cbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZnVuY3Rpb24gX2JvdW5kaW5nRXh0ZW50WFlzKHhzLCB5cywgb3B0X2V4dGVudCkge1xuICB2YXIgbWluWCA9IE1hdGgubWluLmFwcGx5KG51bGwsIHhzKTtcbiAgdmFyIG1pblkgPSBNYXRoLm1pbi5hcHBseShudWxsLCB5cyk7XG4gIHZhciBtYXhYID0gTWF0aC5tYXguYXBwbHkobnVsbCwgeHMpO1xuICB2YXIgbWF4WSA9IE1hdGgubWF4LmFwcGx5KG51bGwsIHlzKTtcbiAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlKG1pblgsIG1pblksIG1heFgsIG1heFksIG9wdF9leHRlbnQpO1xufVxuXG5cbi8qKlxuICogUmV0dXJuIGV4dGVudCBpbmNyZWFzZWQgYnkgdGhlIHByb3ZpZGVkIHZhbHVlLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIGFtb3VudCBieSB3aGljaCB0aGUgZXh0ZW50IHNob3VsZCBiZSBidWZmZXJlZC5cbiAqIEBwYXJhbSB7RXh0ZW50PX0gb3B0X2V4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ1ZmZlcihleHRlbnQsIHZhbHVlLCBvcHRfZXh0ZW50KSB7XG4gIGlmIChvcHRfZXh0ZW50KSB7XG4gICAgb3B0X2V4dGVudFswXSA9IGV4dGVudFswXSAtIHZhbHVlO1xuICAgIG9wdF9leHRlbnRbMV0gPSBleHRlbnRbMV0gLSB2YWx1ZTtcbiAgICBvcHRfZXh0ZW50WzJdID0gZXh0ZW50WzJdICsgdmFsdWU7XG4gICAgb3B0X2V4dGVudFszXSA9IGV4dGVudFszXSArIHZhbHVlO1xuICAgIHJldHVybiBvcHRfZXh0ZW50O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBbXG4gICAgICBleHRlbnRbMF0gLSB2YWx1ZSxcbiAgICAgIGV4dGVudFsxXSAtIHZhbHVlLFxuICAgICAgZXh0ZW50WzJdICsgdmFsdWUsXG4gICAgICBleHRlbnRbM10gKyB2YWx1ZVxuICAgIF07XG4gIH1cbn1cblxuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiBhbiBleHRlbnQuXG4gKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQgdG8gY2xvbmUuXG4gKiBAcGFyYW0ge0V4dGVudD19IG9wdF9leHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBUaGUgY2xvbmUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShleHRlbnQsIG9wdF9leHRlbnQpIHtcbiAgaWYgKG9wdF9leHRlbnQpIHtcbiAgICBvcHRfZXh0ZW50WzBdID0gZXh0ZW50WzBdO1xuICAgIG9wdF9leHRlbnRbMV0gPSBleHRlbnRbMV07XG4gICAgb3B0X2V4dGVudFsyXSA9IGV4dGVudFsyXTtcbiAgICBvcHRfZXh0ZW50WzNdID0gZXh0ZW50WzNdO1xuICAgIHJldHVybiBvcHRfZXh0ZW50O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBleHRlbnQuc2xpY2UoKTtcbiAgfVxufVxuXG5cbi8qKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEByZXR1cm4ge251bWJlcn0gQ2xvc2VzdCBzcXVhcmVkIGRpc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VzdFNxdWFyZWREaXN0YW5jZVhZKGV4dGVudCwgeCwgeSkge1xuICB2YXIgZHgsIGR5O1xuICBpZiAoeCA8IGV4dGVudFswXSkge1xuICAgIGR4ID0gZXh0ZW50WzBdIC0geDtcbiAgfSBlbHNlIGlmIChleHRlbnRbMl0gPCB4KSB7XG4gICAgZHggPSB4IC0gZXh0ZW50WzJdO1xuICB9IGVsc2Uge1xuICAgIGR4ID0gMDtcbiAgfVxuICBpZiAoeSA8IGV4dGVudFsxXSkge1xuICAgIGR5ID0gZXh0ZW50WzFdIC0geTtcbiAgfSBlbHNlIGlmIChleHRlbnRbM10gPCB5KSB7XG4gICAgZHkgPSB5IC0gZXh0ZW50WzNdO1xuICB9IGVsc2Uge1xuICAgIGR5ID0gMDtcbiAgfVxuICByZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XG59XG5cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgcGFzc2VkIGNvb3JkaW5hdGUgaXMgY29udGFpbmVkIG9yIG9uIHRoZSBlZGdlIG9mIHRoZSBleHRlbnQuXG4gKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgY29vcmRpbmF0ZSBpcyBjb250YWluZWQgaW4gdGhlIGV4dGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zQ29vcmRpbmF0ZShleHRlbnQsIGNvb3JkaW5hdGUpIHtcbiAgcmV0dXJuIGNvbnRhaW5zWFkoZXh0ZW50LCBjb29yZGluYXRlWzBdLCBjb29yZGluYXRlWzFdKTtcbn1cblxuXG4vKipcbiAqIENoZWNrIGlmIG9uZSBleHRlbnQgY29udGFpbnMgYW5vdGhlci5cbiAqXG4gKiBBbiBleHRlbnQgaXMgZGVlbWVkIGNvbnRhaW5lZCBpZiBpdCBsaWVzIGNvbXBsZXRlbHkgd2l0aGluIHRoZSBvdGhlciBleHRlbnQsXG4gKiBpbmNsdWRpbmcgaWYgdGhleSBzaGFyZSBvbmUgb3IgbW9yZSBlZGdlcy5cbiAqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MSBFeHRlbnQgMS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQyIEV4dGVudCAyLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHNlY29uZCBleHRlbnQgaXMgY29udGFpbmVkIGJ5IG9yIG9uIHRoZSBlZGdlIG9mIHRoZVxuICogICAgIGZpcnN0LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnNFeHRlbnQoZXh0ZW50MSwgZXh0ZW50Mikge1xuICByZXR1cm4gZXh0ZW50MVswXSA8PSBleHRlbnQyWzBdICYmIGV4dGVudDJbMl0gPD0gZXh0ZW50MVsyXSAmJlxuICAgICAgZXh0ZW50MVsxXSA8PSBleHRlbnQyWzFdICYmIGV4dGVudDJbM10gPD0gZXh0ZW50MVszXTtcbn1cblxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBwYXNzZWQgY29vcmRpbmF0ZSBpcyBjb250YWluZWQgb3Igb24gdGhlIGVkZ2Ugb2YgdGhlIGV4dGVudC5cbiAqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFggY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkgY29vcmRpbmF0ZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB4LCB5IHZhbHVlcyBhcmUgY29udGFpbmVkIGluIHRoZSBleHRlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc1hZKGV4dGVudCwgeCwgeSkge1xuICByZXR1cm4gZXh0ZW50WzBdIDw9IHggJiYgeCA8PSBleHRlbnRbMl0gJiYgZXh0ZW50WzFdIDw9IHkgJiYgeSA8PSBleHRlbnRbM107XG59XG5cblxuLyoqXG4gKiBHZXQgdGhlIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIGEgY29vcmRpbmF0ZSBhbmQgZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBUaGUgZXh0ZW50LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBUaGUgY29vcmRpbmF0ZS5cbiAqIEByZXR1cm4ge1JlbGF0aW9uc2hpcH0gVGhlIHJlbGF0aW9uc2hpcCAoYml0d2lzZSBjb21wYXJlIHdpdGhcbiAqICAgICBpbXBvcnQoXCIuL2V4dGVudC9SZWxhdGlvbnNoaXAuanNcIikuUmVsYXRpb25zaGlwKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvb3JkaW5hdGVSZWxhdGlvbnNoaXAoZXh0ZW50LCBjb29yZGluYXRlKSB7XG4gIHZhciBtaW5YID0gZXh0ZW50WzBdO1xuICB2YXIgbWluWSA9IGV4dGVudFsxXTtcbiAgdmFyIG1heFggPSBleHRlbnRbMl07XG4gIHZhciBtYXhZID0gZXh0ZW50WzNdO1xuICB2YXIgeCA9IGNvb3JkaW5hdGVbMF07XG4gIHZhciB5ID0gY29vcmRpbmF0ZVsxXTtcbiAgdmFyIHJlbGF0aW9uc2hpcCA9IFJlbGF0aW9uc2hpcC5VTktOT1dOO1xuICBpZiAoeCA8IG1pblgpIHtcbiAgICByZWxhdGlvbnNoaXAgPSByZWxhdGlvbnNoaXAgfCBSZWxhdGlvbnNoaXAuTEVGVDtcbiAgfSBlbHNlIGlmICh4ID4gbWF4WCkge1xuICAgIHJlbGF0aW9uc2hpcCA9IHJlbGF0aW9uc2hpcCB8IFJlbGF0aW9uc2hpcC5SSUdIVDtcbiAgfVxuICBpZiAoeSA8IG1pblkpIHtcbiAgICByZWxhdGlvbnNoaXAgPSByZWxhdGlvbnNoaXAgfCBSZWxhdGlvbnNoaXAuQkVMT1c7XG4gIH0gZWxzZSBpZiAoeSA+IG1heFkpIHtcbiAgICByZWxhdGlvbnNoaXAgPSByZWxhdGlvbnNoaXAgfCBSZWxhdGlvbnNoaXAuQUJPVkU7XG4gIH1cbiAgaWYgKHJlbGF0aW9uc2hpcCA9PT0gUmVsYXRpb25zaGlwLlVOS05PV04pIHtcbiAgICByZWxhdGlvbnNoaXAgPSBSZWxhdGlvbnNoaXAuSU5URVJTRUNUSU5HO1xuICB9XG4gIHJldHVybiByZWxhdGlvbnNoaXA7XG59XG5cblxuLyoqXG4gKiBDcmVhdGUgYW4gZW1wdHkgZXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFbXB0eSBleHRlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbXB0eSgpIHtcbiAgcmV0dXJuIFtJbmZpbml0eSwgSW5maW5pdHksIC1JbmZpbml0eSwgLUluZmluaXR5XTtcbn1cblxuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBleHRlbnQgb3IgdXBkYXRlIHRoZSBwcm92aWRlZCBleHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gbWluWCBNaW5pbXVtIFguXG4gKiBAcGFyYW0ge251bWJlcn0gbWluWSBNaW5pbXVtIFkuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4WCBNYXhpbXVtIFguXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4WSBNYXhpbXVtIFkuXG4gKiBAcGFyYW0ge0V4dGVudD19IG9wdF9leHRlbnQgRGVzdGluYXRpb24gZXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZShtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCBvcHRfZXh0ZW50KSB7XG4gIGlmIChvcHRfZXh0ZW50KSB7XG4gICAgb3B0X2V4dGVudFswXSA9IG1pblg7XG4gICAgb3B0X2V4dGVudFsxXSA9IG1pblk7XG4gICAgb3B0X2V4dGVudFsyXSA9IG1heFg7XG4gICAgb3B0X2V4dGVudFszXSA9IG1heFk7XG4gICAgcmV0dXJuIG9wdF9leHRlbnQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFttaW5YLCBtaW5ZLCBtYXhYLCBtYXhZXTtcbiAgfVxufVxuXG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGVtcHR5IGV4dGVudCBvciBtYWtlIHRoZSBwcm92aWRlZCBvbmUgZW1wdHkuXG4gKiBAcGFyYW0ge0V4dGVudD19IG9wdF9leHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZUVtcHR5KG9wdF9leHRlbnQpIHtcbiAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlKFxuICAgIEluZmluaXR5LCBJbmZpbml0eSwgLUluZmluaXR5LCAtSW5maW5pdHksIG9wdF9leHRlbnQpO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtFeHRlbnQ9fSBvcHRfZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGVGcm9tQ29vcmRpbmF0ZShjb29yZGluYXRlLCBvcHRfZXh0ZW50KSB7XG4gIHZhciB4ID0gY29vcmRpbmF0ZVswXTtcbiAgdmFyIHkgPSBjb29yZGluYXRlWzFdO1xuICByZXR1cm4gY3JlYXRlT3JVcGRhdGUoeCwgeSwgeCwgeSwgb3B0X2V4dGVudCk7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge0V4dGVudD19IG9wdF9leHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZUZyb21Db29yZGluYXRlcyhjb29yZGluYXRlcywgb3B0X2V4dGVudCkge1xuICB2YXIgZXh0ZW50ID0gY3JlYXRlT3JVcGRhdGVFbXB0eShvcHRfZXh0ZW50KTtcbiAgcmV0dXJuIGV4dGVuZENvb3JkaW5hdGVzKGV4dGVudCwgY29vcmRpbmF0ZXMpO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7RXh0ZW50PX0gb3B0X2V4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlRnJvbUZsYXRDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIG9wdF9leHRlbnQpIHtcbiAgdmFyIGV4dGVudCA9IGNyZWF0ZU9yVXBkYXRlRW1wdHkob3B0X2V4dGVudCk7XG4gIHJldHVybiBleHRlbmRGbGF0Q29vcmRpbmF0ZXMoZXh0ZW50LCBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pn0gcmluZ3MgUmluZ3MuXG4gKiBAcGFyYW0ge0V4dGVudD19IG9wdF9leHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZUZyb21SaW5ncyhyaW5ncywgb3B0X2V4dGVudCkge1xuICB2YXIgZXh0ZW50ID0gY3JlYXRlT3JVcGRhdGVFbXB0eShvcHRfZXh0ZW50KTtcbiAgcmV0dXJuIGV4dGVuZFJpbmdzKGV4dGVudCwgcmluZ3MpO1xufVxuXG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHR3byBleHRlbnRzIGFyZSBlcXVpdmFsZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDEgRXh0ZW50IDEuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MiBFeHRlbnQgMi5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB0d28gZXh0ZW50cyBhcmUgZXF1aXZhbGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhleHRlbnQxLCBleHRlbnQyKSB7XG4gIHJldHVybiBleHRlbnQxWzBdID09IGV4dGVudDJbMF0gJiYgZXh0ZW50MVsyXSA9PSBleHRlbnQyWzJdICYmXG4gICAgICBleHRlbnQxWzFdID09IGV4dGVudDJbMV0gJiYgZXh0ZW50MVszXSA9PSBleHRlbnQyWzNdO1xufVxuXG5cbi8qKlxuICogTW9kaWZ5IGFuIGV4dGVudCB0byBpbmNsdWRlIGFub3RoZXIgZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDEgVGhlIGV4dGVudCB0byBiZSBtb2RpZmllZC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQyIFRoZSBleHRlbnQgdGhhdCB3aWxsIGJlIGluY2x1ZGVkIGluIHRoZSBmaXJzdC5cbiAqIEByZXR1cm4ge0V4dGVudH0gQSByZWZlcmVuY2UgdG8gdGhlIGZpcnN0IChleHRlbmRlZCkgZXh0ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKGV4dGVudDEsIGV4dGVudDIpIHtcbiAgaWYgKGV4dGVudDJbMF0gPCBleHRlbnQxWzBdKSB7XG4gICAgZXh0ZW50MVswXSA9IGV4dGVudDJbMF07XG4gIH1cbiAgaWYgKGV4dGVudDJbMl0gPiBleHRlbnQxWzJdKSB7XG4gICAgZXh0ZW50MVsyXSA9IGV4dGVudDJbMl07XG4gIH1cbiAgaWYgKGV4dGVudDJbMV0gPCBleHRlbnQxWzFdKSB7XG4gICAgZXh0ZW50MVsxXSA9IGV4dGVudDJbMV07XG4gIH1cbiAgaWYgKGV4dGVudDJbM10gPiBleHRlbnQxWzNdKSB7XG4gICAgZXh0ZW50MVszXSA9IGV4dGVudDJbM107XG4gIH1cbiAgcmV0dXJuIGV4dGVudDE7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZENvb3JkaW5hdGUoZXh0ZW50LCBjb29yZGluYXRlKSB7XG4gIGlmIChjb29yZGluYXRlWzBdIDwgZXh0ZW50WzBdKSB7XG4gICAgZXh0ZW50WzBdID0gY29vcmRpbmF0ZVswXTtcbiAgfVxuICBpZiAoY29vcmRpbmF0ZVswXSA+IGV4dGVudFsyXSkge1xuICAgIGV4dGVudFsyXSA9IGNvb3JkaW5hdGVbMF07XG4gIH1cbiAgaWYgKGNvb3JkaW5hdGVbMV0gPCBleHRlbnRbMV0pIHtcbiAgICBleHRlbnRbMV0gPSBjb29yZGluYXRlWzFdO1xuICB9XG4gIGlmIChjb29yZGluYXRlWzFdID4gZXh0ZW50WzNdKSB7XG4gICAgZXh0ZW50WzNdID0gY29vcmRpbmF0ZVsxXTtcbiAgfVxufVxuXG5cbi8qKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZENvb3JkaW5hdGVzKGV4dGVudCwgY29vcmRpbmF0ZXMpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGV4dGVuZENvb3JkaW5hdGUoZXh0ZW50LCBjb29yZGluYXRlc1tpXSk7XG4gIH1cbiAgcmV0dXJuIGV4dGVudDtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kRmxhdENvb3JkaW5hdGVzKGV4dGVudCwgZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gIGZvciAoOyBvZmZzZXQgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICBleHRlbmRYWShleHRlbnQsIGZsYXRDb29yZGluYXRlc1tvZmZzZXRdLCBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV0pO1xuICB9XG4gIHJldHVybiBleHRlbnQ7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pn0gcmluZ3MgUmluZ3MuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZFJpbmdzKGV4dGVudCwgcmluZ3MpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gcmluZ3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGV4dGVuZENvb3JkaW5hdGVzKGV4dGVudCwgcmluZ3NbaV0pO1xuICB9XG4gIHJldHVybiBleHRlbnQ7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kWFkoZXh0ZW50LCB4LCB5KSB7XG4gIGV4dGVudFswXSA9IE1hdGgubWluKGV4dGVudFswXSwgeCk7XG4gIGV4dGVudFsxXSA9IE1hdGgubWluKGV4dGVudFsxXSwgeSk7XG4gIGV4dGVudFsyXSA9IE1hdGgubWF4KGV4dGVudFsyXSwgeCk7XG4gIGV4dGVudFszXSA9IE1hdGgubWF4KGV4dGVudFszXSwgeSk7XG59XG5cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNhbGxzIGBjYWxsYmFja2AgZm9yIGVhY2ggY29ybmVyIG9mIHRoZSBleHRlbnQuIElmIHRoZVxuICogY2FsbGJhY2sgcmV0dXJucyBhIHRydXRoeSB2YWx1ZSB0aGUgZnVuY3Rpb24gcmV0dXJucyB0aGF0IHZhbHVlXG4gKiBpbW1lZGlhdGVseS4gT3RoZXJ3aXNlIHRoZSBmdW5jdGlvbiByZXR1cm5zIGBmYWxzZWAuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczpULCBpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6IFN9IGNhbGxiYWNrIENhbGxiYWNrLlxuICogQHBhcmFtIHtUPX0gb3B0X3RoaXMgVmFsdWUgdG8gdXNlIGFzIGB0aGlzYCB3aGVuIGV4ZWN1dGluZyBgY2FsbGJhY2tgLlxuICogQHJldHVybiB7U3xib29sZWFufSBWYWx1ZS5cbiAqIEB0ZW1wbGF0ZSBTLCBUXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JFYWNoQ29ybmVyKGV4dGVudCwgY2FsbGJhY2ssIG9wdF90aGlzKSB7XG4gIHZhciB2YWw7XG4gIHZhbCA9IGNhbGxiYWNrLmNhbGwob3B0X3RoaXMsIGdldEJvdHRvbUxlZnQoZXh0ZW50KSk7XG4gIGlmICh2YWwpIHtcbiAgICByZXR1cm4gdmFsO1xuICB9XG4gIHZhbCA9IGNhbGxiYWNrLmNhbGwob3B0X3RoaXMsIGdldEJvdHRvbVJpZ2h0KGV4dGVudCkpO1xuICBpZiAodmFsKSB7XG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuICB2YWwgPSBjYWxsYmFjay5jYWxsKG9wdF90aGlzLCBnZXRUb3BSaWdodChleHRlbnQpKTtcbiAgaWYgKHZhbCkge1xuICAgIHJldHVybiB2YWw7XG4gIH1cbiAgdmFsID0gY2FsbGJhY2suY2FsbChvcHRfdGhpcywgZ2V0VG9wTGVmdChleHRlbnQpKTtcbiAgaWYgKHZhbCkge1xuICAgIHJldHVybiB2YWw7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5cbi8qKlxuICogR2V0IHRoZSBzaXplIG9mIGFuIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7bnVtYmVyfSBBcmVhLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXJlYShleHRlbnQpIHtcbiAgdmFyIGFyZWEgPSAwO1xuICBpZiAoIWlzRW1wdHkoZXh0ZW50KSkge1xuICAgIGFyZWEgPSBnZXRXaWR0aChleHRlbnQpICogZ2V0SGVpZ2h0KGV4dGVudCk7XG4gIH1cbiAgcmV0dXJuIGFyZWE7XG59XG5cblxuLyoqXG4gKiBHZXQgdGhlIGJvdHRvbSBsZWZ0IGNvb3JkaW5hdGUgb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gQm90dG9tIGxlZnQgY29vcmRpbmF0ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEJvdHRvbUxlZnQoZXh0ZW50KSB7XG4gIHJldHVybiBbZXh0ZW50WzBdLCBleHRlbnRbMV1dO1xufVxuXG5cbi8qKlxuICogR2V0IHRoZSBib3R0b20gcmlnaHQgY29vcmRpbmF0ZSBvZiBhbiBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBCb3R0b20gcmlnaHQgY29vcmRpbmF0ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEJvdHRvbVJpZ2h0KGV4dGVudCkge1xuICByZXR1cm4gW2V4dGVudFsyXSwgZXh0ZW50WzFdXTtcbn1cblxuXG4vKipcbiAqIEdldCB0aGUgY2VudGVyIGNvb3JkaW5hdGUgb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gQ2VudGVyLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2VudGVyKGV4dGVudCkge1xuICByZXR1cm4gWyhleHRlbnRbMF0gKyBleHRlbnRbMl0pIC8gMiwgKGV4dGVudFsxXSArIGV4dGVudFszXSkgLyAyXTtcbn1cblxuXG4vKipcbiAqIEdldCBhIGNvcm5lciBjb29yZGluYXRlIG9mIGFuIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtDb3JuZXJ9IGNvcm5lciBDb3JuZXIuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gQ29ybmVyIGNvb3JkaW5hdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb3JuZXIoZXh0ZW50LCBjb3JuZXIpIHtcbiAgdmFyIGNvb3JkaW5hdGU7XG4gIGlmIChjb3JuZXIgPT09IENvcm5lci5CT1RUT01fTEVGVCkge1xuICAgIGNvb3JkaW5hdGUgPSBnZXRCb3R0b21MZWZ0KGV4dGVudCk7XG4gIH0gZWxzZSBpZiAoY29ybmVyID09PSBDb3JuZXIuQk9UVE9NX1JJR0hUKSB7XG4gICAgY29vcmRpbmF0ZSA9IGdldEJvdHRvbVJpZ2h0KGV4dGVudCk7XG4gIH0gZWxzZSBpZiAoY29ybmVyID09PSBDb3JuZXIuVE9QX0xFRlQpIHtcbiAgICBjb29yZGluYXRlID0gZ2V0VG9wTGVmdChleHRlbnQpO1xuICB9IGVsc2UgaWYgKGNvcm5lciA9PT0gQ29ybmVyLlRPUF9SSUdIVCkge1xuICAgIGNvb3JkaW5hdGUgPSBnZXRUb3BSaWdodChleHRlbnQpO1xuICB9IGVsc2Uge1xuICAgIGFzc2VydChmYWxzZSwgMTMpOyAvLyBJbnZhbGlkIGNvcm5lclxuICB9XG4gIHJldHVybiBjb29yZGluYXRlO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDEgRXh0ZW50IDEuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MiBFeHRlbnQgMi5cbiAqIEByZXR1cm4ge251bWJlcn0gRW5sYXJnZWQgYXJlYS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEVubGFyZ2VkQXJlYShleHRlbnQxLCBleHRlbnQyKSB7XG4gIHZhciBtaW5YID0gTWF0aC5taW4oZXh0ZW50MVswXSwgZXh0ZW50MlswXSk7XG4gIHZhciBtaW5ZID0gTWF0aC5taW4oZXh0ZW50MVsxXSwgZXh0ZW50MlsxXSk7XG4gIHZhciBtYXhYID0gTWF0aC5tYXgoZXh0ZW50MVsyXSwgZXh0ZW50MlsyXSk7XG4gIHZhciBtYXhZID0gTWF0aC5tYXgoZXh0ZW50MVszXSwgZXh0ZW50MlszXSk7XG4gIHJldHVybiAobWF4WCAtIG1pblgpICogKG1heFkgLSBtaW5ZKTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNlbnRlciBDZW50ZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBTaXplLlxuICogQHBhcmFtIHtFeHRlbnQ9fSBvcHRfZXh0ZW50IERlc3RpbmF0aW9uIGV4dGVudC5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Rm9yVmlld0FuZFNpemUoY2VudGVyLCByZXNvbHV0aW9uLCByb3RhdGlvbiwgc2l6ZSwgb3B0X2V4dGVudCkge1xuICB2YXIgZHggPSByZXNvbHV0aW9uICogc2l6ZVswXSAvIDI7XG4gIHZhciBkeSA9IHJlc29sdXRpb24gKiBzaXplWzFdIC8gMjtcbiAgdmFyIGNvc1JvdGF0aW9uID0gTWF0aC5jb3Mocm90YXRpb24pO1xuICB2YXIgc2luUm90YXRpb24gPSBNYXRoLnNpbihyb3RhdGlvbik7XG4gIHZhciB4Q29zID0gZHggKiBjb3NSb3RhdGlvbjtcbiAgdmFyIHhTaW4gPSBkeCAqIHNpblJvdGF0aW9uO1xuICB2YXIgeUNvcyA9IGR5ICogY29zUm90YXRpb247XG4gIHZhciB5U2luID0gZHkgKiBzaW5Sb3RhdGlvbjtcbiAgdmFyIHggPSBjZW50ZXJbMF07XG4gIHZhciB5ID0gY2VudGVyWzFdO1xuICB2YXIgeDAgPSB4IC0geENvcyArIHlTaW47XG4gIHZhciB4MSA9IHggLSB4Q29zIC0geVNpbjtcbiAgdmFyIHgyID0geCArIHhDb3MgLSB5U2luO1xuICB2YXIgeDMgPSB4ICsgeENvcyArIHlTaW47XG4gIHZhciB5MCA9IHkgLSB4U2luIC0geUNvcztcbiAgdmFyIHkxID0geSAtIHhTaW4gKyB5Q29zO1xuICB2YXIgeTIgPSB5ICsgeFNpbiArIHlDb3M7XG4gIHZhciB5MyA9IHkgKyB4U2luIC0geUNvcztcbiAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlKFxuICAgIE1hdGgubWluKHgwLCB4MSwgeDIsIHgzKSwgTWF0aC5taW4oeTAsIHkxLCB5MiwgeTMpLFxuICAgIE1hdGgubWF4KHgwLCB4MSwgeDIsIHgzKSwgTWF0aC5tYXgoeTAsIHkxLCB5MiwgeTMpLFxuICAgIG9wdF9leHRlbnQpO1xufVxuXG5cbi8qKlxuICogR2V0IHRoZSBoZWlnaHQgb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEhlaWdodC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEhlaWdodChleHRlbnQpIHtcbiAgcmV0dXJuIGV4dGVudFszXSAtIGV4dGVudFsxXTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQxIEV4dGVudCAxLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDIgRXh0ZW50IDIuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEludGVyc2VjdGlvbiBhcmVhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW50ZXJzZWN0aW9uQXJlYShleHRlbnQxLCBleHRlbnQyKSB7XG4gIHZhciBpbnRlcnNlY3Rpb24gPSBnZXRJbnRlcnNlY3Rpb24oZXh0ZW50MSwgZXh0ZW50Mik7XG4gIHJldHVybiBnZXRBcmVhKGludGVyc2VjdGlvbik7XG59XG5cblxuLyoqXG4gKiBHZXQgdGhlIGludGVyc2VjdGlvbiBvZiB0d28gZXh0ZW50cy5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQxIEV4dGVudCAxLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDIgRXh0ZW50IDIuXG4gKiBAcGFyYW0ge0V4dGVudD19IG9wdF9leHRlbnQgT3B0aW9uYWwgZXh0ZW50IHRvIHBvcHVsYXRlIHdpdGggaW50ZXJzZWN0aW9uLlxuICogQHJldHVybiB7RXh0ZW50fSBJbnRlcnNlY3RpbmcgZXh0ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW50ZXJzZWN0aW9uKGV4dGVudDEsIGV4dGVudDIsIG9wdF9leHRlbnQpIHtcbiAgdmFyIGludGVyc2VjdGlvbiA9IG9wdF9leHRlbnQgPyBvcHRfZXh0ZW50IDogY3JlYXRlRW1wdHkoKTtcbiAgaWYgKGludGVyc2VjdHMoZXh0ZW50MSwgZXh0ZW50MikpIHtcbiAgICBpZiAoZXh0ZW50MVswXSA+IGV4dGVudDJbMF0pIHtcbiAgICAgIGludGVyc2VjdGlvblswXSA9IGV4dGVudDFbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGludGVyc2VjdGlvblswXSA9IGV4dGVudDJbMF07XG4gICAgfVxuICAgIGlmIChleHRlbnQxWzFdID4gZXh0ZW50MlsxXSkge1xuICAgICAgaW50ZXJzZWN0aW9uWzFdID0gZXh0ZW50MVsxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW50ZXJzZWN0aW9uWzFdID0gZXh0ZW50MlsxXTtcbiAgICB9XG4gICAgaWYgKGV4dGVudDFbMl0gPCBleHRlbnQyWzJdKSB7XG4gICAgICBpbnRlcnNlY3Rpb25bMl0gPSBleHRlbnQxWzJdO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnRlcnNlY3Rpb25bMl0gPSBleHRlbnQyWzJdO1xuICAgIH1cbiAgICBpZiAoZXh0ZW50MVszXSA8IGV4dGVudDJbM10pIHtcbiAgICAgIGludGVyc2VjdGlvblszXSA9IGV4dGVudDFbM107XG4gICAgfSBlbHNlIHtcbiAgICAgIGludGVyc2VjdGlvblszXSA9IGV4dGVudDJbM107XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNyZWF0ZU9yVXBkYXRlRW1wdHkoaW50ZXJzZWN0aW9uKTtcbiAgfVxuICByZXR1cm4gaW50ZXJzZWN0aW9uO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE1hcmdpbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE1hcmdpbihleHRlbnQpIHtcbiAgcmV0dXJuIGdldFdpZHRoKGV4dGVudCkgKyBnZXRIZWlnaHQoZXh0ZW50KTtcbn1cblxuXG4vKipcbiAqIEdldCB0aGUgc2l6ZSAod2lkdGgsIGhlaWdodCkgb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBUaGUgZXh0ZW50LlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFRoZSBleHRlbnQgc2l6ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNpemUoZXh0ZW50KSB7XG4gIHJldHVybiBbZXh0ZW50WzJdIC0gZXh0ZW50WzBdLCBleHRlbnRbM10gLSBleHRlbnRbMV1dO1xufVxuXG5cbi8qKlxuICogR2V0IHRoZSB0b3AgbGVmdCBjb29yZGluYXRlIG9mIGFuIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFRvcCBsZWZ0IGNvb3JkaW5hdGUuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUb3BMZWZ0KGV4dGVudCkge1xuICByZXR1cm4gW2V4dGVudFswXSwgZXh0ZW50WzNdXTtcbn1cblxuXG4vKipcbiAqIEdldCB0aGUgdG9wIHJpZ2h0IGNvb3JkaW5hdGUgb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gVG9wIHJpZ2h0IGNvb3JkaW5hdGUuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUb3BSaWdodChleHRlbnQpIHtcbiAgcmV0dXJuIFtleHRlbnRbMl0sIGV4dGVudFszXV07XG59XG5cblxuLyoqXG4gKiBHZXQgdGhlIHdpZHRoIG9mIGFuIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7bnVtYmVyfSBXaWR0aC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFdpZHRoKGV4dGVudCkge1xuICByZXR1cm4gZXh0ZW50WzJdIC0gZXh0ZW50WzBdO1xufVxuXG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIG9uZSBleHRlbnQgaW50ZXJzZWN0cyBhbm90aGVyLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDEgRXh0ZW50IDEuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MiBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgdHdvIGV4dGVudHMgaW50ZXJzZWN0LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0cyhleHRlbnQxLCBleHRlbnQyKSB7XG4gIHJldHVybiBleHRlbnQxWzBdIDw9IGV4dGVudDJbMl0gJiZcbiAgICAgIGV4dGVudDFbMl0gPj0gZXh0ZW50MlswXSAmJlxuICAgICAgZXh0ZW50MVsxXSA8PSBleHRlbnQyWzNdICYmXG4gICAgICBleHRlbnQxWzNdID49IGV4dGVudDJbMV07XG59XG5cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYW4gZXh0ZW50IGlzIGVtcHR5LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBJcyBlbXB0eS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHkoZXh0ZW50KSB7XG4gIHJldHVybiBleHRlbnRbMl0gPCBleHRlbnRbMF0gfHwgZXh0ZW50WzNdIDwgZXh0ZW50WzFdO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudD19IG9wdF9leHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXR1cm5PclVwZGF0ZShleHRlbnQsIG9wdF9leHRlbnQpIHtcbiAgaWYgKG9wdF9leHRlbnQpIHtcbiAgICBvcHRfZXh0ZW50WzBdID0gZXh0ZW50WzBdO1xuICAgIG9wdF9leHRlbnRbMV0gPSBleHRlbnRbMV07XG4gICAgb3B0X2V4dGVudFsyXSA9IGV4dGVudFsyXTtcbiAgICBvcHRfZXh0ZW50WzNdID0gZXh0ZW50WzNdO1xuICAgIHJldHVybiBvcHRfZXh0ZW50O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBleHRlbnQ7XG4gIH1cbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGVGcm9tQ2VudGVyKGV4dGVudCwgdmFsdWUpIHtcbiAgdmFyIGRlbHRhWCA9ICgoZXh0ZW50WzJdIC0gZXh0ZW50WzBdKSAvIDIpICogKHZhbHVlIC0gMSk7XG4gIHZhciBkZWx0YVkgPSAoKGV4dGVudFszXSAtIGV4dGVudFsxXSkgLyAyKSAqICh2YWx1ZSAtIDEpO1xuICBleHRlbnRbMF0gLT0gZGVsdGFYO1xuICBleHRlbnRbMl0gKz0gZGVsdGFYO1xuICBleHRlbnRbMV0gLT0gZGVsdGFZO1xuICBleHRlbnRbM10gKz0gZGVsdGFZO1xufVxuXG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHRoZSBzZWdtZW50IGJldHdlZW4gdHdvIGNvb3JkaW5hdGVzIGludGVyc2VjdHMgKGNyb3NzZXMsXG4gKiB0b3VjaGVzLCBvciBpcyBjb250YWluZWQgYnkpIHRoZSBwcm92aWRlZCBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IFRoZSBleHRlbnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBzdGFydCBTZWdtZW50IHN0YXJ0IGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBlbmQgU2VnbWVudCBlbmQgY29vcmRpbmF0ZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBzZWdtZW50IGludGVyc2VjdHMgdGhlIGV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdHNTZWdtZW50KGV4dGVudCwgc3RhcnQsIGVuZCkge1xuICB2YXIgaW50ZXJzZWN0cyA9IGZhbHNlO1xuICB2YXIgc3RhcnRSZWwgPSBjb29yZGluYXRlUmVsYXRpb25zaGlwKGV4dGVudCwgc3RhcnQpO1xuICB2YXIgZW5kUmVsID0gY29vcmRpbmF0ZVJlbGF0aW9uc2hpcChleHRlbnQsIGVuZCk7XG4gIGlmIChzdGFydFJlbCA9PT0gUmVsYXRpb25zaGlwLklOVEVSU0VDVElORyB8fFxuICAgICAgZW5kUmVsID09PSBSZWxhdGlvbnNoaXAuSU5URVJTRUNUSU5HKSB7XG4gICAgaW50ZXJzZWN0cyA9IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgdmFyIG1pblggPSBleHRlbnRbMF07XG4gICAgdmFyIG1pblkgPSBleHRlbnRbMV07XG4gICAgdmFyIG1heFggPSBleHRlbnRbMl07XG4gICAgdmFyIG1heFkgPSBleHRlbnRbM107XG4gICAgdmFyIHN0YXJ0WCA9IHN0YXJ0WzBdO1xuICAgIHZhciBzdGFydFkgPSBzdGFydFsxXTtcbiAgICB2YXIgZW5kWCA9IGVuZFswXTtcbiAgICB2YXIgZW5kWSA9IGVuZFsxXTtcbiAgICB2YXIgc2xvcGUgPSAoZW5kWSAtIHN0YXJ0WSkgLyAoZW5kWCAtIHN0YXJ0WCk7XG4gICAgdmFyIHgsIHk7XG4gICAgaWYgKCEhKGVuZFJlbCAmIFJlbGF0aW9uc2hpcC5BQk9WRSkgJiZcbiAgICAgICAgIShzdGFydFJlbCAmIFJlbGF0aW9uc2hpcC5BQk9WRSkpIHtcbiAgICAgIC8vIHBvdGVudGlhbGx5IGludGVyc2VjdHMgdG9wXG4gICAgICB4ID0gZW5kWCAtICgoZW5kWSAtIG1heFkpIC8gc2xvcGUpO1xuICAgICAgaW50ZXJzZWN0cyA9IHggPj0gbWluWCAmJiB4IDw9IG1heFg7XG4gICAgfVxuICAgIGlmICghaW50ZXJzZWN0cyAmJiAhIShlbmRSZWwgJiBSZWxhdGlvbnNoaXAuUklHSFQpICYmXG4gICAgICAgICEoc3RhcnRSZWwgJiBSZWxhdGlvbnNoaXAuUklHSFQpKSB7XG4gICAgICAvLyBwb3RlbnRpYWxseSBpbnRlcnNlY3RzIHJpZ2h0XG4gICAgICB5ID0gZW5kWSAtICgoZW5kWCAtIG1heFgpICogc2xvcGUpO1xuICAgICAgaW50ZXJzZWN0cyA9IHkgPj0gbWluWSAmJiB5IDw9IG1heFk7XG4gICAgfVxuICAgIGlmICghaW50ZXJzZWN0cyAmJiAhIShlbmRSZWwgJiBSZWxhdGlvbnNoaXAuQkVMT1cpICYmXG4gICAgICAgICEoc3RhcnRSZWwgJiBSZWxhdGlvbnNoaXAuQkVMT1cpKSB7XG4gICAgICAvLyBwb3RlbnRpYWxseSBpbnRlcnNlY3RzIGJvdHRvbVxuICAgICAgeCA9IGVuZFggLSAoKGVuZFkgLSBtaW5ZKSAvIHNsb3BlKTtcbiAgICAgIGludGVyc2VjdHMgPSB4ID49IG1pblggJiYgeCA8PSBtYXhYO1xuICAgIH1cbiAgICBpZiAoIWludGVyc2VjdHMgJiYgISEoZW5kUmVsICYgUmVsYXRpb25zaGlwLkxFRlQpICYmXG4gICAgICAgICEoc3RhcnRSZWwgJiBSZWxhdGlvbnNoaXAuTEVGVCkpIHtcbiAgICAgIC8vIHBvdGVudGlhbGx5IGludGVyc2VjdHMgbGVmdFxuICAgICAgeSA9IGVuZFkgLSAoKGVuZFggLSBtaW5YKSAqIHNsb3BlKTtcbiAgICAgIGludGVyc2VjdHMgPSB5ID49IG1pblkgJiYgeSA8PSBtYXhZO1xuICAgIH1cblxuICB9XG4gIHJldHVybiBpbnRlcnNlY3RzO1xufVxuXG5cbi8qKlxuICogQXBwbHkgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gdG8gdGhlIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259IHRyYW5zZm9ybUZuIFRyYW5zZm9ybSBmdW5jdGlvbi5cbiAqIENhbGxlZCB3aXRoIGBbbWluWCwgbWluWSwgbWF4WCwgbWF4WV1gIGV4dGVudCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7RXh0ZW50PX0gb3B0X2V4dGVudCBEZXN0aW5hdGlvbiBleHRlbnQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5VHJhbnNmb3JtKGV4dGVudCwgdHJhbnNmb3JtRm4sIG9wdF9leHRlbnQpIHtcbiAgdmFyIGNvb3JkaW5hdGVzID0gW1xuICAgIGV4dGVudFswXSwgZXh0ZW50WzFdLFxuICAgIGV4dGVudFswXSwgZXh0ZW50WzNdLFxuICAgIGV4dGVudFsyXSwgZXh0ZW50WzFdLFxuICAgIGV4dGVudFsyXSwgZXh0ZW50WzNdXG4gIF07XG4gIHRyYW5zZm9ybUZuKGNvb3JkaW5hdGVzLCBjb29yZGluYXRlcywgMik7XG4gIHZhciB4cyA9IFtjb29yZGluYXRlc1swXSwgY29vcmRpbmF0ZXNbMl0sIGNvb3JkaW5hdGVzWzRdLCBjb29yZGluYXRlc1s2XV07XG4gIHZhciB5cyA9IFtjb29yZGluYXRlc1sxXSwgY29vcmRpbmF0ZXNbM10sIGNvb3JkaW5hdGVzWzVdLCBjb29yZGluYXRlc1s3XV07XG4gIHJldHVybiBfYm91bmRpbmdFeHRlbnRYWXMoeHMsIHlzLCBvcHRfZXh0ZW50KTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXh0ZW50LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9leHRlbnQvUmVsYXRpb25zaGlwXG4gKi9cblxuLyoqXG4gKiBSZWxhdGlvbnNoaXAgdG8gYW4gZXh0ZW50LlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBVTktOT1dOOiAwLFxuICBJTlRFUlNFQ1RJTkc6IDEsXG4gIEFCT1ZFOiAyLFxuICBSSUdIVDogNCxcbiAgQkVMT1c6IDgsXG4gIExFRlQ6IDE2XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZWxhdGlvbnNoaXAuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2V4dGVudC9Db3JuZXJcbiAqL1xuXG4vKipcbiAqIEV4dGVudCBjb3JuZXIuXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIEJPVFRPTV9MRUZUOiAnYm90dG9tLWxlZnQnLFxuICBCT1RUT01fUklHSFQ6ICdib3R0b20tcmlnaHQnLFxuICBUT1BfTEVGVDogJ3RvcC1sZWZ0JyxcbiAgVE9QX1JJR0hUOiAndG9wLXJpZ2h0J1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29ybmVyLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9PYmplY3RcbiAqL1xuaW1wb3J0IHtnZXRVaWR9IGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQgT2JqZWN0RXZlbnRUeXBlIGZyb20gJy4vT2JqZWN0RXZlbnRUeXBlLmpzJztcbmltcG9ydCBPYnNlcnZhYmxlIGZyb20gJy4vT2JzZXJ2YWJsZS5qcyc7XG5pbXBvcnQgRXZlbnQgZnJvbSAnLi9ldmVudHMvRXZlbnQuanMnO1xuaW1wb3J0IHthc3NpZ259IGZyb20gJy4vb2JqLmpzJztcblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEV2ZW50cyBlbWl0dGVkIGJ5IHtAbGluayBtb2R1bGU6b2wvT2JqZWN0fkJhc2VPYmplY3R9IGluc3RhbmNlcyBhcmUgaW5zdGFuY2VzIG9mIHRoaXMgdHlwZS5cbiAqL1xuZXhwb3J0IHZhciBPYmplY3RFdmVudCA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEV2ZW50KSB7XG4gIGZ1bmN0aW9uIE9iamVjdEV2ZW50KHR5cGUsIGtleSwgb2xkVmFsdWUpIHtcbiAgICBFdmVudC5jYWxsKHRoaXMsIHR5cGUpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHdob3NlIHZhbHVlIGlzIGNoYW5naW5nLlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMua2V5ID0ga2V5O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9sZCB2YWx1ZS4gVG8gZ2V0IHRoZSBuZXcgdmFsdWUgdXNlIGBlLnRhcmdldC5nZXQoZS5rZXkpYCB3aGVyZVxuICAgICAqIGBlYCBpcyB0aGUgZXZlbnQgb2JqZWN0LlxuICAgICAqIEB0eXBlIHsqfVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLm9sZFZhbHVlID0gb2xkVmFsdWU7XG5cbiAgfVxuXG4gIGlmICggRXZlbnQgKSBPYmplY3RFdmVudC5fX3Byb3RvX18gPSBFdmVudDtcbiAgT2JqZWN0RXZlbnQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZlbnQgJiYgRXZlbnQucHJvdG90eXBlICk7XG4gIE9iamVjdEV2ZW50LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE9iamVjdEV2ZW50O1xuXG4gIHJldHVybiBPYmplY3RFdmVudDtcbn0oRXZlbnQpKTtcblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3M7IG5vcm1hbGx5IG9ubHkgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlcyBhbmQgbm90XG4gKiBpbnN0YW50aWF0ZWQgaW4gYXBwcy5cbiAqIE1vc3Qgbm9uLXRyaXZpYWwgY2xhc3NlcyBpbmhlcml0IGZyb20gdGhpcy5cbiAqXG4gKiBUaGlzIGV4dGVuZHMge0BsaW5rIG1vZHVsZTpvbC9PYnNlcnZhYmxlfSB3aXRoIG9ic2VydmFibGVcbiAqIHByb3BlcnRpZXMsIHdoZXJlIGVhY2ggcHJvcGVydHkgaXMgb2JzZXJ2YWJsZSBhcyB3ZWxsIGFzIHRoZSBvYmplY3QgYXMgYVxuICogd2hvbGUuXG4gKlxuICogQ2xhc3NlcyB0aGF0IGluaGVyaXQgZnJvbSB0aGlzIGhhdmUgcHJlLWRlZmluZWQgcHJvcGVydGllcywgdG8gd2hpY2ggeW91IGNhblxuICogYWRkIHlvdXIgb3ducy4gVGhlIHByZS1kZWZpbmVkIHByb3BlcnRpZXMgYXJlIGxpc3RlZCBpbiB0aGlzIGRvY3VtZW50YXRpb24gYXNcbiAqICdPYnNlcnZhYmxlIFByb3BlcnRpZXMnLCBhbmQgaGF2ZSB0aGVpciBvd24gYWNjZXNzb3JzOyBmb3IgZXhhbXBsZSxcbiAqIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcH0gaGFzIGEgYHRhcmdldGAgcHJvcGVydHksIGFjY2Vzc2VkIHdpdGhcbiAqIGBnZXRUYXJnZXQoKWAgYW5kIGNoYW5nZWQgd2l0aCBgc2V0VGFyZ2V0KClgLiBOb3QgYWxsIHByb3BlcnRpZXMgYXJlIGhvd2V2ZXJcbiAqIHNldHRhYmxlLiBUaGVyZSBhcmUgYWxzbyBnZW5lcmFsLXB1cnBvc2UgYWNjZXNzb3JzIGBnZXQoKWAgYW5kIGBzZXQoKWAuIEZvclxuICogZXhhbXBsZSwgYGdldCgndGFyZ2V0JylgIGlzIGVxdWl2YWxlbnQgdG8gYGdldFRhcmdldCgpYC5cbiAqXG4gKiBUaGUgYHNldGAgYWNjZXNzb3JzIHRyaWdnZXIgYSBjaGFuZ2UgZXZlbnQsIGFuZCB5b3UgY2FuIG1vbml0b3IgdGhpcyBieVxuICogcmVnaXN0ZXJpbmcgYSBsaXN0ZW5lci4gRm9yIGV4YW1wbGUsIHtAbGluayBtb2R1bGU6b2wvVmlld35WaWV3fSBoYXMgYVxuICogYGNlbnRlcmAgcHJvcGVydHksIHNvIGB2aWV3Lm9uKCdjaGFuZ2U6Y2VudGVyJywgZnVuY3Rpb24oZXZ0KSB7Li4ufSk7YCB3b3VsZFxuICogY2FsbCB0aGUgZnVuY3Rpb24gd2hlbmV2ZXIgdGhlIHZhbHVlIG9mIHRoZSBjZW50ZXIgcHJvcGVydHkgY2hhbmdlcy4gV2l0aGluXG4gKiB0aGUgZnVuY3Rpb24sIGBldnQudGFyZ2V0YCB3b3VsZCBiZSB0aGUgdmlldywgc28gYGV2dC50YXJnZXQuZ2V0Q2VudGVyKClgXG4gKiB3b3VsZCByZXR1cm4gdGhlIG5ldyBjZW50ZXIuXG4gKlxuICogWW91IGNhbiBhZGQgeW91ciBvd24gb2JzZXJ2YWJsZSBwcm9wZXJ0aWVzIHdpdGhcbiAqIGBvYmplY3Quc2V0KCdwcm9wJywgJ3ZhbHVlJylgLCBhbmQgcmV0cmlldmUgdGhhdCB3aXRoIGBvYmplY3QuZ2V0KCdwcm9wJylgLlxuICogWW91IGNhbiBsaXN0ZW4gZm9yIGNoYW5nZXMgb24gdGhhdCBwcm9wZXJ0eSB2YWx1ZSB3aXRoXG4gKiBgb2JqZWN0Lm9uKCdjaGFuZ2U6cHJvcCcsIGxpc3RlbmVyKWAuIFlvdSBjYW4gZ2V0IGEgbGlzdCBvZiBhbGxcbiAqIHByb3BlcnRpZXMgd2l0aCB7QGxpbmsgbW9kdWxlOm9sL09iamVjdH5CYXNlT2JqZWN0I2dldFByb3BlcnRpZXN9LlxuICpcbiAqIE5vdGUgdGhhdCB0aGUgb2JzZXJ2YWJsZSBwcm9wZXJ0aWVzIGFyZSBzZXBhcmF0ZSBmcm9tIHN0YW5kYXJkIEpTIHByb3BlcnRpZXMuXG4gKiBZb3UgY2FuLCBmb3IgZXhhbXBsZSwgZ2l2ZSB5b3VyIG1hcCBvYmplY3QgYSB0aXRsZSB3aXRoXG4gKiBgbWFwLnRpdGxlPSdOZXcgdGl0bGUnYCBhbmQgd2l0aCBgbWFwLnNldCgndGl0bGUnLCAnQW5vdGhlciB0aXRsZScpYC4gVGhlXG4gKiBmaXJzdCB3aWxsIGJlIGEgYGhhc093blByb3BlcnR5YDsgdGhlIHNlY29uZCB3aWxsIGFwcGVhciBpblxuICogYGdldFByb3BlcnRpZXMoKWAuIE9ubHkgdGhlIHNlY29uZCBpcyBvYnNlcnZhYmxlLlxuICpcbiAqIFByb3BlcnRpZXMgY2FuIGJlIGRlbGV0ZWQgYnkgdXNpbmcgdGhlIHVuc2V0IG1ldGhvZC4gRS5nLlxuICogb2JqZWN0LnVuc2V0KCdmb28nKS5cbiAqXG4gKiBAZmlyZXMgT2JqZWN0RXZlbnRcbiAqIEBhcGlcbiAqL1xudmFyIEJhc2VPYmplY3QgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChPYnNlcnZhYmxlKSB7XG4gIGZ1bmN0aW9uIEJhc2VPYmplY3Qob3B0X3ZhbHVlcykge1xuICAgIE9ic2VydmFibGUuY2FsbCh0aGlzKTtcblxuICAgIC8vIENhbGwge0BsaW5rIG1vZHVsZTpvbC91dGlsfmdldFVpZH0gdG8gZW5zdXJlIHRoYXQgdGhlIG9yZGVyIG9mIG9iamVjdHMnIGlkcyBpc1xuICAgIC8vIHRoZSBzYW1lIGFzIHRoZSBvcmRlciBpbiB3aGljaCB0aGV5IHdlcmUgY3JlYXRlZC4gIFRoaXMgYWxzbyBoZWxwcyB0b1xuICAgIC8vIGVuc3VyZSB0aGF0IG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBhbHdheXMgYWRkZWQgaW4gdGhlIHNhbWUgb3JkZXIsIHdoaWNoXG4gICAgLy8gaGVscHMgbWFueSBKYXZhU2NyaXB0IGVuZ2luZXMgZ2VuZXJhdGUgZmFzdGVyIGNvZGUuXG4gICAgZ2V0VWlkKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsICo+fVxuICAgICAqL1xuICAgIHRoaXMudmFsdWVzXyA9IHt9O1xuXG4gICAgaWYgKG9wdF92YWx1ZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5zZXRQcm9wZXJ0aWVzKG9wdF92YWx1ZXMpO1xuICAgIH1cbiAgfVxuXG4gIGlmICggT2JzZXJ2YWJsZSApIEJhc2VPYmplY3QuX19wcm90b19fID0gT2JzZXJ2YWJsZTtcbiAgQmFzZU9iamVjdC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBPYnNlcnZhYmxlICYmIE9ic2VydmFibGUucHJvdG90eXBlICk7XG4gIEJhc2VPYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQmFzZU9iamVjdDtcblxuICAvKipcbiAgICogR2V0cyBhIHZhbHVlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleSBuYW1lLlxuICAgKiBAcmV0dXJuIHsqfSBWYWx1ZS5cbiAgICogQGFwaVxuICAgKi9cbiAgQmFzZU9iamVjdC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChrZXkpIHtcbiAgICB2YXIgdmFsdWU7XG4gICAgaWYgKHRoaXMudmFsdWVzXy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICB2YWx1ZSA9IHRoaXMudmFsdWVzX1trZXldO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCBhIGxpc3Qgb2Ygb2JqZWN0IHByb3BlcnR5IG5hbWVzLlxuICAgKiBAcmV0dXJuIHtBcnJheTxzdHJpbmc+fSBMaXN0IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgKiBAYXBpXG4gICAqL1xuICBCYXNlT2JqZWN0LnByb3RvdHlwZS5nZXRLZXlzID0gZnVuY3Rpb24gZ2V0S2V5cyAoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMudmFsdWVzXyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCBhbiBvYmplY3Qgb2YgYWxsIHByb3BlcnR5IG5hbWVzIGFuZCB2YWx1ZXMuXG4gICAqIEByZXR1cm4ge09iamVjdDxzdHJpbmcsICo+fSBPYmplY3QuXG4gICAqIEBhcGlcbiAgICovXG4gIEJhc2VPYmplY3QucHJvdG90eXBlLmdldFByb3BlcnRpZXMgPSBmdW5jdGlvbiBnZXRQcm9wZXJ0aWVzICgpIHtcbiAgICByZXR1cm4gYXNzaWduKHt9LCB0aGlzLnZhbHVlc18pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleSBuYW1lLlxuICAgKiBAcGFyYW0geyp9IG9sZFZhbHVlIE9sZCB2YWx1ZS5cbiAgICovXG4gIEJhc2VPYmplY3QucHJvdG90eXBlLm5vdGlmeSA9IGZ1bmN0aW9uIG5vdGlmeSAoa2V5LCBvbGRWYWx1ZSkge1xuICAgIHZhciBldmVudFR5cGU7XG4gICAgZXZlbnRUeXBlID0gZ2V0Q2hhbmdlRXZlbnRUeXBlKGtleSk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBPYmplY3RFdmVudChldmVudFR5cGUsIGtleSwgb2xkVmFsdWUpKTtcbiAgICBldmVudFR5cGUgPSBPYmplY3RFdmVudFR5cGUuUFJPUEVSVFlDSEFOR0U7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBPYmplY3RFdmVudChldmVudFR5cGUsIGtleSwgb2xkVmFsdWUpKTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0cyBhIHZhbHVlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleSBuYW1lLlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfc2lsZW50IFVwZGF0ZSB3aXRob3V0IHRyaWdnZXJpbmcgYW4gZXZlbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIEJhc2VPYmplY3QucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIHNldCAoa2V5LCB2YWx1ZSwgb3B0X3NpbGVudCkge1xuICAgIGlmIChvcHRfc2lsZW50KSB7XG4gICAgICB0aGlzLnZhbHVlc19ba2V5XSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgb2xkVmFsdWUgPSB0aGlzLnZhbHVlc19ba2V5XTtcbiAgICAgIHRoaXMudmFsdWVzX1trZXldID0gdmFsdWU7XG4gICAgICBpZiAob2xkVmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgIHRoaXMubm90aWZ5KGtleSwgb2xkVmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogU2V0cyBhIGNvbGxlY3Rpb24gb2Yga2V5LXZhbHVlIHBhaXJzLiAgTm90ZSB0aGF0IHRoaXMgY2hhbmdlcyBhbnkgZXhpc3RpbmdcbiAgICogcHJvcGVydGllcyBhbmQgYWRkcyBuZXcgb25lcyAoaXQgZG9lcyBub3QgcmVtb3ZlIGFueSBleGlzdGluZyBwcm9wZXJ0aWVzKS5cbiAgICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCAqPn0gdmFsdWVzIFZhbHVlcy5cbiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X3NpbGVudCBVcGRhdGUgd2l0aG91dCB0cmlnZ2VyaW5nIGFuIGV2ZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBCYXNlT2JqZWN0LnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzID0gZnVuY3Rpb24gc2V0UHJvcGVydGllcyAodmFsdWVzLCBvcHRfc2lsZW50KSB7XG4gICAgZm9yICh2YXIga2V5IGluIHZhbHVlcykge1xuICAgICAgdGhpcy5zZXQoa2V5LCB2YWx1ZXNba2V5XSwgb3B0X3NpbGVudCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBVbnNldHMgYSBwcm9wZXJ0eS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkgbmFtZS5cbiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X3NpbGVudCBVbnNldCB3aXRob3V0IHRyaWdnZXJpbmcgYW4gZXZlbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIEJhc2VPYmplY3QucHJvdG90eXBlLnVuc2V0ID0gZnVuY3Rpb24gdW5zZXQgKGtleSwgb3B0X3NpbGVudCkge1xuICAgIGlmIChrZXkgaW4gdGhpcy52YWx1ZXNfKSB7XG4gICAgICB2YXIgb2xkVmFsdWUgPSB0aGlzLnZhbHVlc19ba2V5XTtcbiAgICAgIGRlbGV0ZSB0aGlzLnZhbHVlc19ba2V5XTtcbiAgICAgIGlmICghb3B0X3NpbGVudCkge1xuICAgICAgICB0aGlzLm5vdGlmeShrZXksIG9sZFZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIEJhc2VPYmplY3Q7XG59KE9ic2VydmFibGUpKTtcblxuXG4vKipcbiAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBzdHJpbmc+fVxuICovXG52YXIgY2hhbmdlRXZlbnRUeXBlQ2FjaGUgPSB7fTtcblxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5IG5hbWUuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IENoYW5nZSBuYW1lLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2hhbmdlRXZlbnRUeXBlKGtleSkge1xuICByZXR1cm4gY2hhbmdlRXZlbnRUeXBlQ2FjaGUuaGFzT3duUHJvcGVydHkoa2V5KSA/XG4gICAgY2hhbmdlRXZlbnRUeXBlQ2FjaGVba2V5XSA6XG4gICAgKGNoYW5nZUV2ZW50VHlwZUNhY2hlW2tleV0gPSAnY2hhbmdlOicgKyBrZXkpO1xufVxuXG5cbmV4cG9ydCBkZWZhdWx0IEJhc2VPYmplY3Q7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9iamVjdC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvT2JqZWN0RXZlbnRUeXBlXG4gKi9cblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgd2hlbiBhIHByb3BlcnR5IGlzIGNoYW5nZWQuXG4gICAqIEBldmVudCBtb2R1bGU6b2wvT2JqZWN0Lk9iamVjdEV2ZW50I3Byb3BlcnR5Y2hhbmdlXG4gICAqIEBhcGlcbiAgICovXG4gIFBST1BFUlRZQ0hBTkdFOiAncHJvcGVydHljaGFuZ2UnXG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYmplY3RFdmVudFR5cGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL09ic2VydmFibGVcbiAqL1xuaW1wb3J0IHtsaXN0ZW4sIHVubGlzdGVuQnlLZXksIHVubGlzdGVuLCBsaXN0ZW5PbmNlfSBmcm9tICcuL2V2ZW50cy5qcyc7XG5pbXBvcnQgRXZlbnRUYXJnZXQgZnJvbSAnLi9ldmVudHMvVGFyZ2V0LmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBYnN0cmFjdCBiYXNlIGNsYXNzOyBub3JtYWxseSBvbmx5IHVzZWQgZm9yIGNyZWF0aW5nIHN1YmNsYXNzZXMgYW5kIG5vdFxuICogaW5zdGFudGlhdGVkIGluIGFwcHMuXG4gKiBBbiBldmVudCB0YXJnZXQgcHJvdmlkaW5nIGNvbnZlbmllbnQgbWV0aG9kcyBmb3IgbGlzdGVuZXIgcmVnaXN0cmF0aW9uXG4gKiBhbmQgdW5yZWdpc3RyYXRpb24uIEEgZ2VuZXJpYyBgY2hhbmdlYCBldmVudCBpcyBhbHdheXMgYXZhaWxhYmxlIHRocm91Z2hcbiAqIHtAbGluayBtb2R1bGU6b2wvT2JzZXJ2YWJsZX5PYnNlcnZhYmxlI2NoYW5nZWR9LlxuICpcbiAqIEBmaXJlcyBpbXBvcnQoXCIuL2V2ZW50cy9FdmVudC5qc1wiKS5FdmVudFxuICogQGFwaVxuICovXG52YXIgT2JzZXJ2YWJsZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEV2ZW50VGFyZ2V0KSB7XG4gIGZ1bmN0aW9uIE9ic2VydmFibGUoKSB7XG5cbiAgICBFdmVudFRhcmdldC5jYWxsKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmV2aXNpb25fID0gMDtcblxuICB9XG5cbiAgaWYgKCBFdmVudFRhcmdldCApIE9ic2VydmFibGUuX19wcm90b19fID0gRXZlbnRUYXJnZXQ7XG4gIE9ic2VydmFibGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZlbnRUYXJnZXQgJiYgRXZlbnRUYXJnZXQucHJvdG90eXBlICk7XG4gIE9ic2VydmFibGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gT2JzZXJ2YWJsZTtcblxuICAvKipcbiAgICogSW5jcmVhc2VzIHRoZSByZXZpc2lvbiBjb3VudGVyIGFuZCBkaXNwYXRjaGVzIGEgJ2NoYW5nZScgZXZlbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIE9ic2VydmFibGUucHJvdG90eXBlLmNoYW5nZWQgPSBmdW5jdGlvbiBjaGFuZ2VkICgpIHtcbiAgICArK3RoaXMucmV2aXNpb25fO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChFdmVudFR5cGUuQ0hBTkdFKTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSB2ZXJzaW9uIG51bWJlciBmb3IgdGhpcyBvYmplY3QuICBFYWNoIHRpbWUgdGhlIG9iamVjdCBpcyBtb2RpZmllZCxcbiAgICogaXRzIHZlcnNpb24gbnVtYmVyIHdpbGwgYmUgaW5jcmVtZW50ZWQuXG4gICAqIEByZXR1cm4ge251bWJlcn0gUmV2aXNpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIE9ic2VydmFibGUucHJvdG90eXBlLmdldFJldmlzaW9uID0gZnVuY3Rpb24gZ2V0UmV2aXNpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnJldmlzaW9uXztcbiAgfTtcblxuICAvKipcbiAgICogTGlzdGVuIGZvciBhIGNlcnRhaW4gdHlwZSBvZiBldmVudC5cbiAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gdHlwZSBUaGUgZXZlbnQgdHlwZSBvciBhcnJheSBvZiBldmVudCB0eXBlcy5cbiAgICogQHBhcmFtIHtmdW5jdGlvbig/KTogP30gbGlzdGVuZXIgVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl8QXJyYXk8aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pn0gVW5pcXVlIGtleSBmb3IgdGhlIGxpc3RlbmVyLiBJZlxuICAgKiAgICAgY2FsbGVkIHdpdGggYW4gYXJyYXkgb2YgZXZlbnQgdHlwZXMgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LCB0aGUgcmV0dXJuXG4gICAqICAgICB3aWxsIGJlIGFuIGFycmF5IG9mIGtleXMuXG4gICAqIEBhcGlcbiAgICovXG4gIE9ic2VydmFibGUucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gb24gKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHlwZSkpIHtcbiAgICAgIHZhciBsZW4gPSB0eXBlLmxlbmd0aDtcbiAgICAgIHZhciBrZXlzID0gbmV3IEFycmF5KGxlbik7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIGtleXNbaV0gPSBsaXN0ZW4odGhpcywgdHlwZVtpXSwgbGlzdGVuZXIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGtleXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBsaXN0ZW4odGhpcywgLyoqIEB0eXBlIHtzdHJpbmd9ICovICh0eXBlKSwgbGlzdGVuZXIpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogTGlzdGVuIG9uY2UgZm9yIGEgY2VydGFpbiB0eXBlIG9mIGV2ZW50LlxuICAgKiBAcGFyYW0ge3N0cmluZ3xBcnJheTxzdHJpbmc+fSB0eXBlIFRoZSBldmVudCB0eXBlIG9yIGFycmF5IG9mIGV2ZW50IHR5cGVzLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKD8pOiA/fSBsaXN0ZW5lciBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleXxBcnJheTxpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fSBVbmlxdWUga2V5IGZvciB0aGUgbGlzdGVuZXIuIElmXG4gICAqICAgICBjYWxsZWQgd2l0aCBhbiBhcnJheSBvZiBldmVudCB0eXBlcyBhcyB0aGUgZmlyc3QgYXJndW1lbnQsIHRoZSByZXR1cm5cbiAgICogICAgIHdpbGwgYmUgYW4gYXJyYXkgb2Yga2V5cy5cbiAgICogQGFwaVxuICAgKi9cbiAgT2JzZXJ2YWJsZS5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UgKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHlwZSkpIHtcbiAgICAgIHZhciBsZW4gPSB0eXBlLmxlbmd0aDtcbiAgICAgIHZhciBrZXlzID0gbmV3IEFycmF5KGxlbik7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIGtleXNbaV0gPSBsaXN0ZW5PbmNlKHRoaXMsIHR5cGVbaV0sIGxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBrZXlzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbGlzdGVuT25jZSh0aGlzLCAvKiogQHR5cGUge3N0cmluZ30gKi8gKHR5cGUpLCBsaXN0ZW5lcik7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBVbmxpc3RlbiBmb3IgYSBjZXJ0YWluIHR5cGUgb2YgZXZlbnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfEFycmF5PHN0cmluZz59IHR5cGUgVGhlIGV2ZW50IHR5cGUgb3IgYXJyYXkgb2YgZXZlbnQgdHlwZXMuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oPyk6ID99IGxpc3RlbmVyIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgT2JzZXJ2YWJsZS5wcm90b3R5cGUudW4gPSBmdW5jdGlvbiB1biAodHlwZSwgbGlzdGVuZXIpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdHlwZS5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHVubGlzdGVuKHRoaXMsIHR5cGVbaV0sIGxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgdW5saXN0ZW4odGhpcywgLyoqIEB0eXBlIHtzdHJpbmd9ICovICh0eXBlKSwgbGlzdGVuZXIpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gT2JzZXJ2YWJsZTtcbn0oRXZlbnRUYXJnZXQpKTtcblxuXG4vKipcbiAqIFJlbW92ZXMgYW4gZXZlbnQgbGlzdGVuZXIgdXNpbmcgdGhlIGtleSByZXR1cm5lZCBieSBgb24oKWAgb3IgYG9uY2UoKWAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleXxBcnJheTxpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fSBrZXkgVGhlIGtleSByZXR1cm5lZCBieSBgb24oKWBcbiAqICAgICBvciBgb25jZSgpYCAob3IgYW4gYXJyYXkgb2Yga2V5cykuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bkJ5S2V5KGtleSkge1xuICBpZiAoQXJyYXkuaXNBcnJheShrZXkpKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0ga2V5Lmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIHVubGlzdGVuQnlLZXkoa2V5W2ldKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdW5saXN0ZW5CeUtleSgvKiogQHR5cGUge2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX0gKi8gKGtleSkpO1xuICB9XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgT2JzZXJ2YWJsZTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JzZXJ2YWJsZS5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9