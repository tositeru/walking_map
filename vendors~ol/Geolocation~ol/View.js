(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{22:function(t,n,r){"use strict";function e(t,n,r,e,i){for(var o=void 0!==i?i:[],u=0,s=n;s<r;s+=e)o[u++]=t.slice(s,s+e);return o.length=u,o}function i(t,n,r,i,o){for(var u=void 0!==o?o:[],s=0,a=0,f=r.length;a<f;++a){var c=r[a];u[s++]=e(t,n,c,i,u[s]),n=c}return u.length=s,u}function o(t,n,r,e,o){for(var u=void 0!==o?o:[],s=0,a=0,f=r.length;a<f;++a){var c=r[a];u[s++]=i(t,n,c,e,u[s]),n=c[c.length-1]}return u.length=s,u}r.d(n,"a",function(){return e}),r.d(n,"b",function(){return i}),r.d(n,"c",function(){return o})},27:function(t,n,r){"use strict";r.d(n,"a",function(){return i}),r.d(n,"b",function(){return o}),r.d(n,"e",function(){return u}),r.d(n,"c",function(){return a}),r.d(n,"d",function(){return f});var e=r(6);function i(t,n,r,i,o,u,s){var a=(r-n)/i;if(a<3){for(;n<r;n+=i)u[s++]=t[n],u[s++]=t[n+1];return s}var f=new Array(a);f[0]=1,f[a-1]=1;for(var c=[n,r-i],h=0;c.length>0;){for(var d=c.pop(),l=c.pop(),v=0,g=t[l],p=t[l+1],b=t[d],_=t[d+1],C=l+i;C<d;C+=i){var O=t[C],y=t[C+1],j=Object(e.g)(O,y,g,p,b,_);j>v&&(h=C,v=j)}v>o&&(f[(h-n)/i]=1,l+i<h&&c.push(l,h),h+i<d&&c.push(h,d))}for(var R=0;R<a;++R)f[R]&&(u[s++]=t[n+R*i],u[s++]=t[n+R*i+1]);return s}function o(t,n,r,e,o,u,s,a){for(var f=0,c=r.length;f<c;++f){var h=r[f];s=i(t,n,h,e,o,u,s),a.push(s),n=h}return s}function u(t,n){return n*Math.round(t/n)}function s(t,n,r,e,i,o,s){if(n==r)return s;var a,f,c=u(t[n],i),h=u(t[n+1],i);n+=e,o[s++]=c,o[s++]=h;do{if(a=u(t[n],i),f=u(t[n+1],i),(n+=e)==r)return o[s++]=a,o[s++]=f,s}while(a==c&&f==h);for(;n<r;){var d=u(t[n],i),l=u(t[n+1],i);if(n+=e,d!=a||l!=f){var v=a-c,g=f-h,p=d-c,b=l-h;v*b==g*p&&(v<0&&p<v||v==p||v>0&&p>v)&&(g<0&&b<g||g==b||g>0&&b>g)?(a=d,f=l):(o[s++]=a,o[s++]=f,c=a,h=f,a=d,f=l)}}return o[s++]=a,o[s++]=f,s}function a(t,n,r,e,i,o,u,a){for(var f=0,c=r.length;f<c;++f){var h=r[f];u=s(t,n,h,e,i,o,u),a.push(u),n=h}return u}function f(t,n,r,e,i,o,u,s){for(var f=0,c=r.length;f<c;++f){var h=r[f],d=[];u=a(t,n,h,e,i,o,u,d),s.push(d),n=h[h.length-1]}return u}},31:function(t,n,r){"use strict";var e=r(7),i=r(1),o=r(37),u=r(10),s=r(20),a=r(46),f=r(33),c=r(23),h=r(22),d=r(27),l=function(t){function n(n,r){t.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===r||Array.isArray(n[0])?this.setCoordinates(n,r):this.setFlatCoordinates(r,n)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.clone=function(){return new n(this.flatCoordinates.slice(),this.layout)},n.prototype.closestPointXY=function(t,n,r,e){return e<Object(i.e)(this.getExtent(),t,n)?e:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(f.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(f.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,n,r,e))},n.prototype.getArea=function(){return Object(a.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},n.prototype.getCoordinates=function(){return Object(h.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},n.prototype.getSimplifiedGeometryInternal=function(t){var r=[];return r.length=Object(d.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,0),new n(r,o.a.XY)},n.prototype.getType=function(){return u.a.LINEAR_RING},n.prototype.intersectsExtent=function(t){return!1},n.prototype.setCoordinates=function(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(c.b)(this.flatCoordinates,0,t,this.stride),this.changed()},n}(s.a),v=r(42),g=r(83),p=r(36),b=r(59),_=r(43),C=r(66),O=r(6);r.d(n,"a",function(){return j}),r.d(n,"d",function(){return R}),r.d(n,"c",function(){return x}),r.d(n,"e",function(){return F});var y=function(t){function n(n,r,e){t.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==r&&e?(this.setFlatCoordinates(r,n),this.ends_=e):this.setCoordinates(n,r)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.appendLinearRing=function(t){this.flatCoordinates?Object(e.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},n.prototype.clone=function(){return new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},n.prototype.closestPointXY=function(t,n,r,e){return e<Object(i.e)(this.getExtent(),t,n)?e:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(f.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(f.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,n,r,e))},n.prototype.containsXY=function(t,n){return Object(p.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,n)},n.prototype.getArea=function(){return Object(a.b)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},n.prototype.getCoordinates=function(t){var n;return void 0!==t?(n=this.getOrientedFlatCoordinates().slice(),Object(C.c)(n,0,this.ends_,this.stride,t)):n=this.flatCoordinates,Object(h.b)(n,0,this.ends_,this.stride)},n.prototype.getEnds=function(){return this.ends_},n.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Object(i.x)(this.getExtent());this.flatInteriorPoint_=Object(b.a)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},n.prototype.getInteriorPoint=function(){return new v.default(this.getFlatInteriorPoint(),o.a.XYM)},n.prototype.getLinearRingCount=function(){return this.ends_.length},n.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new l(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},n.prototype.getLinearRings=function(){for(var t=this.layout,n=this.flatCoordinates,r=this.ends_,e=[],i=0,o=0,u=r.length;o<u;++o){var s=r[o],a=new l(n.slice(i,s),t);e.push(a),i=s}return e},n.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(C.a)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(C.c)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},n.prototype.getSimplifiedGeometryInternal=function(t){var r=[],e=[];return r.length=Object(d.c)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),r,0,e),new n(r,o.a.XY,e)},n.prototype.getType=function(){return u.a.POLYGON},n.prototype.intersectsExtent=function(t){return Object(_.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},n.prototype.setCoordinates=function(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=Object(c.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()},n}(s.a);n.b=y;function j(t,n,r,i){for(var u=r||32,s=[],a=0;a<u;++a)Object(e.c)(s,Object(g.b)(t,n,2*Math.PI*a/u,i));return s.push(s[0],s[1]),new y(s,o.a.XY,[s.length])}function R(t){var n=t[0],r=t[1],e=t[2],i=t[3],u=[n,r,n,i,e,i,e,r,n,r];return new y(u,o.a.XY,[u.length])}function x(t,n,r){for(var e=n||32,i=t.getStride(),o=t.getLayout(),u=t.getCenter(),s=i*(e+1),a=new Array(s),f=0;f<s;f+=i){a[f]=0,a[f+1]=0;for(var c=2;c<i;c++)a[f+c]=u[c]}var h=[a.length],d=new y(a,o,h);return F(d,u,t.getRadius(),r),d}function F(t,n,r,e){for(var i=t.getFlatCoordinates(),o=t.getStride(),u=i.length/o-1,s=e||0,a=0;a<=u;++a){var f=a*o,c=s+2*Object(O.d)(a,u)*Math.PI/u;i[f]=n[0]+r*Math.cos(c),i[f+1]=n[1]+r*Math.sin(c)}t.changed()}},33:function(t,n,r){"use strict";r.d(n,"e",function(){return o}),r.d(n,"a",function(){return u}),r.d(n,"f",function(){return s}),r.d(n,"d",function(){return a}),r.d(n,"b",function(){return f}),r.d(n,"c",function(){return c});var e=r(6);function i(t,n,r,i,o,u,s){var a,f=t[n],c=t[n+1],h=t[r]-f,d=t[r+1]-c;if(0===h&&0===d)a=n;else{var l=((o-f)*h+(u-c)*d)/(h*h+d*d);if(l>1)a=r;else{if(l>0){for(var v=0;v<i;++v)s[v]=Object(e.c)(t[n+v],t[r+v],l);return void(s.length=i)}a=n}}for(var g=0;g<i;++g)s[g]=t[a+g];s.length=i}function o(t,n,r,i,o){var u=t[n],s=t[n+1];for(n+=i;n<r;n+=i){var a=t[n],f=t[n+1],c=Object(e.f)(u,s,a,f);c>o&&(o=c),u=a,s=f}return o}function u(t,n,r,e,i){for(var u=0,s=r.length;u<s;++u){var a=r[u];i=o(t,n,a,e,i),n=a}return i}function s(t,n,r,e,i){for(var o=0,s=r.length;o<s;++o){var a=r[o];i=u(t,n,a,e,i),n=a[a.length-1]}return i}function a(t,n,r,o,u,s,a,f,c,h,d){if(n==r)return h;var l,v;if(0===u){if((v=Object(e.f)(a,f,t[n],t[n+1]))<h){for(l=0;l<o;++l)c[l]=t[n+l];return c.length=o,v}return h}for(var g=d||[NaN,NaN],p=n+o;p<r;)if(i(t,p-o,p,o,a,f,g),(v=Object(e.f)(a,f,g[0],g[1]))<h){for(h=v,l=0;l<o;++l)c[l]=g[l];c.length=o,p+=o}else p+=o*Math.max((Math.sqrt(v)-Math.sqrt(h))/u|0,1);if(s&&(i(t,r-o,n,o,a,f,g),(v=Object(e.f)(a,f,g[0],g[1]))<h)){for(h=v,l=0;l<o;++l)c[l]=g[l];c.length=o}return h}function f(t,n,r,e,i,o,u,s,f,c,h){for(var d=h||[NaN,NaN],l=0,v=r.length;l<v;++l){var g=r[l];c=a(t,n,g,e,i,o,u,s,f,c,d),n=g}return c}function c(t,n,r,e,i,o,u,s,a,c,h){for(var d=h||[NaN,NaN],l=0,v=r.length;l<v;++l){var g=r[l];c=f(t,n,g,e,i,o,u,s,a,c,d),n=g[g.length-1]}return c}},36:function(t,n,r){"use strict";r.d(n,"a",function(){return i}),r.d(n,"b",function(){return o}),r.d(n,"c",function(){return u}),r.d(n,"d",function(){return s});var e=r(1);function i(t,n,r,i,u){return!Object(e.t)(u,function(e){return!o(t,n,r,i,e[0],e[1])})}function o(t,n,r,e,i,o){for(var u=0,s=t[r-e],a=t[r-e+1];n<r;n+=e){var f=t[n],c=t[n+1];a<=o?c>o&&(f-s)*(o-a)-(i-s)*(c-a)>0&&u++:c<=o&&(f-s)*(o-a)-(i-s)*(c-a)<0&&u--,s=f,a=c}return 0!==u}function u(t,n,r,e,i,u){if(0===r.length)return!1;if(!o(t,n,r[0],e,i,u))return!1;for(var s=1,a=r.length;s<a;++s)if(o(t,r[s-1],r[s],e,i,u))return!1;return!0}function s(t,n,r,e,i,o){if(0===r.length)return!1;for(var s=0,a=r.length;s<a;++s){var f=r[s];if(u(t,n,f,e,i,o))return!0;n=f[f.length-1]}return!1}},43:function(t,n,r){"use strict";r.d(n,"a",function(){return u}),r.d(n,"b",function(){return s}),r.d(n,"c",function(){return a}),r.d(n,"d",function(){return f});var e=r(1),i=r(36),o=r(60);function u(t,n,r,i,u){var s=Object(e.s)(Object(e.j)(),t,n,r,i);return!!Object(e.F)(u,s)&&(!!Object(e.g)(u,s)||(s[0]>=u[0]&&s[2]<=u[2]||(s[1]>=u[1]&&s[3]<=u[3]||Object(o.a)(t,n,r,i,function(t,n){return Object(e.G)(u,t,n)}))))}function s(t,n,r,e,i){for(var o=0,s=r.length;o<s;++o){if(u(t,n,r[o],e,i))return!0;n=r[o]}return!1}function a(t,n,r,e,o){if(!function(t,n,r,e,o){return!!(u(t,n,r,e,o)||Object(i.b)(t,n,r,e,o[0],o[1])||Object(i.b)(t,n,r,e,o[0],o[3])||Object(i.b)(t,n,r,e,o[2],o[1])||Object(i.b)(t,n,r,e,o[2],o[3]))}(t,n,r[0],e,o))return!1;if(1===r.length)return!0;for(var s=1,a=r.length;s<a;++s)if(Object(i.a)(t,r[s-1],r[s],e,o)&&!u(t,r[s-1],r[s],e,o))return!1;return!0}function f(t,n,r,e,i){for(var o=0,u=r.length;o<u;++o){var s=r[o];if(a(t,n,s,e,i))return!0;n=s[s.length-1]}return!1}},46:function(t,n,r){"use strict";function e(t,n,r,e){for(var i=0,o=t[r-e],u=t[r-e+1];n<r;n+=e){var s=t[n],a=t[n+1];i+=u*s-o*a,o=s,u=a}return i/2}function i(t,n,r,i){for(var o=0,u=0,s=r.length;u<s;++u){var a=r[u];o+=e(t,n,a,i),n=a}return o}function o(t,n,r,e){for(var o=0,u=0,s=r.length;u<s;++u){var a=r[u];o+=i(t,n,a,e),n=a[a.length-1]}return o}r.d(n,"a",function(){return e}),r.d(n,"b",function(){return i}),r.d(n,"c",function(){return o})},59:function(t,n,r){"use strict";r.d(n,"a",function(){return o}),r.d(n,"b",function(){return u});var e=r(7),i=r(36);function o(t,n,r,o,u,s,a){for(var f,c,h,d,l,v,g,p=u[s+1],b=[],_=0,C=r.length;_<C;++_){var O=r[_];for(d=t[O-o],v=t[O-o+1],f=n;f<O;f+=o)l=t[f],g=t[f+1],(p<=v&&g<=p||v<=p&&p<=g)&&(h=(p-v)/(g-v)*(l-d)+d,b.push(h)),d=l,v=g}var y=NaN,j=-1/0;for(b.sort(e.i),d=b[0],f=1,c=b.length;f<c;++f){l=b[f];var R=Math.abs(l-d);R>j&&(h=(d+l)/2,Object(i.c)(t,n,r,o,h,p)&&(y=h,j=R)),d=l}return isNaN(y)&&(y=u[s]),a?(a.push(y,p,j),a):[y,p,j]}function u(t,n,r,e,i){for(var u=[],s=0,a=r.length;s<a;++s){var f=r[s];u=o(t,n,f,e,i,2*s,u),n=f[f.length-1]}return u}},60:function(t,n,r){"use strict";function e(t,n,r,e,i,o){for(var u,s=[t[n],t[n+1]],a=[];n+e<r;n+=e){if(a[0]=t[n+e],a[1]=t[n+e+1],u=i.call(o,s,a))return u;s[0]=a[0],s[1]=a[1]}return!1}r.d(n,"a",function(){return e})},66:function(t,n,r){"use strict";function e(t,n,r,e){for(;n<r-e;){for(var i=0;i<e;++i){var o=t[n+i];t[n+i]=t[r-e+i],t[r-e+i]=o}n+=e,r-=e}}function i(t,n,r,e){for(var i=0,o=t[r-e],u=t[r-e+1];n<r;n+=e){var s=t[n],a=t[n+1];i+=(s-o)*(a+u),o=s,u=a}return i>0}function o(t,n,r,e,o){for(var u=void 0!==o&&o,s=0,a=r.length;s<a;++s){var f=r[s],c=i(t,n,f,e);if(0===s){if(u&&c||!u&&!c)return!1}else if(u&&!c||!u&&c)return!1;n=f}return!0}function u(t,n,r,e,i){for(var u=0,s=r.length;u<s;++u)if(!o(t,n,r[u],e,i))return!1;return!0}function s(t,n,r,o,u){for(var s=void 0!==u&&u,a=0,f=r.length;a<f;++a){var c=r[a],h=i(t,n,c,o);(0===a?s&&h||!s&&!h:s&&!h||!s&&h)&&e(t,n,c,o),n=c}return n}function a(t,n,r,e,i){for(var o=0,u=r.length;o<u;++o)n=s(t,n,r[o],e,i);return n}r.d(n,"a",function(){return o}),r.d(n,"b",function(){return u}),r.d(n,"c",function(){return s}),r.d(n,"d",function(){return a})},7:function(t,n,r){"use strict";function e(t,n,r){for(var e,o,u=r||i,s=0,a=t.length,f=!1;s<a;)(o=+u(t[e=s+(a-s>>1)],n))<0?s=e+1:(a=e,f=!o);return f?s:~s}function i(t,n){return t>n?1:t<n?-1:0}function o(t,n){return t.indexOf(n)>=0}function u(t,n,r){var e,i=t.length;if(t[0]<=n)return 0;if(n<=t[i-1])return i-1;if(r>0){for(e=1;e<i;++e)if(t[e]<n)return e-1}else if(r<0){for(e=1;e<i;++e)if(t[e]<=n)return e}else for(e=1;e<i;++e){if(t[e]==n)return e;if(t[e]<n)return t[e-1]-n<n-t[e]?e-1:e}return i-1}function s(t,n,r){for(;n<r;){var e=t[n];t[n]=t[r],t[r]=e,++n,--r}}function a(t,n){for(var r=Array.isArray(n)?n:[n],e=r.length,i=0;i<e;i++)t[t.length]=r[i]}function f(t,n){var r=t.indexOf(n),e=r>-1;return e&&t.splice(r,1),e}function c(t,n){for(var r,e=t.length>>>0,i=0;i<e;i++)if(n(r=t[i],i,t))return r;return null}function h(t,n){var r=t.length;if(r!==n.length)return!1;for(var e=0;e<r;e++)if(t[e]!==n[e])return!1;return!0}function d(t,n){var r,e=t.length,i=Array(t.length);for(r=0;r<e;r++)i[r]={index:r,value:t[r]};for(i.sort(function(t,r){return n(t.value,r.value)||t.index-r.index}),r=0;r<t.length;r++)t[r]=i[r].value}function l(t,n){var r;return!t.every(function(e,i){return r=i,!n(e,i,t)})?r:-1}function v(t,n,r){var e=n||i;return t.every(function(n,i){if(0===i)return!0;var o=e(t[i-1],n);return!(o>0||r&&0===o)})}r.d(n,"a",function(){return e}),r.d(n,"i",function(){return i}),r.d(n,"f",function(){return o}),r.d(n,"h",function(){return u}),r.d(n,"k",function(){return s}),r.d(n,"c",function(){return a}),r.d(n,"j",function(){return f}),r.d(n,"d",function(){return c}),r.d(n,"b",function(){return h}),r.d(n,"l",function(){return d}),r.d(n,"e",function(){return l}),r.d(n,"g",function(){return v})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2luZmxhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9zaW1wbGlmeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9MaW5lYXJSaW5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL1BvbHlnb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9jbG9zZXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvY29udGFpbnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9pbnRlcnNlY3RzZXh0ZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvYXJlYS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2ludGVyaW9ycG9pbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9zZWdtZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L3JldmVyc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9vcmllbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2FycmF5LmpzIl0sIm5hbWVzIjpbImluZmxhdGVDb29yZGluYXRlcyIsImZsYXRDb29yZGluYXRlcyIsIm9mZnNldCIsImVuZCIsInN0cmlkZSIsIm9wdF9jb29yZGluYXRlcyIsImNvb3JkaW5hdGVzIiwidW5kZWZpbmVkIiwiaSIsImoiLCJzbGljZSIsImxlbmd0aCIsImluZmxhdGVDb29yZGluYXRlc0FycmF5IiwiZW5kcyIsIm9wdF9jb29yZGluYXRlc3MiLCJjb29yZGluYXRlc3MiLCJqaiIsImluZmxhdGVNdWx0aUNvb3JkaW5hdGVzQXJyYXkiLCJlbmRzcyIsIm9wdF9jb29yZGluYXRlc3NzIiwiY29vcmRpbmF0ZXNzcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJkIiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsImRvdWdsYXNQZXVja2VyIiwiZG91Z2xhc1BldWNrZXJBcnJheSIsInNuYXAiLCJxdWFudGl6ZUFycmF5IiwicXVhbnRpemVNdWx0aUFycmF5IiwiX21hdGhfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsInNxdWFyZWRUb2xlcmFuY2UiLCJzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzIiwic2ltcGxpZmllZE9mZnNldCIsIm4iLCJtYXJrZXJzIiwiQXJyYXkiLCJzdGFjayIsImluZGV4IiwibGFzdCIsInBvcCIsImZpcnN0IiwibWF4U3F1YXJlZERpc3RhbmNlIiwieDEiLCJ5MSIsIngyIiwieTIiLCJ4IiwieSIsInNxdWFyZWREaXN0YW5jZSIsIk9iamVjdCIsInB1c2giLCJpJDEiLCJzaW1wbGlmaWVkRW5kcyIsImlpIiwidmFsdWUiLCJ0b2xlcmFuY2UiLCJNYXRoIiwicm91bmQiLCJxdWFudGl6ZSIsIngzIiwieTMiLCJkeDEiLCJkeTEiLCJkeDIiLCJkeTIiLCJzaW1wbGlmaWVkRW5kc3MiLCJnZW9tX0xpbmVhclJpbmciLCJTaW1wbGVHZW9tZXRyeSIsIkxpbmVhclJpbmciLCJvcHRfbGF5b3V0IiwiY2FsbCIsInRoaXMiLCJtYXhEZWx0YV8iLCJtYXhEZWx0YVJldmlzaW9uXyIsImlzQXJyYXkiLCJzZXRDb29yZGluYXRlcyIsInNldEZsYXRDb29yZGluYXRlcyIsIl9fcHJvdG9fXyIsInByb3RvdHlwZSIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwiY2xvbmUiLCJsYXlvdXQiLCJjbG9zZXN0UG9pbnRYWSIsImNsb3Nlc3RQb2ludCIsIm1pblNxdWFyZWREaXN0YW5jZSIsIm9sX2V4dGVudCIsImdldEV4dGVudCIsImdldFJldmlzaW9uIiwic3FydCIsImNsb3Nlc3QiLCJnZXRBcmVhIiwiZmxhdF9hcmVhIiwiZ2V0Q29vcmRpbmF0ZXMiLCJpbmZsYXRlIiwiZ2V0U2ltcGxpZmllZEdlb21ldHJ5SW50ZXJuYWwiLCJzaW1wbGlmeSIsIkdlb21ldHJ5TGF5b3V0IiwiWFkiLCJnZXRUeXBlIiwiR2VvbWV0cnlUeXBlIiwiTElORUFSX1JJTkciLCJpbnRlcnNlY3RzRXh0ZW50IiwiZXh0ZW50Iiwic2V0TGF5b3V0IiwiZGVmbGF0ZSIsImNoYW5nZWQiLCJnZW9tX1NpbXBsZUdlb21ldHJ5IiwiY2lyY3VsYXIiLCJmcm9tRXh0ZW50IiwiZnJvbUNpcmNsZSIsIm1ha2VSZWd1bGFyIiwiUG9seWdvbl9Qb2x5Z29uIiwiUG9seWdvbiIsIm9wdF9lbmRzIiwiZW5kc18iLCJmbGF0SW50ZXJpb3JQb2ludFJldmlzaW9uXyIsImZsYXRJbnRlcmlvclBvaW50XyIsIm9yaWVudGVkUmV2aXNpb25fIiwib3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXNfIiwiYXBwZW5kTGluZWFyUmluZyIsImxpbmVhclJpbmciLCJhcnJheSIsImdldEZsYXRDb29yZGluYXRlcyIsImNvbnRhaW5zWFkiLCJjb250YWlucyIsImdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzIiwib3B0X3JpZ2h0Iiwib3JpZW50IiwiZ2V0RW5kcyIsImdldEZsYXRJbnRlcmlvclBvaW50IiwiZmxhdENlbnRlciIsImludGVyaW9ycG9pbnQiLCJnZXRJbnRlcmlvclBvaW50IiwiUG9pbnQiLCJYWU0iLCJnZXRMaW5lYXJSaW5nQ291bnQiLCJnZXRMaW5lYXJSaW5nIiwiZ2V0TGluZWFyUmluZ3MiLCJsaW5lYXJSaW5ncyIsIlBPTFlHT04iLCJpbnRlcnNlY3RzZXh0ZW50IiwiY2VudGVyIiwicmFkaXVzIiwib3B0X24iLCJvcHRfc3BoZXJlUmFkaXVzIiwic3BoZXJlIiwiUEkiLCJtaW5YIiwibWluWSIsIm1heFgiLCJtYXhZIiwiY2lyY2xlIiwib3B0X3NpZGVzIiwib3B0X2FuZ2xlIiwic2lkZXMiLCJnZXRTdHJpZGUiLCJnZXRMYXlvdXQiLCJnZXRDZW50ZXIiLCJhcnJheUxlbmd0aCIsInBvbHlnb24iLCJnZXRSYWRpdXMiLCJzdGFydEFuZ2xlIiwiYW5nbGUiLCJtYXRoIiwiY29zIiwic2luIiwibWF4U3F1YXJlZERlbHRhIiwiYXJyYXlNYXhTcXVhcmVkRGVsdGEiLCJtdWx0aUFycmF5TWF4U3F1YXJlZERlbHRhIiwiYXNzaWduQ2xvc2VzdFBvaW50IiwiYXNzaWduQ2xvc2VzdEFycmF5UG9pbnQiLCJhc3NpZ25DbG9zZXN0TXVsdGlBcnJheVBvaW50IiwiYXNzaWduQ2xvc2VzdCIsIm9mZnNldDEiLCJvZmZzZXQyIiwiZHgiLCJkeSIsInQiLCJtYXgiLCJzcXVhcmVkRGVsdGEiLCJtYXhEZWx0YSIsImlzUmluZyIsIm9wdF90bXBQb2ludCIsInRtcFBvaW50IiwiTmFOIiwibGluZWFyUmluZ0NvbnRhaW5zRXh0ZW50IiwibGluZWFyUmluZ0NvbnRhaW5zWFkiLCJsaW5lYXJSaW5nc0NvbnRhaW5zWFkiLCJsaW5lYXJSaW5nc3NDb250YWluc1hZIiwiX2V4dGVudF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwiY29vcmRpbmF0ZSIsInduIiwiaW50ZXJzZWN0c0xpbmVTdHJpbmciLCJpbnRlcnNlY3RzTGluZVN0cmluZ0FycmF5IiwiaW50ZXJzZWN0c0xpbmVhclJpbmdBcnJheSIsImludGVyc2VjdHNMaW5lYXJSaW5nTXVsdGlBcnJheSIsIl9jb250YWluc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwiX3NlZ21lbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18iLCJjb29yZGluYXRlc0V4dGVudCIsInBvaW50MSIsInBvaW50MiIsImludGVyc2VjdHNMaW5lYXJSaW5nIiwidHdpY2VBcmVhIiwiYXJlYSIsImxpbmVhclJpbmdzcyIsImdldEludGVyaW9yUG9pbnRPZkFycmF5IiwiZ2V0SW50ZXJpb3JQb2ludHNPZk11bHRpQXJyYXkiLCJfYXJyYXlfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsImZsYXRDZW50ZXJzIiwiZmxhdENlbnRlcnNPZmZzZXQiLCJvcHRfZGVzdCIsImludGVyc2VjdGlvbnMiLCJyIiwicnIiLCJwb2ludFgiLCJtYXhTZWdtZW50TGVuZ3RoIiwiSW5maW5pdHkiLCJzb3J0Iiwic2VnbWVudExlbmd0aCIsImFicyIsImlzTmFOIiwiaW50ZXJpb3JQb2ludHMiLCJmb3JFYWNoIiwiY2FsbGJhY2siLCJvcHRfdGhpcyIsInJldCIsInRtcCIsImxpbmVhclJpbmdJc0Nsb2Nrd2lzZSIsImVkZ2UiLCJsaW5lYXJSaW5nSXNPcmllbnRlZCIsInJpZ2h0IiwiaXNDbG9ja3dpc2UiLCJsaW5lYXJSaW5nc0FyZU9yaWVudGVkIiwib3JpZW50TGluZWFyUmluZ3MiLCJvcmllbnRMaW5lYXJSaW5nc0FycmF5IiwiYmluYXJ5U2VhcmNoIiwiaGF5c3RhY2siLCJuZWVkbGUiLCJvcHRfY29tcGFyYXRvciIsIm1pZCIsImNtcCIsImNvbXBhcmF0b3IiLCJudW1iZXJTYWZlQ29tcGFyZUZ1bmN0aW9uIiwibG93IiwiaGlnaCIsImZvdW5kIiwiYSIsImIiLCJpbmNsdWRlcyIsImFyciIsIm9iaiIsImluZGV4T2YiLCJsaW5lYXJGaW5kTmVhcmVzdCIsInRhcmdldCIsImRpcmVjdGlvbiIsInJldmVyc2VTdWJBcnJheSIsImJlZ2luIiwiZXh0ZW5kIiwiZGF0YSIsImV4dGVuc2lvbiIsInJlbW92ZSIsInNwbGljZSIsImZpbmQiLCJmdW5jIiwiZXF1YWxzIiwiYXJyMSIsImFycjIiLCJsZW4xIiwic3RhYmxlU29ydCIsImNvbXBhcmVGbmMiLCJmaW5kSW5kZXgiLCJldmVyeSIsImVsIiwiaWR4IiwiaXNTb3J0ZWQiLCJvcHRfZnVuYyIsIm9wdF9zdHJpY3QiLCJjb21wYXJlIiwiY3VycmVudFZhbCIsInJlcyJdLCJtYXBwaW5ncyI6InlGQWFPLFNBQUFBLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBR1AsSUFGQSxJ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RUFBQTZPLEdBQ0FWLEVBQUFTLEVBQUFDLEVBQUF4QixLQUVBck4sR0FBQSxFQVVPLFNBQUE4TyxFQUFBekIsRUFBQTBCLEVBQUFDLEdBQ1AsSUFBQUMsRUFBQUYsR0FBQWpDLEVBQ0EsT0FBQU8sRUFBQXNCLE1BQUEsU0FBQU8sRUFBQWxQLEdBQ0EsT0FBQUEsRUFDQSxTQUVBLElBQUFtUCxFQUFBRixFQUFBNUIsRUFBQXJOLEVBQUEsR0FBQWtQLEdBQ0EsUUFBQUMsRUFBQSxHQUFBSCxHQUFBLElBQUFHLEtBdFBBblEsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQXFOLElBQUF2TixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBNE4sSUFBQTlOLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUFrTyxJQUFBcE8sRUFBQUMsRUFBQUMsRUFBQSxzQkFBQXNPLElBQUF4TyxFQUFBQyxFQUFBQyxFQUFBLHNCQUFBeU8sSUFBQTNPLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUEyTyxJQUFBN08sRUFBQUMsRUFBQUMsRUFBQSxzQkFBQThPLElBQUFoUCxFQUFBQyxFQUFBQyxFQUFBLHNCQUFBZ1AsSUFBQWxQLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUFrUCxJQUFBcFAsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQXNQLElBQUF4UCxFQUFBQyxFQUFBQyxFQUFBLHNCQUFBd1AsSUFBQTFQLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUE0UCIsImZpbGUiOiJ2ZW5kb3Jzfm9sL0dlb2xvY2F0aW9ufm9sL1ZpZXcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L2luZmxhdGVcbiAqL1xuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj19IG9wdF9jb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59IENvb3JkaW5hdGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5mbGF0ZUNvb3JkaW5hdGVzKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgb3B0X2Nvb3JkaW5hdGVzKSB7XG4gIHZhciBjb29yZGluYXRlcyA9IG9wdF9jb29yZGluYXRlcyAhPT0gdW5kZWZpbmVkID8gb3B0X2Nvb3JkaW5hdGVzIDogW107XG4gIHZhciBpID0gMDtcbiAgZm9yICh2YXIgaiA9IG9mZnNldDsgaiA8IGVuZDsgaiArPSBzdHJpZGUpIHtcbiAgICBjb29yZGluYXRlc1tpKytdID0gZmxhdENvb3JkaW5hdGVzLnNsaWNlKGosIGogKyBzdHJpZGUpO1xuICB9XG4gIGNvb3JkaW5hdGVzLmxlbmd0aCA9IGk7XG4gIHJldHVybiBjb29yZGluYXRlcztcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+PX0gb3B0X2Nvb3JkaW5hdGVzcyBDb29yZGluYXRlc3MuXG4gKiBAcmV0dXJuIHtBcnJheTxBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pn0gQ29vcmRpbmF0ZXNzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgb3B0X2Nvb3JkaW5hdGVzcykge1xuICB2YXIgY29vcmRpbmF0ZXNzID0gb3B0X2Nvb3JkaW5hdGVzcyAhPT0gdW5kZWZpbmVkID8gb3B0X2Nvb3JkaW5hdGVzcyA6IFtdO1xuICB2YXIgaSA9IDA7XG4gIGZvciAodmFyIGogPSAwLCBqaiA9IGVuZHMubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgIHZhciBlbmQgPSBlbmRzW2pdO1xuICAgIGNvb3JkaW5hdGVzc1tpKytdID0gaW5mbGF0ZUNvb3JkaW5hdGVzKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBjb29yZGluYXRlc3NbaV0pO1xuICAgIG9mZnNldCA9IGVuZDtcbiAgfVxuICBjb29yZGluYXRlc3MubGVuZ3RoID0gaTtcbiAgcmV0dXJuIGNvb3JkaW5hdGVzcztcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PEFycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+Pj19IG9wdF9jb29yZGluYXRlc3NzXG4gKiAgICAgQ29vcmRpbmF0ZXNzcy5cbiAqIEByZXR1cm4ge0FycmF5PEFycmF5PEFycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+Pn0gQ29vcmRpbmF0ZXNzcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluZmxhdGVNdWx0aUNvb3JkaW5hdGVzQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzLCBzdHJpZGUsIG9wdF9jb29yZGluYXRlc3NzKSB7XG4gIHZhciBjb29yZGluYXRlc3NzID0gb3B0X2Nvb3JkaW5hdGVzc3MgIT09IHVuZGVmaW5lZCA/IG9wdF9jb29yZGluYXRlc3NzIDogW107XG4gIHZhciBpID0gMDtcbiAgZm9yICh2YXIgaiA9IDAsIGpqID0gZW5kc3MubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgIHZhciBlbmRzID0gZW5kc3Nbal07XG4gICAgY29vcmRpbmF0ZXNzc1tpKytdID0gaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXkoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCBjb29yZGluYXRlc3NzW2ldKTtcbiAgICBvZmZzZXQgPSBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gIH1cbiAgY29vcmRpbmF0ZXNzcy5sZW5ndGggPSBpO1xuICByZXR1cm4gY29vcmRpbmF0ZXNzcztcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5mbGF0ZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L3NpbXBsaWZ5XG4gKi9cbi8vIEJhc2VkIG9uIHNpbXBsaWZ5LWpzIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3VybmVyL3NpbXBsaWZ5LWpzXG4vLyBDb3B5cmlnaHQgKGMpIDIwMTIsIFZsYWRpbWlyIEFnYWZvbmtpblxuLy8gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vXG4vLyBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbi8vIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuLy9cbi8vICAgIDEuIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcbi8vICAgICAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4vL1xuLy8gICAgMi4gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbi8vICAgICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGVcbi8vICAgICAgIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4vL1xuLy8gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCJcbi8vIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEVcbi8vIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFXG4vLyBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFXG4vLyBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SXG4vLyBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRlxuLy8gU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTXG4vLyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTlxuLy8gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSlcbi8vIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFXG4vLyBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cblxuaW1wb3J0IHtzcXVhcmVkU2VnbWVudERpc3RhbmNlLCBzcXVhcmVkRGlzdGFuY2V9IGZyb20gJy4uLy4uL21hdGguanMnO1xuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICogQHBhcmFtIHtib29sZWFufSBoaWdoUXVhbGl0eSBIaWdoZXN0IHF1YWxpdHkuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj49fSBvcHRfc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyBTaW1wbGlmaWVkIGZsYXRcbiAqICAgICBjb29yZGluYXRlcy5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFNpbXBsaWZpZWQgbGluZSBzdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaW1wbGlmeUxpbmVTdHJpbmcoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCxcbiAgc3RyaWRlLCBzcXVhcmVkVG9sZXJhbmNlLCBoaWdoUXVhbGl0eSwgb3B0X3NpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMpIHtcbiAgdmFyIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgPSBvcHRfc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyAhPT0gdW5kZWZpbmVkID9cbiAgICBvcHRfc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyA6IFtdO1xuICBpZiAoIWhpZ2hRdWFsaXR5KSB7XG4gICAgZW5kID0gcmFkaWFsRGlzdGFuY2UoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCxcbiAgICAgIHN0cmlkZSwgc3F1YXJlZFRvbGVyYW5jZSxcbiAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIDApO1xuICAgIGZsYXRDb29yZGluYXRlcyA9IHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXM7XG4gICAgb2Zmc2V0ID0gMDtcbiAgICBzdHJpZGUgPSAyO1xuICB9XG4gIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMubGVuZ3RoID0gZG91Z2xhc1BldWNrZXIoXG4gICAgZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBzcXVhcmVkVG9sZXJhbmNlLFxuICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIDApO1xuICByZXR1cm4gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcztcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyBTaW1wbGlmaWVkIGZsYXRcbiAqICAgICBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzaW1wbGlmaWVkT2Zmc2V0IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICogQHJldHVybiB7bnVtYmVyfSBTaW1wbGlmaWVkIG9mZnNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRvdWdsYXNQZXVja2VyKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsXG4gIHN0cmlkZSwgc3F1YXJlZFRvbGVyYW5jZSwgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcywgc2ltcGxpZmllZE9mZnNldCkge1xuICB2YXIgbiA9IChlbmQgLSBvZmZzZXQpIC8gc3RyaWRlO1xuICBpZiAobiA8IDMpIHtcbiAgICBmb3IgKDsgb2Zmc2V0IDwgZW5kOyBvZmZzZXQgKz0gc3RyaWRlKSB7XG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPVxuICAgICAgICAgIGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID1cbiAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgfVxuICAgIHJldHVybiBzaW1wbGlmaWVkT2Zmc2V0O1xuICB9XG4gIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi9cbiAgdmFyIG1hcmtlcnMgPSBuZXcgQXJyYXkobik7XG4gIG1hcmtlcnNbMF0gPSAxO1xuICBtYXJrZXJzW24gLSAxXSA9IDE7XG4gIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi9cbiAgdmFyIHN0YWNrID0gW29mZnNldCwgZW5kIC0gc3RyaWRlXTtcbiAgdmFyIGluZGV4ID0gMDtcbiAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICB2YXIgbGFzdCA9IHN0YWNrLnBvcCgpO1xuICAgIHZhciBmaXJzdCA9IHN0YWNrLnBvcCgpO1xuICAgIHZhciBtYXhTcXVhcmVkRGlzdGFuY2UgPSAwO1xuICAgIHZhciB4MSA9IGZsYXRDb29yZGluYXRlc1tmaXJzdF07XG4gICAgdmFyIHkxID0gZmxhdENvb3JkaW5hdGVzW2ZpcnN0ICsgMV07XG4gICAgdmFyIHgyID0gZmxhdENvb3JkaW5hdGVzW2xhc3RdO1xuICAgIHZhciB5MiA9IGZsYXRDb29yZGluYXRlc1tsYXN0ICsgMV07XG4gICAgZm9yICh2YXIgaSA9IGZpcnN0ICsgc3RyaWRlOyBpIDwgbGFzdDsgaSArPSBzdHJpZGUpIHtcbiAgICAgIHZhciB4ID0gZmxhdENvb3JkaW5hdGVzW2ldO1xuICAgICAgdmFyIHkgPSBmbGF0Q29vcmRpbmF0ZXNbaSArIDFdO1xuICAgICAgdmFyIHNxdWFyZWREaXN0YW5jZSA9IHNxdWFyZWRTZWdtZW50RGlzdGFuY2UoXG4gICAgICAgIHgsIHksIHgxLCB5MSwgeDIsIHkyKTtcbiAgICAgIGlmIChzcXVhcmVkRGlzdGFuY2UgPiBtYXhTcXVhcmVkRGlzdGFuY2UpIHtcbiAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICBtYXhTcXVhcmVkRGlzdGFuY2UgPSBzcXVhcmVkRGlzdGFuY2U7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChtYXhTcXVhcmVkRGlzdGFuY2UgPiBzcXVhcmVkVG9sZXJhbmNlKSB7XG4gICAgICBtYXJrZXJzWyhpbmRleCAtIG9mZnNldCkgLyBzdHJpZGVdID0gMTtcbiAgICAgIGlmIChmaXJzdCArIHN0cmlkZSA8IGluZGV4KSB7XG4gICAgICAgIHN0YWNrLnB1c2goZmlyc3QsIGluZGV4KTtcbiAgICAgIH1cbiAgICAgIGlmIChpbmRleCArIHN0cmlkZSA8IGxhc3QpIHtcbiAgICAgICAgc3RhY2sucHVzaChpbmRleCwgbGFzdCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IG47ICsraSQxKSB7XG4gICAgaWYgKG1hcmtlcnNbaSQxXSkge1xuICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID1cbiAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgaSQxICogc3RyaWRlXTtcbiAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9XG4gICAgICAgICAgZmxhdENvb3JkaW5hdGVzW29mZnNldCArIGkkMSAqIHN0cmlkZSArIDFdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyBTaW1wbGlmaWVkIGZsYXRcbiAqICAgICBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzaW1wbGlmaWVkT2Zmc2V0IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRW5kcyBTaW1wbGlmaWVkIGVuZHMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZG91Z2xhc1BldWNrZXJBcnJheShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCxcbiAgZW5kcywgc3RyaWRlLCBzcXVhcmVkVG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLFxuICBzaW1wbGlmaWVkT2Zmc2V0LCBzaW1wbGlmaWVkRW5kcykge1xuICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICB2YXIgZW5kID0gZW5kc1tpXTtcbiAgICBzaW1wbGlmaWVkT2Zmc2V0ID0gZG91Z2xhc1BldWNrZXIoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIHNxdWFyZWRUb2xlcmFuY2UsXG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0KTtcbiAgICBzaW1wbGlmaWVkRW5kcy5wdXNoKHNpbXBsaWZpZWRPZmZzZXQpO1xuICAgIG9mZnNldCA9IGVuZDtcbiAgfVxuICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyBTaW1wbGlmaWVkIGZsYXRcbiAqICAgICBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzaW1wbGlmaWVkT2Zmc2V0IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gc2ltcGxpZmllZEVuZHNzIFNpbXBsaWZpZWQgZW5kc3MuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZG91Z2xhc1BldWNrZXJNdWx0aUFycmF5KFxuICBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc3MsIHN0cmlkZSwgc3F1YXJlZFRvbGVyYW5jZSxcbiAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcywgc2ltcGxpZmllZE9mZnNldCwgc2ltcGxpZmllZEVuZHNzKSB7XG4gIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICB2YXIgZW5kcyA9IGVuZHNzW2ldO1xuICAgIHZhciBzaW1wbGlmaWVkRW5kcyA9IFtdO1xuICAgIHNpbXBsaWZpZWRPZmZzZXQgPSBkb3VnbGFzUGV1Y2tlckFycmF5KFxuICAgICAgZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgc3F1YXJlZFRvbGVyYW5jZSxcbiAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIHNpbXBsaWZpZWRPZmZzZXQsIHNpbXBsaWZpZWRFbmRzKTtcbiAgICBzaW1wbGlmaWVkRW5kc3MucHVzaChzaW1wbGlmaWVkRW5kcyk7XG4gICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICB9XG4gIHJldHVybiBzaW1wbGlmaWVkT2Zmc2V0O1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzIFNpbXBsaWZpZWQgZmxhdFxuICogICAgIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHNpbXBsaWZpZWRPZmZzZXQgU2ltcGxpZmllZCBvZmZzZXQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFkaWFsRGlzdGFuY2UoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCxcbiAgc3RyaWRlLCBzcXVhcmVkVG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0KSB7XG4gIGlmIChlbmQgPD0gb2Zmc2V0ICsgc3RyaWRlKSB7XG4gICAgLy8gemVybyBvciBvbmUgcG9pbnQsIG5vIHNpbXBsaWZpY2F0aW9uIHBvc3NpYmxlLCBzbyBjb3B5IGFuZCByZXR1cm5cbiAgICBmb3IgKDsgb2Zmc2V0IDwgZW5kOyBvZmZzZXQgKz0gc3RyaWRlKSB7XG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9XG4gICAgICAgICAgZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgIH1cbiAgICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbiAgfVxuICB2YXIgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgdmFyIHkxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAvLyBjb3B5IGZpcnN0IHBvaW50XG4gIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHgxO1xuICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB5MTtcbiAgdmFyIHgyID0geDE7XG4gIHZhciB5MiA9IHkxO1xuICBmb3IgKG9mZnNldCArPSBzdHJpZGU7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgIHgyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgaWYgKHNxdWFyZWREaXN0YW5jZSh4MSwgeTEsIHgyLCB5MikgPiBzcXVhcmVkVG9sZXJhbmNlKSB7XG4gICAgICAvLyBjb3B5IHBvaW50IGF0IG9mZnNldFxuICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geDI7XG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB5MjtcbiAgICAgIHgxID0geDI7XG4gICAgICB5MSA9IHkyO1xuICAgIH1cbiAgfVxuICBpZiAoeDIgIT0geDEgfHwgeTIgIT0geTEpIHtcbiAgICAvLyBjb3B5IGxhc3QgcG9pbnRcbiAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB4MjtcbiAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB5MjtcbiAgfVxuICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBWYWx1ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICogQHJldHVybiB7bnVtYmVyfSBSb3VuZGVkIHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc25hcCh2YWx1ZSwgdG9sZXJhbmNlKSB7XG4gIHJldHVybiB0b2xlcmFuY2UgKiBNYXRoLnJvdW5kKHZhbHVlIC8gdG9sZXJhbmNlKTtcbn1cblxuXG4vKipcbiAqIFNpbXBsaWZpZXMgYSBsaW5lIHN0cmluZyB1c2luZyBhbiBhbGdvcml0aG0gZGVzaWduZWQgYnkgVGltIFNjaGF1Yi5cbiAqIENvb3JkaW5hdGVzIGFyZSBzbmFwcGVkIHRvIHRoZSBuZWFyZXN0IHZhbHVlIGluIGEgdmlydHVhbCBncmlkIGFuZFxuICogY29uc2VjdXRpdmUgZHVwbGljYXRlIGNvb3JkaW5hdGVzIGFyZSBkaXNjYXJkZWQuICBUaGlzIGVmZmVjdGl2ZWx5IHByZXNlcnZlc1xuICogdG9wb2xvZ3kgYXMgdGhlIHNpbXBsaWZpY2F0aW9uIG9mIGFueSBzdWJzZWN0aW9uIG9mIGEgbGluZSBzdHJpbmcgaXNcbiAqIGluZGVwZW5kZW50IG9mIHRoZSByZXN0IG9mIHRoZSBsaW5lIHN0cmluZy4gIFRoaXMgbWVhbnMgdGhhdCwgZm9yIGV4YW1wbGVzLFxuICogdGhlIGNvbW1vbiBlZGdlIGJldHdlZW4gdHdvIHBvbHlnb25zIHdpbGwgYmUgc2ltcGxpZmllZCB0byB0aGUgc2FtZSBsaW5lXG4gKiBzdHJpbmcgaW5kZXBlbmRlbnRseSBpbiBib3RoIHBvbHlnb25zLiAgVGhpcyBpbXBsZW1lbnRhdGlvbiB1c2VzIGEgc2luZ2xlXG4gKiBwYXNzIG92ZXIgdGhlIGNvb3JkaW5hdGVzIGFuZCBlbGltaW5hdGVzIGludGVybWVkaWF0ZSBjb2xsaW5lYXIgcG9pbnRzLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzIFNpbXBsaWZpZWQgZmxhdFxuICogICAgIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHNpbXBsaWZpZWRPZmZzZXQgU2ltcGxpZmllZCBvZmZzZXQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVhbnRpemUoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLFxuICB0b2xlcmFuY2UsIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIHNpbXBsaWZpZWRPZmZzZXQpIHtcbiAgLy8gZG8gbm90aGluZyBpZiB0aGUgbGluZSBpcyBlbXB0eVxuICBpZiAob2Zmc2V0ID09IGVuZCkge1xuICAgIHJldHVybiBzaW1wbGlmaWVkT2Zmc2V0O1xuICB9XG4gIC8vIHNuYXAgdGhlIGZpcnN0IGNvb3JkaW5hdGUgKFAxKVxuICB2YXIgeDEgPSBzbmFwKGZsYXRDb29yZGluYXRlc1tvZmZzZXRdLCB0b2xlcmFuY2UpO1xuICB2YXIgeTEgPSBzbmFwKGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXSwgdG9sZXJhbmNlKTtcbiAgb2Zmc2V0ICs9IHN0cmlkZTtcbiAgLy8gYWRkIHRoZSBmaXJzdCBjb29yZGluYXRlIHRvIHRoZSBvdXRwdXRcbiAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geDE7XG4gIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHkxO1xuICAvLyBmaW5kIHRoZSBuZXh0IGNvb3JkaW5hdGUgdGhhdCBkb2VzIG5vdCBzbmFwIHRvIHRoZSBzYW1lIHZhbHVlIGFzIHRoZSBmaXJzdFxuICAvLyBjb29yZGluYXRlIChQMilcbiAgdmFyIHgyLCB5MjtcbiAgZG8ge1xuICAgIHgyID0gc25hcChmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XSwgdG9sZXJhbmNlKTtcbiAgICB5MiA9IHNuYXAoZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdLCB0b2xlcmFuY2UpO1xuICAgIG9mZnNldCArPSBzdHJpZGU7XG4gICAgaWYgKG9mZnNldCA9PSBlbmQpIHtcbiAgICAgIC8vIGFsbCBjb29yZGluYXRlcyBzbmFwIHRvIHRoZSBzYW1lIHZhbHVlLCB0aGUgbGluZSBjb2xsYXBzZXMgdG8gYSBwb2ludFxuICAgICAgLy8gcHVzaCB0aGUgbGFzdCBzbmFwcGVkIHZhbHVlIGFueXdheSB0byBlbnN1cmUgdGhhdCB0aGUgb3V0cHV0IGNvbnRhaW5zXG4gICAgICAvLyBhdCBsZWFzdCB0d28gcG9pbnRzXG4gICAgICAvLyBGSVhNRSBzaG91bGQgd2UgcmVhbGx5IHJldHVybiBhdCBsZWFzdCB0d28gcG9pbnRzIGFueXdheT9cbiAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHgyO1xuICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geTI7XG4gICAgICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbiAgICB9XG4gIH0gd2hpbGUgKHgyID09IHgxICYmIHkyID09IHkxKTtcbiAgd2hpbGUgKG9mZnNldCA8IGVuZCkge1xuICAgIC8vIHNuYXAgdGhlIG5leHQgY29vcmRpbmF0ZSAoUDMpXG4gICAgdmFyIHgzID0gc25hcChmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XSwgdG9sZXJhbmNlKTtcbiAgICB2YXIgeTMgPSBzbmFwKGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXSwgdG9sZXJhbmNlKTtcbiAgICBvZmZzZXQgKz0gc3RyaWRlO1xuICAgIC8vIHNraXAgUDMgaWYgaXQgaXMgZXF1YWwgdG8gUDJcbiAgICBpZiAoeDMgPT0geDIgJiYgeTMgPT0geTIpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICAvLyBjYWxjdWxhdGUgdGhlIGRlbHRhIGJldHdlZW4gUDEgYW5kIFAyXG4gICAgdmFyIGR4MSA9IHgyIC0geDE7XG4gICAgdmFyIGR5MSA9IHkyIC0geTE7XG4gICAgLy8gY2FsY3VsYXRlIHRoZSBkZWx0YSBiZXR3ZWVuIFAzIGFuZCBQMVxuICAgIHZhciBkeDIgPSB4MyAtIHgxO1xuICAgIHZhciBkeTIgPSB5MyAtIHkxO1xuICAgIC8vIGlmIFAxLCBQMiwgYW5kIFAzIGFyZSBjb2xpbmVhciBhbmQgUDMgaXMgZnVydGhlciBmcm9tIFAxIHRoYW4gUDIgaXMgZnJvbVxuICAgIC8vIFAxIGluIHRoZSBzYW1lIGRpcmVjdGlvbiB0aGVuIFAyIGlzIG9uIHRoZSBzdHJhaWdodCBsaW5lIGJldHdlZW4gUDEgYW5kXG4gICAgLy8gUDNcbiAgICBpZiAoKGR4MSAqIGR5MiA9PSBkeTEgKiBkeDIpICYmXG4gICAgICAgICgoZHgxIDwgMCAmJiBkeDIgPCBkeDEpIHx8IGR4MSA9PSBkeDIgfHwgKGR4MSA+IDAgJiYgZHgyID4gZHgxKSkgJiZcbiAgICAgICAgKChkeTEgPCAwICYmIGR5MiA8IGR5MSkgfHwgZHkxID09IGR5MiB8fCAoZHkxID4gMCAmJiBkeTIgPiBkeTEpKSkge1xuICAgICAgLy8gZGlzY2FyZCBQMiBhbmQgc2V0IFAyID0gUDNcbiAgICAgIHgyID0geDM7XG4gICAgICB5MiA9IHkzO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIC8vIGVpdGhlciBQMSwgUDIsIGFuZCBQMyBhcmUgbm90IGNvbGluZWFyLCBvciB0aGV5IGFyZSBjb2xpbmVhciBidXQgUDMgaXNcbiAgICAvLyBiZXR3ZWVuIFAzIGFuZCBQMSBvciBvbiB0aGUgb3Bwb3NpdGUgaGFsZiBvZiB0aGUgbGluZSB0byBQMi4gIGFkZCBQMixcbiAgICAvLyBhbmQgY29udGludWUgd2l0aCBQMSA9IFAyIGFuZCBQMiA9IFAzXG4gICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geDI7XG4gICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geTI7XG4gICAgeDEgPSB4MjtcbiAgICB5MSA9IHkyO1xuICAgIHgyID0geDM7XG4gICAgeTIgPSB5MztcbiAgfVxuICAvLyBhZGQgdGhlIGxhc3QgcG9pbnQgKFAyKVxuICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB4MjtcbiAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geTI7XG4gIHJldHVybiBzaW1wbGlmaWVkT2Zmc2V0O1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzIFNpbXBsaWZpZWQgZmxhdFxuICogICAgIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHNpbXBsaWZpZWRPZmZzZXQgU2ltcGxpZmllZCBvZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHNpbXBsaWZpZWRFbmRzIFNpbXBsaWZpZWQgZW5kcy5cbiAqIEByZXR1cm4ge251bWJlcn0gU2ltcGxpZmllZCBvZmZzZXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWFudGl6ZUFycmF5KFxuICBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLFxuICB0b2xlcmFuY2UsXG4gIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIHNpbXBsaWZpZWRPZmZzZXQsIHNpbXBsaWZpZWRFbmRzKSB7XG4gIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIHZhciBlbmQgPSBlbmRzW2ldO1xuICAgIHNpbXBsaWZpZWRPZmZzZXQgPSBxdWFudGl6ZShcbiAgICAgIGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSxcbiAgICAgIHRvbGVyYW5jZSxcbiAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIHNpbXBsaWZpZWRPZmZzZXQpO1xuICAgIHNpbXBsaWZpZWRFbmRzLnB1c2goc2ltcGxpZmllZE9mZnNldCk7XG4gICAgb2Zmc2V0ID0gZW5kO1xuICB9XG4gIHJldHVybiBzaW1wbGlmaWVkT2Zmc2V0O1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgRW5kc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzIFNpbXBsaWZpZWQgZmxhdFxuICogICAgIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHNpbXBsaWZpZWRPZmZzZXQgU2ltcGxpZmllZCBvZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBzaW1wbGlmaWVkRW5kc3MgU2ltcGxpZmllZCBlbmRzcy5cbiAqIEByZXR1cm4ge251bWJlcn0gU2ltcGxpZmllZCBvZmZzZXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWFudGl6ZU11bHRpQXJyYXkoXG4gIGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlLFxuICB0b2xlcmFuY2UsXG4gIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIHNpbXBsaWZpZWRPZmZzZXQsIHNpbXBsaWZpZWRFbmRzcykge1xuICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgdmFyIGVuZHMgPSBlbmRzc1tpXTtcbiAgICB2YXIgc2ltcGxpZmllZEVuZHMgPSBbXTtcbiAgICBzaW1wbGlmaWVkT2Zmc2V0ID0gcXVhbnRpemVBcnJheShcbiAgICAgIGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsXG4gICAgICB0b2xlcmFuY2UsXG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0LCBzaW1wbGlmaWVkRW5kcyk7XG4gICAgc2ltcGxpZmllZEVuZHNzLnB1c2goc2ltcGxpZmllZEVuZHMpO1xuICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgfVxuICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2ltcGxpZnkuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vTGluZWFyUmluZ1xuICovXG5pbXBvcnQge2Nsb3Nlc3RTcXVhcmVkRGlzdGFuY2VYWX0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCBHZW9tZXRyeUxheW91dCBmcm9tICcuL0dlb21ldHJ5TGF5b3V0LmpzJztcbmltcG9ydCBHZW9tZXRyeVR5cGUgZnJvbSAnLi9HZW9tZXRyeVR5cGUuanMnO1xuaW1wb3J0IFNpbXBsZUdlb21ldHJ5IGZyb20gJy4vU2ltcGxlR2VvbWV0cnkuanMnO1xuaW1wb3J0IHtsaW5lYXJSaW5nIGFzIGxpbmVhclJpbmdBcmVhfSBmcm9tICcuL2ZsYXQvYXJlYS5qcyc7XG5pbXBvcnQge2Fzc2lnbkNsb3Nlc3RQb2ludCwgbWF4U3F1YXJlZERlbHRhfSBmcm9tICcuL2ZsYXQvY2xvc2VzdC5qcyc7XG5pbXBvcnQge2RlZmxhdGVDb29yZGluYXRlc30gZnJvbSAnLi9mbGF0L2RlZmxhdGUuanMnO1xuaW1wb3J0IHtpbmZsYXRlQ29vcmRpbmF0ZXN9IGZyb20gJy4vZmxhdC9pbmZsYXRlLmpzJztcbmltcG9ydCB7ZG91Z2xhc1BldWNrZXJ9IGZyb20gJy4vZmxhdC9zaW1wbGlmeS5qcyc7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogTGluZWFyIHJpbmcgZ2VvbWV0cnkuIE9ubHkgdXNlZCBhcyBwYXJ0IG9mIHBvbHlnb247IGNhbm5vdCBiZSByZW5kZXJlZFxuICogb24gaXRzIG93bi5cbiAqXG4gKiBAYXBpXG4gKi9cbnZhciBMaW5lYXJSaW5nID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU2ltcGxlR2VvbWV0cnkpIHtcbiAgZnVuY3Rpb24gTGluZWFyUmluZyhjb29yZGluYXRlcywgb3B0X2xheW91dCkge1xuXG4gICAgU2ltcGxlR2VvbWV0cnkuY2FsbCh0aGlzKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1heERlbHRhXyA9IC0xO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWF4RGVsdGFSZXZpc2lvbl8gPSAtMTtcblxuICAgIGlmIChvcHRfbGF5b3V0ICE9PSB1bmRlZmluZWQgJiYgIUFycmF5LmlzQXJyYXkoY29vcmRpbmF0ZXNbMF0pKSB7XG4gICAgICB0aGlzLnNldEZsYXRDb29yZGluYXRlcyhvcHRfbGF5b3V0LCAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovIChjb29yZGluYXRlcykpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldENvb3JkaW5hdGVzKC8qKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gKi8gKGNvb3JkaW5hdGVzKSwgb3B0X2xheW91dCk7XG4gICAgfVxuXG4gIH1cblxuICBpZiAoIFNpbXBsZUdlb21ldHJ5ICkgTGluZWFyUmluZy5fX3Byb3RvX18gPSBTaW1wbGVHZW9tZXRyeTtcbiAgTGluZWFyUmluZy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTaW1wbGVHZW9tZXRyeSAmJiBTaW1wbGVHZW9tZXRyeS5wcm90b3R5cGUgKTtcbiAgTGluZWFyUmluZy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMaW5lYXJSaW5nO1xuXG4gIC8qKlxuICAgKiBNYWtlIGEgY29tcGxldGUgY29weSBvZiB0aGUgZ2VvbWV0cnkuXG4gICAqIEByZXR1cm4geyFMaW5lYXJSaW5nfSBDbG9uZS5cbiAgICogQG92ZXJyaWRlXG4gICAqIEBhcGlcbiAgICovXG4gIExpbmVhclJpbmcucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUgKCkge1xuICAgIHJldHVybiBuZXcgTGluZWFyUmluZyh0aGlzLmZsYXRDb29yZGluYXRlcy5zbGljZSgpLCB0aGlzLmxheW91dCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBMaW5lYXJSaW5nLnByb3RvdHlwZS5jbG9zZXN0UG9pbnRYWSA9IGZ1bmN0aW9uIGNsb3Nlc3RQb2ludFhZICh4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSkge1xuICAgIGlmIChtaW5TcXVhcmVkRGlzdGFuY2UgPCBjbG9zZXN0U3F1YXJlZERpc3RhbmNlWFkodGhpcy5nZXRFeHRlbnQoKSwgeCwgeSkpIHtcbiAgICAgIHJldHVybiBtaW5TcXVhcmVkRGlzdGFuY2U7XG4gICAgfVxuICAgIGlmICh0aGlzLm1heERlbHRhUmV2aXNpb25fICE9IHRoaXMuZ2V0UmV2aXNpb24oKSkge1xuICAgICAgdGhpcy5tYXhEZWx0YV8gPSBNYXRoLnNxcnQobWF4U3F1YXJlZERlbHRhKFxuICAgICAgICB0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCB0aGlzLnN0cmlkZSwgMCkpO1xuICAgICAgdGhpcy5tYXhEZWx0YVJldmlzaW9uXyA9IHRoaXMuZ2V0UmV2aXNpb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIGFzc2lnbkNsb3Nlc3RQb2ludChcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLCAwLCB0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGgsIHRoaXMuc3RyaWRlLFxuICAgICAgdGhpcy5tYXhEZWx0YV8sIHRydWUsIHgsIHksIGNsb3Nlc3RQb2ludCwgbWluU3F1YXJlZERpc3RhbmNlKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBhcmVhIG9mIHRoZSBsaW5lYXIgcmluZyBvbiBwcm9qZWN0ZWQgcGxhbmUuXG4gICAqIEByZXR1cm4ge251bWJlcn0gQXJlYSAob24gcHJvamVjdGVkIHBsYW5lKS5cbiAgICogQGFwaVxuICAgKi9cbiAgTGluZWFyUmluZy5wcm90b3R5cGUuZ2V0QXJlYSA9IGZ1bmN0aW9uIGdldEFyZWEgKCkge1xuICAgIHJldHVybiBsaW5lYXJSaW5nQXJlYSh0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCB0aGlzLnN0cmlkZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIGxpbmVhciByaW5nLlxuICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBDb29yZGluYXRlcy5cbiAgICogQG92ZXJyaWRlXG4gICAqIEBhcGlcbiAgICovXG4gIExpbmVhclJpbmcucHJvdG90eXBlLmdldENvb3JkaW5hdGVzID0gZnVuY3Rpb24gZ2V0Q29vcmRpbmF0ZXMgKCkge1xuICAgIHJldHVybiBpbmZsYXRlQ29vcmRpbmF0ZXMoXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCB0aGlzLnN0cmlkZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBMaW5lYXJSaW5nLnByb3RvdHlwZS5nZXRTaW1wbGlmaWVkR2VvbWV0cnlJbnRlcm5hbCA9IGZ1bmN0aW9uIGdldFNpbXBsaWZpZWRHZW9tZXRyeUludGVybmFsIChzcXVhcmVkVG9sZXJhbmNlKSB7XG4gICAgdmFyIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgPSBbXTtcbiAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLmxlbmd0aCA9IGRvdWdsYXNQZXVja2VyKFxuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgdGhpcy5zdHJpZGUsXG4gICAgICBzcXVhcmVkVG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCAwKTtcbiAgICByZXR1cm4gbmV3IExpbmVhclJpbmcoc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcywgR2VvbWV0cnlMYXlvdXQuWFkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKiBAYXBpXG4gICAqL1xuICBMaW5lYXJSaW5nLnByb3RvdHlwZS5nZXRUeXBlID0gZnVuY3Rpb24gZ2V0VHlwZSAoKSB7XG4gICAgcmV0dXJuIEdlb21ldHJ5VHlwZS5MSU5FQVJfUklORztcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIExpbmVhclJpbmcucHJvdG90eXBlLmludGVyc2VjdHNFeHRlbnQgPSBmdW5jdGlvbiBpbnRlcnNlY3RzRXh0ZW50IChleHRlbnQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIGxpbmVhciByaW5nLlxuICAgKiBAcGFyYW0geyFBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBjb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAgICogQHBhcmFtIHtHZW9tZXRyeUxheW91dD19IG9wdF9sYXlvdXQgTGF5b3V0LlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQGFwaVxuICAgKi9cbiAgTGluZWFyUmluZy5wcm90b3R5cGUuc2V0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiBzZXRDb29yZGluYXRlcyAoY29vcmRpbmF0ZXMsIG9wdF9sYXlvdXQpIHtcbiAgICB0aGlzLnNldExheW91dChvcHRfbGF5b3V0LCBjb29yZGluYXRlcywgMSk7XG4gICAgaWYgKCF0aGlzLmZsYXRDb29yZGluYXRlcykge1xuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMgPSBbXTtcbiAgICB9XG4gICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoID0gZGVmbGF0ZUNvb3JkaW5hdGVzKFxuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIGNvb3JkaW5hdGVzLCB0aGlzLnN0cmlkZSk7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH07XG5cbiAgcmV0dXJuIExpbmVhclJpbmc7XG59KFNpbXBsZUdlb21ldHJ5KSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgTGluZWFyUmluZztcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGluZWFyUmluZy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9Qb2x5Z29uXG4gKi9cbmltcG9ydCB7ZXh0ZW5kfSBmcm9tICcuLi9hcnJheS5qcyc7XG5pbXBvcnQge2Nsb3Nlc3RTcXVhcmVkRGlzdGFuY2VYWSwgZ2V0Q2VudGVyfSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IEdlb21ldHJ5TGF5b3V0IGZyb20gJy4vR2VvbWV0cnlMYXlvdXQuanMnO1xuaW1wb3J0IEdlb21ldHJ5VHlwZSBmcm9tICcuL0dlb21ldHJ5VHlwZS5qcyc7XG5pbXBvcnQgTGluZWFyUmluZyBmcm9tICcuL0xpbmVhclJpbmcuanMnO1xuaW1wb3J0IFBvaW50IGZyb20gJy4vUG9pbnQuanMnO1xuaW1wb3J0IFNpbXBsZUdlb21ldHJ5IGZyb20gJy4vU2ltcGxlR2VvbWV0cnkuanMnO1xuaW1wb3J0IHtvZmZzZXQgYXMgc3BoZXJlT2Zmc2V0fSBmcm9tICcuLi9zcGhlcmUuanMnO1xuaW1wb3J0IHtsaW5lYXJSaW5ncyBhcyBsaW5lYXJSaW5nc0FyZWF9IGZyb20gJy4vZmxhdC9hcmVhLmpzJztcbmltcG9ydCB7YXNzaWduQ2xvc2VzdEFycmF5UG9pbnQsIGFycmF5TWF4U3F1YXJlZERlbHRhfSBmcm9tICcuL2ZsYXQvY2xvc2VzdC5qcyc7XG5pbXBvcnQge2xpbmVhclJpbmdzQ29udGFpbnNYWX0gZnJvbSAnLi9mbGF0L2NvbnRhaW5zLmpzJztcbmltcG9ydCB7ZGVmbGF0ZUNvb3JkaW5hdGVzQXJyYXl9IGZyb20gJy4vZmxhdC9kZWZsYXRlLmpzJztcbmltcG9ydCB7aW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXl9IGZyb20gJy4vZmxhdC9pbmZsYXRlLmpzJztcbmltcG9ydCB7Z2V0SW50ZXJpb3JQb2ludE9mQXJyYXl9IGZyb20gJy4vZmxhdC9pbnRlcmlvcnBvaW50LmpzJztcbmltcG9ydCB7aW50ZXJzZWN0c0xpbmVhclJpbmdBcnJheX0gZnJvbSAnLi9mbGF0L2ludGVyc2VjdHNleHRlbnQuanMnO1xuaW1wb3J0IHtsaW5lYXJSaW5nSXNPcmllbnRlZCwgb3JpZW50TGluZWFyUmluZ3N9IGZyb20gJy4vZmxhdC9vcmllbnQuanMnO1xuaW1wb3J0IHtxdWFudGl6ZUFycmF5fSBmcm9tICcuL2ZsYXQvc2ltcGxpZnkuanMnO1xuaW1wb3J0IHttb2R1bG99IGZyb20gJy4uL21hdGguanMnO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFBvbHlnb24gZ2VvbWV0cnkuXG4gKlxuICogQGFwaVxuICovXG52YXIgUG9seWdvbiA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFNpbXBsZUdlb21ldHJ5KSB7XG4gIGZ1bmN0aW9uIFBvbHlnb24oY29vcmRpbmF0ZXMsIG9wdF9sYXlvdXQsIG9wdF9lbmRzKSB7XG5cbiAgICBTaW1wbGVHZW9tZXRyeS5jYWxsKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmVuZHNfID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5mbGF0SW50ZXJpb3JQb2ludFJldmlzaW9uXyA9IC0xO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAqL1xuICAgIHRoaXMuZmxhdEludGVyaW9yUG9pbnRfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1heERlbHRhXyA9IC0xO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWF4RGVsdGFSZXZpc2lvbl8gPSAtMTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm9yaWVudGVkUmV2aXNpb25fID0gLTE7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMub3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXNfID0gbnVsbDtcblxuICAgIGlmIChvcHRfbGF5b3V0ICE9PSB1bmRlZmluZWQgJiYgb3B0X2VuZHMpIHtcbiAgICAgIHRoaXMuc2V0RmxhdENvb3JkaW5hdGVzKG9wdF9sYXlvdXQsIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi8gKGNvb3JkaW5hdGVzKSk7XG4gICAgICB0aGlzLmVuZHNfID0gb3B0X2VuZHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0Q29vcmRpbmF0ZXMoLyoqIEB0eXBlIHtBcnJheTxBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pn0gKi8gKGNvb3JkaW5hdGVzKSwgb3B0X2xheW91dCk7XG4gICAgfVxuXG4gIH1cblxuICBpZiAoIFNpbXBsZUdlb21ldHJ5ICkgUG9seWdvbi5fX3Byb3RvX18gPSBTaW1wbGVHZW9tZXRyeTtcbiAgUG9seWdvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTaW1wbGVHZW9tZXRyeSAmJiBTaW1wbGVHZW9tZXRyeS5wcm90b3R5cGUgKTtcbiAgUG9seWdvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQb2x5Z29uO1xuXG4gIC8qKlxuICAgKiBBcHBlbmQgdGhlIHBhc3NlZCBsaW5lYXIgcmluZyB0byB0aGlzIHBvbHlnb24uXG4gICAqIEBwYXJhbSB7TGluZWFyUmluZ30gbGluZWFyUmluZyBMaW5lYXIgcmluZy5cbiAgICogQGFwaVxuICAgKi9cbiAgUG9seWdvbi5wcm90b3R5cGUuYXBwZW5kTGluZWFyUmluZyA9IGZ1bmN0aW9uIGFwcGVuZExpbmVhclJpbmcgKGxpbmVhclJpbmcpIHtcbiAgICBpZiAoIXRoaXMuZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcyA9IGxpbmVhclJpbmcuZ2V0RmxhdENvb3JkaW5hdGVzKCkuc2xpY2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXh0ZW5kKHRoaXMuZmxhdENvb3JkaW5hdGVzLCBsaW5lYXJSaW5nLmdldEZsYXRDb29yZGluYXRlcygpKTtcbiAgICB9XG4gICAgdGhpcy5lbmRzXy5wdXNoKHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCk7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1ha2UgYSBjb21wbGV0ZSBjb3B5IG9mIHRoZSBnZW9tZXRyeS5cbiAgICogQHJldHVybiB7IVBvbHlnb259IENsb25lLlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQGFwaVxuICAgKi9cbiAgUG9seWdvbi5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSAoKSB7XG4gICAgcmV0dXJuIG5ldyBQb2x5Z29uKHRoaXMuZmxhdENvb3JkaW5hdGVzLnNsaWNlKCksIHRoaXMubGF5b3V0LCB0aGlzLmVuZHNfLnNsaWNlKCkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgUG9seWdvbi5wcm90b3R5cGUuY2xvc2VzdFBvaW50WFkgPSBmdW5jdGlvbiBjbG9zZXN0UG9pbnRYWSAoeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICBpZiAobWluU3F1YXJlZERpc3RhbmNlIDwgY2xvc2VzdFNxdWFyZWREaXN0YW5jZVhZKHRoaXMuZ2V0RXh0ZW50KCksIHgsIHkpKSB7XG4gICAgICByZXR1cm4gbWluU3F1YXJlZERpc3RhbmNlO1xuICAgIH1cbiAgICBpZiAodGhpcy5tYXhEZWx0YVJldmlzaW9uXyAhPSB0aGlzLmdldFJldmlzaW9uKCkpIHtcbiAgICAgIHRoaXMubWF4RGVsdGFfID0gTWF0aC5zcXJ0KGFycmF5TWF4U3F1YXJlZERlbHRhKFxuICAgICAgICB0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUsIDApKTtcbiAgICAgIHRoaXMubWF4RGVsdGFSZXZpc2lvbl8gPSB0aGlzLmdldFJldmlzaW9uKCk7XG4gICAgfVxuICAgIHJldHVybiBhc3NpZ25DbG9zZXN0QXJyYXlQb2ludChcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLCAwLCB0aGlzLmVuZHNfLCB0aGlzLnN0cmlkZSxcbiAgICAgIHRoaXMubWF4RGVsdGFfLCB0cnVlLCB4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBQb2x5Z29uLnByb3RvdHlwZS5jb250YWluc1hZID0gZnVuY3Rpb24gY29udGFpbnNYWSAoeCwgeSkge1xuICAgIHJldHVybiBsaW5lYXJSaW5nc0NvbnRhaW5zWFkodGhpcy5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpLCAwLCB0aGlzLmVuZHNfLCB0aGlzLnN0cmlkZSwgeCwgeSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgYXJlYSBvZiB0aGUgcG9seWdvbiBvbiBwcm9qZWN0ZWQgcGxhbmUuXG4gICAqIEByZXR1cm4ge251bWJlcn0gQXJlYSAob24gcHJvamVjdGVkIHBsYW5lKS5cbiAgICogQGFwaVxuICAgKi9cbiAgUG9seWdvbi5wcm90b3R5cGUuZ2V0QXJlYSA9IGZ1bmN0aW9uIGdldEFyZWEgKCkge1xuICAgIHJldHVybiBsaW5lYXJSaW5nc0FyZWEodGhpcy5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpLCAwLCB0aGlzLmVuZHNfLCB0aGlzLnN0cmlkZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY29vcmRpbmF0ZSBhcnJheSBmb3IgdGhpcyBnZW9tZXRyeS4gIFRoaXMgYXJyYXkgaGFzIHRoZSBzdHJ1Y3R1cmVcbiAgICogb2YgYSBHZW9KU09OIGNvb3JkaW5hdGUgYXJyYXkgZm9yIHBvbHlnb25zLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfcmlnaHQgT3JpZW50IGNvb3JkaW5hdGVzIGFjY29yZGluZyB0byB0aGUgcmlnaHQtaGFuZFxuICAgKiAgICAgcnVsZSAoY291bnRlci1jbG9ja3dpc2UgZm9yIGV4dGVyaW9yIGFuZCBjbG9ja3dpc2UgZm9yIGludGVyaW9yIHJpbmdzKS5cbiAgICogICAgIElmIGBmYWxzZWAsIGNvb3JkaW5hdGVzIHdpbGwgYmUgb3JpZW50ZWQgYWNjb3JkaW5nIHRvIHRoZSBsZWZ0LWhhbmQgcnVsZVxuICAgKiAgICAgKGNsb2Nrd2lzZSBmb3IgZXh0ZXJpb3IgYW5kIGNvdW50ZXItY2xvY2t3aXNlIGZvciBpbnRlcmlvciByaW5ncykuXG4gICAqICAgICBCeSBkZWZhdWx0LCBjb29yZGluYXRlIG9yaWVudGF0aW9uIHdpbGwgZGVwZW5kIG9uIGhvdyB0aGUgZ2VvbWV0cnkgd2FzXG4gICAqICAgICBjb25zdHJ1Y3RlZC5cbiAgICogQHJldHVybiB7QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj59IENvb3JkaW5hdGVzLlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQGFwaVxuICAgKi9cbiAgUG9seWdvbi5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiBnZXRDb29yZGluYXRlcyAob3B0X3JpZ2h0KSB7XG4gICAgdmFyIGZsYXRDb29yZGluYXRlcztcbiAgICBpZiAob3B0X3JpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGZsYXRDb29yZGluYXRlcyA9IHRoaXMuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKS5zbGljZSgpO1xuICAgICAgb3JpZW50TGluZWFyUmluZ3MoXG4gICAgICAgIGZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUsIG9wdF9yaWdodCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZsYXRDb29yZGluYXRlcyA9IHRoaXMuZmxhdENvb3JkaW5hdGVzO1xuICAgIH1cblxuICAgIHJldHVybiBpbmZsYXRlQ29vcmRpbmF0ZXNBcnJheShcbiAgICAgIGZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBFbmRzLlxuICAgKi9cbiAgUG9seWdvbi5wcm90b3R5cGUuZ2V0RW5kcyA9IGZ1bmN0aW9uIGdldEVuZHMgKCkge1xuICAgIHJldHVybiB0aGlzLmVuZHNfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBJbnRlcmlvciBwb2ludC5cbiAgICovXG4gIFBvbHlnb24ucHJvdG90eXBlLmdldEZsYXRJbnRlcmlvclBvaW50ID0gZnVuY3Rpb24gZ2V0RmxhdEludGVyaW9yUG9pbnQgKCkge1xuICAgIGlmICh0aGlzLmZsYXRJbnRlcmlvclBvaW50UmV2aXNpb25fICE9IHRoaXMuZ2V0UmV2aXNpb24oKSkge1xuICAgICAgdmFyIGZsYXRDZW50ZXIgPSBnZXRDZW50ZXIodGhpcy5nZXRFeHRlbnQoKSk7XG4gICAgICB0aGlzLmZsYXRJbnRlcmlvclBvaW50XyA9IGdldEludGVyaW9yUG9pbnRPZkFycmF5KFxuICAgICAgICB0aGlzLmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCksIDAsIHRoaXMuZW5kc18sIHRoaXMuc3RyaWRlLFxuICAgICAgICBmbGF0Q2VudGVyLCAwKTtcbiAgICAgIHRoaXMuZmxhdEludGVyaW9yUG9pbnRSZXZpc2lvbl8gPSB0aGlzLmdldFJldmlzaW9uKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZsYXRJbnRlcmlvclBvaW50XztcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGFuIGludGVyaW9yIHBvaW50IG9mIHRoZSBwb2x5Z29uLlxuICAgKiBAcmV0dXJuIHtQb2ludH0gSW50ZXJpb3IgcG9pbnQgYXMgWFlNIGNvb3JkaW5hdGUsIHdoZXJlIE0gaXMgdGhlXG4gICAqIGxlbmd0aCBvZiB0aGUgaG9yaXpvbnRhbCBpbnRlcnNlY3Rpb24gdGhhdCB0aGUgcG9pbnQgYmVsb25ncyB0by5cbiAgICogQGFwaVxuICAgKi9cbiAgUG9seWdvbi5wcm90b3R5cGUuZ2V0SW50ZXJpb3JQb2ludCA9IGZ1bmN0aW9uIGdldEludGVyaW9yUG9pbnQgKCkge1xuICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy5nZXRGbGF0SW50ZXJpb3JQb2ludCgpLCBHZW9tZXRyeUxheW91dC5YWU0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIG51bWJlciBvZiByaW5ncyBvZiB0aGUgcG9seWdvbiwgIHRoaXMgaW5jbHVkZXMgdGhlIGV4dGVyaW9yXG4gICAqIHJpbmcgYW5kIGFueSBpbnRlcmlvciByaW5ncy5cbiAgICpcbiAgICogQHJldHVybiB7bnVtYmVyfSBOdW1iZXIgb2YgcmluZ3MuXG4gICAqIEBhcGlcbiAgICovXG4gIFBvbHlnb24ucHJvdG90eXBlLmdldExpbmVhclJpbmdDb3VudCA9IGZ1bmN0aW9uIGdldExpbmVhclJpbmdDb3VudCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZW5kc18ubGVuZ3RoO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIE50aCBsaW5lYXIgcmluZyBvZiB0aGUgcG9seWdvbiBnZW9tZXRyeS4gUmV0dXJuIGBudWxsYCBpZiB0aGVcbiAgICogZ2l2ZW4gaW5kZXggaXMgb3V0IG9mIHJhbmdlLlxuICAgKiBUaGUgZXh0ZXJpb3IgbGluZWFyIHJpbmcgaXMgYXZhaWxhYmxlIGF0IGluZGV4IGAwYCBhbmQgdGhlIGludGVyaW9yIHJpbmdzXG4gICAqIGF0IGluZGV4IGAxYCBhbmQgYmV5b25kLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXguXG4gICAqIEByZXR1cm4ge0xpbmVhclJpbmd9IExpbmVhciByaW5nLlxuICAgKiBAYXBpXG4gICAqL1xuICBQb2x5Z29uLnByb3RvdHlwZS5nZXRMaW5lYXJSaW5nID0gZnVuY3Rpb24gZ2V0TGluZWFyUmluZyAoaW5kZXgpIHtcbiAgICBpZiAoaW5kZXggPCAwIHx8IHRoaXMuZW5kc18ubGVuZ3RoIDw9IGluZGV4KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBMaW5lYXJSaW5nKHRoaXMuZmxhdENvb3JkaW5hdGVzLnNsaWNlKFxuICAgICAgaW5kZXggPT09IDAgPyAwIDogdGhpcy5lbmRzX1tpbmRleCAtIDFdLCB0aGlzLmVuZHNfW2luZGV4XSksIHRoaXMubGF5b3V0KTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBsaW5lYXIgcmluZ3Mgb2YgdGhlIHBvbHlnb24uXG4gICAqIEByZXR1cm4ge0FycmF5PExpbmVhclJpbmc+fSBMaW5lYXIgcmluZ3MuXG4gICAqIEBhcGlcbiAgICovXG4gIFBvbHlnb24ucHJvdG90eXBlLmdldExpbmVhclJpbmdzID0gZnVuY3Rpb24gZ2V0TGluZWFyUmluZ3MgKCkge1xuICAgIHZhciBsYXlvdXQgPSB0aGlzLmxheW91dDtcbiAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gdGhpcy5mbGF0Q29vcmRpbmF0ZXM7XG4gICAgdmFyIGVuZHMgPSB0aGlzLmVuZHNfO1xuICAgIHZhciBsaW5lYXJSaW5ncyA9IFtdO1xuICAgIHZhciBvZmZzZXQgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgdmFyIGVuZCA9IGVuZHNbaV07XG4gICAgICB2YXIgbGluZWFyUmluZyA9IG5ldyBMaW5lYXJSaW5nKGZsYXRDb29yZGluYXRlcy5zbGljZShvZmZzZXQsIGVuZCksIGxheW91dCk7XG4gICAgICBsaW5lYXJSaW5ncy5wdXNoKGxpbmVhclJpbmcpO1xuICAgICAgb2Zmc2V0ID0gZW5kO1xuICAgIH1cbiAgICByZXR1cm4gbGluZWFyUmluZ3M7XG4gIH07XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IE9yaWVudGVkIGZsYXQgY29vcmRpbmF0ZXMuXG4gICAqL1xuICBQb2x5Z29uLnByb3RvdHlwZS5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcyA9IGZ1bmN0aW9uIGdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzICgpIHtcbiAgICBpZiAodGhpcy5vcmllbnRlZFJldmlzaW9uXyAhPSB0aGlzLmdldFJldmlzaW9uKCkpIHtcbiAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmZsYXRDb29yZGluYXRlcztcbiAgICAgIGlmIChsaW5lYXJSaW5nSXNPcmllbnRlZChcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzLCAwLCB0aGlzLmVuZHNfLCB0aGlzLnN0cmlkZSkpIHtcbiAgICAgICAgdGhpcy5vcmllbnRlZEZsYXRDb29yZGluYXRlc18gPSBmbGF0Q29vcmRpbmF0ZXM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9yaWVudGVkRmxhdENvb3JkaW5hdGVzXyA9IGZsYXRDb29yZGluYXRlcy5zbGljZSgpO1xuICAgICAgICB0aGlzLm9yaWVudGVkRmxhdENvb3JkaW5hdGVzXy5sZW5ndGggPVxuICAgICAgICAgICAgb3JpZW50TGluZWFyUmluZ3MoXG4gICAgICAgICAgICAgIHRoaXMub3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXNfLCAwLCB0aGlzLmVuZHNfLCB0aGlzLnN0cmlkZSk7XG4gICAgICB9XG4gICAgICB0aGlzLm9yaWVudGVkUmV2aXNpb25fID0gdGhpcy5nZXRSZXZpc2lvbigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5vcmllbnRlZEZsYXRDb29yZGluYXRlc187XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBQb2x5Z29uLnByb3RvdHlwZS5nZXRTaW1wbGlmaWVkR2VvbWV0cnlJbnRlcm5hbCA9IGZ1bmN0aW9uIGdldFNpbXBsaWZpZWRHZW9tZXRyeUludGVybmFsIChzcXVhcmVkVG9sZXJhbmNlKSB7XG4gICAgdmFyIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgPSBbXTtcbiAgICB2YXIgc2ltcGxpZmllZEVuZHMgPSBbXTtcbiAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLmxlbmd0aCA9IHF1YW50aXplQXJyYXkoXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUsXG4gICAgICBNYXRoLnNxcnQoc3F1YXJlZFRvbGVyYW5jZSksXG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCAwLCBzaW1wbGlmaWVkRW5kcyk7XG4gICAgcmV0dXJuIG5ldyBQb2x5Z29uKHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIEdlb21ldHJ5TGF5b3V0LlhZLCBzaW1wbGlmaWVkRW5kcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqIEBhcGlcbiAgICovXG4gIFBvbHlnb24ucHJvdG90eXBlLmdldFR5cGUgPSBmdW5jdGlvbiBnZXRUeXBlICgpIHtcbiAgICByZXR1cm4gR2VvbWV0cnlUeXBlLlBPTFlHT047XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqIEBhcGlcbiAgICovXG4gIFBvbHlnb24ucHJvdG90eXBlLmludGVyc2VjdHNFeHRlbnQgPSBmdW5jdGlvbiBpbnRlcnNlY3RzRXh0ZW50IChleHRlbnQpIHtcbiAgICByZXR1cm4gaW50ZXJzZWN0c0xpbmVhclJpbmdBcnJheShcbiAgICAgIHRoaXMuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKSwgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUsIGV4dGVudCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIHBvbHlnb24uXG4gICAqIEBwYXJhbSB7IUFycmF5PEFycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+fSBjb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAgICogQHBhcmFtIHtHZW9tZXRyeUxheW91dD19IG9wdF9sYXlvdXQgTGF5b3V0LlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQGFwaVxuICAgKi9cbiAgUG9seWdvbi5wcm90b3R5cGUuc2V0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiBzZXRDb29yZGluYXRlcyAoY29vcmRpbmF0ZXMsIG9wdF9sYXlvdXQpIHtcbiAgICB0aGlzLnNldExheW91dChvcHRfbGF5b3V0LCBjb29yZGluYXRlcywgMik7XG4gICAgaWYgKCF0aGlzLmZsYXRDb29yZGluYXRlcykge1xuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMgPSBbXTtcbiAgICB9XG4gICAgdmFyIGVuZHMgPSBkZWZsYXRlQ29vcmRpbmF0ZXNBcnJheShcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLCAwLCBjb29yZGluYXRlcywgdGhpcy5zdHJpZGUsIHRoaXMuZW5kc18pO1xuICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCA9IGVuZHMubGVuZ3RoID09PSAwID8gMCA6IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfTtcblxuICByZXR1cm4gUG9seWdvbjtcbn0oU2ltcGxlR2VvbWV0cnkpKTtcblxuXG5leHBvcnQgZGVmYXVsdCBQb2x5Z29uO1xuXG5cbi8qKlxuICogQ3JlYXRlIGFuIGFwcHJveGltYXRpb24gb2YgYSBjaXJjbGUgb24gdGhlIHN1cmZhY2Ugb2YgYSBzcGhlcmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY2VudGVyIENlbnRlciAoYFtsb24sIGxhdF1gIGluIGRlZ3JlZXMpLlxuICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyBUaGUgZ3JlYXQtY2lyY2xlIGRpc3RhbmNlIGZyb20gdGhlIGNlbnRlciB0b1xuICogICAgIHRoZSBwb2x5Z29uIHZlcnRpY2VzLlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfbiBPcHRpb25hbCBudW1iZXIgb2YgdmVydGljZXMgZm9yIHRoZSByZXN1bHRpbmdcbiAqICAgICBwb2x5Z29uLiBEZWZhdWx0IGlzIGAzMmAuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9zcGhlcmVSYWRpdXMgT3B0aW9uYWwgcmFkaXVzIGZvciB0aGUgc3BoZXJlIChkZWZhdWx0cyB0b1xuICogICAgIHRoZSBFYXJ0aCdzIG1lYW4gcmFkaXVzIHVzaW5nIHRoZSBXR1M4NCBlbGxpcHNvaWQpLlxuICogQHJldHVybiB7UG9seWdvbn0gVGhlIFwiY2lyY3VsYXJcIiBwb2x5Z29uLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2lyY3VsYXIoY2VudGVyLCByYWRpdXMsIG9wdF9uLCBvcHRfc3BoZXJlUmFkaXVzKSB7XG4gIHZhciBuID0gb3B0X24gPyBvcHRfbiA6IDMyO1xuICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovXG4gIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICBleHRlbmQoZmxhdENvb3JkaW5hdGVzLCBzcGhlcmVPZmZzZXQoY2VudGVyLCByYWRpdXMsIDIgKiBNYXRoLlBJICogaSAvIG4sIG9wdF9zcGhlcmVSYWRpdXMpKTtcbiAgfVxuICBmbGF0Q29vcmRpbmF0ZXMucHVzaChmbGF0Q29vcmRpbmF0ZXNbMF0sIGZsYXRDb29yZGluYXRlc1sxXSk7XG4gIHJldHVybiBuZXcgUG9seWdvbihmbGF0Q29vcmRpbmF0ZXMsIEdlb21ldHJ5TGF5b3V0LlhZLCBbZmxhdENvb3JkaW5hdGVzLmxlbmd0aF0pO1xufVxuXG5cbi8qKlxuICogQ3JlYXRlIGEgcG9seWdvbiBmcm9tIGFuIGV4dGVudC4gVGhlIGxheW91dCB1c2VkIGlzIGBYWWAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBUaGUgZXh0ZW50LlxuICogQHJldHVybiB7UG9seWdvbn0gVGhlIHBvbHlnb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXh0ZW50KGV4dGVudCkge1xuICB2YXIgbWluWCA9IGV4dGVudFswXTtcbiAgdmFyIG1pblkgPSBleHRlbnRbMV07XG4gIHZhciBtYXhYID0gZXh0ZW50WzJdO1xuICB2YXIgbWF4WSA9IGV4dGVudFszXTtcbiAgdmFyIGZsYXRDb29yZGluYXRlcyA9XG4gICAgICBbbWluWCwgbWluWSwgbWluWCwgbWF4WSwgbWF4WCwgbWF4WSwgbWF4WCwgbWluWSwgbWluWCwgbWluWV07XG4gIHJldHVybiBuZXcgUG9seWdvbihmbGF0Q29vcmRpbmF0ZXMsIEdlb21ldHJ5TGF5b3V0LlhZLCBbZmxhdENvb3JkaW5hdGVzLmxlbmd0aF0pO1xufVxuXG5cbi8qKlxuICogQ3JlYXRlIGEgcmVndWxhciBwb2x5Z29uIGZyb20gYSBjaXJjbGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9IGNpcmNsZSBDaXJjbGUgZ2VvbWV0cnkuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9zaWRlcyBOdW1iZXIgb2Ygc2lkZXMgb2YgdGhlIHBvbHlnb24uIERlZmF1bHQgaXMgMzIuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9hbmdsZSBTdGFydCBhbmdsZSBmb3IgdGhlIGZpcnN0IHZlcnRleCBvZiB0aGUgcG9seWdvbiBpblxuICogICAgIHJhZGlhbnMuIERlZmF1bHQgaXMgMC5cbiAqIEByZXR1cm4ge1BvbHlnb259IFBvbHlnb24gZ2VvbWV0cnkuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tQ2lyY2xlKGNpcmNsZSwgb3B0X3NpZGVzLCBvcHRfYW5nbGUpIHtcbiAgdmFyIHNpZGVzID0gb3B0X3NpZGVzID8gb3B0X3NpZGVzIDogMzI7XG4gIHZhciBzdHJpZGUgPSBjaXJjbGUuZ2V0U3RyaWRlKCk7XG4gIHZhciBsYXlvdXQgPSBjaXJjbGUuZ2V0TGF5b3V0KCk7XG4gIHZhciBjZW50ZXIgPSBjaXJjbGUuZ2V0Q2VudGVyKCk7XG4gIHZhciBhcnJheUxlbmd0aCA9IHN0cmlkZSAqIChzaWRlcyArIDEpO1xuICB2YXIgZmxhdENvb3JkaW5hdGVzID0gbmV3IEFycmF5KGFycmF5TGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheUxlbmd0aDsgaSArPSBzdHJpZGUpIHtcbiAgICBmbGF0Q29vcmRpbmF0ZXNbaV0gPSAwO1xuICAgIGZsYXRDb29yZGluYXRlc1tpICsgMV0gPSAwO1xuICAgIGZvciAodmFyIGogPSAyOyBqIDwgc3RyaWRlOyBqKyspIHtcbiAgICAgIGZsYXRDb29yZGluYXRlc1tpICsgal0gPSBjZW50ZXJbal07XG4gICAgfVxuICB9XG4gIHZhciBlbmRzID0gW2ZsYXRDb29yZGluYXRlcy5sZW5ndGhdO1xuICB2YXIgcG9seWdvbiA9IG5ldyBQb2x5Z29uKGZsYXRDb29yZGluYXRlcywgbGF5b3V0LCBlbmRzKTtcbiAgbWFrZVJlZ3VsYXIocG9seWdvbiwgY2VudGVyLCBjaXJjbGUuZ2V0UmFkaXVzKCksIG9wdF9hbmdsZSk7XG4gIHJldHVybiBwb2x5Z29uO1xufVxuXG5cbi8qKlxuICogTW9kaWZ5IHRoZSBjb29yZGluYXRlcyBvZiBhIHBvbHlnb24gdG8gbWFrZSBpdCBhIHJlZ3VsYXIgcG9seWdvbi5cbiAqIEBwYXJhbSB7UG9seWdvbn0gcG9seWdvbiBQb2x5Z29uIGdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNlbnRlciBDZW50ZXIgb2YgdGhlIHJlZ3VsYXIgcG9seWdvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgUmFkaXVzIG9mIHRoZSByZWd1bGFyIHBvbHlnb24uXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9hbmdsZSBTdGFydCBhbmdsZSBmb3IgdGhlIGZpcnN0IHZlcnRleCBvZiB0aGUgcG9seWdvbiBpblxuICogICAgIHJhZGlhbnMuIERlZmF1bHQgaXMgMC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VSZWd1bGFyKHBvbHlnb24sIGNlbnRlciwgcmFkaXVzLCBvcHRfYW5nbGUpIHtcbiAgdmFyIGZsYXRDb29yZGluYXRlcyA9IHBvbHlnb24uZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gIHZhciBzdHJpZGUgPSBwb2x5Z29uLmdldFN0cmlkZSgpO1xuICB2YXIgc2lkZXMgPSBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoIC8gc3RyaWRlIC0gMTtcbiAgdmFyIHN0YXJ0QW5nbGUgPSBvcHRfYW5nbGUgPyBvcHRfYW5nbGUgOiAwO1xuICBmb3IgKHZhciBpID0gMDsgaSA8PSBzaWRlczsgKytpKSB7XG4gICAgdmFyIG9mZnNldCA9IGkgKiBzdHJpZGU7XG4gICAgdmFyIGFuZ2xlID0gc3RhcnRBbmdsZSArIChtb2R1bG8oaSwgc2lkZXMpICogMiAqIE1hdGguUEkgLyBzaWRlcyk7XG4gICAgZmxhdENvb3JkaW5hdGVzW29mZnNldF0gPSBjZW50ZXJbMF0gKyAocmFkaXVzICogTWF0aC5jb3MoYW5nbGUpKTtcbiAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV0gPSBjZW50ZXJbMV0gKyAocmFkaXVzICogTWF0aC5zaW4oYW5nbGUpKTtcbiAgfVxuICBwb2x5Z29uLmNoYW5nZWQoKTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UG9seWdvbi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L2Nsb3Nlc3RcbiAqL1xuaW1wb3J0IHtsZXJwLCBzcXVhcmVkRGlzdGFuY2UgYXMgc3F1YXJlZER4fSBmcm9tICcuLi8uLi9tYXRoLmpzJztcblxuXG4vKipcbiAqIFJldHVybnMgdGhlIHBvaW50IG9uIHRoZSAyRCBsaW5lIHNlZ21lbnQgZmxhdENvb3JkaW5hdGVzW29mZnNldDFdIHRvXG4gKiBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0Ml0gdGhhdCBpcyBjbG9zZXN0IHRvIHRoZSBwb2ludCAoeCwgeSkuICBFeHRyYVxuICogZGltZW5zaW9ucyBhcmUgbGluZWFybHkgaW50ZXJwb2xhdGVkLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQxIE9mZnNldCAxLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldDIgT2Zmc2V0IDIuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjbG9zZXN0UG9pbnQgQ2xvc2VzdCBwb2ludC5cbiAqL1xuZnVuY3Rpb24gYXNzaWduQ2xvc2VzdChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldDEsIG9mZnNldDIsIHN0cmlkZSwgeCwgeSwgY2xvc2VzdFBvaW50KSB7XG4gIHZhciB4MSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQxXTtcbiAgdmFyIHkxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldDEgKyAxXTtcbiAgdmFyIGR4ID0gZmxhdENvb3JkaW5hdGVzW29mZnNldDJdIC0geDE7XG4gIHZhciBkeSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQyICsgMV0gLSB5MTtcbiAgdmFyIG9mZnNldDtcbiAgaWYgKGR4ID09PSAwICYmIGR5ID09PSAwKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0MTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdCA9ICgoeCAtIHgxKSAqIGR4ICsgKHkgLSB5MSkgKiBkeSkgLyAoZHggKiBkeCArIGR5ICogZHkpO1xuICAgIGlmICh0ID4gMSkge1xuICAgICAgb2Zmc2V0ID0gb2Zmc2V0MjtcbiAgICB9IGVsc2UgaWYgKHQgPiAwKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmlkZTsgKytpKSB7XG4gICAgICAgIGNsb3Nlc3RQb2ludFtpXSA9IGxlcnAoZmxhdENvb3JkaW5hdGVzW29mZnNldDEgKyBpXSxcbiAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0MiArIGldLCB0KTtcbiAgICAgIH1cbiAgICAgIGNsb3Nlc3RQb2ludC5sZW5ndGggPSBzdHJpZGU7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIG9mZnNldCA9IG9mZnNldDE7XG4gICAgfVxuICB9XG4gIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHN0cmlkZTsgKytpJDEpIHtcbiAgICBjbG9zZXN0UG9pbnRbaSQxXSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyBpJDFdO1xuICB9XG4gIGNsb3Nlc3RQb2ludC5sZW5ndGggPSBzdHJpZGU7XG59XG5cblxuLyoqXG4gKiBSZXR1cm4gdGhlIHNxdWFyZWQgb2YgdGhlIGxhcmdlc3QgZGlzdGFuY2UgYmV0d2VlbiBhbnkgcGFpciBvZiBjb25zZWN1dGl2ZVxuICogY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heCBNYXggc3F1YXJlZCBkZWx0YS5cbiAqIEByZXR1cm4ge251bWJlcn0gTWF4IHNxdWFyZWQgZGVsdGEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXhTcXVhcmVkRGVsdGEoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBtYXgpIHtcbiAgdmFyIHgxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gIHZhciB5MSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgZm9yIChvZmZzZXQgKz0gc3RyaWRlOyBvZmZzZXQgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICB2YXIgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICB2YXIgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgdmFyIHNxdWFyZWREZWx0YSA9IHNxdWFyZWREeCh4MSwgeTEsIHgyLCB5Mik7XG4gICAgaWYgKHNxdWFyZWREZWx0YSA+IG1heCkge1xuICAgICAgbWF4ID0gc3F1YXJlZERlbHRhO1xuICAgIH1cbiAgICB4MSA9IHgyO1xuICAgIHkxID0geTI7XG4gIH1cbiAgcmV0dXJuIG1heDtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4IE1heCBzcXVhcmVkIGRlbHRhLlxuICogQHJldHVybiB7bnVtYmVyfSBNYXggc3F1YXJlZCBkZWx0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFycmF5TWF4U3F1YXJlZERlbHRhKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIG1heCkge1xuICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICB2YXIgZW5kID0gZW5kc1tpXTtcbiAgICBtYXggPSBtYXhTcXVhcmVkRGVsdGEoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIG1heCk7XG4gICAgb2Zmc2V0ID0gZW5kO1xuICB9XG4gIHJldHVybiBtYXg7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heCBNYXggc3F1YXJlZCBkZWx0YS5cbiAqIEByZXR1cm4ge251bWJlcn0gTWF4IHNxdWFyZWQgZGVsdGEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aUFycmF5TWF4U3F1YXJlZERlbHRhKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlLCBtYXgpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIHZhciBlbmRzID0gZW5kc3NbaV07XG4gICAgbWF4ID0gYXJyYXlNYXhTcXVhcmVkRGVsdGEoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCBtYXgpO1xuICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgfVxuICByZXR1cm4gbWF4O1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhEZWx0YSBNYXggZGVsdGEuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzUmluZyBJcyByaW5nLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGNsb3Nlc3RQb2ludCBDbG9zZXN0IHBvaW50LlxuICogQHBhcmFtIHtudW1iZXJ9IG1pblNxdWFyZWREaXN0YW5jZSBNaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj49fSBvcHRfdG1wUG9pbnQgVGVtcG9yYXJ5IHBvaW50IG9iamVjdC5cbiAqIEByZXR1cm4ge251bWJlcn0gTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduQ2xvc2VzdFBvaW50KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsXG4gIHN0cmlkZSwgbWF4RGVsdGEsIGlzUmluZywgeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UsXG4gIG9wdF90bXBQb2ludCkge1xuICBpZiAob2Zmc2V0ID09IGVuZCkge1xuICAgIHJldHVybiBtaW5TcXVhcmVkRGlzdGFuY2U7XG4gIH1cbiAgdmFyIGksIHNxdWFyZWREaXN0YW5jZTtcbiAgaWYgKG1heERlbHRhID09PSAwKSB7XG4gICAgLy8gQWxsIHBvaW50cyBhcmUgaWRlbnRpY2FsLCBzbyBqdXN0IHRlc3QgdGhlIGZpcnN0IHBvaW50LlxuICAgIHNxdWFyZWREaXN0YW5jZSA9IHNxdWFyZWREeChcbiAgICAgIHgsIHksIGZsYXRDb29yZGluYXRlc1tvZmZzZXRdLCBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV0pO1xuICAgIGlmIChzcXVhcmVkRGlzdGFuY2UgPCBtaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBzdHJpZGU7ICsraSkge1xuICAgICAgICBjbG9zZXN0UG9pbnRbaV0gPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgaV07XG4gICAgICB9XG4gICAgICBjbG9zZXN0UG9pbnQubGVuZ3RoID0gc3RyaWRlO1xuICAgICAgcmV0dXJuIHNxdWFyZWREaXN0YW5jZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG1pblNxdWFyZWREaXN0YW5jZTtcbiAgICB9XG4gIH1cbiAgdmFyIHRtcFBvaW50ID0gb3B0X3RtcFBvaW50ID8gb3B0X3RtcFBvaW50IDogW05hTiwgTmFOXTtcbiAgdmFyIGluZGV4ID0gb2Zmc2V0ICsgc3RyaWRlO1xuICB3aGlsZSAoaW5kZXggPCBlbmQpIHtcbiAgICBhc3NpZ25DbG9zZXN0KFxuICAgICAgZmxhdENvb3JkaW5hdGVzLCBpbmRleCAtIHN0cmlkZSwgaW5kZXgsIHN0cmlkZSwgeCwgeSwgdG1wUG9pbnQpO1xuICAgIHNxdWFyZWREaXN0YW5jZSA9IHNxdWFyZWREeCh4LCB5LCB0bXBQb2ludFswXSwgdG1wUG9pbnRbMV0pO1xuICAgIGlmIChzcXVhcmVkRGlzdGFuY2UgPCBtaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICAgIG1pblNxdWFyZWREaXN0YW5jZSA9IHNxdWFyZWREaXN0YW5jZTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBzdHJpZGU7ICsraSkge1xuICAgICAgICBjbG9zZXN0UG9pbnRbaV0gPSB0bXBQb2ludFtpXTtcbiAgICAgIH1cbiAgICAgIGNsb3Nlc3RQb2ludC5sZW5ndGggPSBzdHJpZGU7XG4gICAgICBpbmRleCArPSBzdHJpZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFNraXAgYWhlYWQgbXVsdGlwbGUgcG9pbnRzLCBiZWNhdXNlIHdlIGtub3cgdGhhdCBhbGwgdGhlIHNraXBwZWRcbiAgICAgIC8vIHBvaW50cyBjYW5ub3QgYmUgYW55IGNsb3NlciB0aGFuIHRoZSBjbG9zZXN0IHBvaW50IHdlIGhhdmUgZm91bmQgc29cbiAgICAgIC8vIGZhci4gIFdlIGtub3cgdGhpcyBiZWNhdXNlIHdlIGtub3cgaG93IGNsb3NlIHRoZSBjdXJyZW50IHBvaW50IGlzLCBob3dcbiAgICAgIC8vIGNsb3NlIHRoZSBjbG9zZXN0IHBvaW50IHdlIGhhdmUgZm91bmQgc28gZmFyIGlzLCBhbmQgdGhlIG1heGltdW1cbiAgICAgIC8vIGRpc3RhbmNlIGJldHdlZW4gY29uc2VjdXRpdmUgcG9pbnRzLiAgRm9yIGV4YW1wbGUsIGlmIHdlJ3JlIGN1cnJlbnRseVxuICAgICAgLy8gYXQgZGlzdGFuY2UgMTAsIHRoZSBiZXN0IHdlJ3ZlIGZvdW5kIHNvIGZhciBpcyAzLCBhbmQgdGhhdCB0aGUgbWF4aW11bVxuICAgICAgLy8gZGlzdGFuY2UgYmV0d2VlbiBjb25zZWN1dGl2ZSBwb2ludHMgaXMgMiwgdGhlbiB3ZSdsbCBuZWVkIHRvIHNraXAgYXRcbiAgICAgIC8vIGxlYXN0ICgxMCAtIDMpIC8gMiA9PSAzIChyb3VuZGVkIGRvd24pIHBvaW50cyB0byBoYXZlIGFueSBjaGFuY2Ugb2ZcbiAgICAgIC8vIGZpbmRpbmcgYSBjbG9zZXIgcG9pbnQuICBXZSB1c2UgTWF0aC5tYXgoLi4uLCAxKSB0byBlbnN1cmUgdGhhdCB3ZVxuICAgICAgLy8gYWx3YXlzIGFkdmFuY2UgYXQgbGVhc3Qgb25lIHBvaW50LCB0byBhdm9pZCBhbiBpbmZpbml0ZSBsb29wLlxuICAgICAgaW5kZXggKz0gc3RyaWRlICogTWF0aC5tYXgoXG4gICAgICAgICgoTWF0aC5zcXJ0KHNxdWFyZWREaXN0YW5jZSkgLVxuICAgICAgICAgICAgTWF0aC5zcXJ0KG1pblNxdWFyZWREaXN0YW5jZSkpIC8gbWF4RGVsdGEpIHwgMCwgMSk7XG4gICAgfVxuICB9XG4gIGlmIChpc1JpbmcpIHtcbiAgICAvLyBDaGVjayB0aGUgY2xvc2luZyBzZWdtZW50LlxuICAgIGFzc2lnbkNsb3Nlc3QoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsIGVuZCAtIHN0cmlkZSwgb2Zmc2V0LCBzdHJpZGUsIHgsIHksIHRtcFBvaW50KTtcbiAgICBzcXVhcmVkRGlzdGFuY2UgPSBzcXVhcmVkRHgoeCwgeSwgdG1wUG9pbnRbMF0sIHRtcFBvaW50WzFdKTtcbiAgICBpZiAoc3F1YXJlZERpc3RhbmNlIDwgbWluU3F1YXJlZERpc3RhbmNlKSB7XG4gICAgICBtaW5TcXVhcmVkRGlzdGFuY2UgPSBzcXVhcmVkRGlzdGFuY2U7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgc3RyaWRlOyArK2kpIHtcbiAgICAgICAgY2xvc2VzdFBvaW50W2ldID0gdG1wUG9pbnRbaV07XG4gICAgICB9XG4gICAgICBjbG9zZXN0UG9pbnQubGVuZ3RoID0gc3RyaWRlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWluU3F1YXJlZERpc3RhbmNlO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhEZWx0YSBNYXggZGVsdGEuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzUmluZyBJcyByaW5nLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGNsb3Nlc3RQb2ludCBDbG9zZXN0IHBvaW50LlxuICogQHBhcmFtIHtudW1iZXJ9IG1pblNxdWFyZWREaXN0YW5jZSBNaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj49fSBvcHRfdG1wUG9pbnQgVGVtcG9yYXJ5IHBvaW50IG9iamVjdC5cbiAqIEByZXR1cm4ge251bWJlcn0gTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduQ2xvc2VzdEFycmF5UG9pbnQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsXG4gIHN0cmlkZSwgbWF4RGVsdGEsIGlzUmluZywgeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UsXG4gIG9wdF90bXBQb2ludCkge1xuICB2YXIgdG1wUG9pbnQgPSBvcHRfdG1wUG9pbnQgPyBvcHRfdG1wUG9pbnQgOiBbTmFOLCBOYU5dO1xuICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICB2YXIgZW5kID0gZW5kc1tpXTtcbiAgICBtaW5TcXVhcmVkRGlzdGFuY2UgPSBhc3NpZ25DbG9zZXN0UG9pbnQoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsXG4gICAgICBtYXhEZWx0YSwgaXNSaW5nLCB4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSwgdG1wUG9pbnQpO1xuICAgIG9mZnNldCA9IGVuZDtcbiAgfVxuICByZXR1cm4gbWluU3F1YXJlZERpc3RhbmNlO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgRW5kc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhEZWx0YSBNYXggZGVsdGEuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzUmluZyBJcyByaW5nLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGNsb3Nlc3RQb2ludCBDbG9zZXN0IHBvaW50LlxuICogQHBhcmFtIHtudW1iZXJ9IG1pblNxdWFyZWREaXN0YW5jZSBNaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj49fSBvcHRfdG1wUG9pbnQgVGVtcG9yYXJ5IHBvaW50IG9iamVjdC5cbiAqIEByZXR1cm4ge251bWJlcn0gTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduQ2xvc2VzdE11bHRpQXJyYXlQb2ludChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCxcbiAgZW5kc3MsIHN0cmlkZSwgbWF4RGVsdGEsIGlzUmluZywgeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UsXG4gIG9wdF90bXBQb2ludCkge1xuICB2YXIgdG1wUG9pbnQgPSBvcHRfdG1wUG9pbnQgPyBvcHRfdG1wUG9pbnQgOiBbTmFOLCBOYU5dO1xuICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgdmFyIGVuZHMgPSBlbmRzc1tpXTtcbiAgICBtaW5TcXVhcmVkRGlzdGFuY2UgPSBhc3NpZ25DbG9zZXN0QXJyYXlQb2ludChcbiAgICAgIGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsXG4gICAgICBtYXhEZWx0YSwgaXNSaW5nLCB4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSwgdG1wUG9pbnQpO1xuICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgfVxuICByZXR1cm4gbWluU3F1YXJlZERpc3RhbmNlO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbG9zZXN0LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvY29udGFpbnNcbiAqL1xuaW1wb3J0IHtmb3JFYWNoQ29ybmVyfSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zIGV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdDb250YWluc0V4dGVudChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGV4dGVudCkge1xuICB2YXIgb3V0c2lkZSA9IGZvckVhY2hDb3JuZXIoZXh0ZW50LFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMgKHgsIHkpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uKGNvb3JkaW5hdGUpIHtcbiAgICAgIHJldHVybiAhbGluZWFyUmluZ0NvbnRhaW5zWFkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBjb29yZGluYXRlWzBdLCBjb29yZGluYXRlWzFdKTtcbiAgICB9KTtcbiAgcmV0dXJuICFvdXRzaWRlO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMgKHgsIHkpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ0NvbnRhaW5zWFkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCB4LCB5KSB7XG4gIC8vIGh0dHA6Ly9nZW9tYWxnb3JpdGhtcy5jb20vYTAzLV9pbmNsdXNpb24uaHRtbFxuICAvLyBDb3B5cmlnaHQgMjAwMCBzb2Z0U3VyZmVyLCAyMDEyIERhbiBTdW5kYXlcbiAgLy8gVGhpcyBjb2RlIG1heSBiZSBmcmVlbHkgdXNlZCBhbmQgbW9kaWZpZWQgZm9yIGFueSBwdXJwb3NlXG4gIC8vIHByb3ZpZGluZyB0aGF0IHRoaXMgY29weXJpZ2h0IG5vdGljZSBpcyBpbmNsdWRlZCB3aXRoIGl0LlxuICAvLyBTb2Z0U3VyZmVyIG1ha2VzIG5vIHdhcnJhbnR5IGZvciB0aGlzIGNvZGUsIGFuZCBjYW5ub3QgYmUgaGVsZFxuICAvLyBsaWFibGUgZm9yIGFueSByZWFsIG9yIGltYWdpbmVkIGRhbWFnZSByZXN1bHRpbmcgZnJvbSBpdHMgdXNlLlxuICAvLyBVc2VycyBvZiB0aGlzIGNvZGUgbXVzdCB2ZXJpZnkgY29ycmVjdG5lc3MgZm9yIHRoZWlyIGFwcGxpY2F0aW9uLlxuICB2YXIgd24gPSAwO1xuICB2YXIgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlXTtcbiAgdmFyIHkxID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZSArIDFdO1xuICBmb3IgKDsgb2Zmc2V0IDwgZW5kOyBvZmZzZXQgKz0gc3RyaWRlKSB7XG4gICAgdmFyIHgyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgdmFyIHkyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgIGlmICh5MSA8PSB5KSB7XG4gICAgICBpZiAoeTIgPiB5ICYmICgoeDIgLSB4MSkgKiAoeSAtIHkxKSkgLSAoKHggLSB4MSkgKiAoeTIgLSB5MSkpID4gMCkge1xuICAgICAgICB3bisrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoeTIgPD0geSAmJiAoKHgyIC0geDEpICogKHkgLSB5MSkpIC0gKCh4IC0geDEpICogKHkyIC0geTEpKSA8IDApIHtcbiAgICAgIHduLS07XG4gICAgfVxuICAgIHgxID0geDI7XG4gICAgeTEgPSB5MjtcbiAgfVxuICByZXR1cm4gd24gIT09IDA7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyAoeCwgeSkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nc0NvbnRhaW5zWFkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgeCwgeSkge1xuICBpZiAoZW5kcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKCFsaW5lYXJSaW5nQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc1swXSwgc3RyaWRlLCB4LCB5KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKHZhciBpID0gMSwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBpZiAobGluZWFyUmluZ0NvbnRhaW5zWFkoZmxhdENvb3JkaW5hdGVzLCBlbmRzW2kgLSAxXSwgZW5kc1tpXSwgc3RyaWRlLCB4LCB5KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zICh4LCB5KS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdzc0NvbnRhaW5zWFkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzLCBzdHJpZGUsIHgsIHkpIHtcbiAgaWYgKGVuZHNzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgdmFyIGVuZHMgPSBlbmRzc1tpXTtcbiAgICBpZiAobGluZWFyUmluZ3NDb250YWluc1hZKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIHgsIHkpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udGFpbnMuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9pbnRlcnNlY3RzZXh0ZW50XG4gKi9cbmltcG9ydCB7Y29udGFpbnNFeHRlbnQsIGNyZWF0ZUVtcHR5LCBleHRlbmRGbGF0Q29vcmRpbmF0ZXMsIGludGVyc2VjdHMsIGludGVyc2VjdHNTZWdtZW50fSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuaW1wb3J0IHtsaW5lYXJSaW5nQ29udGFpbnNYWSwgbGluZWFyUmluZ0NvbnRhaW5zRXh0ZW50fSBmcm9tICcuL2NvbnRhaW5zLmpzJztcbmltcG9ydCB7Zm9yRWFjaCBhcyBmb3JFYWNoU2VnbWVudH0gZnJvbSAnLi9zZWdtZW50cy5qcyc7XG5cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0c0xpbmVTdHJpbmcoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBleHRlbnQpIHtcbiAgdmFyIGNvb3JkaW5hdGVzRXh0ZW50ID0gZXh0ZW5kRmxhdENvb3JkaW5hdGVzKFxuICAgIGNyZWF0ZUVtcHR5KCksIGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSk7XG4gIGlmICghaW50ZXJzZWN0cyhleHRlbnQsIGNvb3JkaW5hdGVzRXh0ZW50KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoY29udGFpbnNFeHRlbnQoZXh0ZW50LCBjb29yZGluYXRlc0V4dGVudCkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoY29vcmRpbmF0ZXNFeHRlbnRbMF0gPj0gZXh0ZW50WzBdICYmXG4gICAgICBjb29yZGluYXRlc0V4dGVudFsyXSA8PSBleHRlbnRbMl0pIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoY29vcmRpbmF0ZXNFeHRlbnRbMV0gPj0gZXh0ZW50WzFdICYmXG4gICAgICBjb29yZGluYXRlc0V4dGVudFszXSA8PSBleHRlbnRbM10pIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZm9yRWFjaFNlZ21lbnQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBwb2ludDEgU3RhcnQgcG9pbnQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHBvaW50MiBFbmQgcG9pbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBzZWdtZW50IGFuZCB0aGUgZXh0ZW50IGludGVyc2VjdCxcbiAgICAgKiAgICAgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24ocG9pbnQxLCBwb2ludDIpIHtcbiAgICAgIHJldHVybiBpbnRlcnNlY3RzU2VnbWVudChleHRlbnQsIHBvaW50MSwgcG9pbnQyKTtcbiAgICB9KTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIGV4dGVudCBpbnRlcnNlY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RzTGluZVN0cmluZ0FycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIGV4dGVudCkge1xuICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBpZiAoaW50ZXJzZWN0c0xpbmVTdHJpbmcoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc1tpXSwgc3RyaWRlLCBleHRlbnQpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgb2Zmc2V0ID0gZW5kc1tpXTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0c0xpbmVhclJpbmcoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBleHRlbnQpIHtcbiAgaWYgKGludGVyc2VjdHNMaW5lU3RyaW5nKFxuICAgIGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgZXh0ZW50KSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChsaW5lYXJSaW5nQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGV4dGVudFswXSwgZXh0ZW50WzFdKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChsaW5lYXJSaW5nQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGV4dGVudFswXSwgZXh0ZW50WzNdKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChsaW5lYXJSaW5nQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGV4dGVudFsyXSwgZXh0ZW50WzFdKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChsaW5lYXJSaW5nQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGV4dGVudFsyXSwgZXh0ZW50WzNdKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIGV4dGVudCBpbnRlcnNlY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RzTGluZWFyUmluZ0FycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIGV4dGVudCkge1xuICBpZiAoIWludGVyc2VjdHNMaW5lYXJSaW5nKFxuICAgIGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzWzBdLCBzdHJpZGUsIGV4dGVudCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGVuZHMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZm9yICh2YXIgaSA9IDEsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgaWYgKGxpbmVhclJpbmdDb250YWluc0V4dGVudChmbGF0Q29vcmRpbmF0ZXMsIGVuZHNbaSAtIDFdLCBlbmRzW2ldLCBzdHJpZGUsIGV4dGVudCkpIHtcbiAgICAgIGlmICghaW50ZXJzZWN0c0xpbmVTdHJpbmcoZmxhdENvb3JkaW5hdGVzLCBlbmRzW2kgLSAxXSwgZW5kc1tpXSwgc3RyaWRlLCBleHRlbnQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0c0xpbmVhclJpbmdNdWx0aUFycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlLCBleHRlbnQpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIHZhciBlbmRzID0gZW5kc3NbaV07XG4gICAgaWYgKGludGVyc2VjdHNMaW5lYXJSaW5nQXJyYXkoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCBleHRlbnQpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJzZWN0c2V4dGVudC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L2FyZWFcbiAqL1xuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge251bWJlcn0gQXJlYS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmcoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gIHZhciB0d2ljZUFyZWEgPSAwO1xuICB2YXIgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlXTtcbiAgdmFyIHkxID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZSArIDFdO1xuICBmb3IgKDsgb2Zmc2V0IDwgZW5kOyBvZmZzZXQgKz0gc3RyaWRlKSB7XG4gICAgdmFyIHgyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgdmFyIHkyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgIHR3aWNlQXJlYSArPSB5MSAqIHgyIC0geDEgKiB5MjtcbiAgICB4MSA9IHgyO1xuICAgIHkxID0geTI7XG4gIH1cbiAgcmV0dXJuIHR3aWNlQXJlYSAvIDI7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7bnVtYmVyfSBBcmVhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ3MoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSkge1xuICB2YXIgYXJlYSA9IDA7XG4gIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIHZhciBlbmQgPSBlbmRzW2ldO1xuICAgIGFyZWEgKz0gbGluZWFyUmluZyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpO1xuICAgIG9mZnNldCA9IGVuZDtcbiAgfVxuICByZXR1cm4gYXJlYTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEFyZWEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nc3MoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzLCBzdHJpZGUpIHtcbiAgdmFyIGFyZWEgPSAwO1xuICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgdmFyIGVuZHMgPSBlbmRzc1tpXTtcbiAgICBhcmVhICs9IGxpbmVhclJpbmdzKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUpO1xuICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgfVxuICByZXR1cm4gYXJlYTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJlYS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L2ludGVyaW9ycG9pbnRcbiAqL1xuaW1wb3J0IHtudW1iZXJTYWZlQ29tcGFyZUZ1bmN0aW9ufSBmcm9tICcuLi8uLi9hcnJheS5qcyc7XG5pbXBvcnQge2xpbmVhclJpbmdzQ29udGFpbnNYWX0gZnJvbSAnLi9jb250YWlucy5qcyc7XG5cblxuLyoqXG4gKiBDYWxjdWxhdGVzIGEgcG9pbnQgdGhhdCBpcyBsaWtlbHkgdG8gbGllIGluIHRoZSBpbnRlcmlvciBvZiB0aGUgbGluZWFyIHJpbmdzLlxuICogSW5zcGlyZWQgYnkgSlRTJ3MgY29tLnZpdmlkc29sdXRpb25zLmp0cy5nZW9tLkdlb21ldHJ5I2dldEludGVyaW9yUG9pbnQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q2VudGVycyBGbGF0IGNlbnRlcnMuXG4gKiBAcGFyYW0ge251bWJlcn0gZmxhdENlbnRlcnNPZmZzZXQgRmxhdCBjZW50ZXIgb2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+PX0gb3B0X2Rlc3QgRGVzdGluYXRpb24uXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBEZXN0aW5hdGlvbiBwb2ludCBhcyBYWU0gY29vcmRpbmF0ZSwgd2hlcmUgTSBpcyB0aGVcbiAqIGxlbmd0aCBvZiB0aGUgaG9yaXpvbnRhbCBpbnRlcnNlY3Rpb24gdGhhdCB0aGUgcG9pbnQgYmVsb25ncyB0by5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEludGVyaW9yUG9pbnRPZkFycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LFxuICBlbmRzLCBzdHJpZGUsIGZsYXRDZW50ZXJzLCBmbGF0Q2VudGVyc09mZnNldCwgb3B0X2Rlc3QpIHtcbiAgdmFyIGksIGlpLCB4LCB4MSwgeDIsIHkxLCB5MjtcbiAgdmFyIHkgPSBmbGF0Q2VudGVyc1tmbGF0Q2VudGVyc09mZnNldCArIDFdO1xuICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovXG4gIHZhciBpbnRlcnNlY3Rpb25zID0gW107XG4gIC8vIENhbGN1bGF0ZSBpbnRlcnNlY3Rpb25zIHdpdGggdGhlIGhvcml6b250YWwgbGluZVxuICBmb3IgKHZhciByID0gMCwgcnIgPSBlbmRzLmxlbmd0aDsgciA8IHJyOyArK3IpIHtcbiAgICB2YXIgZW5kID0gZW5kc1tyXTtcbiAgICB4MSA9IGZsYXRDb29yZGluYXRlc1tlbmQgLSBzdHJpZGVdO1xuICAgIHkxID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZSArIDFdO1xuICAgIGZvciAoaSA9IG9mZnNldDsgaSA8IGVuZDsgaSArPSBzdHJpZGUpIHtcbiAgICAgIHgyID0gZmxhdENvb3JkaW5hdGVzW2ldO1xuICAgICAgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbaSArIDFdO1xuICAgICAgaWYgKCh5IDw9IHkxICYmIHkyIDw9IHkpIHx8ICh5MSA8PSB5ICYmIHkgPD0geTIpKSB7XG4gICAgICAgIHggPSAoeSAtIHkxKSAvICh5MiAtIHkxKSAqICh4MiAtIHgxKSArIHgxO1xuICAgICAgICBpbnRlcnNlY3Rpb25zLnB1c2goeCk7XG4gICAgICB9XG4gICAgICB4MSA9IHgyO1xuICAgICAgeTEgPSB5MjtcbiAgICB9XG4gIH1cbiAgLy8gRmluZCB0aGUgbG9uZ2VzdCBzZWdtZW50IG9mIHRoZSBob3Jpem9udGFsIGxpbmUgdGhhdCBoYXMgaXRzIGNlbnRlciBwb2ludFxuICAvLyBpbnNpZGUgdGhlIGxpbmVhciByaW5nLlxuICB2YXIgcG9pbnRYID0gTmFOO1xuICB2YXIgbWF4U2VnbWVudExlbmd0aCA9IC1JbmZpbml0eTtcbiAgaW50ZXJzZWN0aW9ucy5zb3J0KG51bWJlclNhZmVDb21wYXJlRnVuY3Rpb24pO1xuICB4MSA9IGludGVyc2VjdGlvbnNbMF07XG4gIGZvciAoaSA9IDEsIGlpID0gaW50ZXJzZWN0aW9ucy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgeDIgPSBpbnRlcnNlY3Rpb25zW2ldO1xuICAgIHZhciBzZWdtZW50TGVuZ3RoID0gTWF0aC5hYnMoeDIgLSB4MSk7XG4gICAgaWYgKHNlZ21lbnRMZW5ndGggPiBtYXhTZWdtZW50TGVuZ3RoKSB7XG4gICAgICB4ID0gKHgxICsgeDIpIC8gMjtcbiAgICAgIGlmIChsaW5lYXJSaW5nc0NvbnRhaW5zWFkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgeCwgeSkpIHtcbiAgICAgICAgcG9pbnRYID0geDtcbiAgICAgICAgbWF4U2VnbWVudExlbmd0aCA9IHNlZ21lbnRMZW5ndGg7XG4gICAgICB9XG4gICAgfVxuICAgIHgxID0geDI7XG4gIH1cbiAgaWYgKGlzTmFOKHBvaW50WCkpIHtcbiAgICAvLyBUaGVyZSBpcyBubyBob3Jpem9udGFsIGxpbmUgdGhhdCBoYXMgaXRzIGNlbnRlciBwb2ludCBpbnNpZGUgdGhlIGxpbmVhclxuICAgIC8vIHJpbmcuICBVc2UgdGhlIGNlbnRlciBvZiB0aGUgdGhlIGxpbmVhciByaW5nJ3MgZXh0ZW50LlxuICAgIHBvaW50WCA9IGZsYXRDZW50ZXJzW2ZsYXRDZW50ZXJzT2Zmc2V0XTtcbiAgfVxuICBpZiAob3B0X2Rlc3QpIHtcbiAgICBvcHRfZGVzdC5wdXNoKHBvaW50WCwgeSwgbWF4U2VnbWVudExlbmd0aCk7XG4gICAgcmV0dXJuIG9wdF9kZXN0O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBbcG9pbnRYLCB5LCBtYXhTZWdtZW50TGVuZ3RoXTtcbiAgfVxufVxuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgRW5kc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENlbnRlcnMgRmxhdCBjZW50ZXJzLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gSW50ZXJpb3IgcG9pbnRzIGFzIFhZTSBjb29yZGluYXRlcywgd2hlcmUgTSBpcyB0aGVcbiAqIGxlbmd0aCBvZiB0aGUgaG9yaXpvbnRhbCBpbnRlcnNlY3Rpb24gdGhhdCB0aGUgcG9pbnQgYmVsb25ncyB0by5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEludGVyaW9yUG9pbnRzT2ZNdWx0aUFycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlLCBmbGF0Q2VudGVycykge1xuICB2YXIgaW50ZXJpb3JQb2ludHMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIHZhciBlbmRzID0gZW5kc3NbaV07XG4gICAgaW50ZXJpb3JQb2ludHMgPSBnZXRJbnRlcmlvclBvaW50T2ZBcnJheShmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgZmxhdENlbnRlcnMsIDIgKiBpLCBpbnRlcmlvclBvaW50cyk7XG4gICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICB9XG4gIHJldHVybiBpbnRlcmlvclBvaW50cztcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJpb3Jwb2ludC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L3NlZ21lbnRzXG4gKi9cblxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY2FsbHMgYGNhbGxiYWNrYCBmb3IgZWFjaCBzZWdtZW50IG9mIHRoZSBmbGF0IGNvb3JkaW5hdGVzXG4gKiBhcnJheS4gSWYgdGhlIGNhbGxiYWNrIHJldHVybnMgYSB0cnV0aHkgdmFsdWUgdGhlIGZ1bmN0aW9uIHJldHVybnMgdGhhdFxuICogdmFsdWUgaW1tZWRpYXRlbHkuIE90aGVyd2lzZSB0aGUgZnVuY3Rpb24gcmV0dXJucyBgZmFsc2VgLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczogUywgaW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlLCBpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUpOiBUfSBjYWxsYmFjayBGdW5jdGlvblxuICogICAgIGNhbGxlZCBmb3IgZWFjaCBzZWdtZW50LlxuICogQHBhcmFtIHtTPX0gb3B0X3RoaXMgVGhlIG9iamVjdCB0byBiZSB1c2VkIGFzIHRoZSB2YWx1ZSBvZiAndGhpcydcbiAqICAgICB3aXRoaW4gY2FsbGJhY2suXG4gKiBAcmV0dXJuIHtUfGJvb2xlYW59IFZhbHVlLlxuICogQHRlbXBsYXRlIFQsU1xuICovXG5leHBvcnQgZnVuY3Rpb24gZm9yRWFjaChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGNhbGxiYWNrLCBvcHRfdGhpcykge1xuICB2YXIgcG9pbnQxID0gW2ZsYXRDb29yZGluYXRlc1tvZmZzZXRdLCBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV1dO1xuICB2YXIgcG9pbnQyID0gW107XG4gIHZhciByZXQ7XG4gIGZvciAoOyAob2Zmc2V0ICsgc3RyaWRlKSA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgIHBvaW50MlswXSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyBzdHJpZGVdO1xuICAgIHBvaW50MlsxXSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyBzdHJpZGUgKyAxXTtcbiAgICByZXQgPSBjYWxsYmFjay5jYWxsKG9wdF90aGlzLCBwb2ludDEsIHBvaW50Mik7XG4gICAgaWYgKHJldCkge1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgcG9pbnQxWzBdID0gcG9pbnQyWzBdO1xuICAgIHBvaW50MVsxXSA9IHBvaW50MlsxXTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlZ21lbnRzLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvcmV2ZXJzZVxuICovXG5cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gIHdoaWxlIChvZmZzZXQgPCBlbmQgLSBzdHJpZGUpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmlkZTsgKytpKSB7XG4gICAgICB2YXIgdG1wID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIGldO1xuICAgICAgZmxhdENvb3JkaW5hdGVzW29mZnNldCArIGldID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZSArIGldO1xuICAgICAgZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZSArIGldID0gdG1wO1xuICAgIH1cbiAgICBvZmZzZXQgKz0gc3RyaWRlO1xuICAgIGVuZCAtPSBzdHJpZGU7XG4gIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmV2ZXJzZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L29yaWVudFxuICovXG5pbXBvcnQge2Nvb3JkaW5hdGVzIGFzIHJldmVyc2VDb29yZGluYXRlc30gZnJvbSAnLi9yZXZlcnNlLmpzJztcblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBJcyBjbG9ja3dpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nSXNDbG9ja3dpc2UoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gIC8vIGh0dHA6Ly90aW55dXJsLmNvbS9jbG9ja3dpc2UtbWV0aG9kXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9PU0dlby9nZGFsL2Jsb2IvdHJ1bmsvZ2RhbC9vZ3Ivb2dybGluZWFycmluZy5jcHBcbiAgdmFyIGVkZ2UgPSAwO1xuICB2YXIgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlXTtcbiAgdmFyIHkxID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZSArIDFdO1xuICBmb3IgKDsgb2Zmc2V0IDwgZW5kOyBvZmZzZXQgKz0gc3RyaWRlKSB7XG4gICAgdmFyIHgyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgdmFyIHkyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgIGVkZ2UgKz0gKHgyIC0geDEpICogKHkyICsgeTEpO1xuICAgIHgxID0geDI7XG4gICAgeTEgPSB5MjtcbiAgfVxuICByZXR1cm4gZWRnZSA+IDA7XG59XG5cblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIGxpbmVhciByaW5ncyBhcmUgb3JpZW50ZWQuICBCeSBkZWZhdWx0LCBsZWZ0LWhhbmQgb3JpZW50YXRpb25cbiAqIGlzIHRlc3RlZCAoZmlyc3QgcmluZyBtdXN0IGJlIGNsb2Nrd2lzZSwgcmVtYWluaW5nIHJpbmdzIGNvdW50ZXItY2xvY2t3aXNlKS5cbiAqIFRvIHRlc3QgZm9yIHJpZ2h0LWhhbmQgb3JpZW50YXRpb24sIHVzZSB0aGUgYG9wdF9yaWdodGAgYXJndW1lbnQuXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEFycmF5IG9mIGVuZCBpbmRleGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfcmlnaHQgVGVzdCBmb3IgcmlnaHQtaGFuZCBvcmllbnRhdGlvblxuICogICAgIChjb3VudGVyLWNsb2Nrd2lzZSBleHRlcmlvciByaW5nIGFuZCBjbG9ja3dpc2UgaW50ZXJpb3IgcmluZ3MpLlxuICogQHJldHVybiB7Ym9vbGVhbn0gUmluZ3MgYXJlIGNvcnJlY3RseSBvcmllbnRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdJc09yaWVudGVkKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIG9wdF9yaWdodCkge1xuICB2YXIgcmlnaHQgPSBvcHRfcmlnaHQgIT09IHVuZGVmaW5lZCA/IG9wdF9yaWdodCA6IGZhbHNlO1xuICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICB2YXIgZW5kID0gZW5kc1tpXTtcbiAgICB2YXIgaXNDbG9ja3dpc2UgPSBsaW5lYXJSaW5nSXNDbG9ja3dpc2UoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpO1xuICAgIGlmIChpID09PSAwKSB7XG4gICAgICBpZiAoKHJpZ2h0ICYmIGlzQ2xvY2t3aXNlKSB8fCAoIXJpZ2h0ICYmICFpc0Nsb2Nrd2lzZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoKHJpZ2h0ICYmICFpc0Nsb2Nrd2lzZSkgfHwgKCFyaWdodCAmJiBpc0Nsb2Nrd2lzZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBvZmZzZXQgPSBlbmQ7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIGxpbmVhciByaW5ncyBhcmUgb3JpZW50ZWQuICBCeSBkZWZhdWx0LCBsZWZ0LWhhbmQgb3JpZW50YXRpb25cbiAqIGlzIHRlc3RlZCAoZmlyc3QgcmluZyBtdXN0IGJlIGNsb2Nrd2lzZSwgcmVtYWluaW5nIHJpbmdzIGNvdW50ZXItY2xvY2t3aXNlKS5cbiAqIFRvIHRlc3QgZm9yIHJpZ2h0LWhhbmQgb3JpZW50YXRpb24sIHVzZSB0aGUgYG9wdF9yaWdodGAgYXJndW1lbnQuXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgQXJyYXkgb2YgYXJyYXkgb2YgZW5kIGluZGV4ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9yaWdodCBUZXN0IGZvciByaWdodC1oYW5kIG9yaWVudGF0aW9uXG4gKiAgICAgKGNvdW50ZXItY2xvY2t3aXNlIGV4dGVyaW9yIHJpbmcgYW5kIGNsb2Nrd2lzZSBpbnRlcmlvciByaW5ncykuXG4gKiBAcmV0dXJuIHtib29sZWFufSBSaW5ncyBhcmUgY29ycmVjdGx5IG9yaWVudGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ3NBcmVPcmllbnRlZChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc3MsIHN0cmlkZSwgb3B0X3JpZ2h0KSB7XG4gIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBpZiAoIWxpbmVhclJpbmdJc09yaWVudGVkKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzW2ldLCBzdHJpZGUsIG9wdF9yaWdodCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cblxuLyoqXG4gKiBPcmllbnQgY29vcmRpbmF0ZXMgaW4gYSBmbGF0IGFycmF5IG9mIGxpbmVhciByaW5ncy4gIEJ5IGRlZmF1bHQsIHJpbmdzXG4gKiBhcmUgb3JpZW50ZWQgZm9sbG93aW5nIHRoZSBsZWZ0LWhhbmQgcnVsZSAoY2xvY2t3aXNlIGZvciBleHRlcmlvciBhbmRcbiAqIGNvdW50ZXItY2xvY2t3aXNlIGZvciBpbnRlcmlvciByaW5ncykuICBUbyBvcmllbnQgYWNjb3JkaW5nIHRvIHRoZVxuICogcmlnaHQtaGFuZCBydWxlLCB1c2UgdGhlIGBvcHRfcmlnaHRgIGFyZ3VtZW50LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfcmlnaHQgRm9sbG93IHRoZSByaWdodC1oYW5kIHJ1bGUgZm9yIG9yaWVudGF0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBFbmQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvcmllbnRMaW5lYXJSaW5ncyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCBvcHRfcmlnaHQpIHtcbiAgdmFyIHJpZ2h0ID0gb3B0X3JpZ2h0ICE9PSB1bmRlZmluZWQgPyBvcHRfcmlnaHQgOiBmYWxzZTtcbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgdmFyIGVuZCA9IGVuZHNbaV07XG4gICAgdmFyIGlzQ2xvY2t3aXNlID0gbGluZWFyUmluZ0lzQ2xvY2t3aXNlKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKTtcbiAgICB2YXIgcmV2ZXJzZSA9IGkgPT09IDAgP1xuICAgICAgKHJpZ2h0ICYmIGlzQ2xvY2t3aXNlKSB8fCAoIXJpZ2h0ICYmICFpc0Nsb2Nrd2lzZSkgOlxuICAgICAgKHJpZ2h0ICYmICFpc0Nsb2Nrd2lzZSkgfHwgKCFyaWdodCAmJiBpc0Nsb2Nrd2lzZSk7XG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIHJldmVyc2VDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpO1xuICAgIH1cbiAgICBvZmZzZXQgPSBlbmQ7XG4gIH1cbiAgcmV0dXJuIG9mZnNldDtcbn1cblxuXG4vKipcbiAqIE9yaWVudCBjb29yZGluYXRlcyBpbiBhIGZsYXQgYXJyYXkgb2YgbGluZWFyIHJpbmdzLiAgQnkgZGVmYXVsdCwgcmluZ3NcbiAqIGFyZSBvcmllbnRlZCBmb2xsb3dpbmcgdGhlIGxlZnQtaGFuZCBydWxlIChjbG9ja3dpc2UgZm9yIGV4dGVyaW9yIGFuZFxuICogY291bnRlci1jbG9ja3dpc2UgZm9yIGludGVyaW9yIHJpbmdzKS4gIFRvIG9yaWVudCBhY2NvcmRpbmcgdG8gdGhlXG4gKiByaWdodC1oYW5kIHJ1bGUsIHVzZSB0aGUgYG9wdF9yaWdodGAgYXJndW1lbnQuXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgQXJyYXkgb2YgYXJyYXkgb2YgZW5kIGluZGV4ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9yaWdodCBGb2xsb3cgdGhlIHJpZ2h0LWhhbmQgcnVsZSBmb3Igb3JpZW50YXRpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEVuZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9yaWVudExpbmVhclJpbmdzQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzLCBzdHJpZGUsIG9wdF9yaWdodCkge1xuICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgb2Zmc2V0ID0gb3JpZW50TGluZWFyUmluZ3MoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc3NbaV0sIHN0cmlkZSwgb3B0X3JpZ2h0KTtcbiAgfVxuICByZXR1cm4gb2Zmc2V0O1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1vcmllbnQuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2FycmF5XG4gKi9cblxuXG4vKipcbiAqIFBlcmZvcm1zIGEgYmluYXJ5IHNlYXJjaCBvbiB0aGUgcHJvdmlkZWQgc29ydGVkIGxpc3QgYW5kIHJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBpdGVtIGlmIGZvdW5kLiBJZiBpdCBjYW4ndCBiZSBmb3VuZCBpdCdsbCByZXR1cm4gLTEuXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZGFya3NreWFwcC9iaW5hcnktc2VhcmNoXG4gKlxuICogQHBhcmFtIHtBcnJheTwqPn0gaGF5c3RhY2sgSXRlbXMgdG8gc2VhcmNoIHRocm91Z2guXG4gKiBAcGFyYW0geyp9IG5lZWRsZSBUaGUgaXRlbSB0byBsb29rIGZvci5cbiAqIEBwYXJhbSB7RnVuY3Rpb249fSBvcHRfY29tcGFyYXRvciBDb21wYXJhdG9yIGZ1bmN0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgaW5kZXggb2YgdGhlIGl0ZW0gaWYgZm91bmQsIC0xIGlmIG5vdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmFyeVNlYXJjaChoYXlzdGFjaywgbmVlZGxlLCBvcHRfY29tcGFyYXRvcikge1xuICB2YXIgbWlkLCBjbXA7XG4gIHZhciBjb21wYXJhdG9yID0gb3B0X2NvbXBhcmF0b3IgfHwgbnVtYmVyU2FmZUNvbXBhcmVGdW5jdGlvbjtcbiAgdmFyIGxvdyA9IDA7XG4gIHZhciBoaWdoID0gaGF5c3RhY2subGVuZ3RoO1xuICB2YXIgZm91bmQgPSBmYWxzZTtcblxuICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgIC8qIE5vdGUgdGhhdCBcIihsb3cgKyBoaWdoKSA+Pj4gMVwiIG1heSBvdmVyZmxvdywgYW5kIHJlc3VsdHMgaW4gYSB0eXBlY2FzdFxuICAgICAqIHRvIGRvdWJsZSAod2hpY2ggZ2l2ZXMgdGhlIHdyb25nIHJlc3VsdHMpLiAqL1xuICAgIG1pZCA9IGxvdyArIChoaWdoIC0gbG93ID4+IDEpO1xuICAgIGNtcCA9ICtjb21wYXJhdG9yKGhheXN0YWNrW21pZF0sIG5lZWRsZSk7XG5cbiAgICBpZiAoY21wIDwgMC4wKSB7IC8qIFRvbyBsb3cuICovXG4gICAgICBsb3cgPSBtaWQgKyAxO1xuXG4gICAgfSBlbHNlIHsgLyogS2V5IGZvdW5kIG9yIHRvbyBoaWdoICovXG4gICAgICBoaWdoID0gbWlkO1xuICAgICAgZm91bmQgPSAhY21wO1xuICAgIH1cbiAgfVxuXG4gIC8qIEtleSBub3QgZm91bmQuICovXG4gIHJldHVybiBmb3VuZCA/IGxvdyA6IH5sb3c7XG59XG5cblxuLyoqXG4gKiBDb21wYXJlIGZ1bmN0aW9uIGZvciBhcnJheSBzb3J0IHRoYXQgaXMgc2FmZSBmb3IgbnVtYmVycy5cbiAqIEBwYXJhbSB7Kn0gYSBUaGUgZmlyc3Qgb2JqZWN0IHRvIGJlIGNvbXBhcmVkLlxuICogQHBhcmFtIHsqfSBiIFRoZSBzZWNvbmQgb2JqZWN0IHRvIGJlIGNvbXBhcmVkLlxuICogQHJldHVybiB7bnVtYmVyfSBBIG5lZ2F0aXZlIG51bWJlciwgemVybywgb3IgYSBwb3NpdGl2ZSBudW1iZXIgYXMgdGhlIGZpcnN0XG4gKiAgICAgYXJndW1lbnQgaXMgbGVzcyB0aGFuLCBlcXVhbCB0bywgb3IgZ3JlYXRlciB0aGFuIHRoZSBzZWNvbmQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBudW1iZXJTYWZlQ29tcGFyZUZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEgPiBiID8gMSA6IGEgPCBiID8gLTEgOiAwO1xufVxuXG5cbi8qKlxuICogV2hldGhlciB0aGUgYXJyYXkgY29udGFpbnMgdGhlIGdpdmVuIG9iamVjdC5cbiAqIEBwYXJhbSB7QXJyYXk8Kj59IGFyciBUaGUgYXJyYXkgdG8gdGVzdCBmb3IgdGhlIHByZXNlbmNlIG9mIHRoZSBlbGVtZW50LlxuICogQHBhcmFtIHsqfSBvYmogVGhlIG9iamVjdCBmb3Igd2hpY2ggdG8gdGVzdC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBvYmplY3QgaXMgaW4gdGhlIGFycmF5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5jbHVkZXMoYXJyLCBvYmopIHtcbiAgcmV0dXJuIGFyci5pbmRleE9mKG9iaikgPj0gMDtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gYXJyIEFycmF5LlxuICogQHBhcmFtIHtudW1iZXJ9IHRhcmdldCBUYXJnZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZGlyZWN0aW9uIDAgbWVhbnMgcmV0dXJuIHRoZSBuZWFyZXN0LCA+IDBcbiAqICAgIG1lYW5zIHJldHVybiB0aGUgbGFyZ2VzdCBuZWFyZXN0LCA8IDAgbWVhbnMgcmV0dXJuIHRoZVxuICogICAgc21hbGxlc3QgbmVhcmVzdC5cbiAqIEByZXR1cm4ge251bWJlcn0gSW5kZXguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJGaW5kTmVhcmVzdChhcnIsIHRhcmdldCwgZGlyZWN0aW9uKSB7XG4gIHZhciBuID0gYXJyLmxlbmd0aDtcbiAgaWYgKGFyclswXSA8PSB0YXJnZXQpIHtcbiAgICByZXR1cm4gMDtcbiAgfSBlbHNlIGlmICh0YXJnZXQgPD0gYXJyW24gLSAxXSkge1xuICAgIHJldHVybiBuIC0gMTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgaTtcbiAgICBpZiAoZGlyZWN0aW9uID4gMCkge1xuICAgICAgZm9yIChpID0gMTsgaSA8IG47ICsraSkge1xuICAgICAgICBpZiAoYXJyW2ldIDwgdGFyZ2V0KSB7XG4gICAgICAgICAgcmV0dXJuIGkgLSAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPCAwKSB7XG4gICAgICBmb3IgKGkgPSAxOyBpIDwgbjsgKytpKSB7XG4gICAgICAgIGlmIChhcnJbaV0gPD0gdGFyZ2V0KSB7XG4gICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChpID0gMTsgaSA8IG47ICsraSkge1xuICAgICAgICBpZiAoYXJyW2ldID09IHRhcmdldCkge1xuICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9IGVsc2UgaWYgKGFycltpXSA8IHRhcmdldCkge1xuICAgICAgICAgIGlmIChhcnJbaSAtIDFdIC0gdGFyZ2V0IDwgdGFyZ2V0IC0gYXJyW2ldKSB7XG4gICAgICAgICAgICByZXR1cm4gaSAtIDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbiAtIDE7XG4gIH1cbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IGFyciBBcnJheS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiZWdpbiBCZWdpbiBpbmRleC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kIGluZGV4LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmV2ZXJzZVN1YkFycmF5KGFyciwgYmVnaW4sIGVuZCkge1xuICB3aGlsZSAoYmVnaW4gPCBlbmQpIHtcbiAgICB2YXIgdG1wID0gYXJyW2JlZ2luXTtcbiAgICBhcnJbYmVnaW5dID0gYXJyW2VuZF07XG4gICAgYXJyW2VuZF0gPSB0bXA7XG4gICAgKytiZWdpbjtcbiAgICAtLWVuZDtcbiAgfVxufVxuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxWQUxVRT59IGFyciBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHshQXJyYXk8VkFMVUU+fFZBTFVFfSBkYXRhIFRoZSBlbGVtZW50cyBvciBhcnJheXMgb2YgZWxlbWVudHMgdG8gYWRkIHRvIGFyci5cbiAqIEB0ZW1wbGF0ZSBWQUxVRVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKGFyciwgZGF0YSkge1xuICB2YXIgZXh0ZW5zaW9uID0gQXJyYXkuaXNBcnJheShkYXRhKSA/IGRhdGEgOiBbZGF0YV07XG4gIHZhciBsZW5ndGggPSBleHRlbnNpb24ubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgYXJyW2Fyci5sZW5ndGhdID0gZXh0ZW5zaW9uW2ldO1xuICB9XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PFZBTFVFPn0gYXJyIFRoZSBhcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge1ZBTFVFfSBvYmogVGhlIGVsZW1lbnQgdG8gcmVtb3ZlLlxuICogQHRlbXBsYXRlIFZBTFVFXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZWxlbWVudCB3YXMgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShhcnIsIG9iaikge1xuICB2YXIgaSA9IGFyci5pbmRleE9mKG9iaik7XG4gIHZhciBmb3VuZCA9IGkgPiAtMTtcbiAgaWYgKGZvdW5kKSB7XG4gICAgYXJyLnNwbGljZShpLCAxKTtcbiAgfVxuICByZXR1cm4gZm91bmQ7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PFZBTFVFPn0gYXJyIFRoZSBhcnJheSB0byBzZWFyY2ggaW4uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKFZBTFVFLCBudW1iZXIsID8pIDogYm9vbGVhbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29tcGFyZS5cbiAqIEB0ZW1wbGF0ZSBWQUxVRVxuICogQHJldHVybiB7VkFMVUV8bnVsbH0gVGhlIGVsZW1lbnQgZm91bmQgb3IgbnVsbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmQoYXJyLCBmdW5jKSB7XG4gIHZhciBsZW5ndGggPSBhcnIubGVuZ3RoID4+PiAwO1xuICB2YXIgdmFsdWU7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIHZhbHVlID0gYXJyW2ldO1xuICAgIGlmIChmdW5jKHZhbHVlLCBpLCBhcnIpKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheXxVaW50OENsYW1wZWRBcnJheX0gYXJyMSBUaGUgZmlyc3QgYXJyYXkgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7QXJyYXl8VWludDhDbGFtcGVkQXJyYXl9IGFycjIgVGhlIHNlY29uZCBhcnJheSB0byBjb21wYXJlLlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgdHdvIGFycmF5cyBhcmUgZXF1YWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYXJyMSwgYXJyMikge1xuICB2YXIgbGVuMSA9IGFycjEubGVuZ3RoO1xuICBpZiAobGVuMSAhPT0gYXJyMi5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW4xOyBpKyspIHtcbiAgICBpZiAoYXJyMVtpXSAhPT0gYXJyMltpXSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuXG4vKipcbiAqIFNvcnQgdGhlIHBhc3NlZCBhcnJheSBzdWNoIHRoYXQgdGhlIHJlbGF0aXZlIG9yZGVyIG9mIGVxdWFsIGVsZW1lbnRzIGlzIHByZXZlcnZlZC5cbiAqIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Tb3J0aW5nX2FsZ29yaXRobSNTdGFiaWxpdHkgZm9yIGRldGFpbHMuXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBhcnIgVGhlIGFycmF5IHRvIHNvcnQgKG1vZGlmaWVzIG9yaWdpbmFsKS5cbiAqIEBwYXJhbSB7IWZ1bmN0aW9uKCosICopOiBudW1iZXJ9IGNvbXBhcmVGbmMgQ29tcGFyaXNvbiBmdW5jdGlvbi5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YWJsZVNvcnQoYXJyLCBjb21wYXJlRm5jKSB7XG4gIHZhciBsZW5ndGggPSBhcnIubGVuZ3RoO1xuICB2YXIgdG1wID0gQXJyYXkoYXJyLmxlbmd0aCk7XG4gIHZhciBpO1xuICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB0bXBbaV0gPSB7aW5kZXg6IGksIHZhbHVlOiBhcnJbaV19O1xuICB9XG4gIHRtcC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gY29tcGFyZUZuYyhhLnZhbHVlLCBiLnZhbHVlKSB8fCBhLmluZGV4IC0gYi5pbmRleDtcbiAgfSk7XG4gIGZvciAoaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBhcnJbaV0gPSB0bXBbaV0udmFsdWU7XG4gIH1cbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IGFyciBUaGUgYXJyYXkgdG8gc2VhcmNoIGluLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBDb21wYXJpc29uIGZ1bmN0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBSZXR1cm4gaW5kZXguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kSW5kZXgoYXJyLCBmdW5jKSB7XG4gIHZhciBpbmRleDtcbiAgdmFyIGZvdW5kID0gIWFyci5ldmVyeShmdW5jdGlvbihlbCwgaWR4KSB7XG4gICAgaW5kZXggPSBpZHg7XG4gICAgcmV0dXJuICFmdW5jKGVsLCBpZHgsIGFycik7XG4gIH0pO1xuICByZXR1cm4gZm91bmQgPyBpbmRleCA6IC0xO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTwqPn0gYXJyIFRoZSBhcnJheSB0byB0ZXN0LlxuICogQHBhcmFtIHtGdW5jdGlvbj19IG9wdF9mdW5jIENvbXBhcmlzb24gZnVuY3Rpb24uXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfc3RyaWN0IFN0cmljdGx5IHNvcnRlZCAoZGVmYXVsdCBmYWxzZSkuXG4gKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm4gaW5kZXguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NvcnRlZChhcnIsIG9wdF9mdW5jLCBvcHRfc3RyaWN0KSB7XG4gIHZhciBjb21wYXJlID0gb3B0X2Z1bmMgfHwgbnVtYmVyU2FmZUNvbXBhcmVGdW5jdGlvbjtcbiAgcmV0dXJuIGFyci5ldmVyeShmdW5jdGlvbihjdXJyZW50VmFsLCBpbmRleCkge1xuICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHZhciByZXMgPSBjb21wYXJlKGFycltpbmRleCAtIDFdLCBjdXJyZW50VmFsKTtcbiAgICByZXR1cm4gIShyZXMgPiAwIHx8IG9wdF9zdHJpY3QgJiYgcmVzID09PSAwKTtcbiAgfSk7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFycmF5LmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=