(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{105:function(t,e,r){"use strict";var o=r(29),i=function(t){function e(e){var r=e||{};t.call(this,r),this.type=o.a.IMAGE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(32).a);i.prototype.getSource,e.a=i},106:function(t,e,r){"use strict";var o=r(29),i=r(32),n=r(109),s=r(5),a=function(t){function e(e){var r=e||{},i=Object(s.a)({},r);delete i.preload,delete i.useInterimTilesOnError,t.call(this,i),this.setPreload(void 0!==r.preload?r.preload:0),this.setUseInterimTilesOnError(void 0===r.useInterimTilesOnError||r.useInterimTilesOnError),this.type=o.a.TILE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPreload=function(){return this.get(n.a.PRELOAD)},e.prototype.setPreload=function(t){this.set(n.a.PRELOAD,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(n.a.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setUseInterimTilesOnError=function(t){this.set(n.a.USE_INTERIM_TILES_ON_ERROR,t)},e}(i.a);a.prototype.getSource,e.a=a},109:function(t,e,r){"use strict";e.a={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}},16:function(t,e,r){"use strict";e.a={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},21:function(t,e,r){"use strict";e.a={ADD:"add",REMOVE:"remove"}},25:function(t,e,r){"use strict";var o=r(67),i=r(21),n=r(12),s=r(11),a="length",c=function(t){function e(e,r){t.call(this,e),this.element=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a),u=function(t){function e(e,r){t.call(this);var o=r||{};if(this.unique_=!!o.unique,this.array_=e||[],this.unique_)for(var i=0,n=this.array_.length;i<n;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,r=t.length;e<r;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,r=0,o=e.length;r<o;++r)t(e[r],r,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(a)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new c(i.a.ADD,e))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,r=0,o=e.length;r<o;++r)if(e[r]===t)return this.removeAt(r)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new c(i.a.REMOVE,e)),e},e.prototype.setAt=function(t,e){var r=this.getLength();if(t<r){this.unique_&&this.assertUnique_(e,t);var o=this.array_[t];this.array_[t]=e,this.dispatchEvent(new c(i.a.REMOVE,o)),this.dispatchEvent(new c(i.a.ADD,e))}else{for(var n=r;n<t;++n)this.insertAt(n,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(a,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var r=0,i=this.array_.length;r<i;++r)if(this.array_[r]===t&&r!==e)throw new o.a(58)},e}(n.a);e.a=u},29:function(t,e,r){"use strict";e.a={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"}},32:function(t,e,r){"use strict";r.d(e,"b",function(){return _});var o=r(4),i=r(2),n=r(3),s=r(12),a=r(58),c=r(56),u=r(5),p=r(41),h=r(16),y=function(t){function e(e){var r=Object(u.a)({},e);delete r.source,t.call(this,r),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,e.map&&this.setMap(e.map),Object(o.a)(this,Object(s.b)(c.a.SOURCE),this.handleSourcePropertyChange_,this);var i=e.source?e.source:null;this.setSource(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(c.a.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():h.a.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(o.e)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Object(o.a)(t,i.a.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Object(o.e)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Object(o.e)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Object(o.a)(t,p.a.PRECOMPOSE,function(t){var e=t,r=this.getLayerState();r.managed=!1,void 0===this.getZIndex()&&(r.zIndex=1/0),e.frameState.layerStatesArray.push(r),e.frameState.layerStates[Object(n.c)(this)]=r},this),this.mapRenderKey_=Object(o.a)(this,i.a.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(c.a.SOURCE,t)},e}(a.a);function _(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}e.a=y},41:function(t,e,r){"use strict";e.a={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render",RENDERCOMPLETE:"rendercomplete"}},56:function(t,e,r){"use strict";e.a={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"}},58:function(t,e,r){"use strict";var o=r(3),i=r(12),n=r(56),s=r(6),a=r(5),c=function(t){function e(e){t.call(this);var r=Object(a.a)({},e);r[n.a.OPACITY]=void 0!==e.opacity?e.opacity:1,r[n.a.VISIBLE]=void 0===e.visible||e.visible,r[n.a.Z_INDEX]=e.zIndex,r[n.a.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,r[n.a.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,this.setProperties(r),this.state_=null,this.type}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return this.type},e.prototype.getLayerState=function(){var t=this.state_||{layer:this,managed:!0};return t.opacity=Object(s.a)(this.getOpacity(),0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=this.getZIndex()||0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),this.state_=t,t},e.prototype.getLayersArray=function(t){return Object(o.b)()},e.prototype.getLayerStatesArray=function(t){return Object(o.b)()},e.prototype.getExtent=function(){return this.get(n.a.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(n.a.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(n.a.MIN_RESOLUTION)},e.prototype.getOpacity=function(){return this.get(n.a.OPACITY)},e.prototype.getSourceState=function(){return Object(o.b)()},e.prototype.getVisible=function(){return this.get(n.a.VISIBLE)},e.prototype.getZIndex=function(){return this.get(n.a.Z_INDEX)},e.prototype.setExtent=function(t){this.set(n.a.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(n.a.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(n.a.MIN_RESOLUTION,t)},e.prototype.setOpacity=function(t){this.set(n.a.OPACITY,t)},e.prototype.setVisible=function(t){this.set(n.a.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(n.a.Z_INDEX,t)},e}(i.a);e.a=c},61:function(t,e,r){"use strict";e.a={IMAGE:"image",VECTOR:"vector"}},71:function(t,e,r){"use strict";r.d(e,"a",function(){return s});var o=r(44),i=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};function n(t,e,r){return e+":"+t+":"+(r?Object(o.b)(r):"null")}i.prototype.clear=function(){this.cache_={},this.cacheSize_=0},i.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t=0;for(var e in this.cache_){var r=this.cache_[e];0!=(3&t++)||r.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},i.prototype.get=function(t,e,r){var o=n(t,e,r);return o in this.cache_?this.cache_[o]:null},i.prototype.set=function(t,e,r,o){var i=n(t,e,r);this.cache_[i]=o,++this.cacheSize_},i.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()};var s=new i}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvbGF5ZXIvSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2xheWVyL1RpbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2xheWVyL1RpbGVQcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1N0YXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9Db2xsZWN0aW9uRXZlbnRUeXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9Db2xsZWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9MYXllclR5cGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2xheWVyL0xheWVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvRXZlbnRUeXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9sYXllci9Qcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvbGF5ZXIvQmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvbGF5ZXIvVmVjdG9yUmVuZGVyVHlwZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvSWNvbkltYWdlQ2FjaGUuanMiXSwibmFtZXMiOlsiX0xheWVyVHlwZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIkltYWdlTGF5ZXIiLCJMYXllciIsIm9wdF9vcHRpb25zIiwib3B0aW9ucyIsImNhbGwiLCJ0aGlzIiwidHlwZSIsIklNQUdFIiwiX19wcm90b19fIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJnZXRTb3VyY2UiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiX0xheWVyX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJfVGlsZVByb3BlcnR5X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18iLCJfb2JqX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18iLCJUaWxlTGF5ZXIiLCJiYXNlT3B0aW9ucyIsInByZWxvYWQiLCJ1c2VJbnRlcmltVGlsZXNPbkVycm9yIiwic2V0UHJlbG9hZCIsInVuZGVmaW5lZCIsInNldFVzZUludGVyaW1UaWxlc09uRXJyb3IiLCJUSUxFIiwiZ2V0UHJlbG9hZCIsImdldCIsIlBSRUxPQUQiLCJzZXQiLCJnZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yIiwiVVNFX0lOVEVSSU1fVElMRVNfT05fRVJST1IiLCJVTkRFRklORUQiLCJMT0FESU5HIiwiUkVBRFkiLCJFUlJPUiIsIkFERCIsIlJFTU9WRSIsIl9Bc3NlcnRpb25FcnJvcl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwiX0NvbGxlY3Rpb25FdmVudFR5cGVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsIl9PYmplY3RfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyIsIl9ldmVudHNfRXZlbnRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyIsIlByb3BlcnR5IiwiQ29sbGVjdGlvbkV2ZW50IiwiRXZlbnQiLCJvcHRfZWxlbWVudCIsImVsZW1lbnQiLCJDb2xsZWN0aW9uIiwiQmFzZU9iamVjdCIsIm9wdF9hcnJheSIsInVuaXF1ZV8iLCJ1bmlxdWUiLCJhcnJheV8iLCJpIiwiaWkiLCJsZW5ndGgiLCJhc3NlcnRVbmlxdWVfIiwidXBkYXRlTGVuZ3RoXyIsImNsZWFyIiwiZ2V0TGVuZ3RoIiwicG9wIiwiZXh0ZW5kIiwiYXJyIiwicHVzaCIsImZvckVhY2giLCJmIiwiYXJyYXkiLCJnZXRBcnJheSIsIml0ZW0iLCJpbmRleCIsImluc2VydEF0IiwiZWxlbSIsInNwbGljZSIsImRpc3BhdGNoRXZlbnQiLCJyZW1vdmVBdCIsIm4iLCJyZW1vdmUiLCJwcmV2Iiwic2V0QXQiLCJqIiwib3B0X2V4Y2VwdCIsIlZFQ1RPUl9USUxFIiwiVkVDVE9SIiwiZCIsInZpc2libGVBdFJlc29sdXRpb24iLCJfZXZlbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfZXZlbnRzX0V2ZW50VHlwZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwiX3V0aWxfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyIsIl9PYmplY3RfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyIsIl9CYXNlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18iLCJfUHJvcGVydHlfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyIsIl9vYmpfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyIsIl9yZW5kZXJfRXZlbnRUeXBlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X18iLCJfc291cmNlX1N0YXRlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X18iLCJCYXNlTGF5ZXIiLCJzb3VyY2UiLCJtYXBQcmVjb21wb3NlS2V5XyIsIm1hcFJlbmRlcktleV8iLCJzb3VyY2VDaGFuZ2VLZXlfIiwibWFwIiwic2V0TWFwIiwiU09VUkNFIiwiaGFuZGxlU291cmNlUHJvcGVydHlDaGFuZ2VfIiwic2V0U291cmNlIiwiZ2V0TGF5ZXJzQXJyYXkiLCJnZXRMYXllclN0YXRlc0FycmF5Iiwib3B0X3N0YXRlcyIsInN0YXRlcyIsImdldExheWVyU3RhdGUiLCJnZXRTb3VyY2VTdGF0ZSIsImdldFN0YXRlIiwiaGFuZGxlU291cmNlQ2hhbmdlXyIsImNoYW5nZWQiLCJDSEFOR0UiLCJQUkVDT01QT1NFIiwiZXZ0IiwicmVuZGVyRXZlbnQiLCJsYXllclN0YXRlIiwibWFuYWdlZCIsImdldFpJbmRleCIsInpJbmRleCIsIkluZmluaXR5IiwiZnJhbWVTdGF0ZSIsImxheWVyU3RhdGVzQXJyYXkiLCJsYXllclN0YXRlcyIsInJlbmRlciIsInJlc29sdXRpb24iLCJ2aXNpYmxlIiwibWluUmVzb2x1dGlvbiIsIm1heFJlc29sdXRpb24iLCJQT1NUQ09NUE9TRSIsIlJFTkRFUiIsIlJFTkRFUkNPTVBMRVRFIiwiT1BBQ0lUWSIsIlZJU0lCTEUiLCJFWFRFTlQiLCJaX0lOREVYIiwiTUFYX1JFU09MVVRJT04iLCJNSU5fUkVTT0xVVElPTiIsIl91dGlsX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfT2JqZWN0X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJfUHJvcGVydHlfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyIsIl9tYXRoX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18iLCJfb2JqX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18iLCJwcm9wZXJ0aWVzIiwib3BhY2l0eSIsInNldFByb3BlcnRpZXMiLCJzdGF0ZV8iLCJnZXRUeXBlIiwic3RhdGUiLCJsYXllciIsImdldE9wYWNpdHkiLCJzb3VyY2VTdGF0ZSIsImdldFZpc2libGUiLCJleHRlbnQiLCJnZXRFeHRlbnQiLCJnZXRNYXhSZXNvbHV0aW9uIiwiTWF0aCIsIm1heCIsImdldE1pblJlc29sdXRpb24iLCJzZXRFeHRlbnQiLCJzZXRNYXhSZXNvbHV0aW9uIiwic2V0TWluUmVzb2x1dGlvbiIsInNldE9wYWNpdHkiLCJzZXRWaXNpYmxlIiwic2V0WkluZGV4IiwiemluZGV4Iiwic2hhcmVkIiwiX2NvbG9yX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJJY29uSW1hZ2VDYWNoZSIsImNhY2hlXyIsImNhY2hlU2l6ZV8iLCJtYXhDYWNoZVNpemVfIiwiZ2V0S2V5Iiwic3JjIiwiY3Jvc3NPcmlnaW4iLCJjb2xvciIsImV4cGlyZSIsImtleSIsImljb25JbWFnZSIsImhhc0xpc3RlbmVyIiwic2V0U2l6ZSIsIm1heENhY2hl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SUFBQUUiLCJmaWxlIjoidmVuZG9yc35vbC9sYXllcn5vbC9zb3VyY2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBtb2R1bGUgb2wvbGF5ZXIvSW1hZ2VcbiAqL1xuaW1wb3J0IExheWVyVHlwZSBmcm9tICcuLi9MYXllclR5cGUuanMnO1xuaW1wb3J0IExheWVyIGZyb20gJy4vTGF5ZXIuanMnO1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFtvcGFjaXR5PTFdIE9wYWNpdHkgKDAsIDEpLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdmlzaWJsZT10cnVlXSBWaXNpYmlsaXR5LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBUaGUgYm91bmRpbmcgZXh0ZW50IGZvciBsYXllciByZW5kZXJpbmcuICBUaGUgbGF5ZXIgd2lsbCBub3QgYmVcbiAqIHJlbmRlcmVkIG91dHNpZGUgb2YgdGhpcyBleHRlbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pJbmRleF0gVGhlIHotaW5kZXggZm9yIGxheWVyIHJlbmRlcmluZy4gIEF0IHJlbmRlcmluZyB0aW1lLCB0aGUgbGF5ZXJzXG4gKiB3aWxsIGJlIG9yZGVyZWQsIGZpcnN0IGJ5IFotaW5kZXggYW5kIHRoZW4gYnkgcG9zaXRpb24uIFdoZW4gYHVuZGVmaW5lZGAsIGEgYHpJbmRleGAgb2YgMCBpcyBhc3N1bWVkXG4gKiBmb3IgbGF5ZXJzIHRoYXQgYXJlIGFkZGVkIHRvIHRoZSBtYXAncyBgbGF5ZXJzYCBjb2xsZWN0aW9uLCBvciBgSW5maW5pdHlgIHdoZW4gdGhlIGxheWVyJ3MgYHNldE1hcCgpYFxuICogbWV0aG9kIHdhcyB1c2VkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5SZXNvbHV0aW9uXSBUaGUgbWluaW11bSByZXNvbHV0aW9uIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4UmVzb2x1dGlvbl0gVGhlIG1heGltdW0gcmVzb2x1dGlvbiAoZXhjbHVzaXZlKSBiZWxvdyB3aGljaCB0aGlzIGxheWVyIHdpbGxcbiAqIGJlIHZpc2libGUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fSBbbWFwXSBTZXRzIHRoZSBsYXllciBhcyBvdmVybGF5IG9uIGEgbWFwLiBUaGUgbWFwIHdpbGwgbm90IG1hbmFnZVxuICogdGhpcyBsYXllciBpbiBpdHMgbGF5ZXJzIGNvbGxlY3Rpb24sIGFuZCB0aGUgbGF5ZXIgd2lsbCBiZSByZW5kZXJlZCBvbiB0b3AuIFRoaXMgaXMgdXNlZnVsIGZvclxuICogdGVtcG9yYXJ5IGxheWVycy4gVGhlIHN0YW5kYXJkIHdheSB0byBhZGQgYSBsYXllciB0byBhIG1hcCBhbmQgaGF2ZSBpdCBtYW5hZ2VkIGJ5IHRoZSBtYXAgaXMgdG9cbiAqIHVzZSB7QGxpbmsgbW9kdWxlOm9sL01hcCNhZGRMYXllcn0uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3NvdXJjZS9JbWFnZS5qc1wiKS5kZWZhdWx0fSBbc291cmNlXSBTb3VyY2UgZm9yIHRoaXMgbGF5ZXIuXG4gKi9cblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFNlcnZlci1yZW5kZXJlZCBpbWFnZXMgdGhhdCBhcmUgYXZhaWxhYmxlIGZvciBhcmJpdHJhcnkgZXh0ZW50cyBhbmRcbiAqIHJlc29sdXRpb25zLlxuICogTm90ZSB0aGF0IGFueSBwcm9wZXJ0eSBzZXQgaW4gdGhlIG9wdGlvbnMgaXMgc2V0IGFzIGEge0BsaW5rIG1vZHVsZTpvbC9PYmplY3R+QmFzZU9iamVjdH1cbiAqIHByb3BlcnR5IG9uIHRoZSBsYXllciBvYmplY3Q7IGZvciBleGFtcGxlLCBzZXR0aW5nIGB0aXRsZTogJ015IFRpdGxlJ2AgaW4gdGhlXG4gKiBvcHRpb25zIG1lYW5zIHRoYXQgYHRpdGxlYCBpcyBvYnNlcnZhYmxlLCBhbmQgaGFzIGdldC9zZXQgYWNjZXNzb3JzLlxuICpcbiAqIEBmaXJlcyBpbXBvcnQoXCIuLi9yZW5kZXIvRXZlbnQuanNcIikuUmVuZGVyRXZlbnRcbiAqIEBhcGlcbiAqL1xudmFyIEltYWdlTGF5ZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChMYXllcikge1xuICBmdW5jdGlvbiBJbWFnZUxheWVyKG9wdF9vcHRpb25zKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG4gICAgTGF5ZXIuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBsYXllciB0eXBlLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vTGF5ZXJUeXBlLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy50eXBlID0gTGF5ZXJUeXBlLklNQUdFO1xuXG4gIH1cblxuICBpZiAoIExheWVyICkgSW1hZ2VMYXllci5fX3Byb3RvX18gPSBMYXllcjtcbiAgSW1hZ2VMYXllci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBMYXllciAmJiBMYXllci5wcm90b3R5cGUgKTtcbiAgSW1hZ2VMYXllci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBJbWFnZUxheWVyO1xuXG4gIHJldHVybiBJbWFnZUxheWVyO1xufShMYXllcikpO1xuXG5cbi8qKlxuICogUmV0dXJuIHRoZSBhc3NvY2lhdGVkIHtAbGluayBtb2R1bGU6b2wvc291cmNlL0ltYWdlIHNvdXJjZX0gb2YgdGhlIGltYWdlIGxheWVyLlxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zb3VyY2UvSW1hZ2UuanNcIikuZGVmYXVsdH0gU291cmNlLlxuICogQGFwaVxuICovXG5JbWFnZUxheWVyLnByb3RvdHlwZS5nZXRTb3VyY2U7XG5leHBvcnQgZGVmYXVsdCBJbWFnZUxheWVyO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbWFnZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvbGF5ZXIvVGlsZVxuICovXG5pbXBvcnQgTGF5ZXJUeXBlIGZyb20gJy4uL0xheWVyVHlwZS5qcyc7XG5pbXBvcnQgTGF5ZXIgZnJvbSAnLi9MYXllci5qcyc7XG5pbXBvcnQgVGlsZVByb3BlcnR5IGZyb20gJy4vVGlsZVByb3BlcnR5LmpzJztcbmltcG9ydCB7YXNzaWdufSBmcm9tICcuLi9vYmouanMnO1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFtvcGFjaXR5PTFdIE9wYWNpdHkgKDAsIDEpLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdmlzaWJsZT10cnVlXSBWaXNpYmlsaXR5LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBUaGUgYm91bmRpbmcgZXh0ZW50IGZvciBsYXllciByZW5kZXJpbmcuICBUaGUgbGF5ZXIgd2lsbCBub3QgYmVcbiAqIHJlbmRlcmVkIG91dHNpZGUgb2YgdGhpcyBleHRlbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pJbmRleF0gVGhlIHotaW5kZXggZm9yIGxheWVyIHJlbmRlcmluZy4gIEF0IHJlbmRlcmluZyB0aW1lLCB0aGUgbGF5ZXJzXG4gKiB3aWxsIGJlIG9yZGVyZWQsIGZpcnN0IGJ5IFotaW5kZXggYW5kIHRoZW4gYnkgcG9zaXRpb24uIFdoZW4gYHVuZGVmaW5lZGAsIGEgYHpJbmRleGAgb2YgMCBpcyBhc3N1bWVkXG4gKiBmb3IgbGF5ZXJzIHRoYXQgYXJlIGFkZGVkIHRvIHRoZSBtYXAncyBgbGF5ZXJzYCBjb2xsZWN0aW9uLCBvciBgSW5maW5pdHlgIHdoZW4gdGhlIGxheWVyJ3MgYHNldE1hcCgpYFxuICogbWV0aG9kIHdhcyB1c2VkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5SZXNvbHV0aW9uXSBUaGUgbWluaW11bSByZXNvbHV0aW9uIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4UmVzb2x1dGlvbl0gVGhlIG1heGltdW0gcmVzb2x1dGlvbiAoZXhjbHVzaXZlKSBiZWxvdyB3aGljaCB0aGlzIGxheWVyIHdpbGxcbiAqIGJlIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3ByZWxvYWQ9MF0gUHJlbG9hZC4gTG9hZCBsb3ctcmVzb2x1dGlvbiB0aWxlcyB1cCB0byBgcHJlbG9hZGAgbGV2ZWxzLiBgMGBcbiAqIG1lYW5zIG5vIHByZWxvYWRpbmcuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9IFtzb3VyY2VdIFNvdXJjZSBmb3IgdGhpcyBsYXllci5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IFttYXBdIFNldHMgdGhlIGxheWVyIGFzIG92ZXJsYXkgb24gYSBtYXAuIFRoZSBtYXAgd2lsbCBub3QgbWFuYWdlXG4gKiB0aGlzIGxheWVyIGluIGl0cyBsYXllcnMgY29sbGVjdGlvbiwgYW5kIHRoZSBsYXllciB3aWxsIGJlIHJlbmRlcmVkIG9uIHRvcC4gVGhpcyBpcyB1c2VmdWwgZm9yXG4gKiB0ZW1wb3JhcnkgbGF5ZXJzLiBUaGUgc3RhbmRhcmQgd2F5IHRvIGFkZCBhIGxheWVyIHRvIGEgbWFwIGFuZCBoYXZlIGl0IG1hbmFnZWQgYnkgdGhlIG1hcCBpcyB0b1xuICogdXNlIHtAbGluayBtb2R1bGU6b2wvTWFwI2FkZExheWVyfS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VzZUludGVyaW1UaWxlc09uRXJyb3I9dHJ1ZV0gVXNlIGludGVyaW0gdGlsZXMgb24gZXJyb3IuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBGb3IgbGF5ZXIgc291cmNlcyB0aGF0IHByb3ZpZGUgcHJlLXJlbmRlcmVkLCB0aWxlZCBpbWFnZXMgaW4gZ3JpZHMgdGhhdCBhcmVcbiAqIG9yZ2FuaXplZCBieSB6b29tIGxldmVscyBmb3Igc3BlY2lmaWMgcmVzb2x1dGlvbnMuXG4gKiBOb3RlIHRoYXQgYW55IHByb3BlcnR5IHNldCBpbiB0aGUgb3B0aW9ucyBpcyBzZXQgYXMgYSB7QGxpbmsgbW9kdWxlOm9sL09iamVjdH5CYXNlT2JqZWN0fVxuICogcHJvcGVydHkgb24gdGhlIGxheWVyIG9iamVjdDsgZm9yIGV4YW1wbGUsIHNldHRpbmcgYHRpdGxlOiAnTXkgVGl0bGUnYCBpbiB0aGVcbiAqIG9wdGlvbnMgbWVhbnMgdGhhdCBgdGl0bGVgIGlzIG9ic2VydmFibGUsIGFuZCBoYXMgZ2V0L3NldCBhY2Nlc3NvcnMuXG4gKlxuICogQGFwaVxuICovXG52YXIgVGlsZUxheWVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoTGF5ZXIpIHtcbiAgZnVuY3Rpb24gVGlsZUxheWVyKG9wdF9vcHRpb25zKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG5cbiAgICB2YXIgYmFzZU9wdGlvbnMgPSBhc3NpZ24oe30sIG9wdGlvbnMpO1xuXG4gICAgZGVsZXRlIGJhc2VPcHRpb25zLnByZWxvYWQ7XG4gICAgZGVsZXRlIGJhc2VPcHRpb25zLnVzZUludGVyaW1UaWxlc09uRXJyb3I7XG4gICAgTGF5ZXIuY2FsbCh0aGlzLCBiYXNlT3B0aW9ucyk7XG5cbiAgICB0aGlzLnNldFByZWxvYWQob3B0aW9ucy5wcmVsb2FkICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnByZWxvYWQgOiAwKTtcbiAgICB0aGlzLnNldFVzZUludGVyaW1UaWxlc09uRXJyb3Iob3B0aW9ucy51c2VJbnRlcmltVGlsZXNPbkVycm9yICE9PSB1bmRlZmluZWQgP1xuICAgICAgb3B0aW9ucy51c2VJbnRlcmltVGlsZXNPbkVycm9yIDogdHJ1ZSk7XG5cbiAgICAvKipcbiAgICAqIFRoZSBsYXllciB0eXBlLlxuICAgICogQHByb3RlY3RlZFxuICAgICogQHR5cGUge2ltcG9ydChcIi4uL0xheWVyVHlwZS5qc1wiKS5kZWZhdWx0fVxuICAgICovXG4gICAgdGhpcy50eXBlID0gTGF5ZXJUeXBlLlRJTEU7XG5cbiAgfVxuXG4gIGlmICggTGF5ZXIgKSBUaWxlTGF5ZXIuX19wcm90b19fID0gTGF5ZXI7XG4gIFRpbGVMYXllci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBMYXllciAmJiBMYXllci5wcm90b3R5cGUgKTtcbiAgVGlsZUxheWVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRpbGVMYXllcjtcblxuICAvKipcbiAgKiBSZXR1cm4gdGhlIGxldmVsIGFzIG51bWJlciB0byB3aGljaCB3ZSB3aWxsIHByZWxvYWQgdGlsZXMgdXAgdG8uXG4gICogQHJldHVybiB7bnVtYmVyfSBUaGUgbGV2ZWwgdG8gcHJlbG9hZCB0aWxlcyB1cCB0by5cbiAgKiBAb2JzZXJ2YWJsZVxuICAqIEBhcGlcbiAgKi9cbiAgVGlsZUxheWVyLnByb3RvdHlwZS5nZXRQcmVsb2FkID0gZnVuY3Rpb24gZ2V0UHJlbG9hZCAoKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5nZXQoVGlsZVByb3BlcnR5LlBSRUxPQUQpKTtcbiAgfTtcblxuICAvKipcbiAgKiBTZXQgdGhlIGxldmVsIGFzIG51bWJlciB0byB3aGljaCB3ZSB3aWxsIHByZWxvYWQgdGlsZXMgdXAgdG8uXG4gICogQHBhcmFtIHtudW1iZXJ9IHByZWxvYWQgVGhlIGxldmVsIHRvIHByZWxvYWQgdGlsZXMgdXAgdG8uXG4gICogQG9ic2VydmFibGVcbiAgKiBAYXBpXG4gICovXG4gIFRpbGVMYXllci5wcm90b3R5cGUuc2V0UHJlbG9hZCA9IGZ1bmN0aW9uIHNldFByZWxvYWQgKHByZWxvYWQpIHtcbiAgICB0aGlzLnNldChUaWxlUHJvcGVydHkuUFJFTE9BRCwgcHJlbG9hZCk7XG4gIH07XG5cbiAgLyoqXG4gICogV2hldGhlciB3ZSB1c2UgaW50ZXJpbSB0aWxlcyBvbiBlcnJvci5cbiAgKiBAcmV0dXJuIHtib29sZWFufSBVc2UgaW50ZXJpbSB0aWxlcyBvbiBlcnJvci5cbiAgKiBAb2JzZXJ2YWJsZVxuICAqIEBhcGlcbiAgKi9cbiAgVGlsZUxheWVyLnByb3RvdHlwZS5nZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yID0gZnVuY3Rpb24gZ2V0VXNlSW50ZXJpbVRpbGVzT25FcnJvciAoKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8gKHRoaXMuZ2V0KFRpbGVQcm9wZXJ0eS5VU0VfSU5URVJJTV9USUxFU19PTl9FUlJPUikpO1xuICB9O1xuXG4gIC8qKlxuICAqIFNldCB3aGV0aGVyIHdlIHVzZSBpbnRlcmltIHRpbGVzIG9uIGVycm9yLlxuICAqIEBwYXJhbSB7Ym9vbGVhbn0gdXNlSW50ZXJpbVRpbGVzT25FcnJvciBVc2UgaW50ZXJpbSB0aWxlcyBvbiBlcnJvci5cbiAgKiBAb2JzZXJ2YWJsZVxuICAqIEBhcGlcbiAgKi9cbiAgVGlsZUxheWVyLnByb3RvdHlwZS5zZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yID0gZnVuY3Rpb24gc2V0VXNlSW50ZXJpbVRpbGVzT25FcnJvciAodXNlSW50ZXJpbVRpbGVzT25FcnJvcikge1xuICAgIHRoaXMuc2V0KFRpbGVQcm9wZXJ0eS5VU0VfSU5URVJJTV9USUxFU19PTl9FUlJPUiwgdXNlSW50ZXJpbVRpbGVzT25FcnJvcik7XG4gIH07XG5cbiAgcmV0dXJuIFRpbGVMYXllcjtcbn0oTGF5ZXIpKTtcblxuXG4vKipcbiAqIFJldHVybiB0aGUgYXNzb2NpYXRlZCB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9UaWxlIHRpbGVzb3VyY2V9IG9mIHRoZSBsYXllci5cbiAqIEBmdW5jdGlvblxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vc291cmNlL1RpbGUuanNcIikuZGVmYXVsdH0gU291cmNlLlxuICogQGFwaVxuICovXG5UaWxlTGF5ZXIucHJvdG90eXBlLmdldFNvdXJjZTtcblxuXG5leHBvcnQgZGVmYXVsdCBUaWxlTGF5ZXI7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2xheWVyL1RpbGVQcm9wZXJ0eVxuICovXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBQUkVMT0FEOiAncHJlbG9hZCcsXG4gIFVTRV9JTlRFUklNX1RJTEVTX09OX0VSUk9SOiAndXNlSW50ZXJpbVRpbGVzT25FcnJvcidcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGVQcm9wZXJ0eS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1N0YXRlXG4gKi9cblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICogU3RhdGUgb2YgdGhlIHNvdXJjZSwgb25lIG9mICd1bmRlZmluZWQnLCAnbG9hZGluZycsICdyZWFkeScgb3IgJ2Vycm9yJy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBVTkRFRklORUQ6ICd1bmRlZmluZWQnLFxuICBMT0FESU5HOiAnbG9hZGluZycsXG4gIFJFQURZOiAncmVhZHknLFxuICBFUlJPUjogJ2Vycm9yJ1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RhdGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL0NvbGxlY3Rpb25FdmVudFR5cGVcbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB3aGVuIGFuIGl0ZW0gaXMgYWRkZWQgdG8gdGhlIGNvbGxlY3Rpb24uXG4gICAqIEBldmVudCBtb2R1bGU6b2wvQ29sbGVjdGlvbi5Db2xsZWN0aW9uRXZlbnQjYWRkXG4gICAqIEBhcGlcbiAgICovXG4gIEFERDogJ2FkZCcsXG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgd2hlbiBhbiBpdGVtIGlzIHJlbW92ZWQgZnJvbSB0aGUgY29sbGVjdGlvbi5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9Db2xsZWN0aW9uLkNvbGxlY3Rpb25FdmVudCNyZW1vdmVcbiAgICogQGFwaVxuICAgKi9cbiAgUkVNT1ZFOiAncmVtb3ZlJ1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29sbGVjdGlvbkV2ZW50VHlwZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvQ29sbGVjdGlvblxuICovXG5pbXBvcnQgQXNzZXJ0aW9uRXJyb3IgZnJvbSAnLi9Bc3NlcnRpb25FcnJvci5qcyc7XG5pbXBvcnQgQ29sbGVjdGlvbkV2ZW50VHlwZSBmcm9tICcuL0NvbGxlY3Rpb25FdmVudFR5cGUuanMnO1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi9PYmplY3QuanMnO1xuaW1wb3J0IEV2ZW50IGZyb20gJy4vZXZlbnRzL0V2ZW50LmpzJztcblxuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG52YXIgUHJvcGVydHkgPSB7XG4gIExFTkdUSDogJ2xlbmd0aCdcbn07XG5cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBFdmVudHMgZW1pdHRlZCBieSB7QGxpbmsgbW9kdWxlOm9sL0NvbGxlY3Rpb25+Q29sbGVjdGlvbn0gaW5zdGFuY2VzIGFyZSBpbnN0YW5jZXMgb2YgdGhpc1xuICogdHlwZS5cbiAqL1xuZXhwb3J0IHZhciBDb2xsZWN0aW9uRXZlbnQgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChFdmVudCkge1xuICBmdW5jdGlvbiBDb2xsZWN0aW9uRXZlbnQodHlwZSwgb3B0X2VsZW1lbnQpIHtcbiAgICBFdmVudC5jYWxsKHRoaXMsIHR5cGUpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGVsZW1lbnQgdGhhdCBpcyBhZGRlZCB0byBvciByZW1vdmVkIGZyb20gdGhlIGNvbGxlY3Rpb24uXG4gICAgICogQHR5cGUgeyp9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMuZWxlbWVudCA9IG9wdF9lbGVtZW50O1xuXG4gIH1cblxuICBpZiAoIEV2ZW50ICkgQ29sbGVjdGlvbkV2ZW50Ll9fcHJvdG9fXyA9IEV2ZW50O1xuICBDb2xsZWN0aW9uRXZlbnQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZlbnQgJiYgRXZlbnQucHJvdG90eXBlICk7XG4gIENvbGxlY3Rpb25FdmVudC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDb2xsZWN0aW9uRXZlbnQ7XG5cbiAgcmV0dXJuIENvbGxlY3Rpb25FdmVudDtcbn0oRXZlbnQpKTtcblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VuaXF1ZT1mYWxzZV0gRGlzYWxsb3cgdGhlIHNhbWUgaXRlbSBmcm9tIGJlaW5nIGFkZGVkIHRvXG4gKiB0aGUgY29sbGVjdGlvbiB0d2ljZS5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFuIGV4cGFuZGVkIHZlcnNpb24gb2Ygc3RhbmRhcmQgSlMgQXJyYXksIGFkZGluZyBjb252ZW5pZW5jZSBtZXRob2RzIGZvclxuICogbWFuaXB1bGF0aW9uLiBBZGQgYW5kIHJlbW92ZSBjaGFuZ2VzIHRvIHRoZSBDb2xsZWN0aW9uIHRyaWdnZXIgYSBDb2xsZWN0aW9uXG4gKiBldmVudC4gTm90ZSB0aGF0IHRoaXMgZG9lcyBub3QgY292ZXIgY2hhbmdlcyB0byB0aGUgb2JqZWN0cyBfd2l0aGluXyB0aGVcbiAqIENvbGxlY3Rpb247IHRoZXkgdHJpZ2dlciBldmVudHMgb24gdGhlIGFwcHJvcHJpYXRlIG9iamVjdCwgbm90IG9uIHRoZVxuICogQ29sbGVjdGlvbiBhcyBhIHdob2xlLlxuICpcbiAqIEBmaXJlcyBDb2xsZWN0aW9uRXZlbnRcbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQGFwaVxuICovXG52YXIgQ29sbGVjdGlvbiA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEJhc2VPYmplY3QpIHtcbiAgZnVuY3Rpb24gQ29sbGVjdGlvbihvcHRfYXJyYXksIG9wdF9vcHRpb25zKSB7XG5cbiAgICBCYXNlT2JqZWN0LmNhbGwodGhpcyk7XG5cbiAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnVuaXF1ZV8gPSAhIW9wdGlvbnMudW5pcXVlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7IUFycmF5PFQ+fVxuICAgICAqL1xuICAgIHRoaXMuYXJyYXlfID0gb3B0X2FycmF5ID8gb3B0X2FycmF5IDogW107XG5cbiAgICBpZiAodGhpcy51bmlxdWVfKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSB0aGlzLmFycmF5Xy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHRoaXMuYXNzZXJ0VW5pcXVlXyh0aGlzLmFycmF5X1tpXSwgaSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVMZW5ndGhfKCk7XG5cbiAgfVxuXG4gIGlmICggQmFzZU9iamVjdCApIENvbGxlY3Rpb24uX19wcm90b19fID0gQmFzZU9iamVjdDtcbiAgQ29sbGVjdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBCYXNlT2JqZWN0ICYmIEJhc2VPYmplY3QucHJvdG90eXBlICk7XG4gIENvbGxlY3Rpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ29sbGVjdGlvbjtcblxuICAvKipcbiAgICogUmVtb3ZlIGFsbCBlbGVtZW50cyBmcm9tIHRoZSBjb2xsZWN0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBDb2xsZWN0aW9uLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpIHtcbiAgICB3aGlsZSAodGhpcy5nZXRMZW5ndGgoKSA+IDApIHtcbiAgICAgIHRoaXMucG9wKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBBZGQgZWxlbWVudHMgdG8gdGhlIGNvbGxlY3Rpb24uICBUaGlzIHB1c2hlcyBlYWNoIGl0ZW0gaW4gdGhlIHByb3ZpZGVkIGFycmF5XG4gICAqIHRvIHRoZSBlbmQgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAqIEBwYXJhbSB7IUFycmF5PFQ+fSBhcnIgQXJyYXkuXG4gICAqIEByZXR1cm4ge0NvbGxlY3Rpb248VD59IFRoaXMgY29sbGVjdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZXh0ZW5kID0gZnVuY3Rpb24gZXh0ZW5kIChhcnIpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBhcnIubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgdGhpcy5wdXNoKGFycltpXSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJdGVyYXRlIG92ZXIgZWFjaCBlbGVtZW50LCBjYWxsaW5nIHRoZSBwcm92aWRlZCBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihULCBudW1iZXIsIEFycmF5PFQ+KTogKn0gZiBUaGUgZnVuY3Rpb24gdG8gY2FsbFxuICAgKiAgICAgZm9yIGV2ZXJ5IGVsZW1lbnQuIFRoaXMgZnVuY3Rpb24gdGFrZXMgMyBhcmd1bWVudHMgKHRoZSBlbGVtZW50LCB0aGVcbiAgICogICAgIGluZGV4IGFuZCB0aGUgYXJyYXkpLiBUaGUgcmV0dXJuIHZhbHVlIGlzIGlnbm9yZWQuXG4gICAqIEBhcGlcbiAgICovXG4gIENvbGxlY3Rpb24ucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiBmb3JFYWNoIChmKSB7XG4gICAgdmFyIGFycmF5ID0gdGhpcy5hcnJheV87XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gYXJyYXkubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgZihhcnJheVtpXSwgaSwgYXJyYXkpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogR2V0IGEgcmVmZXJlbmNlIHRvIHRoZSB1bmRlcmx5aW5nIEFycmF5IG9iamVjdC4gV2FybmluZzogaWYgdGhlIGFycmF5XG4gICAqIGlzIG11dGF0ZWQsIG5vIGV2ZW50cyB3aWxsIGJlIGRpc3BhdGNoZWQgYnkgdGhlIGNvbGxlY3Rpb24sIGFuZCB0aGVcbiAgICogY29sbGVjdGlvbidzIFwibGVuZ3RoXCIgcHJvcGVydHkgd29uJ3QgYmUgaW4gc3luYyB3aXRoIHRoZSBhY3R1YWwgbGVuZ3RoXG4gICAqIG9mIHRoZSBhcnJheS5cbiAgICogQHJldHVybiB7IUFycmF5PFQ+fSBBcnJheS5cbiAgICogQGFwaVxuICAgKi9cbiAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0QXJyYXkgPSBmdW5jdGlvbiBnZXRBcnJheSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXJyYXlfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGVsZW1lbnQgYXQgdGhlIHByb3ZpZGVkIGluZGV4LlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXguXG4gICAqIEByZXR1cm4ge1R9IEVsZW1lbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIENvbGxlY3Rpb24ucHJvdG90eXBlLml0ZW0gPSBmdW5jdGlvbiBpdGVtIChpbmRleCkge1xuICAgIHJldHVybiB0aGlzLmFycmF5X1tpbmRleF07XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGVuZ3RoIG9mIHRoaXMgY29sbGVjdGlvbi5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbGVuZ3RoIG9mIHRoZSBhcnJheS5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0TGVuZ3RoID0gZnVuY3Rpb24gZ2V0TGVuZ3RoICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoUHJvcGVydHkuTEVOR1RIKTtcbiAgfTtcblxuICAvKipcbiAgICogSW5zZXJ0IGFuIGVsZW1lbnQgYXQgdGhlIHByb3ZpZGVkIGluZGV4LlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXguXG4gICAqIEBwYXJhbSB7VH0gZWxlbSBFbGVtZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBDb2xsZWN0aW9uLnByb3RvdHlwZS5pbnNlcnRBdCA9IGZ1bmN0aW9uIGluc2VydEF0IChpbmRleCwgZWxlbSkge1xuICAgIGlmICh0aGlzLnVuaXF1ZV8pIHtcbiAgICAgIHRoaXMuYXNzZXJ0VW5pcXVlXyhlbGVtKTtcbiAgICB9XG4gICAgdGhpcy5hcnJheV8uc3BsaWNlKGluZGV4LCAwLCBlbGVtKTtcbiAgICB0aGlzLnVwZGF0ZUxlbmd0aF8oKTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoXG4gICAgICBuZXcgQ29sbGVjdGlvbkV2ZW50KENvbGxlY3Rpb25FdmVudFR5cGUuQURELCBlbGVtKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUgbGFzdCBlbGVtZW50IG9mIHRoZSBjb2xsZWN0aW9uIGFuZCByZXR1cm4gaXQuXG4gICAqIFJldHVybiBgdW5kZWZpbmVkYCBpZiB0aGUgY29sbGVjdGlvbiBpcyBlbXB0eS5cbiAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IEVsZW1lbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIENvbGxlY3Rpb24ucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uIHBvcCAoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVtb3ZlQXQodGhpcy5nZXRMZW5ndGgoKSAtIDEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnNlcnQgdGhlIHByb3ZpZGVkIGVsZW1lbnQgYXQgdGhlIGVuZCBvZiB0aGUgY29sbGVjdGlvbi5cbiAgICogQHBhcmFtIHtUfSBlbGVtIEVsZW1lbnQuXG4gICAqIEByZXR1cm4ge251bWJlcn0gTmV3IGxlbmd0aCBvZiB0aGUgY29sbGVjdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgQ29sbGVjdGlvbi5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIHB1c2ggKGVsZW0pIHtcbiAgICBpZiAodGhpcy51bmlxdWVfKSB7XG4gICAgICB0aGlzLmFzc2VydFVuaXF1ZV8oZWxlbSk7XG4gICAgfVxuICAgIHZhciBuID0gdGhpcy5nZXRMZW5ndGgoKTtcbiAgICB0aGlzLmluc2VydEF0KG4sIGVsZW0pO1xuICAgIHJldHVybiB0aGlzLmdldExlbmd0aCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYW4gZWxlbWVudCBmcm9tIHRoZSBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0ge1R9IGVsZW0gRWxlbWVudC5cbiAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IFRoZSByZW1vdmVkIGVsZW1lbnQgb3IgdW5kZWZpbmVkIGlmIG5vbmUgZm91bmQuXG4gICAqIEBhcGlcbiAgICovXG4gIENvbGxlY3Rpb24ucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSAoZWxlbSkge1xuICAgIHZhciBhcnIgPSB0aGlzLmFycmF5XztcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBhcnIubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgaWYgKGFycltpXSA9PT0gZWxlbSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW1vdmVBdChpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlIHRoZSBlbGVtZW50IGF0IHRoZSBwcm92aWRlZCBpbmRleCBhbmQgcmV0dXJuIGl0LlxuICAgKiBSZXR1cm4gYHVuZGVmaW5lZGAgaWYgdGhlIGNvbGxlY3Rpb24gZG9lcyBub3QgY29udGFpbiB0aGlzIGluZGV4LlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXguXG4gICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBWYWx1ZS5cbiAgICogQGFwaVxuICAgKi9cbiAgQ29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlQXQgPSBmdW5jdGlvbiByZW1vdmVBdCAoaW5kZXgpIHtcbiAgICB2YXIgcHJldiA9IHRoaXMuYXJyYXlfW2luZGV4XTtcbiAgICB0aGlzLmFycmF5Xy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHRoaXMudXBkYXRlTGVuZ3RoXygpO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ29sbGVjdGlvbkV2ZW50KENvbGxlY3Rpb25FdmVudFR5cGUuUkVNT1ZFLCBwcmV2KSk7XG4gICAgcmV0dXJuIHByZXY7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgZWxlbWVudCBhdCB0aGUgcHJvdmlkZWQgaW5kZXguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBJbmRleC5cbiAgICogQHBhcmFtIHtUfSBlbGVtIEVsZW1lbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIENvbGxlY3Rpb24ucHJvdG90eXBlLnNldEF0ID0gZnVuY3Rpb24gc2V0QXQgKGluZGV4LCBlbGVtKSB7XG4gICAgdmFyIG4gPSB0aGlzLmdldExlbmd0aCgpO1xuICAgIGlmIChpbmRleCA8IG4pIHtcbiAgICAgIGlmICh0aGlzLnVuaXF1ZV8pIHtcbiAgICAgICAgdGhpcy5hc3NlcnRVbmlxdWVfKGVsZW0sIGluZGV4KTtcbiAgICAgIH1cbiAgICAgIHZhciBwcmV2ID0gdGhpcy5hcnJheV9baW5kZXhdO1xuICAgICAgdGhpcy5hcnJheV9baW5kZXhdID0gZWxlbTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgbmV3IENvbGxlY3Rpb25FdmVudChDb2xsZWN0aW9uRXZlbnRUeXBlLlJFTU9WRSwgcHJldikpO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgICBuZXcgQ29sbGVjdGlvbkV2ZW50KENvbGxlY3Rpb25FdmVudFR5cGUuQURELCBlbGVtKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAodmFyIGogPSBuOyBqIDwgaW5kZXg7ICsraikge1xuICAgICAgICB0aGlzLmluc2VydEF0KGosIHVuZGVmaW5lZCk7XG4gICAgICB9XG4gICAgICB0aGlzLmluc2VydEF0KGluZGV4LCBlbGVtKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBDb2xsZWN0aW9uLnByb3RvdHlwZS51cGRhdGVMZW5ndGhfID0gZnVuY3Rpb24gdXBkYXRlTGVuZ3RoXyAoKSB7XG4gICAgdGhpcy5zZXQoUHJvcGVydHkuTEVOR1RILCB0aGlzLmFycmF5Xy5sZW5ndGgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1R9IGVsZW0gRWxlbWVudC5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBvcHRfZXhjZXB0IE9wdGlvbmFsIGluZGV4IHRvIGlnbm9yZS5cbiAgICovXG4gIENvbGxlY3Rpb24ucHJvdG90eXBlLmFzc2VydFVuaXF1ZV8gPSBmdW5jdGlvbiBhc3NlcnRVbmlxdWVfIChlbGVtLCBvcHRfZXhjZXB0KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy5hcnJheV8ubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgaWYgKHRoaXMuYXJyYXlfW2ldID09PSBlbGVtICYmIGkgIT09IG9wdF9leGNlcHQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEFzc2VydGlvbkVycm9yKDU4KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIENvbGxlY3Rpb247XG59KEJhc2VPYmplY3QpKTtcblxuXG5leHBvcnQgZGVmYXVsdCBDb2xsZWN0aW9uO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db2xsZWN0aW9uLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9MYXllclR5cGVcbiAqL1xuXG4vKipcbiAqIEEgbGF5ZXIgdHlwZSB1c2VkIHdoZW4gY3JlYXRpbmcgbGF5ZXIgcmVuZGVyZXJzLlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBJTUFHRTogJ0lNQUdFJyxcbiAgVElMRTogJ1RJTEUnLFxuICBWRUNUT1JfVElMRTogJ1ZFQ1RPUl9USUxFJyxcbiAgVkVDVE9SOiAnVkVDVE9SJ1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGF5ZXJUeXBlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9MYXllclxuICovXG5pbXBvcnQge2xpc3RlbiwgdW5saXN0ZW5CeUtleX0gZnJvbSAnLi4vZXZlbnRzLmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQge2dldFVpZH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQge2dldENoYW5nZUV2ZW50VHlwZX0gZnJvbSAnLi4vT2JqZWN0LmpzJztcbmltcG9ydCBCYXNlTGF5ZXIgZnJvbSAnLi9CYXNlLmpzJztcbmltcG9ydCBMYXllclByb3BlcnR5IGZyb20gJy4vUHJvcGVydHkuanMnO1xuaW1wb3J0IHthc3NpZ259IGZyb20gJy4uL29iai5qcyc7XG5pbXBvcnQgUmVuZGVyRXZlbnRUeXBlIGZyb20gJy4uL3JlbmRlci9FdmVudFR5cGUuanMnO1xuaW1wb3J0IFNvdXJjZVN0YXRlIGZyb20gJy4uL3NvdXJjZS9TdGF0ZS5qcyc7XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gW29wYWNpdHk9MV0gT3BhY2l0eSAoMCwgMSkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt2aXNpYmxlPXRydWVdIFZpc2liaWxpdHkuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIFRoZSBib3VuZGluZyBleHRlbnQgZm9yIGxheWVyIHJlbmRlcmluZy4gIFRoZSBsYXllciB3aWxsIG5vdCBiZVxuICogcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGlzIGV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbekluZGV4XSBUaGUgei1pbmRleCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgQXQgcmVuZGVyaW5nIHRpbWUsIHRoZSBsYXllcnNcbiAqIHdpbGwgYmUgb3JkZXJlZCwgZmlyc3QgYnkgWi1pbmRleCBhbmQgdGhlbiBieSBwb3NpdGlvbi4gV2hlbiBgdW5kZWZpbmVkYCwgYSBgekluZGV4YCBvZiAwIGlzIGFzc3VtZWRcbiAqIGZvciBsYXllcnMgdGhhdCBhcmUgYWRkZWQgdG8gdGhlIG1hcCdzIGBsYXllcnNgIGNvbGxlY3Rpb24sIG9yIGBJbmZpbml0eWAgd2hlbiB0aGUgbGF5ZXIncyBgc2V0TWFwKClgXG4gKiBtZXRob2Qgd2FzIHVzZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblJlc29sdXRpb25dIFRoZSBtaW5pbXVtIHJlc29sdXRpb24gKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhSZXNvbHV0aW9uXSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIChleGNsdXNpdmUpIGJlbG93IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vc291cmNlL1NvdXJjZS5qc1wiKS5kZWZhdWx0fSBbc291cmNlXSBTb3VyY2UgZm9yIHRoaXMgbGF5ZXIuICBJZiBub3QgcHJvdmlkZWQgdG8gdGhlIGNvbnN0cnVjdG9yLFxuICogdGhlIHNvdXJjZSBjYW4gYmUgc2V0IGJ5IGNhbGxpbmcge0BsaW5rIG1vZHVsZTpvbC9sYXllci9MYXllciNzZXRTb3VyY2UgbGF5ZXIuc2V0U291cmNlKHNvdXJjZSl9IGFmdGVyXG4gKiBjb25zdHJ1Y3Rpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fSBbbWFwXSBNYXAuXG4gKi9cblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFN0YXRlXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vQmFzZS5qc1wiKS5kZWZhdWx0fSBsYXllclxuICogQHByb3BlcnR5IHtudW1iZXJ9IG9wYWNpdHlcbiAqIEBwcm9wZXJ0eSB7U291cmNlU3RhdGV9IHNvdXJjZVN0YXRlXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHZpc2libGVcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gbWFuYWdlZFxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHpJbmRleFxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heFJlc29sdXRpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5SZXNvbHV0aW9uXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBYnN0cmFjdCBiYXNlIGNsYXNzOyBub3JtYWxseSBvbmx5IHVzZWQgZm9yIGNyZWF0aW5nIHN1YmNsYXNzZXMgYW5kIG5vdFxuICogaW5zdGFudGlhdGVkIGluIGFwcHMuXG4gKiBBIHZpc3VhbCByZXByZXNlbnRhdGlvbiBvZiByYXN0ZXIgb3IgdmVjdG9yIG1hcCBkYXRhLlxuICogTGF5ZXJzIGdyb3VwIHRvZ2V0aGVyIHRob3NlIHByb3BlcnRpZXMgdGhhdCBwZXJ0YWluIHRvIGhvdyB0aGUgZGF0YSBpcyB0byBiZVxuICogZGlzcGxheWVkLCBpcnJlc3BlY3RpdmUgb2YgdGhlIHNvdXJjZSBvZiB0aGF0IGRhdGEuXG4gKlxuICogTGF5ZXJzIGFyZSB1c3VhbGx5IGFkZGVkIHRvIGEgbWFwIHdpdGgge0BsaW5rIG1vZHVsZTpvbC9NYXAjYWRkTGF5ZXJ9LiBDb21wb25lbnRzXG4gKiBsaWtlIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vU2VsZWN0flNlbGVjdH0gdXNlIHVubWFuYWdlZCBsYXllcnNcbiAqIGludGVybmFsbHkuIFRoZXNlIHVubWFuYWdlZCBsYXllcnMgYXJlIGFzc29jaWF0ZWQgd2l0aCB0aGUgbWFwIHVzaW5nXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0xheWVyfkxheWVyI3NldE1hcH0gaW5zdGVhZC5cbiAqXG4gKiBBIGdlbmVyaWMgYGNoYW5nZWAgZXZlbnQgaXMgZmlyZWQgd2hlbiB0aGUgc3RhdGUgb2YgdGhlIHNvdXJjZSBjaGFuZ2VzLlxuICpcbiAqIEBmaXJlcyBpbXBvcnQoXCIuLi9yZW5kZXIvRXZlbnQuanNcIikuUmVuZGVyRXZlbnRcbiAqL1xudmFyIExheWVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQmFzZUxheWVyKSB7XG4gIGZ1bmN0aW9uIExheWVyKG9wdGlvbnMpIHtcblxuICAgIHZhciBiYXNlT3B0aW9ucyA9IGFzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgZGVsZXRlIGJhc2VPcHRpb25zLnNvdXJjZTtcblxuICAgIEJhc2VMYXllci5jYWxsKHRoaXMsIGJhc2VPcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9ldmVudHMuanNcIikuRXZlbnRzS2V5fVxuICAgICAqL1xuICAgIHRoaXMubWFwUHJlY29tcG9zZUtleV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICovXG4gICAgdGhpcy5tYXBSZW5kZXJLZXlfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9ldmVudHMuanNcIikuRXZlbnRzS2V5fVxuICAgICAqL1xuICAgIHRoaXMuc291cmNlQ2hhbmdlS2V5XyA9IG51bGw7XG5cbiAgICBpZiAob3B0aW9ucy5tYXApIHtcbiAgICAgIHRoaXMuc2V0TWFwKG9wdGlvbnMubWFwKTtcbiAgICB9XG5cbiAgICBsaXN0ZW4odGhpcyxcbiAgICAgIGdldENoYW5nZUV2ZW50VHlwZShMYXllclByb3BlcnR5LlNPVVJDRSksXG4gICAgICB0aGlzLmhhbmRsZVNvdXJjZVByb3BlcnR5Q2hhbmdlXywgdGhpcyk7XG5cbiAgICB2YXIgc291cmNlID0gb3B0aW9ucy5zb3VyY2UgPyBvcHRpb25zLnNvdXJjZSA6IG51bGw7XG4gICAgdGhpcy5zZXRTb3VyY2Uoc291cmNlKTtcbiAgfVxuXG4gIGlmICggQmFzZUxheWVyICkgTGF5ZXIuX19wcm90b19fID0gQmFzZUxheWVyO1xuICBMYXllci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBCYXNlTGF5ZXIgJiYgQmFzZUxheWVyLnByb3RvdHlwZSApO1xuICBMYXllci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMYXllcjtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIExheWVyLnByb3RvdHlwZS5nZXRMYXllcnNBcnJheSA9IGZ1bmN0aW9uIGdldExheWVyc0FycmF5IChvcHRfYXJyYXkpIHtcbiAgICB2YXIgYXJyYXkgPSBvcHRfYXJyYXkgPyBvcHRfYXJyYXkgOiBbXTtcbiAgICBhcnJheS5wdXNoKHRoaXMpO1xuICAgIHJldHVybiBhcnJheTtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIExheWVyLnByb3RvdHlwZS5nZXRMYXllclN0YXRlc0FycmF5ID0gZnVuY3Rpb24gZ2V0TGF5ZXJTdGF0ZXNBcnJheSAob3B0X3N0YXRlcykge1xuICAgIHZhciBzdGF0ZXMgPSBvcHRfc3RhdGVzID8gb3B0X3N0YXRlcyA6IFtdO1xuICAgIHN0YXRlcy5wdXNoKHRoaXMuZ2V0TGF5ZXJTdGF0ZSgpKTtcbiAgICByZXR1cm4gc3RhdGVzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGxheWVyIHNvdXJjZS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc291cmNlL1NvdXJjZS5qc1wiKS5kZWZhdWx0fSBUaGUgbGF5ZXIgc291cmNlIChvciBgbnVsbGAgaWYgbm90IHlldCBzZXQpLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBMYXllci5wcm90b3R5cGUuZ2V0U291cmNlID0gZnVuY3Rpb24gZ2V0U291cmNlICgpIHtcbiAgICB2YXIgc291cmNlID0gdGhpcy5nZXQoTGF5ZXJQcm9wZXJ0eS5TT1VSQ0UpO1xuICAgIHJldHVybiAoXG4gICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL3NvdXJjZS9Tb3VyY2UuanNcIikuZGVmYXVsdH0gKi8gKHNvdXJjZSkgfHwgbnVsbFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAgKiBAaW5oZXJpdERvY1xuICAgICovXG4gIExheWVyLnByb3RvdHlwZS5nZXRTb3VyY2VTdGF0ZSA9IGZ1bmN0aW9uIGdldFNvdXJjZVN0YXRlICgpIHtcbiAgICB2YXIgc291cmNlID0gdGhpcy5nZXRTb3VyY2UoKTtcbiAgICByZXR1cm4gIXNvdXJjZSA/IFNvdXJjZVN0YXRlLlVOREVGSU5FRCA6IHNvdXJjZS5nZXRTdGF0ZSgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTGF5ZXIucHJvdG90eXBlLmhhbmRsZVNvdXJjZUNoYW5nZV8gPSBmdW5jdGlvbiBoYW5kbGVTb3VyY2VDaGFuZ2VfICgpIHtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIExheWVyLnByb3RvdHlwZS5oYW5kbGVTb3VyY2VQcm9wZXJ0eUNoYW5nZV8gPSBmdW5jdGlvbiBoYW5kbGVTb3VyY2VQcm9wZXJ0eUNoYW5nZV8gKCkge1xuICAgIGlmICh0aGlzLnNvdXJjZUNoYW5nZUtleV8pIHtcbiAgICAgIHVubGlzdGVuQnlLZXkodGhpcy5zb3VyY2VDaGFuZ2VLZXlfKTtcbiAgICAgIHRoaXMuc291cmNlQ2hhbmdlS2V5XyA9IG51bGw7XG4gICAgfVxuICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldFNvdXJjZSgpO1xuICAgIGlmIChzb3VyY2UpIHtcbiAgICAgIHRoaXMuc291cmNlQ2hhbmdlS2V5XyA9IGxpc3Rlbihzb3VyY2UsXG4gICAgICAgIEV2ZW50VHlwZS5DSEFOR0UsIHRoaXMuaGFuZGxlU291cmNlQ2hhbmdlXywgdGhpcyk7XG4gICAgfVxuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBsYXllciB0byBiZSByZW5kZXJlZCBvbiB0b3Agb2Ygb3RoZXIgbGF5ZXJzIG9uIGEgbWFwLiBUaGUgbWFwIHdpbGxcbiAgICogbm90IG1hbmFnZSB0aGlzIGxheWVyIGluIGl0cyBsYXllcnMgY29sbGVjdGlvbiwgYW5kIHRoZSBjYWxsYmFjayBpblxuICAgKiB7QGxpbmsgbW9kdWxlOm9sL01hcCNmb3JFYWNoTGF5ZXJBdFBpeGVsfSB3aWxsIHJlY2VpdmUgYG51bGxgIGFzIGxheWVyLiBUaGlzXG4gICAqIGlzIHVzZWZ1bCBmb3IgdGVtcG9yYXJ5IGxheWVycy4gVG8gcmVtb3ZlIGFuIHVubWFuYWdlZCBsYXllciBmcm9tIHRoZSBtYXAsXG4gICAqIHVzZSBgI3NldE1hcChudWxsKWAuXG4gICAqXG4gICAqIFRvIGFkZCB0aGUgbGF5ZXIgdG8gYSBtYXAgYW5kIGhhdmUgaXQgbWFuYWdlZCBieSB0aGUgbWFwLCB1c2VcbiAgICoge0BsaW5rIG1vZHVsZTpvbC9NYXAjYWRkTGF5ZXJ9IGluc3RlYWQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAqIEBhcGlcbiAgICovXG4gIExheWVyLnByb3RvdHlwZS5zZXRNYXAgPSBmdW5jdGlvbiBzZXRNYXAgKG1hcCkge1xuICAgIGlmICh0aGlzLm1hcFByZWNvbXBvc2VLZXlfKSB7XG4gICAgICB1bmxpc3RlbkJ5S2V5KHRoaXMubWFwUHJlY29tcG9zZUtleV8pO1xuICAgICAgdGhpcy5tYXBQcmVjb21wb3NlS2V5XyA9IG51bGw7XG4gICAgfVxuICAgIGlmICghbWFwKSB7XG4gICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMubWFwUmVuZGVyS2V5Xykge1xuICAgICAgdW5saXN0ZW5CeUtleSh0aGlzLm1hcFJlbmRlcktleV8pO1xuICAgICAgdGhpcy5tYXBSZW5kZXJLZXlfID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKG1hcCkge1xuICAgICAgdGhpcy5tYXBQcmVjb21wb3NlS2V5XyA9IGxpc3RlbihtYXAsIFJlbmRlckV2ZW50VHlwZS5QUkVDT01QT1NFLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgdmFyIHJlbmRlckV2ZW50ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9yZW5kZXIvRXZlbnQuanNcIikuZGVmYXVsdH0gKi8gKGV2dCk7XG4gICAgICAgIHZhciBsYXllclN0YXRlID0gdGhpcy5nZXRMYXllclN0YXRlKCk7XG4gICAgICAgIGxheWVyU3RhdGUubWFuYWdlZCA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5nZXRaSW5kZXgoKSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbGF5ZXJTdGF0ZS56SW5kZXggPSBJbmZpbml0eTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJFdmVudC5mcmFtZVN0YXRlLmxheWVyU3RhdGVzQXJyYXkucHVzaChsYXllclN0YXRlKTtcbiAgICAgICAgcmVuZGVyRXZlbnQuZnJhbWVTdGF0ZS5sYXllclN0YXRlc1tnZXRVaWQodGhpcyldID0gbGF5ZXJTdGF0ZTtcbiAgICAgIH0sIHRoaXMpO1xuICAgICAgdGhpcy5tYXBSZW5kZXJLZXlfID0gbGlzdGVuKHRoaXMsIEV2ZW50VHlwZS5DSEFOR0UsIG1hcC5yZW5kZXIsIG1hcCk7XG4gICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbGF5ZXIgc291cmNlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3NvdXJjZS9Tb3VyY2UuanNcIikuZGVmYXVsdH0gc291cmNlIFRoZSBsYXllciBzb3VyY2UuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIExheWVyLnByb3RvdHlwZS5zZXRTb3VyY2UgPSBmdW5jdGlvbiBzZXRTb3VyY2UgKHNvdXJjZSkge1xuICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuU09VUkNFLCBzb3VyY2UpO1xuICB9O1xuXG4gIHJldHVybiBMYXllcjtcbn0oQmFzZUxheWVyKSk7XG5cblxuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBsYXllciBpcyB2aXNpYmxlLCBhbmQgaWYgdGhlIHBhc3NlZCByZXNvbHV0aW9uIGlzXG4gKiBiZXR3ZWVuIHRoZSBsYXllcidzIG1pblJlc29sdXRpb24gYW5kIG1heFJlc29sdXRpb24uIFRoZSBjb21wYXJpc29uIGlzXG4gKiBpbmNsdXNpdmUgZm9yIGBtaW5SZXNvbHV0aW9uYCBhbmQgZXhjbHVzaXZlIGZvciBgbWF4UmVzb2x1dGlvbmAuXG4gKiBAcGFyYW0ge1N0YXRlfSBsYXllclN0YXRlIExheWVyIHN0YXRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBsYXllciBpcyB2aXNpYmxlIGF0IHRoZSBnaXZlbiByZXNvbHV0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdmlzaWJsZUF0UmVzb2x1dGlvbihsYXllclN0YXRlLCByZXNvbHV0aW9uKSB7XG4gIHJldHVybiBsYXllclN0YXRlLnZpc2libGUgJiYgcmVzb2x1dGlvbiA+PSBsYXllclN0YXRlLm1pblJlc29sdXRpb24gJiZcbiAgICAgIHJlc29sdXRpb24gPCBsYXllclN0YXRlLm1heFJlc29sdXRpb247XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgTGF5ZXI7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxheWVyLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvRXZlbnRUeXBlXG4gKi9cblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIC8qKlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL3JlbmRlci9FdmVudH5SZW5kZXJFdmVudCNwb3N0Y29tcG9zZVxuICAgKiBAYXBpXG4gICAqL1xuICBQT1NUQ09NUE9TRTogJ3Bvc3Rjb21wb3NlJyxcbiAgLyoqXG4gICAqIEBldmVudCBtb2R1bGU6b2wvcmVuZGVyL0V2ZW50flJlbmRlckV2ZW50I3ByZWNvbXBvc2VcbiAgICogQGFwaVxuICAgKi9cbiAgUFJFQ09NUE9TRTogJ3ByZWNvbXBvc2UnLFxuICAvKipcbiAgICogQGV2ZW50IG1vZHVsZTpvbC9yZW5kZXIvRXZlbnR+UmVuZGVyRXZlbnQjcmVuZGVyXG4gICAqIEBhcGlcbiAgICovXG4gIFJFTkRFUjogJ3JlbmRlcicsXG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgd2hlbiByZW5kZXJpbmcgaXMgY29tcGxldGUsIGkuZS4gYWxsIHNvdXJjZXMgYW5kIHRpbGVzIGhhdmVcbiAgICogZmluaXNoZWQgbG9hZGluZyBmb3IgdGhlIGN1cnJlbnQgdmlld3BvcnQsIGFuZCBhbGwgdGlsZXMgYXJlIGZhZGVkIGluLlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL3JlbmRlci9FdmVudH5SZW5kZXJFdmVudCNyZW5kZXJjb21wbGV0ZVxuICAgKiBAYXBpXG4gICAqL1xuICBSRU5ERVJDT01QTEVURTogJ3JlbmRlcmNvbXBsZXRlJ1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXZlbnRUeXBlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9Qcm9wZXJ0eVxuICovXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBPUEFDSVRZOiAnb3BhY2l0eScsXG4gIFZJU0lCTEU6ICd2aXNpYmxlJyxcbiAgRVhURU5UOiAnZXh0ZW50JyxcbiAgWl9JTkRFWDogJ3pJbmRleCcsXG4gIE1BWF9SRVNPTFVUSU9OOiAnbWF4UmVzb2x1dGlvbicsXG4gIE1JTl9SRVNPTFVUSU9OOiAnbWluUmVzb2x1dGlvbicsXG4gIFNPVVJDRTogJ3NvdXJjZSdcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVByb3BlcnR5LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9CYXNlXG4gKi9cbmltcG9ydCB7YWJzdHJhY3R9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi4vT2JqZWN0LmpzJztcbmltcG9ydCBMYXllclByb3BlcnR5IGZyb20gJy4vUHJvcGVydHkuanMnO1xuaW1wb3J0IHtjbGFtcH0gZnJvbSAnLi4vbWF0aC5qcyc7XG5pbXBvcnQge2Fzc2lnbn0gZnJvbSAnLi4vb2JqLmpzJztcblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbb3BhY2l0eT0xXSBPcGFjaXR5ICgwLCAxKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3Zpc2libGU9dHJ1ZV0gVmlzaWJpbGl0eS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gVGhlIGJvdW5kaW5nIGV4dGVudCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgVGhlIGxheWVyIHdpbGwgbm90IGJlXG4gKiByZW5kZXJlZCBvdXRzaWRlIG9mIHRoaXMgZXh0ZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6SW5kZXhdIFRoZSB6LWluZGV4IGZvciBsYXllciByZW5kZXJpbmcuICBBdCByZW5kZXJpbmcgdGltZSwgdGhlIGxheWVyc1xuICogd2lsbCBiZSBvcmRlcmVkLCBmaXJzdCBieSBaLWluZGV4IGFuZCB0aGVuIGJ5IHBvc2l0aW9uLiBXaGVuIGB1bmRlZmluZWRgLCBhIGB6SW5kZXhgIG9mIDAgaXMgYXNzdW1lZFxuICogZm9yIGxheWVycyB0aGF0IGFyZSBhZGRlZCB0byB0aGUgbWFwJ3MgYGxheWVyc2AgY29sbGVjdGlvbiwgb3IgYEluZmluaXR5YCB3aGVuIHRoZSBsYXllcidzIGBzZXRNYXAoKWBcbiAqIG1ldGhvZCB3YXMgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluUmVzb2x1dGlvbl0gVGhlIG1pbmltdW0gcmVzb2x1dGlvbiAoaW5jbHVzaXZlKSBhdCB3aGljaCB0aGlzIGxheWVyIHdpbGwgYmVcbiAqIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFJlc29sdXRpb25dIFRoZSBtYXhpbXVtIHJlc29sdXRpb24gKGV4Y2x1c2l2ZSkgYmVsb3cgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICovXG5cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBYnN0cmFjdCBiYXNlIGNsYXNzOyBub3JtYWxseSBvbmx5IHVzZWQgZm9yIGNyZWF0aW5nIHN1YmNsYXNzZXMgYW5kIG5vdFxuICogaW5zdGFudGlhdGVkIGluIGFwcHMuXG4gKiBOb3RlIHRoYXQgd2l0aCB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0Jhc2V9IGFuZCBhbGwgaXRzIHN1YmNsYXNzZXMsIGFueSBwcm9wZXJ0eSBzZXQgaW5cbiAqIHRoZSBvcHRpb25zIGlzIHNldCBhcyBhIHtAbGluayBtb2R1bGU6b2wvT2JqZWN0fSBwcm9wZXJ0eSBvbiB0aGUgbGF5ZXIgb2JqZWN0LCBzb1xuICogaXMgb2JzZXJ2YWJsZSwgYW5kIGhhcyBnZXQvc2V0IGFjY2Vzc29ycy5cbiAqXG4gKiBAYXBpXG4gKi9cbnZhciBCYXNlTGF5ZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChCYXNlT2JqZWN0KSB7XG4gIGZ1bmN0aW9uIEJhc2VMYXllcihvcHRpb25zKSB7XG5cbiAgICBCYXNlT2JqZWN0LmNhbGwodGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgKj59XG4gICAgICovXG4gICAgdmFyIHByb3BlcnRpZXMgPSBhc3NpZ24oe30sIG9wdGlvbnMpO1xuICAgIHByb3BlcnRpZXNbTGF5ZXJQcm9wZXJ0eS5PUEFDSVRZXSA9XG4gICAgICAgb3B0aW9ucy5vcGFjaXR5ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm9wYWNpdHkgOiAxO1xuICAgIHByb3BlcnRpZXNbTGF5ZXJQcm9wZXJ0eS5WSVNJQkxFXSA9XG4gICAgICAgb3B0aW9ucy52aXNpYmxlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnZpc2libGUgOiB0cnVlO1xuICAgIHByb3BlcnRpZXNbTGF5ZXJQcm9wZXJ0eS5aX0lOREVYXSA9IG9wdGlvbnMuekluZGV4O1xuICAgIHByb3BlcnRpZXNbTGF5ZXJQcm9wZXJ0eS5NQVhfUkVTT0xVVElPTl0gPVxuICAgICAgIG9wdGlvbnMubWF4UmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tYXhSZXNvbHV0aW9uIDogSW5maW5pdHk7XG4gICAgcHJvcGVydGllc1tMYXllclByb3BlcnR5Lk1JTl9SRVNPTFVUSU9OXSA9XG4gICAgICAgb3B0aW9ucy5taW5SZXNvbHV0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1pblJlc29sdXRpb24gOiAwO1xuXG4gICAgdGhpcy5zZXRQcm9wZXJ0aWVzKHByb3BlcnRpZXMpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vTGF5ZXIuanNcIikuU3RhdGV9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnN0YXRlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbGF5ZXIgdHlwZS5cbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vTGF5ZXJUeXBlLmpzXCIpLmRlZmF1bHR9XG4gICAgICogQHByb3RlY3RlZDtcbiAgICAgKi9cbiAgICB0aGlzLnR5cGU7XG5cbiAgfVxuXG4gIGlmICggQmFzZU9iamVjdCApIEJhc2VMYXllci5fX3Byb3RvX18gPSBCYXNlT2JqZWN0O1xuICBCYXNlTGF5ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQmFzZU9iamVjdCAmJiBCYXNlT2JqZWN0LnByb3RvdHlwZSApO1xuICBCYXNlTGF5ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQmFzZUxheWVyO1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGxheWVyIHR5cGUgKHVzZWQgd2hlbiBjcmVhdGluZyBhIGxheWVyIHJlbmRlcmVyKS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vTGF5ZXJUeXBlLmpzXCIpLmRlZmF1bHR9IFRoZSBsYXllciB0eXBlLlxuICAgKi9cbiAgQmFzZUxheWVyLnByb3RvdHlwZS5nZXRUeXBlID0gZnVuY3Rpb24gZ2V0VHlwZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZTtcbiAgfTtcblxuICAvKipcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9MYXllci5qc1wiKS5TdGF0ZX0gTGF5ZXIgc3RhdGUuXG4gICAqL1xuICBCYXNlTGF5ZXIucHJvdG90eXBlLmdldExheWVyU3RhdGUgPSBmdW5jdGlvbiBnZXRMYXllclN0YXRlICgpIHtcbiAgICAvKiogQHR5cGUge2ltcG9ydChcIi4vTGF5ZXIuanNcIikuU3RhdGV9ICovXG4gICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZV8gfHwgLyoqIEB0eXBlIHs/fSAqLyAoe1xuICAgICAgbGF5ZXI6IHRoaXMsXG4gICAgICBtYW5hZ2VkOiB0cnVlXG4gICAgfSk7XG4gICAgc3RhdGUub3BhY2l0eSA9IGNsYW1wKHRoaXMuZ2V0T3BhY2l0eSgpLCAwLCAxKTtcbiAgICBzdGF0ZS5zb3VyY2VTdGF0ZSA9IHRoaXMuZ2V0U291cmNlU3RhdGUoKTtcbiAgICBzdGF0ZS52aXNpYmxlID0gdGhpcy5nZXRWaXNpYmxlKCk7XG4gICAgc3RhdGUuZXh0ZW50ID0gdGhpcy5nZXRFeHRlbnQoKTtcbiAgICBzdGF0ZS56SW5kZXggPSB0aGlzLmdldFpJbmRleCgpIHx8IDA7XG4gICAgc3RhdGUubWF4UmVzb2x1dGlvbiA9IHRoaXMuZ2V0TWF4UmVzb2x1dGlvbigpO1xuICAgIHN0YXRlLm1pblJlc29sdXRpb24gPSBNYXRoLm1heCh0aGlzLmdldE1pblJlc29sdXRpb24oKSwgMCk7XG4gICAgdGhpcy5zdGF0ZV8gPSBzdGF0ZTtcblxuICAgIHJldHVybiBzdGF0ZTtcbiAgfTtcblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5kZWZhdWx0Pj19IG9wdF9hcnJheSBBcnJheSBvZiBsYXllcnMgKHRvIGJlXG4gICAqICAgICBtb2RpZmllZCBpbiBwbGFjZSkuXG4gICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vTGF5ZXIuanNcIikuZGVmYXVsdD59IEFycmF5IG9mIGxheWVycy5cbiAgICovXG4gIEJhc2VMYXllci5wcm90b3R5cGUuZ2V0TGF5ZXJzQXJyYXkgPSBmdW5jdGlvbiBnZXRMYXllcnNBcnJheSAob3B0X2FycmF5KSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vTGF5ZXIuanNcIikuU3RhdGU+PX0gb3B0X3N0YXRlcyBPcHRpb25hbCBsaXN0IG9mIGxheWVyXG4gICAqICAgICBzdGF0ZXMgKHRvIGJlIG1vZGlmaWVkIGluIHBsYWNlKS5cbiAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5TdGF0ZT59IExpc3Qgb2YgbGF5ZXIgc3RhdGVzLlxuICAgKi9cbiAgQmFzZUxheWVyLnByb3RvdHlwZS5nZXRMYXllclN0YXRlc0FycmF5ID0gZnVuY3Rpb24gZ2V0TGF5ZXJTdGF0ZXNBcnJheSAob3B0X3N0YXRlcykge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIHtAbGluayBtb2R1bGU6b2wvZXh0ZW50fkV4dGVudCBleHRlbnR9IG9mIHRoZSBsYXllciBvciBgdW5kZWZpbmVkYCBpZiBpdFxuICAgKiB3aWxsIGJlIHZpc2libGUgcmVnYXJkbGVzcyBvZiBleHRlbnQuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR8dW5kZWZpbmVkfSBUaGUgbGF5ZXIgZXh0ZW50LlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBCYXNlTGF5ZXIucHJvdG90eXBlLmdldEV4dGVudCA9IGZ1bmN0aW9uIGdldEV4dGVudCAoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudHx1bmRlZmluZWR9ICovICh0aGlzLmdldChMYXllclByb3BlcnR5LkVYVEVOVCkpXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBtYXhpbXVtIHJlc29sdXRpb24gb2YgdGhlIGxheWVyLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtYXhpbXVtIHJlc29sdXRpb24gb2YgdGhlIGxheWVyLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBCYXNlTGF5ZXIucHJvdG90eXBlLmdldE1heFJlc29sdXRpb24gPSBmdW5jdGlvbiBnZXRNYXhSZXNvbHV0aW9uICgpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldChMYXllclByb3BlcnR5Lk1BWF9SRVNPTFVUSU9OKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgbWluaW11bSByZXNvbHV0aW9uIG9mIHRoZSBsYXllci5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWluaW11bSByZXNvbHV0aW9uIG9mIHRoZSBsYXllci5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgQmFzZUxheWVyLnByb3RvdHlwZS5nZXRNaW5SZXNvbHV0aW9uID0gZnVuY3Rpb24gZ2V0TWluUmVzb2x1dGlvbiAoKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5nZXQoTGF5ZXJQcm9wZXJ0eS5NSU5fUkVTT0xVVElPTikpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIG9wYWNpdHkgb2YgdGhlIGxheWVyIChiZXR3ZWVuIDAgYW5kIDEpLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBvcGFjaXR5IG9mIHRoZSBsYXllci5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgQmFzZUxheWVyLnByb3RvdHlwZS5nZXRPcGFjaXR5ID0gZnVuY3Rpb24gZ2V0T3BhY2l0eSAoKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5nZXQoTGF5ZXJQcm9wZXJ0eS5PUEFDSVRZKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zb3VyY2UvU3RhdGUuanNcIikuZGVmYXVsdH0gU291cmNlIHN0YXRlLlxuICAgKi9cbiAgQmFzZUxheWVyLnByb3RvdHlwZS5nZXRTb3VyY2VTdGF0ZSA9IGZ1bmN0aW9uIGdldFNvdXJjZVN0YXRlICgpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBsYXllciAoYHRydWVgIG9yIGBmYWxzZWApLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgdmlzaWJpbGl0eSBvZiB0aGUgbGF5ZXIuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIEJhc2VMYXllci5wcm90b3R5cGUuZ2V0VmlzaWJsZSA9IGZ1bmN0aW9uIGdldFZpc2libGUgKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge2Jvb2xlYW59ICovICh0aGlzLmdldChMYXllclByb3BlcnR5LlZJU0lCTEUpKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBaLWluZGV4IG9mIHRoZSBsYXllciwgd2hpY2ggaXMgdXNlZCB0byBvcmRlciBsYXllcnMgYmVmb3JlXG4gICAqIHJlbmRlcmluZy4gVGhlIGRlZmF1bHQgWi1pbmRleCBpcyAwLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBaLWluZGV4IG9mIHRoZSBsYXllci5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgQmFzZUxheWVyLnByb3RvdHlwZS5nZXRaSW5kZXggPSBmdW5jdGlvbiBnZXRaSW5kZXggKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0KExheWVyUHJvcGVydHkuWl9JTkRFWCkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGV4dGVudCBhdCB3aGljaCB0aGUgbGF5ZXIgaXMgdmlzaWJsZS4gIElmIGB1bmRlZmluZWRgLCB0aGUgbGF5ZXJcbiAgICogd2lsbCBiZSB2aXNpYmxlIGF0IGFsbCBleHRlbnRzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR8dW5kZWZpbmVkfSBleHRlbnQgVGhlIGV4dGVudCBvZiB0aGUgbGF5ZXIuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIEJhc2VMYXllci5wcm90b3R5cGUuc2V0RXh0ZW50ID0gZnVuY3Rpb24gc2V0RXh0ZW50IChleHRlbnQpIHtcbiAgICB0aGlzLnNldChMYXllclByb3BlcnR5LkVYVEVOVCwgZXh0ZW50KTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IHRoZSBtYXhpbXVtIHJlc29sdXRpb24gYXQgd2hpY2ggdGhlIGxheWVyIGlzIHZpc2libGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhSZXNvbHV0aW9uIFRoZSBtYXhpbXVtIHJlc29sdXRpb24gb2YgdGhlIGxheWVyLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBCYXNlTGF5ZXIucHJvdG90eXBlLnNldE1heFJlc29sdXRpb24gPSBmdW5jdGlvbiBzZXRNYXhSZXNvbHV0aW9uIChtYXhSZXNvbHV0aW9uKSB7XG4gICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5NQVhfUkVTT0xVVElPTiwgbWF4UmVzb2x1dGlvbik7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbWluaW11bSByZXNvbHV0aW9uIGF0IHdoaWNoIHRoZSBsYXllciBpcyB2aXNpYmxlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWluUmVzb2x1dGlvbiBUaGUgbWluaW11bSByZXNvbHV0aW9uIG9mIHRoZSBsYXllci5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgQmFzZUxheWVyLnByb3RvdHlwZS5zZXRNaW5SZXNvbHV0aW9uID0gZnVuY3Rpb24gc2V0TWluUmVzb2x1dGlvbiAobWluUmVzb2x1dGlvbikge1xuICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuTUlOX1JFU09MVVRJT04sIG1pblJlc29sdXRpb24pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIG9wYWNpdHkgb2YgdGhlIGxheWVyLCBhbGxvd2VkIHZhbHVlcyByYW5nZSBmcm9tIDAgdG8gMS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG9wYWNpdHkgVGhlIG9wYWNpdHkgb2YgdGhlIGxheWVyLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBCYXNlTGF5ZXIucHJvdG90eXBlLnNldE9wYWNpdHkgPSBmdW5jdGlvbiBzZXRPcGFjaXR5IChvcGFjaXR5KSB7XG4gICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5PUEFDSVRZLCBvcGFjaXR5KTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBsYXllciAoYHRydWVgIG9yIGBmYWxzZWApLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZpc2libGUgVGhlIHZpc2liaWxpdHkgb2YgdGhlIGxheWVyLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBCYXNlTGF5ZXIucHJvdG90eXBlLnNldFZpc2libGUgPSBmdW5jdGlvbiBzZXRWaXNpYmxlICh2aXNpYmxlKSB7XG4gICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5WSVNJQkxFLCB2aXNpYmxlKTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IFotaW5kZXggb2YgdGhlIGxheWVyLCB3aGljaCBpcyB1c2VkIHRvIG9yZGVyIGxheWVycyBiZWZvcmUgcmVuZGVyaW5nLlxuICAgKiBUaGUgZGVmYXVsdCBaLWluZGV4IGlzIDAuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6aW5kZXggVGhlIHotaW5kZXggb2YgdGhlIGxheWVyLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBCYXNlTGF5ZXIucHJvdG90eXBlLnNldFpJbmRleCA9IGZ1bmN0aW9uIHNldFpJbmRleCAoemluZGV4KSB7XG4gICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5aX0lOREVYLCB6aW5kZXgpO1xuICB9O1xuXG4gIHJldHVybiBCYXNlTGF5ZXI7XG59KEJhc2VPYmplY3QpKTtcblxuXG5leHBvcnQgZGVmYXVsdCBCYXNlTGF5ZXI7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhc2UuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2xheWVyL1ZlY3RvclJlbmRlclR5cGVcbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBSZW5kZXIgbW9kZSBmb3IgdmVjdG9yIGxheWVyczpcbiAqICAqIGAnaW1hZ2UnYDogVmVjdG9yIGxheWVycyBhcmUgcmVuZGVyZWQgYXMgaW1hZ2VzLiBHcmVhdCBwZXJmb3JtYW5jZSwgYnV0XG4gKiAgICBwb2ludCBzeW1ib2xzIGFuZCB0ZXh0cyBhcmUgYWx3YXlzIHJvdGF0ZWQgd2l0aCB0aGUgdmlldyBhbmQgcGl4ZWxzIGFyZVxuICogICAgc2NhbGVkIGR1cmluZyB6b29tIGFuaW1hdGlvbnMuXG4gKiAgKiBgJ3ZlY3RvcidgOiBWZWN0b3IgbGF5ZXJzIGFyZSByZW5kZXJlZCBhcyB2ZWN0b3JzLiBNb3N0IGFjY3VyYXRlIHJlbmRlcmluZ1xuICogICAgZXZlbiBkdXJpbmcgYW5pbWF0aW9ucywgYnV0IHNsb3dlciBwZXJmb3JtYW5jZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBJTUFHRTogJ2ltYWdlJyxcbiAgVkVDVE9SOiAndmVjdG9yJ1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VmVjdG9yUmVuZGVyVHlwZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvSWNvbkltYWdlQ2FjaGVcbiAqL1xuaW1wb3J0IHthc1N0cmluZ30gZnJvbSAnLi4vY29sb3IuanMnO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFNpbmdsZXRvbiBjbGFzcy4gQXZhaWxhYmxlIHRocm91Z2gge0BsaW5rIG1vZHVsZTpvbC9zdHlsZS9JY29uSW1hZ2VDYWNoZX5zaGFyZWR9LlxuICovXG52YXIgSWNvbkltYWdlQ2FjaGUgPSBmdW5jdGlvbiBJY29uSW1hZ2VDYWNoZSgpIHtcblxuICAvKipcbiAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4vSWNvbkltYWdlLmpzXCIpLmRlZmF1bHQ+fVxuICAqIEBwcml2YXRlXG4gICovXG4gIHRoaXMuY2FjaGVfID0ge307XG5cbiAgLyoqXG4gICogQHR5cGUge251bWJlcn1cbiAgKiBAcHJpdmF0ZVxuICAqL1xuICB0aGlzLmNhY2hlU2l6ZV8gPSAwO1xuXG4gIC8qKlxuICAqIEB0eXBlIHtudW1iZXJ9XG4gICogQHByaXZhdGVcbiAgKi9cbiAgdGhpcy5tYXhDYWNoZVNpemVfID0gMzI7XG59O1xuXG4vKipcbiogRklYTUUgZW1wdHkgZGVzY3JpcHRpb24gZm9yIGpzZG9jXG4qL1xuSWNvbkltYWdlQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKCkge1xuICB0aGlzLmNhY2hlXyA9IHt9O1xuICB0aGlzLmNhY2hlU2l6ZV8gPSAwO1xufTtcblxuLyoqXG4qIEZJWE1FIGVtcHR5IGRlc2NyaXB0aW9uIGZvciBqc2RvY1xuKi9cbkljb25JbWFnZUNhY2hlLnByb3RvdHlwZS5leHBpcmUgPSBmdW5jdGlvbiBleHBpcmUgKCkge1xuICBpZiAodGhpcy5jYWNoZVNpemVfID4gdGhpcy5tYXhDYWNoZVNpemVfKSB7XG4gICAgdmFyIGkgPSAwO1xuICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmNhY2hlXykge1xuICAgICAgdmFyIGljb25JbWFnZSA9IHRoaXMuY2FjaGVfW2tleV07XG4gICAgICBpZiAoKGkrKyAmIDMpID09PSAwICYmICFpY29uSW1hZ2UuaGFzTGlzdGVuZXIoKSkge1xuICAgICAgICBkZWxldGUgdGhpcy5jYWNoZV9ba2V5XTtcbiAgICAgICAgLS10aGlzLmNhY2hlU2l6ZV87XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiogQHBhcmFtIHtzdHJpbmd9IHNyYyBTcmMuXG4qIEBwYXJhbSB7P3N0cmluZ30gY3Jvc3NPcmlnaW4gQ3Jvc3Mgb3JpZ2luLlxuKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfSBjb2xvciBDb2xvci5cbiogQHJldHVybiB7aW1wb3J0KFwiLi9JY29uSW1hZ2UuanNcIikuZGVmYXVsdH0gSWNvbiBpbWFnZS5cbiovXG5JY29uSW1hZ2VDYWNoZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChzcmMsIGNyb3NzT3JpZ2luLCBjb2xvcikge1xuICB2YXIga2V5ID0gZ2V0S2V5KHNyYywgY3Jvc3NPcmlnaW4sIGNvbG9yKTtcbiAgcmV0dXJuIGtleSBpbiB0aGlzLmNhY2hlXyA/IHRoaXMuY2FjaGVfW2tleV0gOiBudWxsO1xufTtcblxuLyoqXG4qIEBwYXJhbSB7c3RyaW5nfSBzcmMgU3JjLlxuKiBAcGFyYW0gez9zdHJpbmd9IGNyb3NzT3JpZ2luIENyb3NzIG9yaWdpbi5cbiogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcn0gY29sb3IgQ29sb3IuXG4qIEBwYXJhbSB7aW1wb3J0KFwiLi9JY29uSW1hZ2UuanNcIikuZGVmYXVsdH0gaWNvbkltYWdlIEljb24gaW1hZ2UuXG4qL1xuSWNvbkltYWdlQ2FjaGUucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIHNldCAoc3JjLCBjcm9zc09yaWdpbiwgY29sb3IsIGljb25JbWFnZSkge1xuICB2YXIga2V5ID0gZ2V0S2V5KHNyYywgY3Jvc3NPcmlnaW4sIGNvbG9yKTtcbiAgdGhpcy5jYWNoZV9ba2V5XSA9IGljb25JbWFnZTtcbiAgKyt0aGlzLmNhY2hlU2l6ZV87XG59O1xuXG4vKipcbiogU2V0IHRoZSBjYWNoZSBzaXplIG9mIHRoZSBpY29uIGNhY2hlLiBEZWZhdWx0IGlzIGAzMmAuIENoYW5nZSB0aGlzIHZhbHVlIHdoZW5cbiogeW91ciBtYXAgdXNlcyBtb3JlIHRoYW4gMzIgZGlmZmVyZW50IGljb24gaW1hZ2VzIGFuZCB5b3UgYXJlIG5vdCBjYWNoaW5nIGljb25cbiogc3R5bGVzIG9uIHRoZSBhcHBsaWNhdGlvbiBsZXZlbC5cbiogQHBhcmFtIHtudW1iZXJ9IG1heENhY2hlU2l6ZSBDYWNoZSBtYXggc2l6ZS5cbiogQGFwaVxuKi9cbkljb25JbWFnZUNhY2hlLnByb3RvdHlwZS5zZXRTaXplID0gZnVuY3Rpb24gc2V0U2l6ZSAobWF4Q2FjaGVTaXplKSB7XG4gIHRoaXMubWF4Q2FjaGVTaXplXyA9IG1heENhY2hlU2l6ZTtcbiAgdGhpcy5leHBpcmUoKTtcbn07XG5cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3JjIFNyYy5cbiAqIEBwYXJhbSB7P3N0cmluZ30gY3Jvc3NPcmlnaW4gQ3Jvc3Mgb3JpZ2luLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcn0gY29sb3IgQ29sb3IuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IENhY2hlIGtleS5cbiAqL1xuZnVuY3Rpb24gZ2V0S2V5KHNyYywgY3Jvc3NPcmlnaW4sIGNvbG9yKSB7XG4gIHZhciBjb2xvclN0cmluZyA9IGNvbG9yID8gYXNTdHJpbmcoY29sb3IpIDogJ251bGwnO1xuICByZXR1cm4gY3Jvc3NPcmlnaW4gKyAnOicgKyBzcmMgKyAnOicgKyBjb2xvclN0cmluZztcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBJY29uSW1hZ2VDYWNoZTtcblxuXG4vKipcbiAqIFRoZSB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlL0ljb25JbWFnZUNhY2hlfkljb25JbWFnZUNhY2hlfSBmb3JcbiAqIHtAbGluayBtb2R1bGU6b2wvc3R5bGUvSWNvbn5JY29ufSBpbWFnZXMuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgc2hhcmVkID0gbmV3IEljb25JbWFnZUNhY2hlKCk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUljb25JbWFnZUNhY2hlLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=