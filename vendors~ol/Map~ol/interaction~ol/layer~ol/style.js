(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{100:function(t,e,i){"use strict";var n=i(44),o=i(69),r=i(13),s=i(28),a=i(30),u=i(38),c=function(t){function e(e){var i=void 0!==e.rotateWithView&&e.rotateWithView;t.call(this,{opacity:1,rotateWithView:i,rotation:void 0!==e.rotation?e.rotation:0,scale:1}),this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0!==e.radius?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=e.atlasManager,this.render_(this.atlasManager_)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return a.a.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t,e){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t,e){},e.prototype.render_=function(t){var e,i,n="",a="",c=0,h=null,l=0,f=0;this.stroke_&&(null===(i=this.stroke_.getColor())&&(i=u.k),i=Object(o.a)(i),void 0===(f=this.stroke_.getWidth())&&(f=u.h),h=this.stroke_.getLineDash(),l=this.stroke_.getLineDashOffset(),s.a||(h=null,l=0),void 0===(a=this.stroke_.getLineJoin())&&(a=u.g),void 0===(n=this.stroke_.getLineCap())&&(n=u.d),void 0===(c=this.stroke_.getMiterLimit())&&(c=u.i));var p=2*(this.radius_+f)+1,_={strokeStyle:i,strokeWidth:f,size:p,lineCap:n,lineDash:h,lineDashOffset:l,lineJoin:a,miterLimit:c};if(void 0===t){var d=Object(r.a)(p,p);this.canvas_=d.canvas,e=p=this.canvas_.width,this.draw_(_,d,0,0),this.createHitDetectionCanvas_(_)}else{p=Math.round(p);var g,y=!this.fill_;y&&(g=this.drawHitDetectionCanvas_.bind(this,_));var v=this.getChecksum(),m=t.add(v,p,p,this.draw_.bind(this,_),g);this.canvas_=m.image,this.origin_=[m.offsetX,m.offsetY],e=m.image.width,y?(this.hitDetectionCanvas_=m.hitImage,this.hitDetectionImageSize_=[m.hitImage.width,m.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[e,e])}this.anchor_=[p/2,p/2],this.size_=[p,p],this.imageSize_=[e,e]},e.prototype.draw_=function(t,e,i,n){var r,s,a;e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath();var c=this.points_;if(c===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var h=void 0!==this.radius2_?this.radius2_:this.radius_;for(h!==this.radius_&&(c*=2),r=0;r<=c;r++)s=2*r*Math.PI/c-Math.PI/2+this.angle_,a=r%2==0?this.radius_:h,e.lineTo(t.size/2+a*Math.cos(s),t.size/2+a*Math.sin(s))}if(this.fill_){var l=this.fill_.getColor();null===l&&(l=u.b),e.fillStyle=Object(o.a)(l),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var e=Object(r.a)(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e,0,0)}},e.prototype.drawHitDetectionCanvas_=function(t,e,i,o){e.setTransform(1,0,0,1,0,0),e.translate(i,o),e.beginPath();var r=this.points_;if(r===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var s,a,c,h=void 0!==this.radius2_?this.radius2_:this.radius_;for(h!==this.radius_&&(r*=2),s=0;s<=r;s++)c=2*s*Math.PI/r-Math.PI/2+this.angle_,a=s%2==0?this.radius_:h,e.lineTo(t.size/2+a*Math.cos(c),t.size/2+a*Math.sin(c))}e.fillStyle=Object(n.b)(u.b),e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",e=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||t!=this.checksums_[1]||e!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var i="r"+t+e+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[i,t,e,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},e}(i(74).a);e.a=c},13:function(t,e,i){"use strict";function n(t,e){var i=document.createElement("canvas");return t&&(i.width=t),e&&(i.height=e),i.getContext("2d")}function o(t,e){var i=e.parentNode;i&&i.replaceChild(t,e)}function r(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function s(t){for(;t.lastChild;)t.removeChild(t.lastChild)}i.d(e,"a",function(){return n}),i.d(e,"d",function(){return o}),i.d(e,"c",function(){return r}),i.d(e,"b",function(){return s})},28:function(t,e,i){"use strict";i.d(e,"c",function(){return o}),i.d(e,"h",function(){return r}),i.d(e,"j",function(){return s}),i.d(e,"e",function(){return a}),i.d(e,"b",function(){return u}),i.d(e,"a",function(){return c}),i.d(e,"d",function(){return h}),i.d(e,"i",function(){return l}),i.d(e,"g",function(){return f}),i.d(e,"f",function(){return p});var n="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",o=-1!==n.indexOf("firefox"),r=-1!==n.indexOf("safari")&&-1==n.indexOf("chrom"),s=-1!==n.indexOf("webkit")&&-1==n.indexOf("edge"),a=-1!==n.indexOf("macintosh"),u=window.devicePixelRatio||1,c=function(){var t=!1;try{t=!!document.createElement("canvas").getContext("2d").setLineDash}catch(t){}return t}(),h="geolocation"in navigator,l="ontouchstart"in window,f="PointerEvent"in window,p=!!navigator.msPointerEnabled},30:function(t,e,i){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3}},35:function(t,e,i){"use strict";i.d(e,"d",function(){return c}),i.d(e,"a",function(){return l}),i.d(e,"b",function(){return f});var n=i(9),o=i(10),r=i(99),s=i(85),a=i(98),u=function(t){var e=t||{};this.geometry_=null,this.geometryFunction_=p,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex};function c(t){var e;if("function"==typeof t)e=t;else{var i;if(Array.isArray(t))i=t;else Object(n.a)("function"==typeof t.getZIndex,41),i=[t];e=function(){return i}}return e}u.prototype.clone=function(){var t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new u({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},u.prototype.getRenderer=function(){return this.renderer_},u.prototype.setRenderer=function(t){this.renderer_=t},u.prototype.getGeometry=function(){return this.geometry_},u.prototype.getGeometryFunction=function(){return this.geometryFunction_},u.prototype.getFill=function(){return this.fill_},u.prototype.setFill=function(t){this.fill_=t},u.prototype.getImage=function(){return this.image_},u.prototype.setImage=function(t){this.image_=t},u.prototype.getStroke=function(){return this.stroke_},u.prototype.setStroke=function(t){this.stroke_=t},u.prototype.getText=function(){return this.text_},u.prototype.setText=function(t){this.text_=t},u.prototype.getZIndex=function(){return this.zIndex_},u.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=p,this.geometry_=t},u.prototype.setZIndex=function(t){this.zIndex_=t};var h=null;function l(t,e){if(!h){var i=new s.a({color:"rgba(255,255,255,0.4)"}),n=new a.a({color:"#3399CC",width:1.25});h=[new u({image:new r.a({fill:i,stroke:n,radius:5}),fill:i,stroke:n})]}return h}function f(){var t={},e=[255,255,255,1],i=[0,153,255,1];return t[o.a.POLYGON]=[new u({fill:new s.a({color:[255,255,255,.5]})})],t[o.a.MULTI_POLYGON]=t[o.a.POLYGON],t[o.a.LINE_STRING]=[new u({stroke:new a.a({color:e,width:5})}),new u({stroke:new a.a({color:i,width:3})})],t[o.a.MULTI_LINE_STRING]=t[o.a.LINE_STRING],t[o.a.CIRCLE]=t[o.a.POLYGON].concat(t[o.a.LINE_STRING]),t[o.a.POINT]=[new u({image:new r.a({radius:6,fill:new s.a({color:i}),stroke:new a.a({color:e,width:1.5})}),zIndex:1/0})],t[o.a.MULTI_POINT]=t[o.a.POINT],t[o.a.GEOMETRY_COLLECTION]=t[o.a.POLYGON].concat(t[o.a.LINE_STRING],t[o.a.POINT]),t}function p(t){return t.getGeometry()}e.c=u},38:function(t,e,i){"use strict";i.d(e,"c",function(){return u}),i.d(e,"b",function(){return c}),i.d(e,"d",function(){return h}),i.d(e,"e",function(){return l}),i.d(e,"f",function(){return f}),i.d(e,"g",function(){return p}),i.d(e,"i",function(){return _}),i.d(e,"k",function(){return d}),i.d(e,"l",function(){return g}),i.d(e,"m",function(){return y}),i.d(e,"j",function(){return v}),i.d(e,"h",function(){return m}),i.d(e,"o",function(){return w}),i.d(e,"a",function(){return I}),i.d(e,"p",function(){return S}),i.d(e,"q",function(){return x}),i.d(e,"s",function(){return j}),i.d(e,"r",function(){return z}),i.d(e,"n",function(){return M});var n=i(55),o=i(13),r=i(5),s=i(86),a=i(17),u="10px sans-serif",c=[0,0,0,1],h="round",l=[],f=0,p="round",_=10,d=[0,0,0,1],g="center",y="middle",v=[0,0,0,0],m=1,w=new s.a,k={},O=null,b={},I=function(){var t,e,i=60,o=k,s="32px ",a=["monospace","serif"],u=a.length,c="wmytzilWMYTZIL@#/&?$%10";function h(t){for(var i=C(),n=100;n<=700;n+=300){for(var o=n+" ",r=!0,h=0;h<u;++h){var l=a[h];if(i.font=o+s+l,e=i.measureText(c).width,t!=l){i.font=o+s+t+","+l;var f=i.measureText(c).width;r=r&&f!=e}}if(r)return!0}return!1}function l(){var e=!0;for(var n in o)o[n]<i&&(h(n)?(o[n]=i,Object(r.b)(b),O=null,w.clear()):(++o[n],e=!1));e&&(clearInterval(t),t=void 0)}return function(e){var r=Object(n.e)(e);if(r)for(var s=0,a=r.length;s<a;++s){var u=r[s];u in o||(o[u]=i,h(u)||(o[u]=0,void 0===t&&(t=setInterval(l,32))))}}}();function C(){return O||(O=Object(o.a)(1,1)),O}var D,L,S=(L=b,function(t){var e=L[t];return null==e&&(D||((D=document.createElement("span")).textContent="M",D.style.margin=D.style.padding="0 !important",D.style.position="absolute !important",D.style.left="-99999px !important"),D.style.font=t,document.body.appendChild(D),e=L[t]=D.offsetHeight,document.body.removeChild(D)),e});function x(t,e){var i=C();return t!=i.font&&(i.font=t),i.measureText(e).width}function j(t,e,i,n){0!==e&&(t.translate(i,n),t.rotate(e),t.translate(-i,-n))}var z=Object(a.c)();function M(t,e,i,n,o,r,s,a,u,c,h){var l;1!=i&&(l=t.globalAlpha,t.globalAlpha=l*i),e&&t.setTransform.apply(t,e),t.drawImage(n,o,r,s,a,u,c,s*h,a*h),l&&(t.globalAlpha=l),e&&t.setTransform.apply(t,z)}},44:function(t,e,i){"use strict";i.d(e,"b",function(){return a}),i.d(e,"a",function(){return l}),i.d(e,"c",function(){return p});var n=i(9),o=i(6),r=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,s=/^([a-z]*)$/i;function a(t){return"string"==typeof t?t:p(t)}var u,c,h=(u={},c=0,function(t){var e;if(u.hasOwnProperty(t))e=u[t];else{if(c>=1024){var i=0;for(var o in u)0==(3&i++)&&(delete u[o],--c)}e=function(t){var e,i,o,a,u;if(s.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var i=getComputedStyle(e).color;return document.body.removeChild(e),i}return""}(t)),r.exec(t)){var c,h=t.length-1;c=h<=4?1:2;var l=4===h||8===h;e=parseInt(t.substr(1+0*c,c),16),i=parseInt(t.substr(1+1*c,c),16),o=parseInt(t.substr(1+2*c,c),16),a=l?parseInt(t.substr(1+3*c,c),16):255,1==c&&(e=(e<<4)+e,i=(i<<4)+i,o=(o<<4)+o,l&&(a=(a<<4)+a)),u=[e,i,o,a/255]}else 0==t.indexOf("rgba(")?f(u=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((u=t.slice(4,-1).split(",").map(Number)).push(1),f(u)):Object(n.a)(!1,14);return u}(t),u[t]=e,++c}return e});function l(t){return Array.isArray(t)?t:h(t)}function f(t){return t[0]=Object(o.a)(t[0]+.5|0,0,255),t[1]=Object(o.a)(t[1]+.5|0,0,255),t[2]=Object(o.a)(t[2]+.5|0,0,255),t[3]=Object(o.a)(t[3],0,1),t}function p(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var i=t[1];i!=(0|i)&&(i=i+.5|0);var n=t[2];return n!=(0|n)&&(n=n+.5|0),"rgba("+e+","+i+","+n+","+(void 0===t[3]?1:t[3])+")"}},55:function(t,e,i){"use strict";i.d(e,"c",function(){return r}),i.d(e,"d",function(){return s}),i.d(e,"b",function(){return a}),i.d(e,"a",function(){return u}),i.d(e,"e",function(){return c});var n,o,r="ol-hidden",s="ol-unselectable",a="ol-control",u="ol-collapsed",c=(o={},function(t){if(n||(n=document.createElement("div").style),!(t in o)){n.font=t;var e=n.fontFamily;if(n.font="",!e)return null;o[t]=e.split(/,\s?/)}return o[t]})},69:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(44);function o(t){return Array.isArray(t)?Object(n.c)(t):t}},74:function(t,e,i){"use strict";var n=i(3),o=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale};o.prototype.clone=function(){return new o({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},o.prototype.getOpacity=function(){return this.opacity_},o.prototype.getRotateWithView=function(){return this.rotateWithView_},o.prototype.getRotation=function(){return this.rotation_},o.prototype.getScale=function(){return this.scale_},o.prototype.getSnapToPixel=function(){return!1},o.prototype.getAnchor=function(){return Object(n.b)()},o.prototype.getImage=function(t){return Object(n.b)()},o.prototype.getHitDetectionImage=function(t){return Object(n.b)()},o.prototype.getImageState=function(){return Object(n.b)()},o.prototype.getImageSize=function(){return Object(n.b)()},o.prototype.getHitDetectionImageSize=function(){return Object(n.b)()},o.prototype.getOrigin=function(){return Object(n.b)()},o.prototype.getSize=function(){return Object(n.b)()},o.prototype.setOpacity=function(t){this.opacity_=t},o.prototype.setRotateWithView=function(t){this.rotateWithView_=t},o.prototype.setRotation=function(t){this.rotation_=t},o.prototype.setScale=function(t){this.scale_=t},o.prototype.setSnapToPixel=function(t){},o.prototype.listenImageChange=function(t,e){return Object(n.b)()},o.prototype.load=function(){Object(n.b)()},o.prototype.unlistenImageChange=function(t,e){Object(n.b)()},e.a=o},85:function(t,e,i){"use strict";var n=i(3),o=i(44),r=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.checksum_=void 0};r.prototype.clone=function(){var t=this.getColor();return new r({color:Array.isArray(t)?t.slice():t||void 0})},r.prototype.getColor=function(){return this.color_},r.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},r.prototype.getChecksum=function(){if(void 0===this.checksum_){var t=this.color_;t?Array.isArray(t)||"string"==typeof t?this.checksum_="f"+Object(o.b)(t):this.checksum_=Object(n.c)(this.color_):this.checksum_="f-"}return this.checksum_},e.a=r},86:function(t,e,i){"use strict";var n=i(9),o=i(40),r=i(2),s=function(t){function e(e){t.call(this),this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(r.a.CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t,e){for(var i=this.oldest_;i;)t.call(e,i.value_,i.key_,this),i=i.newer},e.prototype.get=function(t){var e=this.entries_[t];return Object(n.a)(void 0!==e,15),e===this.newest_?e.value_:(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e,e.value_)},e.prototype.remove=function(t){var e=this.entries_[t];return Object(n.a)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){Object(n.a)(!(t in this.entries_),16);var i={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[t]=i,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},e}(o.a);e.a=s},98:function(t,e,i){"use strict";var n=i(3),o=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width,this.checksum_=void 0};o.prototype.clone=function(){var t=this.getColor();return new o({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},o.prototype.getColor=function(){return this.color_},o.prototype.getLineCap=function(){return this.lineCap_},o.prototype.getLineDash=function(){return this.lineDash_},o.prototype.getLineDashOffset=function(){return this.lineDashOffset_},o.prototype.getLineJoin=function(){return this.lineJoin_},o.prototype.getMiterLimit=function(){return this.miterLimit_},o.prototype.getWidth=function(){return this.width_},o.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},o.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},o.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},o.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},o.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},o.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},o.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},o.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"==typeof this.color_?this.checksum_+=this.color_:this.checksum_+=Object(n.c)(this.color_):this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_},e.a=o},99:function(t,e,i){"use strict";var n=function(t){function e(e){var i=e||{};t.call(this,{points:1/0,fill:i.fill,radius:i.radius,stroke:i.stroke,atlasManager:i.atlasManager})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)},e}(i(100).a);e.a=n}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvUmVndWxhclNoYXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9kb20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2hhcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvSW1hZ2VTdGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvU3R5bGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2NvbG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9jc3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2NvbG9ybGlrZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3N0eWxlL0ZpbGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3N0cnVjdHMvTFJVQ2FjaGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3N0eWxlL1N0cm9rZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvQ2lyY2xlLmpzIl0sIm5hbWVzIjpbIl9jb2xvcl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIl9jb2xvcmxpa2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsIl9kb21fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyIsIl9oYXNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyIsIl9JbWFnZVN0YXRlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18iLCJfcmVuZGVyX2NhbnZhc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fIiwiUmVndWxhclNoYXBlIiwiSW1hZ2VTdHlsZSIsIm9wdGlvbnMiLCJyb3RhdGVXaXRoVmlldyIsInVuZGVmaW5lZCIsImNhbGwiLCJ0aGlzIiwib3BhY2l0eSIsInJvdGF0aW9uIiwic2NhbGUiLCJjaGVja3N1bXNfIiwiY2FudmFzXyIsImhpdERldGVjdGlvbkNhbnZhc18iLCJmaWxsXyIsImZpbGwiLCJvcmlnaW5fIiwicG9pbnRzXyIsInBvaW50cyIsInJhZGl1c18iLCJyYWRpdXMiLCJyYWRpdXMxIiwicmFkaXVzMl8iLCJyYWRpdXMyIiwiYW5nbGVfIiwiYW5nbGUiLCJzdHJva2VfIiwic3Ryb2tlIiwiYW5jaG9yXyIsInNpemVfIiwiaW1hZ2VTaXplXyIsImhpdERldGVjdGlvbkltYWdlU2l6ZV8iLCJhdGxhc01hbmFnZXJfIiwiYXRsYXNNYW5hZ2VyIiwicmVuZGVyXyIsIl9fcHJvdG9fXyIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwiY2xvbmUiLCJzdHlsZSIsImdldEZpbGwiLCJnZXRQb2ludHMiLCJnZXRSYWRpdXMiLCJnZXRSYWRpdXMyIiwiZ2V0QW5nbGUiLCJnZXRTdHJva2UiLCJnZXRSb3RhdGlvbiIsImdldFJvdGF0ZVdpdGhWaWV3Iiwic2V0T3BhY2l0eSIsImdldE9wYWNpdHkiLCJzZXRTY2FsZSIsImdldFNjYWxlIiwiZ2V0QW5jaG9yIiwiZ2V0SGl0RGV0ZWN0aW9uSW1hZ2UiLCJwaXhlbFJhdGlvIiwiZ2V0SW1hZ2UiLCJnZXRJbWFnZVNpemUiLCJnZXRIaXREZXRlY3Rpb25JbWFnZVNpemUiLCJnZXRJbWFnZVN0YXRlIiwiTE9BREVEIiwiZ2V0T3JpZ2luIiwiZ2V0U2l6ZSIsImxpc3RlbkltYWdlQ2hhbmdlIiwibGlzdGVuZXIiLCJ0aGlzQXJnIiwibG9hZCIsInVubGlzdGVuSW1hZ2VDaGFuZ2UiLCJpbWFnZVNpemUiLCJzdHJva2VTdHlsZSIsImxpbmVDYXAiLCJsaW5lSm9pbiIsIm1pdGVyTGltaXQiLCJsaW5lRGFzaCIsImxpbmVEYXNoT2Zmc2V0Iiwic3Ryb2tlV2lkdGgiLCJnZXRDb2xvciIsImdldFdpZHRoIiwiZ2V0TGluZURhc2giLCJnZXRMaW5lRGFzaE9mZnNldCIsImdldExpbmVKb2luIiwiZ2V0TGluZUNhcCIsImdldE1pdGVyTGltaXQiLCJzaXplIiwicmVuZGVyT3B0aW9ucyIsImNvbnRleHQiLCJjYW52YXMiLCJ3aWR0aCIsImRyYXdfIiwiY3JlYXRlSGl0RGV0ZWN0aW9uQ2FudmFzXyIsIk1hdGgiLCJyb3VuZCIsInJlbmRlckhpdERldGVjdGlvbkNhbGxiYWNrIiwiaGFzQ3VzdG9tSGl0RGV0ZWN0aW9uSW1hZ2UiLCJkcmF3SGl0RGV0ZWN0aW9uQ2FudmFzXyIsImJpbmQiLCJpZCIsImdldENoZWNrc3VtIiwiaW5mbyIsImFkZCIsImltYWdlIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJoaXRJbWFnZSIsImhlaWdodCIsIngiLCJ5IiwiaSIsImFuZ2xlMCIsInJhZGl1c0MiLCJzZXRUcmFuc2Zvcm0iLCJ0cmFuc2xhdGUiLCJiZWdpblBhdGgiLCJJbmZpbml0eSIsImFyYyIsIlBJIiwibGluZVRvIiwiY29zIiwic2luIiwiY29sb3IiLCJmaWxsU3R5bGUiLCJsaW5lV2lkdGgiLCJzZXRMaW5lRGFzaCIsImNsb3NlUGF0aCIsInN0cm9rZUNoZWNrc3VtIiwiZmlsbENoZWNrc3VtIiwiY2hlY2tzdW0iLCJ0b1N0cmluZyIsIl9fd2VicGFja19leHBvcnRzX18iLCJjcmVhdGVDYW52YXNDb250ZXh0MkQiLCJvcHRfd2lkdGgiLCJvcHRfaGVpZ2h0IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZ2V0Q29udGV4dCIsInJlcGxhY2VOb2RlIiwibmV3Tm9kZSIsIm9sZE5vZGUiLCJwYXJlbnQiLCJwYXJlbnROb2RlIiwicmVwbGFjZUNoaWxkIiwicmVtb3ZlTm9kZSIsIm5vZGUiLCJyZW1vdmVDaGlsZCIsInJlbW92ZUNoaWxkcmVuIiwibGFzdENoaWxkIiwiZCIsIkZJUkVGT1giLCJTQUZBUkkiLCJXRUJLSVQiLCJNQUMiLCJERVZJQ0VfUElYRUxfUkFUSU8iLCJDQU5WQVNfTElORV9EQVNIIiwiR0VPTE9DQVRJT04iLCJUT1VDSCIsIlBPSU5URVIiLCJNU1BPSU5URVIiLCJ1YSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInRvTG93ZXJDYXNlIiwiaW5kZXhPZiIsIndpbmRvdyIsImRldmljZVBpeGVsUmF0aW8iLCJoYXMiLCJlIiwiSURMRSIsIkxPQURJTkciLCJFUlJPUiIsInRvRnVuY3Rpb24iLCJjcmVhdGVEZWZhdWx0U3R5bGUiLCJjcmVhdGVFZGl0aW5nU3R5bGUiLCJfYXNzZXJ0c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwiX2dlb21fR2VvbWV0cnlUeXBlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJfQ2lyY2xlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18iLCJfRmlsbF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fIiwiX1N0cm9rZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fIiwiU3R5bGUiLCJvcHRfb3B0aW9ucyIsImdlb21ldHJ5XyIsImdlb21ldHJ5RnVuY3Rpb25fIiwiZGVmYXVsdEdlb21ldHJ5RnVuY3Rpb24iLCJnZW9tZXRyeSIsInNldEdlb21ldHJ5IiwiaW1hZ2VfIiwicmVuZGVyZXJfIiwicmVuZGVyZXIiLCJ0ZXh0XyIsInRleHQiLCJ6SW5kZXhfIiwiekluZGV4Iiwib2JqIiwic3R5bGVGdW5jdGlvbiIsInN0eWxlcyIsIkFycmF5IiwiaXNBcnJheSIsImdldFpJbmRleCIsImdldEdlb21ldHJ5IiwiZ2V0VGV4dCIsImdldFJlbmRlcmVyIiwic2V0UmVuZGVyZXIiLCJnZXRHZW9tZXRyeUZ1bmN0aW9uIiwic2V0RmlsbCIsInNldEltYWdlIiwic2V0U3Ryb2tlIiwic2V0VGV4dCIsImZlYXR1cmUiLCJnZXQiLCJzZXRaSW5kZXgiLCJkZWZhdWx0U3R5bGVzIiwicmVzb2x1dGlvbiIsIndoaXRlIiwiYmx1ZSIsIlBPTFlHT04iLCJNVUxUSV9QT0xZR09OIiwiTElORV9TVFJJTkciLCJNVUxUSV9MSU5FX1NUUklORyIsIkNJUkNMRSIsImNvbmNhdCIsIlBPSU5UIiwiTVVMVElfUE9JTlQiLCJHRU9NRVRSWV9DT0xMRUNUSU9OIiwiZGVmYXVsdEZvbnQiLCJkZWZhdWx0RmlsbFN0eWxlIiwiZGVmYXVsdExpbmVDYXAiLCJkZWZhdWx0TGluZURhc2giLCJkZWZhdWx0TGluZURhc2hPZmZzZXQiLCJkZWZhdWx0TGluZUpvaW4iLCJkZWZhdWx0TWl0ZXJMaW1pdCIsImRlZmF1bHRTdHJva2VTdHlsZSIsImRlZmF1bHRUZXh0QWxpZ24iLCJkZWZhdWx0VGV4dEJhc2VsaW5lIiwiZGVmYXVsdFBhZGRpbmciLCJkZWZhdWx0TGluZVdpZHRoIiwibGFiZWxDYWNoZSIsImNoZWNrRm9udCIsIm1lYXN1cmVUZXh0SGVpZ2h0IiwibWVhc3VyZVRleHRXaWR0aCIsInJvdGF0ZUF0T2Zmc2V0IiwicmVzZXRUcmFuc2Zvcm0iLCJkcmF3SW1hZ2UiLCJfY3NzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfZG9tX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJfb2JqX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18iLCJfc3RydWN0c19MUlVDYWNoZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fIiwiX3RyYW5zZm9ybV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fIiwiY2hlY2tlZEZvbnRzIiwibWVhc3VyZUNvbnRleHQiLCJ0ZXh0SGVpZ2h0cyIsImludGVydmFsIiwicmVmZXJlbmNlV2lkdGgiLCJyZXRyaWVzIiwiY2hlY2tlZCIsInJlZmVyZW5jZUZvbnRzIiwibGVuIiwibGVuZ3RoIiwiaXNBdmFpbGFibGUiLCJmb250IiwiZ2V0TWVhc3VyZUNvbnRleHQiLCJ3ZWlnaHQiLCJmb250V2VpZ2h0IiwiYXZhaWxhYmxlIiwicmVmZXJlbmNlRm9udCIsIm1lYXN1cmVUZXh0IiwiY2hlY2siLCJkb25lIiwiY2xlYXIiLCJjbGVhckludGVydmFsIiwiZm9udFNwZWMiLCJmb250RmFtaWxpZXMiLCJpaSIsImZvbnRGYW1pbHkiLCJzZXRJbnRlcnZhbCIsInNwYW4iLCJoZWlnaHRzIiwidGV4dENvbnRlbnQiLCJtYXJnaW4iLCJwYWRkaW5nIiwicG9zaXRpb24iLCJsZWZ0IiwiYm9keSIsImFwcGVuZENoaWxkIiwib2Zmc2V0SGVpZ2h0Iiwicm90YXRlIiwidHJhbnNmb3JtIiwib3JpZ2luWCIsIm9yaWdpblkiLCJ3IiwiaCIsImFscGhhIiwiZ2xvYmFsQWxwaGEiLCJhcHBseSIsImFzU3RyaW5nIiwiYXNBcnJheSIsIl9tYXRoX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJIRVhfQ09MT1JfUkVfIiwiTkFNRURfQ09MT1JfUkVfIiwiY2FjaGUiLCJjYWNoZVNpemUiLCJmcm9tU3RyaW5nIiwicyIsImhhc093blByb3BlcnR5Iiwia2V5IiwiciIsImciLCJiIiwiYSIsImV4ZWMiLCJlbCIsInJnYiIsImdldENvbXB1dGVkU3R5bGUiLCJmcm9tTmFtZWQiLCJuIiwiaGFzQWxwaGEiLCJwYXJzZUludCIsInN1YnN0ciIsIm5vcm1hbGl6ZSIsInNsaWNlIiwic3BsaXQiLCJtYXAiLCJOdW1iZXIiLCJwdXNoIiwiZnJvbVN0cmluZ0ludGVybmFsXyIsIkNMQVNTX0hJRERFTiIsIkNMQVNTX1VOU0VMRUNUQUJMRSIsIkNMQVNTX0NPTlRST0wiLCJDTEFTU19DT0xMQVBTRUQiLCJnZXRGb250RmFtaWxpZXMiLCJmYW1pbHkiLCJhc0NvbG9yTGlrZSIsIl91dGlsX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJvcGFjaXR5XyIsInJvdGF0ZVdpdGhWaWV3XyIsInJvdGF0aW9uXyIsInNjYWxlXyIsImdldFNuYXBUb1BpeGVsIiwic2V0Um90YXRlV2l0aFZpZXciLCJzZXRSb3RhdGlvbiIsInNldFNuYXBUb1BpeGVsIiwic25hcFRvUGl4ZWwiLCJfY29sb3JfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsIkZpbGwiLCJjb2xvcl8iLCJjaGVja3N1bV8iLCJzZXRDb2xvciIsIl9ldmVudHNfVGFyZ2V0X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJfZXZlbnRzX0V2ZW50VHlwZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fIiwiTFJVQ2FjaGUiLCJFdmVudFRhcmdldCIsIm9wdF9oaWdoV2F0ZXJNYXJrIiwiaGlnaFdhdGVyTWFyayIsImNvdW50XyIsImVudHJpZXNfIiwib2xkZXN0XyIsIm5ld2VzdF8iLCJjYW5FeHBpcmVDYWNoZSIsImdldENvdW50IiwiZGlzcGF0Y2hFdmVudCIsIkNMRUFSIiwiY29udGFpbnNLZXkiLCJmb3JFYWNoIiwiZiIsIm9wdF90aGlzIiwiZW50cnkiLCJ2YWx1ZV8iLCJrZXlfIiwibmV3ZXIiLCJvbGRlciIsInJlbW92ZSIsImdldEtleXMiLCJrZXlzIiwiZ2V0VmFsdWVzIiwidmFsdWVzIiwicGVla0xhc3QiLCJwZWVrTGFzdEtleSIsInBlZWtGaXJzdEtleSIsInBvcCIsInJlcGxhY2UiLCJ2YWx1ZSIsInNldCIsInNldFNpemUiLCJwcnVuZSIsIlN0cm9rZSIsImxpbmVDYXBfIiwibGluZURhc2hfIiwibGluZURhc2hPZmZzZXRfIiwibGluZUpvaW5fIiwibWl0ZXJMaW1pdF8iLCJ3aWR0aF8iLCJzZXRMaW5lQ2FwIiwic2V0TGluZURhc2hPZmZzZXQiLCJzZXRMaW5lSm9pbiIsInNldE1pdGVyTGltaXQiLCJzZXRXaWR0aCIsIkNpcmNsZVN0eWxlIiwic2V0UmFkaXVzIl0sIm1hcHBpbmdzIjoiMEZBQUEsSUFBQUEsRUFBQUMsRUFBQSxJQUFBQyxFQUFBRCxFQUFBLElBQUFFLEVBQUFGLEVBQUEsSUFBQUcsRUFBQUgsRUFBQSxJQUFBSSxFQUFBSixFQUFBLElBQUFLLEVBQUFMLEVBQUEsSUFvREFNLEVBQUEsU0FBQUMsR0FDQSxTQUFBRCxFQUFBRSxHQUlBLElBQUFDLE9BQUFDLElBQUFGLEVBQUFDLGdCQUNBRCxFQUFBQyxlQUVBRixFQUFBSSxLQUFBQyxLQUFBLENBQ0FDLFFBQUEsRUFDQUosaUJBQ0FLLGNBQUFKLElBQUFGLEVBQUFNLFNBQUFOLEVBQUFNLFNBQUEsRUFDQUMsTUFBQSxJQU9BSCxLQUFBSSxXQUFBLEtBTUFKLEtBQUFLLFFBQUEsS0FNQUwsS0FBQU0sb0JBQUEsS0FNQU4sS0FBQU8sV0FBQVQsSUFBQUYsRUFBQVksS0FBQVosRUFBQVksS0FBQSxLQU1BUixLQUFBUyxRQUFBLE1BTUFULEtBQUFVLFFBQUFkLEVBQUFlLE9BTUFYLEtBQUFZLGFBQXFDZCxJQUFBRixFQUFBaUIsT0FDckNqQixFQUFBaUIsT0FBQWpCLEVBQUFrQixRQU1BZCxLQUFBZSxTQUFBbkIsRUFBQW9CLFFBTUFoQixLQUFBaUIsWUFBQW5CLElBQUFGLEVBQUFzQixNQUFBdEIsRUFBQXNCLE1BQUEsRUFNQWxCLEtBQUFtQixhQUFBckIsSUFBQUYsRUFBQXdCLE9BQUF4QixFQUFBd0IsT0FBQSxLQU1BcEIsS0FBQXFCLFFBQUEsS0FNQXJCLEtBQUFzQixNQUFBLEtBTUF0QixLQUFBdUIsV0FBQSxLQU1BdkIsS0FBQXdCLHVCQUFBLEtBTUF4QixLQUFBeUIsY0FBQTdCLEVBQUE4QixhQUVBMUIsS0FBQTJCLFFBQUEzQixLQUFBeUIsZUEwYUEsT0F0YUE5QixJQUFBRCxFQUFBa0MsVUFBQWpDLEdBQ0FELEVBQUFtQyxVQUFBQyxPQUFBQyxPQUFBcEMsS0FBQWtDLFdBQ0FuQyxFQUFBbUMsVUFBQUcsWUFBQXRDLEVBT0FBLEVBQUFtQyxVQUFBSSxNQUFBLFdBQ0EsSUFBQUMsRUFBQSxJQUFBeEMsRUFBQSxDQUNBYyxLQUFBUixLQUFBbUMsVUFBQW5DLEtBQUFtQyxVQUFBRixhQUFBbkMsRUFDQWEsT0FBQVgsS0FBQW9DLFlBQ0F2QixPQUFBYixLQUFBcUMsWUFDQXJCLFFBQUFoQixLQUFBc0MsYUFDQXBCLE1BQUFsQixLQUFBdUMsV0FDQW5CLE9BQUFwQixLQUFBd0MsWUFBQXhDLEtBQUF3QyxZQUFBUCxhQUFBbkMsRUFDQUksU0FBQUYsS0FBQXlDLGNBQ0E1QyxlQUFBRyxLQUFBMEMsb0JBQ0FoQixhQUFBMUIsS0FBQXlCLGdCQUlBLE9BRkFTLEVBQUFTLFdBQUEzQyxLQUFBNEMsY0FDQVYsRUFBQVcsU0FBQTdDLEtBQUE4QyxZQUNBWixHQU9BeEMsRUFBQW1DLFVBQUFrQixVQUFBLFdBQ0EsT0FBQS9DLEtBQUFxQixTQVFBM0IsRUFBQW1DLFVBQUFVLFNBQUEsV0FDQSxPQUFBdkMsS0FBQWlCLFFBUUF2QixFQUFBbUMsVUFBQU0sUUFBQSxXQUNBLE9BQUFuQyxLQUFBTyxPQU1BYixFQUFBbUMsVUFBQW1CLHFCQUFBLFNBQUFDLEdBQ0EsT0FBQWpELEtBQUFNLHFCQU9BWixFQUFBbUMsVUFBQXFCLFNBQUEsU0FBQUQsR0FDQSxPQUFBakQsS0FBQUssU0FNQVgsRUFBQW1DLFVBQUFzQixhQUFBLFdBQ0EsT0FBQW5ELEtBQUF1QixZQU1BN0IsRUFBQW1DLFVBQUF1Qix5QkFBQSxXQUNBLE9BQUFwRCxLQUFBd0Isd0JBTUE5QixFQUFBbUMsVUFBQXdCLGNBQUEsV0FDQSxPQUFXN0QsRUFBQSxFQUFVOEQsUUFPckI1RCxFQUFBbUMsVUFBQTBCLFVBQUEsV0FDQSxPQUFBdkQsS0FBQVMsU0FRQWYsRUFBQW1DLFVBQUFPLFVBQUEsV0FDQSxPQUFBcEMsS0FBQVUsU0FRQWhCLEVBQUFtQyxVQUFBUSxVQUFBLFdBQ0EsT0FBQXJDLEtBQUFZLFNBUUFsQixFQUFBbUMsVUFBQVMsV0FBQSxXQUNBLE9BQUF0QyxLQUFBZSxVQU9BckIsRUFBQW1DLFVBQUEyQixRQUFBLFdBQ0EsT0FBQXhELEtBQUFzQixPQVFBNUIsRUFBQW1DLFVBQUFXLFVBQUEsV0FDQSxPQUFBeEMsS0FBQW1CLFNBTUF6QixFQUFBbUMsVUFBQTRCLGtCQUFBLFNBQUFDLEVBQUFDLEtBT0FqRSxFQUFBbUMsVUFBQStCLEtBQUEsYUFLQWxFLEVBQUFtQyxVQUFBZ0Msb0JBQUEsU0FBQUgsRUFBQUMsS0FNQWpFLEVBQUFtQyxVQUFBRixRQUFBLFNBQUFELEdBQ0EsSUFBQW9DLEVBTUFDLEVBTEFDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEVBQ0FDLEVBQUEsS0FDQUMsRUFBQSxFQUVBQyxFQUFBLEVBRUFyRSxLQUFBbUIsVUFFQSxRQURBNEMsRUFBQS9ELEtBQUFtQixRQUFBbUQsY0FFQVAsRUFBc0J0RSxFQUFBLEdBRXRCc0UsRUFBb0JqQyxPQUFBekMsRUFBQSxFQUFBeUMsQ0FBV2lDLFFBRS9CakUsS0FEQXVFLEVBQUFyRSxLQUFBbUIsUUFBQW9ELGNBRUFGLEVBQXNCNUUsRUFBQSxHQUV0QjBFLEVBQUFuRSxLQUFBbUIsUUFBQXFELGNBQ0FKLEVBQUFwRSxLQUFBbUIsUUFBQXNELG9CQUNXbEYsRUFBQSxJQUNYNEUsRUFBQSxLQUNBQyxFQUFBLFFBR0F0RSxLQURBbUUsRUFBQWpFLEtBQUFtQixRQUFBdUQsaUJBRUFULEVBQW1CeEUsRUFBQSxRQUduQkssS0FEQWtFLEVBQUFoRSxLQUFBbUIsUUFBQXdELGdCQUVBWCxFQUFrQnZFLEVBQUEsUUFHbEJLLEtBREFvRSxFQUFBbEUsS0FBQW1CLFFBQUF5RCxtQkFFQVYsRUFBcUJ6RSxFQUFBLElBSXJCLElBQUFvRixFQUFBLEdBQUE3RSxLQUFBWSxRQUFBeUQsR0FBQSxFQUdBUyxFQUFBLENBQ0FmLGNBQ0FNLGNBQ0FRLE9BQ0FiLFVBQ0FHLFdBQ0FDLGlCQUNBSCxXQUNBQyxjQUdBLFFBQUFwRSxJQUFBNEIsRUFBQSxDQUVBLElBQUFxRCxFQUFvQmpELE9BQUF4QyxFQUFBLEVBQUF3QyxDQUFxQitDLEtBQ3pDN0UsS0FBQUssUUFBQTBFLEVBQUFDLE9BSUFsQixFQURBZSxFQUFBN0UsS0FBQUssUUFBQTRFLE1BR0FqRixLQUFBa0YsTUFBQUosRUFBQUMsRUFBQSxLQUVBL0UsS0FBQW1GLDBCQUFBTCxPQUNLLENBRUxELEVBQUFPLEtBQUFDLE1BQUFSLEdBRUEsSUFDQVMsRUFEQUMsR0FBQXZGLEtBQUFPLE1BRUFnRixJQUVBRCxFQUNBdEYsS0FBQXdGLHdCQUFBQyxLQUFBekYsS0FBQThFLElBR0EsSUFBQVksRUFBQTFGLEtBQUEyRixjQUNBQyxFQUFBbEUsRUFBQW1FLElBQ0FILEVBQUFiLElBQUE3RSxLQUFBa0YsTUFBQU8sS0FBQXpGLEtBQUE4RSxHQUNBUSxHQUVBdEYsS0FBQUssUUFBQXVGLEVBQUFFLE1BQ0E5RixLQUFBUyxRQUFBLENBQUFtRixFQUFBRyxRQUFBSCxFQUFBSSxTQUNBbEMsRUFBQThCLEVBQUFFLE1BQUFiLE1BRUFNLEdBQ0F2RixLQUFBTSxvQkFBQXNGLEVBQUFLLFNBQ0FqRyxLQUFBd0IsdUJBQ0EsQ0FBQW9FLEVBQUFLLFNBQUFoQixNQUFBVyxFQUFBSyxTQUFBQyxVQUVBbEcsS0FBQU0sb0JBQUFOLEtBQUFLLFFBQ0FMLEtBQUF3Qix1QkFBQSxDQUFBc0MsTUFJQTlELEtBQUFxQixRQUFBLENBQUF3RCxFQUFBLEVBQUFBLEVBQUEsR0FDQTdFLEtBQUFzQixNQUFBLENBQUF1RCxLQUNBN0UsS0FBQXVCLFdBQUEsQ0FBQXVDLE1BVUFwRSxFQUFBbUMsVUFBQXFELE1BQUEsU0FBQUosRUFBQUMsRUFBQW9CLEVBQUFDLEdBQ0EsSUFBQUMsRUFBQUMsRUFBQUMsRUFFQXhCLEVBQUF5QixhQUFBLGFBR0F6QixFQUFBMEIsVUFBQU4sRUFBQUMsR0FFQXJCLEVBQUEyQixZQUVBLElBQUEvRixFQUFBWCxLQUFBVSxRQUNBLEdBQUFDLElBQUFnRyxJQUNBNUIsRUFBQTZCLElBQ0E5QixFQUFBRCxLQUFBLEVBQUFDLEVBQUFELEtBQUEsRUFDQTdFLEtBQUFZLFFBQUEsSUFBQXdFLEtBQUF5QixJQUFBLE9BQ0ssQ0FDTCxJQUFBN0YsT0FBQWxCLElBQUFFLEtBQUFlLFNBQUFmLEtBQUFlLFNBQ0FmLEtBQUFZLFFBSUEsSUFIQUksSUFBQWhCLEtBQUFZLFVBQ0FELEdBQUEsR0FFQTBGLEVBQUEsRUFBaUJBLEdBQUExRixFQUFhMEYsSUFDOUJDLEVBQUEsRUFBQUQsRUFBQWpCLEtBQUF5QixHQUFBbEcsRUFBQXlFLEtBQUF5QixHQUFBLEVBQUE3RyxLQUFBaUIsT0FDQXNGLEVBQUFGLEVBQUEsS0FBQXJHLEtBQUFZLFFBQUFJLEVBQ0ErRCxFQUFBK0IsT0FBQWhDLEVBQUFELEtBQUEsRUFBQTBCLEVBQUFuQixLQUFBMkIsSUFBQVQsR0FDQXhCLEVBQUFELEtBQUEsRUFBQTBCLEVBQUFuQixLQUFBNEIsSUFBQVYsSUFLQSxHQUFBdEcsS0FBQU8sTUFBQSxDQUNBLElBQUEwRyxFQUFBakgsS0FBQU8sTUFBQStELFdBQ0EsT0FBQTJDLElBQ0FBLEVBQWdCeEgsRUFBQSxHQUVoQnNGLEVBQUFtQyxVQUEwQnBGLE9BQUF6QyxFQUFBLEVBQUF5QyxDQUFXbUYsR0FDckNsQyxFQUFBdkUsT0FFQVIsS0FBQW1CLFVBQ0E0RCxFQUFBaEIsWUFBQWUsRUFBQWYsWUFDQWdCLEVBQUFvQyxVQUFBckMsRUFBQVQsWUFDQVMsRUFBQVgsV0FDQVksRUFBQXFDLFlBQUF0QyxFQUFBWCxVQUNBWSxFQUFBWCxlQUFBVSxFQUFBVixnQkFFQVcsRUFBQWYsUUFBaURjLEVBQUEsUUFDakRDLEVBQUFkLFNBQW1EYSxFQUFBLFNBQ25EQyxFQUFBYixXQUFBWSxFQUFBWixXQUNBYSxFQUFBM0QsVUFFQTJELEVBQUFzQyxhQU9BM0gsRUFBQW1DLFVBQUFzRCwwQkFBQSxTQUFBTCxHQUVBLEdBREE5RSxLQUFBd0IsdUJBQUEsQ0FBQXNELEVBQUFELEtBQUFDLEVBQUFELE1BQ0E3RSxLQUFBTyxNQUNBUCxLQUFBTSxvQkFBQU4sS0FBQUssWUFEQSxDQU9BLElBQUEwRSxFQUFrQmpELE9BQUF4QyxFQUFBLEVBQUF3QyxDQUFxQmdELEVBQUFELEtBQUFDLEVBQUFELE1BQ3ZDN0UsS0FBQU0sb0JBQUF5RSxFQUFBQyxPQUVBaEYsS0FBQXdGLHdCQUFBVixFQUFBQyxFQUFBLE9BVUFyRixFQUFBbUMsVUFBQTJELHdCQUFBLFNBQUFWLEVBQUFDLEVBQUFvQixFQUFBQyxHQUVBckIsRUFBQXlCLGFBQUEsYUFHQXpCLEVBQUEwQixVQUFBTixFQUFBQyxHQUVBckIsRUFBQTJCLFlBRUEsSUFBQS9GLEVBQUFYLEtBQUFVLFFBQ0EsR0FBQUMsSUFBQWdHLElBQ0E1QixFQUFBNkIsSUFDQTlCLEVBQUFELEtBQUEsRUFBQUMsRUFBQUQsS0FBQSxFQUNBN0UsS0FBQVksUUFBQSxJQUFBd0UsS0FBQXlCLElBQUEsT0FDSyxDQUNMLElBS0FSLEVBQUFFLEVBQUFELEVBTEF0RixPQUFBbEIsSUFBQUUsS0FBQWUsU0FBQWYsS0FBQWUsU0FDQWYsS0FBQVksUUFLQSxJQUpBSSxJQUFBaEIsS0FBQVksVUFDQUQsR0FBQSxHQUdBMEYsRUFBQSxFQUFpQkEsR0FBQTFGLEVBQWEwRixJQUM5QkMsRUFBQSxFQUFBRCxFQUFBakIsS0FBQXlCLEdBQUFsRyxFQUFBeUUsS0FBQXlCLEdBQUEsRUFBQTdHLEtBQUFpQixPQUNBc0YsRUFBQUYsRUFBQSxLQUFBckcsS0FBQVksUUFBQUksRUFDQStELEVBQUErQixPQUFBaEMsRUFBQUQsS0FBQSxFQUFBMEIsRUFBQW5CLEtBQUEyQixJQUFBVCxHQUNBeEIsRUFBQUQsS0FBQSxFQUFBMEIsRUFBQW5CLEtBQUE0QixJQUFBVixJQUlBdkIsRUFBQW1DLFVBQXdCcEYsT0FBQTNDLEVBQUEsRUFBQTJDLENBQVNyQyxFQUFBLEdBQ2pDc0YsRUFBQXZFLE9BQ0FSLEtBQUFtQixVQUNBNEQsRUFBQWhCLFlBQUFlLEVBQUFmLFlBQ0FnQixFQUFBb0MsVUFBQXJDLEVBQUFULFlBQ0FTLEVBQUFYLFdBQ0FZLEVBQUFxQyxZQUFBdEMsRUFBQVgsVUFDQVksRUFBQVgsZUFBQVUsRUFBQVYsZ0JBRUFXLEVBQUEzRCxVQUVBMkQsRUFBQXNDLGFBTUEzSCxFQUFBbUMsVUFBQThELFlBQUEsV0FDQSxJQUFBMkIsRUFBQXRILEtBQUFtQixRQUNBbkIsS0FBQW1CLFFBQUF3RSxjQUFBLElBQ0E0QixFQUFBdkgsS0FBQU8sTUFDQVAsS0FBQU8sTUFBQW9GLGNBQUEsSUFVQSxJQVJBM0YsS0FBQUksWUFDQWtILEdBQUF0SCxLQUFBSSxXQUFBLElBQ0FtSCxHQUFBdkgsS0FBQUksV0FBQSxJQUNBSixLQUFBWSxTQUFBWixLQUFBSSxXQUFBLElBQ0FKLEtBQUFlLFVBQUFmLEtBQUFJLFdBQUEsSUFDQUosS0FBQWlCLFFBQUFqQixLQUFBSSxXQUFBLElBQ0FKLEtBQUFVLFNBQUFWLEtBQUFJLFdBQUEsR0FFQSxDQUNBLElBQUFvSCxFQUFBLElBQUFGLEVBQUFDLFFBQ0F6SCxJQUFBRSxLQUFBWSxRQUFBWixLQUFBWSxRQUFBNkcsV0FBQSxXQUNBM0gsSUFBQUUsS0FBQWUsU0FBQWYsS0FBQWUsU0FBQTBHLFdBQUEsV0FDQTNILElBQUFFLEtBQUFpQixPQUFBakIsS0FBQWlCLE9BQUF3RyxXQUFBLFdBQ0EzSCxJQUFBRSxLQUFBVSxRQUFBVixLQUFBVSxRQUFBK0csV0FBQSxLQUNBekgsS0FBQUksV0FBQSxDQUFBb0gsRUFBQUYsRUFBQUMsRUFDQXZILEtBQUFZLFFBQUFaLEtBQUFlLFNBQUFmLEtBQUFpQixPQUFBakIsS0FBQVUsU0FHQSxPQUE2QlYsS0FBQUksV0FBQSxJQUc3QlYsRUFwaEJBLENBcERBTixFQUFBLElBeWtCRSxHQUdhc0ksRUFBQSxxQ0Nqa0JSLFNBQUFDLEVBQUFDLEVBQUFDLEdBQ1AsSUFBQTdDLEVBQTRDOEMsU0FBQUMsY0FBQSxVQU81QyxPQU5BSCxJQUNBNUMsRUFBQUMsTUFBQTJDLEdBRUFDLElBQ0E3QyxFQUFBa0IsT0FBQTJCLEdBRTZDN0MsRUFBQWdELFdBQUEsTUF1Q3RDLFNBQUFDLEVBQUFDLEVBQUFDLEdBQ1AsSUFBQUMsRUFBQUQsRUFBQUUsV0FDQUQsR0FDQUEsRUFBQUUsYUFBQUosRUFBQUMsR0FRTyxTQUFBSSxFQUFBQyxHQUNQLE9BQUFBLEtBQUFILFdBQUFHLEVBQUFILFdBQUFJLFlBQUFELEdBQUEsS0FNTyxTQUFBRSxFQUFBRixHQUNQLEtBQUFBLEVBQUFHLFdBQ0FILEVBQUFDLFlBQUFELEVBQUFHLFdBOUVBdkosRUFBQXdKLEVBQUFsQixFQUFBLHNCQUFBQyxJQUFBdkksRUFBQXdKLEVBQUFsQixFQUFBLHNCQUFBTyxJQUFBN0ksRUFBQXdKLEVBQUFsQixFQUFBLHNCQUFBYSxJQUFBbkosRUFBQXdKLEVBQUFsQixFQUFBLHNCQUFBZ0IscUNDQUF0SixFQUFBd0osRUFBQWxCLEVBQUEsc0JBQUFtQixJQUFBekosRUFBQXdKLEVBQUFsQixFQUFBLHNCQUFBb0IsSUFBQTFKLEVBQUF3SixFQUFBbEIsRUFBQSxzQkFBQXFCLElBQUEzSixFQUFBd0osRUFBQWxCLEVBQUEsc0JBQUFzQixJQUFBNUosRUFBQXdKLEVBQUFsQixFQUFBLHNCQUFBdUIsSUFBQTdKLEVBQUF3SixFQUFBbEIsRUFBQSxzQkFBQXdCLElBQUE5SixFQUFBd0osRUFBQWxCLEVBQUEsc0JBQUF5QixJQUFBL0osRUFBQXdKLEVBQUFsQixFQUFBLHNCQUFBMEIsSUFBQWhLLEVBQUF3SixFQUFBbEIsRUFBQSxzQkFBQTJCLElBQUFqSyxFQUFBd0osRUFBQWxCLEVBQUEsc0JBQUE0QixJQUlBLElBQUFDLEVBQUEsb0JBQUFDLFVBQ0FBLFVBQUFDLFVBQUFDLGNBQUEsR0FNT2IsR0FBQSxJQUFBVSxFQUFBSSxRQUFBLFdBTUFiLEdBQUEsSUFBQVMsRUFBQUksUUFBQSxlQUFBSixFQUFBSSxRQUFBLFNBTUFaLEdBQUEsSUFBQVEsRUFBQUksUUFBQSxlQUFBSixFQUFBSSxRQUFBLFFBTUFYLEdBQUEsSUFBQU8sRUFBQUksUUFBQSxhQVVBVixFQUFBVyxPQUFBQyxrQkFBQSxFQU9BWCxFQUFBLFdBQ1AsSUFBQVksR0FBQSxFQUNBLElBQ0FBLElBQUFoQyxTQUFBQyxjQUFBLFVBQUFDLFdBQUEsTUFBQVosWUFDRyxNQUFBMkMsSUFHSCxPQUFBRCxFQVBPLEdBaUJBWCxFQUFBLGdCQUFBSyxVQVNBSixFQUFBLGlCQUFBUSxPQVFBUCxFQUFBLGlCQUFBTyxPQVFBTixJQUFBRSxVQUFBLGtEQ2pGUTlCLEVBQUEsR0FDZnNDLEtBQUEsRUFDQUMsUUFBQSxFQUNBM0csT0FBQSxFQUNBNEcsTUFBQSxvQ0NYQTlLLEVBQUF3SixFQUFBbEIsRUFBQSxzQkFBQXlDLElBQUEvSyxFQUFBd0osRUFBQWxCLEVBQUEsc0JBQUEwQyxJQUFBaEwsRUFBQXdKLEVBQUFsQixFQUFBLHNCQUFBMkMsSUFBQSxJQUFBQyxFQUFBbEwsRUFBQSxHQUFBbUwsRUFBQW5MLEVBQUEsSUFBQW9MLEVBQUFwTCxFQUFBLElBQUFxTCxFQUFBckwsRUFBQSxJQUFBc0wsRUFBQXRMLEVBQUEsSUFxSkF1TCxFQUFBLFNBQUFDLEdBRUEsSUFBQWhMLEVBQUFnTCxHQUFBLEdBTUE1SyxLQUFBNkssVUFBQSxLQU1BN0ssS0FBQThLLGtCQUFBQyxPQUVBakwsSUFBQUYsRUFBQW9MLFVBQ0FoTCxLQUFBaUwsWUFBQXJMLEVBQUFvTCxVQU9BaEwsS0FBQU8sV0FBQVQsSUFBQUYsRUFBQVksS0FBQVosRUFBQVksS0FBQSxLQU1BUixLQUFBa0wsWUFBQXBMLElBQUFGLEVBQUFrRyxNQUFBbEcsRUFBQWtHLE1BQUEsS0FNQTlGLEtBQUFtTCxlQUFBckwsSUFBQUYsRUFBQXdMLFNBQUF4TCxFQUFBd0wsU0FBQSxLQU1BcEwsS0FBQW1CLGFBQUFyQixJQUFBRixFQUFBd0IsT0FBQXhCLEVBQUF3QixPQUFBLEtBTUFwQixLQUFBcUwsV0FBQXZMLElBQUFGLEVBQUEwTCxLQUFBMUwsRUFBQTBMLEtBQUEsS0FNQXRMLEtBQUF1TCxRQUFBM0wsRUFBQTRMLFFBa01PLFNBQUFyQixFQUFBc0IsR0FDUCxJQUFBQyxFQUVBLHNCQUFBRCxFQUNBQyxFQUFBRCxNQUNHLENBSUgsSUFBQUUsRUFDQSxHQUFBQyxNQUFBQyxRQUFBSixHQUNBRSxFQUFBRixPQUVNM0osT0FBQXdJLEVBQUEsRUFBQXhJLENBQTJCLHFCQUFBZ0ssVUFDakMsSUFFQUgsRUFBQSxDQURtQyxHQUduQ0QsRUFBQSxXQUNBLE9BQUFDLEdBR0EsT0FBQUQsRUEvTUFmLEVBQUE5SSxVQUFBSSxNQUFBLFdBQ0EsSUFBQStJLEVBQUFoTCxLQUFBK0wsY0FJQSxPQUhBZixHQUFBLGlCQUFBQSxJQUNBQSxFQUFnRSxFQUFBL0ksU0FFaEUsSUFBQTBJLEVBQUEsQ0FDQUssV0FDQXhLLEtBQUFSLEtBQUFtQyxVQUFBbkMsS0FBQW1DLFVBQUFGLGFBQUFuQyxFQUNBZ0csTUFBQTlGLEtBQUFrRCxXQUFBbEQsS0FBQWtELFdBQUFqQixhQUFBbkMsRUFDQXNCLE9BQUFwQixLQUFBd0MsWUFBQXhDLEtBQUF3QyxZQUFBUCxhQUFBbkMsRUFDQXdMLEtBQUF0TCxLQUFBZ00sVUFBQWhNLEtBQUFnTSxVQUFBL0osYUFBQW5DLEVBQ0EwTCxPQUFBeEwsS0FBQThMLGVBVUFuQixFQUFBOUksVUFBQW9LLFlBQUEsV0FDQSxPQUFBak0sS0FBQW1MLFdBU0FSLEVBQUE5SSxVQUFBcUssWUFBQSxTQUFBZCxHQUNBcEwsS0FBQW1MLFVBQUFDLEdBVUFULEVBQUE5SSxVQUFBa0ssWUFBQSxXQUNBLE9BQUEvTCxLQUFBNkssV0FTQUYsRUFBQTlJLFVBQUFzSyxvQkFBQSxXQUNBLE9BQUFuTSxLQUFBOEssbUJBUUFILEVBQUE5SSxVQUFBTSxRQUFBLFdBQ0EsT0FBQW5DLEtBQUFPLE9BUUFvSyxFQUFBOUksVUFBQXVLLFFBQUEsU0FBQTVMLEdBQ0FSLEtBQUFPLE1BQUFDLEdBUUFtSyxFQUFBOUksVUFBQXFCLFNBQUEsV0FDQSxPQUFBbEQsS0FBQWtMLFFBUUFQLEVBQUE5SSxVQUFBd0ssU0FBQSxTQUFBdkcsR0FDQTlGLEtBQUFrTCxPQUFBcEYsR0FRQTZFLEVBQUE5SSxVQUFBVyxVQUFBLFdBQ0EsT0FBQXhDLEtBQUFtQixTQVFBd0osRUFBQTlJLFVBQUF5SyxVQUFBLFNBQUFsTCxHQUNBcEIsS0FBQW1CLFFBQUFDLEdBUUF1SixFQUFBOUksVUFBQW1LLFFBQUEsV0FDQSxPQUFBaE0sS0FBQXFMLE9BUUFWLEVBQUE5SSxVQUFBMEssUUFBQSxTQUFBakIsR0FDQXRMLEtBQUFxTCxNQUFBQyxHQVFBWCxFQUFBOUksVUFBQWlLLFVBQUEsV0FDQSxPQUFBOUwsS0FBQXVMLFNBV0FaLEVBQUE5SSxVQUFBb0osWUFBQSxTQUFBRCxHQUNBLG1CQUFBQSxFQUNBaEwsS0FBQThLLGtCQUFBRSxFQUNHLGlCQUFBQSxFQUNIaEwsS0FBQThLLGtCQUFBLFNBQUEwQixHQUNBLE9BQ3lEQSxFQUFBQyxJQUFBekIsSUFHdERBLE9BRUFsTCxJQUFBa0wsSUFDSGhMLEtBQUE4SyxrQkFBQSxXQUNBLFdBSEE5SyxLQUFBOEssa0JBQUFDLEVBUUEvSyxLQUFBNkssVUFBQUcsR0FTQUwsRUFBQTlJLFVBQUE2SyxVQUFBLFNBQUFsQixHQUNBeEwsS0FBQXVMLFFBQUFDLEdBeUNBLElBQUFtQixFQUFBLEtBUU8sU0FBQXZDLEVBQUFvQyxFQUFBSSxHQU1QLElBQUFELEVBQUEsQ0FDQSxJQUFBbk0sRUFBQSxJQUFtQmlLLEVBQUEsRUFBSSxDQUN2QnhELE1BQUEsMEJBRUE3RixFQUFBLElBQXFCc0osRUFBQSxFQUFNLENBQzNCekQsTUFBQSxVQUNBaEMsTUFBQSxPQUVBMEgsRUFBQSxDQUNBLElBQUFoQyxFQUFBLENBQ0E3RSxNQUFBLElBQW1CMEUsRUFBQSxFQUFXLENBQzlCaEssT0FDQVksU0FDQVAsT0FBQSxJQUVBTCxPQUNBWSxZQUlBLE9BQUF1TCxFQVFPLFNBQUF0QyxJQUVQLElBQUFzQixFQUFBLEdBQ0FrQixFQUFBLGdCQUNBQyxFQUFBLGNBMkRBLE9BekRBbkIsRUFBU3BCLEVBQUEsRUFBWXdDLFNBQUEsQ0FDckIsSUFBQXBDLEVBQUEsQ0FDQW5LLEtBQUEsSUFBZ0JpSyxFQUFBLEVBQUksQ0FDcEJ4RCxNQUFBLHNCQUlBMEUsRUFBU3BCLEVBQUEsRUFBWXlDLGVBQ3JCckIsRUFBYXBCLEVBQUEsRUFBWXdDLFNBRXpCcEIsRUFBU3BCLEVBQUEsRUFBWTBDLGFBQUEsQ0FDckIsSUFBQXRDLEVBQUEsQ0FDQXZKLE9BQUEsSUFBa0JzSixFQUFBLEVBQU0sQ0FDeEJ6RCxNQUFBNEYsRUFDQTVILFlBR0EsSUFBQTBGLEVBQUEsQ0FDQXZKLE9BQUEsSUFBa0JzSixFQUFBLEVBQU0sQ0FDeEJ6RCxNQUFBNkYsRUFDQTdILE1BckJBLE9BeUJBMEcsRUFBU3BCLEVBQUEsRUFBWTJDLG1CQUNyQnZCLEVBQWFwQixFQUFBLEVBQVkwQyxhQUV6QnRCLEVBQVNwQixFQUFBLEVBQVk0QyxRQUNyQnhCLEVBQWFwQixFQUFBLEVBQVl3QyxTQUFBSyxPQUN6QnpCLEVBQWVwQixFQUFBLEVBQVkwQyxjQUkzQnRCLEVBQVNwQixFQUFBLEVBQVk4QyxPQUFBLENBQ3JCLElBQUExQyxFQUFBLENBQ0E3RSxNQUFBLElBQWlCMEUsRUFBQSxFQUFXLENBQzVCM0osT0FBQW9FLEVBQ0F6RSxLQUFBLElBQWtCaUssRUFBQSxFQUFJLENBQ3RCeEQsTUFBQTZGLElBRUExTCxPQUFBLElBQW9Cc0osRUFBQSxFQUFNLENBQzFCekQsTUFBQTRGLEVBQ0E1SCxjQUdBdUcsT0FBQTdFLE9BR0FnRixFQUFTcEIsRUFBQSxFQUFZK0MsYUFDckIzQixFQUFhcEIsRUFBQSxFQUFZOEMsT0FFekIxQixFQUFTcEIsRUFBQSxFQUFZZ0QscUJBQ3JCNUIsRUFBYXBCLEVBQUEsRUFBWXdDLFNBQUFLLE9BQ3pCekIsRUFBZXBCLEVBQUEsRUFBWTBDLGFBQzNCdEIsRUFBZXBCLEVBQUEsRUFBWThDLFFBRzNCMUIsRUFTQSxTQUFBWixFQUFBeUIsR0FDQSxPQUFBQSxFQUFBVCxjQUdlckUsRUFBQSxxQ0NoaUJmdEksRUFBQXdKLEVBQUFsQixFQUFBLHNCQUFBOEYsSUFBQXBPLEVBQUF3SixFQUFBbEIsRUFBQSxzQkFBQStGLElBQUFyTyxFQUFBd0osRUFBQWxCLEVBQUEsc0JBQUFnRyxJQUFBdE8sRUFBQXdKLEVBQUFsQixFQUFBLHNCQUFBaUcsSUFBQXZPLEVBQUF3SixFQUFBbEIsRUFBQSxzQkFBQWtHLElBQUF4TyxFQUFBd0osRUFBQWxCLEVBQUEsc0JBQUFtRyxJQUFBek8sRUFBQXdKLEVBQUFsQixFQUFBLHNCQUFBb0csSUFBQTFPLEVBQUF3SixFQUFBbEIsRUFBQSxzQkFBQXFHLElBQUEzTyxFQUFBd0osRUFBQWxCLEVBQUEsc0JBQUFzRyxJQUFBNU8sRUFBQXdKLEVBQUFsQixFQUFBLHNCQUFBdUcsSUFBQTdPLEVBQUF3SixFQUFBbEIsRUFBQSxzQkFBQXdHLElBQUE5TyxFQUFBd0osRUFBQWxCLEVBQUEsc0JBQUF5RyxJQUFBL08sRUFBQXdKLEVBQUFsQixFQUFBLHNCQUFBMEcsSUFBQWhQLEVBQUF3SixFQUFBbEIsRUFBQSxzQkFBQTJHLElBQUFqUCxFQUFBd0osRUFBQWxCLEVBQUEsc0JBQUE0RyxJQUFBbFAsRUFBQXdKLEVBQUFsQixFQUFBLHNCQUFBNkcsSUFBQW5QLEVBQUF3SixFQUFBbEIsRUFBQSxzQkFBQThHLElBQUFwUCxFQUFBd0osRUFBQWxCLEVBQUEsc0JBQUErRyxJQUFBclAsRUFBQXdKLEVBQUFsQixFQUFBLHNCQUFBZ0gsSUFBQSxJQUFBQyxFQUFBdlAsRUFBQSxJQUFBd1AsRUFBQXhQLEVBQUEsSUFBQXlQLEVBQUF6UCxFQUFBLEdBQUEwUCxFQUFBMVAsRUFBQSxJQUFBMlAsRUFBQTNQLEVBQUEsSUFrRk9vTyxFQUFBLGtCQU9BQyxFQUFBLFVBT0FDLEVBQUEsUUFPQUMsRUFBQSxHQU9BQyxFQUFBLEVBT0FDLEVBQUEsUUFPQUMsRUFBQSxHQU9BQyxFQUFBLFVBT0FDLEVBQUEsU0FPQUMsRUFBQSxTQU9BQyxFQUFBLFVBT0FDLEVBQUEsRUFTQUMsRUFBQSxJQUFxQlUsRUFBQSxFQU1yQkUsRUFBQSxHQU1QQyxFQUFBLEtBTU9DLEVBQUEsR0FPQWIsRUFBQSxXQUNQLElBTUFjLEVBQUFDLEVBTkFDLEVBQUEsR0FDQUMsRUFBQU4sRUFDQW5LLEVBQUEsUUFDQTBLLEVBQUEsc0JBQ0FDLEVBQUFELEVBQUFFLE9BQ0FuRSxFQUFBLDJCQUdBLFNBQUFvRSxFQUFBQyxHQUlBLElBSEEsSUFBQTVLLEVBQUE2SyxJQUdBQyxFQUFBLElBQTBCQSxHQUFBLElBQWVBLEdBQUEsS0FHekMsSUFGQSxJQUFBQyxFQUFBRCxFQUFBLElBQ0FFLEdBQUEsRUFDQTFKLEVBQUEsRUFBcUJBLEVBQUFtSixJQUFTbkosRUFBQSxDQUM5QixJQUFBMkosRUFBQVQsRUFBQWxKLEdBR0EsR0FGQXRCLEVBQUE0SyxLQUFBRyxFQUFBakwsRUFBQW1MLEVBQ0FaLEVBQUFySyxFQUFBa0wsWUFBQTNFLEdBQUFyRyxNQUNBMEssR0FBQUssRUFBQSxDQUNBakwsRUFBQTRLLEtBQUFHLEVBQUFqTCxFQUFBOEssRUFBQSxJQUFBSyxFQUNBLElBQUEvSyxFQUFBRixFQUFBa0wsWUFBQTNFLEdBQUFyRyxNQUdBOEssS0FBQTlLLEdBQUFtSyxHQUdBLEdBQUFXLEVBSUEsU0FHQSxTQUdBLFNBQUFHLElBQ0EsSUFBQUMsR0FBQSxFQUNBLFFBQUFSLEtBQUFMLEVBQ0FBLEVBQUFLLEdBQUFOLElBQ0FLLEVBQUFDLElBQ0FMLEVBQUFLLEdBQUFOLEVBQ1V2TixPQUFBK00sRUFBQSxFQUFBL00sQ0FBS29OLEdBRWZELEVBQUEsS0FDQWIsRUFBQWdDLFlBRUFkLEVBQUFLLEdBQ0FRLEdBQUEsSUFJQUEsSUFDQUUsY0FBQWxCLEdBQ0FBLE9BQUFyUCxHQUlBLGdCQUFBd1EsR0FDQSxJQUFBQyxFQUF1QnpPLE9BQUE2TSxFQUFBLEVBQUE3TSxDQUFld08sR0FDdEMsR0FBQUMsRUFHQSxRQUFBbEssRUFBQSxFQUFBbUssRUFBQUQsRUFBQWQsT0FBNkNwSixFQUFBbUssSUFBUW5LLEVBQUEsQ0FDckQsSUFBQW9LLEVBQUFGLEVBQUFsSyxHQUNBb0ssS0FBQW5CLElBQ0FBLEVBQUFtQixHQUFBcEIsRUFDQUssRUFBQWUsS0FDQW5CLEVBQUFtQixHQUFBLE9BQ0EzUSxJQUFBcVAsSUFDQUEsRUFBQXVCLFlBQUFSLEVBQUEsU0F4RU8sR0FvRlAsU0FBQU4sSUFJQSxPQUhBWCxJQUNBQSxFQUFxQm5OLE9BQUE4TSxFQUFBLEVBQUE5TSxDQUFxQixNQUUxQ21OLEVBUU8sSUFDUDBCLEVBQ0FDLEVBRk90QyxHQUVQc0MsRUFBQTFCLEVBQ0EsU0FBQVMsR0FDQSxJQUFBekosRUFBQTBLLEVBQUFqQixHQWNBLE9BYkE3UCxNQUFBb0csSUFDQXlLLEtBQ0FBLEVBQUE3SSxTQUFBQyxjQUFBLFNBQ0E4SSxZQUFBLElBQ0FGLEVBQUF6TyxNQUFBNE8sT0FBQUgsRUFBQXpPLE1BQUE2TyxRQUFBLGVBQ0FKLEVBQUF6TyxNQUFBOE8sU0FBQSxzQkFDQUwsRUFBQXpPLE1BQUErTyxLQUFBLHVCQUVBTixFQUFBek8sTUFBQXlOLE9BQ0E3SCxTQUFBb0osS0FBQUMsWUFBQVIsR0FDQXpLLEVBQUEwSyxFQUFBakIsR0FBQWdCLEVBQUFTLGFBQ0F0SixTQUFBb0osS0FBQXpJLFlBQUFrSSxJQUVBekssSUFVTyxTQUFBcUksRUFBQW9CLEVBQUFyRSxHQUNQLElBQUEyRCxFQUFBVyxJQUlBLE9BSEFELEdBQUFWLEVBQUFVLE9BQ0FWLEVBQUFVLFFBRUFWLEVBQUFnQixZQUFBM0UsR0FBQXJHLE1BVU8sU0FBQXVKLEVBQUF6SixFQUFBN0UsRUFBQTZGLEVBQUFDLEdBQ1AsSUFBQTlGLElBQ0E2RSxFQUFBMEIsVUFBQVYsRUFBQUMsR0FDQWpCLEVBQUFzTSxPQUFBblIsR0FDQTZFLEVBQUEwQixXQUFBVixHQUFBQyxJQUtPLElBQUF5SSxFQUFxQjNNLE9BQUFpTixFQUFBLEVBQUFqTixHQWdCckIsU0FBQTRNLEVBQUEzSixFQUNQdU0sRUFBQXJSLEVBQUE2RixFQUFBeUwsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQXZMLEVBQUFDLEVBQUFqRyxHQUNBLElBQUF3UixFQUNBLEdBQUExUixJQUNBMFIsRUFBQTVNLEVBQUE2TSxZQUNBN00sRUFBQTZNLFlBQUFELEVBQUExUixHQUVBcVIsR0FDQXZNLEVBQUF5QixhQUFBcUwsTUFBQTlNLEVBQUF1TSxHQUdBdk0sRUFBQTJKLFVBQUE1SSxFQUFBeUwsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQXZMLEVBQUFDLEVBQUFxTCxFQUFBdFIsRUFBQXVSLEVBQUF2UixHQUVBd1IsSUFDQTVNLEVBQUE2TSxZQUFBRCxHQUVBTCxHQUNBdk0sRUFBQXlCLGFBQUFxTCxNQUFBOU0sRUFBQTBKLHFDQ3RYQXJQLEVBQUF3SixFQUFBbEIsRUFBQSxzQkFBQW9LLElBQUExUyxFQUFBd0osRUFBQWxCLEVBQUEsc0JBQUFxSyxJQUFBM1MsRUFBQXdKLEVBQUFsQixFQUFBLHNCQUFBRCxJQUFBLElBQUE2QyxFQUFBbEwsRUFBQSxHQUFBNFMsRUFBQTVTLEVBQUEsR0F1QkE2UyxFQUFBLG9EQVNBQyxFQUFBLGNBU08sU0FBQUosRUFBQTdLLEdBQ1AsdUJBQUFBLEVBQ0FBLEVBRUFRLEVBQUFSLEdBMkJPLElBZ0JQa0wsRUFLQUMsRUFyQk9DLEdBZ0JQRixFQUFBLEdBS0FDLEVBQUEsRUFFQSxTQUtBRSxHQUNBLElBQUFyTCxFQUNBLEdBQUFrTCxFQUFBSSxlQUFBRCxHQUNBckwsRUFBQWtMLEVBQUFHLE9BQ1MsQ0FDVCxHQUFBRixHQXRCQSxLQXNCQSxDQUNBLElBQUEvTCxFQUFBLEVBQ0EsUUFBQW1NLEtBQUFMLEVBQ0EsTUFBQTlMLGNBQ0E4TCxFQUFBSyxLQUNBSixHQUlBbkwsRUE4QkEsU0FBQXFMLEdBQ0EsSUFBQUcsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQTNMLEVBTUEsR0FKQWlMLEVBQUFXLEtBQUFQLEtBQ0FBLEVBOUZBLFNBQUFyTCxHQUNBLElBQUE2TCxFQUFBaEwsU0FBQUMsY0FBQSxPQUVBLEdBREErSyxFQUFBNVEsTUFBQStFLFFBQ0EsS0FBQTZMLEVBQUE1USxNQUFBK0UsTUFBQSxDQUNBYSxTQUFBb0osS0FBQUMsWUFBQTJCLEdBQ0EsSUFBQUMsRUFBQUMsaUJBQUFGLEdBQUE3TCxNQUVBLE9BREFhLFNBQUFvSixLQUFBekksWUFBQXFLLEdBQ0FDLEVBRUEsU0FxRkFFLENBQUFYLElBR0FMLEVBQUFZLEtBQUFQLEdBQUEsQ0FDQSxJQUNBMUosRUFEQXNLLEVBQUFaLEVBQUE3QyxPQUFBLEVBR0E3RyxFQURBc0ssR0FBQSxFQUNBLEVBRUEsRUFFQSxJQUFBQyxFQUFBLElBQUFELEdBQUEsSUFBQUEsRUFDQVQsRUFBQVcsU0FBQWQsRUFBQWUsT0FBQSxJQUFBekssS0FBQSxJQUNBOEosRUFBQVUsU0FBQWQsRUFBQWUsT0FBQSxJQUFBekssS0FBQSxJQUNBK0osRUFBQVMsU0FBQWQsRUFBQWUsT0FBQSxJQUFBekssS0FBQSxJQUVBZ0ssRUFEQU8sRUFDQUMsU0FBQWQsRUFBQWUsT0FBQSxJQUFBekssS0FBQSxJQUVBLElBRUEsR0FBQUEsSUFDQTZKLE1BQUEsR0FBQUEsRUFDQUMsTUFBQSxHQUFBQSxFQUNBQyxNQUFBLEdBQUFBLEVBQ0FRLElBQ0FQLE1BQUEsR0FBQUEsSUFHQTNMLEVBQUEsQ0FBQXdMLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUEsVUFDRyxHQUFBTixFQUFBM0ksUUFBQSxTQUVIMkosRUFEQXJNLEVBQUFxTCxFQUFBaUIsTUFBQSxNQUFBQyxNQUFBLEtBQUFDLElBQUFDLFNBRUcsR0FBQXBCLEVBQUEzSSxRQUFBLFVBQ0gxQyxFQUFBcUwsRUFBQWlCLE1BQUEsTUFBQUMsTUFBQSxLQUFBQyxJQUFBQyxTQUNBQyxLQUFBLEdBQ0FMLEVBQUFyTSxJQUVJbkYsT0FBQXdJLEVBQUEsRUFBQXhJLEVBQU0sTUFFVixPQUFBbUYsRUF6RUEyTSxDQUFBdEIsR0FDQUgsRUFBQUcsR0FBQXJMLElBQ0FtTCxFQUVBLE9BQUFuTCxJQWFPLFNBQUE4SyxFQUFBOUssR0FDUCxPQUFBMkUsTUFBQUMsUUFBQTVFLEdBQ0FBLEVBRUFvTCxFQUFBcEwsR0E2RE8sU0FBQXFNLEVBQUFyTSxHQUtQLE9BSkFBLEVBQUEsR0FBYW5GLE9BQUFrUSxFQUFBLEVBQUFsUSxDQUFLbUYsRUFBQSxlQUNsQkEsRUFBQSxHQUFhbkYsT0FBQWtRLEVBQUEsRUFBQWxRLENBQUttRixFQUFBLGVBQ2xCQSxFQUFBLEdBQWFuRixPQUFBa1EsRUFBQSxFQUFBbFEsQ0FBS21GLEVBQUEsZUFDbEJBLEVBQUEsR0FBYW5GLE9BQUFrUSxFQUFBLEVBQUFsUSxDQUFLbUYsRUFBQSxRQUNsQkEsRUFRTyxTQUFBUSxFQUFBUixHQUNQLElBQUF3TCxFQUFBeEwsRUFBQSxHQUNBd0wsSUFBQSxFQUFBQSxLQUNBQSxJQUFBLE1BRUEsSUFBQUMsRUFBQXpMLEVBQUEsR0FDQXlMLElBQUEsRUFBQUEsS0FDQUEsSUFBQSxNQUVBLElBQUFDLEVBQUExTCxFQUFBLEdBS0EsT0FKQTBMLElBQUEsRUFBQUEsS0FDQUEsSUFBQSxNQUdBLFFBQUFGLEVBQUEsSUFBQUMsRUFBQSxJQUFBQyxFQUFBLFVBREE3UyxJQUFBbUgsRUFBQSxLQUFBQSxFQUFBLElBQ0Esc0NDL05BN0gsRUFBQXdKLEVBQUFsQixFQUFBLHNCQUFBbU0sSUFBQXpVLEVBQUF3SixFQUFBbEIsRUFBQSxzQkFBQW9NLElBQUExVSxFQUFBd0osRUFBQWxCLEVBQUEsc0JBQUFxTSxJQUFBM1UsRUFBQXdKLEVBQUFsQixFQUFBLHNCQUFBc00sSUFBQTVVLEVBQUF3SixFQUFBbEIsRUFBQSxzQkFBQXVNLElBV08sSUF3RFAvUixFQUNBaVEsRUF6RE8wQixFQUFBLFlBa0JBQyxFQUFBLGtCQWtCQUMsRUFBQSxhQVVBQyxFQUFBLGVBU0FDLEdBRVA5QixFQUFBLEdBQ0EsU0FBQXhDLEdBSUEsR0FIQXpOLElBQ0FBLEVBQUE0RixTQUFBQyxjQUFBLE9BQUE3RixTQUVBeU4sS0FBQXdDLEdBQUEsQ0FDQWpRLEVBQUF5TixPQUNBLElBQUF1RSxFQUFBaFMsRUFBQXVPLFdBRUEsR0FEQXZPLEVBQUF5TixLQUFBLElBQ0F1RSxFQUNBLFlBRUEvQixFQUFBeEMsR0FBQXVFLEVBQUFWLE1BQUEsUUFFQSxPQUFBckIsRUFBQXhDLHNDQ2xGQXZRLEVBQUF3SixFQUFBbEIsRUFBQSxzQkFBQXlNLElBQUEsSUFBQWhWLEVBQUFDLEVBQUEsSUF3Qk8sU0FBQStVLEVBQUFsTixHQUNQLE9BQUEyRSxNQUFBQyxRQUFBNUUsR0FDV25GLE9BQUEzQyxFQUFBLEVBQUEyQyxDQUFRbUYsR0FFbkJBLG9DQzVCQSxJQUFBbU4sRUFBQWhWLEVBQUEsR0F1QkFPLEVBQUEsU0FBQUMsR0FNQUksS0FBQXFVLFNBQUF6VSxFQUFBSyxRQU1BRCxLQUFBc1UsZ0JBQUExVSxFQUFBQyxlQU1BRyxLQUFBdVUsVUFBQTNVLEVBQUFNLFNBTUFGLEtBQUF3VSxPQUFBNVUsRUFBQU8sT0FTQVIsRUFBQWtDLFVBQUFJLE1BQUEsV0FDQSxXQUFBdEMsRUFBQSxDQUNBTSxRQUFBRCxLQUFBNEMsYUFDQXpDLE1BQUFILEtBQUE4QyxXQUNBNUMsU0FBQUYsS0FBQXlDLGNBQ0E1QyxlQUFBRyxLQUFBMEMsdUJBU0EvQyxFQUFBa0MsVUFBQWUsV0FBQSxXQUNBLE9BQUE1QyxLQUFBcVUsVUFRQTFVLEVBQUFrQyxVQUFBYSxrQkFBQSxXQUNBLE9BQUExQyxLQUFBc1UsaUJBUUEzVSxFQUFBa0MsVUFBQVksWUFBQSxXQUNBLE9BQUF6QyxLQUFBdVUsV0FRQTVVLEVBQUFrQyxVQUFBaUIsU0FBQSxXQUNBLE9BQUE5QyxLQUFBd1UsUUFTQTdVLEVBQUFrQyxVQUFBNFMsZUFBQSxXQUNBLFVBU0E5VSxFQUFBa0MsVUFBQWtCLFVBQUEsV0FDQSxPQUFTakIsT0FBQXNTLEVBQUEsRUFBQXRTLElBU1RuQyxFQUFBa0MsVUFBQXFCLFNBQUEsU0FBQUQsR0FDQSxPQUFTbkIsT0FBQXNTLEVBQUEsRUFBQXRTLElBUVRuQyxFQUFBa0MsVUFBQW1CLHFCQUFBLFNBQUFDLEdBQ0EsT0FBU25CLE9BQUFzUyxFQUFBLEVBQUF0UyxJQU9UbkMsRUFBQWtDLFVBQUF3QixjQUFBLFdBQ0EsT0FBU3ZCLE9BQUFzUyxFQUFBLEVBQUF0UyxJQU9UbkMsRUFBQWtDLFVBQUFzQixhQUFBLFdBQ0EsT0FBU3JCLE9BQUFzUyxFQUFBLEVBQUF0UyxJQU9UbkMsRUFBQWtDLFVBQUF1Qix5QkFBQSxXQUNBLE9BQVN0QixPQUFBc1MsRUFBQSxFQUFBdFMsSUFRVG5DLEVBQUFrQyxVQUFBMEIsVUFBQSxXQUNBLE9BQVN6QixPQUFBc1MsRUFBQSxFQUFBdFMsSUFRVG5DLEVBQUFrQyxVQUFBMkIsUUFBQSxXQUNBLE9BQVMxQixPQUFBc1MsRUFBQSxFQUFBdFMsSUFTVG5DLEVBQUFrQyxVQUFBYyxXQUFBLFNBQUExQyxHQUNBRCxLQUFBcVUsU0FBQXBVLEdBU0FOLEVBQUFrQyxVQUFBNlMsa0JBQUEsU0FBQTdVLEdBQ0FHLEtBQUFzVSxnQkFBQXpVLEdBU0FGLEVBQUFrQyxVQUFBOFMsWUFBQSxTQUFBelUsR0FDQUYsS0FBQXVVLFVBQUFyVSxHQVFBUCxFQUFBa0MsVUFBQWdCLFNBQUEsU0FBQTFDLEdBQ0FILEtBQUF3VSxPQUFBclUsR0FTQVIsRUFBQWtDLFVBQUErUyxlQUFBLFNBQUFDLEtBU0FsVixFQUFBa0MsVUFBQTRCLGtCQUFBLFNBQUFDLEVBQUFDLEdBQ0EsT0FBUzdCLE9BQUFzUyxFQUFBLEVBQUF0UyxJQU9UbkMsRUFBQWtDLFVBQUErQixLQUFBLFdBQ0U5QixPQUFBc1MsRUFBQSxFQUFBdFMsSUFTRm5DLEVBQUFrQyxVQUFBZ0Msb0JBQUEsU0FBQUgsRUFBQUMsR0FDRTdCLE9BQUFzUyxFQUFBLEVBQUF0UyxJQUdhNEYsRUFBQSxxQ0NsUWYsSUFBQTBNLEVBQUFoVixFQUFBLEdBQUEwVixFQUFBMVYsRUFBQSxJQW9CQTJWLEVBQUEsU0FBQW5LLEdBRUEsSUFBQWhMLEVBQUFnTCxHQUFBLEdBTUE1SyxLQUFBZ1YsWUFBQWxWLElBQUFGLEVBQUFxSCxNQUFBckgsRUFBQXFILE1BQUEsS0FNQWpILEtBQUFpVixlQUFBblYsR0FRQWlWLEVBQUFsVCxVQUFBSSxNQUFBLFdBQ0EsSUFBQWdGLEVBQUFqSCxLQUFBc0UsV0FDQSxXQUFBeVEsRUFBQSxDQUNBOU4sTUFBQTJFLE1BQUFDLFFBQUE1RSxLQUFBc00sUUFBQXRNLFFBQUFuSCxLQVNBaVYsRUFBQWxULFVBQUF5QyxTQUFBLFdBQ0EsT0FBQXRFLEtBQUFnVixRQVNBRCxFQUFBbFQsVUFBQXFULFNBQUEsU0FBQWpPLEdBQ0FqSCxLQUFBZ1YsT0FBQS9OLEVBQ0FqSCxLQUFBaVYsZUFBQW5WLEdBTUFpVixFQUFBbFQsVUFBQThELFlBQUEsV0FDQSxRQUFBN0YsSUFBQUUsS0FBQWlWLFVBQUEsQ0FDQSxJQUFBaE8sRUFBQWpILEtBQUFnVixPQUNBL04sRUFDQTJFLE1BQUFDLFFBQUE1RSxJQUFBLGlCQUFBQSxFQUNBakgsS0FBQWlWLFVBQUEsSUFBK0JuVCxPQUFBZ1QsRUFBQSxFQUFBaFQsQ0FBdUQsR0FFdEY5QixLQUFBaVYsVUFBeUJuVCxPQUFBc1MsRUFBQSxFQUFBdFMsQ0FBTTlCLEtBQUFnVixRQUcvQmhWLEtBQUFpVixVQUFBLEtBSUEsT0FBQWpWLEtBQUFpVixXQUdldk4sRUFBQSxxQ0N6RmYsSUFBQTRDLEVBQUFsTCxFQUFBLEdBQUErVixFQUFBL1YsRUFBQSxJQUFBZ1csRUFBQWhXLEVBQUEsR0EyQkFpVyxFQUFBLFNBQUFDLEdBQ0EsU0FBQUQsRUFBQUUsR0FFQUQsRUFBQXZWLEtBQUFDLE1BS0FBLEtBQUF3VixtQkFBQTFWLElBQUF5VixJQUFBLEtBTUF2VixLQUFBeVYsT0FBQSxFQU1BelYsS0FBQTBWLFNBQUEsR0FNQTFWLEtBQUEyVixRQUFBLEtBTUEzVixLQUFBNFYsUUFBQSxLQWdQQSxPQTVPQU4sSUFBQUQsRUFBQXpULFVBQUEwVCxHQUNBRCxFQUFBeFQsVUFBQUMsT0FBQUMsT0FBQXVULEtBQUF6VCxXQUNBd1QsRUFBQXhULFVBQUFHLFlBQUFxVCxFQU1BQSxFQUFBeFQsVUFBQWdVLGVBQUEsV0FDQSxPQUFBN1YsS0FBQThWLFdBQUE5VixLQUFBd1YsZUFPQUgsRUFBQXhULFVBQUF1TyxNQUFBLFdBQ0FwUSxLQUFBeVYsT0FBQSxFQUNBelYsS0FBQTBWLFNBQUEsR0FDQTFWLEtBQUEyVixRQUFBLEtBQ0EzVixLQUFBNFYsUUFBQSxLQUNBNVYsS0FBQStWLGNBQXVCWCxFQUFBLEVBQVNZLFFBUWhDWCxFQUFBeFQsVUFBQW9VLFlBQUEsU0FBQXpELEdBQ0EsT0FBQXhTLEtBQUEwVixTQUFBbkQsZUFBQUMsSUFZQTZDLEVBQUF4VCxVQUFBcVUsUUFBQSxTQUFBQyxFQUFBQyxHQUVBLElBREEsSUFBQUMsRUFBQXJXLEtBQUEyVixRQUNBVSxHQUNBRixFQUFBcFcsS0FBQXFXLEVBQUFDLEVBQUFDLE9BQUFELEVBQUFFLEtBQUF2VyxNQUNBcVcsSUFBQUcsT0FTQW5CLEVBQUF4VCxVQUFBNEssSUFBQSxTQUFBK0YsR0FDQSxJQUFBNkQsRUFBQXJXLEtBQUEwVixTQUFBbEQsR0FHQSxPQUZJMVEsT0FBQXdJLEVBQUEsRUFBQXhJLE1BQU1oQyxJQUFBdVcsRUFDVixJQUNBQSxJQUFBclcsS0FBQTRWLFFBQ0FTLEVBQUFDLFFBQ0tELElBQUFyVyxLQUFBMlYsU0FDTDNWLEtBQUEyVixRQUFzQzNWLEtBQUEyVixRQUFBLE1BQ3RDM1YsS0FBQTJWLFFBQUFjLE1BQUEsT0FFQUosRUFBQUcsTUFBQUMsTUFBQUosRUFBQUksTUFDQUosRUFBQUksTUFBQUQsTUFBQUgsRUFBQUcsT0FFQUgsRUFBQUcsTUFBQSxLQUNBSCxFQUFBSSxNQUFBelcsS0FBQTRWLFFBQ0E1VixLQUFBNFYsUUFBQVksTUFBQUgsRUFDQXJXLEtBQUE0VixRQUFBUyxFQUNBQSxFQUFBQyxTQVNBakIsRUFBQXhULFVBQUE2VSxPQUFBLFNBQUFsRSxHQUNBLElBQUE2RCxFQUFBclcsS0FBQTBWLFNBQUFsRCxHQWtCQSxPQWpCSTFRLE9BQUF3SSxFQUFBLEVBQUF4SSxNQUFNaEMsSUFBQXVXLEVBQUEsSUFDVkEsSUFBQXJXLEtBQUE0VixTQUNBNVYsS0FBQTRWLFFBQXNDUyxFQUFBLE1BQ3RDclcsS0FBQTRWLFVBQ0E1VixLQUFBNFYsUUFBQVksTUFBQSxPQUVLSCxJQUFBclcsS0FBQTJWLFNBQ0wzVixLQUFBMlYsUUFBc0NVLEVBQUEsTUFDdENyVyxLQUFBMlYsVUFDQTNWLEtBQUEyVixRQUFBYyxNQUFBLFFBR0FKLEVBQUFHLE1BQUFDLE1BQUFKLEVBQUFJLE1BQ0FKLEVBQUFJLE1BQUFELE1BQUFILEVBQUFHLGNBRUF4VyxLQUFBMFYsU0FBQWxELEtBQ0F4UyxLQUFBeVYsT0FDQVksRUFBQUMsUUFPQWpCLEVBQUF4VCxVQUFBaVUsU0FBQSxXQUNBLE9BQUE5VixLQUFBeVYsUUFPQUosRUFBQXhULFVBQUE4VSxRQUFBLFdBQ0EsSUFFQU4sRUFGQU8sRUFBQSxJQUFBaEwsTUFBQTVMLEtBQUF5VixRQUNBcFAsRUFBQSxFQUVBLElBQUFnUSxFQUFBclcsS0FBQTRWLFFBQThCUyxFQUFPQSxJQUFBSSxNQUNyQ0csRUFBQXZRLEtBQUFnUSxFQUFBRSxLQUVBLE9BQUFLLEdBT0F2QixFQUFBeFQsVUFBQWdWLFVBQUEsV0FDQSxJQUVBUixFQUZBUyxFQUFBLElBQUFsTCxNQUFBNUwsS0FBQXlWLFFBQ0FwUCxFQUFBLEVBRUEsSUFBQWdRLEVBQUFyVyxLQUFBNFYsUUFBOEJTLEVBQU9BLElBQUFJLE1BQ3JDSyxFQUFBelEsS0FBQWdRLEVBQUFDLE9BRUEsT0FBQVEsR0FPQXpCLEVBQUF4VCxVQUFBa1YsU0FBQSxXQUNBLE9BQUEvVyxLQUFBMlYsUUFBQVcsUUFPQWpCLEVBQUF4VCxVQUFBbVYsWUFBQSxXQUNBLE9BQUFoWCxLQUFBMlYsUUFBQVksTUFRQWxCLEVBQUF4VCxVQUFBb1YsYUFBQSxXQUNBLE9BQUFqWCxLQUFBNFYsUUFBQVcsTUFPQWxCLEVBQUF4VCxVQUFBcVYsSUFBQSxXQUNBLElBQUFiLEVBQUFyVyxLQUFBMlYsUUFVQSxjQVRBM1YsS0FBQTBWLFNBQUFXLEVBQUFFLE1BQ0FGLEVBQUFHLFFBQ0FILEVBQUFHLE1BQUFDLE1BQUEsTUFFQXpXLEtBQUEyVixRQUFvQ1UsRUFBQSxNQUNwQ3JXLEtBQUEyVixVQUNBM1YsS0FBQTRWLFFBQUEsUUFFQTVWLEtBQUF5VixPQUNBWSxFQUFBQyxRQVFBakIsRUFBQXhULFVBQUFzVixRQUFBLFNBQUEzRSxFQUFBNEUsR0FDQXBYLEtBQUF5TSxJQUFBK0YsR0FDQXhTLEtBQUEwVixTQUFBbEQsR0FBQThELE9BQUFjLEdBUUEvQixFQUFBeFQsVUFBQXdWLElBQUEsU0FBQTdFLEVBQUE0RSxHQUNJdFYsT0FBQXdJLEVBQUEsRUFBQXhJLEdBQU0wUSxLQUFBeFMsS0FBQTBWLFVBQ1YsSUFDQSxJQUFBVyxFQUFpQyxDQUNqQ0UsS0FBQS9ELEVBQ0FnRSxNQUFBLEtBQ0FDLE1BQUF6VyxLQUFBNFYsUUFDQVUsT0FBQWMsR0FFQXBYLEtBQUE0VixRQUdBNVYsS0FBQTRWLFFBQUFZLE1BQUFILEVBRkFyVyxLQUFBMlYsUUFBQVUsRUFJQXJXLEtBQUE0VixRQUFBUyxFQUNBclcsS0FBQTBWLFNBQUFsRCxHQUFBNkQsSUFDQXJXLEtBQUF5VixRQVNBSixFQUFBeFQsVUFBQXlWLFFBQUEsU0FBQXpTLEdBQ0E3RSxLQUFBd1YsY0FBQTNRLEdBT0F3USxFQUFBeFQsVUFBQTBWLE1BQUEsV0FDQSxLQUFBdlgsS0FBQTZWLGtCQUNBN1YsS0FBQWtYLE9BSUE3QixFQWhSQSxDQWlSRUYsRUFBQSxHQUVhek4sRUFBQSxxQ0M5U2YsSUFBQTBNLEVBQUFoVixFQUFBLEdBOEJBb1ksRUFBQSxTQUFBNU0sR0FFQSxJQUFBaEwsRUFBQWdMLEdBQUEsR0FNQTVLLEtBQUFnVixZQUFBbFYsSUFBQUYsRUFBQXFILE1BQUFySCxFQUFBcUgsTUFBQSxLQU1BakgsS0FBQXlYLFNBQUE3WCxFQUFBb0UsUUFNQWhFLEtBQUEwWCxlQUFBNVgsSUFBQUYsRUFBQXVFLFNBQUF2RSxFQUFBdUUsU0FBQSxLQU1BbkUsS0FBQTJYLGdCQUFBL1gsRUFBQXdFLGVBTUFwRSxLQUFBNFgsVUFBQWhZLEVBQUFxRSxTQU1BakUsS0FBQTZYLFlBQUFqWSxFQUFBc0UsV0FNQWxFLEtBQUE4WCxPQUFBbFksRUFBQXFGLE1BTUFqRixLQUFBaVYsZUFBQW5WLEdBUUEwWCxFQUFBM1YsVUFBQUksTUFBQSxXQUNBLElBQUFnRixFQUFBakgsS0FBQXNFLFdBQ0EsV0FBQWtULEVBQUEsQ0FDQXZRLE1BQUEyRSxNQUFBQyxRQUFBNUUsS0FBQXNNLFFBQUF0TSxRQUFBbkgsRUFDQWtFLFFBQUFoRSxLQUFBMkUsYUFDQVIsU0FBQW5FLEtBQUF3RSxjQUFBeEUsS0FBQXdFLGNBQUErTyxhQUFBelQsRUFDQXNFLGVBQUFwRSxLQUFBeUUsb0JBQ0FSLFNBQUFqRSxLQUFBMEUsY0FDQVIsV0FBQWxFLEtBQUE0RSxnQkFDQUssTUFBQWpGLEtBQUF1RSxjQVNBaVQsRUFBQTNWLFVBQUF5QyxTQUFBLFdBQ0EsT0FBQXRFLEtBQUFnVixRQVFBd0MsRUFBQTNWLFVBQUE4QyxXQUFBLFdBQ0EsT0FBQTNFLEtBQUF5WCxVQVFBRCxFQUFBM1YsVUFBQTJDLFlBQUEsV0FDQSxPQUFBeEUsS0FBQTBYLFdBUUFGLEVBQUEzVixVQUFBNEMsa0JBQUEsV0FDQSxPQUFBekUsS0FBQTJYLGlCQVFBSCxFQUFBM1YsVUFBQTZDLFlBQUEsV0FDQSxPQUFBMUUsS0FBQTRYLFdBUUFKLEVBQUEzVixVQUFBK0MsY0FBQSxXQUNBLE9BQUE1RSxLQUFBNlgsYUFRQUwsRUFBQTNWLFVBQUEwQyxTQUFBLFdBQ0EsT0FBQXZFLEtBQUE4WCxRQVNBTixFQUFBM1YsVUFBQXFULFNBQUEsU0FBQWpPLEdBQ0FqSCxLQUFBZ1YsT0FBQS9OLEVBQ0FqSCxLQUFBaVYsZUFBQW5WLEdBU0EwWCxFQUFBM1YsVUFBQWtXLFdBQUEsU0FBQS9ULEdBQ0FoRSxLQUFBeVgsU0FBQXpULEVBQ0FoRSxLQUFBaVYsZUFBQW5WLEdBZUEwWCxFQUFBM1YsVUFBQXVGLFlBQUEsU0FBQWpELEdBQ0FuRSxLQUFBMFgsVUFBQXZULEVBQ0FuRSxLQUFBaVYsZUFBQW5WLEdBU0EwWCxFQUFBM1YsVUFBQW1XLGtCQUFBLFNBQUE1VCxHQUNBcEUsS0FBQTJYLGdCQUFBdlQsRUFDQXBFLEtBQUFpVixlQUFBblYsR0FTQTBYLEVBQUEzVixVQUFBb1csWUFBQSxTQUFBaFUsR0FDQWpFLEtBQUE0WCxVQUFBM1QsRUFDQWpFLEtBQUFpVixlQUFBblYsR0FTQTBYLEVBQUEzVixVQUFBcVcsY0FBQSxTQUFBaFUsR0FDQWxFLEtBQUE2WCxZQUFBM1QsRUFDQWxFLEtBQUFpVixlQUFBblYsR0FTQTBYLEVBQUEzVixVQUFBc1csU0FBQSxTQUFBbFQsR0FDQWpGLEtBQUE4WCxPQUFBN1MsRUFDQWpGLEtBQUFpVixlQUFBblYsR0FNQTBYLEVBQUEzVixVQUFBOEQsWUFBQSxXQTJCQSxZQTFCQTdGLElBQUFFLEtBQUFpVixZQUNBalYsS0FBQWlWLFVBQUEsSUFDQWpWLEtBQUFnVixPQUNBLGlCQUFBaFYsS0FBQWdWLE9BQ0FoVixLQUFBaVYsV0FBQWpWLEtBQUFnVixPQUVBaFYsS0FBQWlWLFdBQTBCblQsT0FBQXNTLEVBQUEsRUFBQXRTLENBQU05QixLQUFBZ1YsUUFHaENoVixLQUFBaVYsV0FBQSxJQUVBalYsS0FBQWlWLFdBQUEsVUFDQW5WLElBQUFFLEtBQUF5WCxTQUNBelgsS0FBQXlYLFNBQUFoUSxXQUFBLFVBQ0F6SCxLQUFBMFgsVUFDQTFYLEtBQUEwWCxVQUFBalEsV0FBQSxlQUNBM0gsSUFBQUUsS0FBQTJYLGdCQUNBM1gsS0FBQTJYLGdCQUFBLGVBQ0E3WCxJQUFBRSxLQUFBNFgsVUFDQTVYLEtBQUE0WCxVQUFBLGVBQ0E5WCxJQUFBRSxLQUFBNlgsWUFDQTdYLEtBQUE2WCxZQUFBcFEsV0FBQSxlQUNBM0gsSUFBQUUsS0FBQThYLE9BQ0E5WCxLQUFBOFgsT0FBQXJRLFdBQUEsTUFHQXpILEtBQUFpVixXQUdldk4sRUFBQSxxQ0N4UmYsSUF1QkEwUSxFQUFBLFNBQUExWSxHQUNBLFNBQUEwWSxFQUFBeE4sR0FFQSxJQUFBaEwsRUFBQWdMLEdBQW9ELEdBRXBEbEwsRUFBQUssS0FBQUMsS0FBQSxDQUNBVyxPQUFBZ0csSUFDQW5HLEtBQUFaLEVBQUFZLEtBQ0FLLE9BQUFqQixFQUFBaUIsT0FDQU8sT0FBQXhCLEVBQUF3QixPQUNBTSxhQUFBOUIsRUFBQThCLGVBc0NBLE9BakNBaEMsSUFBQTBZLEVBQUF4VyxVQUFBbEMsR0FDQTBZLEVBQUF2VyxVQUFBQyxPQUFBQyxPQUFBckMsS0FBQW1DLFdBQ0F1VyxFQUFBdlcsVUFBQUcsWUFBQW9XLEVBUUFBLEVBQUF2VyxVQUFBSSxNQUFBLFdBQ0EsSUFBQUMsRUFBQSxJQUFBa1csRUFBQSxDQUNBNVgsS0FBQVIsS0FBQW1DLFVBQUFuQyxLQUFBbUMsVUFBQUYsYUFBQW5DLEVBQ0FzQixPQUFBcEIsS0FBQXdDLFlBQUF4QyxLQUFBd0MsWUFBQVAsYUFBQW5DLEVBQ0FlLE9BQUFiLEtBQUFxQyxZQUNBWCxhQUFBMUIsS0FBQXlCLGdCQUlBLE9BRkFTLEVBQUFTLFdBQUEzQyxLQUFBNEMsY0FDQVYsRUFBQVcsU0FBQTdDLEtBQUE4QyxZQUNBWixHQVNBa1csRUFBQXZXLFVBQUF3VyxVQUFBLFNBQUF4WCxHQUNBYixLQUFBWSxRQUFBQyxFQUNBYixLQUFBMkIsUUFBQTNCLEtBQUF5QixnQkFHQTJXLEVBaERBLENBdkJBaFosRUFBQSxLQXdFRSxHQUdhc0ksRUFBQSIsImZpbGUiOiJ2ZW5kb3Jzfm9sL01hcH5vbC9pbnRlcmFjdGlvbn5vbC9sYXllcn5vbC9zdHlsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9SZWd1bGFyU2hhcGVcbiAqL1xuXG5pbXBvcnQge2FzU3RyaW5nfSBmcm9tICcuLi9jb2xvci5qcyc7XG5pbXBvcnQge2FzQ29sb3JMaWtlfSBmcm9tICcuLi9jb2xvcmxpa2UuanMnO1xuaW1wb3J0IHtjcmVhdGVDYW52YXNDb250ZXh0MkR9IGZyb20gJy4uL2RvbS5qcyc7XG5pbXBvcnQge0NBTlZBU19MSU5FX0RBU0h9IGZyb20gJy4uL2hhcy5qcyc7XG5pbXBvcnQgSW1hZ2VTdGF0ZSBmcm9tICcuLi9JbWFnZVN0YXRlLmpzJztcbmltcG9ydCB7ZGVmYXVsdFN0cm9rZVN0eWxlLCBkZWZhdWx0RmlsbFN0eWxlLCBkZWZhdWx0TGluZUNhcCwgZGVmYXVsdExpbmVXaWR0aCwgZGVmYXVsdExpbmVKb2luLCBkZWZhdWx0TWl0ZXJMaW1pdH0gZnJvbSAnLi4vcmVuZGVyL2NhbnZhcy5qcyc7XG5pbXBvcnQgSW1hZ2VTdHlsZSBmcm9tICcuL0ltYWdlLmpzJztcblxuXG4vKipcbiAqIFNwZWNpZnkgcmFkaXVzIGZvciByZWd1bGFyIHBvbHlnb25zLCBvciByYWRpdXMxIGFuZCByYWRpdXMyIGZvciBzdGFycy5cbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9IFtmaWxsXSBGaWxsIHN0eWxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHBvaW50cyBOdW1iZXIgb2YgcG9pbnRzIGZvciBzdGFycyBhbmQgcmVndWxhciBwb2x5Z29ucy4gSW4gY2FzZSBvZiBhIHBvbHlnb24sIHRoZSBudW1iZXIgb2YgcG9pbnRzXG4gKiBpcyB0aGUgbnVtYmVyIG9mIHNpZGVzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyYWRpdXNdIFJhZGl1cyBvZiBhIHJlZ3VsYXIgcG9seWdvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmFkaXVzMV0gT3V0ZXIgcmFkaXVzIG9mIGEgc3Rhci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmFkaXVzMl0gSW5uZXIgcmFkaXVzIG9mIGEgc3Rhci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbYW5nbGU9MF0gU2hhcGUncyBhbmdsZSBpbiByYWRpYW5zLiBBIHZhbHVlIG9mIDAgd2lsbCBoYXZlIG9uZSBvZiB0aGUgc2hhcGUncyBwb2ludCBmYWNpbmcgdXAuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFtzdHJva2VdIFN0cm9rZSBzdHlsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcm90YXRpb249MF0gUm90YXRpb24gaW4gcmFkaWFucyAocG9zaXRpdmUgcm90YXRpb24gY2xvY2t3aXNlKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3JvdGF0ZVdpdGhWaWV3PWZhbHNlXSBXaGV0aGVyIHRvIHJvdGF0ZSB0aGUgc2hhcGUgd2l0aCB0aGUgdmlldy5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9BdGxhc01hbmFnZXIuanNcIikuZGVmYXVsdH0gW2F0bGFzTWFuYWdlcl0gVGhlIGF0bGFzIG1hbmFnZXIgdG8gdXNlIGZvciB0aGlzIHN5bWJvbC4gV2hlblxuICogdXNpbmcgV2ViR0wgaXQgaXMgcmVjb21tZW5kZWQgdG8gdXNlIGFuIGF0bGFzIG1hbmFnZXIgdG8gYXZvaWQgdGV4dHVyZSBzd2l0Y2hpbmcuIElmIGFuIGF0bGFzIG1hbmFnZXIgaXMgZ2l2ZW4sIHRoZVxuICogc3ltYm9sIGlzIGFkZGVkIHRvIGFuIGF0bGFzLiBCeSBkZWZhdWx0IG5vIGF0bGFzIG1hbmFnZXIgaXMgdXNlZC5cbiAqL1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUmVuZGVyT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbc3Ryb2tlU3R5bGVdXG4gKiBAcHJvcGVydHkge251bWJlcn0gc3Ryb2tlV2lkdGhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzaXplXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbGluZUNhcFxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBsaW5lRGFzaFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGxpbmVEYXNoT2Zmc2V0XG4gKiBAcHJvcGVydHkge3N0cmluZ30gbGluZUpvaW5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaXRlckxpbWl0XG4gKi9cblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFNldCByZWd1bGFyIHNoYXBlIHN0eWxlIGZvciB2ZWN0b3IgZmVhdHVyZXMuIFRoZSByZXN1bHRpbmcgc2hhcGUgd2lsbCBiZVxuICogYSByZWd1bGFyIHBvbHlnb24gd2hlbiBgcmFkaXVzYCBpcyBwcm92aWRlZCwgb3IgYSBzdGFyIHdoZW4gYHJhZGl1czFgIGFuZFxuICogYHJhZGl1czJgIGFyZSBwcm92aWRlZC5cbiAqIEBhcGlcbiAqL1xudmFyIFJlZ3VsYXJTaGFwZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEltYWdlU3R5bGUpIHtcbiAgZnVuY3Rpb24gUmVndWxhclNoYXBlKG9wdGlvbnMpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB2YXIgcm90YXRlV2l0aFZpZXcgPSBvcHRpb25zLnJvdGF0ZVdpdGhWaWV3ICE9PSB1bmRlZmluZWQgP1xuICAgICAgb3B0aW9ucy5yb3RhdGVXaXRoVmlldyA6IGZhbHNlO1xuXG4gICAgSW1hZ2VTdHlsZS5jYWxsKHRoaXMsIHtcbiAgICAgIG9wYWNpdHk6IDEsXG4gICAgICByb3RhdGVXaXRoVmlldzogcm90YXRlV2l0aFZpZXcsXG4gICAgICByb3RhdGlvbjogb3B0aW9ucy5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yb3RhdGlvbiA6IDAsXG4gICAgICBzY2FsZTogMVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nfG51bWJlcj59XG4gICAgICovXG4gICAgdGhpcy5jaGVja3N1bXNfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMuY2FudmFzXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmhpdERldGVjdGlvbkNhbnZhc18gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5maWxsXyA9IG9wdGlvbnMuZmlsbCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5maWxsIDogbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICovXG4gICAgdGhpcy5vcmlnaW5fID0gWzAsIDBdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucG9pbnRzXyA9IG9wdGlvbnMucG9pbnRzO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yYWRpdXNfID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChvcHRpb25zLnJhZGl1cyAhPT0gdW5kZWZpbmVkID9cbiAgICAgIG9wdGlvbnMucmFkaXVzIDogb3B0aW9ucy5yYWRpdXMxKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5yYWRpdXMyXyA9IG9wdGlvbnMucmFkaXVzMjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmFuZ2xlXyA9IG9wdGlvbnMuYW5nbGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYW5nbGUgOiAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLnN0cm9rZV8gPSBvcHRpb25zLnN0cm9rZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zdHJva2UgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLmFuY2hvcl8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAqL1xuICAgIHRoaXMuc2l6ZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VTaXplXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICovXG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbWFnZVNpemVfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9BdGxhc01hbmFnZXIuanNcIikuZGVmYXVsdHx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5hdGxhc01hbmFnZXJfID0gb3B0aW9ucy5hdGxhc01hbmFnZXI7XG5cbiAgICB0aGlzLnJlbmRlcl8odGhpcy5hdGxhc01hbmFnZXJfKTtcblxuICB9XG5cbiAgaWYgKCBJbWFnZVN0eWxlICkgUmVndWxhclNoYXBlLl9fcHJvdG9fXyA9IEltYWdlU3R5bGU7XG4gIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBJbWFnZVN0eWxlICYmIEltYWdlU3R5bGUucHJvdG90eXBlICk7XG4gIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBSZWd1bGFyU2hhcGU7XG5cbiAgLyoqXG4gICAqIENsb25lcyB0aGUgc3R5bGUuIElmIGFuIGF0bGFzbWFuYWdlciB3YXMgcHJvdmlkZWQgdG8gdGhlIG9yaWdpbmFsIHN0eWxlIGl0IHdpbGwgYmUgdXNlZCBpbiB0aGUgY2xvbmVkIHN0eWxlLCB0b28uXG4gICAqIEByZXR1cm4ge1JlZ3VsYXJTaGFwZX0gVGhlIGNsb25lZCBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgUmVndWxhclNoYXBlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lICgpIHtcbiAgICB2YXIgc3R5bGUgPSBuZXcgUmVndWxhclNoYXBlKHtcbiAgICAgIGZpbGw6IHRoaXMuZ2V0RmlsbCgpID8gdGhpcy5nZXRGaWxsKCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgIHBvaW50czogdGhpcy5nZXRQb2ludHMoKSxcbiAgICAgIHJhZGl1czogdGhpcy5nZXRSYWRpdXMoKSxcbiAgICAgIHJhZGl1czI6IHRoaXMuZ2V0UmFkaXVzMigpLFxuICAgICAgYW5nbGU6IHRoaXMuZ2V0QW5nbGUoKSxcbiAgICAgIHN0cm9rZTogdGhpcy5nZXRTdHJva2UoKSA/IHRoaXMuZ2V0U3Ryb2tlKCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgIHJvdGF0aW9uOiB0aGlzLmdldFJvdGF0aW9uKCksXG4gICAgICByb3RhdGVXaXRoVmlldzogdGhpcy5nZXRSb3RhdGVXaXRoVmlldygpLFxuICAgICAgYXRsYXNNYW5hZ2VyOiB0aGlzLmF0bGFzTWFuYWdlcl9cbiAgICB9KTtcbiAgICBzdHlsZS5zZXRPcGFjaXR5KHRoaXMuZ2V0T3BhY2l0eSgpKTtcbiAgICBzdHlsZS5zZXRTY2FsZSh0aGlzLmdldFNjYWxlKCkpO1xuICAgIHJldHVybiBzdHlsZTtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICogQGFwaVxuICAgKi9cbiAgUmVndWxhclNoYXBlLnByb3RvdHlwZS5nZXRBbmNob3IgPSBmdW5jdGlvbiBnZXRBbmNob3IgKCkge1xuICAgIHJldHVybiB0aGlzLmFuY2hvcl87XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYW5nbGUgdXNlZCBpbiBnZW5lcmF0aW5nIHRoZSBzaGFwZS5cbiAgICogQHJldHVybiB7bnVtYmVyfSBTaGFwZSdzIHJvdGF0aW9uIGluIHJhZGlhbnMuXG4gICAqIEBhcGlcbiAgICovXG4gIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZ2V0QW5nbGUgPSBmdW5jdGlvbiBnZXRBbmdsZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYW5nbGVfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGZpbGwgc3R5bGUgZm9yIHRoZSBzaGFwZS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9IEZpbGwgc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZ2V0RmlsbCA9IGZ1bmN0aW9uIGdldEZpbGwgKCkge1xuICAgIHJldHVybiB0aGlzLmZpbGxfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgUmVndWxhclNoYXBlLnByb3RvdHlwZS5nZXRIaXREZXRlY3Rpb25JbWFnZSA9IGZ1bmN0aW9uIGdldEhpdERldGVjdGlvbkltYWdlIChwaXhlbFJhdGlvKSB7XG4gICAgcmV0dXJuIHRoaXMuaGl0RGV0ZWN0aW9uQ2FudmFzXztcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICogQGFwaVxuICAgKi9cbiAgUmVndWxhclNoYXBlLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uIGdldEltYWdlIChwaXhlbFJhdGlvKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FudmFzXztcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZ2V0SW1hZ2VTaXplID0gZnVuY3Rpb24gZ2V0SW1hZ2VTaXplICgpIHtcbiAgICByZXR1cm4gdGhpcy5pbWFnZVNpemVfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgUmVndWxhclNoYXBlLnByb3RvdHlwZS5nZXRIaXREZXRlY3Rpb25JbWFnZVNpemUgPSBmdW5jdGlvbiBnZXRIaXREZXRlY3Rpb25JbWFnZVNpemUgKCkge1xuICAgIHJldHVybiB0aGlzLmhpdERldGVjdGlvbkltYWdlU2l6ZV87XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmdldEltYWdlU3RhdGUgPSBmdW5jdGlvbiBnZXRJbWFnZVN0YXRlICgpIHtcbiAgICByZXR1cm4gSW1hZ2VTdGF0ZS5MT0FERUQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqIEBhcGlcbiAgICovXG4gIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZ2V0T3JpZ2luID0gZnVuY3Rpb24gZ2V0T3JpZ2luICgpIHtcbiAgICByZXR1cm4gdGhpcy5vcmlnaW5fO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG51bWJlciBvZiBwb2ludHMgZm9yIGdlbmVyYXRpbmcgdGhlIHNoYXBlLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IE51bWJlciBvZiBwb2ludHMgZm9yIHN0YXJzIGFuZCByZWd1bGFyIHBvbHlnb25zLlxuICAgKiBAYXBpXG4gICAqL1xuICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmdldFBvaW50cyA9IGZ1bmN0aW9uIGdldFBvaW50cyAoKSB7XG4gICAgcmV0dXJuIHRoaXMucG9pbnRzXztcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSAocHJpbWFyeSkgcmFkaXVzIGZvciB0aGUgc2hhcGUuXG4gICAqIEByZXR1cm4ge251bWJlcn0gUmFkaXVzLlxuICAgKiBAYXBpXG4gICAqL1xuICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmdldFJhZGl1cyA9IGZ1bmN0aW9uIGdldFJhZGl1cyAoKSB7XG4gICAgcmV0dXJuIHRoaXMucmFkaXVzXztcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSBzZWNvbmRhcnkgcmFkaXVzIGZvciB0aGUgc2hhcGUuXG4gICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJhZGl1czIuXG4gICAqIEBhcGlcbiAgICovXG4gIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZ2V0UmFkaXVzMiA9IGZ1bmN0aW9uIGdldFJhZGl1czIgKCkge1xuICAgIHJldHVybiB0aGlzLnJhZGl1czJfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKiBAYXBpXG4gICAqL1xuICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiBnZXRTaXplICgpIHtcbiAgICByZXR1cm4gdGhpcy5zaXplXztcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSBzdHJva2Ugc3R5bGUgZm9yIHRoZSBzaGFwZS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH0gU3Ryb2tlIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmdldFN0cm9rZSA9IGZ1bmN0aW9uIGdldFN0cm9rZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3Ryb2tlXztcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUubGlzdGVuSW1hZ2VDaGFuZ2UgPSBmdW5jdGlvbiBsaXN0ZW5JbWFnZUNoYW5nZSAobGlzdGVuZXIsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgUmVndWxhclNoYXBlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gbG9hZCAoKSB7fTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUudW5saXN0ZW5JbWFnZUNoYW5nZSA9IGZ1bmN0aW9uIHVubGlzdGVuSW1hZ2VDaGFuZ2UgKGxpc3RlbmVyLCB0aGlzQXJnKSB7fTtcblxuICAvKipcbiAgICogQHByb3RlY3RlZFxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vQXRsYXNNYW5hZ2VyLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfSBhdGxhc01hbmFnZXIgQW4gYXRsYXMgbWFuYWdlci5cbiAgICovXG4gIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUucmVuZGVyXyA9IGZ1bmN0aW9uIHJlbmRlcl8gKGF0bGFzTWFuYWdlcikge1xuICAgIHZhciBpbWFnZVNpemU7XG4gICAgdmFyIGxpbmVDYXAgPSAnJztcbiAgICB2YXIgbGluZUpvaW4gPSAnJztcbiAgICB2YXIgbWl0ZXJMaW1pdCA9IDA7XG4gICAgdmFyIGxpbmVEYXNoID0gbnVsbDtcbiAgICB2YXIgbGluZURhc2hPZmZzZXQgPSAwO1xuICAgIHZhciBzdHJva2VTdHlsZTtcbiAgICB2YXIgc3Ryb2tlV2lkdGggPSAwO1xuXG4gICAgaWYgKHRoaXMuc3Ryb2tlXykge1xuICAgICAgc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZV8uZ2V0Q29sb3IoKTtcbiAgICAgIGlmIChzdHJva2VTdHlsZSA9PT0gbnVsbCkge1xuICAgICAgICBzdHJva2VTdHlsZSA9IGRlZmF1bHRTdHJva2VTdHlsZTtcbiAgICAgIH1cbiAgICAgIHN0cm9rZVN0eWxlID0gYXNDb2xvckxpa2Uoc3Ryb2tlU3R5bGUpO1xuICAgICAgc3Ryb2tlV2lkdGggPSB0aGlzLnN0cm9rZV8uZ2V0V2lkdGgoKTtcbiAgICAgIGlmIChzdHJva2VXaWR0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHN0cm9rZVdpZHRoID0gZGVmYXVsdExpbmVXaWR0aDtcbiAgICAgIH1cbiAgICAgIGxpbmVEYXNoID0gdGhpcy5zdHJva2VfLmdldExpbmVEYXNoKCk7XG4gICAgICBsaW5lRGFzaE9mZnNldCA9IHRoaXMuc3Ryb2tlXy5nZXRMaW5lRGFzaE9mZnNldCgpO1xuICAgICAgaWYgKCFDQU5WQVNfTElORV9EQVNIKSB7XG4gICAgICAgIGxpbmVEYXNoID0gbnVsbDtcbiAgICAgICAgbGluZURhc2hPZmZzZXQgPSAwO1xuICAgICAgfVxuICAgICAgbGluZUpvaW4gPSB0aGlzLnN0cm9rZV8uZ2V0TGluZUpvaW4oKTtcbiAgICAgIGlmIChsaW5lSm9pbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxpbmVKb2luID0gZGVmYXVsdExpbmVKb2luO1xuICAgICAgfVxuICAgICAgbGluZUNhcCA9IHRoaXMuc3Ryb2tlXy5nZXRMaW5lQ2FwKCk7XG4gICAgICBpZiAobGluZUNhcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxpbmVDYXAgPSBkZWZhdWx0TGluZUNhcDtcbiAgICAgIH1cbiAgICAgIG1pdGVyTGltaXQgPSB0aGlzLnN0cm9rZV8uZ2V0TWl0ZXJMaW1pdCgpO1xuICAgICAgaWYgKG1pdGVyTGltaXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBtaXRlckxpbWl0ID0gZGVmYXVsdE1pdGVyTGltaXQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHNpemUgPSAyICogKHRoaXMucmFkaXVzXyArIHN0cm9rZVdpZHRoKSArIDE7XG5cbiAgICAvKiogQHR5cGUge1JlbmRlck9wdGlvbnN9ICovXG4gICAgdmFyIHJlbmRlck9wdGlvbnMgPSB7XG4gICAgICBzdHJva2VTdHlsZTogc3Ryb2tlU3R5bGUsXG4gICAgICBzdHJva2VXaWR0aDogc3Ryb2tlV2lkdGgsXG4gICAgICBzaXplOiBzaXplLFxuICAgICAgbGluZUNhcDogbGluZUNhcCxcbiAgICAgIGxpbmVEYXNoOiBsaW5lRGFzaCxcbiAgICAgIGxpbmVEYXNoT2Zmc2V0OiBsaW5lRGFzaE9mZnNldCxcbiAgICAgIGxpbmVKb2luOiBsaW5lSm9pbixcbiAgICAgIG1pdGVyTGltaXQ6IG1pdGVyTGltaXRcbiAgICB9O1xuXG4gICAgaWYgKGF0bGFzTWFuYWdlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBubyBhdGxhcyBtYW5hZ2VyIGlzIHVzZWQsIGNyZWF0ZSBhIG5ldyBjYW52YXNcbiAgICAgIHZhciBjb250ZXh0ID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKHNpemUsIHNpemUpO1xuICAgICAgdGhpcy5jYW52YXNfID0gY29udGV4dC5jYW52YXM7XG5cbiAgICAgIC8vIGNhbnZhcy53aWR0aCBhbmQgaGVpZ2h0IGFyZSByb3VuZGVkIHRvIHRoZSBjbG9zZXN0IGludGVnZXJcbiAgICAgIHNpemUgPSB0aGlzLmNhbnZhc18ud2lkdGg7XG4gICAgICBpbWFnZVNpemUgPSBzaXplO1xuXG4gICAgICB0aGlzLmRyYXdfKHJlbmRlck9wdGlvbnMsIGNvbnRleHQsIDAsIDApO1xuXG4gICAgICB0aGlzLmNyZWF0ZUhpdERldGVjdGlvbkNhbnZhc18ocmVuZGVyT3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGFuIGF0bGFzIG1hbmFnZXIgaXMgdXNlZCwgYWRkIHRoZSBzeW1ib2wgdG8gYW4gYXRsYXNcbiAgICAgIHNpemUgPSBNYXRoLnJvdW5kKHNpemUpO1xuXG4gICAgICB2YXIgaGFzQ3VzdG9tSGl0RGV0ZWN0aW9uSW1hZ2UgPSAhdGhpcy5maWxsXztcbiAgICAgIHZhciByZW5kZXJIaXREZXRlY3Rpb25DYWxsYmFjaztcbiAgICAgIGlmIChoYXNDdXN0b21IaXREZXRlY3Rpb25JbWFnZSkge1xuICAgICAgICAvLyByZW5kZXIgdGhlIGhpdC1kZXRlY3Rpb24gaW1hZ2UgaW50byBhIHNlcGFyYXRlIGF0bGFzIGltYWdlXG4gICAgICAgIHJlbmRlckhpdERldGVjdGlvbkNhbGxiYWNrID1cbiAgICAgICAgICAgIHRoaXMuZHJhd0hpdERldGVjdGlvbkNhbnZhc18uYmluZCh0aGlzLCByZW5kZXJPcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGlkID0gdGhpcy5nZXRDaGVja3N1bSgpO1xuICAgICAgdmFyIGluZm8gPSBhdGxhc01hbmFnZXIuYWRkKFxuICAgICAgICBpZCwgc2l6ZSwgc2l6ZSwgdGhpcy5kcmF3Xy5iaW5kKHRoaXMsIHJlbmRlck9wdGlvbnMpLFxuICAgICAgICByZW5kZXJIaXREZXRlY3Rpb25DYWxsYmFjayk7XG5cbiAgICAgIHRoaXMuY2FudmFzXyA9IGluZm8uaW1hZ2U7XG4gICAgICB0aGlzLm9yaWdpbl8gPSBbaW5mby5vZmZzZXRYLCBpbmZvLm9mZnNldFldO1xuICAgICAgaW1hZ2VTaXplID0gaW5mby5pbWFnZS53aWR0aDtcblxuICAgICAgaWYgKGhhc0N1c3RvbUhpdERldGVjdGlvbkltYWdlKSB7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uQ2FudmFzXyA9IGluZm8uaGl0SW1hZ2U7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VTaXplXyA9XG4gICAgICAgICAgICBbaW5mby5oaXRJbWFnZS53aWR0aCwgaW5mby5oaXRJbWFnZS5oZWlnaHRdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25DYW52YXNfID0gdGhpcy5jYW52YXNfO1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkltYWdlU2l6ZV8gPSBbaW1hZ2VTaXplLCBpbWFnZVNpemVdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuYW5jaG9yXyA9IFtzaXplIC8gMiwgc2l6ZSAvIDJdO1xuICAgIHRoaXMuc2l6ZV8gPSBbc2l6ZSwgc2l6ZV07XG4gICAgdGhpcy5pbWFnZVNpemVfID0gW2ltYWdlU2l6ZSwgaW1hZ2VTaXplXTtcbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtSZW5kZXJPcHRpb25zfSByZW5kZXJPcHRpb25zIFJlbmRlciBvcHRpb25zLlxuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBUaGUgcmVuZGVyaW5nIGNvbnRleHQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRoZSBvcmlnaW4gZm9yIHRoZSBzeW1ib2wgKHgpLlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBUaGUgb3JpZ2luIGZvciB0aGUgc3ltYm9sICh5KS5cbiAgICovXG4gIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZHJhd18gPSBmdW5jdGlvbiBkcmF3XyAocmVuZGVyT3B0aW9ucywgY29udGV4dCwgeCwgeSkge1xuICAgIHZhciBpLCBhbmdsZTAsIHJhZGl1c0M7XG4gICAgLy8gcmVzZXQgdHJhbnNmb3JtXG4gICAgY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG5cbiAgICAvLyB0aGVuIG1vdmUgdG8gKHgsIHkpXG4gICAgY29udGV4dC50cmFuc2xhdGUoeCwgeSk7XG5cbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuXG4gICAgdmFyIHBvaW50cyA9IHRoaXMucG9pbnRzXztcbiAgICBpZiAocG9pbnRzID09PSBJbmZpbml0eSkge1xuICAgICAgY29udGV4dC5hcmMoXG4gICAgICAgIHJlbmRlck9wdGlvbnMuc2l6ZSAvIDIsIHJlbmRlck9wdGlvbnMuc2l6ZSAvIDIsXG4gICAgICAgIHRoaXMucmFkaXVzXywgMCwgMiAqIE1hdGguUEksIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcmFkaXVzMiA9ICh0aGlzLnJhZGl1czJfICE9PSB1bmRlZmluZWQpID8gdGhpcy5yYWRpdXMyX1xuICAgICAgICA6IHRoaXMucmFkaXVzXztcbiAgICAgIGlmIChyYWRpdXMyICE9PSB0aGlzLnJhZGl1c18pIHtcbiAgICAgICAgcG9pbnRzID0gMiAqIHBvaW50cztcbiAgICAgIH1cbiAgICAgIGZvciAoaSA9IDA7IGkgPD0gcG9pbnRzOyBpKyspIHtcbiAgICAgICAgYW5nbGUwID0gaSAqIDIgKiBNYXRoLlBJIC8gcG9pbnRzIC0gTWF0aC5QSSAvIDIgKyB0aGlzLmFuZ2xlXztcbiAgICAgICAgcmFkaXVzQyA9IGkgJSAyID09PSAwID8gdGhpcy5yYWRpdXNfIDogcmFkaXVzMjtcbiAgICAgICAgY29udGV4dC5saW5lVG8ocmVuZGVyT3B0aW9ucy5zaXplIC8gMiArIHJhZGl1c0MgKiBNYXRoLmNvcyhhbmdsZTApLFxuICAgICAgICAgIHJlbmRlck9wdGlvbnMuc2l6ZSAvIDIgKyByYWRpdXNDICogTWF0aC5zaW4oYW5nbGUwKSk7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBpZiAodGhpcy5maWxsXykge1xuICAgICAgdmFyIGNvbG9yID0gdGhpcy5maWxsXy5nZXRDb2xvcigpO1xuICAgICAgaWYgKGNvbG9yID09PSBudWxsKSB7XG4gICAgICAgIGNvbG9yID0gZGVmYXVsdEZpbGxTdHlsZTtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gYXNDb2xvckxpa2UoY29sb3IpO1xuICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnN0cm9rZV8pIHtcbiAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSByZW5kZXJPcHRpb25zLnN0cm9rZVN0eWxlO1xuICAgICAgY29udGV4dC5saW5lV2lkdGggPSByZW5kZXJPcHRpb25zLnN0cm9rZVdpZHRoO1xuICAgICAgaWYgKHJlbmRlck9wdGlvbnMubGluZURhc2gpIHtcbiAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChyZW5kZXJPcHRpb25zLmxpbmVEYXNoKTtcbiAgICAgICAgY29udGV4dC5saW5lRGFzaE9mZnNldCA9IHJlbmRlck9wdGlvbnMubGluZURhc2hPZmZzZXQ7XG4gICAgICB9XG4gICAgICBjb250ZXh0LmxpbmVDYXAgPSAvKiogQHR5cGUge0NhbnZhc0xpbmVDYXB9ICovIChyZW5kZXJPcHRpb25zLmxpbmVDYXApO1xuICAgICAgY29udGV4dC5saW5lSm9pbiA9IC8qKiBAdHlwZSB7Q2FudmFzTGluZUpvaW59ICovIChyZW5kZXJPcHRpb25zLmxpbmVKb2luKTtcbiAgICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHJlbmRlck9wdGlvbnMubWl0ZXJMaW1pdDtcbiAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgfVxuICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7UmVuZGVyT3B0aW9uc30gcmVuZGVyT3B0aW9ucyBSZW5kZXIgb3B0aW9ucy5cbiAgICovXG4gIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuY3JlYXRlSGl0RGV0ZWN0aW9uQ2FudmFzXyA9IGZ1bmN0aW9uIGNyZWF0ZUhpdERldGVjdGlvbkNhbnZhc18gKHJlbmRlck9wdGlvbnMpIHtcbiAgICB0aGlzLmhpdERldGVjdGlvbkltYWdlU2l6ZV8gPSBbcmVuZGVyT3B0aW9ucy5zaXplLCByZW5kZXJPcHRpb25zLnNpemVdO1xuICAgIGlmICh0aGlzLmZpbGxfKSB7XG4gICAgICB0aGlzLmhpdERldGVjdGlvbkNhbnZhc18gPSB0aGlzLmNhbnZhc187XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gaWYgbm8gZmlsbCBzdHlsZSBpcyBzZXQsIGNyZWF0ZSBhbiBleHRyYSBoaXQtZGV0ZWN0aW9uIGltYWdlIHdpdGggYVxuICAgIC8vIGRlZmF1bHQgZmlsbCBzdHlsZVxuICAgIHZhciBjb250ZXh0ID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKHJlbmRlck9wdGlvbnMuc2l6ZSwgcmVuZGVyT3B0aW9ucy5zaXplKTtcbiAgICB0aGlzLmhpdERldGVjdGlvbkNhbnZhc18gPSBjb250ZXh0LmNhbnZhcztcblxuICAgIHRoaXMuZHJhd0hpdERldGVjdGlvbkNhbnZhc18ocmVuZGVyT3B0aW9ucywgY29udGV4dCwgMCwgMCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7UmVuZGVyT3B0aW9uc30gcmVuZGVyT3B0aW9ucyBSZW5kZXIgb3B0aW9ucy5cbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgVGhlIGNvbnRleHQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRoZSBvcmlnaW4gZm9yIHRoZSBzeW1ib2wgKHgpLlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBUaGUgb3JpZ2luIGZvciB0aGUgc3ltYm9sICh5KS5cbiAgICovXG4gIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZHJhd0hpdERldGVjdGlvbkNhbnZhc18gPSBmdW5jdGlvbiBkcmF3SGl0RGV0ZWN0aW9uQ2FudmFzXyAocmVuZGVyT3B0aW9ucywgY29udGV4dCwgeCwgeSkge1xuICAgIC8vIHJlc2V0IHRyYW5zZm9ybVxuICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuXG4gICAgLy8gdGhlbiBtb3ZlIHRvICh4LCB5KVxuICAgIGNvbnRleHQudHJhbnNsYXRlKHgsIHkpO1xuXG4gICAgY29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgIHZhciBwb2ludHMgPSB0aGlzLnBvaW50c187XG4gICAgaWYgKHBvaW50cyA9PT0gSW5maW5pdHkpIHtcbiAgICAgIGNvbnRleHQuYXJjKFxuICAgICAgICByZW5kZXJPcHRpb25zLnNpemUgLyAyLCByZW5kZXJPcHRpb25zLnNpemUgLyAyLFxuICAgICAgICB0aGlzLnJhZGl1c18sIDAsIDIgKiBNYXRoLlBJLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHJhZGl1czIgPSAodGhpcy5yYWRpdXMyXyAhPT0gdW5kZWZpbmVkKSA/IHRoaXMucmFkaXVzMl9cbiAgICAgICAgOiB0aGlzLnJhZGl1c187XG4gICAgICBpZiAocmFkaXVzMiAhPT0gdGhpcy5yYWRpdXNfKSB7XG4gICAgICAgIHBvaW50cyA9IDIgKiBwb2ludHM7XG4gICAgICB9XG4gICAgICB2YXIgaSwgcmFkaXVzQywgYW5nbGUwO1xuICAgICAgZm9yIChpID0gMDsgaSA8PSBwb2ludHM7IGkrKykge1xuICAgICAgICBhbmdsZTAgPSBpICogMiAqIE1hdGguUEkgLyBwb2ludHMgLSBNYXRoLlBJIC8gMiArIHRoaXMuYW5nbGVfO1xuICAgICAgICByYWRpdXNDID0gaSAlIDIgPT09IDAgPyB0aGlzLnJhZGl1c18gOiByYWRpdXMyO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyhyZW5kZXJPcHRpb25zLnNpemUgLyAyICsgcmFkaXVzQyAqIE1hdGguY29zKGFuZ2xlMCksXG4gICAgICAgICAgcmVuZGVyT3B0aW9ucy5zaXplIC8gMiArIHJhZGl1c0MgKiBNYXRoLnNpbihhbmdsZTApKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGFzU3RyaW5nKGRlZmF1bHRGaWxsU3R5bGUpO1xuICAgIGNvbnRleHQuZmlsbCgpO1xuICAgIGlmICh0aGlzLnN0cm9rZV8pIHtcbiAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSByZW5kZXJPcHRpb25zLnN0cm9rZVN0eWxlO1xuICAgICAgY29udGV4dC5saW5lV2lkdGggPSByZW5kZXJPcHRpb25zLnN0cm9rZVdpZHRoO1xuICAgICAgaWYgKHJlbmRlck9wdGlvbnMubGluZURhc2gpIHtcbiAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChyZW5kZXJPcHRpb25zLmxpbmVEYXNoKTtcbiAgICAgICAgY29udGV4dC5saW5lRGFzaE9mZnNldCA9IHJlbmRlck9wdGlvbnMubGluZURhc2hPZmZzZXQ7XG4gICAgICB9XG4gICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgIH1cbiAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjaGVja3N1bS5cbiAgICovXG4gIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZ2V0Q2hlY2tzdW0gPSBmdW5jdGlvbiBnZXRDaGVja3N1bSAoKSB7XG4gICAgdmFyIHN0cm9rZUNoZWNrc3VtID0gdGhpcy5zdHJva2VfID9cbiAgICAgIHRoaXMuc3Ryb2tlXy5nZXRDaGVja3N1bSgpIDogJy0nO1xuICAgIHZhciBmaWxsQ2hlY2tzdW0gPSB0aGlzLmZpbGxfID9cbiAgICAgIHRoaXMuZmlsbF8uZ2V0Q2hlY2tzdW0oKSA6ICctJztcblxuICAgIHZhciByZWNhbGN1bGF0ZSA9ICF0aGlzLmNoZWNrc3Vtc18gfHxcbiAgICAgICAgKHN0cm9rZUNoZWNrc3VtICE9IHRoaXMuY2hlY2tzdW1zX1sxXSB8fFxuICAgICAgICBmaWxsQ2hlY2tzdW0gIT0gdGhpcy5jaGVja3N1bXNfWzJdIHx8XG4gICAgICAgIHRoaXMucmFkaXVzXyAhPSB0aGlzLmNoZWNrc3Vtc19bM10gfHxcbiAgICAgICAgdGhpcy5yYWRpdXMyXyAhPSB0aGlzLmNoZWNrc3Vtc19bNF0gfHxcbiAgICAgICAgdGhpcy5hbmdsZV8gIT0gdGhpcy5jaGVja3N1bXNfWzVdIHx8XG4gICAgICAgIHRoaXMucG9pbnRzXyAhPSB0aGlzLmNoZWNrc3Vtc19bNl0pO1xuXG4gICAgaWYgKHJlY2FsY3VsYXRlKSB7XG4gICAgICB2YXIgY2hlY2tzdW0gPSAncicgKyBzdHJva2VDaGVja3N1bSArIGZpbGxDaGVja3N1bSArXG4gICAgICAgICAgKHRoaXMucmFkaXVzXyAhPT0gdW5kZWZpbmVkID8gdGhpcy5yYWRpdXNfLnRvU3RyaW5nKCkgOiAnLScpICtcbiAgICAgICAgICAodGhpcy5yYWRpdXMyXyAhPT0gdW5kZWZpbmVkID8gdGhpcy5yYWRpdXMyXy50b1N0cmluZygpIDogJy0nKSArXG4gICAgICAgICAgKHRoaXMuYW5nbGVfICE9PSB1bmRlZmluZWQgPyB0aGlzLmFuZ2xlXy50b1N0cmluZygpIDogJy0nKSArXG4gICAgICAgICAgKHRoaXMucG9pbnRzXyAhPT0gdW5kZWZpbmVkID8gdGhpcy5wb2ludHNfLnRvU3RyaW5nKCkgOiAnLScpO1xuICAgICAgdGhpcy5jaGVja3N1bXNfID0gW2NoZWNrc3VtLCBzdHJva2VDaGVja3N1bSwgZmlsbENoZWNrc3VtLFxuICAgICAgICB0aGlzLnJhZGl1c18sIHRoaXMucmFkaXVzMl8sIHRoaXMuYW5nbGVfLCB0aGlzLnBvaW50c19dO1xuICAgIH1cblxuICAgIHJldHVybiAvKiogQHR5cGUge3N0cmluZ30gKi8gKHRoaXMuY2hlY2tzdW1zX1swXSk7XG4gIH07XG5cbiAgcmV0dXJuIFJlZ3VsYXJTaGFwZTtcbn0oSW1hZ2VTdHlsZSkpO1xuXG5cbmV4cG9ydCBkZWZhdWx0IFJlZ3VsYXJTaGFwZTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVndWxhclNoYXBlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9kb21cbiAqL1xuXG5cbi8qKlxuICogQ3JlYXRlIGFuIGh0bWwgY2FudmFzIGVsZW1lbnQgYW5kIHJldHVybnMgaXRzIDJkIGNvbnRleHQuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF93aWR0aCBDYW52YXMgd2lkdGguXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9oZWlnaHQgQ2FudmFzIGhlaWdodC5cbiAqIEByZXR1cm4ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gVGhlIGNvbnRleHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDYW52YXNDb250ZXh0MkQob3B0X3dpZHRoLCBvcHRfaGVpZ2h0KSB7XG4gIHZhciBjYW52YXMgPSAvKiogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fSAqLyAoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykpO1xuICBpZiAob3B0X3dpZHRoKSB7XG4gICAgY2FudmFzLndpZHRoID0gb3B0X3dpZHRoO1xuICB9XG4gIGlmIChvcHRfaGVpZ2h0KSB7XG4gICAgY2FudmFzLmhlaWdodCA9IG9wdF9oZWlnaHQ7XG4gIH1cbiAgcmV0dXJuIC8qKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSAqLyAoY2FudmFzLmdldENvbnRleHQoJzJkJykpO1xufVxuXG5cbi8qKlxuICogR2V0IHRoZSBjdXJyZW50IGNvbXB1dGVkIHdpZHRoIGZvciB0aGUgZ2l2ZW4gZWxlbWVudCBpbmNsdWRpbmcgbWFyZ2luLFxuICogcGFkZGluZyBhbmQgYm9yZGVyLlxuICogRXF1aXZhbGVudCB0byBqUXVlcnkncyBgJChlbCkub3V0ZXJXaWR0aCh0cnVlKWAuXG4gKiBAcGFyYW0geyFIVE1MRWxlbWVudH0gZWxlbWVudCBFbGVtZW50LlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgd2lkdGguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvdXRlcldpZHRoKGVsZW1lbnQpIHtcbiAgdmFyIHdpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgd2lkdGggKz0gcGFyc2VJbnQoc3R5bGUubWFyZ2luTGVmdCwgMTApICsgcGFyc2VJbnQoc3R5bGUubWFyZ2luUmlnaHQsIDEwKTtcblxuICByZXR1cm4gd2lkdGg7XG59XG5cblxuLyoqXG4gKiBHZXQgdGhlIGN1cnJlbnQgY29tcHV0ZWQgaGVpZ2h0IGZvciB0aGUgZ2l2ZW4gZWxlbWVudCBpbmNsdWRpbmcgbWFyZ2luLFxuICogcGFkZGluZyBhbmQgYm9yZGVyLlxuICogRXF1aXZhbGVudCB0byBqUXVlcnkncyBgJChlbCkub3V0ZXJIZWlnaHQodHJ1ZSlgLlxuICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudC5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGhlaWdodC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG91dGVySGVpZ2h0KGVsZW1lbnQpIHtcbiAgdmFyIGhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICBoZWlnaHQgKz0gcGFyc2VJbnQoc3R5bGUubWFyZ2luVG9wLCAxMCkgKyBwYXJzZUludChzdHlsZS5tYXJnaW5Cb3R0b20sIDEwKTtcblxuICByZXR1cm4gaGVpZ2h0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gbmV3Tm9kZSBOb2RlIHRvIHJlcGxhY2Ugb2xkIG5vZGVcbiAqIEBwYXJhbSB7Tm9kZX0gb2xkTm9kZSBUaGUgbm9kZSB0byBiZSByZXBsYWNlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZU5vZGUobmV3Tm9kZSwgb2xkTm9kZSkge1xuICB2YXIgcGFyZW50ID0gb2xkTm9kZS5wYXJlbnROb2RlO1xuICBpZiAocGFyZW50KSB7XG4gICAgcGFyZW50LnJlcGxhY2VDaGlsZChuZXdOb2RlLCBvbGROb2RlKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZSBUaGUgbm9kZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Tm9kZX0gVGhlIG5vZGUgdGhhdCB3YXMgcmVtb3ZlZCBvciBudWxsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTm9kZShub2RlKSB7XG4gIHJldHVybiBub2RlICYmIG5vZGUucGFyZW50Tm9kZSA/IG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKSA6IG51bGw7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSBub2RlIFRoZSBub2RlIHRvIHJlbW92ZSB0aGUgY2hpbGRyZW4gZnJvbS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUNoaWxkcmVuKG5vZGUpIHtcbiAgd2hpbGUgKG5vZGUubGFzdENoaWxkKSB7XG4gICAgbm9kZS5yZW1vdmVDaGlsZChub2RlLmxhc3RDaGlsZCk7XG4gIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZG9tLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9oYXNcbiAqL1xuXG52YXIgdWEgPSB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyA/XG4gIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSA6ICcnO1xuXG4vKipcbiAqIFVzZXIgYWdlbnQgc3RyaW5nIHNheXMgd2UgYXJlIGRlYWxpbmcgd2l0aCBGaXJlZm94IGFzIGJyb3dzZXIuXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IHZhciBGSVJFRk9YID0gdWEuaW5kZXhPZignZmlyZWZveCcpICE9PSAtMTtcblxuLyoqXG4gKiBVc2VyIGFnZW50IHN0cmluZyBzYXlzIHdlIGFyZSBkZWFsaW5nIHdpdGggU2FmYXJpIGFzIGJyb3dzZXIuXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IHZhciBTQUZBUkkgPSB1YS5pbmRleE9mKCdzYWZhcmknKSAhPT0gLTEgJiYgdWEuaW5kZXhPZignY2hyb20nKSA9PSAtMTtcblxuLyoqXG4gKiBVc2VyIGFnZW50IHN0cmluZyBzYXlzIHdlIGFyZSBkZWFsaW5nIHdpdGggYSBXZWJLaXQgZW5naW5lLlxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCB2YXIgV0VCS0lUID0gdWEuaW5kZXhPZignd2Via2l0JykgIT09IC0xICYmIHVhLmluZGV4T2YoJ2VkZ2UnKSA9PSAtMTtcblxuLyoqXG4gKiBVc2VyIGFnZW50IHN0cmluZyBzYXlzIHdlIGFyZSBkZWFsaW5nIHdpdGggYSBNYWMgYXMgcGxhdGZvcm0uXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IHZhciBNQUMgPSB1YS5pbmRleE9mKCdtYWNpbnRvc2gnKSAhPT0gLTE7XG5cblxuLyoqXG4gKiBUaGUgcmF0aW8gYmV0d2VlbiBwaHlzaWNhbCBwaXhlbHMgYW5kIGRldmljZS1pbmRlcGVuZGVudCBwaXhlbHNcbiAqIChkaXBzKSBvbiB0aGUgZGV2aWNlIChgd2luZG93LmRldmljZVBpeGVsUmF0aW9gKS5cbiAqIEBjb25zdFxuICogQHR5cGUge251bWJlcn1cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciBERVZJQ0VfUElYRUxfUkFUSU8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xuXG5cbi8qKlxuICogVHJ1ZSBpZiB0aGUgYnJvd3NlcidzIENhbnZhcyBpbXBsZW1lbnRhdGlvbiBpbXBsZW1lbnRzIHtnZXQsc2V0fUxpbmVEYXNoLlxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCB2YXIgQ0FOVkFTX0xJTkVfREFTSCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaGFzID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgaGFzID0gISFkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKS5nZXRDb250ZXh0KCcyZCcpLnNldExpbmVEYXNoO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gcGFzc1xuICB9XG4gIHJldHVybiBoYXM7XG59KCk7XG5cblxuLyoqXG4gKiBJcyBIVE1MNSBnZW9sb2NhdGlvbiBzdXBwb3J0ZWQgaW4gdGhlIGN1cnJlbnQgYnJvd3Nlcj9cbiAqIEBjb25zdFxuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgR0VPTE9DQVRJT04gPSAnZ2VvbG9jYXRpb24nIGluIG5hdmlnYXRvcjtcblxuXG4vKipcbiAqIFRydWUgaWYgYnJvd3NlciBzdXBwb3J0cyB0b3VjaCBldmVudHMuXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtib29sZWFufVxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIFRPVUNIID0gJ29udG91Y2hzdGFydCcgaW4gd2luZG93O1xuXG5cbi8qKlxuICogVHJ1ZSBpZiBicm93c2VyIHN1cHBvcnRzIHBvaW50ZXIgZXZlbnRzLlxuICogQGNvbnN0XG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IHZhciBQT0lOVEVSID0gJ1BvaW50ZXJFdmVudCcgaW4gd2luZG93O1xuXG5cbi8qKlxuICogVHJ1ZSBpZiBicm93c2VyIHN1cHBvcnRzIG1zIHBvaW50ZXIgZXZlbnRzIChJRSAxMCkuXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtib29sZWFufVxuICovXG5leHBvcnQgdmFyIE1TUE9JTlRFUiA9ICEhKG5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKTtcblxuXG5leHBvcnQge0hBUyBhcyBXRUJHTH0gZnJvbSAnLi93ZWJnbC5qcyc7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhhcy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvSW1hZ2VTdGF0ZVxuICovXG5cbi8qKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBJRExFOiAwLFxuICBMT0FESU5HOiAxLFxuICBMT0FERUQ6IDIsXG4gIEVSUk9SOiAzXG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbWFnZVN0YXRlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9TdHlsZVxuICovXG5cbi8qKlxuICogRmVhdHVyZSBzdHlsZXMuXG4gKlxuICogSWYgbm8gc3R5bGUgaXMgZGVmaW5lZCwgdGhlIGZvbGxvd2luZyBkZWZhdWx0IHN0eWxlIGlzIHVzZWQ6XG4gKiBgYGBqc1xuICogIGltcG9ydCB7RmlsbCwgU3Ryb2tlLCBDaXJjbGUsIFN0eWxlfSBmcm9tICdvbC9zdHlsZSc7XG4gKlxuICogIHZhciBmaWxsID0gbmV3IEZpbGwoe1xuICogICAgY29sb3I6ICdyZ2JhKDI1NSwyNTUsMjU1LDAuNCknXG4gKiAgfSk7XG4gKiAgdmFyIHN0cm9rZSA9IG5ldyBTdHJva2Uoe1xuICogICAgY29sb3I6ICcjMzM5OUNDJyxcbiAqICAgIHdpZHRoOiAxLjI1XG4gKiAgfSk7XG4gKiAgdmFyIHN0eWxlcyA9IFtcbiAqICAgIG5ldyBTdHlsZSh7XG4gKiAgICAgIGltYWdlOiBuZXcgQ2lyY2xlKHtcbiAqICAgICAgICBmaWxsOiBmaWxsLFxuICogICAgICAgIHN0cm9rZTogc3Ryb2tlLFxuICogICAgICAgIHJhZGl1czogNVxuICogICAgICB9KSxcbiAqICAgICAgZmlsbDogZmlsbCxcbiAqICAgICAgc3Ryb2tlOiBzdHJva2VcbiAqICAgIH0pXG4gKiAgXTtcbiAqIGBgYFxuICpcbiAqIEEgc2VwYXJhdGUgZWRpdGluZyBzdHlsZSBoYXMgdGhlIGZvbGxvd2luZyBkZWZhdWx0czpcbiAqIGBgYGpzXG4gKiAgaW1wb3J0IHtGaWxsLCBTdHJva2UsIENpcmNsZSwgU3R5bGV9IGZyb20gJ29sL3N0eWxlJztcbiAqICBpbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJ29sL2dlb20vR2VvbWV0cnlUeXBlJztcbiAqXG4gKiAgdmFyIHdoaXRlID0gWzI1NSwgMjU1LCAyNTUsIDFdO1xuICogIHZhciBibHVlID0gWzAsIDE1MywgMjU1LCAxXTtcbiAqICB2YXIgd2lkdGggPSAzO1xuICogIHN0eWxlc1tHZW9tZXRyeVR5cGUuUE9MWUdPTl0gPSBbXG4gKiAgICBuZXcgU3R5bGUoe1xuICogICAgICBmaWxsOiBuZXcgRmlsbCh7XG4gKiAgICAgICAgY29sb3I6IFsyNTUsIDI1NSwgMjU1LCAwLjVdXG4gKiAgICAgIH0pXG4gKiAgICB9KVxuICogIF07XG4gKiAgc3R5bGVzW0dlb21ldHJ5VHlwZS5NVUxUSV9QT0xZR09OXSA9XG4gKiAgICAgIHN0eWxlc1tHZW9tZXRyeVR5cGUuUE9MWUdPTl07XG4gKiAgc3R5bGVzW0dlb21ldHJ5VHlwZS5MSU5FX1NUUklOR10gPSBbXG4gKiAgICBuZXcgU3R5bGUoe1xuICogICAgICBzdHJva2U6IG5ldyBTdHJva2Uoe1xuICogICAgICAgIGNvbG9yOiB3aGl0ZSxcbiAqICAgICAgICB3aWR0aDogd2lkdGggKyAyXG4gKiAgICAgIH0pXG4gKiAgICB9KSxcbiAqICAgIG5ldyBTdHlsZSh7XG4gKiAgICAgIHN0cm9rZTogbmV3IFN0cm9rZSh7XG4gKiAgICAgICAgY29sb3I6IGJsdWUsXG4gKiAgICAgICAgd2lkdGg6IHdpZHRoXG4gKiAgICAgIH0pXG4gKiAgICB9KVxuICogIF07XG4gKiAgc3R5bGVzW0dlb21ldHJ5VHlwZS5NVUxUSV9MSU5FX1NUUklOR10gPVxuICogICAgICBzdHlsZXNbR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HXTtcbiAqICBzdHlsZXNbR2VvbWV0cnlUeXBlLlBPSU5UXSA9IFtcbiAqICAgIG5ldyBTdHlsZSh7XG4gKiAgICAgIGltYWdlOiBuZXcgQ2lyY2xlKHtcbiAqICAgICAgICByYWRpdXM6IHdpZHRoICogMixcbiAqICAgICAgICBmaWxsOiBuZXcgRmlsbCh7XG4gKiAgICAgICAgICBjb2xvcjogYmx1ZVxuICogICAgICAgIH0pLFxuICogICAgICAgIHN0cm9rZTogbmV3IFN0cm9rZSh7XG4gKiAgICAgICAgICBjb2xvcjogd2hpdGUsXG4gKiAgICAgICAgICB3aWR0aDogd2lkdGggLyAyXG4gKiAgICAgICAgfSlcbiAqICAgICAgfSksXG4gKiAgICAgIHpJbmRleDogSW5maW5pdHlcbiAqICAgIH0pXG4gKiAgXTtcbiAqICBzdHlsZXNbR2VvbWV0cnlUeXBlLk1VTFRJX1BPSU5UXSA9XG4gKiAgICAgIHN0eWxlc1tHZW9tZXRyeVR5cGUuUE9JTlRdO1xuICogIHN0eWxlc1tHZW9tZXRyeVR5cGUuR0VPTUVUUllfQ09MTEVDVElPTl0gPVxuICogICAgICBzdHlsZXNbR2VvbWV0cnlUeXBlLlBPTFlHT05dLmNvbmNhdChcbiAqICAgICAgICAgIHN0eWxlc1tHZW9tZXRyeVR5cGUuTElORV9TVFJJTkddLFxuICogICAgICAgICAgc3R5bGVzW0dlb21ldHJ5VHlwZS5QT0lOVF1cbiAqICAgICAgKTtcbiAqIGBgYFxuICovXG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJy4uL2dlb20vR2VvbWV0cnlUeXBlLmpzJztcbmltcG9ydCBDaXJjbGVTdHlsZSBmcm9tICcuL0NpcmNsZS5qcyc7XG5pbXBvcnQgRmlsbCBmcm9tICcuL0ZpbGwuanMnO1xuaW1wb3J0IFN0cm9rZSBmcm9tICcuL1N0cm9rZS5qcyc7XG5cblxuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfSBhbmQgYSBge251bWJlcn1gXG4gKiByZXByZXNlbnRpbmcgdGhlIHZpZXcncyByZXNvbHV0aW9uLiBUaGUgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBhXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlL1N0eWxlfSBvciBhbiBhcnJheSBvZiB0aGVtLiBUaGlzIHdheSBlLmcuIGFcbiAqIHZlY3RvciBsYXllciBjYW4gYmUgc3R5bGVkLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlLCBudW1iZXIpOihTdHlsZXxBcnJheTxTdHlsZT4pfSBTdHlsZUZ1bmN0aW9uXG4gKi9cblxuLyoqXG4gKiBBIHtAbGluayBTdHlsZX0sIGFuIGFycmF5IG9mIHtAbGluayBTdHlsZX0sIG9yIGEge0BsaW5rIFN0eWxlRnVuY3Rpb259LlxuICogQHR5cGVkZWYge1N0eWxlfEFycmF5PFN0eWxlPnxTdHlsZUZ1bmN0aW9ufSBTdHlsZUxpa2VcbiAqL1xuXG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmV9IGFzIGFyZ3VtZW50IGFuZCByZXR1cm5zIGFuXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2dlb20vR2VvbWV0cnl9IHRoYXQgd2lsbCBiZSByZW5kZXJlZCBhbmQgc3R5bGVkIGZvciB0aGUgZmVhdHVyZS5cbiAqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZSk6XG4gKiAgICAgKGltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9yZW5kZXIvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZCl9IEdlb21ldHJ5RnVuY3Rpb25cbiAqL1xuXG5cbi8qKlxuICogQ3VzdG9tIHJlbmRlcmVyIGZ1bmN0aW9uLiBUYWtlcyB0d28gYXJndW1lbnRzOlxuICpcbiAqIDEuIFRoZSBwaXhlbCBjb29yZGluYXRlcyBvZiB0aGUgZ2VvbWV0cnkgaW4gR2VvSlNPTiBub3RhdGlvbi5cbiAqIDIuIFRoZSB7QGxpbmsgbW9kdWxlOm9sL3JlbmRlcn5TdGF0ZX0gb2YgdGhlIGxheWVyIHJlbmRlcmVyLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbigoaW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfEFycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT58QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj4pLGltcG9ydChcIi4uL3JlbmRlci5qc1wiKS5TdGF0ZSl9XG4gKiBSZW5kZXJGdW5jdGlvblxuICovXG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ3xpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8R2VvbWV0cnlGdW5jdGlvbn0gW2dlb21ldHJ5XSBGZWF0dXJlIHByb3BlcnR5IG9yIGdlb21ldHJ5XG4gKiBvciBmdW5jdGlvbiByZXR1cm5pbmcgYSBnZW9tZXRyeSB0byByZW5kZXIgZm9yIHRoaXMgc3R5bGUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBbZmlsbF0gRmlsbCBzdHlsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9JbWFnZS5qc1wiKS5kZWZhdWx0fSBbaW1hZ2VdIEltYWdlIHN0eWxlLlxuICogQHByb3BlcnR5IHtSZW5kZXJGdW5jdGlvbn0gW3JlbmRlcmVyXSBDdXN0b20gcmVuZGVyZXIuIFdoZW4gY29uZmlndXJlZCwgYGZpbGxgLCBgc3Ryb2tlYCBhbmQgYGltYWdlYCB3aWxsIGJlXG4gKiBpZ25vcmVkLCBhbmQgdGhlIHByb3ZpZGVkIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdpdGggZWFjaCByZW5kZXIgZnJhbWUgZm9yIGVhY2ggZ2VvbWV0cnkuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFtzdHJva2VdIFN0cm9rZSBzdHlsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9UZXh0LmpzXCIpLmRlZmF1bHR9IFt0ZXh0XSBUZXh0IHN0eWxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6SW5kZXhdIFogaW5kZXguXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDb250YWluZXIgZm9yIHZlY3RvciBmZWF0dXJlIHJlbmRlcmluZyBzdHlsZXMuIEFueSBjaGFuZ2VzIG1hZGUgdG8gdGhlIHN0eWxlXG4gKiBvciBpdHMgY2hpbGRyZW4gdGhyb3VnaCBgc2V0KigpYCBtZXRob2RzIHdpbGwgbm90IHRha2UgZWZmZWN0IHVudGlsIHRoZVxuICogZmVhdHVyZSBvciBsYXllciB0aGF0IHVzZXMgdGhlIHN0eWxlIGlzIHJlLXJlbmRlcmVkLlxuICogQGFwaVxuICovXG52YXIgU3R5bGUgPSBmdW5jdGlvbiBTdHlsZShvcHRfb3B0aW9ucykge1xuXG4gIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEB0eXBlIHtzdHJpbmd8aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fEdlb21ldHJ5RnVuY3Rpb259XG4gICAqL1xuICB0aGlzLmdlb21ldHJ5XyA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEB0eXBlIHshR2VvbWV0cnlGdW5jdGlvbn1cbiAgICovXG4gIHRoaXMuZ2VvbWV0cnlGdW5jdGlvbl8gPSBkZWZhdWx0R2VvbWV0cnlGdW5jdGlvbjtcblxuICBpZiAob3B0aW9ucy5nZW9tZXRyeSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5zZXRHZW9tZXRyeShvcHRpb25zLmdlb21ldHJ5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9XG4gICAqL1xuICB0aGlzLmZpbGxfID0gb3B0aW9ucy5maWxsICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmZpbGwgOiBudWxsO1xuXG4gIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vSW1hZ2UuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgdGhpcy5pbWFnZV8gPSBvcHRpb25zLmltYWdlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmltYWdlIDogbnVsbDtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHR5cGUge1JlbmRlckZ1bmN0aW9ufG51bGx9XG4gICAqL1xuICB0aGlzLnJlbmRlcmVyXyA9IG9wdGlvbnMucmVuZGVyZXIgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucmVuZGVyZXIgOiBudWxsO1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH1cbiAgICovXG4gIHRoaXMuc3Ryb2tlXyA9IG9wdGlvbnMuc3Ryb2tlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnN0cm9rZSA6IG51bGw7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEB0eXBlIHtpbXBvcnQoXCIuL1RleHQuanNcIikuZGVmYXVsdH1cbiAgICovXG4gIHRoaXMudGV4dF8gPSBvcHRpb25zLnRleHQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudGV4dCA6IG51bGw7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgKi9cbiAgdGhpcy56SW5kZXhfID0gb3B0aW9ucy56SW5kZXg7XG5cbn07XG5cbi8qKlxuICogQ2xvbmVzIHRoZSBzdHlsZS5cbiAqIEByZXR1cm4ge1N0eWxlfSBUaGUgY2xvbmVkIHN0eWxlLlxuICogQGFwaVxuICovXG5TdHlsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSAoKSB7XG4gIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2V0R2VvbWV0cnkoKTtcbiAgaWYgKGdlb21ldHJ5ICYmIHR5cGVvZiBnZW9tZXRyeSA9PT0gJ29iamVjdCcpIHtcbiAgICBnZW9tZXRyeSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmNsb25lKCk7XG4gIH1cbiAgcmV0dXJuIG5ldyBTdHlsZSh7XG4gICAgZ2VvbWV0cnk6IGdlb21ldHJ5LFxuICAgIGZpbGw6IHRoaXMuZ2V0RmlsbCgpID8gdGhpcy5nZXRGaWxsKCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICBpbWFnZTogdGhpcy5nZXRJbWFnZSgpID8gdGhpcy5nZXRJbWFnZSgpLmNsb25lKCkgOiB1bmRlZmluZWQsXG4gICAgc3Ryb2tlOiB0aGlzLmdldFN0cm9rZSgpID8gdGhpcy5nZXRTdHJva2UoKS5jbG9uZSgpIDogdW5kZWZpbmVkLFxuICAgIHRleHQ6IHRoaXMuZ2V0VGV4dCgpID8gdGhpcy5nZXRUZXh0KCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICB6SW5kZXg6IHRoaXMuZ2V0WkluZGV4KClcbiAgfSk7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgY3VzdG9tIHJlbmRlcmVyIGZ1bmN0aW9uIHRoYXQgd2FzIGNvbmZpZ3VyZWQgd2l0aFxuICoge0BsaW5rICNzZXRSZW5kZXJlcn0gb3IgdGhlIGByZW5kZXJlcmAgY29uc3RydWN0b3Igb3B0aW9uLlxuICogQHJldHVybiB7UmVuZGVyRnVuY3Rpb258bnVsbH0gQ3VzdG9tIHJlbmRlcmVyIGZ1bmN0aW9uLlxuICogQGFwaVxuICovXG5TdHlsZS5wcm90b3R5cGUuZ2V0UmVuZGVyZXIgPSBmdW5jdGlvbiBnZXRSZW5kZXJlciAoKSB7XG4gIHJldHVybiB0aGlzLnJlbmRlcmVyXztcbn07XG5cbi8qKlxuICogU2V0cyBhIGN1c3RvbSByZW5kZXJlciBmdW5jdGlvbiBmb3IgdGhpcyBzdHlsZS4gV2hlbiBzZXQsIGBmaWxsYCwgYHN0cm9rZWBcbiAqIGFuZCBgaW1hZ2VgIG9wdGlvbnMgb2YgdGhlIHN0eWxlIHdpbGwgYmUgaWdub3JlZC5cbiAqIEBwYXJhbSB7UmVuZGVyRnVuY3Rpb258bnVsbH0gcmVuZGVyZXIgQ3VzdG9tIHJlbmRlcmVyIGZ1bmN0aW9uLlxuICogQGFwaVxuICovXG5TdHlsZS5wcm90b3R5cGUuc2V0UmVuZGVyZXIgPSBmdW5jdGlvbiBzZXRSZW5kZXJlciAocmVuZGVyZXIpIHtcbiAgdGhpcy5yZW5kZXJlcl8gPSByZW5kZXJlcjtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBnZW9tZXRyeSB0byBiZSByZW5kZXJlZC5cbiAqIEByZXR1cm4ge3N0cmluZ3xpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8R2VvbWV0cnlGdW5jdGlvbn1cbiAqIEZlYXR1cmUgcHJvcGVydHkgb3IgZ2VvbWV0cnkgb3IgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBnZW9tZXRyeSB0aGF0IHdpbGxcbiAqIGJlIHJlbmRlcmVkIHdpdGggdGhpcyBzdHlsZS5cbiAqIEBhcGlcbiAqL1xuU3R5bGUucHJvdG90eXBlLmdldEdlb21ldHJ5ID0gZnVuY3Rpb24gZ2V0R2VvbWV0cnkgKCkge1xuICByZXR1cm4gdGhpcy5nZW9tZXRyeV87XG59O1xuXG4vKipcbiAqIEdldCB0aGUgZnVuY3Rpb24gdXNlZCB0byBnZW5lcmF0ZSBhIGdlb21ldHJ5IGZvciByZW5kZXJpbmcuXG4gKiBAcmV0dXJuIHshR2VvbWV0cnlGdW5jdGlvbn0gRnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2l0aCBhIGZlYXR1cmVcbiAqIGFuZCByZXR1cm5zIHRoZSBnZW9tZXRyeSB0byByZW5kZXIgaW5zdGVhZCBvZiB0aGUgZmVhdHVyZSdzIGdlb21ldHJ5LlxuICogQGFwaVxuICovXG5TdHlsZS5wcm90b3R5cGUuZ2V0R2VvbWV0cnlGdW5jdGlvbiA9IGZ1bmN0aW9uIGdldEdlb21ldHJ5RnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5nZW9tZXRyeUZ1bmN0aW9uXztcbn07XG5cbi8qKlxuICogR2V0IHRoZSBmaWxsIHN0eWxlLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9IEZpbGwgc3R5bGUuXG4gKiBAYXBpXG4gKi9cblN0eWxlLnByb3RvdHlwZS5nZXRGaWxsID0gZnVuY3Rpb24gZ2V0RmlsbCAoKSB7XG4gIHJldHVybiB0aGlzLmZpbGxfO1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIGZpbGwgc3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBmaWxsIEZpbGwgc3R5bGUuXG4gKiBAYXBpXG4gKi9cblN0eWxlLnByb3RvdHlwZS5zZXRGaWxsID0gZnVuY3Rpb24gc2V0RmlsbCAoZmlsbCkge1xuICB0aGlzLmZpbGxfID0gZmlsbDtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBpbWFnZSBzdHlsZS5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vSW1hZ2UuanNcIikuZGVmYXVsdH0gSW1hZ2Ugc3R5bGUuXG4gKiBAYXBpXG4gKi9cblN0eWxlLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uIGdldEltYWdlICgpIHtcbiAgcmV0dXJuIHRoaXMuaW1hZ2VfO1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIGltYWdlIHN0eWxlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL0ltYWdlLmpzXCIpLmRlZmF1bHR9IGltYWdlIEltYWdlIHN0eWxlLlxuICogQGFwaVxuICovXG5TdHlsZS5wcm90b3R5cGUuc2V0SW1hZ2UgPSBmdW5jdGlvbiBzZXRJbWFnZSAoaW1hZ2UpIHtcbiAgdGhpcy5pbWFnZV8gPSBpbWFnZTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBzdHJva2Ugc3R5bGUuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBTdHJva2Ugc3R5bGUuXG4gKiBAYXBpXG4gKi9cblN0eWxlLnByb3RvdHlwZS5nZXRTdHJva2UgPSBmdW5jdGlvbiBnZXRTdHJva2UgKCkge1xuICByZXR1cm4gdGhpcy5zdHJva2VfO1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIHN0cm9rZSBzdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH0gc3Ryb2tlIFN0cm9rZSBzdHlsZS5cbiAqIEBhcGlcbiAqL1xuU3R5bGUucHJvdG90eXBlLnNldFN0cm9rZSA9IGZ1bmN0aW9uIHNldFN0cm9rZSAoc3Ryb2tlKSB7XG4gIHRoaXMuc3Ryb2tlXyA9IHN0cm9rZTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSB0ZXh0IHN0eWxlLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9UZXh0LmpzXCIpLmRlZmF1bHR9IFRleHQgc3R5bGUuXG4gKiBAYXBpXG4gKi9cblN0eWxlLnByb3RvdHlwZS5nZXRUZXh0ID0gZnVuY3Rpb24gZ2V0VGV4dCAoKSB7XG4gIHJldHVybiB0aGlzLnRleHRfO1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIHRleHQgc3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vVGV4dC5qc1wiKS5kZWZhdWx0fSB0ZXh0IFRleHQgc3R5bGUuXG4gKiBAYXBpXG4gKi9cblN0eWxlLnByb3RvdHlwZS5zZXRUZXh0ID0gZnVuY3Rpb24gc2V0VGV4dCAodGV4dCkge1xuICB0aGlzLnRleHRfID0gdGV4dDtcbn07XG5cbi8qKlxuICogR2V0IHRoZSB6LWluZGV4IGZvciB0aGUgc3R5bGUuXG4gKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBaSW5kZXguXG4gKiBAYXBpXG4gKi9cblN0eWxlLnByb3RvdHlwZS5nZXRaSW5kZXggPSBmdW5jdGlvbiBnZXRaSW5kZXggKCkge1xuICByZXR1cm4gdGhpcy56SW5kZXhfO1xufTtcblxuLyoqXG4gKiBTZXQgYSBnZW9tZXRyeSB0aGF0IGlzIHJlbmRlcmVkIGluc3RlYWQgb2YgdGhlIGZlYXR1cmUncyBnZW9tZXRyeS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8R2VvbWV0cnlGdW5jdGlvbn0gZ2VvbWV0cnlcbiAqICAgRmVhdHVyZSBwcm9wZXJ0eSBvciBnZW9tZXRyeSBvciBmdW5jdGlvbiByZXR1cm5pbmcgYSBnZW9tZXRyeSB0byByZW5kZXJcbiAqICAgZm9yIHRoaXMgc3R5bGUuXG4gKiBAYXBpXG4gKi9cblN0eWxlLnByb3RvdHlwZS5zZXRHZW9tZXRyeSA9IGZ1bmN0aW9uIHNldEdlb21ldHJ5IChnZW9tZXRyeSkge1xuICBpZiAodHlwZW9mIGdlb21ldHJ5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhpcy5nZW9tZXRyeUZ1bmN0aW9uXyA9IGdlb21ldHJ5O1xuICB9IGVsc2UgaWYgKHR5cGVvZiBnZW9tZXRyeSA9PT0gJ3N0cmluZycpIHtcbiAgICB0aGlzLmdlb21ldHJ5RnVuY3Rpb25fID0gZnVuY3Rpb24oZmVhdHVyZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9ICovIChmZWF0dXJlLmdldChnZW9tZXRyeSkpXG4gICAgICApO1xuICAgIH07XG4gIH0gZWxzZSBpZiAoIWdlb21ldHJ5KSB7XG4gICAgdGhpcy5nZW9tZXRyeUZ1bmN0aW9uXyA9IGRlZmF1bHRHZW9tZXRyeUZ1bmN0aW9uO1xuICB9IGVsc2UgaWYgKGdlb21ldHJ5ICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzLmdlb21ldHJ5RnVuY3Rpb25fID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KVxuICAgICAgKTtcbiAgICB9O1xuICB9XG4gIHRoaXMuZ2VvbWV0cnlfID0gZ2VvbWV0cnk7XG59O1xuXG4vKipcbiAqIFNldCB0aGUgei1pbmRleC5cbiAqXG4gKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHpJbmRleCBaSW5kZXguXG4gKiBAYXBpXG4gKi9cblN0eWxlLnByb3RvdHlwZS5zZXRaSW5kZXggPSBmdW5jdGlvbiBzZXRaSW5kZXggKHpJbmRleCkge1xuICB0aGlzLnpJbmRleF8gPSB6SW5kZXg7XG59O1xuXG5cbi8qKlxuICogQ29udmVydCB0aGUgcHJvdmlkZWQgb2JqZWN0IGludG8gYSBzdHlsZSBmdW5jdGlvbi4gIEZ1bmN0aW9ucyBwYXNzZWQgdGhyb3VnaFxuICogdW5jaGFuZ2VkLiAgQXJyYXlzIG9mIFN0eWxlIG9yIHNpbmdsZSBzdHlsZSBvYmplY3RzIHdyYXBwZWQgaW4gYVxuICogbmV3IHN0eWxlIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtTdHlsZUZ1bmN0aW9ufEFycmF5PFN0eWxlPnxTdHlsZX0gb2JqXG4gKiAgICAgQSBzdHlsZSBmdW5jdGlvbiwgYSBzaW5nbGUgc3R5bGUsIG9yIGFuIGFycmF5IG9mIHN0eWxlcy5cbiAqIEByZXR1cm4ge1N0eWxlRnVuY3Rpb259IEEgc3R5bGUgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0Z1bmN0aW9uKG9iaikge1xuICB2YXIgc3R5bGVGdW5jdGlvbjtcblxuICBpZiAodHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHN0eWxlRnVuY3Rpb24gPSBvYmo7XG4gIH0gZWxzZSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5PFN0eWxlPn1cbiAgICAgKi9cbiAgICB2YXIgc3R5bGVzO1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgIHN0eWxlcyA9IG9iajtcbiAgICB9IGVsc2Uge1xuICAgICAgYXNzZXJ0KHR5cGVvZiAvKiogQHR5cGUgez99ICovIChvYmopLmdldFpJbmRleCA9PT0gJ2Z1bmN0aW9uJyxcbiAgICAgICAgNDEpOyAvLyBFeHBlY3RlZCBhbiBgU3R5bGVgIG9yIGFuIGFycmF5IG9mIGBTdHlsZWBcbiAgICAgIHZhciBzdHlsZSA9IC8qKiBAdHlwZSB7U3R5bGV9ICovIChvYmopO1xuICAgICAgc3R5bGVzID0gW3N0eWxlXTtcbiAgICB9XG4gICAgc3R5bGVGdW5jdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHN0eWxlcztcbiAgICB9O1xuICB9XG4gIHJldHVybiBzdHlsZUZ1bmN0aW9uO1xufVxuXG5cbi8qKlxuICogQHR5cGUge0FycmF5PFN0eWxlPn1cbiAqL1xudmFyIGRlZmF1bHRTdHlsZXMgPSBudWxsO1xuXG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHJldHVybiB7QXJyYXk8U3R5bGU+fSBTdHlsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRTdHlsZShmZWF0dXJlLCByZXNvbHV0aW9uKSB7XG4gIC8vIFdlIGRvbid0IHVzZSBhbiBpbW1lZGlhdGVseS1pbnZva2VkIGZ1bmN0aW9uXG4gIC8vIGFuZCBhIGNsb3N1cmUgc28gd2UgZG9uJ3QgZ2V0IGFuIGVycm9yIGF0IHNjcmlwdCBldmFsdWF0aW9uIHRpbWUgaW5cbiAgLy8gYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCBDYW52YXMuIChpbXBvcnQoXCIuL0NpcmNsZS5qc1wiKS5DaXJjbGVTdHlsZSBkb2VzXG4gIC8vIGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpIGF0IGNvbnN0cnVjdGlvbiB0aW1lLCB3aGljaCB3aWxsIGNhdXNlIGFuLmVycm9yXG4gIC8vIGluIHN1Y2ggYnJvd3NlcnMuKVxuICBpZiAoIWRlZmF1bHRTdHlsZXMpIHtcbiAgICB2YXIgZmlsbCA9IG5ldyBGaWxsKHtcbiAgICAgIGNvbG9yOiAncmdiYSgyNTUsMjU1LDI1NSwwLjQpJ1xuICAgIH0pO1xuICAgIHZhciBzdHJva2UgPSBuZXcgU3Ryb2tlKHtcbiAgICAgIGNvbG9yOiAnIzMzOTlDQycsXG4gICAgICB3aWR0aDogMS4yNVxuICAgIH0pO1xuICAgIGRlZmF1bHRTdHlsZXMgPSBbXG4gICAgICBuZXcgU3R5bGUoe1xuICAgICAgICBpbWFnZTogbmV3IENpcmNsZVN0eWxlKHtcbiAgICAgICAgICBmaWxsOiBmaWxsLFxuICAgICAgICAgIHN0cm9rZTogc3Ryb2tlLFxuICAgICAgICAgIHJhZGl1czogNVxuICAgICAgICB9KSxcbiAgICAgICAgZmlsbDogZmlsbCxcbiAgICAgICAgc3Ryb2tlOiBzdHJva2VcbiAgICAgIH0pXG4gICAgXTtcbiAgfVxuICByZXR1cm4gZGVmYXVsdFN0eWxlcztcbn1cblxuXG4vKipcbiAqIERlZmF1bHQgc3R5bGVzIGZvciBlZGl0aW5nIGZlYXR1cmVzLlxuICogQHJldHVybiB7T2JqZWN0PGltcG9ydChcIi4uL2dlb20vR2VvbWV0cnlUeXBlLmpzXCIpLmRlZmF1bHQsIEFycmF5PFN0eWxlPj59IFN0eWxlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRWRpdGluZ1N0eWxlKCkge1xuICAvKiogQHR5cGUge09iamVjdDxpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5VHlwZS5qc1wiKS5kZWZhdWx0LCBBcnJheTxTdHlsZT4+fSAqL1xuICB2YXIgc3R5bGVzID0ge307XG4gIHZhciB3aGl0ZSA9IFsyNTUsIDI1NSwgMjU1LCAxXTtcbiAgdmFyIGJsdWUgPSBbMCwgMTUzLCAyNTUsIDFdO1xuICB2YXIgd2lkdGggPSAzO1xuICBzdHlsZXNbR2VvbWV0cnlUeXBlLlBPTFlHT05dID0gW1xuICAgIG5ldyBTdHlsZSh7XG4gICAgICBmaWxsOiBuZXcgRmlsbCh7XG4gICAgICAgIGNvbG9yOiBbMjU1LCAyNTUsIDI1NSwgMC41XVxuICAgICAgfSlcbiAgICB9KVxuICBdO1xuICBzdHlsZXNbR2VvbWV0cnlUeXBlLk1VTFRJX1BPTFlHT05dID1cbiAgICAgIHN0eWxlc1tHZW9tZXRyeVR5cGUuUE9MWUdPTl07XG5cbiAgc3R5bGVzW0dlb21ldHJ5VHlwZS5MSU5FX1NUUklOR10gPSBbXG4gICAgbmV3IFN0eWxlKHtcbiAgICAgIHN0cm9rZTogbmV3IFN0cm9rZSh7XG4gICAgICAgIGNvbG9yOiB3aGl0ZSxcbiAgICAgICAgd2lkdGg6IHdpZHRoICsgMlxuICAgICAgfSlcbiAgICB9KSxcbiAgICBuZXcgU3R5bGUoe1xuICAgICAgc3Ryb2tlOiBuZXcgU3Ryb2tlKHtcbiAgICAgICAgY29sb3I6IGJsdWUsXG4gICAgICAgIHdpZHRoOiB3aWR0aFxuICAgICAgfSlcbiAgICB9KVxuICBdO1xuICBzdHlsZXNbR2VvbWV0cnlUeXBlLk1VTFRJX0xJTkVfU1RSSU5HXSA9XG4gICAgICBzdHlsZXNbR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HXTtcblxuICBzdHlsZXNbR2VvbWV0cnlUeXBlLkNJUkNMRV0gPVxuICAgICAgc3R5bGVzW0dlb21ldHJ5VHlwZS5QT0xZR09OXS5jb25jYXQoXG4gICAgICAgIHN0eWxlc1tHZW9tZXRyeVR5cGUuTElORV9TVFJJTkddXG4gICAgICApO1xuXG5cbiAgc3R5bGVzW0dlb21ldHJ5VHlwZS5QT0lOVF0gPSBbXG4gICAgbmV3IFN0eWxlKHtcbiAgICAgIGltYWdlOiBuZXcgQ2lyY2xlU3R5bGUoe1xuICAgICAgICByYWRpdXM6IHdpZHRoICogMixcbiAgICAgICAgZmlsbDogbmV3IEZpbGwoe1xuICAgICAgICAgIGNvbG9yOiBibHVlXG4gICAgICAgIH0pLFxuICAgICAgICBzdHJva2U6IG5ldyBTdHJva2Uoe1xuICAgICAgICAgIGNvbG9yOiB3aGl0ZSxcbiAgICAgICAgICB3aWR0aDogd2lkdGggLyAyXG4gICAgICAgIH0pXG4gICAgICB9KSxcbiAgICAgIHpJbmRleDogSW5maW5pdHlcbiAgICB9KVxuICBdO1xuICBzdHlsZXNbR2VvbWV0cnlUeXBlLk1VTFRJX1BPSU5UXSA9XG4gICAgICBzdHlsZXNbR2VvbWV0cnlUeXBlLlBPSU5UXTtcblxuICBzdHlsZXNbR2VvbWV0cnlUeXBlLkdFT01FVFJZX0NPTExFQ1RJT05dID1cbiAgICAgIHN0eWxlc1tHZW9tZXRyeVR5cGUuUE9MWUdPTl0uY29uY2F0KFxuICAgICAgICBzdHlsZXNbR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HXSxcbiAgICAgICAgc3R5bGVzW0dlb21ldHJ5VHlwZS5QT0lOVF1cbiAgICAgICk7XG5cbiAgcmV0dXJuIHN0eWxlcztcbn1cblxuXG4vKipcbiAqIEZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdpdGggYSBmZWF0dXJlIGFuZCByZXR1cm5zIGl0cyBkZWZhdWx0IGdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUgdG8gZ2V0IHRoZSBnZW9tZXRyeSBmb3IuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vcmVuZGVyL0ZlYXR1cmUuanNcIikuZGVmYXVsdHx1bmRlZmluZWR9IEdlb21ldHJ5IHRvIHJlbmRlci5cbiAqL1xuZnVuY3Rpb24gZGVmYXVsdEdlb21ldHJ5RnVuY3Rpb24oZmVhdHVyZSkge1xuICByZXR1cm4gZmVhdHVyZS5nZXRHZW9tZXRyeSgpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBTdHlsZTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3R5bGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9jYW52YXNcbiAqL1xuaW1wb3J0IHtnZXRGb250RmFtaWxpZXN9IGZyb20gJy4uL2Nzcy5qcyc7XG5pbXBvcnQge2NyZWF0ZUNhbnZhc0NvbnRleHQyRH0gZnJvbSAnLi4vZG9tLmpzJztcbmltcG9ydCB7Y2xlYXJ9IGZyb20gJy4uL29iai5qcyc7XG5pbXBvcnQgTFJVQ2FjaGUgZnJvbSAnLi4vc3RydWN0cy9MUlVDYWNoZS5qcyc7XG5pbXBvcnQge2NyZWF0ZSBhcyBjcmVhdGVUcmFuc2Zvcm19IGZyb20gJy4uL3RyYW5zZm9ybS5qcyc7XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGaWxsU3RhdGVcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gZmlsbFN0eWxlXG4gKi9cblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZpbGxTdHJva2VTdGF0ZVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbY3VycmVudEZpbGxTdHlsZV1cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW2N1cnJlbnRTdHJva2VTdHlsZV1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY3VycmVudExpbmVDYXBdXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IGN1cnJlbnRMaW5lRGFzaFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtjdXJyZW50TGluZURhc2hPZmZzZXRdXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2N1cnJlbnRMaW5lSm9pbl1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY3VycmVudExpbmVXaWR0aF1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY3VycmVudE1pdGVyTGltaXRdXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2xhc3RTdHJva2VdXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFtmaWxsU3R5bGVdXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFtzdHJva2VTdHlsZV1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbGluZUNhcF1cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gbGluZURhc2hcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbGluZURhc2hPZmZzZXRdXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2xpbmVKb2luXVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtsaW5lV2lkdGhdXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pdGVyTGltaXRdXG4gKi9cblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFN0cm9rZVN0YXRlXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbGluZUNhcFxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBsaW5lRGFzaFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGxpbmVEYXNoT2Zmc2V0XG4gKiBAcHJvcGVydHkge3N0cmluZ30gbGluZUpvaW5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsaW5lV2lkdGhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaXRlckxpbWl0XG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IHN0cm9rZVN0eWxlXG4gKi9cblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFRleHRTdGF0ZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IGZvbnRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdGV4dEFsaWduXVxuICogQHByb3BlcnR5IHtzdHJpbmd9IHRleHRCYXNlbGluZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtwbGFjZW1lbnRdXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heEFuZ2xlXVxuICogQHByb3BlcnR5IHtib29sZWFufSBbb3ZlcmZsb3ddXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3N0eWxlL0ZpbGwuanNcIikuZGVmYXVsdH0gW2JhY2tncm91bmRGaWxsXVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zdHlsZS9TdHJva2UuanNcIikuZGVmYXVsdH0gW2JhY2tncm91bmRTdHJva2VdXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3NjYWxlXVxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbcGFkZGluZ11cbiAqL1xuXG5cbi8qKlxuICogQ29udGFpbmVyIGZvciBkZWNsdXR0ZXJlZCByZXBsYXkgaW5zdHJ1Y3Rpb25zIHRoYXQgbmVlZCB0byBiZSByZW5kZXJlZCBvclxuICogb21pdHRlZCB0b2dldGhlciwgaS5lLiB3aGVuIHN0eWxlcyByZW5kZXIgYm90aCBhbiBpbWFnZSBhbmQgdGV4dCwgb3IgZm9yIHRoZVxuICogY2hhcmFjdGVycyB0aGF0IGZvcm0gdGV4dCBhbG9uZyBsaW5lcy4gVGhlIGJhc2ljIGVsZW1lbnRzIG9mIHRoaXMgYXJyYXkgYXJlXG4gKiBgW21pblgsIG1pblksIG1heFgsIG1heFksIGNvdW50XWAsIHdoZXJlIHRoZSBmaXJzdCBmb3VyIGVudHJpZXMgYXJlIHRoZVxuICogcmVuZGVyZWQgZXh0ZW50IG9mIHRoZSBncm91cCBpbiBwaXhlbCBzcGFjZS4gYGNvdW50YCBpcyB0aGUgbnVtYmVyIG9mIHN0eWxlc1xuICogaW4gdGhlIGdyb3VwLCBpLmUuIDIgd2hlbiBhbiBpbWFnZSBhbmQgYSB0ZXh0IGFyZSBncm91cGVkLCBvciAxIG90aGVyd2lzZS5cbiAqIEluIGFkZGl0aW9uIHRvIHRoZXNlIGZvdXIgZWxlbWVudHMsIGRlY2x1dHRlciBpbnN0cnVjdGlvbiBhcnJheXMgKGkuZS4gdGhlXG4gKiBhcmd1bWVudHMgdG8ge0BsaW5rIG1vZHVsZTpvbC9yZW5kZXIvY2FudmFzfmRyYXdJbWFnZX0gYXJlIGFwcGVuZGVkIHRvIHRoZSBhcnJheS5cbiAqIEB0eXBlZGVmIHtBcnJheTwqPn0gRGVjbHV0dGVyR3JvdXBcbiAqL1xuXG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIGRlZmF1bHRGb250ID0gJzEwcHggc2Fucy1zZXJpZic7XG5cblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcn1cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0RmlsbFN0eWxlID0gWzAsIDAsIDAsIDFdO1xuXG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIGRlZmF1bHRMaW5lQ2FwID0gJ3JvdW5kJztcblxuXG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gKi9cbmV4cG9ydCB2YXIgZGVmYXVsdExpbmVEYXNoID0gW107XG5cblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCB2YXIgZGVmYXVsdExpbmVEYXNoT2Zmc2V0ID0gMDtcblxuXG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0TGluZUpvaW4gPSAncm91bmQnO1xuXG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgdmFyIGRlZmF1bHRNaXRlckxpbWl0ID0gMTA7XG5cblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcn1cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0U3Ryb2tlU3R5bGUgPSBbMCwgMCwgMCwgMV07XG5cblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCB2YXIgZGVmYXVsdFRleHRBbGlnbiA9ICdjZW50ZXInO1xuXG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIGRlZmF1bHRUZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcblxuXG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gKi9cbmV4cG9ydCB2YXIgZGVmYXVsdFBhZGRpbmcgPSBbMCwgMCwgMCwgMF07XG5cblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCB2YXIgZGVmYXVsdExpbmVXaWR0aCA9IDE7XG5cblxuLyoqXG4gKiBUaGUgbGFiZWwgY2FjaGUgZm9yIHRleHQgcmVuZGVyaW5nLiBUbyBjaGFuZ2UgdGhlIGRlZmF1bHQgY2FjaGUgc2l6ZSBvZiAyMDQ4XG4gKiBlbnRyaWVzLCB1c2Uge0BsaW5rIG1vZHVsZTpvbC9zdHJ1Y3RzL0xSVUNhY2hlI3NldFNpemV9LlxuICogQHR5cGUge0xSVUNhY2hlPEhUTUxDYW52YXNFbGVtZW50Pn1cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciBsYWJlbENhY2hlID0gbmV3IExSVUNhY2hlKCk7XG5cblxuLyoqXG4gKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIG51bWJlcj59XG4gKi9cbmV4cG9ydCB2YXIgY2hlY2tlZEZvbnRzID0ge307XG5cblxuLyoqXG4gKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICovXG52YXIgbWVhc3VyZUNvbnRleHQgPSBudWxsO1xuXG5cbi8qKlxuICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBudW1iZXI+fVxuICovXG5leHBvcnQgdmFyIHRleHRIZWlnaHRzID0ge307XG5cblxuLyoqXG4gKiBDbGVhcnMgdGhlIGxhYmVsIGNhY2hlIHdoZW4gYSBmb250IGJlY29tZXMgYXZhaWxhYmxlLlxuICogQHBhcmFtIHtzdHJpbmd9IGZvbnRTcGVjIENTUyBmb250IHNwZWMuXG4gKi9cbmV4cG9ydCB2YXIgY2hlY2tGb250ID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgcmV0cmllcyA9IDYwO1xuICB2YXIgY2hlY2tlZCA9IGNoZWNrZWRGb250cztcbiAgdmFyIHNpemUgPSAnMzJweCAnO1xuICB2YXIgcmVmZXJlbmNlRm9udHMgPSBbJ21vbm9zcGFjZScsICdzZXJpZiddO1xuICB2YXIgbGVuID0gcmVmZXJlbmNlRm9udHMubGVuZ3RoO1xuICB2YXIgdGV4dCA9ICd3bXl0emlsV01ZVFpJTEAjLyY/JCUxMFxcdUYwMTMnO1xuICB2YXIgaW50ZXJ2YWwsIHJlZmVyZW5jZVdpZHRoO1xuXG4gIGZ1bmN0aW9uIGlzQXZhaWxhYmxlKGZvbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGdldE1lYXN1cmVDb250ZXh0KCk7XG4gICAgLy8gQ2hlY2sgd2VpZ2h0IHJhbmdlcyBhY2NvcmRpbmcgdG9cbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvZm9udC13ZWlnaHQjRmFsbGJhY2tfd2VpZ2h0c1xuICAgIGZvciAodmFyIHdlaWdodCA9IDEwMDsgd2VpZ2h0IDw9IDcwMDsgd2VpZ2h0ICs9IDMwMCkge1xuICAgICAgdmFyIGZvbnRXZWlnaHQgPSB3ZWlnaHQgKyAnICc7XG4gICAgICB2YXIgYXZhaWxhYmxlID0gdHJ1ZTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgdmFyIHJlZmVyZW5jZUZvbnQgPSByZWZlcmVuY2VGb250c1tpXTtcbiAgICAgICAgY29udGV4dC5mb250ID0gZm9udFdlaWdodCArIHNpemUgKyByZWZlcmVuY2VGb250O1xuICAgICAgICByZWZlcmVuY2VXaWR0aCA9IGNvbnRleHQubWVhc3VyZVRleHQodGV4dCkud2lkdGg7XG4gICAgICAgIGlmIChmb250ICE9IHJlZmVyZW5jZUZvbnQpIHtcbiAgICAgICAgICBjb250ZXh0LmZvbnQgPSBmb250V2VpZ2h0ICsgc2l6ZSArIGZvbnQgKyAnLCcgKyByZWZlcmVuY2VGb250O1xuICAgICAgICAgIHZhciB3aWR0aCA9IGNvbnRleHQubWVhc3VyZVRleHQodGV4dCkud2lkdGg7XG4gICAgICAgICAgLy8gSWYgd2lkdGggYW5kIHJlZmVyZW5jZVdpZHRoIGFyZSB0aGUgc2FtZSwgdGhlbiB0aGUgZmFsbGJhY2sgd2FzIHVzZWRcbiAgICAgICAgICAvLyBpbnN0ZWFkIG9mIHRoZSBmb250IHdlIHdhbnRlZCwgc28gdGhlIGZvbnQgaXMgbm90IGF2YWlsYWJsZS5cbiAgICAgICAgICBhdmFpbGFibGUgPSBhdmFpbGFibGUgJiYgd2lkdGggIT0gcmVmZXJlbmNlV2lkdGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChhdmFpbGFibGUpIHtcbiAgICAgICAgLy8gQ29uc2lkZXIgZm9udCBhdmFpbGFibGUgd2hlbiBpdCBpcyBhdmFpbGFibGUgaW4gb25lIHdlaWdodCByYW5nZS5cbiAgICAgICAgLy9GSVhNRSBXaXRoIHRoaXMgd2UgbWlzcyByYXJlIGNvcm5lciBjYXNlcywgc28gd2Ugc2hvdWxkIGNvbnNpZGVyXG4gICAgICAgIC8vRklYTUUgY2hlY2tpbmcgYXZhaWxhYmlsaXR5IGZvciBlYWNoIHJlcXVlc3RlZCB3ZWlnaHQgcmFuZ2UuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBjaGVjaygpIHtcbiAgICB2YXIgZG9uZSA9IHRydWU7XG4gICAgZm9yICh2YXIgZm9udCBpbiBjaGVja2VkKSB7XG4gICAgICBpZiAoY2hlY2tlZFtmb250XSA8IHJldHJpZXMpIHtcbiAgICAgICAgaWYgKGlzQXZhaWxhYmxlKGZvbnQpKSB7XG4gICAgICAgICAgY2hlY2tlZFtmb250XSA9IHJldHJpZXM7XG4gICAgICAgICAgY2xlYXIodGV4dEhlaWdodHMpO1xuICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IGxvYWRlZCBmb250cyBhcmUgcGlja2VkIHVwIGJ5IFNhZmFyaVxuICAgICAgICAgIG1lYXN1cmVDb250ZXh0ID0gbnVsbDtcbiAgICAgICAgICBsYWJlbENhY2hlLmNsZWFyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgKytjaGVja2VkW2ZvbnRdO1xuICAgICAgICAgIGRvbmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZG9uZSkge1xuICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICBpbnRlcnZhbCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24oZm9udFNwZWMpIHtcbiAgICB2YXIgZm9udEZhbWlsaWVzID0gZ2V0Rm9udEZhbWlsaWVzKGZvbnRTcGVjKTtcbiAgICBpZiAoIWZvbnRGYW1pbGllcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBmb250RmFtaWxpZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgdmFyIGZvbnRGYW1pbHkgPSBmb250RmFtaWxpZXNbaV07XG4gICAgICBpZiAoIShmb250RmFtaWx5IGluIGNoZWNrZWQpKSB7XG4gICAgICAgIGNoZWNrZWRbZm9udEZhbWlseV0gPSByZXRyaWVzO1xuICAgICAgICBpZiAoIWlzQXZhaWxhYmxlKGZvbnRGYW1pbHkpKSB7XG4gICAgICAgICAgY2hlY2tlZFtmb250RmFtaWx5XSA9IDA7XG4gICAgICAgICAgaWYgKGludGVydmFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwoY2hlY2ssIDMyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG59KSgpO1xuXG5cbi8qKlxuICogQHJldHVybiB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBNZWFzdXJlIGNvbnRleHQuXG4gKi9cbmZ1bmN0aW9uIGdldE1lYXN1cmVDb250ZXh0KCkge1xuICBpZiAoIW1lYXN1cmVDb250ZXh0KSB7XG4gICAgbWVhc3VyZUNvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQoMSwgMSk7XG4gIH1cbiAgcmV0dXJuIG1lYXN1cmVDb250ZXh0O1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGZvbnQgRm9udCB0byB1c2UgZm9yIG1lYXN1cmluZy5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gTWVhc3VyZW1lbnQuXG4gKi9cbmV4cG9ydCB2YXIgbWVhc3VyZVRleHRIZWlnaHQgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciBzcGFuO1xuICB2YXIgaGVpZ2h0cyA9IHRleHRIZWlnaHRzO1xuICByZXR1cm4gZnVuY3Rpb24oZm9udCkge1xuICAgIHZhciBoZWlnaHQgPSBoZWlnaHRzW2ZvbnRdO1xuICAgIGlmIChoZWlnaHQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoIXNwYW4pIHtcbiAgICAgICAgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgc3Bhbi50ZXh0Q29udGVudCA9ICdNJztcbiAgICAgICAgc3Bhbi5zdHlsZS5tYXJnaW4gPSBzcGFuLnN0eWxlLnBhZGRpbmcgPSAnMCAhaW1wb3J0YW50JztcbiAgICAgICAgc3Bhbi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSAhaW1wb3J0YW50JztcbiAgICAgICAgc3Bhbi5zdHlsZS5sZWZ0ID0gJy05OTk5OXB4ICFpbXBvcnRhbnQnO1xuICAgICAgfVxuICAgICAgc3Bhbi5zdHlsZS5mb250ID0gZm9udDtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc3Bhbik7XG4gICAgICBoZWlnaHQgPSBoZWlnaHRzW2ZvbnRdID0gc3Bhbi5vZmZzZXRIZWlnaHQ7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNwYW4pO1xuICAgIH1cbiAgICByZXR1cm4gaGVpZ2h0O1xuICB9O1xufSkoKTtcblxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBmb250IEZvbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUZXh0LlxuICogQHJldHVybiB7bnVtYmVyfSBXaWR0aC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lYXN1cmVUZXh0V2lkdGgoZm9udCwgdGV4dCkge1xuICB2YXIgbWVhc3VyZUNvbnRleHQgPSBnZXRNZWFzdXJlQ29udGV4dCgpO1xuICBpZiAoZm9udCAhPSBtZWFzdXJlQ29udGV4dC5mb250KSB7XG4gICAgbWVhc3VyZUNvbnRleHQuZm9udCA9IGZvbnQ7XG4gIH1cbiAgcmV0dXJuIG1lYXN1cmVDb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQpLndpZHRoO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRYIFggb2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldFkgWSBvZmZzZXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVBdE9mZnNldChjb250ZXh0LCByb3RhdGlvbiwgb2Zmc2V0WCwgb2Zmc2V0WSkge1xuICBpZiAocm90YXRpb24gIT09IDApIHtcbiAgICBjb250ZXh0LnRyYW5zbGF0ZShvZmZzZXRYLCBvZmZzZXRZKTtcbiAgICBjb250ZXh0LnJvdGF0ZShyb3RhdGlvbik7XG4gICAgY29udGV4dC50cmFuc2xhdGUoLW9mZnNldFgsIC1vZmZzZXRZKTtcbiAgfVxufVxuXG5cbmV4cG9ydCB2YXIgcmVzZXRUcmFuc2Zvcm0gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcblxuXG4vKipcbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm18bnVsbH0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvcGFjaXR5IE9wYWNpdHkuXG4gKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gaW1hZ2UgSW1hZ2UuXG4gKiBAcGFyYW0ge251bWJlcn0gb3JpZ2luWCBPcmlnaW4gWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvcmlnaW5ZIE9yaWdpbiBZLlxuICogQHBhcmFtIHtudW1iZXJ9IHcgV2lkdGguXG4gKiBAcGFyYW0ge251bWJlcn0gaCBIZWlnaHQuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZSBTY2FsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRyYXdJbWFnZShjb250ZXh0LFxuICB0cmFuc2Zvcm0sIG9wYWNpdHksIGltYWdlLCBvcmlnaW5YLCBvcmlnaW5ZLCB3LCBoLCB4LCB5LCBzY2FsZSkge1xuICB2YXIgYWxwaGE7XG4gIGlmIChvcGFjaXR5ICE9IDEpIHtcbiAgICBhbHBoYSA9IGNvbnRleHQuZ2xvYmFsQWxwaGE7XG4gICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGFscGhhICogb3BhY2l0eTtcbiAgfVxuICBpZiAodHJhbnNmb3JtKSB7XG4gICAgY29udGV4dC5zZXRUcmFuc2Zvcm0uYXBwbHkoY29udGV4dCwgdHJhbnNmb3JtKTtcbiAgfVxuXG4gIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCBvcmlnaW5YLCBvcmlnaW5ZLCB3LCBoLCB4LCB5LCB3ICogc2NhbGUsIGggKiBzY2FsZSk7XG5cbiAgaWYgKGFscGhhKSB7XG4gICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGFscGhhO1xuICB9XG4gIGlmICh0cmFuc2Zvcm0pIHtcbiAgICBjb250ZXh0LnNldFRyYW5zZm9ybS5hcHBseShjb250ZXh0LCByZXNldFRyYW5zZm9ybSk7XG4gIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FudmFzLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9jb2xvclxuICovXG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7Y2xhbXB9IGZyb20gJy4vbWF0aC5qcyc7XG5cblxuLyoqXG4gKiBBIGNvbG9yIHJlcHJlc2VudGVkIGFzIGEgc2hvcnQgYXJyYXkgW3JlZCwgZ3JlZW4sIGJsdWUsIGFscGhhXS5cbiAqIHJlZCwgZ3JlZW4sIGFuZCBibHVlIHNob3VsZCBiZSBpbnRlZ2VycyBpbiB0aGUgcmFuZ2UgMC4uMjU1IGluY2x1c2l2ZS5cbiAqIGFscGhhIHNob3VsZCBiZSBhIGZsb2F0IGluIHRoZSByYW5nZSAwLi4xIGluY2x1c2l2ZS4gSWYgbm8gYWxwaGEgdmFsdWUgaXNcbiAqIGdpdmVuIHRoZW4gYDFgIHdpbGwgYmUgdXNlZC5cbiAqIEB0eXBlZGVmIHtBcnJheTxudW1iZXI+fSBDb2xvclxuICogQGFwaVxuICovXG5cblxuLyoqXG4gKiBUaGlzIFJlZ0V4cCBtYXRjaGVzICMgZm9sbG93ZWQgYnkgMywgNCwgNiwgb3IgOCBoZXggZGlnaXRzLlxuICogQGNvbnN0XG4gKiBAdHlwZSB7UmVnRXhwfVxuICogQHByaXZhdGVcbiAqL1xudmFyIEhFWF9DT0xPUl9SRV8gPSAvXiMoW2EtZjAtOV17M318W2EtZjAtOV17NH0oPzpbYS1mMC05XXsyfSl7MCwyfSkkL2k7XG5cblxuLyoqXG4gKiBSZWd1bGFyIGV4cHJlc3Npb24gZm9yIG1hdGNoaW5nIHBvdGVudGlhbCBuYW1lZCBjb2xvciBzdHlsZSBzdHJpbmdzLlxuICogQGNvbnN0XG4gKiBAdHlwZSB7UmVnRXhwfVxuICogQHByaXZhdGVcbiAqL1xudmFyIE5BTUVEX0NPTE9SX1JFXyA9IC9eKFthLXpdKikkL2k7XG5cblxuLyoqXG4gKiBSZXR1cm4gdGhlIGNvbG9yIGFzIGFuIHJnYmEgc3RyaW5nLlxuICogQHBhcmFtIHtDb2xvcnxzdHJpbmd9IGNvbG9yIENvbG9yLlxuICogQHJldHVybiB7c3RyaW5nfSBSZ2JhIHN0cmluZy5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzU3RyaW5nKGNvbG9yKSB7XG4gIGlmICh0eXBlb2YgY29sb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGNvbG9yO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0b1N0cmluZyhjb2xvcik7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm4gbmFtZWQgY29sb3IgYXMgYW4gcmdiYSBzdHJpbmcuXG4gKiBAcGFyYW0ge3N0cmluZ30gY29sb3IgTmFtZWQgY29sb3IuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFJnYiBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGZyb21OYW1lZChjb2xvcikge1xuICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZWwuc3R5bGUuY29sb3IgPSBjb2xvcjtcbiAgaWYgKGVsLnN0eWxlLmNvbG9yICE9PSAnJykge1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWwpO1xuICAgIHZhciByZ2IgPSBnZXRDb21wdXRlZFN0eWxlKGVsKS5jb2xvcjtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsKTtcbiAgICByZXR1cm4gcmdiO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAnJztcbiAgfVxufVxuXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHMgU3RyaW5nLlxuICogQHJldHVybiB7Q29sb3J9IENvbG9yLlxuICovXG5leHBvcnQgdmFyIGZyb21TdHJpbmcgPSAoXG4gIGZ1bmN0aW9uKCkge1xuXG4gICAgLy8gV2UgbWFpbnRhaW4gYSBzbWFsbCBjYWNoZSBvZiBwYXJzZWQgc3RyaW5ncy4gIFRvIHByb3ZpZGUgY2hlYXAgTFJVLWxpa2VcbiAgICAvLyBzZW1hbnRpY3MsIHdoZW5ldmVyIHRoZSBjYWNoZSBncm93cyB0b28gbGFyZ2Ugd2Ugc2ltcGx5IGRlbGV0ZSBhblxuICAgIC8vIGFyYml0cmFyeSAyNSUgb2YgdGhlIGVudHJpZXMuXG5cbiAgICAvKipcbiAgICAgKiBAY29uc3RcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHZhciBNQVhfQ0FDSEVfU0laRSA9IDEwMjQ7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgQ29sb3I+fVxuICAgICAqL1xuICAgIHZhciBjYWNoZSA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB2YXIgY2FjaGVTaXplID0gMDtcblxuICAgIHJldHVybiAoXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzIFN0cmluZy5cbiAgICAgICAqIEByZXR1cm4ge0NvbG9yfSBDb2xvci5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24ocykge1xuICAgICAgICB2YXIgY29sb3I7XG4gICAgICAgIGlmIChjYWNoZS5oYXNPd25Qcm9wZXJ0eShzKSkge1xuICAgICAgICAgIGNvbG9yID0gY2FjaGVbc107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGNhY2hlU2l6ZSA+PSBNQVhfQ0FDSEVfU0laRSkge1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGNhY2hlKSB7XG4gICAgICAgICAgICAgIGlmICgoaSsrICYgMykgPT09IDApIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgY2FjaGVba2V5XTtcbiAgICAgICAgICAgICAgICAtLWNhY2hlU2l6ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb2xvciA9IGZyb21TdHJpbmdJbnRlcm5hbF8ocyk7XG4gICAgICAgICAgY2FjaGVbc10gPSBjb2xvcjtcbiAgICAgICAgICArK2NhY2hlU2l6ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgICB9XG4gICAgKTtcblxuICB9KSgpO1xuXG4vKipcbiAqIFJldHVybiB0aGUgY29sb3IgYXMgYW4gYXJyYXkuIFRoaXMgZnVuY3Rpb24gbWFpbnRhaW5zIGEgY2FjaGUgb2YgY2FsY3VsYXRlZFxuICogYXJyYXlzIHdoaWNoIG1lYW5zIHRoZSByZXN1bHQgc2hvdWxkIG5vdCBiZSBtb2RpZmllZC5cbiAqIEBwYXJhbSB7Q29sb3J8c3RyaW5nfSBjb2xvciBDb2xvci5cbiAqIEByZXR1cm4ge0NvbG9yfSBDb2xvci5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzQXJyYXkoY29sb3IpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoY29sb3IpKSB7XG4gICAgcmV0dXJuIGNvbG9yO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmcm9tU3RyaW5nKGNvbG9yKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzIFN0cmluZy5cbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJuIHtDb2xvcn0gQ29sb3IuXG4gKi9cbmZ1bmN0aW9uIGZyb21TdHJpbmdJbnRlcm5hbF8ocykge1xuICB2YXIgciwgZywgYiwgYSwgY29sb3I7XG5cbiAgaWYgKE5BTUVEX0NPTE9SX1JFXy5leGVjKHMpKSB7XG4gICAgcyA9IGZyb21OYW1lZChzKTtcbiAgfVxuXG4gIGlmIChIRVhfQ09MT1JfUkVfLmV4ZWMocykpIHsgLy8gaGV4XG4gICAgdmFyIG4gPSBzLmxlbmd0aCAtIDE7IC8vIG51bWJlciBvZiBoZXggZGlnaXRzXG4gICAgdmFyIGQ7IC8vIG51bWJlciBvZiBkaWdpdHMgcGVyIGNoYW5uZWxcbiAgICBpZiAobiA8PSA0KSB7XG4gICAgICBkID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgZCA9IDI7XG4gICAgfVxuICAgIHZhciBoYXNBbHBoYSA9IG4gPT09IDQgfHwgbiA9PT0gODtcbiAgICByID0gcGFyc2VJbnQocy5zdWJzdHIoMSArIDAgKiBkLCBkKSwgMTYpO1xuICAgIGcgPSBwYXJzZUludChzLnN1YnN0cigxICsgMSAqIGQsIGQpLCAxNik7XG4gICAgYiA9IHBhcnNlSW50KHMuc3Vic3RyKDEgKyAyICogZCwgZCksIDE2KTtcbiAgICBpZiAoaGFzQWxwaGEpIHtcbiAgICAgIGEgPSBwYXJzZUludChzLnN1YnN0cigxICsgMyAqIGQsIGQpLCAxNik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGEgPSAyNTU7XG4gICAgfVxuICAgIGlmIChkID09IDEpIHtcbiAgICAgIHIgPSAociA8PCA0KSArIHI7XG4gICAgICBnID0gKGcgPDwgNCkgKyBnO1xuICAgICAgYiA9IChiIDw8IDQpICsgYjtcbiAgICAgIGlmIChoYXNBbHBoYSkge1xuICAgICAgICBhID0gKGEgPDwgNCkgKyBhO1xuICAgICAgfVxuICAgIH1cbiAgICBjb2xvciA9IFtyLCBnLCBiLCBhIC8gMjU1XTtcbiAgfSBlbHNlIGlmIChzLmluZGV4T2YoJ3JnYmEoJykgPT0gMCkgeyAvLyByZ2JhKClcbiAgICBjb2xvciA9IHMuc2xpY2UoNSwgLTEpLnNwbGl0KCcsJykubWFwKE51bWJlcik7XG4gICAgbm9ybWFsaXplKGNvbG9yKTtcbiAgfSBlbHNlIGlmIChzLmluZGV4T2YoJ3JnYignKSA9PSAwKSB7IC8vIHJnYigpXG4gICAgY29sb3IgPSBzLnNsaWNlKDQsIC0xKS5zcGxpdCgnLCcpLm1hcChOdW1iZXIpO1xuICAgIGNvbG9yLnB1c2goMSk7XG4gICAgbm9ybWFsaXplKGNvbG9yKTtcbiAgfSBlbHNlIHtcbiAgICBhc3NlcnQoZmFsc2UsIDE0KTsgLy8gSW52YWxpZCBjb2xvclxuICB9XG4gIHJldHVybiBjb2xvcjtcbn1cblxuXG4vKipcbiAqIFRPRE8gdGhpcyBmdW5jdGlvbiBpcyBvbmx5IHVzZWQgaW4gdGhlIHRlc3QsIHdlIHByb2JhYmx5IHNob3VsZG4ndCBleHBvcnQgaXRcbiAqIEBwYXJhbSB7Q29sb3J9IGNvbG9yIENvbG9yLlxuICogQHJldHVybiB7Q29sb3J9IENsYW1wZWQgY29sb3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUoY29sb3IpIHtcbiAgY29sb3JbMF0gPSBjbGFtcCgoY29sb3JbMF0gKyAwLjUpIHwgMCwgMCwgMjU1KTtcbiAgY29sb3JbMV0gPSBjbGFtcCgoY29sb3JbMV0gKyAwLjUpIHwgMCwgMCwgMjU1KTtcbiAgY29sb3JbMl0gPSBjbGFtcCgoY29sb3JbMl0gKyAwLjUpIHwgMCwgMCwgMjU1KTtcbiAgY29sb3JbM10gPSBjbGFtcChjb2xvclszXSwgMCwgMSk7XG4gIHJldHVybiBjb2xvcjtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7Q29sb3J9IGNvbG9yIENvbG9yLlxuICogQHJldHVybiB7c3RyaW5nfSBTdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1N0cmluZyhjb2xvcikge1xuICB2YXIgciA9IGNvbG9yWzBdO1xuICBpZiAociAhPSAociB8IDApKSB7XG4gICAgciA9IChyICsgMC41KSB8IDA7XG4gIH1cbiAgdmFyIGcgPSBjb2xvclsxXTtcbiAgaWYgKGcgIT0gKGcgfCAwKSkge1xuICAgIGcgPSAoZyArIDAuNSkgfCAwO1xuICB9XG4gIHZhciBiID0gY29sb3JbMl07XG4gIGlmIChiICE9IChiIHwgMCkpIHtcbiAgICBiID0gKGIgKyAwLjUpIHwgMDtcbiAgfVxuICB2YXIgYSA9IGNvbG9yWzNdID09PSB1bmRlZmluZWQgPyAxIDogY29sb3JbM107XG4gIHJldHVybiAncmdiYSgnICsgciArICcsJyArIGcgKyAnLCcgKyBiICsgJywnICsgYSArICcpJztcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29sb3IuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2Nzc1xuICovXG5cblxuLyoqXG4gKiBUaGUgQ1NTIGNsYXNzIGZvciBoaWRkZW4gZmVhdHVyZS5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCB2YXIgQ0xBU1NfSElEREVOID0gJ29sLWhpZGRlbic7XG5cblxuLyoqXG4gKiBUaGUgQ1NTIGNsYXNzIHRoYXQgd2UnbGwgZ2l2ZSB0aGUgRE9NIGVsZW1lbnRzIHRvIGhhdmUgdGhlbSBzZWxlY3RhYmxlLlxuICpcbiAqIEBjb25zdFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IHZhciBDTEFTU19TRUxFQ1RBQkxFID0gJ29sLXNlbGVjdGFibGUnO1xuXG5cbi8qKlxuICogVGhlIENTUyBjbGFzcyB0aGF0IHdlJ2xsIGdpdmUgdGhlIERPTSBlbGVtZW50cyB0byBoYXZlIHRoZW0gdW5zZWxlY3RhYmxlLlxuICpcbiAqIEBjb25zdFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IHZhciBDTEFTU19VTlNFTEVDVEFCTEUgPSAnb2wtdW5zZWxlY3RhYmxlJztcblxuXG4vKipcbiAqIFRoZSBDU1MgY2xhc3MgZm9yIHVuc3VwcG9ydGVkIGZlYXR1cmUuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIENMQVNTX1VOU1VQUE9SVEVEID0gJ29sLXVuc3VwcG9ydGVkJztcblxuXG4vKipcbiAqIFRoZSBDU1MgY2xhc3MgZm9yIGNvbnRyb2xzLlxuICpcbiAqIEBjb25zdFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IHZhciBDTEFTU19DT05UUk9MID0gJ29sLWNvbnRyb2wnO1xuXG5cbi8qKlxuICogVGhlIENTUyBjbGFzcyB0aGF0IHdlJ2xsIGdpdmUgdGhlIERPTSBlbGVtZW50cyB0aGF0IGFyZSBjb2xsYXBzZWQsIGkuZS5cbiAqIHRvIHRob3NlIGVsZW1lbnRzIHdoaWNoIHVzdWFsbHkgY2FuIGJlIGV4cGFuZGVkLlxuICpcbiAqIEBjb25zdFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IHZhciBDTEFTU19DT0xMQVBTRUQgPSAnb2wtY29sbGFwc2VkJztcblxuXG4vKipcbiAqIEdldCB0aGUgbGlzdCBvZiBmb250IGZhbWlsaWVzIGZyb20gYSBmb250IHNwZWMuICBOb3RlIHRoYXQgdGhpcyBkb2Vzbid0IHdvcmtcbiAqIGZvciBmb250IGZhbWlsaWVzIHRoYXQgaGF2ZSBjb21tYXMgaW4gdGhlbS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBUaGUgQ1NTIGZvbnQgcHJvcGVydHkuXG4gKiBAcmV0dXJuIHtPYmplY3Q8c3RyaW5nPn0gVGhlIGZvbnQgZmFtaWxpZXMgKG9yIG51bGwgaWYgdGhlIGlucHV0IHNwZWMgaXMgaW52YWxpZCkuXG4gKi9cbmV4cG9ydCB2YXIgZ2V0Rm9udEZhbWlsaWVzID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgc3R5bGU7XG4gIHZhciBjYWNoZSA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24oZm9udCkge1xuICAgIGlmICghc3R5bGUpIHtcbiAgICAgIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jykuc3R5bGU7XG4gICAgfVxuICAgIGlmICghKGZvbnQgaW4gY2FjaGUpKSB7XG4gICAgICBzdHlsZS5mb250ID0gZm9udDtcbiAgICAgIHZhciBmYW1pbHkgPSBzdHlsZS5mb250RmFtaWx5O1xuICAgICAgc3R5bGUuZm9udCA9ICcnO1xuICAgICAgaWYgKCFmYW1pbHkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjYWNoZVtmb250XSA9IGZhbWlseS5zcGxpdCgvLFxccz8vKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlW2ZvbnRdO1xuICB9O1xufSkoKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3NzLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9jb2xvcmxpa2VcbiAqL1xuaW1wb3J0IHt0b1N0cmluZ30gZnJvbSAnLi9jb2xvci5qcyc7XG5cblxuLyoqXG4gKiBBIHR5cGUgYWNjZXB0ZWQgYnkgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELmZpbGxTdHlsZVxuICogb3IgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELnN0cm9rZVN0eWxlLlxuICogUmVwcmVzZW50cyBhIGNvbG9yLCBwYXR0ZXJuLCBvciBncmFkaWVudC4gVGhlIG9yaWdpbiBmb3IgcGF0dGVybnMgYW5kXG4gKiBncmFkaWVudHMgYXMgZmlsbCBzdHlsZSBpcyBhbiBpbmNyZW1lbnQgb2YgNTEyIGNzcyBwaXhlbHMgZnJvbSBtYXAgY29vcmRpbmF0ZVxuICogYFswLCAwXWAuIEZvciBzZWFtbGVzcyByZXBlYXQgcGF0dGVybnMsIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHBhdHRlcm4gaW1hZ2VcbiAqIG11c3QgYmUgYSBmYWN0b3Igb2YgdHdvICgyLCA0LCA4LCAuLi4sIDUxMikuXG4gKlxuICogQHR5cGVkZWYge3N0cmluZ3xDYW52YXNQYXR0ZXJufENhbnZhc0dyYWRpZW50fSBDb2xvckxpa2VcbiAqIEBhcGlcbiAqL1xuXG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2NvbG9yLmpzXCIpLkNvbG9yfENvbG9yTGlrZX0gY29sb3IgQ29sb3IuXG4gKiBAcmV0dXJuIHtDb2xvckxpa2V9IFRoZSBjb2xvciBhcyBhbiB7QGxpbmsgb2wvY29sb3JsaWtlfkNvbG9yTGlrZX0uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc0NvbG9yTGlrZShjb2xvcikge1xuICBpZiAoQXJyYXkuaXNBcnJheShjb2xvcikpIHtcbiAgICByZXR1cm4gdG9TdHJpbmcoY29sb3IpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjb2xvcjtcbiAgfVxufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb2xvcmxpa2UuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0eWxlL0ltYWdlXG4gKi9cbmltcG9ydCB7YWJzdHJhY3R9IGZyb20gJy4uL3V0aWwuanMnO1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IG9wYWNpdHlcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcm90YXRlV2l0aFZpZXdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByb3RhdGlvblxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNjYWxlXG4gKi9cblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEEgYmFzZSBjbGFzcyB1c2VkIGZvciBjcmVhdGluZyBzdWJjbGFzc2VzIGFuZCBub3QgaW5zdGFudGlhdGVkIGluXG4gKiBhcHBzLiBCYXNlIGNsYXNzIGZvciB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlL0ljb25+SWNvbn0sIHtAbGluayBtb2R1bGU6b2wvc3R5bGUvQ2lyY2xlfkNpcmNsZVN0eWxlfSBhbmRcbiAqIHtAbGluayBtb2R1bGU6b2wvc3R5bGUvUmVndWxhclNoYXBlflJlZ3VsYXJTaGFwZX0uXG4gKiBAYWJzdHJhY3RcbiAqIEBhcGlcbiAqL1xudmFyIEltYWdlU3R5bGUgPSBmdW5jdGlvbiBJbWFnZVN0eWxlKG9wdGlvbnMpIHtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHRoaXMub3BhY2l0eV8gPSBvcHRpb25zLm9wYWNpdHk7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgdGhpcy5yb3RhdGVXaXRoVmlld18gPSBvcHRpb25zLnJvdGF0ZVdpdGhWaWV3O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgdGhpcy5yb3RhdGlvbl8gPSBvcHRpb25zLnJvdGF0aW9uO1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgdGhpcy5zY2FsZV8gPSBvcHRpb25zLnNjYWxlO1xuXG59O1xuXG4vKipcbiAqIENsb25lcyB0aGUgc3R5bGUuXG4gKiBAcmV0dXJuIHtJbWFnZVN0eWxlfSBUaGUgY2xvbmVkIHN0eWxlLlxuICogQGFwaVxuICovXG5JbWFnZVN0eWxlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lICgpIHtcbiAgcmV0dXJuIG5ldyBJbWFnZVN0eWxlKHtcbiAgICBvcGFjaXR5OiB0aGlzLmdldE9wYWNpdHkoKSxcbiAgICBzY2FsZTogdGhpcy5nZXRTY2FsZSgpLFxuICAgIHJvdGF0aW9uOiB0aGlzLmdldFJvdGF0aW9uKCksXG4gICAgcm90YXRlV2l0aFZpZXc6IHRoaXMuZ2V0Um90YXRlV2l0aFZpZXcoKVxuICB9KTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBzeW1ib2xpemVyIG9wYWNpdHkuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE9wYWNpdHkuXG4gKiBAYXBpXG4gKi9cbkltYWdlU3R5bGUucHJvdG90eXBlLmdldE9wYWNpdHkgPSBmdW5jdGlvbiBnZXRPcGFjaXR5ICgpIHtcbiAgcmV0dXJuIHRoaXMub3BhY2l0eV87XG59O1xuXG4vKipcbiAqIERldGVybWluZSB3aGV0aGVyIHRoZSBzeW1ib2xpemVyIHJvdGF0ZXMgd2l0aCB0aGUgbWFwLlxuICogQHJldHVybiB7Ym9vbGVhbn0gUm90YXRlIHdpdGggbWFwLlxuICogQGFwaVxuICovXG5JbWFnZVN0eWxlLnByb3RvdHlwZS5nZXRSb3RhdGVXaXRoVmlldyA9IGZ1bmN0aW9uIGdldFJvdGF0ZVdpdGhWaWV3ICgpIHtcbiAgcmV0dXJuIHRoaXMucm90YXRlV2l0aFZpZXdfO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIHN5bW9ibGl6ZXIgcm90YXRpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFJvdGF0aW9uLlxuICogQGFwaVxuICovXG5JbWFnZVN0eWxlLnByb3RvdHlwZS5nZXRSb3RhdGlvbiA9IGZ1bmN0aW9uIGdldFJvdGF0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMucm90YXRpb25fO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIHN5bWJvbGl6ZXIgc2NhbGUuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNjYWxlLlxuICogQGFwaVxuICovXG5JbWFnZVN0eWxlLnByb3RvdHlwZS5nZXRTY2FsZSA9IGZ1bmN0aW9uIGdldFNjYWxlICgpIHtcbiAgcmV0dXJuIHRoaXMuc2NhbGVfO1xufTtcblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBkZXByZWNhdGVkIGFuZCBhbHdheXMgcmV0dXJucyBmYWxzZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IGZhbHNlLlxuICogQGRlcHJlY2F0ZWRcbiAqIEBhcGlcbiAqL1xuSW1hZ2VTdHlsZS5wcm90b3R5cGUuZ2V0U25hcFRvUGl4ZWwgPSBmdW5jdGlvbiBnZXRTbmFwVG9QaXhlbCAoKSB7XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBhbmNob3IgcG9pbnQgaW4gcGl4ZWxzLiBUaGUgYW5jaG9yIGRldGVybWluZXMgdGhlIGNlbnRlciBwb2ludCBmb3IgdGhlXG4gKiBzeW1ib2xpemVyLlxuICogQGFic3RyYWN0XG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBBbmNob3IuXG4gKi9cbkltYWdlU3R5bGUucHJvdG90eXBlLmdldEFuY2hvciA9IGZ1bmN0aW9uIGdldEFuY2hvciAoKSB7XG4gIHJldHVybiBhYnN0cmFjdCgpO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIGltYWdlIGVsZW1lbnQgZm9yIHRoZSBzeW1ib2xpemVyLlxuICogQGFic3RyYWN0XG4gKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudH0gSW1hZ2UgZWxlbWVudC5cbiAqL1xuSW1hZ2VTdHlsZS5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiBnZXRJbWFnZSAocGl4ZWxSYXRpbykge1xuICByZXR1cm4gYWJzdHJhY3QoKTtcbn07XG5cbi8qKlxuICogQGFic3RyYWN0XG4gKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudH0gSW1hZ2UgZWxlbWVudC5cbiAqL1xuSW1hZ2VTdHlsZS5wcm90b3R5cGUuZ2V0SGl0RGV0ZWN0aW9uSW1hZ2UgPSBmdW5jdGlvbiBnZXRIaXREZXRlY3Rpb25JbWFnZSAocGl4ZWxSYXRpbykge1xuICByZXR1cm4gYWJzdHJhY3QoKTtcbn07XG5cbi8qKlxuICogQGFic3RyYWN0XG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9JbWFnZVN0YXRlLmpzXCIpLmRlZmF1bHR9IEltYWdlIHN0YXRlLlxuICovXG5JbWFnZVN0eWxlLnByb3RvdHlwZS5nZXRJbWFnZVN0YXRlID0gZnVuY3Rpb24gZ2V0SW1hZ2VTdGF0ZSAoKSB7XG4gIHJldHVybiBhYnN0cmFjdCgpO1xufTtcblxuLyoqXG4gKiBAYWJzdHJhY3RcbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gSW1hZ2Ugc2l6ZS5cbiAqL1xuSW1hZ2VTdHlsZS5wcm90b3R5cGUuZ2V0SW1hZ2VTaXplID0gZnVuY3Rpb24gZ2V0SW1hZ2VTaXplICgpIHtcbiAgcmV0dXJuIGFic3RyYWN0KCk7XG59O1xuXG4vKipcbiAqIEBhYnN0cmFjdFxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBTaXplIG9mIHRoZSBoaXQtZGV0ZWN0aW9uIGltYWdlLlxuICovXG5JbWFnZVN0eWxlLnByb3RvdHlwZS5nZXRIaXREZXRlY3Rpb25JbWFnZVNpemUgPSBmdW5jdGlvbiBnZXRIaXREZXRlY3Rpb25JbWFnZVNpemUgKCkge1xuICByZXR1cm4gYWJzdHJhY3QoKTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBvcmlnaW4gb2YgdGhlIHN5bWJvbGl6ZXIuXG4gKiBAYWJzdHJhY3RcbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IE9yaWdpbi5cbiAqL1xuSW1hZ2VTdHlsZS5wcm90b3R5cGUuZ2V0T3JpZ2luID0gZnVuY3Rpb24gZ2V0T3JpZ2luICgpIHtcbiAgcmV0dXJuIGFic3RyYWN0KCk7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgc2l6ZSBvZiB0aGUgc3ltYm9saXplciAoaW4gcGl4ZWxzKS5cbiAqIEBhYnN0cmFjdFxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBTaXplLlxuICovXG5JbWFnZVN0eWxlLnByb3RvdHlwZS5nZXRTaXplID0gZnVuY3Rpb24gZ2V0U2l6ZSAoKSB7XG4gIHJldHVybiBhYnN0cmFjdCgpO1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIG9wYWNpdHkuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IG9wYWNpdHkgT3BhY2l0eS5cbiAqIEBhcGlcbiAqL1xuSW1hZ2VTdHlsZS5wcm90b3R5cGUuc2V0T3BhY2l0eSA9IGZ1bmN0aW9uIHNldE9wYWNpdHkgKG9wYWNpdHkpIHtcbiAgdGhpcy5vcGFjaXR5XyA9IG9wYWNpdHk7XG59O1xuXG4vKipcbiAqIFNldCB3aGV0aGVyIHRvIHJvdGF0ZSB0aGUgc3R5bGUgd2l0aCB0aGUgdmlldy5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHJvdGF0ZVdpdGhWaWV3IFJvdGF0ZSB3aXRoIG1hcC5cbiAqIEBhcGlcbiAqL1xuSW1hZ2VTdHlsZS5wcm90b3R5cGUuc2V0Um90YXRlV2l0aFZpZXcgPSBmdW5jdGlvbiBzZXRSb3RhdGVXaXRoVmlldyAocm90YXRlV2l0aFZpZXcpIHtcbiAgdGhpcy5yb3RhdGVXaXRoVmlld18gPSByb3RhdGVXaXRoVmlldztcbn07XG5cbi8qKlxuICogU2V0IHRoZSByb3RhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gUm90YXRpb24uXG4gKiBAYXBpXG4gKi9cbkltYWdlU3R5bGUucHJvdG90eXBlLnNldFJvdGF0aW9uID0gZnVuY3Rpb24gc2V0Um90YXRpb24gKHJvdGF0aW9uKSB7XG4gIHRoaXMucm90YXRpb25fID0gcm90YXRpb247XG59O1xuLyoqXG4gKiBTZXQgdGhlIHNjYWxlLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZSBTY2FsZS5cbiAqIEBhcGlcbiAqL1xuSW1hZ2VTdHlsZS5wcm90b3R5cGUuc2V0U2NhbGUgPSBmdW5jdGlvbiBzZXRTY2FsZSAoc2NhbGUpIHtcbiAgdGhpcy5zY2FsZV8gPSBzY2FsZTtcbn07XG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgZGVwcmVjYXRlZCBhbmQgZG9lcyBub3RoaW5nLlxuICogQHBhcmFtIHtib29sZWFufSBzbmFwVG9QaXhlbCBTbmFwIHRvIHBpeGVsP1xuICogQGRlcHJlY2F0ZWRcbiAqIEBhcGlcbiAqL1xuSW1hZ2VTdHlsZS5wcm90b3R5cGUuc2V0U25hcFRvUGl4ZWwgPSBmdW5jdGlvbiBzZXRTbmFwVG9QaXhlbCAoc25hcFRvUGl4ZWwpIHt9O1xuXG4vKipcbiAqIEBhYnN0cmFjdFxuICogQHBhcmFtIHtmdW5jdGlvbih0aGlzOiBULCBpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCl9IGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtUfSB0aGlzQXJnIFZhbHVlIHRvIHVzZSBhcyBgdGhpc2Agd2hlbiBleGVjdXRpbmcgYGxpc3RlbmVyYC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl8dW5kZWZpbmVkfSBMaXN0ZW5lciBrZXkuXG4gKiBAdGVtcGxhdGUgVFxuICovXG5JbWFnZVN0eWxlLnByb3RvdHlwZS5saXN0ZW5JbWFnZUNoYW5nZSA9IGZ1bmN0aW9uIGxpc3RlbkltYWdlQ2hhbmdlIChsaXN0ZW5lciwgdGhpc0FyZykge1xuICByZXR1cm4gYWJzdHJhY3QoKTtcbn07XG5cbi8qKlxuICogTG9hZCBub3QgeWV0IGxvYWRlZCBVUkkuXG4gKiBAYWJzdHJhY3RcbiAqL1xuSW1hZ2VTdHlsZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQgKCkge1xuICBhYnN0cmFjdCgpO1xufTtcblxuLyoqXG4gKiBAYWJzdHJhY3RcbiAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczogVCwgaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQpfSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7VH0gdGhpc0FyZyBWYWx1ZSB0byB1c2UgYXMgYHRoaXNgIHdoZW4gZXhlY3V0aW5nIGBsaXN0ZW5lcmAuXG4gKiBAdGVtcGxhdGUgVFxuICovXG5JbWFnZVN0eWxlLnByb3RvdHlwZS51bmxpc3RlbkltYWdlQ2hhbmdlID0gZnVuY3Rpb24gdW5saXN0ZW5JbWFnZUNoYW5nZSAobGlzdGVuZXIsIHRoaXNBcmcpIHtcbiAgYWJzdHJhY3QoKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEltYWdlU3R5bGU7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUltYWdlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9GaWxsXG4gKi9cbmltcG9ydCB7Z2V0VWlkfSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCB7YXNTdHJpbmd9IGZyb20gJy4uL2NvbG9yLmpzJztcblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW2NvbG9yXSBBIGNvbG9yLCBncmFkaWVudCBvciBwYXR0ZXJuLlxuICogU2VlIHtAbGluayBtb2R1bGU6b2wvY29sb3J+Q29sb3J9IGFuZCB7QGxpbmsgbW9kdWxlOm9sL2NvbG9ybGlrZX5Db2xvckxpa2V9IGZvciBwb3NzaWJsZSBmb3JtYXRzLlxuICogRGVmYXVsdCBudWxsOyBpZiBudWxsLCB0aGUgQ2FudmFzL3JlbmRlcmVyIGRlZmF1bHQgYmxhY2sgd2lsbCBiZSB1c2VkLlxuICovXG5cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBTZXQgZmlsbCBzdHlsZSBmb3IgdmVjdG9yIGZlYXR1cmVzLlxuICogQGFwaVxuICovXG52YXIgRmlsbCA9IGZ1bmN0aW9uIEZpbGwob3B0X29wdGlvbnMpIHtcblxuICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX1cbiAgICovXG4gIHRoaXMuY29sb3JfID0gb3B0aW9ucy5jb2xvciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jb2xvciA6IG51bGw7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEB0eXBlIHtzdHJpbmd8dW5kZWZpbmVkfVxuICAgKi9cbiAgdGhpcy5jaGVja3N1bV8gPSB1bmRlZmluZWQ7XG59O1xuXG4vKipcbiAqIENsb25lcyB0aGUgc3R5bGUuIFRoZSBjb2xvciBpcyBub3QgY2xvbmVkIGlmIGl0IGlzIGFuIHtAbGluayBtb2R1bGU6b2wvY29sb3JsaWtlfkNvbG9yTGlrZX0uXG4gKiBAcmV0dXJuIHtGaWxsfSBUaGUgY2xvbmVkIHN0eWxlLlxuICogQGFwaVxuICovXG5GaWxsLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lICgpIHtcbiAgdmFyIGNvbG9yID0gdGhpcy5nZXRDb2xvcigpO1xuICByZXR1cm4gbmV3IEZpbGwoe1xuICAgIGNvbG9yOiBBcnJheS5pc0FycmF5KGNvbG9yKSA/IGNvbG9yLnNsaWNlKCkgOiBjb2xvciB8fCB1bmRlZmluZWRcbiAgfSk7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgZmlsbCBjb2xvci5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IENvbG9yLlxuICogQGFwaVxuICovXG5GaWxsLnByb3RvdHlwZS5nZXRDb2xvciA9IGZ1bmN0aW9uIGdldENvbG9yICgpIHtcbiAgcmV0dXJuIHRoaXMuY29sb3JfO1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIGNvbG9yLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gY29sb3IgQ29sb3IuXG4gKiBAYXBpXG4gKi9cbkZpbGwucHJvdG90eXBlLnNldENvbG9yID0gZnVuY3Rpb24gc2V0Q29sb3IgKGNvbG9yKSB7XG4gIHRoaXMuY29sb3JfID0gY29sb3I7XG4gIHRoaXMuY2hlY2tzdW1fID0gdW5kZWZpbmVkO1xufTtcblxuLyoqXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjaGVja3N1bS5cbiAqL1xuRmlsbC5wcm90b3R5cGUuZ2V0Q2hlY2tzdW0gPSBmdW5jdGlvbiBnZXRDaGVja3N1bSAoKSB7XG4gIGlmICh0aGlzLmNoZWNrc3VtXyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIGNvbG9yID0gdGhpcy5jb2xvcl87XG4gICAgaWYgKGNvbG9yKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShjb2xvcikgfHwgdHlwZW9mIGNvbG9yID09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRoaXMuY2hlY2tzdW1fID0gJ2YnICsgYXNTdHJpbmcoLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxzdHJpbmd9ICovIChjb2xvcikpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jaGVja3N1bV8gPSBnZXRVaWQodGhpcy5jb2xvcl8pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNoZWNrc3VtXyA9ICdmLSc7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXMuY2hlY2tzdW1fO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRmlsbDtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmlsbC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc3RydWN0cy9MUlVDYWNoZVxuICovXG5cbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbmltcG9ydCBFdmVudFRhcmdldCBmcm9tICcuLi9ldmVudHMvVGFyZ2V0LmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBFbnRyeVxuICogQHByb3BlcnR5IHtzdHJpbmd9IGtleV9cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBuZXdlclxuICogQHByb3BlcnR5IHtPYmplY3R9IG9sZGVyXG4gKiBAcHJvcGVydHkgeyp9IHZhbHVlX1xuICovXG5cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBJbXBsZW1lbnRzIGEgTGVhc3QtUmVjZW50bHktVXNlZCBjYWNoZSB3aGVyZSB0aGUga2V5cyBkbyBub3QgY29uZmxpY3Qgd2l0aFxuICogT2JqZWN0J3MgcHJvcGVydGllcyAoZS5nLiAnaGFzT3duUHJvcGVydHknIGlzIG5vdCBhbGxvd2VkIGFzIGEga2V5KS4gRXhwaXJpbmdcbiAqIGl0ZW1zIGZyb20gdGhlIGNhY2hlIGlzIHRoZSByZXNwb25zaWJpbGl0eSBvZiB0aGUgdXNlci5cbiAqXG4gKiBAZmlyZXMgaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLkV2ZW50XG4gKiBAdGVtcGxhdGUgVFxuICovXG52YXIgTFJVQ2FjaGUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChFdmVudFRhcmdldCkge1xuICBmdW5jdGlvbiBMUlVDYWNoZShvcHRfaGlnaFdhdGVyTWFyaykge1xuXG4gICAgRXZlbnRUYXJnZXQuY2FsbCh0aGlzKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5oaWdoV2F0ZXJNYXJrID0gb3B0X2hpZ2hXYXRlck1hcmsgIT09IHVuZGVmaW5lZCA/IG9wdF9oaWdoV2F0ZXJNYXJrIDogMjA0ODtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmNvdW50XyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgRW50cnk+fVxuICAgICAqL1xuICAgIHRoaXMuZW50cmllc18gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez9FbnRyeX1cbiAgICAgKi9cbiAgICB0aGlzLm9sZGVzdF8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P0VudHJ5fVxuICAgICAqL1xuICAgIHRoaXMubmV3ZXN0XyA9IG51bGw7XG5cbiAgfVxuXG4gIGlmICggRXZlbnRUYXJnZXQgKSBMUlVDYWNoZS5fX3Byb3RvX18gPSBFdmVudFRhcmdldDtcbiAgTFJVQ2FjaGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZlbnRUYXJnZXQgJiYgRXZlbnRUYXJnZXQucHJvdG90eXBlICk7XG4gIExSVUNhY2hlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExSVUNhY2hlO1xuXG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IENhbiBleHBpcmUgY2FjaGUuXG4gICAqL1xuICBMUlVDYWNoZS5wcm90b3R5cGUuY2FuRXhwaXJlQ2FjaGUgPSBmdW5jdGlvbiBjYW5FeHBpcmVDYWNoZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q291bnQoKSA+IHRoaXMuaGlnaFdhdGVyTWFyaztcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBGSVhNRSBlbXB0eSBkZXNjcmlwdGlvbiBmb3IganNkb2NcbiAgICovXG4gIExSVUNhY2hlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpIHtcbiAgICB0aGlzLmNvdW50XyA9IDA7XG4gICAgdGhpcy5lbnRyaWVzXyA9IHt9O1xuICAgIHRoaXMub2xkZXN0XyA9IG51bGw7XG4gICAgdGhpcy5uZXdlc3RfID0gbnVsbDtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoRXZlbnRUeXBlLkNMRUFSKTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMga2V5LlxuICAgKi9cbiAgTFJVQ2FjaGUucHJvdG90eXBlLmNvbnRhaW5zS2V5ID0gZnVuY3Rpb24gY29udGFpbnNLZXkgKGtleSkge1xuICAgIHJldHVybiB0aGlzLmVudHJpZXNfLmhhc093blByb3BlcnR5KGtleSk7XG4gIH07XG5cblxuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbih0aGlzOiBTLCBULCBzdHJpbmcsIExSVUNhY2hlKTogP30gZiBUaGUgZnVuY3Rpb25cbiAgICogICAgIHRvIGNhbGwgZm9yIGV2ZXJ5IGVudHJ5IGZyb20gdGhlIG9sZGVzdCB0byB0aGUgbmV3ZXIuIFRoaXMgZnVuY3Rpb24gdGFrZXNcbiAgICogICAgIDMgYXJndW1lbnRzICh0aGUgZW50cnkgdmFsdWUsIHRoZSBlbnRyeSBrZXkgYW5kIHRoZSBMUlVDYWNoZSBvYmplY3QpLlxuICAgKiAgICAgVGhlIHJldHVybiB2YWx1ZSBpcyBpZ25vcmVkLlxuICAgKiBAcGFyYW0ge1M9fSBvcHRfdGhpcyBUaGUgb2JqZWN0IHRvIHVzZSBhcyBgdGhpc2AgaW4gYGZgLlxuICAgKiBAdGVtcGxhdGUgU1xuICAgKi9cbiAgTFJVQ2FjaGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiBmb3JFYWNoIChmLCBvcHRfdGhpcykge1xuICAgIHZhciBlbnRyeSA9IHRoaXMub2xkZXN0XztcbiAgICB3aGlsZSAoZW50cnkpIHtcbiAgICAgIGYuY2FsbChvcHRfdGhpcywgZW50cnkudmFsdWVfLCBlbnRyeS5rZXlfLCB0aGlzKTtcbiAgICAgIGVudHJ5ID0gZW50cnkubmV3ZXI7XG4gICAgfVxuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5LlxuICAgKiBAcmV0dXJuIHtUfSBWYWx1ZS5cbiAgICovXG4gIExSVUNhY2hlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKGtleSkge1xuICAgIHZhciBlbnRyeSA9IHRoaXMuZW50cmllc19ba2V5XTtcbiAgICBhc3NlcnQoZW50cnkgIT09IHVuZGVmaW5lZCxcbiAgICAgIDE1KTsgLy8gVHJpZWQgdG8gZ2V0IGEgdmFsdWUgZm9yIGEga2V5IHRoYXQgZG9lcyBub3QgZXhpc3QgaW4gdGhlIGNhY2hlXG4gICAgaWYgKGVudHJ5ID09PSB0aGlzLm5ld2VzdF8pIHtcbiAgICAgIHJldHVybiBlbnRyeS52YWx1ZV87XG4gICAgfSBlbHNlIGlmIChlbnRyeSA9PT0gdGhpcy5vbGRlc3RfKSB7XG4gICAgICB0aGlzLm9sZGVzdF8gPSAvKiogQHR5cGUge0VudHJ5fSAqLyAodGhpcy5vbGRlc3RfLm5ld2VyKTtcbiAgICAgIHRoaXMub2xkZXN0Xy5vbGRlciA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVudHJ5Lm5ld2VyLm9sZGVyID0gZW50cnkub2xkZXI7XG4gICAgICBlbnRyeS5vbGRlci5uZXdlciA9IGVudHJ5Lm5ld2VyO1xuICAgIH1cbiAgICBlbnRyeS5uZXdlciA9IG51bGw7XG4gICAgZW50cnkub2xkZXIgPSB0aGlzLm5ld2VzdF87XG4gICAgdGhpcy5uZXdlc3RfLm5ld2VyID0gZW50cnk7XG4gICAgdGhpcy5uZXdlc3RfID0gZW50cnk7XG4gICAgcmV0dXJuIGVudHJ5LnZhbHVlXztcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYW4gZW50cnkgZnJvbSB0aGUgY2FjaGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGVudHJ5IGtleS5cbiAgICogQHJldHVybiB7VH0gVGhlIHJlbW92ZWQgZW50cnkuXG4gICAqL1xuICBMUlVDYWNoZS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlIChrZXkpIHtcbiAgICB2YXIgZW50cnkgPSB0aGlzLmVudHJpZXNfW2tleV07XG4gICAgYXNzZXJ0KGVudHJ5ICE9PSB1bmRlZmluZWQsIDE1KTsgLy8gVHJpZWQgdG8gZ2V0IGEgdmFsdWUgZm9yIGEga2V5IHRoYXQgZG9lcyBub3QgZXhpc3QgaW4gdGhlIGNhY2hlXG4gICAgaWYgKGVudHJ5ID09PSB0aGlzLm5ld2VzdF8pIHtcbiAgICAgIHRoaXMubmV3ZXN0XyA9IC8qKiBAdHlwZSB7RW50cnl9ICovIChlbnRyeS5vbGRlcik7XG4gICAgICBpZiAodGhpcy5uZXdlc3RfKSB7XG4gICAgICAgIHRoaXMubmV3ZXN0Xy5uZXdlciA9IG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChlbnRyeSA9PT0gdGhpcy5vbGRlc3RfKSB7XG4gICAgICB0aGlzLm9sZGVzdF8gPSAvKiogQHR5cGUge0VudHJ5fSAqLyAoZW50cnkubmV3ZXIpO1xuICAgICAgaWYgKHRoaXMub2xkZXN0Xykge1xuICAgICAgICB0aGlzLm9sZGVzdF8ub2xkZXIgPSBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBlbnRyeS5uZXdlci5vbGRlciA9IGVudHJ5Lm9sZGVyO1xuICAgICAgZW50cnkub2xkZXIubmV3ZXIgPSBlbnRyeS5uZXdlcjtcbiAgICB9XG4gICAgZGVsZXRlIHRoaXMuZW50cmllc19ba2V5XTtcbiAgICAtLXRoaXMuY291bnRfO1xuICAgIHJldHVybiBlbnRyeS52YWx1ZV87XG4gIH07XG5cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfSBDb3VudC5cbiAgICovXG4gIExSVUNhY2hlLnByb3RvdHlwZS5nZXRDb3VudCA9IGZ1bmN0aW9uIGdldENvdW50ICgpIHtcbiAgICByZXR1cm4gdGhpcy5jb3VudF87XG4gIH07XG5cblxuICAvKipcbiAgICogQHJldHVybiB7QXJyYXk8c3RyaW5nPn0gS2V5cy5cbiAgICovXG4gIExSVUNhY2hlLnByb3RvdHlwZS5nZXRLZXlzID0gZnVuY3Rpb24gZ2V0S2V5cyAoKSB7XG4gICAgdmFyIGtleXMgPSBuZXcgQXJyYXkodGhpcy5jb3VudF8pO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgZW50cnk7XG4gICAgZm9yIChlbnRyeSA9IHRoaXMubmV3ZXN0XzsgZW50cnk7IGVudHJ5ID0gZW50cnkub2xkZXIpIHtcbiAgICAgIGtleXNbaSsrXSA9IGVudHJ5LmtleV87XG4gICAgfVxuICAgIHJldHVybiBrZXlzO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0FycmF5PFQ+fSBWYWx1ZXMuXG4gICAqL1xuICBMUlVDYWNoZS5wcm90b3R5cGUuZ2V0VmFsdWVzID0gZnVuY3Rpb24gZ2V0VmFsdWVzICgpIHtcbiAgICB2YXIgdmFsdWVzID0gbmV3IEFycmF5KHRoaXMuY291bnRfKTtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGVudHJ5O1xuICAgIGZvciAoZW50cnkgPSB0aGlzLm5ld2VzdF87IGVudHJ5OyBlbnRyeSA9IGVudHJ5Lm9sZGVyKSB7XG4gICAgICB2YWx1ZXNbaSsrXSA9IGVudHJ5LnZhbHVlXztcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlcztcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtUfSBMYXN0IHZhbHVlLlxuICAgKi9cbiAgTFJVQ2FjaGUucHJvdG90eXBlLnBlZWtMYXN0ID0gZnVuY3Rpb24gcGVla0xhc3QgKCkge1xuICAgIHJldHVybiB0aGlzLm9sZGVzdF8udmFsdWVfO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge3N0cmluZ30gTGFzdCBrZXkuXG4gICAqL1xuICBMUlVDYWNoZS5wcm90b3R5cGUucGVla0xhc3RLZXkgPSBmdW5jdGlvbiBwZWVrTGFzdEtleSAoKSB7XG4gICAgcmV0dXJuIHRoaXMub2xkZXN0Xy5rZXlfO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEdldCB0aGUga2V5IG9mIHRoZSBuZXdlc3QgaXRlbSBpbiB0aGUgY2FjaGUuICBUaHJvd3MgaWYgdGhlIGNhY2hlIGlzIGVtcHR5LlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBuZXdlc3Qga2V5LlxuICAgKi9cbiAgTFJVQ2FjaGUucHJvdG90eXBlLnBlZWtGaXJzdEtleSA9IGZ1bmN0aW9uIHBlZWtGaXJzdEtleSAoKSB7XG4gICAgcmV0dXJuIHRoaXMubmV3ZXN0Xy5rZXlfO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge1R9IHZhbHVlIFZhbHVlLlxuICAgKi9cbiAgTFJVQ2FjaGUucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uIHBvcCAoKSB7XG4gICAgdmFyIGVudHJ5ID0gdGhpcy5vbGRlc3RfO1xuICAgIGRlbGV0ZSB0aGlzLmVudHJpZXNfW2VudHJ5LmtleV9dO1xuICAgIGlmIChlbnRyeS5uZXdlcikge1xuICAgICAgZW50cnkubmV3ZXIub2xkZXIgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLm9sZGVzdF8gPSAvKiogQHR5cGUge0VudHJ5fSAqLyAoZW50cnkubmV3ZXIpO1xuICAgIGlmICghdGhpcy5vbGRlc3RfKSB7XG4gICAgICB0aGlzLm5ld2VzdF8gPSBudWxsO1xuICAgIH1cbiAgICAtLXRoaXMuY291bnRfO1xuICAgIHJldHVybiBlbnRyeS52YWx1ZV87XG4gIH07XG5cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkuXG4gICAqIEBwYXJhbSB7VH0gdmFsdWUgVmFsdWUuXG4gICAqL1xuICBMUlVDYWNoZS5wcm90b3R5cGUucmVwbGFjZSA9IGZ1bmN0aW9uIHJlcGxhY2UgKGtleSwgdmFsdWUpIHtcbiAgICB0aGlzLmdldChrZXkpOyAvLyB1cGRhdGUgYG5ld2VzdF9gXG4gICAgdGhpcy5lbnRyaWVzX1trZXldLnZhbHVlXyA9IHZhbHVlO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5LlxuICAgKiBAcGFyYW0ge1R9IHZhbHVlIFZhbHVlLlxuICAgKi9cbiAgTFJVQ2FjaGUucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIHNldCAoa2V5LCB2YWx1ZSkge1xuICAgIGFzc2VydCghKGtleSBpbiB0aGlzLmVudHJpZXNfKSxcbiAgICAgIDE2KTsgLy8gVHJpZWQgdG8gc2V0IGEgdmFsdWUgZm9yIGEga2V5IHRoYXQgaXMgdXNlZCBhbHJlYWR5XG4gICAgdmFyIGVudHJ5ID0gLyoqIEB0eXBlIHtFbnRyeX0gKi8gKHtcbiAgICAgIGtleV86IGtleSxcbiAgICAgIG5ld2VyOiBudWxsLFxuICAgICAgb2xkZXI6IHRoaXMubmV3ZXN0XyxcbiAgICAgIHZhbHVlXzogdmFsdWVcbiAgICB9KTtcbiAgICBpZiAoIXRoaXMubmV3ZXN0Xykge1xuICAgICAgdGhpcy5vbGRlc3RfID0gZW50cnk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubmV3ZXN0Xy5uZXdlciA9IGVudHJ5O1xuICAgIH1cbiAgICB0aGlzLm5ld2VzdF8gPSBlbnRyeTtcbiAgICB0aGlzLmVudHJpZXNfW2tleV0gPSBlbnRyeTtcbiAgICArK3RoaXMuY291bnRfO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIFNldCBhIG1heGltdW0gbnVtYmVyIG9mIGVudHJpZXMgZm9yIHRoZSBjYWNoZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgQ2FjaGUgc2l6ZS5cbiAgICogQGFwaVxuICAgKi9cbiAgTFJVQ2FjaGUucHJvdG90eXBlLnNldFNpemUgPSBmdW5jdGlvbiBzZXRTaXplIChzaXplKSB7XG4gICAgdGhpcy5oaWdoV2F0ZXJNYXJrID0gc2l6ZTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBQcnVuZSB0aGUgY2FjaGUuXG4gICAqL1xuICBMUlVDYWNoZS5wcm90b3R5cGUucHJ1bmUgPSBmdW5jdGlvbiBwcnVuZSAoKSB7XG4gICAgd2hpbGUgKHRoaXMuY2FuRXhwaXJlQ2FjaGUoKSkge1xuICAgICAgdGhpcy5wb3AoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIExSVUNhY2hlO1xufShFdmVudFRhcmdldCkpO1xuXG5leHBvcnQgZGVmYXVsdCBMUlVDYWNoZTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TFJVQ2FjaGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0eWxlL1N0cm9rZVxuICovXG5pbXBvcnQge2dldFVpZH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFtjb2xvcl0gQSBjb2xvciwgZ3JhZGllbnQgb3IgcGF0dGVybi5cbiAqIFNlZSB7QGxpbmsgbW9kdWxlOm9sL2NvbG9yfkNvbG9yfSBhbmQge0BsaW5rIG1vZHVsZTpvbC9jb2xvcmxpa2V+Q29sb3JMaWtlfSBmb3IgcG9zc2libGUgZm9ybWF0cy5cbiAqIERlZmF1bHQgbnVsbDsgaWYgbnVsbCwgdGhlIENhbnZhcy9yZW5kZXJlciBkZWZhdWx0IGJsYWNrIHdpbGwgYmUgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbGluZUNhcD0ncm91bmQnXSBMaW5lIGNhcCBzdHlsZTogYGJ1dHRgLCBgcm91bmRgLCBvciBgc3F1YXJlYC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbGluZUpvaW49J3JvdW5kJ10gTGluZSBqb2luIHN0eWxlOiBgYmV2ZWxgLCBgcm91bmRgLCBvciBgbWl0ZXJgLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbbGluZURhc2hdIExpbmUgZGFzaCBwYXR0ZXJuLiBEZWZhdWx0IGlzIGB1bmRlZmluZWRgIChubyBkYXNoKS5cbiAqIFBsZWFzZSBub3RlIHRoYXQgSW50ZXJuZXQgRXhwbG9yZXIgMTAgYW5kIGxvd2VyIGRvIG5vdCBzdXBwb3J0IHRoZSBgc2V0TGluZURhc2hgIG1ldGhvZCBvblxuICogdGhlIGBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkRgIGFuZCB0aGVyZWZvcmUgdGhpcyBvcHRpb24gd2lsbCBoYXZlIG5vIHZpc3VhbCBlZmZlY3QgaW4gdGhlc2UgYnJvd3NlcnMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2xpbmVEYXNoT2Zmc2V0PTBdIExpbmUgZGFzaCBvZmZzZXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pdGVyTGltaXQ9MTBdIE1pdGVyIGxpbWl0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt3aWR0aF0gV2lkdGguXG4gKi9cblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFNldCBzdHJva2Ugc3R5bGUgZm9yIHZlY3RvciBmZWF0dXJlcy5cbiAqIE5vdGUgdGhhdCB0aGUgZGVmYXVsdHMgZ2l2ZW4gYXJlIHRoZSBDYW52YXMgZGVmYXVsdHMsIHdoaWNoIHdpbGwgYmUgdXNlZCBpZlxuICogb3B0aW9uIGlzIG5vdCBkZWZpbmVkLiBUaGUgYGdldGAgZnVuY3Rpb25zIHJldHVybiB3aGF0ZXZlciB3YXMgZW50ZXJlZCBpblxuICogdGhlIG9wdGlvbnM7IHRoZXkgd2lsbCBub3QgcmV0dXJuIHRoZSBkZWZhdWx0LlxuICogQGFwaVxuICovXG52YXIgU3Ryb2tlID0gZnVuY3Rpb24gU3Ryb2tlKG9wdF9vcHRpb25zKSB7XG5cbiAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHR5cGUge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9XG4gICAqL1xuICB0aGlzLmNvbG9yXyA9IG9wdGlvbnMuY29sb3IgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY29sb3IgOiBudWxsO1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAdHlwZSB7c3RyaW5nfHVuZGVmaW5lZH1cbiAgICovXG4gIHRoaXMubGluZUNhcF8gPSBvcHRpb25zLmxpbmVDYXA7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgKi9cbiAgdGhpcy5saW5lRGFzaF8gPSBvcHRpb25zLmxpbmVEYXNoICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmxpbmVEYXNoIDogbnVsbDtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAqL1xuICB0aGlzLmxpbmVEYXNoT2Zmc2V0XyA9IG9wdGlvbnMubGluZURhc2hPZmZzZXQ7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEB0eXBlIHtzdHJpbmd8dW5kZWZpbmVkfVxuICAgKi9cbiAgdGhpcy5saW5lSm9pbl8gPSBvcHRpb25zLmxpbmVKb2luO1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICovXG4gIHRoaXMubWl0ZXJMaW1pdF8gPSBvcHRpb25zLm1pdGVyTGltaXQ7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgKi9cbiAgdGhpcy53aWR0aF8gPSBvcHRpb25zLndpZHRoO1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAdHlwZSB7c3RyaW5nfHVuZGVmaW5lZH1cbiAgICovXG4gIHRoaXMuY2hlY2tzdW1fID0gdW5kZWZpbmVkO1xufTtcblxuLyoqXG4gKiBDbG9uZXMgdGhlIHN0eWxlLlxuICogQHJldHVybiB7U3Ryb2tlfSBUaGUgY2xvbmVkIHN0eWxlLlxuICogQGFwaVxuICovXG5TdHJva2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUgKCkge1xuICB2YXIgY29sb3IgPSB0aGlzLmdldENvbG9yKCk7XG4gIHJldHVybiBuZXcgU3Ryb2tlKHtcbiAgICBjb2xvcjogQXJyYXkuaXNBcnJheShjb2xvcikgPyBjb2xvci5zbGljZSgpIDogY29sb3IgfHwgdW5kZWZpbmVkLFxuICAgIGxpbmVDYXA6IHRoaXMuZ2V0TGluZUNhcCgpLFxuICAgIGxpbmVEYXNoOiB0aGlzLmdldExpbmVEYXNoKCkgPyB0aGlzLmdldExpbmVEYXNoKCkuc2xpY2UoKSA6IHVuZGVmaW5lZCxcbiAgICBsaW5lRGFzaE9mZnNldDogdGhpcy5nZXRMaW5lRGFzaE9mZnNldCgpLFxuICAgIGxpbmVKb2luOiB0aGlzLmdldExpbmVKb2luKCksXG4gICAgbWl0ZXJMaW1pdDogdGhpcy5nZXRNaXRlckxpbWl0KCksXG4gICAgd2lkdGg6IHRoaXMuZ2V0V2lkdGgoKVxuICB9KTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBzdHJva2UgY29sb3IuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBDb2xvci5cbiAqIEBhcGlcbiAqL1xuU3Ryb2tlLnByb3RvdHlwZS5nZXRDb2xvciA9IGZ1bmN0aW9uIGdldENvbG9yICgpIHtcbiAgcmV0dXJuIHRoaXMuY29sb3JfO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIGxpbmUgY2FwIHR5cGUgZm9yIHRoZSBzdHJva2UuXG4gKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfSBMaW5lIGNhcC5cbiAqIEBhcGlcbiAqL1xuU3Ryb2tlLnByb3RvdHlwZS5nZXRMaW5lQ2FwID0gZnVuY3Rpb24gZ2V0TGluZUNhcCAoKSB7XG4gIHJldHVybiB0aGlzLmxpbmVDYXBfO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIGxpbmUgZGFzaCBzdHlsZSBmb3IgdGhlIHN0cm9rZS5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IExpbmUgZGFzaC5cbiAqIEBhcGlcbiAqL1xuU3Ryb2tlLnByb3RvdHlwZS5nZXRMaW5lRGFzaCA9IGZ1bmN0aW9uIGdldExpbmVEYXNoICgpIHtcbiAgcmV0dXJuIHRoaXMubGluZURhc2hfO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIGxpbmUgZGFzaCBvZmZzZXQgZm9yIHRoZSBzdHJva2UuXG4gKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBMaW5lIGRhc2ggb2Zmc2V0LlxuICogQGFwaVxuICovXG5TdHJva2UucHJvdG90eXBlLmdldExpbmVEYXNoT2Zmc2V0ID0gZnVuY3Rpb24gZ2V0TGluZURhc2hPZmZzZXQgKCkge1xuICByZXR1cm4gdGhpcy5saW5lRGFzaE9mZnNldF87XG59O1xuXG4vKipcbiAqIEdldCB0aGUgbGluZSBqb2luIHR5cGUgZm9yIHRoZSBzdHJva2UuXG4gKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfSBMaW5lIGpvaW4uXG4gKiBAYXBpXG4gKi9cblN0cm9rZS5wcm90b3R5cGUuZ2V0TGluZUpvaW4gPSBmdW5jdGlvbiBnZXRMaW5lSm9pbiAoKSB7XG4gIHJldHVybiB0aGlzLmxpbmVKb2luXztcbn07XG5cbi8qKlxuICogR2V0IHRoZSBtaXRlciBsaW1pdCBmb3IgdGhlIHN0cm9rZS5cbiAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IE1pdGVyIGxpbWl0LlxuICogQGFwaVxuICovXG5TdHJva2UucHJvdG90eXBlLmdldE1pdGVyTGltaXQgPSBmdW5jdGlvbiBnZXRNaXRlckxpbWl0ICgpIHtcbiAgcmV0dXJuIHRoaXMubWl0ZXJMaW1pdF87XG59O1xuXG4vKipcbiAqIEdldCB0aGUgc3Ryb2tlIHdpZHRoLlxuICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gV2lkdGguXG4gKiBAYXBpXG4gKi9cblN0cm9rZS5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbiBnZXRXaWR0aCAoKSB7XG4gIHJldHVybiB0aGlzLndpZHRoXztcbn07XG5cbi8qKlxuICogU2V0IHRoZSBjb2xvci5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IGNvbG9yIENvbG9yLlxuICogQGFwaVxuICovXG5TdHJva2UucHJvdG90eXBlLnNldENvbG9yID0gZnVuY3Rpb24gc2V0Q29sb3IgKGNvbG9yKSB7XG4gIHRoaXMuY29sb3JfID0gY29sb3I7XG4gIHRoaXMuY2hlY2tzdW1fID0gdW5kZWZpbmVkO1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIGxpbmUgY2FwLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfHVuZGVmaW5lZH0gbGluZUNhcCBMaW5lIGNhcC5cbiAqIEBhcGlcbiAqL1xuU3Ryb2tlLnByb3RvdHlwZS5zZXRMaW5lQ2FwID0gZnVuY3Rpb24gc2V0TGluZUNhcCAobGluZUNhcCkge1xuICB0aGlzLmxpbmVDYXBfID0gbGluZUNhcDtcbiAgdGhpcy5jaGVja3N1bV8gPSB1bmRlZmluZWQ7XG59O1xuXG4vKipcbiAqIFNldCB0aGUgbGluZSBkYXNoLlxuICpcbiAqIFBsZWFzZSBub3RlIHRoYXQgSW50ZXJuZXQgRXhwbG9yZXIgMTAgYW5kIGxvd2VyIFtkbyBub3Qgc3VwcG9ydF1bbWRuXSB0aGVcbiAqIGBzZXRMaW5lRGFzaGAgbWV0aG9kIG9uIHRoZSBgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEYCBhbmQgdGhlcmVmb3JlIHRoaXNcbiAqIHByb3BlcnR5IHdpbGwgaGF2ZSBubyB2aXN1YWwgZWZmZWN0IGluIHRoZXNlIGJyb3dzZXJzLlxuICpcbiAqIFttZG5dOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL3NldExpbmVEYXNoI0Jyb3dzZXJfY29tcGF0aWJpbGl0eVxuICpcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gbGluZURhc2ggTGluZSBkYXNoLlxuICogQGFwaVxuICovXG5TdHJva2UucHJvdG90eXBlLnNldExpbmVEYXNoID0gZnVuY3Rpb24gc2V0TGluZURhc2ggKGxpbmVEYXNoKSB7XG4gIHRoaXMubGluZURhc2hfID0gbGluZURhc2g7XG4gIHRoaXMuY2hlY2tzdW1fID0gdW5kZWZpbmVkO1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIGxpbmUgZGFzaCBvZmZzZXQuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSBsaW5lRGFzaE9mZnNldCBMaW5lIGRhc2ggb2Zmc2V0LlxuICogQGFwaVxuICovXG5TdHJva2UucHJvdG90eXBlLnNldExpbmVEYXNoT2Zmc2V0ID0gZnVuY3Rpb24gc2V0TGluZURhc2hPZmZzZXQgKGxpbmVEYXNoT2Zmc2V0KSB7XG4gIHRoaXMubGluZURhc2hPZmZzZXRfID0gbGluZURhc2hPZmZzZXQ7XG4gIHRoaXMuY2hlY2tzdW1fID0gdW5kZWZpbmVkO1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIGxpbmUgam9pbi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3x1bmRlZmluZWR9IGxpbmVKb2luIExpbmUgam9pbi5cbiAqIEBhcGlcbiAqL1xuU3Ryb2tlLnByb3RvdHlwZS5zZXRMaW5lSm9pbiA9IGZ1bmN0aW9uIHNldExpbmVKb2luIChsaW5lSm9pbikge1xuICB0aGlzLmxpbmVKb2luXyA9IGxpbmVKb2luO1xuICB0aGlzLmNoZWNrc3VtXyA9IHVuZGVmaW5lZDtcbn07XG5cbi8qKlxuICogU2V0IHRoZSBtaXRlciBsaW1pdC5cbiAqXG4gKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IG1pdGVyTGltaXQgTWl0ZXIgbGltaXQuXG4gKiBAYXBpXG4gKi9cblN0cm9rZS5wcm90b3R5cGUuc2V0TWl0ZXJMaW1pdCA9IGZ1bmN0aW9uIHNldE1pdGVyTGltaXQgKG1pdGVyTGltaXQpIHtcbiAgdGhpcy5taXRlckxpbWl0XyA9IG1pdGVyTGltaXQ7XG4gIHRoaXMuY2hlY2tzdW1fID0gdW5kZWZpbmVkO1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIHdpZHRoLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gd2lkdGggV2lkdGguXG4gKiBAYXBpXG4gKi9cblN0cm9rZS5wcm90b3R5cGUuc2V0V2lkdGggPSBmdW5jdGlvbiBzZXRXaWR0aCAod2lkdGgpIHtcbiAgdGhpcy53aWR0aF8gPSB3aWR0aDtcbiAgdGhpcy5jaGVja3N1bV8gPSB1bmRlZmluZWQ7XG59O1xuXG4vKipcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNoZWNrc3VtLlxuICovXG5TdHJva2UucHJvdG90eXBlLmdldENoZWNrc3VtID0gZnVuY3Rpb24gZ2V0Q2hlY2tzdW0gKCkge1xuICBpZiAodGhpcy5jaGVja3N1bV8gPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXMuY2hlY2tzdW1fID0gJ3MnO1xuICAgIGlmICh0aGlzLmNvbG9yXykge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLmNvbG9yXyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhpcy5jaGVja3N1bV8gKz0gdGhpcy5jb2xvcl87XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNoZWNrc3VtXyArPSBnZXRVaWQodGhpcy5jb2xvcl8pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNoZWNrc3VtXyArPSAnLSc7XG4gICAgfVxuICAgIHRoaXMuY2hlY2tzdW1fICs9ICcsJyArXG4gICAgICAgICh0aGlzLmxpbmVDYXBfICE9PSB1bmRlZmluZWQgP1xuICAgICAgICAgIHRoaXMubGluZUNhcF8udG9TdHJpbmcoKSA6ICctJykgKyAnLCcgK1xuICAgICAgICAodGhpcy5saW5lRGFzaF8gP1xuICAgICAgICAgIHRoaXMubGluZURhc2hfLnRvU3RyaW5nKCkgOiAnLScpICsgJywnICtcbiAgICAgICAgKHRoaXMubGluZURhc2hPZmZzZXRfICE9PSB1bmRlZmluZWQgP1xuICAgICAgICAgIHRoaXMubGluZURhc2hPZmZzZXRfIDogJy0nKSArICcsJyArXG4gICAgICAgICh0aGlzLmxpbmVKb2luXyAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgICB0aGlzLmxpbmVKb2luXyA6ICctJykgKyAnLCcgK1xuICAgICAgICAodGhpcy5taXRlckxpbWl0XyAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgICB0aGlzLm1pdGVyTGltaXRfLnRvU3RyaW5nKCkgOiAnLScpICsgJywnICtcbiAgICAgICAgKHRoaXMud2lkdGhfICE9PSB1bmRlZmluZWQgP1xuICAgICAgICAgIHRoaXMud2lkdGhfLnRvU3RyaW5nKCkgOiAnLScpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuY2hlY2tzdW1fO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU3Ryb2tlO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdHJva2UuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0eWxlL0NpcmNsZVxuICovXG5cbmltcG9ydCBSZWd1bGFyU2hhcGUgZnJvbSAnLi9SZWd1bGFyU2hhcGUuanMnO1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH0gW2ZpbGxdIEZpbGwgc3R5bGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gcmFkaXVzIENpcmNsZSByYWRpdXMuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFtzdHJva2VdIFN0cm9rZSBzdHlsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9BdGxhc01hbmFnZXIuanNcIikuZGVmYXVsdH0gW2F0bGFzTWFuYWdlcl0gVGhlIGF0bGFzIG1hbmFnZXIgdG8gdXNlIGZvciB0aGlzIGNpcmNsZS5cbiAqIFdoZW4gdXNpbmcgV2ViR0wgaXQgaXMgcmVjb21tZW5kZWQgdG8gdXNlIGFuIGF0bGFzIG1hbmFnZXIgdG8gYXZvaWQgdGV4dHVyZSBzd2l0Y2hpbmcuIElmIGFuIGF0bGFzIG1hbmFnZXIgaXMgZ2l2ZW4sXG4gKiB0aGUgY2lyY2xlIGlzIGFkZGVkIHRvIGFuIGF0bGFzLiBCeSBkZWZhdWx0IG5vIGF0bGFzIG1hbmFnZXIgaXMgdXNlZC5cbiAqL1xuXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogU2V0IGNpcmNsZSBzdHlsZSBmb3IgdmVjdG9yIGZlYXR1cmVzLlxuICogQGFwaVxuICovXG52YXIgQ2lyY2xlU3R5bGUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChSZWd1bGFyU2hhcGUpIHtcbiAgZnVuY3Rpb24gQ2lyY2xlU3R5bGUob3B0X29wdGlvbnMpIHtcblxuICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwgLyoqIEB0eXBlIHtPcHRpb25zfSAqLyAoe30pO1xuXG4gICAgUmVndWxhclNoYXBlLmNhbGwodGhpcywge1xuICAgICAgcG9pbnRzOiBJbmZpbml0eSxcbiAgICAgIGZpbGw6IG9wdGlvbnMuZmlsbCxcbiAgICAgIHJhZGl1czogb3B0aW9ucy5yYWRpdXMsXG4gICAgICBzdHJva2U6IG9wdGlvbnMuc3Ryb2tlLFxuICAgICAgYXRsYXNNYW5hZ2VyOiBvcHRpb25zLmF0bGFzTWFuYWdlclxuICAgIH0pO1xuXG4gIH1cblxuICBpZiAoIFJlZ3VsYXJTaGFwZSApIENpcmNsZVN0eWxlLl9fcHJvdG9fXyA9IFJlZ3VsYXJTaGFwZTtcbiAgQ2lyY2xlU3R5bGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggUmVndWxhclNoYXBlICYmIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUgKTtcbiAgQ2lyY2xlU3R5bGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ2lyY2xlU3R5bGU7XG5cbiAgLyoqXG4gICogQ2xvbmVzIHRoZSBzdHlsZS4gIElmIGFuIGF0bGFzbWFuYWdlciB3YXMgcHJvdmlkZWQgdG8gdGhlIG9yaWdpbmFsIHN0eWxlIGl0IHdpbGwgYmUgdXNlZCBpbiB0aGUgY2xvbmVkIHN0eWxlLCB0b28uXG4gICogQHJldHVybiB7Q2lyY2xlU3R5bGV9IFRoZSBjbG9uZWQgc3R5bGUuXG4gICogQG92ZXJyaWRlXG4gICogQGFwaVxuICAqL1xuICBDaXJjbGVTdHlsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSAoKSB7XG4gICAgdmFyIHN0eWxlID0gbmV3IENpcmNsZVN0eWxlKHtcbiAgICAgIGZpbGw6IHRoaXMuZ2V0RmlsbCgpID8gdGhpcy5nZXRGaWxsKCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgIHN0cm9rZTogdGhpcy5nZXRTdHJva2UoKSA/IHRoaXMuZ2V0U3Ryb2tlKCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgIHJhZGl1czogdGhpcy5nZXRSYWRpdXMoKSxcbiAgICAgIGF0bGFzTWFuYWdlcjogdGhpcy5hdGxhc01hbmFnZXJfXG4gICAgfSk7XG4gICAgc3R5bGUuc2V0T3BhY2l0eSh0aGlzLmdldE9wYWNpdHkoKSk7XG4gICAgc3R5bGUuc2V0U2NhbGUodGhpcy5nZXRTY2FsZSgpKTtcbiAgICByZXR1cm4gc3R5bGU7XG4gIH07XG5cbiAgLyoqXG4gICogU2V0IHRoZSBjaXJjbGUgcmFkaXVzLlxuICAqXG4gICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyBDaXJjbGUgcmFkaXVzLlxuICAqIEBhcGlcbiAgKi9cbiAgQ2lyY2xlU3R5bGUucHJvdG90eXBlLnNldFJhZGl1cyA9IGZ1bmN0aW9uIHNldFJhZGl1cyAocmFkaXVzKSB7XG4gICAgdGhpcy5yYWRpdXNfID0gcmFkaXVzO1xuICAgIHRoaXMucmVuZGVyXyh0aGlzLmF0bGFzTWFuYWdlcl8pO1xuICB9O1xuXG4gIHJldHVybiBDaXJjbGVTdHlsZTtcbn0oUmVndWxhclNoYXBlKSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgQ2lyY2xlU3R5bGU7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNpcmNsZS5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9