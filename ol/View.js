(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{111:function(t,o,n){"use strict";n.r(o);var i=n(64),e=n(3),r=n(8),s=n(6);function a(t){return t}var u=n(12),c=n(7);var h=n(47),l=n(14),p="center",f="resolution",m="rotation",d=n(9),g=n(18),v=n(24),R=n(1),_=n(10),y=n(31),M=n(5),b=n(15),A=n(45);n.d(o,"createCenterConstraint",function(){return x}),n.d(o,"createResolutionConstraint",function(){return Z}),n.d(o,"createRotationConstraint",function(){return I}),n.d(o,"isNoopAnimation",function(){return w});var O=0,j=function(t){function o(o){t.call(this);var n=Object(M.a)({},o);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=Object(b.b)(n.projection,"EPSG:3857"),this.applyOptions_(n)}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.applyOptions_=function(t){var o={};o[p]=void 0!==t.center?t.center:null;var n=Z(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=n.minZoom;var i=x(t),e=n.constraint,r=I(t);this.constraints_={center:i,resolution:e,rotation:r},void 0!==t.resolution?o[f]=t.resolution:void 0!==t.zoom&&(o[f]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(o[f]=Object(s.a)(Number(this.getResolution()||o[f]),this.minResolution_,this.maxResolution_))),o[m]=void 0!==t.rotation?t.rotation:0,this.setProperties(o),this.options_=t},o.prototype.getUpdatedOptions_=function(t){var o=Object(M.a)({},this.options_);return void 0!==o.resolution?o.resolution=this.getResolution():o.zoom=this.getZoom(),o.center=this.getCenter(),o.rotation=this.getRotation(),Object(M.a)({},o,t)},o.prototype.animate=function(t){var o,n=arguments,i=arguments.length;if(i>1&&"function"==typeof arguments[i-1]&&(o=arguments[i-1],--i),!this.isDef()){var e=arguments[i-1];return e.center&&this.setCenter(e.center),void 0!==e.zoom&&this.setZoom(e.zoom),void 0!==e.rotation&&this.setRotation(e.rotation),void(o&&C(o,!0))}for(var r=Date.now(),a=this.getCenter().slice(),u=this.getResolution(),c=this.getRotation(),h=[],p=0;p<i;++p){var f=n[p],m={start:r,complete:!1,anchor:f.anchor,duration:void 0!==f.duration?f.duration:1e3,easing:f.easing||v.c};if(f.center&&(m.sourceCenter=a,m.targetCenter=f.center,a=m.targetCenter),void 0!==f.zoom?(m.sourceResolution=u,m.targetResolution=this.constrainResolution(this.maxResolution_,f.zoom-this.minZoom_,0),u=m.targetResolution):f.resolution&&(m.sourceResolution=u,m.targetResolution=f.resolution,u=m.targetResolution),void 0!==f.rotation){m.sourceRotation=c;var d=Object(s.d)(f.rotation-c+Math.PI,2*Math.PI)-Math.PI;m.targetRotation=c+d,c=m.targetRotation}m.callback=o,w(m)?m.complete=!0:r+=m.duration,h.push(m)}this.animations_.push(h),this.setHint(l.a.ANIMATING,1),this.updateAnimations_()},o.prototype.getAnimating=function(){return this.hints_[l.a.ANIMATING]>0},o.prototype.getInteracting=function(){return this.hints_[l.a.INTERACTING]>0},o.prototype.cancelAnimations=function(){this.setHint(l.a.ANIMATING,-this.hints_[l.a.ANIMATING]);for(var t=0,o=this.animations_.length;t<o;++t){var n=this.animations_[t];n[0].callback&&C(n[0].callback,!1)}this.animations_.length=0},o.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),o=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],e=!0,r=0,a=i.length;r<a;++r){var u=i[r];if(!u.complete){var c=t-u.start,h=u.duration>0?c/u.duration:1;h>=1?(u.complete=!0,h=1):e=!1;var d=u.easing(h);if(u.sourceCenter){var g=u.sourceCenter[0],v=u.sourceCenter[1],R=g+d*(u.targetCenter[0]-g),_=v+d*(u.targetCenter[1]-v);this.set(p,[R,_])}if(u.sourceResolution&&u.targetResolution){var y=1===d?u.targetResolution:u.sourceResolution+d*(u.targetResolution-u.sourceResolution);u.anchor&&this.set(p,this.calculateCenterZoom(y,u.anchor)),this.set(f,y)}if(void 0!==u.sourceRotation&&void 0!==u.targetRotation){var M=1===d?Object(s.d)(u.targetRotation+Math.PI,2*Math.PI)-Math.PI:u.sourceRotation+d*(u.targetRotation-u.sourceRotation);u.anchor&&this.set(p,this.calculateCenterRotate(M,u.anchor)),this.set(m,M)}if(o=!0,!u.complete)break}}if(e){this.animations_[n]=null,this.setHint(l.a.ANIMATING,-1);var b=i[0].callback;b&&C(b,!0)}}this.animations_=this.animations_.filter(Boolean),o&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},o.prototype.calculateCenterRotate=function(t,o){var n,i=this.getCenter();return void 0!==i&&(n=[i[0]-o[0],i[1]-o[1]],Object(g.f)(n,t-this.getRotation()),Object(g.a)(n,o)),n},o.prototype.calculateCenterZoom=function(t,o){var n,i=this.getCenter(),e=this.getResolution();void 0!==i&&void 0!==e&&(n=[o[0]-t*(o[0]-i[0])/e,o[1]-t*(o[1]-i[1])/e]);return n},o.prototype.getSizeFromViewport_=function(){var t=[100,100],o='.ol-viewport[data-view="'+Object(e.c)(this)+'"]',n=document.querySelector(o);if(n){var i=getComputedStyle(n);t[0]=parseInt(i.width,10),t[1]=parseInt(i.height,10)}return t},o.prototype.constrainCenter=function(t){return this.constraints_.center(t)},o.prototype.constrainResolution=function(t,o,n){var i=o||0,e=n||0;return this.constraints_.resolution(t,i,e)},o.prototype.constrainRotation=function(t,o){var n=o||0;return this.constraints_.rotation(t,n)},o.prototype.getCenter=function(){return this.get(p)},o.prototype.getConstraints=function(){return this.constraints_},o.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},o.prototype.calculateExtent=function(t){var o=t||this.getSizeFromViewport_(),n=this.getCenter();Object(d.a)(n,1);var i=this.getResolution();Object(d.a)(void 0!==i,2);var e=this.getRotation();return Object(d.a)(void 0!==e,3),Object(R.z)(n,i,e,o)},o.prototype.getMaxResolution=function(){return this.maxResolution_},o.prototype.getMinResolution=function(){return this.minResolution_},o.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},o.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},o.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},o.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},o.prototype.getProjection=function(){return this.projection_},o.prototype.getResolution=function(){return this.get(f)},o.prototype.getResolutions=function(){return this.resolutions_},o.prototype.getResolutionForExtent=function(t,o){var n=o||this.getSizeFromViewport_(),i=Object(R.E)(t)/n[0],e=Object(R.A)(t)/n[1];return Math.max(i,e)},o.prototype.getResolutionForValueFunction=function(t){var o=t||2,n=this.maxResolution_,i=this.minResolution_,e=Math.log(n/i)/Math.log(o);return function(t){return n/Math.pow(o,t*e)}},o.prototype.getRotation=function(){return this.get(m)},o.prototype.getValueForResolutionFunction=function(t){var o=t||2,n=this.maxResolution_,i=this.minResolution_,e=Math.log(n/i)/Math.log(o);return function(t){return Math.log(n/t)/Math.log(o)/e}},o.prototype.getState=function(t){var o=this.getCenter(),n=this.getProjection(),i=this.getResolution(),e=i/t,r=this.getRotation();return{center:[Math.round(o[0]/e)*e,Math.round(o[1]/e)*e],projection:void 0!==n?n:null,resolution:i,rotation:r,zoom:this.getZoom()}},o.prototype.getZoom=function(){var t,o=this.getResolution();return void 0!==o&&(t=this.getZoomForResolution(o)),t},o.prototype.getZoomForResolution=function(t){var o,n,i=this.minZoom_||0;if(this.resolutions_){var e=Object(c.h)(this.resolutions_,t,1);i=e,o=this.resolutions_[e],n=e==this.resolutions_.length-1?2:o/this.resolutions_[e+1]}else o=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(o/t)/Math.log(n)},o.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},o.prototype.fit=function(t,o){var n,i=o||{},e=i.size;e||(e=this.getSizeFromViewport_()),Object(d.a)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)?(Object(d.a)(!Object(R.H)(t),25),n=Object(y.d)(t)):t.getType()===_.a.CIRCLE?(t=t.getExtent(),(n=Object(y.d)(t)).rotate(this.getRotation(),Object(R.x)(t))):n=t;var s,a=void 0!==i.padding?i.padding:[0,0,0,0],u=void 0===i.constrainResolution||i.constrainResolution,c=void 0!==i.nearest&&i.nearest;s=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.constrainResolution(this.maxResolution_,i.maxZoom-this.minZoom_,0):0;for(var h=n.getFlatCoordinates(),l=this.getRotation(),p=Math.cos(-l),f=Math.sin(-l),m=1/0,g=1/0,v=-1/0,M=-1/0,b=n.getStride(),A=0,O=h.length;A<O;A+=b){var j=h[A]*p-h[A+1]*f,x=h[A]*f+h[A+1]*p;m=Math.min(m,j),g=Math.min(g,x),v=Math.max(v,j),M=Math.max(M,x)}var Z=this.getResolutionForExtent([m,g,v,M],[e[0]-a[1]-a[3],e[1]-a[0]-a[2]]);if(Z=isNaN(Z)?s:Math.max(Z,s),u){var I=this.constrainResolution(Z,0,0);!c&&I<Z&&(I=this.constrainResolution(I,-1,0)),Z=I}f=-f;var w=(m+v)/2,F=(g+M)/2,z=[(w+=(a[1]-a[3])/2*Z)*p-(F+=(a[0]-a[2])/2*Z)*f,F*p+w*f],N=i.callback?i.callback:r.c;void 0!==i.duration?this.animate({resolution:Z,center:z,duration:i.duration,easing:i.easing},N):(this.setResolution(Z),this.setCenter(z),C(N,!0))},o.prototype.centerOn=function(t,o,n){var i=this.getRotation(),e=Math.cos(-i),r=Math.sin(-i),s=t[0]*e-t[1]*r,a=t[1]*e+t[0]*r,u=this.getResolution(),c=(s+=(o[0]/2-n[0])*u)*e-(a+=(n[1]-o[1]/2)*u)*(r=-r),h=a*e+s*r;this.setCenter([c,h])},o.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},o.prototype.rotate=function(t,o){if(void 0!==o){var n=this.calculateCenterRotate(t,o);this.setCenter(n)}this.setRotation(t)},o.prototype.setCenter=function(t){this.set(p,t),this.getAnimating()&&this.cancelAnimations()},o.prototype.setHint=function(t,o){return this.hints_[t]+=o,this.changed(),this.hints_[t]},o.prototype.setResolution=function(t){this.set(f,t),this.getAnimating()&&this.cancelAnimations()},o.prototype.setRotation=function(t){this.set(m,t),this.getAnimating()&&this.cancelAnimations()},o.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},o}(u.a);function C(t,o){setTimeout(function(){t(o)},0)}function x(t){return void 0!==t.extent?(o=t.extent,function(t){return t?[Object(s.a)(t[0],o[0],o[2]),Object(s.a)(t[1],o[1],o[3])]:void 0}):a;var o}function Z(t){var o,n,e,r=void 0!==t.minZoom?t.minZoom:O,a=void 0!==t.maxZoom?t.maxZoom:28,u=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var h=t.resolutions;n=h[r],e=void 0!==h[a]?h[a]:h[h.length-1],o=function(t){return function(o,n,i){if(void 0!==o){var e=Object(c.h)(t,o,i);e=Object(s.a)(e+n,0,t.length-1);var r=Math.floor(e);if(e!=r&&r<t.length-1){var a=t[r]/t[r+1];return t[r]/Math.pow(a,e-r)}return t[r]}}}(h)}else{var l=Object(b.b)(t.projection,"EPSG:3857"),p=l.getExtent(),f=(p?Math.max(Object(R.E)(p),Object(R.A)(p)):360*b.a[A.b.DEGREES]/l.getMetersPerUnit())/i.b/Math.pow(2,O),m=f/Math.pow(2,28-O);void 0!==(n=t.maxResolution)?r=0:n=f/Math.pow(u,r),void 0===(e=t.minResolution)&&(e=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(u,a):f/Math.pow(u,a):m),a=r+Math.floor(Math.log(n/e)/Math.log(u)),e=n/Math.pow(u,a-r),o=function(t,o,n){return function(i,e,r){if(void 0!==i){var s=-r/2+.5,a=Math.floor(Math.log(o/i)/Math.log(t)+s),u=Math.max(a+e,0);return void 0!==n&&(u=Math.min(u,n)),o/Math.pow(t,u)}}}(u,n,a-r)}return{constraint:o,maxResolution:n,minResolution:e,minZoom:r,zoomFactor:u}}function I(t){if(void 0===t.enableRotation||t.enableRotation){var o=t.constrainRotation;return void 0===o||!0===o?Object(h.b)():!1===o?h.d:"number"==typeof o?Object(h.a)(o):h.d}return h.c}function w(t){return!(t.sourceCenter&&t.targetCenter&&!Object(g.e)(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}o.default=j},14:function(t,o,n){"use strict";o.a={ANIMATING:0,INTERACTING:1}},18:function(t,o,n){"use strict";n.d(o,"a",function(){return i}),n.d(o,"b",function(){return e}),n.d(o,"c",function(){return r}),n.d(o,"e",function(){return s}),n.d(o,"f",function(){return a}),n.d(o,"g",function(){return u}),n.d(o,"h",function(){return c}),n.d(o,"d",function(){return h}),n.d(o,"i",function(){return l});n(6),n(51);function i(t,o){return t[0]+=o[0],t[1]+=o[1],t}function e(t,o){var n=o.getRadius(),i=o.getCenter(),e=i[0],r=i[1],s=t[0]-e,a=t[1]-r;0===s&&0===a&&(s=1);var u=Math.sqrt(s*s+a*a);return[e+n*s/u,r+n*a/u]}function r(t,o){var n,i,e=t[0],r=t[1],s=o[0],a=o[1],u=s[0],c=s[1],h=a[0],l=a[1],p=h-u,f=l-c,m=0===p&&0===f?0:(p*(e-u)+f*(r-c))/(p*p+f*f||0);return m<=0?(n=u,i=c):m>=1?(n=h,i=l):(n=u+m*p,i=c+m*f),[n,i]}function s(t,o){for(var n=!0,i=t.length-1;i>=0;--i)if(t[i]!=o[i]){n=!1;break}return n}function a(t,o){var n=Math.cos(o),i=Math.sin(o),e=t[0]*n-t[1]*i,r=t[1]*n+t[0]*i;return t[0]=e,t[1]=r,t}function u(t,o){return t[0]*=o,t[1]*=o,t}function c(t,o){var n=t[0]-o[0],i=t[1]-o[1];return n*n+i*i}function h(t,o){return Math.sqrt(c(t,o))}function l(t,o){return c(t,r(t,o))}},24:function(t,o,n){"use strict";function i(t){return Math.pow(t,3)}function e(t){return 1-i(1-t)}function r(t){return 3*t*t-2*t*t*t}function s(t){return t}n.d(o,"a",function(){return i}),n.d(o,"b",function(){return e}),n.d(o,"c",function(){return r}),n.d(o,"d",function(){return s})},47:function(t,o,n){"use strict";n.d(o,"c",function(){return e}),n.d(o,"d",function(){return r}),n.d(o,"a",function(){return s}),n.d(o,"b",function(){return a});var i=n(6);function e(t,o){return void 0!==t?0:void 0}function r(t,o){return void 0!==t?t+o:void 0}function s(t){var o=2*Math.PI/t;return function(t,n){return void 0!==t?t=Math.floor((t+n)/o+.5)*o:void 0}}function a(t){var o=t||Object(i.i)(5);return function(t,n){return void 0!==t?Math.abs(t+n)<=o?0:t+n:void 0}}},51:function(t,o,n){"use strict";function i(t,o,n){var i=void 0!==n?t.toFixed(n):""+t,e=i.indexOf(".");return(e=-1===e?i.length:e)>o?i:new Array(1+o-e).join("0")+i}function e(t,o){for(var n=(""+t).split("."),i=(""+o).split("."),e=0;e<Math.max(n.length,i.length);e++){var r=parseInt(n[e]||"0",10),s=parseInt(i[e]||"0",10);if(r>s)return 1;if(s>r)return-1}return 0}n.d(o,"b",function(){return i}),n.d(o,"a",function(){return e})},64:function(t,o,n){"use strict";n.d(o,"a",function(){return i}),n.d(o,"b",function(){return e});var i=42,e=256}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvY2VudGVyY29uc3RyYWludC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvVmlld1Byb3BlcnR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9WaWV3LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9yZXNvbHV0aW9uY29uc3RyYWludC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvVmlld0hpbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2Nvb3JkaW5hdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2Vhc2luZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvcm90YXRpb25jb25zdHJhaW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9zdHJpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3RpbGVncmlkL2NvbW1vbi5qcyJdLCJuYW1lcyI6WyJub25lIiwiY2VudGVyIiwiVmlld1Byb3BlcnR5IiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImQiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiY3JlYXRlQ2VudGVyQ29uc3RyYWludCIsImNyZWF0ZVJlc29sdXRpb25Db25zdHJhaW50IiwiY3JlYXRlUm90YXRpb25Db25zdHJhaW50IiwiaXNOb29wQW5pbWF0aW9uIiwiREVGQVVMVF9NSU5fWk9PTSIsIlZpZXdfVmlldyIsIkJhc2VPYmplY3QiLCJWaWV3Iiwib3B0X29wdGlvbnMiLCJjYWxsIiwidGhpcyIsIm9wdGlvbnMiLCJPYmplY3QiLCJvYmoiLCJoaW50c18iLCJhbmltYXRpb25zXyIsInVwZGF0ZUFuaW1hdGlvbktleV8iLCJ1cGRhdGVBbmltYXRpb25zXyIsImJpbmQiLCJwcm9qZWN0aW9uXyIsInByb2oiLCJwcm9qZWN0aW9uIiwiYXBwbHlPcHRpb25zXyIsIl9fcHJvdG9fXyIsInByb3RvdHlwZSIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwicHJvcGVydGllcyIsInVuZGVmaW5lZCIsInJlc29sdXRpb25Db25zdHJhaW50SW5mbyIsIm1heFJlc29sdXRpb25fIiwibWF4UmVzb2x1dGlvbiIsIm1pblJlc29sdXRpb25fIiwibWluUmVzb2x1dGlvbiIsInpvb21GYWN0b3JfIiwiem9vbUZhY3RvciIsInJlc29sdXRpb25zXyIsInJlc29sdXRpb25zIiwibWluWm9vbV8iLCJtaW5ab29tIiwiY2VudGVyQ29uc3RyYWludCIsInJlc29sdXRpb25Db25zdHJhaW50IiwiY29uc3RyYWludCIsInJvdGF0aW9uQ29uc3RyYWludCIsImNvbnN0cmFpbnRzXyIsInJlc29sdXRpb24iLCJyb3RhdGlvbiIsInpvb20iLCJjb25zdHJhaW5SZXNvbHV0aW9uIiwibWF0aCIsIk51bWJlciIsImdldFJlc29sdXRpb24iLCJzZXRQcm9wZXJ0aWVzIiwib3B0aW9uc18iLCJnZXRVcGRhdGVkT3B0aW9uc18iLCJuZXdPcHRpb25zIiwiZ2V0Wm9vbSIsImdldENlbnRlciIsImdldFJvdGF0aW9uIiwiYW5pbWF0ZSIsInZhcl9hcmdzIiwiY2FsbGJhY2siLCJhcmd1bWVudHMkMSIsImFyZ3VtZW50cyIsImFuaW1hdGlvbkNvdW50IiwibGVuZ3RoIiwiaXNEZWYiLCJzdGF0ZSIsInNldENlbnRlciIsInNldFpvb20iLCJzZXRSb3RhdGlvbiIsImFuaW1hdGlvbkNhbGxiYWNrIiwic3RhcnQiLCJEYXRlIiwibm93Iiwic2xpY2UiLCJzZXJpZXMiLCJpIiwiYW5pbWF0aW9uIiwiY29tcGxldGUiLCJhbmNob3IiLCJkdXJhdGlvbiIsImVhc2luZyIsInNvdXJjZUNlbnRlciIsInRhcmdldENlbnRlciIsInNvdXJjZVJlc29sdXRpb24iLCJ0YXJnZXRSZXNvbHV0aW9uIiwic291cmNlUm90YXRpb24iLCJkZWx0YSIsIk1hdGgiLCJQSSIsInRhcmdldFJvdGF0aW9uIiwicHVzaCIsInNldEhpbnQiLCJWaWV3SGludCIsIkFOSU1BVElORyIsImdldEFuaW1hdGluZyIsImdldEludGVyYWN0aW5nIiwiSU5URVJBQ1RJTkciLCJjYW5jZWxBbmltYXRpb25zIiwiaWkiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIm1vcmUiLCJzZXJpZXNDb21wbGV0ZSIsImoiLCJqaiIsImVsYXBzZWQiLCJmcmFjdGlvbiIsInByb2dyZXNzIiwieDAiLCJ5MCIsIngiLCJ5Iiwic2V0IiwiY2FsY3VsYXRlQ2VudGVyWm9vbSIsImNhbGN1bGF0ZUNlbnRlclJvdGF0ZSIsImZpbHRlciIsIkJvb2xlYW4iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjdXJyZW50Q2VudGVyIiwiY29vcmRpbmF0ZSIsImN1cnJlbnRSZXNvbHV0aW9uIiwiZ2V0U2l6ZUZyb21WaWV3cG9ydF8iLCJzaXplIiwic2VsZWN0b3IiLCJ1dGlsIiwiZWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm1ldHJpY3MiLCJnZXRDb21wdXRlZFN0eWxlIiwicGFyc2VJbnQiLCJ3aWR0aCIsImhlaWdodCIsImNvbnN0cmFpbkNlbnRlciIsIm9wdF9kZWx0YSIsIm9wdF9kaXJlY3Rpb24iLCJkaXJlY3Rpb24iLCJjb25zdHJhaW5Sb3RhdGlvbiIsImdldCIsImdldENvbnN0cmFpbnRzIiwiZ2V0SGludHMiLCJvcHRfaGludHMiLCJjYWxjdWxhdGVFeHRlbnQiLCJvcHRfc2l6ZSIsImFzc2VydHMiLCJvbF9leHRlbnQiLCJnZXRNYXhSZXNvbHV0aW9uIiwiZ2V0TWluUmVzb2x1dGlvbiIsImdldE1heFpvb20iLCJnZXRab29tRm9yUmVzb2x1dGlvbiIsInNldE1heFpvb20iLCJtYXhab29tIiwiZ2V0TWluWm9vbSIsInNldE1pblpvb20iLCJnZXRQcm9qZWN0aW9uIiwiZ2V0UmVzb2x1dGlvbnMiLCJnZXRSZXNvbHV0aW9uRm9yRXh0ZW50IiwiZXh0ZW50IiwieFJlc29sdXRpb24iLCJ5UmVzb2x1dGlvbiIsIm1heCIsImdldFJlc29sdXRpb25Gb3JWYWx1ZUZ1bmN0aW9uIiwib3B0X3Bvd2VyIiwicG93ZXIiLCJsb2ciLCJ2YWx1ZSIsInBvdyIsImdldFZhbHVlRm9yUmVzb2x1dGlvbkZ1bmN0aW9uIiwiZ2V0U3RhdGUiLCJwaXhlbFJhdGlvIiwicGl4ZWxSZXNvbHV0aW9uIiwicm91bmQiLCJvZmZzZXQiLCJuZWFyZXN0IiwiYXJyYXkiLCJnZXRSZXNvbHV0aW9uRm9yWm9vbSIsImZpdCIsImdlb21ldHJ5T3JFeHRlbnQiLCJnZW9tZXRyeSIsIkFycmF5IiwiaXNBcnJheSIsImdldFNpbXBsaWZpZWRHZW9tZXRyeSIsIlBvbHlnb24iLCJnZXRUeXBlIiwiR2VvbWV0cnlUeXBlIiwiQ0lSQ0xFIiwiZ2V0RXh0ZW50Iiwicm90YXRlIiwicGFkZGluZyIsImNvb3JkcyIsImdldEZsYXRDb29yZGluYXRlcyIsImNvc0FuZ2xlIiwiY29zIiwic2luQW5nbGUiLCJzaW4iLCJtaW5Sb3RYIiwiSW5maW5pdHkiLCJtaW5Sb3RZIiwibWF4Um90WCIsIm1heFJvdFkiLCJzdHJpZGUiLCJnZXRTdHJpZGUiLCJyb3RYIiwicm90WSIsIm1pbiIsImlzTmFOIiwiY29uc3RyYWluZWRSZXNvbHV0aW9uIiwiY2VudGVyUm90WCIsImNlbnRlclJvdFkiLCJmdW5jdGlvbnMiLCJzZXRSZXNvbHV0aW9uIiwiY2VudGVyT24iLCJwb3NpdGlvbiIsImNlbnRlclgiLCJjZW50ZXJZIiwib3B0X2FuY2hvciIsImhpbnQiLCJjaGFuZ2VkIiwib2xfT2JqZWN0IiwicmV0dXJuVmFsdWUiLCJzZXRUaW1lb3V0IiwieiIsImluZGV4IiwiZmxvb3IiLCJjcmVhdGVTbmFwVG9SZXNvbHV0aW9ucyIsImRlZmF1bHRNYXhSZXNvbHV0aW9uIiwiVW5pdHMiLCJERUdSRUVTIiwiZ2V0TWV0ZXJzUGVyVW5pdCIsImNvbW1vbiIsImRlZmF1bHRNaW5SZXNvbHV0aW9uIiwib3B0X21heExldmVsIiwib2xkTGV2ZWwiLCJuZXdMZXZlbCIsImNyZWF0ZVNuYXBUb1Bvd2VyIiwiZW5hYmxlUm90YXRpb24iLCJyb3RhdGlvbmNvbnN0cmFpbnQiLCJhZGQiLCJjbG9zZXN0T25DaXJjbGUiLCJjbG9zZXN0T25TZWdtZW50IiwiZXF1YWxzIiwic2NhbGUiLCJzcXVhcmVkRGlzdGFuY2UiLCJkaXN0YW5jZSIsInNxdWFyZWREaXN0YW5jZVRvU2VnbWVudCIsImNpcmNsZSIsInIiLCJnZXRSYWRpdXMiLCJkeCIsImR5Iiwic3FydCIsInNlZ21lbnQiLCJlbmQiLCJ4MSIsInkxIiwieDIiLCJ5MiIsImFsb25nIiwiY29vcmRpbmF0ZTEiLCJjb29yZGluYXRlMiIsImFuZ2xlIiwiY29vcmQxIiwiY29vcmQyIiwiZWFzZUluIiwidCIsImVhc2VPdXQiLCJpbkFuZE91dCIsImxpbmVhciIsImRpc2FibGUiLCJjcmVhdGVTbmFwVG9OIiwiY3JlYXRlU25hcFRvWmVybyIsIl9tYXRoX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJuIiwidGhldGEiLCJvcHRfdG9sZXJhbmNlIiwidG9sZXJhbmNlIiwiYWJzIiwicGFkTnVtYmVyIiwibnVtYmVyIiwib3B0X3ByZWNpc2lvbiIsIm51bWJlclN0cmluZyIsInRvRml4ZWQiLCJkZWNpbWFsIiwiaW5kZXhPZiIsImpvaW4iLCJjb21wYXJlVmVyc2lvbnMiLCJ2MSIsInYyIiwiczEiLCJzcGxpdCIsInMyIiwibjEiLCJuMiIsIkRFRkFVTFRfTUFYX1pPT00iLCJERUZBVUxUX1RJTEVfU0laRSJdLCJtYXBwaW5ncyI6Im1JQXVDTyxTQUFBQSxFQUFBQyxHQUNQLE9BQUFBLHlDQ2pDZUMsRUFDZixTQURlQSxFQUVmLGFBRmVBLEVBR2YsZ0ZDVkFDLEVBQUFDLEVBQUFDLEVBQUEsMkNBQUFDLElBQUFILEVBQUFDLEVBQUFDLEVBQUEsK0NBQUFFLElBQUFKLEVBQUFDLEVBQUFDLEVBQUEsNkNBQUFHLElBQUFMLEVBQUFDLEVBQUFDLEVBQUEsb0NBQUFJLElBMEtBLElBQUFDLEVBQUEsRUF5RElDLEVBQUksU0FBQUMsR0FDUixTQUFBQyxFQUFBQyxH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UU8sSUFBQUQsRUFBQSxHQU1BQyxFQUFBIiwiZmlsZSI6Im9sL1ZpZXcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBtb2R1bGUgb2wvY2VudGVyY29uc3RyYWludFxuICovXG5pbXBvcnQge2NsYW1wfSBmcm9tICcuL21hdGguanMnO1xuXG5cbi8qKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKChpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWQpKTogKGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZCl9IFR5cGVcbiAqL1xuXG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtUeXBlfSBUaGUgY29uc3RyYWludC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV4dGVudChleHRlbnQpIHtcbiAgcmV0dXJuIChcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPX0gY2VudGVyIENlbnRlci5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IENlbnRlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbihjZW50ZXIpIHtcbiAgICAgIGlmIChjZW50ZXIpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBjbGFtcChjZW50ZXJbMF0sIGV4dGVudFswXSwgZXh0ZW50WzJdKSxcbiAgICAgICAgICBjbGFtcChjZW50ZXJbMV0sIGV4dGVudFsxXSwgZXh0ZW50WzNdKVxuICAgICAgICBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG4gICk7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPX0gY2VudGVyIENlbnRlci5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gQ2VudGVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9uZShjZW50ZXIpIHtcbiAgcmV0dXJuIGNlbnRlcjtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2VudGVyY29uc3RyYWludC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvVmlld1Byb3BlcnR5XG4gKi9cblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIENFTlRFUjogJ2NlbnRlcicsXG4gIFJFU09MVVRJT046ICdyZXNvbHV0aW9uJyxcbiAgUk9UQVRJT046ICdyb3RhdGlvbidcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZpZXdQcm9wZXJ0eS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvVmlld1xuICovXG5pbXBvcnQge0RFRkFVTFRfVElMRV9TSVpFfSBmcm9tICcuL3RpbGVncmlkL2NvbW1vbi5qcyc7XG5pbXBvcnQge2dldFVpZH0gZnJvbSAnLi91dGlsLmpzJztcbmltcG9ydCB7Vk9JRH0gZnJvbSAnLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHtjcmVhdGVFeHRlbnQsIG5vbmUgYXMgY2VudGVyTm9uZX0gZnJvbSAnLi9jZW50ZXJjb25zdHJhaW50LmpzJztcbmltcG9ydCBCYXNlT2JqZWN0IGZyb20gJy4vT2JqZWN0LmpzJztcbmltcG9ydCB7Y3JlYXRlU25hcFRvUmVzb2x1dGlvbnMsIGNyZWF0ZVNuYXBUb1Bvd2VyfSBmcm9tICcuL3Jlc29sdXRpb25jb25zdHJhaW50LmpzJztcbmltcG9ydCB7Y3JlYXRlU25hcFRvWmVybywgY3JlYXRlU25hcFRvTiwgbm9uZSBhcyByb3RhdGlvbk5vbmUsIGRpc2FibGV9IGZyb20gJy4vcm90YXRpb25jb25zdHJhaW50LmpzJztcbmltcG9ydCBWaWV3SGludCBmcm9tICcuL1ZpZXdIaW50LmpzJztcbmltcG9ydCBWaWV3UHJvcGVydHkgZnJvbSAnLi9WaWV3UHJvcGVydHkuanMnO1xuaW1wb3J0IHtsaW5lYXJGaW5kTmVhcmVzdH0gZnJvbSAnLi9hcnJheS5qcyc7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7YWRkIGFzIGFkZENvb3JkaW5hdGUsIHJvdGF0ZSBhcyByb3RhdGVDb29yZGluYXRlLCBlcXVhbHMgYXMgY29vcmRpbmF0ZXNFcXVhbH0gZnJvbSAnLi9jb29yZGluYXRlLmpzJztcbmltcG9ydCB7aW5BbmRPdXR9IGZyb20gJy4vZWFzaW5nLmpzJztcbmltcG9ydCB7Z2V0Rm9yVmlld0FuZFNpemUsIGdldENlbnRlciwgZ2V0SGVpZ2h0LCBnZXRXaWR0aCwgaXNFbXB0eX0gZnJvbSAnLi9leHRlbnQuanMnO1xuaW1wb3J0IEdlb21ldHJ5VHlwZSBmcm9tICcuL2dlb20vR2VvbWV0cnlUeXBlLmpzJztcbmltcG9ydCB7ZnJvbUV4dGVudCBhcyBwb2x5Z29uRnJvbUV4dGVudH0gZnJvbSAnLi9nZW9tL1BvbHlnb24uanMnO1xuaW1wb3J0IHtjbGFtcCwgbW9kdWxvfSBmcm9tICcuL21hdGguanMnO1xuaW1wb3J0IHthc3NpZ259IGZyb20gJy4vb2JqLmpzJztcbmltcG9ydCB7Y3JlYXRlUHJvamVjdGlvbiwgTUVURVJTX1BFUl9VTklUfSBmcm9tICcuL3Byb2ouanMnO1xuaW1wb3J0IFVuaXRzIGZyb20gJy4vcHJvai9Vbml0cy5qcyc7XG5cblxuLyoqXG4gKiBBbiBhbmltYXRpb24gY29uZmlndXJhdGlvblxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEFuaW1hdGlvblxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW3NvdXJjZUNlbnRlcl1cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFt0YXJnZXRDZW50ZXJdXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3NvdXJjZVJlc29sdXRpb25dXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RhcmdldFJlc29sdXRpb25dXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3NvdXJjZVJvdGF0aW9uXVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0YXJnZXRSb3RhdGlvbl1cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFthbmNob3JdXG4gKiBAcHJvcGVydHkge251bWJlcn0gc3RhcnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkdXJhdGlvblxuICogQHByb3BlcnR5IHtib29sZWFufSBjb21wbGV0ZVxuICogQHByb3BlcnR5IHtmdW5jdGlvbihudW1iZXIpOm51bWJlcn0gZWFzaW5nXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGJvb2xlYW4pfSBjYWxsYmFja1xuICovXG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDb25zdHJhaW50c1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2NlbnRlcmNvbnN0cmFpbnQuanNcIikuVHlwZX0gY2VudGVyXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vcmVzb2x1dGlvbmNvbnN0cmFpbnQuanNcIikuVHlwZX0gcmVzb2x1dGlvblxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL3JvdGF0aW9uY29uc3RyYWludC5qc1wiKS5UeXBlfSByb3RhdGlvblxuICovXG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGaXRPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBbc2l6ZV0gVGhlIHNpemUgaW4gcGl4ZWxzIG9mIHRoZSBib3ggdG8gZml0XG4gKiB0aGUgZXh0ZW50IGludG8uIERlZmF1bHQgaXMgdGhlIGN1cnJlbnQgc2l6ZSBvZiB0aGUgZmlyc3QgbWFwIGluIHRoZSBET00gdGhhdFxuICogdXNlcyB0aGlzIHZpZXcsIG9yIGBbMTAwLCAxMDBdYCBpZiBubyBzdWNoIG1hcCBpcyBmb3VuZC5cbiAqIEBwcm9wZXJ0eSB7IUFycmF5PG51bWJlcj59IFtwYWRkaW5nPVswLCAwLCAwLCAwXV0gUGFkZGluZyAoaW4gcGl4ZWxzKSB0byBiZVxuICogY2xlYXJlZCBpbnNpZGUgdGhlIHZpZXcuIFZhbHVlcyBpbiB0aGUgYXJyYXkgYXJlIHRvcCwgcmlnaHQsIGJvdHRvbSBhbmQgbGVmdFxuICogcGFkZGluZy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2NvbnN0cmFpblJlc29sdXRpb249dHJ1ZV0gQ29uc3RyYWluIHRoZSByZXNvbHV0aW9uLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbbmVhcmVzdD1mYWxzZV0gSWYgYGNvbnN0cmFpblJlc29sdXRpb25gIGlzIGB0cnVlYCwgZ2V0XG4gKiB0aGUgbmVhcmVzdCBleHRlbnQgaW5zdGVhZCBvZiB0aGUgY2xvc2VzdCB0aGF0IGFjdHVhbGx5IGZpdHMgdGhlIHZpZXcuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblJlc29sdXRpb249MF0gTWluaW11bSByZXNvbHV0aW9uIHRoYXQgd2Ugem9vbSB0by5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbV0gTWF4aW11bSB6b29tIGxldmVsIHRoYXQgd2Ugem9vbSB0by4gSWZcbiAqIGBtaW5SZXNvbHV0aW9uYCBpcyBnaXZlbiwgdGhpcyBwcm9wZXJ0eSBpcyBpZ25vcmVkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkdXJhdGlvbl0gVGhlIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQnkgZGVmYXVsdCwgdGhlcmUgaXMgbm8gYW5pbWF0aW9uIHRvIHRoZSB0YXJnZXQgZXh0ZW50LlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihudW1iZXIpOm51bWJlcn0gW2Vhc2luZ10gVGhlIGVhc2luZyBmdW5jdGlvbiB1c2VkIGR1cmluZ1xuICogdGhlIGFuaW1hdGlvbiAoZGVmYXVsdHMgdG8ge0BsaW5rIG1vZHVsZTpvbC9lYXNpbmd+aW5BbmRPdXR9KS5cbiAqIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBmb3IgZWFjaCBmcmFtZSB3aXRoIGEgbnVtYmVyIHJlcHJlc2VudGluZyBhXG4gKiBmcmFjdGlvbiBvZiB0aGUgYW5pbWF0aW9uJ3MgZHVyYXRpb24uICBUaGUgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBhIG51bWJlclxuICogYmV0d2VlbiAwIGFuZCAxIHJlcHJlc2VudGluZyB0aGUgcHJvZ3Jlc3MgdG93YXJkIHRoZSBkZXN0aW5hdGlvbiBzdGF0ZS5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oYm9vbGVhbil9IFtjYWxsYmFja10gRnVuY3Rpb24gY2FsbGVkIHdoZW4gdGhlIHZpZXcgaXMgaW5cbiAqIGl0cyBmaW5hbCBwb3NpdGlvbi4gVGhlIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHdpdGggYHRydWVgIGlmIHRoZSBhbmltYXRpb25cbiAqIHNlcmllcyBjb21wbGV0ZWQgb24gaXRzIG93biBvciBgZmFsc2VgIGlmIGl0IHdhcyBjYW5jZWxsZWQuXG4gKi9cblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFZpZXdPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbY2VudGVyXSBUaGUgaW5pdGlhbCBjZW50ZXIgZm9yXG4gKiB0aGUgdmlldy4gVGhlIGNvb3JkaW5hdGUgc3lzdGVtIGZvciB0aGUgY2VudGVyIGlzIHNwZWNpZmllZCB3aXRoIHRoZVxuICogYHByb2plY3Rpb25gIG9wdGlvbi4gTGF5ZXIgc291cmNlcyB3aWxsIG5vdCBiZSBmZXRjaGVkIGlmIHRoaXMgaXMgbm90IHNldCxcbiAqIGJ1dCB0aGUgY2VudGVyIGNhbiBiZSBzZXQgbGF0ZXIgd2l0aCB7QGxpbmsgI3NldENlbnRlcn0uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW58bnVtYmVyfSBbY29uc3RyYWluUm90YXRpb249dHJ1ZV0gUm90YXRpb24gY29uc3RyYWludC5cbiAqIGBmYWxzZWAgbWVhbnMgbm8gY29uc3RyYWludC4gYHRydWVgIG1lYW5zIG5vIGNvbnN0cmFpbnQsIGJ1dCBzbmFwIHRvIHplcm9cbiAqIG5lYXIgemVyby4gQSBudW1iZXIgY29uc3RyYWlucyB0aGUgcm90YXRpb24gdG8gdGhhdCBudW1iZXIgb2YgdmFsdWVzLiBGb3JcbiAqIGV4YW1wbGUsIGA0YCB3aWxsIGNvbnN0cmFpbiB0aGUgcm90YXRpb24gdG8gMCwgOTAsIDE4MCwgYW5kIDI3MCBkZWdyZWVzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbZW5hYmxlUm90YXRpb249dHJ1ZV0gRW5hYmxlIHJvdGF0aW9uLlxuICogSWYgYGZhbHNlYCwgYSByb3RhdGlvbiBjb25zdHJhaW50IHRoYXQgYWx3YXlzIHNldHMgdGhlIHJvdGF0aW9uIHRvIHplcm8gaXNcbiAqIHVzZWQuIFRoZSBgY29uc3RyYWluUm90YXRpb25gIG9wdGlvbiBoYXMgbm8gZWZmZWN0IGlmIGBlbmFibGVSb3RhdGlvbmAgaXNcbiAqIGBmYWxzZWAuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gVGhlIGV4dGVudCB0aGF0IGNvbnN0cmFpbnMgdGhlXG4gKiBjZW50ZXIsIGluIG90aGVyIHdvcmRzLCBjZW50ZXIgY2Fubm90IGJlIHNldCBvdXRzaWRlIHRoaXMgZXh0ZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhSZXNvbHV0aW9uXSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIHVzZWQgdG8gZGV0ZXJtaW5lXG4gKiB0aGUgcmVzb2x1dGlvbiBjb25zdHJhaW50LiBJdCBpcyB1c2VkIHRvZ2V0aGVyIHdpdGggYG1pblJlc29sdXRpb25gIChvclxuICogYG1heFpvb21gKSBhbmQgYHpvb21GYWN0b3JgLiBJZiB1bnNwZWNpZmllZCBpdCBpcyBjYWxjdWxhdGVkIGluIHN1Y2ggYSB3YXlcbiAqIHRoYXQgdGhlIHByb2plY3Rpb24ncyB2YWxpZGl0eSBleHRlbnQgZml0cyBpbiBhIDI1NngyNTYgcHggdGlsZS4gSWYgdGhlXG4gKiBwcm9qZWN0aW9uIGlzIFNwaGVyaWNhbCBNZXJjYXRvciAodGhlIGRlZmF1bHQpIHRoZW4gYG1heFJlc29sdXRpb25gIGRlZmF1bHRzXG4gKiB0byBgNDAwNzUwMTYuNjg1NTc4NDkgLyAyNTYgPSAxNTY1NDMuMDMzOTI4MDQwOTdgLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5SZXNvbHV0aW9uXSBUaGUgbWluaW11bSByZXNvbHV0aW9uIHVzZWQgdG8gZGV0ZXJtaW5lXG4gKiB0aGUgcmVzb2x1dGlvbiBjb25zdHJhaW50LiAgSXQgaXMgdXNlZCB0b2dldGhlciB3aXRoIGBtYXhSZXNvbHV0aW9uYCAob3JcbiAqIGBtaW5ab29tYCkgYW5kIGB6b29tRmFjdG9yYC4gIElmIHVuc3BlY2lmaWVkIGl0IGlzIGNhbGN1bGF0ZWQgYXNzdW1pbmcgMjlcbiAqIHpvb20gbGV2ZWxzICh3aXRoIGEgZmFjdG9yIG9mIDIpLiBJZiB0aGUgcHJvamVjdGlvbiBpcyBTcGhlcmljYWwgTWVyY2F0b3JcbiAqICh0aGUgZGVmYXVsdCkgdGhlbiBgbWluUmVzb2x1dGlvbmAgZGVmYXVsdHMgdG9cbiAqIGA0MDA3NTAxNi42ODU1Nzg0OSAvIDI1NiAvIE1hdGgucG93KDIsIDI4KSA9IDAuMDAwNTgzMTY4MjQ1NTgzOTI1M2AuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFpvb209MjhdIFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgdXNlZCB0byBkZXRlcm1pbmUgdGhlXG4gKiByZXNvbHV0aW9uIGNvbnN0cmFpbnQuIEl0IGlzIHVzZWQgdG9nZXRoZXIgd2l0aCBgbWluWm9vbWAgKG9yXG4gKiBgbWF4UmVzb2x1dGlvbmApIGFuZCBgem9vbUZhY3RvcmAuICBOb3RlIHRoYXQgaWYgYG1pblJlc29sdXRpb25gIGlzIGFsc29cbiAqIHByb3ZpZGVkLCBpdCBpcyBnaXZlbiBwcmVjZWRlbmNlIG92ZXIgYG1heFpvb21gLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ab29tPTBdIFRoZSBtaW5pbXVtIHpvb20gbGV2ZWwgdXNlZCB0byBkZXRlcm1pbmUgdGhlXG4gKiByZXNvbHV0aW9uIGNvbnN0cmFpbnQuIEl0IGlzIHVzZWQgdG9nZXRoZXIgd2l0aCBgbWF4Wm9vbWAgKG9yXG4gKiBgbWluUmVzb2x1dGlvbmApIGFuZCBgem9vbUZhY3RvcmAuICBOb3RlIHRoYXQgaWYgYG1heFJlc29sdXRpb25gIGlzIGFsc29cbiAqIHByb3ZpZGVkLCBpdCBpcyBnaXZlbiBwcmVjZWRlbmNlIG92ZXIgYG1pblpvb21gLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IFtwcm9qZWN0aW9uPSdFUFNHOjM4NTcnXSBUaGVcbiAqIHByb2plY3Rpb24uIFRoZSBkZWZhdWx0IGlzIFNwaGVyaWNhbCBNZXJjYXRvci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gVGhlIGluaXRpYWwgcmVzb2x1dGlvbiBmb3IgdGhlIHZpZXcuIFRoZVxuICogdW5pdHMgYXJlIGBwcm9qZWN0aW9uYCB1bml0cyBwZXIgcGl4ZWwgKGUuZy4gbWV0ZXJzIHBlciBwaXhlbCkuIEFuXG4gKiBhbHRlcm5hdGl2ZSB0byBzZXR0aW5nIHRoaXMgaXMgdG8gc2V0IGB6b29tYC4gTGF5ZXIgc291cmNlcyB3aWxsIG5vdCBiZVxuICogZmV0Y2hlZCBpZiBuZWl0aGVyIHRoaXMgbm9yIGB6b29tYCBhcmUgZGVmaW5lZCwgYnV0IHRoZXkgY2FuIGJlIHNldCBsYXRlclxuICogd2l0aCB7QGxpbmsgI3NldFpvb219IG9yIHtAbGluayAjc2V0UmVzb2x1dGlvbn0uXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtyZXNvbHV0aW9uc10gUmVzb2x1dGlvbnMgdG8gZGV0ZXJtaW5lIHRoZVxuICogcmVzb2x1dGlvbiBjb25zdHJhaW50LiBJZiBzZXQgdGhlIGBtYXhSZXNvbHV0aW9uYCwgYG1pblJlc29sdXRpb25gLFxuICogYG1pblpvb21gLCBgbWF4Wm9vbWAsIGFuZCBgem9vbUZhY3RvcmAgb3B0aW9ucyBhcmUgaWdub3JlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcm90YXRpb249MF0gVGhlIGluaXRpYWwgcm90YXRpb24gZm9yIHRoZSB2aWV3IGluIHJhZGlhbnNcbiAqIChwb3NpdGl2ZSByb3RhdGlvbiBjbG9ja3dpc2UsIDAgbWVhbnMgTm9ydGgpLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6b29tXSBPbmx5IHVzZWQgaWYgYHJlc29sdXRpb25gIGlzIG5vdCBkZWZpbmVkLiBab29tXG4gKiBsZXZlbCB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgaW5pdGlhbCByZXNvbHV0aW9uIGZvciB0aGUgdmlldy4gVGhlIGluaXRpYWxcbiAqIHJlc29sdXRpb24gaXMgZGV0ZXJtaW5lZCB1c2luZyB0aGUge0BsaW5rICNjb25zdHJhaW5SZXNvbHV0aW9ufSBtZXRob2QuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pvb21GYWN0b3I9Ml0gVGhlIHpvb20gZmFjdG9yIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZVxuICogcmVzb2x1dGlvbiBjb25zdHJhaW50LlxuICovXG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBBbmltYXRpb25PcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbY2VudGVyXSBUaGUgY2VudGVyIG9mIHRoZSB2aWV3IGF0IHRoZSBlbmQgb2ZcbiAqIHRoZSBhbmltYXRpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pvb21dIFRoZSB6b29tIGxldmVsIG9mIHRoZSB2aWV3IGF0IHRoZSBlbmQgb2YgdGhlXG4gKiBhbmltYXRpb24uIFRoaXMgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIGByZXNvbHV0aW9uYC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gVGhlIHJlc29sdXRpb24gb2YgdGhlIHZpZXcgYXQgdGhlIGVuZFxuICogb2YgdGhlIGFuaW1hdGlvbi4gIElmIGB6b29tYCBpcyBhbHNvIHByb3ZpZGVkLCB0aGlzIG9wdGlvbiB3aWxsIGJlIGlnbm9yZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JvdGF0aW9uXSBUaGUgcm90YXRpb24gb2YgdGhlIHZpZXcgYXQgdGhlIGVuZCBvZlxuICogdGhlIGFuaW1hdGlvbi5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFthbmNob3JdIE9wdGlvbmFsIGFuY2hvciB0byByZW1haW5lZCBmaXhlZFxuICogZHVyaW5nIGEgcm90YXRpb24gb3IgcmVzb2x1dGlvbiBhbmltYXRpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uPTEwMDBdIFRoZSBkdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24obnVtYmVyKTpudW1iZXJ9IFtlYXNpbmddIFRoZSBlYXNpbmcgZnVuY3Rpb24gdXNlZFxuICogZHVyaW5nIHRoZSBhbmltYXRpb24gKGRlZmF1bHRzIHRvIHtAbGluayBtb2R1bGU6b2wvZWFzaW5nfmluQW5kT3V0fSkuXG4gKiBUaGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgZm9yIGVhY2ggZnJhbWUgd2l0aCBhIG51bWJlciByZXByZXNlbnRpbmcgYVxuICogZnJhY3Rpb24gb2YgdGhlIGFuaW1hdGlvbidzIGR1cmF0aW9uLiAgVGhlIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gYSBudW1iZXJcbiAqIGJldHdlZW4gMCBhbmQgMSByZXByZXNlbnRpbmcgdGhlIHByb2dyZXNzIHRvd2FyZCB0aGUgZGVzdGluYXRpb24gc3RhdGUuXG4gKi9cblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFN0YXRlXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjZW50ZXJcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvblxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJlc29sdXRpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByb3RhdGlvblxuICogQHByb3BlcnR5IHtudW1iZXJ9IHpvb21cbiAqL1xuXG5cbi8qKlxuICogRGVmYXVsdCBtaW4gem9vbSBsZXZlbCBmb3IgdGhlIG1hcCB2aWV3LlxuICogQHR5cGUge251bWJlcn1cbiAqL1xudmFyIERFRkFVTFRfTUlOX1pPT00gPSAwO1xuXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSBWaWV3IG9iamVjdCByZXByZXNlbnRzIGEgc2ltcGxlIDJEIHZpZXcgb2YgdGhlIG1hcC5cbiAqXG4gKiBUaGlzIGlzIHRoZSBvYmplY3QgdG8gYWN0IHVwb24gdG8gY2hhbmdlIHRoZSBjZW50ZXIsIHJlc29sdXRpb24sXG4gKiBhbmQgcm90YXRpb24gb2YgdGhlIG1hcC5cbiAqXG4gKiAjIyMgVGhlIHZpZXcgc3RhdGVzXG4gKlxuICogQW4gVmlldyBpcyBkZXRlcm1pbmVkIGJ5IHRocmVlIHN0YXRlczogYGNlbnRlcmAsIGByZXNvbHV0aW9uYCxcbiAqIGFuZCBgcm90YXRpb25gLiBFYWNoIHN0YXRlIGhhcyBhIGNvcnJlc3BvbmRpbmcgZ2V0dGVyIGFuZCBzZXR0ZXIsIGUuZy5cbiAqIGBnZXRDZW50ZXJgIGFuZCBgc2V0Q2VudGVyYCBmb3IgdGhlIGBjZW50ZXJgIHN0YXRlLlxuICpcbiAqIEFuIFZpZXcgaGFzIGEgYHByb2plY3Rpb25gLiBUaGUgcHJvamVjdGlvbiBkZXRlcm1pbmVzIHRoZVxuICogY29vcmRpbmF0ZSBzeXN0ZW0gb2YgdGhlIGNlbnRlciwgYW5kIGl0cyB1bml0cyBkZXRlcm1pbmUgdGhlIHVuaXRzIG9mIHRoZVxuICogcmVzb2x1dGlvbiAocHJvamVjdGlvbiB1bml0cyBwZXIgcGl4ZWwpLiBUaGUgZGVmYXVsdCBwcm9qZWN0aW9uIGlzXG4gKiBTcGhlcmljYWwgTWVyY2F0b3IgKEVQU0c6Mzg1NykuXG4gKlxuICogIyMjIFRoZSBjb25zdHJhaW50c1xuICpcbiAqIGBzZXRDZW50ZXJgLCBgc2V0UmVzb2x1dGlvbmAgYW5kIGBzZXRSb3RhdGlvbmAgY2FuIGJlIHVzZWQgdG8gY2hhbmdlIHRoZVxuICogc3RhdGVzIG9mIHRoZSB2aWV3LiBBbnkgdmFsdWUgY2FuIGJlIHBhc3NlZCB0byB0aGUgc2V0dGVycy4gQW5kIHRoZSB2YWx1ZVxuICogdGhhdCBpcyBwYXNzZWQgdG8gYSBzZXR0ZXIgd2lsbCBlZmZlY3RpdmVseSBiZSB0aGUgdmFsdWUgc2V0IGluIHRoZSB2aWV3LFxuICogYW5kIHJldHVybmVkIGJ5IHRoZSBjb3JyZXNwb25kaW5nIGdldHRlci5cbiAqXG4gKiBCdXQgYSBWaWV3IG9iamVjdCBhbHNvIGhhcyBhICpyZXNvbHV0aW9uIGNvbnN0cmFpbnQqLCBhXG4gKiAqcm90YXRpb24gY29uc3RyYWludCogYW5kIGEgKmNlbnRlciBjb25zdHJhaW50Ki5cbiAqXG4gKiBBcyBzYWlkIGFib3ZlLCBubyBjb25zdHJhaW50cyBhcmUgYXBwbGllZCB3aGVuIHRoZSBzZXR0ZXJzIGFyZSB1c2VkIHRvIHNldFxuICogbmV3IHN0YXRlcyBmb3IgdGhlIHZpZXcuIEFwcGx5aW5nIGNvbnN0cmFpbnRzIGlzIGRvbmUgZXhwbGljaXRseSB0aHJvdWdoXG4gKiB0aGUgdXNlIG9mIHRoZSBgY29uc3RyYWluKmAgZnVuY3Rpb25zIChgY29uc3RyYWluUmVzb2x1dGlvbmAgYW5kXG4gKiBgY29uc3RyYWluUm90YXRpb25gIGFuZCBgY29uc3RyYWluQ2VudGVyYCkuXG4gKlxuICogVGhlIG1haW4gdXNlcnMgb2YgdGhlIGNvbnN0cmFpbnRzIGFyZSB0aGUgaW50ZXJhY3Rpb25zIGFuZCB0aGVcbiAqIGNvbnRyb2xzLiBGb3IgZXhhbXBsZSwgZG91YmxlLWNsaWNraW5nIG9uIHRoZSBtYXAgY2hhbmdlcyB0aGUgdmlldyB0b1xuICogdGhlIFwibmV4dFwiIHJlc29sdXRpb24uIEFuZCByZWxlYXNpbmcgdGhlIGZpbmdlcnMgYWZ0ZXIgcGluY2gtem9vbWluZ1xuICogc25hcHMgdG8gdGhlIGNsb3Nlc3QgcmVzb2x1dGlvbiAod2l0aCBhbiBhbmltYXRpb24pLlxuICpcbiAqIFRoZSAqcmVzb2x1dGlvbiBjb25zdHJhaW50KiBzbmFwcyB0byBzcGVjaWZpYyByZXNvbHV0aW9ucy4gSXQgaXNcbiAqIGRldGVybWluZWQgYnkgdGhlIGZvbGxvd2luZyBvcHRpb25zOiBgcmVzb2x1dGlvbnNgLCBgbWF4UmVzb2x1dGlvbmAsXG4gKiBgbWF4Wm9vbWAsIGFuZCBgem9vbUZhY3RvcmAuIElmIGByZXNvbHV0aW9uc2AgaXMgc2V0LCB0aGUgb3RoZXIgdGhyZWVcbiAqIG9wdGlvbnMgYXJlIGlnbm9yZWQuIFNlZSBkb2N1bWVudGF0aW9uIGZvciBlYWNoIG9wdGlvbiBmb3IgbW9yZVxuICogaW5mb3JtYXRpb24uXG4gKlxuICogVGhlICpyb3RhdGlvbiBjb25zdHJhaW50KiBzbmFwcyB0byBzcGVjaWZpYyBhbmdsZXMuIEl0IGlzIGRldGVybWluZWRcbiAqIGJ5IHRoZSBmb2xsb3dpbmcgb3B0aW9uczogYGVuYWJsZVJvdGF0aW9uYCBhbmQgYGNvbnN0cmFpblJvdGF0aW9uYC5cbiAqIEJ5IGRlZmF1bHQgdGhlIHJvdGF0aW9uIHZhbHVlIGlzIHNuYXBwZWQgdG8gemVybyB3aGVuIGFwcHJvYWNoaW5nIHRoZVxuICogaG9yaXpvbnRhbC5cbiAqXG4gKiBUaGUgKmNlbnRlciBjb25zdHJhaW50KiBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBgZXh0ZW50YCBvcHRpb24uIEJ5XG4gKiBkZWZhdWx0IHRoZSBjZW50ZXIgaXMgbm90IGNvbnN0cmFpbmVkIGF0IGFsbC5cbiAqXG4gICogQGFwaVxuICovXG52YXIgVmlldyA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEJhc2VPYmplY3QpIHtcbiAgZnVuY3Rpb24gVmlldyhvcHRfb3B0aW9ucykge1xuICAgIEJhc2VPYmplY3QuY2FsbCh0aGlzKTtcblxuICAgIHZhciBvcHRpb25zID0gYXNzaWduKHt9LCBvcHRfb3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMuaGludHNfID0gWzAsIDBdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8QXJyYXk8QW5pbWF0aW9uPj59XG4gICAgICovXG4gICAgdGhpcy5hbmltYXRpb25zXyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnVwZGF0ZUFuaW1hdGlvbktleV87XG5cbiAgICB0aGlzLnVwZGF0ZUFuaW1hdGlvbnNfID0gdGhpcy51cGRhdGVBbmltYXRpb25zXy5iaW5kKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLnByb2plY3Rpb25fID0gY3JlYXRlUHJvamVjdGlvbihvcHRpb25zLnByb2plY3Rpb24sICdFUFNHOjM4NTcnKTtcblxuICAgIHRoaXMuYXBwbHlPcHRpb25zXyhvcHRpb25zKTtcbiAgfVxuXG4gIGlmICggQmFzZU9iamVjdCApIFZpZXcuX19wcm90b19fID0gQmFzZU9iamVjdDtcbiAgVmlldy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBCYXNlT2JqZWN0ICYmIEJhc2VPYmplY3QucHJvdG90eXBlICk7XG4gIFZpZXcucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVmlldztcblxuICAvKipcbiAgICogU2V0IHVwIHRoZSB2aWV3IHdpdGggdGhlIGdpdmVuIG9wdGlvbnMuXG4gICAqIEBwYXJhbSB7Vmlld09wdGlvbnN9IG9wdGlvbnMgVmlldyBvcHRpb25zLlxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuYXBwbHlPcHRpb25zXyA9IGZ1bmN0aW9uIGFwcGx5T3B0aW9uc18gKG9wdGlvbnMpIHtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCAqPn1cbiAgICAgKi9cbiAgICB2YXIgcHJvcGVydGllcyA9IHt9O1xuICAgIHByb3BlcnRpZXNbVmlld1Byb3BlcnR5LkNFTlRFUl0gPSBvcHRpb25zLmNlbnRlciAhPT0gdW5kZWZpbmVkID9cbiAgICAgIG9wdGlvbnMuY2VudGVyIDogbnVsbDtcblxuICAgIHZhciByZXNvbHV0aW9uQ29uc3RyYWludEluZm8gPSBjcmVhdGVSZXNvbHV0aW9uQ29uc3RyYWludChvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1heFJlc29sdXRpb25fID0gcmVzb2x1dGlvbkNvbnN0cmFpbnRJbmZvLm1heFJlc29sdXRpb247XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5taW5SZXNvbHV0aW9uXyA9IHJlc29sdXRpb25Db25zdHJhaW50SW5mby5taW5SZXNvbHV0aW9uO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuem9vbUZhY3Rvcl8gPSByZXNvbHV0aW9uQ29uc3RyYWludEluZm8uem9vbUZhY3RvcjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcj58dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMucmVzb2x1dGlvbnNfID0gb3B0aW9ucy5yZXNvbHV0aW9ucztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1pblpvb21fID0gcmVzb2x1dGlvbkNvbnN0cmFpbnRJbmZvLm1pblpvb207XG5cbiAgICB2YXIgY2VudGVyQ29uc3RyYWludCA9IGNyZWF0ZUNlbnRlckNvbnN0cmFpbnQob3B0aW9ucyk7XG4gICAgdmFyIHJlc29sdXRpb25Db25zdHJhaW50ID0gcmVzb2x1dGlvbkNvbnN0cmFpbnRJbmZvLmNvbnN0cmFpbnQ7XG4gICAgdmFyIHJvdGF0aW9uQ29uc3RyYWludCA9IGNyZWF0ZVJvdGF0aW9uQ29uc3RyYWludChvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0NvbnN0cmFpbnRzfVxuICAgICAqL1xuICAgIHRoaXMuY29uc3RyYWludHNfID0ge1xuICAgICAgY2VudGVyOiBjZW50ZXJDb25zdHJhaW50LFxuICAgICAgcmVzb2x1dGlvbjogcmVzb2x1dGlvbkNvbnN0cmFpbnQsXG4gICAgICByb3RhdGlvbjogcm90YXRpb25Db25zdHJhaW50XG4gICAgfTtcblxuICAgIGlmIChvcHRpb25zLnJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgcHJvcGVydGllc1tWaWV3UHJvcGVydHkuUkVTT0xVVElPTl0gPSBvcHRpb25zLnJlc29sdXRpb247XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLnpvb20gIT09IHVuZGVmaW5lZCkge1xuICAgICAgcHJvcGVydGllc1tWaWV3UHJvcGVydHkuUkVTT0xVVElPTl0gPSB0aGlzLmNvbnN0cmFpblJlc29sdXRpb24oXG4gICAgICAgIHRoaXMubWF4UmVzb2x1dGlvbl8sIG9wdGlvbnMuem9vbSAtIHRoaXMubWluWm9vbV8pO1xuXG4gICAgICBpZiAodGhpcy5yZXNvbHV0aW9uc18pIHsgLy8gaW4gY2FzZSBtYXAgem9vbSBpcyBvdXQgb2YgbWluL21heCB6b29tIHJhbmdlXG4gICAgICAgIHByb3BlcnRpZXNbVmlld1Byb3BlcnR5LlJFU09MVVRJT05dID0gY2xhbXAoXG4gICAgICAgICAgTnVtYmVyKHRoaXMuZ2V0UmVzb2x1dGlvbigpIHx8IHByb3BlcnRpZXNbVmlld1Byb3BlcnR5LlJFU09MVVRJT05dKSxcbiAgICAgICAgICB0aGlzLm1pblJlc29sdXRpb25fLCB0aGlzLm1heFJlc29sdXRpb25fKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcHJvcGVydGllc1tWaWV3UHJvcGVydHkuUk9UQVRJT05dID0gb3B0aW9ucy5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yb3RhdGlvbiA6IDA7XG4gICAgdGhpcy5zZXRQcm9wZXJ0aWVzKHByb3BlcnRpZXMpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Vmlld09wdGlvbnN9XG4gICAgICovXG4gICAgdGhpcy5vcHRpb25zXyA9IG9wdGlvbnM7XG5cbiAgfTtcblxuICAvKipcbiAgICogR2V0IGFuIHVwZGF0ZWQgdmVyc2lvbiBvZiB0aGUgdmlldyBvcHRpb25zIHVzZWQgdG8gY29uc3RydWN0IHRoZSB2aWV3LiAgVGhlXG4gICAqIGN1cnJlbnQgcmVzb2x1dGlvbiAob3Igem9vbSksIGNlbnRlciwgYW5kIHJvdGF0aW9uIGFyZSBhcHBsaWVkIHRvIGFueSBzdG9yZWRcbiAgICogb3B0aW9ucy4gIFRoZSBwcm92aWRlZCBvcHRpb25zIGNhbiBiZSB1c2VkIHRvIGFwcGx5IG5ldyBtaW4vbWF4IHpvb20gb3JcbiAgICogcmVzb2x1dGlvbiBsaW1pdHMuXG4gICAqIEBwYXJhbSB7Vmlld09wdGlvbnN9IG5ld09wdGlvbnMgTmV3IG9wdGlvbnMgdG8gYmUgYXBwbGllZC5cbiAgICogQHJldHVybiB7Vmlld09wdGlvbnN9IE5ldyBvcHRpb25zIHVwZGF0ZWQgd2l0aCB0aGUgY3VycmVudCB2aWV3IHN0YXRlLlxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuZ2V0VXBkYXRlZE9wdGlvbnNfID0gZnVuY3Rpb24gZ2V0VXBkYXRlZE9wdGlvbnNfIChuZXdPcHRpb25zKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhc3NpZ24oe30sIHRoaXMub3B0aW9uc18pO1xuXG4gICAgLy8gcHJlc2VydmUgcmVzb2x1dGlvbiAob3Igem9vbSlcbiAgICBpZiAob3B0aW9ucy5yZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG9wdGlvbnMucmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRpb25zLnpvb20gPSB0aGlzLmdldFpvb20oKTtcbiAgICB9XG5cbiAgICAvLyBwcmVzZXJ2ZSBjZW50ZXJcbiAgICBvcHRpb25zLmNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyKCk7XG5cbiAgICAvLyBwcmVzZXJ2ZSByb3RhdGlvblxuICAgIG9wdGlvbnMucm90YXRpb24gPSB0aGlzLmdldFJvdGF0aW9uKCk7XG5cbiAgICByZXR1cm4gYXNzaWduKHt9LCBvcHRpb25zLCBuZXdPcHRpb25zKTtcbiAgfTtcblxuICAvKipcbiAgICogQW5pbWF0ZSB0aGUgdmlldy4gIFRoZSB2aWV3J3MgY2VudGVyLCB6b29tIChvciByZXNvbHV0aW9uKSwgYW5kIHJvdGF0aW9uXG4gICAqIGNhbiBiZSBhbmltYXRlZCBmb3Igc21vb3RoIHRyYW5zaXRpb25zIGJldHdlZW4gdmlldyBzdGF0ZXMuICBGb3IgZXhhbXBsZSxcbiAgICogdG8gYW5pbWF0ZSB0aGUgdmlldyB0byBhIG5ldyB6b29tIGxldmVsOlxuICAgKlxuICAgKiAgICAgdmlldy5hbmltYXRlKHt6b29tOiB2aWV3LmdldFpvb20oKSArIDF9KTtcbiAgICpcbiAgICogQnkgZGVmYXVsdCwgdGhlIGFuaW1hdGlvbiBsYXN0cyBvbmUgc2Vjb25kIGFuZCB1c2VzIGluLWFuZC1vdXQgZWFzaW5nLiAgWW91XG4gICAqIGNhbiBjdXN0b21pemUgdGhpcyBiZWhhdmlvciBieSBpbmNsdWRpbmcgYGR1cmF0aW9uYCAoaW4gbWlsbGlzZWNvbmRzKSBhbmRcbiAgICogYGVhc2luZ2Agb3B0aW9ucyAoc2VlIHtAbGluayBtb2R1bGU6b2wvZWFzaW5nfSkuXG4gICAqXG4gICAqIFRvIGNoYWluIHRvZ2V0aGVyIG11bHRpcGxlIGFuaW1hdGlvbnMsIGNhbGwgdGhlIG1ldGhvZCB3aXRoIG11bHRpcGxlXG4gICAqIGFuaW1hdGlvbiBvYmplY3RzLiAgRm9yIGV4YW1wbGUsIHRvIGZpcnN0IHpvb20gYW5kIHRoZW4gcGFuOlxuICAgKlxuICAgKiAgICAgdmlldy5hbmltYXRlKHt6b29tOiAxMH0sIHtjZW50ZXI6IFswLCAwXX0pO1xuICAgKlxuICAgKiBJZiB5b3UgcHJvdmlkZSBhIGZ1bmN0aW9uIGFzIHRoZSBsYXN0IGFyZ3VtZW50IHRvIHRoZSBhbmltYXRlIG1ldGhvZCwgaXRcbiAgICogd2lsbCBnZXQgY2FsbGVkIGF0IHRoZSBlbmQgb2YgYW4gYW5pbWF0aW9uIHNlcmllcy4gIFRoZSBjYWxsYmFjayB3aWxsIGJlXG4gICAqIGNhbGxlZCB3aXRoIGB0cnVlYCBpZiB0aGUgYW5pbWF0aW9uIHNlcmllcyBjb21wbGV0ZWQgb24gaXRzIG93biBvciBgZmFsc2VgXG4gICAqIGlmIGl0IHdhcyBjYW5jZWxsZWQuXG4gICAqXG4gICAqIEFuaW1hdGlvbnMgYXJlIGNhbmNlbGxlZCBieSB1c2VyIGludGVyYWN0aW9ucyAoZS5nLiBkcmFnZ2luZyB0aGUgbWFwKSBvciBieVxuICAgKiBjYWxsaW5nIGB2aWV3LnNldENlbnRlcigpYCwgYHZpZXcuc2V0UmVzb2x1dGlvbigpYCwgb3IgYHZpZXcuc2V0Um90YXRpb24oKWBcbiAgICogKG9yIGFub3RoZXIgbWV0aG9kIHRoYXQgY2FsbHMgb25lIG9mIHRoZXNlKS5cbiAgICpcbiAgICogQHBhcmFtIHsuLi4oQW5pbWF0aW9uT3B0aW9uc3xmdW5jdGlvbihib29sZWFuKSl9IHZhcl9hcmdzIEFuaW1hdGlvblxuICAgKiAgICAgb3B0aW9ucy4gIE11bHRpcGxlIGFuaW1hdGlvbnMgY2FuIGJlIHJ1biBpbiBzZXJpZXMgYnkgcGFzc2luZyBtdWx0aXBsZVxuICAgKiAgICAgb3B0aW9ucyBvYmplY3RzLiAgVG8gcnVuIG11bHRpcGxlIGFuaW1hdGlvbnMgaW4gcGFyYWxsZWwsIGNhbGwgdGhlIG1ldGhvZFxuICAgKiAgICAgbXVsdGlwbGUgdGltZXMuICBBbiBvcHRpb25hbCBjYWxsYmFjayBjYW4gYmUgcHJvdmlkZWQgYXMgYSBmaW5hbFxuICAgKiAgICAgYXJndW1lbnQuICBUaGUgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgd2l0aCBhIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyXG4gICAqICAgICB0aGUgYW5pbWF0aW9uIGNvbXBsZXRlZCB3aXRob3V0IGJlaW5nIGNhbmNlbGxlZC5cbiAgICogQGFwaVxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuYW5pbWF0ZSA9IGZ1bmN0aW9uIGFuaW1hdGUgKHZhcl9hcmdzKSB7XG4gICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXG4gICAgdmFyIGFuaW1hdGlvbkNvdW50ID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICB2YXIgY2FsbGJhY2s7XG4gICAgaWYgKGFuaW1hdGlvbkNvdW50ID4gMSAmJiB0eXBlb2YgYXJndW1lbnRzW2FuaW1hdGlvbkNvdW50IC0gMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gYXJndW1lbnRzW2FuaW1hdGlvbkNvdW50IC0gMV07XG4gICAgICAtLWFuaW1hdGlvbkNvdW50O1xuICAgIH1cbiAgICBpZiAoIXRoaXMuaXNEZWYoKSkge1xuICAgICAgLy8gaWYgdmlldyBwcm9wZXJ0aWVzIGFyZSBub3QgeWV0IHNldCwgc2hvcnRjdXQgdG8gdGhlIGZpbmFsIHN0YXRlXG4gICAgICB2YXIgc3RhdGUgPSBhcmd1bWVudHNbYW5pbWF0aW9uQ291bnQgLSAxXTtcbiAgICAgIGlmIChzdGF0ZS5jZW50ZXIpIHtcbiAgICAgICAgdGhpcy5zZXRDZW50ZXIoc3RhdGUuY2VudGVyKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS56b29tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5zZXRab29tKHN0YXRlLnpvb20pO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXRlLnJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5zZXRSb3RhdGlvbihzdGF0ZS5yb3RhdGlvbik7XG4gICAgICB9XG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgYW5pbWF0aW9uQ2FsbGJhY2soY2FsbGJhY2ssIHRydWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgc3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIHZhciBjZW50ZXIgPSB0aGlzLmdldENlbnRlcigpLnNsaWNlKCk7XG4gICAgdmFyIHJlc29sdXRpb24gPSB0aGlzLmdldFJlc29sdXRpb24oKTtcbiAgICB2YXIgcm90YXRpb24gPSB0aGlzLmdldFJvdGF0aW9uKCk7XG4gICAgdmFyIHNlcmllcyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5pbWF0aW9uQ291bnQ7ICsraSkge1xuICAgICAgdmFyIG9wdGlvbnMgPSAvKiogQHR5cGUge0FuaW1hdGlvbk9wdGlvbnN9ICovIChhcmd1bWVudHMkMVtpXSk7XG5cbiAgICAgIHZhciBhbmltYXRpb24gPSAvKiogQHR5cGUge0FuaW1hdGlvbn0gKi8gKHtcbiAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICBjb21wbGV0ZTogZmFsc2UsXG4gICAgICAgIGFuY2hvcjogb3B0aW9ucy5hbmNob3IsXG4gICAgICAgIGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMTAwMCxcbiAgICAgICAgZWFzaW5nOiBvcHRpb25zLmVhc2luZyB8fCBpbkFuZE91dFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChvcHRpb25zLmNlbnRlcikge1xuICAgICAgICBhbmltYXRpb24uc291cmNlQ2VudGVyID0gY2VudGVyO1xuICAgICAgICBhbmltYXRpb24udGFyZ2V0Q2VudGVyID0gb3B0aW9ucy5jZW50ZXI7XG4gICAgICAgIGNlbnRlciA9IGFuaW1hdGlvbi50YXJnZXRDZW50ZXI7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLnpvb20gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhbmltYXRpb24uc291cmNlUmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uID0gdGhpcy5jb25zdHJhaW5SZXNvbHV0aW9uKFxuICAgICAgICAgIHRoaXMubWF4UmVzb2x1dGlvbl8sIG9wdGlvbnMuem9vbSAtIHRoaXMubWluWm9vbV8sIDApO1xuICAgICAgICByZXNvbHV0aW9uID0gYW5pbWF0aW9uLnRhcmdldFJlc29sdXRpb247XG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbnMucmVzb2x1dGlvbikge1xuICAgICAgICBhbmltYXRpb24uc291cmNlUmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uID0gb3B0aW9ucy5yZXNvbHV0aW9uO1xuICAgICAgICByZXNvbHV0aW9uID0gYW5pbWF0aW9uLnRhcmdldFJlc29sdXRpb247XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLnJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYW5pbWF0aW9uLnNvdXJjZVJvdGF0aW9uID0gcm90YXRpb247XG4gICAgICAgIHZhciBkZWx0YSA9IG1vZHVsbyhvcHRpb25zLnJvdGF0aW9uIC0gcm90YXRpb24gKyBNYXRoLlBJLCAyICogTWF0aC5QSSkgLSBNYXRoLlBJO1xuICAgICAgICBhbmltYXRpb24udGFyZ2V0Um90YXRpb24gPSByb3RhdGlvbiArIGRlbHRhO1xuICAgICAgICByb3RhdGlvbiA9IGFuaW1hdGlvbi50YXJnZXRSb3RhdGlvbjtcbiAgICAgIH1cblxuICAgICAgYW5pbWF0aW9uLmNhbGxiYWNrID0gY2FsbGJhY2s7XG5cbiAgICAgIC8vIGNoZWNrIGlmIGFuaW1hdGlvbiBpcyBhIG5vLW9wXG4gICAgICBpZiAoaXNOb29wQW5pbWF0aW9uKGFuaW1hdGlvbikpIHtcbiAgICAgICAgYW5pbWF0aW9uLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgLy8gd2Ugc3RpbGwgcHVzaCBpdCBvbnRvIHRoZSBzZXJpZXMgZm9yIGNhbGxiYWNrIGhhbmRsaW5nXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGFydCArPSBhbmltYXRpb24uZHVyYXRpb247XG4gICAgICB9XG4gICAgICBzZXJpZXMucHVzaChhbmltYXRpb24pO1xuICAgIH1cbiAgICB0aGlzLmFuaW1hdGlvbnNfLnB1c2goc2VyaWVzKTtcbiAgICB0aGlzLnNldEhpbnQoVmlld0hpbnQuQU5JTUFUSU5HLCAxKTtcbiAgICB0aGlzLnVwZGF0ZUFuaW1hdGlvbnNfKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIERldGVybWluZSBpZiB0aGUgdmlldyBpcyBiZWluZyBhbmltYXRlZC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHZpZXcgaXMgYmVpbmcgYW5pbWF0ZWQuXG4gICAqIEBhcGlcbiAgICovXG4gIFZpZXcucHJvdG90eXBlLmdldEFuaW1hdGluZyA9IGZ1bmN0aW9uIGdldEFuaW1hdGluZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGludHNfW1ZpZXdIaW50LkFOSU1BVElOR10gPiAwO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgaWYgdGhlIHVzZXIgaXMgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgdmlldywgc3VjaCBhcyBwYW5uaW5nIG9yIHpvb21pbmcuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB2aWV3IGlzIGJlaW5nIGludGVyYWN0ZWQgd2l0aC5cbiAgICogQGFwaVxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuZ2V0SW50ZXJhY3RpbmcgPSBmdW5jdGlvbiBnZXRJbnRlcmFjdGluZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGludHNfW1ZpZXdIaW50LklOVEVSQUNUSU5HXSA+IDA7XG4gIH07XG5cbiAgLyoqXG4gICAqIENhbmNlbCBhbnkgb25nb2luZyBhbmltYXRpb25zLlxuICAgKiBAYXBpXG4gICAqL1xuICBWaWV3LnByb3RvdHlwZS5jYW5jZWxBbmltYXRpb25zID0gZnVuY3Rpb24gY2FuY2VsQW5pbWF0aW9ucyAoKSB7XG4gICAgdGhpcy5zZXRIaW50KFZpZXdIaW50LkFOSU1BVElORywgLXRoaXMuaGludHNfW1ZpZXdIaW50LkFOSU1BVElOR10pO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHRoaXMuYW5pbWF0aW9uc18ubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgdmFyIHNlcmllcyA9IHRoaXMuYW5pbWF0aW9uc19baV07XG4gICAgICBpZiAoc2VyaWVzWzBdLmNhbGxiYWNrKSB7XG4gICAgICAgIGFuaW1hdGlvbkNhbGxiYWNrKHNlcmllc1swXS5jYWxsYmFjaywgZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmFuaW1hdGlvbnNfLmxlbmd0aCA9IDA7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBhbGwgYW5pbWF0aW9ucy5cbiAgICovXG4gIFZpZXcucHJvdG90eXBlLnVwZGF0ZUFuaW1hdGlvbnNfID0gZnVuY3Rpb24gdXBkYXRlQW5pbWF0aW9uc18gKCkge1xuICAgIGlmICh0aGlzLnVwZGF0ZUFuaW1hdGlvbktleV8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGVBbmltYXRpb25LZXlfKTtcbiAgICAgIHRoaXMudXBkYXRlQW5pbWF0aW9uS2V5XyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmdldEFuaW1hdGluZygpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xuICAgIHZhciBtb3JlID0gZmFsc2U7XG4gICAgZm9yICh2YXIgaSA9IHRoaXMuYW5pbWF0aW9uc18ubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIHZhciBzZXJpZXMgPSB0aGlzLmFuaW1hdGlvbnNfW2ldO1xuICAgICAgdmFyIHNlcmllc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgIGZvciAodmFyIGogPSAwLCBqaiA9IHNlcmllcy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgIHZhciBhbmltYXRpb24gPSBzZXJpZXNbal07XG4gICAgICAgIGlmIChhbmltYXRpb24uY29tcGxldGUpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZWxhcHNlZCA9IG5vdyAtIGFuaW1hdGlvbi5zdGFydDtcbiAgICAgICAgdmFyIGZyYWN0aW9uID0gYW5pbWF0aW9uLmR1cmF0aW9uID4gMCA/IGVsYXBzZWQgLyBhbmltYXRpb24uZHVyYXRpb24gOiAxO1xuICAgICAgICBpZiAoZnJhY3Rpb24gPj0gMSkge1xuICAgICAgICAgIGFuaW1hdGlvbi5jb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgZnJhY3Rpb24gPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlcmllc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByb2dyZXNzID0gYW5pbWF0aW9uLmVhc2luZyhmcmFjdGlvbik7XG4gICAgICAgIGlmIChhbmltYXRpb24uc291cmNlQ2VudGVyKSB7XG4gICAgICAgICAgdmFyIHgwID0gYW5pbWF0aW9uLnNvdXJjZUNlbnRlclswXTtcbiAgICAgICAgICB2YXIgeTAgPSBhbmltYXRpb24uc291cmNlQ2VudGVyWzFdO1xuICAgICAgICAgIHZhciB4MSA9IGFuaW1hdGlvbi50YXJnZXRDZW50ZXJbMF07XG4gICAgICAgICAgdmFyIHkxID0gYW5pbWF0aW9uLnRhcmdldENlbnRlclsxXTtcbiAgICAgICAgICB2YXIgeCA9IHgwICsgcHJvZ3Jlc3MgKiAoeDEgLSB4MCk7XG4gICAgICAgICAgdmFyIHkgPSB5MCArIHByb2dyZXNzICogKHkxIC0geTApO1xuICAgICAgICAgIHRoaXMuc2V0KFZpZXdQcm9wZXJ0eS5DRU5URVIsIFt4LCB5XSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFuaW1hdGlvbi5zb3VyY2VSZXNvbHV0aW9uICYmIGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uKSB7XG4gICAgICAgICAgdmFyIHJlc29sdXRpb24gPSBwcm9ncmVzcyA9PT0gMSA/XG4gICAgICAgICAgICBhbmltYXRpb24udGFyZ2V0UmVzb2x1dGlvbiA6XG4gICAgICAgICAgICBhbmltYXRpb24uc291cmNlUmVzb2x1dGlvbiArIHByb2dyZXNzICogKGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uIC0gYW5pbWF0aW9uLnNvdXJjZVJlc29sdXRpb24pO1xuICAgICAgICAgIGlmIChhbmltYXRpb24uYW5jaG9yKSB7XG4gICAgICAgICAgICB0aGlzLnNldChWaWV3UHJvcGVydHkuQ0VOVEVSLFxuICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUNlbnRlclpvb20ocmVzb2x1dGlvbiwgYW5pbWF0aW9uLmFuY2hvcikpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnNldChWaWV3UHJvcGVydHkuUkVTT0xVVElPTiwgcmVzb2x1dGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFuaW1hdGlvbi5zb3VyY2VSb3RhdGlvbiAhPT0gdW5kZWZpbmVkICYmIGFuaW1hdGlvbi50YXJnZXRSb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdmFyIHJvdGF0aW9uID0gcHJvZ3Jlc3MgPT09IDEgP1xuICAgICAgICAgICAgbW9kdWxvKGFuaW1hdGlvbi50YXJnZXRSb3RhdGlvbiArIE1hdGguUEksIDIgKiBNYXRoLlBJKSAtIE1hdGguUEkgOlxuICAgICAgICAgICAgYW5pbWF0aW9uLnNvdXJjZVJvdGF0aW9uICsgcHJvZ3Jlc3MgKiAoYW5pbWF0aW9uLnRhcmdldFJvdGF0aW9uIC0gYW5pbWF0aW9uLnNvdXJjZVJvdGF0aW9uKTtcbiAgICAgICAgICBpZiAoYW5pbWF0aW9uLmFuY2hvcikge1xuICAgICAgICAgICAgdGhpcy5zZXQoVmlld1Byb3BlcnR5LkNFTlRFUixcbiAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVDZW50ZXJSb3RhdGUocm90YXRpb24sIGFuaW1hdGlvbi5hbmNob3IpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5zZXQoVmlld1Byb3BlcnR5LlJPVEFUSU9OLCByb3RhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgbW9yZSA9IHRydWU7XG4gICAgICAgIGlmICghYW5pbWF0aW9uLmNvbXBsZXRlKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzZXJpZXNDb21wbGV0ZSkge1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnNfW2ldID0gbnVsbDtcbiAgICAgICAgdGhpcy5zZXRIaW50KFZpZXdIaW50LkFOSU1BVElORywgLTEpO1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBzZXJpZXNbMF0uY2FsbGJhY2s7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgIGFuaW1hdGlvbkNhbGxiYWNrKGNhbGxiYWNrLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvLyBwcnVuZSBjb21wbGV0ZWQgc2VyaWVzXG4gICAgdGhpcy5hbmltYXRpb25zXyA9IHRoaXMuYW5pbWF0aW9uc18uZmlsdGVyKEJvb2xlYW4pO1xuICAgIGlmIChtb3JlICYmIHRoaXMudXBkYXRlQW5pbWF0aW9uS2V5XyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnVwZGF0ZUFuaW1hdGlvbktleV8gPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGVBbmltYXRpb25zXyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gVGFyZ2V0IHJvdGF0aW9uLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBhbmNob3IgUm90YXRpb24gYW5jaG9yLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IENlbnRlciBmb3Igcm90YXRpb24gYW5kIGFuY2hvci5cbiAgICovXG4gIFZpZXcucHJvdG90eXBlLmNhbGN1bGF0ZUNlbnRlclJvdGF0ZSA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUNlbnRlclJvdGF0ZSAocm90YXRpb24sIGFuY2hvcikge1xuICAgIHZhciBjZW50ZXI7XG4gICAgdmFyIGN1cnJlbnRDZW50ZXIgPSB0aGlzLmdldENlbnRlcigpO1xuICAgIGlmIChjdXJyZW50Q2VudGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNlbnRlciA9IFtjdXJyZW50Q2VudGVyWzBdIC0gYW5jaG9yWzBdLCBjdXJyZW50Q2VudGVyWzFdIC0gYW5jaG9yWzFdXTtcbiAgICAgIHJvdGF0ZUNvb3JkaW5hdGUoY2VudGVyLCByb3RhdGlvbiAtIHRoaXMuZ2V0Um90YXRpb24oKSk7XG4gICAgICBhZGRDb29yZGluYXRlKGNlbnRlciwgYW5jaG9yKTtcbiAgICB9XG4gICAgcmV0dXJuIGNlbnRlcjtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gVGFyZ2V0IHJlc29sdXRpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGFuY2hvciBab29tIGFuY2hvci5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfSBDZW50ZXIgZm9yIHJlc29sdXRpb24gYW5kIGFuY2hvci5cbiAgICovXG4gIFZpZXcucHJvdG90eXBlLmNhbGN1bGF0ZUNlbnRlclpvb20gPSBmdW5jdGlvbiBjYWxjdWxhdGVDZW50ZXJab29tIChyZXNvbHV0aW9uLCBhbmNob3IpIHtcbiAgICB2YXIgY2VudGVyO1xuICAgIHZhciBjdXJyZW50Q2VudGVyID0gdGhpcy5nZXRDZW50ZXIoKTtcbiAgICB2YXIgY3VycmVudFJlc29sdXRpb24gPSB0aGlzLmdldFJlc29sdXRpb24oKTtcbiAgICBpZiAoY3VycmVudENlbnRlciAhPT0gdW5kZWZpbmVkICYmIGN1cnJlbnRSZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciB4ID0gYW5jaG9yWzBdIC0gcmVzb2x1dGlvbiAqIChhbmNob3JbMF0gLSBjdXJyZW50Q2VudGVyWzBdKSAvIGN1cnJlbnRSZXNvbHV0aW9uO1xuICAgICAgdmFyIHkgPSBhbmNob3JbMV0gLSByZXNvbHV0aW9uICogKGFuY2hvclsxXSAtIGN1cnJlbnRDZW50ZXJbMV0pIC8gY3VycmVudFJlc29sdXRpb247XG4gICAgICBjZW50ZXIgPSBbeCwgeV07XG4gICAgfVxuICAgIHJldHVybiBjZW50ZXI7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBWaWV3cG9ydCBzaXplIG9yIGBbMTAwLCAxMDBdYCB3aGVuIG5vIHZpZXdwb3J0IGlzIGZvdW5kLlxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuZ2V0U2l6ZUZyb21WaWV3cG9ydF8gPSBmdW5jdGlvbiBnZXRTaXplRnJvbVZpZXdwb3J0XyAoKSB7XG4gICAgdmFyIHNpemUgPSBbMTAwLCAxMDBdO1xuICAgIHZhciBzZWxlY3RvciA9ICcub2wtdmlld3BvcnRbZGF0YS12aWV3PVwiJyArIGdldFVpZCh0aGlzKSArICdcIl0nO1xuICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIHZhciBtZXRyaWNzID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICAgIHNpemVbMF0gPSBwYXJzZUludChtZXRyaWNzLndpZHRoLCAxMCk7XG4gICAgICBzaXplWzFdID0gcGFyc2VJbnQobWV0cmljcy5oZWlnaHQsIDEwKTtcbiAgICB9XG4gICAgcmV0dXJuIHNpemU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY29uc3RyYWluZWQgY2VudGVyIG9mIHRoaXMgdmlldy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IGNlbnRlciBDZW50ZXIuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gQ29uc3RyYWluZWQgY2VudGVyLlxuICAgKiBAYXBpXG4gICAqL1xuICBWaWV3LnByb3RvdHlwZS5jb25zdHJhaW5DZW50ZXIgPSBmdW5jdGlvbiBjb25zdHJhaW5DZW50ZXIgKGNlbnRlcikge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cmFpbnRzXy5jZW50ZXIoY2VudGVyKTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSBjb25zdHJhaW5lZCByZXNvbHV0aW9uIG9mIHRoaXMgdmlldy5cbiAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2RlbHRhIERlbHRhLiBEZWZhdWx0IGlzIGAwYC5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBvcHRfZGlyZWN0aW9uIERpcmVjdGlvbi4gRGVmYXVsdCBpcyBgMGAuXG4gICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IENvbnN0cmFpbmVkIHJlc29sdXRpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIFZpZXcucHJvdG90eXBlLmNvbnN0cmFpblJlc29sdXRpb24gPSBmdW5jdGlvbiBjb25zdHJhaW5SZXNvbHV0aW9uIChyZXNvbHV0aW9uLCBvcHRfZGVsdGEsIG9wdF9kaXJlY3Rpb24pIHtcbiAgICB2YXIgZGVsdGEgPSBvcHRfZGVsdGEgfHwgMDtcbiAgICB2YXIgZGlyZWN0aW9uID0gb3B0X2RpcmVjdGlvbiB8fCAwO1xuICAgIHJldHVybiB0aGlzLmNvbnN0cmFpbnRzXy5yZXNvbHV0aW9uKHJlc29sdXRpb24sIGRlbHRhLCBkaXJlY3Rpb24pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGNvbnN0cmFpbmVkIHJvdGF0aW9uIG9mIHRoaXMgdmlldy5cbiAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBvcHRfZGVsdGEgRGVsdGEuIERlZmF1bHQgaXMgYDBgLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBDb25zdHJhaW5lZCByb3RhdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuY29uc3RyYWluUm90YXRpb24gPSBmdW5jdGlvbiBjb25zdHJhaW5Sb3RhdGlvbiAocm90YXRpb24sIG9wdF9kZWx0YSkge1xuICAgIHZhciBkZWx0YSA9IG9wdF9kZWx0YSB8fCAwO1xuICAgIHJldHVybiB0aGlzLmNvbnN0cmFpbnRzXy5yb3RhdGlvbihyb3RhdGlvbiwgZGVsdGEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZpZXcgY2VudGVyLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IFRoZSBjZW50ZXIgb2YgdGhlIHZpZXcuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIFZpZXcucHJvdG90eXBlLmdldENlbnRlciA9IGZ1bmN0aW9uIGdldENlbnRlciAoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfSAqLyAodGhpcy5nZXQoVmlld1Byb3BlcnR5LkNFTlRFUikpXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogQHJldHVybiB7Q29uc3RyYWludHN9IENvbnN0cmFpbnRzLlxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuZ2V0Q29uc3RyYWludHMgPSBmdW5jdGlvbiBnZXRDb25zdHJhaW50cyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RyYWludHNfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj49fSBvcHRfaGludHMgRGVzdGluYXRpb24gYXJyYXkuXG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEhpbnQuXG4gICAqL1xuICBWaWV3LnByb3RvdHlwZS5nZXRIaW50cyA9IGZ1bmN0aW9uIGdldEhpbnRzIChvcHRfaGludHMpIHtcbiAgICBpZiAob3B0X2hpbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG9wdF9oaW50c1swXSA9IHRoaXMuaGludHNfWzBdO1xuICAgICAgb3B0X2hpbnRzWzFdID0gdGhpcy5oaW50c19bMV07XG4gICAgICByZXR1cm4gb3B0X2hpbnRzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5oaW50c18uc2xpY2UoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgZXh0ZW50IGZvciB0aGUgY3VycmVudCB2aWV3IHN0YXRlIGFuZCB0aGUgcGFzc2VkIHNpemUuXG4gICAqIFRoZSBzaXplIGlzIHRoZSBwaXhlbCBkaW1lbnNpb25zIG9mIHRoZSBib3ggaW50byB3aGljaCB0aGUgY2FsY3VsYXRlZCBleHRlbnRcbiAgICogc2hvdWxkIGZpdC4gSW4gbW9zdCBjYXNlcyB5b3Ugd2FudCB0byBnZXQgdGhlIGV4dGVudCBvZiB0aGUgZW50aXJlIG1hcCxcbiAgICogdGhhdCBpcyBgbWFwLmdldFNpemUoKWAuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemU9fSBvcHRfc2l6ZSBCb3ggcGl4ZWwgc2l6ZS4gSWYgbm90IHByb3ZpZGVkLCB0aGUgc2l6ZSBvZiB0aGVcbiAgICogZmlyc3QgbWFwIHRoYXQgdXNlcyB0aGlzIHZpZXcgd2lsbCBiZSB1c2VkLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IEV4dGVudC5cbiAgICogQGFwaVxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuY2FsY3VsYXRlRXh0ZW50ID0gZnVuY3Rpb24gY2FsY3VsYXRlRXh0ZW50IChvcHRfc2l6ZSkge1xuICAgIHZhciBzaXplID0gb3B0X3NpemUgfHwgdGhpcy5nZXRTaXplRnJvbVZpZXdwb3J0XygpO1xuICAgIHZhciBjZW50ZXIgPSAvKiogQHR5cGUgeyFpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gKi8gKHRoaXMuZ2V0Q2VudGVyKCkpO1xuICAgIGFzc2VydChjZW50ZXIsIDEpOyAvLyBUaGUgdmlldyBjZW50ZXIgaXMgbm90IGRlZmluZWRcbiAgICB2YXIgcmVzb2x1dGlvbiA9IC8qKiBAdHlwZSB7IW51bWJlcn0gKi8gKHRoaXMuZ2V0UmVzb2x1dGlvbigpKTtcbiAgICBhc3NlcnQocmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkLCAyKTsgLy8gVGhlIHZpZXcgcmVzb2x1dGlvbiBpcyBub3QgZGVmaW5lZFxuICAgIHZhciByb3RhdGlvbiA9IC8qKiBAdHlwZSB7IW51bWJlcn0gKi8gKHRoaXMuZ2V0Um90YXRpb24oKSk7XG4gICAgYXNzZXJ0KHJvdGF0aW9uICE9PSB1bmRlZmluZWQsIDMpOyAvLyBUaGUgdmlldyByb3RhdGlvbiBpcyBub3QgZGVmaW5lZFxuXG4gICAgcmV0dXJuIGdldEZvclZpZXdBbmRTaXplKGNlbnRlciwgcmVzb2x1dGlvbiwgcm90YXRpb24sIHNpemUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1heGltdW0gcmVzb2x1dGlvbiBvZiB0aGUgdmlldy5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIG9mIHRoZSB2aWV3LlxuICAgKiBAYXBpXG4gICAqL1xuICBWaWV3LnByb3RvdHlwZS5nZXRNYXhSZXNvbHV0aW9uID0gZnVuY3Rpb24gZ2V0TWF4UmVzb2x1dGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWF4UmVzb2x1dGlvbl87XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbWluaW11bSByZXNvbHV0aW9uIG9mIHRoZSB2aWV3LlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtaW5pbXVtIHJlc29sdXRpb24gb2YgdGhlIHZpZXcuXG4gICAqIEBhcGlcbiAgICovXG4gIFZpZXcucHJvdG90eXBlLmdldE1pblJlc29sdXRpb24gPSBmdW5jdGlvbiBnZXRNaW5SZXNvbHV0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taW5SZXNvbHV0aW9uXztcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSB2aWV3LlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwuXG4gICAqIEBhcGlcbiAgICovXG4gIFZpZXcucHJvdG90eXBlLmdldE1heFpvb20gPSBmdW5jdGlvbiBnZXRNYXhab29tICgpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldFpvb21Gb3JSZXNvbHV0aW9uKHRoaXMubWluUmVzb2x1dGlvbl8pKTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IGEgbmV3IG1heGltdW0gem9vbSBsZXZlbCBmb3IgdGhlIHZpZXcuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6b29tIFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwuXG4gICAqIEBhcGlcbiAgICovXG4gIFZpZXcucHJvdG90eXBlLnNldE1heFpvb20gPSBmdW5jdGlvbiBzZXRNYXhab29tICh6b29tKSB7XG4gICAgdGhpcy5hcHBseU9wdGlvbnNfKHRoaXMuZ2V0VXBkYXRlZE9wdGlvbnNfKHttYXhab29tOiB6b29tfSkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1pbmltdW0gem9vbSBsZXZlbCBmb3IgdGhlIHZpZXcuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG1pbmltdW0gem9vbSBsZXZlbC5cbiAgICogQGFwaVxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuZ2V0TWluWm9vbSA9IGZ1bmN0aW9uIGdldE1pblpvb20gKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0Wm9vbUZvclJlc29sdXRpb24odGhpcy5tYXhSZXNvbHV0aW9uXykpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgYSBuZXcgbWluaW11bSB6b29tIGxldmVsIGZvciB0aGUgdmlldy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHpvb20gVGhlIG1pbmltdW0gem9vbSBsZXZlbC5cbiAgICogQGFwaVxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuc2V0TWluWm9vbSA9IGZ1bmN0aW9uIHNldE1pblpvb20gKHpvb20pIHtcbiAgICB0aGlzLmFwcGx5T3B0aW9uc18odGhpcy5nZXRVcGRhdGVkT3B0aW9uc18oe21pblpvb206IHpvb219KSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmlldyBwcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBUaGUgcHJvamVjdGlvbiBvZiB0aGUgdmlldy5cbiAgICogQGFwaVxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuZ2V0UHJvamVjdGlvbiA9IGZ1bmN0aW9uIGdldFByb2plY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnByb2plY3Rpb25fO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZpZXcgcmVzb2x1dGlvbi5cbiAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gVGhlIHJlc29sdXRpb24gb2YgdGhlIHZpZXcuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIFZpZXcucHJvdG90eXBlLmdldFJlc29sdXRpb24gPSBmdW5jdGlvbiBnZXRSZXNvbHV0aW9uICgpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfSAqLyAodGhpcy5nZXQoVmlld1Byb3BlcnR5LlJFU09MVVRJT04pKTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSByZXNvbHV0aW9ucyBmb3IgdGhlIHZpZXcuIFRoaXMgcmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzb2x1dGlvbnNcbiAgICogcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgVmlldywgb3IgdW5kZWZpbmVkIGlmIG5vbmUgd2VyZSBnaXZlbi5cbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPnx1bmRlZmluZWR9IFRoZSByZXNvbHV0aW9ucyBvZiB0aGUgdmlldy5cbiAgICogQGFwaVxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbnMgPSBmdW5jdGlvbiBnZXRSZXNvbHV0aW9ucyAoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVzb2x1dGlvbnNfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHJlc29sdXRpb24gZm9yIGEgcHJvdmlkZWQgZXh0ZW50IChpbiBtYXAgdW5pdHMpIGFuZCBzaXplIChpbiBwaXhlbHMpLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZT19IG9wdF9zaXplIEJveCBwaXhlbCBzaXplLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSByZXNvbHV0aW9uIGF0IHdoaWNoIHRoZSBwcm92aWRlZCBleHRlbnQgd2lsbCByZW5kZXIgYXRcbiAgICogICAgIHRoZSBnaXZlbiBzaXplLlxuICAgKiBAYXBpXG4gICAqL1xuICBWaWV3LnByb3RvdHlwZS5nZXRSZXNvbHV0aW9uRm9yRXh0ZW50ID0gZnVuY3Rpb24gZ2V0UmVzb2x1dGlvbkZvckV4dGVudCAoZXh0ZW50LCBvcHRfc2l6ZSkge1xuICAgIHZhciBzaXplID0gb3B0X3NpemUgfHwgdGhpcy5nZXRTaXplRnJvbVZpZXdwb3J0XygpO1xuICAgIHZhciB4UmVzb2x1dGlvbiA9IGdldFdpZHRoKGV4dGVudCkgLyBzaXplWzBdO1xuICAgIHZhciB5UmVzb2x1dGlvbiA9IGdldEhlaWdodChleHRlbnQpIC8gc2l6ZVsxXTtcbiAgICByZXR1cm4gTWF0aC5tYXgoeFJlc29sdXRpb24sIHlSZXNvbHV0aW9uKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdmFsdWUgYmV0d2VlbiAwIGFuZCAxIGZvciBhXG4gICAqIHJlc29sdXRpb24uIEV4cG9uZW50aWFsIHNjYWxpbmcgaXMgYXNzdW1lZC5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBvcHRfcG93ZXIgUG93ZXIuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9uKG51bWJlcik6IG51bWJlcn0gUmVzb2x1dGlvbiBmb3IgdmFsdWUgZnVuY3Rpb24uXG4gICAqL1xuICBWaWV3LnByb3RvdHlwZS5nZXRSZXNvbHV0aW9uRm9yVmFsdWVGdW5jdGlvbiA9IGZ1bmN0aW9uIGdldFJlc29sdXRpb25Gb3JWYWx1ZUZ1bmN0aW9uIChvcHRfcG93ZXIpIHtcbiAgICB2YXIgcG93ZXIgPSBvcHRfcG93ZXIgfHwgMjtcbiAgICB2YXIgbWF4UmVzb2x1dGlvbiA9IHRoaXMubWF4UmVzb2x1dGlvbl87XG4gICAgdmFyIG1pblJlc29sdXRpb24gPSB0aGlzLm1pblJlc29sdXRpb25fO1xuICAgIHZhciBtYXggPSBNYXRoLmxvZyhtYXhSZXNvbHV0aW9uIC8gbWluUmVzb2x1dGlvbikgLyBNYXRoLmxvZyhwb3dlcik7XG4gICAgcmV0dXJuIChcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlLlxuICAgICAgICogQHJldHVybiB7bnVtYmVyfSBSZXNvbHV0aW9uLlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IG1heFJlc29sdXRpb24gLyBNYXRoLnBvdyhwb3dlciwgdmFsdWUgKiBtYXgpO1xuICAgICAgICByZXR1cm4gcmVzb2x1dGlvbjtcbiAgICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZpZXcgcm90YXRpb24uXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIHJvdGF0aW9uIG9mIHRoZSB2aWV3IGluIHJhZGlhbnMuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIFZpZXcucHJvdG90eXBlLmdldFJvdGF0aW9uID0gZnVuY3Rpb24gZ2V0Um90YXRpb24gKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0KFZpZXdQcm9wZXJ0eS5ST1RBVElPTikpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSByZXNvbHV0aW9uIGZvciBhIHZhbHVlIGJldHdlZW5cbiAgICogMCBhbmQgMS4gRXhwb25lbnRpYWwgc2NhbGluZyBpcyBhc3N1bWVkLlxuICAgKiBAcGFyYW0ge251bWJlcj19IG9wdF9wb3dlciBQb3dlci5cbiAgICogQHJldHVybiB7ZnVuY3Rpb24obnVtYmVyKTogbnVtYmVyfSBWYWx1ZSBmb3IgcmVzb2x1dGlvbiBmdW5jdGlvbi5cbiAgICovXG4gIFZpZXcucHJvdG90eXBlLmdldFZhbHVlRm9yUmVzb2x1dGlvbkZ1bmN0aW9uID0gZnVuY3Rpb24gZ2V0VmFsdWVGb3JSZXNvbHV0aW9uRnVuY3Rpb24gKG9wdF9wb3dlcikge1xuICAgIHZhciBwb3dlciA9IG9wdF9wb3dlciB8fCAyO1xuICAgIHZhciBtYXhSZXNvbHV0aW9uID0gdGhpcy5tYXhSZXNvbHV0aW9uXztcbiAgICB2YXIgbWluUmVzb2x1dGlvbiA9IHRoaXMubWluUmVzb2x1dGlvbl87XG4gICAgdmFyIG1heCA9IE1hdGgubG9nKG1heFJlc29sdXRpb24gLyBtaW5SZXNvbHV0aW9uKSAvIE1hdGgubG9nKHBvd2VyKTtcbiAgICByZXR1cm4gKFxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAgICogQHJldHVybiB7bnVtYmVyfSBWYWx1ZS5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24ocmVzb2x1dGlvbikge1xuICAgICAgICB2YXIgdmFsdWUgPSAoTWF0aC5sb2cobWF4UmVzb2x1dGlvbiAvIHJlc29sdXRpb24pIC8gTWF0aC5sb2cocG93ZXIpKSAvIG1heDtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvIGZvciBjZW50ZXIgcm91bmRpbmcuXG4gICAqIEByZXR1cm4ge1N0YXRlfSBWaWV3IHN0YXRlLlxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbiBnZXRTdGF0ZSAocGl4ZWxSYXRpbykge1xuICAgIHZhciBjZW50ZXIgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSAqLyAodGhpcy5nZXRDZW50ZXIoKSk7XG4gICAgdmFyIHByb2plY3Rpb24gPSB0aGlzLmdldFByb2plY3Rpb24oKTtcbiAgICB2YXIgcmVzb2x1dGlvbiA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5nZXRSZXNvbHV0aW9uKCkpO1xuICAgIHZhciBwaXhlbFJlc29sdXRpb24gPSByZXNvbHV0aW9uIC8gcGl4ZWxSYXRpbztcbiAgICB2YXIgcm90YXRpb24gPSB0aGlzLmdldFJvdGF0aW9uKCk7XG4gICAgcmV0dXJuIChcbiAgICAgIC8qKiBAdHlwZSB7U3RhdGV9ICovICh7XG4gICAgICAgIGNlbnRlcjogW1xuICAgICAgICAgIE1hdGgucm91bmQoY2VudGVyWzBdIC8gcGl4ZWxSZXNvbHV0aW9uKSAqIHBpeGVsUmVzb2x1dGlvbixcbiAgICAgICAgICBNYXRoLnJvdW5kKGNlbnRlclsxXSAvIHBpeGVsUmVzb2x1dGlvbikgKiBwaXhlbFJlc29sdXRpb25cbiAgICAgICAgXSxcbiAgICAgICAgcHJvamVjdGlvbjogcHJvamVjdGlvbiAhPT0gdW5kZWZpbmVkID8gcHJvamVjdGlvbiA6IG51bGwsXG4gICAgICAgIHJlc29sdXRpb246IHJlc29sdXRpb24sXG4gICAgICAgIHJvdGF0aW9uOiByb3RhdGlvbixcbiAgICAgICAgem9vbTogdGhpcy5nZXRab29tKClcbiAgICAgIH0pXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IHpvb20gbGV2ZWwuICBJZiB5b3UgY29uZmlndXJlZCB5b3VyIHZpZXcgd2l0aCBhIHJlc29sdXRpb25zXG4gICAqIGFycmF5ICh0aGlzIGlzIHJhcmUpLCB0aGlzIG1ldGhvZCBtYXkgcmV0dXJuIG5vbi1pbnRlZ2VyIHpvb20gbGV2ZWxzIChzb1xuICAgKiB0aGUgem9vbSBsZXZlbCBpcyBub3Qgc2FmZSB0byB1c2UgYXMgYW4gaW5kZXggaW50byBhIHJlc29sdXRpb25zIGFycmF5KS5cbiAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gWm9vbS5cbiAgICogQGFwaVxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuZ2V0Wm9vbSA9IGZ1bmN0aW9uIGdldFpvb20gKCkge1xuICAgIHZhciB6b29tO1xuICAgIHZhciByZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uKCk7XG4gICAgaWYgKHJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgem9vbSA9IHRoaXMuZ2V0Wm9vbUZvclJlc29sdXRpb24ocmVzb2x1dGlvbik7XG4gICAgfVxuICAgIHJldHVybiB6b29tO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHpvb20gbGV2ZWwgZm9yIGEgcmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gVGhlIHJlc29sdXRpb24uXG4gICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFRoZSB6b29tIGxldmVsIGZvciB0aGUgcHJvdmlkZWQgcmVzb2x1dGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuZ2V0Wm9vbUZvclJlc29sdXRpb24gPSBmdW5jdGlvbiBnZXRab29tRm9yUmVzb2x1dGlvbiAocmVzb2x1dGlvbikge1xuICAgIHZhciBvZmZzZXQgPSB0aGlzLm1pblpvb21fIHx8IDA7XG4gICAgdmFyIG1heCwgem9vbUZhY3RvcjtcbiAgICBpZiAodGhpcy5yZXNvbHV0aW9uc18pIHtcbiAgICAgIHZhciBuZWFyZXN0ID0gbGluZWFyRmluZE5lYXJlc3QodGhpcy5yZXNvbHV0aW9uc18sIHJlc29sdXRpb24sIDEpO1xuICAgICAgb2Zmc2V0ID0gbmVhcmVzdDtcbiAgICAgIG1heCA9IHRoaXMucmVzb2x1dGlvbnNfW25lYXJlc3RdO1xuICAgICAgaWYgKG5lYXJlc3QgPT0gdGhpcy5yZXNvbHV0aW9uc18ubGVuZ3RoIC0gMSkge1xuICAgICAgICB6b29tRmFjdG9yID0gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHpvb21GYWN0b3IgPSBtYXggLyB0aGlzLnJlc29sdXRpb25zX1tuZWFyZXN0ICsgMV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG1heCA9IHRoaXMubWF4UmVzb2x1dGlvbl87XG4gICAgICB6b29tRmFjdG9yID0gdGhpcy56b29tRmFjdG9yXztcbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldCArIE1hdGgubG9nKG1heCAvIHJlc29sdXRpb24pIC8gTWF0aC5sb2coem9vbUZhY3Rvcik7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcmVzb2x1dGlvbiBmb3IgYSB6b29tIGxldmVsLlxuICAgKiBAcGFyYW0ge251bWJlcn0gem9vbSBab29tIGxldmVsLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSB2aWV3IHJlc29sdXRpb24gZm9yIHRoZSBwcm92aWRlZCB6b29tIGxldmVsLlxuICAgKiBAYXBpXG4gICAqL1xuICBWaWV3LnByb3RvdHlwZS5nZXRSZXNvbHV0aW9uRm9yWm9vbSA9IGZ1bmN0aW9uIGdldFJlc29sdXRpb25Gb3Jab29tICh6b29tKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5jb25zdHJhaW5SZXNvbHV0aW9uKFxuICAgICAgdGhpcy5tYXhSZXNvbHV0aW9uXywgem9vbSAtIHRoaXMubWluWm9vbV8sIDApKTtcbiAgfTtcblxuICAvKipcbiAgICogRml0IHRoZSBnaXZlbiBnZW9tZXRyeSBvciBleHRlbnQgYmFzZWQgb24gdGhlIGdpdmVuIG1hcCBzaXplIGFuZCBib3JkZXIuXG4gICAqIFRoZSBzaXplIGlzIHBpeGVsIGRpbWVuc2lvbnMgb2YgdGhlIGJveCB0byBmaXQgdGhlIGV4dGVudCBpbnRvLlxuICAgKiBJbiBtb3N0IGNhc2VzIHlvdSB3aWxsIHdhbnQgdG8gdXNlIHRoZSBtYXAgc2l6ZSwgdGhhdCBpcyBgbWFwLmdldFNpemUoKWAuXG4gICAqIFRha2VzIGNhcmUgb2YgdGhlIG1hcCBhbmdsZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGdlb21ldHJ5T3JFeHRlbnQgVGhlIGdlb21ldHJ5IG9yXG4gICAqICAgICBleHRlbnQgdG8gZml0IHRoZSB2aWV3IHRvLlxuICAgKiBAcGFyYW0ge0ZpdE9wdGlvbnM9fSBvcHRfb3B0aW9ucyBPcHRpb25zLlxuICAgKiBAYXBpXG4gICAqL1xuICBWaWV3LnByb3RvdHlwZS5maXQgPSBmdW5jdGlvbiBmaXQgKGdlb21ldHJ5T3JFeHRlbnQsIG9wdF9vcHRpb25zKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgc2l6ZSA9IG9wdGlvbnMuc2l6ZTtcbiAgICBpZiAoIXNpemUpIHtcbiAgICAgIHNpemUgPSB0aGlzLmdldFNpemVGcm9tVmlld3BvcnRfKCk7XG4gICAgfVxuICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9ICovXG4gICAgdmFyIGdlb21ldHJ5O1xuICAgIGFzc2VydChBcnJheS5pc0FycmF5KGdlb21ldHJ5T3JFeHRlbnQpIHx8IHR5cGVvZiAvKiogQHR5cGUgez99ICovIChnZW9tZXRyeU9yRXh0ZW50KS5nZXRTaW1wbGlmaWVkR2VvbWV0cnkgPT09ICdmdW5jdGlvbicsXG4gICAgICAyNCk7IC8vIEludmFsaWQgZXh0ZW50IG9yIGdlb21ldHJ5IHByb3ZpZGVkIGFzIGBnZW9tZXRyeWBcbiAgICBpZiAoQXJyYXkuaXNBcnJheShnZW9tZXRyeU9yRXh0ZW50KSkge1xuICAgICAgYXNzZXJ0KCFpc0VtcHR5KGdlb21ldHJ5T3JFeHRlbnQpLFxuICAgICAgICAyNSk7IC8vIENhbm5vdCBmaXQgZW1wdHkgZXh0ZW50IHByb3ZpZGVkIGFzIGBnZW9tZXRyeWBcbiAgICAgIGdlb21ldHJ5ID0gcG9seWdvbkZyb21FeHRlbnQoZ2VvbWV0cnlPckV4dGVudCk7XG4gICAgfSBlbHNlIGlmIChnZW9tZXRyeU9yRXh0ZW50LmdldFR5cGUoKSA9PT0gR2VvbWV0cnlUeXBlLkNJUkNMRSkge1xuICAgICAgZ2VvbWV0cnlPckV4dGVudCA9IGdlb21ldHJ5T3JFeHRlbnQuZ2V0RXh0ZW50KCk7XG4gICAgICBnZW9tZXRyeSA9IHBvbHlnb25Gcm9tRXh0ZW50KGdlb21ldHJ5T3JFeHRlbnQpO1xuICAgICAgZ2VvbWV0cnkucm90YXRlKHRoaXMuZ2V0Um90YXRpb24oKSwgZ2V0Q2VudGVyKGdlb21ldHJ5T3JFeHRlbnQpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2VvbWV0cnkgPSBnZW9tZXRyeU9yRXh0ZW50O1xuICAgIH1cblxuICAgIHZhciBwYWRkaW5nID0gb3B0aW9ucy5wYWRkaW5nICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnBhZGRpbmcgOiBbMCwgMCwgMCwgMF07XG4gICAgdmFyIGNvbnN0cmFpblJlc29sdXRpb24gPSBvcHRpb25zLmNvbnN0cmFpblJlc29sdXRpb24gIT09IHVuZGVmaW5lZCA/XG4gICAgICBvcHRpb25zLmNvbnN0cmFpblJlc29sdXRpb24gOiB0cnVlO1xuICAgIHZhciBuZWFyZXN0ID0gb3B0aW9ucy5uZWFyZXN0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm5lYXJlc3QgOiBmYWxzZTtcbiAgICB2YXIgbWluUmVzb2x1dGlvbjtcbiAgICBpZiAob3B0aW9ucy5taW5SZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG1pblJlc29sdXRpb24gPSBvcHRpb25zLm1pblJlc29sdXRpb247XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLm1heFpvb20gIT09IHVuZGVmaW5lZCkge1xuICAgICAgbWluUmVzb2x1dGlvbiA9IHRoaXMuY29uc3RyYWluUmVzb2x1dGlvbihcbiAgICAgICAgdGhpcy5tYXhSZXNvbHV0aW9uXywgb3B0aW9ucy5tYXhab29tIC0gdGhpcy5taW5ab29tXywgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1pblJlc29sdXRpb24gPSAwO1xuICAgIH1cbiAgICB2YXIgY29vcmRzID0gZ2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG5cbiAgICAvLyBjYWxjdWxhdGUgcm90YXRlZCBleHRlbnRcbiAgICB2YXIgcm90YXRpb24gPSB0aGlzLmdldFJvdGF0aW9uKCk7XG4gICAgdmFyIGNvc0FuZ2xlID0gTWF0aC5jb3MoLXJvdGF0aW9uKTtcbiAgICB2YXIgc2luQW5nbGUgPSBNYXRoLnNpbigtcm90YXRpb24pO1xuICAgIHZhciBtaW5Sb3RYID0gK0luZmluaXR5O1xuICAgIHZhciBtaW5Sb3RZID0gK0luZmluaXR5O1xuICAgIHZhciBtYXhSb3RYID0gLUluZmluaXR5O1xuICAgIHZhciBtYXhSb3RZID0gLUluZmluaXR5O1xuICAgIHZhciBzdHJpZGUgPSBnZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBjb29yZHMubGVuZ3RoOyBpIDwgaWk7IGkgKz0gc3RyaWRlKSB7XG4gICAgICB2YXIgcm90WCA9IGNvb3Jkc1tpXSAqIGNvc0FuZ2xlIC0gY29vcmRzW2kgKyAxXSAqIHNpbkFuZ2xlO1xuICAgICAgdmFyIHJvdFkgPSBjb29yZHNbaV0gKiBzaW5BbmdsZSArIGNvb3Jkc1tpICsgMV0gKiBjb3NBbmdsZTtcbiAgICAgIG1pblJvdFggPSBNYXRoLm1pbihtaW5Sb3RYLCByb3RYKTtcbiAgICAgIG1pblJvdFkgPSBNYXRoLm1pbihtaW5Sb3RZLCByb3RZKTtcbiAgICAgIG1heFJvdFggPSBNYXRoLm1heChtYXhSb3RYLCByb3RYKTtcbiAgICAgIG1heFJvdFkgPSBNYXRoLm1heChtYXhSb3RZLCByb3RZKTtcbiAgICB9XG5cbiAgICAvLyBjYWxjdWxhdGUgcmVzb2x1dGlvblxuICAgIHZhciByZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uRm9yRXh0ZW50KFxuICAgICAgW21pblJvdFgsIG1pblJvdFksIG1heFJvdFgsIG1heFJvdFldLFxuICAgICAgW3NpemVbMF0gLSBwYWRkaW5nWzFdIC0gcGFkZGluZ1szXSwgc2l6ZVsxXSAtIHBhZGRpbmdbMF0gLSBwYWRkaW5nWzJdXSk7XG4gICAgcmVzb2x1dGlvbiA9IGlzTmFOKHJlc29sdXRpb24pID8gbWluUmVzb2x1dGlvbiA6XG4gICAgICBNYXRoLm1heChyZXNvbHV0aW9uLCBtaW5SZXNvbHV0aW9uKTtcbiAgICBpZiAoY29uc3RyYWluUmVzb2x1dGlvbikge1xuICAgICAgdmFyIGNvbnN0cmFpbmVkUmVzb2x1dGlvbiA9IHRoaXMuY29uc3RyYWluUmVzb2x1dGlvbihyZXNvbHV0aW9uLCAwLCAwKTtcbiAgICAgIGlmICghbmVhcmVzdCAmJiBjb25zdHJhaW5lZFJlc29sdXRpb24gPCByZXNvbHV0aW9uKSB7XG4gICAgICAgIGNvbnN0cmFpbmVkUmVzb2x1dGlvbiA9IHRoaXMuY29uc3RyYWluUmVzb2x1dGlvbihcbiAgICAgICAgICBjb25zdHJhaW5lZFJlc29sdXRpb24sIC0xLCAwKTtcbiAgICAgIH1cbiAgICAgIHJlc29sdXRpb24gPSBjb25zdHJhaW5lZFJlc29sdXRpb247XG4gICAgfVxuXG4gICAgLy8gY2FsY3VsYXRlIGNlbnRlclxuICAgIHNpbkFuZ2xlID0gLXNpbkFuZ2xlOyAvLyBnbyBiYWNrIHRvIG9yaWdpbmFsIHJvdGF0aW9uXG4gICAgdmFyIGNlbnRlclJvdFggPSAobWluUm90WCArIG1heFJvdFgpIC8gMjtcbiAgICB2YXIgY2VudGVyUm90WSA9IChtaW5Sb3RZICsgbWF4Um90WSkgLyAyO1xuICAgIGNlbnRlclJvdFggKz0gKHBhZGRpbmdbMV0gLSBwYWRkaW5nWzNdKSAvIDIgKiByZXNvbHV0aW9uO1xuICAgIGNlbnRlclJvdFkgKz0gKHBhZGRpbmdbMF0gLSBwYWRkaW5nWzJdKSAvIDIgKiByZXNvbHV0aW9uO1xuICAgIHZhciBjZW50ZXJYID0gY2VudGVyUm90WCAqIGNvc0FuZ2xlIC0gY2VudGVyUm90WSAqIHNpbkFuZ2xlO1xuICAgIHZhciBjZW50ZXJZID0gY2VudGVyUm90WSAqIGNvc0FuZ2xlICsgY2VudGVyUm90WCAqIHNpbkFuZ2xlO1xuICAgIHZhciBjZW50ZXIgPSBbY2VudGVyWCwgY2VudGVyWV07XG4gICAgdmFyIGNhbGxiYWNrID0gb3B0aW9ucy5jYWxsYmFjayA/IG9wdGlvbnMuY2FsbGJhY2sgOiBWT0lEO1xuXG4gICAgaWYgKG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5hbmltYXRlKHtcbiAgICAgICAgcmVzb2x1dGlvbjogcmVzb2x1dGlvbixcbiAgICAgICAgY2VudGVyOiBjZW50ZXIsXG4gICAgICAgIGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuICAgICAgICBlYXNpbmc6IG9wdGlvbnMuZWFzaW5nXG4gICAgICB9LCBjYWxsYmFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICAgIHRoaXMuc2V0Q2VudGVyKGNlbnRlcik7XG4gICAgICBhbmltYXRpb25DYWxsYmFjayhjYWxsYmFjaywgdHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBDZW50ZXIgb24gY29vcmRpbmF0ZSBhbmQgdmlldyBwb3NpdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBzaXplIEJveCBwaXhlbCBzaXplLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBvc2l0aW9uIFBvc2l0aW9uIG9uIHRoZSB2aWV3IHRvIGNlbnRlciBvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuY2VudGVyT24gPSBmdW5jdGlvbiBjZW50ZXJPbiAoY29vcmRpbmF0ZSwgc2l6ZSwgcG9zaXRpb24pIHtcbiAgICAvLyBjYWxjdWxhdGUgcm90YXRlZCBwb3NpdGlvblxuICAgIHZhciByb3RhdGlvbiA9IHRoaXMuZ2V0Um90YXRpb24oKTtcbiAgICB2YXIgY29zQW5nbGUgPSBNYXRoLmNvcygtcm90YXRpb24pO1xuICAgIHZhciBzaW5BbmdsZSA9IE1hdGguc2luKC1yb3RhdGlvbik7XG4gICAgdmFyIHJvdFggPSBjb29yZGluYXRlWzBdICogY29zQW5nbGUgLSBjb29yZGluYXRlWzFdICogc2luQW5nbGU7XG4gICAgdmFyIHJvdFkgPSBjb29yZGluYXRlWzFdICogY29zQW5nbGUgKyBjb29yZGluYXRlWzBdICogc2luQW5nbGU7XG4gICAgdmFyIHJlc29sdXRpb24gPSB0aGlzLmdldFJlc29sdXRpb24oKTtcbiAgICByb3RYICs9IChzaXplWzBdIC8gMiAtIHBvc2l0aW9uWzBdKSAqIHJlc29sdXRpb247XG4gICAgcm90WSArPSAocG9zaXRpb25bMV0gLSBzaXplWzFdIC8gMikgKiByZXNvbHV0aW9uO1xuXG4gICAgLy8gZ28gYmFjayB0byBvcmlnaW5hbCBhbmdsZVxuICAgIHNpbkFuZ2xlID0gLXNpbkFuZ2xlOyAvLyBnbyBiYWNrIHRvIG9yaWdpbmFsIHJvdGF0aW9uXG4gICAgdmFyIGNlbnRlclggPSByb3RYICogY29zQW5nbGUgLSByb3RZICogc2luQW5nbGU7XG4gICAgdmFyIGNlbnRlclkgPSByb3RZICogY29zQW5nbGUgKyByb3RYICogc2luQW5nbGU7XG5cbiAgICB0aGlzLnNldENlbnRlcihbY2VudGVyWCwgY2VudGVyWV0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyBkZWZpbmVkLlxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuaXNEZWYgPSBmdW5jdGlvbiBpc0RlZiAoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5nZXRDZW50ZXIoKSAmJiB0aGlzLmdldFJlc29sdXRpb24oKSAhPT0gdW5kZWZpbmVkO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSb3RhdGUgdGhlIHZpZXcgYXJvdW5kIGEgZ2l2ZW4gY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIE5ldyByb3RhdGlvbiB2YWx1ZSBmb3IgdGhlIHZpZXcuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU9fSBvcHRfYW5jaG9yIFRoZSByb3RhdGlvbiBjZW50ZXIuXG4gICAqIEBhcGlcbiAgICovXG4gIFZpZXcucHJvdG90eXBlLnJvdGF0ZSA9IGZ1bmN0aW9uIHJvdGF0ZSAocm90YXRpb24sIG9wdF9hbmNob3IpIHtcbiAgICBpZiAob3B0X2FuY2hvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgY2VudGVyID0gdGhpcy5jYWxjdWxhdGVDZW50ZXJSb3RhdGUocm90YXRpb24sIG9wdF9hbmNob3IpO1xuICAgICAgdGhpcy5zZXRDZW50ZXIoY2VudGVyKTtcbiAgICB9XG4gICAgdGhpcy5zZXRSb3RhdGlvbihyb3RhdGlvbik7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgY2VudGVyIG9mIHRoZSBjdXJyZW50IHZpZXcuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfSBjZW50ZXIgVGhlIGNlbnRlciBvZiB0aGUgdmlldy5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuc2V0Q2VudGVyID0gZnVuY3Rpb24gc2V0Q2VudGVyIChjZW50ZXIpIHtcbiAgICB0aGlzLnNldChWaWV3UHJvcGVydHkuQ0VOVEVSLCBjZW50ZXIpO1xuICAgIGlmICh0aGlzLmdldEFuaW1hdGluZygpKSB7XG4gICAgICB0aGlzLmNhbmNlbEFuaW1hdGlvbnMoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Vmlld0hpbnR9IGhpbnQgSGludC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhIERlbHRhLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IE5ldyB2YWx1ZS5cbiAgICovXG4gIFZpZXcucHJvdG90eXBlLnNldEhpbnQgPSBmdW5jdGlvbiBzZXRIaW50IChoaW50LCBkZWx0YSkge1xuICAgIHRoaXMuaGludHNfW2hpbnRdICs9IGRlbHRhO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIHJldHVybiB0aGlzLmhpbnRzX1toaW50XTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IHRoZSByZXNvbHV0aW9uIGZvciB0aGlzIHZpZXcuXG4gICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcmVzb2x1dGlvbiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgdmlldy5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuc2V0UmVzb2x1dGlvbiA9IGZ1bmN0aW9uIHNldFJlc29sdXRpb24gKHJlc29sdXRpb24pIHtcbiAgICB0aGlzLnNldChWaWV3UHJvcGVydHkuUkVTT0xVVElPTiwgcmVzb2x1dGlvbik7XG4gICAgaWYgKHRoaXMuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgIHRoaXMuY2FuY2VsQW5pbWF0aW9ucygpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogU2V0IHRoZSByb3RhdGlvbiBmb3IgdGhpcyB2aWV3LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gVGhlIHJvdGF0aW9uIG9mIHRoZSB2aWV3IGluIHJhZGlhbnMuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIFZpZXcucHJvdG90eXBlLnNldFJvdGF0aW9uID0gZnVuY3Rpb24gc2V0Um90YXRpb24gKHJvdGF0aW9uKSB7XG4gICAgdGhpcy5zZXQoVmlld1Byb3BlcnR5LlJPVEFUSU9OLCByb3RhdGlvbik7XG4gICAgaWYgKHRoaXMuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgIHRoaXMuY2FuY2VsQW5pbWF0aW9ucygpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogWm9vbSB0byBhIHNwZWNpZmljIHpvb20gbGV2ZWwuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6b29tIFpvb20gbGV2ZWwuXG4gICAqIEBhcGlcbiAgICovXG4gIFZpZXcucHJvdG90eXBlLnNldFpvb20gPSBmdW5jdGlvbiBzZXRab29tICh6b29tKSB7XG4gICAgdGhpcy5zZXRSZXNvbHV0aW9uKHRoaXMuZ2V0UmVzb2x1dGlvbkZvclpvb20oem9vbSkpO1xuICB9O1xuXG4gIHJldHVybiBWaWV3O1xufShCYXNlT2JqZWN0KSk7XG5cblxuLyoqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjay5cbiAqIEBwYXJhbSB7Kn0gcmV0dXJuVmFsdWUgUmV0dXJuIHZhbHVlLlxuICovXG5mdW5jdGlvbiBhbmltYXRpb25DYWxsYmFjayhjYWxsYmFjaywgcmV0dXJuVmFsdWUpIHtcbiAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBjYWxsYmFjayhyZXR1cm5WYWx1ZSk7XG4gIH0sIDApO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtWaWV3T3B0aW9uc30gb3B0aW9ucyBWaWV3IG9wdGlvbnMuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2NlbnRlcmNvbnN0cmFpbnQuanNcIikuVHlwZX0gVGhlIGNvbnN0cmFpbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDZW50ZXJDb25zdHJhaW50KG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMuZXh0ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gY3JlYXRlRXh0ZW50KG9wdGlvbnMuZXh0ZW50KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY2VudGVyTm9uZTtcbiAgfVxufVxuXG5cbi8qKlxuICogQHBhcmFtIHtWaWV3T3B0aW9uc30gb3B0aW9ucyBWaWV3IG9wdGlvbnMuXG4gKiBAcmV0dXJuIHt7Y29uc3RyYWludDogaW1wb3J0KFwiLi9yZXNvbHV0aW9uY29uc3RyYWludC5qc1wiKS5UeXBlLCBtYXhSZXNvbHV0aW9uOiBudW1iZXIsXG4gKiAgICAgbWluUmVzb2x1dGlvbjogbnVtYmVyLCBtaW5ab29tOiBudW1iZXIsIHpvb21GYWN0b3I6IG51bWJlcn19IFRoZSBjb25zdHJhaW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUmVzb2x1dGlvbkNvbnN0cmFpbnQob3B0aW9ucykge1xuICB2YXIgcmVzb2x1dGlvbkNvbnN0cmFpbnQ7XG4gIHZhciBtYXhSZXNvbHV0aW9uO1xuICB2YXIgbWluUmVzb2x1dGlvbjtcblxuICAvLyBUT0RPOiBtb3ZlIHRoZXNlIHRvIGJlIG9sIGNvbnN0YW50c1xuICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL29wZW5sYXllcnMvb3BlbmxheWVycy9pc3N1ZXMvMjA3NlxuICB2YXIgZGVmYXVsdE1heFpvb20gPSAyODtcbiAgdmFyIGRlZmF1bHRab29tRmFjdG9yID0gMjtcblxuICB2YXIgbWluWm9vbSA9IG9wdGlvbnMubWluWm9vbSAhPT0gdW5kZWZpbmVkID9cbiAgICBvcHRpb25zLm1pblpvb20gOiBERUZBVUxUX01JTl9aT09NO1xuXG4gIHZhciBtYXhab29tID0gb3B0aW9ucy5tYXhab29tICE9PSB1bmRlZmluZWQgP1xuICAgIG9wdGlvbnMubWF4Wm9vbSA6IGRlZmF1bHRNYXhab29tO1xuXG4gIHZhciB6b29tRmFjdG9yID0gb3B0aW9ucy56b29tRmFjdG9yICE9PSB1bmRlZmluZWQgP1xuICAgIG9wdGlvbnMuem9vbUZhY3RvciA6IGRlZmF1bHRab29tRmFjdG9yO1xuXG4gIGlmIChvcHRpb25zLnJlc29sdXRpb25zICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgcmVzb2x1dGlvbnMgPSBvcHRpb25zLnJlc29sdXRpb25zO1xuICAgIG1heFJlc29sdXRpb24gPSByZXNvbHV0aW9uc1ttaW5ab29tXTtcbiAgICBtaW5SZXNvbHV0aW9uID0gcmVzb2x1dGlvbnNbbWF4Wm9vbV0gIT09IHVuZGVmaW5lZCA/XG4gICAgICByZXNvbHV0aW9uc1ttYXhab29tXSA6IHJlc29sdXRpb25zW3Jlc29sdXRpb25zLmxlbmd0aCAtIDFdO1xuICAgIHJlc29sdXRpb25Db25zdHJhaW50ID0gY3JlYXRlU25hcFRvUmVzb2x1dGlvbnMoXG4gICAgICByZXNvbHV0aW9ucyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gY2FsY3VsYXRlIHRoZSBkZWZhdWx0IG1pbiBhbmQgbWF4IHJlc29sdXRpb25cbiAgICB2YXIgcHJvamVjdGlvbiA9IGNyZWF0ZVByb2plY3Rpb24ob3B0aW9ucy5wcm9qZWN0aW9uLCAnRVBTRzozODU3Jyk7XG4gICAgdmFyIGV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCk7XG4gICAgdmFyIHNpemUgPSAhZXh0ZW50ID9cbiAgICAgIC8vIHVzZSBhbiBleHRlbnQgdGhhdCBjYW4gZml0IHRoZSB3aG9sZSB3b3JsZCBpZiBuZWVkIGJlXG4gICAgICAzNjAgKiBNRVRFUlNfUEVSX1VOSVRbVW5pdHMuREVHUkVFU10gL1xuICAgICAgICAgICAgcHJvamVjdGlvbi5nZXRNZXRlcnNQZXJVbml0KCkgOlxuICAgICAgTWF0aC5tYXgoZ2V0V2lkdGgoZXh0ZW50KSwgZ2V0SGVpZ2h0KGV4dGVudCkpO1xuXG4gICAgdmFyIGRlZmF1bHRNYXhSZXNvbHV0aW9uID0gc2l6ZSAvIERFRkFVTFRfVElMRV9TSVpFIC8gTWF0aC5wb3coXG4gICAgICBkZWZhdWx0Wm9vbUZhY3RvciwgREVGQVVMVF9NSU5fWk9PTSk7XG5cbiAgICB2YXIgZGVmYXVsdE1pblJlc29sdXRpb24gPSBkZWZhdWx0TWF4UmVzb2x1dGlvbiAvIE1hdGgucG93KFxuICAgICAgZGVmYXVsdFpvb21GYWN0b3IsIGRlZmF1bHRNYXhab29tIC0gREVGQVVMVF9NSU5fWk9PTSk7XG5cbiAgICAvLyB1c2VyIHByb3ZpZGVkIG1heFJlc29sdXRpb24gdGFrZXMgcHJlY2VkZW5jZVxuICAgIG1heFJlc29sdXRpb24gPSBvcHRpb25zLm1heFJlc29sdXRpb247XG4gICAgaWYgKG1heFJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgbWluWm9vbSA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1heFJlc29sdXRpb24gPSBkZWZhdWx0TWF4UmVzb2x1dGlvbiAvIE1hdGgucG93KHpvb21GYWN0b3IsIG1pblpvb20pO1xuICAgIH1cblxuICAgIC8vIHVzZXIgcHJvdmlkZWQgbWluUmVzb2x1dGlvbiB0YWtlcyBwcmVjZWRlbmNlXG4gICAgbWluUmVzb2x1dGlvbiA9IG9wdGlvbnMubWluUmVzb2x1dGlvbjtcbiAgICBpZiAobWluUmVzb2x1dGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAob3B0aW9ucy5tYXhab29tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMubWF4UmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbWluUmVzb2x1dGlvbiA9IG1heFJlc29sdXRpb24gLyBNYXRoLnBvdyh6b29tRmFjdG9yLCBtYXhab29tKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtaW5SZXNvbHV0aW9uID0gZGVmYXVsdE1heFJlc29sdXRpb24gLyBNYXRoLnBvdyh6b29tRmFjdG9yLCBtYXhab29tKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWluUmVzb2x1dGlvbiA9IGRlZmF1bHRNaW5SZXNvbHV0aW9uO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGdpdmVuIGRpc2NyZXRlIHpvb20gbGV2ZWxzLCBtaW5SZXNvbHV0aW9uIG1heSBiZSBkaWZmZXJlbnQgdGhhbiBwcm92aWRlZFxuICAgIG1heFpvb20gPSBtaW5ab29tICsgTWF0aC5mbG9vcihcbiAgICAgIE1hdGgubG9nKG1heFJlc29sdXRpb24gLyBtaW5SZXNvbHV0aW9uKSAvIE1hdGgubG9nKHpvb21GYWN0b3IpKTtcbiAgICBtaW5SZXNvbHV0aW9uID0gbWF4UmVzb2x1dGlvbiAvIE1hdGgucG93KHpvb21GYWN0b3IsIG1heFpvb20gLSBtaW5ab29tKTtcblxuICAgIHJlc29sdXRpb25Db25zdHJhaW50ID0gY3JlYXRlU25hcFRvUG93ZXIoXG4gICAgICB6b29tRmFjdG9yLCBtYXhSZXNvbHV0aW9uLCBtYXhab29tIC0gbWluWm9vbSk7XG4gIH1cbiAgcmV0dXJuIHtjb25zdHJhaW50OiByZXNvbHV0aW9uQ29uc3RyYWludCwgbWF4UmVzb2x1dGlvbjogbWF4UmVzb2x1dGlvbixcbiAgICBtaW5SZXNvbHV0aW9uOiBtaW5SZXNvbHV0aW9uLCBtaW5ab29tOiBtaW5ab29tLCB6b29tRmFjdG9yOiB6b29tRmFjdG9yfTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7Vmlld09wdGlvbnN9IG9wdGlvbnMgVmlldyBvcHRpb25zLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9yb3RhdGlvbmNvbnN0cmFpbnQuanNcIikuVHlwZX0gUm90YXRpb24gY29uc3RyYWludC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJvdGF0aW9uQ29uc3RyYWludChvcHRpb25zKSB7XG4gIHZhciBlbmFibGVSb3RhdGlvbiA9IG9wdGlvbnMuZW5hYmxlUm90YXRpb24gIT09IHVuZGVmaW5lZCA/XG4gICAgb3B0aW9ucy5lbmFibGVSb3RhdGlvbiA6IHRydWU7XG4gIGlmIChlbmFibGVSb3RhdGlvbikge1xuICAgIHZhciBjb25zdHJhaW5Sb3RhdGlvbiA9IG9wdGlvbnMuY29uc3RyYWluUm90YXRpb247XG4gICAgaWYgKGNvbnN0cmFpblJvdGF0aW9uID09PSB1bmRlZmluZWQgfHwgY29uc3RyYWluUm90YXRpb24gPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBjcmVhdGVTbmFwVG9aZXJvKCk7XG4gICAgfSBlbHNlIGlmIChjb25zdHJhaW5Sb3RhdGlvbiA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiByb3RhdGlvbk5vbmU7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY29uc3RyYWluUm90YXRpb24gPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gY3JlYXRlU25hcFRvTihjb25zdHJhaW5Sb3RhdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiByb3RhdGlvbk5vbmU7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBkaXNhYmxlO1xuICB9XG59XG5cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYW4gYW5pbWF0aW9uIGludm9sdmVzIG5vIHZpZXcgY2hhbmdlLlxuICogQHBhcmFtIHtBbmltYXRpb259IGFuaW1hdGlvbiBUaGUgYW5pbWF0aW9uLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGFuaW1hdGlvbiBpbnZvbHZlcyBubyB2aWV3IGNoYW5nZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTm9vcEFuaW1hdGlvbihhbmltYXRpb24pIHtcbiAgaWYgKGFuaW1hdGlvbi5zb3VyY2VDZW50ZXIgJiYgYW5pbWF0aW9uLnRhcmdldENlbnRlcikge1xuICAgIGlmICghY29vcmRpbmF0ZXNFcXVhbChhbmltYXRpb24uc291cmNlQ2VudGVyLCBhbmltYXRpb24udGFyZ2V0Q2VudGVyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBpZiAoYW5pbWF0aW9uLnNvdXJjZVJlc29sdXRpb24gIT09IGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChhbmltYXRpb24uc291cmNlUm90YXRpb24gIT09IGFuaW1hdGlvbi50YXJnZXRSb3RhdGlvbikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgVmlldztcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Vmlldy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVzb2x1dGlvbmNvbnN0cmFpbnRcbiAqL1xuaW1wb3J0IHtsaW5lYXJGaW5kTmVhcmVzdH0gZnJvbSAnLi9hcnJheS5qcyc7XG5pbXBvcnQge2NsYW1wfSBmcm9tICcuL21hdGguanMnO1xuXG5cbi8qKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKChudW1iZXJ8dW5kZWZpbmVkKSwgbnVtYmVyLCBudW1iZXIpOiAobnVtYmVyfHVuZGVmaW5lZCl9IFR5cGVcbiAqL1xuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSByZXNvbHV0aW9ucyBSZXNvbHV0aW9ucy5cbiAqIEByZXR1cm4ge1R5cGV9IFpvb20gZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTbmFwVG9SZXNvbHV0aW9ucyhyZXNvbHV0aW9ucykge1xuICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBEZWx0YS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGlyZWN0aW9uIERpcmVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBSZXNvbHV0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uKHJlc29sdXRpb24sIGRlbHRhLCBkaXJlY3Rpb24pIHtcbiAgICAgIGlmIChyZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFyIHogPSBsaW5lYXJGaW5kTmVhcmVzdChyZXNvbHV0aW9ucywgcmVzb2x1dGlvbiwgZGlyZWN0aW9uKTtcbiAgICAgICAgeiA9IGNsYW1wKHogKyBkZWx0YSwgMCwgcmVzb2x1dGlvbnMubGVuZ3RoIC0gMSk7XG4gICAgICAgIHZhciBpbmRleCA9IE1hdGguZmxvb3Ioeik7XG4gICAgICAgIGlmICh6ICE9IGluZGV4ICYmIGluZGV4IDwgcmVzb2x1dGlvbnMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIHZhciBwb3dlciA9IHJlc29sdXRpb25zW2luZGV4XSAvIHJlc29sdXRpb25zW2luZGV4ICsgMV07XG4gICAgICAgICAgcmV0dXJuIHJlc29sdXRpb25zW2luZGV4XSAvIE1hdGgucG93KHBvd2VyLCB6IC0gaW5kZXgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiByZXNvbHV0aW9uc1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuICApO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHBvd2VyIFBvd2VyLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heFJlc29sdXRpb24gTWF4aW11bSByZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfbWF4TGV2ZWwgTWF4aW11bSBsZXZlbC5cbiAqIEByZXR1cm4ge1R5cGV9IFpvb20gZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTbmFwVG9Qb3dlcihwb3dlciwgbWF4UmVzb2x1dGlvbiwgb3B0X21heExldmVsKSB7XG4gIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhIERlbHRhLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXJlY3Rpb24gRGlyZWN0aW9uLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJlc29sdXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24ocmVzb2x1dGlvbiwgZGVsdGEsIGRpcmVjdGlvbikge1xuICAgICAgaWYgKHJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gLWRpcmVjdGlvbiAvIDIgKyAwLjU7XG4gICAgICAgIHZhciBvbGRMZXZlbCA9IE1hdGguZmxvb3IoXG4gICAgICAgICAgTWF0aC5sb2cobWF4UmVzb2x1dGlvbiAvIHJlc29sdXRpb24pIC8gTWF0aC5sb2cocG93ZXIpICsgb2Zmc2V0KTtcbiAgICAgICAgdmFyIG5ld0xldmVsID0gTWF0aC5tYXgob2xkTGV2ZWwgKyBkZWx0YSwgMCk7XG4gICAgICAgIGlmIChvcHRfbWF4TGV2ZWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG5ld0xldmVsID0gTWF0aC5taW4obmV3TGV2ZWwsIG9wdF9tYXhMZXZlbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heFJlc29sdXRpb24gLyBNYXRoLnBvdyhwb3dlciwgbmV3TGV2ZWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9KTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb2x1dGlvbmNvbnN0cmFpbnQuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL1ZpZXdIaW50XG4gKi9cblxuLyoqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIEFOSU1BVElORzogMCxcbiAgSU5URVJBQ1RJTkc6IDFcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZpZXdIaW50LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9jb29yZGluYXRlXG4gKi9cbmltcG9ydCB7bW9kdWxvfSBmcm9tICcuL21hdGguanMnO1xuaW1wb3J0IHtwYWROdW1iZXJ9IGZyb20gJy4vc3RyaW5nLmpzJztcblxuXG4vKipcbiAqIEFuIGFycmF5IG9mIG51bWJlcnMgcmVwcmVzZW50aW5nIGFuIHh5IGNvb3JkaW5hdGUuIEV4YW1wbGU6IGBbMTYsIDQ4XWAuXG4gKiBAdHlwZWRlZiB7QXJyYXk8bnVtYmVyPn0gQ29vcmRpbmF0ZVxuICogQGFwaVxuICovXG5cblxuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZX0gYW5kXG4gKiB0cmFuc2Zvcm1zIGl0IGludG8gYSBge3N0cmluZ31gLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbigoQ29vcmRpbmF0ZXx1bmRlZmluZWQpKTogc3RyaW5nfSBDb29yZGluYXRlRm9ybWF0XG4gKiBAYXBpXG4gKi9cblxuXG4vKipcbiAqIEFkZCBgZGVsdGFgIHRvIGBjb29yZGluYXRlYC4gYGNvb3JkaW5hdGVgIGlzIG1vZGlmaWVkIGluIHBsYWNlIGFuZCByZXR1cm5lZFxuICogYnkgdGhlIGZ1bmN0aW9uLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogICAgIGltcG9ydCB7YWRkfSBmcm9tICdvbC9jb29yZGluYXRlJztcbiAqXG4gKiAgICAgdmFyIGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgYWRkKGNvb3JkLCBbLTIsIDRdKTtcbiAqICAgICAvLyBjb29yZCBpcyBub3cgWzUuODUsIDUxLjk4MzMzM11cbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gZGVsdGEgRGVsdGEuXG4gKiBAcmV0dXJuIHtDb29yZGluYXRlfSBUaGUgaW5wdXQgY29vcmRpbmF0ZSBhZGp1c3RlZCBieVxuICogdGhlIGdpdmVuIGRlbHRhLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkKGNvb3JkaW5hdGUsIGRlbHRhKSB7XG4gIGNvb3JkaW5hdGVbMF0gKz0gZGVsdGFbMF07XG4gIGNvb3JkaW5hdGVbMV0gKz0gZGVsdGFbMV07XG4gIHJldHVybiBjb29yZGluYXRlO1xufVxuXG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgcG9pbnQgY2xvc2VzdCB0byB0aGUgcGFzc2VkIGNvb3JkaW5hdGUgb24gdGhlIHBhc3NlZCBjaXJjbGUuXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIFRoZSBjb29yZGluYXRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2dlb20vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9IGNpcmNsZSBUaGUgY2lyY2xlLlxuICogQHJldHVybiB7Q29vcmRpbmF0ZX0gQ2xvc2VzdCBwb2ludCBvbiB0aGUgY2lyY3VtZmVyZW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb3Nlc3RPbkNpcmNsZShjb29yZGluYXRlLCBjaXJjbGUpIHtcbiAgdmFyIHIgPSBjaXJjbGUuZ2V0UmFkaXVzKCk7XG4gIHZhciBjZW50ZXIgPSBjaXJjbGUuZ2V0Q2VudGVyKCk7XG4gIHZhciB4MCA9IGNlbnRlclswXTtcbiAgdmFyIHkwID0gY2VudGVyWzFdO1xuICB2YXIgeDEgPSBjb29yZGluYXRlWzBdO1xuICB2YXIgeTEgPSBjb29yZGluYXRlWzFdO1xuXG4gIHZhciBkeCA9IHgxIC0geDA7XG4gIHZhciBkeSA9IHkxIC0geTA7XG4gIGlmIChkeCA9PT0gMCAmJiBkeSA9PT0gMCkge1xuICAgIGR4ID0gMTtcbiAgfVxuICB2YXIgZCA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG5cbiAgdmFyIHggPSB4MCArIHIgKiBkeCAvIGQ7XG4gIHZhciB5ID0geTAgKyByICogZHkgLyBkO1xuXG4gIHJldHVybiBbeCwgeV07XG59XG5cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBwb2ludCBjbG9zZXN0IHRvIHRoZSBwYXNzZWQgY29vcmRpbmF0ZSBvbiB0aGUgcGFzc2VkIHNlZ21lbnQuXG4gKiBUaGlzIGlzIHRoZSBmb290IG9mIHRoZSBwZXJwZW5kaWN1bGFyIG9mIHRoZSBjb29yZGluYXRlIHRvIHRoZSBzZWdtZW50IHdoZW5cbiAqIHRoZSBmb290IGlzIG9uIHRoZSBzZWdtZW50LCBvciB0aGUgY2xvc2VzdCBzZWdtZW50IGNvb3JkaW5hdGUgd2hlbiB0aGUgZm9vdFxuICogaXMgb3V0c2lkZSB0aGUgc2VnbWVudC5cbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgVGhlIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge0FycmF5PENvb3JkaW5hdGU+fSBzZWdtZW50IFRoZSB0d28gY29vcmRpbmF0ZXNcbiAqIG9mIHRoZSBzZWdtZW50LlxuICogQHJldHVybiB7Q29vcmRpbmF0ZX0gVGhlIGZvb3Qgb2YgdGhlIHBlcnBlbmRpY3VsYXIgb2ZcbiAqIHRoZSBjb29yZGluYXRlIHRvIHRoZSBzZWdtZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VzdE9uU2VnbWVudChjb29yZGluYXRlLCBzZWdtZW50KSB7XG4gIHZhciB4MCA9IGNvb3JkaW5hdGVbMF07XG4gIHZhciB5MCA9IGNvb3JkaW5hdGVbMV07XG4gIHZhciBzdGFydCA9IHNlZ21lbnRbMF07XG4gIHZhciBlbmQgPSBzZWdtZW50WzFdO1xuICB2YXIgeDEgPSBzdGFydFswXTtcbiAgdmFyIHkxID0gc3RhcnRbMV07XG4gIHZhciB4MiA9IGVuZFswXTtcbiAgdmFyIHkyID0gZW5kWzFdO1xuICB2YXIgZHggPSB4MiAtIHgxO1xuICB2YXIgZHkgPSB5MiAtIHkxO1xuICB2YXIgYWxvbmcgPSAoZHggPT09IDAgJiYgZHkgPT09IDApID8gMCA6XG4gICAgKChkeCAqICh4MCAtIHgxKSkgKyAoZHkgKiAoeTAgLSB5MSkpKSAvICgoZHggKiBkeCArIGR5ICogZHkpIHx8IDApO1xuICB2YXIgeCwgeTtcbiAgaWYgKGFsb25nIDw9IDApIHtcbiAgICB4ID0geDE7XG4gICAgeSA9IHkxO1xuICB9IGVsc2UgaWYgKGFsb25nID49IDEpIHtcbiAgICB4ID0geDI7XG4gICAgeSA9IHkyO1xuICB9IGVsc2Uge1xuICAgIHggPSB4MSArIGFsb25nICogZHg7XG4gICAgeSA9IHkxICsgYWxvbmcgKiBkeTtcbiAgfVxuICByZXR1cm4gW3gsIHldO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBhIHtAbGluayBtb2R1bGU6b2wvY29vcmRpbmF0ZX5Db29yZGluYXRlRm9ybWF0fSBmdW5jdGlvbiB0aGF0IGNhbiBiZVxuICogdXNlZCB0byBmb3JtYXRcbiAqIGEge0Nvb3JkaW5hdGV9IHRvIGEgc3RyaW5nLlxuICpcbiAqIEV4YW1wbGUgd2l0aG91dCBzcGVjaWZ5aW5nIHRoZSBmcmFjdGlvbmFsIGRpZ2l0czpcbiAqXG4gKiAgICAgaW1wb3J0IHtjcmVhdGVTdHJpbmdYWX0gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIHZhciBzdHJpbmdpZnlGdW5jID0gY3JlYXRlU3RyaW5nWFkoKTtcbiAqICAgICB2YXIgb3V0ID0gc3RyaW5naWZ5RnVuYyhjb29yZCk7XG4gKiAgICAgLy8gb3V0IGlzIG5vdyAnOCwgNDgnXG4gKlxuICogRXhhbXBsZSB3aXRoIGV4cGxpY2l0bHkgc3BlY2lmeWluZyAyIGZyYWN0aW9uYWwgZGlnaXRzOlxuICpcbiAqICAgICBpbXBvcnQge2NyZWF0ZVN0cmluZ1hZfSBmcm9tICdvbC9jb29yZGluYXRlJztcbiAqXG4gKiAgICAgdmFyIGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgdmFyIHN0cmluZ2lmeUZ1bmMgPSBjcmVhdGVTdHJpbmdYWSgyKTtcbiAqICAgICB2YXIgb3V0ID0gc3RyaW5naWZ5RnVuYyhjb29yZCk7XG4gKiAgICAgLy8gb3V0IGlzIG5vdyAnNy44NSwgNDcuOTgnXG4gKlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfZnJhY3Rpb25EaWdpdHMgVGhlIG51bWJlciBvZiBkaWdpdHMgdG8gaW5jbHVkZVxuICogICAgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQuIERlZmF1bHQgaXMgYDBgLlxuICogQHJldHVybiB7Q29vcmRpbmF0ZUZvcm1hdH0gQ29vcmRpbmF0ZSBmb3JtYXQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdHJpbmdYWShvcHRfZnJhY3Rpb25EaWdpdHMpIHtcbiAgcmV0dXJuIChcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFN0cmluZyBYWS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbihjb29yZGluYXRlKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmdYWShjb29yZGluYXRlLCBvcHRfZnJhY3Rpb25EaWdpdHMpO1xuICAgIH1cbiAgKTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBoZW1pc3BoZXJlcyBIZW1pc3BoZXJlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWdyZWVzIERlZ3JlZXMuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9mcmFjdGlvbkRpZ2l0cyBUaGUgbnVtYmVyIG9mIGRpZ2l0cyB0byBpbmNsdWRlXG4gKiAgICBhZnRlciB0aGUgZGVjaW1hbCBwb2ludC4gRGVmYXVsdCBpcyBgMGAuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFN0cmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZ3JlZXNUb1N0cmluZ0hETVMoaGVtaXNwaGVyZXMsIGRlZ3JlZXMsIG9wdF9mcmFjdGlvbkRpZ2l0cykge1xuICB2YXIgbm9ybWFsaXplZERlZ3JlZXMgPSBtb2R1bG8oZGVncmVlcyArIDE4MCwgMzYwKSAtIDE4MDtcbiAgdmFyIHggPSBNYXRoLmFicygzNjAwICogbm9ybWFsaXplZERlZ3JlZXMpO1xuICB2YXIgZGZsUHJlY2lzaW9uID0gb3B0X2ZyYWN0aW9uRGlnaXRzIHx8IDA7XG4gIHZhciBwcmVjaXNpb24gPSBNYXRoLnBvdygxMCwgZGZsUHJlY2lzaW9uKTtcblxuICB2YXIgZGVnID0gTWF0aC5mbG9vcih4IC8gMzYwMCk7XG4gIHZhciBtaW4gPSBNYXRoLmZsb29yKCh4IC0gZGVnICogMzYwMCkgLyA2MCk7XG4gIHZhciBzZWMgPSB4IC0gKGRlZyAqIDM2MDApIC0gKG1pbiAqIDYwKTtcbiAgc2VjID0gTWF0aC5jZWlsKHNlYyAqIHByZWNpc2lvbikgLyBwcmVjaXNpb247XG5cbiAgaWYgKHNlYyA+PSA2MCkge1xuICAgIHNlYyA9IDA7XG4gICAgbWluICs9IDE7XG4gIH1cblxuICBpZiAobWluID49IDYwKSB7XG4gICAgbWluID0gMDtcbiAgICBkZWcgKz0gMTtcbiAgfVxuXG4gIHJldHVybiBkZWcgKyAnXFx1MDBiMCAnICsgcGFkTnVtYmVyKG1pbiwgMikgKyAnXFx1MjAzMiAnICtcbiAgICBwYWROdW1iZXIoc2VjLCAyLCBkZmxQcmVjaXNpb24pICsgJ1xcdTIwMzMnICtcbiAgICAobm9ybWFsaXplZERlZ3JlZXMgPT0gMCA/ICcnIDogJyAnICsgaGVtaXNwaGVyZXMuY2hhckF0KG5vcm1hbGl6ZWREZWdyZWVzIDwgMCA/IDEgOiAwKSk7XG59XG5cblxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSBnaXZlbiB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZX0gdG8gYSBzdHJpbmdcbiAqIHVzaW5nIHRoZSBnaXZlbiBzdHJpbmcgdGVtcGxhdGUuIFRoZSBzdHJpbmdzIGB7eH1gIGFuZCBge3l9YCBpbiB0aGUgdGVtcGxhdGVcbiAqIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCB0aGUgZmlyc3QgYW5kIHNlY29uZCBjb29yZGluYXRlIHZhbHVlcyByZXNwZWN0aXZlbHkuXG4gKlxuICogRXhhbXBsZSB3aXRob3V0IHNwZWNpZnlpbmcgdGhlIGZyYWN0aW9uYWwgZGlnaXRzOlxuICpcbiAqICAgICBpbXBvcnQge2Zvcm1hdH0gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIHZhciB0ZW1wbGF0ZSA9ICdDb29yZGluYXRlIGlzICh7eH18e3l9KS4nO1xuICogICAgIHZhciBvdXQgPSBmb3JtYXQoY29vcmQsIHRlbXBsYXRlKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICdDb29yZGluYXRlIGlzICg4fDQ4KS4nXG4gKlxuICogRXhhbXBsZSBleHBsaWNpdGx5IHNwZWNpZnlpbmcgdGhlIGZyYWN0aW9uYWwgZGlnaXRzOlxuICpcbiAqICAgICBpbXBvcnQge2Zvcm1hdH0gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIHZhciB0ZW1wbGF0ZSA9ICdDb29yZGluYXRlIGlzICh7eH18e3l9KS4nO1xuICogICAgIHZhciBvdXQgPSBmb3JtYXQoY29vcmQsIHRlbXBsYXRlLCAyKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICdDb29yZGluYXRlIGlzICg3Ljg1fDQ3Ljk4KS4nXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGVtcGxhdGUgQSB0ZW1wbGF0ZSBzdHJpbmcgd2l0aCBge3h9YCBhbmQgYHt5fWAgcGxhY2Vob2xkZXJzXG4gKiAgICAgdGhhdCB3aWxsIGJlIHJlcGxhY2VkIGJ5IGZpcnN0IGFuZCBzZWNvbmQgY29vcmRpbmF0ZSB2YWx1ZXMuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9mcmFjdGlvbkRpZ2l0cyBUaGUgbnVtYmVyIG9mIGRpZ2l0cyB0byBpbmNsdWRlXG4gKiAgICBhZnRlciB0aGUgZGVjaW1hbCBwb2ludC4gRGVmYXVsdCBpcyBgMGAuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IEZvcm1hdHRlZCBjb29yZGluYXRlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0KGNvb3JkaW5hdGUsIHRlbXBsYXRlLCBvcHRfZnJhY3Rpb25EaWdpdHMpIHtcbiAgaWYgKGNvb3JkaW5hdGUpIHtcbiAgICByZXR1cm4gdGVtcGxhdGVcbiAgICAgIC5yZXBsYWNlKCd7eH0nLCBjb29yZGluYXRlWzBdLnRvRml4ZWQob3B0X2ZyYWN0aW9uRGlnaXRzKSlcbiAgICAgIC5yZXBsYWNlKCd7eX0nLCBjb29yZGluYXRlWzFdLnRvRml4ZWQob3B0X2ZyYWN0aW9uRGlnaXRzKSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUxIEZpcnN0IGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUyIFNlY29uZCBjb29yZGluYXRlLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHR3byBjb29yZGluYXRlcyBhcmUgZXF1YWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoY29vcmRpbmF0ZTEsIGNvb3JkaW5hdGUyKSB7XG4gIHZhciBlcXVhbHMgPSB0cnVlO1xuICBmb3IgKHZhciBpID0gY29vcmRpbmF0ZTEubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICBpZiAoY29vcmRpbmF0ZTFbaV0gIT0gY29vcmRpbmF0ZTJbaV0pIHtcbiAgICAgIGVxdWFscyA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBlcXVhbHM7XG59XG5cblxuLyoqXG4gKiBSb3RhdGUgYGNvb3JkaW5hdGVgIGJ5IGBhbmdsZWAuIGBjb29yZGluYXRlYCBpcyBtb2RpZmllZCBpbiBwbGFjZSBhbmRcbiAqIHJldHVybmVkIGJ5IHRoZSBmdW5jdGlvbi5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqICAgICBpbXBvcnQge3JvdGF0ZX0gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIHZhciByb3RhdGVSYWRpYW5zID0gTWF0aC5QSSAvIDI7IC8vIDkwIGRlZ3JlZXNcbiAqICAgICByb3RhdGUoY29vcmQsIHJvdGF0ZVJhZGlhbnMpO1xuICogICAgIC8vIGNvb3JkIGlzIG5vdyBbLTQ3Ljk4MzMzMywgNy44NV1cbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZSBBbmdsZSBpbiByYWRpYW4uXG4gKiBAcmV0dXJuIHtDb29yZGluYXRlfSBDb29yZGluYXRlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKGNvb3JkaW5hdGUsIGFuZ2xlKSB7XG4gIHZhciBjb3NBbmdsZSA9IE1hdGguY29zKGFuZ2xlKTtcbiAgdmFyIHNpbkFuZ2xlID0gTWF0aC5zaW4oYW5nbGUpO1xuICB2YXIgeCA9IGNvb3JkaW5hdGVbMF0gKiBjb3NBbmdsZSAtIGNvb3JkaW5hdGVbMV0gKiBzaW5BbmdsZTtcbiAgdmFyIHkgPSBjb29yZGluYXRlWzFdICogY29zQW5nbGUgKyBjb29yZGluYXRlWzBdICogc2luQW5nbGU7XG4gIGNvb3JkaW5hdGVbMF0gPSB4O1xuICBjb29yZGluYXRlWzFdID0geTtcbiAgcmV0dXJuIGNvb3JkaW5hdGU7XG59XG5cblxuLyoqXG4gKiBTY2FsZSBgY29vcmRpbmF0ZWAgYnkgYHNjYWxlYC4gYGNvb3JkaW5hdGVgIGlzIG1vZGlmaWVkIGluIHBsYWNlIGFuZCByZXR1cm5lZFxuICogYnkgdGhlIGZ1bmN0aW9uLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogICAgIGltcG9ydCB7c2NhbGUgYXMgc2NhbGVDb29yZGluYXRlfSBmcm9tICdvbC9jb29yZGluYXRlJztcbiAqXG4gKiAgICAgdmFyIGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgdmFyIHNjYWxlID0gMS4yO1xuICogICAgIHNjYWxlQ29vcmRpbmF0ZShjb29yZCwgc2NhbGUpO1xuICogICAgIC8vIGNvb3JkIGlzIG5vdyBbOS40MiwgNTcuNTc5OTk5Nl1cbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZSBTY2FsZSBmYWN0b3IuXG4gKiBAcmV0dXJuIHtDb29yZGluYXRlfSBDb29yZGluYXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUoY29vcmRpbmF0ZSwgc2NhbGUpIHtcbiAgY29vcmRpbmF0ZVswXSAqPSBzY2FsZTtcbiAgY29vcmRpbmF0ZVsxXSAqPSBzY2FsZTtcbiAgcmV0dXJuIGNvb3JkaW5hdGU7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkMSBGaXJzdCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZDIgU2Vjb25kIGNvb3JkaW5hdGUuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNxdWFyZWQgZGlzdGFuY2UgYmV0d2VlbiBjb29yZDEgYW5kIGNvb3JkMi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWREaXN0YW5jZShjb29yZDEsIGNvb3JkMikge1xuICB2YXIgZHggPSBjb29yZDFbMF0gLSBjb29yZDJbMF07XG4gIHZhciBkeSA9IGNvb3JkMVsxXSAtIGNvb3JkMlsxXTtcbiAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5O1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZDEgRmlyc3QgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmQyIFNlY29uZCBjb29yZGluYXRlLlxuICogQHJldHVybiB7bnVtYmVyfSBEaXN0YW5jZSBiZXR3ZWVuIGNvb3JkMSBhbmQgY29vcmQyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzdGFuY2UoY29vcmQxLCBjb29yZDIpIHtcbiAgcmV0dXJuIE1hdGguc3FydChzcXVhcmVkRGlzdGFuY2UoY29vcmQxLCBjb29yZDIpKTtcbn1cblxuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgc3F1YXJlZCBkaXN0YW5jZSBmcm9tIGEgY29vcmRpbmF0ZSB0byBhIGxpbmUgc2VnbWVudC5cbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQuXG4gKiBAcGFyYW0ge0FycmF5PENvb3JkaW5hdGU+fSBzZWdtZW50IExpbmUgc2VnbWVudCAoMlxuICogY29vcmRpbmF0ZXMpLlxuICogQHJldHVybiB7bnVtYmVyfSBTcXVhcmVkIGRpc3RhbmNlIGZyb20gdGhlIHBvaW50IHRvIHRoZSBsaW5lIHNlZ21lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkRGlzdGFuY2VUb1NlZ21lbnQoY29vcmRpbmF0ZSwgc2VnbWVudCkge1xuICByZXR1cm4gc3F1YXJlZERpc3RhbmNlKGNvb3JkaW5hdGUsXG4gICAgY2xvc2VzdE9uU2VnbWVudChjb29yZGluYXRlLCBzZWdtZW50KSk7XG59XG5cblxuLyoqXG4gKiBGb3JtYXQgYSBnZW9ncmFwaGljIGNvb3JkaW5hdGUgd2l0aCB0aGUgaGVtaXNwaGVyZSwgZGVncmVlcywgbWludXRlcywgYW5kXG4gKiBzZWNvbmRzLlxuICpcbiAqIEV4YW1wbGUgd2l0aG91dCBzcGVjaWZ5aW5nIGZyYWN0aW9uYWwgZGlnaXRzOlxuICpcbiAqICAgICBpbXBvcnQge3RvU3RyaW5nSERNU30gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIHZhciBvdXQgPSB0b1N0cmluZ0hETVMoY29vcmQpO1xuICogICAgIC8vIG91dCBpcyBub3cgJzQ3wrAgNTjigLIgNjDigLMgTiA3wrAgNTDigLIgNjDigLMgRSdcbiAqXG4gKiBFeGFtcGxlIGV4cGxpY2l0bHkgc3BlY2lmeWluZyAxIGZyYWN0aW9uYWwgZGlnaXQ6XG4gKlxuICogICAgIGltcG9ydCB7dG9TdHJpbmdIRE1TfSBmcm9tICdvbC9jb29yZGluYXRlJztcbiAqXG4gKiAgICAgdmFyIGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgdmFyIG91dCA9IHRvU3RyaW5nSERNUyhjb29yZCwgMSk7XG4gKiAgICAgLy8gb3V0IGlzIG5vdyAnNDfCsCA1OOKAsiA2MC4w4oCzIE4gN8KwIDUw4oCyIDYwLjDigLMgRSdcbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2ZyYWN0aW9uRGlnaXRzIFRoZSBudW1iZXIgb2YgZGlnaXRzIHRvIGluY2x1ZGVcbiAqICAgIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50LiBEZWZhdWx0IGlzIGAwYC5cbiAqIEByZXR1cm4ge3N0cmluZ30gSGVtaXNwaGVyZSwgZGVncmVlcywgbWludXRlcyBhbmQgc2Vjb25kcy5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvU3RyaW5nSERNUyhjb29yZGluYXRlLCBvcHRfZnJhY3Rpb25EaWdpdHMpIHtcbiAgaWYgKGNvb3JkaW5hdGUpIHtcbiAgICByZXR1cm4gZGVncmVlc1RvU3RyaW5nSERNUygnTlMnLCBjb29yZGluYXRlWzFdLCBvcHRfZnJhY3Rpb25EaWdpdHMpICsgJyAnICtcbiAgICAgICAgZGVncmVlc1RvU3RyaW5nSERNUygnRVcnLCBjb29yZGluYXRlWzBdLCBvcHRfZnJhY3Rpb25EaWdpdHMpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAnJztcbiAgfVxufVxuXG5cbi8qKlxuICogRm9ybWF0IGEgY29vcmRpbmF0ZSBhcyBhIGNvbW1hIGRlbGltaXRlZCBzdHJpbmcuXG4gKlxuICogRXhhbXBsZSB3aXRob3V0IHNwZWNpZnlpbmcgZnJhY3Rpb25hbCBkaWdpdHM6XG4gKlxuICogICAgIGltcG9ydCB7dG9TdHJpbmdYWX0gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIHZhciBvdXQgPSB0b1N0cmluZ1hZKGNvb3JkKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICc4LCA0OCdcbiAqXG4gKiBFeGFtcGxlIGV4cGxpY2l0bHkgc3BlY2lmeWluZyAxIGZyYWN0aW9uYWwgZGlnaXQ6XG4gKlxuICogICAgIGltcG9ydCB7dG9TdHJpbmdYWX0gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIHZhciBvdXQgPSB0b1N0cmluZ1hZKGNvb3JkLCAxKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICc3LjgsIDQ4LjAnXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9mcmFjdGlvbkRpZ2l0cyBUaGUgbnVtYmVyIG9mIGRpZ2l0cyB0byBpbmNsdWRlXG4gKiAgICBhZnRlciB0aGUgZGVjaW1hbCBwb2ludC4gRGVmYXVsdCBpcyBgMGAuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFhZLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9TdHJpbmdYWShjb29yZGluYXRlLCBvcHRfZnJhY3Rpb25EaWdpdHMpIHtcbiAgcmV0dXJuIGZvcm1hdChjb29yZGluYXRlLCAne3h9LCB7eX0nLCBvcHRfZnJhY3Rpb25EaWdpdHMpO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb29yZGluYXRlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9lYXNpbmdcbiAqL1xuXG5cbi8qKlxuICogU3RhcnQgc2xvdyBhbmQgc3BlZWQgdXAuXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW4odCkge1xuICByZXR1cm4gTWF0aC5wb3codCwgMyk7XG59XG5cblxuLyoqXG4gKiBTdGFydCBmYXN0IGFuZCBzbG93IGRvd24uXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlYXNlT3V0KHQpIHtcbiAgcmV0dXJuIDEgLSBlYXNlSW4oMSAtIHQpO1xufVxuXG5cbi8qKlxuICogU3RhcnQgc2xvdywgc3BlZWQgdXAsIGFuZCB0aGVuIHNsb3cgZG93biBhZ2Fpbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0IElucHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEByZXR1cm4ge251bWJlcn0gT3V0cHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluQW5kT3V0KHQpIHtcbiAgcmV0dXJuIDMgKiB0ICogdCAtIDIgKiB0ICogdCAqIHQ7XG59XG5cblxuLyoqXG4gKiBNYWludGFpbiBhIGNvbnN0YW50IHNwZWVkIG92ZXIgdGltZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0IElucHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEByZXR1cm4ge251bWJlcn0gT3V0cHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhcih0KSB7XG4gIHJldHVybiB0O1xufVxuXG5cbi8qKlxuICogU3RhcnQgc2xvdywgc3BlZWQgdXAsIGFuZCBhdCB0aGUgdmVyeSBlbmQgc2xvdyBkb3duIGFnYWluLiAgVGhpcyBoYXMgdGhlXG4gKiBzYW1lIGdlbmVyYWwgYmVoYXZpb3IgYXMge0BsaW5rIG1vZHVsZTpvbC9lYXNpbmd+aW5BbmRPdXR9LCBidXQgdGhlIGZpbmFsXG4gKiBzbG93ZG93biBpcyBkZWxheWVkLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW5wdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQHJldHVybiB7bnVtYmVyfSBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXBBbmREb3duKHQpIHtcbiAgaWYgKHQgPCAwLjUpIHtcbiAgICByZXR1cm4gaW5BbmRPdXQoMiAqIHQpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAxIC0gaW5BbmRPdXQoMiAqICh0IC0gMC41KSk7XG4gIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZWFzaW5nLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yb3RhdGlvbmNvbnN0cmFpbnRcbiAqL1xuaW1wb3J0IHt0b1JhZGlhbnN9IGZyb20gJy4vbWF0aC5qcyc7XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oKG51bWJlcnx1bmRlZmluZWQpLCBudW1iZXIpOiAobnVtYmVyfHVuZGVmaW5lZCl9IFR5cGVcbiAqL1xuXG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBEZWx0YS5cbiAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJvdGF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzYWJsZShyb3RhdGlvbiwgZGVsdGEpIHtcbiAgaWYgKHJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gMDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhIERlbHRhLlxuICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gUm90YXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub25lKHJvdGF0aW9uLCBkZWx0YSkge1xuICBpZiAocm90YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiByb3RhdGlvbiArIGRlbHRhO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIE4uXG4gKiBAcmV0dXJuIHtUeXBlfSBSb3RhdGlvbiBjb25zdHJhaW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU25hcFRvTihuKSB7XG4gIHZhciB0aGV0YSA9IDIgKiBNYXRoLlBJIC8gbjtcbiAgcmV0dXJuIChcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBEZWx0YS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBSb3RhdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbihyb3RhdGlvbiwgZGVsdGEpIHtcbiAgICAgIGlmIChyb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJvdGF0aW9uID0gTWF0aC5mbG9vcigocm90YXRpb24gKyBkZWx0YSkgLyB0aGV0YSArIDAuNSkgKiB0aGV0YTtcbiAgICAgICAgcmV0dXJuIHJvdGF0aW9uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9KTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X3RvbGVyYW5jZSBUb2xlcmFuY2UuXG4gKiBAcmV0dXJuIHtUeXBlfSBSb3RhdGlvbiBjb25zdHJhaW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU25hcFRvWmVybyhvcHRfdG9sZXJhbmNlKSB7XG4gIHZhciB0b2xlcmFuY2UgPSBvcHRfdG9sZXJhbmNlIHx8IHRvUmFkaWFucyg1KTtcbiAgcmV0dXJuIChcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBEZWx0YS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBSb3RhdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbihyb3RhdGlvbiwgZGVsdGEpIHtcbiAgICAgIGlmIChyb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhyb3RhdGlvbiArIGRlbHRhKSA8PSB0b2xlcmFuY2UpIHtcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gcm90YXRpb24gKyBkZWx0YTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9KTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cm90YXRpb25jb25zdHJhaW50LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHJpbmdcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgTnVtYmVyIHRvIGJlIGZvcm1hdHRlZFxuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIFRoZSBkZXNpcmVkIHdpZHRoXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9wcmVjaXNpb24gUHJlY2lzaW9uIG9mIHRoZSBvdXRwdXQgc3RyaW5nIChpLmUuIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcylcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEZvcm1hdHRlZCBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhZE51bWJlcihudW1iZXIsIHdpZHRoLCBvcHRfcHJlY2lzaW9uKSB7XG4gIHZhciBudW1iZXJTdHJpbmcgPSBvcHRfcHJlY2lzaW9uICE9PSB1bmRlZmluZWQgPyBudW1iZXIudG9GaXhlZChvcHRfcHJlY2lzaW9uKSA6ICcnICsgbnVtYmVyO1xuICB2YXIgZGVjaW1hbCA9IG51bWJlclN0cmluZy5pbmRleE9mKCcuJyk7XG4gIGRlY2ltYWwgPSBkZWNpbWFsID09PSAtMSA/IG51bWJlclN0cmluZy5sZW5ndGggOiBkZWNpbWFsO1xuICByZXR1cm4gZGVjaW1hbCA+IHdpZHRoID8gbnVtYmVyU3RyaW5nIDogbmV3IEFycmF5KDEgKyB3aWR0aCAtIGRlY2ltYWwpLmpvaW4oJzAnKSArIG51bWJlclN0cmluZztcbn1cblxuXG4vKipcbiAqIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vb21pY2hlbHNlbi9jb21wYXJlLXZlcnNpb25zL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IHYxIEZpcnN0IHZlcnNpb25cbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gdjIgU2Vjb25kIHZlcnNpb25cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlVmVyc2lvbnModjEsIHYyKSB7XG4gIHZhciBzMSA9ICgnJyArIHYxKS5zcGxpdCgnLicpO1xuICB2YXIgczIgPSAoJycgKyB2Mikuc3BsaXQoJy4nKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IE1hdGgubWF4KHMxLmxlbmd0aCwgczIubGVuZ3RoKTsgaSsrKSB7XG4gICAgdmFyIG4xID0gcGFyc2VJbnQoczFbaV0gfHwgJzAnLCAxMCk7XG4gICAgdmFyIG4yID0gcGFyc2VJbnQoczJbaV0gfHwgJzAnLCAxMCk7XG5cbiAgICBpZiAobjEgPiBuMikge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIGlmIChuMiA+IG4xKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIDA7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmluZy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvdGlsZWdyaWQvY29tbW9uXG4gKi9cblxuLyoqXG4gKiBEZWZhdWx0IG1heGltdW0gem9vbSBmb3IgZGVmYXVsdCB0aWxlIGdyaWRzLlxuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IHZhciBERUZBVUxUX01BWF9aT09NID0gNDI7XG5cbi8qKlxuICogRGVmYXVsdCB0aWxlIHNpemUuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgdmFyIERFRkFVTFRfVElMRV9TSVpFID0gMjU2O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21tb24uanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==