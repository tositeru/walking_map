(window.webpackJsonp=window.webpackJsonp||[]).push([[13],[,,,,,,,function(t,e,i){"use strict";function r(t,e,i){for(var r,o,s=i||n,a=0,h=t.length,c=!1;a<h;)(o=+s(t[r=a+(h-a>>1)],e))<0?a=r+1:(h=r,c=!o);return c?a:~a}function n(t,e){return t>e?1:t<e?-1:0}function o(t,e){return t.indexOf(e)>=0}function s(t,e,i){var r,n=t.length;if(t[0]<=e)return 0;if(e<=t[n-1])return n-1;if(i>0){for(r=1;r<n;++r)if(t[r]<e)return r-1}else if(i<0){for(r=1;r<n;++r)if(t[r]<=e)return r}else for(r=1;r<n;++r){if(t[r]==e)return r;if(t[r]<e)return t[r-1]-e<e-t[r]?r-1:r}return n-1}function a(t,e,i){for(;e<i;){var r=t[e];t[e]=t[i],t[i]=r,++e,--i}}function h(t,e){for(var i=Array.isArray(e)?e:[e],r=i.length,n=0;n<r;n++)t[t.length]=i[n]}function c(t,e){var i=t.indexOf(e),r=i>-1;return r&&t.splice(i,1),r}function u(t,e){for(var i,r=t.length>>>0,n=0;n<r;n++)if(e(i=t[n],n,t))return i;return null}function l(t,e){var i=t.length;if(i!==e.length)return!1;for(var r=0;r<i;r++)if(t[r]!==e[r])return!1;return!0}function p(t,e){var i,r=t.length,n=Array(t.length);for(i=0;i<r;i++)n[i]={index:i,value:t[i]};for(n.sort(function(t,i){return e(t.value,i.value)||t.index-i.index}),i=0;i<t.length;i++)t[i]=n[i].value}function d(t,e){var i;return!t.every(function(r,n){return i=n,!e(r,n,t)})?i:-1}function f(t,e,i){var r=e||n;return t.every(function(e,n){if(0===n)return!0;var o=r(t[n-1],e);return!(o>0||i&&0===o)})}i.d(e,"a",function(){return r}),i.d(e,"i",function(){return n}),i.d(e,"f",function(){return o}),i.d(e,"h",function(){return s}),i.d(e,"k",function(){return a}),i.d(e,"c",function(){return h}),i.d(e,"j",function(){return c}),i.d(e,"d",function(){return u}),i.d(e,"b",function(){return l}),i.d(e,"l",function(){return p}),i.d(e,"e",function(){return d}),i.d(e,"g",function(){return f})},,,,,,function(t,e,i){"use strict";function r(t,e){var i=document.createElement("canvas");return t&&(i.width=t),e&&(i.height=e),i.getContext("2d")}function n(t,e){var i=e.parentNode;i&&i.replaceChild(t,e)}function o(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function s(t){for(;t.lastChild;)t.removeChild(t.lastChild)}i.d(e,"a",function(){return r}),i.d(e,"d",function(){return n}),i.d(e,"c",function(){return o}),i.d(e,"b",function(){return s})},function(t,e,i){"use strict";e.a={ANIMATING:0,INTERACTING:1}},,,,function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n}),i.d(e,"c",function(){return o}),i.d(e,"e",function(){return s}),i.d(e,"f",function(){return a}),i.d(e,"g",function(){return h}),i.d(e,"h",function(){return c}),i.d(e,"d",function(){return u}),i.d(e,"i",function(){return l});i(6),i(51);function r(t,e){return t[0]+=e[0],t[1]+=e[1],t}function n(t,e){var i=e.getRadius(),r=e.getCenter(),n=r[0],o=r[1],s=t[0]-n,a=t[1]-o;0===s&&0===a&&(s=1);var h=Math.sqrt(s*s+a*a);return[n+i*s/h,o+i*a/h]}function o(t,e){var i,r,n=t[0],o=t[1],s=e[0],a=e[1],h=s[0],c=s[1],u=a[0],l=a[1],p=u-h,d=l-c,f=0===p&&0===d?0:(p*(n-h)+d*(o-c))/(p*p+d*d||0);return f<=0?(i=h,r=c):f>=1?(i=u,r=l):(i=h+f*p,r=c+f*d),[i,r]}function s(t,e){for(var i=!0,r=t.length-1;r>=0;--r)if(t[r]!=e[r]){i=!1;break}return i}function a(t,e){var i=Math.cos(e),r=Math.sin(e),n=t[0]*i-t[1]*r,o=t[1]*i+t[0]*r;return t[0]=n,t[1]=o,t}function h(t,e){return t[0]*=e,t[1]*=e,t}function c(t,e){var i=t[0]-e[0],r=t[1]-e[1];return i*i+r*r}function u(t,e){return Math.sqrt(c(t,e))}function l(t,e){return c(t,o(t,e))}},function(t,e,i){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},,,,,function(t,e,i){"use strict";function r(t){return Math.pow(t,3)}function n(t){return 1-r(1-t)}function o(t){return 3*t*t-2*t*t*t}function s(t){return t}i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n}),i.d(e,"c",function(){return o}),i.d(e,"d",function(){return s})},,,,function(t,e,i){"use strict";i.d(e,"c",function(){return n}),i.d(e,"h",function(){return o}),i.d(e,"j",function(){return s}),i.d(e,"e",function(){return a}),i.d(e,"b",function(){return h}),i.d(e,"a",function(){return c}),i.d(e,"d",function(){return u}),i.d(e,"i",function(){return l}),i.d(e,"g",function(){return p}),i.d(e,"f",function(){return d});var r="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",n=-1!==r.indexOf("firefox"),o=-1!==r.indexOf("safari")&&-1==r.indexOf("chrom"),s=-1!==r.indexOf("webkit")&&-1==r.indexOf("edge"),a=-1!==r.indexOf("macintosh"),h=window.devicePixelRatio||1,c=function(){var t=!1;try{t=!!document.createElement("canvas").getContext("2d").setLineDash}catch(t){}return t}(),u="geolocation"in navigator,l="ontouchstart"in window,p="PointerEvent"in window,d=!!navigator.msPointerEnabled},,function(t,e,i){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3}},,,,,,,,function(t,e,i){"use strict";i.d(e,"c",function(){return h}),i.d(e,"b",function(){return c}),i.d(e,"d",function(){return u}),i.d(e,"e",function(){return l}),i.d(e,"f",function(){return p}),i.d(e,"g",function(){return d}),i.d(e,"i",function(){return f}),i.d(e,"k",function(){return _}),i.d(e,"l",function(){return g}),i.d(e,"m",function(){return m}),i.d(e,"j",function(){return y}),i.d(e,"h",function(){return v}),i.d(e,"o",function(){return b}),i.d(e,"a",function(){return E}),i.d(e,"p",function(){return C}),i.d(e,"q",function(){return I}),i.d(e,"s",function(){return F}),i.d(e,"r",function(){return w}),i.d(e,"n",function(){return L});var r=i(55),n=i(13),o=i(5),s=i(86),a=i(17),h="10px sans-serif",c=[0,0,0,1],u="round",l=[],p=0,d="round",f=10,_=[0,0,0,1],g="center",m="middle",y=[0,0,0,0],v=1,b=new s.a,O={},x=null,j={},E=function(){var t,e,i=60,n=O,s="32px ",a=["monospace","serif"],h=a.length,c="wmytzilWMYTZIL@#/&?$%10ï€“";function u(t){for(var i=T(),r=100;r<=700;r+=300){for(var n=r+" ",o=!0,u=0;u<h;++u){var l=a[u];if(i.font=n+s+l,e=i.measureText(c).width,t!=l){i.font=n+s+t+","+l;var p=i.measureText(c).width;o=o&&p!=e}}if(o)return!0}return!1}function l(){var e=!0;for(var r in n)n[r]<i&&(u(r)?(n[r]=i,Object(o.b)(j),x=null,b.clear()):(++n[r],e=!1));e&&(clearInterval(t),t=void 0)}return function(e){var o=Object(r.e)(e);if(o)for(var s=0,a=o.length;s<a;++s){var h=o[s];h in n||(n[h]=i,u(h)||(n[h]=0,void 0===t&&(t=setInterval(l,32))))}}}();function T(){return x||(x=Object(n.a)(1,1)),x}var S,R,C=(R=j,function(t){var e=R[t];return null==e&&(S||((S=document.createElement("span")).textContent="M",S.style.margin=S.style.padding="0 !important",S.style.position="absolute !important",S.style.left="-99999px !important"),S.style.font=t,document.body.appendChild(S),e=R[t]=S.offsetHeight,document.body.removeChild(S)),e});function I(t,e){var i=T();return t!=i.font&&(i.font=t),i.measureText(e).width}function F(t,e,i,r){0!==e&&(t.translate(i,r),t.rotate(e),t.translate(-i,-r))}var w=Object(a.c)();function L(t,e,i,r,n,o,s,a,h,c,u){var l;1!=i&&(l=t.globalAlpha,t.globalAlpha=l*i),e&&t.setTransform.apply(t,e),t.drawImage(r,n,o,s,a,h,c,s*u,a*u),l&&(t.globalAlpha=l),e&&t.setTransform.apply(t,w)}},function(t,e,i){"use strict";var r=i(3),n=i(25),o=i(21),s=i(50),a=i(7),h=i(9),c=i(4),u=i(11),l=i(2),p=i(1),d=i(72),f=i(8);function _(t,e){return[[-1/0,-1/0,1/0,1/0]]}var g=i(5),m=i(54),y=i(16),v=i(53),b=i(52),O=function(t){function e(e,i){t.call(this,e),this.feature=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(u.a),x=function(t){function e(e){var i=e||{};t.call(this,{attributions:i.attributions,projection:void 0,state:y.a.READY,wrapX:void 0===i.wrapX||i.wrapX}),this.loader_=f.c,this.format_=i.format,this.overlaps_=null==i.overlaps||i.overlaps,this.url_=i.url,void 0!==i.loader?this.loader_=i.loader:void 0!==this.url_&&(Object(h.a)(this.format_,7),this.loader_=Object(d.b)(this.url_,this.format_)),this.strategy_=void 0!==i.strategy?i.strategy:_;var r,o,s=void 0===i.useSpatialIndex||i.useSpatialIndex;this.featuresRtree_=s?new b.a:null,this.loadedExtentsRtree_=new b.a,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(i.features)?o=i.features:i.features&&(o=(r=i.features).getArray()),s||void 0!==r||(r=new n.a(o)),void 0!==o&&this.addFeaturesInternal(o),void 0!==r&&this.bindFeaturesCollection_(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=Object(r.c)(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var i=t.getGeometry();if(i){var n=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(n,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new O(v.a.ADDFEATURE,t))}},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Object(c.a)(e,l.a.CHANGE,this.handleFeatureChange_,this),Object(c.a)(e,s.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var i=!0,r=e.getId();return void 0!==r?r.toString()in this.idIndex_?i=!1:this.idIndex_[r.toString()]=e:(Object(h.a)(!(t in this.undefIdIndex_),30),this.undefIdIndex_[t]=e),i},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],i=[],n=[],o=0,s=t.length;o<s;o++){var a=t[o],h=Object(r.c)(a);this.addToIndex_(h,a)&&i.push(a)}for(var c=0,u=i.length;c<u;c++){var l=i[c],p=Object(r.c)(l);this.setupChangeEvents_(p,l);var d=l.getGeometry();if(d){var f=d.getExtent();e.push(f),n.push(l)}else this.nullGeometryFeatures_[p]=l}this.featuresRtree_&&this.featuresRtree_.load(e,n);for(var _=0,g=i.length;_<g;_++)this.dispatchEvent(new O(v.a.ADDFEATURE,i[_]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;Object(c.a)(this,v.a.ADDFEATURE,function(i){e||(e=!0,t.push(i.feature),e=!1)}),Object(c.a)(this,v.a.REMOVEFEATURE,function(i){e||(e=!0,t.remove(i.feature),e=!1)}),Object(c.a)(t,o.a.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)},this),Object(c.a)(t,o.a.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)},this),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(c.e)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_)for(var i in this.featuresRtree_.forEach(this.removeFeatureInternal,this),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var r=new O(v.a.CLEAR);this.dispatchEvent(r),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,function(i){return i.getGeometry().intersectsCoordinate(t)?e(i):void 0})},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(i){if(i.getGeometry().intersectsExtent(t)){var r=e(i);if(r)return r}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(g.d)(this.nullGeometryFeatures_)||Object(a.c)(t,Object(g.c)(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_.getInExtent(t)},e.prototype.getClosestFeatureToCoordinate=function(t,e){var i=t[0],r=t[1],n=null,o=[NaN,NaN],s=1/0,a=[-1/0,-1/0,1/0,1/0],h=e||f.b;return this.featuresRtree_.forEachInExtent(a,function(t){if(h(t)){var e=t.getGeometry(),c=s;if((s=e.closestPointXY(i,r,o,s))<c){n=t;var u=Math.sqrt(s);a[0]=i-u,a[1]=r-u,a[2]=i+u,a[3]=r+u}}}),n},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,i=Object(r.c)(e),n=e.getGeometry();if(n){var o=n.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[i]=e);var s=e.getId();if(void 0!==s){var a=s.toString();i in this.undefIdIndex_?(delete this.undefIdIndex_[i],this.idIndex_[a]=e):this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else i in this.undefIdIndex_||(this.removeFromIdIndex_(e),this.undefIdIndex_[i]=e);this.changed(),this.dispatchEvent(new O(v.a.CHANGEFEATURE,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Object(r.c)(t)in this.undefIdIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(g.d)(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,i){var r=this,n=this.loadedExtentsRtree_,o=this.strategy_(t,e);this.loading=!1;for(var s=function(t,s){var a=o[t];n.forEachInExtent(a,function(t){return Object(p.g)(t.extent,a)})||(r.loader_.call(r,a,e,i),n.insert(a,{extent:a.slice()}),r.loading=r.loader_!==f.c)},a=0,h=o.length;a<h;++a)s(a)},e.prototype.removeLoadedExtent=function(t){var e,i=this.loadedExtentsRtree_;i.forEachInExtent(t,function(i){if(Object(p.p)(i.extent,t))return e=i,!0}),e&&i.remove(e)},e.prototype.removeFeature=function(t){var e=Object(r.c)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=Object(r.c)(t);this.featureChangeKeys_[e].forEach(c.e),delete this.featureChangeKeys_[e];var i=t.getId();void 0!==i?delete this.idIndex_[i.toString()]:delete this.undefIdIndex_[e],this.dispatchEvent(new O(v.a.REMOVEFEATURE,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===t){delete this.idIndex_[i],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e}(m.a);e.a=x},,,,,function(t,e,i){"use strict";i.d(e,"b",function(){return a}),i.d(e,"a",function(){return l}),i.d(e,"c",function(){return d});var r=i(9),n=i(6),o=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,s=/^([a-z]*)$/i;function a(t){return"string"==typeof t?t:d(t)}var h,c,u=(h={},c=0,function(t){var e;if(h.hasOwnProperty(t))e=h[t];else{if(c>=1024){var i=0;for(var n in h)0==(3&i++)&&(delete h[n],--c)}e=function(t){var e,i,n,a,h;if(s.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var i=getComputedStyle(e).color;return document.body.removeChild(e),i}return""}(t)),o.exec(t)){var c,u=t.length-1;c=u<=4?1:2;var l=4===u||8===u;e=parseInt(t.substr(1+0*c,c),16),i=parseInt(t.substr(1+1*c,c),16),n=parseInt(t.substr(1+2*c,c),16),a=l?parseInt(t.substr(1+3*c,c),16):255,1==c&&(e=(e<<4)+e,i=(i<<4)+i,n=(n<<4)+n,l&&(a=(a<<4)+a)),h=[e,i,n,a/255]}else 0==t.indexOf("rgba(")?p(h=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((h=t.slice(4,-1).split(",").map(Number)).push(1),p(h)):Object(r.a)(!1,14);return h}(t),h[t]=e,++c}return e});function l(t){return Array.isArray(t)?t:u(t)}function p(t){return t[0]=Object(n.a)(t[0]+.5|0,0,255),t[1]=Object(n.a)(t[1]+.5|0,0,255),t[2]=Object(n.a)(t[2]+.5|0,0,255),t[3]=Object(n.a)(t[3],0,1),t}function d(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var i=t[1];i!=(0|i)&&(i=i+.5|0);var r=t[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+e+","+i+","+r+","+(void 0===t[3]?1:t[3])+")"}},,,,function(t,e,i){"use strict";i.r(e),i.d(e,"createStyleFunction",function(){return h});var r=i(9),n=i(4),o=i(2),s=i(12),a=function(t){function e(e){if(t.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,Object(n.a)(this,Object(s.b)(this.geometryName_),this.handleGeometryChanged_,this),e)if("function"==typeof e.getSimplifiedGeometry){var i=e;this.setGeometry(i)}else{var r=e;this.setProperties(r)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var i=this.getGeometry();i&&t.setGeometry(i.clone());var r=this.getStyle();return r&&t.setStyle(r),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(n.e)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(n.a)(t,o.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?h(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){Object(n.c)(this,Object(s.b)(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=t,Object(n.a)(this,Object(s.b)(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},e}(s.a);function h(t){return"function"==typeof t?t:(Array.isArray(t)?e=t:(Object(r.a)("function"==typeof t.getZIndex,41),e=[t]),function(){return e});var e}e.default=a},function(t,e,i){"use strict";function r(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]+2*e,i[1]=t[1]+2*e,i}function n(t){return t[0]>0&&t[1]>0}function o(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]*e+.5|0,i[1]=t[1]*e+.5|0,i}function s(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n}),i.d(e,"c",function(){return o}),i.d(e,"d",function(){return s})},,function(t,e,i){"use strict";function r(t,e,i){var r=void 0!==i?t.toFixed(i):""+t,n=r.indexOf(".");return(n=-1===n?r.length:n)>e?r:new Array(1+e-n).join("0")+r}function n(t,e){for(var i=(""+t).split("."),r=(""+e).split("."),n=0;n<Math.max(i.length,r.length);n++){var o=parseInt(i[n]||"0",10),s=parseInt(r[n]||"0",10);if(o>s)return 1;if(s>o)return-1}return 0}i.d(e,"b",function(){return r}),i.d(e,"a",function(){return n})},function(t,e,i){"use strict";var r=i(3),n=i(62),o=i.n(n),s=i(1),a=i(5),h=function(t){this.rbush_=o()(t,void 0),this.items_={}};h.prototype.insert=function(t,e){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(i),this.items_[Object(r.c)(e)]=i},h.prototype.load=function(t,e){for(var i=new Array(e.length),n=0,o=e.length;n<o;n++){var s=t[n],a=e[n],h={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};i[n]=h,this.items_[Object(r.c)(a)]=h}this.rbush_.load(i)},h.prototype.remove=function(t){var e=Object(r.c)(t),i=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(i)},h.prototype.update=function(t,e){var i=this.items_[Object(r.c)(e)],n=[i.minX,i.minY,i.maxX,i.maxY];Object(s.p)(n,t)||(this.remove(e),this.insert(t,e))},h.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},h.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})},h.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},h.prototype.forEachInExtent=function(t,e,i){return this.forEach_(this.getInExtent(t),e,i)},h.prototype.forEach_=function(t,e,i){for(var r,n=0,o=t.length;n<o;n++)if(r=e.call(i,t[n]))return r;return r},h.prototype.isEmpty=function(){return Object(a.d)(this.items_)},h.prototype.clear=function(){this.rbush_.clear(),this.items_={}},h.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Object(s.k)(e.minX,e.minY,e.maxX,e.maxY,t)},h.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},e.a=h},function(t,e,i){"use strict";e.a={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"}},function(t,e,i){"use strict";var r=i(3),n=i(12),o=i(15),s=i(16),a=function(t){function e(e){t.call(this),this.projection_=Object(o.d)(e.projection),this.attributions_=h(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:s.a.READY,this.wrapX_=void 0!==e.wrapX&&e.wrapX}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return Object(r.b)()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=h(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(n.a);function h(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}e.a=a},function(t,e,i){"use strict";i.d(e,"c",function(){return o}),i.d(e,"d",function(){return s}),i.d(e,"b",function(){return a}),i.d(e,"a",function(){return h}),i.d(e,"e",function(){return c});var r,n,o="ol-hidden",s="ol-unselectable",a="ol-control",h="ol-collapsed",c=(n={},function(t){if(r||(r=document.createElement("div").style),!(t in n)){r.font=t;var e=r.fontFamily;if(r.font="",!e)return null;n[t]=e.split(/,\s?/)}return n[t]})},,,,,,,function(t,e,i){"use strict";t.exports=n,t.exports.default=n;var r=i(75);function n(t,e){if(!(this instanceof n))return new n(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,i){if(!i)return e.indexOf(t);for(var r=0;r<e.length;r++)if(i(t,e[r]))return r;return-1}function s(t,e){a(t,0,t.children.length,e,t)}function a(t,e,i,r,n){n||(n=_(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var o,s=e;s<i;s++)o=t.children[s],h(n,t.leaf?r(o):o);return n}function h(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function c(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function l(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function p(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function _(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(t,e,i,n,o){for(var s,a=[e,i];a.length;)(i=a.pop())-(e=a.pop())<=n||(s=e+Math.ceil((i-e)/n/2)*n,r(t,s,e,i,o),a.push(e,s,s,i))}n.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],r=this.toBBox;if(!f(t,e))return i;for(var n,o,s,a,h=[];e;){for(n=0,o=e.children.length;n<o;n++)s=e.children[n],f(t,a=e.leaf?r(s):s)&&(e.leaf?i.push(s):d(t,a)?this._all(s,i):h.push(s));e=h.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!f(t,e))return!1;for(var r,n,o,s,a=[];e;){for(r=0,n=e.children.length;r<n;r++)if(o=e.children[r],f(t,s=e.leaf?i(o):o)){if(e.leaf||d(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,i=t.length;e<i;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=_([]),this},remove:function(t,e){if(!t)return this;for(var i,r,n,s,a=this.data,h=this.toBBox(t),c=[],u=[];a||c.length;){if(a||(a=c.pop(),r=c[c.length-1],i=u.pop(),s=!0),a.leaf&&-1!==(n=o(t,a.children,e)))return a.children.splice(n,1),c.push(a),this._condense(c),this;s||a.leaf||!d(a,h)?r?(i++,a=r.children[i],s=!1):a=null:(c.push(a),u.push(i),i=0,r=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:c,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build:function(t,e,i,r){var n,o=i-e+1,a=this._maxEntries;if(o<=a)return s(n=_(t.slice(e,i+1)),this.toBBox),n;r||(r=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,r-1))),(n=_([])).leaf=!1,n.height=r;var h,c,u,l,p=Math.ceil(o/a),d=p*Math.ceil(Math.sqrt(a));for(g(t,e,i,d,this.compareMinX),h=e;h<=i;h+=d)for(g(t,h,u=Math.min(h+d-1,i),p,this.compareMinY),c=h;c<=u;c+=p)l=Math.min(c+p-1,u),n.children.push(this._build(t,c,l,r-1));return s(n,this.toBBox),n},_chooseSubtree:function(t,e,i,r){for(var n,o,s,a,h,c,u,p,d,f;r.push(e),!e.leaf&&r.length-1!==i;){for(u=p=1/0,n=0,o=e.children.length;n<o;n++)h=l(s=e.children[n]),d=t,f=s,(c=(Math.max(f.maxX,d.maxX)-Math.min(f.minX,d.minX))*(Math.max(f.maxY,d.maxY)-Math.min(f.minY,d.minY))-h)<p?(p=c,u=h<u?h:u,a=s):c===p&&h<u&&(u=h,a=s);e=a||e.children[0]}return e},_insert:function(t,e,i){var r=this.toBBox,n=i?t:r(t),o=[],s=this._chooseSubtree(n,this.data,e,o);for(s.children.push(t),h(s,n);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(n,o,e)},_split:function(t,e){var i=t[e],r=i.children.length,n=this._minEntries;this._chooseSplitAxis(i,n,r);var o=this._chooseSplitIndex(i,n,r),a=_(i.children.splice(o,i.children.length-o));a.height=i.height,a.leaf=i.leaf,s(i,this.toBBox),s(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(i,a)},_splitRoot:function(t,e){this.data=_([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var r,n,o,s,h,c,u,p,d,f,_,g,m,y;for(c=u=1/0,r=e;r<=i-e;r++)n=a(t,0,r,this.toBBox),o=a(t,r,i,this.toBBox),d=n,f=o,_=void 0,g=void 0,m=void 0,y=void 0,_=Math.max(d.minX,f.minX),g=Math.max(d.minY,f.minY),m=Math.min(d.maxX,f.maxX),y=Math.min(d.maxY,f.maxY),s=Math.max(0,m-_)*Math.max(0,y-g),h=l(n)+l(o),s<c?(c=s,p=r,u=h<u?h:u):s===c&&h<u&&(u=h,p=r);return p},_chooseSplitAxis:function(t,e,i){var r=t.leaf?this.compareMinX:c,n=t.leaf?this.compareMinY:u;this._allDistMargin(t,e,i,r)<this._allDistMargin(t,e,i,n)&&t.children.sort(r)},_allDistMargin:function(t,e,i,r){t.children.sort(r);var n,o,s=this.toBBox,c=a(t,0,e,s),u=a(t,i-e,i,s),l=p(c)+p(u);for(n=e;n<i-e;n++)o=t.children[n],h(c,t.leaf?s(o):o),l+=p(c);for(n=i-e-1;n>=e;n--)o=t.children[n],h(u,t.leaf?s(o):o),l+=p(u);return l},_adjustParentBBoxes:function(t,e,i){for(var r=i;r>=0;r--)h(e[r],t)},_condense:function(t){for(var e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children).splice(e.indexOf(t[i]),1):this.clear():s(t[i],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},function(t,e,i){"use strict";i.d(e,"b",function(){return r}),i.d(e,"a",function(){return n});var r=.5,n=!0},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=42,n=256},,,,,function(t,e,i){"use strict";i.d(e,"a",function(){return n});var r=i(44);function n(t){return Array.isArray(t)?Object(r.c)(t):t}},,,function(t,e,i){"use strict";var r=i(8),n={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"};function o(t,e,i,r){return function(o,s,a){var h=new XMLHttpRequest;h.open("GET","function"==typeof t?t(o,s,a):t,!0),e.getType()==n.ARRAY_BUFFER&&(h.responseType="arraybuffer"),h.onload=function(t){if(!h.status||h.status>=200&&h.status<300){var o,s=e.getType();s==n.JSON||s==n.TEXT?o=h.responseText:s==n.XML?(o=h.responseXML)||(o=(new DOMParser).parseFromString(h.responseText,"application/xml")):s==n.ARRAY_BUFFER&&(o=h.response),o?i.call(this,e.readFeatures(o,{featureProjection:a}),e.readProjection(o),e.getLastExtent()):r.call(this)}else r.call(this)}.bind(this),h.onerror=function(){r.call(this)}.bind(this),h.send()}}function s(t,e){return o(t,e,function(t,e){"function"==typeof this.addFeatures&&this.addFeatures(t)},r.c)}i.d(e,"a",function(){return o}),i.d(e,"b",function(){return s})},,,function(t,e,i){t.exports=function(){"use strict";function t(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}function e(t,e){return t<e?-1:t>e?1:0}return function(i,r,n,o,s){!function e(i,r,n,o,s){for(;o>n;){if(o-n>600){var a=o-n+1,h=r-n+1,c=Math.log(a),u=.5*Math.exp(2*c/3),l=.5*Math.sqrt(c*u*(a-u)/a)*(h-a/2<0?-1:1),p=Math.max(n,Math.floor(r-h*u/a+l)),d=Math.min(o,Math.floor(r+(a-h)*u/a+l));e(i,r,p,d,s)}var f=i[r],_=n,g=o;for(t(i,n,r),s(i[o],f)>0&&t(i,n,o);_<g;){for(t(i,_,g),_++,g--;s(i[_],f)<0;)_++;for(;s(i[g],f)>0;)g--}0===s(i[n],f)?t(i,n,g):t(i,++g,o),g<=r&&(n=g+1),r<=g&&(o=g-1)}}(i,r,n||0,o||i.length-1,s||e)}}()},,function(t,e,i){"use strict";var r=i(7),n=i(69),o=i(1),s=i(10),a=i(20),h=i(68),c=i(28),u=i(90),l=i(38),p=i(17),d=function(t){function e(e,i,r,n,o){t.call(this),this.context_=e,this.pixelRatio_=i,this.extent_=r,this.transform_=n,this.viewRotation_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Object(p.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawImages_=function(t,e,i,r){if(this.image_){var n=Object(h.c)(t,e,i,2,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_,a=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=a*this.imageOpacity_);var c=this.imageRotation_;this.imageRotateWithView_&&(c+=this.viewRotation_);for(var u=0,l=n.length;u<l;u+=2){var d=n[u]-this.imageAnchorX_,f=n[u+1]-this.imageAnchorY_;if(0!==c||1!=this.imageScale_){var _=d+this.imageAnchorX_,g=f+this.imageAnchorY_;Object(p.b)(s,_,g,this.imageScale_,this.imageScale_,c,-_,-g),o.setTransform.apply(o,s)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,d,f,this.imageWidth_,this.imageHeight_)}0===c&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=a)}},e.prototype.drawText_=function(t,e,i,r){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var n=Object(h.c)(t,e,i,r,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.textRotation_;for(this.textRotateWithView_&&(s+=this.viewRotation_);e<i;e+=r){var a=n[e]+this.textOffsetX_,c=n[e+1]+this.textOffsetY_;if(0!==s||1!=this.textScale_){var u=Object(p.b)(this.tmpLocalTransform_,a,c,this.textScale_,this.textScale_,s,-a,-c);o.setTransform.apply(o,u)}this.textStrokeState_&&o.strokeText(this.text_,a,c),this.textFillState_&&o.fillText(this.text_,a,c)}0===s&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,i,r,n){var o=this.context_,s=Object(h.c)(t,e,i,r,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);var a=s.length;n&&(a-=2);for(var c=2;c<a;c+=2)o.lineTo(s[c],s[c+1]);return n&&o.closePath(),i},e.prototype.drawRings_=function(t,e,i,r){for(var n=0,o=i.length;n<o;++n)e=this.moveToLineTo_(t,e,i[n],r,!0);return e},e.prototype.drawCircle=function(t){if(Object(o.F)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=Object(a.b)(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],r=e[3]-e[1],n=Math.sqrt(i*i+r*r),s=this.context_;s.beginPath(),s.arc(e[0],e[1],n,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){switch(t.getType()){case s.a.POINT:this.drawPoint(t);break;case s.a.LINE_STRING:this.drawLineString(t);break;case s.a.POLYGON:this.drawPolygon(t);break;case s.a.MULTI_POINT:this.drawMultiPoint(t);break;case s.a.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case s.a.MULTI_POLYGON:this.drawMultiPolygon(t);break;case s.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case s.a.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var i=e.getGeometryFunction()(t);i&&Object(o.F)(this.extent_,i.getExtent())&&(this.setStyle(e),this.drawGeometry(i))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),i=0,r=e.length;i<r;++i)this.drawGeometry(e[i])},e.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawLineString=function(t){if(Object(o.F)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var r=t.getFlatMidpoint();this.drawText_(r,0,2,2)}}},e.prototype.drawMultiLineString=function(t){var e=t.getExtent();if(Object(o.F)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,r=t.getFlatCoordinates(),n=0,s=t.getEnds(),a=t.getStride();i.beginPath();for(var h=0,c=s.length;h<c;++h)n=this.moveToLineTo_(r,n,s[h],a,!1);i.stroke()}if(""!==this.text_){var u=t.getFlatMidpoints();this.drawText_(u,0,u.length,2)}}},e.prototype.drawPolygon=function(t){if(Object(o.F)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(Object(o.F)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getOrientedFlatCoordinates(),r=0,n=t.getEndss(),s=t.getStride();e.beginPath();for(var a=0,h=n.length;a<h;++a){var c=n[a];r=this.drawRings_(i,r,c,s)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var u=t.getFlatInteriorPoints();this.drawText_(u,0,u.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=e.lineCap=t.lineCap),c.a&&(Object(r.b)(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,c.a&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,i=this.contextTextState_,r=t.textAlign?t.textAlign:l.l;i?(i.font!=t.font&&(i.font=e.font=t.font),i.textAlign!=r&&(i.textAlign=e.textAlign=r),i.textBaseline!=t.textBaseline&&(i.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=r,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var i=t.getColor();this.fillState_={fillStyle:Object(n.a)(i||l.b)}}else this.fillState_=null;if(e){var r=e.getColor(),o=e.getLineCap(),s=e.getLineDash(),a=e.getLineDashOffset(),h=e.getLineJoin(),c=e.getWidth(),u=e.getMiterLimit();this.strokeState_={lineCap:void 0!==o?o:l.d,lineDash:s||l.e,lineDashOffset:a||l.f,lineJoin:void 0!==h?h:l.g,lineWidth:this.pixelRatio_*(void 0!==c?c:l.h),miterLimit:void 0!==u?u:l.i,strokeStyle:Object(n.a)(r||l.k)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),i=t.getImage(1),r=t.getOrigin(),n=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=n[1],this.image_=i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=n[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var i=e.getColor();this.textFillState_={fillStyle:Object(n.a)(i||l.b)}}else this.textFillState_=null;var r=t.getStroke();if(r){var o=r.getColor(),s=r.getLineCap(),a=r.getLineDash(),h=r.getLineDashOffset(),c=r.getLineJoin(),u=r.getWidth(),p=r.getMiterLimit();this.textStrokeState_={lineCap:void 0!==s?s:l.d,lineDash:a||l.e,lineDashOffset:h||l.f,lineJoin:void 0!==c?c:l.g,lineWidth:void 0!==u?u:l.h,miterLimit:void 0!==p?p:l.i,strokeStyle:Object(n.a)(o||l.k)}}else this.textStrokeState_=null;var d=t.getFont(),f=t.getOffsetX(),_=t.getOffsetY(),g=t.getRotateWithView(),m=t.getRotation(),y=t.getScale(),v=t.getText(),b=t.getTextAlign(),O=t.getTextBaseline();this.textState_={font:void 0!==d?d:l.c,textAlign:void 0!==b?b:l.l,textBaseline:void 0!==O?O:l.m},this.text_=void 0!==v?v:"",this.textOffsetX_=void 0!==f?this.pixelRatio_*f:0,this.textOffsetY_=void 0!==_?this.pixelRatio_*_:0,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0!==m?m:0,this.textScale_=this.pixelRatio_*(void 0!==y?y:1)}else this.text_=""},e}(u.a);e.a=d},function(t,e,i){"use strict";var r=function(t){function e(e,i,r,n,o){t.call(this,e),this.vectorContext=i,this.frameState=r,this.context=n,this.glContext=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i(11).a);e.a=r},function(t,e,i){"use strict";var r=i(80),n=i(30),o=function(t){function e(e,i,r,o,s){var a=void 0!==s?n.a.IDLE:n.a.LOADED;t.call(this,e,i,r,a),this.loader_=void 0!==s?s:null,this.canvas_=o,this.error_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=n.a.ERROR):this.state=n.a.LOADED,this.changed()},e.prototype.load=function(){this.state==n.a.IDLE&&(this.state=n.a.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(r.a);e.a=o},function(t,e,i){"use strict";var r=i(3),n=i(40),o=i(2),s=function(t){function e(e,i,r,n){t.call(this),this.extent=e,this.pixelRatio_=r,this.resolution=i,this.state=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(o.a.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Object(r.b)()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Object(r.b)()},e}(n.a);e.a=s},function(t,e,i){"use strict";var r=i(3),n=i(18),o=i(13),s=i(1),a=i(97),h=i(17),c=function(t){function e(e){t.call(this,e),this.coordinateToCanvasPixelTransform=Object(h.c)(),this.hitCanvasContext_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.composeFrame=function(t,e,i){this.preCompose(i,t);var r=this.getImage();if(r){var n=e.extent,o=void 0!==n&&!Object(s.g)(n,t.extent)&&Object(s.F)(n,t.extent);o&&this.clip(i,t,n);var a=this.getImageTransform(),h=i.globalAlpha;i.globalAlpha=e.opacity;var c=a[4],u=a[5],l=r.width*a[0],p=r.height*a[3];l>=.5&&p>=.5&&i.drawImage(r,0,0,+r.width,+r.height,Math.round(c),Math.round(u),Math.round(l),Math.round(p)),i.globalAlpha=h,o&&i.restore()}this.postCompose(i,t,e)},e.prototype.getImage=function(){return Object(r.b)()},e.prototype.getImageTransform=function(){return Object(r.b)()},e.prototype.forEachLayerAtCoordinate=function(t,e,i,r,s){if(this.getImage()){var a=Object(h.a)(this.coordinateToCanvasPixelTransform,t.slice());Object(n.g)(a,e.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=Object(o.a)(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),a[0],a[1],1,1,0,0,1,1);var c=this.hitCanvasContext_.getImageData(0,0,1,1).data;return c[3]>0?r.call(s,this.getLayer(),c):void 0}},e}(a.a);e.a=c},,,,,function(t,e,i){"use strict";var r=i(9),n=i(40),o=i(2),s=function(t){function e(e){t.call(this),this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(o.a.CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t,e){for(var i=this.oldest_;i;)t.call(e,i.value_,i.key_,this),i=i.newer},e.prototype.get=function(t){var e=this.entries_[t];return Object(r.a)(void 0!==e,15),e===this.newest_?e.value_:(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e,e.value_)},e.prototype.remove=function(t){var e=this.entries_[t];return Object(r.a)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){Object(r.a)(!(t in this.entries_),16);var i={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[t]=i,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},e}(n.a);e.a=s},,,,function(t,e,i){"use strict";var r=function(){};r.prototype.drawCustom=function(t,e,i){},r.prototype.drawGeometry=function(t){},r.prototype.setStyle=function(t){},r.prototype.drawCircle=function(t,e){},r.prototype.drawFeature=function(t,e){},r.prototype.drawGeometryCollection=function(t,e){},r.prototype.drawLineString=function(t,e){},r.prototype.drawMultiLineString=function(t,e){},r.prototype.drawMultiPoint=function(t,e){},r.prototype.drawMultiPolygon=function(t,e){},r.prototype.drawPoint=function(t,e){},r.prototype.drawPolygon=function(t,e){},r.prototype.drawText=function(t,e){},r.prototype.setFillStrokeStyle=function(t,e){},r.prototype.setImageStyle=function(t,e){},r.prototype.setTextStyle=function(t,e){},e.a=r},function(t,e,i){"use strict";var r=i(3),n=i(29),o=i(92),s=i(19),a=i(14),h=i(13),c=i(1),u=i(81),l=i(17),p=function(t){function e(e,i){t.call(this,e),this.context=i?null:Object(h.a)(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=Object(c.j)(),this.tmpTileRange_=new o.b(0,0,0,0),this.imageTransform_=Object(l.c)(),this.zDirection=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isDrawableTile_=function(t){var e=this.getLayer(),i=t.getState(),r=e.getUseInterimTilesOnError();return i==s.a.LOADED||i==s.a.EMPTY||i==s.a.ERROR&&!r},e.prototype.getTile=function(t,e,i,r,n){var o=this.getLayer(),a=o.getSource().getTile(t,e,i,r,n);return a.getState()==s.a.ERROR&&(o.getUseInterimTilesOnError()?o.getPreload()>0&&(this.newTiles_=!0):a.setState(s.a.LOADED)),this.isDrawableTile_(a)||(a=a.getInterimTile()),a},e.prototype.prepareFrame=function(t,e){var i=t.pixelRatio,n=t.size,o=t.viewState,h=o.projection,u=o.resolution,p=o.center,d=this.getLayer(),f=d.getSource(),_=f.getRevision(),g=f.getTileGridForProjection(h),m=g.getZForResolution(u,this.zDirection),y=g.getResolution(m),v=Math.round(u/y)||1,b=t.extent;if(void 0!==e.extent&&(b=Object(c.B)(b,e.extent)),Object(c.H)(b))return!1;var O=g.getTileRangeForExtentAndZ(b,m),x=g.getTileRangeExtent(m,O),j=f.getTilePixelRatio(i),E={};E[m]={};var T,S,R,C=this.createLoadedTileFinder(f,h,E),I=t.viewHints,F=I[a.a.ANIMATING]||I[a.a.INTERACTING],w=this.tmpExtent,L=this.tmpTileRange_;for(this.newTiles_=!1,S=O.minX;S<=O.maxX;++S)for(R=O.minY;R<=O.maxY;++R)if(!(Date.now()-t.time>16&&F)){if(T=this.getTile(m,S,R,i,h),this.isDrawableTile_(T)){var A=Object(r.c)(this);if(T.getState()==s.a.LOADED){E[m][T.tileCoord.toString()]=T;var P=T.inTransition(A);this.newTiles_||!P&&-1!==this.renderedTiles.indexOf(T)||(this.newTiles_=!0)}if(1===T.getAlpha(A,t.time))continue}var M=g.getTileCoordChildTileRange(T.tileCoord,L,w),G=!1;M&&(G=C(m+1,M)),G||g.forEachTileCoordParentTileRange(T.tileCoord,C,null,L,w)}var D=y*i/j*v;if(!(this.renderedResolution&&Date.now()-t.time>16&&F)&&(this.newTiles_||!this.renderedExtent_||!Object(c.g)(this.renderedExtent_,b)||this.renderedRevision!=_||v!=this.oversampling_||!F&&D!=this.renderedResolution)){var X=this.context;if(X){var k=f.getTilePixelSize(m,i,h),N=Math.round(O.getWidth()*k[0]/v),z=Math.round(O.getHeight()*k[1]/v),Y=X.canvas;Y.width!=N||Y.height!=z?(this.oversampling_=v,Y.width=N,Y.height=z):(this.renderedExtent_&&!Object(c.p)(x,this.renderedExtent_)&&X.clearRect(0,0,N,z),v=this.oversampling_)}this.renderedTiles.length=0;var U,K,q,W,Z,B,H,J,V,Q,$=Object.keys(E).map(Number);for($.sort(function(t,e){return t===m?1:e===m?-1:t>e?1:t<e?-1:0}),W=0,Z=$.length;W<Z;++W)for(var tt in q=$[W],K=f.getTilePixelSize(q,i,h),U=g.getResolution(q)/y,H=j*f.getGutterForProjection(h),J=E[q])T=J[tt],S=((B=g.getTileCoordExtent(T.getTileCoord(),w))[0]-x[0])/y*j/v,R=(x[3]-B[3])/y*j/v,V=K[0]*U/v,Q=K[1]*U/v,this.drawTileImage(T,t,e,S,R,V,Q,H,m===q),this.renderedTiles.push(T);this.renderedRevision=_,this.renderedResolution=y*i/j*v,this.renderedExtent_=x}var et=this.renderedResolution/u,it=Object(l.b)(this.imageTransform_,i*n[0]/2,i*n[1]/2,et,et,0,(this.renderedExtent_[0]-p[0])/this.renderedResolution*i,(p[1]-this.renderedExtent_[3])/this.renderedResolution*i);return Object(l.b)(this.coordinateToCanvasPixelTransform,i*n[0]/2-it[4],i*n[1]/2-it[5],i/u,-i/u,0,-p[0],-p[1]),this.updateUsedTiles(t.usedTiles,f,m,O),this.manageTilePyramid(t,f,g,i,h,b,m,d.getPreload()),this.scheduleExpireCache(t,f),this.renderedTiles.length>0},e.prototype.drawTileImage=function(t,e,i,n,o,s,a,h,c){var u=this.getTileImage(t);if(u){var l=Object(r.c)(this),p=c?t.getAlpha(l,e.time):1,d=this.getLayer().getSource();1!==p||d.getOpaque(e.viewState.projection)||this.context.clearRect(n,o,s,a);var f=p!==this.context.globalAlpha;f&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(u,h,h,u.width-2*h,u.height-2*h,n,o,s,a),f&&this.context.restore(),1!==p?e.animate=!0:c&&t.endTransition(l)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.getTileImage=function(t){return t.getImage()},e}(u.a);p.handles=function(t){return t.getType()===n.a.TILE},p.create=function(t,e){return new p(e)},p.prototype.getLayer,e.a=p},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var r=function(t,e,i,r){this.minX=t,this.maxX=e,this.minY=i,this.maxY=r};function n(t,e,i,n,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=i,o.maxY=n,o):new r(t,e,i,n)}r.prototype.contains=function(t){return this.containsXY(t[1],t[2])},r.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},r.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},r.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},r.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},r.prototype.getHeight=function(){return this.maxY-this.minY+1},r.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},r.prototype.getWidth=function(){return this.maxX-this.minX+1},r.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},e.b=r},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var r=i(9),n=i(5),o=1/0,s=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};s.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Object(n.b)(this.queuedElements_)},s.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,i=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var r=this.keyFunction_(i);return delete this.queuedElements_[r],i},s.prototype.enqueue=function(t){Object(r.a)(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=o&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},s.prototype.getCount=function(){return this.elements_.length},s.prototype.getLeftChildIndex_=function(t){return 2*t+1},s.prototype.getRightChildIndex_=function(t){return 2*t+2},s.prototype.getParentIndex_=function(t){return t-1>>1},s.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},s.prototype.isEmpty=function(){return 0===this.elements_.length},s.prototype.isKeyQueued=function(t){return t in this.queuedElements_},s.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},s.prototype.siftUp_=function(t){for(var e=this.elements_,i=this.priorities_,r=e.length,n=e[t],o=i[t],s=t;t<r>>1;){var a=this.getLeftChildIndex_(t),h=this.getRightChildIndex_(t),c=h<r&&i[h]<i[a]?h:a;e[t]=e[c],i[t]=i[c],t=c}e[t]=n,i[t]=o,this.siftDown_(s,t)},s.prototype.siftDown_=function(t,e){for(var i=this.elements_,r=this.priorities_,n=i[e],o=r[e];e>t;){var s=this.getParentIndex_(e);if(!(r[s]>o))break;i[e]=i[s],r[e]=r[s],e=s}i[e]=n,r[e]=o},s.prototype.reprioritize=function(){var t,e,i,r=this.priorityFunction_,n=this.elements_,s=this.priorities_,a=0,h=n.length;for(e=0;e<h;++e)(i=r(t=n[e]))==o?delete this.queuedElements_[this.keyFunction_(t)]:(s[a]=i,n[a++]=t);n.length=a,s.length=a,this.heapify_()},e.b=s},,,function(t,e,i){"use strict";var r=i(17),n=i(7),o=i(55),s=i(13),a=i(32),h=i(78),c=i(41),u=i(38),l=i(77),p=i(3),d=i(57),f=i(4),_=i(2),g=i(1),m=i(8),y=i(71);function v(t,e){y.a.expire()}function b(t,e){return t.zIndex-e.zIndex}var O=function(t){function e(e){t.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={},this.layerRendererConstructors_=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){Object(p.b)()},e.prototype.registerLayerRenderers=function(t){this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_,t)},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,i=t.coordinateToPixelTransform,n=t.pixelToCoordinateTransform;Object(r.b)(i,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Object(r.d)(Object(r.g)(n,i))},e.prototype.removeLayerRenderers=function(){for(var t in this.layerRenderers_)this.removeLayerRendererByKey_(t).dispose()},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,n,o,s){var h,c=e.viewState,u=c.resolution;function l(t,i){var o=e.layerStates[Object(p.c)(i)].managed;if(!(Object(p.c)(t)in e.skippedFeatureUids)||o)return r.call(n,t,o?i:null)}var d=c.projection,f=t;if(d.canWrapX()){var _=d.getExtent(),m=Object(g.E)(_),y=t[0];if(y<_[0]||y>_[2])f=[y+m*Math.ceil((_[0]-y)/m),t[1]]}var v,b=e.layerStatesArray;for(v=b.length-1;v>=0;--v){var O=b[v],x=O.layer;if(Object(a.b)(O,u)&&o.call(s,x)){var j=this.getLayerRenderer(x),E=x.getSource();if(E&&(h=j.forEachFeatureAtCoordinate(E.getWrapX()?f:t,e,i,l)),h)return h}}},e.prototype.forEachLayerAtPixel=function(t,e,i,r,n,o,s){return Object(p.b)()},e.prototype.hasFeatureAtCoordinate=function(t,e,i,r,n){return void 0!==this.forEachFeatureAtCoordinate(t,e,i,m.b,this,r,n)},e.prototype.getLayerRenderer=function(t){var e=Object(p.c)(t);if(e in this.layerRenderers_)return this.layerRenderers_[e];for(var i,r=0,n=this.layerRendererConstructors_.length;r<n;++r){var o=this.layerRendererConstructors_[r];if(o.handles(t)){i=o.create(this,t);break}}if(!i)throw new Error("Unable to create renderer for layer: "+t.getType());return this.layerRenderers_[e]=i,this.layerRendererListeners_[e]=Object(f.a)(i,_.a.CHANGE,this.handleLayerRendererChange_,this),i},e.prototype.getLayerRendererByKey=function(t){return this.layerRenderers_[t]},e.prototype.getLayerRenderers=function(){return this.layerRenderers_},e.prototype.getMap=function(){return this.map_},e.prototype.handleLayerRendererChange_=function(){this.map_.render()},e.prototype.removeLayerRendererByKey_=function(t){var e=this.layerRenderers_[t];return delete this.layerRenderers_[t],Object(f.e)(this.layerRendererListeners_[t]),delete this.layerRendererListeners_[t],e},e.prototype.removeUnusedLayerRenderers_=function(t,e){for(var i in this.layerRenderers_)e&&i in e.layerStates||this.removeLayerRendererByKey_(i).dispose()},e.prototype.renderFrame=function(t){Object(p.b)()},e.prototype.scheduleExpireIconCache=function(t){t.postRenderFunctions.push(v)},e.prototype.scheduleRemoveUnusedLayerRenderers=function(t){for(var e in this.layerRenderers_)if(!(e in t.layerStates))return void t.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},e}(d.a),x=i(16);i.d(e,"b",function(){return j});var j=[],E=function(t){function e(e){t.call(this,e);var i=e.getViewport();this.context_=Object(s.a)(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=o.d,i.insertBefore(this.canvas_,i.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=Object(r.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){var i=this.getMap(),r=this.context_;if(i.hasListener(t)){var n=e.extent,o=e.pixelRatio,s=e.viewState.rotation,a=this.getTransform(e),c=new l.a(r,o,n,a,s),u=new h.a(t,c,e,r,null);i.dispatchEvent(u)}},e.prototype.getTransform=function(t){var e=t.viewState,i=this.canvas_.width/2,n=this.canvas_.height/2,o=t.pixelRatio/e.resolution,s=-o,a=-e.rotation,h=-e.center[0],c=-e.center[1];return Object(r.b)(this.transform_,i,n,o,s,a,h,c)},e.prototype.renderFrame=function(t){if(t){var e=this.context_,i=t.pixelRatio,r=Math.round(t.size[0]*i),o=Math.round(t.size[1]*i);this.canvas_.width!=r||this.canvas_.height!=o?(this.canvas_.width=r,this.canvas_.height=o):e.clearRect(0,0,r,o);var s=t.viewState.rotation;this.calculateMatrices2D(t),this.dispatchRenderEvent(c.a.PRECOMPOSE,t);var h=t.layerStatesArray;Object(n.l)(h,b),s&&(e.save(),Object(u.s)(e,s,r/2,o/2));var l,p,d=t.viewState.resolution;for(l=0,p=h.length;l<p;++l){var f=h[l],_=f.layer,g=this.getLayerRenderer(_);Object(a.b)(f,d)&&f.sourceState==x.a.READY&&(g.prepareFrame(t,f)&&g.composeFrame(t,f,e))}s&&e.restore(),this.dispatchRenderEvent(c.a.POSTCOMPOSE,t),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,i,n,o,s,h){var c,u,l=e.viewState.resolution,p=e.layerStatesArray,d=p.length,f=Object(r.a)(e.pixelToCoordinateTransform,t.slice());for(u=d-1;u>=0;--u){var _=p[u],g=_.layer;if(Object(a.b)(_,l)&&s.call(h,g))if(c=this.getLayerRenderer(g).forEachLayerAtCoordinate(f,e,i,n,o))return c}},e.prototype.registerLayerRenderers=function(e){t.prototype.registerLayerRenderers.call(this,e);for(var i=0,r=e.length;i<r;++i){var o=e[i];Object(n.f)(j,o)||j.push(o)}},e}(O);e.a=E},function(t,e,i){"use strict";var r=i(3),n=i(1),o=i(8),s=i(78),a=i(41),h=i(38),c=i(77),u=i(30),l=i(73),p=i(19),d=i(4),f=i(2),_=i(16),g=function(t){function e(e){t.call(this),this.layer_=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createLoadedTileFinder=function(t,e,i){return function(r,n){return t.forEachLoadedTile(e,r,n,function(t){i[r]||(i[r]={}),i[r][t.tileCoord.toString()]=t})}},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,r){},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleImageChange_=function(t){t.target.getState()===u.a.LOADED&&this.renderIfReadyAndVisible()},e.prototype.hasFeatureAtCoordinate=function(t,e){return!1},e.prototype.loadImage=function(t){var e=t.getState();return e!=u.a.LOADED&&e!=u.a.ERROR&&Object(d.a)(t,f.a.CHANGE,this.handleImageChange_,this),e==u.a.IDLE&&(t.load(),e=t.getState()),e==u.a.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==_.a.READY&&this.changed()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var i=function(t,e,i){var n=Object(r.c)(t);n in i.usedTiles&&t.expireCache(i.viewState.projection,i.usedTiles[n])}.bind(null,e);t.postRenderFunctions.push(i)}},e.prototype.updateUsedTiles=function(t,e,i,n){var o=Object(r.c)(e),s=i.toString();o in t?s in t[o]?t[o][s].extend(n):t[o][s]=n:(t[o]={},t[o][s]=n)},e.prototype.manageTilePyramid=function(t,e,i,n,o,s,a,h,c,u){var l=Object(r.c)(e);l in t.wantedTiles||(t.wantedTiles[l]={});var d,f,_,g,m,y,v=t.wantedTiles[l],b=t.tileQueue;for(y=i.getMinZoom();y<=a;++y)for(f=i.getTileRangeForExtentAndZ(s,y,f),_=i.getResolution(y),g=f.minX;g<=f.maxX;++g)for(m=f.minY;m<=f.maxY;++m)a-y<=h?((d=e.getTile(y,g,m,n,o)).getState()==p.a.IDLE&&(v[d.getKey()]=!0,b.isKeyQueued(d.getKey())||b.enqueue([d,l,i.getTileCoordCenter(d.tileCoord),_])),void 0!==c&&c.call(u,d)):e.useTile(y,g,m,o)},e}(l.a),m=i(17),y=function(t){function e(e){t.call(this,e),this.renderedResolution,this.transform_=Object(m.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clip=function(t,e,i){var r=e.pixelRatio,o=e.size[0]*r,s=e.size[1]*r,a=e.viewState.rotation,c=Object(n.C)(i),u=Object(n.D)(i),l=Object(n.w)(i),p=Object(n.v)(i);Object(m.a)(e.coordinateToPixelTransform,c),Object(m.a)(e.coordinateToPixelTransform,u),Object(m.a)(e.coordinateToPixelTransform,l),Object(m.a)(e.coordinateToPixelTransform,p),t.save(),Object(h.s)(t,-a,o/2,s/2),t.beginPath(),t.moveTo(c[0]*r,c[1]*r),t.lineTo(u[0]*r,u[1]*r),t.lineTo(l[0]*r,l[1]*r),t.lineTo(p[0]*r,p[1]*r),t.clip(),Object(h.s)(t,a,o/2,s/2)},e.prototype.dispatchComposeEvent_=function(t,e,i,r){var n=this.getLayer();if(n.hasListener(t)){var o=i.size[0]*i.pixelRatio,a=i.size[1]*i.pixelRatio,u=i.viewState.rotation;Object(h.s)(e,-u,o/2,a/2);var l=void 0!==r?r:this.getTransform(i,0),p=new c.a(e,i.pixelRatio,i.extent,l,i.viewState.rotation),d=new s.a(t,p,i,e,null);n.dispatchEvent(d),Object(h.s)(e,u,o/2,a/2)}},e.prototype.forEachLayerAtCoordinate=function(t,e,i,r,n){return this.forEachFeatureAtCoordinate(t,e,i,o.b)?r.call(n,this.getLayer(),null):void 0},e.prototype.postCompose=function(t,e,i,r){this.dispatchComposeEvent_(a.a.POSTCOMPOSE,t,e,r)},e.prototype.preCompose=function(t,e,i){this.dispatchComposeEvent_(a.a.PRECOMPOSE,t,e,i)},e.prototype.dispatchRenderEvent=function(t,e,i){this.dispatchComposeEvent_(a.a.RENDER,t,e,i)},e.prototype.getTransform=function(t,e){var i=t.viewState,r=t.pixelRatio,n=r*t.size[0]/2,o=r*t.size[1]/2,s=r/i.resolution,a=-s,h=-i.rotation,c=-i.center[0]+e,u=-i.center[1];return Object(m.b)(this.transform_,n,o,s,a,h,c,u)},e.prototype.composeFrame=function(t,e,i){Object(r.b)()},e.prototype.prepareFrame=function(t,e){return Object(r.b)()},e}(g);e.a=y},,,,function(t,e,i){"use strict";var r=i(63),n=i(79),o=i(29),s=i(14),a=i(7),h=i(1),c=i(61),u=i(5),l=i(96),p=i(81),d=i(17),f=function(t){function e(i){if(t.call(this,i),this.image_=null,this.imageTransform_=Object(d.c)(),this.skippedFeatures_=[],this.vectorRenderer_=null,i.getType()===o.a.VECTOR)for(var r=0,n=l.b.length;r<n;++r){var s=l.b[r];if(s!==e&&s.handles(i)){this.vectorRenderer_=new s(i);break}}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.vectorRenderer_&&this.vectorRenderer_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.prepareFrame=function(t,e){var i,o=t.pixelRatio,c=t.size,l=t.viewState,p=l.center,f=l.resolution,_=this.getLayer().getSource(),g=t.viewHints,m=this.vectorRenderer_,y=t.extent;if(m||void 0===e.extent||(y=Object(h.B)(y,e.extent)),!g[s.a.ANIMATING]&&!g[s.a.INTERACTING]&&!Object(h.H)(y)){var v=l.projection;if(!r.a){var b=_.getProjection();b&&(v=b)}var O=this.skippedFeatures_;if(m){var x=m.context,j=Object(u.a)({},t,{size:[Object(h.E)(y)/f,Object(h.A)(y)/f],viewState:Object(u.a)({},t.viewState,{rotation:0})}),E=Object.keys(j.skippedFeatureUids).sort();i=new n.a(y,f,o,x.canvas,function(t){!m.prepareFrame(j,e)||!m.replayGroupChanged&&Object(a.b)(O,E)||(x.canvas.width=j.size[0]*o,x.canvas.height=j.size[1]*o,m.compose(x,j,e),O=E,t())})}else i=_.getImage(y,f,o,v);i&&this.loadImage(i)&&(this.image_=i,this.skippedFeatures_=O)}if(this.image_){var T=(i=this.image_).getExtent(),S=i.getResolution(),R=i.getPixelRatio(),C=o*S/(f*R),I=Object(d.b)(this.imageTransform_,o*c[0]/2,o*c[1]/2,C,C,0,R*(T[0]-p[0])/S,R*(p[1]-T[3])/S);Object(d.b)(this.coordinateToCanvasPixelTransform,o*c[0]/2-I[4],o*c[1]/2-I[5],o/f,-o/f,0,-p[0],-p[1]),this.renderedResolution=S*o/R}return!!this.image_},e.prototype.forEachFeatureAtCoordinate=function(e,i,r,n){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,i,r,n):t.prototype.forEachFeatureAtCoordinate.call(this,e,i,r,n)},e}(p.a);f.handles=function(t){return t.getType()===o.a.IMAGE||t.getType()===o.a.VECTOR&&t.getRenderMode()===c.a.IMAGE},f.create=function(t,e){return new f(e)},e.a=f},,,function(t,e,i){"use strict";var r=i(19),n=i(4),o=i(2),s=function(t){function e(e,i){t.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()}),this.tileChangeCallback_=i,this.tilesLoading_=0,this.tilesLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.enqueue=function(e){var i=t.prototype.enqueue.call(this,e);if(i){var r=e[0];Object(n.a)(r,o.a.CHANGE,this.handleTileChange,this)}return i},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,i=e.getState();if(i===r.a.LOADED||i===r.a.ERROR||i===r.a.EMPTY||i===r.a.ABORT){Object(n.c)(e,o.a.CHANGE,this.handleTileChange,this);var s=e.getKey();s in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[s],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var i,n,o,s=0,a=!1;this.tilesLoading_<t&&s<e&&this.getCount()>0;)o=(n=this.dequeue()[0]).getKey(),(i=n.getState())===r.a.ABORT?a=!0:i!==r.a.IDLE||o in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++s,n.load());0===s&&a&&this.tileChangeCallback_()},e}(i(93).b);e.a=s},,,,,,,,function(t,e,i){var r=i(113);e.Processor=r},function(t,e,i){var r=i(114).newImageData;function n(t){var e=!0;try{new ImageData(10,10)}catch(t){e=!1}function i(t,i,r){return e?new ImageData(t,i,r):{data:t,width:i,height:r}}return function(e){var r,n,o=e.buffers,s=e.meta,a=e.imageOps,h=e.width,c=e.height,u=o.length,l=o[0].byteLength;if(a){var p=new Array(u);for(n=0;n<u;++n)p[n]=i(new Uint8ClampedArray(o[n]),h,c);r=t(p,s).data}else{r=new Uint8ClampedArray(l);var d=new Array(u),f=new Array(u);for(n=0;n<u;++n)d[n]=new Uint8ClampedArray(o[n]),f[n]=[0,0,0,0];for(var _=0;_<l;_+=4){for(var g=0;g<u;++g){var m=d[g];f[g][0]=m[_],f[g][1]=m[_+1],f[g][2]=m[_+2],f[g][3]=m[_+3]}var y=t(f,s);r[_]=y[0],r[_+1]=y[1],r[_+2]=y[2],r[_+3]=y[3]}}return r.buffer}}function o(t,e){var i=Object.keys(t.lib||{}).map(function(e){return"var "+e+" = "+t.lib[e].toString()+";"}).concat(["var __minion__ = ("+n.toString()+")(",t.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),r=new Blob(i,{type:"text/javascript"}),o=URL.createObjectURL(r),s=new Worker(o);return s.addEventListener("message",e),s}function s(t){var e;this._imageOps=!!t.imageOps;var i=[];if(e=0===t.threads?0:this._imageOps?1:t.threads||1)for(var r=0;r<e;++r)i[r]=o(t,this._onWorkerMessage.bind(this,r));else i[0]=function(t,e){var i=n(t.operation);return{postMessage:function(t){setTimeout(function(){e({data:{buffer:i(t),meta:t.meta}})},0)}}}(t,this._onWorkerMessage.bind(this,0));this._workers=i,this._queue=[],this._maxQueueLength=t.queue||1/0,this._running=0,this._dataLookup={},this._job=null}s.prototype.process=function(t,e,i){this._enqueue({inputs:t,meta:e,callback:i}),this._dispatch()},s.prototype.destroy=function(){for(var t in this)this[t]=null;this._destroyed=!0},s.prototype._enqueue=function(t){for(this._queue.push(t);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)},s.prototype._dispatch=function(){if(0===this._running&&this._queue.length>0){var t=this._job=this._queue.shift(),e=t.inputs[0].width,i=t.inputs[0].height,r=t.inputs.map(function(t){return t.data.buffer}),n=this._workers.length;if(this._running=n,1===n)this._workers[0].postMessage({buffers:r,meta:t.meta,imageOps:this._imageOps,width:e,height:i},r);else for(var o=t.inputs[0].data.length,s=4*Math.ceil(o/4/n),a=0;a<n;++a){for(var h=a*s,c=[],u=0,l=r.length;u<l;++u)c.push(r[a].slice(h,h+s));this._workers[a].postMessage({buffers:c,meta:t.meta,imageOps:this._imageOps,width:e,height:i},c)}}},s.prototype._onWorkerMessage=function(t,e){this._destroyed||(this._dataLookup[t]=e.data,--this._running,0===this._running&&this._resolveJob())},s.prototype._resolveJob=function(){var t,e,i=this._job,n=this._workers.length;if(1===n)t=new Uint8ClampedArray(this._dataLookup[0].buffer),e=this._dataLookup[0].meta;else{var o=i.inputs[0].data.length;t=new Uint8ClampedArray(o),e=new Array(o);for(var s=4*Math.ceil(o/4/n),a=0;a<n;++a){var h=this._dataLookup[a].buffer,c=a*s;t.set(new Uint8ClampedArray(h),c),e[a]=this._dataLookup[a].meta}}this._job=null,this._dataLookup={},i.callback(null,r(t,i.inputs[0].width,i.inputs[0].height),e),this._dispatch()},t.exports=s},function(t,e){var i=!0;try{new ImageData(10,10)}catch(t){i=!1}var r=document.createElement("canvas").getContext("2d");e.newImageData=function(t,e,n){if(i)return new ImageData(t,e,n);var o=r.createImageData(e,n);return o.data.set(t),o}},,function(t,e,i){"use strict";i.r(e);var r=i(9),n=i(6);function o(t,e,i,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=i,r):[t,e,i]}function s(t,e,i){return t+"/"+e+"/"+i}function a(t){return s(t[0],t[1],t[2])}function h(t){return(t[1]<<t[0])+t[2]}function c(t,e){var i=/\{z\}/g,n=/\{x\}/g,o=/\{y\}/g,s=/\{-y\}/g;return function(a,h,c){return a?t.replace(i,a[0].toString()).replace(n,a[1].toString()).replace(o,function(){return(-a[2]-1).toString()}).replace(s,function(){var t=a[0],i=e.getFullTileRange(t);return Object(r.a)(i,55),(i.getHeight()+a[2]).toString()}):void 0}}function u(t,e){for(var i=t.length,r=new Array(i),n=0;n<i;++n)r[n]=c(t[n],e);return l(r)}function l(t){return 1===t.length?t[0]:function(e,i,r){if(e){var o=h(e),s=Object(n.d)(o,t.length);return t[s](e,i,r)}}}function p(t,e,i){}function d(t){var e=[],i=/\{([a-z])-([a-z])\}/.exec(t);if(i){var r,n=i[1].charCodeAt(0),o=i[2].charCodeAt(0);for(r=n;r<=o;++r)e.push(t.replace(i[0],String.fromCharCode(r)));return e}if(i=i=/\{(\d+)-(\d+)\}/.exec(t)){for(var s=parseInt(i[2],10),a=parseInt(i[1],10);a<=s;a++)e.push(t.replace(i[0],a.toString()));return e}return e.push(t),e}var f=i(1),_=i(3);function g(t,e,i,r){var n=document.createElement("script"),o="olc_"+Object(_.c)(e);function s(){delete window[o],n.parentNode.removeChild(n)}n.async=!0,n.src=t+(-1==t.indexOf("?")?"?":"&")+(r||"callback")+"="+o;var a=setTimeout(function(){s(),i&&i()},1e4);window[o]=function(t){clearTimeout(a),s(),e(t)},document.getElementsByTagName("head")[0].appendChild(n)}var m=i(15),y=i(16),v=i(63),b=i(19),O=i(24),x=i(40),j=i(2),E=function(t){function e(e,i,r){t.call(this);var n=r||{};this.tileCoord=e,this.state=i,this.interimTile=null,this.key="",this.transition_=void 0===n.transition?250:n.transition,this.transitionStarts_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(j.a.CHANGE)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==b.a.LOADED)return t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==b.a.LOADED){t.interimTile=null;break}t.getState()==b.a.LOADING?e=t:t.getState()==b.a.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){this.state=t,this.changed()},e.prototype.load=function(){},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(i){if(-1===i)return 1}else i=e,this.transitionStarts_[t]=i;var r=e-i+1e3/60;return r>=this.transition_?1:Object(O.a)(r/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(x.a),T=i(13),S=i(4);function R(){var t=Object(T.a)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}var C=function(t){function e(e,i,r,n,o,s){t.call(this,e,i,s),this.crossOrigin_=n,this.src_=r,this.image_=new Image,null!==n&&(this.image_.crossOrigin=n),this.imageListenerKeys_=null,this.tileLoadFunction_=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==b.a.LOADING&&(this.unlistenImage_(),this.image_=R()),this.interimTile&&this.interimTile.dispose(),this.state=b.a.ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=b.a.ERROR,this.unlistenImage_(),this.image_=R(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=b.a.LOADED:this.state=b.a.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==b.a.ERROR&&(this.state=b.a.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==b.a.IDLE&&(this.state=b.a.LOADING,this.changed(),this.imageListenerKeys_=[Object(S.b)(this.image_,j.a.ERROR,this.handleImageError_,this),Object(S.b)(this.image_,j.a.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(S.e),this.imageListenerKeys_=null},e}(E),I=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.expireCache=function(t){for(;this.canExpireCache();){var e=this.peekLast(),i=e.tileCoord[0].toString();if(i in t&&t[i].contains(e.tileCoord))break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=function(t){return t.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove(a(e.tileCoord)),e.dispose())},this)}},e}(i(86).a);function F(t,e,i,r){var n=Object(m.i)(i,e,t),o=Object(m.e)(e,r,i),s=e.getMetersPerUnit();void 0!==s&&(o*=s);var a=t.getMetersPerUnit();void 0!==a&&(o/=a);var h=t.getExtent();if(!h||Object(f.f)(h,n)){var c=Object(m.e)(t,o,n)/o;isFinite(c)&&c>0&&(o/=c)}return o}function w(t,e,i,r){var n=i-t,o=r-e,s=Math.sqrt(n*n+o*o);return[Math.round(i+n/s),Math.round(r+o/s)]}function L(t,e,i,r,o,s,a,h,c,u,l){var p=Object(T.a)(Math.round(i*t),Math.round(i*e));if(0===c.length)return p.canvas;p.scale(i,i);var d=Object(f.j)();c.forEach(function(t,e,i){Object(f.q)(d,t.extent)});var _=Object(f.E)(d),g=Object(f.A)(d),m=Object(T.a)(Math.round(i*_/r),Math.round(i*g/r)),y=i/r;c.forEach(function(t,e,i){var r=t.extent[0]-d[0],n=-(t.extent[3]-d[3]),o=Object(f.E)(t.extent),s=Object(f.A)(t.extent);m.drawImage(t.image,u,u,t.image.width-2*u,t.image.height-2*u,r*y,n*y,o*y,s*y)});var v=Object(f.C)(a);return h.getTriangles().forEach(function(t,e,o){var a=t.source,h=t.target,c=a[0][0],u=a[0][1],l=a[1][0],f=a[1][1],_=a[2][0],g=a[2][1],y=(h[0][0]-v[0])/s,b=-(h[0][1]-v[1])/s,O=(h[1][0]-v[0])/s,x=-(h[1][1]-v[1])/s,j=(h[2][0]-v[0])/s,E=-(h[2][1]-v[1])/s,T=c,S=u;c=0,u=0;var R=[[l-=T,f-=S,0,0,O-y],[_-=T,g-=S,0,0,j-y],[0,0,l,f,x-b],[0,0,_,g,E-b]],C=Object(n.e)(R);if(C){p.save(),p.beginPath();var I=(y+O+j)/3,F=(b+x+E)/3,L=w(I,F,y,b),A=w(I,F,O,x),P=w(I,F,j,E);p.moveTo(A[0],A[1]),p.lineTo(L[0],L[1]),p.lineTo(P[0],P[1]),p.clip(),p.transform(C[0],C[2],C[1],C[3],y,b),p.translate(d[0]-T,d[3]-S),p.scale(r/i,-r/i),p.drawImage(m.canvas,0,0),p.restore()}}),l&&(p.save(),p.strokeStyle="black",p.lineWidth=1,h.getTriangles().forEach(function(t,e,i){var r=t.target,n=(r[0][0]-v[0])/s,o=-(r[0][1]-v[1])/s,a=(r[1][0]-v[0])/s,h=-(r[1][1]-v[1])/s,c=(r[2][0]-v[0])/s,u=-(r[2][1]-v[1])/s;p.beginPath(),p.moveTo(a,h),p.lineTo(n,o),p.lineTo(c,u),p.closePath(),p.stroke()}),p.restore()),p.canvas}var A=function(t,e,i,r,n){this.sourceProj_=t,this.targetProj_=e;var o={},s=Object(m.f)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return o[e]||(o[e]=s(t)),o[e]},this.maxSourceExtent_=r,this.errorThresholdSquared_=n*n,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Object(f.E)(r)==Object(f.E)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(f.E)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Object(f.E)(this.targetProj_.getExtent()):null;var a=Object(f.C)(i),h=Object(f.D)(i),c=Object(f.w)(i),u=Object(f.v)(i),l=this.transformInv_(a),p=this.transformInv_(h),d=this.transformInv_(c),_=this.transformInv_(u);if(this.addQuad_(a,h,c,u,l,p,d,_,10),this.wrapsXInSource_){var g=1/0;this.triangles_.forEach(function(t,e,i){g=Math.min(g,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-g>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-g>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-g>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-g>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var i=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-i<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}o={}};A.prototype.addTriangle_=function(t,e,i,r,n,o){this.triangles_.push({source:[r,n,o],target:[t,e,i]})},A.prototype.addQuad_=function(t,e,i,r,o,s,a,h,c){var u=Object(f.b)([o,s,a,h]),l=this.sourceWorldWidth_?Object(f.E)(u)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&l>.5&&l<1,_=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var g=Object(f.b)([t,e,i,r]);_=Object(f.E)(g)/this.targetWorldWidth_>.25||_}!d&&this.sourceProj_.isGlobal()&&l&&(_=l>.25||_)}if(_||!this.maxSourceExtent_||Object(f.F)(u,this.maxSourceExtent_)){if(!(_||isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(h[0])&&isFinite(h[1]))){if(!(c>0))return;_=!0}if(c>0){if(!_){var m,y=[(t[0]+i[0])/2,(t[1]+i[1])/2],v=this.transformInv_(y);if(d)m=(Object(n.d)(o[0],p)+Object(n.d)(a[0],p))/2-Object(n.d)(v[0],p);else m=(o[0]+a[0])/2-v[0];var b=(o[1]+a[1])/2-v[1];_=m*m+b*b>this.errorThresholdSquared_}if(_){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){var O=[(e[0]+i[0])/2,(e[1]+i[1])/2],x=this.transformInv_(O),j=[(r[0]+t[0])/2,(r[1]+t[1])/2],E=this.transformInv_(j);this.addQuad_(t,e,O,j,o,s,x,E,c-1),this.addQuad_(j,O,i,r,E,x,a,h,c-1)}else{var T=[(t[0]+e[0])/2,(t[1]+e[1])/2],S=this.transformInv_(T),R=[(i[0]+r[0])/2,(i[1]+r[1])/2],C=this.transformInv_(R);this.addQuad_(t,T,R,r,o,S,C,h,c-1),this.addQuad_(T,e,i,R,S,s,a,C,c-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,i,r,o,a,h),this.addTriangle_(t,e,i,o,s,a)}},A.prototype.calculateSourceExtent=function(){var t=Object(f.j)();return this.triangles_.forEach(function(e,i,r){var n=e.source;Object(f.r)(t,n[0]),Object(f.r)(t,n[1]),Object(f.r)(t,n[2])}),t},A.prototype.getTriangles=function(){return this.triangles_};var P=A,M=function(t){function e(e,i,r,o,s,a,h,c,u,l,p){t.call(this,s,b.a.IDLE),this.renderEdges_=void 0!==p&&p,this.pixelRatio_=h,this.gutter_=c,this.canvas_=null,this.sourceTileGrid_=i,this.targetTileGrid_=o,this.wrappedTileCoord_=a||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var d=o.getTileCoordExtent(this.wrappedTileCoord_),_=this.targetTileGrid_.getExtent(),g=this.sourceTileGrid_.getExtent(),m=_?Object(f.B)(d,_):d;if(0!==Object(f.u)(m)){var y=e.getExtent();y&&(g=g?Object(f.B)(g,y):y);var O=o.getResolution(this.wrappedTileCoord_[0]),x=F(e,r,Object(f.x)(m),O);if(!isFinite(x)||x<=0)this.state=b.a.EMPTY;else{var j=void 0!==l?l:v.b;if(this.triangulation_=new P(e,r,m,g,x*j),0!==this.triangulation_.getTriangles().length){this.sourceZ_=i.getZForResolution(x);var E=this.triangulation_.calculateSourceExtent();if(g&&(e.canWrapX()?(E[1]=Object(n.a)(E[1],g[1],g[3]),E[3]=Object(n.a)(E[3],g[1],g[3])):E=Object(f.B)(E,g)),Object(f.u)(E)){for(var T=i.getTileRangeForExtentAndZ(E,this.sourceZ_),S=T.minX;S<=T.maxX;S++)for(var R=T.minY;R<=T.maxY;R++){var C=u(this.sourceZ_,S,R,h);C&&this.sourceTiles_.push(C)}0===this.sourceTiles_.length&&(this.state=b.a.EMPTY)}else this.state=b.a.EMPTY}else this.state=b.a.EMPTY}}else this.state=b.a.EMPTY}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==b.a.LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,i,r){e&&e.getState()==b.a.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=b.a.ERROR;else{var e=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(e),r="number"==typeof i?i:i[0],n="number"==typeof i?i:i[1],o=this.targetTileGrid_.getResolution(e),s=this.sourceTileGrid_.getResolution(this.sourceZ_),a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=L(r,n,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),o,a,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=b.a.LOADED}this.changed()},e.prototype.load=function(){if(this.state==b.a.IDLE){this.state=b.a.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,i,r){var n=e.getState();if(n==b.a.IDLE||n==b.a.LOADING){t++;var o=Object(S.a)(e,j.a.CHANGE,function(i){var r=e.getState();r!=b.a.LOADED&&r!=b.a.ERROR&&r!=b.a.EMPTY||(Object(S.e)(o),0===--t&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(o)}}.bind(this)),this.sourceTiles_.forEach(function(t,e,i){t.getState()==b.a.IDLE&&t.load()}),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(S.e),this.sourcesListenerKeys_=null},e}(E),G=i(11),D=i(49),X=i(54),k=i(64),N=i(108),z=i(45),Y=i(92),U=i(7),K=[0,0,0],q=function(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Object(r.a)(Object(U.g)(this.resolutions_,function(t,e){return e-t},!0),17),!t.origins)for(var i=0,n=this.resolutions_.length-1;i<n;++i)if(e){if(this.resolutions_[i]/this.resolutions_[i+1]!==e){e=void 0;break}}else e=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Object(r.a)(this.origins_.length==this.resolutions_.length,20));var o=t.extent;void 0===o||this.origin_||this.origins_||(this.origin_=Object(f.C)(o)),Object(r.a)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Object(r.a)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:k.b,Object(r.a)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==o?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){return new Y.b(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):o&&this.calculateTileRanges_(o)};q.prototype.forEachTileCoord=function(t,e,i){for(var r=this.getTileRangeForExtentAndZ(t,e),n=r.minX,o=r.maxX;n<=o;++n)for(var s=r.minY,a=r.maxY;s<=a;++s)i([e,n,s])},q.prototype.forEachTileCoordParentTileRange=function(t,e,i,r,n){var o,s,a,h=null,c=t[0]-1;for(2===this.zoomFactor_?(s=t[1],a=t[2]):h=this.getTileCoordExtent(t,n);c>=this.minZoom;){if(2===this.zoomFactor_?(s=Math.floor(s/2),a=Math.floor(a/2),o=Object(Y.a)(s,s,a,a,r)):o=this.getTileRangeForExtentAndZ(h,c,r),e.call(i,c,o))return!0;--c}return!1},q.prototype.getExtent=function(){return this.extent_},q.prototype.getMaxZoom=function(){return this.maxZoom},q.prototype.getMinZoom=function(){return this.minZoom},q.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},q.prototype.getResolution=function(t){return this.resolutions_[t]},q.prototype.getResolutions=function(){return this.resolutions_},q.prototype.getTileCoordChildTileRange=function(t,e,i){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],n=2*t[2];return Object(Y.a)(r,r+1,n,n+1,e)}var o=this.getTileCoordExtent(t,i);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},q.prototype.getTileRangeExtent=function(t,e,i){var r=this.getOrigin(t),n=this.getResolution(t),o=Object(D.d)(this.getTileSize(t),this.tmpSize_),s=r[0]+e.minX*o[0]*n,a=r[0]+(e.maxX+1)*o[0]*n,h=r[1]+e.minY*o[1]*n,c=r[1]+(e.maxY+1)*o[1]*n;return Object(f.k)(s,h,a,c,i)},q.prototype.getTileRangeForExtentAndZ=function(t,e,i){var r=K;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,r);var n=r[1],o=r[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,r),Object(Y.a)(n,r[1],o,r[2],i)},q.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=Object(D.d)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*i,e[1]+(t[2]+.5)*r[1]*i]},q.prototype.getTileCoordExtent=function(t,e){var i=this.getOrigin(t[0]),r=this.getResolution(t[0]),n=Object(D.d)(this.getTileSize(t[0]),this.tmpSize_),o=i[0]+t[1]*n[0]*r,s=i[1]+t[2]*n[1]*r,a=o+n[0]*r,h=s+n[1]*r;return Object(f.k)(o,s,a,h,e)},q.prototype.getTileCoordForCoordAndResolution=function(t,e,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,i)},q.prototype.getTileCoordForXYAndResolution_=function(t,e,i,r,n){var s=this.getZForResolution(i),a=i/this.getResolution(s),h=this.getOrigin(s),c=Object(D.d)(this.getTileSize(s),this.tmpSize_),u=r?.5:0,l=r?0:.5,p=Math.floor((t-h[0])/i+u),d=Math.floor((e-h[1])/i+l),f=a*p/c[0],_=a*d/c[1];return r?(f=Math.ceil(f)-1,_=Math.ceil(_)-1):(f=Math.floor(f),_=Math.floor(_)),o(s,f,_,n)},q.prototype.getTileCoordForXYAndZ_=function(t,e,i,r,n){var s=this.getOrigin(i),a=this.getResolution(i),h=Object(D.d)(this.getTileSize(i),this.tmpSize_),c=r?.5:0,u=r?0:.5,l=Math.floor((t-s[0])/a+c),p=Math.floor((e-s[1])/a+u),d=l/h[0],f=p/h[1];return r?(d=Math.ceil(d)-1,f=Math.ceil(f)-1):(d=Math.floor(d),f=Math.floor(f)),o(i,d,f,n)},q.prototype.getTileCoordForCoordAndZ=function(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i)},q.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},q.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},q.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},q.prototype.getZForResolution=function(t,e){var i=Object(U.h)(this.resolutions_,t,e||0);return Object(n.a)(i,this.minZoom,this.maxZoom)},q.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,i=new Array(e),r=this.minZoom;r<e;++r)i[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=i};var W=q;function Z(t){var e=t.getDefaultTileGrid();return e||(e=J(t),t.setDefaultTileGrid(e)),e}function B(t){var e=t||{},i=e.extent||Object(m.d)("EPSG:3857").getExtent(),r={extent:i,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:H(i,e.maxZoom,e.tileSize)};return new W(r)}function H(t,e,i){for(var r=void 0!==e?e:k.a,n=Object(f.A)(t),o=Object(f.E)(t),s=Object(D.d)(void 0!==i?i:k.b),a=Math.max(o/s[0],n/s[1]),h=r+1,c=new Array(h),u=0;u<h;++u)c[u]=a/Math.pow(2,u);return c}function J(t,e,i,r){return function(t,e,i,r){var n=void 0!==r?r:N.a.TOP_LEFT,o=H(t,e,i);return new W({extent:t,origin:Object(f.y)(t,n),resolutions:o,tileSize:i})}(V(t),e,i,r)}function V(t){var e=(t=Object(m.d)(t)).getExtent();if(!e){var i=180*m.a[z.b.DEGREES]/t.getMetersPerUnit();e=Object(f.k)(-i,-i,i,i)}return e}var Q=function(t){function e(e){t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileCache=new I(e.cacheSize),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);i&&i.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,i,r){var n=this.getTileCacheForProjection(t);if(!n)return!1;for(var o,a,h,c=!0,u=i.minX;u<=i.maxX;++u)for(var l=i.minY;l<=i.maxY;++l)a=s(e,u,l),h=!1,n.containsKey(a)&&(h=(o=n.get(a)).getState()===b.a.LOADED)&&(h=!1!==r(o)),h||(c=!1);return c},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,i,r,n){return Object(_.b)()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:Z(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!Object(m.c)(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,i){var r=this.getTileGridForProjection(i),n=this.getTilePixelRatio(e),o=Object(D.d)(r.getTileSize(t),this.tmpSize);return 1==n?o:Object(D.c)(o,n,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var i=void 0!==e?e:this.getProjection(),r=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=function(t,e,i){var r=e[0],n=t.getTileCoordCenter(e),o=V(i);if(Object(f.f)(o,n))return e;var s=Object(f.E)(o),a=Math.ceil((o[0]-n[0])/s);return n[0]+=s*a,t.getTileCoordForCoordAndZ(n,r)}(r,t,i)),function(t,e){var i=t[0],r=t[1],n=t[2];if(e.getMinZoom()>i||i>e.getMaxZoom())return!1;var o,s=e.getExtent();return!(o=s?e.getTileRangeForExtentAndZ(s,i):e.getFullTileRange(i))||o.containsXY(r,n)}(t,r)?t:null},e.prototype.refresh=function(){this.tileCache.clear(),this.changed()},e.prototype.useTile=function(t,e,i,r){},e}(X.a),$=function(t){function e(e,i){t.call(this,e),this.tile=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(G.a),tt=Q,et="tileloadstart",it="tileloadend",rt="tileloaderror",nt=function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.generateTileUrlFunction_=!e.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,this.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(this):p,this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),e.tileUrlFunction&&this.setTileUrlFunction(e.tileUrlFunction,this.key_),this.tileLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,i=t.target,r=Object(_.c)(i),n=i.getState();n==b.a.LOADING?(this.tileLoadingKeys_[r]=!0,e=et):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],e=n==b.a.ERROR?rt:n==b.a.LOADED||n==b.a.ABORT?it:void 0),null!=e&&this.dispatchEvent(new $(e,i))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=this.urls=d(t);this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(u(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,i){var r=s(t,e,i);this.tileCache.containsKey(r)&&this.tileCache.get(r)},e}(tt);function ot(t,e){t.getImage().src=e}var st=function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:ot,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:C,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){if(!v.a)return t.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},e.prototype.expireCache=function(e,i){if(v.a){var r=this.getTileCacheForProjection(e);for(var n in this.tileCache.expireCache(this.tileCache==r?i:{}),this.tileCacheForProjection){var o=this.tileCacheForProjection[n];o.expireCache(o==r?i:{})}}else t.prototype.expireCache.call(this,e,i)},e.prototype.getGutterForProjection=function(t){return v.a&&this.getProjection()&&t&&!Object(m.c)(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(v.a&&this.getProjection()&&e&&!Object(m.c)(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(e){if(!v.a)return t.prototype.getTileGridForProjection.call(this,e);var i=this.getProjection();if(!this.tileGrid||i&&!Object(m.c)(i,e)){var r=Object(_.c)(e);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=Z(e)),this.tileGridForProjection[r]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(e){if(!v.a)return t.prototype.getTileCacheForProjection.call(this,e);var i=this.getProjection();if(!i||Object(m.c)(i,e))return this.tileCache;var r=Object(_.c)(e);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new I(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]},e.prototype.createTile_=function(t,e,i,r,n,o){var s=[t,e,i],a=this.getTileCoordForTileUrlFunction(s,n),h=a?this.tileUrlFunction(a,r,n):void 0,c=new this.tileClass(s,void 0!==h?b.a.IDLE:b.a.EMPTY,void 0!==h?h:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=o,Object(S.a)(c,j.a.CHANGE,this.handleTileChange,this),c},e.prototype.getTile=function(t,e,i,r,n){var o=this.getProjection();if(v.a&&o&&n&&!Object(m.c)(o,n)){var s,h=this.getTileCacheForProjection(n),c=[t,e,i],u=a(c);h.containsKey(u)&&(s=h.get(u));var l=this.getKey();if(s&&s.key==l)return s;var p=this.getTileGridForProjection(o),d=this.getTileGridForProjection(n),f=this.getTileCoordForTileUrlFunction(c,n),_=new M(o,p,n,d,c,f,this.getTilePixelRatio(r),this.getGutter(),function(t,e,i,r){return this.getTileInternal(t,e,i,r,o)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return _.key=l,s?(_.interimTile=s,_.refreshInterimChain(),h.replace(u,_)):h.set(u,_),_}return this.getTileInternal(t,e,i,r,o||n)},e.prototype.getTileInternal=function(t,e,i,r,n){var o=null,a=s(t,e,i),h=this.getKey();if(this.tileCache.containsKey(a)){if((o=this.tileCache.get(a)).key!=h){var c=o;o=this.createTile_(t,e,i,r,n,h),c.getState()==b.a.IDLE?o.interimTile=c.interimTile:o.interimTile=c,o.refreshInterimChain(),this.tileCache.replace(a,o)}}else o=this.createTile_(t,e,i,r,n,h),this.tileCache.set(a,o);return o},e.prototype.setRenderReprojectionEdges=function(t){if(v.a&&this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){if(v.a){var i=Object(m.d)(t);if(i){var r=Object(_.c)(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=e)}}},e}(nt),at=function(t){function e(e){var i=void 0!==e.hidpi&&e.hidpi;t.call(this,{cacheSize:e.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:Object(m.d)("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:y.a.LOADING,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:i?2:1,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition}),this.hidpi_=i,this.culture_=void 0!==e.culture?e.culture:"en-us",this.maxZoom_=void 0!==e.maxZoom?e.maxZoom:-1,this.apiKey_=e.key,this.imagerySet_=e.imagerySet,g("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+this.apiKey_+"&c="+this.culture_,this.handleImageryMetadataResponse.bind(this),void 0,"jsonp")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getApiKey=function(){return this.apiKey_},e.prototype.getImagerySet=function(){return this.imagerySet_},e.prototype.handleImageryMetadataResponse=function(t){if(200==t.statusCode&&"OK"==t.statusDescription&&"ValidCredentials"==t.authenticationResultCode&&1==t.resourceSets.length&&1==t.resourceSets[0].resources.length){var e=t.resourceSets[0].resources[0],i=-1==this.maxZoom_?e.zoomMax:this.maxZoom_,r=V(this.getProjection()),n=this.hidpi_?2:1,s=e.imageWidth==e.imageHeight?e.imageWidth/n:[e.imageWidth/n,e.imageHeight/n],a=B({extent:r,minZoom:e.zoomMin,maxZoom:i,tileSize:s});this.tileGrid=a;var h=this.culture_,c=this.hidpi_;if(this.tileUrlFunction=l(e.imageUrlSubdomains.map(function(t){var i=[0,0,0],r=e.imageUrl.replace("{subdomain}",t).replace("{culture}",h);return function(t,e,n){if(t){o(t[0],t[1],-t[2]-1,i);var s=r;return c&&(s+="&dpi=d1&device=mobile"),s.replace("{quadkey}",function(t){var e,i,r=t[0],n=new Array(r),o=1<<r-1;for(e=0;e<r;++e)i=48,t[1]&o&&(i+=1),t[2]&o&&(i+=2),n[e]=String.fromCharCode(i),o>>=1;return n.join("")}(i))}}})),e.imageryProviders){var u=Object(m.g)(Object(m.d)("EPSG:4326"),this.getProjection());this.setAttributions(function(t){var i=[],r=t.viewState,n=this.getTileGrid().getTileCoordForCoordAndResolution(r.center,r.resolution)[0];return e.imageryProviders.map(function(e){for(var r=!1,o=e.coverageAreas,s=0,a=o.length;s<a;++s){var h=o[s];if(n>=h.zoomMin&&n<=h.zoomMax){var c=h.bbox,l=[c[1],c[0],c[3],c[2]],p=Object(f.a)(l,u);if(Object(f.F)(p,t.extent)){r=!0;break}}}r&&i.push(e.attribution)}),i.push('<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'),i}.bind(this))}this.setState(y.a.READY)}else this.setState(y.a.ERROR)},e}(st),ht=i(5),ct=function(t){function e(e){var i=e||{},r=void 0!==i.projection?i.projection:"EPSG:3857",n=void 0!==i.tileGrid?i.tileGrid:B({extent:V(r),maxZoom:i.maxZoom,minZoom:i.minZoom,tileSize:i.tileSize});t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,opaque:i.opaque,projection:r,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:n,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:i.tileUrlFunction,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition,attributionsCollapsible:i.attributionsCollapsible})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(st),ut=function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,maxZoom:void 0!==e.maxZoom?e.maxZoom:18,minZoom:e.minZoom,projection:e.projection,wrapX:e.wrapX}),this.account_=e.account,this.mapId_=e.map||"",this.config_=e.config||{},this.templateCache_={},this.initializeMap_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getConfig=function(){return this.config_},e.prototype.updateConfig=function(t){Object(ht.a)(this.config_,t),this.initializeMap_()},e.prototype.setConfig=function(t){this.config_=t||{},this.initializeMap_()},e.prototype.initializeMap_=function(){var t=JSON.stringify(this.config_);if(this.templateCache_[t])this.applyTemplate_(this.templateCache_[t]);else{var e="https://"+this.account_+".carto.com/api/v1/map";this.mapId_&&(e+="/named/"+this.mapId_);var i=new XMLHttpRequest;i.addEventListener("load",this.handleInitResponse_.bind(this,t)),i.addEventListener("error",this.handleInitError_.bind(this)),i.open("POST",e),i.setRequestHeader("Content-type","application/json"),i.send(JSON.stringify(this.config_))}},e.prototype.handleInitResponse_=function(t,e){var i=e.target;if(!i.status||i.status>=200&&i.status<300){var r;try{r=JSON.parse(i.responseText)}catch(t){return void this.setState(y.a.ERROR)}this.applyTemplate_(r),this.templateCache_[t]=r,this.setState(y.a.READY)}else this.setState(y.a.ERROR)},e.prototype.handleInitError_=function(t){this.setState(y.a.ERROR)},e.prototype.applyTemplate_=function(t){var e="https://"+t.cdn_url.https+"/"+this.account_+"/api/v1/map/"+t.layergroupid+"/{z}/{x}/{y}.png";this.setUrl(e)},e}(ct),lt=i(48),pt=i(10),dt=i(18),ft=i(42),_t=i(39),gt=function(t){function e(e){t.call(this,{attributions:e.attributions,wrapX:e.wrapX}),this.resolution=void 0,this.distance=void 0!==e.distance?e.distance:20,this.features=[],this.geometryFunction=e.geometryFunction||function(t){var e=t.getGeometry();return Object(r.a)(e.getType()==pt.a.POINT,10),e},this.source=e.source,Object(S.a)(this.source,j.a.CHANGE,this.refresh,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDistance=function(){return this.distance},e.prototype.getSource=function(){return this.source},e.prototype.loadFeatures=function(t,e,i){this.source.loadFeatures(t,e,i),e!==this.resolution&&(this.clear(),this.resolution=e,this.cluster(),this.addFeatures(this.features))},e.prototype.setDistance=function(t){this.distance=t,this.refresh()},e.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features),t.prototype.refresh.call(this)},e.prototype.cluster=function(){if(void 0!==this.resolution){this.features.length=0;for(var t=Object(f.j)(),e=this.distance*this.resolution,i=this.source.getFeatures(),r={},n=0,o=i.length;n<o;n++){var s=i[n];if(!(Object(_.c)(s)in r)){var a=this.geometryFunction(s);if(a){var h=a.getCoordinates();Object(f.m)(h,t),Object(f.c)(t,e,t);var c=this.source.getFeaturesInExtent(t);c=c.filter(function(t){var e=Object(_.c)(t);return!(e in r)&&(r[e]=!0,!0)}),this.features.push(this.createCluster(c))}}}}},e.prototype.createCluster=function(t){for(var e=[0,0],i=t.length-1;i>=0;--i){var r=this.geometryFunction(t[i]);r?Object(dt.a)(e,r.getCoordinates()):t.splice(i,1)}Object(dt.g)(e,1/t.length);var n=new lt.default(new ft.default(e));return n.set("features",t),n},e}(_t.a),mt=i(30),yt=i(80),vt=function(t){function e(e,i,r,n,o,s){var a=e.getExtent(),h=i.getExtent(),c=h?Object(f.B)(r,h):r,u=F(e,i,Object(f.x)(c),n),l=v.b,p=new P(e,i,c,a,u*l),d=s(p.calculateSourceExtent(),u,o),_=mt.a.LOADED;d&&(_=mt.a.IDLE);var g=d?d.getPixelRatio():1;t.call(this,r,n,g,_),this.targetProj_=i,this.maxSourceExtent_=a,this.triangulation_=p,this.targetResolution_=n,this.targetExtent_=r,this.sourceImage_=d,this.sourcePixelRatio_=g,this.canvas_=null,this.sourceListenerKey_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==mt.a.LOADING&&this.unlistenSource_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.getProjection=function(){return this.targetProj_},e.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==mt.a.LOADED){var e=Object(f.E)(this.targetExtent_)/this.targetResolution_,i=Object(f.A)(this.targetExtent_)/this.targetResolution_;this.canvas_=L(e,i,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=t,this.changed()},e.prototype.load=function(){if(this.state==mt.a.IDLE){this.state=mt.a.LOADING,this.changed();var t=this.sourceImage_.getState();t==mt.a.LOADED||t==mt.a.ERROR?this.reproject_():(this.sourceListenerKey_=Object(S.a)(this.sourceImage_,j.a.CHANGE,function(t){var e=this.sourceImage_.getState();e!=mt.a.LOADED&&e!=mt.a.ERROR||(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},e.prototype.unlistenSource_=function(){Object(S.e)(this.sourceListenerKey_),this.sourceListenerKey_=null},e}(yt.a),bt="imageloadstart",Ot="imageloadend",xt="imageloaderror",jt=function(t){function e(e,i){t.call(this,e),this.image=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(G.a);function Et(t,e){t.getImage().src=e}var Tt=function(t){function e(e){t.call(this,{attributions:e.attributions,projection:e.projection,state:e.state}),this.resolutions_=void 0!==e.resolutions?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=Object(U.h)(this.resolutions_,t,0);t=this.resolutions_[e]}return t},e.prototype.getImage=function(t,e,i,r){var n=this.getProjection();if(v.a&&n&&r&&!Object(m.c)(n,r)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Object(m.c)(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==e&&Object(f.p)(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new vt(n,r,t,e,i,function(t,e,i){return this.getImageInternal(t,e,i,n)}.bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return n&&(r=n),this.getImageInternal(t,e,i,r)},e.prototype.getImageInternal=function(t,e,i,r){return Object(_.b)()},e.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case mt.a.LOADING:this.loading=!0,this.dispatchEvent(new jt(bt,e));break;case mt.a.LOADED:this.loading=!1,this.dispatchEvent(new jt(Ot,e));break;case mt.a.ERROR:this.loading=!1,this.dispatchEvent(new jt(xt,e))}},e}(X.a),St=function(t){function e(e,i,r,n,o,s){t.call(this,e,i,r,mt.a.IDLE),this.src_=n,this.image_=new Image,null!==o&&(this.image_.crossOrigin=o),this.imageListenerKeys_=null,this.state=mt.a.IDLE,this.imageLoadFunction_=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=mt.a.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Object(f.A)(this.extent)/this.image_.height),this.state=mt.a.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=mt.a.IDLE&&this.state!=mt.a.ERROR||(this.state=mt.a.LOADING,this.changed(),this.imageListenerKeys_=[Object(S.b)(this.image_,j.a.ERROR,this.handleImageError_,this),Object(S.b)(this.image_,j.a.LOAD,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(S.e),this.imageListenerKeys_=null},e}(yt.a);function Rt(t,e){var i=[];Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&i.push(t+"="+encodeURIComponent(e[t]))});var r=i.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+r}var Ct=function(t){function e(e){var i=e||{};t.call(this,{attributions:i.attributions,projection:i.projection,resolutions:i.resolutions}),this.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null,this.hidpi_=void 0===i.hidpi||i.hidpi,this.url_=i.url,this.imageLoadFunction_=void 0!==i.imageLoadFunction?i.imageLoadFunction:Et,this.params_=i.params||{},this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==i.ratio?i.ratio:1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,i,r){if(void 0===this.url_)return null;e=this.findNearestResolution(e),i=this.hidpi_?i:1;var n=this.image_;if(n&&this.renderedRevision_==this.getRevision()&&n.getResolution()==e&&n.getPixelRatio()==i&&Object(f.g)(n.getExtent(),t))return n;var o={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};Object(ht.a)(o,this.params_);var s=((t=t.slice())[0]+t[2])/2,a=(t[1]+t[3])/2;if(1!=this.ratio_){var h=this.ratio_*Object(f.E)(t)/2,c=this.ratio_*Object(f.A)(t)/2;t[0]=s-h,t[1]=a-c,t[2]=s+h,t[3]=a+c}var u=e/i,l=Math.ceil(Object(f.E)(t)/u),p=Math.ceil(Object(f.A)(t)/u);t[0]=s-u*l/2,t[2]=s+u*l/2,t[1]=a-u*p/2,t[3]=a+u*p/2,this.imageSize_[0]=l,this.imageSize_[1]=p;var d=this.getRequestUrl_(t,this.imageSize_,i,r,o);return this.image_=new St(t,e,i,d,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),Object(S.a)(this.image_,j.a.CHANGE,this.handleImageChange,this),this.image_},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.getRequestUrl_=function(t,e,i,n,o){var s=n.getCode().split(":").pop();o.SIZE=e[0]+","+e[1],o.BBOX=t.join(","),o.BBOXSR=s,o.IMAGESR=s,o.DPI=Math.round(90*i);var a=this.url_,h=a.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return h==a&&Object(r.a)(!1,50),Rt(h,o)},e.prototype.getUrl=function(){return this.url_},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},e.prototype.updateParams=function(t){Object(ht.a)(this.params_,t),this.image_=null,this.changed()},e}(Tt),It=i(79),Ft=function(t){function e(e){var i=e||{};t.call(this,{attributions:i.attributions,projection:i.projection,resolutions:i.resolutions,state:i.state}),this.canvasFunction_=i.canvasFunction,this.canvas_=null,this.renderedRevision_=0,this.ratio_=void 0!==i.ratio?i.ratio:1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImageInternal=function(t,e,i,r){e=this.findNearestResolution(e);var n=this.canvas_;if(n&&this.renderedRevision_==this.getRevision()&&n.getResolution()==e&&n.getPixelRatio()==i&&Object(f.g)(n.getExtent(),t))return n;t=t.slice(),Object(f.J)(t,this.ratio_);var o=[Object(f.E)(t)/e*i,Object(f.A)(t)/e*i],s=this.canvasFunction_.call(this,t,e,i,o,r);return s&&(n=new It.a(t,e,i,s)),this.canvas_=n,this.renderedRevision_=this.getRevision(),n},e}(Tt);var wt=function(t){function e(e){t.call(this,{projection:e.projection,resolutions:e.resolutions}),this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null,this.displayDpi_=void 0!==e.displayDpi?e.displayDpi:96,this.params_=e.params||{},this.url_=e.url,this.imageLoadFunction_=void 0!==e.imageLoadFunction?e.imageLoadFunction:Et,this.hidpi_=void 0===e.hidpi||e.hidpi,this.metersPerUnit_=void 0!==e.metersPerUnit?e.metersPerUnit:1,this.ratio_=void 0!==e.ratio?e.ratio:1,this.useOverlay_=void 0!==e.useOverlay&&e.useOverlay,this.image_=null,this.renderedRevision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,i,r){e=this.findNearestResolution(e),i=this.hidpi_?i:1;var n=this.image_;if(n&&this.renderedRevision_==this.getRevision()&&n.getResolution()==e&&n.getPixelRatio()==i&&Object(f.g)(n.getExtent(),t))return n;1!=this.ratio_&&(t=t.slice(),Object(f.J)(t,this.ratio_));var o=[Object(f.E)(t)/e*i,Object(f.A)(t)/e*i];if(void 0!==this.url_){var s=this.getUrl(this.url_,this.params_,t,o,r);n=new St(t,e,i,s,this.crossOrigin_,this.imageLoadFunction_),Object(S.a)(n,j.a.CHANGE,this.handleImageChange,this)}else n=null;return this.image_=n,this.renderedRevision_=this.getRevision(),n},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.updateParams=function(t){Object(ht.a)(this.params_,t),this.changed()},e.prototype.getUrl=function(t,e,i,r,n){var o=function(t,e,i,r){var n=Object(f.E)(t),o=Object(f.A)(t),s=e[0],a=e[1],h=.0254/r;return a*n>s*o?n*i/(s*h):o*i/(a*h)}(i,r,this.metersPerUnit_,this.displayDpi_),s=Object(f.x)(i),a={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol/source/ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(r[0]),SETDISPLAYHEIGHT:Math.round(r[1]),SETVIEWSCALE:o,SETVIEWCENTERX:s[0],SETVIEWCENTERY:s[1]};return Object(ht.a)(a,e),Rt(t,a)},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e}(Tt),Lt=function(t){function e(e){var i=void 0!==e.crossOrigin?e.crossOrigin:null,r=void 0!==e.imageLoadFunction?e.imageLoadFunction:Et;t.call(this,{attributions:e.attributions,projection:Object(m.d)(e.projection)}),this.url_=e.url,this.imageExtent_=e.imageExtent,this.image_=new St(this.imageExtent_,void 0,1,this.url_,i,r),this.imageSize_=e.imageSize?e.imageSize:null,Object(S.a)(this.image_,j.a.CHANGE,this.handleImageChange,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImageExtent=function(){return this.imageExtent_},e.prototype.getImageInternal=function(t,e,i,r){return Object(f.F)(t,this.image_.getExtent())?this.image_:null},e.prototype.getUrl=function(){return this.url_},e.prototype.handleImageChange=function(e){if(this.image_.getState()==mt.a.LOADED){var i,r,n=this.image_.getExtent(),o=this.image_.getImage();this.imageSize_?(i=this.imageSize_[0],r=this.imageSize_[1]):(i=o.width,r=o.height);var s=Object(f.A)(n)/r,a=Math.ceil(Object(f.E)(n)/s);if(a!=i){var h=Object(T.a)(a,r),c=h.canvas;h.drawImage(o,0,0,i,r,0,0,c.width,c.height),this.image_.setImage(c)}}t.prototype.handleImageChange.call(this,e)},e}(Tt),At="1.3.0",Pt="carmentaserver",Mt="geoserver",Gt="mapserver",Dt="qgis",Xt=i(51),kt=[101,101],Nt=function(t){function e(e){var i=e||{};t.call(this,{attributions:i.attributions,projection:i.projection,resolutions:i.resolutions}),this.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null,this.url_=i.url,this.imageLoadFunction_=void 0!==i.imageLoadFunction?i.imageLoadFunction:Et,this.params_=i.params||{},this.v13_=!0,this.updateV13_(),this.serverType_=i.serverType,this.hidpi_=void 0===i.hidpi||i.hidpi,this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==i.ratio?i.ratio:1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getGetFeatureInfoUrl=function(t,e,i,r){if(void 0!==this.url_){var n=Object(m.d)(i),o=this.getProjection();o&&o!==n&&(e=F(o,n,t,e),t=Object(m.i)(t,n,o));var s=Object(f.z)(t,e,0,kt),a={SERVICE:"WMS",VERSION:At,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(ht.a)(a,this.params_,r);var h=Math.floor((t[0]-s[0])/e),c=Math.floor((s[3]-t[1])/e);return a[this.v13_?"I":"X"]=h,a[this.v13_?"J":"Y"]=c,this.getRequestUrl_(s,kt,1,o||n,a)}},e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,i,r){if(void 0===this.url_)return null;e=this.findNearestResolution(e),1==i||this.hidpi_&&void 0!==this.serverType_||(i=1);var n=e/i,o=Object(f.x)(t),s=Math.ceil(Object(f.E)(t)/n),a=Math.ceil(Object(f.A)(t)/n),h=Object(f.z)(o,n,0,[s,a]),c=Math.ceil(this.ratio_*Object(f.E)(t)/n),u=Math.ceil(this.ratio_*Object(f.A)(t)/n),l=Object(f.z)(o,n,0,[c,u]),p=this.image_;if(p&&this.renderedRevision_==this.getRevision()&&p.getResolution()==e&&p.getPixelRatio()==i&&Object(f.g)(p.getExtent(),h))return p;var d={SERVICE:"WMS",VERSION:At,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};Object(ht.a)(d,this.params_),this.imageSize_[0]=Math.round(Object(f.E)(l)/n),this.imageSize_[1]=Math.round(Object(f.A)(l)/n);var _=this.getRequestUrl_(l,this.imageSize_,i,r,d);return this.image_=new St(l,e,i,_,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),Object(S.a)(this.image_,j.a.CHANGE,this.handleImageChange,this),this.image_},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.getRequestUrl_=function(t,e,i,n,o){if(Object(r.a)(void 0!==this.url_,9),o[this.v13_?"CRS":"SRS"]=n.getCode(),"STYLES"in this.params_||(o.STYLES=""),1!=i)switch(this.serverType_){case Mt:var s=90*i+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+s:o.FORMAT_OPTIONS="dpi:"+s;break;case Gt:o.MAP_RESOLUTION=90*i;break;case Pt:case Dt:o.DPI=90*i;break;default:Object(r.a)(!1,8)}o.WIDTH=e[0],o.HEIGHT=e[1];var a,h=n.getAxisOrientation();return a=this.v13_&&"ne"==h.substr(0,2)?[t[1],t[0],t[3],t[2]]:t,o.BBOX=a.join(","),Rt(this.url_,o)},e.prototype.getUrl=function(){return this.url_},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},e.prototype.updateParams=function(t){Object(ht.a)(this.params_,t),this.updateV13_(),this.image_=null,this.changed()},e.prototype.updateV13_=function(){var t=this.params_.VERSION||At;this.v13_=Object(Xt.a)(t,"1.3")>=0},e}(Tt),zt='&#169; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.',Yt=function(t){function e(e){var i,r=e||{};i=void 0!==r.attributions?r.attributions:[zt];var n=void 0!==r.crossOrigin?r.crossOrigin:"anonymous",o=void 0!==r.url?r.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";t.call(this,{attributions:i,cacheSize:r.cacheSize,crossOrigin:n,opaque:void 0===r.opaque||r.opaque,maxZoom:void 0!==r.maxZoom?r.maxZoom:19,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileLoadFunction:r.tileLoadFunction,url:o,wrapX:r.wrapX,attributionsCollapsible:!1})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(ct),Ut=i(104),Kt=i(112),qt=i(29),Wt=i(105),Zt=i(106),Bt=i(101),Ht=i(91),Jt=i(17),Vt="beforeoperations",Qt="afteroperations",$t={PIXEL:"pixel",IMAGE:"image"},te=function(t){function e(e,i,r){t.call(this,e),this.extent=i.extent,this.resolution=i.viewState.resolution/i.pixelRatio,this.data=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(G.a),ee=null;function ie(t,e,i){if(!t.prepareFrame(e,i))return null;var r=e.size[0],n=e.size[1];if(ee){var o=ee.canvas;o.width!==r||o.height!==n?ee=Object(T.a)(r,n):ee.clearRect(0,0,r,n)}else ee=Object(T.a)(r,n);return t.composeFrame(e,i,ee),ee.getImageData(0,0,r,n)}function re(t){var e=t,i=t,r=t,n=null;return"function"==typeof e.getTile?n=function(t){var e=new Zt.a({source:t});return new Ht.a(e)}(e):"function"==typeof i.getImage?n=function(t){var e=new Wt.a({source:t});return new Bt.a(e)}(i):r.getType()===qt.a.TILE?n=new Ht.a(r):r.getType()!=qt.a.IMAGE&&r.getType()!=qt.a.VECTOR||(n=new Bt.a(r)),n}var ne=function(t){function e(e){t.call(this,{projection:null}),this.worker_=null,this.operationType_=void 0!==e.operationType?e.operationType:$t.PIXEL,this.threads_=void 0!==e.threads?e.threads:1,this.renderers_=function(t){for(var e=t.length,i=new Array(e),r=0;r<e;++r)i[r]=re(t[r]);return i}(e.sources);for(var i=0,r=this.renderers_.length;i<r;++i)Object(S.a)(this.renderers_[i],j.a.CHANGE,this.changed,this);this.tileQueue_=new Ut.a(function(){return 1},this.changed.bind(this));for(var n=this.renderers_.map(function(t){return t.getLayer().getLayerState()}),o={},s=0,a=n.length;s<a;++s)o[Object(_.c)(n[s].layer)]=n[s];this.requestedFrameState_,this.renderedImageCanvas_=null,this.renderedRevision_,this.frameState_={animate:!1,coordinateToPixelTransform:Object(Jt.c)(),extent:null,focus:null,index:0,layerStates:o,layerStatesArray:n,pixelRatio:1,pixelToCoordinateTransform:Object(Jt.c)(),postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},void 0!==e.operation&&this.setOperation(e.operation,e.lib)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setOperation=function(t,e){this.worker_=new Kt.Processor({operation:t,imageOps:this.operationType_===$t.IMAGE,queue:1,lib:e,threads:this.threads_}),this.changed()},e.prototype.updateFrameState_=function(t,e,i){var r=Object(ht.a)({},this.frameState_);r.viewState=Object(ht.a)({},r.viewState);var n=Object(f.x)(t);r.extent=t.slice(),r.focus=n,r.size[0]=Math.round(Object(f.E)(t)/e),r.size[1]=Math.round(Object(f.A)(t)/e),r.time=Date.now(),r.animate=!1;var o=r.viewState;return o.center=n,o.projection=i,o.resolution=e,r},e.prototype.allSourcesReady_=function(){for(var t=!0,e=0,i=this.renderers_.length;e<i;++e)if(this.renderers_[e].getLayer().getSource().getState()!==y.a.READY){t=!1;break}return t},e.prototype.getImage=function(t,e,i,r){if(!this.allSourcesReady_())return null;var n=this.updateFrameState_(t,e,r);if(this.requestedFrameState_=n,this.renderedImageCanvas_){var o=this.renderedImageCanvas_.getResolution(),s=this.renderedImageCanvas_.getExtent();e===o&&Object(f.p)(t,s)||(this.renderedImageCanvas_=null)}return this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_(),n.tileQueue.loadMoreTiles(16,16),n.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_},e.prototype.processSources_=function(){for(var t=this.requestedFrameState_,e=this.renderers_.length,i=new Array(e),r=0;r<e;++r){var n=ie(this.renderers_[r],t,t.layerStatesArray[r]);if(!n)return;i[r]=n}var o={};this.dispatchEvent(new te(Vt,t,o)),this.worker_.process(i,o,this.onWorkerComplete_.bind(this,t))},e.prototype.onWorkerComplete_=function(t,e,i,r){if(!e&&i){var n=t.extent,o=t.viewState.resolution;if(o===this.requestedFrameState_.viewState.resolution&&Object(f.p)(n,this.requestedFrameState_.extent)){var s;if(this.renderedImageCanvas_)s=this.renderedImageCanvas_.getImage().getContext("2d");else{var a=Math.round(Object(f.E)(n)/o),h=Math.round(Object(f.A)(n)/o);s=Object(T.a)(a,h),this.renderedImageCanvas_=new It.a(n,o,1,s.canvas)}s.putImageData(i,0,0),this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new te(Qt,t,r))}}},e.prototype.getImageInternal=function(){return null},e}(Tt),oe=['Map tiles by <a href="https://stamen.com/">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.',zt],se={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},ae={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}},he=function(t){function e(e){var i=e.layer.indexOf("-"),r=-1==i?e.layer:e.layer.slice(0,i),n=ae[r],o=se[e.layer],s=void 0!==e.url?e.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+e.layer+"/{z}/{x}/{y}."+o.extension;t.call(this,{attributions:oe,cacheSize:e.cacheSize,crossOrigin:"anonymous",maxZoom:null!=e.maxZoom?e.maxZoom:n.maxZoom,minZoom:null!=e.minZoom?e.minZoom:n.minZoom,opaque:o.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,url:s,wrapX:e.wrapX})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(ct);function ce(t,e,i){var r=this.getTileGrid();if(r||(r=this.getTileGridForProjection(i)),!(r.getResolutions().length<=t[0])){var n=r.getTileCoordExtent(t,this.tmpExtent_),o=Object(D.d)(r.getTileSize(t[0]),this.tmpSize);1!=e&&(o=Object(D.c)(o,e,this.tmpSize));var s={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return Object(ht.a)(s,this.params_),this.getRequestUrl_(t,o,n,e,i,s)}}var ue=function(t){function e(e){var i=e||{};t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:i.tileGrid,tileLoadFunction:i.tileLoadFunction,tileUrlFunction:ce,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition}),this.params_=i.params||{},this.tmpExtent_=Object(f.j)(),this.setKey(this.getKeyForParams_())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getKeyForParams_=function(){var t=0,e=[];for(var i in this.params_)e[t++]=i+"-"+this.params_[i];return e.join("/")},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,e,i,r,o,s){var a=this.urls;if(a){var c,u=o.getCode().split(":").pop();if(s.SIZE=e[0]+","+e[1],s.BBOX=i.join(","),s.BBOXSR=u,s.IMAGESR=u,s.DPI=Math.round(s.DPI?s.DPI*r:90*r),1==a.length)c=a[0];else c=a[Object(n.d)(h(t),a.length)];return Rt(c.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),s)}},e.prototype.getTilePixelRatio=function(t){return t},e.prototype.updateParams=function(t){Object(ht.a)(this.params_,t),this.setKey(this.getKeyForParams_())},e}(st),le=function(t){function e(e,i,r){t.call(this,e,b.a.LOADED),this.tileSize_=i,this.text_=r,this.canvas_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImage=function(){if(this.canvas_)return this.canvas_;var t=this.tileSize_,e=Object(T.a)(t[0],t[1]);return e.strokeStyle="black",e.strokeRect(.5,.5,t[0]+.5,t[1]+.5),e.fillStyle="black",e.textAlign="center",e.textBaseline="middle",e.font="24px sans-serif",e.fillText(this.text_,t[0]/2,t[1]/2),this.canvas_=e.canvas,e.canvas},e.prototype.load=function(){},e}(E),pe=function(t){function e(e){t.call(this,{opaque:!1,projection:e.projection,tileGrid:e.tileGrid,wrapX:void 0===e.wrapX||e.wrapX})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getTile=function(t,e,i){var r=s(t,e,i);if(this.tileCache.containsKey(r))return this.tileCache.get(r);var n=Object(D.d)(this.tileGrid.getTileSize(t)),o=[t,e,i],a=this.getTileCoordForTileUrlFunction(o),h=a?this.getTileCoordForTileUrlFunction(a).toString():"",c=new le(o,n,h);return this.tileCache.set(r,c),c},e}(tt),de=function(t){function e(e){if(t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,projection:Object(m.d)("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:y.a.LOADING,tileLoadFunction:e.tileLoadFunction,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition}),this.tileJSON_=null,e.url)if(e.jsonp)g(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{var i=new XMLHttpRequest;i.addEventListener("load",this.onXHRLoad_.bind(this)),i.addEventListener("error",this.onXHRError_.bind(this)),i.open("GET",e.url),i.send()}else e.tileJSON?this.handleTileJSONResponse(e.tileJSON):Object(r.a)(!1,51)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var i;try{i=JSON.parse(e.responseText)}catch(t){return void this.handleTileJSONError()}this.handleTileJSONResponse(i)}else this.handleTileJSONError()},e.prototype.onXHRError_=function(t){this.handleTileJSONError()},e.prototype.getTileJSON=function(){return this.tileJSON_},e.prototype.handleTileJSONResponse=function(t){var e,i=Object(m.d)("EPSG:4326"),r=this.getProjection();if(void 0!==t.bounds){var n=Object(m.g)(i,r);e=Object(f.a)(t.bounds,n)}var o=t.minzoom||0,s=t.maxzoom||22,a=B({extent:V(r),maxZoom:s,minZoom:o});if(this.tileGrid=a,this.tileUrlFunction=u(t.tiles,a),void 0!==t.attribution&&!this.getAttributions()){var h=void 0!==e?e:i.getExtent();this.setAttributions(function(e){return Object(f.F)(h,e.extent)?[t.attribution]:null})}this.tileJSON_=t,this.setState(y.a.READY)},e.prototype.handleTileJSONError=function(){this.setState(y.a.ERROR)},e}(st);function fe(t,e,i){var r=this.getTileGrid();if(r||(r=this.getTileGridForProjection(i)),!(r.getResolutions().length<=t[0])){1==e||this.hidpi_&&void 0!==this.serverType_||(e=1);var n=r.getResolution(t[0]),o=r.getTileCoordExtent(t,this.tmpExtent_),s=Object(D.d)(r.getTileSize(t[0]),this.tmpSize),a=this.gutter_;0!==a&&(s=Object(D.a)(s,a,this.tmpSize),o=Object(f.c)(o,n*a,o)),1!=e&&(s=Object(D.c)(s,e,this.tmpSize));var h={SERVICE:"WMS",VERSION:At,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Object(ht.a)(h,this.params_),this.getRequestUrl_(t,s,o,e,i,h)}}var _e=function(t){function e(e){var i=e||{},r=i.params||{},n=!("TRANSPARENT"in r)||r.TRANSPARENT;t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,opaque:!n,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileClass:i.tileClass,tileGrid:i.tileGrid,tileLoadFunction:i.tileLoadFunction,tileUrlFunction:fe,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition}),this.gutter_=void 0!==i.gutter?i.gutter:0,this.params_=r,this.v13_=!0,this.serverType_=i.serverType,this.hidpi_=void 0===i.hidpi||i.hidpi,this.tmpExtent_=Object(f.j)(),this.updateV13_(),this.setKey(this.getKeyForParams_())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getGetFeatureInfoUrl=function(t,e,i,r){var n=Object(m.d)(i),o=this.getProjection(),s=this.getTileGrid();s||(s=this.getTileGridForProjection(n));var a=s.getTileCoordForCoordAndResolution(t,e);if(!(s.getResolutions().length<=a[0])){var h=s.getResolution(a[0]),c=s.getTileCoordExtent(a,this.tmpExtent_),u=Object(D.d)(s.getTileSize(a[0]),this.tmpSize),l=this.gutter_;0!==l&&(u=Object(D.a)(u,l,this.tmpSize),c=Object(f.c)(c,h*l,c)),o&&o!==n&&(h=F(o,n,t,h),c=Object(m.j)(c,n,o),t=Object(m.i)(t,n,o));var p={SERVICE:"WMS",VERSION:At,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(ht.a)(p,this.params_,r);var d=Math.floor((t[0]-c[0])/h),_=Math.floor((c[3]-t[1])/h);return p[this.v13_?"I":"X"]=d,p[this.v13_?"J":"Y"]=_,this.getRequestUrl_(a,u,c,1,o||n,p)}},e.prototype.getGutter=function(){return this.gutter_},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,e,i,o,s,a){var c=this.urls;if(c){if(a.WIDTH=e[0],a.HEIGHT=e[1],a[this.v13_?"CRS":"SRS"]=s.getCode(),"STYLES"in this.params_||(a.STYLES=""),1!=o)switch(this.serverType_){case Mt:var u=90*o+.5|0;"FORMAT_OPTIONS"in a?a.FORMAT_OPTIONS+=";dpi:"+u:a.FORMAT_OPTIONS="dpi:"+u;break;case Gt:a.MAP_RESOLUTION=90*o;break;case Pt:case Dt:a.DPI=90*o;break;default:Object(r.a)(!1,52)}var l,p,d=s.getAxisOrientation(),f=i;if(this.v13_&&"ne"==d.substr(0,2))l=i[0],f[0]=i[1],f[1]=l,l=i[2],f[2]=i[3],f[3]=l;if(a.BBOX=f.join(","),1==c.length)p=c[0];else p=c[Object(n.d)(h(t),c.length)];return Rt(p,a)}},e.prototype.getTilePixelRatio=function(t){return this.hidpi_&&void 0!==this.serverType_?t:1},e.prototype.getKeyForParams_=function(){var t=0,e=[];for(var i in this.params_)e[t++]=i+"-"+this.params_[i];return e.join("/")},e.prototype.updateParams=function(t){Object(ht.a)(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())},e.prototype.updateV13_=function(){var t=this.params_.VERSION||At;this.v13_=Object(Xt.a)(t,"1.3")>=0},e}(st),ge=function(t){function e(e,i,r,n,o,s){t.call(this,e,i),this.src_=r,this.extent_=n,this.preemptive_=o,this.grid_=null,this.keys_=null,this.data_=null,this.jsonp_=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImage=function(){return null},e.prototype.getData=function(t){if(!this.grid_||!this.keys_)return null;var e=(t[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0]),i=(t[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]),r=this.grid_[Math.floor((1-i)*this.grid_.length)];if("string"!=typeof r)return null;var n=r.charCodeAt(Math.floor(e*r.length));n>=93&&n--,n>=35&&n--;var o=null;if((n-=32)in this.keys_){var s=this.keys_[n];o=this.data_&&s in this.data_?this.data_[s]:s}return o},e.prototype.forDataAtCoordinate=function(t,e,i,r){this.state==b.a.IDLE&&!0===r?(Object(S.b)(this,j.a.CHANGE,function(r){e.call(i,this.getData(t))},this),this.loadInternal_()):!0===r?setTimeout(function(){e.call(i,this.getData(t))}.bind(this),0):e.call(i,this.getData(t))},e.prototype.getKey=function(){return this.src_},e.prototype.handleError_=function(){this.state=b.a.ERROR,this.changed()},e.prototype.handleLoad_=function(t){this.grid_=t.grid,this.keys_=t.keys,this.data_=t.data,this.state=b.a.EMPTY,this.changed()},e.prototype.loadInternal_=function(){if(this.state==b.a.IDLE)if(this.state=b.a.LOADING,this.jsonp_)g(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this));else{var t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this)),t.addEventListener("error",this.onXHRError_.bind(this)),t.open("GET",this.src_),t.send()}},e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var i;try{i=JSON.parse(e.responseText)}catch(t){return void this.handleError_()}this.handleLoad_(i)}else this.handleError_()},e.prototype.onXHRError_=function(t){this.handleError_()},e.prototype.load=function(){this.preemptive_&&this.loadInternal_()},e}(E),me=function(t){function e(e){if(t.call(this,{projection:Object(m.d)("EPSG:3857"),state:y.a.LOADING}),this.preemptive_=void 0===e.preemptive||e.preemptive,this.tileUrlFunction_=p,this.template_=void 0,this.jsonp_=e.jsonp||!1,e.url)if(this.jsonp_)g(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{var i=new XMLHttpRequest;i.addEventListener("load",this.onXHRLoad_.bind(this)),i.addEventListener("error",this.onXHRError_.bind(this)),i.open("GET",e.url),i.send()}else e.tileJSON?this.handleTileJSONResponse(e.tileJSON):Object(r.a)(!1,51)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var i;try{i=JSON.parse(e.responseText)}catch(t){return void this.handleTileJSONError()}this.handleTileJSONResponse(i)}else this.handleTileJSONError()},e.prototype.onXHRError_=function(t){this.handleTileJSONError()},e.prototype.getTemplate=function(){return this.template_},e.prototype.forDataAtCoordinateAndResolution=function(t,e,i,r){if(this.tileGrid){var n=this.tileGrid.getTileCoordForCoordAndResolution(t,e);this.getTile(n[0],n[1],n[2],1,this.getProjection()).forDataAtCoordinate(t,i,null,r)}else!0===r?setTimeout(function(){i(null)},0):i(null)},e.prototype.handleTileJSONError=function(){this.setState(y.a.ERROR)},e.prototype.handleTileJSONResponse=function(t){var e,i=Object(m.d)("EPSG:4326"),r=this.getProjection();if(void 0!==t.bounds){var n=Object(m.g)(i,r);e=Object(f.a)(t.bounds,n)}var o=t.minzoom||0,s=t.maxzoom||22,a=B({extent:V(r),maxZoom:s,minZoom:o});this.tileGrid=a,this.template_=t.template;var h=t.grids;if(h){if(this.tileUrlFunction_=u(h,a),void 0!==t.attribution){var c=void 0!==e?e:i.getExtent();this.setAttributions(function(e){return Object(f.F)(c,e.extent)?[t.attribution]:null})}this.setState(y.a.READY)}else this.setState(y.a.ERROR)},e.prototype.getTile=function(t,e,i,r,n){var o=s(t,e,i);if(this.tileCache.containsKey(o))return this.tileCache.get(o);var a=[t,e,i],h=this.getTileCoordForTileUrlFunction(a,n),c=this.tileUrlFunction_(h,r,n),u=new ge(a,void 0!==c?b.a.IDLE:b.a.EMPTY,void 0!==c?c:"",this.tileGrid.getTileCoordExtent(a),this.preemptive_,this.jsonp_);return this.tileCache.set(o,u),u},e.prototype.useTile=function(t,e,i){var r=s(t,e,i);this.tileCache.containsKey(r)&&this.tileCache.get(r)},e}(tt),ye=i(72),ve=i(8),be=function(t){function e(i,r,n,o,s,a,h,c,u,l,p,d,_,g,m){if(t.call(this,i,r,{transition:0}),this.context_={},this.loader_,this.replayState_={},this.sourceTiles_=l,this.tileKeys=[],this.extent=null,this.sourceRevision_=n,this.wrappedTileCoord=a,this.loadListenerKeys_=[],this.sourceTileListenerKeys_=[],a){var y=this.extent=u.getTileCoordExtent(a),v=u.getResolution(m),O=c.getZForResolution(v),x=m!=i[0],E=0;if(c.forEachTileCoord(y,O,function(t){var e=Object(f.B)(y,c.getTileCoordExtent(t)),i=c.getExtent();if(i&&(e=Object(f.B)(e,i,e)),Object(f.E)(e)/v>=.5&&Object(f.A)(e)/v>=.5){++E;var r=t.toString(),n=l[r];if(!n&&!x){var a=h(t,p,d);n=l[r]=new _(t,null==a?b.a.EMPTY:b.a.IDLE,null==a?"":a,o,s),this.sourceTileListenerKeys_.push(Object(S.a)(n,j.a.CHANGE,g))}!n||x&&n.getState()!=b.a.LOADED||(n.consumers++,this.tileKeys.push(r))}}.bind(this)),x&&E==this.tileKeys.length&&this.finishLoading_(),m<=i[0]&&this.state!=b.a.LOADED)for(;m>u.getMinZoom();){var T=new e(i,r,n,o,s,a,h,c,u,l,p,d,_,ve.c,--m);if(T.state==b.a.LOADED){this.interimTile=T;break}}}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state=b.a.ABORT,this.changed(),this.interimTile&&this.interimTile.dispose();for(var e=0,i=this.tileKeys.length;e<i;++e){var r=this.tileKeys[e],n=this.getTile(r);n.consumers--,0==n.consumers&&(delete this.sourceTiles_[r],n.dispose())}this.tileKeys.length=0,this.sourceTiles_=null,this.loadListenerKeys_.forEach(S.e),this.loadListenerKeys_.length=0,this.sourceTileListenerKeys_.forEach(S.e),this.sourceTileListenerKeys_.length=0,t.prototype.disposeInternal.call(this)},e.prototype.getContext=function(t){var e=Object(_.c)(t);return e in this.context_||(this.context_[e]=Object(T.a)()),this.context_[e]},e.prototype.getImage=function(t){return-1==this.getReplayState(t).renderedTileRevision?null:this.getContext(t).canvas},e.prototype.getReplayState=function(t){var e=Object(_.c)(t);return e in this.replayState_||(this.replayState_[e]={dirty:!1,renderedRenderOrder:null,renderedRevision:-1,renderedTileRevision:-1}),this.replayState_[e]},e.prototype.getKey=function(){return this.tileKeys.join("/")+"-"+this.sourceRevision_},e.prototype.getTile=function(t){return this.sourceTiles_[t]},e.prototype.load=function(){var t=0,e={};this.state==b.a.IDLE&&this.setState(b.a.LOADING),this.state==b.a.LOADING&&this.tileKeys.forEach(function(i){var r=this.getTile(i);if(r.state==b.a.IDLE&&(r.setLoader(this.loader_),r.load()),r.state==b.a.LOADING){var n=Object(S.a)(r,j.a.CHANGE,function(i){var n=r.getState();if(n==b.a.LOADED||n==b.a.ERROR){var o=Object(_.c)(r);n==b.a.ERROR?e[o]=!0:(--t,delete e[o]),t-Object.keys(e).length==0&&this.finishLoading_()}}.bind(this));this.loadListenerKeys_.push(n),++t}}.bind(this)),t-Object.keys(e).length==0&&setTimeout(this.finishLoading_.bind(this),0)},e.prototype.finishLoading_=function(){for(var t=this.tileKeys.length,e=0,i=t-1;i>=0;--i){var r=this.getTile(this.tileKeys[i]).getState();r!=b.a.LOADED&&--t,r==b.a.EMPTY&&++e}t==this.tileKeys.length?(this.loadListenerKeys_.forEach(S.e),this.loadListenerKeys_.length=0,this.setState(b.a.LOADED)):this.setState(e==this.tileKeys.length?b.a.EMPTY:b.a.ERROR)},e}(E);function Oe(t,e){var i=Object(ye.a)(e,t.getFormat(),t.onLoad.bind(t),t.onError.bind(t));t.setLoader(i)}var xe=[0,0,4096,4096],je=function(t){function e(e,i,r,n,o,s){t.call(this,e,i,s),this.consumers=0,this.extent_=null,this.format_=n,this.features_=null,this.loader_,this.projection_=null,this.replayGroups_={},this.tileLoadFunction_=o,this.url_=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.features_=null,this.replayGroups_={},this.state=b.a.ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getExtent=function(){return this.extent_||xe},e.prototype.getFormat=function(){return this.format_},e.prototype.getFeatures=function(){return this.features_},e.prototype.getKey=function(){return this.url_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getReplayGroup=function(t,e){return this.replayGroups_[Object(_.c)(t)+","+e]},e.prototype.load=function(){this.state==b.a.IDLE&&(this.setState(b.a.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_(null,NaN,null))},e.prototype.onLoad=function(t,e,i){this.setProjection(e),this.setFeatures(t),this.setExtent(i)},e.prototype.onError=function(){this.setState(b.a.ERROR)},e.prototype.setExtent=function(t){this.extent_=t},e.prototype.setFeatures=function(t){this.features_=t,this.setState(b.a.LOADED)},e.prototype.setProjection=function(t){this.projection_=t},e.prototype.setReplayGroup=function(t,e,i){this.replayGroups_[Object(_.c)(t)+","+e]=i},e.prototype.setLoader=function(t){this.loader_=t},e}(E),Ee=function(t){function e(e){var i=e.projection||"EPSG:3857",r=e.extent||V(i),n=e.tileGrid||B({extent:r,maxZoom:e.maxZoom||22,minZoom:e.minZoom,tileSize:e.tileSize||512});t.call(this,{attributions:e.attributions,cacheSize:void 0!==e.cacheSize?e.cacheSize:128,opaque:!1,projection:i,state:e.state,tileGrid:n,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Oe,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition}),this.format_=e.format?e.format:null,this.sourceTiles_={},this.overlaps_=null==e.overlaps||e.overlaps,this.tileClass=e.tileClass?e.tileClass:je,this.tileGrids_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.clear=function(){this.tileCache.clear(),this.sourceTiles_={}},e.prototype.getTile=function(t,e,i,r,n){var o=s(t,e,i);if(this.tileCache.containsKey(o))return this.tileCache.get(o);var a=[t,e,i],h=this.getTileCoordForTileUrlFunction(a,n),c=new be(a,null!==h?b.a.IDLE:b.a.EMPTY,this.getRevision(),this.format_,this.tileLoadFunction,h,this.tileUrlFunction,this.tileGrid,this.getTileGridForProjection(n),this.sourceTiles_,r,n,this.tileClass,this.handleTileChange.bind(this),a[0]);return this.tileCache.set(o,c),c},e.prototype.getTileGridForProjection=function(t){var e=t.getCode(),i=this.tileGrids_[e];if(!i){var r=this.tileGrid;i=this.tileGrids_[e]=J(t,void 0,r?r.getTileSize(r.getMinZoom()):void 0)}return i},e.prototype.getTilePixelRatio=function(t){return t},e.prototype.getTilePixelSize=function(t,e,i){var r=this.getTileGridForProjection(i),n=Object(D.d)(r.getTileSize(t),this.tmpSize);return[Math.round(n[0]*e),Math.round(n[1]*e)]},e}(nt),Te={KVP:"KVP",REST:"REST"};var Se=function(t){function e(e){var i=void 0!==e.requestEncoding?e.requestEncoding:Te.KVP,r=e.tileGrid,n=e.urls;void 0===n&&void 0!==e.url&&(n=d(e.url)),t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:p,urls:n,wrapX:void 0!==e.wrapX&&e.wrapX,transition:e.transition}),this.version_=void 0!==e.version?e.version:"1.0.0",this.format_=void 0!==e.format?e.format:"image/jpeg",this.dimensions_=void 0!==e.dimensions?e.dimensions:{},this.layer_=e.layer,this.matrixSet_=e.matrixSet,this.style_=e.style,this.requestEncoding_=i,this.setKey(this.getKeyForDimensions_()),n&&n.length>0&&(this.tileUrlFunction=l(n.map(Re.bind(this))))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.setTileUrlFunction(l(t.map(Re.bind(this))),e)},e.prototype.getDimensions=function(){return this.dimensions_},e.prototype.getFormat=function(){return this.format_},e.prototype.getLayer=function(){return this.layer_},e.prototype.getMatrixSet=function(){return this.matrixSet_},e.prototype.getRequestEncoding=function(){return this.requestEncoding_},e.prototype.getStyle=function(){return this.style_},e.prototype.getVersion=function(){return this.version_},e.prototype.getKeyForDimensions_=function(){var t=0,e=[];for(var i in this.dimensions_)e[t++]=i+"-"+this.dimensions_[i];return e.join("/")},e.prototype.updateDimensions=function(t){Object(ht.a)(this.dimensions_,t),this.setKey(this.getKeyForDimensions_())},e}(st);function Re(t){var e=this.requestEncoding_,i={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};e==Te.KVP&&Object(ht.a)(i,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),t=e==Te.KVP?Rt(t,i):t.replace(/\{(\w+?)\}/g,function(t,e){return e.toLowerCase()in i?i[e.toLowerCase()]:t});var r=this.tileGrid,n=this.dimensions_;return function(i,o,s){if(i){var a={TileMatrix:r.getMatrixId(i[0]),TileCol:i[1],TileRow:-i[2]-1};Object(ht.a)(a,n);var h=t;return h=e==Te.KVP?Rt(h,a):h.replace(/\{(\w+?)\}/g,function(t,e){return a[e]})}}}var Ce={DEFAULT:"default",TRUNCATED:"truncated"},Ie=function(t){function e(e,i,r,n,o,s,a){t.call(this,i,r,n,o,s,a),this.zoomifyImage_=null,this.tileSize_=Object(D.d)(e.getTileSize(i[0]))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImage=function(){if(this.zoomifyImage_)return this.zoomifyImage_;var e=t.prototype.getImage.call(this);if(this.state==b.a.LOADED){var i=this.tileSize_;if(e.width==i[0]&&e.height==i[1])return this.zoomifyImage_=e,e;var r=Object(T.a)(i[0],i[1]);return r.drawImage(e,0,0),this.zoomifyImage_=r.canvas,r.canvas}return e},e}(C),Fe=function(t){function e(e){var i=e||{},n=i.size,o=void 0!==i.tierSizeCalculation?i.tierSizeCalculation:Ce.DEFAULT,s=n[0],a=n[1],h=i.extent||[0,-n[1],n[0],0],c=[],u=i.tileSize||k.b,p=u;switch(o){case Ce.DEFAULT:for(;s>p||a>p;)c.push([Math.ceil(s/p),Math.ceil(a/p)]),p+=p;break;case Ce.TRUNCATED:for(var _=s,g=a;_>p||g>p;)c.push([Math.ceil(_/p),Math.ceil(g/p)]),_>>=1,g>>=1;break;default:Object(r.a)(!1,53)}c.push([1,1]),c.reverse();for(var m=[1],y=[0],v=1,b=c.length;v<b;v++)m.push(1<<v),y.push(c[v-1][0]*c[v-1][1]+y[v-1]);m.reverse();var O=new W({tileSize:u,extent:h,origin:Object(f.C)(h),resolutions:m}),x=i.url;x&&-1==x.indexOf("{TileGroup}")&&-1==x.indexOf("{tileIndex}")&&(x+="{TileGroup}/{z}-{x}-{y}.jpg");var j=l(d(x).map(function(t){return function(e,i,r){if(e){var n=e[0],o=e[1],s=-e[2]-1,a=o+s*c[n][0],h=O.getTileSize(n),u=Array.isArray(h)?h[0]:h,l={z:n,x:o,y:s,tileIndex:a,TileGroup:"TileGroup"+((a+y[n])/u|0)};return t.replace(/\{(\w+?)\}/g,function(t,e){return l[e]})}}})),E=Ie.bind(null,O);t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileClass:E,tileGrid:O,tileUrlFunction:j,transition:i.transition})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(st);i.d(e,"BingMaps",function(){return at}),i.d(e,"CartoDB",function(){return ut}),i.d(e,"Cluster",function(){return gt}),i.d(e,"Image",function(){return Tt}),i.d(e,"ImageArcGISRest",function(){return Ct}),i.d(e,"ImageCanvas",function(){return Ft}),i.d(e,"ImageMapGuide",function(){return wt}),i.d(e,"ImageStatic",function(){return Lt}),i.d(e,"ImageWMS",function(){return Nt}),i.d(e,"OSM",function(){return Yt}),i.d(e,"Raster",function(){return ne}),i.d(e,"Source",function(){return X.a}),i.d(e,"Stamen",function(){return he}),i.d(e,"Tile",function(){return tt}),i.d(e,"TileArcGISRest",function(){return ue}),i.d(e,"TileDebug",function(){return pe}),i.d(e,"TileImage",function(){return st}),i.d(e,"TileJSON",function(){return de}),i.d(e,"TileWMS",function(){return _e}),i.d(e,"UrlTile",function(){return nt}),i.d(e,"UTFGrid",function(){return me}),i.d(e,"Vector",function(){return _t.a}),i.d(e,"VectorTile",function(){return Ee}),i.d(e,"WMTS",function(){return Se}),i.d(e,"XYZ",function(){return ct}),i.d(e,"Zoomify",function(){return Fe})}]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvYXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2RvbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvVmlld0hpbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2Nvb3JkaW5hdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL1RpbGVTdGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvZWFzaW5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9oYXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL0ltYWdlU3RhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2xvYWRpbmdzdHJhdGVneS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1ZlY3Rvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvY29sb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL0ZlYXR1cmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3NpemUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3N0cmluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvc3RydWN0cy9SQnVzaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1ZlY3RvckV2ZW50VHlwZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1NvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvY3NzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYnVzaC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvcmVwcm9qL2NvbW1vbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvdGlsZWdyaWQvY29tbW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9jb2xvcmxpa2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2Zvcm1hdC9Gb3JtYXRUeXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9mZWF0dXJlbG9hZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWlja3NlbGVjdC9xdWlja3NlbGVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9JbW1lZGlhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9FdmVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvSW1hZ2VDYW52YXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL0ltYWdlQmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyZXIvY2FudmFzL0ludGVybWVkaWF0ZUNhbnZhcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvc3RydWN0cy9MUlVDYWNoZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL1ZlY3RvckNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlcmVyL2NhbnZhcy9UaWxlTGF5ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL1RpbGVSYW5nZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvc3RydWN0cy9Qcmlvcml0eVF1ZXVlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXJlci9NYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlcmVyL2NhbnZhcy9NYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlcmVyL0xheWVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXJlci9jYW52YXMvTGF5ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlcmVyL2NhbnZhcy9JbWFnZUxheWVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9UaWxlUXVldWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGVsd29ya3MvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhlbHdvcmtzL2xpYi9wcm9jZXNzb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGVsd29ya3MvbGliL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3RpbGVjb29yZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvdGlsZXVybGZ1bmN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9uZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL1RpbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL0ltYWdlVGlsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvVGlsZUNhY2hlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9yZXByb2ouanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3JlcHJvai9Ucmlhbmd1bGF0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9yZXByb2ovVGlsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvdGlsZWdyaWQvVGlsZUdyaWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3RpbGVncmlkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvVGlsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1RpbGVFdmVudFR5cGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9VcmxUaWxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvVGlsZUltYWdlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvQmluZ01hcHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9YWVouanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9DYXJ0b0RCLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvQ2x1c3Rlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvcmVwcm9qL0ltYWdlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL0ltYWdlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC91cmkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9JbWFnZUFyY0dJU1Jlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9JbWFnZUNhbnZhcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL0ltYWdlTWFwR3VpZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9JbWFnZVN0YXRpYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL2NvbW1vbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1dNU1NlcnZlclR5cGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9JbWFnZVdNUy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL09TTS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1Jhc3Rlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1N0YW1lbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1RpbGVBcmNHSVNSZXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvVGlsZURlYnVnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvVGlsZUpTT04uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9UaWxlV01TLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvVVRGR3JpZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvVmVjdG9ySW1hZ2VUaWxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9WZWN0b3JUaWxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvVmVjdG9yVGlsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1dNVFNSZXF1ZXN0RW5jb2RpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9XTVRTLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvWm9vbWlmeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvc291cmNlLmpzIl0sIm5hbWVzIjpbImJpbmFyeVNlYXJjaCIsImhheXN0YWNrIiwibmVlZGxlIiwib3B0X2NvbXBhcmF0b3IiLCJtaWQiLCJjbXAiLCJjb21wYXJhdG9yIiwibnVtYmVyU2FmZUNvbXBhcmVGdW5jdGlvbiIsImxvdyIsImhpZ2giLCJsZW5ndGgiLCJmb3VuZCIsImEiLCJiIiwiaW5jbHVkZXMiLCJhcnIiLCJvYmoiLCJpbmRleE9mIiwibGluZWFyRmluZE5lYXJlc3QiLCJ0YXJnZXQiLCJkaXJlY3Rpb24iLCJpIiwibiIsInJldmVyc2VTdWJBcnJheSIsImJlZ2luIiwiZW5kIiwidG1wIiwiZXh0ZW5kIiwiZGF0YSIsImV4dGVuc2lvbiIsIkFycmF5IiwiaXNBcnJheSIsInJlbW92ZSIsInNwbGljZSIsImZpbmQiLCJmdW5jIiwidmFsdWUiLCJlcXVhbHMiLCJhcnIxIiwiYXJyMiIsImxlbjEiLCJzdGFibGVTb3J0IiwiY29tcGFyZUZuYyIsImluZGV4Iiwic29ydCIsImZpbmRJbmRleCIsImV2ZXJ5IiwiZWwiLCJpZHgiLCJpc1NvcnRlZCIsIm9wdF9mdW5jIiwib3B0X3N0cmljdCIsImNvbXBhcmUiLCJjdXJyZW50VmFsIiwicmVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImQiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiY3JlYXRlQ2FudmFzQ29udGV4dDJEIiwib3B0X3dpZHRoIiwib3B0X2hlaWdodCIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIndpZHRoIiwiaGVpZ2h0IiwiZ2V0Q29udGV4dCIsInJlcGxhY2VOb2RlIiwibmV3Tm9kZSIsIm9sZE5vZGUiLCJwYXJlbnQiLCJwYXJlbnROb2RlIiwicmVwbGFjZUNoaWxkIiwicmVtb3ZlTm9kZSIsIm5vZGUiLCJyZW1vdmVDaGlsZCIsInJlbW92ZUNoaWxkcmVuIiwibGFzdENoaWxkIiwiQU5JTUFUSU5HIiwiSU5URVJBQ1RJTkciLCJhZGQiLCJjbG9zZXN0T25DaXJjbGUiLCJjbG9zZXN0T25TZWdtZW50Iiwicm90YXRlIiwic2NhbGUiLCJzcXVhcmVkRGlzdGFuY2UiLCJkaXN0YW5jZSIsInNxdWFyZWREaXN0YW5jZVRvU2VnbWVudCIsImNvb3JkaW5hdGUiLCJkZWx0YSIsImNpcmNsZSIsInIiLCJnZXRSYWRpdXMiLCJjZW50ZXIiLCJnZXRDZW50ZXIiLCJ4MCIsInkwIiwiZHgiLCJkeSIsIk1hdGgiLCJzcXJ0Iiwic2VnbWVudCIsIngiLCJ5Iiwic3RhcnQiLCJ4MSIsInkxIiwieDIiLCJ5MiIsImFsb25nIiwiY29vcmRpbmF0ZTEiLCJjb29yZGluYXRlMiIsImFuZ2xlIiwiY29zQW5nbGUiLCJjb3MiLCJzaW5BbmdsZSIsInNpbiIsImNvb3JkMSIsImNvb3JkMiIsIklETEUiLCJMT0FESU5HIiwiTE9BREVEIiwiRVJST1IiLCJFTVBUWSIsIkFCT1JUIiwiZWFzZUluIiwidCIsInBvdyIsImVhc2VPdXQiLCJpbkFuZE91dCIsImxpbmVhciIsIkZJUkVGT1giLCJTQUZBUkkiLCJXRUJLSVQiLCJNQUMiLCJERVZJQ0VfUElYRUxfUkFUSU8iLCJDQU5WQVNfTElORV9EQVNIIiwiR0VPTE9DQVRJT04iLCJUT1VDSCIsIlBPSU5URVIiLCJNU1BPSU5URVIiLCJ1YSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInRvTG93ZXJDYXNlIiwid2luZG93IiwiZGV2aWNlUGl4ZWxSYXRpbyIsImhhcyIsInNldExpbmVEYXNoIiwiZSIsImRlZmF1bHRGb250IiwiZGVmYXVsdEZpbGxTdHlsZSIsImRlZmF1bHRMaW5lQ2FwIiwiZGVmYXVsdExpbmVEYXNoIiwiZGVmYXVsdExpbmVEYXNoT2Zmc2V0IiwiZGVmYXVsdExpbmVKb2luIiwiZGVmYXVsdE1pdGVyTGltaXQiLCJkZWZhdWx0U3Ryb2tlU3R5bGUiLCJkZWZhdWx0VGV4dEFsaWduIiwiZGVmYXVsdFRleHRCYXNlbGluZSIsImRlZmF1bHRQYWRkaW5nIiwiZGVmYXVsdExpbmVXaWR0aCIsImxhYmVsQ2FjaGUiLCJjaGVja0ZvbnQiLCJtZWFzdXJlVGV4dEhlaWdodCIsIm1lYXN1cmVUZXh0V2lkdGgiLCJyb3RhdGVBdE9mZnNldCIsInJlc2V0VHJhbnNmb3JtIiwiZHJhd0ltYWdlIiwiX2Nzc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwiX2RvbV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwiX29ial9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fIiwiX3N0cnVjdHNfTFJVQ2FjaGVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyIsIl90cmFuc2Zvcm1fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyIsImNoZWNrZWRGb250cyIsIm1lYXN1cmVDb250ZXh0IiwidGV4dEhlaWdodHMiLCJpbnRlcnZhbCIsInJlZmVyZW5jZVdpZHRoIiwicmV0cmllcyIsImNoZWNrZWQiLCJzaXplIiwicmVmZXJlbmNlRm9udHMiLCJsZW4iLCJ0ZXh0IiwiaXNBdmFpbGFibGUiLCJmb250IiwiY29udGV4dCIsImdldE1lYXN1cmVDb250ZXh0Iiwid2VpZ2h0IiwiZm9udFdlaWdodCIsImF2YWlsYWJsZSIsInJlZmVyZW5jZUZvbnQiLCJtZWFzdXJlVGV4dCIsImNoZWNrIiwiZG9uZSIsIk9iamVjdCIsImNsZWFyIiwiY2xlYXJJbnRlcnZhbCIsInVuZGVmaW5lZCIsImZvbnRTcGVjIiwiZm9udEZhbWlsaWVzIiwiaWkiLCJmb250RmFtaWx5Iiwic2V0SW50ZXJ2YWwiLCJzcGFuIiwiaGVpZ2h0cyIsInRleHRDb250ZW50Iiwic3R5bGUiLCJtYXJnaW4iLCJwYWRkaW5nIiwicG9zaXRpb24iLCJsZWZ0IiwiYm9keSIsImFwcGVuZENoaWxkIiwib2Zmc2V0SGVpZ2h0Iiwicm90YXRpb24iLCJvZmZzZXRYIiwib2Zmc2V0WSIsInRyYW5zbGF0ZSIsInRyYW5zZm9ybSIsIm9wYWNpdHkiLCJpbWFnZSIsIm9yaWdpblgiLCJvcmlnaW5ZIiwidyIsImgiLCJhbHBoYSIsImdsb2JhbEFscGhhIiwic2V0VHJhbnNmb3JtIiwiYXBwbHkiLCJsb2FkaW5nc3RyYXRlZ3lfYWxsIiwiZXh0ZW50IiwicmVzb2x1dGlvbiIsIkluZmluaXR5IiwiVmVjdG9yU291cmNlRXZlbnQiLCJFdmVudCIsInR5cGUiLCJvcHRfZmVhdHVyZSIsImNhbGwiLCJ0aGlzIiwiZmVhdHVyZSIsIl9fcHJvdG9fXyIsInByb3RvdHlwZSIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwiVmVjdG9yX1ZlY3RvclNvdXJjZSIsIlNvdXJjZSIsIlZlY3RvclNvdXJjZSIsIm9wdF9vcHRpb25zIiwib3B0aW9ucyIsImF0dHJpYnV0aW9ucyIsInByb2plY3Rpb24iLCJzdGF0ZSIsIlN0YXRlIiwiUkVBRFkiLCJ3cmFwWCIsImxvYWRlcl8iLCJmdW5jdGlvbnMiLCJmb3JtYXRfIiwiZm9ybWF0Iiwib3ZlcmxhcHNfIiwib3ZlcmxhcHMiLCJ1cmxfIiwidXJsIiwibG9hZGVyIiwiYXNzZXJ0cyIsImZlYXR1cmVsb2FkZXIiLCJzdHJhdGVneV8iLCJzdHJhdGVneSIsImNvbGxlY3Rpb24iLCJmZWF0dXJlcyIsInVzZVNwYXRpYWxJbmRleCIsImZlYXR1cmVzUnRyZWVfIiwiUkJ1c2giLCJsb2FkZWRFeHRlbnRzUnRyZWVfIiwibnVsbEdlb21ldHJ5RmVhdHVyZXNfIiwiaWRJbmRleF8iLCJ1bmRlZklkSW5kZXhfIiwiZmVhdHVyZUNoYW5nZUtleXNfIiwiZmVhdHVyZXNDb2xsZWN0aW9uXyIsImdldEFycmF5IiwiQ29sbGVjdGlvbiIsImFkZEZlYXR1cmVzSW50ZXJuYWwiLCJiaW5kRmVhdHVyZXNDb2xsZWN0aW9uXyIsImFkZEZlYXR1cmUiLCJhZGRGZWF0dXJlSW50ZXJuYWwiLCJjaGFuZ2VkIiwiZmVhdHVyZUtleSIsInV0aWwiLCJhZGRUb0luZGV4XyIsInNldHVwQ2hhbmdlRXZlbnRzXyIsImdlb21ldHJ5IiwiZ2V0R2VvbWV0cnkiLCJnZXRFeHRlbnQiLCJpbnNlcnQiLCJkaXNwYXRjaEV2ZW50IiwiVmVjdG9yRXZlbnRUeXBlIiwiQURERkVBVFVSRSIsImV2ZW50cyIsIkV2ZW50VHlwZSIsIkNIQU5HRSIsImhhbmRsZUZlYXR1cmVDaGFuZ2VfIiwiT2JqZWN0RXZlbnRUeXBlIiwiUFJPUEVSVFlDSEFOR0UiLCJ2YWxpZCIsImlkIiwiZ2V0SWQiLCJ0b1N0cmluZyIsImFkZEZlYXR1cmVzIiwiZXh0ZW50cyIsIm5ld0ZlYXR1cmVzIiwiZ2VvbWV0cnlGZWF0dXJlcyIsInB1c2giLCJpJDEiLCJsZW5ndGgkMSIsImZlYXR1cmUkMSIsImZlYXR1cmVLZXkkMSIsImxvYWQiLCJpJDIiLCJsZW5ndGgkMiIsIm1vZGlmeWluZ0NvbGxlY3Rpb24iLCJldnQiLCJSRU1PVkVGRUFUVVJFIiwiQ29sbGVjdGlvbkV2ZW50VHlwZSIsIkFERCIsIlJFTU9WRSIsInJlbW92ZUZlYXR1cmUiLCJvcHRfZmFzdCIsImZlYXR1cmVJZCIsImZvckVhY2giLCJyZW1vdmVGZWF0dXJlSW50ZXJuYWwiLCJjbGVhckV2ZW50IiwiQ0xFQVIiLCJmb3JFYWNoRmVhdHVyZSIsImNhbGxiYWNrIiwiZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGVEaXJlY3QiLCJmb3JFYWNoRmVhdHVyZUluRXh0ZW50IiwiaW50ZXJzZWN0c0Nvb3JkaW5hdGUiLCJmb3JFYWNoSW5FeHRlbnQiLCJmb3JFYWNoRmVhdHVyZUludGVyc2VjdGluZ0V4dGVudCIsImludGVyc2VjdHNFeHRlbnQiLCJyZXN1bHQiLCJnZXRGZWF0dXJlc0NvbGxlY3Rpb24iLCJnZXRGZWF0dXJlcyIsImdldEFsbCIsIm9sX29iaiIsImFycmF5IiwiZ2V0RmVhdHVyZXNBdENvb3JkaW5hdGUiLCJnZXRGZWF0dXJlc0luRXh0ZW50IiwiZ2V0SW5FeHRlbnQiLCJnZXRDbG9zZXN0RmVhdHVyZVRvQ29vcmRpbmF0ZSIsIm9wdF9maWx0ZXIiLCJjbG9zZXN0RmVhdHVyZSIsImNsb3Nlc3RQb2ludCIsIk5hTiIsIm1pblNxdWFyZWREaXN0YW5jZSIsImZpbHRlciIsInByZXZpb3VzTWluU3F1YXJlZERpc3RhbmNlIiwiY2xvc2VzdFBvaW50WFkiLCJtaW5EaXN0YW5jZSIsIm9wdF9leHRlbnQiLCJnZXRGZWF0dXJlQnlJZCIsImdldEZvcm1hdCIsImdldE92ZXJsYXBzIiwiZ2V0VXJsIiwiZXZlbnQiLCJ1cGRhdGUiLCJzaWQiLCJyZW1vdmVGcm9tSWRJbmRleF8iLCJDSEFOR0VGRUFUVVJFIiwiaGFzRmVhdHVyZSIsImlzRW1wdHkiLCJsb2FkRmVhdHVyZXMiLCJ0aGlzJDEiLCJsb2FkZWRFeHRlbnRzUnRyZWUiLCJleHRlbnRzVG9Mb2FkIiwibG9hZGluZyIsImxvb3AiLCJleHRlbnRUb0xvYWQiLCJvYmplY3QiLCJvbF9leHRlbnQiLCJzbGljZSIsInJlbW92ZUxvYWRlZEV4dGVudCIsInJlbW92ZWQiLCJzZXRMb2FkZXIiLCJzb3VyY2VfU291cmNlIiwiYXNTdHJpbmciLCJhc0FycmF5IiwiX2Fzc2VydHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsIl9tYXRoX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJIRVhfQ09MT1JfUkVfIiwiTkFNRURfQ09MT1JfUkVfIiwiY29sb3IiLCJjYWNoZSIsImNhY2hlU2l6ZSIsImZyb21TdHJpbmciLCJzIiwiaGFzT3duUHJvcGVydHkiLCJrZXkiLCJnIiwiZXhlYyIsInJnYiIsImdldENvbXB1dGVkU3R5bGUiLCJmcm9tTmFtZWQiLCJoYXNBbHBoYSIsInBhcnNlSW50Iiwic3Vic3RyIiwibm9ybWFsaXplIiwic3BsaXQiLCJtYXAiLCJOdW1iZXIiLCJmcm9tU3RyaW5nSW50ZXJuYWxfIiwiY3JlYXRlU3R5bGVGdW5jdGlvbiIsIl9ldmVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsIl9ldmVudHNfRXZlbnRUeXBlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18iLCJfT2JqZWN0X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18iLCJGZWF0dXJlIiwiQmFzZU9iamVjdCIsIm9wdF9nZW9tZXRyeU9yUHJvcGVydGllcyIsImlkXyIsImdlb21ldHJ5TmFtZV8iLCJzdHlsZV8iLCJzdHlsZUZ1bmN0aW9uXyIsImdlb21ldHJ5Q2hhbmdlS2V5XyIsImhhbmRsZUdlb21ldHJ5Q2hhbmdlZF8iLCJnZXRTaW1wbGlmaWVkR2VvbWV0cnkiLCJzZXRHZW9tZXRyeSIsInByb3BlcnRpZXMiLCJzZXRQcm9wZXJ0aWVzIiwiY2xvbmUiLCJnZXRQcm9wZXJ0aWVzIiwic2V0R2VvbWV0cnlOYW1lIiwiZ2V0R2VvbWV0cnlOYW1lIiwiZ2V0U3R5bGUiLCJzZXRTdHlsZSIsImdldCIsImdldFN0eWxlRnVuY3Rpb24iLCJoYW5kbGVHZW9tZXRyeUNoYW5nZV8iLCJzZXQiLCJzZXRJZCIsIm5hbWUiLCJzdHlsZXMiLCJnZXRaSW5kZXgiLCJidWZmZXIiLCJudW0iLCJvcHRfc2l6ZSIsImhhc0FyZWEiLCJyYXRpbyIsInRvU2l6ZSIsInBhZE51bWJlciIsIm51bWJlciIsIm9wdF9wcmVjaXNpb24iLCJudW1iZXJTdHJpbmciLCJ0b0ZpeGVkIiwiZGVjaW1hbCIsImpvaW4iLCJjb21wYXJlVmVyc2lvbnMiLCJ2MSIsInYyIiwiczEiLCJzMiIsIm1heCIsIm4xIiwibjIiLCJfdXRpbF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwicmJ1c2hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsInJidXNoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCIsIl9leHRlbnRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyIsIl9vYmpfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyIsIm9wdF9tYXhFbnRyaWVzIiwicmJ1c2hfIiwiaXRlbXNfIiwiaXRlbSIsIm1pblgiLCJtaW5ZIiwibWF4WCIsIm1heFkiLCJ2YWx1ZXMiLCJpdGVtcyIsImwiLCJ1aWQiLCJiYm94IiwiYWxsIiwic2VhcmNoIiwib3B0X3RoaXMiLCJmb3JFYWNoXyIsInRvSlNPTiIsImNvbmNhdCIsInJidXNoIiwiX09iamVjdF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwiX3Byb2pfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyIsIl9TdGF0ZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fIiwicHJvamVjdGlvbl8iLCJhdHRyaWJ1dGlvbnNfIiwiYWRhcHRBdHRyaWJ1dGlvbnMiLCJhdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZV8iLCJhdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZSIsInN0YXRlXyIsIndyYXBYXyIsImdldEF0dHJpYnV0aW9ucyIsImdldEF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlIiwiZ2V0UHJvamVjdGlvbiIsImdldFJlc29sdXRpb25zIiwiZ2V0U3RhdGUiLCJnZXRXcmFwWCIsInJlZnJlc2giLCJzZXRBdHRyaWJ1dGlvbnMiLCJzZXRTdGF0ZSIsImF0dHJpYnV0aW9uTGlrZSIsImZyYW1lU3RhdGUiLCJDTEFTU19ISURERU4iLCJDTEFTU19VTlNFTEVDVEFCTEUiLCJDTEFTU19DT05UUk9MIiwiQ0xBU1NfQ09MTEFQU0VEIiwiZ2V0Rm9udEZhbWlsaWVzIiwiZmFtaWx5IiwibW9kdWxlIiwiZXhwb3J0cyIsImRlZmF1bHQiLCJxdWlja3NlbGVjdCIsIm1heEVudHJpZXMiLCJfbWF4RW50cmllcyIsIl9taW5FbnRyaWVzIiwiY2VpbCIsIl9pbml0Rm9ybWF0IiwiZmluZEl0ZW0iLCJlcXVhbHNGbiIsImNhbGNCQm94IiwidG9CQm94IiwiZGlzdEJCb3giLCJjaGlsZHJlbiIsImsiLCJwIiwiZGVzdE5vZGUiLCJjcmVhdGVOb2RlIiwiY2hpbGQiLCJsZWFmIiwibWluIiwiY29tcGFyZU5vZGVNaW5YIiwiY29tcGFyZU5vZGVNaW5ZIiwiYmJveEFyZWEiLCJiYm94TWFyZ2luIiwiY29udGFpbnMiLCJpbnRlcnNlY3RzIiwibXVsdGlTZWxlY3QiLCJyaWdodCIsInN0YWNrIiwicG9wIiwiX2FsbCIsImNoaWxkQkJveCIsIm5vZGVzVG9TZWFyY2giLCJjb2xsaWRlcyIsIl9idWlsZCIsIl9zcGxpdFJvb3QiLCJ0bXBOb2RlIiwiX2luc2VydCIsImdvaW5nVXAiLCJwYXRoIiwiaW5kZXhlcyIsIl9jb25kZW5zZSIsImNvbXBhcmVNaW5YIiwiY29tcGFyZU1pblkiLCJmcm9tSlNPTiIsIk4iLCJNIiwibG9nIiwiaiIsInJpZ2h0MiIsInJpZ2h0MyIsIk4yIiwiTjEiLCJfY2hvb3NlU3VidHJlZSIsImxldmVsIiwidGFyZ2V0Tm9kZSIsImFyZWEiLCJlbmxhcmdlbWVudCIsIm1pbkFyZWEiLCJtaW5FbmxhcmdlbWVudCIsImlzTm9kZSIsImluc2VydFBhdGgiLCJfc3BsaXQiLCJfYWRqdXN0UGFyZW50QkJveGVzIiwibSIsIl9jaG9vc2VTcGxpdEF4aXMiLCJzcGxpdEluZGV4IiwiX2Nob29zZVNwbGl0SW5kZXgiLCJiYm94MSIsImJib3gyIiwib3ZlcmxhcCIsIm1pbk92ZXJsYXAiLCJfYWxsRGlzdE1hcmdpbiIsImxlZnRCQm94IiwicmlnaHRCQm94Iiwic2libGluZ3MiLCJjb21wYXJlQXJyIiwiRnVuY3Rpb24iLCJFUlJPUl9USFJFU0hPTEQiLCJFTkFCTEVfUkFTVEVSX1JFUFJPSkVDVElPTiIsIkRFRkFVTFRfTUFYX1pPT00iLCJERUZBVUxUX1RJTEVfU0laRSIsImFzQ29sb3JMaWtlIiwiX2NvbG9yX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJGb3JtYXRUeXBlIiwiQVJSQVlfQlVGRkVSIiwiSlNPTiIsIlRFWFQiLCJYTUwiLCJsb2FkRmVhdHVyZXNYaHIiLCJzdWNjZXNzIiwiZmFpbHVyZSIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsImdldFR5cGUiLCJyZXNwb25zZVR5cGUiLCJvbmxvYWQiLCJzdGF0dXMiLCJzb3VyY2UiLCJyZXNwb25zZVRleHQiLCJyZXNwb25zZVhNTCIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsInJlYWRGZWF0dXJlcyIsImZlYXR1cmVQcm9qZWN0aW9uIiwicmVhZFByb2plY3Rpb24iLCJnZXRMYXN0RXh0ZW50IiwiYmluZCIsIm9uZXJyb3IiLCJzZW5kIiwiZmVhdHVyZWxvYWRlcl94aHIiLCJkYXRhUHJvamVjdGlvbiIsInN3YXAiLCJkZWZhdWx0Q29tcGFyZSIsInF1aWNrc2VsZWN0U3RlcCIsInoiLCJleHAiLCJzZCIsIm5ld0xlZnQiLCJmbG9vciIsIm5ld1JpZ2h0IiwiZmFjdG9yeSIsIl9hcnJheV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwiX2NvbG9ybGlrZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwiX2dlb21fR2VvbWV0cnlUeXBlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18iLCJfZ2VvbV9TaW1wbGVHZW9tZXRyeV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fIiwiX2dlb21fZmxhdF90cmFuc2Zvcm1fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyIsIl9oYXNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyIsIl9WZWN0b3JDb250ZXh0X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X18iLCJfY2FudmFzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X18iLCJfdHJhbnNmb3JtX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X18iLCJDYW52YXNJbW1lZGlhdGVSZW5kZXJlciIsIlZlY3RvckNvbnRleHQiLCJwaXhlbFJhdGlvIiwidmlld1JvdGF0aW9uIiwiY29udGV4dF8iLCJwaXhlbFJhdGlvXyIsImV4dGVudF8iLCJ0cmFuc2Zvcm1fIiwidmlld1JvdGF0aW9uXyIsImNvbnRleHRGaWxsU3RhdGVfIiwiY29udGV4dFN0cm9rZVN0YXRlXyIsImNvbnRleHRUZXh0U3RhdGVfIiwiZmlsbFN0YXRlXyIsInN0cm9rZVN0YXRlXyIsImltYWdlXyIsImltYWdlQW5jaG9yWF8iLCJpbWFnZUFuY2hvcllfIiwiaW1hZ2VIZWlnaHRfIiwiaW1hZ2VPcGFjaXR5XyIsImltYWdlT3JpZ2luWF8iLCJpbWFnZU9yaWdpbllfIiwiaW1hZ2VSb3RhdGVXaXRoVmlld18iLCJpbWFnZVJvdGF0aW9uXyIsImltYWdlU2NhbGVfIiwiaW1hZ2VXaWR0aF8iLCJ0ZXh0XyIsInRleHRPZmZzZXRYXyIsInRleHRPZmZzZXRZXyIsInRleHRSb3RhdGVXaXRoVmlld18iLCJ0ZXh0Um90YXRpb25fIiwidGV4dFNjYWxlXyIsInRleHRGaWxsU3RhdGVfIiwidGV4dFN0cm9rZVN0YXRlXyIsInRleHRTdGF0ZV8iLCJwaXhlbENvb3JkaW5hdGVzXyIsInRtcExvY2FsVHJhbnNmb3JtXyIsImRyYXdJbWFnZXNfIiwiZmxhdENvb3JkaW5hdGVzIiwib2Zmc2V0Iiwic3RyaWRlIiwicGl4ZWxDb29yZGluYXRlcyIsImxvY2FsVHJhbnNmb3JtIiwiY2VudGVyWCIsImNlbnRlclkiLCJkcmF3VGV4dF8iLCJzZXRDb250ZXh0RmlsbFN0YXRlXyIsInNldENvbnRleHRTdHJva2VTdGF0ZV8iLCJzZXRDb250ZXh0VGV4dFN0YXRlXyIsInN0cm9rZVRleHQiLCJmaWxsVGV4dCIsIm1vdmVUb0xpbmVUb18iLCJjbG9zZSIsIm1vdmVUbyIsImxpbmVUbyIsImNsb3NlUGF0aCIsImRyYXdSaW5nc18iLCJlbmRzIiwiZHJhd0NpcmNsZSIsInJhZGl1cyIsImJlZ2luUGF0aCIsImFyYyIsIlBJIiwiZmlsbCIsInN0cm9rZSIsInNldEZpbGxTdHJva2VTdHlsZSIsImdldEZpbGwiLCJnZXRTdHJva2UiLCJzZXRJbWFnZVN0eWxlIiwiZ2V0SW1hZ2UiLCJzZXRUZXh0U3R5bGUiLCJnZXRUZXh0IiwiZHJhd0dlb21ldHJ5IiwiUE9JTlQiLCJkcmF3UG9pbnQiLCJMSU5FX1NUUklORyIsImRyYXdMaW5lU3RyaW5nIiwiUE9MWUdPTiIsImRyYXdQb2x5Z29uIiwiTVVMVElfUE9JTlQiLCJkcmF3TXVsdGlQb2ludCIsIk1VTFRJX0xJTkVfU1RSSU5HIiwiZHJhd011bHRpTGluZVN0cmluZyIsIk1VTFRJX1BPTFlHT04iLCJkcmF3TXVsdGlQb2x5Z29uIiwiR0VPTUVUUllfQ09MTEVDVElPTiIsImRyYXdHZW9tZXRyeUNvbGxlY3Rpb24iLCJDSVJDTEUiLCJkcmF3RmVhdHVyZSIsImdldEdlb21ldHJ5RnVuY3Rpb24iLCJnZW9tZXRyaWVzIiwiZ2V0R2VvbWV0cmllc0FycmF5IiwiZ2V0RmxhdENvb3JkaW5hdGVzIiwiZ2V0U3RyaWRlIiwiZmxhdE1pZHBvaW50IiwiZ2V0RmxhdE1pZHBvaW50IiwiZ2VvbWV0cnlFeHRlbnQiLCJnZXRFbmRzIiwiZmxhdE1pZHBvaW50cyIsImdldEZsYXRNaWRwb2ludHMiLCJnZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcyIsImZsYXRJbnRlcmlvclBvaW50IiwiZ2V0RmxhdEludGVyaW9yUG9pbnQiLCJlbmRzcyIsImdldEVuZHNzIiwiZmxhdEludGVyaW9yUG9pbnRzIiwiZ2V0RmxhdEludGVyaW9yUG9pbnRzIiwiZmlsbFN0YXRlIiwiY29udGV4dEZpbGxTdGF0ZSIsImZpbGxTdHlsZSIsInN0cm9rZVN0YXRlIiwiY29udGV4dFN0cm9rZVN0YXRlIiwibGluZUNhcCIsImxpbmVEYXNoIiwibGluZURhc2hPZmZzZXQiLCJsaW5lSm9pbiIsImxpbmVXaWR0aCIsIm1pdGVyTGltaXQiLCJzdHJva2VTdHlsZSIsInRleHRTdGF0ZSIsImNvbnRleHRUZXh0U3RhdGUiLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsU3R5bGVDb2xvciIsImdldENvbG9yIiwic3Ryb2tlU3R5bGVDb2xvciIsInN0cm9rZVN0eWxlTGluZUNhcCIsImdldExpbmVDYXAiLCJzdHJva2VTdHlsZUxpbmVEYXNoIiwiZ2V0TGluZURhc2giLCJzdHJva2VTdHlsZUxpbmVEYXNoT2Zmc2V0IiwiZ2V0TGluZURhc2hPZmZzZXQiLCJzdHJva2VTdHlsZUxpbmVKb2luIiwiZ2V0TGluZUpvaW4iLCJzdHJva2VTdHlsZVdpZHRoIiwiZ2V0V2lkdGgiLCJzdHJva2VTdHlsZU1pdGVyTGltaXQiLCJnZXRNaXRlckxpbWl0IiwiaW1hZ2VTdHlsZSIsImltYWdlQW5jaG9yIiwiZ2V0QW5jaG9yIiwiaW1hZ2VJbWFnZSIsImltYWdlT3JpZ2luIiwiZ2V0T3JpZ2luIiwiaW1hZ2VTaXplIiwiZ2V0U2l6ZSIsImdldE9wYWNpdHkiLCJnZXRSb3RhdGVXaXRoVmlldyIsImdldFJvdGF0aW9uIiwiZ2V0U2NhbGUiLCJ0ZXh0U3R5bGUiLCJ0ZXh0RmlsbFN0eWxlIiwidGV4dEZpbGxTdHlsZUNvbG9yIiwidGV4dFN0cm9rZVN0eWxlIiwidGV4dFN0cm9rZVN0eWxlQ29sb3IiLCJ0ZXh0U3Ryb2tlU3R5bGVMaW5lQ2FwIiwidGV4dFN0cm9rZVN0eWxlTGluZURhc2giLCJ0ZXh0U3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldCIsInRleHRTdHJva2VTdHlsZUxpbmVKb2luIiwidGV4dFN0cm9rZVN0eWxlV2lkdGgiLCJ0ZXh0U3Ryb2tlU3R5bGVNaXRlckxpbWl0IiwidGV4dEZvbnQiLCJnZXRGb250IiwidGV4dE9mZnNldFgiLCJnZXRPZmZzZXRYIiwidGV4dE9mZnNldFkiLCJnZXRPZmZzZXRZIiwidGV4dFJvdGF0ZVdpdGhWaWV3IiwidGV4dFJvdGF0aW9uIiwidGV4dFNjYWxlIiwidGV4dFRleHQiLCJ0ZXh0VGV4dEFsaWduIiwiZ2V0VGV4dEFsaWduIiwidGV4dFRleHRCYXNlbGluZSIsImdldFRleHRCYXNlbGluZSIsIlJlbmRlckV2ZW50Iiwib3B0X3ZlY3RvckNvbnRleHQiLCJvcHRfZnJhbWVTdGF0ZSIsIm9wdF9jb250ZXh0Iiwib3B0X2dsQ29udGV4dCIsInZlY3RvckNvbnRleHQiLCJnbENvbnRleHQiLCJfSW1hZ2VCYXNlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfSW1hZ2VTdGF0ZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwiSW1hZ2VDYW52YXMiLCJJbWFnZUJhc2UiLCJvcHRfbG9hZGVyIiwiY2FudmFzXyIsImVycm9yXyIsImdldEVycm9yIiwiaGFuZGxlTG9hZF8iLCJlcnIiLCJfZXZlbnRzX1RhcmdldF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwiRXZlbnRUYXJnZXQiLCJnZXRQaXhlbFJhdGlvIiwiZ2V0UmVzb2x1dGlvbiIsIl9jb29yZGluYXRlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJfZG9tX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18iLCJfZXh0ZW50X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18iLCJfTGF5ZXJfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyIsIl90cmFuc2Zvcm1fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyIsIkludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyIiwiQ2FudmFzTGF5ZXJSZW5kZXJlciIsImxheWVyIiwiY29vcmRpbmF0ZVRvQ2FudmFzUGl4ZWxUcmFuc2Zvcm0iLCJoaXRDYW52YXNDb250ZXh0XyIsImNvbXBvc2VGcmFtZSIsImxheWVyU3RhdGUiLCJwcmVDb21wb3NlIiwiY2xpcHBlZCIsImNsaXAiLCJpbWFnZVRyYW5zZm9ybSIsImdldEltYWdlVHJhbnNmb3JtIiwiZHciLCJkaCIsInJvdW5kIiwicmVzdG9yZSIsInBvc3RDb21wb3NlIiwiZm9yRWFjaExheWVyQXRDb29yZGluYXRlIiwiaGl0VG9sZXJhbmNlIiwidGhpc0FyZyIsInBpeGVsIiwidmlld1N0YXRlIiwicmVuZGVyZWRSZXNvbHV0aW9uIiwiY2xlYXJSZWN0IiwiaW1hZ2VEYXRhIiwiZ2V0SW1hZ2VEYXRhIiwiZ2V0TGF5ZXIiLCJMUlVDYWNoZSIsIm9wdF9oaWdoV2F0ZXJNYXJrIiwiaGlnaFdhdGVyTWFyayIsImNvdW50XyIsImVudHJpZXNfIiwib2xkZXN0XyIsIm5ld2VzdF8iLCJjYW5FeHBpcmVDYWNoZSIsImdldENvdW50IiwiY29udGFpbnNLZXkiLCJmIiwiZW50cnkiLCJ2YWx1ZV8iLCJrZXlfIiwibmV3ZXIiLCJvbGRlciIsImdldEtleXMiLCJrZXlzIiwiZ2V0VmFsdWVzIiwicGVla0xhc3QiLCJwZWVrTGFzdEtleSIsInBlZWtGaXJzdEtleSIsInJlcGxhY2UiLCJzZXRTaXplIiwicHJ1bmUiLCJkcmF3Q3VzdG9tIiwicmVuZGVyZXIiLCJjaXJjbGVHZW9tZXRyeSIsImdlb21ldHJ5Q29sbGVjdGlvbkdlb21ldHJ5IiwibGluZVN0cmluZ0dlb21ldHJ5IiwibXVsdGlMaW5lU3RyaW5nR2VvbWV0cnkiLCJtdWx0aVBvaW50R2VvbWV0cnkiLCJtdWx0aVBvbHlnb25HZW9tZXRyeSIsInBvaW50R2VvbWV0cnkiLCJwb2x5Z29uR2VvbWV0cnkiLCJkcmF3VGV4dCIsIm9wdF9kZWNsdXR0ZXJHcm91cCIsIl9MYXllclR5cGVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsIl9UaWxlUmFuZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyIsIl9UaWxlU3RhdGVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyIsIl9WaWV3SGludF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fIiwiX2RvbV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fIiwiX2V4dGVudF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fIiwiX0ludGVybWVkaWF0ZUNhbnZhc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fIiwiX3RyYW5zZm9ybV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fIiwiQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIiLCJ0aWxlTGF5ZXIiLCJvcHRfbm9Db250ZXh0Iiwib3ZlcnNhbXBsaW5nXyIsInJlbmRlcmVkRXh0ZW50XyIsInJlbmRlcmVkUmV2aXNpb24iLCJyZW5kZXJlZFRpbGVzIiwibmV3VGlsZXNfIiwidG1wRXh0ZW50IiwidG1wVGlsZVJhbmdlXyIsImltYWdlVHJhbnNmb3JtXyIsInpEaXJlY3Rpb24iLCJpc0RyYXdhYmxlVGlsZV8iLCJ0aWxlIiwidGlsZVN0YXRlIiwidXNlSW50ZXJpbVRpbGVzT25FcnJvciIsImdldFVzZUludGVyaW1UaWxlc09uRXJyb3IiLCJnZXRUaWxlIiwiZ2V0U291cmNlIiwiZ2V0UHJlbG9hZCIsImdldEludGVyaW1UaWxlIiwicHJlcGFyZUZyYW1lIiwidmlld1Jlc29sdXRpb24iLCJ2aWV3Q2VudGVyIiwidGlsZVNvdXJjZSIsInNvdXJjZVJldmlzaW9uIiwiZ2V0UmV2aXNpb24iLCJ0aWxlR3JpZCIsImdldFRpbGVHcmlkRm9yUHJvamVjdGlvbiIsImdldFpGb3JSZXNvbHV0aW9uIiwidGlsZVJlc29sdXRpb24iLCJvdmVyc2FtcGxpbmciLCJ0aWxlUmFuZ2UiLCJnZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaIiwiaW1hZ2VFeHRlbnQiLCJnZXRUaWxlUmFuZ2VFeHRlbnQiLCJ0aWxlUGl4ZWxSYXRpbyIsImdldFRpbGVQaXhlbFJhdGlvIiwidGlsZXNUb0RyYXdCeVoiLCJmaW5kTG9hZGVkVGlsZXMiLCJjcmVhdGVMb2FkZWRUaWxlRmluZGVyIiwiaGludHMiLCJ2aWV3SGludHMiLCJhbmltYXRpbmdPckludGVyYWN0aW5nIiwidG1wVGlsZVJhbmdlIiwiRGF0ZSIsIm5vdyIsInRpbWUiLCJ0aWxlQ29vcmQiLCJpblRyYW5zaXRpb24iLCJnZXRBbHBoYSIsImNoaWxkVGlsZVJhbmdlIiwiZ2V0VGlsZUNvb3JkQ2hpbGRUaWxlUmFuZ2UiLCJjb3ZlcmVkIiwiZm9yRWFjaFRpbGVDb29yZFBhcmVudFRpbGVSYW5nZSIsInRpbGVQaXhlbFNpemUiLCJnZXRUaWxlUGl4ZWxTaXplIiwiZ2V0SGVpZ2h0IiwiY3VycmVudFNjYWxlIiwiY3VycmVudFRpbGVQaXhlbFNpemUiLCJjdXJyZW50WiIsInRpbGVFeHRlbnQiLCJ0aWxlR3V0dGVyIiwidGlsZXNUb0RyYXciLCJ6cyIsInRpbGVDb29yZEtleSIsImdldEd1dHRlckZvclByb2plY3Rpb24iLCJnZXRUaWxlQ29vcmRFeHRlbnQiLCJnZXRUaWxlQ29vcmQiLCJkcmF3VGlsZUltYWdlIiwidXBkYXRlVXNlZFRpbGVzIiwidXNlZFRpbGVzIiwibWFuYWdlVGlsZVB5cmFtaWQiLCJzY2hlZHVsZUV4cGlyZUNhY2hlIiwiZ3V0dGVyIiwidHJhbnNpdGlvbiIsImdldFRpbGVJbWFnZSIsImdldE9wYXF1ZSIsImFscGhhQ2hhbmdlZCIsInNhdmUiLCJhbmltYXRlIiwiZW5kVHJhbnNpdGlvbiIsIlRJTEUiLCJtYXBSZW5kZXJlciIsImNyZWF0ZU9yVXBkYXRlIiwiVGlsZVJhbmdlIiwiY29udGFpbnNYWSIsImNvbnRhaW5zVGlsZVJhbmdlIiwiRFJPUCIsIl9vYmpfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsIlByaW9yaXR5UXVldWUiLCJwcmlvcml0eUZ1bmN0aW9uIiwia2V5RnVuY3Rpb24iLCJwcmlvcml0eUZ1bmN0aW9uXyIsImtleUZ1bmN0aW9uXyIsImVsZW1lbnRzXyIsInByaW9yaXRpZXNfIiwicXVldWVkRWxlbWVudHNfIiwiZGVxdWV1ZSIsImVsZW1lbnRzIiwicHJpb3JpdGllcyIsImVsZW1lbnQiLCJzaWZ0VXBfIiwiZWxlbWVudEtleSIsImVucXVldWUiLCJwcmlvcml0eSIsInNpZnREb3duXyIsImdldExlZnRDaGlsZEluZGV4XyIsImdldFJpZ2h0Q2hpbGRJbmRleF8iLCJnZXRQYXJlbnRJbmRleF8iLCJoZWFwaWZ5XyIsImlzS2V5UXVldWVkIiwiaXNRdWV1ZWQiLCJjb3VudCIsInN0YXJ0SW5kZXgiLCJsSW5kZXgiLCJySW5kZXgiLCJzbWFsbGVyQ2hpbGRJbmRleCIsInBhcmVudEluZGV4IiwicmVwcmlvcml0aXplIiwiZXhwaXJlSWNvbkNhY2hlIiwiSWNvbkltYWdlQ2FjaGUiLCJleHBpcmUiLCJzb3J0QnlaSW5kZXgiLCJzdGF0ZTEiLCJzdGF0ZTIiLCJ6SW5kZXgiLCJNYXAiLCJEaXNwb3NhYmxlIiwiTWFwUmVuZGVyZXIiLCJtYXBfIiwibGF5ZXJSZW5kZXJlcnNfIiwibGF5ZXJSZW5kZXJlckxpc3RlbmVyc18iLCJsYXllclJlbmRlcmVyQ29uc3RydWN0b3JzXyIsImRpc3BhdGNoUmVuZGVyRXZlbnQiLCJyZWdpc3RlckxheWVyUmVuZGVyZXJzIiwiY29uc3RydWN0b3JzIiwiY2FsY3VsYXRlTWF0cmljZXMyRCIsImNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtIiwicGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm0iLCJvbF90cmFuc2Zvcm0iLCJyZW1vdmVMYXllclJlbmRlcmVycyIsInJlbW92ZUxheWVyUmVuZGVyZXJCeUtleV8iLCJkaXNwb3NlIiwiZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUiLCJsYXllckZpbHRlciIsInRoaXNBcmcyIiwibWFuYWdlZCIsImxheWVyU3RhdGVzIiwic2tpcHBlZEZlYXR1cmVVaWRzIiwidHJhbnNsYXRlZENvb3JkaW5hdGUiLCJjYW5XcmFwWCIsInByb2plY3Rpb25FeHRlbnQiLCJ3b3JsZFdpZHRoIiwibGF5ZXJTdGF0ZXNBcnJheSIsIkxheWVyIiwibGF5ZXJSZW5kZXJlciIsImdldExheWVyUmVuZGVyZXIiLCJmb3JFYWNoTGF5ZXJBdFBpeGVsIiwiaGFzRmVhdHVyZUF0Q29vcmRpbmF0ZSIsImxheWVyS2V5IiwiY2FuZGlkYXRlIiwiRXJyb3IiLCJldmVudHNfRXZlbnRUeXBlIiwiaGFuZGxlTGF5ZXJSZW5kZXJlckNoYW5nZV8iLCJnZXRMYXllclJlbmRlcmVyQnlLZXkiLCJnZXRMYXllclJlbmRlcmVycyIsImdldE1hcCIsInJlbmRlciIsInJlbW92ZVVudXNlZExheWVyUmVuZGVyZXJzXyIsInJlbmRlckZyYW1lIiwic2NoZWR1bGVFeHBpcmVJY29uQ2FjaGUiLCJwb3N0UmVuZGVyRnVuY3Rpb25zIiwic2NoZWR1bGVSZW1vdmVVbnVzZWRMYXllclJlbmRlcmVycyIsIm9sX0Rpc3Bvc2FibGUiLCJsYXllclJlbmRlcmVyQ29uc3RydWN0b3JzIiwiTWFwX0NhbnZhc01hcFJlbmRlcmVyIiwiQ2FudmFzTWFwUmVuZGVyZXIiLCJjb250YWluZXIiLCJnZXRWaWV3cG9ydCIsImRvbSIsImRpc3BsYXkiLCJjbGFzc05hbWUiLCJjc3MiLCJpbnNlcnRCZWZvcmUiLCJjaGlsZE5vZGVzIiwicmVuZGVyZWRWaXNpYmxlXyIsImhhc0xpc3RlbmVyIiwiZ2V0VHJhbnNmb3JtIiwiSW1tZWRpYXRlIiwiY29tcG9zZUV2ZW50IiwiZHgxIiwiZHkxIiwic3giLCJzeSIsImR4MiIsImR5MiIsIlBSRUNPTVBPU0UiLCJzb3VyY2VTdGF0ZSIsIlBPU1RDT01QT1NFIiwibnVtTGF5ZXJzIiwiY3RvciIsIk9ic2VydmFibGUiLCJMYXllclJlbmRlcmVyIiwibGF5ZXJfIiwidGlsZXMiLCJ6b29tIiwiZm9yRWFjaExvYWRlZFRpbGUiLCJoYW5kbGVJbWFnZUNoYW5nZV8iLCJJbWFnZVN0YXRlIiwicmVuZGVySWZSZWFkeUFuZFZpc2libGUiLCJsb2FkSW1hZ2UiLCJpbWFnZVN0YXRlIiwiZ2V0VmlzaWJsZSIsImdldFNvdXJjZVN0YXRlIiwicG9zdFJlbmRlckZ1bmN0aW9uIiwidGlsZVNvdXJjZUtleSIsImV4cGlyZUNhY2hlIiwiektleSIsInByZWxvYWQiLCJvcHRfdGlsZUNhbGxiYWNrIiwid2FudGVkVGlsZXMiLCJ0aWxlUXVldWUiLCJnZXRNaW5ab29tIiwiVGlsZVN0YXRlIiwiZ2V0S2V5IiwiZ2V0VGlsZUNvb3JkQ2VudGVyIiwidXNlVGlsZSIsIm9sX09ic2VydmFibGUiLCJMYXllcl9DYW52YXNMYXllclJlbmRlcmVyIiwidG9wTGVmdCIsInRvcFJpZ2h0IiwiYm90dG9tUmlnaHQiLCJib3R0b21MZWZ0IiwiZGlzcGF0Y2hDb21wb3NlRXZlbnRfIiwib3B0X3RyYW5zZm9ybSIsIlJFTkRFUiIsIl9yZXByb2pfY29tbW9uX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfSW1hZ2VDYW52YXNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsIl9MYXllclR5cGVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyIsIl9WaWV3SGludF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fIiwiX2FycmF5X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18iLCJfZXh0ZW50X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18iLCJfbGF5ZXJfVmVjdG9yUmVuZGVyVHlwZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fIiwiX29ial9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fIiwiX01hcF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fIiwiX0ludGVybWVkaWF0ZUNhbnZhc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fIiwiX3RyYW5zZm9ybV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTBfXyIsIkNhbnZhc0ltYWdlTGF5ZXJSZW5kZXJlciIsImltYWdlTGF5ZXIiLCJza2lwcGVkRmVhdHVyZXNfIiwidmVjdG9yUmVuZGVyZXJfIiwiVkVDVE9SIiwiZGlzcG9zZUludGVybmFsIiwiaW1hZ2VTb3VyY2UiLCJ2ZWN0b3JSZW5kZXJlciIsInJlbmRlcmVkRXh0ZW50Iiwic291cmNlUHJvamVjdGlvbiIsInNraXBwZWRGZWF0dXJlcyIsImltYWdlRnJhbWVTdGF0ZSIsIm5ld1NraXBwZWRGZWF0dXJlcyIsInJlcGxheUdyb3VwQ2hhbmdlZCIsImNvbXBvc2UiLCJpbWFnZVJlc29sdXRpb24iLCJpbWFnZVBpeGVsUmF0aW8iLCJJTUFHRSIsImdldFJlbmRlck1vZGUiLCJfVGlsZVN0YXRlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJUaWxlUXVldWUiLCJ0aWxlUHJpb3JpdHlGdW5jdGlvbiIsInRpbGVDaGFuZ2VDYWxsYmFjayIsInRpbGVDaGFuZ2VDYWxsYmFja18iLCJ0aWxlc0xvYWRpbmdfIiwidGlsZXNMb2FkaW5nS2V5c18iLCJhZGRlZCIsImhhbmRsZVRpbGVDaGFuZ2UiLCJnZXRUaWxlc0xvYWRpbmciLCJ0aWxlS2V5IiwibG9hZE1vcmVUaWxlcyIsIm1heFRvdGFsTG9hZGluZyIsIm1heE5ld0xvYWRzIiwibmV3TG9hZHMiLCJhYm9ydGVkVGlsZXMiLCJQcm9jZXNzb3IiLCJuZXdJbWFnZURhdGEiLCJjcmVhdGVNaW5pb24iLCJvcGVyYXRpb24iLCJ3b3JrZXJIYXNJbWFnZURhdGEiLCJJbWFnZURhdGEiLCJfIiwibmV3V29ya2VySW1hZ2VEYXRhIiwib3V0cHV0IiwiYnVmZmVycyIsIm1ldGEiLCJpbWFnZU9wcyIsIm51bUJ1ZmZlcnMiLCJudW1CeXRlcyIsImJ5dGVMZW5ndGgiLCJpbWFnZXMiLCJVaW50OENsYW1wZWRBcnJheSIsImFycmF5cyIsInBpeGVscyIsImNyZWF0ZVdvcmtlciIsImNvbmZpZyIsIm9uTWVzc2FnZSIsImxpbmVzIiwibGliIiwiYmxvYiIsIkJsb2IiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJ3b3JrZXIiLCJXb3JrZXIiLCJhZGRFdmVudExpc3RlbmVyIiwidGhyZWFkcyIsIl9pbWFnZU9wcyIsIndvcmtlcnMiLCJfb25Xb3JrZXJNZXNzYWdlIiwibWluaW9uIiwicG9zdE1lc3NhZ2UiLCJzZXRUaW1lb3V0IiwiY3JlYXRlRmF1eFdvcmtlciIsIl93b3JrZXJzIiwiX3F1ZXVlIiwiX21heFF1ZXVlTGVuZ3RoIiwicXVldWUiLCJfcnVubmluZyIsIl9kYXRhTG9va3VwIiwiX2pvYiIsInByb2Nlc3MiLCJpbnB1dHMiLCJfZW5xdWV1ZSIsIl9kaXNwYXRjaCIsImRlc3Ryb3kiLCJfZGVzdHJveWVkIiwiam9iIiwic2hpZnQiLCJpbnB1dCIsInNlZ21lbnRMZW5ndGgiLCJzbGljZXMiLCJqaiIsIl9yZXNvbHZlSm9iIiwiaGFzSW1hZ2VEYXRhIiwiY3JlYXRlSW1hZ2VEYXRhIiwib3B0X3RpbGVDb29yZCIsImdldEtleVpYWSIsImhhc2giLCJ0aWxldXJsZnVuY3Rpb25fY3JlYXRlRnJvbVRlbXBsYXRlIiwidGVtcGxhdGUiLCJ6UmVnRXgiLCJ4UmVnRXgiLCJ5UmVnRXgiLCJkYXNoWVJlZ0V4IiwicmFuZ2UiLCJnZXRGdWxsVGlsZVJhbmdlIiwiY3JlYXRlRnJvbVRlbXBsYXRlcyIsInRlbXBsYXRlcyIsInRpbGVVcmxGdW5jdGlvbnMiLCJjcmVhdGVGcm9tVGlsZVVybEZ1bmN0aW9ucyIsIm1hdGgiLCJudWxsVGlsZVVybEZ1bmN0aW9uIiwiZXhwYW5kVXJsIiwidXJscyIsIm1hdGNoIiwiY2hhckNvZGUiLCJzdGFydENoYXJDb2RlIiwiY2hhckNvZGVBdCIsInN0b3BDaGFyQ29kZSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInN0b3AiLCJqc29ucCIsIm9wdF9lcnJiYWNrIiwib3B0X2NhbGxiYWNrUGFyYW0iLCJzY3JpcHQiLCJjbGVhbnVwIiwiYXN5bmMiLCJzcmMiLCJ0aW1lciIsImNsZWFyVGltZW91dCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwib2xfVGlsZSIsIlRpbGUiLCJpbnRlcmltVGlsZSIsInRyYW5zaXRpb25fIiwidHJhbnNpdGlvblN0YXJ0c18iLCJyZWZyZXNoSW50ZXJpbUNoYWluIiwicHJldiIsImVhc2luZyIsIlRhcmdldCIsImdldEJsYW5rSW1hZ2UiLCJjdHgiLCJmaWxsUmVjdCIsIm9sX0ltYWdlVGlsZSIsIkltYWdlVGlsZSIsImNyb3NzT3JpZ2luIiwidGlsZUxvYWRGdW5jdGlvbiIsImNyb3NzT3JpZ2luXyIsInNyY18iLCJJbWFnZSIsImltYWdlTGlzdGVuZXJLZXlzXyIsInRpbGVMb2FkRnVuY3Rpb25fIiwidW5saXN0ZW5JbWFnZV8iLCJoYW5kbGVJbWFnZUVycm9yXyIsImhhbmRsZUltYWdlTG9hZF8iLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwiTE9BRCIsIm9sX1RpbGVDYWNoZSIsIlRpbGVDYWNoZSIsInBydW5lRXhjZXB0TmV3ZXN0WiIsImZyb21LZXkiLCJjYWxjdWxhdGVTb3VyY2VSZXNvbHV0aW9uIiwic291cmNlUHJvaiIsInRhcmdldFByb2oiLCJ0YXJnZXRDZW50ZXIiLCJ0YXJnZXRSZXNvbHV0aW9uIiwic291cmNlQ2VudGVyIiwib2xfcHJvaiIsInNvdXJjZVJlc29sdXRpb24iLCJ0YXJnZXRNZXRlcnNQZXJVbml0IiwiZ2V0TWV0ZXJzUGVyVW5pdCIsInNvdXJjZU1ldGVyc1BlclVuaXQiLCJzb3VyY2VFeHRlbnQiLCJjb21wZW5zYXRpb25GYWN0b3IiLCJpc0Zpbml0ZSIsImVubGFyZ2VDbGlwUG9pbnQiLCJjZW50cm9pZFgiLCJjZW50cm9pZFkiLCJkWCIsImRZIiwicmVwcm9qX3JlbmRlciIsInRhcmdldEV4dGVudCIsInRyaWFuZ3VsYXRpb24iLCJzb3VyY2VzIiwib3B0X3JlbmRlckVkZ2VzIiwic291cmNlRGF0YUV4dGVudCIsImNhbnZhc1dpZHRoSW5Vbml0cyIsImNhbnZhc0hlaWdodEluVW5pdHMiLCJzdGl0Y2hDb250ZXh0Iiwic3RpdGNoU2NhbGUiLCJ4UG9zIiwieVBvcyIsInNyY1dpZHRoIiwic3JjSGVpZ2h0IiwidGFyZ2V0VG9wTGVmdCIsImdldFRyaWFuZ2xlcyIsInRyaWFuZ2xlIiwidTAiLCJ2MCIsInUxIiwidTIiLCJzb3VyY2VOdW1lcmljYWxTaGlmdFgiLCJzb3VyY2VOdW1lcmljYWxTaGlmdFkiLCJhdWdtZW50ZWRNYXRyaXgiLCJhZmZpbmVDb2VmcyIsInAwIiwicDEiLCJwMiIsIlRyaWFuZ3VsYXRpb25fVHJpYW5ndWxhdGlvbiIsIm1heFNvdXJjZUV4dGVudCIsImVycm9yVGhyZXNob2xkIiwic291cmNlUHJval8iLCJ0YXJnZXRQcm9qXyIsInRyYW5zZm9ybUludkNhY2hlIiwidHJhbnNmb3JtSW52IiwidHJhbnNmb3JtSW52XyIsImMiLCJtYXhTb3VyY2VFeHRlbnRfIiwiZXJyb3JUaHJlc2hvbGRTcXVhcmVkXyIsInRyaWFuZ2xlc18iLCJ3cmFwc1hJblNvdXJjZV8iLCJjYW5XcmFwWEluU291cmNlXyIsInNvdXJjZVdvcmxkV2lkdGhfIiwidGFyZ2V0V29ybGRXaWR0aF8iLCJkZXN0aW5hdGlvblRvcExlZnQiLCJkZXN0aW5hdGlvblRvcFJpZ2h0IiwiZGVzdGluYXRpb25Cb3R0b21SaWdodCIsImRlc3RpbmF0aW9uQm90dG9tTGVmdCIsInNvdXJjZVRvcExlZnQiLCJzb3VyY2VUb3BSaWdodCIsInNvdXJjZUJvdHRvbVJpZ2h0Iiwic291cmNlQm90dG9tTGVmdCIsImFkZFF1YWRfIiwibGVmdEJvdW5kIiwibmV3VHJpYW5nbGUiLCJhZGRUcmlhbmdsZV8iLCJhU3JjIiwiYlNyYyIsImNTcmMiLCJkU3JjIiwibWF4U3ViZGl2aXNpb24iLCJzb3VyY2VRdWFkRXh0ZW50Iiwic291cmNlQ292ZXJhZ2VYIiwic291cmNlV29ybGRXaWR0aCIsIndyYXBzWCIsIm5lZWRzU3ViZGl2aXNpb24iLCJpc0dsb2JhbCIsInRhcmdldFF1YWRFeHRlbnQiLCJjZW50ZXJTcmMiLCJhYnMiLCJiYyIsImJjU3JjIiwiZGEiLCJkYVNyYyIsImFiIiwiYWJTcmMiLCJjZCIsImNkU3JjIiwiY2FsY3VsYXRlU291cmNlRXh0ZW50IiwicmVwcm9qX1RyaWFuZ3VsYXRpb24iLCJyZXByb2pfVGlsZSIsIlJlcHJvalRpbGUiLCJzb3VyY2VUaWxlR3JpZCIsInRhcmdldFRpbGVHcmlkIiwid3JhcHBlZFRpbGVDb29yZCIsImdldFRpbGVGdW5jdGlvbiIsIm9wdF9lcnJvclRocmVzaG9sZCIsInJlbmRlckVkZ2VzXyIsImd1dHRlcl8iLCJzb3VyY2VUaWxlR3JpZF8iLCJ0YXJnZXRUaWxlR3JpZF8iLCJ3cmFwcGVkVGlsZUNvb3JkXyIsInNvdXJjZVRpbGVzXyIsInNvdXJjZXNMaXN0ZW5lcktleXNfIiwic291cmNlWl8iLCJtYXhUYXJnZXRFeHRlbnQiLCJsaW1pdGVkVGFyZ2V0RXh0ZW50Iiwic291cmNlUHJvakV4dGVudCIsImVycm9yVGhyZXNob2xkSW5QaXhlbHMiLCJjb21tb24iLCJ0cmlhbmd1bGF0aW9uXyIsInNvdXJjZVJhbmdlIiwic3JjWCIsInNyY1kiLCJ1bmxpc3RlblNvdXJjZXNfIiwicmVwcm9qZWN0XyIsImdldFRpbGVTaXplIiwibGVmdFRvTG9hZCIsInNvdXJjZUxpc3RlbktleSIsInRtcFRpbGVDb29yZCIsIlRpbGVHcmlkX1RpbGVHcmlkIiwiem9vbUZhY3RvciIsIm1pblpvb20iLCJyZXNvbHV0aW9uc18iLCJyZXNvbHV0aW9ucyIsIm9sX2FycmF5Iiwib3JpZ2lucyIsInpvb21GYWN0b3JfIiwibWF4Wm9vbSIsIm9yaWdpbl8iLCJvcmlnaW4iLCJvcmlnaW5zXyIsInRpbGVTaXplc18iLCJ0aWxlU2l6ZXMiLCJ0aWxlU2l6ZV8iLCJ0aWxlU2l6ZSIsInRpbGVncmlkX2NvbW1vbiIsImZ1bGxUaWxlUmFuZ2VzXyIsInRtcFNpemVfIiwic2l6ZXMiLCJjYWxjdWxhdGVUaWxlUmFuZ2VzXyIsImZvckVhY2hUaWxlQ29vcmQiLCJvcHRfdGlsZVJhbmdlIiwidGlsZUNvb3JkRXh0ZW50IiwiZ2V0TWF4Wm9vbSIsIm9sX3NpemUiLCJnZXRUaWxlQ29vcmRGb3JYWUFuZFpfIiwiZ2V0VGlsZUNvb3JkRm9yQ29vcmRBbmRSZXNvbHV0aW9uIiwiZ2V0VGlsZUNvb3JkRm9yWFlBbmRSZXNvbHV0aW9uXyIsInJldmVyc2VJbnRlcnNlY3Rpb25Qb2xpY3kiLCJhZGp1c3RYIiwiYWRqdXN0WSIsInhGcm9tT3JpZ2luIiwieUZyb21PcmlnaW4iLCJ0aWxlQ29vcmRYIiwidGlsZUNvb3JkWSIsImdldFRpbGVDb29yZEZvckNvb3JkQW5kWiIsImdldFRpbGVDb29yZFJlc29sdXRpb24iLCJvcHRfZGlyZWN0aW9uIiwiZnVsbFRpbGVSYW5nZXMiLCJ0aWxlZ3JpZF9UaWxlR3JpZCIsImdldEZvclByb2plY3Rpb24iLCJnZXREZWZhdWx0VGlsZUdyaWQiLCJjcmVhdGVGb3JQcm9qZWN0aW9uIiwic2V0RGVmYXVsdFRpbGVHcmlkIiwiY3JlYXRlWFlaIiwieHl6T3B0aW9ucyIsImdyaWRPcHRpb25zIiwicmVzb2x1dGlvbnNGcm9tRXh0ZW50Iiwib3B0X21heFpvb20iLCJvcHRfdGlsZVNpemUiLCJtYXhSZXNvbHV0aW9uIiwib3B0X2Nvcm5lciIsImNvcm5lciIsIkNvcm5lciIsIlRPUF9MRUZUIiwiY3JlYXRlRm9yRXh0ZW50IiwiZXh0ZW50RnJvbVByb2plY3Rpb24iLCJoYWxmIiwiVW5pdHMiLCJERUdSRUVTIiwiVGlsZV9UaWxlU291cmNlIiwiVGlsZVNvdXJjZSIsIm9wYXF1ZV8iLCJvcGFxdWUiLCJ0aWxlUGl4ZWxSYXRpb18iLCJ0aWxlQ2FjaGUiLCJ0bXBTaXplIiwidGlsZU9wdGlvbnMiLCJnZXRUaWxlQ2FjaGVGb3JQcm9qZWN0aW9uIiwibG9hZGVkIiwic2V0S2V5IiwiZ2V0VGlsZUdyaWQiLCJ0aGlzUHJvaiIsImdldFRpbGVDb29yZEZvclRpbGVVcmxGdW5jdGlvbiIsIm9wdF9wcm9qZWN0aW9uIiwid29ybGRzQXdheSIsInRpbGVncmlkX3dyYXBYIiwid2l0aGluRXh0ZW50QW5kWiIsIlRpbGVTb3VyY2VFdmVudCIsInNvdXJjZV9UaWxlIiwiVGlsZUV2ZW50VHlwZSIsInNvdXJjZV9VcmxUaWxlIiwiVXJsVGlsZSIsImdlbmVyYXRlVGlsZVVybEZ1bmN0aW9uXyIsInRpbGVVcmxGdW5jdGlvbiIsInNldFVybHMiLCJzZXRVcmwiLCJzZXRUaWxlVXJsRnVuY3Rpb24iLCJ0aWxlTG9hZGluZ0tleXNfIiwiZ2V0VGlsZUxvYWRGdW5jdGlvbiIsImdldFRpbGVVcmxGdW5jdGlvbiIsImdldFVybHMiLCJzZXRUaWxlTG9hZEZ1bmN0aW9uIiwiZGVmYXVsdFRpbGVMb2FkRnVuY3Rpb24iLCJpbWFnZVRpbGUiLCJzb3VyY2VfVGlsZUltYWdlIiwiVGlsZUltYWdlIiwidGlsZUNsYXNzIiwidGlsZUNhY2hlRm9yUHJvamVjdGlvbiIsInRpbGVHcmlkRm9yUHJvamVjdGlvbiIsInJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkXyIsInJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkIiwicmVuZGVyUmVwcm9qZWN0aW9uRWRnZXNfIiwidXNlZFRpbGVDYWNoZSIsImdldEd1dHRlciIsInByb2pLZXkiLCJjcmVhdGVUaWxlXyIsInVybFRpbGVDb29yZCIsInRpbGVVcmwiLCJuZXdUaWxlIiwiZ2V0VGlsZUludGVybmFsIiwic2V0UmVuZGVyUmVwcm9qZWN0aW9uRWRnZXMiLCJzZXRUaWxlR3JpZEZvclByb2plY3Rpb24iLCJ0aWxlZ3JpZCIsInByb2oiLCJzb3VyY2VfQmluZ01hcHMiLCJCaW5nTWFwcyIsImhpZHBpIiwiaGlkcGlfIiwiY3VsdHVyZV8iLCJjdWx0dXJlIiwibWF4Wm9vbV8iLCJhcGlLZXlfIiwiaW1hZ2VyeVNldF8iLCJpbWFnZXJ5U2V0IiwiaGFuZGxlSW1hZ2VyeU1ldGFkYXRhUmVzcG9uc2UiLCJnZXRBcGlLZXkiLCJnZXRJbWFnZXJ5U2V0IiwicmVzcG9uc2UiLCJzdGF0dXNDb2RlIiwic3RhdHVzRGVzY3JpcHRpb24iLCJhdXRoZW50aWNhdGlvblJlc3VsdENvZGUiLCJyZXNvdXJjZVNldHMiLCJyZXNvdXJjZXMiLCJyZXNvdXJjZSIsInpvb21NYXgiLCJpbWFnZVdpZHRoIiwiaW1hZ2VIZWlnaHQiLCJ6b29tTWluIiwiaW1hZ2VVcmxTdWJkb21haW5zIiwic3ViZG9tYWluIiwicXVhZEtleVRpbGVDb29yZCIsImltYWdlVXJsIiwiZGlnaXRzIiwibWFzayIsInF1YWRLZXkiLCJpbWFnZXJ5UHJvdmlkZXJzIiwiaW1hZ2VyeVByb3ZpZGVyIiwiaW50ZXJzZWN0aW5nIiwiY292ZXJhZ2VBcmVhcyIsImNvdmVyYWdlQXJlYSIsImVwc2c0MzI2RXh0ZW50IiwiYXR0cmlidXRpb24iLCJzb3VyY2VfWFlaIiwiWFlaIiwic291cmNlX0NhcnRvREIiLCJDYXJ0b0RCIiwiYWNjb3VudF8iLCJhY2NvdW50IiwibWFwSWRfIiwiY29uZmlnXyIsInRlbXBsYXRlQ2FjaGVfIiwiaW5pdGlhbGl6ZU1hcF8iLCJnZXRDb25maWciLCJ1cGRhdGVDb25maWciLCJzZXRDb25maWciLCJwYXJhbUhhc2giLCJzdHJpbmdpZnkiLCJhcHBseVRlbXBsYXRlXyIsIm1hcFVybCIsImNsaWVudCIsImhhbmRsZUluaXRSZXNwb25zZV8iLCJoYW5kbGVJbml0RXJyb3JfIiwic2V0UmVxdWVzdEhlYWRlciIsInBhcnNlIiwidGlsZXNVcmwiLCJjZG5fdXJsIiwiaHR0cHMiLCJsYXllcmdyb3VwaWQiLCJzb3VyY2VfQ2x1c3RlciIsIkNsdXN0ZXIiLCJnZW9tZXRyeUZ1bmN0aW9uIiwiR2VvbWV0cnlUeXBlIiwiZ2V0RGlzdGFuY2UiLCJjbHVzdGVyIiwic2V0RGlzdGFuY2UiLCJtYXBEaXN0YW5jZSIsImNsdXN0ZXJlZCIsImNvb3JkaW5hdGVzIiwiZ2V0Q29vcmRpbmF0ZXMiLCJuZWlnaGJvcnMiLCJuZWlnaGJvciIsImNyZWF0ZUNsdXN0ZXIiLCJjZW50cm9pZCIsIm9sX2Nvb3JkaW5hdGUiLCJQb2ludCIsIlZlY3RvciIsInJlcHJval9JbWFnZSIsIlJlcHJvakltYWdlIiwiZ2V0SW1hZ2VGdW5jdGlvbiIsInNvdXJjZUltYWdlIiwic291cmNlUGl4ZWxSYXRpbyIsInRhcmdldFJlc29sdXRpb25fIiwidGFyZ2V0RXh0ZW50XyIsInNvdXJjZUltYWdlXyIsInNvdXJjZVBpeGVsUmF0aW9fIiwic291cmNlTGlzdGVuZXJLZXlfIiwidW5saXN0ZW5Tb3VyY2VfIiwib2xfSW1hZ2VCYXNlIiwiSW1hZ2VTb3VyY2VFdmVudFR5cGUiLCJJbWFnZVNvdXJjZUV2ZW50IiwiZGVmYXVsdEltYWdlTG9hZEZ1bmN0aW9uIiwic291cmNlX0ltYWdlIiwiSW1hZ2VTb3VyY2UiLCJyZXByb2plY3RlZEltYWdlXyIsInJlcHJvamVjdGVkUmV2aXNpb25fIiwiZmluZE5lYXJlc3RSZXNvbHV0aW9uIiwiZ2V0SW1hZ2VJbnRlcm5hbCIsImhhbmRsZUltYWdlQ2hhbmdlIiwib2xfSW1hZ2UiLCJJbWFnZVdyYXBwZXIiLCJpbWFnZUxvYWRGdW5jdGlvbiIsImltYWdlTG9hZEZ1bmN0aW9uXyIsInNldEltYWdlIiwiYXBwZW5kUGFyYW1zIiwidXJpIiwicGFyYW1zIiwia2V5UGFyYW1zIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicXMiLCJzb3VyY2VfSW1hZ2VBcmNHSVNSZXN0IiwiSW1hZ2VBcmNHSVNSZXN0IiwicGFyYW1zXyIsImltYWdlU2l6ZV8iLCJyZW5kZXJlZFJldmlzaW9uXyIsInJhdGlvXyIsImdldFBhcmFtcyIsIkYiLCJGT1JNQVQiLCJUUkFOU1BBUkVOVCIsImhhbGZXaWR0aCIsImhhbGZIZWlnaHQiLCJnZXRSZXF1ZXN0VXJsXyIsImdldEltYWdlTG9hZEZ1bmN0aW9uIiwic3JpZCIsImdldENvZGUiLCJtb2RpZmllZFVybCIsInNldEltYWdlTG9hZEZ1bmN0aW9uIiwidXBkYXRlUGFyYW1zIiwic291cmNlX0ltYWdlQ2FudmFzIiwiSW1hZ2VDYW52YXNTb3VyY2UiLCJjYW52YXNGdW5jdGlvbl8iLCJjYW52YXNGdW5jdGlvbiIsImNhbnZhc0VsZW1lbnQiLCJzb3VyY2VfSW1hZ2VNYXBHdWlkZSIsIkltYWdlTWFwR3VpZGUiLCJkaXNwbGF5RHBpXyIsImRpc3BsYXlEcGkiLCJtZXRlcnNQZXJVbml0XyIsIm1ldGVyc1BlclVuaXQiLCJ1c2VPdmVybGF5XyIsInVzZU92ZXJsYXkiLCJiYXNlVXJsIiwiZHBpIiwibWNzVyIsIm1jc0giLCJkZXZXIiwiZGV2SCIsIm1wcCIsImJhc2VQYXJhbXMiLCJPUEVSQVRJT04iLCJWRVJTSU9OIiwiTE9DQUxFIiwiQ0xJRU5UQUdFTlQiLCJDTElQIiwiU0VURElTUExBWURQSSIsIlNFVERJU1BMQVlXSURUSCIsIlNFVERJU1BMQVlIRUlHSFQiLCJTRVRWSUVXU0NBTEUiLCJTRVRWSUVXQ0VOVEVSWCIsIlNFVFZJRVdDRU5URVJZIiwiSW1hZ2VTdGF0aWMiLCJTdGF0aWMiLCJpbWFnZUV4dGVudF8iLCJnZXRJbWFnZUV4dGVudCIsInRhcmdldFdpZHRoIiwiREVGQVVMVF9XTVNfVkVSU0lPTiIsIldNU1NlcnZlclR5cGUiLCJHRVRGRUFUVVJFSU5GT19JTUFHRV9TSVpFIiwic291cmNlX0ltYWdlV01TIiwiSW1hZ2VXTVMiLCJ2MTNfIiwidXBkYXRlVjEzXyIsInNlcnZlclR5cGVfIiwiZ2V0R2V0RmVhdHVyZUluZm9VcmwiLCJwcm9qZWN0aW9uT2JqIiwic291cmNlUHJvamVjdGlvbk9iaiIsIlNFUlZJQ0UiLCJSRVFVRVNUIiwiUVVFUllfTEFZRVJTIiwidmlld1dpZHRoIiwidmlld0hlaWdodCIsInZpZXdFeHRlbnQiLCJyZXF1ZXN0V2lkdGgiLCJyZXF1ZXN0SGVpZ2h0IiwicmVxdWVzdEV4dGVudCIsImF4aXNPcmllbnRhdGlvbiIsImdldEF4aXNPcmllbnRhdGlvbiIsInZlcnNpb24iLCJzdHJpbmciLCJBVFRSSUJVVElPTiIsInNvdXJjZV9PU00iLCJPU00iLCJSYXN0ZXJFdmVudFR5cGUiLCJSYXN0ZXJPcGVyYXRpb25UeXBlIiwiUElYRUwiLCJSYXN0ZXJTb3VyY2VFdmVudCIsInNoYXJlZENvbnRleHQiLCJjcmVhdGVSZW5kZXJlciIsImxheWVyT3JTb3VyY2UiLCJsYXllcl9UaWxlIiwiVGlsZUxheWVyIiwiY3JlYXRlVGlsZVJlbmRlcmVyIiwibGF5ZXJfSW1hZ2UiLCJJbWFnZUxheWVyIiwiY3JlYXRlSW1hZ2VSZW5kZXJlciIsIkxheWVyVHlwZSIsIlJhc3RlciIsIlJhc3RlclNvdXJjZSIsIndvcmtlcl8iLCJvcGVyYXRpb25UeXBlXyIsIm9wZXJhdGlvblR5cGUiLCJ0aHJlYWRzXyIsInJlbmRlcmVyc18iLCJyZW5kZXJlcnMiLCJjcmVhdGVSZW5kZXJlcnMiLCJyciIsInRpbGVRdWV1ZV8iLCJnZXRMYXllclN0YXRlIiwicmVxdWVzdGVkRnJhbWVTdGF0ZV8iLCJyZW5kZXJlZEltYWdlQ2FudmFzXyIsImZyYW1lU3RhdGVfIiwiZm9jdXMiLCJzZXRPcGVyYXRpb24iLCJvcHRfbGliIiwidXBkYXRlRnJhbWVTdGF0ZV8iLCJhbGxTb3VyY2VzUmVhZHlfIiwicmVhZHkiLCJwcm9jZXNzU291cmNlc18iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJpbWFnZURhdGFzIiwib25Xb3JrZXJDb21wbGV0ZV8iLCJwdXRJbWFnZURhdGEiLCJBVFRSSUJVVElPTlMiLCJMYXllckNvbmZpZyIsInRlcnJhaW4iLCJ0ZXJyYWluLWJhY2tncm91bmQiLCJ0ZXJyYWluLWxhYmVscyIsInRlcnJhaW4tbGluZXMiLCJ0b25lci1iYWNrZ3JvdW5kIiwidG9uZXIiLCJ0b25lci1oeWJyaWQiLCJ0b25lci1sYWJlbHMiLCJ0b25lci1saW5lcyIsInRvbmVyLWxpdGUiLCJ3YXRlcmNvbG9yIiwiUHJvdmlkZXJDb25maWciLCJzb3VyY2VfU3RhbWVuIiwiU3RhbWVuIiwicHJvdmlkZXIiLCJwcm92aWRlckNvbmZpZyIsImxheWVyQ29uZmlnIiwiVGlsZUFyY0dJU1Jlc3RfdGlsZVVybEZ1bmN0aW9uIiwidG1wRXh0ZW50XyIsInNvdXJjZV9UaWxlQXJjR0lTUmVzdCIsIlRpbGVBcmNHSVNSZXN0IiwiZ2V0S2V5Rm9yUGFyYW1zXyIsIlRpbGVEZWJ1Z19MYWJlbGVkVGlsZSIsIkxhYmVsZWRUaWxlIiwic3Ryb2tlUmVjdCIsInNvdXJjZV9UaWxlRGVidWciLCJUaWxlRGVidWciLCJ0ZXh0VGlsZUNvb3JkIiwic291cmNlX1RpbGVKU09OIiwiVGlsZUpTT04iLCJ0aWxlSlNPTl8iLCJoYW5kbGVUaWxlSlNPTlJlc3BvbnNlIiwiaGFuZGxlVGlsZUpTT05FcnJvciIsIm9uWEhSTG9hZF8iLCJvblhIUkVycm9yXyIsInRpbGVKU09OIiwiZ2V0VGlsZUpTT04iLCJlcHNnNDMyNlByb2plY3Rpb24iLCJhdHRyaWJ1dGlvbkV4dGVudCIsIlRpbGVXTVNfdGlsZVVybEZ1bmN0aW9uIiwic291cmNlX1RpbGVXTVMiLCJUaWxlV01TIiwidHJhbnNwYXJlbnQiLCJVVEZHcmlkX0N1c3RvbVRpbGUiLCJDdXN0b21UaWxlIiwicHJlZW1wdGl2ZSIsInByZWVtcHRpdmVfIiwiZ3JpZF8iLCJrZXlzXyIsImRhdGFfIiwianNvbnBfIiwiZ2V0RGF0YSIsInhSZWxhdGl2ZSIsInlSZWxhdGl2ZSIsInJvdyIsImNvZGUiLCJmb3JEYXRhQXRDb29yZGluYXRlIiwib3B0X3JlcXVlc3QiLCJsb2FkSW50ZXJuYWxfIiwiaGFuZGxlRXJyb3JfIiwianNvbiIsInNvdXJjZV9VVEZHcmlkIiwiVVRGR3JpZCIsInRpbGVVcmxGdW5jdGlvbl8iLCJ0ZW1wbGF0ZV8iLCJnZXRUZW1wbGF0ZSIsImZvckRhdGFBdENvb3JkaW5hdGVBbmRSZXNvbHV0aW9uIiwiZ3JpZHMiLCJvbF9WZWN0b3JJbWFnZVRpbGUiLCJWZWN0b3JJbWFnZVRpbGUiLCJzb3VyY2VUaWxlcyIsInJlcGxheVN0YXRlXyIsInRpbGVLZXlzIiwic291cmNlUmV2aXNpb25fIiwibG9hZExpc3RlbmVyS2V5c18iLCJzb3VyY2VUaWxlTGlzdGVuZXJLZXlzXyIsInNvdXJjZVoiLCJ1c2VMb2FkZWRPbmx5IiwibG9hZENvdW50Iiwic291cmNlVGlsZUNvb3JkIiwic2hhcmVkRXh0ZW50Iiwic291cmNlVGlsZUtleSIsInNvdXJjZVRpbGUiLCJjb25zdW1lcnMiLCJmaW5pc2hMb2FkaW5nXyIsImdldFJlcGxheVN0YXRlIiwicmVuZGVyZWRUaWxlUmV2aXNpb24iLCJkaXJ0eSIsInJlbmRlcmVkUmVuZGVyT3JkZXIiLCJlcnJvclNvdXJjZVRpbGVzIiwiZW1wdHkiLCJkZWZhdWx0TG9hZEZ1bmN0aW9uIiwib25Mb2FkIiwib25FcnJvciIsIkRFRkFVTFRfRVhURU5UIiwib2xfVmVjdG9yVGlsZSIsIlZlY3RvclRpbGUiLCJmZWF0dXJlc18iLCJyZXBsYXlHcm91cHNfIiwiZ2V0UmVwbGF5R3JvdXAiLCJzZXRQcm9qZWN0aW9uIiwic2V0RmVhdHVyZXMiLCJzZXRFeHRlbnQiLCJzZXRSZXBsYXlHcm91cCIsInJlcGxheUdyb3VwIiwic291cmNlX1ZlY3RvclRpbGUiLCJ0aWxlR3JpZHNfIiwiV01UU1JlcXVlc3RFbmNvZGluZyIsIktWUCIsIlJFU1QiLCJzb3VyY2VfV01UUyIsIldNVFMiLCJyZXF1ZXN0RW5jb2RpbmciLCJ2ZXJzaW9uXyIsImRpbWVuc2lvbnNfIiwiZGltZW5zaW9ucyIsIm1hdHJpeFNldF8iLCJtYXRyaXhTZXQiLCJyZXF1ZXN0RW5jb2RpbmdfIiwiZ2V0S2V5Rm9yRGltZW5zaW9uc18iLCJjcmVhdGVGcm9tV01UU1RlbXBsYXRlIiwiZ2V0RGltZW5zaW9ucyIsImdldE1hdHJpeFNldCIsImdldFJlcXVlc3RFbmNvZGluZyIsImdldFZlcnNpb24iLCJ1cGRhdGVEaW1lbnNpb25zIiwidGlsZW1hdHJpeHNldCIsIlNlcnZpY2UiLCJSZXF1ZXN0IiwiVmVyc2lvbiIsIkZvcm1hdCIsImxvY2FsQ29udGV4dCIsIlRpbGVNYXRyaXgiLCJnZXRNYXRyaXhJZCIsIlRpbGVDb2wiLCJUaWxlUm93IiwiVGllclNpemVDYWxjdWxhdGlvbiIsIkRFRkFVTFQiLCJUUlVOQ0FURUQiLCJab29taWZ5X0N1c3RvbVRpbGUiLCJ6b29taWZ5SW1hZ2VfIiwic291cmNlX1pvb21pZnkiLCJab29taWZ5IiwidGllclNpemVDYWxjdWxhdGlvbiIsInRpZXJTaXplSW5UaWxlcyIsInRpbGVTaXplRm9yVGllclNpemVDYWxjdWxhdGlvbiIsInJldmVyc2UiLCJ0aWxlQ291bnRVcFRvVGllciIsInRpbGVDb29yZFoiLCJ0aWxlSW5kZXgiLCJ0aWxlV2lkdGgiLCJUaWxlR3JvdXAiLCJab29taWZ5VGlsZUNsYXNzIl0sIm1hcHBpbmdzIjoiOEZBY08sU0FBQUEsRUFBQUMsRUFBQUMsRUFBQUMsR0FPUCxJQU5BLElBQUFDLEVBQUFDLEVBQ0FDLEVBQUFILEdBQUFJLEVBQ0FDLEVBQUEsRUFDQUMsRUFBQVIsRUFBQVMsT0FDQUMsR0FBQSxFQUVBSCxFQUFBQyxJQUlBSixHQUFBQyxFQUFBTCxFQURBRyxFQUFBSSxHQUFBQyxFQUFBRCxHQUFBLElBQ0FOLElBRUEsRUFDQU0sRUFBQUosRUFBQSxHQUdBSyxFQUFBTCxFQUNBTyxHQUFBTixHQUtBLE9BQUFNLEVBQUFILEtBV08sU0FBQUQsRUFBQUssRUFBQUMsR0FDUCxPQUFBRCxFQUFBQyxFQUFBLEVBQUFELEVBQUFDLEdBQUEsSUFVTyxTQUFBQyxFQUFBQyxFQUFBQyxHQUNQLE9BQUFELEVBQUFFLFFBQUFELElBQUEsRUFZTyxTQUFBRSxFQUFBSCxFQUFBSSxFQUFBQyxHQUNQLElBTUFDLEVBTkFDLEVBQUFQLEVBQUFMLE9BQ0EsR0FBQUssRUFBQSxJQUFBSSxFQUNBLFNBQ0csR0FBQUEsR0FBQUosRUFBQU8sRUFBQSxHQUNILE9BQUFBLEVBQUEsRUFHQSxHQUFBRixFQUFBLEdBQ0EsSUFBQUMsRUFBQSxFQUFpQkEsRUFBQUMsSUFBT0QsRUFDeEIsR0FBQU4sRUFBQU0sR0FBQUYsRUFDQSxPQUFBRSxFQUFBLE9BR0ssR0FBQUQsRUFBQSxHQUNMLElBQUFDLEVBQUEsRUFBaUJBLEVBQUFDLElBQU9ELEVBQ3hCLEdBQUFOLEVBQUFNLElBQUFGLEVBQ0EsT0FBQUUsT0FJQSxJQUFBQSxFQUFBLEVBQWlCQSxFQUFBQyxJQUFPRCxFQUFBLENBQ3hCLEdBQUFOLEVBQUFNLElBQUFGLEVBQ0EsT0FBQUUsRUFDUyxHQUFBTixFQUFBTSxHQUFBRixFQUNULE9BQUFKLEVBQUFNLEVBQUEsR0FBQUYsSUFBQUosRUFBQU0sR0FDQUEsRUFBQSxFQUVBQSxFQUtBLE9BQUFDLEVBQUEsRUFVTyxTQUFBQyxFQUFBUixFQUFBUyxFQUFBQyxHQUNQLEtBQUFELEVBQUFDLEdBQUEsQ0FDQSxJQUFBQyxFQUFBWCxFQUFBUyxHQUNBVCxFQUFBUyxHQUFBVCxFQUFBVSxHQUNBVixFQUFBVSxHQUFBQyxJQUNBRixJQUNBQyxHQVVPLFNBQUFFLEVBQUFaLEVBQUFhLEdBR1AsSUFGQSxJQUFBQyxFQUFBQyxNQUFBQyxRQUFBSCxLQUFBLENBQUFBLEdBQ0FsQixFQUFBbUIsRUFBQW5CLE9BQ0FXLEVBQUEsRUFBaUJBLEVBQUFYLEVBQVlXLElBQzdCTixJQUFBTCxRQUFBbUIsRUFBQVIsR0FXTyxTQUFBVyxFQUFBakIsRUFBQUMsR0FDUCxJQUFBSyxFQUFBTixFQUFBRSxRQUFBRCxHQUNBTCxFQUFBVSxHQUFBLEVBSUEsT0FIQVYsR0FDQUksRUFBQWtCLE9BQUFaLEVBQUEsR0FFQVYsRUFVTyxTQUFBdUIsRUFBQW5CLEVBQUFvQixHQUlQLElBSEEsSUFDQUMsRUFEQTFCLEVBQUFLLEVBQUFMLFNBQUEsRUFHQVcsRUFBQSxFQUFpQkEsRUFBQVgsRUFBWVcsSUFFN0IsR0FBQWMsRUFEQUMsRUFBQXJCLEVBQUFNLEdBQ0FBLEVBQUFOLEdBQ0EsT0FBQXFCLEVBR0EsWUFTTyxTQUFBQyxFQUFBQyxFQUFBQyxHQUNQLElBQUFDLEVBQUFGLEVBQUE1QixPQUNBLEdBQUE4QixJQUFBRCxFQUFBN0IsT0FDQSxTQUVBLFFBQUFXLEVBQUEsRUFBaUJBLEVBQUFtQixFQUFVbkIsSUFDM0IsR0FBQWlCLEVBQUFqQixLQUFBa0IsRUFBQWxCLEdBQ0EsU0FHQSxTQVdPLFNBQUFvQixFQUFBMUIsRUFBQTJCLEdBQ1AsSUFFQXJCLEVBRkFYLEVBQUFLLEVBQUFMLE9BQ0FnQixFQUFBSSxNQUFBZixFQUFBTCxRQUVBLElBQUFXLEVBQUEsRUFBYUEsRUFBQVgsRUFBWVcsSUFDekJLLEVBQUFMLEdBQUEsQ0FBY3NCLE1BQUF0QixFQUFBZSxNQUFBckIsRUFBQU0sSUFLZCxJQUhBSyxFQUFBa0IsS0FBQSxTQUFBaEMsRUFBQUMsR0FDQSxPQUFBNkIsRUFBQTlCLEVBQUF3QixNQUFBdkIsRUFBQXVCLFFBQUF4QixFQUFBK0IsTUFBQTlCLEVBQUE4QixRQUVBdEIsRUFBQSxFQUFhQSxFQUFBTixFQUFBTCxPQUFnQlcsSUFDN0JOLEVBQUFNLEdBQUFLLEVBQUFMLEdBQUFlLE1BVU8sU0FBQVMsRUFBQTlCLEVBQUFvQixHQUNQLElBQUFRLEVBS0EsT0FKQTVCLEVBQUErQixNQUFBLFNBQUFDLEVBQUFDLEdBRUEsT0FEQUwsRUFBQUssR0FDQWIsRUFBQVksRUFBQUMsRUFBQWpDLEtBRUE0QixHQUFBLEVBVU8sU0FBQU0sRUFBQWxDLEVBQUFtQyxFQUFBQyxHQUNQLElBQUFDLEVBQUFGLEdBQUEzQyxFQUNBLE9BQUFRLEVBQUErQixNQUFBLFNBQUFPLEVBQUFWLEdBQ0EsT0FBQUEsRUFDQSxTQUVBLElBQUFXLEVBQUFGLEVBQUFyQyxFQUFBNEIsRUFBQSxHQUFBVSxHQUNBLFFBQUFDLEVBQUEsR0FBQUgsR0FBQSxJQUFBRyxLQXRQQUMsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQXpELElBQUF1RCxFQUFBQyxFQUFBQyxFQUFBLHNCQUFBbEQsSUFBQWdELEVBQUFDLEVBQUFDLEVBQUEsc0JBQUEzQyxJQUFBeUMsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQXZDLElBQUFxQyxFQUFBQyxFQUFBQyxFQUFBLHNCQUFBbEMsSUFBQWdDLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUE5QixJQUFBNEIsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQXpCLElBQUF1QixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBdkIsSUFBQXFCLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUFwQixJQUFBa0IsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQWhCLElBQUFjLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUFaLElBQUFVLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUFSLHVDQ1dPLFNBQUFTLEVBQUFDLEVBQUFDLEdBQ1AsSUFBQUMsRUFBNENDLFNBQUFDLGNBQUEsVUFPNUMsT0FOQUosSUFDQUUsRUFBQUcsTUFBQUwsR0FFQUMsSUFDQUMsRUFBQUksT0FBQUwsR0FFNkNDLEVBQUFLLFdBQUEsTUF1Q3RDLFNBQUFDLEVBQUFDLEVBQUFDLEdBQ1AsSUFBQUMsRUFBQUQsRUFBQUUsV0FDQUQsR0FDQUEsRUFBQUUsYUFBQUosRUFBQUMsR0FRTyxTQUFBSSxFQUFBQyxHQUNQLE9BQUFBLEtBQUFILFdBQUFHLEVBQUFILFdBQUFJLFlBQUFELEdBQUEsS0FNTyxTQUFBRSxFQUFBRixHQUNQLEtBQUFBLEVBQUFHLFdBQ0FILEVBQUFDLFlBQUFELEVBQUFHLFdBOUVBdEIsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQUMsSUFBQUgsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQVUsSUFBQVosRUFBQUMsRUFBQUMsRUFBQSxzQkFBQWdCLElBQUFsQixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBbUIsa0NDT2VuQixFQUFBLEdBQ2ZxQixVQUFBLEVBQ0FDLFlBQUEsb0NDVEF4QixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBdUIsSUFBQXpCLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUF3QixJQUFBMUIsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQXlCLElBQUEzQixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBcEIsSUFBQWtCLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUEwQixJQUFBNUIsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQTJCLElBQUE3QixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBNEIsSUFBQTlCLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUE2QixJQUFBL0IsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQThCLElBQUFoQyxFQUFBLEdBQUFBLEVBQUEsSUF5Q08sU0FBQXlCLEVBQUFRLEVBQUFDLEdBR1AsT0FGQUQsRUFBQSxJQUFBQyxFQUFBLEdBQ0FELEVBQUEsSUFBQUMsRUFBQSxHQUNBRCxFQVdPLFNBQUFQLEVBQUFPLEVBQUFFLEdBQ1AsSUFBQUMsRUFBQUQsRUFBQUUsWUFDQUMsRUFBQUgsRUFBQUksWUFDQUMsRUFBQUYsRUFBQSxHQUNBRyxFQUFBSCxFQUFBLEdBSUFJLEVBSEFULEVBQUEsR0FHQU8sRUFDQUcsRUFIQVYsRUFBQSxHQUdBUSxFQUNBLElBQUFDLEdBQUEsSUFBQUMsSUFDQUQsRUFBQSxHQUVBLElBQUF6QyxFQUFBMkMsS0FBQUMsS0FBQUgsSUFBQUMsS0FLQSxPQUhBSCxFQUFBSixFQUFBTSxFQUFBekMsRUFDQXdDLEVBQUFMLEVBQUFPLEVBQUExQyxHQWtCTyxTQUFBMEIsRUFBQU0sRUFBQWEsR0FDUCxJQVlBQyxFQUFBQyxFQVpBUixFQUFBUCxFQUFBLEdBQ0FRLEVBQUFSLEVBQUEsR0FDQWdCLEVBQUFILEVBQUEsR0FDQTVFLEVBQUE0RSxFQUFBLEdBQ0FJLEVBQUFELEVBQUEsR0FDQUUsRUFBQUYsRUFBQSxHQUNBRyxFQUFBbEYsRUFBQSxHQUNBbUYsRUFBQW5GLEVBQUEsR0FDQXdFLEVBQUFVLEVBQUFGLEVBQ0FQLEVBQUFVLEVBQUFGLEVBQ0FHLEVBQUEsSUFBQVosR0FBQSxJQUFBQyxFQUFBLEdBQ0FELEdBQUFGLEVBQUFVLEdBQUFQLEdBQUFGLEVBQUFVLEtBQUFULElBQUFDLEtBQUEsR0FZQSxPQVZBVyxHQUFBLEdBQ0FQLEVBQUFHLEVBQ0FGLEVBQUFHLEdBQ0dHLEdBQUEsR0FDSFAsRUFBQUssRUFDQUosRUFBQUssSUFFQU4sRUFBQUcsRUFBQUksRUFBQVosRUFDQU0sRUFBQUcsRUFBQUcsRUFBQVgsR0FFQSxDQUFBSSxFQUFBQyxHQThITyxTQUFBbEUsRUFBQXlFLEVBQUFDLEdBRVAsSUFEQSxJQUFBMUUsR0FBQSxFQUNBaEIsRUFBQXlGLEVBQUFwRyxPQUFBLEVBQXNDVyxHQUFBLElBQVFBLEVBQzlDLEdBQUF5RixFQUFBekYsSUFBQTBGLEVBQUExRixHQUFBLENBQ0FnQixHQUFBLEVBQ0EsTUFHQSxPQUFBQSxFQXNCTyxTQUFBOEMsRUFBQUssRUFBQXdCLEdBQ1AsSUFBQUMsRUFBQWQsS0FBQWUsSUFBQUYsR0FDQUcsRUFBQWhCLEtBQUFpQixJQUFBSixHQUNBVixFQUFBZCxFQUFBLEdBQUF5QixFQUFBekIsRUFBQSxHQUFBMkIsRUFDQVosRUFBQWYsRUFBQSxHQUFBeUIsRUFBQXpCLEVBQUEsR0FBQTJCLEVBR0EsT0FGQTNCLEVBQUEsR0FBQWMsRUFDQWQsRUFBQSxHQUFBZSxFQUNBZixFQXFCTyxTQUFBSixFQUFBSSxFQUFBSixHQUdQLE9BRkFJLEVBQUEsSUFBQUosRUFDQUksRUFBQSxJQUFBSixFQUNBSSxFQVNPLFNBQUFILEVBQUFnQyxFQUFBQyxHQUNQLElBQUFyQixFQUFBb0IsRUFBQSxHQUFBQyxFQUFBLEdBQ0FwQixFQUFBbUIsRUFBQSxHQUFBQyxFQUFBLEdBQ0EsT0FBQXJCLElBQUFDLElBU08sU0FBQVosRUFBQStCLEVBQUFDLEdBQ1AsT0FBQW5CLEtBQUFDLEtBQUFmLEVBQUFnQyxFQUFBQyxJQVlPLFNBQUEvQixFQUFBQyxFQUFBYSxHQUNQLE9BQUFoQixFQUFBRyxFQUNBTixFQUFBTSxFQUFBYSxtQ0N6VWU1QyxFQUFBLEdBQ2Y4RCxLQUFBLEVBQ0FDLFFBQUEsRUFDQUMsT0FBQSxFQUtBQyxNQUFBLEVBQ0FDLE1BQUEsRUFDQUMsTUFBQSxxQ0NOTyxTQUFBQyxFQUFBQyxHQUNQLE9BQUEzQixLQUFBNEIsSUFBQUQsRUFBQSxHQVVPLFNBQUFFLEVBQUFGLEdBQ1AsU0FBQUQsRUFBQSxFQUFBQyxHQVVPLFNBQUFHLEVBQUFILEdBQ1AsU0FBQUEsSUFBQSxFQUFBQSxNQVVPLFNBQUFJLEVBQUFKLEdBQ1AsT0FBQUEsRUE3Q0F2RSxFQUFBQyxFQUFBQyxFQUFBLHNCQUFBb0UsSUFBQXRFLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUF1RSxJQUFBekUsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQXdFLElBQUExRSxFQUFBQyxFQUFBQyxFQUFBLHNCQUFBeUUscUNDQUEzRSxFQUFBQyxFQUFBQyxFQUFBLHNCQUFBMEUsSUFBQTVFLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUEyRSxJQUFBN0UsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQTRFLElBQUE5RSxFQUFBQyxFQUFBQyxFQUFBLHNCQUFBNkUsSUFBQS9FLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUE4RSxJQUFBaEYsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQStFLElBQUFqRixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBZ0YsSUFBQWxGLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUFpRixJQUFBbkYsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQWtGLElBQUFwRixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBbUYsSUFJQSxJQUFBQyxFQUFBLG9CQUFBQyxVQUNBQSxVQUFBQyxVQUFBQyxjQUFBLEdBTU9iLEdBQUEsSUFBQVUsRUFBQTVILFFBQUEsV0FNQW1ILEdBQUEsSUFBQVMsRUFBQTVILFFBQUEsZUFBQTRILEVBQUE1SCxRQUFBLFNBTUFvSCxHQUFBLElBQUFRLEVBQUE1SCxRQUFBLGVBQUE0SCxFQUFBNUgsUUFBQSxRQU1BcUgsR0FBQSxJQUFBTyxFQUFBNUgsUUFBQSxhQVVBc0gsRUFBQVUsT0FBQUMsa0JBQUEsRUFPQVYsRUFBQSxXQUNQLElBQUFXLEdBQUEsRUFDQSxJQUNBQSxJQUFBckYsU0FBQUMsY0FBQSxVQUFBRyxXQUFBLE1BQUFrRixZQUNHLE1BQUFDLElBR0gsT0FBQUYsRUFQTyxHQWlCQVYsRUFBQSxnQkFBQUssVUFTQUosRUFBQSxpQkFBQU8sT0FRQU4sRUFBQSxpQkFBQU0sT0FRQUwsSUFBQUUsVUFBQSxnRENqRlFyRixFQUFBLEdBQ2Y4RCxLQUFBLEVBQ0FDLFFBQUEsRUFDQUMsT0FBQSxFQUNBQyxNQUFBLHdDQ1hBbkUsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQTZGLElBQUEvRixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBOEYsSUFBQWhHLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUErRixJQUFBakcsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQWdHLElBQUFsRyxFQUFBQyxFQUFBQyxFQUFBLHNCQUFBaUcsSUFBQW5HLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUFrRyxJQUFBcEcsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQW1HLElBQUFyRyxFQUFBQyxFQUFBQyxFQUFBLHNCQUFBb0csSUFBQXRHLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUFxRyxJQUFBdkcsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQXNHLElBQUF4RyxFQUFBQyxFQUFBQyxFQUFBLHNCQUFBdUcsSUFBQXpHLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUF3RyxJQUFBMUcsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQXlHLElBQUEzRyxFQUFBQyxFQUFBQyxFQUFBLHNCQUFBMEcsSUFBQTVHLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUEyRyxJQUFBN0csRUFBQUMsRUFBQUMsRUFBQSxzQkFBQTRHLElBQUE5RyxFQUFBQyxFQUFBQyxFQUFBLHNCQUFBNkcsSUFBQS9HLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUE4RyxJQUFBaEgsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQStHLElBQUEsSUFBQUMsRUFBQWxILEVBQUEsSUFBQW1ILEVBQUFuSCxFQUFBLElBQUFvSCxFQUFBcEgsRUFBQSxHQUFBcUgsRUFBQXJILEVBQUEsSUFBQXNILEVBQUF0SCxFQUFBLElBa0ZPK0YsRUFBQSxrQkFPQUMsRUFBQSxVQU9BQyxFQUFBLFFBT0FDLEVBQUEsR0FPQUMsRUFBQSxFQU9BQyxFQUFBLFFBT0FDLEVBQUEsR0FPQUMsRUFBQSxVQU9BQyxFQUFBLFNBT0FDLEVBQUEsU0FPQUMsRUFBQSxVQU9BQyxFQUFBLEVBU0FDLEVBQUEsSUFBcUJVLEVBQUEsRUFNckJFLEVBQUEsR0FNUEMsRUFBQSxLQU1PQyxFQUFBLEdBT0FiLEVBQUEsV0FDUCxJQU1BYyxFQUFBQyxFQU5BQyxFQUFBLEdBQ0FDLEVBQUFOLEVBQ0FPLEVBQUEsUUFDQUMsRUFBQSxzQkFDQUMsRUFBQUQsRUFBQTVLLE9BQ0E4SyxFQUFBLDJCQUdBLFNBQUFDLEVBQUFDLEdBSUEsSUFIQSxJQUFBQyxFQUFBQyxJQUdBQyxFQUFBLElBQTBCQSxHQUFBLElBQWVBLEdBQUEsS0FHekMsSUFGQSxJQUFBQyxFQUFBRCxFQUFBLElBQ0FFLEdBQUEsRUFDQTFLLEVBQUEsRUFBcUJBLEVBQUFrSyxJQUFTbEssRUFBQSxDQUM5QixJQUFBMkssRUFBQVYsRUFBQWpLLEdBR0EsR0FGQXNLLEVBQUFELEtBQUFJLEVBQUFULEVBQUFXLEVBQ0FkLEVBQUFTLEVBQUFNLFlBQUFULEdBQUF4SCxNQUNBMEgsR0FBQU0sRUFBQSxDQUNBTCxFQUFBRCxLQUFBSSxFQUFBVCxFQUFBSyxFQUFBLElBQUFNLEVBQ0EsSUFBQWhJLEVBQUEySCxFQUFBTSxZQUFBVCxHQUFBeEgsTUFHQStILEtBQUEvSCxHQUFBa0gsR0FHQSxHQUFBYSxFQUlBLFNBR0EsU0FHQSxTQUFBRyxJQUNBLElBQUFDLEdBQUEsRUFDQSxRQUFBVCxLQUFBTixFQUNBQSxFQUFBTSxHQUFBUCxJQUNBTSxFQUFBQyxJQUNBTixFQUFBTSxHQUFBUCxFQUNVaUIsT0FBQXpCLEVBQUEsRUFBQXlCLENBQUtwQixHQUVmRCxFQUFBLEtBQ0FiLEVBQUFtQyxZQUVBakIsRUFBQU0sR0FDQVMsR0FBQSxJQUlBQSxJQUNBRyxjQUFBckIsR0FDQUEsT0FBQXNCLEdBSUEsZ0JBQUFDLEdBQ0EsSUFBQUMsRUFBdUJMLE9BQUEzQixFQUFBLEVBQUEyQixDQUFlSSxHQUN0QyxHQUFBQyxFQUdBLFFBQUFwTCxFQUFBLEVBQUFxTCxFQUFBRCxFQUFBL0wsT0FBNkNXLEVBQUFxTCxJQUFRckwsRUFBQSxDQUNyRCxJQUFBc0wsRUFBQUYsRUFBQXBMLEdBQ0FzTCxLQUFBdkIsSUFDQUEsRUFBQXVCLEdBQUF4QixFQUNBTSxFQUFBa0IsS0FDQXZCLEVBQUF1QixHQUFBLE9BQ0FKLElBQUF0QixJQUNBQSxFQUFBMkIsWUFBQVYsRUFBQSxTQXhFTyxHQW9GUCxTQUFBTixJQUlBLE9BSEFiLElBQ0FBLEVBQXFCcUIsT0FBQTFCLEVBQUEsRUFBQTBCLENBQXFCLE1BRTFDckIsRUFRTyxJQUNQOEIsRUFDQUMsRUFGTzFDLEdBRVAwQyxFQUFBOUIsRUFDQSxTQUFBVSxHQUNBLElBQUF6SCxFQUFBNkksRUFBQXBCLEdBY0EsT0FiQWEsTUFBQXRJLElBQ0E0SSxLQUNBQSxFQUFBL0ksU0FBQUMsY0FBQSxTQUNBZ0osWUFBQSxJQUNBRixFQUFBRyxNQUFBQyxPQUFBSixFQUFBRyxNQUFBRSxRQUFBLGVBQ0FMLEVBQUFHLE1BQUFHLFNBQUEsc0JBQ0FOLEVBQUFHLE1BQUFJLEtBQUEsdUJBRUFQLEVBQUFHLE1BQUF0QixPQUNBNUgsU0FBQXVKLEtBQUFDLFlBQUFULEdBQ0E1SSxFQUFBNkksRUFBQXBCLEdBQUFtQixFQUFBVSxhQUNBekosU0FBQXVKLEtBQUExSSxZQUFBa0ksSUFFQTVJLElBVU8sU0FBQW9HLEVBQUFxQixFQUFBRixHQUNQLElBQUFULEVBQUFhLElBSUEsT0FIQUYsR0FBQVgsRUFBQVcsT0FDQVgsRUFBQVcsUUFFQVgsRUFBQWtCLFlBQUFULEdBQUF4SCxNQVVPLFNBQUFzRyxFQUFBcUIsRUFBQTZCLEVBQUFDLEVBQUFDLEdBQ1AsSUFBQUYsSUFDQTdCLEVBQUFnQyxVQUFBRixFQUFBQyxHQUNBL0IsRUFBQXhHLE9BQUFxSSxHQUNBN0IsRUFBQWdDLFdBQUFGLEdBQUFDLElBS08sSUFBQW5ELEVBQXFCNkIsT0FBQXZCLEVBQUEsRUFBQXVCLEdBZ0JyQixTQUFBNUIsRUFBQW1CLEVBQ1BpQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBNUgsRUFBQUMsRUFBQW5CLEdBQ0EsSUFBQStJLEVBQ0EsR0FBQU4sSUFDQU0sRUFBQXhDLEVBQUF5QyxZQUNBekMsRUFBQXlDLFlBQUFELEVBQUFOLEdBRUFELEdBQ0FqQyxFQUFBMEMsYUFBQUMsTUFBQTNDLEVBQUFpQyxHQUdBakMsRUFBQW5CLFVBQUFzRCxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBNUgsRUFBQUMsRUFBQTBILEVBQUE3SSxFQUFBOEksRUFBQTlJLEdBRUErSSxJQUNBeEMsRUFBQXlDLFlBQUFELEdBRUFQLEdBQ0FqQyxFQUFBMEMsYUFBQUMsTUFBQTNDLEVBQUFwQiwrSEMxV08sU0FBU2dFLEVBQUdDLEVBQUFDLEdBQ25CLFNBQUFDLDhEQ3lCT0MsRUFBQSxTQUFBQyxHQUNQLFNBQUFELEVBQUFFLEVBQUFDLEdBRUFGLEVBQUFHLEtBQUFDLEtBQUFILEdBT0FHLEtBQUFDLFFBQUFILEVBUUEsT0FKQUYsSUFBQUQsRUFBQU8sVUFBQU4sR0FDQUQsRUFBQVEsVUFBQS9DLE9BQUFnRCxPQUFBUixLQUFBTyxXQUNBUixFQUFBUSxVQUFBRSxZQUFBVixFQUVBQSxFQWxCTyxDQW1CTEMsRUFBQSxHQXNHRVUsRUFBWSxTQUFBQyxHQUNoQixTQUFBQyxFQUFBQyxHQUVBLElBQUFDLEVBQUFELEdBQUEsR0FFQUYsRUFBQVIsS0FBQUMsS0FBQSxDQUNBVyxhQUFBRCxFQUFBQyxhQUNBQyxnQkFBQXJELEVBQ0FzRCxNQUFhQyxFQUFBLEVBQVdDLE1BQ3hCQyxXQUFBekQsSUFBQW1ELEVBQUFNLE9BQUFOLEVBQUFNLFFBT0FoQixLQUFBaUIsUUFBbUJDLEVBQUEsRUFNbkJsQixLQUFBbUIsUUFBQVQsRUFBQVUsT0FNQXBCLEtBQUFxQixVQUFBOUQsTUFBQW1ELEVBQUFZLFVBQUFaLEVBQUFZLFNBTUF0QixLQUFBdUIsS0FBQWIsRUFBQWMsU0FFQWpFLElBQUFtRCxFQUFBZSxPQUNBekIsS0FBQWlCLFFBQUFQLEVBQUFlLFlBQ0tsRSxJQUFBeUMsS0FBQXVCLE9BQ0NuRSxPQUFBc0UsRUFBQSxFQUFBdEUsQ0FBTTRDLEtBQUFtQixRQUFBLEdBRVpuQixLQUFBaUIsUUFBcUI3RCxPQUFBdUUsRUFBQSxFQUFBdkUsQ0FBRzRDLEtBQUF1QixLQUE4RHZCLEtBQUEsVUFPdEZBLEtBQUE0QixlQUFBckUsSUFBQW1ELEVBQUFtQixTQUFBbkIsRUFBQW1CLFNBQXlFdEMsRUFFekUsSUErQ0F1QyxFQUFBQyxFQS9DQUMsT0FDQXpFLElBQUFtRCxFQUFBc0IsaUJBQUF0QixFQUFBc0IsZ0JBTUFoQyxLQUFBaUMsZUFBQUQsRUFBQSxJQUFnREUsRUFBQSxFQUFLLEtBTXJEbEMsS0FBQW1DLG9CQUFBLElBQW1DRCxFQUFBLEVBTW5DbEMsS0FBQW9DLHNCQUFBLEdBT0FwQyxLQUFBcUMsU0FBQSxHQU9BckMsS0FBQXNDLGNBQUEsR0FNQXRDLEtBQUF1QyxtQkFBQSxHQU1BdkMsS0FBQXdDLG9CQUFBLEtBR0ExUCxNQUFBQyxRQUFBMk4sRUFBQXFCLFVBQ0FBLEVBQUFyQixFQUFBcUIsU0FDS3JCLEVBQUFxQixXQUVMQSxHQURBRCxFQUFBcEIsRUFBQXFCLFVBQ0FVLFlBRUFULFFBQUF6RSxJQUFBdUUsSUFDQUEsRUFBQSxJQUF1QlksRUFBQSxFQUFVWCxTQUVqQ3hFLElBQUF3RSxHQUNBL0IsS0FBQTJDLG9CQUFBWixRQUVBeEUsSUFBQXVFLEdBQ0E5QixLQUFBNEMsd0JBQUFkLEdBbXRCQSxPQTlzQkF2QixJQUFBQyxFQUFBTixVQUFBSyxHQUNBQyxFQUFBTCxVQUFBL0MsT0FBQWdELE9BQUFHLEtBQUFKLFdBQ0FLLEVBQUFMLFVBQUFFLFlBQUFHLEVBV0FBLEVBQUFMLFVBQUEwQyxXQUFBLFNBQUE1QyxHQUNBRCxLQUFBOEMsbUJBQUE3QyxHQUNBRCxLQUFBK0MsV0FTQXZDLEVBQUFMLFVBQUEyQyxtQkFBQSxTQUFBN0MsR0FDQSxJQUFBK0MsRUFBcUI1RixPQUFBNkYsRUFBQSxFQUFBN0YsQ0FBTTZDLEdBRTNCLEdBQUFELEtBQUFrRCxZQUFBRixFQUFBL0MsR0FBQSxDQUlBRCxLQUFBbUQsbUJBQUFILEVBQUEvQyxHQUVBLElBQUFtRCxFQUFBbkQsRUFBQW9ELGNBQ0EsR0FBQUQsRUFBQSxDQUNBLElBQUE1RCxFQUFBNEQsRUFBQUUsWUFDQXRELEtBQUFpQyxnQkFDQWpDLEtBQUFpQyxlQUFBc0IsT0FBQS9ELEVBQUFTLFFBR0FELEtBQUFvQyxzQkFBQVksR0FBQS9DLEVBR0FELEtBQUF3RCxjQUNBLElBQUE3RCxFQUE0QjhELEVBQUEsRUFBZUMsV0FBQXpELE1BUzNDTyxFQUFBTCxVQUFBZ0QsbUJBQUEsU0FBQUgsRUFBQS9DLEdBQ0FELEtBQUF1QyxtQkFBQVMsR0FBQSxDQUNNNUYsT0FBQXVHLEVBQUEsRUFBQXZHLENBQU02QyxFQUFVMkQsRUFBQSxFQUFTQyxPQUMvQjdELEtBQUE4RCxxQkFBQTlELE1BQ001QyxPQUFBdUcsRUFBQSxFQUFBdkcsQ0FBTTZDLEVBQVU4RCxFQUFBLEVBQWVDLGVBQ3JDaEUsS0FBQThELHFCQUFBOUQsUUFZQVEsRUFBQUwsVUFBQStDLFlBQUEsU0FBQUYsRUFBQS9DLEdBQ0EsSUFBQWdFLEdBQUEsRUFDQUMsRUFBQWpFLEVBQUFrRSxRQVlBLFlBWEE1RyxJQUFBMkcsRUFDQUEsRUFBQUUsYUFBQXBFLEtBQUFxQyxTQUdBNEIsR0FBQSxFQUZBakUsS0FBQXFDLFNBQUE2QixFQUFBRSxZQUFBbkUsR0FLTTdDLE9BQUFzRSxFQUFBLEVBQUF0RSxHQUFNNEYsS0FBQWhELEtBQUFzQyxlQUNaLElBQ0F0QyxLQUFBc0MsY0FBQVUsR0FBQS9DLEdBRUFnRSxHQVNBekQsRUFBQUwsVUFBQWtFLFlBQUEsU0FBQXRDLEdBQ0EvQixLQUFBMkMsb0JBQUFaLEdBQ0EvQixLQUFBK0MsV0FTQXZDLEVBQUFMLFVBQUF3QyxvQkFBQSxTQUFBWixHQUtBLElBSkEsSUFBQXVDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBRUFuUyxFQUFBLEVBQUFYLEVBQUFxUSxFQUFBclEsT0FBNkNXLEVBQUFYLEVBQVlXLElBQUEsQ0FDekQsSUFBQTROLEVBQUE4QixFQUFBMVAsR0FDQTJRLEVBQXVCNUYsT0FBQTZGLEVBQUEsRUFBQTdGLENBQU02QyxHQUM3QkQsS0FBQWtELFlBQUFGLEVBQUEvQyxJQUNBc0UsRUFBQUUsS0FBQXhFLEdBSUEsUUFBQXlFLEVBQUEsRUFBQUMsRUFBQUosRUFBQTdTLE9BQW9EZ1QsRUFBQUMsRUFBZ0JELElBQUEsQ0FDcEUsSUFBQUUsRUFBQUwsRUFBQUcsR0FDQUcsRUFBeUJ6SCxPQUFBNkYsRUFBQSxFQUFBN0YsQ0FBTXdILEdBQy9CNUUsS0FBQW1ELG1CQUFBMEIsRUFBQUQsR0FFQSxJQUFBeEIsRUFBQXdCLEVBQUF2QixjQUNBLEdBQUFELEVBQUEsQ0FDQSxJQUFBNUQsRUFBQTRELEVBQUFFLFlBQ0FnQixFQUFBRyxLQUFBakYsR0FDQWdGLEVBQUFDLEtBQUFHLFFBRUE1RSxLQUFBb0Msc0JBQUF5QyxHQUFBRCxFQUdBNUUsS0FBQWlDLGdCQUNBakMsS0FBQWlDLGVBQUE2QyxLQUFBUixFQUFBRSxHQUdBLFFBQUFPLEVBQUEsRUFBQUMsRUFBQVQsRUFBQTdTLE9BQW9EcVQsRUFBQUMsRUFBZ0JELElBQ3BFL0UsS0FBQXdELGNBQUEsSUFBQTdELEVBQStDOEQsRUFBQSxFQUFlQyxXQUFBYSxFQUFBUSxNQVM5RHZFLEVBQUFMLFVBQUF5Qyx3QkFBQSxTQUFBZCxHQUNBLElBQUFtRCxHQUFBLEVBQ0k3SCxPQUFBdUcsRUFBQSxFQUFBdkcsQ0FBTTRDLEtBQU95RCxFQUFBLEVBQWVDLFdBSWhDLFNBQUF3QixHQUNBRCxJQUNBQSxHQUFBLEVBQ0FuRCxFQUFBMkMsS0FBQVMsRUFBQWpGLFNBQ0FnRixHQUFBLEtBR0k3SCxPQUFBdUcsRUFBQSxFQUFBdkcsQ0FBTTRDLEtBQU95RCxFQUFBLEVBQWUwQixjQUloQyxTQUFBRCxHQUNBRCxJQUNBQSxHQUFBLEVBQ0FuRCxFQUFBOU8sT0FBQWtTLEVBQUFqRixTQUNBZ0YsR0FBQSxLQUdJN0gsT0FBQXVHLEVBQUEsRUFBQXZHLENBQU0wRSxFQUFhc0QsRUFBQSxFQUFtQkMsSUFJMUMsU0FBQUgsR0FDQUQsSUFDQUEsR0FBQSxFQUNBakYsS0FBQTZDLFdBQXFFcUMsRUFBQSxTQUNyRUQsR0FBQSxJQUVPakYsTUFDSDVDLE9BQUF1RyxFQUFBLEVBQUF2RyxDQUFNMEUsRUFBYXNELEVBQUEsRUFBbUJFLE9BSTFDLFNBQUFKLEdBQ0FELElBQ0FBLEdBQUEsRUFDQWpGLEtBQUF1RixjQUF3RUwsRUFBQSxTQUN4RUQsR0FBQSxJQUVPakYsTUFDUEEsS0FBQXdDLG9CQUFBVixHQVNBdEIsRUFBQUwsVUFBQTlDLE1BQUEsU0FBQW1JLEdBQ0EsR0FBQUEsRUFBQSxDQUNBLFFBQUFDLEtBQUF6RixLQUFBdUMsbUJBQUEsQ0FDQXZDLEtBQUF1QyxtQkFBQWtELEdBQ0FDLFFBQXFCL0IsRUFBQSxHQUVyQjNELEtBQUF3QyxzQkFDQXhDLEtBQUF1QyxtQkFBQSxHQUNBdkMsS0FBQXFDLFNBQUEsR0FDQXJDLEtBQUFzQyxjQUFBLFNBR0EsR0FBQXRDLEtBQUFpQyxlQUVBLFFBQUFpQyxLQURBbEUsS0FBQWlDLGVBQUF5RCxRQUFBMUYsS0FBQTJGLHNCQUFBM0YsTUFDQUEsS0FBQW9DLHNCQUNBcEMsS0FBQTJGLHNCQUFBM0YsS0FBQW9DLHNCQUFBOEIsSUFJQWxFLEtBQUF3QyxxQkFDQXhDLEtBQUF3QyxvQkFBQW5GLFFBR0EyQyxLQUFBaUMsZ0JBQ0FqQyxLQUFBaUMsZUFBQTVFLFFBRUEyQyxLQUFBbUMsb0JBQUE5RSxRQUNBMkMsS0FBQW9DLHNCQUFBLEdBRUEsSUFBQXdELEVBQUEsSUFBQWpHLEVBQTJDOEQsRUFBQSxFQUFlb0MsT0FDMUQ3RixLQUFBd0QsY0FBQW9DLEdBQ0E1RixLQUFBK0MsV0FnQkF2QyxFQUFBTCxVQUFBMkYsZUFBQSxTQUFBQyxHQUNBLEdBQUEvRixLQUFBaUMsZUFDQSxPQUFBakMsS0FBQWlDLGVBQUF5RCxRQUFBSyxHQUNLL0YsS0FBQXdDLHFCQUNMeEMsS0FBQXdDLG9CQUFBa0QsUUFBQUssSUFpQkF2RixFQUFBTCxVQUFBNkYsaUNBQUEsU0FBQXhQLEVBQUF1UCxHQUNBLElBQUF2RyxFQUFBLENBQUFoSixFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLElBQ0EsT0FBQXdKLEtBQUFpRyx1QkFBQXpHLEVBQUEsU0FBQVMsR0FFQSxPQURBQSxFQUFBb0QsY0FDQTZDLHFCQUFBMVAsR0FDQXVQLEVBQUE5RixRQUVBLEtBeUJBTyxFQUFBTCxVQUFBOEYsdUJBQUEsU0FBQXpHLEVBQUF1RyxHQUNBLEdBQUEvRixLQUFBaUMsZUFDQSxPQUFBakMsS0FBQWlDLGVBQUFrRSxnQkFBQTNHLEVBQUF1RyxHQUNLL0YsS0FBQXdDLHFCQUNMeEMsS0FBQXdDLG9CQUFBa0QsUUFBQUssSUFvQkF2RixFQUFBTCxVQUFBaUcsaUNBQUEsU0FBQTVHLEVBQUF1RyxHQUNBLE9BQUEvRixLQUFBaUcsdUJBQUF6RyxFQUtBLFNBQUFTLEdBRUEsR0FEQUEsRUFBQW9ELGNBQ0FnRCxpQkFBQTdHLEdBQUEsQ0FDQSxJQUFBOEcsRUFBQVAsRUFBQTlGLEdBQ0EsR0FBQXFHLEVBQ0EsT0FBQUEsTUFjQTlGLEVBQUFMLFVBQUFvRyxzQkFBQSxXQUNBLE9BQUF2RyxLQUFBd0MscUJBU0FoQyxFQUFBTCxVQUFBcUcsWUFBQSxXQUNBLElBQUF6RSxFQVNBLE9BUkEvQixLQUFBd0Msb0JBQ0FULEVBQUEvQixLQUFBd0Msb0JBQUFDLFdBQ0t6QyxLQUFBaUMsaUJBQ0xGLEVBQUEvQixLQUFBaUMsZUFBQXdFLFNBQ1dySixPQUFBc0osRUFBQSxFQUFBdEosQ0FBTzRDLEtBQUFvQyx3QkFDVmhGLE9BQUF1SixFQUFBLEVBQUF2SixDQUFNMkUsRUFBVzNFLE9BQUFzSixFQUFBLEVBQUF0SixDQUFTNEMsS0FBQW9DLHlCQUdsQyxHQVlBNUIsRUFBQUwsVUFBQXlHLHdCQUFBLFNBQUFwUSxHQUNBLElBQUF1TCxFQUFBLEdBSUEsT0FIQS9CLEtBQUFnRyxpQ0FBQXhQLEVBQUEsU0FBQXlKLEdBQ0E4QixFQUFBMEMsS0FBQXhFLEtBRUE4QixHQWVBdkIsRUFBQUwsVUFBQTBHLG9CQUFBLFNBQUFySCxHQUNBLE9BQUFRLEtBQUFpQyxlQUFBNkUsWUFBQXRILElBZ0JBZ0IsRUFBQUwsVUFBQTRHLDhCQUFBLFNBQUF2USxFQUFBd1EsR0FRQSxJQUFBMVAsRUFBQWQsRUFBQSxHQUNBZSxFQUFBZixFQUFBLEdBQ0F5USxFQUFBLEtBQ0FDLEVBQUEsQ0FBQUMsU0FDQUMsRUFBQTFILElBQ0FGLEVBQUEsRUFBQUUsa0JBQ0EySCxFQUFBTCxHQUEyQzlGLEVBQUEsRUF5QjNDLE9BeEJBbEIsS0FBQWlDLGVBQUFrRSxnQkFBQTNHLEVBSUEsU0FBQVMsR0FDQSxHQUFBb0gsRUFBQXBILEdBQUEsQ0FDQSxJQUFBbUQsRUFBQW5ELEVBQUFvRCxjQUNBaUUsRUFBQUYsRUFHQSxJQUZBQSxFQUFBaEUsRUFBQW1FLGVBQ0FqUSxFQUFBQyxFQUFBMlAsRUFBQUUsSUFDQUUsRUFBQSxDQUNBTCxFQUFBaEgsRUFLQSxJQUFBdUgsRUFBQXJRLEtBQUFDLEtBQUFnUSxHQUNBNUgsRUFBQSxHQUFBbEksRUFBQWtRLEVBQ0FoSSxFQUFBLEdBQUFqSSxFQUFBaVEsRUFDQWhJLEVBQUEsR0FBQWxJLEVBQUFrUSxFQUNBaEksRUFBQSxHQUFBakksRUFBQWlRLE1BSUFQLEdBY0F6RyxFQUFBTCxVQUFBbUQsVUFBQSxTQUFBbUUsR0FDQSxPQUFBekgsS0FBQWlDLGVBQUFxQixVQUFBbUUsSUFhQWpILEVBQUFMLFVBQUF1SCxlQUFBLFNBQUF4RCxHQUNBLElBQUFqRSxFQUFBRCxLQUFBcUMsU0FBQTZCLEVBQUFFLFlBQ0EsWUFBQTdHLElBQUEwQyxJQUFBLE1BVUFPLEVBQUFMLFVBQUF3SCxVQUFBLFdBQ0EsT0FBQTNILEtBQUFtQixTQU9BWCxFQUFBTCxVQUFBeUgsWUFBQSxXQUNBLE9BQUE1SCxLQUFBcUIsV0FVQWIsRUFBQUwsVUFBQTBILE9BQUEsV0FDQSxPQUFBN0gsS0FBQXVCLE1BUUFmLEVBQUFMLFVBQUEyRCxxQkFBQSxTQUFBZ0UsR0FDQSxJQUFBN0gsRUFBNkQ2SCxFQUFBLE9BQzdEOUUsRUFBcUI1RixPQUFBNkYsRUFBQSxFQUFBN0YsQ0FBTTZDLEdBQzNCbUQsRUFBQW5ELEVBQUFvRCxjQUNBLEdBQUFELEVBT0ssQ0FDTCxJQUFBNUQsRUFBQTRELEVBQUFFLFlBQ0FOLEtBQUFoRCxLQUFBb0MsOEJBQ0FwQyxLQUFBb0Msc0JBQUFZLEdBQ0FoRCxLQUFBaUMsZ0JBQ0FqQyxLQUFBaUMsZUFBQXNCLE9BQUEvRCxFQUFBUyxJQUdBRCxLQUFBaUMsZ0JBQ0FqQyxLQUFBaUMsZUFBQThGLE9BQUF2SSxFQUFBUyxRQWZBK0MsS0FBQWhELEtBQUFvQyx3QkFDQXBDLEtBQUFpQyxnQkFDQWpDLEtBQUFpQyxlQUFBalAsT0FBQWlOLEdBRUFELEtBQUFvQyxzQkFBQVksR0FBQS9DLEdBZUEsSUFBQWlFLEVBQUFqRSxFQUFBa0UsUUFDQSxRQUFBNUcsSUFBQTJHLEVBQUEsQ0FDQSxJQUFBOEQsRUFBQTlELEVBQUFFLFdBQ0FwQixLQUFBaEQsS0FBQXNDLHNCQUNBdEMsS0FBQXNDLGNBQUFVLEdBQ0FoRCxLQUFBcUMsU0FBQTJGLEdBQUEvSCxHQUVBRCxLQUFBcUMsU0FBQTJGLEtBQUEvSCxJQUNBRCxLQUFBaUksbUJBQUFoSSxHQUNBRCxLQUFBcUMsU0FBQTJGLEdBQUEvSCxRQUlBK0MsS0FBQWhELEtBQUFzQyxnQkFDQXRDLEtBQUFpSSxtQkFBQWhJLEdBQ0FELEtBQUFzQyxjQUFBVSxHQUFBL0MsR0FHQUQsS0FBQStDLFVBQ0EvQyxLQUFBd0QsY0FBQSxJQUFBN0QsRUFDTThELEVBQUEsRUFBZXlFLGNBQUFqSSxLQVNyQk8sRUFBQUwsVUFBQWdJLFdBQUEsU0FBQWxJLEdBQ0EsSUFBQWlFLEVBQUFqRSxFQUFBa0UsUUFDQSxZQUFBNUcsSUFBQTJHLEVBQ0FBLEtBQUFsRSxLQUFBcUMsU0FFYWpGLE9BQUE2RixFQUFBLEVBQUE3RixDQUFNNkMsS0FBQUQsS0FBQXNDLGVBT25COUIsRUFBQUwsVUFBQWlJLFFBQUEsV0FDQSxPQUFBcEksS0FBQWlDLGVBQUFtRyxXQUE0Q2hMLE9BQUFzSixFQUFBLEVBQUF0SixDQUFPNEMsS0FBQW9DLHdCQVNuRDVCLEVBQUFMLFVBQUFrSSxhQUFBLFNBQUE3SSxFQUFBQyxFQUFBbUIsR0FDQSxJQUFBMEgsRUFBQXRJLEtBRUF1SSxFQUFBdkksS0FBQW1DLG9CQUNBcUcsRUFBQXhJLEtBQUE0QixVQUFBcEMsRUFBQUMsR0FDQU8sS0FBQXlJLFNBQUEsRUFrQkEsSUFqQkEsSUFBQUMsRUFBQSxTQUFBclcsRUFBQXFMLEdBQ0EsSUFBQWlMLEVBQUFILEVBQUFuVyxHQUNBa1csRUFBQXBDLGdCQUFBd0MsRUFLQSxTQUFBQyxHQUNBLE9BQWlCeEwsT0FBQXlMLEVBQUEsRUFBQXpMLENBQWN3TCxFQUFBcEosT0FBQW1KLE9BRy9CTCxFQUFBckgsUUFBQWxCLEtBQUF1SSxFQUFBSyxFQUFBbEosRUFBQW1CLEdBQ0EySCxFQUFBaEYsT0FBQW9GLEVBQUEsQ0FBaURuSixPQUFBbUosRUFBQUcsVUFDakRSLEVBQUFHLFFBQUFILEVBQUFySCxVQUE0Q0MsRUFBQSxJQUk1QzdPLEVBQUEsRUFBQXFMLEVBQUE4SyxFQUFBOVcsT0FBOENXLEVBQUFxTCxJQUFRckwsRUFBQXFXLEVBQUFyVyxJQVN0RG1PLEVBQUFMLFVBQUE0SSxtQkFBQSxTQUFBdkosR0FDQSxJQUNBeE4sRUFEQXVXLEVBQUF2SSxLQUFBbUMsb0JBRUFvRyxFQUFBcEMsZ0JBQUEzRyxFQUFBLFNBQUFvSixHQUNBLEdBQVV4TCxPQUFBeUwsRUFBQSxFQUFBekwsQ0FBTXdMLEVBQUFwSixVQUVoQixPQURBeE4sRUFBQTRXLEdBQ0EsSUFHQTVXLEdBQ0F1VyxFQUFBdlYsT0FBQWhCLElBWUF3TyxFQUFBTCxVQUFBb0YsY0FBQSxTQUFBdEYsR0FDQSxJQUFBK0MsRUFBcUI1RixPQUFBNkYsRUFBQSxFQUFBN0YsQ0FBTTZDLEdBQzNCK0MsS0FBQWhELEtBQUFvQyw2QkFDQXBDLEtBQUFvQyxzQkFBQVksR0FFQWhELEtBQUFpQyxnQkFDQWpDLEtBQUFpQyxlQUFBalAsT0FBQWlOLEdBR0FELEtBQUEyRixzQkFBQTFGLEdBQ0FELEtBQUErQyxXQVNBdkMsRUFBQUwsVUFBQXdGLHNCQUFBLFNBQUExRixHQUNBLElBQUErQyxFQUFxQjVGLE9BQUE2RixFQUFBLEVBQUE3RixDQUFNNkMsR0FDM0JELEtBQUF1QyxtQkFBQVMsR0FBQTBDLFFBQWdEL0IsRUFBQSxVQUNoRDNELEtBQUF1QyxtQkFBQVMsR0FDQSxJQUFBa0IsRUFBQWpFLEVBQUFrRSxhQUNBNUcsSUFBQTJHLFNBQ0FsRSxLQUFBcUMsU0FBQTZCLEVBQUFFLG1CQUVBcEUsS0FBQXNDLGNBQUFVLEdBRUFoRCxLQUFBd0QsY0FBQSxJQUFBN0QsRUFDTThELEVBQUEsRUFBZTBCLGNBQUFsRixLQVdyQk8sRUFBQUwsVUFBQThILG1CQUFBLFNBQUFoSSxHQUNBLElBQUErSSxHQUFBLEVBQ0EsUUFBQTlFLEtBQUFsRSxLQUFBcUMsU0FDQSxHQUFBckMsS0FBQXFDLFNBQUE2QixLQUFBakUsRUFBQSxRQUNBRCxLQUFBcUMsU0FBQTZCLEdBQ0E4RSxHQUFBLEVBQ0EsTUFHQSxPQUFBQSxHQVVBeEksRUFBQUwsVUFBQThJLFVBQUEsU0FBQXhILEdBQ0F6QixLQUFBaUIsUUFBQVEsR0FHQWpCLEVBbDBCZ0IsQ0FtMEJkMEksRUFBQSxHQUdhelUsRUFBQSxzQ0NyK0JmRixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBMFUsSUFBQTVVLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUEyVSxJQUFBN1UsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQTJQLElBQUEsSUFBQWlGLEVBQUE5VSxFQUFBLEdBQUErVSxFQUFBL1UsRUFBQSxHQXVCQWdWLEVBQUEsb0RBU0FDLEVBQUEsY0FTTyxTQUFBTCxFQUFBTSxHQUNQLHVCQUFBQSxFQUNBQSxFQUVBckYsRUFBQXFGLEdBMkJPLElBZ0JQQyxFQUtBQyxFQXJCT0MsR0FnQlBGLEVBQUEsR0FLQUMsRUFBQSxFQUVBLFNBS0FFLEdBQ0EsSUFBQUosRUFDQSxHQUFBQyxFQUFBSSxlQUFBRCxHQUNBSixFQUFBQyxFQUFBRyxPQUNTLENBQ1QsR0FBQUYsR0F0QkEsS0FzQkEsQ0FDQSxJQUFBdFgsRUFBQSxFQUNBLFFBQUEwWCxLQUFBTCxFQUNBLE1BQUFyWCxjQUNBcVgsRUFBQUssS0FDQUosR0FJQUYsRUE4QkEsU0FBQUksR0FDQSxJQUFBbFQsRUFBQXFULEVBQUFuWSxFQUFBRCxFQUFBNlgsRUFNQSxHQUpBRCxFQUFBUyxLQUFBSixLQUNBQSxFQTlGQSxTQUFBSixHQUNBLElBQUExVixFQUFBZSxTQUFBQyxjQUFBLE9BRUEsR0FEQWhCLEVBQUFpSyxNQUFBeUwsUUFDQSxLQUFBMVYsRUFBQWlLLE1BQUF5TCxNQUFBLENBQ0EzVSxTQUFBdUosS0FBQUMsWUFBQXZLLEdBQ0EsSUFBQW1XLEVBQUFDLGlCQUFBcFcsR0FBQTBWLE1BRUEsT0FEQTNVLFNBQUF1SixLQUFBMUksWUFBQTVCLEdBQ0FtVyxFQUVBLFNBcUZBRSxDQUFBUCxJQUdBTixFQUFBVSxLQUFBSixHQUFBLENBQ0EsSUFDQXJWLEVBREFsQyxFQUFBdVgsRUFBQW5ZLE9BQUEsRUFHQThDLEVBREFsQyxHQUFBLEVBQ0EsRUFFQSxFQUVBLElBQUErWCxFQUFBLElBQUEvWCxHQUFBLElBQUFBLEVBQ0FxRSxFQUFBMlQsU0FBQVQsRUFBQVUsT0FBQSxJQUFBL1YsS0FBQSxJQUNBd1YsRUFBQU0sU0FBQVQsRUFBQVUsT0FBQSxJQUFBL1YsS0FBQSxJQUNBM0MsRUFBQXlZLFNBQUFULEVBQUFVLE9BQUEsSUFBQS9WLEtBQUEsSUFFQTVDLEVBREF5WSxFQUNBQyxTQUFBVCxFQUFBVSxPQUFBLElBQUEvVixLQUFBLElBRUEsSUFFQSxHQUFBQSxJQUNBbUMsTUFBQSxHQUFBQSxFQUNBcVQsTUFBQSxHQUFBQSxFQUNBblksTUFBQSxHQUFBQSxFQUNBd1ksSUFDQXpZLE1BQUEsR0FBQUEsSUFHQTZYLEVBQUEsQ0FBQTlTLEVBQUFxVCxFQUFBblksRUFBQUQsRUFBQSxVQUNHLEdBQUFpWSxFQUFBNVgsUUFBQSxTQUVIdVksRUFEQWYsRUFBQUksRUFBQWYsTUFBQSxNQUFBMkIsTUFBQSxLQUFBQyxJQUFBQyxTQUVHLEdBQUFkLEVBQUE1WCxRQUFBLFVBQ0h3WCxFQUFBSSxFQUFBZixNQUFBLE1BQUEyQixNQUFBLEtBQUFDLElBQUFDLFNBQ0FsRyxLQUFBLEdBQ0ErRixFQUFBZixJQUVJck0sT0FBQWlNLEVBQUEsRUFBQWpNLEVBQU0sTUFFVixPQUFBcU0sRUF6RUFtQixDQUFBZixHQUNBSCxFQUFBRyxHQUFBSixJQUNBRSxFQUVBLE9BQUFGLElBYU8sU0FBQUwsRUFBQUssR0FDUCxPQUFBM1csTUFBQUMsUUFBQTBXLEdBQ0FBLEVBRUFHLEVBQUFILEdBNkRPLFNBQUFlLEVBQUFmLEdBS1AsT0FKQUEsRUFBQSxHQUFhck0sT0FBQWtNLEVBQUEsRUFBQWxNLENBQUtxTSxFQUFBLGVBQ2xCQSxFQUFBLEdBQWFyTSxPQUFBa00sRUFBQSxFQUFBbE0sQ0FBS3FNLEVBQUEsZUFDbEJBLEVBQUEsR0FBYXJNLE9BQUFrTSxFQUFBLEVBQUFsTSxDQUFLcU0sRUFBQSxlQUNsQkEsRUFBQSxHQUFhck0sT0FBQWtNLEVBQUEsRUFBQWxNLENBQUtxTSxFQUFBLFFBQ2xCQSxFQVFPLFNBQUFyRixFQUFBcUYsR0FDUCxJQUFBOVMsRUFBQThTLEVBQUEsR0FDQTlTLElBQUEsRUFBQUEsS0FDQUEsSUFBQSxNQUVBLElBQUFxVCxFQUFBUCxFQUFBLEdBQ0FPLElBQUEsRUFBQUEsS0FDQUEsSUFBQSxNQUVBLElBQUFuWSxFQUFBNFgsRUFBQSxHQUtBLE9BSkE1WCxJQUFBLEVBQUFBLEtBQ0FBLElBQUEsTUFHQSxRQUFBOEUsRUFBQSxJQUFBcVQsRUFBQSxJQUFBblksRUFBQSxVQURBMEwsSUFBQWtNLEVBQUEsS0FBQUEsRUFBQSxJQUNBLHNDQy9OQWxWLEVBQUFvQyxFQUFBbEMsR0FBQUYsRUFBQUMsRUFBQUMsRUFBQSx3Q0FBQW9XLElBQUEsSUFBQXhCLEVBQUE5VSxFQUFBLEdBQUF1VyxFQUFBdlcsRUFBQSxHQUFBd1csRUFBQXhXLEVBQUEsR0FBQXlXLEVBQUF6VyxFQUFBLElBNERBMFcsRUFBQSxTQUFBQyxHQUNBLFNBQUFELEVBQUFFLEdBdUNBLEdBckNBRCxFQUFBbkwsS0FBQUMsTUFNQUEsS0FBQW9MLFNBQUE3TixFQU1BeUMsS0FBQXFMLGNBQUEsV0FPQXJMLEtBQUFzTCxPQUFBLEtBTUF0TCxLQUFBdUwsb0JBQUFoTyxFQU1BeUMsS0FBQXdMLG1CQUFBLEtBRUlwTyxPQUFBME4sRUFBQSxFQUFBMU4sQ0FDSjRDLEtBQVk1QyxPQUFBNE4sRUFBQSxFQUFBNU4sQ0FBa0I0QyxLQUFBcUwsZUFDOUJyTCxLQUFBeUwsdUJBQUF6TCxNQUVBbUwsRUFDQSxHQUE4QixxQkFBQU8sc0JBQUEsQ0FDOUIsSUFBQXRJLEVBQXVFLEVBQ3ZFcEQsS0FBQTJMLFlBQUF2SSxPQUNPLENBRVAsSUFBQXdJLEVBQUFULEVBQ0FuTCxLQUFBNkwsY0FBQUQsSUFxS0EsT0FoS0FWLElBQUFELEVBQUEvSyxVQUFBZ0wsR0FDQUQsRUFBQTlLLFVBQUEvQyxPQUFBZ0QsT0FBQThLLEtBQUEvSyxXQUNBOEssRUFBQTlLLFVBQUFFLFlBQUE0SyxFQVFBQSxFQUFBOUssVUFBQTJMLE1BQUEsV0FDQSxJQUFBQSxFQUFBLElBQUFiLEVBQUFqTCxLQUFBK0wsaUJBQ0FELEVBQUFFLGdCQUFBaE0sS0FBQWlNLG1CQUNBLElBQUE3SSxFQUFBcEQsS0FBQXFELGNBQ0FELEdBQ0EwSSxFQUFBSCxZQUFBdkksRUFBQTBJLFNBRUEsSUFBQTlOLEVBQUFnQyxLQUFBa00sV0FJQSxPQUhBbE8sR0FDQThOLEVBQUFLLFNBQUFuTyxHQUVBOE4sR0FXQWIsRUFBQTlLLFVBQUFrRCxZQUFBLFdBQ0EsT0FDZ0VyRCxLQUFBb00sSUFBQXBNLEtBQUFxTCxnQkFXaEVKLEVBQUE5SyxVQUFBZ0UsTUFBQSxXQUNBLE9BQUFuRSxLQUFBb0wsS0FVQUgsRUFBQTlLLFVBQUE4TCxnQkFBQSxXQUNBLE9BQUFqTSxLQUFBcUwsZUFTQUosRUFBQTlLLFVBQUErTCxTQUFBLFdBQ0EsT0FBQWxNLEtBQUFzTCxRQVNBTCxFQUFBOUssVUFBQWtNLGlCQUFBLFdBQ0EsT0FBQXJNLEtBQUF1TCxnQkFNQU4sRUFBQTlLLFVBQUFtTSxzQkFBQSxXQUNBdE0sS0FBQStDLFdBTUFrSSxFQUFBOUssVUFBQXNMLHVCQUFBLFdBQ0F6TCxLQUFBd0wscUJBQ01wTyxPQUFBME4sRUFBQSxFQUFBMU4sQ0FBYTRDLEtBQUF3TCxvQkFDbkJ4TCxLQUFBd0wsbUJBQUEsTUFFQSxJQUFBcEksRUFBQXBELEtBQUFxRCxjQUNBRCxJQUNBcEQsS0FBQXdMLG1CQUFnQ3BPLE9BQUEwTixFQUFBLEVBQUExTixDQUFNZ0csRUFDOUIySCxFQUFBLEVBQVNsSCxPQUFBN0QsS0FBQXNNLHNCQUFBdE0sT0FFakJBLEtBQUErQyxXQVVBa0ksRUFBQTlLLFVBQUF3TCxZQUFBLFNBQUF2SSxHQUNBcEQsS0FBQXVNLElBQUF2TSxLQUFBcUwsY0FBQWpJLElBV0E2SCxFQUFBOUssVUFBQWdNLFNBQUEsU0FBQW5PLEdBQ0FnQyxLQUFBc0wsT0FBQXROLEVBQ0FnQyxLQUFBdUwsZUFBQXZOLEVBQUE2TSxFQUFBN00sUUFBQVQsRUFDQXlDLEtBQUErQyxXQVlBa0ksRUFBQTlLLFVBQUFxTSxNQUFBLFNBQUF0SSxHQUNBbEUsS0FBQW9MLElBQUFsSCxFQUNBbEUsS0FBQStDLFdBVUFrSSxFQUFBOUssVUFBQTZMLGdCQUFBLFNBQUFTLEdBQ0lyUCxPQUFBME4sRUFBQSxFQUFBMU4sQ0FDSjRDLEtBQVk1QyxPQUFBNE4sRUFBQSxFQUFBNU4sQ0FBa0I0QyxLQUFBcUwsZUFDOUJyTCxLQUFBeUwsdUJBQUF6TCxNQUNBQSxLQUFBcUwsY0FBQW9CLEVBQ0lyUCxPQUFBME4sRUFBQSxFQUFBMU4sQ0FDSjRDLEtBQVk1QyxPQUFBNE4sRUFBQSxFQUFBNU4sQ0FBa0I0QyxLQUFBcUwsZUFDOUJyTCxLQUFBeUwsdUJBQUF6TCxNQUNBQSxLQUFBeUwsMEJBR0FSLEVBcE5BLENBcU5FRCxFQUFBLEdBV0ssU0FBQUgsRUFBQTdZLEdBQ1AseUJBQUFBLEVBQ0FBLEdBTUFjLE1BQUFDLFFBQUFmLEdBQ0EwYSxFQUFBMWEsR0FFTW9MLE9BQUFpTSxFQUFBLEVBQUFqTSxDQUEyQixxQkFBQXVQLFVBQ2pDLElBRUFELEVBQUEsQ0FEZ0UsSUFHaEUsV0FDQSxPQUFBQSxJQVZBLElBQUFBLEVBY2VqWSxFQUFBLHdDQzlSUixTQUFBbVksRUFBQXZRLEVBQUF3USxFQUFBQyxHQU1QLFlBTEF2UCxJQUFBdVAsSUFDQUEsRUFBQSxPQUVBQSxFQUFBLEdBQUF6USxFQUFBLEtBQUF3USxFQUNBQyxFQUFBLEdBQUF6USxFQUFBLEtBQUF3USxFQUNBQyxFQVNPLFNBQUFDLEVBQUExUSxHQUNQLE9BQUFBLEVBQUEsTUFBQUEsRUFBQSxLQVdPLFNBQUFqRyxFQUFBaUcsRUFBQTJRLEVBQUFGLEdBTVAsWUFMQXZQLElBQUF1UCxJQUNBQSxFQUFBLE9BRUFBLEVBQUEsR0FBQXpRLEVBQUEsR0FBQTJRLEVBQUEsS0FDQUYsRUFBQSxHQUFBelEsRUFBQSxHQUFBMlEsRUFBQSxLQUNBRixFQWFPLFNBQUFHLEVBQUE1USxFQUFBeVEsR0FDUCxPQUFBaGEsTUFBQUMsUUFBQXNKLEdBQ0FBLFFBRUFrQixJQUFBdVAsRUFDQUEsRUFBQSxDQUFBelEsS0FFQXlRLEVBQUEsR0FBQUEsRUFBQSxHQUFvRCxFQUVwREEsR0ExRUF2WSxFQUFBQyxFQUFBQyxFQUFBLHNCQUFBbVksSUFBQXJZLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUFzWSxJQUFBeFksRUFBQUMsRUFBQUMsRUFBQSxzQkFBQTJCLElBQUE3QixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBd1ksbUNDVU8sU0FBQUMsRUFBQUMsRUFBQW5ZLEVBQUFvWSxHQUNQLElBQUFDLE9BQUE5UCxJQUFBNlAsRUFBQUQsRUFBQUcsUUFBQUYsR0FBQSxHQUFBRCxFQUNBSSxFQUFBRixFQUFBcGIsUUFBQSxLQUVBLE9BREFzYixHQUFBLElBQUFBLEVBQUFGLEVBQUEzYixPQUFBNmIsR0FDQXZZLEVBQUFxWSxFQUFBLElBQUF2YSxNQUFBLEVBQUFrQyxFQUFBdVksR0FBQUMsS0FBQSxLQUFBSCxFQVVPLFNBQUFJLEVBQUFDLEVBQUFDLEdBSVAsSUFIQSxJQUFBQyxHQUFBLEdBQUFGLEdBQUFqRCxNQUFBLEtBQ0FvRCxHQUFBLEdBQUFGLEdBQUFsRCxNQUFBLEtBRUFwWSxFQUFBLEVBQWlCQSxFQUFBOEUsS0FBQTJXLElBQUFGLEVBQUFsYyxPQUFBbWMsRUFBQW5jLFFBQW9DVyxJQUFBLENBQ3JELElBQUEwYixFQUFBekQsU0FBQXNELEVBQUF2YixJQUFBLFFBQ0EyYixFQUFBMUQsU0FBQXVELEVBQUF4YixJQUFBLFFBRUEsR0FBQTBiLEVBQUFDLEVBQ0EsU0FFQSxHQUFBQSxFQUFBRCxFQUNBLFNBSUEsU0F4Q0F4WixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBeVksSUFBQTNZLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUFnWixrQ0NBQSxJQUFBUSxFQUFBMVosRUFBQSxHQUFBMlosRUFBQTNaLEVBQUEsSUFBQTRaLEVBQUE1WixFQUFBakMsRUFBQTRiLEdBQUFFLEVBQUE3WixFQUFBLEdBQUE4WixFQUFBOVosRUFBQSxHQXdCQTJOLEVBQUEsU0FBQW9NLEdBS0F0TyxLQUFBdU8sT0FBZ0JKLElBQUtHLE9BQUEvUSxHQVFyQnlDLEtBQUF3TyxPQUFBLElBU0F0TSxFQUFBL0IsVUFBQW9ELE9BQUEsU0FBQS9ELEVBQUFwTSxHQUVBLElBQUFxYixFQUFBLENBQ0FDLEtBQUFsUCxFQUFBLEdBQ0FtUCxLQUFBblAsRUFBQSxHQUNBb1AsS0FBQXBQLEVBQUEsR0FDQXFQLEtBQUFyUCxFQUFBLEdBQ0FwTSxTQUdBNE0sS0FBQXVPLE9BQUFoTCxPQUFBa0wsR0FDQXpPLEtBQUF3TyxPQUFjcFIsT0FBQTZRLEVBQUEsRUFBQTdRLENBQU1oSyxJQUFBcWIsR0FTcEJ2TSxFQUFBL0IsVUFBQTJFLEtBQUEsU0FBQVIsRUFBQXdLLEdBRUEsSUFEQSxJQUFBQyxFQUFBLElBQUFqYyxNQUFBZ2MsRUFBQXBkLFFBQ0FXLEVBQUEsRUFBQTJjLEVBQUFGLEVBQUFwZCxPQUFvQ1csRUFBQTJjLEVBQU8zYyxJQUFBLENBQzNDLElBQUFtTixFQUFBOEUsRUFBQWpTLEdBQ0FlLEVBQUEwYixFQUFBemMsR0FHQW9jLEVBQUEsQ0FDQUMsS0FBQWxQLEVBQUEsR0FDQW1QLEtBQUFuUCxFQUFBLEdBQ0FvUCxLQUFBcFAsRUFBQSxHQUNBcVAsS0FBQXJQLEVBQUEsR0FDQXBNLFNBRUEyYixFQUFBMWMsR0FBQW9jLEVBQ0F6TyxLQUFBd08sT0FBZ0JwUixPQUFBNlEsRUFBQSxFQUFBN1EsQ0FBTWhLLElBQUFxYixFQUV0QnpPLEtBQUF1TyxPQUFBekosS0FBQWlLLElBU0E3TSxFQUFBL0IsVUFBQW5OLE9BQUEsU0FBQUksR0FDQSxJQUFBNmIsRUFBWTdSLE9BQUE2USxFQUFBLEVBQUE3USxDQUFNaEssR0FJbEJxYixFQUFBek8sS0FBQXdPLE9BQUFTLEdBRUEsY0FEQWpQLEtBQUF3TyxPQUFBUyxHQUNBLE9BQUFqUCxLQUFBdU8sT0FBQXZiLE9BQUF5YixJQVNBdk0sRUFBQS9CLFVBQUE0SCxPQUFBLFNBQUF2SSxFQUFBcE0sR0FDQSxJQUFBcWIsRUFBQXpPLEtBQUF3TyxPQUF5QnBSLE9BQUE2USxFQUFBLEVBQUE3USxDQUFNaEssSUFDL0I4YixFQUFBLENBQUFULEVBQUFDLEtBQUFELEVBQUFFLEtBQUFGLEVBQUFHLEtBQUFILEVBQUFJLE1BQ096UixPQUFBZ1IsRUFBQSxFQUFBaFIsQ0FBTThSLEVBQUExUCxLQUNiUSxLQUFBaE4sT0FBQUksR0FDQTRNLEtBQUF1RCxPQUFBL0QsRUFBQXBNLEtBU0E4TyxFQUFBL0IsVUFBQXNHLE9BQUEsV0FFQSxPQURBekcsS0FBQXVPLE9BQUFZLE1BQ0F6RSxJQUFBLFNBQUErRCxHQUNBLE9BQUFBLEVBQUFyYixTQVVBOE8sRUFBQS9CLFVBQUEyRyxZQUFBLFNBQUF0SCxHQUVBLElBQUEwUCxFQUFBLENBQ0FSLEtBQUFsUCxFQUFBLEdBQ0FtUCxLQUFBblAsRUFBQSxHQUNBb1AsS0FBQXBQLEVBQUEsR0FDQXFQLEtBQUFyUCxFQUFBLElBR0EsT0FEQVEsS0FBQXVPLE9BQUFhLE9BQUFGLEdBQ0F4RSxJQUFBLFNBQUErRCxHQUNBLE9BQUFBLEVBQUFyYixTQWNBOE8sRUFBQS9CLFVBQUF1RixRQUFBLFNBQUFLLEVBQUFzSixHQUNBLE9BQUFyUCxLQUFBc1AsU0FBQXRQLEtBQUF5RyxTQUFBVixFQUFBc0osSUFZQW5OLEVBQUEvQixVQUFBZ0csZ0JBQUEsU0FBQTNHLEVBQUF1RyxFQUFBc0osR0FDQSxPQUFBclAsS0FBQXNQLFNBQUF0UCxLQUFBOEcsWUFBQXRILEdBQUF1RyxFQUFBc0osSUFZQW5OLEVBQUEvQixVQUFBbVAsU0FBQSxTQUFBUixFQUFBL0ksRUFBQXNKLEdBRUEsSUFEQSxJQUFBL0ksRUFDQWpVLEVBQUEsRUFBQTJjLEVBQUFGLEVBQUFwZCxPQUFvQ1csRUFBQTJjLEVBQU8zYyxJQUUzQyxHQURBaVUsRUFBQVAsRUFBQWhHLEtBQUFzUCxFQUFBUCxFQUFBemMsSUFFQSxPQUFBaVUsRUFHQSxPQUFBQSxHQU9BcEUsRUFBQS9CLFVBQUFpSSxRQUFBLFdBQ0EsT0FBU2hMLE9BQUFpUixFQUFBLEVBQUFqUixDQUFPNEMsS0FBQXdPLFNBT2hCdE0sRUFBQS9CLFVBQUE5QyxNQUFBLFdBQ0EyQyxLQUFBdU8sT0FBQWxSLFFBQ0EyQyxLQUFBd08sT0FBQSxJQVFBdE0sRUFBQS9CLFVBQUFtRCxVQUFBLFNBQUFtRSxHQUNBLElBQUE3VSxFQUFBb04sS0FBQXVPLE9BQUFnQixTQUNBLE9BQVNuUyxPQUFBZ1IsRUFBQSxFQUFBaFIsQ0FBY3hLLEVBQUE4YixLQUFBOWIsRUFBQStiLEtBQUEvYixFQUFBZ2MsS0FBQWhjLEVBQUFpYyxLQUFBcEgsSUFPdkJ2RixFQUFBL0IsVUFBQXFQLE9BQUEsU0FBQUMsR0FFQSxRQUFBcGQsS0FEQTJOLEtBQUF1TyxPQUFBekosS0FBQTJLLEVBQUFsQixPQUFBWSxPQUNBTSxFQUFBakIsT0FDQXhPLEtBQUF3TyxPQUFBbmMsR0FBQW9kLEVBQUFqQixPQUFBbmMsSUFLZW9DLEVBQUEsa0NDcE9BQSxFQUFBLEdBTWZpUCxXQUFBLGFBT0F3RSxjQUFBLGdCQU9BckMsTUFBQSxRQVFBVixjQUFBLCtDQ25DQSxJQUFBOEksRUFBQTFaLEVBQUEsR0FBQW1iLEVBQUFuYixFQUFBLElBQUFvYixFQUFBcGIsRUFBQSxJQUFBcWIsRUFBQXJiLEVBQUEsSUFpREFnTSxFQUFBLFNBQUEySyxHQUNBLFNBQUEzSyxFQUFBRyxHQUVBd0ssRUFBQW5MLEtBQUFDLE1BTUFBLEtBQUE2UCxZQUF1QnpTLE9BQUF1UyxFQUFBLEVBQUF2UyxDQUFhc0QsRUFBQUUsWUFNcENaLEtBQUE4UCxjQUFBQyxFQUFBclAsRUFBQUMsY0FNQVgsS0FBQWdRLDhCQUFBelMsSUFBQW1ELEVBQUF1UCx5QkFDQXZQLEVBQUF1UCx3QkFPQWpRLEtBQUF5SSxTQUFBLEVBTUF6SSxLQUFBa1EsWUFBQTNTLElBQUFtRCxFQUFBRyxNQUNBSCxFQUFBRyxNQUFzQitPLEVBQUEsRUFBVzdPLE1BTWpDZixLQUFBbVEsWUFBQTVTLElBQUFtRCxFQUFBTSxPQUFBTixFQUFBTSxNQXNGQSxPQWxGQWtLLElBQUEzSyxFQUFBTCxVQUFBZ0wsR0FDQTNLLEVBQUFKLFVBQUEvQyxPQUFBZ0QsT0FBQThLLEtBQUEvSyxXQUNBSSxFQUFBSixVQUFBRSxZQUFBRSxFQU1BQSxFQUFBSixVQUFBaVEsZ0JBQUEsV0FDQSxPQUFBcFEsS0FBQThQLGVBTUF2UCxFQUFBSixVQUFBa1EsMkJBQUEsV0FDQSxPQUFBclEsS0FBQWdRLDBCQVFBelAsRUFBQUosVUFBQW1RLGNBQUEsV0FDQSxPQUFBdFEsS0FBQTZQLGFBT0F0UCxFQUFBSixVQUFBb1EsZUFBQSxXQUNBLE9BQVduVCxPQUFBNlEsRUFBQSxFQUFBN1EsSUFRWG1ELEVBQUFKLFVBQUFxUSxTQUFBLFdBQ0EsT0FBQXhRLEtBQUFrUSxRQU1BM1AsRUFBQUosVUFBQXNRLFNBQUEsV0FDQSxPQUFBelEsS0FBQW1RLFFBT0E1UCxFQUFBSixVQUFBdVEsUUFBQSxXQUNBMVEsS0FBQStDLFdBVUF4QyxFQUFBSixVQUFBd1EsZ0JBQUEsU0FBQWhRLEdBQ0FYLEtBQUE4UCxjQUFBQyxFQUFBcFAsR0FDQVgsS0FBQStDLFdBUUF4QyxFQUFBSixVQUFBeVEsU0FBQSxTQUFBL1AsR0FDQWIsS0FBQWtRLE9BQUFyUCxFQUNBYixLQUFBK0MsV0FHQXhDLEVBaElBLENBaUlFbVAsRUFBQSxHQVFGLFNBQUFLLEVBQUFjLEdBQ0EsT0FBQUEsRUFHQS9kLE1BQUFDLFFBQUE4ZCxHQUNBLFNBQUFDLEdBQ0EsT0FBQUQsR0FJQSxtQkFBQUEsRUFDQUEsRUFHQSxTQUFBQyxHQUNBLE9BQUFELElBYkEsS0FrQmVwYyxFQUFBLGtDQzlNZkYsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQXNjLElBQUF4YyxFQUFBQyxFQUFBQyxFQUFBLHNCQUFBdWMsSUFBQXpjLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUF3YyxJQUFBMWMsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQXljLElBQUEzYyxFQUFBQyxFQUFBQyxFQUFBLHNCQUFBMGMsSUFXTyxJQXdEUG5ULEVBQ0EwTCxFQXpET3FILEVBQUEsWUFrQkFDLEVBQUEsa0JBa0JBQyxFQUFBLGFBVUFDLEVBQUEsZUFTQUMsR0FFUHpILEVBQUEsR0FDQSxTQUFBaE4sR0FJQSxHQUhBc0IsSUFDQUEsRUFBQWxKLFNBQUFDLGNBQUEsT0FBQWlKLFNBRUF0QixLQUFBZ04sR0FBQSxDQUNBMUwsRUFBQXRCLE9BQ0EsSUFBQTBVLEVBQUFwVCxFQUFBTCxXQUVBLEdBREFLLEVBQUF0QixLQUFBLElBQ0EwVSxFQUNBLFlBRUExSCxFQUFBaE4sR0FBQTBVLEVBQUEzRyxNQUFBLFFBRUEsT0FBQWYsRUFBQWhOLHlDQ2hGQTJVLEVBQUFDLFFBQUE3QixFQUNBNEIsRUFBQUMsUUFBQUMsUUFBQTlCLEVBRUEsSUFBQStCLEVBQWtCamQsRUFBUSxJQUUxQixTQUFBa2IsRUFBQWdDLEVBQUFyUSxHQUNBLEtBQUFwQixnQkFBQXlQLEdBQUEsV0FBQUEsRUFBQWdDLEVBQUFyUSxHQUdBcEIsS0FBQTBSLFlBQUF2YSxLQUFBMlcsSUFBQSxFQUFBMkQsR0FBQSxHQUNBelIsS0FBQTJSLFlBQUF4YSxLQUFBMlcsSUFBQSxFQUFBM1csS0FBQXlhLEtBQUEsR0FBQTVSLEtBQUEwUixjQUVBdFEsR0FDQXBCLEtBQUE2UixZQUFBelEsR0FHQXBCLEtBQUEzQyxRQXdiQSxTQUFBeVUsRUFBQXJELEVBQUFNLEVBQUFnRCxHQUNBLElBQUFBLEVBQUEsT0FBQWhELEVBQUE5YyxRQUFBd2MsR0FFQSxRQUFBcGMsRUFBQSxFQUFtQkEsRUFBQTBjLEVBQUFyZCxPQUFrQlcsSUFDckMsR0FBQTBmLEVBQUF0RCxFQUFBTSxFQUFBMWMsSUFBQSxPQUFBQSxFQUVBLFNBSUEsU0FBQTJmLEVBQUF0YyxFQUFBdWMsR0FDQUMsRUFBQXhjLEVBQUEsRUFBQUEsRUFBQXljLFNBQUF6Z0IsT0FBQXVnQixFQUFBdmMsR0FJQSxTQUFBd2MsRUFBQXhjLEVBQUEwYyxFQUFBQyxFQUFBSixFQUFBSyxHQUNBQSxNQUFBQyxFQUFBLE9BQ0FELEVBQUE1RCxLQUFBaFAsSUFDQTRTLEVBQUEzRCxLQUFBalAsSUFDQTRTLEVBQUExRCxNQUFBbFAsSUFDQTRTLEVBQUF6RCxNQUFBblAsSUFFQSxRQUFBOFMsRUFBQW5nQixFQUFBK2YsRUFBMEIvZixFQUFBZ2dCLEVBQU9oZ0IsSUFDakNtZ0IsRUFBQTljLEVBQUF5YyxTQUFBOWYsR0FDQU0sRUFBQTJmLEVBQUE1YyxFQUFBK2MsS0FBQVIsRUFBQU8sTUFHQSxPQUFBRixFQUdBLFNBQUEzZixFQUFBZixFQUFBQyxHQUtBLE9BSkFELEVBQUE4YyxLQUFBdlgsS0FBQXViLElBQUE5Z0IsRUFBQThjLEtBQUE3YyxFQUFBNmMsTUFDQTljLEVBQUErYyxLQUFBeFgsS0FBQXViLElBQUE5Z0IsRUFBQStjLEtBQUE5YyxFQUFBOGMsTUFDQS9jLEVBQUFnZCxLQUFBelgsS0FBQTJXLElBQUFsYyxFQUFBZ2QsS0FBQS9jLEVBQUErYyxNQUNBaGQsRUFBQWlkLEtBQUExWCxLQUFBMlcsSUFBQWxjLEVBQUFpZCxLQUFBaGQsRUFBQWdkLE1BQ0FqZCxFQUdBLFNBQUErZ0IsRUFBQS9nQixFQUFBQyxHQUFnQyxPQUFBRCxFQUFBOGMsS0FBQTdjLEVBQUE2YyxLQUNoQyxTQUFBa0UsRUFBQWhoQixFQUFBQyxHQUFnQyxPQUFBRCxFQUFBK2MsS0FBQTljLEVBQUE4YyxLQUVoQyxTQUFBa0UsRUFBQWpoQixHQUF3QixPQUFBQSxFQUFBZ2QsS0FBQWhkLEVBQUE4YyxPQUFBOWMsRUFBQWlkLEtBQUFqZCxFQUFBK2MsTUFDeEIsU0FBQW1FLEVBQUFsaEIsR0FBd0IsT0FBQUEsRUFBQWdkLEtBQUFoZCxFQUFBOGMsTUFBQTljLEVBQUFpZCxLQUFBamQsRUFBQStjLE1BaUJ4QixTQUFBb0UsRUFBQW5oQixFQUFBQyxHQUNBLE9BQUFELEVBQUE4YyxNQUFBN2MsRUFBQTZjLE1BQ0E5YyxFQUFBK2MsTUFBQTljLEVBQUE4YyxNQUNBOWMsRUFBQStjLE1BQUFoZCxFQUFBZ2QsTUFDQS9jLEVBQUFnZCxNQUFBamQsRUFBQWlkLEtBR0EsU0FBQW1FLEVBQUFwaEIsRUFBQUMsR0FDQSxPQUFBQSxFQUFBNmMsTUFBQTljLEVBQUFnZCxNQUNBL2MsRUFBQThjLE1BQUEvYyxFQUFBaWQsTUFDQWhkLEVBQUErYyxNQUFBaGQsRUFBQThjLE1BQ0E3YyxFQUFBZ2QsTUFBQWpkLEVBQUErYyxLQUdBLFNBQUE0RCxFQUFBSixHQUNBLE9BQ0FBLFdBQ0FsZCxPQUFBLEVBQ0F3ZCxNQUFBLEVBQ0EvRCxLQUFBaFAsSUFDQWlQLEtBQUFqUCxJQUNBa1AsTUFBQWxQLElBQ0FtUCxNQUFBblAsS0FPQSxTQUFBdVQsRUFBQWxoQixFQUFBcU0sRUFBQThVLEVBQUE1Z0IsRUFBQThCLEdBSUEsSUFIQSxJQUNBaEQsRUFEQStoQixFQUFBLENBQUEvVSxFQUFBOFUsR0FHQUMsRUFBQXpoQixTQUNBd2hCLEVBQUFDLEVBQUFDLFFBQ0FoVixFQUFBK1UsRUFBQUMsUUFFQTlnQixJQUVBbEIsRUFBQWdOLEVBQUFqSCxLQUFBeWEsTUFBQXNCLEVBQUE5VSxHQUFBOUwsRUFBQSxHQUFBQSxFQUNBa2YsRUFBQXpmLEVBQUFYLEVBQUFnTixFQUFBOFUsRUFBQTllLEdBRUErZSxFQUFBMU8sS0FBQXJHLEVBQUFoTixJQUFBOGhCLElBMWhCQXpELEVBQUF0UCxVQUFBLENBRUFnUCxJQUFBLFdBQ0EsT0FBQW5QLEtBQUFxVCxLQUFBclQsS0FBQXBOLEtBQUEsS0FHQXdjLE9BQUEsU0FBQUYsR0FFQSxJQUFBeFosRUFBQXNLLEtBQUFwTixLQUNBMFQsRUFBQSxHQUNBMkwsRUFBQWpTLEtBQUFpUyxPQUVBLElBQUFlLEVBQUE5RCxFQUFBeFosR0FBQSxPQUFBNFEsRUFLQSxJQUhBLElBQ0FqVSxFQUFBa0ssRUFBQWlXLEVBQUFjLEVBREFDLEVBQUEsR0FHQTdkLEdBQUEsQ0FDQSxJQUFBckQsRUFBQSxFQUFBa0ssRUFBQTdHLEVBQUF5YyxTQUFBemdCLE9BQW1EVyxFQUFBa0ssRUFBU2xLLElBRTVEbWdCLEVBQUE5YyxFQUFBeWMsU0FBQTlmLEdBR0EyZ0IsRUFBQTlELEVBRkFvRSxFQUFBNWQsRUFBQStjLEtBQUFSLEVBQUFPLFFBR0E5YyxFQUFBK2MsS0FBQW5NLEVBQUE3QixLQUFBK04sR0FDQU8sRUFBQTdELEVBQUFvRSxHQUFBdFQsS0FBQXFULEtBQUFiLEVBQUFsTSxHQUNBaU4sRUFBQTlPLEtBQUErTixJQUdBOWMsRUFBQTZkLEVBQUFILE1BR0EsT0FBQTlNLEdBR0FrTixTQUFBLFNBQUF0RSxHQUVBLElBQUF4WixFQUFBc0ssS0FBQXBOLEtBQ0FxZixFQUFBalMsS0FBQWlTLE9BRUEsSUFBQWUsRUFBQTlELEVBQUF4WixHQUFBLFNBS0EsSUFIQSxJQUNBckQsRUFBQWtLLEVBQUFpVyxFQUFBYyxFQURBQyxFQUFBLEdBR0E3ZCxHQUFBLENBQ0EsSUFBQXJELEVBQUEsRUFBQWtLLEVBQUE3RyxFQUFBeWMsU0FBQXpnQixPQUFtRFcsRUFBQWtLLEVBQVNsSyxJQUs1RCxHQUhBbWdCLEVBQUE5YyxFQUFBeWMsU0FBQTlmLEdBR0EyZ0IsRUFBQTlELEVBRkFvRSxFQUFBNWQsRUFBQStjLEtBQUFSLEVBQUFPLE1BRUEsQ0FDQSxHQUFBOWMsRUFBQStjLE1BQUFNLEVBQUE3RCxFQUFBb0UsR0FBQSxTQUNBQyxFQUFBOU8sS0FBQStOLEdBR0E5YyxFQUFBNmQsRUFBQUgsTUFHQSxVQUdBdE8sS0FBQSxTQUFBbFMsR0FDQSxJQUFBQSxNQUFBbEIsT0FBQSxPQUFBc08sS0FFQSxHQUFBcE4sRUFBQWxCLE9BQUFzTyxLQUFBMlIsWUFBQSxDQUNBLFFBQUF0ZixFQUFBLEVBQUFrSyxFQUFBM0osRUFBQWxCLE9BQThDVyxFQUFBa0ssRUFBU2xLLElBQ3ZEMk4sS0FBQXVELE9BQUEzUSxFQUFBUCxJQUVBLE9BQUEyTixLQUlBLElBQUF0SyxFQUFBc0ssS0FBQXlULE9BQUE3Z0IsRUFBQWtXLFFBQUEsRUFBQWxXLEVBQUFsQixPQUFBLEtBRUEsR0FBQXNPLEtBQUFwTixLQUFBdWYsU0FBQXpnQixPQUlTLEdBQUFzTyxLQUFBcE4sS0FBQXFDLFNBQUFTLEVBQUFULE9BRVQrSyxLQUFBMFQsV0FBQTFULEtBQUFwTixLQUFBOEMsT0FFUyxDQUNULEdBQUFzSyxLQUFBcE4sS0FBQXFDLE9BQUFTLEVBQUFULE9BQUEsQ0FFQSxJQUFBMGUsRUFBQTNULEtBQUFwTixLQUNBb04sS0FBQXBOLEtBQUE4QyxFQUNBQSxFQUFBaWUsRUFJQTNULEtBQUE0VCxRQUFBbGUsRUFBQXNLLEtBQUFwTixLQUFBcUMsT0FBQVMsRUFBQVQsT0FBQSxXQWZBK0ssS0FBQXBOLEtBQUE4QyxFQWtCQSxPQUFBc0ssTUFHQXVELE9BQUEsU0FBQWtMLEdBRUEsT0FEQUEsR0FBQXpPLEtBQUE0VCxRQUFBbkYsRUFBQXpPLEtBQUFwTixLQUFBcUMsT0FBQSxHQUNBK0ssTUFHQTNDLE1BQUEsV0FFQSxPQURBMkMsS0FBQXBOLEtBQUEyZixFQUFBLElBQ0F2UyxNQUdBaE4sT0FBQSxTQUFBeWIsRUFBQXNELEdBQ0EsSUFBQXRELEVBQUEsT0FBQXpPLEtBU0EsSUFQQSxJQUlBM04sRUFBQWlELEVBQUEzQixFQUFBa2dCLEVBSkFuZSxFQUFBc0ssS0FBQXBOLEtBQ0FzYyxFQUFBbFAsS0FBQWlTLE9BQUF4RCxHQUNBcUYsRUFBQSxHQUNBQyxFQUFBLEdBSUFyZSxHQUFBb2UsRUFBQXBpQixRQUFBLENBU0EsR0FQQWdFLElBQ0FBLEVBQUFvZSxFQUFBVixNQUNBOWQsRUFBQXdlLElBQUFwaUIsT0FBQSxHQUNBVyxFQUFBMGhCLEVBQUFYLE1BQ0FTLEdBQUEsR0FHQW5lLEVBQUErYyxPQUdBLEtBRkE5ZSxFQUFBbWUsRUFBQXJELEVBQUEvWSxFQUFBeWMsU0FBQUosSUFPQSxPQUhBcmMsRUFBQXljLFNBQUFsZixPQUFBVSxFQUFBLEdBQ0FtZ0IsRUFBQXJQLEtBQUEvTyxHQUNBc0ssS0FBQWdVLFVBQUFGLEdBQ0E5VCxLQUlBNlQsR0FBQW5lLEVBQUErYyxPQUFBTSxFQUFBcmQsRUFBQXdaLEdBT2E1WixHQUNiakQsSUFDQXFELEVBQUFKLEVBQUE2YyxTQUFBOWYsR0FDQXdoQixHQUFBLEdBRWFuZSxFQUFBLE1BWGJvZSxFQUFBclAsS0FBQS9PLEdBQ0FxZSxFQUFBdFAsS0FBQXBTLEdBQ0FBLEVBQUEsRUFDQWlELEVBQUFJLEVBQ0FBLElBQUF5YyxTQUFBLElBVUEsT0FBQW5TLE1BR0FpUyxPQUFBLFNBQUF4RCxHQUE2QixPQUFBQSxHQUU3QndGLFlBQUF0QixFQUNBdUIsWUFBQXRCLEVBRUFyRCxPQUFBLFdBQXlCLE9BQUF2UCxLQUFBcE4sTUFFekJ1aEIsU0FBQSxTQUFBdmhCLEdBRUEsT0FEQW9OLEtBQUFwTixPQUNBb04sTUFHQXFULEtBQUEsU0FBQTNkLEVBQUE0USxHQUVBLElBREEsSUFBQWlOLEVBQUEsR0FDQTdkLEdBQ0FBLEVBQUErYyxLQUFBbk0sRUFBQTdCLEtBQUFuRixNQUFBZ0gsRUFBQTVRLEVBQUF5YyxVQUNBb0IsRUFBQTlPLEtBQUFuRixNQUFBaVUsRUFBQTdkLEVBQUF5YyxVQUVBemMsRUFBQTZkLEVBQUFILE1BRUEsT0FBQTlNLEdBR0FtTixPQUFBLFNBQUExRSxFQUFBM1EsRUFBQThVLEVBQUFqZSxHQUVBLElBRUFTLEVBRkEwZSxFQUFBbEIsRUFBQTlVLEVBQUEsRUFDQWlXLEVBQUFyVSxLQUFBMFIsWUFHQSxHQUFBMEMsR0FBQUMsRUFJQSxPQURBckMsRUFEQXRjLEVBQUE2YyxFQUFBeEQsRUFBQWpHLE1BQUExSyxFQUFBOFUsRUFBQSxJQUNBbFQsS0FBQWlTLFFBQ0F2YyxFQUdBVCxJQUVBQSxFQUFBa0MsS0FBQXlhLEtBQUF6YSxLQUFBbWQsSUFBQUYsR0FBQWpkLEtBQUFtZCxJQUFBRCxJQUdBQSxFQUFBbGQsS0FBQXlhLEtBQUF3QyxFQUFBamQsS0FBQTRCLElBQUFzYixFQUFBcGYsRUFBQSxNQUdBUyxFQUFBNmMsRUFBQSxLQUNBRSxNQUFBLEVBQ0EvYyxFQUFBVCxTQUlBLElBRUE1QyxFQUFBa2lCLEVBQUFDLEVBQUFDLEVBRkFDLEVBQUF2ZCxLQUFBeWEsS0FBQXdDLEVBQUFDLEdBQ0FNLEVBQUFELEVBQUF2ZCxLQUFBeWEsS0FBQXphLEtBQUFDLEtBQUFpZCxJQUtBLElBRkFwQixFQUFBbEUsRUFBQTNRLEVBQUE4VSxFQUFBeUIsRUFBQTNVLEtBQUFpVSxhQUVBNWhCLEVBQUErTCxFQUFzQi9MLEdBQUE2Z0IsRUFBWTdnQixHQUFBc2lCLEVBTWxDLElBRkExQixFQUFBbEUsRUFBQTFjLEVBRkFtaUIsRUFBQXJkLEtBQUF1YixJQUFBcmdCLEVBQUFzaUIsRUFBQSxFQUFBekIsR0FFQXdCLEVBQUExVSxLQUFBa1UsYUFFQUssRUFBQWxpQixFQUF1QmtpQixHQUFBQyxFQUFhRCxHQUFBRyxFQUVwQ0QsRUFBQXRkLEtBQUF1YixJQUFBNkIsRUFBQUcsRUFBQSxFQUFBRixHQUdBOWUsRUFBQXljLFNBQUExTixLQUFBekUsS0FBQXlULE9BQUExRSxFQUFBd0YsRUFBQUUsRUFBQXhmLEVBQUEsSUFNQSxPQUZBK2MsRUFBQXRjLEVBQUFzSyxLQUFBaVMsUUFFQXZjLEdBR0FrZixlQUFBLFNBQUExRixFQUFBeFosRUFBQW1mLEVBQUFmLEdBSUEsSUFGQSxJQUFBemhCLEVBQUFrSyxFQUFBaVcsRUFBQXNDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBc1BBdGpCLEVBQUFDLEVBblBBaWlCLEVBQUFyUCxLQUFBL08sSUFFQUEsRUFBQStjLE1BQUFxQixFQUFBcGlCLE9BQUEsSUFBQW1qQixHQUhBLENBT0EsSUFGQUksRUFBQUMsRUFBQXhWLElBRUFyTixFQUFBLEVBQUFrSyxFQUFBN0csRUFBQXljLFNBQUF6Z0IsT0FBbURXLEVBQUFrSyxFQUFTbEssSUFFNUQwaUIsRUFBQWxDLEVBREFMLEVBQUE5YyxFQUFBeWMsU0FBQTlmLElBNE9BVCxFQTFPQXNkLEVBME9BcmQsRUExT0EyZ0IsR0FBQXdDLEdBMk9BN2QsS0FBQTJXLElBQUFqYyxFQUFBK2MsS0FBQWhkLEVBQUFnZCxNQUFBelgsS0FBQXViLElBQUE3Z0IsRUFBQTZjLEtBQUE5YyxFQUFBOGMsUUFDQXZYLEtBQUEyVyxJQUFBamMsRUFBQWdkLEtBQUFqZCxFQUFBaWQsTUFBQTFYLEtBQUF1YixJQUFBN2dCLEVBQUE4YyxLQUFBL2MsRUFBQStjLE9BNU9Bb0csR0FHQUcsR0FDQUEsRUFBQUYsRUFDQUMsRUFBQUYsRUFBQUUsRUFBQUYsRUFBQUUsRUFDQUgsRUFBQXRDLEdBRWlCd0MsSUFBQUUsR0FFakJILEVBQUFFLElBQ0FBLEVBQUFGLEVBQ0FELEVBQUF0QyxHQUtBOWMsRUFBQW9mLEdBQUFwZixFQUFBeWMsU0FBQSxHQUdBLE9BQUF6YyxHQUdBa2UsUUFBQSxTQUFBbkYsRUFBQW9HLEVBQUFNLEdBRUEsSUFBQWxELEVBQUFqUyxLQUFBaVMsT0FDQS9DLEVBQUFpRyxFQUFBMUcsRUFBQXdELEVBQUF4RCxHQUNBMkcsRUFBQSxHQUdBMWYsRUFBQXNLLEtBQUE0VSxlQUFBMUYsRUFBQWxQLEtBQUFwTixLQUFBaWlCLEVBQUFPLEdBT0EsSUFKQTFmLEVBQUF5YyxTQUFBMU4sS0FBQWdLLEdBQ0E5YixFQUFBK0MsRUFBQXdaLEdBR0EyRixHQUFBLEdBQ0FPLEVBQUFQLEdBQUExQyxTQUFBemdCLE9BQUFzTyxLQUFBMFIsYUFDQTFSLEtBQUFxVixPQUFBRCxFQUFBUCxHQUNBQSxJQUtBN1UsS0FBQXNWLG9CQUFBcEcsRUFBQWtHLEVBQUFQLElBSUFRLE9BQUEsU0FBQUQsRUFBQVAsR0FFQSxJQUFBbmYsRUFBQTBmLEVBQUFQLEdBQ0FSLEVBQUEzZSxFQUFBeWMsU0FBQXpnQixPQUNBNmpCLEVBQUF2VixLQUFBMlIsWUFFQTNSLEtBQUF3VixpQkFBQTlmLEVBQUE2ZixFQUFBbEIsR0FFQSxJQUFBb0IsRUFBQXpWLEtBQUEwVixrQkFBQWhnQixFQUFBNmYsRUFBQWxCLEdBRUFqZixFQUFBbWQsRUFBQTdjLEVBQUF5YyxTQUFBbGYsT0FBQXdpQixFQUFBL2YsRUFBQXljLFNBQUF6Z0IsT0FBQStqQixJQUNBcmdCLEVBQUFILE9BQUFTLEVBQUFULE9BQ0FHLEVBQUFxZCxLQUFBL2MsRUFBQStjLEtBRUFULEVBQUF0YyxFQUFBc0ssS0FBQWlTLFFBQ0FELEVBQUE1YyxFQUFBNEssS0FBQWlTLFFBRUE0QyxFQUFBTyxFQUFBUCxFQUFBLEdBQUExQyxTQUFBMU4sS0FBQXJQLEdBQ0E0SyxLQUFBMFQsV0FBQWhlLEVBQUFOLElBR0FzZSxXQUFBLFNBQUFoZSxFQUFBTixHQUVBNEssS0FBQXBOLEtBQUEyZixFQUFBLENBQUE3YyxFQUFBTixJQUNBNEssS0FBQXBOLEtBQUFxQyxPQUFBUyxFQUFBVCxPQUFBLEVBQ0ErSyxLQUFBcE4sS0FBQTZmLE1BQUEsRUFDQVQsRUFBQWhTLEtBQUFwTixLQUFBb04sS0FBQWlTLFNBR0F5RCxrQkFBQSxTQUFBaGdCLEVBQUE2ZixFQUFBbEIsR0FFQSxJQUFBaGlCLEVBQUFzakIsRUFBQUMsRUFBQUMsRUFBQWQsRUFBQWUsRUFBQWIsRUFBQXRoQixFQStKQS9CLEVBQUFDLEVBQ0E2YyxFQUNBQyxFQUNBQyxFQUNBQyxFQS9KQSxJQUZBaUgsRUFBQWIsRUFBQXZWLElBRUFyTixFQUFBa2pCLEVBQW1CbGpCLEdBQUFnaUIsRUFBQWtCLEVBQVlsakIsSUFDL0JzakIsRUFBQXpELEVBQUF4YyxFQUFBLEVBQUFyRCxFQUFBMk4sS0FBQWlTLFFBQ0EyRCxFQUFBMUQsRUFBQXhjLEVBQUFyRCxFQUFBZ2lCLEVBQUFyVSxLQUFBaVMsUUF5SkFyZ0IsRUF2SkErakIsRUF1SkE5akIsRUF2SkErakIsRUF3SkFsSCxTQUNBQyxTQUNBQyxTQUNBQyxTQUhBSCxFQUFBdlgsS0FBQTJXLElBQUFsYyxFQUFBOGMsS0FBQTdjLEVBQUE2YyxNQUNBQyxFQUFBeFgsS0FBQTJXLElBQUFsYyxFQUFBK2MsS0FBQTljLEVBQUE4YyxNQUNBQyxFQUFBelgsS0FBQXViLElBQUE5Z0IsRUFBQWdkLEtBQUEvYyxFQUFBK2MsTUFDQUMsRUFBQTFYLEtBQUF1YixJQUFBOWdCLEVBQUFpZCxLQUFBaGQsRUFBQWdkLE1BM0pBZ0gsRUE2SkExZSxLQUFBMlcsSUFBQSxFQUFBYyxFQUFBRixHQUNBdlgsS0FBQTJXLElBQUEsRUFBQWUsRUFBQUYsR0E3SkFvRyxFQUFBbEMsRUFBQThDLEdBQUE5QyxFQUFBK0MsR0FHQUMsRUFBQUMsR0FDQUEsRUFBQUQsRUFDQWxpQixFQUFBdEIsRUFFQTRpQixFQUFBRixFQUFBRSxFQUFBRixFQUFBRSxHQUVhWSxJQUFBQyxHQUViZixFQUFBRSxJQUNBQSxFQUFBRixFQUNBcGhCLEVBQUF0QixHQUtBLE9BQUFzQixHQUlBNmhCLGlCQUFBLFNBQUE5ZixFQUFBNmYsRUFBQWxCLEdBRUEsSUFBQUosRUFBQXZlLEVBQUErYyxLQUFBelMsS0FBQWlVLFlBQUF0QixFQUNBdUIsRUFBQXhlLEVBQUErYyxLQUFBelMsS0FBQWtVLFlBQUF0QixFQUNBNVMsS0FBQStWLGVBQUFyZ0IsRUFBQTZmLEVBQUFsQixFQUFBSixHQUNBalUsS0FBQStWLGVBQUFyZ0IsRUFBQTZmLEVBQUFsQixFQUFBSCxJQUlBeGUsRUFBQXljLFNBQUF2ZSxLQUFBcWdCLElBSUE4QixlQUFBLFNBQUFyZ0IsRUFBQTZmLEVBQUFsQixFQUFBamdCLEdBRUFzQixFQUFBeWMsU0FBQXZlLEtBQUFRLEdBRUEsSUFJQS9CLEVBQUFtZ0IsRUFKQVAsRUFBQWpTLEtBQUFpUyxPQUNBK0QsRUFBQTlELEVBQUF4YyxFQUFBLEVBQUE2ZixFQUFBdEQsR0FDQWdFLEVBQUEvRCxFQUFBeGMsRUFBQTJlLEVBQUFrQixFQUFBbEIsRUFBQXBDLEdBQ0FoVSxFQUFBNlUsRUFBQWtELEdBQUFsRCxFQUFBbUQsR0FHQSxJQUFBNWpCLEVBQUFrakIsRUFBbUJsakIsRUFBQWdpQixFQUFBa0IsRUFBV2xqQixJQUM5Qm1nQixFQUFBOWMsRUFBQXljLFNBQUE5ZixHQUNBTSxFQUFBcWpCLEVBQUF0Z0IsRUFBQStjLEtBQUFSLEVBQUFPLE1BQ0F2VSxHQUFBNlUsRUFBQWtELEdBR0EsSUFBQTNqQixFQUFBZ2lCLEVBQUFrQixFQUFBLEVBQTJCbGpCLEdBQUFrakIsRUFBUWxqQixJQUNuQ21nQixFQUFBOWMsRUFBQXljLFNBQUE5ZixHQUNBTSxFQUFBc2pCLEVBQUF2Z0IsRUFBQStjLEtBQUFSLEVBQUFPLE1BQ0F2VSxHQUFBNlUsRUFBQW1ELEdBR0EsT0FBQWhZLEdBR0FxWCxvQkFBQSxTQUFBcEcsRUFBQTRFLEVBQUFlLEdBRUEsUUFBQXhpQixFQUFBd2lCLEVBQTJCeGlCLEdBQUEsRUFBUUEsSUFDbkNNLEVBQUFtaEIsRUFBQXpoQixHQUFBNmMsSUFJQThFLFVBQUEsU0FBQUYsR0FFQSxRQUFBb0MsRUFBQTdqQixFQUFBeWhCLEVBQUFwaUIsT0FBQSxFQUErQ1csR0FBQSxFQUFRQSxJQUN2RCxJQUFBeWhCLEVBQUF6aEIsR0FBQThmLFNBQUF6Z0IsT0FDQVcsRUFBQSxHQUNBNmpCLEVBQUFwQyxFQUFBemhCLEVBQUEsR0FBQThmLFVBQ0FsZixPQUFBaWpCLEVBQUFqa0IsUUFBQTZoQixFQUFBemhCLElBQUEsR0FFaUIyTixLQUFBM0MsUUFFSjJVLEVBQUE4QixFQUFBemhCLEdBQUEyTixLQUFBaVMsU0FJYkosWUFBQSxTQUFBelEsR0FPQSxJQUFBK1UsRUFBQSx3QkFFQW5XLEtBQUFpVSxZQUFBLElBQUFtQyxTQUFBLFFBQUFELEVBQUEzSSxLQUFBcE0sRUFBQSxLQUNBcEIsS0FBQWtVLFlBQUEsSUFBQWtDLFNBQUEsUUFBQUQsRUFBQTNJLEtBQUFwTSxFQUFBLEtBRUFwQixLQUFBaVMsT0FBQSxJQUFBbUUsU0FBQSxJQUNBLGtCQUFxQmhWLEVBQUEsR0FDckIsWUFBQUEsRUFBQSxHQUNBLFlBQUFBLEVBQUEsR0FDQSxZQUFBQSxFQUFBLHlDQ3RjQTdNLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUE0aEIsSUFBQTloQixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBNmhCLElBU08sSUFBQUQsRUFBQSxHQU9BQyxHQUFBLGdDQ2hCUC9oQixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBOGhCLElBQUFoaUIsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQStoQixJQVFPLElBQUFELEVBQUEsR0FNQUMsRUFBQSxzQ0NkUGppQixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBZ2lCLElBQUEsSUFBQUMsRUFBQW5pQixFQUFBLElBd0JPLFNBQUFraUIsRUFBQWhOLEdBQ1AsT0FBQTNXLE1BQUFDLFFBQUEwVyxHQUNXck0sT0FBQXNaLEVBQUEsRUFBQXRaLENBQVFxTSxHQUVuQkEsOENDckJla04sRUFBQSxDQUNmQyxhQUFBLGNBQ0FDLEtBQUEsT0FDQUMsS0FBQSxPQUNBQyxJQUFBLE9DcUNPLFNBQUFDLEVBQUF4VixFQUFBSixFQUFBNlYsRUFBQUMsR0FDUCxnQkFPQTFYLEVBQUFDLEVBQUFtQixHQUNBLElBQUF1VyxFQUFBLElBQUFDLGVBQ0FELEVBQUFFLEtBQUEsTUFDQSxtQkFBQTdWLElBQUFoQyxFQUFBQyxFQUFBbUIsR0FBQVksR0FDQSxHQUNBSixFQUFBa1csV0FBOEJYLEVBQVVDLGVBQ3hDTyxFQUFBSSxhQUFBLGVBTUFKLEVBQUFLLE9BQUEsU0FBQTFQLEdBRUEsSUFBQXFQLEVBQUFNLFFBQUFOLEVBQUFNLFFBQUEsS0FBQU4sRUFBQU0sT0FBQSxLQUNBLElBRUFDLEVBRkE3WCxFQUFBdUIsRUFBQWtXLFVBR0F6WCxHQUFzQjhXLEVBQVVFLE1BQUFoWCxHQUFpQjhXLEVBQVVHLEtBQzNEWSxFQUFBUCxFQUFBUSxhQUNXOVgsR0FBa0I4VyxFQUFVSSxLQUN2Q1csRUFBQVAsRUFBQVMsZUFFQUYsR0FBQSxJQUFBRyxXQUFBQyxnQkFBQVgsRUFBQVEsYUFBQSxvQkFFVzlYLEdBQWtCOFcsRUFBVUMsZUFDdkNjLEVBQTRDUCxFQUFBLFVBRTVDTyxFQUNBVCxFQUFBbFgsS0FBQUMsS0FBQW9CLEVBQUEyVyxhQUFBTCxFQUNBLENBQWVNLGtCQUFBcFgsSUFDZlEsRUFBQTZXLGVBQUFQLEdBQUF0VyxFQUFBOFcsaUJBRUFoQixFQUFBblgsS0FBQUMsV0FHQWtYLEVBQUFuWCxLQUFBQyxPQUVPbVksS0FBQW5ZLE1BSVBtWCxFQUFBaUIsUUFBQSxXQUNBbEIsRUFBQW5YLEtBQUFDLE9BQ09tWSxLQUFBblksTUFDUG1YLEVBQUFrQixRQWVPLFNBQVNDLEVBQUc5VyxFQUFBSixHQUNuQixPQUFBNFYsRUFBQXhWLEVBQUFKLEVBT0EsU0FBQVcsRUFBQXdXLEdBRUEsbUJBRHNDLEtBQ3RDbFUsYUFEc0MsS0FFZUEsWUFBQXRDLElBRXJCYixFQUFBLEdBakloQzNNLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUF1aUIsSUFBQXppQixFQUFBQyxFQUFBQyxFQUFBLHNCQUFBNmpCLHVCQ0M2RGpILEVBQUFDLFFBRzVELFdBQXFCLGFBOEN0QixTQUFBa0gsRUFBQXptQixFQUFBTSxFQUFBa2lCLEdBQ0EsSUFBQTdoQixFQUFBWCxFQUFBTSxHQUNBTixFQUFBTSxHQUFBTixFQUFBd2lCLEdBQ0F4aUIsRUFBQXdpQixHQUFBN2hCLEVBR0EsU0FBQStsQixFQUFBN21CLEVBQUFDLEdBQ0EsT0FBQUQsRUFBQUMsR0FBQSxFQUFBRCxFQUFBQyxFQUFBLElBR0EsT0F0REEsU0FBQUUsRUFBQXFnQixFQUFBaFUsRUFBQThVLEVBQUE5ZSxJQUlBLFNBQUFza0IsRUFBQTNtQixFQUFBcWdCLEVBQUFoVSxFQUFBOFUsRUFBQTllLEdBRUEsS0FBQThlLEVBQUE5VSxHQUFBLENBQ0EsR0FBQThVLEVBQUE5VSxFQUFBLEtBQ0EsSUFBQTlMLEVBQUE0Z0IsRUFBQTlVLEVBQUEsRUFDQW1YLEVBQUFuRCxFQUFBaFUsRUFBQSxFQUNBdWEsRUFBQXhoQixLQUFBbWQsSUFBQWhpQixHQUNBdVgsRUFBQSxHQUFBMVMsS0FBQXloQixJQUFBLEVBQUFELEVBQUEsR0FDQUUsRUFBQSxHQUFBMWhCLEtBQUFDLEtBQUF1aEIsRUFBQTlPLEdBQUF2WCxFQUFBdVgsR0FBQXZYLElBQUFpakIsRUFBQWpqQixFQUFBLFVBQ0F3bUIsRUFBQTNoQixLQUFBMlcsSUFBQTFQLEVBQUFqSCxLQUFBNGhCLE1BQUEzRyxFQUFBbUQsRUFBQTFMLEVBQUF2WCxFQUFBdW1CLElBQ0FHLEVBQUE3aEIsS0FBQXViLElBQUFRLEVBQUEvYixLQUFBNGhCLE1BQUEzRyxHQUFBOWYsRUFBQWlqQixHQUFBMUwsRUFBQXZYLEVBQUF1bUIsSUFDQUgsRUFBQTNtQixFQUFBcWdCLEVBQUEwRyxFQUFBRSxFQUFBNWtCLEdBR0EsSUFBQTBFLEVBQUEvRyxFQUFBcWdCLEdBQ0EvZixFQUFBK0wsRUFDQW1XLEVBQUFyQixFQUtBLElBSEFzRixFQUFBem1CLEVBQUFxTSxFQUFBZ1UsR0FDQWhlLEVBQUFyQyxFQUFBbWhCLEdBQUFwYSxHQUFBLEdBQUEwZixFQUFBem1CLEVBQUFxTSxFQUFBOFUsR0FFQTdnQixFQUFBa2lCLEdBQUEsQ0FJQSxJQUhBaUUsRUFBQXptQixFQUFBTSxFQUFBa2lCLEdBQ0FsaUIsSUFDQWtpQixJQUNBbmdCLEVBQUFyQyxFQUFBTSxHQUFBeUcsR0FBQSxHQUFBekcsSUFDQSxLQUFBK0IsRUFBQXJDLEVBQUF3aUIsR0FBQXpiLEdBQUEsR0FBQXliLElBR0EsSUFBQW5nQixFQUFBckMsRUFBQXFNLEdBQUF0RixHQUFBMGYsRUFBQXptQixFQUFBcU0sRUFBQW1XLEdBR0FpRSxFQUFBem1CLElBREF3aUIsRUFDQXJCLEdBR0FxQixHQUFBbkMsSUFBQWhVLEVBQUFtVyxFQUFBLEdBQ0FuQyxHQUFBbUMsSUFBQXJCLEVBQUFxQixFQUFBLElBdkNBbUUsQ0FBQTNtQixFQUFBcWdCLEVBQUFoVSxHQUFBLEVBQUE4VSxHQUFBbmhCLEVBQUFMLE9BQUEsRUFBQTBDLEdBQUFxa0IsSUFONkRRLGtDQ0Q3RCxJQUFBQyxFQUFBM2tCLEVBQUEsR0FBQTRrQixFQUFBNWtCLEVBQUEsSUFBQTZaLEVBQUE3WixFQUFBLEdBQUE2a0IsRUFBQTdrQixFQUFBLElBQUE4a0IsRUFBQTlrQixFQUFBLElBQUEra0IsRUFBQS9rQixFQUFBLElBQUFnbEIsRUFBQWhsQixFQUFBLElBQUFpbEIsRUFBQWpsQixFQUFBLElBQUFrbEIsRUFBQWxsQixFQUFBLElBQUFtbEIsRUFBQW5sQixFQUFBLElBMkJBb2xCLEVBQUEsU0FBQUMsR0FDQSxTQUFBRCxFQUFBaGQsRUFBQWtkLEVBQUFyYSxFQUFBWixFQUFBa2IsR0FDQUYsRUFBQTdaLEtBQUFDLE1BTUFBLEtBQUErWixTQUFBcGQsRUFNQXFELEtBQUFnYSxZQUFBSCxFQU1BN1osS0FBQWlhLFFBQUF6YSxFQU1BUSxLQUFBa2EsV0FBQXRiLEVBTUFvQixLQUFBbWEsY0FBQUwsRUFNQTlaLEtBQUFvYSxrQkFBQSxLQU1BcGEsS0FBQXFhLG9CQUFBLEtBTUFyYSxLQUFBc2Esa0JBQUEsS0FNQXRhLEtBQUF1YSxXQUFBLEtBTUF2YSxLQUFBd2EsYUFBQSxLQU1BeGEsS0FBQXlhLE9BQUEsS0FNQXphLEtBQUEwYSxjQUFBLEVBTUExYSxLQUFBMmEsY0FBQSxFQU1BM2EsS0FBQTRhLGFBQUEsRUFNQTVhLEtBQUE2YSxjQUFBLEVBTUE3YSxLQUFBOGEsY0FBQSxFQU1BOWEsS0FBQSthLGNBQUEsRUFNQS9hLEtBQUFnYixzQkFBQSxFQU1BaGIsS0FBQWliLGVBQUEsRUFNQWpiLEtBQUFrYixZQUFBLEVBTUFsYixLQUFBbWIsWUFBQSxFQU1BbmIsS0FBQW9iLE1BQUEsR0FNQXBiLEtBQUFxYixhQUFBLEVBTUFyYixLQUFBc2IsYUFBQSxFQU1BdGIsS0FBQXViLHFCQUFBLEVBTUF2YixLQUFBd2IsY0FBQSxFQU1BeGIsS0FBQXliLFdBQUEsRUFNQXpiLEtBQUEwYixlQUFBLEtBTUExYixLQUFBMmIsaUJBQUEsS0FNQTNiLEtBQUE0YixXQUFBLEtBTUE1YixLQUFBNmIsa0JBQUEsR0FNQTdiLEtBQUE4YixtQkFBOEIxZSxPQUFBc2MsRUFBQSxFQUFBdGMsR0Frc0I5QixPQTlyQkF3YyxJQUFBRCxFQUFBelosVUFBQTBaLEdBQ0FELEVBQUF4WixVQUFBL0MsT0FBQWdELE9BQUF3WixLQUFBelosV0FDQXdaLEVBQUF4WixVQUFBRSxZQUFBc1osRUFTQUEsRUFBQXhaLFVBQUE0YixZQUFBLFNBQUFDLEVBQUFDLEVBQUF4cEIsRUFBQXlwQixHQUNBLEdBQUFsYyxLQUFBeWEsT0FBQSxDQUdBLElBQUEwQixFQUEyQi9lLE9BQUFrYyxFQUFBLEVBQUFsYyxDQUMzQjRlLEVBQUFDLEVBQUF4cEIsRUFBQSxFQUFBdU4sS0FBQWthLFdBQ0FsYSxLQUFBNmIsbUJBQ0FsZixFQUFBcUQsS0FBQStaLFNBQ0FxQyxFQUFBcGMsS0FBQThiLG1CQUNBM2MsRUFBQXhDLEVBQUF5QyxZQUNBLEdBQUFZLEtBQUE2YSxnQkFDQWxlLEVBQUF5QyxZQUFBRCxFQUFBYSxLQUFBNmEsZUFFQSxJQUFBcmMsRUFBQXdCLEtBQUFpYixlQUNBamIsS0FBQWdiLHVCQUNBeGMsR0FBQXdCLEtBQUFtYSxlQUVBLFFBQUE5bkIsRUFBQSxFQUFBcUwsRUFBQXllLEVBQUF6cUIsT0FBaURXLEVBQUFxTCxFQUFRckwsR0FBQSxHQUN6RCxJQUFBaUYsRUFBQTZrQixFQUFBOXBCLEdBQUEyTixLQUFBMGEsY0FDQW5qQixFQUFBNGtCLEVBQUE5cEIsRUFBQSxHQUFBMk4sS0FBQTJhLGNBQ0EsT0FBQW5jLEdBQUEsR0FBQXdCLEtBQUFrYixZQUFBLENBQ0EsSUFBQW1CLEVBQUEva0IsRUFBQTBJLEtBQUEwYSxjQUNBNEIsRUFBQS9rQixFQUFBeUksS0FBQTJhLGNBQ1F2ZCxPQUFBc2MsRUFBQSxFQUFBdGMsQ0FBZ0JnZixFQUN4QkMsRUFBQUMsRUFDQXRjLEtBQUFrYixZQUFBbGIsS0FBQWtiLFlBQ0ExYyxHQUNBNmQsR0FBQUMsR0FDQTNmLEVBQUEwQyxhQUFBQyxNQUFBM0MsRUFBQXlmLEdBRUF6ZixFQUFBbkIsVUFBQXdFLEtBQUF5YSxPQUFBemEsS0FBQThhLGNBQUE5YSxLQUFBK2EsY0FDQS9hLEtBQUFtYixZQUFBbmIsS0FBQTRhLGFBQUF0akIsRUFBQUMsRUFDQXlJLEtBQUFtYixZQUFBbmIsS0FBQTRhLGNBRUEsSUFBQXBjLEdBQUEsR0FBQXdCLEtBQUFrYixhQUNBdmUsRUFBQTBDLGFBQUEsYUFFQSxHQUFBVyxLQUFBNmEsZ0JBQ0FsZSxFQUFBeUMsWUFBQUQsS0FXQXdhLEVBQUF4WixVQUFBb2MsVUFBQSxTQUFBUCxFQUFBQyxFQUFBeHBCLEVBQUF5cEIsR0FDQSxHQUFBbGMsS0FBQTRiLFlBQUEsS0FBQTViLEtBQUFvYixNQUFBLENBR0FwYixLQUFBMGIsZ0JBQ0ExYixLQUFBd2MscUJBQUF4YyxLQUFBMGIsZ0JBRUExYixLQUFBMmIsa0JBQ0EzYixLQUFBeWMsdUJBQUF6YyxLQUFBMmIsa0JBRUEzYixLQUFBMGMscUJBQUExYyxLQUFBNGIsWUFDQSxJQUFBTyxFQUEyQi9lLE9BQUFrYyxFQUFBLEVBQUFsYyxDQUMzQjRlLEVBQUFDLEVBQUF4cEIsRUFBQXlwQixFQUFBbGMsS0FBQWthLFdBQ0FsYSxLQUFBNmIsbUJBQ0FsZixFQUFBcUQsS0FBQStaLFNBQ0F2YixFQUFBd0IsS0FBQXdiLGNBSUEsSUFIQXhiLEtBQUF1YixzQkFDQS9jLEdBQUF3QixLQUFBbWEsZUFFVThCLEVBQUF4cEIsRUFBY3dwQixHQUFBQyxFQUFBLENBQ3hCLElBQUE1a0IsRUFBQTZrQixFQUFBRixHQUFBamMsS0FBQXFiLGFBQ0E5akIsRUFBQTRrQixFQUFBRixFQUFBLEdBQUFqYyxLQUFBc2IsYUFDQSxPQUFBOWMsR0FBQSxHQUFBd0IsS0FBQXliLFdBQUEsQ0FDQSxJQUFBVyxFQUE2QmhmLE9BQUFzYyxFQUFBLEVBQUF0YyxDQUFnQjRDLEtBQUE4YixtQkFDN0N4a0IsRUFBQUMsRUFDQXlJLEtBQUF5YixXQUFBemIsS0FBQXliLFdBQ0FqZCxHQUNBbEgsR0FBQUMsR0FDQW9GLEVBQUEwQyxhQUFBQyxNQUFBM0MsRUFBQXlmLEdBRUFwYyxLQUFBMmIsa0JBQ0FoZixFQUFBZ2dCLFdBQUEzYyxLQUFBb2IsTUFBQTlqQixFQUFBQyxHQUVBeUksS0FBQTBiLGdCQUNBL2UsRUFBQWlnQixTQUFBNWMsS0FBQW9iLE1BQUE5akIsRUFBQUMsR0FHQSxJQUFBaUgsR0FBQSxHQUFBd0IsS0FBQXliLFlBQ0E5ZSxFQUFBMEMsYUFBQSxlQWFBc2EsRUFBQXhaLFVBQUEwYyxjQUFBLFNBQUFiLEVBQUFDLEVBQUF4cEIsRUFBQXlwQixFQUFBWSxHQUNBLElBQUFuZ0IsRUFBQXFELEtBQUErWixTQUNBb0MsRUFBMkIvZSxPQUFBa2MsRUFBQSxFQUFBbGMsQ0FDM0I0ZSxFQUFBQyxFQUFBeHBCLEVBQUF5cEIsRUFBQWxjLEtBQUFrYSxXQUNBbGEsS0FBQTZiLG1CQUNBbGYsRUFBQW9nQixPQUFBWixFQUFBLEdBQUFBLEVBQUEsSUFDQSxJQUFBenFCLEVBQUF5cUIsRUFBQXpxQixPQUNBb3JCLElBQ0FwckIsR0FBQSxHQUVBLFFBQUFXLEVBQUEsRUFBbUJBLEVBQUFYLEVBQVlXLEdBQUEsRUFDL0JzSyxFQUFBcWdCLE9BQUFiLEVBQUE5cEIsR0FBQThwQixFQUFBOXBCLEVBQUEsSUFLQSxPQUhBeXFCLEdBQ0FuZ0IsRUFBQXNnQixZQUVBeHFCLEdBV0FrbkIsRUFBQXhaLFVBQUErYyxXQUFBLFNBQUFsQixFQUFBQyxFQUFBa0IsRUFBQWpCLEdBQ0EsUUFBQTdwQixFQUFBLEVBQUFxTCxFQUFBeWYsRUFBQXpyQixPQUFxQ1csRUFBQXFMLElBQVFyTCxFQUM3QzRwQixFQUFBamMsS0FBQTZjLGNBQUFiLEVBQUFDLEVBQUFrQixFQUFBOXFCLEdBQUE2cEIsR0FBQSxHQUVBLE9BQUFELEdBV0F0QyxFQUFBeFosVUFBQWlkLFdBQUEsU0FBQWhhLEdBQ0EsR0FBU2hHLE9BQUFnUixFQUFBLEVBQUFoUixDQUFVNEMsS0FBQWlhLFFBQUE3VyxFQUFBRSxhQUFuQixDQUdBLEdBQUF0RCxLQUFBdWEsWUFBQXZhLEtBQUF3YSxhQUFBLENBQ0F4YSxLQUFBdWEsWUFDQXZhLEtBQUF3YyxxQkFBQXhjLEtBQUF1YSxZQUVBdmEsS0FBQXdhLGNBQ0F4YSxLQUFBeWMsdUJBQUF6YyxLQUFBd2EsY0FFQSxJQUFBMkIsRUFBNkIvZSxPQUFBaWMsRUFBQSxFQUFBamMsQ0FDN0JnRyxFQUFBcEQsS0FBQWthLFdBQUFsYSxLQUFBNmIsbUJBQ0E1a0IsRUFBQWtsQixFQUFBLEdBQUFBLEVBQUEsR0FDQWpsQixFQUFBaWxCLEVBQUEsR0FBQUEsRUFBQSxHQUNBa0IsRUFBQWxtQixLQUFBQyxLQUFBSCxJQUFBQyxLQUNBeUYsRUFBQXFELEtBQUErWixTQUNBcGQsRUFBQTJnQixZQUNBM2dCLEVBQUE0Z0IsSUFDQXBCLEVBQUEsR0FBQUEsRUFBQSxHQUFBa0IsRUFBQSxJQUFBbG1CLEtBQUFxbUIsSUFDQXhkLEtBQUF1YSxZQUNBNWQsRUFBQThnQixPQUVBemQsS0FBQXdhLGNBQ0E3ZCxFQUFBK2dCLFNBR0EsS0FBQTFkLEtBQUFvYixPQUNBcGIsS0FBQXVjLFVBQUFuWixFQUFBdE0sWUFBQSxTQVlBNmlCLEVBQUF4WixVQUFBZ00sU0FBQSxTQUFBbk8sR0FDQWdDLEtBQUEyZCxtQkFBQTNmLEVBQUE0ZixVQUFBNWYsRUFBQTZmLGFBQ0E3ZCxLQUFBOGQsY0FBQTlmLEVBQUErZixZQUNBL2QsS0FBQWdlLGFBQUFoZ0IsRUFBQWlnQixZQVdBdEUsRUFBQXhaLFVBQUErZCxhQUFBLFNBQUE5YSxHQUVBLE9BREFBLEVBQUFrVSxXQUVBLEtBQVc4QixFQUFBLEVBQVkrRSxNQUN2Qm5lLEtBQUFvZSxVQUF3RSxHQUN4RSxNQUNBLEtBQVdoRixFQUFBLEVBQVlpRixZQUN2QnJlLEtBQUFzZSxlQUFrRixHQUNsRixNQUNBLEtBQVdsRixFQUFBLEVBQVltRixRQUN2QnZlLEtBQUF3ZSxZQUE0RSxHQUM1RSxNQUNBLEtBQVdwRixFQUFBLEVBQVlxRixZQUN2QnplLEtBQUEwZSxlQUFrRixHQUNsRixNQUNBLEtBQVd0RixFQUFBLEVBQVl1RixrQkFDdkIzZSxLQUFBNGUsb0JBQTRGLEdBQzVGLE1BQ0EsS0FBV3hGLEVBQUEsRUFBWXlGLGNBQ3ZCN2UsS0FBQThlLGlCQUFzRixHQUN0RixNQUNBLEtBQVcxRixFQUFBLEVBQVkyRixvQkFDdkIvZSxLQUFBZ2YsdUJBQWtHLEdBQ2xHLE1BQ0EsS0FBVzVGLEVBQUEsRUFBWTZGLE9BQ3ZCamYsS0FBQW9kLFdBQTBFLEtBaUIxRXpELEVBQUF4WixVQUFBK2UsWUFBQSxTQUFBamYsRUFBQWpDLEdBQ0EsSUFBQW9GLEVBQUFwRixFQUFBbWhCLHFCQUFBbmhCLENBQUFpQyxHQUNBbUQsR0FBc0JoRyxPQUFBZ1IsRUFBQSxFQUFBaFIsQ0FBVTRDLEtBQUFpYSxRQUFBN1csRUFBQUUsZUFHaEN0RCxLQUFBbU0sU0FBQW5PLEdBQ0FnQyxLQUFBa2UsYUFBQTlhLEtBVUF1VyxFQUFBeFosVUFBQTZlLHVCQUFBLFNBQUE1YixHQUVBLElBREEsSUFBQWdjLEVBQUFoYyxFQUFBaWMscUJBQ0FodEIsRUFBQSxFQUFBcUwsRUFBQTBoQixFQUFBMXRCLE9BQTJDVyxFQUFBcUwsSUFBUXJMLEVBQ25EMk4sS0FBQWtlLGFBQUFrQixFQUFBL3NCLEtBV0FzbkIsRUFBQXhaLFVBQUFpZSxVQUFBLFNBQUFoYixHQUNBLElBQUE0WSxFQUFBNVksRUFBQWtjLHFCQUNBcEQsRUFBQTlZLEVBQUFtYyxZQUNBdmYsS0FBQXlhLFFBQ0F6YSxLQUFBK2IsWUFBQUMsRUFBQSxFQUFBQSxFQUFBdHFCLE9BQUF3cUIsR0FFQSxLQUFBbGMsS0FBQW9iLE9BQ0FwYixLQUFBdWMsVUFBQVAsRUFBQSxFQUFBQSxFQUFBdHFCLE9BQUF3cUIsSUFXQXZDLEVBQUF4WixVQUFBdWUsZUFBQSxTQUFBdGIsR0FDQSxJQUFBNFksRUFBQTVZLEVBQUFrYyxxQkFDQXBELEVBQUE5WSxFQUFBbWMsWUFDQXZmLEtBQUF5YSxRQUNBemEsS0FBQStiLFlBQUFDLEVBQUEsRUFBQUEsRUFBQXRxQixPQUFBd3FCLEdBRUEsS0FBQWxjLEtBQUFvYixPQUNBcGIsS0FBQXVjLFVBQUFQLEVBQUEsRUFBQUEsRUFBQXRxQixPQUFBd3FCLElBV0F2QyxFQUFBeFosVUFBQW1lLGVBQUEsU0FBQWxiLEdBQ0EsR0FBU2hHLE9BQUFnUixFQUFBLEVBQUFoUixDQUFVNEMsS0FBQWlhLFFBQUE3VyxFQUFBRSxhQUFuQixDQUdBLEdBQUF0RCxLQUFBd2EsYUFBQSxDQUNBeGEsS0FBQXljLHVCQUFBemMsS0FBQXdhLGNBQ0EsSUFBQTdkLEVBQUFxRCxLQUFBK1osU0FDQWlDLEVBQUE1WSxFQUFBa2MscUJBQ0EzaUIsRUFBQTJnQixZQUNBdGQsS0FBQTZjLGNBQUFiLEVBQUEsRUFBQUEsRUFBQXRxQixPQUNBMFIsRUFBQW1jLGFBQUEsR0FDQTVpQixFQUFBK2dCLFNBRUEsUUFBQTFkLEtBQUFvYixNQUFBLENBQ0EsSUFBQW9FLEVBQUFwYyxFQUFBcWMsa0JBQ0F6ZixLQUFBdWMsVUFBQWlELEVBQUEsVUFXQTdGLEVBQUF4WixVQUFBeWUsb0JBQUEsU0FBQXhiLEdBQ0EsSUFBQXNjLEVBQUF0YyxFQUFBRSxZQUNBLEdBQVNsRyxPQUFBZ1IsRUFBQSxFQUFBaFIsQ0FBVTRDLEtBQUFpYSxRQUFBeUYsR0FBbkIsQ0FHQSxHQUFBMWYsS0FBQXdhLGFBQUEsQ0FDQXhhLEtBQUF5Yyx1QkFBQXpjLEtBQUF3YSxjQUNBLElBQUE3ZCxFQUFBcUQsS0FBQStaLFNBQ0FpQyxFQUFBNVksRUFBQWtjLHFCQUNBckQsRUFBQSxFQUNBa0IsRUFBMEMvWixFQUFBdWMsVUFDMUN6RCxFQUFBOVksRUFBQW1jLFlBQ0E1aUIsRUFBQTJnQixZQUNBLFFBQUFqckIsRUFBQSxFQUFBcUwsRUFBQXlmLEVBQUF6ckIsT0FBdUNXLEVBQUFxTCxJQUFRckwsRUFDL0M0cEIsRUFBQWpjLEtBQUE2YyxjQUFBYixFQUFBQyxFQUFBa0IsRUFBQTlxQixHQUFBNnBCLEdBQUEsR0FFQXZmLEVBQUErZ0IsU0FFQSxRQUFBMWQsS0FBQW9iLE1BQUEsQ0FDQSxJQUFBd0UsRUFBQXhjLEVBQUF5YyxtQkFDQTdmLEtBQUF1YyxVQUFBcUQsRUFBQSxFQUFBQSxFQUFBbHVCLE9BQUEsTUFXQWlvQixFQUFBeFosVUFBQXFlLFlBQUEsU0FBQXBiLEdBQ0EsR0FBU2hHLE9BQUFnUixFQUFBLEVBQUFoUixDQUFVNEMsS0FBQWlhLFFBQUE3VyxFQUFBRSxhQUFuQixDQUdBLEdBQUF0RCxLQUFBd2EsY0FBQXhhLEtBQUF1YSxXQUFBLENBQ0F2YSxLQUFBdWEsWUFDQXZhLEtBQUF3YyxxQkFBQXhjLEtBQUF1YSxZQUVBdmEsS0FBQXdhLGNBQ0F4YSxLQUFBeWMsdUJBQUF6YyxLQUFBd2EsY0FFQSxJQUFBN2QsRUFBQXFELEtBQUErWixTQUNBcGQsRUFBQTJnQixZQUNBdGQsS0FBQWtkLFdBQUE5WixFQUFBMGMsNkJBQ0EsRUFBb0MxYyxFQUFBdWMsVUFBQXZjLEVBQUFtYyxhQUNwQ3ZmLEtBQUF1YSxZQUNBNWQsRUFBQThnQixPQUVBemQsS0FBQXdhLGNBQ0E3ZCxFQUFBK2dCLFNBR0EsUUFBQTFkLEtBQUFvYixNQUFBLENBQ0EsSUFBQTJFLEVBQUEzYyxFQUFBNGMsdUJBQ0FoZ0IsS0FBQXVjLFVBQUF3RCxFQUFBLFVBVUFwRyxFQUFBeFosVUFBQTJlLGlCQUFBLFNBQUExYixHQUNBLEdBQVNoRyxPQUFBZ1IsRUFBQSxFQUFBaFIsQ0FBVTRDLEtBQUFpYSxRQUFBN1csRUFBQUUsYUFBbkIsQ0FHQSxHQUFBdEQsS0FBQXdhLGNBQUF4YSxLQUFBdWEsV0FBQSxDQUNBdmEsS0FBQXVhLFlBQ0F2YSxLQUFBd2MscUJBQUF4YyxLQUFBdWEsWUFFQXZhLEtBQUF3YSxjQUNBeGEsS0FBQXljLHVCQUFBemMsS0FBQXdhLGNBRUEsSUFBQTdkLEVBQUFxRCxLQUFBK1osU0FDQWlDLEVBQUE1WSxFQUFBMGMsNkJBQ0E3RCxFQUFBLEVBQ0FnRSxFQUFBN2MsRUFBQThjLFdBQ0FoRSxFQUFBOVksRUFBQW1jLFlBQ0E1aUIsRUFBQTJnQixZQUNBLFFBQUFqckIsRUFBQSxFQUFBcUwsRUFBQXVpQixFQUFBdnVCLE9BQXdDVyxFQUFBcUwsSUFBUXJMLEVBQUEsQ0FDaEQsSUFBQThxQixFQUFBOEMsRUFBQTV0QixHQUNBNHBCLEVBQUFqYyxLQUFBa2QsV0FBQWxCLEVBQUFDLEVBQUFrQixFQUFBakIsR0FFQWxjLEtBQUF1YSxZQUNBNWQsRUFBQThnQixPQUVBemQsS0FBQXdhLGNBQ0E3ZCxFQUFBK2dCLFNBR0EsUUFBQTFkLEtBQUFvYixNQUFBLENBQ0EsSUFBQStFLEVBQUEvYyxFQUFBZ2Qsd0JBQ0FwZ0IsS0FBQXVjLFVBQUE0RCxFQUFBLEVBQUFBLEVBQUF6dUIsT0FBQSxNQVFBaW9CLEVBQUF4WixVQUFBcWMscUJBQUEsU0FBQTZELEdBQ0EsSUFBQTFqQixFQUFBcUQsS0FBQStaLFNBQ0F1RyxFQUFBdGdCLEtBQUFvYSxrQkFDQWtHLEVBTUFBLEVBQUFDLFdBQUFGLEVBQUFFLFlBQ0FELEVBQUFDLFVBQUE1akIsRUFBQTRqQixVQUFBRixFQUFBRSxZQU5BNWpCLEVBQUE0akIsVUFBQUYsRUFBQUUsVUFDQXZnQixLQUFBb2Esa0JBQUEsQ0FDQW1HLFVBQUFGLEVBQUFFLGFBYUE1RyxFQUFBeFosVUFBQXNjLHVCQUFBLFNBQUErRCxHQUNBLElBQUE3akIsRUFBQXFELEtBQUErWixTQUNBMEcsRUFBQXpnQixLQUFBcWEsb0JBQ0FvRyxHQW9CQUEsRUFBQUMsU0FBQUYsRUFBQUUsVUFDQUQsRUFBQUMsUUFBQS9qQixFQUFBK2pCLFFBQWdGRixFQUFBLFNBRXRFakgsRUFBQSxJQUNHbmMsT0FBQThiLEVBQUEsRUFBQTliLENBQU1xakIsRUFBQUUsU0FBQUgsRUFBQUcsV0FDbkJoa0IsRUFBQXZDLFlBQUFxbUIsRUFBQUUsU0FBQUgsRUFBQUcsVUFFQUYsRUFBQUcsZ0JBQUFKLEVBQUFJLGlCQUNBSCxFQUFBRyxlQUFBamtCLEVBQUFpa0IsZUFDQUosRUFBQUksaUJBR0FILEVBQUFJLFVBQUFMLEVBQUFLLFdBQ0FKLEVBQUFJLFNBQUFsa0IsRUFBQWtrQixTQUFtRkwsRUFBQSxVQUVuRkMsRUFBQUssV0FBQU4sRUFBQU0sWUFDQUwsRUFBQUssVUFBQW5rQixFQUFBbWtCLFVBQUFOLEVBQUFNLFdBRUFMLEVBQUFNLFlBQUFQLEVBQUFPLGFBQ0FOLEVBQUFNLFdBQUFwa0IsRUFBQW9rQixXQUNBUCxFQUFBTyxZQUVBTixFQUFBTyxhQUFBUixFQUFBUSxjQUNBUCxFQUFBTyxZQUFBcmtCLEVBQUFxa0IsWUFDQVIsRUFBQVEsZUEzQ0Fya0IsRUFBQStqQixRQUFpREYsRUFBQSxRQUN2Q2pILEVBQUEsSUFDVjVjLEVBQUF2QyxZQUFBb21CLEVBQUFHLFVBQ0Foa0IsRUFBQWlrQixlQUFBSixFQUFBSSxnQkFFQWprQixFQUFBa2tCLFNBQW1ETCxFQUFBLFNBQ25EN2pCLEVBQUFta0IsVUFBQU4sRUFBQU0sVUFDQW5rQixFQUFBb2tCLFdBQUFQLEVBQUFPLFdBQ0Fwa0IsRUFBQXFrQixZQUFBUixFQUFBUSxZQUNBaGhCLEtBQUFxYSxvQkFBQSxDQUNBcUcsUUFBQUYsRUFBQUUsUUFDQUMsU0FBQUgsRUFBQUcsU0FDQUMsZUFBQUosRUFBQUksZUFDQUMsU0FBQUwsRUFBQUssU0FDQUMsVUFBQU4sRUFBQU0sVUFDQUMsV0FBQVAsRUFBQU8sV0FDQUMsWUFBQVIsRUFBQVEsZUFvQ0FySCxFQUFBeFosVUFBQXVjLHFCQUFBLFNBQUF1RSxHQUNBLElBQUF0a0IsRUFBQXFELEtBQUErWixTQUNBbUgsRUFBQWxoQixLQUFBc2Esa0JBQ0E2RyxFQUFBRixFQUFBRSxVQUNBRixFQUFBRSxVQUE0QjFILEVBQUEsRUFDNUJ5SCxHQVVBQSxFQUFBeGtCLE1BQUF1a0IsRUFBQXZrQixPQUNBd2tCLEVBQUF4a0IsS0FBQUMsRUFBQUQsS0FBQXVrQixFQUFBdmtCLE1BRUF3a0IsRUFBQUMsZUFDQUQsRUFBQUMsVUFBQXhrQixFQUFBd2tCLFVBQW9GLEdBRXBGRCxFQUFBRSxjQUFBSCxFQUFBRyxlQUNBRixFQUFBRSxhQUFBemtCLEVBQUF5a0IsYUFDd0NILEVBQUEsZ0JBakJ4Q3RrQixFQUFBRCxLQUFBdWtCLEVBQUF2a0IsS0FDQUMsRUFBQXdrQixVQUFxRCxFQUNyRHhrQixFQUFBeWtCLGFBQTJESCxFQUFBLGFBQzNEamhCLEtBQUFzYSxrQkFBQSxDQUNBNWQsS0FBQXVrQixFQUFBdmtCLEtBQ0F5a0IsWUFDQUMsYUFBQUgsRUFBQUcsZ0JBd0JBekgsRUFBQXhaLFVBQUF3ZCxtQkFBQSxTQUFBNEMsRUFBQVMsR0FDQSxHQUFBVCxFQUVLLENBQ0wsSUFBQWMsRUFBQWQsRUFBQWUsV0FDQXRoQixLQUFBdWEsV0FBQSxDQUNBZ0csVUFBbUJuakIsT0FBQStiLEVBQUEsRUFBQS9iLENBQVdpa0IsR0FDSDVILEVBQUEsU0FMM0J6WixLQUFBdWEsV0FBQSxLQVFBLEdBQUF5RyxFQUVLLENBQ0wsSUFBQU8sRUFBQVAsRUFBQU0sV0FDQUUsRUFBQVIsRUFBQVMsYUFDQUMsRUFBQVYsRUFBQVcsY0FDQUMsRUFBQVosRUFBQWEsb0JBQ0FDLEVBQUFkLEVBQUFlLGNBQ0FDLEVBQUFoQixFQUFBaUIsV0FDQUMsRUFBQWxCLEVBQUFtQixnQkFDQW5pQixLQUFBd2EsYUFBQSxDQUNBa0csYUFBQW5qQixJQUFBaWtCLEVBQ0FBLEVBQStCL0gsRUFBQSxFQUMvQmtILFNBQUFlLEdBQ2dDakksRUFBQSxFQUNoQ21ILGVBQUFnQixHQUNzQ25JLEVBQUEsRUFDdENvSCxjQUFBdGpCLElBQUF1a0IsRUFDQUEsRUFBZ0NySSxFQUFBLEVBQ2hDcUgsVUFBQTlnQixLQUFBZ2Esa0JBQUF6YyxJQUFBeWtCLEVBQ0FBLEVBQTZCdkksRUFBQSxHQUM3QnNILGdCQUFBeGpCLElBQUEya0IsRUFDQUEsRUFBa0N6SSxFQUFBLEVBQ2xDdUgsWUFBcUI1akIsT0FBQStiLEVBQUEsRUFBQS9iLENBQVdta0IsR0FDSDlILEVBQUEsU0F2QjdCelosS0FBQXdhLGFBQUEsTUFtQ0FiLEVBQUF4WixVQUFBMmQsY0FBQSxTQUFBc0UsR0FDQSxHQUFBQSxFQUVLLENBQ0wsSUFBQUMsRUFBQUQsRUFBQUUsWUFFQUMsRUFBQUgsRUFBQXJFLFNBQUEsR0FDQXlFLEVBQUFKLEVBQUFLLFlBQ0FDLEVBQUFOLEVBQUFPLFVBQ0EzaUIsS0FBQTBhLGNBQUEySCxFQUFBLEdBQ0FyaUIsS0FBQTJhLGNBQUEwSCxFQUFBLEdBQ0FyaUIsS0FBQTRhLGFBQUE4SCxFQUFBLEdBQ0ExaUIsS0FBQXlhLE9BQUE4SCxFQUNBdmlCLEtBQUE2YSxjQUFBdUgsRUFBQVEsYUFDQTVpQixLQUFBOGEsY0FBQTBILEVBQUEsR0FDQXhpQixLQUFBK2EsY0FBQXlILEVBQUEsR0FDQXhpQixLQUFBZ2IscUJBQUFvSCxFQUFBUyxvQkFDQTdpQixLQUFBaWIsZUFBQW1ILEVBQUFVLGNBQ0E5aUIsS0FBQWtiLFlBQUFrSCxFQUFBVyxXQUFBL2lCLEtBQUFnYSxZQUNBaGEsS0FBQW1iLFlBQUF1SCxFQUFBLFFBakJBMWlCLEtBQUF5YSxPQUFBLE1BNEJBZCxFQUFBeFosVUFBQTZkLGFBQUEsU0FBQWdGLEdBQ0EsR0FBQUEsRUFFSyxDQUNMLElBQUFDLEVBQUFELEVBQUFwRixVQUNBLEdBQUFxRixFQUVPLENBQ1AsSUFBQUMsRUFBQUQsRUFBQTNCLFdBQ0F0aEIsS0FBQTBiLGVBQUEsQ0FDQTZFLFVBQXFCbmpCLE9BQUErYixFQUFBLEVBQUEvYixDQUFXOGxCLEdBQ0N6SixFQUFBLFNBTGpDelosS0FBQTBiLGVBQUEsS0FRQSxJQUFBeUgsRUFBQUgsRUFBQW5GLFlBQ0EsR0FBQXNGLEVBRU8sQ0FDUCxJQUFBQyxFQUFBRCxFQUFBN0IsV0FDQStCLEVBQUFGLEVBQUExQixhQUNBNkIsRUFBQUgsRUFBQXhCLGNBQ0E0QixFQUFBSixFQUFBdEIsb0JBQ0EyQixFQUFBTCxFQUFBcEIsY0FDQTBCLEVBQUFOLEVBQUFsQixXQUNBeUIsRUFBQVAsRUFBQWhCLGdCQUNBbmlCLEtBQUEyYixpQkFBQSxDQUNBK0UsYUFBQW5qQixJQUFBOGxCLEVBQ0FBLEVBQXFDNUosRUFBQSxFQUNyQ2tILFNBQUEyQyxHQUNzQzdKLEVBQUEsRUFDdENtSCxlQUFBMkMsR0FDNEM5SixFQUFBLEVBQzVDb0gsY0FBQXRqQixJQUFBaW1CLEVBQ0FBLEVBQXNDL0osRUFBQSxFQUN0Q3FILGVBQUF2akIsSUFBQWttQixFQUNBQSxFQUFtQ2hLLEVBQUEsRUFDbkNzSCxnQkFBQXhqQixJQUFBbW1CLEVBQ0FBLEVBQXdDakssRUFBQSxFQUN4Q3VILFlBQXVCNWpCLE9BQUErYixFQUFBLEVBQUEvYixDQUFXZ21CLEdBQ0MzSixFQUFBLFNBdkJuQ3paLEtBQUEyYixpQkFBQSxLQTBCQSxJQUFBZ0ksRUFBQVgsRUFBQVksVUFDQUMsRUFBQWIsRUFBQWMsYUFDQUMsRUFBQWYsRUFBQWdCLGFBQ0FDLEVBQUFqQixFQUFBSCxvQkFDQXFCLEVBQUFsQixFQUFBRixjQUNBcUIsRUFBQW5CLEVBQUFELFdBQ0FxQixFQUFBcEIsRUFBQS9FLFVBQ0FvRyxFQUFBckIsRUFBQXNCLGVBQ0FDLEVBQUF2QixFQUFBd0Isa0JBQ0F4a0IsS0FBQTRiLFdBQUEsQ0FDQWxmLFVBQUFhLElBQUFvbUIsRUFDQUEsRUFBcUJsSyxFQUFBLEVBQ3JCMEgsZUFBQTVqQixJQUFBOG1CLEVBQ0FBLEVBQTBCNUssRUFBQSxFQUMxQjJILGtCQUFBN2pCLElBQUFnbkIsRUFDQUEsRUFBNkI5SyxFQUFBLEdBRTdCelosS0FBQW9iLFdBQUE3ZCxJQUFBNm1CLElBQUEsR0FDQXBrQixLQUFBcWIsa0JBQ0E5ZCxJQUFBc21CLEVBQUE3akIsS0FBQWdhLFlBQUE2SixFQUFBLEVBQ0E3akIsS0FBQXNiLGtCQUNBL2QsSUFBQXdtQixFQUFBL2pCLEtBQUFnYSxZQUFBK0osRUFBQSxFQUNBL2pCLEtBQUF1Yix5QkFBQWhlLElBQUEwbUIsS0FDQWprQixLQUFBd2IsbUJBQUFqZSxJQUFBMm1CLElBQUEsRUFDQWxrQixLQUFBeWIsV0FBQXpiLEtBQUFnYSxrQkFBQXpjLElBQUE0bUIsRUFDQUEsRUFBQSxRQWpFQW5rQixLQUFBb2IsTUFBQSxJQXFFQXpCLEVBcDRCQSxDQXE0QkVILEVBQUEsR0FHYS9rQixFQUFBLGtDQ242QmYsSUFNQWd3QixFQUFBLFNBQUE3a0IsR0FDQSxTQUFBNmtCLEVBQUE1a0IsRUFBQTZrQixFQUFBQyxFQUFBQyxFQUFBQyxHQUVBamxCLEVBQUFHLEtBQUFDLEtBQUFILEdBT0FHLEtBQUE4a0IsY0FBQUosRUFPQTFrQixLQUFBOFEsV0FBQTZULEVBUUEza0IsS0FBQXJELFFBQUFpb0IsRUFRQTVrQixLQUFBK2tCLFVBQUFGLEVBUUEsT0FKQWpsQixJQUFBNmtCLEVBQUF2a0IsVUFBQU4sR0FDQTZrQixFQUFBdGtCLFVBQUEvQyxPQUFBZ0QsT0FBQVIsS0FBQU8sV0FDQXNrQixFQUFBdGtCLFVBQUFFLFlBQUFva0IsRUFFQUEsRUF6Q0EsQ0FOQWx3QixFQUFBLElBZ0RFLEdBRWFFLEVBQUEsa0NDbERmLElBQUF1d0IsRUFBQXp3QixFQUFBLElBQUEwd0IsRUFBQTF3QixFQUFBLElBaUJBMndCLEVBQUEsU0FBQUMsR0FDQSxTQUFBRCxFQUFBMWxCLEVBQUFDLEVBQUFvYSxFQUFBaGxCLEVBQUF1d0IsR0FFQSxJQUFBdmtCLE9BQUF0RCxJQUFBNm5CLEVBQTJDSCxFQUFBLEVBQVUxc0IsS0FBUTBzQixFQUFBLEVBQVV4c0IsT0FFdkUwc0IsRUFBQXBsQixLQUFBQyxLQUFBUixFQUFBQyxFQUFBb2EsRUFBQWhaLEdBT0FiLEtBQUFpQixhQUFBMUQsSUFBQTZuQixJQUFBLEtBTUFwbEIsS0FBQXFsQixRQUFBeHdCLEVBTUFtTCxLQUFBc2xCLE9BQUEsS0FpREEsT0E3Q0FILElBQUFELEVBQUFobEIsVUFBQWlsQixHQUNBRCxFQUFBL2tCLFVBQUEvQyxPQUFBZ0QsT0FBQStrQixLQUFBaGxCLFdBQ0Era0IsRUFBQS9rQixVQUFBRSxZQUFBNmtCLEVBTUFBLEVBQUEva0IsVUFBQW9sQixTQUFBLFdBQ0EsT0FBQXZsQixLQUFBc2xCLFFBUUFKLEVBQUEva0IsVUFBQXFsQixZQUFBLFNBQUFDLEdBQ0FBLEdBQ0F6bEIsS0FBQXNsQixPQUFBRyxFQUNBemxCLEtBQUFhLE1BQW1Cb2tCLEVBQUEsRUFBVXZzQixPQUU3QnNILEtBQUFhLE1BQW1Cb2tCLEVBQUEsRUFBVXhzQixPQUU3QnVILEtBQUErQyxXQU1BbWlCLEVBQUEva0IsVUFBQTJFLEtBQUEsV0FDQTlFLEtBQUFhLE9BQXNCb2tCLEVBQUEsRUFBVTFzQixPQUNoQ3lILEtBQUFhLE1BQW1Cb2tCLEVBQUEsRUFBVXpzQixRQUM3QndILEtBQUErQyxVQUNBL0MsS0FBQWlCLFFBQUFqQixLQUFBd2xCLFlBQUFyTixLQUFBblksU0FPQWtsQixFQUFBL2tCLFVBQUE0ZCxTQUFBLFdBQ0EsT0FBQS9kLEtBQUFxbEIsU0FHQUgsRUF6RUEsQ0EwRUVGLEVBQUEsR0FHYXZ3QixFQUFBLGtDQzlGZixJQUFBd1osRUFBQTFaLEVBQUEsR0FBQW14QixFQUFBbnhCLEVBQUEsSUFBQXdXLEVBQUF4VyxFQUFBLEdBVUE0d0IsRUFBQSxTQUFBUSxHQUNBLFNBQUFSLEVBQUEzbEIsRUFBQUMsRUFBQW9hLEVBQUFoWixHQUVBOGtCLEVBQUE1bEIsS0FBQUMsTUFNQUEsS0FBQVIsU0FNQVEsS0FBQWdhLFlBQUFILEVBTUE3WixLQUFBUCxhQU1BTyxLQUFBYSxRQTJEQSxPQXZEQThrQixJQUFBUixFQUFBamxCLFVBQUF5bEIsR0FDQVIsRUFBQWhsQixVQUFBL0MsT0FBQWdELE9BQUF1bEIsS0FBQXhsQixXQUNBZ2xCLEVBQUFobEIsVUFBQUUsWUFBQThrQixFQUtBQSxFQUFBaGxCLFVBQUE0QyxRQUFBLFdBQ0EvQyxLQUFBd0QsY0FBdUJ1SCxFQUFBLEVBQVNsSCxTQU1oQ3NoQixFQUFBaGxCLFVBQUFtRCxVQUFBLFdBQ0EsT0FBQXRELEtBQUFSLFFBT0EybEIsRUFBQWhsQixVQUFBNGQsU0FBQSxXQUNBLE9BQVczZ0IsT0FBQTZRLEVBQUEsRUFBQTdRLElBTVgrbkIsRUFBQWhsQixVQUFBeWxCLGNBQUEsV0FDQSxPQUFBNWxCLEtBQUFnYSxhQU1BbUwsRUFBQWhsQixVQUFBMGxCLGNBQUEsV0FDQSxPQUE2QjdsQixLQUFBLFlBTTdCbWxCLEVBQUFobEIsVUFBQXFRLFNBQUEsV0FDQSxPQUFBeFEsS0FBQWEsT0FPQXNrQixFQUFBaGxCLFVBQUEyRSxLQUFBLFdBQ0kxSCxPQUFBNlEsRUFBQSxFQUFBN1EsSUFHSituQixFQXRGQSxDQXVGRU8sRUFBQSxHQUdhanhCLEVBQUEsa0NDcEdmLElBQUF3WixFQUFBMVosRUFBQSxHQUFBdXhCLEVBQUF2eEIsRUFBQSxJQUFBd3hCLEVBQUF4eEIsRUFBQSxJQUFBeXhCLEVBQUF6eEIsRUFBQSxHQUFBMHhCLEVBQUExeEIsRUFBQSxJQUFBMnhCLEVBQUEzeEIsRUFBQSxJQWFBNHhCLEVBQUEsU0FBQUMsR0FDQSxTQUFBRCxFQUFBRSxHQUVBRCxFQUFBcm1CLEtBQUFDLEtBQUFxbUIsR0FNQXJtQixLQUFBc21CLGlDQUE0Q2xwQixPQUFBOG9CLEVBQUEsRUFBQTlvQixHQU01QzRDLEtBQUF1bUIsa0JBQUEsS0FnR0EsT0E1RkFILElBQUFELEVBQUFqbUIsVUFBQWttQixHQUNBRCxFQUFBaG1CLFVBQUEvQyxPQUFBZ0QsT0FBQWdtQixLQUFBam1CLFdBQ0FnbUIsRUFBQWhtQixVQUFBRSxZQUFBOGxCLEVBS0FBLEVBQUFobUIsVUFBQXFtQixhQUFBLFNBQUExVixFQUFBMlYsRUFBQTlwQixHQUVBcUQsS0FBQTBtQixXQUFBL3BCLEVBQUFtVSxHQUVBLElBQUFoUyxFQUFBa0IsS0FBQStkLFdBQ0EsR0FBQWpmLEVBQUEsQ0FHQSxJQUFBVSxFQUFBaW5CLEVBQUFqbkIsT0FDQW1uQixPQUFBcHBCLElBQUFpQyxJQUNXcEMsT0FBQTRvQixFQUFBLEVBQUE1b0IsQ0FBY29DLEVBQUFzUixFQUFBdFIsU0FDZnBDLE9BQUE0b0IsRUFBQSxFQUFBNW9CLENBQVVvQyxFQUFBc1IsRUFBQXRSLFFBQ3BCbW5CLEdBQ0EzbUIsS0FBQTRtQixLQUFBanFCLEVBQUFtVSxFQUFtRixHQUduRixJQUFBK1YsRUFBQTdtQixLQUFBOG1CLG9CQUlBM25CLEVBQUF4QyxFQUFBeUMsWUFDQXpDLEVBQUF5QyxZQUFBcW5CLEVBQUE1bkIsUUFJQSxJQUFBNUgsRUFBQTR2QixFQUFBLEdBQ0EzdkIsRUFBQTJ2QixFQUFBLEdBQ0FFLEVBQUFqb0IsRUFBQTlKLE1BQUE2eEIsRUFBQSxHQUNBRyxFQUFBbG9CLEVBQUE3SixPQUFBNHhCLEVBQUEsR0FDQUUsR0FBQSxJQUFBQyxHQUFBLElBQ0FycUIsRUFBQW5CLFVBQUFzRCxFQUFBLEtBQUFBLEVBQUE5SixPQUFBOEosRUFBQTdKLE9BQ0FrQyxLQUFBOHZCLE1BQUFod0IsR0FBQUUsS0FBQTh2QixNQUFBL3ZCLEdBQUFDLEtBQUE4dkIsTUFBQUYsR0FBQTV2QixLQUFBOHZCLE1BQUFELElBRUFycUIsRUFBQXlDLFlBQUFELEVBRUF3bkIsR0FDQWhxQixFQUFBdXFCLFVBSUFsbkIsS0FBQW1uQixZQUFBeHFCLEVBQUFtVSxFQUFBMlYsSUFPQU4sRUFBQWhtQixVQUFBNGQsU0FBQSxXQUNBLE9BQVczZ0IsT0FBQTZRLEVBQUEsRUFBQTdRLElBT1grb0IsRUFBQWhtQixVQUFBMm1CLGtCQUFBLFdBQ0EsT0FBVzFwQixPQUFBNlEsRUFBQSxFQUFBN1EsSUFNWCtvQixFQUFBaG1CLFVBQUFpbkIseUJBQUEsU0FBQTV3QixFQUFBc2EsRUFBQXVXLEVBQUF0aEIsRUFBQXVoQixHQUNBLEdBQUF0bkIsS0FBQStkLFdBQUEsQ0FJQSxJQUFBd0osRUFBZ0JucUIsT0FBQThvQixFQUFBLEVBQUE5b0IsQ0FBYzRDLEtBQUFzbUIsaUNBQUE5dkIsRUFBQXNTLFNBQzFCMUwsT0FBQTBvQixFQUFBLEVBQUExb0IsQ0FBZW1xQixFQUFBelcsRUFBQTBXLFVBQUEvbkIsV0FBQU8sS0FBQXluQixvQkFFbkJ6bkIsS0FBQXVtQixvQkFDQXZtQixLQUFBdW1CLGtCQUErQm5wQixPQUFBMm9CLEVBQUEsRUFBQTNvQixDQUFxQixNQUdwRDRDLEtBQUF1bUIsa0JBQUFtQixVQUFBLFNBQ0ExbkIsS0FBQXVtQixrQkFBQS9xQixVQUFBd0UsS0FBQStkLFdBQUF3SixFQUFBLEdBQUFBLEVBQUEsZ0JBRUEsSUFBQUksRUFBQTNuQixLQUFBdW1CLGtCQUFBcUIsYUFBQSxTQUFBaDFCLEtBQ0EsT0FBQSswQixFQUFBLEtBQ0E1aEIsRUFBQWhHLEtBQUF1bkIsRUFBQXRuQixLQUFBNm5CLFdBQUFGLFFBRUEsSUFJQXhCLEVBL0dBLENBZ0hFRixFQUFBLEdBR2F4eEIsRUFBQSxzQ0NoSWYsSUFBQTRVLEVBQUE5VSxFQUFBLEdBQUFteEIsRUFBQW54QixFQUFBLElBQUF3VyxFQUFBeFcsRUFBQSxHQTJCQXV6QixFQUFBLFNBQUFuQyxHQUNBLFNBQUFtQyxFQUFBQyxHQUVBcEMsRUFBQTVsQixLQUFBQyxNQUtBQSxLQUFBZ29CLG1CQUFBenFCLElBQUF3cUIsSUFBQSxLQU1BL25CLEtBQUFpb0IsT0FBQSxFQU1Bam9CLEtBQUFrb0IsU0FBQSxHQU1BbG9CLEtBQUFtb0IsUUFBQSxLQU1Bbm9CLEtBQUFvb0IsUUFBQSxLQWdQQSxPQTVPQXpDLElBQUFtQyxFQUFBNW5CLFVBQUF5bEIsR0FDQW1DLEVBQUEzbkIsVUFBQS9DLE9BQUFnRCxPQUFBdWxCLEtBQUF4bEIsV0FDQTJuQixFQUFBM25CLFVBQUFFLFlBQUF5bkIsRUFNQUEsRUFBQTNuQixVQUFBa29CLGVBQUEsV0FDQSxPQUFBcm9CLEtBQUFzb0IsV0FBQXRvQixLQUFBZ29CLGVBT0FGLEVBQUEzbkIsVUFBQTlDLE1BQUEsV0FDQTJDLEtBQUFpb0IsT0FBQSxFQUNBam9CLEtBQUFrb0IsU0FBQSxHQUNBbG9CLEtBQUFtb0IsUUFBQSxLQUNBbm9CLEtBQUFvb0IsUUFBQSxLQUNBcG9CLEtBQUF3RCxjQUF1QnVILEVBQUEsRUFBU2xGLFFBUWhDaWlCLEVBQUEzbkIsVUFBQW9vQixZQUFBLFNBQUF4ZSxHQUNBLE9BQUEvSixLQUFBa29CLFNBQUFwZSxlQUFBQyxJQVlBK2QsRUFBQTNuQixVQUFBdUYsUUFBQSxTQUFBOGlCLEVBQUFuWixHQUVBLElBREEsSUFBQW9aLEVBQUF6b0IsS0FBQW1vQixRQUNBTSxHQUNBRCxFQUFBem9CLEtBQUFzUCxFQUFBb1osRUFBQUMsT0FBQUQsRUFBQUUsS0FBQTNvQixNQUNBeW9CLElBQUFHLE9BU0FkLEVBQUEzbkIsVUFBQWlNLElBQUEsU0FBQXJDLEdBQ0EsSUFBQTBlLEVBQUF6b0IsS0FBQWtvQixTQUFBbmUsR0FHQSxPQUZJM00sT0FBQWlNLEVBQUEsRUFBQWpNLE1BQU1HLElBQUFrckIsRUFDVixJQUNBQSxJQUFBem9CLEtBQUFvb0IsUUFDQUssRUFBQUMsUUFDS0QsSUFBQXpvQixLQUFBbW9CLFNBQ0xub0IsS0FBQW1vQixRQUFzQ25vQixLQUFBbW9CLFFBQUEsTUFDdENub0IsS0FBQW1vQixRQUFBVSxNQUFBLE9BRUFKLEVBQUFHLE1BQUFDLE1BQUFKLEVBQUFJLE1BQ0FKLEVBQUFJLE1BQUFELE1BQUFILEVBQUFHLE9BRUFILEVBQUFHLE1BQUEsS0FDQUgsRUFBQUksTUFBQTdvQixLQUFBb29CLFFBQ0Fwb0IsS0FBQW9vQixRQUFBUSxNQUFBSCxFQUNBem9CLEtBQUFvb0IsUUFBQUssRUFDQUEsRUFBQUMsU0FTQVosRUFBQTNuQixVQUFBbk4sT0FBQSxTQUFBK1csR0FDQSxJQUFBMGUsRUFBQXpvQixLQUFBa29CLFNBQUFuZSxHQWtCQSxPQWpCSTNNLE9BQUFpTSxFQUFBLEVBQUFqTSxNQUFNRyxJQUFBa3JCLEVBQUEsSUFDVkEsSUFBQXpvQixLQUFBb29CLFNBQ0Fwb0IsS0FBQW9vQixRQUFzQ0ssRUFBQSxNQUN0Q3pvQixLQUFBb29CLFVBQ0Fwb0IsS0FBQW9vQixRQUFBUSxNQUFBLE9BRUtILElBQUF6b0IsS0FBQW1vQixTQUNMbm9CLEtBQUFtb0IsUUFBc0NNLEVBQUEsTUFDdEN6b0IsS0FBQW1vQixVQUNBbm9CLEtBQUFtb0IsUUFBQVUsTUFBQSxRQUdBSixFQUFBRyxNQUFBQyxNQUFBSixFQUFBSSxNQUNBSixFQUFBSSxNQUFBRCxNQUFBSCxFQUFBRyxjQUVBNW9CLEtBQUFrb0IsU0FBQW5lLEtBQ0EvSixLQUFBaW9CLE9BQ0FRLEVBQUFDLFFBT0FaLEVBQUEzbkIsVUFBQW1vQixTQUFBLFdBQ0EsT0FBQXRvQixLQUFBaW9CLFFBT0FILEVBQUEzbkIsVUFBQTJvQixRQUFBLFdBQ0EsSUFFQUwsRUFGQU0sRUFBQSxJQUFBajJCLE1BQUFrTixLQUFBaW9CLFFBQ0E1MUIsRUFBQSxFQUVBLElBQUFvMkIsRUFBQXpvQixLQUFBb29CLFFBQThCSyxFQUFPQSxJQUFBSSxNQUNyQ0UsRUFBQTEyQixLQUFBbzJCLEVBQUFFLEtBRUEsT0FBQUksR0FPQWpCLEVBQUEzbkIsVUFBQTZvQixVQUFBLFdBQ0EsSUFFQVAsRUFGQTNaLEVBQUEsSUFBQWhjLE1BQUFrTixLQUFBaW9CLFFBQ0E1MUIsRUFBQSxFQUVBLElBQUFvMkIsRUFBQXpvQixLQUFBb29CLFFBQThCSyxFQUFPQSxJQUFBSSxNQUNyQy9aLEVBQUF6YyxLQUFBbzJCLEVBQUFDLE9BRUEsT0FBQTVaLEdBT0FnWixFQUFBM25CLFVBQUE4b0IsU0FBQSxXQUNBLE9BQUFqcEIsS0FBQW1vQixRQUFBTyxRQU9BWixFQUFBM25CLFVBQUErb0IsWUFBQSxXQUNBLE9BQUFscEIsS0FBQW1vQixRQUFBUSxNQVFBYixFQUFBM25CLFVBQUFncEIsYUFBQSxXQUNBLE9BQUFucEIsS0FBQW9vQixRQUFBTyxNQU9BYixFQUFBM25CLFVBQUFpVCxJQUFBLFdBQ0EsSUFBQXFWLEVBQUF6b0IsS0FBQW1vQixRQVVBLGNBVEFub0IsS0FBQWtvQixTQUFBTyxFQUFBRSxNQUNBRixFQUFBRyxRQUNBSCxFQUFBRyxNQUFBQyxNQUFBLE1BRUE3b0IsS0FBQW1vQixRQUFvQ00sRUFBQSxNQUNwQ3pvQixLQUFBbW9CLFVBQ0Fub0IsS0FBQW9vQixRQUFBLFFBRUFwb0IsS0FBQWlvQixPQUNBUSxFQUFBQyxRQVFBWixFQUFBM25CLFVBQUFpcEIsUUFBQSxTQUFBcmYsRUFBQTNXLEdBQ0E0TSxLQUFBb00sSUFBQXJDLEdBQ0EvSixLQUFBa29CLFNBQUFuZSxHQUFBMmUsT0FBQXQxQixHQVFBMDBCLEVBQUEzbkIsVUFBQW9NLElBQUEsU0FBQXhDLEVBQUEzVyxHQUNJZ0ssT0FBQWlNLEVBQUEsRUFBQWpNLEdBQU0yTSxLQUFBL0osS0FBQWtvQixVQUNWLElBQ0EsSUFBQU8sRUFBaUMsQ0FDakNFLEtBQUE1ZSxFQUNBNmUsTUFBQSxLQUNBQyxNQUFBN29CLEtBQUFvb0IsUUFDQU0sT0FBQXQxQixHQUVBNE0sS0FBQW9vQixRQUdBcG9CLEtBQUFvb0IsUUFBQVEsTUFBQUgsRUFGQXpvQixLQUFBbW9CLFFBQUFNLEVBSUF6b0IsS0FBQW9vQixRQUFBSyxFQUNBem9CLEtBQUFrb0IsU0FBQW5lLEdBQUEwZSxJQUNBem9CLEtBQUFpb0IsUUFTQUgsRUFBQTNuQixVQUFBa3BCLFFBQUEsU0FBQWh0QixHQUNBMkQsS0FBQWdvQixjQUFBM3JCLEdBT0F5ckIsRUFBQTNuQixVQUFBbXBCLE1BQUEsV0FDQSxLQUFBdHBCLEtBQUFxb0Isa0JBQ0Fyb0IsS0FBQW9ULE9BSUEwVSxFQWhSQSxDQWlSRXBDLEVBQUEsR0FFYWp4QixFQUFBLHFDQ3BTZixJQUFBbWxCLEVBQUEsYUFFQUEsRUFBQXpaLFVBQUFvcEIsV0FBQSxTQUFBbm1CLEVBQUFuRCxFQUFBdXBCLEtBT0E1UCxFQUFBelosVUFBQStkLGFBQUEsU0FBQTlhLEtBT0F3VyxFQUFBelosVUFBQWdNLFNBQUEsU0FBQW5PLEtBTUE0YixFQUFBelosVUFBQWlkLFdBQUEsU0FBQXFNLEVBQUF4cEIsS0FNQTJaLEVBQUF6WixVQUFBK2UsWUFBQSxTQUFBamYsRUFBQWpDLEtBTUE0YixFQUFBelosVUFBQTZlLHVCQUFBLFNBQUEwSyxFQUFBenBCLEtBTUEyWixFQUFBelosVUFBQW1lLGVBQUEsU0FBQXFMLEVBQUExcEIsS0FNQTJaLEVBQUF6WixVQUFBeWUsb0JBQUEsU0FBQWdMLEVBQUEzcEIsS0FNQTJaLEVBQUF6WixVQUFBdWUsZUFBQSxTQUFBbUwsRUFBQTVwQixLQU1BMlosRUFBQXpaLFVBQUEyZSxpQkFBQSxTQUFBZ0wsRUFBQTdwQixLQU1BMlosRUFBQXpaLFVBQUFpZSxVQUFBLFNBQUEyTCxFQUFBOXBCLEtBTUEyWixFQUFBelosVUFBQXFlLFlBQUEsU0FBQXdMLEVBQUEvcEIsS0FNQTJaLEVBQUF6WixVQUFBOHBCLFNBQUEsU0FBQTdtQixFQUFBbkQsS0FNQTJaLEVBQUF6WixVQUFBd2QsbUJBQUEsU0FBQTRDLEVBQUFTLEtBTUFwSCxFQUFBelosVUFBQTJkLGNBQUEsU0FBQXNFLEVBQUE4SCxLQU1BdFEsRUFBQXpaLFVBQUE2ZCxhQUFBLFNBQUFnRixFQUFBa0gsS0FFZXoxQixFQUFBLGtDQzFHZixJQUFBd1osRUFBQTFaLEVBQUEsR0FBQTQxQixFQUFBNTFCLEVBQUEsSUFBQTYxQixFQUFBNzFCLEVBQUEsSUFBQTgxQixFQUFBOTFCLEVBQUEsSUFBQSsxQixFQUFBLzFCLEVBQUEsSUFBQWcyQixFQUFBaDJCLEVBQUEsSUFBQWkyQixFQUFBajJCLEVBQUEsR0FBQWsyQixFQUFBbDJCLEVBQUEsSUFBQW0yQixFQUFBbjJCLEVBQUEsSUFrQkFvMkIsRUFBQSxTQUFBeEUsR0FDQSxTQUFBd0UsRUFBQUMsRUFBQUMsR0FFQTFFLEVBQUFwbUIsS0FBQUMsS0FBQTRxQixHQU1BNXFCLEtBQUFyRCxRQUFBa3VCLEVBQUEsS0FBMEN6dEIsT0FBQW10QixFQUFBLEVBQUFudEIsR0FNMUM0QyxLQUFBOHFCLGNBTUE5cUIsS0FBQStxQixnQkFBQSxLQU1BL3FCLEtBQUFnckIsaUJBTUFockIsS0FBQWlyQixjQUFBLEdBTUFqckIsS0FBQWtyQixXQUFBLEVBTUFsckIsS0FBQW1yQixVQUFxQi90QixPQUFBb3RCLEVBQUEsRUFBQXB0QixHQU1yQjRDLEtBQUFvckIsY0FBQSxJQUE2QmhCLEVBQUEsRUFBUyxTQU10Q3BxQixLQUFBcXJCLGdCQUEyQmp1QixPQUFBc3RCLEVBQUEsRUFBQXR0QixHQU0zQjRDLEtBQUFzckIsV0FBQSxFQStSQSxPQTNSQW5GLElBQUF3RSxFQUFBenFCLFVBQUFpbUIsR0FDQXdFLEVBQUF4cUIsVUFBQS9DLE9BQUFnRCxPQUFBK2xCLEtBQUFobUIsV0FDQXdxQixFQUFBeHFCLFVBQUFFLFlBQUFzcUIsRUFPQUEsRUFBQXhxQixVQUFBb3JCLGdCQUFBLFNBQUFDLEdBQ0EsSUFBQVosRUFBcUU1cUIsS0FBQTZuQixXQUNyRTRELEVBQUFELEVBQUFoYixXQUNBa2IsRUFBQWQsRUFBQWUsNEJBQ0EsT0FBQUYsR0FBd0JwQixFQUFBLEVBQVM1eEIsUUFDakNnekIsR0FBcUJwQixFQUFBLEVBQVMxeEIsT0FDOUI4eUIsR0FBcUJwQixFQUFBLEVBQVMzeEIsUUFBQWd6QixHQVc5QmYsRUFBQXhxQixVQUFBeXJCLFFBQUEsU0FBQWpULEVBQUFyaEIsRUFBQUMsRUFBQXNpQixFQUFBalosR0FDQSxJQUFBZ3FCLEVBQXFFNXFCLEtBQUE2bkIsV0FFckUyRCxFQUR1RVosRUFBQWlCLFlBQ3ZFRCxRQUFBalQsRUFBQXJoQixFQUFBQyxFQUFBc2lCLEVBQUFqWixHQWFBLE9BWkE0cUIsRUFBQWhiLFlBQTJCNlosRUFBQSxFQUFTM3hCLFFBQ3BDa3lCLEVBQUFlLDRCQUdPZixFQUFBa0IsYUFBQSxJQUVQOXJCLEtBQUFrckIsV0FBQSxHQUhBTSxFQUFBNWEsU0FBc0J5WixFQUFBLEVBQVM1eEIsU0FNL0J1SCxLQUFBdXJCLGdCQUFBQyxLQUNBQSxJQUFBTyxrQkFFQVAsR0FNQWIsRUFBQXhxQixVQUFBNnJCLGFBQUEsU0FBQWxiLEVBQUEyVixHQUVBLElBQUE1TSxFQUFBL0ksRUFBQStJLFdBQ0F4ZCxFQUFBeVUsRUFBQXpVLEtBQ0FtckIsRUFBQTFXLEVBQUEwVyxVQUNBNW1CLEVBQUE0bUIsRUFBQTVtQixXQUNBcXJCLEVBQUF6RSxFQUFBL25CLFdBQ0F5c0IsRUFBQTFFLEVBQUEzd0IsT0FFQSt6QixFQUFxRTVxQixLQUFBNm5CLFdBQ3JFc0UsRUFBdUV2QixFQUFBaUIsWUFDdkVPLEVBQUFELEVBQUFFLGNBQ0FDLEVBQUFILEVBQUFJLHlCQUFBM3JCLEdBQ0ErWCxFQUFBMlQsRUFBQUUsa0JBQUFQLEVBQUFqc0IsS0FBQXNyQixZQUNBbUIsRUFBQUgsRUFBQXpHLGNBQUFsTixHQUNBK1QsRUFBQXYxQixLQUFBOHZCLE1BQUFnRixFQUFBUSxJQUFBLEVBQ0FqdEIsRUFBQXNSLEVBQUF0UixPQUtBLFFBSEFqQyxJQUFBa3BCLEVBQUFqbkIsU0FDQUEsRUFBZXBDLE9BQUFvdEIsRUFBQSxFQUFBcHRCLENBQWVvQyxFQUFBaW5CLEVBQUFqbkIsU0FFdEJwQyxPQUFBb3RCLEVBQUEsRUFBQXB0QixDQUFPb0MsR0FFZixTQUdBLElBQUFtdEIsRUFBQUwsRUFBQU0sMEJBQUFwdEIsRUFBQW1aLEdBQ0FrVSxFQUFBUCxFQUFBUSxtQkFBQW5VLEVBQUFnVSxHQUVBSSxFQUFBWixFQUFBYSxrQkFBQW5ULEdBS0FvVCxFQUFBLEdBQ0FBLEVBQUF0VSxHQUFBLEdBRUEsSUFTQTZTLEVBQUFsMEIsRUFBQUMsRUFUQTIxQixFQUFBbHRCLEtBQUFtdEIsdUJBQ0FoQixFQUFBdnJCLEVBQUFxc0IsR0FFQUcsRUFBQXRjLEVBQUF1YyxVQUNBQyxFQUFBRixFQUF1QzlDLEVBQUEsRUFBUXgwQixZQUFBczNCLEVBQXFCOUMsRUFBQSxFQUFRdjBCLGFBRTVFbzFCLEVBQUFuckIsS0FBQW1yQixVQUNBb0MsRUFBQXZ0QixLQUFBb3JCLGNBR0EsSUFGQXByQixLQUFBa3JCLFdBQUEsRUFFQTV6QixFQUFBcTFCLEVBQUFqZSxLQUE0QnBYLEdBQUFxMUIsRUFBQS9kLE9BQXFCdFgsRUFDakQsSUFBQUMsRUFBQW8xQixFQUFBaGUsS0FBOEJwWCxHQUFBbzFCLEVBQUE5ZCxPQUFxQnRYLEVBQ25ELEtBQUFpMkIsS0FBQUMsTUFBQTNjLEVBQUE0YyxLQUFBLElBQUFKLEdBQUEsQ0FJQSxHQURBOUIsRUFBQXhyQixLQUFBNHJCLFFBQUFqVCxFQUFBcmhCLEVBQUFDLEVBQUFzaUIsRUFBQWpaLEdBQ0FaLEtBQUF1ckIsZ0JBQUFDLEdBQUEsQ0FDQSxJQUFBdmMsRUFBb0I3UixPQUFBNlEsRUFBQSxFQUFBN1EsQ0FBTTRDLE1BQzFCLEdBQUF3ckIsRUFBQWhiLFlBQWlDNlosRUFBQSxFQUFTNXhCLE9BQUEsQ0FDMUN3MEIsRUFBQXRVLEdBQUE2UyxFQUFBbUMsVUFBQXZwQixZQUFBb25CLEVBQ0EsSUFBQW9DLEVBQUFwQyxFQUFBb0MsYUFBQTNlLEdBQ0FqUCxLQUFBa3JCLFlBQUEwQyxJQUFBLElBQUE1dEIsS0FBQWlyQixjQUFBaDVCLFFBQUF1NUIsS0FDQXhyQixLQUFBa3JCLFdBQUEsR0FHQSxPQUFBTSxFQUFBcUMsU0FBQTVlLEVBQUE2QixFQUFBNGMsTUFFQSxTQUlBLElBQUFJLEVBQUF4QixFQUFBeUIsMkJBQ0F2QyxFQUFBbUMsVUFBQUosRUFBQXBDLEdBQ0E2QyxHQUFBLEVBQ0FGLElBQ0FFLEVBQUFkLEVBQUF2VSxFQUFBLEVBQUFtVixJQUVBRSxHQUNBMUIsRUFBQTJCLGdDQUNBekMsRUFBQW1DLFVBQUFULEVBQUEsS0FBQUssRUFBQXBDLEdBTUEsSUFBQTFELEVBQUFnRixFQUFBNVMsRUFBQWtULEVBQUFMLEVBQ0EsS0FBQTFzQixLQUFBeW5CLG9CQUFBK0YsS0FBQUMsTUFBQTNjLEVBQUE0YyxLQUFBLElBQUFKLEtBQ0F0dEIsS0FBQWtyQixZQUNBbHJCLEtBQUErcUIsa0JBQW9DM3RCLE9BQUFvdEIsRUFBQSxFQUFBcHRCLENBQWM0QyxLQUFBK3FCLGdCQUFBdnJCLElBQ2xEUSxLQUFBZ3JCLGtCQUFBb0IsR0FDQU0sR0FBQTFzQixLQUFBOHFCLGdCQUNBd0MsR0FBQTdGLEdBQUF6bkIsS0FBQXluQixvQkFDQSxDQUVBLElBQUE5cUIsRUFBQXFELEtBQUFyRCxRQUNBLEdBQUFBLEVBQUEsQ0FDQSxJQUFBdXhCLEVBQUEvQixFQUFBZ0MsaUJBQUF4VixFQUFBa0IsRUFBQWpaLEdBQ0E1TCxFQUFBbUMsS0FBQTh2QixNQUFBMEYsRUFBQTFLLFdBQUFpTSxFQUFBLEdBQUF4QixHQUNBejNCLEVBQUFrQyxLQUFBOHZCLE1BQUEwRixFQUFBeUIsWUFBQUYsRUFBQSxHQUFBeEIsR0FDQTczQixFQUFBOEgsRUFBQTlILE9BQ0FBLEVBQUFHLFVBQUFILEVBQUFJLFdBQ0ErSyxLQUFBOHFCLGNBQUE0QixFQUNBNzNCLEVBQUFHLFFBQ0FILEVBQUFJLFdBRUErSyxLQUFBK3FCLGtCQUF1QzN0QixPQUFBb3RCLEVBQUEsRUFBQXB0QixDQUFNeXZCLEVBQUE3c0IsS0FBQStxQixrQkFDN0NwdUIsRUFBQStxQixVQUFBLElBQUExeUIsRUFBQUMsR0FFQXkzQixFQUFBMXNCLEtBQUE4cUIsZUFJQTlxQixLQUFBaXJCLGNBQUF2NUIsT0FBQSxFQUVBLElBVUEyOEIsRUFBQUMsRUFBQUMsRUFBQWw4QixFQUFBcUwsRUFDQTh3QixFQUFBQyxFQUFBQyxFQUFBenZCLEVBQUFDLEVBWEF5dkIsRUFBQXZ4QixPQUFBMnJCLEtBQUFrRSxHQUFBdmlCLElBQUFDLFFBWUEsSUFYQWdrQixFQUFBLzZCLEtBQUEsU0FBQWhDLEVBQUFDLEdBQ0EsT0FBQUQsSUFBQSttQixFQUNBLEVBQ1M5bUIsSUFBQThtQixHQUNULEVBRUEvbUIsRUFBQUMsRUFBQSxFQUFBRCxFQUFBQyxHQUFBLE1BS0FRLEVBQUEsRUFBQXFMLEVBQUFpeEIsRUFBQWo5QixPQUFpQ1csRUFBQXFMLElBQVFyTCxFQU96QyxRQUFBdThCLE1BTkFMLEVBQUFJLEVBQUF0OEIsR0FDQWk4QixFQUFBbkMsRUFBQWdDLGlCQUFBSSxFQUFBMVUsRUFBQWpaLEdBRUF5dEIsRUFEQS9CLEVBQUF6RyxjQUFBMEksR0FDQTlCLEVBQ0FnQyxFQUFBMUIsRUFBQVosRUFBQTBDLHVCQUFBanVCLEdBQ0E4dEIsRUFBQXpCLEVBQUFzQixHQUVBL0MsRUFBQWtELEVBQUFFLElBRUF0M0IsSUFEQWszQixFQUFBbEMsRUFBQXdDLG1CQUFBdEQsRUFBQXVELGVBQUE1RCxJQUNBLEdBQUEwQixFQUFBLElBQUFKLEVBQUFNLEVBQUFMLEVBQ0FuMUIsR0FBQXMxQixFQUFBLEdBQUEyQixFQUFBLElBQUEvQixFQUFBTSxFQUFBTCxFQUNBenRCLEVBQUFxdkIsRUFBQSxHQUFBRCxFQUFBM0IsRUFDQXh0QixFQUFBb3ZCLEVBQUEsR0FBQUQsRUFBQTNCLEVBQ0Exc0IsS0FBQWd2QixjQUFBeEQsRUFBQTFhLEVBQUEyVixFQUFBbnZCLEVBQUFDLEVBQUEwSCxFQUFBQyxFQUFBdXZCLEVBQUE5VixJQUFBNFYsR0FDQXZ1QixLQUFBaXJCLGNBQUF4bUIsS0FBQSttQixHQUlBeHJCLEtBQUFnckIsaUJBQUFvQixFQUNBcHNCLEtBQUF5bkIsbUJBQUFnRixFQUFBNVMsRUFBQWtULEVBQUFMLEVBQ0Exc0IsS0FBQStxQixnQkFBQThCLEVBR0EsSUFBQXoyQixHQUFBNEosS0FBQXluQixtQkFBQXdFLEVBQ0FydEIsR0FBb0J4QixPQUFBc3RCLEVBQUEsRUFBQXR0QixDQUFnQjRDLEtBQUFxckIsZ0JBQ3BDeFIsRUFBQXhkLEVBQUEsS0FBQXdkLEVBQUF4ZCxFQUFBLEtBQ0FqRyxNQUNBLEdBQ0E0SixLQUFBK3FCLGdCQUFBLEdBQUFtQixFQUFBLElBQUFsc0IsS0FBQXluQixtQkFBQTVOLEdBQ0FxUyxFQUFBLEdBQUFsc0IsS0FBQStxQixnQkFBQSxJQUFBL3FCLEtBQUF5bkIsbUJBQUE1TixHQWFBLE9BWkl6YyxPQUFBc3RCLEVBQUEsRUFBQXR0QixDQUFnQjRDLEtBQUFzbUIsaUNBQ3BCek0sRUFBQXhkLEVBQUEsS0FBQXVDLEdBQUEsR0FBQWliLEVBQUF4ZCxFQUFBLEtBQUF1QyxHQUFBLEdBQ0FpYixFQUFBb1MsR0FBQXBTLEVBQUFvUyxFQUNBLEdBQ0FDLEVBQUEsSUFBQUEsRUFBQSxJQUdBbHNCLEtBQUFpdkIsZ0JBQUFuZSxFQUFBb2UsVUFBQS9DLEVBQUF4VCxFQUFBZ1UsR0FDQTNzQixLQUFBbXZCLGtCQUFBcmUsRUFBQXFiLEVBQUFHLEVBQUF6UyxFQUNBalosRUFBQXBCLEVBQUFtWixFQUFBaVMsRUFBQWtCLGNBQ0E5ckIsS0FBQW92QixvQkFBQXRlLEVBQUFxYixHQUVBbnNCLEtBQUFpckIsY0FBQXY1QixPQUFBLEdBY0FpNUIsRUFBQXhxQixVQUFBNnVCLGNBQUEsU0FBQXhELEVBQUExYSxFQUFBMlYsRUFBQW52QixFQUFBQyxFQUFBMEgsRUFBQUMsRUFBQW13QixFQUFBQyxHQUNBLElBQUF4d0IsRUFBQWtCLEtBQUF1dkIsYUFBQS9ELEdBQ0EsR0FBQTFzQixFQUFBLENBR0EsSUFBQW1RLEVBQWM3UixPQUFBNlEsRUFBQSxFQUFBN1EsQ0FBTTRDLE1BQ3BCYixFQUFBbXdCLEVBQUE5RCxFQUFBcUMsU0FBQTVlLEVBQUE2QixFQUFBNGMsTUFBQSxFQUVBdkIsRUFEcUVuc0IsS0FBQTZuQixXQUNFZ0UsWUFDdkUsSUFBQTFzQixHQUFBZ3RCLEVBQUFxRCxVQUFBMWUsRUFBQTBXLFVBQUE1bUIsYUFDQVosS0FBQXJELFFBQUErcUIsVUFBQXB3QixFQUFBQyxFQUFBMEgsRUFBQUMsR0FFQSxJQUFBdXdCLEVBQUF0d0IsSUFBQWEsS0FBQXJELFFBQUF5QyxZQUNBcXdCLElBQ0F6dkIsS0FBQXJELFFBQUEreUIsT0FDQTF2QixLQUFBckQsUUFBQXlDLFlBQUFELEdBRUFhLEtBQUFyRCxRQUFBbkIsVUFBQXNELEVBQUF1d0IsSUFDQXZ3QixFQUFBOUosTUFBQSxFQUFBcTZCLEVBQUF2d0IsRUFBQTdKLE9BQUEsRUFBQW82QixFQUFBLzNCLEVBQUFDLEVBQUEwSCxFQUFBQyxHQUVBdXdCLEdBQ0F6dkIsS0FBQXJELFFBQUF1cUIsVUFFQSxJQUFBL25CLEVBQ0EyUixFQUFBNmUsU0FBQSxFQUNLTCxHQUNMOUQsRUFBQW9FLGNBQUEzZ0IsS0FPQTBiLEVBQUF4cUIsVUFBQTRkLFNBQUEsV0FDQSxJQUFBcGhCLEVBQUFxRCxLQUFBckQsUUFDQSxPQUFBQSxJQUFBOUgsT0FBQSxNQU1BODFCLEVBQUF4cUIsVUFBQTJtQixrQkFBQSxXQUNBLE9BQUE5bUIsS0FBQXFyQixpQkFTQVYsRUFBQXhxQixVQUFBb3ZCLGFBQUEsU0FBQS9ELEdBQ0EsT0FBMkQsRUFBQXpOLFlBRzNENE0sRUE5VkEsQ0ErVkVGLEVBQUEsR0FRRkUsRUFBQSxpQkFBQXRFLEdBQ0EsT0FBQUEsRUFBQS9PLFlBQTZCNlMsRUFBQSxFQUFTMEYsTUFVdENsRixFQUFBLGdCQUFBbUYsRUFBQXpKLEdBQ0EsV0FBQXNFLEVBQXNGLElBUXRGQSxFQUFBeHFCLFVBQUEwbkIsU0FHZXB6QixFQUFBLGtDQ2haZkYsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQXM3QixJQVFBLElBQUFDLEVBQUEsU0FBQXRoQixFQUFBRSxFQUFBRCxFQUFBRSxHQUtBN08sS0FBQTBPLE9BS0ExTyxLQUFBNE8sT0FLQTVPLEtBQUEyTyxPQUtBM08sS0FBQTZPLFFBa0dPLFNBQUFraEIsRUFBQXJoQixFQUFBRSxFQUFBRCxFQUFBRSxFQUFBOGQsR0FDUCxZQUFBcHZCLElBQUFvdkIsR0FDQUEsRUFBQWplLE9BQ0FpZSxFQUFBL2QsT0FDQStkLEVBQUFoZSxPQUNBZ2UsRUFBQTlkLE9BQ0E4ZCxHQUVBLElBQUFxRCxFQUFBdGhCLEVBQUFFLEVBQUFELEVBQUFFLEdBbEdBbWhCLEVBQUE3dkIsVUFBQTRTLFNBQUEsU0FBQTRhLEdBQ0EsT0FBQTN0QixLQUFBaXdCLFdBQUF0QyxFQUFBLEdBQUFBLEVBQUEsS0FPQXFDLEVBQUE3dkIsVUFBQSt2QixrQkFBQSxTQUFBdkQsR0FDQSxPQUFBM3NCLEtBQUEwTyxNQUFBaWUsRUFBQWplLE1BQUFpZSxFQUFBL2QsTUFBQTVPLEtBQUE0TyxNQUNBNU8sS0FBQTJPLE1BQUFnZSxFQUFBaGUsTUFBQWdlLEVBQUE5ZCxNQUFBN08sS0FBQTZPLE1BUUFtaEIsRUFBQTd2QixVQUFBOHZCLFdBQUEsU0FBQTM0QixFQUFBQyxHQUNBLE9BQUF5SSxLQUFBME8sTUFBQXBYLE1BQUEwSSxLQUFBNE8sTUFBQTVPLEtBQUEyTyxNQUFBcFgsTUFBQXlJLEtBQUE2TyxNQU9BbWhCLEVBQUE3dkIsVUFBQTlNLE9BQUEsU0FBQXM1QixHQUNBLE9BQUEzc0IsS0FBQTBPLE1BQUFpZSxFQUFBamUsTUFBQTFPLEtBQUEyTyxNQUFBZ2UsRUFBQWhlLE1BQ0EzTyxLQUFBNE8sTUFBQStkLEVBQUEvZCxNQUFBNU8sS0FBQTZPLE1BQUE4ZCxFQUFBOWQsTUFNQW1oQixFQUFBN3ZCLFVBQUF4TixPQUFBLFNBQUFnNkIsR0FDQUEsRUFBQWplLEtBQUExTyxLQUFBME8sT0FDQTFPLEtBQUEwTyxLQUFBaWUsRUFBQWplLE1BRUFpZSxFQUFBL2QsS0FBQTVPLEtBQUE0TyxPQUNBNU8sS0FBQTRPLEtBQUErZCxFQUFBL2QsTUFFQStkLEVBQUFoZSxLQUFBM08sS0FBQTJPLE9BQ0EzTyxLQUFBMk8sS0FBQWdlLEVBQUFoZSxNQUVBZ2UsRUFBQTlkLEtBQUE3TyxLQUFBNk8sT0FDQTdPLEtBQUE2TyxLQUFBOGQsRUFBQTlkLE9BT0FtaEIsRUFBQTd2QixVQUFBaXVCLFVBQUEsV0FDQSxPQUFBcHVCLEtBQUE2TyxLQUFBN08sS0FBQTJPLEtBQUEsR0FNQXFoQixFQUFBN3ZCLFVBQUF3aUIsUUFBQSxXQUNBLE9BQUEzaUIsS0FBQWlpQixXQUFBamlCLEtBQUFvdUIsY0FNQTRCLEVBQUE3dkIsVUFBQThoQixTQUFBLFdBQ0EsT0FBQWppQixLQUFBNE8sS0FBQTVPLEtBQUEwTyxLQUFBLEdBT0FzaEIsRUFBQTd2QixVQUFBNlMsV0FBQSxTQUFBMlosR0FDQSxPQUFBM3NCLEtBQUEwTyxNQUFBaWUsRUFBQS9kLE1BQ0E1TyxLQUFBNE8sTUFBQStkLEVBQUFqZSxNQUNBMU8sS0FBQTJPLE1BQUFnZSxFQUFBOWQsTUFDQTdPLEtBQUE2TyxNQUFBOGQsRUFBQWhlLE1BeUJlbGEsRUFBQSxrQ0MzSWZGLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUEwN0IsSUFBQSxJQUFBOW1CLEVBQUE5VSxFQUFBLEdBQUE2N0IsRUFBQTc3QixFQUFBLEdBVU80N0IsRUFBQXp3QixJQWVQMndCLEVBQUEsU0FBQUMsRUFBQUMsR0FNQXZ3QixLQUFBd3dCLGtCQUFBRixFQU1BdHdCLEtBQUF5d0IsYUFBQUYsRUFNQXZ3QixLQUFBMHdCLFVBQUEsR0FNQTF3QixLQUFBMndCLFlBQUEsR0FNQTN3QixLQUFBNHdCLGdCQUFBLElBT0FQLEVBQUFsd0IsVUFBQTlDLE1BQUEsV0FDQTJDLEtBQUEwd0IsVUFBQWgvQixPQUFBLEVBQ0FzTyxLQUFBMndCLFlBQUFqL0IsT0FBQSxFQUNFMEwsT0FBQWd6QixFQUFBLEVBQUFoekIsQ0FBSzRDLEtBQUE0d0Isa0JBUVBQLEVBQUFsd0IsVUFBQTB3QixRQUFBLFdBQ0EsSUFBQUMsRUFBQTl3QixLQUFBMHdCLFVBQ0FLLEVBQUEvd0IsS0FBQTJ3QixZQUNBSyxFQUFBRixFQUFBLEdBQ0EsR0FBQUEsRUFBQXAvQixRQUNBby9CLEVBQUFwL0IsT0FBQSxFQUNBcS9CLEVBQUFyL0IsT0FBQSxJQUVBby9CLEVBQUEsR0FBQUEsRUFBQTFkLE1BQ0EyZCxFQUFBLEdBQUFBLEVBQUEzZCxNQUNBcFQsS0FBQWl4QixRQUFBLElBRUEsSUFBQUMsRUFBQWx4QixLQUFBeXdCLGFBQUFPLEdBRUEsY0FEQWh4QixLQUFBNHdCLGdCQUFBTSxHQUNBRixHQVNBWCxFQUFBbHdCLFVBQUFneEIsUUFBQSxTQUFBSCxHQUNFNXpCLE9BQUFpTSxFQUFBLEVBQUFqTSxHQUFNNEMsS0FBQXl3QixhQUFBTyxLQUFBaHhCLEtBQUE0d0IsaUJBQ1IsSUFDQSxJQUFBUSxFQUFBcHhCLEtBQUF3d0Isa0JBQUFRLEdBQ0EsT0FBQUksR0FBQWpCLElBQ0Fud0IsS0FBQTB3QixVQUFBanNCLEtBQUF1c0IsR0FDQWh4QixLQUFBMndCLFlBQUFsc0IsS0FBQTJzQixHQUNBcHhCLEtBQUE0d0IsZ0JBQUE1d0IsS0FBQXl3QixhQUFBTyxLQUFBLEVBQ0FoeEIsS0FBQXF4QixVQUFBLEVBQUFyeEIsS0FBQTB3QixVQUFBaC9CLE9BQUEsSUFDQSxJQVNBMitCLEVBQUFsd0IsVUFBQW1vQixTQUFBLFdBQ0EsT0FBQXRvQixLQUFBMHdCLFVBQUFoL0IsUUFVQTIrQixFQUFBbHdCLFVBQUFteEIsbUJBQUEsU0FBQTM5QixHQUNBLFNBQUFBLEVBQUEsR0FVQTA4QixFQUFBbHdCLFVBQUFveEIsb0JBQUEsU0FBQTU5QixHQUNBLFNBQUFBLEVBQUEsR0FVQTA4QixFQUFBbHdCLFVBQUFxeEIsZ0JBQUEsU0FBQTc5QixHQUNBLE9BQUFBLEVBQUEsTUFRQTA4QixFQUFBbHdCLFVBQUFzeEIsU0FBQSxXQUNBLElBQUFwL0IsRUFDQSxJQUFBQSxHQUFBMk4sS0FBQTB3QixVQUFBaC9CLFFBQUEsS0FBNENXLEdBQUEsRUFBUUEsSUFDcEQyTixLQUFBaXhCLFFBQUE1K0IsSUFRQWcrQixFQUFBbHdCLFVBQUFpSSxRQUFBLFdBQ0EsV0FBQXBJLEtBQUEwd0IsVUFBQWgvQixRQVFBMitCLEVBQUFsd0IsVUFBQXV4QixZQUFBLFNBQUEzbkIsR0FDQSxPQUFBQSxLQUFBL0osS0FBQTR3QixpQkFRQVAsRUFBQWx3QixVQUFBd3hCLFNBQUEsU0FBQVgsR0FDQSxPQUFBaHhCLEtBQUEweEIsWUFBQTF4QixLQUFBeXdCLGFBQUFPLEtBUUFYLEVBQUFsd0IsVUFBQTh3QixRQUFBLFNBQUF0OUIsR0FRQSxJQVBBLElBQUFtOUIsRUFBQTl3QixLQUFBMHdCLFVBQ0FLLEVBQUEvd0IsS0FBQTJ3QixZQUNBaUIsRUFBQWQsRUFBQXAvQixPQUNBcy9CLEVBQUFGLEVBQUFuOUIsR0FDQXk5QixFQUFBTCxFQUFBcDlCLEdBQ0FrK0IsRUFBQWwrQixFQUVBQSxFQUFBaStCLEdBQUEsSUFDQSxJQUFBRSxFQUFBOXhCLEtBQUFzeEIsbUJBQUEzOUIsR0FDQW8rQixFQUFBL3hCLEtBQUF1eEIsb0JBQUE1OUIsR0FFQXErQixFQUFBRCxFQUFBSCxHQUNBYixFQUFBZ0IsR0FBQWhCLEVBQUFlLEdBQ0FDLEVBQUFELEVBRUFoQixFQUFBbjlCLEdBQUFtOUIsRUFBQWtCLEdBQ0FqQixFQUFBcDlCLEdBQUFvOUIsRUFBQWlCLEdBQ0FyK0IsRUFBQXErQixFQUdBbEIsRUFBQW45QixHQUFBcTlCLEVBQ0FELEVBQUFwOUIsR0FBQXk5QixFQUNBcHhCLEtBQUFxeEIsVUFBQVEsRUFBQWwrQixJQVNBMDhCLEVBQUFsd0IsVUFBQWt4QixVQUFBLFNBQUFRLEVBQUFsK0IsR0FNQSxJQUxBLElBQUFtOUIsRUFBQTl3QixLQUFBMHdCLFVBQ0FLLEVBQUEvd0IsS0FBQTJ3QixZQUNBSyxFQUFBRixFQUFBbjlCLEdBQ0F5OUIsRUFBQUwsRUFBQXA5QixHQUVBQSxFQUFBaytCLEdBQUEsQ0FDQSxJQUFBSSxFQUFBanlCLEtBQUF3eEIsZ0JBQUE3OUIsR0FDQSxLQUFBbzlCLEVBQUFrQixHQUFBYixHQUtBLE1BSkFOLEVBQUFuOUIsR0FBQW05QixFQUFBbUIsR0FDQWxCLEVBQUFwOUIsR0FBQW85QixFQUFBa0IsR0FDQXQrQixFQUFBcytCLEVBS0FuQixFQUFBbjlCLEdBQUFxOUIsRUFDQUQsRUFBQXA5QixHQUFBeTlCLEdBT0FmLEVBQUFsd0IsVUFBQSt4QixhQUFBLFdBQ0EsSUFLQWxCLEVBQUEzK0IsRUFBQSsrQixFQUxBZCxFQUFBdHdCLEtBQUF3d0Isa0JBQ0FNLEVBQUE5d0IsS0FBQTB3QixVQUNBSyxFQUFBL3dCLEtBQUEyd0IsWUFDQWg5QixFQUFBLEVBQ0FyQixFQUFBdytCLEVBQUFwL0IsT0FFQSxJQUFBVyxFQUFBLEVBQWFBLEVBQUFDLElBQU9ELEdBRXBCKytCLEVBQUFkLEVBREFVLEVBQUFGLEVBQUF6K0IsTUFFQTg5QixTQUNBbndCLEtBQUE0d0IsZ0JBQUE1d0IsS0FBQXl3QixhQUFBTyxLQUVBRCxFQUFBcDlCLEdBQUF5OUIsRUFDQU4sRUFBQW45QixLQUFBcTlCLEdBR0FGLEVBQUFwL0IsT0FBQWlDLEVBQ0FvOUIsRUFBQXIvQixPQUFBaUMsRUFDQXFNLEtBQUF5eEIsWUFJZWg5QixFQUFBLGtLQ2lFZixTQUFBMDlCLEVBQUF6bkIsRUFBQW9HLEdBQ0VzaEIsRUFBQSxFQUFjQyxTQVNULFNBQUFDLEVBQUFDLEVBQUFDLEdBQ1AsT0FBQUQsRUFBQUUsT0FBQUQsRUFBQUMsT0FFZSxJQUFBQyxFQS9VQSxTQUFBQyxHQUNmLFNBQUFDLEVBQUFsb0IsR0FDQWlvQixFQUFBNXlCLEtBQUFDLE1BTUFBLEtBQUE2eUIsS0FBQW5vQixFQU1BMUssS0FBQTh5QixnQkFBQSxHQU1BOXlCLEtBQUEreUIsd0JBQUEsR0FNQS95QixLQUFBZ3pCLDJCQUFBLEdBZ1NBLE9BNVJBTCxJQUFBQyxFQUFBMXlCLFVBQUF5eUIsR0FDQUMsRUFBQXp5QixVQUFBL0MsT0FBQWdELE9BQUF1eUIsS0FBQXh5QixXQUNBeXlCLEVBQUF6eUIsVUFBQUUsWUFBQXV5QixFQU9BQSxFQUFBenlCLFVBQUE4eUIsb0JBQUEsU0FBQXB6QixFQUFBaVIsR0FDSTFULE9BQUE2RixFQUFBLEVBQUE3RixJQU9KdzFCLEVBQUF6eUIsVUFBQSt5Qix1QkFBQSxTQUFBQyxHQUNBbnpCLEtBQUFnekIsMkJBQUF2dUIsS0FBQW5GLE1BQUFVLEtBQUFnekIsMkJBQUFHLElBT0FQLEVBQUF6eUIsVUFBQWl6QixvQkFBQSxTQUFBdGlCLEdBQ0EsSUFBQTBXLEVBQUExVyxFQUFBMFcsVUFDQTZMLEVBQUF2aUIsRUFBQXVpQiwyQkFDQUMsRUFBQXhpQixFQUFBd2lCLDJCQUVJbDJCLE9BQUFtMkIsRUFBQSxFQUFBbjJCLENBQWdCaTJCLEVBQ3BCdmlCLEVBQUF6VSxLQUFBLEtBQUF5VSxFQUFBelUsS0FBQSxLQUNBLEVBQUFtckIsRUFBQS9uQixZQUFBLEVBQUErbkIsRUFBQS9uQixZQUNBK25CLEVBQUFocEIsVUFDQWdwQixFQUFBM3dCLE9BQUEsSUFBQTJ3QixFQUFBM3dCLE9BQUEsSUFFSXVHLE9BQUFtMkIsRUFBQSxFQUFBbjJCLENBQ0VBLE9BQUFtMkIsRUFBQSxFQUFBbjJCLENBQXFCazJCLEVBQUFELEtBTTNCVCxFQUFBenlCLFVBQUFxekIscUJBQUEsV0FDQSxRQUFBenBCLEtBQUEvSixLQUFBOHlCLGdCQUNBOXlCLEtBQUF5ekIsMEJBQUExcEIsR0FBQTJwQixXQW1CQWQsRUFBQXp5QixVQUFBd3pCLDJCQUFBLFNBQ0FuOUIsRUFDQXNhLEVBQ0F1VyxFQUNBdGhCLEVBQ0F1aEIsRUFDQXNNLEVBQ0FDLEdBRUEsSUFBQXZ0QixFQUNBa2hCLEVBQUExVyxFQUFBMFcsVUFDQXlFLEVBQUF6RSxFQUFBL25CLFdBT0EsU0FBQWswQixFQUFBMXpCLEVBQUFvbUIsR0FDQSxJQUFBeU4sRUFBQWhqQixFQUFBaWpCLFlBQTJDMzJCLE9BQUE2RixFQUFBLEVBQUE3RixDQUFNaXBCLElBQUF5TixRQUNqRCxLQUFZMTJCLE9BQUE2RixFQUFBLEVBQUE3RixDQUFNNkMsS0FBQTZRLEVBQUFrakIscUJBQUFGLEVBQ2xCLE9BQUEvdEIsRUFBQWhHLEtBQUF1bkIsRUFBQXJuQixFQUFBNnpCLEVBQUF6TixFQUFBLE1BSUEsSUFBQXpsQixFQUFBNG1CLEVBQUE1bUIsV0FFQXF6QixFQUFBejlCLEVBQ0EsR0FBQW9LLEVBQUFzekIsV0FBQSxDQUNBLElBQUFDLEVBQUF2ekIsRUFBQTBDLFlBQ0E4d0IsRUFBdUJoM0IsT0FBQXlMLEVBQUEsRUFBQXpMLENBQVErMkIsR0FDL0I3OEIsRUFBQWQsRUFBQSxHQUNBLEdBQUFjLEVBQUE2OEIsRUFBQSxJQUFBNzhCLEVBQUE2OEIsRUFBQSxHQUVBRixFQUFBLENBQUEzOEIsRUFBQTg4QixFQURBajlCLEtBQUF5YSxNQUFBdWlCLEVBQUEsR0FBQTc4QixHQUFBODhCLEdBQ0E1OUIsRUFBQSxJQUlBLElBRUFuRSxFQUZBMGhDLEVBQUFqakIsRUFBQXVqQixpQkFHQSxJQUFBaGlDLEVBRkEwaEMsRUFBQXJpQyxPQUVBLEVBQTJCVyxHQUFBLElBQVFBLEVBQUEsQ0FDbkMsSUFBQW8wQixFQUFBc04sRUFBQTFoQyxHQUNBZzBCLEVBQUFJLEVBQUFKLE1BQ0EsR0FBVWpwQixPQUFBazNCLEVBQUEsRUFBQWwzQixDQUFtQnFwQixFQUFBd0YsSUFBQTJILEVBQUE3ekIsS0FBQTh6QixFQUFBeE4sR0FBQSxDQUM3QixJQUFBa08sRUFBQXYwQixLQUFBdzBCLGlCQUFBbk8sR0FDQTNPLEVBQW9FLEVBQUFtVSxZQU1wRSxHQUxBblUsSUFDQXBSLEVBQUFpdUIsRUFBQVosMkJBQ0FqYyxFQUFBakgsV0FBQXdqQixFQUFBejlCLEVBQ0FzYSxFQUFBdVcsRUFBQXNNLElBRUFydEIsRUFDQSxPQUFBQSxLQXVCQXNzQixFQUFBenlCLFVBQUFzMEIsb0JBQUEsU0FBQWxOLEVBQUF6VyxFQUFBdVcsRUFBQXRoQixFQUFBdWhCLEVBQUFzTSxFQUFBQyxHQUNBLE9BQVd6MkIsT0FBQTZGLEVBQUEsRUFBQTdGLElBZVh3MUIsRUFBQXp5QixVQUFBdTBCLHVCQUFBLFNBQUFsK0IsRUFBQXNhLEVBQUF1VyxFQUFBdU0sRUFBQXRNLEdBSUEsWUFBQS9wQixJQUhBeUMsS0FBQTJ6QiwyQkFDQW45QixFQUFBc2EsRUFBQXVXLEVBQTRDbm1CLEVBQUEsRUFBSWxCLEtBQUE0ekIsRUFBQXRNLElBVWhEc0wsRUFBQXp5QixVQUFBcTBCLGlCQUFBLFNBQUFuTyxHQUNBLElBQUFzTyxFQUFtQnYzQixPQUFBNkYsRUFBQSxFQUFBN0YsQ0FBTWlwQixHQUN6QixHQUFBc08sS0FBQTMwQixLQUFBOHlCLGdCQUNBLE9BQUE5eUIsS0FBQTh5QixnQkFBQTZCLEdBR0EsSUFEQSxJQUFBbkwsRUFDQW4zQixFQUFBLEVBQUFxTCxFQUFBc0MsS0FBQWd6QiwyQkFBQXRoQyxPQUFrRVcsRUFBQXFMLElBQVFyTCxFQUFBLENBQzFFLElBQUF1aUMsRUFBQTUwQixLQUFBZ3pCLDJCQUFBM2dDLEdBQ0EsR0FBQXVpQyxFQUFBLFFBQUF2TyxHQUFBLENBQ0FtRCxFQUFBb0wsRUFBQSxPQUFBNTBCLEtBQUFxbUIsR0FDQSxPQUdBLElBQUFtRCxFQUtBLFVBQUFxTCxNQUFBLHdDQUFBeE8sRUFBQS9PLFdBRUEsT0FOQXRYLEtBQUE4eUIsZ0JBQUE2QixHQUFBbkwsRUFDQXhwQixLQUFBK3lCLHdCQUFBNEIsR0FBaUR2M0IsT0FBQXVHLEVBQUEsRUFBQXZHLENBQU1vc0IsRUFDN0NzTCxFQUFBLEVBQVNqeEIsT0FBQTdELEtBQUErMEIsMkJBQUEvMEIsTUFJbkJ3cEIsR0FTQW9KLEVBQUF6eUIsVUFBQTYwQixzQkFBQSxTQUFBTCxHQUNBLE9BQUEzMEIsS0FBQTh5QixnQkFBQTZCLElBT0EvQixFQUFBenlCLFVBQUE4MEIsa0JBQUEsV0FDQSxPQUFBajFCLEtBQUE4eUIsaUJBTUFGLEVBQUF6eUIsVUFBQSswQixPQUFBLFdBQ0EsT0FBQWwxQixLQUFBNnlCLE1BT0FELEVBQUF6eUIsVUFBQTQwQiwyQkFBQSxXQUNBLzBCLEtBQUE2eUIsS0FBQXNDLFVBUUF2QyxFQUFBenlCLFVBQUFzekIsMEJBQUEsU0FBQWtCLEdBQ0EsSUFBQUosRUFBQXYwQixLQUFBOHlCLGdCQUFBNkIsR0FNQSxjQUxBMzBCLEtBQUE4eUIsZ0JBQUE2QixHQUVJdjNCLE9BQUF1RyxFQUFBLEVBQUF2RyxDQUFhNEMsS0FBQSt5Qix3QkFBQTRCLFdBQ2pCMzBCLEtBQUEreUIsd0JBQUE0QixHQUVBSixHQVFBM0IsRUFBQXp5QixVQUFBaTFCLDRCQUFBLFNBQUExcUIsRUFBQW9HLEdBQ0EsUUFBQTZqQixLQUFBMzBCLEtBQUE4eUIsZ0JBQ0FoaUIsR0FBQTZqQixLQUFBN2pCLEVBQUFpakIsYUFDQS96QixLQUFBeXpCLDBCQUFBa0IsR0FBQWpCLFdBVUFkLEVBQUF6eUIsVUFBQWsxQixZQUFBLFNBQUF2a0IsR0FDSTFULE9BQUE2RixFQUFBLEVBQUE3RixJQU9KdzFCLEVBQUF6eUIsVUFBQW0xQix3QkFBQSxTQUFBeGtCLEdBQ0FBLEVBQUF5a0Isb0JBQUE5d0IsS0FBbUcsSUFPbkdtdUIsRUFBQXp5QixVQUFBcTFCLG1DQUFBLFNBQUExa0IsR0FDQSxRQUFBNmpCLEtBQUEzMEIsS0FBQTh5QixnQkFDQSxLQUFBNkIsS0FBQTdqQixFQUFBaWpCLGFBSUEsWUFIQWpqQixFQUFBeWtCLG9CQUFBOXdCLEtBQ3FFekUsS0FBQW8xQiw0QkFBQWpkLEtBQUFuWSxRQU9yRTR5QixFQTFUZSxDQTJUYjZDLEVBQUEsV0MzVUZsaEMsRUFBQUMsRUFBQUMsRUFBQSxzQkFBQWloQyxJQW1CTyxJQUFBQSxFQUFBLEdBT0hDLEVBQWlCLFNBQUEvQyxHQUNyQixTQUFBZ0QsRUFBQWxyQixHQUNBa29CLEVBQUE3eUIsS0FBQUMsS0FBQTBLLEdBRUEsSUFBQW1yQixFQUFBbnJCLEVBQUFvckIsY0FNQTkxQixLQUFBK1osU0FBb0IzYyxPQUFBMjRCLEVBQUEsRUFBQTM0QixHQU1wQjRDLEtBQUFxbEIsUUFBQXJsQixLQUFBK1osU0FBQWxsQixPQUVBbUwsS0FBQXFsQixRQUFBcm5CLE1BQUFoSixNQUFBLE9BQ0FnTCxLQUFBcWxCLFFBQUFybkIsTUFBQS9JLE9BQUEsT0FDQStLLEtBQUFxbEIsUUFBQXJuQixNQUFBZzRCLFFBQUEsUUFDQWgyQixLQUFBcWxCLFFBQUE0USxVQUE2QkMsRUFBQSxFQUM3QkwsRUFBQU0sYUFBQW4yQixLQUFBcWxCLFFBQUF3USxFQUFBTyxXQUFBLFVBTUFwMkIsS0FBQXEyQixrQkFBQSxFQU1BcjJCLEtBQUFrYSxXQUFzQjljLE9BQUFtMkIsRUFBQSxFQUFBbjJCLEdBK0p0QixPQTNKQXcxQixJQUFBZ0QsRUFBQTExQixVQUFBMHlCLEdBQ0FnRCxFQUFBejFCLFVBQUEvQyxPQUFBZ0QsT0FBQXd5QixLQUFBenlCLFdBQ0F5MUIsRUFBQXoxQixVQUFBRSxZQUFBdTFCLEVBTUFBLEVBQUF6MUIsVUFBQTh5QixvQkFBQSxTQUFBcHpCLEVBQUFpUixHQUNBLElBQUFwRyxFQUFBMUssS0FBQWsxQixTQUNBdjRCLEVBQUFxRCxLQUFBK1osU0FDQSxHQUFBclAsRUFBQTRyQixZQUFBejJCLEdBQUEsQ0FDQSxJQUFBTCxFQUFBc1IsRUFBQXRSLE9BQ0FxYSxFQUFBL0ksRUFBQStJLFdBRUFyYixFQURBc1MsRUFBQTBXLFVBQ0FocEIsU0FFQUksRUFBQW9CLEtBQUF1MkIsYUFBQXpsQixHQUVBZ1UsRUFBQSxJQUE4QjBSLEVBQUEsRUFBdUI3NUIsRUFBQWtkLEVBQ3JEcmEsRUFBQVosRUFBQUosR0FDQWk0QixFQUFBLElBQTZCNzJCLEVBQUEsRUFBV0MsRUFBQWlsQixFQUN4Q2hVLEVBQUFuVSxFQUFBLE1BQ0ErTixFQUFBbEgsY0FBQWl6QixLQVNBYixFQUFBejFCLFVBQUFvMkIsYUFBQSxTQUFBemxCLEdBQ0EsSUFBQTBXLEVBQUExVyxFQUFBMFcsVUFDQWtQLEVBQUExMkIsS0FBQXFsQixRQUFBcndCLE1BQUEsRUFDQTJoQyxFQUFBMzJCLEtBQUFxbEIsUUFBQXB3QixPQUFBLEVBQ0EyaEMsRUFBQTlsQixFQUFBK0ksV0FBQTJOLEVBQUEvbkIsV0FDQW8zQixHQUFBRCxFQUNBNStCLEdBQUF3dkIsRUFBQWhwQixTQUNBczRCLEdBQUF0UCxFQUFBM3dCLE9BQUEsR0FDQWtnQyxHQUFBdlAsRUFBQTN3QixPQUFBLEdBQ0EsT0FBV3VHLE9BQUFtMkIsRUFBQSxFQUFBbjJCLENBQWdCNEMsS0FBQWthLFdBQUF3YyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBNytCLEVBQUE4K0IsRUFBQUMsSUFNM0JuQixFQUFBejFCLFVBQUFrMUIsWUFBQSxTQUFBdmtCLEdBRUEsR0FBQUEsRUFBQSxDQVFBLElBQUFuVSxFQUFBcUQsS0FBQStaLFNBQ0FGLEVBQUEvSSxFQUFBK0ksV0FDQTdrQixFQUFBbUMsS0FBQTh2QixNQUFBblcsRUFBQXpVLEtBQUEsR0FBQXdkLEdBQ0E1a0IsRUFBQWtDLEtBQUE4dkIsTUFBQW5XLEVBQUF6VSxLQUFBLEdBQUF3ZCxHQUNBN1osS0FBQXFsQixRQUFBcndCLFVBQUFnTCxLQUFBcWxCLFFBQUFwd0IsV0FDQStLLEtBQUFxbEIsUUFBQXJ3QixRQUNBZ0wsS0FBQXFsQixRQUFBcHdCLFVBRUEwSCxFQUFBK3FCLFVBQUEsSUFBQTF5QixFQUFBQyxHQUdBLElBQUF1SixFQUFBc1MsRUFBQTBXLFVBQUFocEIsU0FFQXdCLEtBQUFvekIsb0JBQUF0aUIsR0FFQTlRLEtBQUFpekIsb0JBQTZCcnZCLEVBQUEsRUFBZW96QixXQUFBbG1CLEdBRTVDLElBQUF1akIsRUFBQXZqQixFQUFBdWpCLGlCQUNJajNCLE9BQUF1SixFQUFBLEVBQUF2SixDQUFVaTNCLEVBQW1CL0IsR0FFakM5ekIsSUFDQTdCLEVBQUEreUIsT0FDTXR5QixPQUFBdkksRUFBQSxFQUFBdUksQ0FBY1QsRUFBQTZCLEVBQUF4SixFQUFBLEVBQUFDLEVBQUEsSUFHcEIsSUFDQTVDLEVBQUFxTCxFQURBdXVCLEVBQUFuYixFQUFBMFcsVUFBQS9uQixXQUVBLElBQUFwTixFQUFBLEVBQUFxTCxFQUFBMjJCLEVBQUEzaUMsT0FBNkNXLEVBQUFxTCxJQUFRckwsRUFBQSxDQUNyRCxJQUFBbzBCLEVBQUE0TixFQUFBaGlDLEdBQ0FnMEIsRUFBQUksRUFBQUosTUFDQWtPLEVBQWtFdjBCLEtBQUF3MEIsaUJBQUFuTyxHQUN2RGpwQixPQUFBazNCLEVBQUEsRUFBQWwzQixDQUFtQnFwQixFQUFBd0YsSUFDOUJ4RixFQUFBd1EsYUFBb0NuMkIsRUFBQSxFQUFXQyxRQUcvQ3d6QixFQUFBdkksYUFBQWxiLEVBQUEyVixJQUNBOE4sRUFBQS9OLGFBQUExVixFQUFBMlYsRUFBQTlwQixJQUlBNkIsR0FDQTdCLEVBQUF1cUIsVUFHQWxuQixLQUFBaXpCLG9CQUE2QnJ2QixFQUFBLEVBQWVzekIsWUFBQXBtQixHQUU1QzlRLEtBQUFxMkIsbUJBQ0FyMkIsS0FBQXFsQixRQUFBcm5CLE1BQUFnNEIsUUFBQSxHQUNBaDJCLEtBQUFxMkIsa0JBQUEsR0FHQXIyQixLQUFBdzFCLG1DQUFBMWtCLEdBQ0E5USxLQUFBczFCLHdCQUFBeGtCLFFBM0RBOVEsS0FBQXEyQixtQkFDQXIyQixLQUFBcWxCLFFBQUFybkIsTUFBQWc0QixRQUFBLE9BQ0FoMkIsS0FBQXEyQixrQkFBQSxJQStEQVQsRUFBQXoxQixVQUFBczBCLG9CQUFBLFNBQUFsTixFQUFBelcsRUFBQXVXLEVBQUF0aEIsRUFBQXVoQixFQUFBc00sRUFBQUMsR0FDQSxJQUFBdnRCLEVBVUFqVSxFQVJBNDVCLEVBREFuYixFQUFBMFcsVUFDQS9uQixXQUVBczBCLEVBQUFqakIsRUFBQXVqQixpQkFDQThDLEVBQUFwRCxFQUFBcmlDLE9BRUE4RSxFQUFxQjRHLE9BQUFtMkIsRUFBQSxFQUFBbjJCLENBQ3JCMFQsRUFBQXdpQiwyQkFBQS9MLEVBQUF6ZSxTQUdBLElBQUF6VyxFQUFBOGtDLEVBQUEsRUFBMkI5a0MsR0FBQSxJQUFRQSxFQUFBLENBQ25DLElBQUFvMEIsRUFBQXNOLEVBQUExaEMsR0FDQWcwQixFQUFBSSxFQUFBSixNQUNBLEdBQVVqcEIsT0FBQWszQixFQUFBLEVBQUFsM0IsQ0FBbUJxcEIsRUFBQXdGLElBQUEySCxFQUFBN3pCLEtBQUE4ekIsRUFBQXhOLEdBSTdCLEdBRkEvZixFQURvRXRHLEtBQUF3MEIsaUJBQUFuTyxHQUNwRWUseUJBQ0E1d0IsRUFBQXNhLEVBQUF1VyxFQUFBdGhCLEVBQUF1aEIsR0FFQSxPQUFBaGhCLElBVUFzdkIsRUFBQXoxQixVQUFBK3lCLHVCQUFBLFNBQUFDLEdBQ0FQLEVBQUF6eUIsVUFBQSt5Qix1QkFBQW56QixLQUFBQyxLQUFBbXpCLEdBQ0EsUUFBQTlnQyxFQUFBLEVBQUFxTCxFQUFBeTFCLEVBQUF6aEMsT0FBNkNXLEVBQUFxTCxJQUFRckwsRUFBQSxDQUNyRCxJQUFBK2tDLEVBQUFqRSxFQUFBOWdDLEdBQ1crSyxPQUFBdUosRUFBQSxFQUFBdkosQ0FBUXM0QixFQUFBMEIsSUFDbkIxQixFQUFBanhCLEtBQUEyeUIsS0FLQXhCLEVBak1xQixDQWtNbkJsRCxHQUdhaitCLEVBQUEseUlDcUJBNi9CLEVBek9FLFNBQUErQyxHQUNqQixTQUFBQyxFQUFBalIsR0FFQWdSLEVBQUF0M0IsS0FBQUMsTUFNQUEsS0FBQXUzQixPQUFBbFIsRUE2TkEsT0F6TkFnUixJQUFBQyxFQUFBcDNCLFVBQUFtM0IsR0FDQUMsRUFBQW4zQixVQUFBL0MsT0FBQWdELE9BQUFpM0IsS0FBQWwzQixXQUNBbTNCLEVBQUFuM0IsVUFBQUUsWUFBQWkzQixFQVdBQSxFQUFBbjNCLFVBQUFndEIsdUJBQUEsU0FBQXpWLEVBQUE5VyxFQUFBNDJCLEdBQ0EsZ0JBTUFDLEVBQUE5SyxHQVVBLE9BQUFqVixFQUFBZ2dCLGtCQUFBOTJCLEVBQUE2MkIsRUFBQTlLLEVBTkEsU0FBQW5CLEdBQ0FnTSxFQUFBQyxLQUNBRCxFQUFBQyxHQUFBLElBRUFELEVBQUFDLEdBQUFqTSxFQUFBbUMsVUFBQXZwQixZQUFBb25CLE1BZ0JBOEwsRUFBQW4zQixVQUFBd3pCLDJCQUFBLFNBQUFuOUIsRUFBQXNhLEVBQUF1VyxFQUFBdGhCLEtBS0F1eEIsRUFBQW4zQixVQUFBMG5CLFNBQUEsV0FDQSxPQUFBN25CLEtBQUF1M0IsUUFRQUQsRUFBQW4zQixVQUFBdzNCLG1CQUFBLFNBQUE3dkIsR0FDeURBLEVBQUEsT0FDekQwSSxhQUE2Qm9uQixFQUFBLEVBQVVuL0IsUUFDdkN1SCxLQUFBNjNCLDJCQVNBUCxFQUFBbjNCLFVBQUF1MEIsdUJBQUEsU0FBQWwrQixFQUFBc2EsR0FDQSxVQVVBd21CLEVBQUFuM0IsVUFBQTIzQixVQUFBLFNBQUFoNUIsR0FDQSxJQUFBaTVCLEVBQUFqNUIsRUFBQTBSLFdBUUEsT0FQQXVuQixHQUFzQkgsRUFBQSxFQUFVbi9CLFFBQUFzL0IsR0FBeUJILEVBQUEsRUFBVWwvQixPQUM3RDBFLE9BQUF1RyxFQUFBLEVBQUF2RyxDQUFNMEIsRUFBUWcyQixFQUFBLEVBQVNqeEIsT0FBQTdELEtBQUEyM0IsbUJBQUEzM0IsTUFFN0IrM0IsR0FBc0JILEVBQUEsRUFBVXIvQixPQUNoQ3VHLEVBQUFnRyxPQUNBaXpCLEVBQUFqNUIsRUFBQTBSLFlBRUF1bkIsR0FBeUJILEVBQUEsRUFBVW4vQixRQU1uQzYrQixFQUFBbjNCLFVBQUEwM0Isd0JBQUEsV0FDQSxJQUFBeFIsRUFBQXJtQixLQUFBNm5CLFdBQ0F4QixFQUFBMlIsY0FBQTNSLEVBQUE0UixrQkFBd0RuM0IsRUFBQSxFQUFXQyxPQUNuRWYsS0FBQStDLFdBU0F1MEIsRUFBQW4zQixVQUFBaXZCLG9CQUFBLFNBQUF0ZSxFQUFBcWIsR0FDQSxHQUFBQSxFQUFBOUQsaUJBQUEsQ0FNQSxJQUFBNlAsRUFBQSxTQUFBL0wsRUFBQXpoQixFQUFBb0csR0FDQSxJQUFBcW5CLEVBQTRCLzZCLE9BQUE2RixFQUFBLEVBQUE3RixDQUFNK3VCLEdBQ2xDZ00sS0FBQXJuQixFQUFBb2UsV0FDQS9DLEVBQUFpTSxZQUFBdG5CLEVBQUEwVyxVQUFBNW1CLFdBQ0FrUSxFQUFBb2UsVUFBQWlKLEtBRU9oZ0IsS0FBQSxLQUFBZ1UsR0FFUHJiLEVBQUF5a0Isb0JBQUE5d0IsS0FDbUUsS0FZbkU2eUIsRUFBQW4zQixVQUFBOHVCLGdCQUFBLFNBQUFDLEVBQUEvQyxFQUFBeFQsRUFBQWdVLEdBRUEsSUFBQXdMLEVBQXdCLzZCLE9BQUE2RixFQUFBLEVBQUE3RixDQUFNK3VCLEdBQzlCa00sRUFBQTFmLEVBQUF2VSxXQUNBK3pCLEtBQUFqSixFQUNBbUosS0FBQW5KLEVBQUFpSixHQUNBakosRUFBQWlKLEdBQUFFLEdBQUExbEMsT0FBQWc2QixHQUVBdUMsRUFBQWlKLEdBQUFFLEdBQUExTCxHQUdBdUMsRUFBQWlKLEdBQUEsR0FDQWpKLEVBQUFpSixHQUFBRSxHQUFBMUwsSUF3QkEySyxFQUFBbjNCLFVBQUFndkIsa0JBQUEsU0FDQXJlLEVBQ0FxYixFQUNBRyxFQUNBelMsRUFDQWpaLEVBQ0FwQixFQUNBK3VCLEVBQ0ErSixFQUNBQyxFQUNBbHBCLEdBRUEsSUFBQThvQixFQUF3Qi82QixPQUFBNkYsRUFBQSxFQUFBN0YsQ0FBTSt1QixHQUM5QmdNLEtBQUFybkIsRUFBQTBuQixjQUNBMW5CLEVBQUEwbkIsWUFBQUwsR0FBQSxJQUVBLElBR0EzTSxFQUFBbUIsRUFBQUYsRUFBQW4xQixFQUFBQyxFQUFBb2hCLEVBSEE2ZixFQUFBMW5CLEVBQUEwbkIsWUFBQUwsR0FDQU0sRUFBQTNuQixFQUFBMm5CLFVBR0EsSUFBQTlmLEVBRkEyVCxFQUFBb00sYUFFcUIvZixHQUFBNFYsSUFBZTVWLEVBR3BDLElBRkFnVSxFQUFBTCxFQUFBTSwwQkFBQXB0QixFQUFBbVosRUFBQWdVLEdBQ0FGLEVBQUFILEVBQUF6RyxjQUFBbE4sR0FDQXJoQixFQUFBcTFCLEVBQUFqZSxLQUE4QnBYLEdBQUFxMUIsRUFBQS9kLE9BQXFCdFgsRUFDbkQsSUFBQUMsRUFBQW8xQixFQUFBaGUsS0FBZ0NwWCxHQUFBbzFCLEVBQUE5ZCxPQUFxQnRYLEVBQ3JEZzNCLEVBQUE1VixHQUFBMmYsSUFDQTlNLEVBQUFXLEVBQUFQLFFBQUFqVCxFQUFBcmhCLEVBQUFDLEVBQUFzaUIsRUFBQWpaLElBQ0E0UCxZQUFtQ21vQixFQUFBLEVBQVNwZ0MsT0FDNUNpZ0MsRUFBQWhOLEVBQUFvTixXQUFBLEVBQ0FILEVBQUEvRyxZQUFBbEcsRUFBQW9OLFdBQ0FILEVBQUF0SCxRQUFBLENBQUEzRixFQUFBMk0sRUFDQTdMLEVBQUF1TSxtQkFBQXJOLEVBQUFtQyxXQUFBbEIsVUFHQWx2QixJQUFBZzdCLEdBQ0FBLEVBQUF4NEIsS0FBQXNQLEVBQUFtYyxJQUdBVyxFQUFBMk0sUUFBQW5nQixFQUFBcmhCLEVBQUFDLEVBQUFxSixJQU9BMDJCLEVBdE9pQixDQXVPZnlCLEVBQUEsV0NsT0VDLEVBQW1CLFNBQUExQixHQUN2QixTQUFBbFIsRUFBQUMsR0FFQWlSLEVBQUF2M0IsS0FBQUMsS0FBQXFtQixHQU1Bcm1CLEtBQUF5bkIsbUJBTUF6bkIsS0FBQWthLFdBQXNCOWMsT0FBQW0yQixFQUFBLEVBQUFuMkIsR0E0SnRCLE9BeEpBazZCLElBQUFsUixFQUFBbG1CLFVBQUFvM0IsR0FDQWxSLEVBQUFqbUIsVUFBQS9DLE9BQUFnRCxPQUFBazNCLEtBQUFuM0IsV0FDQWltQixFQUFBam1CLFVBQUFFLFlBQUErbEIsRUFRQUEsRUFBQWptQixVQUFBeW1CLEtBQUEsU0FBQWpxQixFQUFBbVUsRUFBQXRSLEdBQ0EsSUFBQXFhLEVBQUEvSSxFQUFBK0ksV0FDQTdrQixFQUFBOGIsRUFBQXpVLEtBQUEsR0FBQXdkLEVBQ0E1a0IsRUFBQTZiLEVBQUF6VSxLQUFBLEdBQUF3ZCxFQUNBcmIsRUFBQXNTLEVBQUEwVyxVQUFBaHBCLFNBQ0F5NkIsRUFBa0I3N0IsT0FBQXlMLEVBQUEsRUFBQXpMLENBQVVvQyxHQUM1QjA1QixFQUFtQjk3QixPQUFBeUwsRUFBQSxFQUFBekwsQ0FBV29DLEdBQzlCMjVCLEVBQXNCLzdCLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFjb0MsR0FDcEM0NUIsRUFBcUJoOEIsT0FBQXlMLEVBQUEsRUFBQXpMLENBQWFvQyxHQUU5QnBDLE9BQUFtMkIsRUFBQSxFQUFBbjJCLENBQWMwVCxFQUFBdWlCLDJCQUFBNEYsR0FDZDc3QixPQUFBbTJCLEVBQUEsRUFBQW4yQixDQUFjMFQsRUFBQXVpQiwyQkFBQTZGLEdBQ2Q5N0IsT0FBQW0yQixFQUFBLEVBQUFuMkIsQ0FBYzBULEVBQUF1aUIsMkJBQUE4RixHQUNkLzdCLE9BQUFtMkIsRUFBQSxFQUFBbjJCLENBQWMwVCxFQUFBdWlCLDJCQUFBK0YsR0FFbEJ6OEIsRUFBQSt5QixPQUNJdHlCLE9BQUF2SSxFQUFBLEVBQUF1SSxDQUFjVCxHQUFBNkIsRUFBQXhKLEVBQUEsRUFBQUMsRUFBQSxHQUNsQjBILEVBQUEyZ0IsWUFDQTNnQixFQUFBb2dCLE9BQUFrYyxFQUFBLEdBQUFwZixFQUFBb2YsRUFBQSxHQUFBcGYsR0FDQWxkLEVBQUFxZ0IsT0FBQWtjLEVBQUEsR0FBQXJmLEVBQUFxZixFQUFBLEdBQUFyZixHQUNBbGQsRUFBQXFnQixPQUFBbWMsRUFBQSxHQUFBdGYsRUFBQXNmLEVBQUEsR0FBQXRmLEdBQ0FsZCxFQUFBcWdCLE9BQUFvYyxFQUFBLEdBQUF2ZixFQUFBdWYsRUFBQSxHQUFBdmYsR0FDQWxkLEVBQUFpcUIsT0FDSXhwQixPQUFBdkksRUFBQSxFQUFBdUksQ0FBY1QsRUFBQTZCLEVBQUF4SixFQUFBLEVBQUFDLEVBQUEsSUFVbEJteEIsRUFBQWptQixVQUFBazVCLHNCQUFBLFNBQUF4NUIsRUFBQWxELEVBQUFtVSxFQUFBd29CLEdBQ0EsSUFBQWpULEVBQUFybUIsS0FBQTZuQixXQUNBLEdBQUF4QixFQUFBaVEsWUFBQXoyQixHQUFBLENBQ0EsSUFBQTdLLEVBQUE4YixFQUFBelUsS0FBQSxHQUFBeVUsRUFBQStJLFdBQ0E1a0IsRUFBQTZiLEVBQUF6VSxLQUFBLEdBQUF5VSxFQUFBK0ksV0FDQXJiLEVBQUFzUyxFQUFBMFcsVUFBQWhwQixTQUNNcEIsT0FBQXZJLEVBQUEsRUFBQXVJLENBQWNULEdBQUE2QixFQUFBeEosRUFBQSxFQUFBQyxFQUFBLEdBQ3BCLElBQUEySixPQUFBckIsSUFBQSs3QixFQUNBQSxFQUFBdDVCLEtBQUF1MkIsYUFBQXpsQixFQUFBLEdBQ0Fxa0IsRUFBQSxJQUF1QnFCLEVBQUEsRUFDdkI3NUIsRUFBQW1VLEVBQUErSSxXQUFBL0ksRUFBQXRSLE9BQUFaLEVBQ0FrUyxFQUFBMFcsVUFBQWhwQixVQUNBaTRCLEVBQUEsSUFBNkI3MkIsRUFBQSxFQUFXQyxFQUFBczFCLEVBQUFya0IsRUFDeENuVSxFQUFBLE1BQ0EwcEIsRUFBQTdpQixjQUFBaXpCLEdBQ01yNUIsT0FBQXZJLEVBQUEsRUFBQXVJLENBQWNULEVBQUE2QixFQUFBeEosRUFBQSxFQUFBQyxFQUFBLEtBY3BCbXhCLEVBQUFqbUIsVUFBQWluQix5QkFBQSxTQUFBNXdCLEVBQUFzYSxFQUFBdVcsRUFBQXRoQixFQUFBdWhCLEdBR0EsT0FGQXRuQixLQUFBMnpCLDJCQUFBbjlCLEVBQUFzYSxFQUFBdVcsRUFBMkZubUIsRUFBQSxHQUczRjZFLEVBQUFoRyxLQUFBdW5CLEVBQUF0bkIsS0FBQTZuQixXQUFBLFdBRUEsR0FXQXpCLEVBQUFqbUIsVUFBQWduQixZQUFBLFNBQUF4cUIsRUFBQW1VLEVBQUEyVixFQUFBNlMsR0FDQXQ1QixLQUFBcTVCLHNCQUErQnoxQixFQUFBLEVBQWVzekIsWUFBQXY2QixFQUFBbVUsRUFBQXdvQixJQVM5Q2xULEVBQUFqbUIsVUFBQXVtQixXQUFBLFNBQUEvcEIsRUFBQW1VLEVBQUF3b0IsR0FDQXQ1QixLQUFBcTVCLHNCQUErQnoxQixFQUFBLEVBQWVvekIsV0FBQXI2QixFQUFBbVUsRUFBQXdvQixJQVM5Q2xULEVBQUFqbUIsVUFBQTh5QixvQkFBQSxTQUFBdDJCLEVBQUFtVSxFQUFBd29CLEdBQ0F0NUIsS0FBQXE1QixzQkFBK0J6MUIsRUFBQSxFQUFlMjFCLE9BQUE1OEIsRUFBQW1VLEVBQUF3b0IsSUFTOUNsVCxFQUFBam1CLFVBQUFvMkIsYUFBQSxTQUFBemxCLEVBQUFyUyxHQUNBLElBQUErb0IsRUFBQTFXLEVBQUEwVyxVQUNBM04sRUFBQS9JLEVBQUErSSxXQUNBNmMsRUFBQTdjLEVBQUEvSSxFQUFBelUsS0FBQSxLQUNBczZCLEVBQUE5YyxFQUFBL0ksRUFBQXpVLEtBQUEsS0FDQXU2QixFQUFBL2MsRUFBQTJOLEVBQUEvbkIsV0FDQW8zQixHQUFBRCxFQUNBNStCLEdBQUF3dkIsRUFBQWhwQixTQUNBczRCLEdBQUF0UCxFQUFBM3dCLE9BQUEsR0FBQTRILEVBQ0FzNEIsR0FBQXZQLEVBQUEzd0IsT0FBQSxHQUNBLE9BQVd1RyxPQUFBbTJCLEVBQUEsRUFBQW4yQixDQUFnQjRDLEtBQUFrYSxXQUFBd2MsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQTcrQixFQUFBOCtCLEVBQUFDLElBUzNCM1EsRUFBQWptQixVQUFBcW1CLGFBQUEsU0FBQTFWLEVBQUEyVixFQUFBOXBCLEdBQ0lTLE9BQUE2RixFQUFBLEVBQUE3RixJQVNKZ3BCLEVBQUFqbUIsVUFBQTZyQixhQUFBLFNBQUFsYixFQUFBMlYsR0FDQSxPQUFXcnBCLE9BQUE2RixFQUFBLEVBQUE3RixJQUdYZ3BCLEVBM0t1QixDQTRLckJrTyxHQUVhNy9CLEVBQUEscUNDOUxmLElBQUEra0MsRUFBQWpsQyxFQUFBLElBQUFrbEMsRUFBQWxsQyxFQUFBLElBQUFtbEMsRUFBQW5sQyxFQUFBLElBQUFvbEMsRUFBQXBsQyxFQUFBLElBQUFxbEMsRUFBQXJsQyxFQUFBLEdBQUFzbEMsRUFBQXRsQyxFQUFBLEdBQUF1bEMsRUFBQXZsQyxFQUFBLElBQUF3bEMsRUFBQXhsQyxFQUFBLEdBQUF5bEMsRUFBQXpsQyxFQUFBLElBQUEwbEMsRUFBQTFsQyxFQUFBLElBQUEybEMsRUFBQTNsQyxFQUFBLElBb0JBNGxDLEVBQUEsU0FBQWhVLEdBQ0EsU0FBQWdVLEVBQUFDLEdBMkJBLEdBekJBalUsRUFBQXBtQixLQUFBQyxLQUFBbzZCLEdBTUFwNkIsS0FBQXlhLE9BQUEsS0FNQXphLEtBQUFxckIsZ0JBQTJCanVCLE9BQUE4OEIsRUFBQSxFQUFBOThCLEdBSzNCNEMsS0FBQXE2QixpQkFBQSxHQU1BcjZCLEtBQUFzNkIsZ0JBQUEsS0FFQUYsRUFBQTlpQixZQUFpQ29pQixFQUFBLEVBQVNhLE9BQzFDLFFBQUFsb0MsRUFBQSxFQUFBcUwsRUFBMkJzOEIsRUFBQSxFQUF5QnRvQyxPQUFRVyxFQUFBcUwsSUFBUXJMLEVBQUEsQ0FDcEUsSUFBQStrQyxFQUFtQjRDLEVBQUEsRUFBeUIzbkMsR0FDNUMsR0FBQStrQyxJQUFBK0MsR0FBQS9DLEVBQUEsUUFBQWdELEdBQUEsQ0FDQXA2QixLQUFBczZCLGdCQUErRSxJQUFBbEQsRUFBQWdELEdBQy9FLFFBeUlBLE9BbElBalUsSUFBQWdVLEVBQUFqNkIsVUFBQWltQixHQUNBZ1UsRUFBQWg2QixVQUFBL0MsT0FBQWdELE9BQUErbEIsS0FBQWhtQixXQUNBZzZCLEVBQUFoNkIsVUFBQUUsWUFBQTg1QixFQUtBQSxFQUFBaDZCLFVBQUFxNkIsZ0JBQUEsV0FDQXg2QixLQUFBczZCLGlCQUNBdDZCLEtBQUFzNkIsZ0JBQUE1RyxVQUVBdk4sRUFBQWhtQixVQUFBcTZCLGdCQUFBejZCLEtBQUFDLE9BTUFtNkIsRUFBQWg2QixVQUFBNGQsU0FBQSxXQUNBLE9BQUEvZCxLQUFBeWEsT0FBQXphLEtBQUF5YSxPQUFBc0QsV0FBQSxNQU1Bb2MsRUFBQWg2QixVQUFBMm1CLGtCQUFBLFdBQ0EsT0FBQTltQixLQUFBcXJCLGlCQU1BOE8sRUFBQWg2QixVQUFBNnJCLGFBQUEsU0FBQWxiLEVBQUEyVixHQUVBLElBTUEzbkIsRUFOQSthLEVBQUEvSSxFQUFBK0ksV0FDQXhkLEVBQUF5VSxFQUFBelUsS0FDQW1yQixFQUFBMVcsRUFBQTBXLFVBQ0EwRSxFQUFBMUUsRUFBQTN3QixPQUNBbzFCLEVBQUF6RSxFQUFBL25CLFdBSUFnN0IsRUFEdUV6NkIsS0FBQTZuQixXQUNFZ0UsWUFFekV1QixFQUFBdGMsRUFBQXVjLFVBRUFxTixFQUFBMTZCLEtBQUFzNkIsZ0JBQ0FLLEVBQUE3cEIsRUFBQXRSLE9BS0EsR0FKQWs3QixRQUFBbjlCLElBQUFrcEIsRUFBQWpuQixTQUNBbTdCLEVBQXVCdjlCLE9BQUF5OEIsRUFBQSxFQUFBejhCLENBQWV1OUIsRUFBQWxVLEVBQUFqbkIsVUFHdEM0dEIsRUFBZXVNLEVBQUEsRUFBUTdqQyxhQUFBczNCLEVBQXNCdU0sRUFBQSxFQUFRNWpDLGVBQzVDcUgsT0FBQXk4QixFQUFBLEVBQUF6OEIsQ0FBT3U5QixHQUFBLENBQ2hCLElBQUEvNUIsRUFBQTRtQixFQUFBNW1CLFdBQ0EsSUFBVzQ0QixFQUFBLEVBQTBCLENBQ3JDLElBQUFvQixFQUFBSCxFQUFBbnFCLGdCQUNBc3FCLElBQ0FoNkIsRUFBQWc2QixHQUdBLElBQUFDLEVBQUE3NkIsS0FBQXE2QixpQkFDQSxHQUFBSyxFQUFBLENBQ0EsSUFBQS85QixFQUFBKzlCLEVBQUEvOUIsUUFDQW0rQixFQUF5RjE5QixPQUFBMjhCLEVBQUEsRUFBTCxDQUFXLEdBQUdqcEIsRUFBQSxDQUNsR3pVLEtBQUEsQ0FDWWUsT0FBQXk4QixFQUFBLEVBQUF6OEIsQ0FBUXU5QixHQUFBMU8sRUFDUjd1QixPQUFBeThCLEVBQUEsRUFBQXo4QixDQUFTdTlCLEdBQUExTyxHQUVyQnpFLFVBQW1FcHFCLE9BQUEyOEIsRUFBQSxFQUFMLENBQVcsR0FBR2pwQixFQUFBMFcsVUFBQSxDQUM1RWhwQixTQUFBLE1BR0F1OEIsRUFBQTM5QixPQUFBMnJCLEtBQUErUixFQUFBOUcsb0JBQUFwZ0MsT0FDQWtMLEVBQUEsSUFBb0IyNkIsRUFBQSxFQUFXa0IsRUFBQTFPLEVBQUFwUyxFQUFBbGQsRUFBQTlILE9BQUEsU0FBQWtSLElBQy9CMjBCLEVBQUExTyxhQUFBOE8sRUFBQXJVLEtBQ0FpVSxFQUFBTSxvQkFDZTU5QixPQUFBdzhCLEVBQUEsRUFBQXg4QixDQUFNeTlCLEVBQUFFLEtBQ3JCcCtCLEVBQUE5SCxPQUFBRyxNQUFBOGxDLEVBQUF6K0IsS0FBQSxHQUFBd2QsRUFDQWxkLEVBQUE5SCxPQUFBSSxPQUFBNmxDLEVBQUF6K0IsS0FBQSxHQUFBd2QsRUFDQTZnQixFQUFBTyxRQUFBdCtCLEVBQUFtK0IsRUFBQXJVLEdBQ0FvVSxFQUFBRSxFQUNBaDFCLFlBSUFqSCxFQUFBMjdCLEVBQUExYyxTQUNBNGMsRUFBQTFPLEVBQUFwUyxFQUFBalosR0FFQTlCLEdBQUFrQixLQUFBODNCLFVBQUFoNUIsS0FDQWtCLEtBQUF5YSxPQUFBM2IsRUFDQWtCLEtBQUFxNkIsaUJBQUFRLEdBSUEsR0FBQTc2QixLQUFBeWEsT0FBQSxDQUVBLElBQUFvUyxHQURBL3RCLEVBQUFrQixLQUFBeWEsUUFDQW5YLFlBQ0E0M0IsRUFBQXA4QixFQUFBK21CLGdCQUNBc1YsRUFBQXI4QixFQUFBOG1CLGdCQUNBeHZCLEVBQUF5akIsRUFBQXFoQixHQUNBalAsRUFBQWtQLEdBQ0F2OEIsRUFBc0J4QixPQUFBODhCLEVBQUEsRUFBQTk4QixDQUFnQjRDLEtBQUFxckIsZ0JBQ3RDeFIsRUFBQXhkLEVBQUEsS0FBQXdkLEVBQUF4ZCxFQUFBLEtBQ0FqRyxJQUNBLEVBQ0Era0MsR0FBQXRPLEVBQUEsR0FBQVgsRUFBQSxJQUFBZ1AsRUFDQUMsR0FBQWpQLEVBQUEsR0FBQVcsRUFBQSxJQUFBcU8sR0FDTTk5QixPQUFBODhCLEVBQUEsRUFBQTk4QixDQUFnQjRDLEtBQUFzbUIsaUNBQ3RCek0sRUFBQXhkLEVBQUEsS0FBQXVDLEVBQUEsR0FBQWliLEVBQUF4ZCxFQUFBLEtBQUF1QyxFQUFBLEdBQ0FpYixFQUFBb1MsR0FBQXBTLEVBQUFvUyxFQUNBLEdBQ0FDLEVBQUEsSUFBQUEsRUFBQSxJQUVBbHNCLEtBQUF5bkIsbUJBQUF5VCxFQUFBcmhCLEVBQUFzaEIsRUFHQSxRQUFBbjdCLEtBQUF5YSxRQU1BMGYsRUFBQWg2QixVQUFBd3pCLDJCQUFBLFNBQUFuOUIsRUFBQXNhLEVBQUF1VyxFQUFBdGhCLEdBQ0EsT0FBQS9GLEtBQUFzNkIsZ0JBQ0F0NkIsS0FBQXM2QixnQkFBQTNHLDJCQUFBbjlCLEVBQUFzYSxFQUFBdVcsRUFBQXRoQixHQUVBb2dCLEVBQUFobUIsVUFBQXd6QiwyQkFBQTV6QixLQUFBQyxLQUFBeEosRUFBQXNhLEVBQUF1VyxFQUFBdGhCLElBSUFvMEIsRUExS0EsQ0EyS0VGLEVBQUEsR0FRRkUsRUFBQSxpQkFBQTlULEdBQ0EsT0FBQUEsRUFBQS9PLFlBQTZCb2lCLEVBQUEsRUFBUzBCLE9BQ3RDL1UsRUFBQS9PLFlBQXdCb2lCLEVBQUEsRUFBU2EsUUFDc0IsRUFBQWMsa0JBQWdDdkIsRUFBQSxFQUFnQnNCLE9BVXZHakIsRUFBQSxnQkFBQXJLLEVBQUF6SixHQUNBLFdBQUE4VCxFQUF3RixJQUl6RTFsQyxFQUFBLG9DQ3pOZixJQUFBNm1DLEVBQUEvbUMsRUFBQSxJQUFBdVcsRUFBQXZXLEVBQUEsR0FBQXdXLEVBQUF4VyxFQUFBLEdBY0FnbkMsRUFBQSxTQUFBbEwsR0FDQSxTQUFBa0wsRUFBQUMsRUFBQUMsR0FFQXBMLEVBQUF0d0IsS0FLQUMsS0FBQSxTQUFBZ3hCLEdBQ0EsT0FBQXdLLEVBQUFsOEIsTUFBQSxLQUFBMHhCLElBTUEsU0FBQUEsR0FDQSxPQUF1REEsRUFBQSxHQUFBNEgsV0FPdkQ1NEIsS0FBQTA3QixvQkFBQUQsRUFNQXo3QixLQUFBMjdCLGNBQUEsRUFNQTM3QixLQUFBNDdCLGtCQUFBLEdBMkVBLE9BdkVBdkwsSUFBQWtMLEVBQUFyN0IsVUFBQW13QixHQUNBa0wsRUFBQXA3QixVQUFBL0MsT0FBQWdELE9BQUFpd0IsS0FBQWx3QixXQUNBbzdCLEVBQUFwN0IsVUFBQUUsWUFBQWs3QixFQUtBQSxFQUFBcDdCLFVBQUFneEIsUUFBQSxTQUFBSCxHQUNBLElBQUE2SyxFQUFBeEwsRUFBQWx3QixVQUFBZ3hCLFFBQUFweEIsS0FBQUMsS0FBQWd4QixHQUNBLEdBQUE2SyxFQUFBLENBQ0EsSUFBQXJRLEVBQUF3RixFQUFBLEdBQ001ekIsT0FBQTBOLEVBQUEsRUFBQTFOLENBQU1vdUIsRUFBT3pnQixFQUFBLEVBQVNsSCxPQUFBN0QsS0FBQTg3QixpQkFBQTk3QixNQUU1QixPQUFBNjdCLEdBTUFOLEVBQUFwN0IsVUFBQTQ3QixnQkFBQSxXQUNBLE9BQUEvN0IsS0FBQTI3QixlQU9BSixFQUFBcDdCLFVBQUEyN0IsaUJBQUEsU0FBQWgwQixHQUNBLElBQUEwakIsRUFBc0QxakIsRUFBQSxPQUN0RGpILEVBQUEycUIsRUFBQWhiLFdBQ0EsR0FBQTNQLElBQWtCeTZCLEVBQUEsRUFBUzdpQyxRQUFBb0ksSUFBcUJ5NkIsRUFBQSxFQUFTNWlDLE9BQ3pEbUksSUFBa0J5NkIsRUFBQSxFQUFTM2lDLE9BQUFrSSxJQUFvQnk2QixFQUFBLEVBQVMxaUMsTUFBQSxDQUNsRHdFLE9BQUEwTixFQUFBLEVBQUExTixDQUFRb3VCLEVBQU96Z0IsRUFBQSxFQUFTbEgsT0FBQTdELEtBQUE4N0IsaUJBQUE5N0IsTUFDOUIsSUFBQWc4QixFQUFBeFEsRUFBQW9OLFNBQ0FvRCxLQUFBaDhCLEtBQUE0N0IsMkJBQ0E1N0IsS0FBQTQ3QixrQkFBQUksS0FDQWg4QixLQUFBMjdCLGVBRUEzN0IsS0FBQTA3Qix3QkFRQUgsRUFBQXA3QixVQUFBODdCLGNBQUEsU0FBQUMsRUFBQUMsR0FJQSxJQUhBLElBRUF0N0IsRUFBQTJxQixFQUFBd1EsRUFGQUksRUFBQSxFQUNBQyxHQUFBLEVBRUFyOEIsS0FBQTI3QixjQUFBTyxHQUFBRSxFQUFBRCxHQUNBbjhCLEtBQUFzb0IsV0FBQSxHQUVBMFQsR0FEQXhRLEVBQW9EeHJCLEtBQUE2d0IsVUFBQSxJQUNwRCtILFVBQ0EvM0IsRUFBQTJxQixFQUFBaGIsY0FDb0I4cUIsRUFBQSxFQUFTMWlDLE1BQzdCeWpDLEdBQUEsRUFDT3g3QixJQUFvQnk2QixFQUFBLEVBQVMvaUMsTUFBQXlqQyxLQUFBaDhCLEtBQUE0N0Isb0JBQ3BDNTdCLEtBQUE0N0Isa0JBQUFJLElBQUEsSUFDQWg4QixLQUFBMjdCLGdCQUNBUyxFQUNBNVEsRUFBQTFtQixRQUdBLElBQUFzM0IsR0FBQUMsR0FHQXI4QixLQUFBMDdCLHVCQUlBSCxFQTlHQSxDQWRBaG5DLEVBQUEsSUE2SEUsR0FHYUUsRUFBQSw0QkNoSWYsSUFBQTZuQyxFQUFnQi9uQyxFQUFRLEtBRXhCK2MsRUFBQWdyQiw2QkNGQSxJQUFBQyxFQUFtQmhvQyxFQUFRLEtBQVFnb0MsYUFVbkMsU0FBQUMsRUFBQUMsR0FDQSxJQUFBQyxHQUFBLEVBQ0EsSUFDQSxJQUFBQyxVQUFBLE9BQ0csTUFBQUMsR0FDSEYsR0FBQSxFQUdBLFNBQUFHLEVBQUFqcUMsRUFBQW9DLEVBQUFDLEdBQ0EsT0FBQXluQyxFQUNBLElBQUFDLFVBQUEvcEMsRUFBQW9DLEVBQUFDLEdBRUEsQ0FBY3JDLE9BQUFvQyxRQUFBQyxVQUlkLGdCQUFBckMsR0FFQSxJQVFBa3FDLEVBQUFqckMsRUFSQWtyQyxFQUFBbnFDLEVBQUEsUUFDQW9xQyxFQUFBcHFDLEVBQUEsS0FDQXFxQyxFQUFBcnFDLEVBQUEsU0FDQW9DLEVBQUFwQyxFQUFBLE1BQ0FxQyxFQUFBckMsRUFBQSxPQUVBc3FDLEVBQUFILEVBQUFyckMsT0FDQXlyQyxFQUFBSixFQUFBLEdBQUFLLFdBR0EsR0FBQUgsRUFBQSxDQUNBLElBQUFJLEVBQUEsSUFBQXZxQyxNQUFBb3FDLEdBQ0EsSUFBQXJyQyxFQUFBLEVBQWlCQSxFQUFBcXJDLElBQWdCcnJDLEVBQ2pDd3JDLEVBQUF4ckMsR0FBQWdyQyxFQUNBLElBQUFTLGtCQUFBUCxFQUFBbHJDLElBQUFtRCxFQUFBQyxHQUVBNm5DLEVBQUFMLEVBQUFZLEVBQUFMLEdBQUFwcUMsU0FDSyxDQUNMa3FDLEVBQUEsSUFBQVEsa0JBQUFILEdBQ0EsSUFBQUksRUFBQSxJQUFBenFDLE1BQUFvcUMsR0FDQU0sRUFBQSxJQUFBMXFDLE1BQUFvcUMsR0FDQSxJQUFBcnJDLEVBQUEsRUFBaUJBLEVBQUFxckMsSUFBZ0JyckMsRUFDakMwckMsRUFBQTFyQyxHQUFBLElBQUF5ckMsa0JBQUFQLEVBQUFsckMsSUFDQTJyQyxFQUFBM3JDLEdBQUEsVUFFQSxRQUFBUSxFQUFBLEVBQXFCQSxFQUFBOHFDLEVBQWM5cUMsR0FBQSxHQUNuQyxRQUFBa2lCLEVBQUEsRUFBdUJBLEVBQUEyb0IsSUFBZ0Izb0IsRUFBQSxDQUN2QyxJQUFBNU4sRUFBQTQyQixFQUFBaHBCLEdBQ0FpcEIsRUFBQWpwQixHQUFBLEdBQUE1TixFQUFBdFUsR0FDQW1yQyxFQUFBanBCLEdBQUEsR0FBQTVOLEVBQUF0VSxFQUFBLEdBQ0FtckMsRUFBQWpwQixHQUFBLEdBQUE1TixFQUFBdFUsRUFBQSxHQUNBbXJDLEVBQUFqcEIsR0FBQSxHQUFBNU4sRUFBQXRVLEVBQUEsR0FFQSxJQUFBazFCLEVBQUFrVixFQUFBZSxFQUFBUixHQUNBRixFQUFBenFDLEdBQUFrMUIsRUFBQSxHQUNBdVYsRUFBQXpxQyxFQUFBLEdBQUFrMUIsRUFBQSxHQUNBdVYsRUFBQXpxQyxFQUFBLEdBQUFrMUIsRUFBQSxHQUNBdVYsRUFBQXpxQyxFQUFBLEdBQUFrMUIsRUFBQSxJQUdBLE9BQUF1VixFQUFBbHdCLFFBVUEsU0FBQTZ3QixFQUFBQyxFQUFBQyxHQUNBLElBSUFDLEVBSkF4Z0MsT0FBQTJyQixLQUFBMlUsRUFBQUcsS0FBQSxJQUF3Q256QixJQUFBLFNBQUErQixHQUN4QyxhQUFBQSxFQUFBLE1BQUFpeEIsRUFBQUcsSUFBQXB4QixHQUFBckksV0FBQSxNQUdBb0wsT0FBQSxDQUNBLHFCQUFBZ3RCLEVBQUFwNEIsV0FBQSxLQUFBczVCLEVBQUFqQixVQUFBcjRCLFdBQUEsS0FDQSxxREFDQSx5Q0FDQSx5RUFDQSxRQUdBMDVCLEVBQUEsSUFBQUMsS0FBQUgsRUFBQSxDQUE4Qi85QixLQUFBLG9CQUM5QjZYLEVBQUFzbUIsSUFBQUMsZ0JBQUFILEdBQ0FJLEVBQUEsSUFBQUMsT0FBQXptQixHQUVBLE9BREF3bUIsRUFBQUUsaUJBQUEsVUFBQVQsR0FDQU8sRUF3QkEsU0FBQTVCLEVBQUFvQixHQUVBLElBQUFXLEVBREFyK0IsS0FBQXMrQixZQUFBWixFQUFBVCxTQVNBLElBQUFzQixFQUFBLEdBQ0EsR0FQQUYsRUFEQSxJQUFBWCxFQUFBVyxRQUNBLEVBQ0dyK0IsS0FBQXMrQixVQUNILEVBRUFaLEVBQUFXLFNBQUEsRUFJQSxRQUFBaHNDLEVBQUEsRUFBbUJBLEVBQUFnc0MsSUFBYWhzQyxFQUNoQ2tzQyxFQUFBbHNDLEdBQUFvckMsRUFBQUMsRUFBQTE5QixLQUFBdytCLGlCQUFBcm1CLEtBQUFuWSxLQUFBM04sU0FHQWtzQyxFQUFBLEdBL0JBLFNBQUFiLEVBQUFDLEdBQ0EsSUFBQWMsRUFBQWpDLEVBQUFrQixFQUFBakIsV0FDQSxPQUNBaUMsWUFBQSxTQUFBOXJDLEdBQ0ErckMsV0FBQSxXQUNBaEIsRUFBQSxDQUFtQi9xQyxLQUFBLENBQVNnYSxPQUFBNnhCLEVBQUE3ckMsR0FBQW9xQyxLQUFBcHFDLEVBQUEsU0FDckIsS0F5QlBnc0MsQ0FBQWxCLEVBQUExOUIsS0FBQXcrQixpQkFBQXJtQixLQUFBblksS0FBQSxJQUVBQSxLQUFBNitCLFNBQUFOLEVBQ0F2K0IsS0FBQTgrQixPQUFBLEdBQ0E5K0IsS0FBQSsrQixnQkFBQXJCLEVBQUFzQixPQUFBdC9CLElBQ0FNLEtBQUFpL0IsU0FBQSxFQUNBai9CLEtBQUFrL0IsWUFBQSxHQUNBbC9CLEtBQUFtL0IsS0FBQSxLQWFBN0MsRUFBQW44QixVQUFBaS9CLFFBQUEsU0FBQUMsRUFBQXJDLEVBQUFqM0IsR0FDQS9GLEtBQUFzL0IsU0FBQSxDQUNBRCxTQUNBckMsT0FDQWozQixhQUVBL0YsS0FBQXUvQixhQU1BakQsRUFBQW44QixVQUFBcS9CLFFBQUEsV0FDQSxRQUFBejFCLEtBQUEvSixLQUNBQSxLQUFBK0osR0FBQSxLQUVBL0osS0FBQXkvQixZQUFBLEdBT0FuRCxFQUFBbjhCLFVBQUFtL0IsU0FBQSxTQUFBSSxHQUVBLElBREExL0IsS0FBQTgrQixPQUFBcjZCLEtBQUFpN0IsR0FDQTEvQixLQUFBOCtCLE9BQUFwdEMsT0FBQXNPLEtBQUErK0IsaUJBQ0EvK0IsS0FBQTgrQixPQUFBYSxRQUFBNTVCLFNBQUEsWUFPQXUyQixFQUFBbjhCLFVBQUFvL0IsVUFBQSxXQUNBLE9BQUF2L0IsS0FBQWkvQixVQUFBai9CLEtBQUE4K0IsT0FBQXB0QyxPQUFBLEdBQ0EsSUFBQWd1QyxFQUFBMS9CLEtBQUFtL0IsS0FBQW4vQixLQUFBOCtCLE9BQUFhLFFBQ0EzcUMsRUFBQTBxQyxFQUFBTCxPQUFBLEdBQUFycUMsTUFDQUMsRUFBQXlxQyxFQUFBTCxPQUFBLEdBQUFwcUMsT0FDQThuQyxFQUFBMkMsRUFBQUwsT0FBQTMwQixJQUFBLFNBQUFrMUIsR0FDQSxPQUFBQSxFQUFBaHRDLEtBQUFnYSxTQUVBeXhCLEVBQUFyK0IsS0FBQTYrQixTQUFBbnRDLE9BRUEsR0FEQXNPLEtBQUFpL0IsU0FBQVosRUFDQSxJQUFBQSxFQUNBcitCLEtBQUE2K0IsU0FBQSxHQUFBSCxZQUFBLENBQ0EzQixVQUNBQyxLQUFBMEMsRUFBQTFDLEtBQ0FDLFNBQUFqOUIsS0FBQXMrQixVQUNBdHBDLFFBQ0FDLFVBQ084bkMsUUFJUCxJQUZBLElBQUFyckMsRUFBQWd1QyxFQUFBTCxPQUFBLEdBQUF6c0MsS0FBQWxCLE9BQ0FtdUMsRUFBQSxFQUFBMW9DLEtBQUF5YSxLQUFBbGdCLEVBQUEsRUFBQTJzQyxHQUNBaHNDLEVBQUEsRUFBcUJBLEVBQUFnc0MsSUFBYWhzQyxFQUFBLENBR2xDLElBRkEsSUFBQTRwQixFQUFBNXBCLEVBQUF3dEMsRUFDQUMsRUFBQSxHQUNBdnJCLEVBQUEsRUFBQXdyQixFQUFBaEQsRUFBQXJyQyxPQUE0QzZpQixFQUFBd3JCLElBQVF4ckIsRUFDcER1ckIsRUFBQXI3QixLQUFBczRCLEVBQUExcUMsR0FBQXlXLE1BQUFtVCxJQUFBNGpCLElBRUE3L0IsS0FBQTYrQixTQUFBeHNDLEdBQUFxc0MsWUFBQSxDQUNBM0IsUUFBQStDLEVBQ0E5QyxLQUFBMEMsRUFBQTFDLEtBQ0FDLFNBQUFqOUIsS0FBQXMrQixVQUNBdHBDLFFBQ0FDLFVBQ1M2cUMsTUFXVHhELEVBQUFuOEIsVUFBQXErQixpQkFBQSxTQUFBN3FDLEVBQUFtVSxHQUNBOUgsS0FBQXkvQixhQUdBei9CLEtBQUFrL0IsWUFBQXZyQyxHQUFBbVUsRUFBQWxWLE9BQ0FvTixLQUFBaS9CLFNBQ0EsSUFBQWovQixLQUFBaS9CLFVBQ0FqL0IsS0FBQWdnQyxnQkFRQTFELEVBQUFuOEIsVUFBQTYvQixZQUFBLFdBQ0EsSUFFQXB0QyxFQUFBb3FDLEVBRkEwQyxFQUFBMS9CLEtBQUFtL0IsS0FDQWQsRUFBQXIrQixLQUFBNitCLFNBQUFudEMsT0FFQSxPQUFBMnNDLEVBQ0F6ckMsRUFBQSxJQUFBMHFDLGtCQUFBdDlCLEtBQUFrL0IsWUFBQSxXQUNBbEMsRUFBQWg5QixLQUFBay9CLFlBQUEsWUFDRyxDQUNILElBQUF4dEMsRUFBQWd1QyxFQUFBTCxPQUFBLEdBQUF6c0MsS0FBQWxCLE9BQ0FrQixFQUFBLElBQUEwcUMsa0JBQUE1ckMsR0FDQXNyQyxFQUFBLElBQUFscUMsTUFBQXBCLEdBRUEsSUFEQSxJQUFBbXVDLEVBQUEsRUFBQTFvQyxLQUFBeWEsS0FBQWxnQixFQUFBLEVBQUEyc0MsR0FDQWhzQyxFQUFBLEVBQW1CQSxFQUFBZ3NDLElBQWFoc0MsRUFBQSxDQUNoQyxJQUFBdWEsRUFBQTVNLEtBQUFrL0IsWUFBQTdzQyxHQUFBLE9BQ0E0cEIsRUFBQTVwQixFQUFBd3RDLEVBQ0FqdEMsRUFBQTJaLElBQUEsSUFBQSt3QixrQkFBQTF3QixHQUFBcVAsR0FDQStnQixFQUFBM3FDLEdBQUEyTixLQUFBay9CLFlBQUE3c0MsR0FBQSxNQUdBMk4sS0FBQW0vQixLQUFBLEtBQ0FuL0IsS0FBQWsvQixZQUFBLEdBQ0FRLEVBQUEzNUIsU0FBQSxLQUNBdzJCLEVBQUEzcEMsRUFBQThzQyxFQUFBTCxPQUFBLEdBQUFycUMsTUFBQTBxQyxFQUFBTCxPQUFBLEdBQUFwcUMsUUFBQStuQyxHQUNBaDlCLEtBQUF1L0IsYUFHQWx1QixFQUFBQyxRQUFBZ3JCLGlCQ2pSQSxJQUFBMkQsR0FBQSxFQUNBLElBQ0EsSUFBQXRELFVBQUEsT0FDQyxNQUFBQyxHQUNEcUQsR0FBQSxFQUdBLElBQUF0akMsRUFBQTdILFNBQUFDLGNBQUEsVUFBQUcsV0FBQSxNQVlBb2MsRUFBQWlyQixhQVZBLFNBQUEzcEMsRUFBQW9DLEVBQUFDLEdBQ0EsR0FBQWdyQyxFQUNBLFdBQUF0RCxVQUFBL3BDLEVBQUFvQyxFQUFBQyxHQUVBLElBQUEweUIsRUFBQWhyQixFQUFBdWpDLGdCQUFBbHJDLEVBQUFDLEdBRUEsT0FEQTB5QixFQUFBLzBCLEtBQUEyWixJQUFBM1osR0FDQSswQiwyRENLTyxTQUFBb0ksRUFBQXBYLEVBQUFyaEIsRUFBQUMsRUFBQTRvQyxHQUNQLFlBQUE1aUMsSUFBQTRpQyxHQUNBQSxFQUFBLEdBQUF4bkIsRUFDQXduQixFQUFBLEdBQUE3b0MsRUFDQTZvQyxFQUFBLEdBQUE1b0MsRUFDQTRvQyxHQUVBLENBQUF4bkIsRUFBQXJoQixFQUFBQyxHQVdPLFNBQUE2b0MsRUFBQXpuQixFQUFBcmhCLEVBQUFDLEdBQ1AsT0FBQW9oQixFQUFBLElBQUFyaEIsRUFBQSxJQUFBQyxFQVNPLFNBQUFxaEMsRUFBQWpMLEdBQ1AsT0FBQXlTLEVBQUF6UyxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxJQWtCTyxTQUFBMFMsRUFBQTFTLEdBQ1AsT0FBQUEsRUFBQSxJQUFBQSxFQUFBLElBQUFBLEVBQUEsR0N2RE8sU0FBUzJTLEVBQWtCQyxFQUFBalUsR0FDbEMsSUFBQWtVLEVBQUEsU0FDQUMsRUFBQSxTQUNBQyxFQUFBLFNBQ0FDLEVBQUEsVUFDQSxnQkFPQWhULEVBQUE5VCxFQUFBalosR0FDQSxPQUFBK3NCLEVBR0E0UyxFQUFBblgsUUFBQW9YLEVBQUE3UyxFQUFBLEdBQUF2cEIsWUFDQWdsQixRQUFBcVgsRUFBQTlTLEVBQUEsR0FBQXZwQixZQUNBZ2xCLFFBQUFzWCxFQUFBLFdBRUEsUUFEQS9TLEVBQUEsTUFDQXZwQixhQUVBZ2xCLFFBQUF1WCxFQUFBLFdBQ0EsSUFBQWhvQixFQUFBZ1YsRUFBQSxHQUNBaVQsRUFBQXRVLEVBQUF1VSxpQkFBQWxvQixHQUdBLE9BRll2YixPQUFBc0UsRUFBQSxFQUFBdEUsQ0FBTXdqQyxFQUFBLEtBQ2xCQSxFQUFBeFMsWUFBQVQsRUFBQSxJQUNBdnBCLGtCQWJBLEdBMEJPLFNBQUEwOEIsRUFBQUMsRUFBQXpVLEdBR1AsSUFGQSxJQUFBL3ZCLEVBQUF3a0MsRUFBQXJ2QyxPQUNBc3ZDLEVBQUEsSUFBQWx1QyxNQUFBeUosR0FDQWxLLEVBQUEsRUFBaUJBLEVBQUFrSyxJQUFTbEssRUFDMUIydUMsRUFBQTN1QyxHQUEwQml1QyxFQUFrQlMsRUFBQTF1QyxHQUFBaTZCLEdBRTVDLE9BQUEyVSxFQUFBRCxHQVFPLFNBQUFDLEVBQUFELEdBQ1AsV0FBQUEsRUFBQXR2QyxPQUNBc3ZDLEVBQUEsR0FFQSxTQU9BclQsRUFBQTlULEVBQUFqWixHQUNBLEdBQUErc0IsRUFFTyxDQUNQLElBQUF6dUIsRUFBZ0JtaEMsRUFBYTFTLEdBQzdCaDZCLEVBQW9CeUosT0FBQThqQyxFQUFBLEVBQUE5akMsQ0FBTThCLEVBQUE4aEMsRUFBQXR2QyxRQUMxQixPQUFBc3ZDLEVBQUFydEMsR0FBQWc2QixFQUFBOVQsRUFBQWpaLEtBYU8sU0FBQXVnQyxFQUFBeFQsRUFBQTlULEVBQUFqWixJQVNBLFNBQUF3Z0MsRUFBQTUvQixHQUNQLElBQUE2L0IsRUFBQSxHQUNBQyxFQUFBLHNCQUFrQ3IzQixLQUFBekksR0FDbEMsR0FBQTgvQixFQUFBLENBRUEsSUFFQUMsRUFGQUMsRUFBQUYsRUFBQSxHQUFBRyxXQUFBLEdBQ0FDLEVBQUFKLEVBQUEsR0FBQUcsV0FBQSxHQUVBLElBQUFGLEVBQUFDLEVBQWtDRCxHQUFBRyxJQUEwQkgsRUFDNURGLEVBQUE1OEIsS0FBQWpELEVBQUE0bkIsUUFBQWtZLEVBQUEsR0FBQUssT0FBQUMsYUFBQUwsS0FFQSxPQUFBRixFQUdBLEdBREFDLElBQUEsa0JBQWtDcjNCLEtBQUF6SSxHQUNsQyxDQUdBLElBREEsSUFBQXFnQyxFQUFBdjNCLFNBQUFnM0IsRUFBQSxPQUNBanZDLEVBQUFpWSxTQUFBZzNCLEVBQUEsT0FBd0NqdkMsR0FBQXd2QyxFQUFXeHZDLElBQ25EZ3ZDLEVBQUE1OEIsS0FBQWpELEVBQUE0bkIsUUFBQWtZLEVBQUEsR0FBQWp2QyxFQUFBK1IsYUFFQSxPQUFBaTlCLEVBR0EsT0FEQUEsRUFBQTU4QixLQUFBakQsR0FDQTYvQixvQkNoSE8sU0FBQVMsRUFBQXRnQyxFQUFBdUUsRUFBQWc4QixFQUFBQyxHQUNQLElBQUFDLEVBQUFudEMsU0FBQUMsY0FBQSxVQUNBZ1YsRUFBQSxPQUFxQjNNLE9BQUE2RixFQUFBLEVBQUE3RixDQUFNMkksR0FDM0IsU0FBQW04QixXQUNBam9DLE9BQUE4UCxHQUNBazRCLEVBQUExc0MsV0FBQUksWUFBQXNzQyxHQUVBQSxFQUFBRSxPQUFBLEVBQ0FGLEVBQUFHLElBQUE1Z0MsSUFBQSxHQUFBQSxFQUFBdlAsUUFBQSxlQUNBK3ZDLEdBQUEsZ0JBQUFqNEIsRUFDQSxJQUFBczRCLEVBQUExRCxXQUFBLFdBQ0F1RCxJQUNBSCxHQUNBQSxLQUVHLEtBQ0g5bkMsT0FBQThQLEdBQUEsU0FBQW5YLEdBQ0EwdkMsYUFBQUQsR0FDQUgsSUFDQW44QixFQUFBblQsSUFFQWtDLFNBQUF5dEMscUJBQUEsV0FBQWprQyxZQUFBMmpDLDhEQ2tRZU8sRUE1TlAsU0FBQTdjLEdBQ1IsU0FBQThjLEVBQUE5VSxFQUFBOXNCLEVBQUFKLEdBQ0FrbEIsRUFBQTVsQixLQUFBQyxNQUVBLElBQUFVLEVBQUFELEdBQUEsR0FLQVQsS0FBQTJ0QixZQU1BM3RCLEtBQUFhLFFBUUFiLEtBQUEwaUMsWUFBQSxLQVFBMWlDLEtBQUErSixJQUFBLEdBTUEvSixLQUFBMmlDLGlCQUFBcGxDLElBQUFtRCxFQUFBNHVCLFdBQUEsSUFBQTV1QixFQUFBNHVCLFdBT0F0dkIsS0FBQTRpQyxrQkFBQSxHQTRLQSxPQXhLQWpkLElBQUE4YyxFQUFBdmlDLFVBQUF5bEIsR0FDQThjLEVBQUF0aUMsVUFBQS9DLE9BQUFnRCxPQUFBdWxCLEtBQUF4bEIsV0FDQXNpQyxFQUFBdGlDLFVBQUFFLFlBQUFvaUMsRUFLQUEsRUFBQXRpQyxVQUFBNEMsUUFBQSxXQUNBL0MsS0FBQXdELGNBQXVCSSxFQUFBLEVBQVNDLFNBTWhDNCtCLEVBQUF0aUMsVUFBQXk0QixPQUFBLFdBQ0EsT0FBQTU0QixLQUFBK0osSUFBQSxJQUFBL0osS0FBQTJ0QixXQVNBOFUsRUFBQXRpQyxVQUFBNHJCLGVBQUEsV0FDQSxJQUFBL3JCLEtBQUEwaUMsWUFFQSxPQUFBMWlDLEtBRUEsSUFBQXdyQixFQUFBeHJCLEtBQUEwaUMsWUFNQSxHQUNBLEdBQUFsWCxFQUFBaGIsWUFBNkJtb0IsRUFBQSxFQUFTbGdDLE9BQ3RDLE9BQUEreUIsRUFFQUEsSUFBQWtYLGtCQUNLbFgsR0FHTCxPQUFBeHJCLE1BT0F5aUMsRUFBQXRpQyxVQUFBMGlDLG9CQUFBLFdBQ0EsR0FBQTdpQyxLQUFBMGlDLFlBQUEsQ0FJQSxJQUFBbFgsRUFBQXhyQixLQUFBMGlDLFlBQ0FJLEVBQStCLEtBRS9CLEdBQ0EsR0FBQXRYLEVBQUFoYixZQUE2Qm1vQixFQUFBLEVBQVNsZ0MsT0FBQSxDQUl0Qyt5QixFQUFBa1gsWUFBQSxLQUNBLE1BQ09sWCxFQUFBaGIsWUFBNkJtb0IsRUFBQSxFQUFTbmdDLFFBRzdDc3FDLEVBQUF0WCxFQUNPQSxFQUFBaGIsWUFBNkJtb0IsRUFBQSxFQUFTcGdDLEtBRzdDdXFDLEVBQUFKLFlBQUFsWCxFQUFBa1gsWUFFQUksRUFBQXRYLEVBRUFBLEVBQUFzWCxFQUFBSixrQkFDS2xYLEtBUUxpWCxFQUFBdGlDLFVBQUE0dUIsYUFBQSxXQUNBLE9BQUEvdUIsS0FBQTJ0QixXQU1BOFUsRUFBQXRpQyxVQUFBcVEsU0FBQSxXQUNBLE9BQUF4USxLQUFBYSxPQVdBNGhDLEVBQUF0aUMsVUFBQXlRLFNBQUEsU0FBQS9QLEdBQ0FiLEtBQUFhLFFBQ0FiLEtBQUErQyxXQVVBMC9CLEVBQUF0aUMsVUFBQTJFLEtBQUEsYUFRQTI5QixFQUFBdGlDLFVBQUEwdEIsU0FBQSxTQUFBM3BCLEVBQUF3cEIsR0FDQSxJQUFBMXRCLEtBQUEyaUMsWUFDQSxTQUdBLElBQUFuckMsRUFBQXdJLEtBQUE0aUMsa0JBQUExK0IsR0FDQSxHQUFBMU0sR0FHSyxRQUFBQSxFQUNMLGNBSEFBLEVBQUFrMkIsRUFDQTF0QixLQUFBNGlDLGtCQUFBMStCLEdBQUExTSxFQUtBLElBQUFmLEVBQUFpM0IsRUFBQWwyQixFQUFBLE9BQ0EsT0FBQWYsR0FBQXVKLEtBQUEyaUMsWUFDQSxFQUVXdmxDLE9BQUEybEMsRUFBQSxFQUFBM2xDLENBQU0zRyxFQUFBdUosS0FBQTJpQyxjQVVqQkYsRUFBQXRpQyxVQUFBeXRCLGFBQUEsU0FBQTFwQixHQUNBLFFBQUFsRSxLQUFBMmlDLGNBR0EsSUFBQTNpQyxLQUFBNGlDLGtCQUFBMStCLElBT0F1K0IsRUFBQXRpQyxVQUFBeXZCLGNBQUEsU0FBQTFyQixHQUNBbEUsS0FBQTJpQyxjQUNBM2lDLEtBQUE0aUMsa0JBQUExK0IsSUFBQSxJQUlBdStCLEVBeE5RLENBeU5OTyxFQUFBLGtCQ3RJRixTQUFBQyxJQUNBLElBQUFDLEVBQVk5bEMsT0FBQTI0QixFQUFBLEVBQUEzNEIsQ0FBcUIsS0FHakMsT0FGQThsQyxFQUFBM2lCLFVBQUEsZ0JBQ0EyaUIsRUFBQUMsU0FBQSxTQUNBRCxFQUFBcnVDLE9BR2UsSUFBQXV1QyxFQTVKRixTQUFBWCxHQUNiLFNBQUFZLEVBQUExVixFQUFBOXNCLEVBQUF1aEMsRUFBQWtCLEVBQUFDLEVBQUE5aUMsR0FFQWdpQyxFQUFBMWlDLEtBQUFDLEtBQUEydEIsRUFBQTlzQixFQUFBSixHQU1BVCxLQUFBd2pDLGFBQUFGLEVBUUF0akMsS0FBQXlqQyxLQUFBckIsRUFNQXBpQyxLQUFBeWEsT0FBQSxJQUFBaXBCLE1BQ0EsT0FBQUosSUFDQXRqQyxLQUFBeWEsT0FBQTZvQixlQU9BdGpDLEtBQUEyakMsbUJBQUEsS0FNQTNqQyxLQUFBNGpDLGtCQUFBTCxFQXVHQSxPQW5HQWQsSUFBQVksRUFBQW5qQyxVQUFBdWlDLEdBQ0FZLEVBQUFsakMsVUFBQS9DLE9BQUFnRCxPQUFBcWlDLEtBQUF0aUMsV0FDQWtqQyxFQUFBbGpDLFVBQUFFLFlBQUFnakMsRUFLQUEsRUFBQWxqQyxVQUFBcTZCLGdCQUFBLFdBQ0F4NkIsS0FBQWEsT0FBc0I4M0IsRUFBQSxFQUFTbmdDLFVBQy9Cd0gsS0FBQTZqQyxpQkFDQTdqQyxLQUFBeWEsT0FBQXdvQixLQUVBampDLEtBQUEwaUMsYUFDQTFpQyxLQUFBMGlDLFlBQUFoUCxVQUVBMXpCLEtBQUFhLE1BQWlCODNCLEVBQUEsRUFBUy8vQixNQUMxQm9ILEtBQUErQyxVQUNBMC9CLEVBQUF0aUMsVUFBQXE2QixnQkFBQXo2QixLQUFBQyxPQVFBcWpDLEVBQUFsakMsVUFBQTRkLFNBQUEsV0FDQSxPQUFBL2QsS0FBQXlhLFFBTUE0b0IsRUFBQWxqQyxVQUFBeTRCLE9BQUEsV0FDQSxPQUFBNTRCLEtBQUF5akMsTUFRQUosRUFBQWxqQyxVQUFBMmpDLGtCQUFBLFdBQ0E5akMsS0FBQWEsTUFBaUI4M0IsRUFBQSxFQUFTamdDLE1BQzFCc0gsS0FBQTZqQyxpQkFDQTdqQyxLQUFBeWEsT0FBQXdvQixJQUNBampDLEtBQUErQyxXQVFBc2dDLEVBQUFsakMsVUFBQTRqQyxpQkFBQSxXQUNBLElBQUFqbEMsRUFBNENrQixLQUFBLE9BQzVDbEIsRUFBQWtsQyxjQUFBbGxDLEVBQUFtbEMsY0FDQWprQyxLQUFBYSxNQUFtQjgzQixFQUFBLEVBQVNsZ0MsT0FFNUJ1SCxLQUFBYSxNQUFtQjgzQixFQUFBLEVBQVNoZ0MsTUFFNUJxSCxLQUFBNmpDLGlCQUNBN2pDLEtBQUErQyxXQU9Bc2dDLEVBQUFsakMsVUFBQTJFLEtBQUEsV0FDQTlFLEtBQUFhLE9BQXNCODNCLEVBQUEsRUFBU2pnQyxRQUMvQnNILEtBQUFhLE1BQW1CODNCLEVBQUEsRUFBU3BnQyxLQUM1QnlILEtBQUF5YSxPQUFBLElBQUFpcEIsTUFDQSxPQUFBMWpDLEtBQUF3akMsZUFDQXhqQyxLQUFBeWEsT0FBQTZvQixZQUFBdGpDLEtBQUF3akMsZUFHQXhqQyxLQUFBYSxPQUFzQjgzQixFQUFBLEVBQVNwZ0MsT0FDL0J5SCxLQUFBYSxNQUFtQjgzQixFQUFBLEVBQVNuZ0MsUUFDNUJ3SCxLQUFBK0MsVUFDQS9DLEtBQUEyakMsbUJBQUEsQ0FDUXZtQyxPQUFBdUcsRUFBQSxFQUFBdkcsQ0FBVTRDLEtBQUF5YSxPQUFjN1csRUFBQSxFQUFTbEwsTUFDekNzSCxLQUFBOGpDLGtCQUFBOWpDLE1BQ1E1QyxPQUFBdUcsRUFBQSxFQUFBdkcsQ0FBVTRDLEtBQUF5YSxPQUFjN1csRUFBQSxFQUFTc2dDLEtBQ3pDbGtDLEtBQUErakMsaUJBQUEvakMsT0FFQUEsS0FBQTRqQyxrQkFBQTVqQyxVQUFBeWpDLFFBU0FKLEVBQUFsakMsVUFBQTBqQyxlQUFBLFdBQ0E3akMsS0FBQTJqQyxtQkFBQWorQixRQUFvQy9CLEVBQUEsR0FDcEMzRCxLQUFBMmpDLG1CQUFBLE1BR0FOLEVBN0lhLENBOElYYixHQ2xHYTJCLEVBaERGLFNBQUFyYyxHQUNiLFNBQUFzYyxFQUFBcmMsR0FFQUQsRUFBQS9uQixLQUFBQyxLQUFBK25CLEdBeUNBLE9BckNBRCxJQUFBc2MsRUFBQWxrQyxVQUFBNG5CLEdBQ0FzYyxFQUFBamtDLFVBQUEvQyxPQUFBZ0QsT0FBQTBuQixLQUFBM25CLFdBQ0Fpa0MsRUFBQWprQyxVQUFBRSxZQUFBK2pDLEVBS0FBLEVBQUFqa0MsVUFBQWk0QixZQUFBLFNBQUFsSixHQUNBLEtBQUFsdkIsS0FBQXFvQixrQkFBQSxDQUNBLElBQUFtRCxFQUFBeHJCLEtBQUFpcEIsV0FDQW9QLEVBQUE3TSxFQUFBbUMsVUFBQSxHQUFBdnBCLFdBQ0EsR0FBQWkwQixLQUFBbkosS0FBQW1KLEdBQUF0bEIsU0FBQXlZLEVBQUFtQyxXQUNBLE1BRUEzdEIsS0FBQW9ULE1BQUFzZ0IsWUFRQTBRLEVBQUFqa0MsVUFBQWtrQyxtQkFBQSxXQUNBLE9BQUFya0MsS0FBQXNvQixXQUFBLENBR0EsSUFFQTNQLEVMaUJPLFNBQUE1TyxHQUNQLE9BQUFBLEVBQUFVLE1BQUEsS0FBQUMsSUFBQUMsUUtuQm9CMjVCLENBRHBCdGtDLEtBQUFtcEIsZ0JBRUEsR0FDQW5wQixLQUFBMEYsUUFBQSxTQUFBOGxCLEdBQ0FBLEVBQUFtQyxVQUFBLEtBQUFoVixJQUNBM1ksS0FBQWhOLE9BQW9CNGxDLEVBQU1wTixFQUFBbUMsWUFDMUJuQyxFQUFBa0ksWUFFSzF6QixRQUdMb2tDLEVBNUNhLE9BNkNYLEdDOUJLLFNBQUFHLEVBQUFDLEVBQUFDLEVBQ1BDLEVBQUFDLEdBRUEsSUFBQUMsRUFBcUJ4bkMsT0FBQXluQyxFQUFBLEVBQUF6bkMsQ0FBU3NuQyxFQUFBRCxFQUFBRCxHQUc5Qk0sRUFBeUIxbkMsT0FBQXluQyxFQUFBLEVBQUF6bkMsQ0FBa0JxbkMsRUFBQUUsRUFBQUQsR0FFM0NLLEVBQUFOLEVBQUFPLHdCQUNBem5DLElBQUF3bkMsSUFDQUQsR0FBQUMsR0FFQSxJQUFBRSxFQUFBVCxFQUFBUSx3QkFDQXpuQyxJQUFBMG5DLElBQ0FILEdBQUFHLEdBT0EsSUFBQUMsRUFBQVYsRUFBQWxoQyxZQUNBLElBQUE0aEMsR0FBdUI5bkMsT0FBQXlMLEVBQUEsRUFBQXpMLENBQWtCOG5DLEVBQUFOLEdBQUEsQ0FDekMsSUFBQU8sRUFBNkIvbkMsT0FBQXluQyxFQUFBLEVBQUF6bkMsQ0FBa0JvbkMsRUFBQU0sRUFBQUYsR0FDL0NFLEVBQ0FNLFNBQUFELE1BQUEsSUFDQUwsR0FBQUssR0FJQSxPQUFBTCxFQWNBLFNBQUFPLEVBQUFDLEVBQUFDLEVBQUFqdUMsRUFBQUMsR0FDQSxJQUFBaXVDLEVBQUFsdUMsRUFBQWd1QyxFQUNBRyxFQUFBbHVDLEVBQUFndUMsRUFDQWp2QyxFQUFBYSxLQUFBQyxLQUFBb3VDLElBQUFDLEtBQ0EsT0FBQXR1QyxLQUFBOHZCLE1BQUEzdkIsRUFBQWt1QyxFQUFBbHZDLEdBQUFhLEtBQUE4dkIsTUFBQTF2QixFQUFBa3VDLEVBQUFudkMsSUF1Qk8sU0FBU292QyxFQUFNMXdDLEVBQUFDLEVBQUE0a0IsRUFDdEJpckIsRUFBQUksRUFBQVAsRUFBQWdCLEVBQ0FDLEVBQUFDLEVBQUF4VyxFQUFBeVcsR0FFQSxJQUFBbnBDLEVBQWdCUyxPQUFBMjRCLEVBQUEsRUFBQTM0QixDQUFxQmpHLEtBQUE4dkIsTUFBQXBOLEVBQUE3a0IsR0FDckNtQyxLQUFBOHZCLE1BQUFwTixFQUFBNWtCLElBRUEsT0FBQTR3QyxFQUFBbjBDLE9BQ0EsT0FBQWlMLEVBQUE5SCxPQUdBOEgsRUFBQXZHLE1BQUF5akIsS0FFQSxJQUFBa3NCLEVBQXlCM29DLE9BQUF5TCxFQUFBLEVBQUF6TCxHQUN6QnlvQyxFQUFBbmdDLFFBQUEsU0FBQTA4QixFQUFBL3ZDLEVBQUFOLEdBQ0lxTCxPQUFBeUwsRUFBQSxFQUFBekwsQ0FBTTJvQyxFQUFBM0QsRUFBQTVpQyxVQUdWLElBQUF3bUMsRUFBMkI1b0MsT0FBQXlMLEVBQUEsRUFBQXpMLENBQVEyb0MsR0FDbkNFLEVBQTRCN29DLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFTMm9DLEdBQ3JDRyxFQUFzQjlvQyxPQUFBMjRCLEVBQUEsRUFBQTM0QixDQUN0QmpHLEtBQUE4dkIsTUFBQXBOLEVBQUFtc0IsRUFBQWxCLEdBQ0EzdEMsS0FBQTh2QixNQUFBcE4sRUFBQW9zQixFQUFBbkIsSUFFQXFCLEVBQUF0c0IsRUFBQWlyQixFQUVBZSxFQUFBbmdDLFFBQUEsU0FBQTA4QixFQUFBL3ZDLEVBQUFOLEdBQ0EsSUFBQXEwQyxFQUFBaEUsRUFBQTVpQyxPQUFBLEdBQUF1bUMsRUFBQSxHQUNBTSxJQUFBakUsRUFBQTVpQyxPQUFBLEdBQUF1bUMsRUFBQSxJQUNBTyxFQUFtQmxwQyxPQUFBeUwsRUFBQSxFQUFBekwsQ0FBUWdsQyxFQUFBNWlDLFFBQzNCK21DLEVBQW9CbnBDLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFTZ2xDLEVBQUE1aUMsUUFFN0IwbUMsRUFBQTFxQyxVQUNBNG1DLEVBQUF0akMsTUFDQXV3QixJQUNBK1MsRUFBQXRqQyxNQUFBOUosTUFBQSxFQUFBcTZCLEVBQUErUyxFQUFBdGpDLE1BQUE3SixPQUFBLEVBQUFvNkIsRUFDQStXLEVBQUFELEVBQUFFLEVBQUFGLEVBQ0FHLEVBQUFILEVBQUFJLEVBQUFKLEtBR0EsSUFBQUssRUFBc0JwcEMsT0FBQXlMLEVBQUEsRUFBQXpMLENBQVV1b0MsR0E2R2hDLE9BM0dBQyxFQUFBYSxlQUFBL2dDLFFBQUEsU0FBQWdoQyxFQUFBcjBDLEVBQUFOLEdBcUJBLElBQUEybEIsRUFBQWd2QixFQUFBaHZCLE9BQ0F2bEIsRUFBQXUwQyxFQUFBdjBDLE9BQ0E0RSxFQUFBMmdCLEVBQUEsTUFBQTFnQixFQUFBMGdCLEVBQUEsTUFDQWpnQixFQUFBaWdCLEVBQUEsTUFBQWhnQixFQUFBZ2dCLEVBQUEsTUFDQS9mLEVBQUErZixFQUFBLE1BQUE5ZixFQUFBOGYsRUFBQSxNQUNBaXZCLEdBQUF4MEMsRUFBQSxNQUFBcTBDLEVBQUEsSUFBQTdCLEVBQ0FpQyxJQUFBejBDLEVBQUEsTUFBQXEwQyxFQUFBLElBQUE3QixFQUNBa0MsR0FBQTEwQyxFQUFBLE1BQUFxMEMsRUFBQSxJQUFBN0IsRUFDQWozQixJQUFBdmIsRUFBQSxNQUFBcTBDLEVBQUEsSUFBQTdCLEVBQ0FtQyxHQUFBMzBDLEVBQUEsTUFBQXEwQyxFQUFBLElBQUE3QixFQUNBaDNCLElBQUF4YixFQUFBLE1BQUFxMEMsRUFBQSxJQUFBN0IsRUFLQW9DLEVBQUFod0MsRUFDQWl3QyxFQUFBaHdDLEVBQ0FELEVBQUEsRUFDQUMsRUFBQSxFQU1BLElBQUFpd0MsRUFBQSxDQUNBLENBTkF4dkMsR0FBQXN2QyxFQUNBcnZDLEdBQUFzdkMsRUFLQSxJQUFBSCxFQUFBRixHQUNBLENBTEFodkMsR0FBQW92QyxFQUNBbnZDLEdBQUFvdkMsRUFJQSxJQUFBRixFQUFBSCxHQUNBLEtBQUFsdkMsRUFBQUMsRUFBQWdXLEVBQUFrNUIsR0FDQSxLQUFBanZDLEVBQUFDLEVBQUErVixFQUFBaTVCLElBRUFNLEVBQXNCOXBDLE9BQUE4akMsRUFBQSxFQUFBOWpDLENBQWlCNnBDLEdBQ3ZDLEdBQUFDLEVBQUEsQ0FJQXZxQyxFQUFBK3lCLE9BQ0EveUIsRUFBQTJnQixZQUNBLElBQUFnb0IsR0FBQXFCLEVBQUFFLEVBQUFDLEdBQUEsRUFDQXZCLEdBQUFxQixFQUFBbDVCLEVBQUFDLEdBQUEsRUFDQXc1QixFQUFBOUIsRUFBQUMsRUFBQUMsRUFBQW9CLEVBQUFDLEdBQ0FRLEVBQUEvQixFQUFBQyxFQUFBQyxFQUFBc0IsRUFBQW41QixHQUNBMjVCLEVBQUFoQyxFQUFBQyxFQUFBQyxFQUFBdUIsRUFBQW41QixHQUVBaFIsRUFBQW9nQixPQUFBcXFCLEVBQUEsR0FBQUEsRUFBQSxJQUNBenFDLEVBQUFxZ0IsT0FBQW1xQixFQUFBLEdBQUFBLEVBQUEsSUFDQXhxQyxFQUFBcWdCLE9BQUFxcUIsRUFBQSxHQUFBQSxFQUFBLElBQ0ExcUMsRUFBQWlxQixPQUVBanFCLEVBQUFpQyxVQUNBc29DLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsR0FBQVAsRUFBQUMsR0FFQWpxQyxFQUFBZ0MsVUFBQW9uQyxFQUFBLEdBQUFnQixFQUNBaEIsRUFBQSxHQUFBaUIsR0FFQXJxQyxFQUFBdkcsTUFBQTB1QyxFQUFBanJCLEdBQ0FpckIsRUFBQWpyQixHQUVBbGQsRUFBQW5CLFVBQUEwcUMsRUFBQXJ4QyxPQUFBLEtBQ0E4SCxFQUFBdXFCLGFBR0E0ZSxJQUNBbnBDLEVBQUEreUIsT0FFQS95QixFQUFBcWtCLFlBQUEsUUFDQXJrQixFQUFBbWtCLFVBQUEsRUFFQThrQixFQUFBYSxlQUFBL2dDLFFBQUEsU0FBQWdoQyxFQUFBcjBDLEVBQUFOLEdBQ0EsSUFBQUksRUFBQXUwQyxFQUFBdjBDLE9BQ0F3MEMsR0FBQXgwQyxFQUFBLE1BQUFxMEMsRUFBQSxJQUFBN0IsRUFDQWlDLElBQUF6MEMsRUFBQSxNQUFBcTBDLEVBQUEsSUFBQTdCLEVBQ0FrQyxHQUFBMTBDLEVBQUEsTUFBQXEwQyxFQUFBLElBQUE3QixFQUNBajNCLElBQUF2YixFQUFBLE1BQUFxMEMsRUFBQSxJQUFBN0IsRUFDQW1DLEdBQUEzMEMsRUFBQSxNQUFBcTBDLEVBQUEsSUFBQTdCLEVBQ0FoM0IsSUFBQXhiLEVBQUEsTUFBQXEwQyxFQUFBLElBQUE3QixFQUVBaG9DLEVBQUEyZ0IsWUFDQTNnQixFQUFBb2dCLE9BQUE4cEIsRUFBQW41QixHQUNBL1EsRUFBQXFnQixPQUFBMnBCLEVBQUFDLEdBQ0FqcUMsRUFBQXFnQixPQUFBOHBCLEVBQUFuNUIsR0FDQWhSLEVBQUFzZ0IsWUFDQXRnQixFQUFBK2dCLFdBR0EvZ0IsRUFBQXVxQixXQUVBdnFCLEVBQUE5SCxPQ3pOQSxJQW1CSXl5QyxFQUFhLFNBQUE5QyxFQUFBQyxFQUFBa0IsRUFBQTRCLEVBQUFDLEdBTWpCeG5DLEtBQUF5bkMsWUFBQWpELEVBTUF4a0MsS0FBQTBuQyxZQUFBakQsRUFHQSxJQUFBa0QsRUFBQSxHQUNBQyxFQUFxQnhxQyxPQUFBeW5DLEVBQUEsRUFBQXpuQyxDQUFZNEMsS0FBQTBuQyxZQUFBMW5DLEtBQUF5bkMsYUFPakN6bkMsS0FBQTZuQyxjQUFBLFNBQUFDLEdBQ0EsSUFBQS85QixFQUFBKzlCLEVBQUEsT0FBQUEsRUFBQSxHQUlBLE9BSEFILEVBQUE1OUIsS0FDQTQ5QixFQUFBNTlCLEdBQUE2OUIsRUFBQUUsSUFFQUgsRUFBQTU5QixJQU9BL0osS0FBQStuQyxpQkFBQVIsRUFNQXZuQyxLQUFBZ29DLHVCQUFBUixJQU1BeG5DLEtBQUFpb0MsV0FBQSxHQU9Bam9DLEtBQUFrb0MsaUJBQUEsRUFNQWxvQyxLQUFBbW9DLGtCQUFBbm9DLEtBQUF5bkMsWUFBQXZULGNBQ0FxVCxLQUNBdm5DLEtBQUF5bkMsWUFBQW5rQyxhQUNPbEcsT0FBQXlMLEVBQUEsRUFBQXpMLENBQVFtcUMsSUFBcUJucUMsT0FBQXlMLEVBQUEsRUFBQXpMLENBQVE0QyxLQUFBeW5DLFlBQUFua0MsYUFNNUN0RCxLQUFBb29DLGtCQUFBcG9DLEtBQUF5bkMsWUFBQW5rQyxZQUNJbEcsT0FBQXlMLEVBQUEsRUFBQXpMLENBQVE0QyxLQUFBeW5DLFlBQUFua0MsYUFBQSxLQU1adEQsS0FBQXFvQyxrQkFBQXJvQyxLQUFBMG5DLFlBQUFwa0MsWUFDSWxHLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFRNEMsS0FBQTBuQyxZQUFBcGtDLGFBQUEsS0FFWixJQUFBZ2xDLEVBQTJCbHJDLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFVdW9DLEdBQ3JDNEMsRUFBNEJuckMsT0FBQXlMLEVBQUEsRUFBQXpMLENBQVd1b0MsR0FDdkM2QyxFQUErQnByQyxPQUFBeUwsRUFBQSxFQUFBekwsQ0FBY3VvQyxHQUM3QzhDLEVBQThCcnJDLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFhdW9DLEdBQzNDK0MsRUFBQTFvQyxLQUFBNm5DLGNBQUFTLEdBQ0FLLEVBQUEzb0MsS0FBQTZuQyxjQUFBVSxHQUNBSyxFQUFBNW9DLEtBQUE2bkMsY0FBQVcsR0FDQUssRUFBQTdvQyxLQUFBNm5DLGNBQUFZLEdBUUEsR0FOQXpvQyxLQUFBOG9DLFNBQ0FSLEVBQUFDLEVBQ0FDLEVBQUFDLEVBQ0FDLEVBQUFDLEVBQUFDLEVBQUFDLEVBOUdBLElBaUhBN29DLEtBQUFrb0MsZ0JBQUEsQ0FDQSxJQUFBYSxFQUFBcnBDLElBQ0FNLEtBQUFpb0MsV0FBQXZpQyxRQUFBLFNBQUFnaEMsRUFBQXIwQyxFQUFBTixHQUNBZzNDLEVBQUE1eEMsS0FBQXViLElBQUFxMkIsRUFDQXJDLEVBQUFodkIsT0FBQSxNQUFBZ3ZCLEVBQUFodkIsT0FBQSxNQUFBZ3ZCLEVBQUFodkIsT0FBQSxTQUtBMVgsS0FBQWlvQyxXQUFBdmlDLFFBQUEsU0FBQWdoQyxHQUNBLEdBQUF2dkMsS0FBQTJXLElBQUE0NEIsRUFBQWh2QixPQUFBLE1BQUFndkIsRUFBQWh2QixPQUFBLE1BQ0FndkIsRUFBQWh2QixPQUFBLE9BQUFxeEIsRUFBQS9vQyxLQUFBb29DLGtCQUFBLEdBQ0EsSUFBQVksRUFBQSxFQUFBdEMsRUFBQWh2QixPQUFBLE1BQUFndkIsRUFBQWh2QixPQUFBLE9BQ0EsQ0FBQWd2QixFQUFBaHZCLE9BQUEsTUFBQWd2QixFQUFBaHZCLE9BQUEsT0FDQSxDQUFBZ3ZCLEVBQUFodkIsT0FBQSxNQUFBZ3ZCLEVBQUFodkIsT0FBQSxRQUNBc3hCLEVBQUEsTUFBQUQsRUFBQS9vQyxLQUFBb29DLGtCQUFBLElBQ0FZLEVBQUEsT0FBQWhwQyxLQUFBb29DLG1CQUVBWSxFQUFBLE1BQUFELEVBQUEvb0MsS0FBQW9vQyxrQkFBQSxJQUNBWSxFQUFBLE9BQUFocEMsS0FBQW9vQyxtQkFFQVksRUFBQSxNQUFBRCxFQUFBL29DLEtBQUFvb0Msa0JBQUEsSUFDQVksRUFBQSxPQUFBaHBDLEtBQUFvb0MsbUJBTUEsSUFBQTE1QixFQUFBdlgsS0FBQXViLElBQ0FzMkIsRUFBQSxNQUFBQSxFQUFBLE1BQUFBLEVBQUEsT0FDQTd4QyxLQUFBMlcsSUFDQWs3QixFQUFBLE1BQUFBLEVBQUEsTUFBQUEsRUFBQSxPQUNBdDZCLEVBQUExTyxLQUFBb29DLGtCQUFBLElBQ0ExQixFQUFBaHZCLE9BQUFzeEIsS0FHSzd3QixLQUFBblksT0FHTDJuQyxFQUFBLElBYUFMLEVBQWFubkMsVUFBQThvQyxhQUFBLFNBQUFyM0MsRUFBQUMsRUFBQWkyQyxFQUFBb0IsRUFBQUMsRUFBQUMsR0FDYnBwQyxLQUFBaW9DLFdBQUF4akMsS0FBQSxDQUNBaVQsT0FBQSxDQUFBd3hCLEVBQUFDLEVBQUFDLEdBQ0FqM0MsT0FBQSxDQUFBUCxFQUFBQyxFQUFBaTJDLE1Bb0JBUixFQUFhbm5DLFVBQUEyb0MsU0FBQSxTQUFBbDNDLEVBQUFDLEVBQUFpMkMsRUFBQXR6QyxFQUFBMDBDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBRWIsSUFBQUMsRUFBeUJuc0MsT0FBQXlMLEVBQUEsRUFBQXpMLENBQWMsQ0FBQThyQyxFQUFBQyxFQUFBQyxFQUFBQyxJQUN2Q0csRUFBQXhwQyxLQUFBb29DLGtCQUNJaHJDLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFRbXNDLEdBQUF2cEMsS0FBQW9vQyxrQkFBQSxLQUNacUIsRUFBMkN6cEMsS0FBQSxrQkFJM0MwcEMsRUFBQTFwQyxLQUFBeW5DLFlBQUF2VCxZQUNBc1YsRUFBQSxJQUFBQSxFQUFBLEVBRUFHLEdBQUEsRUFFQSxHQUFBTCxFQUFBLEdBQ0EsR0FBQXRwQyxLQUFBMG5DLFlBQUFrQyxZQUFBNXBDLEtBQUFxb0Msa0JBQUEsQ0FDQSxJQUFBd0IsRUFBNkJ6c0MsT0FBQXlMLEVBQUEsRUFBQXpMLENBQWMsQ0FBQXhMLEVBQUFDLEVBQUFpMkMsRUFBQXR6QyxJQUUzQ20xQyxFQUQ0QnZzQyxPQUFBeUwsRUFBQSxFQUFBekwsQ0FBUXlzQyxHQUFBN3BDLEtBQUFxb0Msa0JBbE1wQyxLQW9NQXNCLEdBRUFELEdBQUExcEMsS0FBQXluQyxZQUFBbUMsWUFBQUosSUFDQUcsRUFBQUgsRUF2TUEsS0F3TUFHLEdBSUEsR0FBQUEsSUFBQTNwQyxLQUFBK25DLGtCQUNTM3FDLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFVbXNDLEVBQUF2cEMsS0FBQStuQyxrQkFEbkIsQ0FPQSxLQUFBNEIsR0FDQXZFLFNBQUE4RCxFQUFBLEtBQUE5RCxTQUFBOEQsRUFBQSxLQUNBOUQsU0FBQStELEVBQUEsS0FBQS9ELFNBQUErRCxFQUFBLEtBQ0EvRCxTQUFBZ0UsRUFBQSxLQUFBaEUsU0FBQWdFLEVBQUEsS0FDQWhFLFNBQUFpRSxFQUFBLEtBQUFqRSxTQUFBaUUsRUFBQSxNQUNBLEtBQUFDLEVBQUEsR0FHQSxPQUZBSyxHQUFBLEVBT0EsR0FBQUwsRUFBQSxHQUNBLElBQUFLLEVBQUEsQ0FDQSxJQUdBMXlDLEVBSEFKLEVBQUEsRUFBQWpGLEVBQUEsR0FBQWsyQyxFQUFBLE9BQUFsMkMsRUFBQSxHQUFBazJDLEVBQUEsT0FDQWdDLEVBQUE5cEMsS0FBQTZuQyxjQUFBaHhDLEdBR0EsR0FBQTZ5QyxFQUlBenlDLEdBRmFtRyxPQUFBOGpDLEVBQUEsRUFBQTlqQyxDQUFNOHJDLEVBQUEsR0FBQU8sR0FDTnJzQyxPQUFBOGpDLEVBQUEsRUFBQTlqQyxDQUFNZ3NDLEVBQUEsR0FBQUssSUFBQSxFQUVQcnNDLE9BQUE4akMsRUFBQSxFQUFBOWpDLENBQU0wc0MsRUFBQSxHQUFBTCxRQUVsQnh5QyxHQUFBaXlDLEVBQUEsR0FBQUUsRUFBQSxNQUFBVSxFQUFBLEdBRUEsSUFBQTV5QyxHQUFBZ3lDLEVBQUEsR0FBQUUsRUFBQSxNQUFBVSxFQUFBLEdBRUFILEVBREExeUMsSUFBQUMsSUFDQThJLEtBQUFnb0MsdUJBRUEsR0FBQTJCLEVBQUEsQ0FDQSxHQUFBeHlDLEtBQUE0eUMsSUFBQW40QyxFQUFBLEdBQUFrMkMsRUFBQSxLQUFBM3dDLEtBQUE0eUMsSUFBQW40QyxFQUFBLEdBQUFrMkMsRUFBQSxLQUVBLElBQUFrQyxFQUFBLEVBQUFuNEMsRUFBQSxHQUFBaTJDLEVBQUEsT0FBQWoyQyxFQUFBLEdBQUFpMkMsRUFBQSxPQUNBbUMsRUFBQWpxQyxLQUFBNm5DLGNBQUFtQyxHQUNBRSxFQUFBLEVBQUExMUMsRUFBQSxHQUFBNUMsRUFBQSxPQUFBNEMsRUFBQSxHQUFBNUMsRUFBQSxPQUNBdTRDLEVBQUFucUMsS0FBQTZuQyxjQUFBcUMsR0FFQWxxQyxLQUFBOG9DLFNBQ0FsM0MsRUFBQUMsRUFBQW00QyxFQUFBRSxFQUFBaEIsRUFBQUMsRUFBQWMsRUFBQUUsRUFBQWIsRUFBQSxHQUNBdHBDLEtBQUE4b0MsU0FDQW9CLEVBQUFGLEVBQUFsQyxFQUFBdHpDLEVBQUEyMUMsRUFBQUYsRUFBQWIsRUFBQUMsRUFBQUMsRUFBQSxPQUNPLENBRVAsSUFBQWMsRUFBQSxFQUFBeDRDLEVBQUEsR0FBQUMsRUFBQSxPQUFBRCxFQUFBLEdBQUFDLEVBQUEsT0FDQXc0QyxFQUFBcnFDLEtBQUE2bkMsY0FBQXVDLEdBQ0FFLEVBQUEsRUFBQXhDLEVBQUEsR0FBQXR6QyxFQUFBLE9BQUFzekMsRUFBQSxHQUFBdHpDLEVBQUEsT0FDQSsxQyxFQUFBdnFDLEtBQUE2bkMsY0FBQXlDLEdBRUF0cUMsS0FBQThvQyxTQUNBbDNDLEVBQUF3NEMsRUFBQUUsRUFBQTkxQyxFQUFBMDBDLEVBQUFtQixFQUFBRSxFQUFBbEIsRUFBQUMsRUFBQSxHQUNBdHBDLEtBQUE4b0MsU0FDQXNCLEVBQUF2NEMsRUFBQWkyQyxFQUFBd0MsRUFBQUQsRUFBQWxCLEVBQUFDLEVBQUFtQixFQUFBakIsRUFBQSxHQUVBLFFBSUEsR0FBQUksRUFBQSxDQUNBLElBQUExcEMsS0FBQW1vQyxrQkFDQSxPQUVBbm9DLEtBQUFrb0MsaUJBQUEsRUFHQWxvQyxLQUFBaXBDLGFBQUFyM0MsRUFBQWsyQyxFQUFBdHpDLEVBQUEwMEMsRUFBQUUsRUFBQUMsR0FDQXJwQyxLQUFBaXBDLGFBQUFyM0MsRUFBQUMsRUFBQWkyQyxFQUFBb0IsRUFBQUMsRUFBQUMsS0FRQTlCLEVBQWFubkMsVUFBQXFxQyxzQkFBQSxXQUNiLElBQUFockMsRUFBZXBDLE9BQUF5TCxFQUFBLEVBQUF6TCxHQVNmLE9BUEE0QyxLQUFBaW9DLFdBQUF2aUMsUUFBQSxTQUFBZ2hDLEVBQUFyMEMsRUFBQU4sR0FDQSxJQUFBcXdDLEVBQUFzRSxFQUFBaHZCLE9BQ0l0YSxPQUFBeUwsRUFBQSxFQUFBekwsQ0FBZ0JvQyxFQUFBNGlDLEVBQUEsSUFDaEJobEMsT0FBQXlMLEVBQUEsRUFBQXpMLENBQWdCb0MsRUFBQTRpQyxFQUFBLElBQ2hCaGxDLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFnQm9DLEVBQUE0aUMsRUFBQSxNQUdwQjVpQyxHQU1BOG5DLEVBQWFubkMsVUFBQXNtQyxhQUFBLFdBQ2IsT0FBQXptQyxLQUFBaW9DLFlBR2UsSUFBQXdDLEVBQUEsRUNqQ0FDLEVBM1JELFNBQUFqSSxHQUNkLFNBQUFrSSxFQUNBbkcsRUFDQW9HLEVBQ0FuRyxFQUNBb0csRUFDQWxkLEVBQ0FtZCxFQUNBanhCLEVBQ0F3VixFQUNBMGIsRUFDQUMsRUFDQWxGLEdBRUFyRCxFQUFBMWlDLEtBQUFDLEtBQUEydEIsRUFBK0JnTCxFQUFBLEVBQVNwZ0MsTUFNeEN5SCxLQUFBaXJDLGtCQUFBMXRDLElBQUF1b0MsS0FNQTlsQyxLQUFBZ2EsWUFBQUgsRUFNQTdaLEtBQUFrckMsUUFBQTdiLEVBTUFydkIsS0FBQXFsQixRQUFBLEtBTUFybEIsS0FBQW1yQyxnQkFBQVAsRUFNQTVxQyxLQUFBb3JDLGdCQUFBUCxFQU1BN3FDLEtBQUFxckMsa0JBQUFQLEdBQUFuZCxFQU1BM3RCLEtBQUFzckMsYUFBQSxHQU1BdHJDLEtBQUF1ckMscUJBQUEsS0FNQXZyQyxLQUFBd3JDLFNBQUEsRUFFQSxJQUFBN0YsRUFBQWtGLEVBQUEvYixtQkFBQTl1QixLQUFBcXJDLG1CQUNBSSxFQUFBenJDLEtBQUFvckMsZ0JBQUE5bkMsWUFDQWlrQyxFQUFBdm5DLEtBQUFtckMsZ0JBQUE3bkMsWUFFQW9vQyxFQUFBRCxFQUNNcnVDLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFldW9DLEVBQUE4RixHQUFBOUYsRUFFckIsR0FBZSxJQUFQdm9DLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFPc3VDLEdBQWYsQ0FPQSxJQUFBQyxFQUFBbkgsRUFBQWxoQyxZQUNBcW9DLElBSUFwRSxFQUhBQSxFQUcwQm5xQyxPQUFBeUwsRUFBQSxFQUFBekwsQ0FBZW1xQyxFQUFBb0UsR0FGekNBLEdBTUEsSUFBQWhILEVBQUFrRyxFQUFBaGxCLGNBQ0E3bEIsS0FBQXFyQyxrQkFBQSxJQUdBdkcsRUFBMkJQLEVBQzNCQyxFQUFBQyxFQUZ1QnJuQyxPQUFBeUwsRUFBQSxFQUFBekwsQ0FBU3N1QyxHQUVoQy9HLEdBRUEsSUFBQVMsU0FBQU4sT0FBQSxFQUdBOWtDLEtBQUFhLE1BQW1CODNCLEVBQUEsRUFBU2hnQyxVQUg1QixDQU9BLElBQUFpekMsT0FBQXJ1QyxJQUFBeXRDLEVBQ0FBLEVBQTJCYSxFQUFBLEVBVTNCLEdBSkE3ckMsS0FBQThyQyxlQUFBLElBQThCckIsRUFDOUJqRyxFQUFBQyxFQUFBaUgsRUFBQW5FLEVBQ0F6QyxFQUFBOEcsR0FFQSxJQUFBNXJDLEtBQUE4ckMsZUFBQXJGLGVBQUEvMEMsT0FBQSxDQU1Bc08sS0FBQXdyQyxTQUFBWixFQUFBcGUsa0JBQUFzWSxHQUNBLElBQUFJLEVBQUFsbEMsS0FBQThyQyxlQUFBdEIsd0JBYUEsR0FYQWpELElBQ0EvQyxFQUFBdFEsWUFDQWdSLEVBQUEsR0FBMEI5bkMsT0FBQThqQyxFQUFBLEVBQUE5akMsQ0FDMUI4bkMsRUFBQSxHQUFBcUMsRUFBQSxHQUFBQSxFQUFBLElBQ0FyQyxFQUFBLEdBQTBCOW5DLE9BQUE4akMsRUFBQSxFQUFBOWpDLENBQzFCOG5DLEVBQUEsR0FBQXFDLEVBQUEsR0FBQUEsRUFBQSxLQUVBckMsRUFBdUI5bkMsT0FBQXlMLEVBQUEsRUFBQXpMLENBQWU4bkMsRUFBQXFDLElBSTdCbnFDLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFPOG5DLEdBRVgsQ0FJTCxJQUhBLElBQUE2RyxFQUFBbkIsRUFBQWhlLDBCQUNBc1ksRUFBQWxsQyxLQUFBd3JDLFVBRUFRLEVBQUFELEVBQUFyOUIsS0FBdUNzOUIsR0FBQUQsRUFBQW45QixLQUEwQm85QixJQUNqRSxRQUFBQyxFQUFBRixFQUFBcDlCLEtBQXlDczlCLEdBQUFGLEVBQUFsOUIsS0FBMEJvOUIsSUFBQSxDQUNuRSxJQUFBemdCLEVBQUF1ZixFQUFBL3FDLEtBQUF3ckMsU0FBQVEsRUFBQUMsRUFBQXB5QixHQUNBMlIsR0FDQXhyQixLQUFBc3JDLGFBQUE3bUMsS0FBQSttQixHQUtBLElBQUF4ckIsS0FBQXNyQyxhQUFBNTVDLFNBQ0FzTyxLQUFBYSxNQUFxQjgzQixFQUFBLEVBQVNoZ0MsWUFmOUJxSCxLQUFBYSxNQUFtQjgzQixFQUFBLEVBQVNoZ0MsV0FuQjVCcUgsS0FBQWEsTUFBbUI4M0IsRUFBQSxFQUFTaGdDLFlBeEM1QnFILEtBQUFhLE1BQW1CODNCLEVBQUEsRUFBU2hnQyxNQWlNNUIsT0FsSEE4cEMsSUFBQWtJLEVBQUF6cUMsVUFBQXVpQyxHQUNBa0ksRUFBQXhxQyxVQUFBL0MsT0FBQWdELE9BQUFxaUMsS0FBQXRpQyxXQUNBd3FDLEVBQUF4cUMsVUFBQUUsWUFBQXNxQyxFQUtBQSxFQUFBeHFDLFVBQUFxNkIsZ0JBQUEsV0FDQXg2QixLQUFBYSxPQUFzQjgzQixFQUFBLEVBQVNuZ0MsU0FDL0J3SCxLQUFBa3NDLG1CQUVBekosRUFBQXRpQyxVQUFBcTZCLGdCQUFBejZCLEtBQUFDLE9BT0EycUMsRUFBQXhxQyxVQUFBNGQsU0FBQSxXQUNBLE9BQUEvZCxLQUFBcWxCLFNBTUFzbEIsRUFBQXhxQyxVQUFBZ3NDLFdBQUEsV0FDQSxJQUFBdEcsRUFBQSxHQVdBLEdBVkE3bEMsS0FBQXNyQyxhQUFBNWxDLFFBQUEsU0FBQThsQixFQUFBbjVCLEVBQUFOLEdBQ0F5NUIsS0FBQWhiLFlBQXFDbW9CLEVBQUEsRUFBU2xnQyxRQUM5Q290QyxFQUFBcGhDLEtBQUEsQ0FDQWpGLE9BQUFRLEtBQUFtckMsZ0JBQUFyYyxtQkFBQXRELEVBQUFtQyxXQUNBN3VCLE1BQUEwc0IsRUFBQXpOLGNBR0s1RixLQUFBblksT0FDTEEsS0FBQXNyQyxhQUFBNTVDLE9BQUEsRUFFQSxJQUFBbTBDLEVBQUFuMEMsT0FDQXNPLEtBQUFhLE1BQW1CODNCLEVBQUEsRUFBU2pnQyxVQUN2QixDQUNMLElBQUFpZ0IsRUFBQTNZLEtBQUFxckMsa0JBQUEsR0FDQWh2QyxFQUFBMkQsS0FBQW9yQyxnQkFBQWdCLFlBQUF6ekIsR0FDQTNqQixFQUFBLGlCQUFBcUgsTUFBQSxHQUNBcEgsRUFBQSxpQkFBQW9ILE1BQUEsR0FDQXNvQyxFQUFBM2tDLEtBQUFvckMsZ0JBQUF2bEIsY0FBQWxOLEdBQ0Ftc0IsRUFBQTlrQyxLQUFBbXJDLGdCQUFBdGxCLGNBQUE3bEIsS0FBQXdyQyxVQUVBN0YsRUFBQTNsQyxLQUFBb3JDLGdCQUFBdGMsbUJBQ0E5dUIsS0FBQXFyQyxtQkFDQXJyQyxLQUFBcWxCLFFBQXFCcWdCLEVBQWlCMXdDLEVBQUFDLEVBQUErSyxLQUFBZ2EsWUFDdEM4cUIsRUFBQTlrQyxLQUFBbXJDLGdCQUFBN25DLFlBQ0FxaEMsRUFBQWdCLEVBQUEzbEMsS0FBQThyQyxlQUFBakcsRUFDQTdsQyxLQUFBa3JDLFFBQUFsckMsS0FBQWlyQyxjQUVBanJDLEtBQUFhLE1BQW1CODNCLEVBQUEsRUFBU2xnQyxPQUU1QnVILEtBQUErQyxXQU1BNG5DLEVBQUF4cUMsVUFBQTJFLEtBQUEsV0FDQSxHQUFBOUUsS0FBQWEsT0FBc0I4M0IsRUFBQSxFQUFTcGdDLEtBQUEsQ0FDL0J5SCxLQUFBYSxNQUFtQjgzQixFQUFBLEVBQVNuZ0MsUUFDNUJ3SCxLQUFBK0MsVUFFQSxJQUFBc3BDLEVBQUEsRUFFQXJzQyxLQUFBdXJDLHFCQUFBLEdBQ0F2ckMsS0FBQXNyQyxhQUFBNWxDLFFBQUEsU0FBQThsQixFQUFBbjVCLEVBQUFOLEdBQ0EsSUFBQThPLEVBQUEycUIsRUFBQWhiLFdBQ0EsR0FBQTNQLEdBQXFCODNCLEVBQUEsRUFBU3BnQyxNQUFBc0ksR0FBa0I4M0IsRUFBQSxFQUFTbmdDLFFBQUEsQ0FDekQ2ekMsSUFFQSxJQUFBQyxFQUFnQ2x2QyxPQUFBdUcsRUFBQSxFQUFBdkcsQ0FBTW91QixFQUFPNW5CLEVBQUEsRUFBU0MsT0FDdEQsU0FBQXhKLEdBQ0EsSUFBQXdHLEVBQUEycUIsRUFBQWhiLFdBQ0EzUCxHQUEyQjgzQixFQUFBLEVBQVNsZ0MsUUFDcENvSSxHQUE2QjgzQixFQUFBLEVBQVNqZ0MsT0FDdENtSSxHQUE2QjgzQixFQUFBLEVBQVNoZ0MsUUFDdEJ5RSxPQUFBdUcsRUFBQSxFQUFBdkcsQ0FBYWt2QyxHQUU3QixNQURBRCxJQUVBcnNDLEtBQUFrc0MsbUJBQ0Fsc0MsS0FBQW1zQyxnQkFHYW5zQyxNQUNiQSxLQUFBdXJDLHFCQUFBOW1DLEtBQUE2bkMsS0FFT24wQixLQUFBblksT0FFUEEsS0FBQXNyQyxhQUFBNWxDLFFBQUEsU0FBQThsQixFQUFBbjVCLEVBQUFOLEdBQ0F5NUIsRUFBQWhiLFlBQ3FCbW9CLEVBQUEsRUFBU3BnQyxNQUM5Qml6QixFQUFBMW1CLFNBSUEsSUFBQXVuQyxHQUNBMU4sV0FBQTMrQixLQUFBbXNDLFdBQUFoMEIsS0FBQW5ZLE1BQUEsS0FRQTJxQyxFQUFBeHFDLFVBQUErckMsaUJBQUEsV0FDQWxzQyxLQUFBdXJDLHFCQUFBN2xDLFFBQXNDL0IsRUFBQSxHQUN0QzNELEtBQUF1ckMscUJBQUEsTUFHQVosRUF2UmMsQ0F3UlpuSSxtRUNqU0YrSixFQUFBLFFBbUNJQyxFQUFRLFNBQUE5ckMsR0FtQlosSUFBQStyQyxFQUNBLEdBZEF6c0MsS0FBQTBzQyxhQUFBbnZDLElBQUFtRCxFQUFBZ3NDLFFBQUFoc0MsRUFBQWdzQyxRQUFBLEVBTUExc0MsS0FBQTJzQyxhQUFBanNDLEVBQUFrc0MsWUFDRXh2QyxPQUFBc0UsRUFBQSxFQUFBdEUsQ0FBT0EsT0FBQXl2QyxFQUFBLEVBQUF6dkMsQ0FBUTRDLEtBQUEyc0MsYUFBQSxTQUFBLzZDLEVBQUFDLEdBQ2pCLE9BQUFBLEVBQUFELElBQ0csUUFLSDhPLEVBQUFvc0MsUUFDQSxRQUFBejZDLEVBQUEsRUFBQXFMLEVBQUFzQyxLQUFBMnNDLGFBQUFqN0MsT0FBQSxFQUFzRFcsRUFBQXFMLElBQVFyTCxFQUM5RCxHQUFBbzZDLEdBR0EsR0FBQXpzQyxLQUFBMnNDLGFBQUF0NkMsR0FBQTJOLEtBQUEyc0MsYUFBQXQ2QyxFQUFBLEtBQUFvNkMsRUFBQSxDQUNBQSxPQUFBbHZDLEVBQ0EsWUFKQWt2QyxFQUFBenNDLEtBQUEyc0MsYUFBQXQ2QyxHQUFBMk4sS0FBQTJzQyxhQUFBdDZDLEVBQUEsR0FlQTJOLEtBQUErc0MsWUFBQU4sRUFPQXpzQyxLQUFBZ3RDLFFBQUFodEMsS0FBQTJzQyxhQUFBajdDLE9BQUEsRUFNQXNPLEtBQUFpdEMsYUFBQTF2QyxJQUFBbUQsRUFBQXdzQyxPQUFBeHNDLEVBQUF3c0MsT0FBQSxLQU1BbHRDLEtBQUFtdEMsU0FBQSxVQUNBNXZDLElBQUFtRCxFQUFBb3NDLFVBQ0E5c0MsS0FBQW10QyxTQUFBenNDLEVBQUFvc0MsUUFDSTF2QyxPQUFBc0UsRUFBQSxFQUFBdEUsQ0FBTTRDLEtBQUFtdEMsU0FBQXo3QyxRQUFBc08sS0FBQTJzQyxhQUFBajdDLE9BQ1YsS0FHQSxJQUFBOE4sRUFBQWtCLEVBQUFsQixZQUVBakMsSUFBQWlDLEdBQ0FRLEtBQUFpdEMsU0FBQWp0QyxLQUFBbXRDLFdBQ0FudEMsS0FBQWl0QyxRQUFtQjd2QyxPQUFBeUwsRUFBQSxFQUFBekwsQ0FBVW9DLElBRzNCcEMsT0FBQXNFLEVBQUEsRUFBQXRFLEVBQ0Y0QyxLQUFBaXRDLFNBQUFqdEMsS0FBQW10QyxVQUFBbnRDLEtBQUFpdEMsVUFBQWp0QyxLQUFBbXRDLFNBQ0EsSUFNQW50QyxLQUFBb3RDLFdBQUEsVUFDQTd2QyxJQUFBbUQsRUFBQTJzQyxZQUNBcnRDLEtBQUFvdEMsV0FBQTFzQyxFQUFBMnNDLFVBQ0lqd0MsT0FBQXNFLEVBQUEsRUFBQXRFLENBQU00QyxLQUFBb3RDLFdBQUExN0MsUUFBQXNPLEtBQUEyc0MsYUFBQWo3QyxPQUNWLEtBT0FzTyxLQUFBc3RDLGVBQUEvdkMsSUFBQW1ELEVBQUE2c0MsU0FDQTdzQyxFQUFBNnNDLFNBQ0F2dEMsS0FBQW90QyxXQUF3QyxLQUFqQkksRUFBQSxFQUNyQnB3QyxPQUFBc0UsRUFBQSxFQUFBdEUsRUFDRjRDLEtBQUFzdEMsV0FBQXR0QyxLQUFBb3RDLFlBQ0FwdEMsS0FBQXN0QyxZQUFBdHRDLEtBQUFvdEMsV0FDQSxJQU1BcHRDLEtBQUFpYSxhQUFBMWMsSUFBQWlDLElBQUEsS0FPQVEsS0FBQXl0QyxnQkFBQSxLQU1BenRDLEtBQUEwdEMsU0FBQSxXQUVBbndDLElBQUFtRCxFQUFBaXRDLE1BQ0EzdEMsS0FBQXl0QyxnQkFBQS9zQyxFQUFBaXRDLE1BQUFqakMsSUFBQSxTQUFBck8sRUFBQXNjLEdBSUEsT0FIQSxJQUEwQnFYLEVBQUEsRUFDMUI3NEIsS0FBQXViLElBQUEsRUFBQXJXLEVBQUEsSUFBQWxGLEtBQUEyVyxJQUFBelIsRUFBQSxTQUNBbEYsS0FBQXViLElBQUEsRUFBQXJXLEVBQUEsSUFBQWxGLEtBQUEyVyxJQUFBelIsRUFBQSxXQUVLMkQsTUFDRlIsR0FDSFEsS0FBQTR0QyxxQkFBQXB1QyxJQWFBZ3RDLEVBQVFyc0MsVUFBQTB0QyxpQkFBQSxTQUFBcnVDLEVBQUFpNEIsRUFBQTF4QixHQUVSLElBREEsSUFBQTRtQixFQUFBM3NCLEtBQUE0c0IsMEJBQUFwdEIsRUFBQWk0QixHQUNBcGxDLEVBQUFzNkIsRUFBQWplLEtBQUFoUixFQUFBaXZCLEVBQUEvZCxLQUFtRHZjLEdBQUFxTCxJQUFTckwsRUFDNUQsUUFBQWtpQixFQUFBb1ksRUFBQWhlLEtBQUFveEIsRUFBQXBULEVBQUE5ZCxLQUFxRDBGLEdBQUF3ckIsSUFBU3hyQixFQUM5RHhPLEVBQUEsQ0FBQTB4QixFQUFBcGxDLEVBQUFraUIsS0FjQWk0QixFQUFRcnNDLFVBQUE4dEIsZ0NBQUEsU0FBQU4sRUFBQTVuQixFQUFBc0osRUFBQXkrQixFQUFBcm1DLEdBQ1IsSUFBQWtsQixFQUFBcjFCLEVBQUFDLEVBQ0F3MkMsRUFBQSxLQUNBcDFCLEVBQUFnVixFQUFBLEtBT0EsSUFOQSxJQUFBM3RCLEtBQUErc0MsYUFDQXoxQyxFQUFBcTJCLEVBQUEsR0FDQXAyQixFQUFBbzJCLEVBQUEsSUFFQW9nQixFQUFBL3RDLEtBQUE4dUIsbUJBQUFuQixFQUFBbG1CLEdBRUFrUixHQUFBM1ksS0FBQTBzQyxTQUFBLENBUUEsR0FQQSxJQUFBMXNDLEtBQUErc0MsYUFDQXoxQyxFQUFBSCxLQUFBNGhCLE1BQUF6aEIsRUFBQSxHQUNBQyxFQUFBSixLQUFBNGhCLE1BQUF4aEIsRUFBQSxHQUNBbzFCLEVBQWtCdnZCLE9BQUE0eUIsRUFBQSxFQUFBNXlCLENBQXVCOUYsSUFBQUMsSUFBQXUyQyxJQUV6Q25oQixFQUFBM3NCLEtBQUE0c0IsMEJBQUFtaEIsRUFBQXAxQixFQUFBbTFCLEdBRUEvbkMsRUFBQWhHLEtBQUFzUCxFQUFBc0osRUFBQWdVLEdBQ0EsV0FFQWhVLEVBRUEsVUFPQTZ6QixFQUFRcnNDLFVBQUFtRCxVQUFBLFdBQ1IsT0FBQXRELEtBQUFpYSxTQVFBdXlCLEVBQVFyc0MsVUFBQTZ0QyxXQUFBLFdBQ1IsT0FBQWh1QyxLQUFBZ3RDLFNBUUFSLEVBQVFyc0MsVUFBQXU0QixXQUFBLFdBQ1IsT0FBQTE0QixLQUFBMHNDLFNBU0FGLEVBQVFyc0MsVUFBQXNpQixVQUFBLFNBQUE5SixHQUNSLE9BQUEzWSxLQUFBaXRDLFFBQ0FqdEMsS0FBQWl0QyxRQUVBanRDLEtBQUFtdEMsU0FBQXgwQixJQVVBNnpCLEVBQVFyc0MsVUFBQTBsQixjQUFBLFNBQUFsTixHQUNSLE9BQUEzWSxLQUFBMnNDLGFBQUFoMEIsSUFRQTZ6QixFQUFRcnNDLFVBQUFvUSxlQUFBLFdBQ1IsT0FBQXZRLEtBQUEyc0MsY0FTQUgsRUFBUXJzQyxVQUFBNHRCLDJCQUFBLFNBQUFKLEVBQUFtZ0IsRUFBQXJtQyxHQUNSLEdBQUFrbUIsRUFBQSxHQUFBM3RCLEtBQUFndEMsUUFBQSxDQUNBLE9BQUFodEMsS0FBQStzQyxZQUFBLENBQ0EsSUFBQXIrQixFQUFBLEVBQUFpZixFQUFBLEdBQ0FoZixFQUFBLEVBQUFnZixFQUFBLEdBQ0EsT0FBYXZ3QixPQUFBNHlCLEVBQUEsRUFBQTV5QixDQUF1QnNSLElBQUEsRUFBQUMsSUFBQSxFQUFBbS9CLEdBRXBDLElBQUFDLEVBQUEvdEMsS0FBQTh1QixtQkFBQW5CLEVBQUFsbUIsR0FDQSxPQUFBekgsS0FBQTRzQiwwQkFDQW1oQixFQUFBcGdCLEVBQUEsS0FBQW1nQixHQUVBLGFBVUF0QixFQUFRcnNDLFVBQUEyc0IsbUJBQUEsU0FBQW5VLEVBQUFnVSxFQUFBbGxCLEdBQ1IsSUFBQXlsQyxFQUFBbHRDLEtBQUF5aUIsVUFBQTlKLEdBQ0FsWixFQUFBTyxLQUFBNmxCLGNBQUFsTixHQUNBNDBCLEVBQWlCbndDLE9BQUE2d0MsRUFBQSxFQUFBN3dDLENBQU00QyxLQUFBb3NDLFlBQUF6ekIsR0FBQTNZLEtBQUEwdEMsVUFDdkJoL0IsRUFBQXcrQixFQUFBLEdBQUF2Z0IsRUFBQWplLEtBQUE2K0IsRUFBQSxHQUFBOXRDLEVBQ0FtUCxFQUFBcytCLEVBQUEsSUFBQXZnQixFQUFBL2QsS0FBQSxHQUFBMitCLEVBQUEsR0FBQTl0QyxFQUNBa1AsRUFBQXUrQixFQUFBLEdBQUF2Z0IsRUFBQWhlLEtBQUE0K0IsRUFBQSxHQUFBOXRDLEVBQ0FvUCxFQUFBcStCLEVBQUEsSUFBQXZnQixFQUFBOWQsS0FBQSxHQUFBMCtCLEVBQUEsR0FBQTl0QyxFQUNBLE9BQVNyQyxPQUFBeUwsRUFBQSxFQUFBekwsQ0FBY3NSLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFwSCxJQVV2QitrQyxFQUFRcnNDLFVBQUF5c0IsMEJBQUEsU0FBQXB0QixFQUFBbVosRUFBQW0xQixHQUNSLElBQUFuZ0IsRUFBQTRlLEVBQ0F2c0MsS0FBQWt1Qyx1QkFBQTF1QyxFQUFBLEdBQUFBLEVBQUEsR0FBQW1aLEdBQUEsRUFBQWdWLEdBQ0EsSUFBQWpmLEVBQUFpZixFQUFBLEdBQ0FoZixFQUFBZ2YsRUFBQSxHQUVBLE9BREEzdEIsS0FBQWt1Qyx1QkFBQTF1QyxFQUFBLEdBQUFBLEVBQUEsR0FBQW1aLEdBQUEsRUFBQWdWLEdBQ1N2d0IsT0FBQTR5QixFQUFBLEVBQUE1eUIsQ0FBdUJzUixFQUFBaWYsRUFBQSxHQUFBaGYsRUFBQWdmLEVBQUEsR0FBQW1nQixJQU9oQ3RCLEVBQVFyc0MsVUFBQTA0QixtQkFBQSxTQUFBbEwsR0FDUixJQUFBdWYsRUFBQWx0QyxLQUFBeWlCLFVBQUFrTCxFQUFBLElBQ0FsdUIsRUFBQU8sS0FBQTZsQixjQUFBOEgsRUFBQSxJQUNBNGYsRUFBaUJud0MsT0FBQTZ3QyxFQUFBLEVBQUE3d0MsQ0FBTTRDLEtBQUFvc0MsWUFBQXplLEVBQUEsSUFBQTN0QixLQUFBMHRDLFVBQ3ZCLE9BQ0FSLEVBQUEsSUFBQXZmLEVBQUEsT0FBQTRmLEVBQUEsR0FBQTl0QyxFQUNBeXRDLEVBQUEsSUFBQXZmLEVBQUEsT0FBQTRmLEVBQUEsR0FBQTl0QyxJQVlBK3NDLEVBQVFyc0MsVUFBQTJ1QixtQkFBQSxTQUFBbkIsRUFBQWxtQixHQUNSLElBQUF5bEMsRUFBQWx0QyxLQUFBeWlCLFVBQUFrTCxFQUFBLElBQ0FsdUIsRUFBQU8sS0FBQTZsQixjQUFBOEgsRUFBQSxJQUNBNGYsRUFBaUJud0MsT0FBQTZ3QyxFQUFBLEVBQUE3d0MsQ0FBTTRDLEtBQUFvc0MsWUFBQXplLEVBQUEsSUFBQTN0QixLQUFBMHRDLFVBQ3ZCaC9CLEVBQUF3K0IsRUFBQSxHQUFBdmYsRUFBQSxHQUFBNGYsRUFBQSxHQUFBOXRDLEVBQ0FrUCxFQUFBdStCLEVBQUEsR0FBQXZmLEVBQUEsR0FBQTRmLEVBQUEsR0FBQTl0QyxFQUNBbVAsRUFBQUYsRUFBQTYrQixFQUFBLEdBQUE5dEMsRUFDQW9QLEVBQUFGLEVBQUE0K0IsRUFBQSxHQUFBOXRDLEVBQ0EsT0FBU3JDLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFjc1IsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQXBILElBY3ZCK2tDLEVBQVFyc0MsVUFBQWd1QyxrQ0FBQSxTQUFBMzNDLEVBQUFpSixFQUFBMGdDLEdBQ1IsT0FBQW5nQyxLQUFBb3VDLGdDQUNBNTNDLEVBQUEsR0FBQUEsRUFBQSxHQUFBaUosR0FBQSxFQUFBMGdDLElBZ0JBcU0sRUFBUXJzQyxVQUFBaXVDLGdDQUFBLFNBQUE5MkMsRUFBQUMsRUFBQWtJLEVBQUE0dUMsRUFBQWxPLEdBQ1IsSUFBQXhuQixFQUFBM1ksS0FBQXdzQixrQkFBQS9zQixHQUNBckosRUFBQXFKLEVBQUFPLEtBQUE2bEIsY0FBQWxOLEdBQ0F1MEIsRUFBQWx0QyxLQUFBeWlCLFVBQUE5SixHQUNBNDBCLEVBQWlCbndDLE9BQUE2d0MsRUFBQSxFQUFBN3dDLENBQU00QyxLQUFBb3NDLFlBQUF6ekIsR0FBQTNZLEtBQUEwdEMsVUFFdkJZLEVBQUFELEVBQUEsS0FDQUUsRUFBQUYsRUFBQSxLQUNBRyxFQUFBcjNDLEtBQUE0aEIsT0FBQXpoQixFQUFBNDFDLEVBQUEsSUFBQXp0QyxFQUFBNnVDLEdBQ0FHLEVBQUF0M0MsS0FBQTRoQixPQUFBeGhCLEVBQUEyMUMsRUFBQSxJQUFBenRDLEVBQUE4dUMsR0FDQUcsRUFBQXQ0QyxFQUFBbzRDLEVBQUFqQixFQUFBLEdBQ0FvQixFQUFBdjRDLEVBQUFxNEMsRUFBQWxCLEVBQUEsR0FVQSxPQVJBYyxHQUNBSyxFQUFBdjNDLEtBQUF5YSxLQUFBODhCLEdBQUEsRUFDQUMsRUFBQXgzQyxLQUFBeWEsS0FBQSs4QixHQUFBLElBRUFELEVBQUF2M0MsS0FBQTRoQixNQUFBMjFCLEdBQ0FDLEVBQUF4M0MsS0FBQTRoQixNQUFBNDFCLElBR1M1ZSxFQUF1QnBYLEVBQUErMUIsRUFBQUMsRUFBQXhPLElBa0JoQ3FNLEVBQVFyc0MsVUFBQSt0Qyx1QkFBQSxTQUFBNTJDLEVBQUFDLEVBQUFvaEIsRUFBQTAxQixFQUFBbE8sR0FDUixJQUFBK00sRUFBQWx0QyxLQUFBeWlCLFVBQUE5SixHQUNBbFosRUFBQU8sS0FBQTZsQixjQUFBbE4sR0FDQTQwQixFQUFpQm53QyxPQUFBNndDLEVBQUEsRUFBQTd3QyxDQUFNNEMsS0FBQW9zQyxZQUFBenpCLEdBQUEzWSxLQUFBMHRDLFVBRXZCWSxFQUFBRCxFQUFBLEtBQ0FFLEVBQUFGLEVBQUEsS0FDQUcsRUFBQXIzQyxLQUFBNGhCLE9BQUF6aEIsRUFBQTQxQyxFQUFBLElBQUF6dEMsRUFBQTZ1QyxHQUNBRyxFQUFBdDNDLEtBQUE0aEIsT0FBQXhoQixFQUFBMjFDLEVBQUEsSUFBQXp0QyxFQUFBOHVDLEdBQ0FHLEVBQUFGLEVBQUFqQixFQUFBLEdBQ0FvQixFQUFBRixFQUFBbEIsRUFBQSxHQVVBLE9BUkFjLEdBQ0FLLEVBQUF2M0MsS0FBQXlhLEtBQUE4OEIsR0FBQSxFQUNBQyxFQUFBeDNDLEtBQUF5YSxLQUFBKzhCLEdBQUEsSUFFQUQsRUFBQXYzQyxLQUFBNGhCLE1BQUEyMUIsR0FDQUMsRUFBQXgzQyxLQUFBNGhCLE1BQUE0MUIsSUFHUzVlLEVBQXVCcFgsRUFBQSsxQixFQUFBQyxFQUFBeE8sSUFXaENxTSxFQUFRcnNDLFVBQUF5dUMseUJBQUEsU0FBQXA0QyxFQUFBbWlCLEVBQUF3bkIsR0FDUixPQUFBbmdDLEtBQUFrdUMsdUJBQ0ExM0MsRUFBQSxHQUFBQSxFQUFBLEdBQUFtaUIsR0FBQSxFQUFBd25CLElBT0FxTSxFQUFRcnNDLFVBQUEwdUMsdUJBQUEsU0FBQWxoQixHQUNSLE9BQUEzdEIsS0FBQTJzQyxhQUFBaGYsRUFBQSxLQVdBNmUsRUFBUXJzQyxVQUFBaXNDLFlBQUEsU0FBQXp6QixHQUNSLE9BQUEzWSxLQUFBc3RDLFVBQ0F0dEMsS0FBQXN0QyxVQUVBdHRDLEtBQUFvdEMsV0FBQXowQixJQVFBNnpCLEVBQVFyc0MsVUFBQTBnQyxpQkFBQSxTQUFBbG9CLEdBQ1IsT0FBQTNZLEtBQUF5dEMsZ0JBR0F6dEMsS0FBQXl0QyxnQkFBQTkwQixHQUZBLE1BY0E2ekIsRUFBUXJzQyxVQUFBcXNCLGtCQUFBLFNBQUEvc0IsRUFBQXF2QyxHQUNSLElBQUFuMkIsRUFBVXZiLE9BQUF5dkMsRUFBQSxFQUFBenZDLENBQWlCNEMsS0FBQTJzQyxhQUFBbHRDLEVBQUFxdkMsR0FBQSxHQUMzQixPQUFTMXhDLE9BQUE4akMsRUFBQSxFQUFBOWpDLENBQUt1YixFQUFBM1ksS0FBQTBzQyxRQUFBMXNDLEtBQUFndEMsVUFPZFIsRUFBUXJzQyxVQUFBeXRDLHFCQUFBLFNBQUFwdUMsR0FHUixJQUZBLElBQUE5TixFQUFBc08sS0FBQTJzQyxhQUFBajdDLE9BQ0FxOUMsRUFBQSxJQUFBajhDLE1BQUFwQixHQUNBaW5CLEVBQUEzWSxLQUFBMHNDLFFBQTRCL3pCLEVBQUFqbkIsSUFBWWluQixFQUN4Q28yQixFQUFBcDJCLEdBQUEzWSxLQUFBNHNCLDBCQUFBcHRCLEVBQUFtWixHQUVBM1ksS0FBQXl0QyxnQkFBQXNCLEdBSWUsSUFBQUMsRUFBQSxFQ2xoQlIsU0FBQUMsRUFBQXJ1QyxHQUNQLElBQUEwckIsRUFBQTFyQixFQUFBc3VDLHFCQUtBLE9BSkE1aUIsSUFDQUEsRUFBQTZpQixFQUFBdnVDLEdBQ0FBLEVBQUF3dUMsbUJBQUE5aUIsSUFFQUEsRUFrRU8sU0FBQStpQixFQUFBNXVDLEdBRVAsSUFBQTZ1QyxFQUFBN3VDLEdBQUEsR0FFQWpCLEVBQUE4dkMsRUFBQTl2QyxRQUFvQ3BDLE9BQUF5bkMsRUFBQSxFQUFBem5DLENBQWEsYUFBQWtHLFlBR2pEaXNDLEVBQUEsQ0FDQS92QyxTQUNBa3RDLFFBQUE0QyxFQUFBNUMsUUFDQWEsU0FBQStCLEVBQUEvQixTQUNBWCxZQUFBNEMsRUFDQWh3QyxFQUNBOHZDLEVBQUF0QyxRQUNBc0MsRUFBQS9CLFdBR0EsV0FBYXlCLEVBQVFPLEdBYXJCLFNBQUFDLEVBQUFod0MsRUFBQWl3QyxFQUFBQyxHQWNBLElBYkEsSUFBQTFDLE9BQUF6dkMsSUFBQWt5QyxFQUNBQSxFQUFrQmpDLEVBQUEsRUFFbEJ2NEMsRUFBZW1JLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFTb0MsR0FDeEJ4SyxFQUFjb0ksT0FBQXlMLEVBQUEsRUFBQXpMLENBQVFvQyxHQUV0Qit0QyxFQUFpQm53QyxPQUFBNndDLEVBQUEsRUFBQTd3QyxNQUFNRyxJQUFBbXlDLEVBQ3ZCQSxFQUFtQmxDLEVBQUEsR0FDbkJtQyxFQUFBeDRDLEtBQUEyVyxJQUNBOVksRUFBQXU0QyxFQUFBLEdBQUF0NEMsRUFBQXM0QyxFQUFBLElBRUE3N0MsRUFBQXM3QyxFQUFBLEVBQ0FKLEVBQUEsSUFBQTk1QyxNQUFBcEIsR0FDQWluQixFQUFBLEVBQWlCQSxFQUFBam5CLElBQVlpbkIsRUFDN0JpMEIsRUFBQWowQixHQUFBZzNCLEVBQUF4NEMsS0FBQTRCLElBQUEsRUFBQTRmLEdBRUEsT0FBQWkwQixFQWFPLFNBQUF1QyxFQUFBdnVDLEVBQUE2dUMsRUFBQUMsRUFBQUUsR0FFUCxPQTlGTyxTQUFBcHdDLEVBQUFpd0MsRUFBQUMsRUFBQUUsR0FDUCxJQUFBQyxPQUFBdHlDLElBQUFxeUMsSUFBdURFLEVBQUEsRUFBTUMsU0FFN0RuRCxFQUFBNEMsRUFBQWh3QyxFQUFBaXdDLEVBQUFDLEdBRUEsV0FBYVYsRUFBUSxDQUNyQnh2QyxTQUNBMHRDLE9BQVk5dkMsT0FBQXlMLEVBQUEsRUFBQXpMLENBQVNvQyxFQUFBcXdDLEdBQ3JCakQsY0FDQVcsU0FBQW1DLElBcUZBTSxDQURBQyxFQUFBcnZDLEdBQ0E2dUMsRUFBQUMsRUFBQUUsR0FVTyxTQUFBSyxFQUFBcnZDLEdBRVAsSUFBQXBCLEdBREFvQixFQUFleEQsT0FBQXluQyxFQUFBLEVBQUF6bkMsQ0FBYXdELElBQzVCMEMsWUFDQSxJQUFBOUQsRUFBQSxDQUNBLElBQUEwd0MsRUFBQSxJQUFxQnJMLEVBQUEsRUFBZ0JzTCxFQUFBLEVBQUtDLFNBQUF4dkMsRUFBQW9rQyxtQkFDMUN4bEMsRUFBYXBDLE9BQUF5TCxFQUFBLEVBQUF6TCxFQUFjOHlDLFVBRTNCLE9BQUExd0MsRUNuSUEsSUFBSTZ3QyxFQUFVLFNBQUE5dkMsR0FDZCxTQUFBK3ZDLEVBQUE1dkMsR0FFQUgsRUFBQVIsS0FBQUMsS0FBQSxDQUNBVyxhQUFBRCxFQUFBQyxhQUNBc1Asd0JBQUF2UCxFQUFBdVAsd0JBQ0FyUCxXQUFBRixFQUFBRSxXQUNBQyxNQUFBSCxFQUFBRyxNQUNBRyxNQUFBTixFQUFBTSxRQU9BaEIsS0FBQXV3QyxhQUFBaHpDLElBQUFtRCxFQUFBOHZDLFFBQUE5dkMsRUFBQTh2QyxPQU1BeHdDLEtBQUF5d0MscUJBQUFsekMsSUFBQW1ELEVBQUFxc0IsZUFDQXJzQixFQUFBcXNCLGVBQUEsRUFNQS9zQixLQUFBc3NCLGNBQUEvdUIsSUFBQW1ELEVBQUE0ckIsU0FBQTVyQixFQUFBNHJCLFNBQUEsS0FNQXRzQixLQUFBMHdDLFVBQUEsSUFBeUJ2TSxFQUFTempDLEVBQUFpSixXQU1sQzNKLEtBQUEyd0MsUUFBQSxNQU1BM3dDLEtBQUEyb0IsS0FBQWpvQixFQUFBcUosS0FBQSxHQU1BL0osS0FBQTR3QyxZQUFBLENBQXdCdGhCLFdBQUE1dUIsRUFBQTR1QixZQTJOeEIsT0F2TkEvdUIsSUFBQSt2QyxFQUFBcHdDLFVBQUFLLEdBQ0ErdkMsRUFBQW53QyxVQUFBL0MsT0FBQWdELE9BQUFHLEtBQUFKLFdBQ0Ftd0MsRUFBQW53QyxVQUFBRSxZQUFBaXdDLEVBS0FBLEVBQUFud0MsVUFBQWtvQixlQUFBLFdBQ0EsT0FBQXJvQixLQUFBMHdDLFVBQUFyb0Isa0JBT0Fpb0IsRUFBQW53QyxVQUFBaTRCLFlBQUEsU0FBQXgzQixFQUFBc3VCLEdBQ0EsSUFBQXdoQixFQUFBMXdDLEtBQUE2d0MsMEJBQUFqd0MsR0FDQTh2QyxHQUNBQSxFQUFBdFksWUFBQWxKLElBYUFvaEIsRUFBQW53QyxVQUFBdTNCLGtCQUFBLFNBQUE5MkIsRUFBQStYLEVBQUFnVSxFQUFBNW1CLEdBQ0EsSUFBQTJxQyxFQUFBMXdDLEtBQUE2d0MsMEJBQUFqd0MsR0FDQSxJQUFBOHZDLEVBQ0EsU0FLQSxJQUZBLElBQ0FsbEIsRUFBQW9ELEVBQUFraUIsRUFEQTlpQixHQUFBLEVBRUExMkIsRUFBQXExQixFQUFBamUsS0FBZ0NwWCxHQUFBcTFCLEVBQUEvZCxPQUFxQnRYLEVBQ3JELFFBQUFDLEVBQUFvMUIsRUFBQWhlLEtBQWtDcFgsR0FBQW8xQixFQUFBOWQsT0FBcUJ0WCxFQUN2RHEzQixFQUF1QndSLEVBQVN6bkIsRUFBQXJoQixFQUFBQyxHQUNoQ3U1QyxHQUFBLEVBQ0FKLEVBQUFub0IsWUFBQXFHLEtBRUFraUIsR0FEQXRsQixFQUEwRGtsQixFQUFBdGtDLElBQUF3aUIsSUFDMURwZSxhQUF1Q21vQixFQUFBLEVBQVNsZ0MsVUFFaERxNEMsR0FBQSxJQUFBL3FDLEVBQUF5bEIsSUFHQXNsQixJQUNBOWlCLEdBQUEsR0FJQSxPQUFBQSxHQU9Bc2lCLEVBQUFud0MsVUFBQTB1Qix1QkFBQSxTQUFBanVCLEdBQ0EsVUFRQTB2QyxFQUFBbndDLFVBQUF5NEIsT0FBQSxXQUNBLE9BQUE1NEIsS0FBQTJvQixNQVFBMm5CLEVBQUFud0MsVUFBQTR3QyxPQUFBLFNBQUFobkMsR0FDQS9KLEtBQUEyb0IsT0FBQTVlLElBQ0EvSixLQUFBMm9CLEtBQUE1ZSxFQUNBL0osS0FBQStDLFlBUUF1dEMsRUFBQW53QyxVQUFBcXZCLFVBQUEsU0FBQTV1QixHQUNBLE9BQUFaLEtBQUF1d0MsU0FNQUQsRUFBQW53QyxVQUFBb1EsZUFBQSxXQUNBLE9BQUF2USxLQUFBc3NCLFNBQUEvYixrQkFZQSsvQixFQUFBbndDLFVBQUF5ckIsUUFBQSxTQUFBalQsRUFBQXJoQixFQUFBQyxFQUFBc2lCLEVBQUFqWixHQUNBLE9BQVd4RCxPQUFBNkYsRUFBQSxFQUFBN0YsSUFRWGt6QyxFQUFBbndDLFVBQUE2d0MsWUFBQSxXQUNBLE9BQUFoeEMsS0FBQXNzQixVQU9BZ2tCLEVBQUFud0MsVUFBQW9zQix5QkFBQSxTQUFBM3JCLEdBQ0EsT0FBQVosS0FBQXNzQixTQUdBdHNCLEtBQUFzc0IsU0FGYTJpQixFQUF3QnJ1QyxJQVdyQzB2QyxFQUFBbndDLFVBQUEwd0MsMEJBQUEsU0FBQWp3QyxHQUNBLElBQUFxd0MsRUFBQWp4QyxLQUFBc1EsZ0JBQ0EsT0FBQTJnQyxJQUFxQjd6QyxPQUFBeW5DLEVBQUEsRUFBQXpuQyxDQUFVNnpDLEVBQUFyd0MsR0FDL0IsS0FFQVosS0FBQTB3QyxXQVdBSixFQUFBbndDLFVBQUE2c0Isa0JBQUEsU0FBQW5ULEdBQ0EsT0FBQTdaLEtBQUF5d0MsaUJBU0FILEVBQUFud0MsVUFBQWd1QixpQkFBQSxTQUFBeFYsRUFBQWtCLEVBQUFqWixHQUNBLElBQUEwckIsRUFBQXRzQixLQUFBdXNCLHlCQUFBM3JCLEdBQ0Ftc0IsRUFBQS9zQixLQUFBZ3RCLGtCQUFBblQsR0FDQTB6QixFQUFtQm53QyxPQUFBNndDLEVBQUEsRUFBQTd3QyxDQUFNa3ZCLEVBQUE4ZixZQUFBenpCLEdBQUEzWSxLQUFBMndDLFNBQ3pCLFVBQUE1akIsRUFDQXdnQixFQUVhbndDLE9BQUE2d0MsRUFBQSxFQUFBN3dDLENBQVNtd0MsRUFBQXhnQixFQUFBL3NCLEtBQUEyd0MsVUFhdEJMLEVBQUFud0MsVUFBQSt3QywrQkFBQSxTQUFBdmpCLEVBQUF3akIsR0FDQSxJQUFBdndDLE9BQUFyRCxJQUFBNHpDLEVBQ0FBLEVBQUFueEMsS0FBQXNRLGdCQUNBZ2MsRUFBQXRzQixLQUFBdXNCLHlCQUFBM3JCLEdBSUEsT0FIQVosS0FBQXlRLFlBQUE3UCxFQUFBZ3BDLGFBQ0FqYyxFRDVQTyxTQUFjckIsRUFBQXFCLEVBQUEvc0IsR0FDckIsSUFBQStYLEVBQUFnVixFQUFBLEdBQ0E5MkIsRUFBQXkxQixFQUFBdU0sbUJBQUFsTCxHQUNBd0csRUFBQThiLEVBQUFydkMsR0FDQSxHQUFPeEQsT0FBQXlMLEVBQUEsRUFBQXpMLENBQWtCKzJCLEVBQUF0OUIsR0FNekIsT0FBQTgyQixFQUxBLElBQUF5RyxFQUFxQmgzQixPQUFBeUwsRUFBQSxFQUFBekwsQ0FBUSsyQixHQUM3QmlkLEVBQUFqNkMsS0FBQXlhLE1BQUF1aUIsRUFBQSxHQUFBdDlCLEVBQUEsSUFBQXU5QixHQUVBLE9BREF2OUIsRUFBQSxJQUFBdTlCLEVBQUFnZCxFQUNBOWtCLEVBQUFzaUIseUJBQUEvM0MsRUFBQThoQixHQ29Qa0IwNEIsQ0FBSy9rQixFQUFBcUIsRUFBQS9zQixJWHZMaEIsU0FBQStzQixFQUFBckIsR0FDUCxJQUFBM1QsRUFBQWdWLEVBQUEsR0FDQXIyQixFQUFBcTJCLEVBQUEsR0FDQXAyQixFQUFBbzJCLEVBQUEsR0FFQSxHQUFBckIsRUFBQW9NLGFBQUEvZixLQUFBMlQsRUFBQTBoQixhQUNBLFNBRUEsSUFDQXJoQixFQURBbnRCLEVBQUE4c0IsRUFBQWhwQixZQU9BLFFBRkFxcEIsRUFIQW50QixFQUdBOHNCLEVBQUFNLDBCQUFBcHRCLEVBQUFtWixHQUZBMlQsRUFBQXVVLGlCQUFBbG9CLEtBT0FnVSxFQUFBc0QsV0FBQTM0QixFQUFBQyxHV3VLVys1QyxDQUFnQjNqQixFQUFBckIsR0FBQXFCLEVBQUEsTUFNM0IyaUIsRUFBQW53QyxVQUFBdVEsUUFBQSxXQUNBMVEsS0FBQTB3QyxVQUFBcnpDLFFBQ0EyQyxLQUFBK0MsV0FXQXV0QyxFQUFBbndDLFVBQUEyNEIsUUFBQSxTQUFBbmdCLEVBQUFyaEIsRUFBQUMsRUFBQXFKLEtBRUEwdkMsRUEvUWMsQ0FnUlpwbkMsRUFBQSxHQVFLcW9DLEVBQUEsU0FBQTN4QyxHQUNQLFNBQUEyeEMsRUFBQTF4QyxFQUFBMnJCLEdBRUE1ckIsRUFBQUcsS0FBQUMsS0FBQUgsR0FPQUcsS0FBQXdyQixPQVFBLE9BSkE1ckIsSUFBQTJ4QyxFQUFBcnhDLFVBQUFOLEdBQ0EyeEMsRUFBQXB4QyxVQUFBL0MsT0FBQWdELE9BQUFSLEtBQUFPLFdBQ0FveEMsRUFBQXB4QyxVQUFBRSxZQUFBa3hDLEVBRUFBLEVBbEJPLENBbUJMM3hDLEVBQUEsR0FFYTR4QyxHQUFBLEVDM1VBQyxHQU9mLGdCQVBlQSxHQWVmLGNBZmVBLEdBc0JmLGdCQzZMZUMsR0F0TEosU0FBQXBCLEdBQ1gsU0FBQXFCLEVBQUFqeEMsR0FFQTR2QyxFQUFBdndDLEtBQUFDLEtBQUEsQ0FDQVcsYUFBQUQsRUFBQUMsYUFDQWdKLFVBQUFqSixFQUFBaUosVUFDQTZtQyxPQUFBOXZDLEVBQUE4dkMsT0FDQTV2QyxXQUFBRixFQUFBRSxXQUNBQyxNQUFBSCxFQUFBRyxNQUNBeXJCLFNBQUE1ckIsRUFBQTRyQixTQUNBUyxlQUFBcnNCLEVBQUFxc0IsZUFDQS9yQixNQUFBTixFQUFBTSxNQUNBc3VCLFdBQUE1dUIsRUFBQTR1QixXQUNBdmxCLElBQUFySixFQUFBcUosSUFDQWtHLHdCQUFBdlAsRUFBQXVQLDBCQU9BalEsS0FBQTR4QywwQkFBQWx4QyxFQUFBbXhDLGdCQU1BN3hDLEtBQUF1akMsaUJBQUE3aUMsRUFBQTZpQyxpQkFNQXZqQyxLQUFBNnhDLGdCQUFBbnhDLEVBQUFteEMsZ0JBQUFueEMsRUFBQW14QyxnQkFBQTE1QixLQUFBblksTUFBMEZtaEMsRUFNMUZuaEMsS0FBQXFoQyxLQUFBLEtBRUEzZ0MsRUFBQTJnQyxLQUNBcmhDLEtBQUE4eEMsUUFBQXB4QyxFQUFBMmdDLE1BQ0szZ0MsRUFBQWMsS0FDTHhCLEtBQUEreEMsT0FBQXJ4QyxFQUFBYyxLQUdBZCxFQUFBbXhDLGlCQUNBN3hDLEtBQUFneUMsbUJBQUF0eEMsRUFBQW14QyxnQkFBQTd4QyxLQUFBMm9CLE1BT0Ezb0IsS0FBQWl5QyxpQkFBQSxHQTJIQSxPQXZIQTNCLElBQUFxQixFQUFBenhDLFVBQUFvd0MsR0FDQXFCLEVBQUF4eEMsVUFBQS9DLE9BQUFnRCxPQUFBa3dDLEtBQUFud0MsV0FDQXd4QyxFQUFBeHhDLFVBQUFFLFlBQUFzeEMsRUFPQUEsRUFBQXh4QyxVQUFBK3hDLG9CQUFBLFdBQ0EsT0FBQWx5QyxLQUFBdWpDLGtCQVFBb08sRUFBQXh4QyxVQUFBZ3lDLG1CQUFBLFdBQ0EsT0FBQW55QyxLQUFBNnhDLGlCQVVBRixFQUFBeHhDLFVBQUFpeUMsUUFBQSxXQUNBLE9BQUFweUMsS0FBQXFoQyxNQVFBc1EsRUFBQXh4QyxVQUFBMjdCLGlCQUFBLFNBQUFoMEIsR0FDQSxJQUdBakksRUFIQTJyQixFQUF1RDFqQixFQUFBLE9BQ3ZEbUgsRUFBYzdSLE9BQUE2RixFQUFBLEVBQUE3RixDQUFNb3VCLEdBQ3BCQyxFQUFBRCxFQUFBaGIsV0FFQWliLEdBQXFCa04sRUFBQSxFQUFTbmdDLFNBQzlCd0gsS0FBQWl5QyxpQkFBQWhqQyxJQUFBLEVBQ0FwUCxFQUFhNHhDLElBQ1J4aUMsS0FBQWpQLEtBQUFpeUMsMEJBQ0xqeUMsS0FBQWl5QyxpQkFBQWhqQyxHQUNBcFAsRUFBQTRyQixHQUEwQmtOLEVBQUEsRUFBU2pnQyxNQUFTKzRDLEdBQzVDaG1CLEdBQXNCa04sRUFBQSxFQUFTbGdDLFFBQUFnekIsR0FBd0JrTixFQUFBLEVBQVMvL0IsTUFDdEQ2NEMsUUFBYWwwQyxHQUV2QkEsTUFBQXNDLEdBQ0FHLEtBQUF3RCxjQUFBLElBQTZCK3RDLEVBQWUxeEMsRUFBQTJyQixLQVM1Q21tQixFQUFBeHhDLFVBQUFreUMsb0JBQUEsU0FBQTlPLEdBQ0F2akMsS0FBQTB3QyxVQUFBcnpDLFFBQ0EyQyxLQUFBdWpDLG1CQUNBdmpDLEtBQUErQyxXQVNBNHVDLEVBQUF4eEMsVUFBQTZ4QyxtQkFBQSxTQUFBSCxFQUFBOW5DLEdBQ0EvSixLQUFBNnhDLGtCQUNBN3hDLEtBQUEwd0MsVUFBQXJNLDBCQUNBLElBQUF0NkIsRUFDQS9KLEtBQUErd0MsT0FBQWhuQyxHQUVBL0osS0FBQStDLFdBU0E0dUMsRUFBQXh4QyxVQUFBNHhDLE9BQUEsU0FBQXZ3QyxHQUNBLElBQUE2L0IsRUFBQXJoQyxLQUFBcWhDLEtBQTJCRCxFQUFTNS9CLEdBQ3BDeEIsS0FBQTh4QyxRQUFBelEsSUFRQXNRLEVBQUF4eEMsVUFBQTJ4QyxRQUFBLFNBQUF6USxHQUNBcmhDLEtBQUFxaEMsT0FDQSxJQUFBdDNCLEVBQUFzM0IsRUFBQTd6QixLQUFBLE1BQ0F4TixLQUFBNHhDLHlCQUNBNXhDLEtBQUFneUMsbUJBQThCbFIsRUFBbUJPLEVBQUFyaEMsS0FBQXNzQixVQUFBdmlCLEdBRWpEL0osS0FBQSt3QyxPQUFBaG5DLElBT0E0bkMsRUFBQXh4QyxVQUFBMjRCLFFBQUEsU0FBQW5nQixFQUFBcmhCLEVBQUFDLEdBQ0EsSUFBQXEzQixFQUF1QndSLEVBQVN6bkIsRUFBQXJoQixFQUFBQyxHQUNoQ3lJLEtBQUEwd0MsVUFBQW5vQixZQUFBcUcsSUFDQTV1QixLQUFBMHdDLFVBQUF0a0MsSUFBQXdpQixJQUlBK2lCLEVBbExXLENBbUxUSCxJQ3lMRixTQUFBYyxHQUFBQyxFQUFBblEsR0FDK0NtUSxFQUFBeDBCLFdBQUFxa0IsTUFHaEMsSUFBQW9RLEdBblZGLFNBQUFiLEdBQ2IsU0FBQWMsRUFBQS94QyxHQUVBaXhDLEVBQUE1eEMsS0FBQUMsS0FBQSxDQUNBVyxhQUFBRCxFQUFBQyxhQUNBZ0osVUFBQWpKLEVBQUFpSixVQUNBNm1DLE9BQUE5dkMsRUFBQTh2QyxPQUNBNXZDLFdBQUFGLEVBQUFFLFdBQ0FDLE1BQUFILEVBQUFHLE1BQ0F5ckIsU0FBQTVyQixFQUFBNHJCLFNBQ0FpWCxpQkFBQTdpQyxFQUFBNmlDLGlCQUNBN2lDLEVBQUE2aUMsaUJBQUErTyxHQUNBdmxCLGVBQUFyc0IsRUFBQXFzQixlQUNBOGtCLGdCQUFBbnhDLEVBQUFteEMsZ0JBQ0Fyd0MsSUFBQWQsRUFBQWMsSUFDQTYvQixLQUFBM2dDLEVBQUEyZ0MsS0FDQXJnQyxNQUFBTixFQUFBTSxNQUNBc3VCLFdBQUE1dUIsRUFBQTR1QixXQUNBdmxCLElBQUFySixFQUFBcUosSUFDQWtHLHdCQUFBdlAsRUFBQXVQLDBCQU9BalEsS0FBQXNqQyxpQkFDQS9sQyxJQUFBbUQsRUFBQTRpQyxZQUFBNWlDLEVBQUE0aUMsWUFBQSxLQU1BdGpDLEtBQUEweUMsZUFBQW4xQyxJQUFBbUQsRUFBQWd5QyxVQUNBaHlDLEVBQUFneUMsVUFBMEJ0UCxFQU0xQnBqQyxLQUFBMnlDLHVCQUFBLEdBTUEzeUMsS0FBQTR5QyxzQkFBQSxHQU1BNXlDLEtBQUE2eUMsNEJBQUFueUMsRUFBQW95QywyQkFNQTl5QyxLQUFBK3lDLDBCQUFBLEVBNlFBLE9BMVFBcEIsSUFBQWMsRUFBQXZ5QyxVQUFBeXhDLEdBQ0FjLEVBQUF0eUMsVUFBQS9DLE9BQUFnRCxPQUFBdXhDLEtBQUF4eEMsV0FDQXN5QyxFQUFBdHlDLFVBQUFFLFlBQUFveUMsRUFLQUEsRUFBQXR5QyxVQUFBa29CLGVBQUEsV0FDQSxJQUFTd2pCLEVBQUEsRUFDVCxPQUFBOEYsRUFBQXh4QyxVQUFBa29CLGVBQUF0b0IsS0FBQUMsTUFFQSxHQUFBQSxLQUFBMHdDLFVBQUFyb0IsaUJBQ0EsU0FFQSxRQUFBdGUsS0FBQS9KLEtBQUEyeUMsdUJBQ0EsR0FBQTN5QyxLQUFBMnlDLHVCQUFBNW9DLEdBQUFzZSxpQkFDQSxTQUlBLFVBTUFvcUIsRUFBQXR5QyxVQUFBaTRCLFlBQUEsU0FBQXgzQixFQUFBc3VCLEdBQ0EsR0FBUzJjLEVBQUEsRUFBVCxDQUlBLElBQUFtSCxFQUFBaHpDLEtBQUE2d0MsMEJBQUFqd0MsR0FHQSxRQUFBc0QsS0FEQWxFLEtBQUEwd0MsVUFBQXRZLFlBQUFwNEIsS0FBQTB3QyxXQUFBc0MsRUFBQTlqQixFQUFBLElBQ0FsdkIsS0FBQTJ5Qyx1QkFBQSxDQUNBLElBQUFqQyxFQUFBMXdDLEtBQUEyeUMsdUJBQUF6dUMsR0FDQXdzQyxFQUFBdFksWUFBQXNZLEdBQUFzQyxFQUFBOWpCLEVBQUEsVUFSQXlpQixFQUFBeHhDLFVBQUFpNEIsWUFBQXI0QixLQUFBQyxLQUFBWSxFQUFBc3VCLElBZUF1akIsRUFBQXR5QyxVQUFBMHVCLHVCQUFBLFNBQUFqdUIsR0FDQSxPQUFRaXJDLEVBQUEsR0FDUjdyQyxLQUFBc1EsaUJBQUExUCxJQUErQ3hELE9BQUF5bkMsRUFBQSxFQUFBem5DLENBQVU0QyxLQUFBc1EsZ0JBQUExUCxHQUN6RCxFQUVBWixLQUFBaXpDLGFBT0FSLEVBQUF0eUMsVUFBQTh5QyxVQUFBLFdBQ0EsVUFNQVIsRUFBQXR5QyxVQUFBcXZCLFVBQUEsU0FBQTV1QixHQUNBLFFBQVFpckMsRUFBQSxHQUNSN3JDLEtBQUFzUSxpQkFBQTFQLElBQStDeEQsT0FBQXluQyxFQUFBLEVBQUF6bkMsQ0FBVTRDLEtBQUFzUSxnQkFBQTFQLEtBR3pEK3dDLEVBQUF4eEMsVUFBQXF2QixVQUFBenZCLEtBQUFDLEtBQUFZLElBT0E2eEMsRUFBQXR5QyxVQUFBb3NCLHlCQUFBLFNBQUEzckIsR0FDQSxJQUFTaXJDLEVBQUEsRUFDVCxPQUFBOEYsRUFBQXh4QyxVQUFBb3NCLHlCQUFBeHNCLEtBQUFDLEtBQUFZLEdBRUEsSUFBQXF3QyxFQUFBanhDLEtBQUFzUSxnQkFDQSxJQUFBdFEsS0FBQXNzQixVQUFBMmtCLElBQXVDN3pDLE9BQUF5bkMsRUFBQSxFQUFBem5DLENBQVU2ekMsRUFBQXJ3QyxHQUU1QyxDQUNMLElBQUFzeUMsRUFBb0I5MUMsT0FBQTZGLEVBQUEsRUFBQTdGLENBQU13RCxHQUkxQixPQUhBc3lDLEtBQUFsekMsS0FBQTR5Qyx3QkFDQTV5QyxLQUFBNHlDLHNCQUFBTSxHQUE4Q2pFLEVBQXdCcnVDLElBR1JaLEtBQUE0eUMsc0JBQUFNLEdBUDlELE9BQUFsekMsS0FBQXNzQixVQWVBbW1CLEVBQUF0eUMsVUFBQTB3QywwQkFBQSxTQUFBandDLEdBQ0EsSUFBU2lyQyxFQUFBLEVBQ1QsT0FBQThGLEVBQUF4eEMsVUFBQTB3QywwQkFBQTl3QyxLQUFBQyxLQUFBWSxHQUVBLElBQUFxd0MsRUFBQWp4QyxLQUFBc1EsZ0JBQXdDLElBQUEyZ0MsR0FBa0I3ekMsT0FBQXluQyxFQUFBLEVBQUF6bkMsQ0FBVTZ6QyxFQUFBcndDLEdBQ3BFLE9BQUFaLEtBQUEwd0MsVUFFQSxJQUFBd0MsRUFBb0I5MUMsT0FBQTZGLEVBQUEsRUFBQTdGLENBQU13RCxHQUkxQixPQUhBc3lDLEtBQUFsekMsS0FBQTJ5Qyx5QkFDQTN5QyxLQUFBMnlDLHVCQUFBTyxHQUFBLElBQW1EL08sRUFBU25rQyxLQUFBMHdDLFVBQUExb0IsZ0JBRTVEaG9CLEtBQUEyeUMsdUJBQUFPLElBY0FULEVBQUF0eUMsVUFBQWd6QyxZQUFBLFNBQUF4NkIsRUFBQXJoQixFQUFBQyxFQUFBc2lCLEVBQUFqWixFQUFBbUosR0FDQSxJQUFBNGpCLEVBQUEsQ0FBQWhWLEVBQUFyaEIsRUFBQUMsR0FDQTY3QyxFQUFBcHpDLEtBQUFreEMsK0JBQ0F2akIsRUFBQS9zQixHQUNBeXlDLEVBQUFELEVBQ0FwekMsS0FBQTZ4QyxnQkFBQXVCLEVBQUF2NUIsRUFBQWpaLFFBQUFyRCxFQUNBaXVCLEVBQUEsSUFBQXhyQixLQUFBMHlDLFVBQ0Eva0IsT0FDQXB3QixJQUFBODFDLEVBQThCMWEsRUFBQSxFQUFTcGdDLEtBQVFvZ0MsRUFBQSxFQUFTaGdDLFdBQ3hENEUsSUFBQTgxQyxJQUFBLEdBQ0FyekMsS0FBQXNqQyxZQUNBdGpDLEtBQUF1akMsaUJBQ0F2akMsS0FBQTR3QyxhQUlBLE9BSEFwbEIsRUFBQXpoQixNQUNJM00sT0FBQXVHLEVBQUEsRUFBQXZHLENBQU1vdUIsRUFBTzVuQixFQUFBLEVBQVNDLE9BQzFCN0QsS0FBQTg3QixpQkFBQTk3QixNQUNBd3JCLEdBTUFpbkIsRUFBQXR5QyxVQUFBeXJCLFFBQUEsU0FBQWpULEVBQUFyaEIsRUFBQUMsRUFBQXNpQixFQUFBalosR0FDQSxJQUFBZzZCLEVBQStFNTZCLEtBQUFzUSxnQkFDL0UsR0FBU3U3QixFQUFBLEdBQ1RqUixHQUFBaDZCLElBQTRDeEQsT0FBQXluQyxFQUFBLEVBQUF6bkMsQ0FBVXc5QixFQUFBaDZCLEdBRWpELENBQ0wsSUFFQTRxQixFQUZBOWhCLEVBQUExSixLQUFBNndDLDBCQUFBandDLEdBQ0Erc0IsRUFBQSxDQUFBaFYsRUFBQXJoQixFQUFBQyxHQUVBcTNCLEVBQXlCZ0ssRUFBTWpMLEdBQy9CamtCLEVBQUE2ZSxZQUFBcUcsS0FDQXBELEVBQXdEOWhCLEVBQUEwQyxJQUFBd2lCLElBRXhELElBQUE3a0IsRUFBQS9KLEtBQUE0NEIsU0FDQSxHQUFBcE4sS0FBQXpoQixPQUNBLE9BQUF5aEIsRUFFQSxJQUFBb2YsRUFBQTVxQyxLQUFBdXNCLHlCQUFBcU8sR0FDQWlRLEVBQUE3cUMsS0FBQXVzQix5QkFBQTNyQixHQUNBa3FDLEVBQ0E5cUMsS0FBQWt4QywrQkFBQXZqQixFQUFBL3NCLEdBQ0EweUMsRUFBQSxJQUEwQjVJLEVBQzFCOVAsRUFBQWdRLEVBQ0FocUMsRUFBQWlxQyxFQUNBbGQsRUFBQW1kLEVBQUE5cUMsS0FBQWd0QixrQkFBQW5ULEdBQ0E3WixLQUFBaXpDLFlBQ0EsU0FBQXQ2QixFQUFBcmhCLEVBQUFDLEVBQUFzaUIsR0FDQSxPQUFBN1osS0FBQXV6QyxnQkFBQTU2QixFQUFBcmhCLEVBQUFDLEVBQUFzaUIsRUFBQStnQixJQUNXemlCLEtBQUFuWSxXQUFBNnlDLDRCQUNYN3lDLEtBQUEreUMsMEJBVUEsT0FUQU8sRUFBQXZwQyxNQUVBeWhCLEdBQ0E4bkIsRUFBQTVRLFlBQUFsWCxFQUNBOG5CLEVBQUF6USxzQkFDQW41QixFQUFBMGYsUUFBQXdGLEVBQUEwa0IsSUFFQTVwQyxFQUFBNkMsSUFBQXFpQixFQUFBMGtCLEdBRUFBLEVBbkNBLE9BQUF0ekMsS0FBQXV6QyxnQkFBQTU2QixFQUFBcmhCLEVBQUFDLEVBQUFzaUIsRUFBQStnQixHQUFBaDZCLElBaURBNnhDLEVBQUF0eUMsVUFBQW96QyxnQkFBQSxTQUFBNTZCLEVBQUFyaEIsRUFBQUMsRUFBQXNpQixFQUFBalosR0FDQSxJQUFBNHFCLEVBQUEsS0FDQW9ELEVBQXVCd1IsRUFBU3puQixFQUFBcmhCLEVBQUFDLEdBQ2hDd1MsRUFBQS9KLEtBQUE0NEIsU0FDQSxHQUFBNTRCLEtBQUEwd0MsVUFBQW5vQixZQUFBcUcsSUFLQSxJQURBcEQsRUFBQXhyQixLQUFBMHdDLFVBQUF0a0MsSUFBQXdpQixJQUNBN2tCLE9BQUEsQ0FJQSxJQUFBMjRCLEVBQUFsWCxFQUNBQSxFQUFBeHJCLEtBQUFtekMsWUFBQXg2QixFQUFBcmhCLEVBQUFDLEVBQUFzaUIsRUFBQWpaLEVBQUFtSixHQUdBMjRCLEVBQUFseUIsWUFBc0Ntb0IsRUFBQSxFQUFTcGdDLEtBRS9DaXpCLEVBQUFrWCwwQkFFQWxYLEVBQUFrWCxjQUVBbFgsRUFBQXFYLHNCQUNBN2lDLEtBQUEwd0MsVUFBQXRuQixRQUFBd0YsRUFBQXBELFNBbkJBQSxFQUFBeHJCLEtBQUFtekMsWUFBQXg2QixFQUFBcmhCLEVBQUFDLEVBQUFzaUIsRUFBQWpaLEVBQUFtSixHQUNBL0osS0FBQTB3QyxVQUFBbmtDLElBQUFxaUIsRUFBQXBELEdBcUJBLE9BQUFBLEdBUUFpbkIsRUFBQXR5QyxVQUFBcXpDLDJCQUFBLFNBQUFyZSxHQUNBLEdBQVMwVyxFQUFBLEdBQ1Q3ckMsS0FBQSt5QywwQkFBQTVkLEVBREEsQ0FLQSxRQUFBanhCLEtBREFsRSxLQUFBK3lDLHlCQUFBNWQsRUFDQW4xQixLQUFBMnlDLHVCQUNBM3lDLEtBQUEyeUMsdUJBQUF6dUMsR0FBQTdHLFFBRUEyQyxLQUFBK0MsWUFlQTB2QyxFQUFBdHlDLFVBQUFzekMseUJBQUEsU0FBQTd5QyxFQUFBOHlDLEdBQ0EsR0FBUTdILEVBQUEsRUFBMEIsQ0FDbEMsSUFBQThILEVBQWlCdjJDLE9BQUF5bkMsRUFBQSxFQUFBem5DLENBQWF3RCxHQUM5QixHQUFBK3lDLEVBQUEsQ0FDQSxJQUFBVCxFQUFzQjkxQyxPQUFBNkYsRUFBQSxFQUFBN0YsQ0FBTXUyQyxHQUM1QlQsS0FBQWx6QyxLQUFBNHlDLHdCQUNBNXlDLEtBQUE0eUMsc0JBQUFNLEdBQUFRLE1BTUFqQixFQXZVYSxDQXdVWGYsSUNsSGFrQyxHQXpMSCxTQUFBbkIsR0FDWixTQUFBb0IsRUFBQW56QyxHQUVBLElBQUFvekMsT0FBQXYyQyxJQUFBbUQsRUFBQW96QyxPQUFBcHpDLEVBQUFvekMsTUFFQXJCLEVBQUExeUMsS0FBQUMsS0FBQSxDQUNBMkosVUFBQWpKLEVBQUFpSixVQUNBMjVCLFlBQUEsWUFDQWtOLFFBQUEsRUFDQTV2QyxXQUFrQnhELE9BQUF5bkMsRUFBQSxFQUFBem5DLENBQWEsYUFDL0IwMUMsMkJBQUFweUMsRUFBQW95QywyQkFDQWp5QyxNQUFhQyxFQUFBLEVBQVd0SSxRQUN4QitxQyxpQkFBQTdpQyxFQUFBNmlDLGlCQUNBeFcsZUFBQSttQixFQUFBLElBQ0E5eUMsV0FBQXpELElBQUFtRCxFQUFBTSxPQUFBTixFQUFBTSxNQUNBc3VCLFdBQUE1dUIsRUFBQTR1QixhQU9BdHZCLEtBQUErekMsT0FBQUQsRUFPQTl6QyxLQUFBZzBDLGNBQUF6MkMsSUFBQW1ELEVBQUF1ekMsUUFBQXZ6QyxFQUFBdXpDLFFBQUEsUUFNQWowQyxLQUFBazBDLGNBQUEzMkMsSUFBQW1ELEVBQUFzc0MsUUFBQXRzQyxFQUFBc3NDLFNBQUEsRUFNQWh0QyxLQUFBbTBDLFFBQUF6ekMsRUFBQXFKLElBTUEvSixLQUFBbzBDLFlBQUExekMsRUFBQTJ6QyxXQU9JdlMsRUFMSix5REFDQTloQyxLQUFBbzBDLFlBQ0EsaURBQUFwMEMsS0FBQW0wQyxRQUNBLE1BQUFuMEMsS0FBQWcwQyxTQUVnQmgwQyxLQUFBczBDLDhCQUFBbjhCLEtBQUFuWSxXQUFBekMsRUFDaEIsU0ErSEEsT0EzSEFrMUMsSUFBQW9CLEVBQUEzekMsVUFBQXV5QyxHQUNBb0IsRUFBQTF6QyxVQUFBL0MsT0FBQWdELE9BQUFxeUMsS0FBQXR5QyxXQUNBMHpDLEVBQUExekMsVUFBQUUsWUFBQXd6QyxFQVFBQSxFQUFBMXpDLFVBQUFvMEMsVUFBQSxXQUNBLE9BQUF2MEMsS0FBQW0wQyxTQVNBTixFQUFBMXpDLFVBQUFxMEMsY0FBQSxXQUNBLE9BQUF4MEMsS0FBQW8wQyxhQU1BUCxFQUFBMXpDLFVBQUFtMEMsOEJBQUEsU0FBQUcsR0FDQSxRQUFBQSxFQUFBQyxZQUNBLE1BQUFELEVBQUFFLG1CQUNBLG9CQUFBRixFQUFBRywwQkFDQSxHQUFBSCxFQUFBSSxhQUFBbmpELFFBQ0EsR0FBQStpRCxFQUFBSSxhQUFBLEdBQUFDLFVBQUFwakQsT0FKQSxDQVNBLElBQUFxakQsRUFBQU4sRUFBQUksYUFBQSxHQUFBQyxVQUFBLEdBQ0E5SCxHQUFBLEdBQUFodEMsS0FBQWswQyxTQUFBYSxFQUFBQyxRQUFBaDFDLEtBQUFrMEMsU0FHQTEwQyxFQUFpQnl3QyxFQURqQmp3QyxLQUFBc1EsaUJBRUFsYSxFQUFBNEosS0FBQSt6QyxPQUFBLElBQ0F4RyxFQUFBd0gsRUFBQUUsWUFBQUYsRUFBQUcsWUFDQUgsRUFBQUUsV0FBQTcrQyxFQUNBLENBQUEyK0MsRUFBQUUsV0FBQTcrQyxFQUFBMitDLEVBQUFHLFlBQUE5K0MsR0FFQWsyQixFQUFtQitpQixFQUFTLENBQzVCN3ZDLFNBQ0FrdEMsUUFBQXFJLEVBQUFJLFFBQ0FuSSxVQUNBTyxhQUVBdnRDLEtBQUFzc0IsV0FFQSxJQUFBMm5CLEVBQUFqMEMsS0FBQWcwQyxTQUNBRixFQUFBOXpDLEtBQUErekMsT0E2QkEsR0E1QkEvekMsS0FBQTZ4QyxnQkFBMkI1USxFQUMzQjhULEVBQUFLLG1CQUFBMXFDLElBQUEsU0FBQTJxQyxHQUNBLElBQUFDLEVBQUEsUUFDQUMsRUFBQVIsRUFBQVEsU0FDQW5zQixRQUFBLGNBQStCaXNCLEdBQy9CanNCLFFBQUEsWUFBNkI2cUIsR0FDN0IsZ0JBT0F0bUIsRUFBQTlULEVBQUFqWixHQUNBLEdBQUErc0IsRUFFYSxDQUNDb0MsRUFBY3BDLEVBQUEsR0FBQUEsRUFBQSxJQUFBQSxFQUFBLEtBQUEybkIsR0FDNUIsSUFBQTl6QyxFQUFBK3pDLEVBSUEsT0FIQXpCLElBQ0F0eUMsR0FBQSx5QkFFQUEsRUFBQTRuQixRQUFBLFlmNUpPLFNBQUF1RSxHQUNQLElBR0F0N0IsRUFBQWt2QyxFQUhBNW9CLEVBQUFnVixFQUFBLEdBQ0E2bkIsRUFBQSxJQUFBMWlELE1BQUE2bEIsR0FDQTg4QixFQUFBLEdBQUE5OEIsRUFBQSxFQUVBLElBQUF0bUIsRUFBQSxFQUFhQSxFQUFBc21CLElBQU90bUIsRUFFcEJrdkMsRUFBQSxHQUNBNVQsRUFBQSxHQUFBOG5CLElBQ0FsVSxHQUFBLEdBRUE1VCxFQUFBLEdBQUE4bkIsSUFDQWxVLEdBQUEsR0FFQWlVLEVBQUFuakQsR0FBQXN2QyxPQUFBQyxhQUFBTCxHQUNBa1UsSUFBQSxFQUVBLE9BQUFELEVBQUFob0MsS0FBQSxJZTJJOENrb0MsQ0FBT0osU0FNckRQLEVBQUFZLGlCQUFBLENBQ0EsSUFBQS8yQyxFQUFzQnhCLE9BQUF5bkMsRUFBQSxFQUFBem5DLENBQ2RBLE9BQUF5bkMsRUFBQSxFQUFBem5DLENBQWEsYUFBQTRDLEtBQUFzUSxpQkFFckJ0USxLQUFBMlEsZ0JBQUEsU0FBQUcsR0FDQSxJQUFBblEsRUFBQSxHQUNBNm1CLEVBQUExVyxFQUFBMFcsVUFHQWlRLEVBRkF6M0IsS0FBQWd4QyxjQUNBN0Msa0NBQUEzbUIsRUFBQTN3QixPQUFBMndCLEVBQUEvbkIsWUFDQSxHQXNCQSxPQXJCQXMxQyxFQUFBWSxpQkFBQWpyQyxJQUFBLFNBQUFrckMsR0FHQSxJQUZBLElBQUFDLEdBQUEsRUFDQUMsRUFBQUYsRUFBQUUsY0FDQXpqRCxFQUFBLEVBQUFxTCxFQUFBbzRDLEVBQUFwa0QsT0FBb0RXLEVBQUFxTCxJQUFRckwsRUFBQSxDQUM1RCxJQUFBMGpELEVBQUFELEVBQUF6akQsR0FDQSxHQUFBb2xDLEdBQUFzZSxFQUFBWixTQUFBMWQsR0FBQXNlLEVBQUFmLFFBQUEsQ0FDQSxJQUFBOWxDLEVBQUE2bUMsRUFBQTdtQyxLQUNBOG1DLEVBQUEsQ0FBQTltQyxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLElBQ0ExUCxFQUEyQnBDLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFjNDRDLEVBQUFwM0MsR0FDekMsR0FBa0J4QixPQUFBeUwsRUFBQSxFQUFBekwsQ0FBVW9DLEVBQUFzUixFQUFBdFIsUUFBQSxDQUM1QnEyQyxHQUFBLEVBQ0EsUUFJQUEsR0FDQWwxQyxFQUFBOEQsS0FBQW14QyxFQUFBSyxlQUlBdDFDLEVBQUE4RCxLQXhQQSxnSEF5UEE5RCxHQUNPd1gsS0FBQW5ZLE9BR1BBLEtBQUE0USxTQUFrQjlQLEVBQUEsRUFBV0MsWUF2RjdCZixLQUFBNFEsU0FBb0I5UCxFQUFBLEVBQVdwSSxRQTBGL0JtN0MsRUF0TFksQ0F1TFZyQixZQzNLYTBELEdBekNSLFNBQUF6RCxHQUNQLFNBQUEwRCxFQUFBMTFDLEdBQ0EsSUFBQUMsRUFBQUQsR0FBQSxHQUNBRyxPQUFBckQsSUFBQW1ELEVBQUFFLFdBQ0FGLEVBQUFFLFdBQUEsWUFFQTByQixPQUFBL3VCLElBQUFtRCxFQUFBNHJCLFNBQUE1ckIsRUFBQTRyQixTQUNNK2lCLEVBQVMsQ0FDZjd2QyxPQUFnQnl3QyxFQUFvQnJ2QyxHQUNwQ29zQyxRQUFBdHNDLEVBQUFzc0MsUUFDQU4sUUFBQWhzQyxFQUFBZ3NDLFFBQ0FhLFNBQUE3c0MsRUFBQTZzQyxXQUdBa0YsRUFBQTF5QyxLQUFBQyxLQUFBLENBQ0FXLGFBQUFELEVBQUFDLGFBQ0FnSixVQUFBakosRUFBQWlKLFVBQ0EyNUIsWUFBQTVpQyxFQUFBNGlDLFlBQ0FrTixPQUFBOXZDLEVBQUE4dkMsT0FDQTV2QyxhQUNBa3lDLDJCQUFBcHlDLEVBQUFveUMsMkJBQ0F4bUIsV0FDQWlYLGlCQUFBN2lDLEVBQUE2aUMsaUJBQ0F4VyxlQUFBcnNCLEVBQUFxc0IsZUFDQThrQixnQkFBQW54QyxFQUFBbXhDLGdCQUNBcndDLElBQUFkLEVBQUFjLElBQ0E2L0IsS0FBQTNnQyxFQUFBMmdDLEtBQ0FyZ0MsV0FBQXpELElBQUFtRCxFQUFBTSxPQUFBTixFQUFBTSxNQUNBc3VCLFdBQUE1dUIsRUFBQTR1QixXQUNBcmYsd0JBQUF2UCxFQUFBdVAsMEJBU0EsT0FKQXdpQyxJQUFBMEQsRUFBQWoyQyxVQUFBdXlDLEdBQ0EwRCxFQUFBaDJDLFVBQUEvQyxPQUFBZ0QsT0FBQXF5QyxLQUFBdHlDLFdBQ0FnMkMsRUFBQWgyQyxVQUFBRSxZQUFBODFDLEVBRUFBLEVBdENPLENBdUNMM0QsSUN3RmE0RCxHQXBKSixTQUFBRCxHQUNYLFNBQUFFLEVBQUEzMUMsR0FDQXkxQyxFQUFBcDJDLEtBQUFDLEtBQUEsQ0FDQVcsYUFBQUQsRUFBQUMsYUFDQWdKLFVBQUFqSixFQUFBaUosVUFDQTI1QixZQUFBNWlDLEVBQUE0aUMsWUFDQTBKLGFBQUF6dkMsSUFBQW1ELEVBQUFzc0MsUUFBQXRzQyxFQUFBc3NDLFFBQUEsR0FDQU4sUUFBQWhzQyxFQUFBZ3NDLFFBQ0E5ckMsV0FBQUYsRUFBQUUsV0FDQUksTUFBQU4sRUFBQU0sUUFPQWhCLEtBQUFzMkMsU0FBQTUxQyxFQUFBNjFDLFFBTUF2MkMsS0FBQXcyQyxPQUFBOTFDLEVBQUFnSyxLQUFBLEdBTUExSyxLQUFBeTJDLFFBQUEvMUMsRUFBQWc5QixRQUFBLEdBTUExOUIsS0FBQTAyQyxlQUFBLEdBRUExMkMsS0FBQTIyQyxpQkE0R0EsT0F6R0FSLElBQUFFLEVBQUFuMkMsVUFBQWkyQyxHQUNBRSxFQUFBbDJDLFVBQUEvQyxPQUFBZ0QsT0FBQSsxQyxLQUFBaDJDLFdBQ0FrMkMsRUFBQWwyQyxVQUFBRSxZQUFBZzJDLEVBT0FBLEVBQUFsMkMsVUFBQXkyQyxVQUFBLFdBQ0EsT0FBQTUyQyxLQUFBeTJDLFNBU0FKLEVBQUFsMkMsVUFBQTAyQyxhQUFBLFNBQUFuWixHQUNJdGdDLE9BQUFwTCxHQUFBLEVBQUFvTCxDQUFNNEMsS0FBQXkyQyxRQUFBL1ksR0FDVjE5QixLQUFBMjJDLGtCQVVBTixFQUFBbDJDLFVBQUEyMkMsVUFBQSxTQUFBcFosR0FDQTE5QixLQUFBeTJDLFFBQUEvWSxHQUFBLEdBQ0ExOUIsS0FBQTIyQyxrQkFPQU4sRUFBQWwyQyxVQUFBdzJDLGVBQUEsV0FDQSxJQUFBSSxFQUFBbGdDLEtBQUFtZ0MsVUFBQWgzQyxLQUFBeTJDLFNBQ0EsR0FBQXoyQyxLQUFBMDJDLGVBQUFLLEdBQ0EvMkMsS0FBQWkzQyxlQUFBajNDLEtBQUEwMkMsZUFBQUssUUFEQSxDQUlBLElBQUFHLEVBQUEsV0FBQWwzQyxLQUFBczJDLFNBQUEsd0JBRUF0MkMsS0FBQXcyQyxTQUNBVSxHQUFBLFVBQUFsM0MsS0FBQXcyQyxRQUdBLElBQUFXLEVBQUEsSUFBQS8vQixlQUNBKy9CLEVBQUEvWSxpQkFBQSxPQUFBcCtCLEtBQUFvM0Msb0JBQUFqL0IsS0FBQW5ZLEtBQUErMkMsSUFDQUksRUFBQS9ZLGlCQUFBLFFBQUFwK0IsS0FBQXEzQyxpQkFBQWwvQixLQUFBblksT0FDQW0zQyxFQUFBOS9CLEtBQUEsT0FBQTYvQixHQUNBQyxFQUFBRyxpQkFBQSxtQ0FDQUgsRUFBQTkrQixLQUFBeEIsS0FBQW1nQyxVQUFBaDNDLEtBQUF5MkMsWUFVQUosRUFBQWwyQyxVQUFBaTNDLG9CQUFBLFNBQUFMLEVBQUFqdkMsR0FDQSxJQUFBcXZDLEVBQTJDcnZDLEVBQUEsT0FFM0MsSUFBQXF2QyxFQUFBMS9CLFFBQUEwL0IsRUFBQTEvQixRQUFBLEtBQUEwL0IsRUFBQTEvQixPQUFBLEtBQ0EsSUFBQWc5QixFQUNBLElBQ0FBLEVBQStDNTlCLEtBQUEwZ0MsTUFBQUosRUFBQXgvQixjQUN4QyxNQUFBOE4sR0FFUCxZQURBemxCLEtBQUE0USxTQUFzQjlQLEVBQUEsRUFBV3BJLE9BR2pDc0gsS0FBQWkzQyxlQUFBeEMsR0FDQXowQyxLQUFBMDJDLGVBQUFLLEdBQUF0QyxFQUNBejBDLEtBQUE0USxTQUFvQjlQLEVBQUEsRUFBV0MsWUFFL0JmLEtBQUE0USxTQUFvQjlQLEVBQUEsRUFBV3BJLFFBUS9CMjlDLEVBQUFsMkMsVUFBQWszQyxpQkFBQSxTQUFBdnZDLEdBQ0E5SCxLQUFBNFEsU0FBa0I5UCxFQUFBLEVBQVdwSSxRQVE3QjI5QyxFQUFBbDJDLFVBQUE4MkMsZUFBQSxTQUFBcmtELEdBQ0EsSUFBQTRrRCxFQUFBLFdBQUE1a0QsRUFBQTZrRCxRQUFBQyxNQUFBLElBQUExM0MsS0FBQXMyQyxTQUNBLGVBQUExakQsRUFBQStrRCxhQUFBLG1CQUNBMzNDLEtBQUEreEMsT0FBQXlGLElBR0FuQixFQWhKVyxDQWlKVEgsaURDeUJhMEIsR0ExS0osU0FBQXAzQyxHQUNYLFNBQUFxM0MsRUFBQW4zQyxHQUNBRixFQUFBVCxLQUFBQyxLQUFBLENBQ0FXLGFBQUFELEVBQUFDLGFBQ0FLLE1BQUFOLEVBQUFNLFFBT0FoQixLQUFBUCxnQkFBQWxDLEVBTUF5QyxLQUFBMUosY0FBQWlILElBQUFtRCxFQUFBcEssU0FBQW9LLEVBQUFwSyxTQUFBLEdBTUEwSixLQUFBK0IsU0FBQSxHQU9BL0IsS0FBQTgzQyxpQkFBQXAzQyxFQUFBbzNDLGtCQUFBLFNBQUE3M0MsR0FDQSxJQUFBbUQsRUFBc0NuRCxFQUFBb0QsY0FHdEMsT0FGTWpHLE9BQUFzRSxFQUFBLEVBQUF0RSxDQUFNZ0csRUFBQWtVLFdBQXVCeWdDLEdBQUEsRUFBWTU1QixNQUMvQyxJQUNBL2EsR0FPQXBELEtBQUEwWCxPQUFBaFgsRUFBQWdYLE9BRUl0YSxPQUFBdUcsRUFBQSxFQUFBdkcsQ0FBTTRDLEtBQUEwWCxPQUFjOVQsRUFBQSxFQUFTQyxPQUFBN0QsS0FBQTBRLFFBQUExUSxNQTJIakMsT0F4SEFRLElBQUFxM0MsRUFBQTMzQyxVQUFBTSxHQUNBcTNDLEVBQUExM0MsVUFBQS9DLE9BQUFnRCxPQUFBSSxLQUFBTCxXQUNBMDNDLEVBQUExM0MsVUFBQUUsWUFBQXczQyxFQU9BQSxFQUFBMTNDLFVBQUE2M0MsWUFBQSxXQUNBLE9BQUFoNEMsS0FBQTFKLFVBUUF1aEQsRUFBQTEzQyxVQUFBMHJCLFVBQUEsV0FDQSxPQUFBN3JCLEtBQUEwWCxRQU1BbWdDLEVBQUExM0MsVUFBQWtJLGFBQUEsU0FBQTdJLEVBQUFDLEVBQUFtQixHQUNBWixLQUFBMFgsT0FBQXJQLGFBQUE3SSxFQUFBQyxFQUFBbUIsR0FDQW5CLElBQUFPLEtBQUFQLGFBQ0FPLEtBQUEzQyxRQUNBMkMsS0FBQVAsYUFDQU8sS0FBQWk0QyxVQUNBajRDLEtBQUFxRSxZQUFBckUsS0FBQStCLFlBU0E4MUMsRUFBQTEzQyxVQUFBKzNDLFlBQUEsU0FBQTVoRCxHQUNBMEosS0FBQTFKLFdBQ0EwSixLQUFBMFEsV0FPQW1uQyxFQUFBMTNDLFVBQUF1USxRQUFBLFdBQ0ExUSxLQUFBM0MsUUFDQTJDLEtBQUFpNEMsVUFDQWo0QyxLQUFBcUUsWUFBQXJFLEtBQUErQixVQUNBdkIsRUFBQUwsVUFBQXVRLFFBQUEzUSxLQUFBQyxPQU1BNjNDLEVBQUExM0MsVUFBQTgzQyxRQUFBLFdBQ0EsUUFBQTE2QyxJQUFBeUMsS0FBQVAsV0FBQSxDQUdBTyxLQUFBK0IsU0FBQXJRLE9BQUEsRUFVQSxJQVRBLElBQUE4TixFQUFpQnBDLE9BQUF5TCxFQUFBLEVBQUF6TCxHQUNqQis2QyxFQUFBbjRDLEtBQUExSixTQUFBMEosS0FBQVAsV0FDQXNDLEVBQUEvQixLQUFBMFgsT0FBQWxSLGNBS0E0eEMsRUFBQSxHQUVBL2xELEVBQUEsRUFBQXFMLEVBQUFxRSxFQUFBclEsT0FBeUNXLEVBQUFxTCxFQUFRckwsSUFBQSxDQUNqRCxJQUFBNE4sRUFBQThCLEVBQUExUCxHQUNBLEtBQVkrSyxPQUFBNkYsRUFBQSxFQUFBN0YsQ0FBTTZDLEtBQUFtNEMsR0FBQSxDQUNsQixJQUFBaDFDLEVBQUFwRCxLQUFBODNDLGlCQUFBNzNDLEdBQ0EsR0FBQW1ELEVBQUEsQ0FDQSxJQUFBaTFDLEVBQUFqMUMsRUFBQWsxQyxpQkFDVWw3QyxPQUFBeUwsRUFBQSxFQUFBekwsQ0FBNEJpN0MsRUFBQTc0QyxHQUM1QnBDLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFNb0MsRUFBQTI0QyxFQUFBMzRDLEdBRWhCLElBQUErNEMsRUFBQXY0QyxLQUFBMFgsT0FBQTdRLG9CQUFBckgsR0FDQSs0QyxJQUFBbHhDLE9BQUEsU0FBQW14QyxHQUNBLElBQUF2cEMsRUFBc0I3UixPQUFBNkYsRUFBQSxFQUFBN0YsQ0FBTW83QyxHQUM1QixRQUFBdnBDLEtBQUFtcEMsS0FDQUEsRUFBQW5wQyxJQUFBLEdBQ0EsS0FLQWpQLEtBQUErQixTQUFBMEMsS0FBQXpFLEtBQUF5NEMsY0FBQUYsU0FXQVYsRUFBQTEzQyxVQUFBczRDLGNBQUEsU0FBQTEyQyxHQUVBLElBREEsSUFBQTIyQyxFQUFBLE1BQ0FybUQsRUFBQTBQLEVBQUFyUSxPQUFBLEVBQXFDVyxHQUFBLElBQVFBLEVBQUEsQ0FDN0MsSUFBQStRLEVBQUFwRCxLQUFBODNDLGlCQUFBLzFDLEVBQUExUCxJQUNBK1EsRUFDUWhHLE9BQUF1N0MsR0FBQSxFQUFBdjdDLENBQWFzN0MsRUFBQXQxQyxFQUFBazFDLGtCQUVyQnYyQyxFQUFBOU8sT0FBQVosRUFBQSxHQUdJK0ssT0FBQXU3QyxHQUFBLEVBQUF2N0MsQ0FBZXM3QyxFQUFBLEVBQUEzMkMsRUFBQXJRLFFBRW5CLElBQUF1bUQsRUFBQSxJQUFzQmh0QyxHQUFBLFFBQU8sSUFBSzJ0QyxHQUFBLFFBQUtGLElBRXZDLE9BREFULEVBQUExckMsSUFBQSxXQUFBeEssR0FDQWsyQyxHQUdBSixFQXRLVyxDQXVLVGdCLEdBQUEscUJDbkJhQyxHQXhLQSxTQUFBM3pCLEdBQ2YsU0FBQTR6QixFQUFBdlUsRUFBQUMsRUFBQWtCLEVBQUFoQixFQUFBOXFCLEVBQUFtL0IsR0FDQSxJQUFBelIsRUFBQS9DLEVBQUFsaEMsWUFDQW1vQyxFQUFBaEgsRUFBQW5oQyxZQUVBb29DLEVBQUFELEVBQ01ydUMsT0FBQXlMLEVBQUEsRUFBQXpMLENBQWV1b0MsRUFBQThGLEdBQUE5RixFQUdyQmIsRUFBMkJQLEVBQzNCQyxFQUFBQyxFQUZ1QnJuQyxPQUFBeUwsRUFBQSxFQUFBekwsQ0FBU3N1QyxHQUVoQy9HLEdBRUFpSCxFQUFpQ0MsRUFBQSxFQUVqQ2pHLEVBQUEsSUFBNEI2RSxFQUM1QmpHLEVBQUFDLEVBQUFpSCxFQUFBbkUsRUFDQXpDLEVBQUE4RyxHQUdBcU4sRUFBQUQsRUFEQXBULEVBQUE0RSx3QkFDQTFGLEVBQUFqckIsR0FDQWhaLEVBQWdCKzJCLEdBQUEsRUFBVW4vQixPQUMxQndnRCxJQUNBcDRDLEVBQWMrMkIsR0FBQSxFQUFVci9CLE1BRXhCLElBQUEyZ0QsRUFBQUQsSUFBQXJ6QixnQkFBQSxFQUVBVCxFQUFBcGxCLEtBQUFDLEtBQUEybEMsRUFBQWhCLEVBQUF1VSxFQUFBcjRDLEdBTUFiLEtBQUEwbkMsWUFBQWpELEVBTUF6a0MsS0FBQStuQyxpQkFBQVIsRUFNQXZuQyxLQUFBOHJDLGVBQUFsRyxFQU1BNWxDLEtBQUFtNUMsa0JBQUF4VSxFQU1BM2tDLEtBQUFvNUMsY0FBQXpULEVBTUEzbEMsS0FBQXE1QyxhQUFBSixFQU1BajVDLEtBQUFzNUMsa0JBQUFKLEVBTUFsNUMsS0FBQXFsQixRQUFBLEtBTUFybEIsS0FBQXU1QyxtQkFBQSxLQW9GQSxPQWpGQXAwQixJQUFBNHpCLEVBQUE3NEMsVUFBQWlsQixHQUNBNHpCLEVBQUE1NEMsVUFBQS9DLE9BQUFnRCxPQUFBK2tCLEtBQUFobEIsV0FDQTQ0QyxFQUFBNTRDLFVBQUFFLFlBQUEwNEMsRUFLQUEsRUFBQTU0QyxVQUFBcTZCLGdCQUFBLFdBQ0F4NkIsS0FBQWEsT0FBc0IrMkIsR0FBQSxFQUFVcC9CLFNBQ2hDd0gsS0FBQXc1QyxrQkFFQXIwQixFQUFBaGxCLFVBQUFxNkIsZ0JBQUF6NkIsS0FBQUMsT0FNQSs0QyxFQUFBNTRDLFVBQUE0ZCxTQUFBLFdBQ0EsT0FBQS9kLEtBQUFxbEIsU0FNQTB6QixFQUFBNTRDLFVBQUFtUSxjQUFBLFdBQ0EsT0FBQXRRLEtBQUEwbkMsYUFNQXFSLEVBQUE1NEMsVUFBQWdzQyxXQUFBLFdBQ0EsSUFBQWxWLEVBQUFqM0IsS0FBQXE1QyxhQUFBN29DLFdBQ0EsR0FBQXltQixHQUF1QlcsR0FBQSxFQUFVbi9CLE9BQUEsQ0FDakMsSUFBQXpELEVBQWtCb0ksT0FBQXlMLEVBQUEsRUFBQXpMLENBQVE0QyxLQUFBbzVDLGVBQUFwNUMsS0FBQW01QyxrQkFDMUJsa0QsRUFBbUJtSSxPQUFBeUwsRUFBQSxFQUFBekwsQ0FBUzRDLEtBQUFvNUMsZUFBQXA1QyxLQUFBbTVDLGtCQUU1Qm41QyxLQUFBcWxCLFFBQXFCcWdCLEVBQWlCMXdDLEVBQUFDLEVBQUErSyxLQUFBczVDLGtCQUN0Q3Q1QyxLQUFBcTVDLGFBQUF4ekIsZ0JBQUE3bEIsS0FBQStuQyxpQkFDQS9uQyxLQUFBbTVDLGtCQUFBbjVDLEtBQUFvNUMsY0FBQXA1QyxLQUFBOHJDLGVBQUEsRUFDQXRzQyxPQUFBUSxLQUFBcTVDLGFBQUEvMUMsWUFDQXhFLE1BQUFrQixLQUFBcTVDLGFBQUF0N0IsYUFDUyxHQUVUL2QsS0FBQWEsTUFBQW8yQixFQUNBajNCLEtBQUErQyxXQU1BZzJDLEVBQUE1NEMsVUFBQTJFLEtBQUEsV0FDQSxHQUFBOUUsS0FBQWEsT0FBc0IrMkIsR0FBQSxFQUFVci9CLEtBQUEsQ0FDaEN5SCxLQUFBYSxNQUFtQisyQixHQUFBLEVBQVVwL0IsUUFDN0J3SCxLQUFBK0MsVUFFQSxJQUFBazBCLEVBQUFqM0IsS0FBQXE1QyxhQUFBN29DLFdBQ0F5bUIsR0FBeUJXLEdBQUEsRUFBVW4vQixRQUFBdytCLEdBQTBCVyxHQUFBLEVBQVVsL0IsTUFDdkVzSCxLQUFBbXNDLGNBRUFuc0MsS0FBQXU1QyxtQkFBa0NuOEMsT0FBQXVHLEVBQUEsRUFBQXZHLENBQU00QyxLQUFBcTVDLGFBQzlCejFDLEVBQUEsRUFBU0MsT0FBQSxTQUFBeEosR0FDbkIsSUFBQTQ4QixFQUFBajNCLEtBQUFxNUMsYUFBQTdvQyxXQUNBeW1CLEdBQStCVyxHQUFBLEVBQVVuL0IsUUFBQXcrQixHQUEwQlcsR0FBQSxFQUFVbC9CLFFBQzdFc0gsS0FBQXc1QyxrQkFDQXg1QyxLQUFBbXNDLGVBRVduc0MsTUFDWEEsS0FBQXE1QyxhQUFBdjBDLFVBUUFpMEMsRUFBQTU0QyxVQUFBcTVDLGdCQUFBLFdBQ0lwOEMsT0FBQXVHLEVBQUEsRUFBQXZHLENBQTJENEMsS0FBQSxvQkFDL0RBLEtBQUF1NUMsbUJBQUEsTUFHQVIsRUFwS2UsQ0FxS2JVLEdBQUEsR0M1S0ZDLEdBT0EsaUJBUEFBLEdBY0EsZUFkQUEsR0FxQkEsaUJBVUFDLEdBQUEsU0FBQS81QyxHQUNBLFNBQUErNUMsRUFBQTk1QyxFQUFBZixHQUVBYyxFQUFBRyxLQUFBQyxLQUFBSCxHQU9BRyxLQUFBbEIsUUFRQSxPQUpBYyxJQUFBKzVDLEVBQUF6NUMsVUFBQU4sR0FDQSs1QyxFQUFBeDVDLFVBQUEvQyxPQUFBZ0QsT0FBQVIsS0FBQU8sV0FDQXc1QyxFQUFBeDVDLFVBQUFFLFlBQUFzNUMsRUFFQUEsRUFsQkEsQ0FtQkUvNUMsRUFBQSxHQTJLSyxTQUFBZzZDLEdBQUE5NkMsRUFBQXNqQyxHQUN3Q3RqQyxFQUFBaWYsV0FBQXFrQixNQUloQyxJQUFBeVgsR0E1SkEsU0FBQXQ1QyxHQUNmLFNBQUF1NUMsRUFBQXA1QyxHQUNBSCxFQUFBUixLQUFBQyxLQUFBLENBQ0FXLGFBQUFELEVBQUFDLGFBQ0FDLFdBQUFGLEVBQUFFLFdBQ0FDLE1BQUFILEVBQUFHLFFBT0FiLEtBQUEyc0Msa0JBQUFwdkMsSUFBQW1ELEVBQUFrc0MsWUFDQWxzQyxFQUFBa3NDLFlBQUEsS0FPQTVzQyxLQUFBKzVDLGtCQUFBLEtBT0EvNUMsS0FBQWc2QyxxQkFBQSxFQWtIQSxPQS9HQXo1QyxJQUFBdTVDLEVBQUE1NUMsVUFBQUssR0FDQXU1QyxFQUFBMzVDLFVBQUEvQyxPQUFBZ0QsT0FBQUcsS0FBQUosV0FDQTI1QyxFQUFBMzVDLFVBQUFFLFlBQUF5NUMsRUFNQUEsRUFBQTM1QyxVQUFBb1EsZUFBQSxXQUNBLE9BQUF2USxLQUFBMnNDLGNBUUFtTixFQUFBMzVDLFVBQUE4NUMsc0JBQUEsU0FBQXg2QyxHQUNBLEdBQUFPLEtBQUEyc0MsYUFBQSxDQUNBLElBQUEzNEMsRUFBZ0JvSixPQUFBeXZDLEVBQUEsRUFBQXp2QyxDQUFpQjRDLEtBQUEyc0MsYUFBQWx0QyxFQUFBLEdBQ2pDQSxFQUFBTyxLQUFBMnNDLGFBQUEzNEMsR0FFQSxPQUFBeUwsR0FVQXE2QyxFQUFBMzVDLFVBQUE0ZCxTQUFBLFNBQUF2ZSxFQUFBQyxFQUFBb2EsRUFBQWpaLEdBQ0EsSUFBQWc2QixFQUFBNTZCLEtBQUFzUSxnQkFDQSxHQUFTdTdCLEVBQUEsR0FDVGpSLEdBQ0FoNkIsSUFDUXhELE9BQUF5bkMsRUFBQSxFQUFBem5DLENBQVV3OUIsRUFBQWg2QixHQUtiLENBQ0wsR0FBQVosS0FBQSs1QyxrQkFBQSxDQUNBLEdBQUEvNUMsS0FBQWc2QyxzQkFBQWg2QyxLQUFBcXNCLGVBQ1lqdkIsT0FBQXluQyxFQUFBLEVBQUF6bkMsQ0FDWjRDLEtBQUErNUMsa0JBQUF6cEMsZ0JBQUExUCxJQUNBWixLQUFBKzVDLGtCQUFBbDBCLGlCQUFBcG1CLEdBQ1lyQyxPQUFBeUwsRUFBQSxFQUFBekwsQ0FBTTRDLEtBQUErNUMsa0JBQUF6MkMsWUFBQTlELEdBQ2xCLE9BQUFRLEtBQUErNUMsa0JBRUEvNUMsS0FBQSs1QyxrQkFBQXJtQixVQUNBMXpCLEtBQUErNUMsa0JBQUEsS0FXQSxPQVJBLzVDLEtBQUErNUMsa0JBQUEsSUFBbUNqQixHQUNuQ2xlLEVBQUFoNkIsRUFBQXBCLEVBQUFDLEVBQUFvYSxFQUNBLFNBQUFyYSxFQUFBQyxFQUFBb2EsR0FDQSxPQUFBN1osS0FBQWs2QyxpQkFBQTE2QyxFQUFBQyxFQUNBb2EsRUFBQStnQixJQUNTemlCLEtBQUFuWSxPQUNUQSxLQUFBZzZDLHFCQUFBaDZDLEtBQUFxc0IsY0FFQXJzQixLQUFBKzVDLGtCQXRCQSxPQUhBbmYsSUFDQWg2QixFQUFBZzZCLEdBRUE1NkIsS0FBQWs2QyxpQkFBQTE2QyxFQUFBQyxFQUFBb2EsRUFBQWpaLElBbUNBazVDLEVBQUEzNUMsVUFBQSs1QyxpQkFBQSxTQUFBMTZDLEVBQUFDLEVBQUFvYSxFQUFBalosR0FDQSxPQUFXeEQsT0FBQTZGLEVBQUEsRUFBQTdGLElBUVgwOEMsRUFBQTM1QyxVQUFBZzZDLGtCQUFBLFNBQUFyeUMsR0FDQSxJQUFBaEosRUFBeURnSixFQUFBLE9BQ3pELE9BQUFoSixFQUFBMFIsWUFDQSxLQUFXb25CLEdBQUEsRUFBVXAvQixRQUNyQndILEtBQUF5SSxTQUFBLEVBQ0F6SSxLQUFBd0QsY0FDQSxJQUFBbTJDLEdBQUFELEdBQ0E1NkMsSUFDQSxNQUNBLEtBQVc4NEIsR0FBQSxFQUFVbi9CLE9BQ3JCdUgsS0FBQXlJLFNBQUEsRUFDQXpJLEtBQUF3RCxjQUNBLElBQUFtMkMsR0FBQUQsR0FDQTU2QyxJQUNBLE1BQ0EsS0FBVzg0QixHQUFBLEVBQVVsL0IsTUFDckJzSCxLQUFBeUksU0FBQSxFQUNBekksS0FBQXdELGNBQ0EsSUFBQW0yQyxHQUFBRCxHQUNBNTZDLE1BT0FnN0MsRUE3SWUsQ0E4SWI1d0MsRUFBQSxHQ2pGYWt4QyxHQXZIQyxTQUFBajFCLEdBQ2hCLFNBQUFrMUIsRUFBQTc2QyxFQUFBQyxFQUFBb2EsRUFBQXVvQixFQUFBa0IsRUFBQWdYLEdBRUFuMUIsRUFBQXBsQixLQUFBQyxLQUFBUixFQUFBQyxFQUFBb2EsRUFBeUQrZCxHQUFBLEVBQVVyL0IsTUFNbkV5SCxLQUFBeWpDLEtBQUFyQixFQU1BcGlDLEtBQUF5YSxPQUFBLElBQUFpcEIsTUFDQSxPQUFBSixJQUNBdGpDLEtBQUF5YSxPQUFBNm9CLGVBT0F0akMsS0FBQTJqQyxtQkFBQSxLQU1BM2pDLEtBQUFhLE1BQWlCKzJCLEdBQUEsRUFBVXIvQixLQU0zQnlILEtBQUF1NkMsbUJBQUFELEVBK0VBLE9BM0VBbjFCLElBQUFrMUIsRUFBQW42QyxVQUFBaWxCLEdBQ0FrMUIsRUFBQWw2QyxVQUFBL0MsT0FBQWdELE9BQUEra0IsS0FBQWhsQixXQUNBazZDLEVBQUFsNkMsVUFBQUUsWUFBQWc2QyxFQU1BQSxFQUFBbDZDLFVBQUE0ZCxTQUFBLFdBQ0EsT0FBQS9kLEtBQUF5YSxRQVFBNC9CLEVBQUFsNkMsVUFBQTJqQyxrQkFBQSxXQUNBOWpDLEtBQUFhLE1BQWlCKzJCLEdBQUEsRUFBVWwvQixNQUMzQnNILEtBQUE2akMsaUJBQ0E3akMsS0FBQStDLFdBUUFzM0MsRUFBQWw2QyxVQUFBNGpDLGlCQUFBLGdCQUNBeG1DLElBQUF5QyxLQUFBUCxhQUNBTyxLQUFBUCxXQUF3QnJDLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFTNEMsS0FBQVIsUUFBQVEsS0FBQXlhLE9BQUF4bEIsUUFFakMrSyxLQUFBYSxNQUFpQisyQixHQUFBLEVBQVVuL0IsT0FDM0J1SCxLQUFBNmpDLGlCQUNBN2pDLEtBQUErQyxXQVVBczNDLEVBQUFsNkMsVUFBQTJFLEtBQUEsV0FDQTlFLEtBQUFhLE9BQXNCKzJCLEdBQUEsRUFBVXIvQixNQUFBeUgsS0FBQWEsT0FBdUIrMkIsR0FBQSxFQUFVbC9CLFFBQ2pFc0gsS0FBQWEsTUFBbUIrMkIsR0FBQSxFQUFVcC9CLFFBQzdCd0gsS0FBQStDLFVBQ0EvQyxLQUFBMmpDLG1CQUFBLENBQ1F2bUMsT0FBQXVHLEVBQUEsRUFBQXZHLENBQVU0QyxLQUFBeWEsT0FBYzdXLEVBQUEsRUFBU2xMLE1BQ3pDc0gsS0FBQThqQyxrQkFBQTlqQyxNQUNRNUMsT0FBQXVHLEVBQUEsRUFBQXZHLENBQVU0QyxLQUFBeWEsT0FBYzdXLEVBQUEsRUFBU3NnQyxLQUN6Q2xrQyxLQUFBK2pDLGlCQUFBL2pDLE9BRUFBLEtBQUF1NkMsbUJBQUF2NkMsVUFBQXlqQyxRQU9BNFcsRUFBQWw2QyxVQUFBcTZDLFNBQUEsU0FBQTE3QyxHQUNBa0IsS0FBQXlhLE9BQUEzYixHQVFBdTdDLEVBQUFsNkMsVUFBQTBqQyxlQUFBLFdBQ0E3akMsS0FBQTJqQyxtQkFBQWorQixRQUFvQy9CLEVBQUEsR0FDcEMzRCxLQUFBMmpDLG1CQUFBLE1BR0EwVyxFQW5IZ0IsQ0FvSGRaLEdBQUEsR0NwSUssU0FBQWdCLEdBQUFDLEVBQUFDLEdBQ1AsSUFBQUMsRUFBQSxHQUVBeDlDLE9BQUEyckIsS0FBQTR4QixHQUFBajFDLFFBQUEsU0FBQTBNLEdBQ0EsT0FBQXVvQyxFQUFBdm9DLFNBQUE3VSxJQUFBbzlDLEVBQUF2b0MsSUFDQXdvQyxFQUFBbjJDLEtBQUEyTixFQUFBLElBQUF5b0MsbUJBQUFGLEVBQUF2b0MsT0FHQSxJQUFBMG9DLEVBQUFGLEVBQUFwdEMsS0FBQSxLQUtBLE9BREFrdEMsR0FBQSxLQUZBQSxJQUFBdHhCLFFBQUEsYUFFQW4zQixRQUFBLEtBQUF5b0QsRUFBQSxJQUFBQSxFQUFBLEtBQ0FJLEVDMkJBLElBa1BlQyxHQWxQSSxTQUFBakIsR0FDbkIsU0FBQWtCLEVBQUF2NkMsR0FFQSxJQUFBQyxFQUFBRCxHQUFvRCxHQUVwRHE1QyxFQUFBLzVDLEtBQUFDLEtBQUEsQ0FDQVcsYUFBQUQsRUFBQUMsYUFDQUMsV0FBQUYsRUFBQUUsV0FDQWdzQyxZQUFBbHNDLEVBQUFrc0MsY0FPQTVzQyxLQUFBd2pDLGtCQUNBam1DLElBQUFtRCxFQUFBNGlDLFlBQUE1aUMsRUFBQTRpQyxZQUFBLEtBTUF0akMsS0FBQSt6QyxZQUFBeDJDLElBQUFtRCxFQUFBb3pDLE9BQUFwekMsRUFBQW96QyxNQU1BOXpDLEtBQUF1QixLQUFBYixFQUFBYyxJQU1BeEIsS0FBQXU2Qyx3QkFBQWg5QyxJQUFBbUQsRUFBQTQ1QyxrQkFDQTU1QyxFQUFBNDVDLGtCQUFrQ1YsR0FPbEM1NUMsS0FBQWk3QyxRQUFBdjZDLEVBQUFpNkMsUUFBQSxHQU1BMzZDLEtBQUF5YSxPQUFBLEtBTUF6YSxLQUFBazdDLFdBQUEsTUFPQWw3QyxLQUFBbTdDLGtCQUFBLEVBTUFuN0MsS0FBQW83QyxZQUFBNzlDLElBQUFtRCxFQUFBc00sTUFBQXRNLEVBQUFzTSxNQUFBLElBMktBLE9BdktBOHNDLElBQUFrQixFQUFBOTZDLFVBQUE0NUMsR0FDQWtCLEVBQUE3NkMsVUFBQS9DLE9BQUFnRCxPQUFBMDVDLEtBQUEzNUMsV0FDQTY2QyxFQUFBNzZDLFVBQUFFLFlBQUEyNkMsRUFRQUEsRUFBQTc2QyxVQUFBazdDLFVBQUEsV0FDQSxPQUFBcjdDLEtBQUFpN0MsU0FNQUQsRUFBQTc2QyxVQUFBKzVDLGlCQUFBLFNBQUExNkMsRUFBQUMsRUFBQW9hLEVBQUFqWixHQUVBLFFBQUFyRCxJQUFBeUMsS0FBQXVCLEtBQ0EsWUFHQTlCLEVBQUFPLEtBQUFpNkMsc0JBQUF4NkMsR0FDQW9hLEVBQUE3WixLQUFBK3pDLE9BQUFsNkIsRUFBQSxFQUVBLElBQUEvYSxFQUFBa0IsS0FBQXlhLE9BQ0EsR0FBQTNiLEdBQ0FrQixLQUFBbTdDLG1CQUFBbjdDLEtBQUFxc0IsZUFDQXZ0QixFQUFBK21CLGlCQUFBcG1CLEdBQ0FYLEVBQUE4bUIsaUJBQUEvTCxHQUNRemMsT0FBQXlMLEVBQUEsRUFBQXpMLENBQWMwQixFQUFBd0UsWUFBQTlELEdBQ3RCLE9BQUFWLEVBR0EsSUFBQTY3QyxFQUFBLENBQ0FXLEVBQUEsUUFDQUMsT0FBQSxRQUNBQyxhQUFBLEdBRUlwK0MsT0FBQXBMLEdBQUEsRUFBQW9MLENBQU11OUMsRUFBQTM2QyxLQUFBaTdDLFNBR1YsSUFBQTUrQixJQURBN2MsSUFBQXNKLFNBQ0EsR0FBQXRKLEVBQUEsTUFDQThjLEdBQUE5YyxFQUFBLEdBQUFBLEVBQUEsTUFDQSxNQUFBUSxLQUFBbzdDLE9BQUEsQ0FDQSxJQUFBSyxFQUFBejdDLEtBQUFvN0MsT0FBb0NoK0MsT0FBQXlMLEVBQUEsRUFBQXpMLENBQVFvQyxHQUFBLEVBQzVDazhDLEVBQUExN0MsS0FBQW83QyxPQUFxQ2grQyxPQUFBeUwsRUFBQSxFQUFBekwsQ0FBU29DLEdBQUEsRUFDOUNBLEVBQUEsR0FBQTZjLEVBQUFvL0IsRUFDQWo4QyxFQUFBLEdBQUE4YyxFQUFBby9CLEVBQ0FsOEMsRUFBQSxHQUFBNmMsRUFBQW8vQixFQUNBajhDLEVBQUEsR0FBQThjLEVBQUFvL0IsRUFHQSxJQUFBeGdCLEVBQUF6N0IsRUFBQW9hLEVBR0E3a0IsRUFBQW1DLEtBQUF5YSxLQUEwQnhVLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFRb0MsR0FBQTA3QixHQUNsQ2ptQyxFQUFBa0MsS0FBQXlhLEtBQTJCeFUsT0FBQXlMLEVBQUEsRUFBQXpMLENBQVNvQyxHQUFBMDdCLEdBR3BDMTdCLEVBQUEsR0FBQTZjLEVBQUE2ZSxFQUFBbG1DLEVBQUEsRUFDQXdLLEVBQUEsR0FBQTZjLEVBQUE2ZSxFQUFBbG1DLEVBQUEsRUFDQXdLLEVBQUEsR0FBQThjLEVBQUE0ZSxFQUFBam1DLEVBQUEsRUFDQXVLLEVBQUEsR0FBQThjLEVBQUE0ZSxFQUFBam1DLEVBQUEsRUFFQStLLEtBQUFrN0MsV0FBQSxHQUFBbG1ELEVBQ0FnTCxLQUFBazdDLFdBQUEsR0FBQWptRCxFQUVBLElBQUF1TSxFQUFBeEIsS0FBQTI3QyxlQUFBbjhDLEVBQUFRLEtBQUFrN0MsV0FBQXJoQyxFQUNBalosRUFBQSs1QyxHQVVBLE9BUkEzNkMsS0FBQXlhLE9BQUEsSUFBc0IyL0IsR0FBWTU2QyxFQUFBQyxFQUFBb2EsRUFDbENyWSxFQUFBeEIsS0FBQXdqQyxhQUFBeGpDLEtBQUF1NkMsb0JBRUF2NkMsS0FBQW03QyxrQkFBQW43QyxLQUFBcXNCLGNBRUlqdkIsT0FBQXVHLEVBQUEsRUFBQXZHLENBQU00QyxLQUFBeWEsT0FBYzdXLEVBQUEsRUFBU0MsT0FDakM3RCxLQUFBbTZDLGtCQUFBbjZDLE1BRUFBLEtBQUF5YSxRQVNBdWdDLEVBQUE3NkMsVUFBQXk3QyxxQkFBQSxXQUNBLE9BQUE1N0MsS0FBQXU2QyxvQkFZQVMsRUFBQTc2QyxVQUFBdzdDLGVBQUEsU0FBQW44QyxFQUFBbkQsRUFBQXdkLEVBQUFqWixFQUFBKzVDLEdBRUEsSUFBQWtCLEVBQUFqN0MsRUFBQWs3QyxVQUFBcnhDLE1BQUEsS0FBQTJJLE1BRUF1bkMsRUFBQSxLQUFBdCtDLEVBQUEsT0FBQUEsRUFBQSxHQUNBcytDLEVBQUEsS0FBQW43QyxFQUFBZ08sS0FBQSxLQUNBbXRDLEVBQUEsT0FBQWtCLEVBQ0FsQixFQUFBLFFBQUFrQixFQUNBbEIsRUFBQSxJQUFBeGpELEtBQUE4dkIsTUFBQSxHQUFBcE4sR0FFQSxJQUFBclksRUFBQXhCLEtBQUF1QixLQUVBdzZDLEVBQUF2NkMsRUFDQTRuQixRQUFBLG9DQUNBQSxRQUFBLDZDQUlBLE9BSEEyeUIsR0FBQXY2QyxHQUNNcEUsT0FBQXNFLEVBQUEsRUFBQXRFLEVBQU0sTUFFRHE5QyxHQUFZc0IsRUFBQXBCLElBUXZCSyxFQUFBNzZDLFVBQUEwSCxPQUFBLFdBQ0EsT0FBQTdILEtBQUF1QixNQVFBeTVDLEVBQUE3NkMsVUFBQTY3QyxxQkFBQSxTQUFBMUIsR0FDQXQ2QyxLQUFBeWEsT0FBQSxLQUNBemEsS0FBQXU2QyxtQkFBQUQsRUFDQXQ2QyxLQUFBK0MsV0FRQWk0QyxFQUFBNzZDLFVBQUE0eEMsT0FBQSxTQUFBdndDLEdBQ0FBLEdBQUF4QixLQUFBdUIsT0FDQXZCLEtBQUF1QixLQUFBQyxFQUNBeEIsS0FBQXlhLE9BQUEsS0FDQXphLEtBQUErQyxZQVNBaTRDLEVBQUE3NkMsVUFBQTg3QyxhQUFBLFNBQUF0QixHQUNJdjlDLE9BQUFwTCxHQUFBLEVBQUFvTCxDQUFNNEMsS0FBQWk3QyxRQUFBTixHQUNWMzZDLEtBQUF5YSxPQUFBLEtBQ0F6YSxLQUFBK0MsV0FHQWk0QyxFQTlPbUIsQ0ErT2pCbkIsYUNwS2FxQyxHQS9FTSxTQUFBcEMsR0FDckIsU0FBQXFDLEVBQUExN0MsR0FFQSxJQUFBQyxFQUFBRCxHQUFvRCxHQUVwRHE1QyxFQUFBLzVDLEtBQUFDLEtBQUEsQ0FDQVcsYUFBQUQsRUFBQUMsYUFDQUMsV0FBQUYsRUFBQUUsV0FDQWdzQyxZQUFBbHNDLEVBQUFrc0MsWUFDQS9yQyxNQUFBSCxFQUFBRyxRQU9BYixLQUFBbzhDLGdCQUFBMTdDLEVBQUEyN0MsZUFNQXI4QyxLQUFBcWxCLFFBQUEsS0FNQXJsQixLQUFBbTdDLGtCQUFBLEVBTUFuN0MsS0FBQW83QyxZQUFBNzlDLElBQUFtRCxFQUFBc00sTUFDQXRNLEVBQUFzTSxNQUFBLElBd0NBLE9BcENBOHNDLElBQUFxQyxFQUFBajhDLFVBQUE0NUMsR0FDQXFDLEVBQUFoOEMsVUFBQS9DLE9BQUFnRCxPQUFBMDVDLEtBQUEzNUMsV0FDQWc4QyxFQUFBaDhDLFVBQUFFLFlBQUE4N0MsRUFLQUEsRUFBQWg4QyxVQUFBKzVDLGlCQUFBLFNBQUExNkMsRUFBQUMsRUFBQW9hLEVBQUFqWixHQUNBbkIsRUFBQU8sS0FBQWk2QyxzQkFBQXg2QyxHQUVBLElBQUE1SyxFQUFBbUwsS0FBQXFsQixRQUNBLEdBQUF4d0IsR0FDQW1MLEtBQUFtN0MsbUJBQUFuN0MsS0FBQXFzQixlQUNBeDNCLEVBQUFneEIsaUJBQUFwbUIsR0FDQTVLLEVBQUErd0IsaUJBQUEvTCxHQUNPemMsT0FBQXlMLEVBQUEsRUFBQXpMLENBQWN2SSxFQUFBeU8sWUFBQTlELEdBQ3JCLE9BQUEzSyxFQUdBMkssSUFBQXNKLFFBQ0kxTCxPQUFBeUwsRUFBQSxFQUFBekwsQ0FBZW9DLEVBQUFRLEtBQUFvN0MsUUFDbkIsSUFFQS8rQyxFQUFBLENBRmdCZSxPQUFBeUwsRUFBQSxFQUFBekwsQ0FBUW9DLEdBQUFDLEVBRXhCb2EsRUFEaUJ6YyxPQUFBeUwsRUFBQSxFQUFBekwsQ0FBU29DLEdBQUFDLEVBQzFCb2EsR0FFQXlpQyxFQUFBdDhDLEtBQUFvOEMsZ0JBQUFyOEMsS0FDQUMsS0FBQVIsRUFBQUMsRUFBQW9hLEVBQUF4ZCxFQUFBdUUsR0FPQSxPQU5BMDdDLElBQ0F6bkQsRUFBQSxJQUFtQnF3QixHQUFBLEVBQVcxbEIsRUFBQUMsRUFBQW9hLEVBQUF5aUMsSUFFOUJ0OEMsS0FBQXFsQixRQUFBeHdCLEVBQ0FtTCxLQUFBbTdDLGtCQUFBbjdDLEtBQUFxc0IsY0FFQXgzQixHQUdBc25ELEVBM0VxQixDQTRFbkJ0QyxJQ3dJYSxJQUFBMEMsR0E1TkUsU0FBQXpDLEdBQ2pCLFNBQUEwQyxFQUFBOTdDLEdBRUFvNUMsRUFBQS81QyxLQUFBQyxLQUFBLENBQ0FZLFdBQUFGLEVBQUFFLFdBQ0Fnc0MsWUFBQWxzQyxFQUFBa3NDLGNBT0E1c0MsS0FBQXdqQyxrQkFDQWptQyxJQUFBbUQsRUFBQTRpQyxZQUFBNWlDLEVBQUE0aUMsWUFBQSxLQU1BdGpDLEtBQUF5OEMsaUJBQUFsL0MsSUFBQW1ELEVBQUFnOEMsV0FDQWg4QyxFQUFBZzhDLFdBQUEsR0FNQTE4QyxLQUFBaTdDLFFBQUF2NkMsRUFBQWk2QyxRQUFBLEdBTUEzNkMsS0FBQXVCLEtBQUFiLEVBQUFjLElBTUF4QixLQUFBdTZDLHdCQUFBaDlDLElBQUFtRCxFQUFBNDVDLGtCQUNBNTVDLEVBQUE0NUMsa0JBQWtDVixHQU1sQzU1QyxLQUFBK3pDLFlBQUF4MkMsSUFBQW1ELEVBQUFvekMsT0FBQXB6QyxFQUFBb3pDLE1BTUE5ekMsS0FBQTI4QyxvQkFBQXAvQyxJQUFBbUQsRUFBQWs4QyxjQUNBbDhDLEVBQUFrOEMsY0FBQSxFQU1BNThDLEtBQUFvN0MsWUFBQTc5QyxJQUFBbUQsRUFBQXNNLE1BQUF0TSxFQUFBc00sTUFBQSxFQU1BaE4sS0FBQTY4QyxpQkFBQXQvQyxJQUFBbUQsRUFBQW84QyxZQUNBcDhDLEVBQUFvOEMsV0FNQTk4QyxLQUFBeWEsT0FBQSxLQU1BemEsS0FBQW03QyxrQkFBQSxFQXNIQSxPQWxIQXJCLElBQUEwQyxFQUFBdDhDLFVBQUE0NUMsR0FDQTBDLEVBQUFyOEMsVUFBQS9DLE9BQUFnRCxPQUFBMDVDLEtBQUEzNUMsV0FDQXE4QyxFQUFBcjhDLFVBQUFFLFlBQUFtOEMsRUFRQUEsRUFBQXI4QyxVQUFBazdDLFVBQUEsV0FDQSxPQUFBcjdDLEtBQUFpN0MsU0FNQXVCLEVBQUFyOEMsVUFBQSs1QyxpQkFBQSxTQUFBMTZDLEVBQUFDLEVBQUFvYSxFQUFBalosR0FDQW5CLEVBQUFPLEtBQUFpNkMsc0JBQUF4NkMsR0FDQW9hLEVBQUE3WixLQUFBK3pDLE9BQUFsNkIsRUFBQSxFQUVBLElBQUEvYSxFQUFBa0IsS0FBQXlhLE9BQ0EsR0FBQTNiLEdBQ0FrQixLQUFBbTdDLG1CQUFBbjdDLEtBQUFxc0IsZUFDQXZ0QixFQUFBK21CLGlCQUFBcG1CLEdBQ0FYLEVBQUE4bUIsaUJBQUEvTCxHQUNRemMsT0FBQXlMLEVBQUEsRUFBQXpMLENBQWMwQixFQUFBd0UsWUFBQTlELEdBQ3RCLE9BQUFWLEVBR0EsR0FBQWtCLEtBQUFvN0MsU0FDQTU3QyxJQUFBc0osUUFDTTFMLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFlb0MsRUFBQVEsS0FBQW83QyxTQUVyQixJQUVBLytDLEVBQUEsQ0FGZ0JlLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFRb0MsR0FBQUMsRUFFeEJvYSxFQURpQnpjLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFTb0MsR0FBQUMsRUFDMUJvYSxHQUVBLFFBQUF0YyxJQUFBeUMsS0FBQXVCLEtBQUEsQ0FDQSxJQUFBZzBDLEVBQUF2MUMsS0FBQTZILE9BQUE3SCxLQUFBdUIsS0FBQXZCLEtBQUFpN0MsUUFBQXo3QyxFQUFBbkQsRUFDQXVFLEdBQ0E5QixFQUFBLElBQWtCczdDLEdBQVk1NkMsRUFBQUMsRUFBQW9hLEVBQzlCMDdCLEVBQUF2MUMsS0FBQXdqQyxhQUNBeGpDLEtBQUF1NkMsb0JBQ01uOUMsT0FBQXVHLEVBQUEsRUFBQXZHLENBQU0wQixFQUFROEUsRUFBQSxFQUFTQyxPQUM3QjdELEtBQUFtNkMsa0JBQUFuNkMsV0FFQWxCLEVBQUEsS0FLQSxPQUhBa0IsS0FBQXlhLE9BQUEzYixFQUNBa0IsS0FBQW03QyxrQkFBQW43QyxLQUFBcXNCLGNBRUF2dEIsR0FRQTA5QyxFQUFBcjhDLFVBQUF5N0MscUJBQUEsV0FDQSxPQUFBNTdDLEtBQUF1NkMsb0JBUUFpQyxFQUFBcjhDLFVBQUE4N0MsYUFBQSxTQUFBdEIsR0FDSXY5QyxPQUFBcEwsR0FBQSxFQUFBb0wsQ0FBTTRDLEtBQUFpN0MsUUFBQU4sR0FDVjM2QyxLQUFBK0MsV0FXQXk1QyxFQUFBcjhDLFVBQUEwSCxPQUFBLFNBQUFrMUMsRUFBQXBDLEVBQUFuN0MsRUFBQW5ELEVBQUF1RSxHQUNBLElBQUF4SyxFQTBDQSxTQUFBb0osRUFBQW5ELEVBQUF1Z0QsRUFBQUksR0FDQSxJQUFBQyxFQUFhNy9DLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFRb0MsR0FDckIwOUMsRUFBYTkvQyxPQUFBeUwsRUFBQSxFQUFBekwsQ0FBU29DLEdBQ3RCMjlDLEVBQUE5Z0QsRUFBQSxHQUNBK2dELEVBQUEvZ0QsRUFBQSxHQUNBZ2hELEVBQUEsTUFBQUwsRUFDQSxPQUFBSSxFQUFBSCxFQUFBRSxFQUFBRCxFQUNBRCxFQUFBTCxHQUFBTyxFQUFBRSxHQUVBSCxFQUFBTixHQUFBUSxFQUFBQyxHQW5EQXQ2QixDQUFBdmpCLEVBQUFuRCxFQUNBMkQsS0FBQTI4QyxlQUFBMzhDLEtBQUF5OEMsYUFDQTVsRCxFQUFpQnVHLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFTb0MsR0FDMUI4OUMsRUFBQSxDQUNBQyxVQUFBdjlDLEtBQUE2OEMsWUFBQSwwQ0FDQVcsUUFBQSxRQUNBQyxPQUFBLEtBQ0FDLFlBQUEsaUNBQ0FDLEtBQUEsSUFDQUMsY0FBQTU5QyxLQUFBeThDLFlBQ0FvQixnQkFBQTFtRCxLQUFBOHZCLE1BQUE1cUIsRUFBQSxJQUNBeWhELGlCQUFBM21ELEtBQUE4dkIsTUFBQTVxQixFQUFBLElBQ0EwaEQsYUFBQTNuRCxFQUNBNG5ELGVBQUFubkQsRUFBQSxHQUNBb25ELGVBQUFwbkQsRUFBQSxJQUdBLE9BREl1RyxPQUFBcEwsR0FBQSxFQUFBb0wsQ0FBTWtnRCxFQUFBM0MsR0FDQ0YsR0FBWXNDLEVBQUFPLElBUXZCZCxFQUFBcjhDLFVBQUE2N0MscUJBQUEsU0FBQTFCLEdBQ0F0NkMsS0FBQXlhLE9BQUEsS0FDQXphLEtBQUF1NkMsbUJBQUFELEVBQ0F0NkMsS0FBQStDLFdBR0F5NUMsRUFuTWlCLENBb01mM0MsSUMvRmFxRSxHQTNHTCxTQUFBcEUsR0FDVixTQUFBcUUsRUFBQXo5QyxHQUNBLElBQUE0aUMsT0FBQS9sQyxJQUFBbUQsRUFBQTRpQyxZQUNBNWlDLEVBQUE0aUMsWUFBQSxLQUVzRGdYLE9BQ3RELzhDLElBQUFtRCxFQUFBNDVDLGtCQUNBNTVDLEVBQUE0NUMsa0JBQXNDVixHQUV0Q0UsRUFBQS81QyxLQUFBQyxLQUFBLENBQ0FXLGFBQUFELEVBQUFDLGFBQ0FDLFdBQWtCeEQsT0FBQXluQyxFQUFBLEVBQUF6bkMsQ0FBYXNELEVBQUFFLGNBTy9CWixLQUFBdUIsS0FBQWIsRUFBQWMsSUFNQXhCLEtBQUFvK0MsYUFBQTE5QyxFQUFBbXNCLFlBTUE3c0IsS0FBQXlhLE9BQUEsSUFBc0IyL0IsR0FBWXA2QyxLQUFBbytDLGtCQUFBN2dELEVBQUEsRUFBQXlDLEtBQUF1QixLQUFBK2hDLEVBQUFnWCxHQU1sQ3Q2QyxLQUFBazdDLFdBQUF4NkMsRUFBQWdpQixVQUFBaGlCLEVBQUFnaUIsVUFBQSxLQUVJdGxCLE9BQUF1RyxFQUFBLEVBQUF2RyxDQUFNNEMsS0FBQXlhLE9BQWM3VyxFQUFBLEVBQVNDLE9BQ2pDN0QsS0FBQW02QyxrQkFBQW42QyxNQWdFQSxPQTVEQTg1QyxJQUFBcUUsRUFBQWorQyxVQUFBNDVDLEdBQ0FxRSxFQUFBaCtDLFVBQUEvQyxPQUFBZ0QsT0FBQTA1QyxLQUFBMzVDLFdBQ0FnK0MsRUFBQWgrQyxVQUFBRSxZQUFBODlDLEVBT0FBLEVBQUFoK0MsVUFBQWsrQyxlQUFBLFdBQ0EsT0FBQXIrQyxLQUFBbytDLGNBTUFELEVBQUFoK0MsVUFBQSs1QyxpQkFBQSxTQUFBMTZDLEVBQUFDLEVBQUFvYSxFQUFBalosR0FDQSxPQUFReEQsT0FBQXlMLEVBQUEsRUFBQXpMLENBQVVvQyxFQUFBUSxLQUFBeWEsT0FBQW5YLGFBQ2xCdEQsS0FBQXlhLE9BRUEsTUFRQTBqQyxFQUFBaCtDLFVBQUEwSCxPQUFBLFdBQ0EsT0FBQTdILEtBQUF1QixNQU1BNDhDLEVBQUFoK0MsVUFBQWc2QyxrQkFBQSxTQUFBajFDLEdBQ0EsR0FBQWxGLEtBQUF5YSxPQUFBakssWUFBa0NvbkIsR0FBQSxFQUFVbi9CLE9BQUEsQ0FDNUMsSUFFQXc4QyxFQUFBQyxFQUZBcm9CLEVBQUE3c0IsS0FBQXlhLE9BQUFuWCxZQUNBeEUsRUFBQWtCLEtBQUF5YSxPQUFBc0QsV0FFQS9kLEtBQUFrN0MsWUFDQWpHLEVBQUFqMUMsS0FBQWs3QyxXQUFBLEdBQ0FoRyxFQUFBbDFDLEtBQUFrN0MsV0FBQSxLQUVBakcsRUFBQW4yQyxFQUFBOUosTUFDQWtnRCxFQUFBcDJDLEVBQUE3SixRQUVBLElBQUF3SyxFQUF1QnJDLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFTeXZCLEdBQUFxb0IsRUFDaENvSixFQUFBbm5ELEtBQUF5YSxLQUFrQ3hVLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFReXZCLEdBQUFwdEIsR0FDMUMsR0FBQTYrQyxHQUFBckosRUFBQSxDQUNBLElBQUF0NEMsRUFBc0JTLE9BQUEyNEIsRUFBQSxFQUFBMzRCLENBQXFCa2hELEVBQUFwSixHQUMzQ3JnRCxFQUFBOEgsRUFBQTlILE9BQ0E4SCxFQUFBbkIsVUFBQXNELEVBQUEsSUFBQW0yQyxFQUFBQyxFQUNBLElBQUFyZ0QsRUFBQUcsTUFBQUgsRUFBQUksUUFDQStLLEtBQUF5YSxPQUFBKy9CLFNBQUEzbEQsSUFHQWlsRCxFQUFBMzVDLFVBQUFnNkMsa0JBQUFwNkMsS0FBQUMsS0FBQWtGLElBR0FpNUMsRUF2R1UsQ0F3R1J0RSxJQ25JSzBFLEdBQUEsUUNFUUMsR0FDZixpQkFEZUEsR0FFZixZQUZlQSxHQUdmLFlBSGVBLEdBSWYsZ0JDVUFDLEdBQUEsVUErV2VDLEdBM1VILFNBQUE1RSxHQUNaLFNBQUE2RSxFQUFBbCtDLEdBRUEsSUFBQUMsRUFBQUQsR0FBb0QsR0FFcERxNUMsRUFBQS81QyxLQUFBQyxLQUFBLENBQ0FXLGFBQUFELEVBQUFDLGFBQ0FDLFdBQUFGLEVBQUFFLFdBQ0Fnc0MsWUFBQWxzQyxFQUFBa3NDLGNBT0E1c0MsS0FBQXdqQyxrQkFDQWptQyxJQUFBbUQsRUFBQTRpQyxZQUFBNWlDLEVBQUE0aUMsWUFBQSxLQU1BdGpDLEtBQUF1QixLQUFBYixFQUFBYyxJQU1BeEIsS0FBQXU2Qyx3QkFBQWg5QyxJQUFBbUQsRUFBQTQ1QyxrQkFDQTU1QyxFQUFBNDVDLGtCQUFrQ1YsR0FNbEM1NUMsS0FBQWk3QyxRQUFBdjZDLEVBQUFpNkMsUUFBQSxHQU1BMzZDLEtBQUE0K0MsTUFBQSxFQUNBNStDLEtBQUE2K0MsYUFNQTcrQyxLQUFBOCtDLFlBQWlGcCtDLEVBQUEsV0FNakZWLEtBQUErekMsWUFBQXgyQyxJQUFBbUQsRUFBQW96QyxPQUFBcHpDLEVBQUFvekMsTUFNQTl6QyxLQUFBeWEsT0FBQSxLQU1BemEsS0FBQWs3QyxXQUFBLE1BTUFsN0MsS0FBQW03QyxrQkFBQSxFQU1BbjdDLEtBQUFvN0MsWUFBQTc5QyxJQUFBbUQsRUFBQXNNLE1BQUF0TSxFQUFBc00sTUFBQSxJQXlQQSxPQXJQQThzQyxJQUFBNkUsRUFBQXorQyxVQUFBNDVDLEdBQ0E2RSxFQUFBeCtDLFVBQUEvQyxPQUFBZ0QsT0FBQTA1QyxLQUFBMzVDLFdBQ0F3K0MsRUFBQXgrQyxVQUFBRSxZQUFBcytDLEVBZ0JBQSxFQUFBeCtDLFVBQUE0K0MscUJBQUEsU0FBQXZvRCxFQUFBaUosRUFBQW1CLEVBQUErNUMsR0FDQSxRQUFBcDlDLElBQUF5QyxLQUFBdUIsS0FBQSxDQUdBLElBQUF5OUMsRUFBd0I1aEQsT0FBQXluQyxFQUFBLEVBQUF6bkMsQ0FBYXdELEdBQ3JDcStDLEVBQUFqL0MsS0FBQXNRLGdCQUVBMnVDLE9BQUFELElBQ0F2L0MsRUFBbUI4a0MsRUFBeUIwYSxFQUFBRCxFQUFBeG9ELEVBQUFpSixHQUM1Q2pKLEVBQW1CNEcsT0FBQXluQyxFQUFBLEVBQUF6bkMsQ0FBUzVHLEVBQUF3b0QsRUFBQUMsSUFHNUIsSUFBQXovQyxFQUFpQnBDLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFpQjVHLEVBQUFpSixFQUFBLEVBQ2xDZy9DLElBRUFuQixFQUFBLENBQ0E0QixRQUFBLE1BQ0ExQixRQUFpQmUsR0FDakJZLFFBQUEsaUJBQ0E1RCxPQUFBLFlBQ0FDLGFBQUEsRUFDQTRELGFBQUFwL0MsS0FBQWk3QyxRQUFBLFFBRUk3OUMsT0FBQXBMLEdBQUEsRUFBQW9MLENBQU1rZ0QsRUFBQXQ5QyxLQUFBaTdDLFFBQUFOLEdBRVYsSUFBQXJqRCxFQUFBSCxLQUFBNGhCLE9BQUF2aUIsRUFBQSxHQUFBZ0osRUFBQSxJQUFBQyxHQUNBbEksRUFBQUosS0FBQTRoQixPQUFBdlosRUFBQSxHQUFBaEosRUFBQSxJQUFBaUosR0FJQSxPQUhBNjlDLEVBQUF0OUMsS0FBQTQrQyxLQUFBLFNBQUF0bkQsRUFDQWdtRCxFQUFBdDlDLEtBQUE0K0MsS0FBQSxTQUFBcm5ELEVBRUF5SSxLQUFBMjdDLGVBQ0FuOEMsRUFBQWkvQyxHQUNBLEVBQUFRLEdBQUFELEVBQUExQixLQVNBcUIsRUFBQXgrQyxVQUFBazdDLFVBQUEsV0FDQSxPQUFBcjdDLEtBQUFpN0MsU0FNQTBELEVBQUF4K0MsVUFBQSs1QyxpQkFBQSxTQUFBMTZDLEVBQUFDLEVBQUFvYSxFQUFBalosR0FFQSxRQUFBckQsSUFBQXlDLEtBQUF1QixLQUNBLFlBR0E5QixFQUFBTyxLQUFBaTZDLHNCQUFBeDZDLEdBRUEsR0FBQW9hLEdBQUE3WixLQUFBK3pDLGFBQUF4MkMsSUFBQXlDLEtBQUE4K0MsY0FDQWpsQyxFQUFBLEdBR0EsSUFBQXFoQixFQUFBejdCLEVBQUFvYSxFQUVBaGpCLEVBQWlCdUcsT0FBQXlMLEVBQUEsRUFBQXpMLENBQVNvQyxHQUMxQjYvQyxFQUFBbG9ELEtBQUF5YSxLQUE4QnhVLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFRb0MsR0FBQTA3QixHQUN0Q29rQixFQUFBbm9ELEtBQUF5YSxLQUErQnhVLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFTb0MsR0FBQTA3QixHQUN4Q3FrQixFQUFxQm5pRCxPQUFBeUwsRUFBQSxFQUFBekwsQ0FBaUJ2RyxFQUFBcWtDLEVBQUEsRUFDdEMsQ0FBQW1rQixFQUFBQyxJQUNBRSxFQUFBcm9ELEtBQUF5YSxLQUFBNVIsS0FBQW83QyxPQUErQ2grQyxPQUFBeUwsRUFBQSxFQUFBekwsQ0FBUW9DLEdBQUEwN0IsR0FDdkR1a0IsRUFBQXRvRCxLQUFBeWEsS0FBQTVSLEtBQUFvN0MsT0FBZ0RoK0MsT0FBQXlMLEVBQUEsRUFBQXpMLENBQVNvQyxHQUFBMDdCLEdBQ3pEd2tCLEVBQXdCdGlELE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFpQnZHLEVBQUFxa0MsRUFBQSxFQUN6QyxDQUFBc2tCLEVBQUFDLElBRUEzZ0QsRUFBQWtCLEtBQUF5YSxPQUNBLEdBQUEzYixHQUNBa0IsS0FBQW03QyxtQkFBQW43QyxLQUFBcXNCLGVBQ0F2dEIsRUFBQSttQixpQkFBQXBtQixHQUNBWCxFQUFBOG1CLGlCQUFBL0wsR0FDUXpjLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFjMEIsRUFBQXdFLFlBQUFpOEMsR0FDdEIsT0FBQXpnRCxFQUdBLElBQUE2N0MsRUFBQSxDQUNBdUUsUUFBQSxNQUNBMUIsUUFBaUJlLEdBQ2pCWSxRQUFBLFNBQ0E1RCxPQUFBLFlBQ0FDLGFBQUEsR0FFSXArQyxPQUFBcEwsR0FBQSxFQUFBb0wsQ0FBTXU5QyxFQUFBMzZDLEtBQUFpN0MsU0FFVmo3QyxLQUFBazdDLFdBQUEsR0FBQS9qRCxLQUFBOHZCLE1BQW9DN3BCLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFRc2lELEdBQUF4a0IsR0FDNUNsN0IsS0FBQWs3QyxXQUFBLEdBQUEvakQsS0FBQTh2QixNQUFvQzdwQixPQUFBeUwsRUFBQSxFQUFBekwsQ0FBU3NpRCxHQUFBeGtCLEdBRTdDLElBQUExNUIsRUFBQXhCLEtBQUEyN0MsZUFBQStELEVBQUExL0MsS0FBQWs3QyxXQUFBcmhDLEVBQ0FqWixFQUFBKzVDLEdBVUEsT0FSQTM2QyxLQUFBeWEsT0FBQSxJQUFzQjIvQixHQUFZc0YsRUFBQWpnRCxFQUFBb2EsRUFDbENyWSxFQUFBeEIsS0FBQXdqQyxhQUFBeGpDLEtBQUF1NkMsb0JBRUF2NkMsS0FBQW03QyxrQkFBQW43QyxLQUFBcXNCLGNBRUlqdkIsT0FBQXVHLEVBQUEsRUFBQXZHLENBQU00QyxLQUFBeWEsT0FBYzdXLEVBQUEsRUFBU0MsT0FDakM3RCxLQUFBbTZDLGtCQUFBbjZDLE1BRUFBLEtBQUF5YSxRQVNBa2tDLEVBQUF4K0MsVUFBQXk3QyxxQkFBQSxXQUNBLE9BQUE1N0MsS0FBQXU2QyxvQkFZQW9FLEVBQUF4K0MsVUFBQXc3QyxlQUFBLFNBQUFuOEMsRUFBQW5ELEVBQUF3ZCxFQUFBalosRUFBQSs1QyxHQVVBLEdBUkl2OUMsT0FBQXNFLEVBQUEsRUFBQXRFLE1BQU1HLElBQUF5QyxLQUFBdUIsS0FBQSxHQUVWbzVDLEVBQUEzNkMsS0FBQTQrQyxLQUFBLGFBQUFoK0MsRUFBQWs3QyxVQUVBLFdBQUE5N0MsS0FBQWk3QyxVQUNBTixFQUFBLFdBR0EsR0FBQTlnQyxFQUNBLE9BQUE3WixLQUFBOCtDLGFBQ0EsS0FBYU4sR0FDYixJQUFBeEIsRUFBQSxHQUFBbmpDLEVBQUEsS0FDQSxtQkFBQThnQyxFQUNBQSxFQUFBLHdCQUEwQ3FDLEVBRTFDckMsRUFBQSxzQkFBQXFDLEVBRUEsTUFDQSxLQUFhd0IsR0FDYjdELEVBQUEsa0JBQUE5Z0MsRUFDQSxNQUNBLEtBQWEya0MsR0FDYixLQUFhQSxHQUNiN0QsRUFBQSxPQUFBOWdDLEVBQ0EsTUFDQSxRQUNVemMsT0FBQXNFLEVBQUEsRUFBQXRFLEVBQU0sS0FLaEJ1OUMsRUFBQSxNQUFBdCtDLEVBQUEsR0FDQXMrQyxFQUFBLE9BQUF0K0MsRUFBQSxHQUVBLElBQ0E2UyxFQURBeXdDLEVBQUEvK0MsRUFBQWcvQyxxQkFTQSxPQU5BMXdDLEVBREFsUCxLQUFBNCtDLE1BQUEsTUFBQWUsRUFBQXAxQyxPQUFBLEtBQ0EsQ0FBQS9LLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsSUFFQUEsRUFFQW03QyxFQUFBLEtBQUF6ckMsRUFBQTFCLEtBQUEsS0FFV2l0QyxHQUErQno2QyxLQUFBLEtBQUEyNkMsSUFRMUNnRSxFQUFBeCtDLFVBQUEwSCxPQUFBLFdBQ0EsT0FBQTdILEtBQUF1QixNQVFBbzlDLEVBQUF4K0MsVUFBQTY3QyxxQkFBQSxTQUFBMUIsR0FDQXQ2QyxLQUFBeWEsT0FBQSxLQUNBemEsS0FBQXU2QyxtQkFBQUQsRUFDQXQ2QyxLQUFBK0MsV0FRQTQ3QyxFQUFBeCtDLFVBQUE0eEMsT0FBQSxTQUFBdndDLEdBQ0FBLEdBQUF4QixLQUFBdUIsT0FDQXZCLEtBQUF1QixLQUFBQyxFQUNBeEIsS0FBQXlhLE9BQUEsS0FDQXphLEtBQUErQyxZQVNBNDdDLEVBQUF4K0MsVUFBQTg3QyxhQUFBLFNBQUF0QixHQUNJdjlDLE9BQUFwTCxHQUFBLEVBQUFvTCxDQUFNNEMsS0FBQWk3QyxRQUFBTixHQUNWMzZDLEtBQUE2K0MsYUFDQTcrQyxLQUFBeWEsT0FBQSxLQUNBemEsS0FBQStDLFdBTUE0N0MsRUFBQXgrQyxVQUFBMCtDLFdBQUEsV0FDQSxJQUFBZ0IsRUFBQTcvQyxLQUFBaTdDLFFBQUEsU0FBNkNzRCxHQUM3Q3YrQyxLQUFBNCtDLEtBQWdCeGhELE9BQUEwaUQsR0FBQSxFQUFBMWlELENBQWV5aUQsRUFBQSxXQUcvQmxCLEVBdlVZLENBd1VWOUUsSUN0WEtrRyxHQUFBLDJGQTBFUUMsR0F4Q2YsU0FBQTdKLEdBQ0EsU0FBQThKLEVBQUF4L0MsR0FFQSxJQUVBRSxFQUZBRCxFQUFBRCxHQUFBLEdBSUFFLE9BREFwRCxJQUFBbUQsRUFBQUMsYUFDQUQsRUFBQUMsYUFFQSxDQUFBby9DLElBR0EsSUFBQXpjLE9BQUEvbEMsSUFBQW1ELEVBQUE0aUMsWUFDQTVpQyxFQUFBNGlDLFlBQUEsWUFFQTloQyxPQUFBakUsSUFBQW1ELEVBQUFjLElBQ0FkLEVBQUFjLElBQUEsdURBRUEyMEMsRUFBQXAyQyxLQUFBQyxLQUFBLENBQ0FXLGVBQ0FnSixVQUFBakosRUFBQWlKLFVBQ0EyNUIsY0FDQWtOLFlBQUFqekMsSUFBQW1ELEVBQUE4dkMsUUFBQTl2QyxFQUFBOHZDLE9BQ0F4RCxhQUFBenZDLElBQUFtRCxFQUFBc3NDLFFBQUF0c0MsRUFBQXNzQyxRQUFBLEdBQ0E4RiwyQkFBQXB5QyxFQUFBb3lDLDJCQUNBdlAsaUJBQUE3aUMsRUFBQTZpQyxpQkFDQS9oQyxNQUNBUixNQUFBTixFQUFBTSxNQUNBaVAseUJBQUEsSUFTQSxPQUpBa21DLElBQUE4SixFQUFBLy9DLFVBQUFpMkMsR0FDQThKLEVBQUE5L0MsVUFBQS9DLE9BQUFnRCxPQUFBKzFDLEtBQUFoMkMsV0FDQTgvQyxFQUFBOS9DLFVBQUFFLFlBQUE0L0MsRUFFQUEsRUFyQ0EsQ0FzQ0UvSixpRkN6Q0ZnSyxHQU1BLG1CQU5BQSxHQWFBLGtCQVFBQyxHQUFBLENBQ0FDLE1BQUEsUUFDQWhsQixNQUFBLFNBU0FpbEIsR0FBQSxTQUFBemdELEdBQ0EsU0FBQXlnRCxFQUFBeGdELEVBQUFpUixFQUFBbGUsR0FDQWdOLEVBQUFHLEtBQUFDLEtBQUFILEdBT0FHLEtBQUFSLE9BQUFzUixFQUFBdFIsT0FPQVEsS0FBQVAsV0FBQXFSLEVBQUEwVyxVQUFBL25CLFdBQUFxUixFQUFBK0ksV0FRQTdaLEtBQUFwTixPQVFBLE9BSkFnTixJQUFBeWdELEVBQUFuZ0QsVUFBQU4sR0FDQXlnRCxFQUFBbGdELFVBQUEvQyxPQUFBZ0QsT0FBQVIsS0FBQU8sV0FDQWtnRCxFQUFBbGdELFVBQUFFLFlBQUFnZ0QsRUFFQUEsRUFoQ0EsQ0FpQ0V6Z0QsRUFBQSxHQWlVRjBnRCxHQUFBLEtBVUEsU0FBQTE0QixHQUFBNEIsRUFBQTFZLEVBQUEyVixHQUNBLElBQUErQyxFQUFBd0MsYUFBQWxiLEVBQUEyVixHQUNBLFlBRUEsSUFBQXp4QixFQUFBOGIsRUFBQXpVLEtBQUEsR0FDQXBILEVBQUE2YixFQUFBelUsS0FBQSxHQUNBLEdBQUFpa0QsR0FFRyxDQUNILElBQUF6ckQsRUFBQXlyRCxHQUFBenJELE9BQ0FBLEVBQUFHLFdBQUFILEVBQUFJLFdBQ0FxckQsR0FBc0JsakQsT0FBQTI0QixFQUFBLEVBQUEzNEIsQ0FBcUJwSSxFQUFBQyxHQUUzQ3FyRCxHQUFBNTRCLFVBQUEsSUFBQTF5QixFQUFBQyxRQU5BcXJELEdBQW9CbGpELE9BQUEyNEIsRUFBQSxFQUFBMzRCLENBQXFCcEksRUFBQUMsR0FVekMsT0FEQXUwQixFQUFBaEQsYUFBQTFWLEVBQUEyVixFQUFBNjVCLElBQ0FBLEdBQUExNEIsYUFBQSxJQUFBNXlCLEVBQUFDLEdBb0NBLFNBQUFzckQsR0FBQUMsR0FDQSxJQUFBcjBCLEVBQTBELEVBQzFEc08sRUFBNEQsRUFDNURwVSxFQUE2RCxFQUM3RG1ELEVBQUEsS0FVQSxNQVRBLG1CQUFBMkMsRUFBQVAsUUFDQXBDLEVBNEJBLFNBQUE5UixHQUNBLElBQUEyTyxFQUFBLElBQWtCbzZCLEdBQUEsRUFBUyxDQUFFL29DLFdBQzdCLFdBQWFncEMsR0FBQSxFQUF1QnI2QixHQTlCcENzNkIsQ0FBQXgwQixHQUNHLG1CQUFBc08sRUFBQTFjLFNBQ0h5TCxFQWVBLFNBQUE5UixHQUNBLElBQUEyTyxFQUFBLElBQWtCdTZCLEdBQUEsRUFBVSxDQUFFbHBDLFdBQzlCLFdBQWFtcEMsR0FBQSxFQUF3Qng2QixHQWpCckN5NkIsQ0FBQXJtQixHQUNHcFUsRUFBQS9PLFlBQThCeXBDLEdBQUEsRUFBU2x4QixLQUMxQ3JHLEVBQUEsSUFBbUJrM0IsR0FBQSxFQUFzRSxHQUN0RnI2QixFQUFBL08sV0FBNkJ5cEMsR0FBQSxFQUFTM2xCLE9BQUEvVSxFQUFBL08sV0FBNkJ5cEMsR0FBQSxFQUFTeG1CLFNBQy9FL1EsRUFBQSxJQUFtQnEzQixHQUFBLEVBQXdFLElBRTNGcjNCLEVBMEJlLElBQUF3M0IsR0F4WUMsU0FBQWxILEdBQ2hCLFNBQUFtSCxFQUFBdmdELEdBQ0FvNUMsRUFBQS81QyxLQUFBQyxLQUFBLENBQ0FZLFdBQUEsT0FPQVosS0FBQWtoRCxRQUFBLEtBTUFsaEQsS0FBQW1oRCxvQkFBQTVqRCxJQUFBbUQsRUFBQTBnRCxjQUNBMWdELEVBQUEwZ0QsY0FBQWpCLEdBQUFDLE1BTUFwZ0QsS0FBQXFoRCxjQUFBOWpELElBQUFtRCxFQUFBMjlCLFFBQUEzOUIsRUFBQTI5QixRQUFBLEVBTUFyK0IsS0FBQXNoRCxXQW9UQSxTQUFBemIsR0FHQSxJQUZBLElBQUF0cEMsRUFBQXNwQyxFQUFBbjBDLE9BQ0E2dkQsRUFBQSxJQUFBenVELE1BQUF5SixHQUNBbEssRUFBQSxFQUFpQkEsRUFBQWtLLElBQVNsSyxFQUMxQmt2RCxFQUFBbHZELEdBQUFrdUQsR0FBQTFhLEVBQUF4ekMsSUFFQSxPQUFBa3ZELEVBMVRBQyxDQUFBOWdELEVBQUFtbEMsU0FFQSxRQUFBbHZDLEVBQUEsRUFBQThxRCxFQUFBemhELEtBQUFzaEQsV0FBQTV2RCxPQUFnRGlGLEVBQUE4cUQsSUFBUTlxRCxFQUNsRHlHLE9BQUF1RyxFQUFBLEVBQUF2RyxDQUFNNEMsS0FBQXNoRCxXQUFBM3FELEdBQXFCaU4sRUFBQSxFQUFTQyxPQUMxQzdELEtBQUErQyxRQUFBL0MsTUFPQUEsS0FBQTBoRCxXQUFBLElBQTBCbm1CLEdBQUEsRUFDMUIsV0FDQSxVQUVBdjdCLEtBQUErQyxRQUFBb1YsS0FBQW5ZLE9BUUEsSUFOQSxJQUFBcTBCLEVBQUFyMEIsS0FBQXNoRCxXQXdSQTUyQyxJQUFBLFNBQUE4ZSxHQUNBLE9BQUFBLEVBQUEzQixXQUFBODVCLGtCQXBSQTV0QixFQUFBLEdBQ0ExaEMsRUFBQSxFQUFBcUwsRUFBQTIyQixFQUFBM2lDLE9BQWlEVyxFQUFBcUwsSUFBUXJMLEVBQ3pEMGhDLEVBQWtCMzJCLE9BQUE2RixFQUFBLEVBQUE3RixDQUFNaTNCLEVBQUFoaUMsR0FBQWcwQixRQUFBZ08sRUFBQWhpQyxHQVF4QjJOLEtBQUE0aEQscUJBT0E1aEQsS0FBQTZoRCxxQkFBQSxLQU1BN2hELEtBQUFtN0Msa0JBTUFuN0MsS0FBQThoRCxZQUFBLENBQ0FueUIsU0FBQSxFQUNBMEQsMkJBQWtDajJCLE9BQUFtMkIsR0FBQSxFQUFBbjJCLEdBQ2xDb0MsT0FBQSxLQUNBdWlELE1BQUEsS0FDQXB1RCxNQUFBLEVBQ0FvZ0MsY0FDQU0sbUJBQ0F4YSxXQUFBLEVBQ0F5WiwyQkFBa0NsMkIsT0FBQW0yQixHQUFBLEVBQUFuMkIsR0FDbENtNEIsb0JBQUEsR0FDQWw1QixLQUFBLE1BQ0EyM0IsbUJBQUEsR0FDQXlFLFVBQUF6NEIsS0FBQTBoRCxXQUNBaDBCLEtBQUFGLEtBQUFDLE1BQ0F5QixVQUFBLEdBQ0ExSCxVQUF1RCxDQUN2RGhwQixTQUFBLEdBRUE2dUIsVUFBQSxHQUNBbUwsWUFBQSxTQUdBajdCLElBQUFtRCxFQUFBKzdCLFdBQ0F6OEIsS0FBQWdpRCxhQUFBdGhELEVBQUErN0IsVUFBQS83QixFQUFBbTlCLEtBZ0xBLE9BM0tBaWMsSUFBQW1ILEVBQUEvZ0QsVUFBQTQ1QyxHQUNBbUgsRUFBQTlnRCxVQUFBL0MsT0FBQWdELE9BQUEwNUMsS0FBQTM1QyxXQUNBOGdELEVBQUE5Z0QsVUFBQUUsWUFBQTRnRCxFQVNBQSxFQUFBOWdELFVBQUE2aEQsYUFBQSxTQUFBdmxCLEVBQUF3bEIsR0FDQWppRCxLQUFBa2hELFFBQUEsSUFBdUJyakIsR0FBQSxVQUFTLENBQ2hDcEIsWUFDQVEsU0FBQWo5QixLQUFBbWhELGlCQUFBaEIsR0FBQS9rQixNQUNBNEQsTUFBQSxFQUNBbkIsSUFBQW9rQixFQUNBNWpCLFFBQUFyK0IsS0FBQXFoRCxXQUVBcmhELEtBQUErQyxXQVdBaytDLEVBQUE5Z0QsVUFBQStoRCxrQkFBQSxTQUFBMWlELEVBQUFDLEVBQUFtQixHQUVBLElBQUFrUSxFQUE2RTFULE9BQUFwTCxHQUFBLEVBQUwsQ0FBVyxHQUFHZ08sS0FBQThoRCxhQUV0Rmh4QyxFQUFBMFcsVUFBc0VwcUIsT0FBQXBMLEdBQUEsRUFBTCxDQUFXLEdBQUc4ZSxFQUFBMFcsV0FFL0UsSUFBQTN3QixFQUFpQnVHLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFTb0MsR0FFMUJzUixFQUFBdFIsU0FBQXNKLFFBQ0FnSSxFQUFBaXhDLE1BQUFsckQsRUFDQWlhLEVBQUF6VSxLQUFBLEdBQUFsRixLQUFBOHZCLE1BQW9DN3BCLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFRb0MsR0FBQUMsR0FDNUNxUixFQUFBelUsS0FBQSxHQUFBbEYsS0FBQTh2QixNQUFvQzdwQixPQUFBeUwsRUFBQSxFQUFBekwsQ0FBU29DLEdBQUFDLEdBQzdDcVIsRUFBQTRjLEtBQUFGLEtBQUFDLE1BQ0EzYyxFQUFBNmUsU0FBQSxFQUVBLElBQUFuSSxFQUFBMVcsRUFBQTBXLFVBSUEsT0FIQUEsRUFBQTN3QixTQUNBMndCLEVBQUE1bUIsYUFDQTRtQixFQUFBL25CLGFBQ0FxUixHQVFBbXdDLEVBQUE5Z0QsVUFBQWdpRCxpQkFBQSxXQUdBLElBRkEsSUFBQUMsR0FBQSxFQUVBL3ZELEVBQUEsRUFBQXFMLEVBQUFzQyxLQUFBc2hELFdBQUE1dkQsT0FBZ0RXLEVBQUFxTCxJQUFRckwsRUFFeEQsR0FEQTJOLEtBQUFzaEQsV0FBQWp2RCxHQUFBdzFCLFdBQUFnRSxZQUNBcmIsYUFBZ0MxUCxFQUFBLEVBQVdDLE1BQUEsQ0FDM0NxaEQsR0FBQSxFQUNBLE1BR0EsT0FBQUEsR0FNQW5CLEVBQUE5Z0QsVUFBQTRkLFNBQUEsU0FBQXZlLEVBQUFDLEVBQUFvYSxFQUFBalosR0FDQSxJQUFBWixLQUFBbWlELG1CQUNBLFlBR0EsSUFBQXJ4QyxFQUFBOVEsS0FBQWtpRCxrQkFBQTFpRCxFQUFBQyxFQUFBbUIsR0FJQSxHQUhBWixLQUFBNGhELHFCQUFBOXdDLEVBR0E5USxLQUFBNmhELHFCQUFBLENBQ0EsSUFBQXA2QixFQUFBem5CLEtBQUE2aEQscUJBQUFoOEIsZ0JBQ0E4VSxFQUFBMzZCLEtBQUE2aEQscUJBQUF2K0MsWUFDQTdELElBQUFnb0IsR0FBZ0RycUIsT0FBQXlMLEVBQUEsRUFBQXpMLENBQU1vQyxFQUFBbTdCLEtBQ3REMzZCLEtBQUE2aEQscUJBQUEsTUFjQSxPQVZBN2hELEtBQUE2aEQsc0JBQUE3aEQsS0FBQXFzQixnQkFBQXJzQixLQUFBbTdDLG1CQUNBbjdDLEtBQUFxaUQsa0JBR0F2eEMsRUFBQTJuQixVQUFBd0QsY0FBQSxPQUVBbnJCLEVBQUE2ZSxTQUNBMnlCLHNCQUFBdGlELEtBQUErQyxRQUFBb1YsS0FBQW5ZLE9BR0FBLEtBQUE2aEQsc0JBT0FaLEVBQUE5Z0QsVUFBQWtpRCxnQkFBQSxXQUlBLElBSEEsSUFBQXZ4QyxFQUFBOVEsS0FBQTRoRCxxQkFDQXJsRCxFQUFBeUQsS0FBQXNoRCxXQUFBNXZELE9BQ0E2d0QsRUFBQSxJQUFBenZELE1BQUF5SixHQUNBbEssRUFBQSxFQUFtQkEsRUFBQWtLLElBQVNsSyxFQUFBLENBQzVCLElBQUFzMUIsRUFBQUMsR0FDQTVuQixLQUFBc2hELFdBQUFqdkQsR0FBQXllLElBQUF1akIsaUJBQUFoaUMsSUFDQSxJQUFBczFCLEVBR0EsT0FGQTQ2QixFQUFBbHdELEdBQUFzMUIsRUFNQSxJQUFBLzBCLEVBQUEsR0FDQW9OLEtBQUF3RCxjQUFBLElBQUE2OEMsR0FBQUgsR0FBQXB2QyxFQUFBbGUsSUFDQW9OLEtBQUFraEQsUUFBQTloQixRQUFBbWpCLEVBQUEzdkQsRUFBQW9OLEtBQUF3aUQsa0JBQUFycUMsS0FBQW5ZLEtBQUE4USxLQVdBbXdDLEVBQUE5Z0QsVUFBQXFpRCxrQkFBQSxTQUFBMXhDLEVBQUEyVSxFQUFBcVgsRUFBQWxxQyxHQUNBLElBQUE2eUIsR0FBQXFYLEVBQUEsQ0FLQSxJQUFBdDlCLEVBQUFzUixFQUFBdFIsT0FDQUMsRUFBQXFSLEVBQUEwVyxVQUFBL25CLFdBQ0EsR0FBQUEsSUFBQU8sS0FBQTRoRCxxQkFBQXA2QixVQUFBL25CLFlBQ1NyQyxPQUFBeUwsRUFBQSxFQUFBekwsQ0FBTW9DLEVBQUFRLEtBQUE0aEQscUJBQUFwaUQsUUFEZixDQUtBLElBQUE3QyxFQUNBLEdBQUFxRCxLQUFBNmhELHFCQUNBbGxELEVBQUFxRCxLQUFBNmhELHFCQUFBOWpDLFdBQUE3b0IsV0FBQSxVQUNLLENBQ0wsSUFBQUYsRUFBQW1DLEtBQUE4dkIsTUFBNkI3cEIsT0FBQXlMLEVBQUEsRUFBQXpMLENBQVFvQyxHQUFBQyxHQUNyQ3hLLEVBQUFrQyxLQUFBOHZCLE1BQThCN3BCLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFTb0MsR0FBQUMsR0FDdkM5QyxFQUFnQlMsT0FBQTI0QixFQUFBLEVBQUEzNEIsQ0FBcUJwSSxFQUFBQyxHQUNyQytLLEtBQUE2aEQscUJBQUEsSUFBc0MzOEIsR0FBQSxFQUFXMWxCLEVBQUFDLEVBQUEsRUFBQTlDLEVBQUE5SCxRQUVqRDhILEVBQUE4bEQsYUFBQTNsQixFQUFBLEtBRUE5OEIsS0FBQStDLFVBQ0EvQyxLQUFBbTdDLGtCQUFBbjdDLEtBQUFxc0IsY0FFQXJzQixLQUFBd0QsY0FBQSxJQUFBNjhDLEdBQUFILEdBQUFwdkMsRUFBQWxlLE9BTUFxdUQsRUFBQTlnRCxVQUFBKzVDLGlCQUFBLFdBQ0EsYUFHQStHLEVBeFJnQixDQXlSZHBILElDM1pGNkksR0FBQSxDQUNBLDRJQUdFM0MsSUFPRjRDLEdBQUEsQ0FDQUMsUUFBQSxDQUNBL3ZELFVBQUEsTUFDQTI5QyxRQUFBLEdBRUFxUyxxQkFBQSxDQUNBaHdELFVBQUEsTUFDQTI5QyxRQUFBLEdBRUFzUyxpQkFBQSxDQUNBandELFVBQUEsTUFDQTI5QyxRQUFBLEdBRUF1UyxnQkFBQSxDQUNBbHdELFVBQUEsTUFDQTI5QyxRQUFBLEdBRUF3UyxtQkFBQSxDQUNBbndELFVBQUEsTUFDQTI5QyxRQUFBLEdBRUF5UyxNQUFBLENBQ0Fwd0QsVUFBQSxNQUNBMjlDLFFBQUEsR0FFQTBTLGVBQUEsQ0FDQXJ3RCxVQUFBLE1BQ0EyOUMsUUFBQSxHQUVBMlMsZUFBQSxDQUNBdHdELFVBQUEsTUFDQTI5QyxRQUFBLEdBRUE0UyxjQUFBLENBQ0F2d0QsVUFBQSxNQUNBMjlDLFFBQUEsR0FFQTZTLGFBQUEsQ0FDQXh3RCxVQUFBLE1BQ0EyOUMsUUFBQSxHQUVBOFMsV0FBQSxDQUNBendELFVBQUEsTUFDQTI5QyxRQUFBLElBUUErUyxHQUFBLENBQ0FYLFFBQUEsQ0FDQWxXLFFBQUEsRUFDQU0sUUFBQSxJQUVBaVcsTUFBQSxDQUNBdlcsUUFBQSxFQUNBTSxRQUFBLElBRUFzVyxXQUFBLENBQ0E1VyxRQUFBLEVBQ0FNLFFBQUEsS0FnRWV3VyxHQWxDZixTQUFBck4sR0FDQSxTQUFBc04sRUFBQS9pRCxHQUNBLElBQUFyTyxFQUFBcU8sRUFBQTJsQixNQUFBcDBCLFFBQUEsS0FDQXl4RCxHQUFBLEdBQUFyeEQsRUFBQXFPLEVBQUEybEIsTUFBQTNsQixFQUFBMmxCLE1BQUF2ZCxNQUFBLEVBQUF6VyxHQUNBc3hELEVBQUFKLEdBQUFHLEdBRUFFLEVBQUFqQixHQUFBamlELEVBQUEybEIsT0FFQTdrQixPQUFBakUsSUFBQW1ELEVBQUFjLElBQUFkLEVBQUFjLElBQ0EsK0NBQWlDZCxFQUFBMmxCLE1BQ2pDLGdCQUFxQnU5QixFQUFBL3dELFVBRXJCc2pELEVBQUFwMkMsS0FBQUMsS0FBQSxDQUNBVyxhQUFBK2hELEdBQ0EvNEMsVUFBQWpKLEVBQUFpSixVQUNBMjVCLFlBQUEsWUFDQTBKLFFBQUF6dkMsTUFBQW1ELEVBQUFzc0MsUUFBQXRzQyxFQUFBc3NDLFFBQUEyVyxFQUFBM1csUUFDQU4sUUFBQW52QyxNQUFBbUQsRUFBQWdzQyxRQUFBaHNDLEVBQUFnc0MsUUFBQWlYLEVBQUFqWCxRQUNBOEQsT0FBQW9ULEVBQUFwVCxPQUNBc0MsMkJBQUFweUMsRUFBQW95QywyQkFDQXZQLGlCQUFBN2lDLEVBQUE2aUMsaUJBQ0EvaEMsTUFDQVIsTUFBQU4sRUFBQU0sUUFTQSxPQUpBbTFDLElBQUFzTixFQUFBdmpELFVBQUFpMkMsR0FDQXNOLEVBQUF0akQsVUFBQS9DLE9BQUFnRCxPQUFBKzFDLEtBQUFoMkMsV0FDQXNqRCxFQUFBdGpELFVBQUFFLFlBQUFvakQsRUFFQUEsRUEvQkEsQ0FnQ0V2TixJQzhDRixTQUFTMk4sR0FBZWwyQixFQUFBOVQsRUFBQWpaLEdBRXhCLElBQUEwckIsRUFBQXRzQixLQUFBZ3hDLGNBS0EsR0FKQTFrQixJQUNBQSxFQUFBdHNCLEtBQUF1c0IseUJBQUEzckIsTUFHQTByQixFQUFBL2IsaUJBQUE3ZSxRQUFBaThCLEVBQUEsS0FJQSxJQUFBYSxFQUFBbEMsRUFBQXdDLG1CQUNBbkIsRUFBQTN0QixLQUFBOGpELFlBQ0F2VyxFQUFpQm53QyxPQUFBNndDLEVBQUEsRUFBQTd3QyxDQUNqQmt2QixFQUFBOGYsWUFBQXplLEVBQUEsSUFBQTN0QixLQUFBMndDLFNBRUEsR0FBQTkyQixJQUNBMHpCLEVBQWVud0MsT0FBQTZ3QyxFQUFBLEVBQUE3d0MsQ0FBU213QyxFQUFBMXpCLEVBQUE3WixLQUFBMndDLFVBSXhCLElBQUEyTSxFQUFBLENBQ0FoQyxFQUFBLFFBQ0FDLE9BQUEsUUFDQUMsYUFBQSxHQUlBLE9BRkVwK0MsT0FBQXBMLEdBQUEsRUFBQW9MLENBQU1rZ0QsRUFBQXQ5QyxLQUFBaTdDLFNBRVJqN0MsS0FBQTI3QyxlQUFBaHVCLEVBQUE0ZixFQUFBL2UsRUFDQTNVLEVBQUFqWixFQUFBMDhDLElBSWUsSUFBQXlHLEdBcEtHLFNBQUF0UixHQUNsQixTQUFBdVIsRUFBQXZqRCxHQUVBLElBQUFDLEVBQUFELEdBQW9ELEdBRXBEZ3lDLEVBQUExeUMsS0FBQUMsS0FBQSxDQUNBVyxhQUFBRCxFQUFBQyxhQUNBZ0osVUFBQWpKLEVBQUFpSixVQUNBMjVCLFlBQUE1aUMsRUFBQTRpQyxZQUNBMWlDLFdBQUFGLEVBQUFFLFdBQ0FreUMsMkJBQUFweUMsRUFBQW95QywyQkFDQXhtQixTQUFBNXJCLEVBQUE0ckIsU0FDQWlYLGlCQUFBN2lDLEVBQUE2aUMsaUJBQ0FzTyxnQkFBdUJnUyxHQUN2QnJpRCxJQUFBZCxFQUFBYyxJQUNBNi9CLEtBQUEzZ0MsRUFBQTJnQyxLQUNBcmdDLFdBQUF6RCxJQUFBbUQsRUFBQU0sT0FBQU4sRUFBQU0sTUFDQXN1QixXQUFBNXVCLEVBQUE0dUIsYUFPQXR2QixLQUFBaTdDLFFBQUF2NkMsRUFBQWk2QyxRQUFBLEdBTUEzNkMsS0FBQThqRCxXQUFzQjFtRCxPQUFBeUwsRUFBQSxFQUFBekwsR0FFdEI0QyxLQUFBK3dDLE9BQUEvd0MsS0FBQWlrRCxvQkF5RkEsT0F0RkF4UixJQUFBdVIsRUFBQTlqRCxVQUFBdXlDLEdBQ0F1UixFQUFBN2pELFVBQUEvQyxPQUFBZ0QsT0FBQXF5QyxLQUFBdHlDLFdBQ0E2akQsRUFBQTdqRCxVQUFBRSxZQUFBMmpELEVBTUFBLEVBQUE3akQsVUFBQThqRCxpQkFBQSxXQUNBLElBQUE1eEQsRUFBQSxFQUNBaUMsRUFBQSxHQUNBLFFBQUF5VixLQUFBL0osS0FBQWk3QyxRQUNBM21ELEVBQUFqQyxLQUFBMFgsRUFBQSxJQUFBL0osS0FBQWk3QyxRQUFBbHhDLEdBRUEsT0FBQXpWLEVBQUFrWixLQUFBLE1BU0F3MkMsRUFBQTdqRCxVQUFBazdDLFVBQUEsV0FDQSxPQUFBcjdDLEtBQUFpN0MsU0FhQStJLEVBQUE3akQsVUFBQXc3QyxlQUFBLFNBQUFodUIsRUFBQTRmLEVBQUEvZSxFQUFBM1UsRUFBQWpaLEVBQUErNUMsR0FFQSxJQUFBdFosRUFBQXJoQyxLQUFBcWhDLEtBQ0EsR0FBQUEsRUFBQSxDQUtBLElBVUE3L0IsRUFWQXE2QyxFQUFBajdDLEVBQUFrN0MsVUFBQXJ4QyxNQUFBLEtBQUEySSxNQVdBLEdBVEF1bkMsRUFBQSxLQUFBcE4sRUFBQSxPQUFBQSxFQUFBLEdBQ0FvTixFQUFBLEtBQUFuc0IsRUFBQWhoQixLQUFBLEtBQ0FtdEMsRUFBQSxPQUFBa0IsRUFDQWxCLEVBQUEsUUFBQWtCLEVBQ0FsQixFQUFBLElBQUF4akQsS0FBQTh2QixNQUNBMHpCLEVBQUEsSUFBQUEsRUFBQSxJQUFBOWdDLEVBQUEsR0FBQUEsR0FJQSxHQUFBd25CLEVBQUEzdkMsT0FDQThQLEVBQUE2L0IsRUFBQSxRQUdBNy9CLEVBQUE2L0IsRUFEa0Jqa0MsT0FBQThqQyxFQUFBLEVBQUE5akMsQ0FBT2lqQyxFQUFhMVMsR0FBQTBULEVBQUEzdkMsU0FPdEMsT0FBVytvRCxHQUhYajVDLEVBQ0E0bkIsUUFBQSxvQ0FDQUEsUUFBQSw2Q0FDdUJ1eEIsS0FNdkJxSixFQUFBN2pELFVBQUE2c0Isa0JBQUEsU0FBQW5ULEdBQ0EsT0FBNkIsR0FRN0JtcUMsRUFBQTdqRCxVQUFBODdDLGFBQUEsU0FBQXRCLEdBQ0l2OUMsT0FBQXBMLEdBQUEsRUFBQW9MLENBQU00QyxLQUFBaTdDLFFBQUFOLEdBQ1YzNkMsS0FBQSt3QyxPQUFBL3dDLEtBQUFpa0QscUJBR0FELEVBekhrQixDQTBIaEJ4UixJQzVLRTBSLEdBQVcsU0FBQXpoQixHQUNmLFNBQUEwaEIsRUFBQXgyQixFQUFBNGYsRUFBQS93QyxHQUVBaW1DLEVBQUExaUMsS0FBQUMsS0FBQTJ0QixFQUErQmdMLEVBQUEsRUFBU2xnQyxRQU14Q3VILEtBQUFzdEMsVUFBQUMsRUFNQXZ0QyxLQUFBb2IsTUFBQTVlLEVBTUF3RCxLQUFBcWxCLFFBQUEsS0FzQ0EsT0FsQ0FvZCxJQUFBMGhCLEVBQUFqa0QsVUFBQXVpQyxHQUNBMGhCLEVBQUFoa0QsVUFBQS9DLE9BQUFnRCxPQUFBcWlDLEtBQUF0aUMsV0FDQWdrRCxFQUFBaGtELFVBQUFFLFlBQUE4akQsRUFNQUEsRUFBQWhrRCxVQUFBNGQsU0FBQSxXQUNBLEdBQUEvZCxLQUFBcWxCLFFBQ0EsT0FBQXJsQixLQUFBcWxCLFFBRUEsSUFBQWtvQixFQUFBdnRDLEtBQUFzdEMsVUFDQTN3QyxFQUFvQlMsT0FBQTI0QixFQUFBLEVBQUEzNEIsQ0FBcUJtd0MsRUFBQSxHQUFBQSxFQUFBLElBWXpDLE9BVkE1d0MsRUFBQXFrQixZQUFBLFFBQ0Fya0IsRUFBQXluRCxXQUFBLE1BQUE3VyxFQUFBLE1BQUFBLEVBQUEsT0FFQTV3QyxFQUFBNGpCLFVBQUEsUUFDQTVqQixFQUFBd2tCLFVBQUEsU0FDQXhrQixFQUFBeWtCLGFBQUEsU0FDQXprQixFQUFBRCxLQUFBLGtCQUNBQyxFQUFBaWdCLFNBQUE1YyxLQUFBb2IsTUFBQW15QixFQUFBLEtBQUFBLEVBQUEsTUFFQXZ0QyxLQUFBcWxCLFFBQUExb0IsRUFBQTlILE9BQ0E4SCxFQUFBOUgsUUFPQXN2RCxFQUFBaGtELFVBQUEyRSxLQUFBLGFBRUFxL0MsRUEzRGUsQ0E0RGIzaEIsR0EyRGE2aEIsR0F2Q0YsU0FBQS9ULEdBQ2IsU0FBQWdVLEVBQUE1akQsR0FFQTR2QyxFQUFBdndDLEtBQUFDLEtBQUEsQ0FDQXd3QyxRQUFBLEVBQ0E1dkMsV0FBQUYsRUFBQUUsV0FDQTByQixTQUFBNXJCLEVBQUE0ckIsU0FDQXRyQixXQUFBekQsSUFBQW1ELEVBQUFNLE9BQUFOLEVBQUFNLFFBNEJBLE9BdkJBc3ZDLElBQUFnVSxFQUFBcGtELFVBQUFvd0MsR0FDQWdVLEVBQUFua0QsVUFBQS9DLE9BQUFnRCxPQUFBa3dDLEtBQUFud0MsV0FDQW1rRCxFQUFBbmtELFVBQUFFLFlBQUFpa0QsRUFLQUEsRUFBQW5rRCxVQUFBeXJCLFFBQUEsU0FBQWpULEVBQUFyaEIsRUFBQUMsR0FDQSxJQUFBcTNCLEVBQXVCd1IsRUFBU3puQixFQUFBcmhCLEVBQUFDLEdBQ2hDLEdBQUF5SSxLQUFBMHdDLFVBQUFub0IsWUFBQXFHLEdBQ0EsT0FBcUM1dUIsS0FBQTB3QyxVQUFBdGtDLElBQUF3aUIsR0FFckMsSUFBQTJlLEVBQXFCbndDLE9BQUE2d0MsRUFBQSxFQUFBN3dDLENBQU00QyxLQUFBc3NCLFNBQUE4ZixZQUFBenpCLElBQzNCZ1YsRUFBQSxDQUFBaFYsRUFBQXJoQixFQUFBQyxHQUNBZ3RELEVBQUF2a0QsS0FBQWt4QywrQkFBQXZqQixHQUNBbnhCLEVBQUErbkQsRUFDQXZrRCxLQUFBa3hDLCtCQUFBcVQsR0FBQW5nRCxXQURBLEdBRUFvbkIsRUFBQSxJQUFxQjA0QixHQUFXdjJCLEVBQUE0ZixFQUFBL3dDLEdBRWhDLE9BREF3RCxLQUFBMHdDLFVBQUFua0MsSUFBQXFpQixFQUFBcEQsR0FDQUEsR0FJQTg0QixFQW5DYSxDQW9DWDlTLElDOEVhZ1QsR0F4SUgsU0FBQS9SLEdBQ1osU0FBQWdTLEVBQUEvakQsR0FvQkEsR0FuQkEreEMsRUFBQTF5QyxLQUFBQyxLQUFBLENBQ0FXLGFBQUFELEVBQUFDLGFBQ0FnSixVQUFBakosRUFBQWlKLFVBQ0EyNUIsWUFBQTVpQyxFQUFBNGlDLFlBQ0ExaUMsV0FBa0J4RCxPQUFBeW5DLEVBQUEsRUFBQXpuQyxDQUFhLGFBQy9CMDFDLDJCQUFBcHlDLEVBQUFveUMsMkJBQ0FqeUMsTUFBYUMsRUFBQSxFQUFXdEksUUFDeEIrcUMsaUJBQUE3aUMsRUFBQTZpQyxpQkFDQXZpQyxXQUFBekQsSUFBQW1ELEVBQUFNLE9BQUFOLEVBQUFNLE1BQ0FzdUIsV0FBQTV1QixFQUFBNHVCLGFBT0F0dkIsS0FBQTBrRCxVQUFBLEtBR0Foa0QsRUFBQWMsSUFDQSxHQUFBZCxFQUFBb2hDLE1BQ1FBLEVBQVlwaEMsRUFBQWMsSUFBQXhCLEtBQUEya0QsdUJBQUF4c0MsS0FBQW5ZLE1BQ3BCQSxLQUFBNGtELG9CQUFBenNDLEtBQUFuWSxXQUNPLENBQ1AsSUFBQW0zQyxFQUFBLElBQUEvL0IsZUFDQSsvQixFQUFBL1ksaUJBQUEsT0FBQXArQixLQUFBNmtELFdBQUExc0MsS0FBQW5ZLE9BQ0FtM0MsRUFBQS9ZLGlCQUFBLFFBQUFwK0IsS0FBQThrRCxZQUFBM3NDLEtBQUFuWSxPQUNBbTNDLEVBQUE5L0IsS0FBQSxNQUFBM1csRUFBQWMsS0FDQTIxQyxFQUFBOStCLFlBRUszWCxFQUFBcWtELFNBQ0wva0QsS0FBQTJrRCx1QkFBQWprRCxFQUFBcWtELFVBRU0zbkQsT0FBQXNFLEVBQUEsRUFBQXRFLEVBQU0sTUFpR1osT0E1RkFxMUMsSUFBQWdTLEVBQUF2a0QsVUFBQXV5QyxHQUNBZ1MsRUFBQXRrRCxVQUFBL0MsT0FBQWdELE9BQUFxeUMsS0FBQXR5QyxXQUNBc2tELEVBQUF0a0QsVUFBQUUsWUFBQW9rRCxFQU1BQSxFQUFBdGtELFVBQUEwa0QsV0FBQSxTQUFBLzhDLEdBQ0EsSUFBQXF2QyxFQUEyQ3J2QyxFQUFBLE9BRTNDLElBQUFxdkMsRUFBQTEvQixRQUFBMC9CLEVBQUExL0IsUUFBQSxLQUFBMC9CLEVBQUExL0IsT0FBQSxLQUNBLElBQUFnOUIsRUFDQSxJQUNBQSxFQUF1QzU5QixLQUFBMGdDLE1BQUFKLEVBQUF4L0IsY0FDaEMsTUFBQThOLEdBRVAsWUFEQXpsQixLQUFBNGtELHNCQUdBNWtELEtBQUEya0QsdUJBQUFsUSxRQUVBejBDLEtBQUE0a0QsdUJBUUFILEVBQUF0a0QsVUFBQTJrRCxZQUFBLFNBQUFoOUMsR0FDQTlILEtBQUE0a0QsdUJBT0FILEVBQUF0a0QsVUFBQTZrRCxZQUFBLFdBQ0EsT0FBQWhsRCxLQUFBMGtELFdBT0FELEVBQUF0a0QsVUFBQXdrRCx1QkFBQSxTQUFBSSxHQUVBLElBR0F2bEQsRUFIQXlsRCxFQUE2QjduRCxPQUFBeW5DLEVBQUEsRUFBQXpuQyxDQUFhLGFBRTFDdzlCLEVBQUE1NkIsS0FBQXNRLGdCQUVBLFFBQUEvUyxJQUFBd25ELEVBQUEsUUFDQSxJQUFBbm1ELEVBQXNCeEIsT0FBQXluQyxFQUFBLEVBQUF6bkMsQ0FDdEI2bkQsRUFBQXJxQixHQUNBcDdCLEVBQWVwQyxPQUFBeUwsRUFBQSxFQUFBekwsQ0FBYzJuRCxFQUFBLE9BQUFubUQsR0FHN0IsSUFBQTh0QyxFQUFBcVksRUFBQSxXQUNBL1gsRUFBQStYLEVBQUEsWUFDQXo0QixFQUFtQitpQixFQUFTLENBQzVCN3ZDLE9BQWN5d0MsRUFBb0JyVixHQUNsQ29TLFVBQ0FOLFlBTUEsR0FKQTFzQyxLQUFBc3NCLFdBRUF0c0IsS0FBQTZ4QyxnQkFBMkIvUSxFQUFtQmlrQixFQUFBLE1BQUF6NEIsUUFFOUMvdUIsSUFBQXduRCxFQUFBLGNBQUEva0QsS0FBQW9RLGtCQUFBLENBQ0EsSUFBQTgwQyxPQUFBM25ELElBQUFpQyxFQUNBQSxFQUFBeWxELEVBQUEzaEQsWUFFQXRELEtBQUEyUSxnQkFBQSxTQUFBRyxHQUNBLE9BQVkxVCxPQUFBeUwsRUFBQSxFQUFBekwsQ0FBVThuRCxFQUFBcDBDLEVBQUF0UixRQUN0QixDQUFBdWxELEVBQUEsYUFFQSxPQUlBL2tELEtBQUEwa0QsVUFBQUssRUFDQS9rRCxLQUFBNFEsU0FBa0I5UCxFQUFBLEVBQVdDLFFBTzdCMGpELEVBQUF0a0QsVUFBQXlrRCxvQkFBQSxXQUNBNWtELEtBQUE0USxTQUFrQjlQLEVBQUEsRUFBV3BJLFFBRzdCK3JELEVBcElZLENBcUlWalMsSUN1SkYsU0FBUzJTLEdBQWV4M0IsRUFBQTlULEVBQUFqWixHQUV4QixJQUFBMHJCLEVBQUF0c0IsS0FBQWd4QyxjQUtBLEdBSkExa0IsSUFDQUEsRUFBQXRzQixLQUFBdXNCLHlCQUFBM3JCLE1BR0EwckIsRUFBQS9iLGlCQUFBN2UsUUFBQWk4QixFQUFBLEtBSUEsR0FBQTlULEdBQUE3WixLQUFBK3pDLGFBQUF4MkMsSUFBQXlDLEtBQUE4K0MsY0FDQWpsQyxFQUFBLEdBR0EsSUFBQTRTLEVBQUFILEVBQUF6RyxjQUFBOEgsRUFBQSxJQUNBYSxFQUFBbEMsRUFBQXdDLG1CQUFBbkIsRUFBQTN0QixLQUFBOGpELFlBQ0F2VyxFQUFpQm53QyxPQUFBNndDLEVBQUEsRUFBQTd3QyxDQUNqQmt2QixFQUFBOGYsWUFBQXplLEVBQUEsSUFBQTN0QixLQUFBMndDLFNBRUF0aEIsRUFBQXJ2QixLQUFBa3JDLFFBQ0EsSUFBQTdiLElBQ0FrZSxFQUFlbndDLE9BQUE2d0MsRUFBQSxFQUFBN3dDLENBQVVtd0MsRUFBQWxlLEVBQUFydkIsS0FBQTJ3QyxTQUN6Qm5pQixFQUFpQnB4QixPQUFBeUwsRUFBQSxFQUFBekwsQ0FBTW94QixFQUFBL0IsRUFBQTRDLEVBQUFiLElBR3ZCLEdBQUEzVSxJQUNBMHpCLEVBQWVud0MsT0FBQTZ3QyxFQUFBLEVBQUE3d0MsQ0FBU213QyxFQUFBMXpCLEVBQUE3WixLQUFBMndDLFVBR3hCLElBQUEyTSxFQUFBLENBQ0E0QixRQUFBLE1BQ0ExQixRQUFlZSxHQUNmWSxRQUFBLFNBQ0E1RCxPQUFBLFlBQ0FDLGFBQUEsR0FJQSxPQUZFcCtDLE9BQUFwTCxHQUFBLEVBQUFvTCxDQUFNa2dELEVBQUF0OUMsS0FBQWk3QyxTQUVSajdDLEtBQUEyN0MsZUFBQWh1QixFQUFBNGYsRUFBQS9lLEVBQ0EzVSxFQUFBalosRUFBQTA4QyxJQUllLElBQUE4SCxHQWhVSixTQUFBM1MsR0FDWCxTQUFBNFMsRUFBQTVrRCxHQUVBLElBQUFDLEVBQUFELEdBQW9ELEdBRXBEazZDLEVBQUFqNkMsRUFBQWk2QyxRQUFBLEdBRUEySyxJQUFBLGdCQUFBM0ssTUFBQSxZQUVBbEksRUFBQTF5QyxLQUFBQyxLQUFBLENBQ0FXLGFBQUFELEVBQUFDLGFBQ0FnSixVQUFBakosRUFBQWlKLFVBQ0EyNUIsWUFBQTVpQyxFQUFBNGlDLFlBQ0FrTixRQUFBOFUsRUFDQTFrRCxXQUFBRixFQUFBRSxXQUNBa3lDLDJCQUFBcHlDLEVBQUFveUMsMkJBQ0FKLFVBQUFoeUMsRUFBQWd5QyxVQUNBcG1CLFNBQUE1ckIsRUFBQTRyQixTQUNBaVgsaUJBQUE3aUMsRUFBQTZpQyxpQkFDQXNPLGdCQUF1QnNULEdBQ3ZCM2pELElBQUFkLEVBQUFjLElBQ0E2L0IsS0FBQTNnQyxFQUFBMmdDLEtBQ0FyZ0MsV0FBQXpELElBQUFtRCxFQUFBTSxPQUFBTixFQUFBTSxNQUNBc3VCLFdBQUE1dUIsRUFBQTR1QixhQU9BdHZCLEtBQUFrckMsYUFBQTN0QyxJQUFBbUQsRUFBQTJ1QixPQUFBM3VCLEVBQUEydUIsT0FBQSxFQU1BcnZCLEtBQUFpN0MsUUFBQU4sRUFNQTM2QyxLQUFBNCtDLE1BQUEsRUFNQTUrQyxLQUFBOCtDLFlBQWlGcCtDLEVBQUEsV0FNakZWLEtBQUErekMsWUFBQXgyQyxJQUFBbUQsRUFBQW96QyxPQUFBcHpDLEVBQUFvekMsTUFNQTl6QyxLQUFBOGpELFdBQXNCMW1ELE9BQUF5TCxFQUFBLEVBQUF6TCxHQUV0QjRDLEtBQUE2K0MsYUFDQTcrQyxLQUFBK3dDLE9BQUEvd0MsS0FBQWlrRCxvQkEyTUEsT0F2TUF4UixJQUFBNFMsRUFBQW5sRCxVQUFBdXlDLEdBQ0E0UyxFQUFBbGxELFVBQUEvQyxPQUFBZ0QsT0FBQXF5QyxLQUFBdHlDLFdBQ0FrbEQsRUFBQWxsRCxVQUFBRSxZQUFBZ2xELEVBZ0JBQSxFQUFBbGxELFVBQUE0K0MscUJBQUEsU0FBQXZvRCxFQUFBaUosRUFBQW1CLEVBQUErNUMsR0FDQSxJQUFBcUUsRUFBd0I1aEQsT0FBQXluQyxFQUFBLEVBQUF6bkMsQ0FBYXdELEdBQ3JDcStDLEVBQUFqL0MsS0FBQXNRLGdCQUVBZ2MsRUFBQXRzQixLQUFBZ3hDLGNBQ0Exa0IsSUFDQUEsRUFBQXRzQixLQUFBdXNCLHlCQUFBeXlCLElBR0EsSUFBQXJ4QixFQUFBckIsRUFBQTZoQixrQ0FBQTMzQyxFQUFBaUosR0FFQSxLQUFBNnNCLEVBQUEvYixpQkFBQTdlLFFBQUFpOEIsRUFBQSxLQUlBLElBQUFsQixFQUFBSCxFQUFBekcsY0FBQThILEVBQUEsSUFDQWEsRUFBQWxDLEVBQUF3QyxtQkFBQW5CLEVBQUEzdEIsS0FBQThqRCxZQUNBdlcsRUFBbUJud0MsT0FBQTZ3QyxFQUFBLEVBQUE3d0MsQ0FBTWt2QixFQUFBOGYsWUFBQXplLEVBQUEsSUFBQTN0QixLQUFBMndDLFNBR3pCdGhCLEVBQUFydkIsS0FBQWtyQyxRQUNBLElBQUE3YixJQUNBa2UsRUFBaUJud0MsT0FBQTZ3QyxFQUFBLEVBQUE3d0MsQ0FBVW13QyxFQUFBbGUsRUFBQXJ2QixLQUFBMndDLFNBQzNCbmlCLEVBQW1CcHhCLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFNb3hCLEVBQUEvQixFQUFBNEMsRUFBQWIsSUFHekJ5d0IsT0FBQUQsSUFDQXZ5QixFQUF1QjhYLEVBQXlCMGEsRUFBQUQsRUFBQXhvRCxFQUFBaTJCLEdBQ2hEK0IsRUFBbUJweEIsT0FBQXluQyxFQUFBLEVBQUF6bkMsQ0FBZW94QixFQUFBd3dCLEVBQUFDLEdBQ2xDem9ELEVBQW1CNEcsT0FBQXluQyxFQUFBLEVBQUF6bkMsQ0FBUzVHLEVBQUF3b0QsRUFBQUMsSUFHNUIsSUFBQTNCLEVBQUEsQ0FDQTRCLFFBQUEsTUFDQTFCLFFBQWlCZSxHQUNqQlksUUFBQSxpQkFDQTVELE9BQUEsWUFDQUMsYUFBQSxFQUNBNEQsYUFBQXAvQyxLQUFBaTdDLFFBQUEsUUFFSTc5QyxPQUFBcEwsR0FBQSxFQUFBb0wsQ0FBTWtnRCxFQUFBdDlDLEtBQUFpN0MsUUFBQU4sR0FFVixJQUFBcmpELEVBQUFILEtBQUE0aEIsT0FBQXZpQixFQUFBLEdBQUFnNEIsRUFBQSxJQUFBL0IsR0FDQWwxQixFQUFBSixLQUFBNGhCLE9BQUF5VixFQUFBLEdBQUFoNEIsRUFBQSxJQUFBaTJCLEdBS0EsT0FIQTZ3QixFQUFBdDlDLEtBQUE0K0MsS0FBQSxTQUFBdG5ELEVBQ0FnbUQsRUFBQXQ5QyxLQUFBNCtDLEtBQUEsU0FBQXJuRCxFQUVBeUksS0FBQTI3QyxlQUFBaHVCLEVBQUE0ZixFQUFBL2UsRUFDQSxFQUFBeXdCLEdBQUFELEVBQUExQixLQU1BK0gsRUFBQWxsRCxVQUFBOHlDLFVBQUEsV0FDQSxPQUFBanpDLEtBQUFrckMsU0FTQW1hLEVBQUFsbEQsVUFBQWs3QyxVQUFBLFdBQ0EsT0FBQXI3QyxLQUFBaTdDLFNBYUFvSyxFQUFBbGxELFVBQUF3N0MsZUFBQSxTQUFBaHVCLEVBQUE0ZixFQUFBL2UsRUFBQTNVLEVBQUFqWixFQUFBKzVDLEdBRUEsSUFBQXRaLEVBQUFyaEMsS0FBQXFoQyxLQUNBLEdBQUFBLEVBQUEsQ0FhQSxHQVRBc1osRUFBQSxNQUFBcE4sRUFBQSxHQUNBb04sRUFBQSxPQUFBcE4sRUFBQSxHQUVBb04sRUFBQTM2QyxLQUFBNCtDLEtBQUEsYUFBQWgrQyxFQUFBazdDLFVBRUEsV0FBQTk3QyxLQUFBaTdDLFVBQ0FOLEVBQUEsV0FHQSxHQUFBOWdDLEVBQ0EsT0FBQTdaLEtBQUE4K0MsYUFDQSxLQUFhTixHQUNiLElBQUF4QixFQUFBLEdBQUFuakMsRUFBQSxLQUNBLG1CQUFBOGdDLEVBQ0FBLEVBQUEsd0JBQTBDcUMsRUFFMUNyQyxFQUFBLHNCQUFBcUMsRUFFQSxNQUNBLEtBQWF3QixHQUNiN0QsRUFBQSxrQkFBQTlnQyxFQUNBLE1BQ0EsS0FBYTJrQyxHQUNiLEtBQWFBLEdBQ2I3RCxFQUFBLE9BQUE5Z0MsRUFDQSxNQUNBLFFBQ1V6YyxPQUFBc0UsRUFBQSxFQUFBdEUsRUFBTSxNQUtoQixJQUdBMUssRUFVQThPLEVBYkFtK0MsRUFBQS8rQyxFQUFBZy9DLHFCQUNBMXdDLEVBQUFzZixFQUNBLEdBQUF4dUIsS0FBQTQrQyxNQUFBLE1BQUFlLEVBQUFwMUMsT0FBQSxLQUVBN1gsRUFBQTg3QixFQUFBLEdBQ0F0ZixFQUFBLEdBQUFzZixFQUFBLEdBQ0F0ZixFQUFBLEdBQUF4YyxFQUNBQSxFQUFBODdCLEVBQUEsR0FDQXRmLEVBQUEsR0FBQXNmLEVBQUEsR0FDQXRmLEVBQUEsR0FBQXhjLEVBS0EsR0FIQWlvRCxFQUFBLEtBQUF6ckMsRUFBQTFCLEtBQUEsS0FHQSxHQUFBNnpCLEVBQUEzdkMsT0FDQThQLEVBQUE2L0IsRUFBQSxRQUdBNy9CLEVBQUE2L0IsRUFEa0Jqa0MsT0FBQThqQyxFQUFBLEVBQUE5akMsQ0FBT2lqQyxFQUFhMVMsR0FBQTBULEVBQUEzdkMsU0FHdEMsT0FBVytvRCxHQUFZajVDLEVBQUFtNUMsS0FNdkIwSyxFQUFBbGxELFVBQUE2c0Isa0JBQUEsU0FBQW5ULEdBQ0EsT0FBQTdaLEtBQUErekMsYUFBQXgyQyxJQUFBeUMsS0FBQTgrQyxZQUNzQixFQUR0QixHQVFBdUcsRUFBQWxsRCxVQUFBOGpELGlCQUFBLFdBQ0EsSUFBQTV4RCxFQUFBLEVBQ0FpQyxFQUFBLEdBQ0EsUUFBQXlWLEtBQUEvSixLQUFBaTdDLFFBQ0EzbUQsRUFBQWpDLEtBQUEwWCxFQUFBLElBQUEvSixLQUFBaTdDLFFBQUFseEMsR0FFQSxPQUFBelYsRUFBQWtaLEtBQUEsTUFRQTYzQyxFQUFBbGxELFVBQUE4N0MsYUFBQSxTQUFBdEIsR0FDSXY5QyxPQUFBcEwsR0FBQSxFQUFBb0wsQ0FBTTRDLEtBQUFpN0MsUUFBQU4sR0FDVjM2QyxLQUFBNitDLGFBQ0E3K0MsS0FBQSt3QyxPQUFBL3dDLEtBQUFpa0QscUJBTUFvQixFQUFBbGxELFVBQUEwK0MsV0FBQSxXQUNBLElBQUFnQixFQUFBNy9DLEtBQUFpN0MsUUFBQSxTQUE2Q3NELEdBQzdDditDLEtBQUE0K0MsS0FBZ0J4aEQsT0FBQTBpRCxHQUFBLEVBQUExaUQsQ0FBZXlpRCxFQUFBLFdBRy9Cd0YsRUExUVcsQ0EyUVQ3UyxJQy9UUytTLEdBQVUsU0FBQTlpQixHQUNyQixTQUFBK2lCLEVBQUE3M0IsRUFBQTlzQixFQUFBdWhDLEVBQUE1aUMsRUFBQWltRCxFQUFBM2pCLEdBRUFXLEVBQUExaUMsS0FBQUMsS0FBQTJ0QixFQUFBOXNCLEdBTUFiLEtBQUF5akMsS0FBQXJCLEVBTUFwaUMsS0FBQWlhLFFBQUF6YSxFQU1BUSxLQUFBMGxELFlBQUFELEVBTUF6bEQsS0FBQTJsRCxNQUFBLEtBTUEzbEQsS0FBQTRsRCxNQUFBLEtBTUE1bEQsS0FBQTZsRCxNQUFBLEtBT0E3bEQsS0FBQThsRCxPQUFBaGtCLEVBa0xBLE9BOUtBVyxJQUFBK2lCLEVBQUF0bEQsVUFBQXVpQyxHQUNBK2lCLEVBQUFybEQsVUFBQS9DLE9BQUFnRCxPQUFBcWlDLEtBQUF0aUMsV0FDQXFsRCxFQUFBcmxELFVBQUFFLFlBQUFtbEQsRUFNQUEsRUFBQXJsRCxVQUFBNGQsU0FBQSxXQUNBLGFBU0F5bkMsRUFBQXJsRCxVQUFBNGxELFFBQUEsU0FBQXZ2RCxHQUNBLElBQUF3SixLQUFBMmxELFFBQUEzbEQsS0FBQTRsRCxNQUNBLFlBRUEsSUFBQUksR0FBQXh2RCxFQUFBLEdBQUF3SixLQUFBaWEsUUFBQSxLQUNBamEsS0FBQWlhLFFBQUEsR0FBQWphLEtBQUFpYSxRQUFBLElBQ0Fnc0MsR0FBQXp2RCxFQUFBLEdBQUF3SixLQUFBaWEsUUFBQSxLQUNBamEsS0FBQWlhLFFBQUEsR0FBQWphLEtBQUFpYSxRQUFBLElBRUFpc0MsRUFBQWxtRCxLQUFBMmxELE1BQUF4dUQsS0FBQTRoQixPQUFBLEVBQUFrdEMsR0FBQWptRCxLQUFBMmxELE1BQUFqMEQsU0FFQSxvQkFBQXcwRCxFQUNBLFlBR0EsSUFBQUMsRUFBQUQsRUFBQXprQixXQUFBdHFDLEtBQUE0aEIsTUFBQWl0QyxFQUFBRSxFQUFBeDBELFNBQ0F5MEQsR0FBQSxJQUNBQSxJQUVBQSxHQUFBLElBQ0FBLElBSUEsSUFBQXZ6RCxFQUFBLEtBQ0EsSUFIQXV6RCxHQUFBLE1BR0FubUQsS0FBQTRsRCxNQUFBLENBQ0EsSUFBQTFoRCxFQUFBbEUsS0FBQTRsRCxNQUFBTyxHQUVBdnpELEVBREFvTixLQUFBNmxELE9BQUEzaEQsS0FBQWxFLEtBQUE2bEQsTUFDQTdsRCxLQUFBNmxELE1BQUEzaEQsR0FFQUEsRUFHQSxPQUFBdFIsR0FjQTR5RCxFQUFBcmxELFVBQUFpbUQsb0JBQUEsU0FBQTV2RCxFQUFBdVAsRUFBQXNKLEVBQUFnM0MsR0FDQXJtRCxLQUFBYSxPQUFzQjgzQixFQUFBLEVBQVNwZ0MsT0FBQSxJQUFBOHRELEdBQ3pCanBELE9BQUF1RyxFQUFBLEVBQUF2RyxDQUFVNEMsS0FBTzRELEVBQUEsRUFBU0MsT0FBQSxTQUFBeEosR0FDaEMwTCxFQUFBaEcsS0FBQXNQLEVBQUFyUCxLQUFBK2xELFFBQUF2dkQsS0FDT3dKLE1BQ1BBLEtBQUFzbUQsa0JBRUEsSUFBQUQsRUFDQTFuQixXQUFBLFdBQ0E1NEIsRUFBQWhHLEtBQUFzUCxFQUFBclAsS0FBQStsRCxRQUFBdnZELEtBQ1MyaEIsS0FBQW5ZLE1BQUEsR0FFVCtGLEVBQUFoRyxLQUFBc1AsRUFBQXJQLEtBQUErbEQsUUFBQXZ2RCxLQVNBZ3ZELEVBQUFybEQsVUFBQXk0QixPQUFBLFdBQ0EsT0FBQTU0QixLQUFBeWpDLE1BT0EraEIsRUFBQXJsRCxVQUFBb21ELGFBQUEsV0FDQXZtRCxLQUFBYSxNQUFpQjgzQixFQUFBLEVBQVNqZ0MsTUFDMUJzSCxLQUFBK0MsV0FRQXlpRCxFQUFBcmxELFVBQUFxbEIsWUFBQSxTQUFBZ2hDLEdBQ0F4bUQsS0FBQTJsRCxNQUFBYSxFQUFBLEtBQ0F4bUQsS0FBQTRsRCxNQUFBWSxFQUFBLEtBQ0F4bUQsS0FBQTZsRCxNQUFBVyxFQUFBLEtBRUF4bUQsS0FBQWEsTUFBaUI4M0IsRUFBQSxFQUFTaGdDLE1BQzFCcUgsS0FBQStDLFdBT0F5aUQsRUFBQXJsRCxVQUFBbW1ELGNBQUEsV0FDQSxHQUFBdG1ELEtBQUFhLE9BQXNCODNCLEVBQUEsRUFBU3BnQyxLQUUvQixHQURBeUgsS0FBQWEsTUFBbUI4M0IsRUFBQSxFQUFTbmdDLFFBQzVCd0gsS0FBQThsRCxPQUNRaGtCLEVBQVk5aEMsS0FBQXlqQyxLQUFBempDLEtBQUF3bEIsWUFBQXJOLEtBQUFuWSxNQUNwQkEsS0FBQXVtRCxhQUFBcHVDLEtBQUFuWSxXQUNPLENBQ1AsSUFBQW0zQyxFQUFBLElBQUEvL0IsZUFDQSsvQixFQUFBL1ksaUJBQUEsT0FBQXArQixLQUFBNmtELFdBQUExc0MsS0FBQW5ZLE9BQ0FtM0MsRUFBQS9ZLGlCQUFBLFFBQUFwK0IsS0FBQThrRCxZQUFBM3NDLEtBQUFuWSxPQUNBbTNDLEVBQUE5L0IsS0FBQSxNQUFBclgsS0FBQXlqQyxNQUNBMFQsRUFBQTkrQixTQVVBbXRDLEVBQUFybEQsVUFBQTBrRCxXQUFBLFNBQUEvOEMsR0FDQSxJQUFBcXZDLEVBQTJDcnZDLEVBQUEsT0FFM0MsSUFBQXF2QyxFQUFBMS9CLFFBQUEwL0IsRUFBQTEvQixRQUFBLEtBQUEwL0IsRUFBQTEvQixPQUFBLEtBQ0EsSUFBQWc5QixFQUNBLElBQ0FBLEVBQTJDNTlCLEtBQUEwZ0MsTUFBQUosRUFBQXgvQixjQUNwQyxNQUFBOE4sR0FFUCxZQURBemxCLEtBQUF1bUQsZUFHQXZtRCxLQUFBd2xCLFlBQUFpdkIsUUFFQXowQyxLQUFBdW1ELGdCQVNBZixFQUFBcmxELFVBQUEya0QsWUFBQSxTQUFBaDlDLEdBQ0E5SCxLQUFBdW1ELGdCQU9BZixFQUFBcmxELFVBQUEyRSxLQUFBLFdBQ0E5RSxLQUFBMGxELGFBQ0ExbEQsS0FBQXNtRCxpQkFJQWQsRUFoT3FCLENBaU9uQmhqQixHQStQYWlrQixHQXRPSixTQUFBblcsR0FDWCxTQUFBb1csRUFBQWhtRCxHQStCQSxHQTlCQTR2QyxFQUFBdndDLEtBQUFDLEtBQUEsQ0FDQVksV0FBa0J4RCxPQUFBeW5DLEVBQUEsRUFBQXpuQyxDQUFhLGFBQy9CeUQsTUFBYUMsRUFBQSxFQUFXdEksVUFPeEJ3SCxLQUFBMGxELGlCQUFBbm9ELElBQUFtRCxFQUFBK2tELFlBQ0Eva0QsRUFBQStrRCxXQU1BemxELEtBQUEybUQsaUJBQTRCeGxCLEVBTTVCbmhDLEtBQUE0bUQsZUFBQXJwRCxFQU1BeUMsS0FBQThsRCxPQUFBcGxELEVBQUFvaEMsUUFBQSxFQUVBcGhDLEVBQUFjLElBQ0EsR0FBQXhCLEtBQUE4bEQsT0FDUWhrQixFQUFZcGhDLEVBQUFjLElBQUF4QixLQUFBMmtELHVCQUFBeHNDLEtBQUFuWSxNQUNwQkEsS0FBQTRrRCxvQkFBQXpzQyxLQUFBblksV0FDTyxDQUNQLElBQUFtM0MsRUFBQSxJQUFBLy9CLGVBQ0ErL0IsRUFBQS9ZLGlCQUFBLE9BQUFwK0IsS0FBQTZrRCxXQUFBMXNDLEtBQUFuWSxPQUNBbTNDLEVBQUEvWSxpQkFBQSxRQUFBcCtCLEtBQUE4a0QsWUFBQTNzQyxLQUFBblksT0FDQW0zQyxFQUFBOS9CLEtBQUEsTUFBQTNXLEVBQUFjLEtBQ0EyMUMsRUFBQTkrQixZQUVLM1gsRUFBQXFrRCxTQUNML2tELEtBQUEya0QsdUJBQUFqa0QsRUFBQXFrRCxVQUVNM25ELE9BQUFzRSxFQUFBLEVBQUF0RSxFQUFNLE1Bb0xaLE9BL0tBa3pDLElBQUFvVyxFQUFBeG1ELFVBQUFvd0MsR0FDQW9XLEVBQUF2bUQsVUFBQS9DLE9BQUFnRCxPQUFBa3dDLEtBQUFud0MsV0FDQXVtRCxFQUFBdm1ELFVBQUFFLFlBQUFxbUQsRUFPQUEsRUFBQXZtRCxVQUFBMGtELFdBQUEsU0FBQS84QyxHQUNBLElBQUFxdkMsRUFBMkNydkMsRUFBQSxPQUUzQyxJQUFBcXZDLEVBQUExL0IsUUFBQTAvQixFQUFBMS9CLFFBQUEsS0FBQTAvQixFQUFBMS9CLE9BQUEsS0FDQSxJQUFBZzlCLEVBQ0EsSUFDQUEsRUFBNkQ1OUIsS0FBQTBnQyxNQUFBSixFQUFBeC9CLGNBQ3RELE1BQUE4TixHQUVQLFlBREF6bEIsS0FBQTRrRCxzQkFHQTVrRCxLQUFBMmtELHVCQUFBbFEsUUFFQXowQyxLQUFBNGtELHVCQVNBOEIsRUFBQXZtRCxVQUFBMmtELFlBQUEsU0FBQWg5QyxHQUNBOUgsS0FBQTRrRCx1QkFTQThCLEVBQUF2bUQsVUFBQTBtRCxZQUFBLFdBQ0EsT0FBQTdtRCxLQUFBNG1ELFdBZUFGLEVBQUF2bUQsVUFBQTJtRCxpQ0FBQSxTQUNBdHdELEVBQUFpSixFQUFBc0csRUFBQXNnRCxHQUNBLEdBQUFybUQsS0FBQXNzQixTQUFBLENBQ0EsSUFBQXFCLEVBQUEzdEIsS0FBQXNzQixTQUFBNmhCLGtDQUNBMzNDLEVBQUFpSixHQUN3Q08sS0FBQTRyQixRQUN4QytCLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEtBQUEzdEIsS0FBQXNRLGlCQUNBODFDLG9CQUFBNXZELEVBQUF1UCxFQUFBLEtBQUFzZ0QsUUFFQSxJQUFBQSxFQUNBMW5CLFdBQUEsV0FDQTU0QixFQUFBLE9BQ1MsR0FFVEEsRUFBQSxPQVNBMmdELEVBQUF2bUQsVUFBQXlrRCxvQkFBQSxXQUNBNWtELEtBQUE0USxTQUFrQjlQLEVBQUEsRUFBV3BJLFFBUzdCZ3VELEVBQUF2bUQsVUFBQXdrRCx1QkFBQSxTQUFBSSxHQUVBLElBR0F2bEQsRUFIQXlsRCxFQUE2QjduRCxPQUFBeW5DLEVBQUEsRUFBQXpuQyxDQUFhLGFBRTFDdzlCLEVBQUE1NkIsS0FBQXNRLGdCQUVBLFFBQUEvUyxJQUFBd25ELEVBQUEsUUFDQSxJQUFBbm1ELEVBQXNCeEIsT0FBQXluQyxFQUFBLEVBQUF6bkMsQ0FDdEI2bkQsRUFBQXJxQixHQUNBcDdCLEVBQWVwQyxPQUFBeUwsRUFBQSxFQUFBekwsQ0FBYzJuRCxFQUFBLE9BQUFubUQsR0FHN0IsSUFBQTh0QyxFQUFBcVksRUFBQSxXQUNBL1gsRUFBQStYLEVBQUEsWUFDQXo0QixFQUFtQitpQixFQUFTLENBQzVCN3ZDLE9BQWN5d0MsRUFBb0JyVixHQUNsQ29TLFVBQ0FOLFlBRUExc0MsS0FBQXNzQixXQUVBdHNCLEtBQUE0bUQsVUFBQTdCLEVBQUEsU0FFQSxJQUFBZ0MsRUFBQWhDLEVBQUEsTUFDQSxHQUFBZ0MsRUFBQSxDQU9BLEdBRkEvbUQsS0FBQTJtRCxpQkFBNEI3bEIsRUFBbUJpbUIsRUFBQXo2QixRQUUvQy91QixJQUFBd25ELEVBQUEsYUFDQSxJQUFBRyxPQUFBM25ELElBQUFpQyxFQUNBQSxFQUFBeWxELEVBQUEzaEQsWUFFQXRELEtBQUEyUSxnQkFBQSxTQUFBRyxHQUNBLE9BQVkxVCxPQUFBeUwsRUFBQSxFQUFBekwsQ0FBVThuRCxFQUFBcDBDLEVBQUF0UixRQUN0QixDQUFBdWxELEVBQUEsYUFFQSxPQUlBL2tELEtBQUE0USxTQUFrQjlQLEVBQUEsRUFBV0MsWUFsQjdCZixLQUFBNFEsU0FBb0I5UCxFQUFBLEVBQVdwSSxRQTBCL0JndUQsRUFBQXZtRCxVQUFBeXJCLFFBQUEsU0FBQWpULEVBQUFyaEIsRUFBQUMsRUFBQXNpQixFQUFBalosR0FDQSxJQUFBZ3VCLEVBQXVCd1IsRUFBU3puQixFQUFBcmhCLEVBQUFDLEdBQ2hDLEdBQUF5SSxLQUFBMHdDLFVBQUFub0IsWUFBQXFHLEdBQ0EsT0FDaUQ1dUIsS0FBQTB3QyxVQUFBdGtDLElBQUF3aUIsR0FHakQsSUFBQWpCLEVBQUEsQ0FBQWhWLEVBQUFyaEIsRUFBQUMsR0FDQTY3QyxFQUNBcHpDLEtBQUFreEMsK0JBQUF2akIsRUFBQS9zQixHQUNBeXlDLEVBQUFyekMsS0FBQTJtRCxpQkFBQXZULEVBQUF2NUIsRUFBQWpaLEdBQ0E0cUIsRUFBQSxJQUFxQis1QixHQUNyQjUzQixPQUNBcHdCLElBQUE4MUMsRUFBZ0MxYSxFQUFBLEVBQVNwZ0MsS0FBUW9nQyxFQUFBLEVBQVNoZ0MsV0FDMUQ0RSxJQUFBODFDLElBQUEsR0FDQXJ6QyxLQUFBc3NCLFNBQUF3QyxtQkFBQW5CLEdBQ0EzdEIsS0FBQTBsRCxZQUNBMWxELEtBQUE4bEQsUUFFQSxPQURBOWxELEtBQUEwd0MsVUFBQW5rQyxJQUFBcWlCLEVBQUFwRCxHQUNBQSxHQVFBazdCLEVBQUF2bUQsVUFBQTI0QixRQUFBLFNBQUFuZ0IsRUFBQXJoQixFQUFBQyxHQUNBLElBQUFxM0IsRUFBdUJ3UixFQUFTem5CLEVBQUFyaEIsRUFBQUMsR0FDaEN5SSxLQUFBMHdDLFVBQUFub0IsWUFBQXFHLElBQ0E1dUIsS0FBQTB3QyxVQUFBdGtDLElBQUF3aUIsSUFJQTgzQixFQWxPVyxDQW1PVGxWLHFCQ3pNYXdWLEdBdlJJLFNBQUF2a0IsR0FDbkIsU0FBQXdrQixFQUFBdDVCLEVBQUE5c0IsRUFBQXVyQixFQUFBaHJCLEVBQUFtaUMsRUFDQTZQLEVBQUF2QixFQUFBakgsRUFBQXRlLEVBQUE0NkIsRUFDQXJ0QyxFQUFBalosRUFBQTh4QyxFQUFBNVcsRUFBQXJFLEdBMkRBLEdBekRBZ0wsRUFBQTFpQyxLQUFBQyxLQUFBMnRCLEVBQUE5c0IsRUFBQSxDQUF1Q3l1QixXQUFBLElBTXZDdHZCLEtBQUErWixTQUFBLEdBTUEvWixLQUFBaUIsUUFNQWpCLEtBQUFtbkQsYUFBQSxHQU1Bbm5ELEtBQUFzckMsYUFBQTRiLEVBTUFsbkQsS0FBQW9uRCxTQUFBLEdBS0FwbkQsS0FBQVIsT0FBQSxLQUtBUSxLQUFBcW5ELGdCQUFBajdCLEVBS0Fwc0IsS0FBQThxQyxpQkFBQXNJLEVBS0FwekMsS0FBQXNuRCxrQkFBQSxHQUtBdG5ELEtBQUF1bkQsd0JBQUEsR0FFQW5VLEVBQUEsQ0FDQSxJQUFBNXpDLEVBQUFRLEtBQUFSLE9BQUE4c0IsRUFBQXdDLG1CQUFBc2tCLEdBQ0EzekMsRUFBQTZzQixFQUFBekcsY0FBQTRSLEdBQ0ErdkIsRUFBQTVjLEVBQUFwZSxrQkFBQS9zQixHQUNBZ29ELEVBQUFod0IsR0FBQTlKLEVBQUEsR0FDQSs1QixFQUFBLEVBa0NBLEdBakNBOWMsRUFBQWlELGlCQUFBcnVDLEVBQUFnb0QsRUFBQSxTQUFBRyxHQUNBLElBQUFDLEVBQTJCeHFELE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFlb0MsRUFDMUNvckMsRUFBQTliLG1CQUFBNjRCLElBQ0F6aUIsRUFBQTBGLEVBQUF0bkMsWUFJQSxHQUhBNGhDLElBQ0EwaUIsRUFBeUJ4cUQsT0FBQXlMLEVBQUEsRUFBQXpMLENBQWV3cUQsRUFBQTFpQixFQUFBMGlCLElBRTVCeHFELE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFRd3FELEdBQUFub0QsR0FBQSxJQUNSckMsT0FBQXlMLEVBQUEsRUFBQXpMLENBQVN3cUQsR0FBQW5vRCxHQUFBLE1BRXJCaW9ELEVBQ0EsSUFBQUcsRUFBQUYsRUFBQXZqRCxXQUNBMGpELEVBQUFaLEVBQUFXLEdBQ0EsSUFBQUMsSUFBQUwsRUFBQSxDQUNBLElBQUFwVSxFQUFBeEIsRUFBQThWLEVBQUE5dEMsRUFBQWpaLEdBQ0FrbkQsRUFBQVosRUFBQVcsR0FBQSxJQUFBblYsRUFBQWlWLEVBQ0FwcUQsTUFBQTgxQyxFQUFxQzFhLEVBQUEsRUFBU2hnQyxNQUFTZ2dDLEVBQUEsRUFBU3BnQyxLQUNoRWdGLE1BQUE4MUMsRUFBQSxHQUFBQSxFQUNBanlDLEVBQUFtaUMsR0FDQXZqQyxLQUFBdW5ELHdCQUFBOWlELEtBQ2NySCxPQUFBdUcsRUFBQSxFQUFBdkcsQ0FBTTBxRCxFQUFhbGtELEVBQUEsRUFBU0MsT0FBQWk0QixLQUUxQ2dzQixHQUFBTCxHQUFBSyxFQUFBdDNDLFlBQXdFbW9CLEVBQUEsRUFBU2xnQyxTQUNqRnF2RCxFQUFBQyxZQUNBL25ELEtBQUFvbkQsU0FBQTNpRCxLQUFBb2pELE1BR08xdkMsS0FBQW5ZLE9BRVB5bkQsR0FBQUMsR0FBQTFuRCxLQUFBb25ELFNBQUExMUQsUUFDQXNPLEtBQUFnb0QsaUJBR0F2d0IsR0FBQTlKLEVBQUEsSUFBQTN0QixLQUFBYSxPQUFnRDgzQixFQUFBLEVBQVNsZ0MsT0FDekQsS0FBQWcvQixFQUFBbkwsRUFBQW9NLGNBQUEsQ0FDQSxJQUFBbE4sRUFBQSxJQUFBeTdCLEVBQUF0NUIsRUFBQTlzQixFQUFBdXJCLEVBQ0FockIsRUFBQW1pQyxFQUFBNlAsRUFBQXZCLEVBQ0FqSCxFQUFBdGUsRUFBQTQ2QixFQUFBcnRDLEVBQUFqWixFQUNBOHhDLEVBQXVCeHhDLEdBQUEsSUFBSXUyQixHQUMzQixHQUFBak0sRUFBQTNxQixPQUE0QjgzQixFQUFBLEVBQVNsZ0MsT0FBQSxDQUNyQ3VILEtBQUEwaUMsWUFBQWxYLEVBQ0EsU0FzS0EsT0E5SkFpWCxJQUFBd2tCLEVBQUEvbUQsVUFBQXVpQyxHQUNBd2tCLEVBQUE5bUQsVUFBQS9DLE9BQUFnRCxPQUFBcWlDLEtBQUF0aUMsV0FDQThtRCxFQUFBOW1ELFVBQUFFLFlBQUE0bUQsRUFLQUEsRUFBQTltRCxVQUFBcTZCLGdCQUFBLFdBQ0F4NkIsS0FBQWEsTUFBaUI4M0IsRUFBQSxFQUFTLy9CLE1BQzFCb0gsS0FBQStDLFVBQ0EvQyxLQUFBMGlDLGFBQ0ExaUMsS0FBQTBpQyxZQUFBaFAsVUFHQSxRQUFBcmhDLEVBQUEsRUFBQXFMLEVBQUFzQyxLQUFBb25ELFNBQUExMUQsT0FBOENXLEVBQUFxTCxJQUFRckwsRUFBQSxDQUN0RCxJQUFBdzFELEVBQUE3bkQsS0FBQW9uRCxTQUFBLzBELEdBQ0F5MUQsRUFBQTluRCxLQUFBNHJCLFFBQUFpOEIsR0FDQUMsRUFBQUMsWUFDQSxHQUFBRCxFQUFBQyxtQkFDQS9uRCxLQUFBc3JDLGFBQUF1YyxHQUNBQyxFQUFBcDBCLFdBR0ExekIsS0FBQW9uRCxTQUFBMTFELE9BQUEsRUFDQXNPLEtBQUFzckMsYUFBQSxLQUNBdHJDLEtBQUFzbkQsa0JBQUE1aEQsUUFBbUMvQixFQUFBLEdBQ25DM0QsS0FBQXNuRCxrQkFBQTUxRCxPQUFBLEVBQ0FzTyxLQUFBdW5ELHdCQUFBN2hELFFBQXlDL0IsRUFBQSxHQUN6QzNELEtBQUF1bkQsd0JBQUE3MUQsT0FBQSxFQUNBK3dDLEVBQUF0aUMsVUFBQXE2QixnQkFBQXo2QixLQUFBQyxPQU9BaW5ELEVBQUE5bUQsVUFBQWpMLFdBQUEsU0FBQW14QixHQUNBLElBQUF0YyxFQUFjM00sT0FBQTZGLEVBQUEsRUFBQTdGLENBQU1pcEIsR0FJcEIsT0FIQXRjLEtBQUEvSixLQUFBK1osV0FDQS9aLEtBQUErWixTQUFBaFEsR0FBMkIzTSxPQUFBMjRCLEVBQUEsRUFBQTM0QixJQUUzQjRDLEtBQUErWixTQUFBaFEsSUFRQWs5QyxFQUFBOW1ELFVBQUE0ZCxTQUFBLFNBQUFzSSxHQUNBLFVBQUFybUIsS0FBQWlvRCxlQUFBNWhDLEdBQUE2aEMscUJBQ0EsS0FBQWxvRCxLQUFBOUssV0FBQW14QixHQUFBeHhCLFFBT0FveUQsRUFBQTltRCxVQUFBOG5ELGVBQUEsU0FBQTVoQyxHQUNBLElBQUF0YyxFQUFjM00sT0FBQTZGLEVBQUEsRUFBQTdGLENBQU1pcEIsR0FTcEIsT0FSQXRjLEtBQUEvSixLQUFBbW5ELGVBQ0FubkQsS0FBQW1uRCxhQUFBcDlDLEdBQUEsQ0FDQW8rQyxPQUFBLEVBQ0FDLG9CQUFBLEtBQ0FwOUIsa0JBQUEsRUFDQWs5QixzQkFBQSxJQUdBbG9ELEtBQUFtbkQsYUFBQXA5QyxJQU1BazlDLEVBQUE5bUQsVUFBQXk0QixPQUFBLFdBQ0EsT0FBQTU0QixLQUFBb25ELFNBQUE1NUMsS0FBQSxTQUFBeE4sS0FBQXFuRCxpQkFPQUosRUFBQTltRCxVQUFBeXJCLFFBQUEsU0FBQW9RLEdBQ0EsT0FBQWg4QixLQUFBc3JDLGFBQUF0UCxJQU1BaXJCLEVBQUE5bUQsVUFBQTJFLEtBQUEsV0FHQSxJQUFBdW5DLEVBQUEsRUFHQWdjLEVBQUEsR0FFQXJvRCxLQUFBYSxPQUFzQjgzQixFQUFBLEVBQVNwZ0MsTUFDL0J5SCxLQUFBNFEsU0FBb0IrbkIsRUFBQSxFQUFTbmdDLFNBRTdCd0gsS0FBQWEsT0FBc0I4M0IsRUFBQSxFQUFTbmdDLFNBQy9Cd0gsS0FBQW9uRCxTQUFBMWhELFFBQUEsU0FBQW1pRCxHQUNBLElBQUFDLEVBQUE5bkQsS0FBQTRyQixRQUFBaThCLEdBS0EsR0FKQUMsRUFBQWpuRCxPQUFnQzgzQixFQUFBLEVBQVNwZ0MsT0FDekN1dkQsRUFBQTcrQyxVQUFBakosS0FBQWlCLFNBQ0E2bUQsRUFBQWhqRCxRQUVBZ2pELEVBQUFqbkQsT0FBZ0M4M0IsRUFBQSxFQUFTbmdDLFFBQUEsQ0FDekMsSUFBQXVSLEVBQW9CM00sT0FBQXVHLEVBQUEsRUFBQXZHLENBQU0wcUQsRUFBYWxrRCxFQUFBLEVBQVNDLE9BQUEsU0FBQXhKLEdBQ2hELElBQUF3RyxFQUFBaW5ELEVBQUF0M0MsV0FDQSxHQUFBM1AsR0FBeUI4M0IsRUFBQSxFQUFTbGdDLFFBQ2xDb0ksR0FBeUI4M0IsRUFBQSxFQUFTamdDLE1BQUEsQ0FDbEMsSUFBQXVXLEVBQXdCN1IsT0FBQTZGLEVBQUEsRUFBQTdGLENBQU0wcUQsR0FDOUJqbkQsR0FBMkI4M0IsRUFBQSxFQUFTamdDLE1BQ3BDMnZELEVBQUFwNUMsSUFBQSxLQUVBbzlCLFNBQ0FnYyxFQUFBcDVDLElBRUFvOUIsRUFBQWp2QyxPQUFBMnJCLEtBQUFzL0IsR0FBQTMyRCxRQUFBLEdBQ0FzTyxLQUFBZ29ELG1CQUdXN3ZDLEtBQUFuWSxPQUNYQSxLQUFBc25ELGtCQUFBN2lELEtBQUFzRixLQUNBc2lDLElBRU9sMEIsS0FBQW5ZLE9BRVBxc0MsRUFBQWp2QyxPQUFBMnJCLEtBQUFzL0IsR0FBQTMyRCxRQUFBLEdBQ0FpdEMsV0FBQTMrQixLQUFBZ29ELGVBQUE3dkMsS0FBQW5ZLE1BQUEsSUFPQWluRCxFQUFBOW1ELFVBQUE2bkQsZUFBQSxXQUdBLElBRkEsSUFBQWxYLEVBQUE5d0MsS0FBQW9uRCxTQUFBMTFELE9BQ0E0MkQsRUFBQSxFQUNBajJELEVBQUF5K0MsRUFBQSxFQUE0QnorQyxHQUFBLElBQVFBLEVBQUEsQ0FDcEMsSUFBQXdPLEVBQUFiLEtBQUE0ckIsUUFBQTVyQixLQUFBb25ELFNBQUEvMEQsSUFBQW1lLFdBQ0EzUCxHQUFtQjgzQixFQUFBLEVBQVNsZ0MsVUFDNUJxNEMsRUFFQWp3QyxHQUFtQjgzQixFQUFBLEVBQVNoZ0MsU0FDNUIydkQsRUFHQXhYLEdBQUE5d0MsS0FBQW9uRCxTQUFBMTFELFFBQ0FzTyxLQUFBc25ELGtCQUFBNWhELFFBQXFDL0IsRUFBQSxHQUNyQzNELEtBQUFzbkQsa0JBQUE1MUQsT0FBQSxFQUNBc08sS0FBQTRRLFNBQW9CK25CLEVBQUEsRUFBU2xnQyxTQUU3QnVILEtBQUE0USxTQUFBMDNDLEdBQUF0b0QsS0FBQW9uRCxTQUFBMTFELE9BQW9EaW5DLEVBQUEsRUFBU2hnQyxNQUFTZ2dDLEVBQUEsRUFBU2pnQyxRQUkvRXV1RCxFQW5SbUIsQ0FvUmpCemtCLEdBVUssU0FBQStsQixHQUFBLzhCLEVBQUFocUIsR0FDUCxJQUFBQyxFQUFlckUsT0FBQXVFLEdBQUEsRUFBQXZFLENBQWVvRSxFQUFBZ3FCLEVBQUE3akIsWUFBQTZqQixFQUFBZzlCLE9BQUFyd0MsS0FBQXFULEtBQUFpOUIsUUFBQXR3QyxLQUFBcVQsSUFDOUJBLEVBQUF2aUIsVUFBQXhILEdDNVNBLElBQUFpbkQsR0FBQSxnQkE4TmVDLEdBM05ELFNBQUFsbUIsR0FDZCxTQUFBbW1CLEVBQUFqN0IsRUFBQTlzQixFQUFBdWhDLEVBQUFoaEMsRUFBQW1pQyxFQUFBOWlDLEdBRUFnaUMsRUFBQTFpQyxLQUFBQyxLQUFBMnRCLEVBQUE5c0IsRUFBQUosR0FLQVQsS0FBQStuRCxVQUFBLEVBTUEvbkQsS0FBQWlhLFFBQUEsS0FNQWphLEtBQUFtQixRQUFBQyxFQU1BcEIsS0FBQTZvRCxVQUFBLEtBTUE3b0QsS0FBQWlCLFFBT0FqQixLQUFBNlAsWUFBQSxLQU1BN1AsS0FBQThvRCxjQUFBLEdBTUE5b0QsS0FBQTRqQyxrQkFBQUwsRUFNQXZqQyxLQUFBdUIsS0FBQTZnQyxFQStKQSxPQTNKQUssSUFBQW1tQixFQUFBMW9ELFVBQUF1aUMsR0FDQW1tQixFQUFBem9ELFVBQUEvQyxPQUFBZ0QsT0FBQXFpQyxLQUFBdGlDLFdBQ0F5b0QsRUFBQXpvRCxVQUFBRSxZQUFBdW9ELEVBS0FBLEVBQUF6b0QsVUFBQXE2QixnQkFBQSxXQUNBeDZCLEtBQUE2b0QsVUFBQSxLQUNBN29ELEtBQUE4b0QsY0FBQSxHQUNBOW9ELEtBQUFhLE1BQWlCODNCLEVBQUEsRUFBUy8vQixNQUMxQm9ILEtBQUErQyxVQUNBMC9CLEVBQUF0aUMsVUFBQXE2QixnQkFBQXo2QixLQUFBQyxPQVFBNG9ELEVBQUF6b0QsVUFBQW1ELFVBQUEsV0FDQSxPQUFBdEQsS0FBQWlhLFNBQUF5dUMsSUFRQUUsRUFBQXpvRCxVQUFBd0gsVUFBQSxXQUNBLE9BQUEzSCxLQUFBbUIsU0FTQXluRCxFQUFBem9ELFVBQUFxRyxZQUFBLFdBQ0EsT0FBQXhHLEtBQUE2b0QsV0FNQUQsRUFBQXpvRCxVQUFBeTRCLE9BQUEsV0FDQSxPQUFBNTRCLEtBQUF1QixNQVNBcW5ELEVBQUF6b0QsVUFBQW1RLGNBQUEsV0FDQSxPQUFBdFEsS0FBQTZQLGFBUUErNEMsRUFBQXpvRCxVQUFBNG9ELGVBQUEsU0FBQTFpQyxFQUFBdGMsR0FDQSxPQUFBL0osS0FBQThvRCxjQUE4QjFyRCxPQUFBNkYsRUFBQSxFQUFBN0YsQ0FBTWlwQixHQUFBLElBQUF0YyxJQU1wQzYrQyxFQUFBem9ELFVBQUEyRSxLQUFBLFdBQ0E5RSxLQUFBYSxPQUFzQjgzQixFQUFBLEVBQVNwZ0MsT0FDL0J5SCxLQUFBNFEsU0FBb0IrbkIsRUFBQSxFQUFTbmdDLFNBQzdCd0gsS0FBQTRqQyxrQkFBQTVqQyxVQUFBdUIsTUFDQXZCLEtBQUFpQixRQUFBLEtBQUFrRyxJQUFBLFFBVUF5aEQsRUFBQXpvRCxVQUFBcW9ELE9BQUEsU0FBQXptRCxFQUFBd1csRUFBQS9ZLEdBQ0FRLEtBQUFncEQsY0FBQXp3QyxHQUNBdlksS0FBQWlwRCxZQUFBbG5ELEdBQ0EvQixLQUFBa3BELFVBQUExcEQsSUFNQW9wRCxFQUFBem9ELFVBQUFzb0QsUUFBQSxXQUNBem9ELEtBQUE0USxTQUFrQituQixFQUFBLEVBQVNqZ0MsUUFlM0Jrd0QsRUFBQXpvRCxVQUFBK29ELFVBQUEsU0FBQTFwRCxHQUNBUSxLQUFBaWEsUUFBQXphLEdBU0FvcEQsRUFBQXpvRCxVQUFBOG9ELFlBQUEsU0FBQWxuRCxHQUNBL0IsS0FBQTZvRCxVQUFBOW1ELEVBQ0EvQixLQUFBNFEsU0FBa0IrbkIsRUFBQSxFQUFTbGdDLFNBVTNCbXdELEVBQUF6b0QsVUFBQTZvRCxjQUFBLFNBQUFwb0QsR0FDQVosS0FBQTZQLFlBQUFqUCxHQVFBZ29ELEVBQUF6b0QsVUFBQWdwRCxlQUFBLFNBQUE5aUMsRUFBQXRjLEVBQUFxL0MsR0FDQXBwRCxLQUFBOG9ELGNBQXVCMXJELE9BQUE2RixFQUFBLEVBQUE3RixDQUFNaXBCLEdBQUEsSUFBQXRjLEdBQUFxL0MsR0FRN0JSLEVBQUF6b0QsVUFBQThJLFVBQUEsU0FBQXhILEdBQ0F6QixLQUFBaUIsUUFBQVEsR0FHQW1uRCxFQXhOYyxDQXlOWnBtQixHQ1hhNm1CLEdBbEpELFNBQUExWCxHQUNkLFNBQUFpWCxFQUFBbG9ELEdBQ0EsSUFBQUUsRUFBQUYsRUFBQUUsWUFBQSxZQUVBcEIsRUFBQWtCLEVBQUFsQixRQUFtQ3l3QyxFQUFvQnJ2QyxHQUV2RDByQixFQUFBNXJCLEVBQUE0ckIsVUFBdUMraUIsRUFBUyxDQUNoRDd2QyxTQUNBd3RDLFFBQUF0c0MsRUFBQXNzQyxTQUFBLEdBQ0FOLFFBQUFoc0MsRUFBQWdzQyxRQUNBYSxTQUFBN3NDLEVBQUE2c0MsVUFBQSxNQUdBb0UsRUFBQTV4QyxLQUFBQyxLQUFBLENBQ0FXLGFBQUFELEVBQUFDLGFBQ0FnSixlQUFBcE0sSUFBQW1ELEVBQUFpSixVQUFBakosRUFBQWlKLFVBQUEsSUFDQTZtQyxRQUFBLEVBQ0E1dkMsYUFDQUMsTUFBQUgsRUFBQUcsTUFDQXlyQixXQUNBaVgsaUJBQUE3aUMsRUFBQTZpQyxpQkFBQTdpQyxFQUFBNmlDLGlCQUE4RWdsQixHQUM5RTFXLGdCQUFBbnhDLEVBQUFteEMsZ0JBQ0Fyd0MsSUFBQWQsRUFBQWMsSUFDQTYvQixLQUFBM2dDLEVBQUEyZ0MsS0FDQXJnQyxXQUFBekQsSUFBQW1ELEVBQUFNLE9BQUFOLEVBQUFNLE1BQ0FzdUIsV0FBQTV1QixFQUFBNHVCLGFBT0F0dkIsS0FBQW1CLFFBQUFULEVBQUFVLE9BQUFWLEVBQUFVLE9BQUEsS0FNQXBCLEtBQUFzckMsYUFBQSxHQU1BdHJDLEtBQUFxQixVQUFBOUQsTUFBQW1ELEVBQUFZLFVBQUFaLEVBQUFZLFNBTUF0QixLQUFBMHlDLFVBQUFoeUMsRUFBQWd5QyxVQUFBaHlDLEVBQUFneUMsVUFBNkRpVyxHQU03RDNvRCxLQUFBc3BELFdBQUEsR0FzRkEsT0FsRkEzWCxJQUFBaVgsRUFBQTFvRCxVQUFBeXhDLEdBQ0FpWCxFQUFBem9ELFVBQUEvQyxPQUFBZ0QsT0FBQXV4QyxLQUFBeHhDLFdBQ0F5b0QsRUFBQXpvRCxVQUFBRSxZQUFBdW9ELEVBS0FBLEVBQUF6b0QsVUFBQXlILFlBQUEsV0FDQSxPQUFBNUgsS0FBQXFCLFdBT0F1bkQsRUFBQXpvRCxVQUFBOUMsTUFBQSxXQUNBMkMsS0FBQTB3QyxVQUFBcnpDLFFBQ0EyQyxLQUFBc3JDLGFBQUEsSUFNQXNkLEVBQUF6b0QsVUFBQXlyQixRQUFBLFNBQUFqVCxFQUFBcmhCLEVBQUFDLEVBQUFzaUIsRUFBQWpaLEdBQ0EsSUFBQWd1QixFQUF1QndSLEVBQVN6bkIsRUFBQXJoQixFQUFBQyxHQUNoQyxHQUFBeUksS0FBQTB3QyxVQUFBbm9CLFlBQUFxRyxHQUNBLE9BQ2lENXVCLEtBQUEwd0MsVUFBQXRrQyxJQUFBd2lCLEdBR2pELElBQUFqQixFQUFBLENBQUFoVixFQUFBcmhCLEVBQUFDLEdBQ0E2N0MsRUFBQXB6QyxLQUFBa3hDLCtCQUNBdmpCLEVBQUEvc0IsR0FDQTRxQixFQUFBLElBQXFCdzdCLEdBQ3JCcjVCLEVBQ0EsT0FBQXlsQixFQUFnQ3phLEVBQUEsRUFBU3BnQyxLQUFRb2dDLEVBQUEsRUFBU2hnQyxNQUMxRHFILEtBQUFxc0IsY0FDQXJzQixLQUFBbUIsUUFBQW5CLEtBQUF1akMsaUJBQUE2UCxFQUFBcHpDLEtBQUE2eEMsZ0JBQ0E3eEMsS0FBQXNzQixTQUFBdHNCLEtBQUF1c0IseUJBQUEzckIsR0FDQVosS0FBQXNyQyxhQUFBenhCLEVBQUFqWixFQUFBWixLQUFBMHlDLFVBQ0ExeUMsS0FBQTg3QixpQkFBQTNqQixLQUFBblksTUFBQTJ0QixFQUFBLElBR0EsT0FEQTN0QixLQUFBMHdDLFVBQUFua0MsSUFBQXFpQixFQUFBcEQsR0FDQUEsR0FRQW85QixFQUFBem9ELFVBQUFvc0IseUJBQUEsU0FBQTNyQixHQUNBLElBQUF1bEQsRUFBQXZsRCxFQUFBazdDLFVBQ0F4dkIsRUFBQXRzQixLQUFBc3BELFdBQUFuRCxHQUNBLElBQUE3NUIsRUFBQSxDQUdBLElBQUFzZSxFQUFBNXFDLEtBQUFzc0IsU0FDQUEsRUFBQXRzQixLQUFBc3BELFdBQUFuRCxHQUF5Q2hYLEVBQW1CdnVDLE9BQUFyRCxFQUM1RHF0QyxJQUFBd0IsWUFBQXhCLEVBQUFsUyxtQkFBQW43QixHQUVBLE9BQUErdUIsR0FPQXM4QixFQUFBem9ELFVBQUE2c0Isa0JBQUEsU0FBQW5ULEdBQ0EsT0FBQUEsR0FPQSt1QyxFQUFBem9ELFVBQUFndUIsaUJBQUEsU0FBQXhWLEVBQUFrQixFQUFBalosR0FDQSxJQUFBMHJCLEVBQUF0c0IsS0FBQXVzQix5QkFBQTNyQixHQUNBMnNDLEVBQW1CbndDLE9BQUE2d0MsRUFBQSxFQUFBN3dDLENBQU1rdkIsRUFBQThmLFlBQUF6ekIsR0FBQTNZLEtBQUEyd0MsU0FDekIsT0FBQXg1QyxLQUFBOHZCLE1BQUFzbUIsRUFBQSxHQUFBMXpCLEdBQUExaUIsS0FBQTh2QixNQUFBc21CLEVBQUEsR0FBQTF6QixLQUdBK3VDLEVBOUljLENBK0labFgsSUNqTmE2WCxHQUFBLENBQ2ZDLElBQUEsTUFDQUMsS0FBQSxRQ3FEQSxJQXlNZUMsR0F6TVAsU0FBQWpYLEdBQ1IsU0FBQWtYLEVBQUFqcEQsR0FJQSxJQUFBa3BELE9BQUFyc0QsSUFBQW1ELEVBQUFrcEQsZ0JBQzREbHBELEVBQUEsZ0JBQ3RENm9ELEdBQW1CQyxJQUl6Qmw5QixFQUFBNXJCLEVBQUE0ckIsU0FFQStVLEVBQUEzZ0MsRUFBQTJnQyxVQUNBOWpDLElBQUE4akMsUUFBQTlqQyxJQUFBbUQsRUFBQWMsTUFDQTYvQixFQUFhRCxFQUFTMWdDLEVBQUFjLE1BR3RCaXhDLEVBQUExeUMsS0FBQUMsS0FBQSxDQUNBVyxhQUFBRCxFQUFBQyxhQUNBZ0osVUFBQWpKLEVBQUFpSixVQUNBMjVCLFlBQUE1aUMsRUFBQTRpQyxZQUNBMWlDLFdBQUFGLEVBQUFFLFdBQ0FreUMsMkJBQUFweUMsRUFBQW95QywyQkFDQUosVUFBQWh5QyxFQUFBZ3lDLFVBQ0FwbUIsV0FDQWlYLGlCQUFBN2lDLEVBQUE2aUMsaUJBQ0F4VyxlQUFBcnNCLEVBQUFxc0IsZUFDQThrQixnQkFBdUIxUSxFQUN2QkUsT0FDQXJnQyxXQUFBekQsSUFBQW1ELEVBQUFNLE9BQUFOLEVBQUFNLE1BQ0FzdUIsV0FBQTV1QixFQUFBNHVCLGFBT0F0dkIsS0FBQTZwRCxjQUFBdHNELElBQUFtRCxFQUFBbS9DLFFBQUFuL0MsRUFBQW0vQyxRQUFBLFFBTUE3L0MsS0FBQW1CLGFBQUE1RCxJQUFBbUQsRUFBQVUsT0FBQVYsRUFBQVUsT0FBQSxhQU1BcEIsS0FBQThwRCxpQkFBQXZzRCxJQUFBbUQsRUFBQXFwRCxXQUFBcnBELEVBQUFxcEQsV0FBQSxHQU1BL3BELEtBQUF1M0IsT0FBQTcyQixFQUFBMmxCLE1BTUFybUIsS0FBQWdxRCxXQUFBdHBELEVBQUF1cEQsVUFNQWpxRCxLQUFBc0wsT0FBQTVLLEVBQUExQyxNQVNBZ0MsS0FBQWtxRCxpQkFBQU4sRUFFQTVwRCxLQUFBK3dDLE9BQUEvd0MsS0FBQW1xRCx3QkFFQTlvQixLQUFBM3ZDLE9BQUEsSUFDQXNPLEtBQUE2eEMsZ0JBQTZCNVEsRUFBMEJJLEVBQUEzMkIsSUFBQTAvQyxHQUFBanlDLEtBQUFuWSxTQW9IdkQsT0EvR0F5eUMsSUFBQWtYLEVBQUF6cEQsVUFBQXV5QyxHQUNBa1gsRUFBQXhwRCxVQUFBL0MsT0FBQWdELE9BQUFxeUMsS0FBQXR5QyxXQUNBd3BELEVBQUF4cEQsVUFBQUUsWUFBQXNwRCxFQU9BQSxFQUFBeHBELFVBQUEyeEMsUUFBQSxTQUFBelEsR0FDQXJoQyxLQUFBcWhDLE9BQ0EsSUFBQXQzQixFQUFBczNCLEVBQUE3ekIsS0FBQSxNQUNBeE4sS0FBQWd5QyxtQkFBNEIvUSxFQUEwQkksRUFBQTMyQixJQUFBMC9DLEdBQUFqeUMsS0FBQW5ZLFFBQUErSixJQVV0RDQvQyxFQUFBeHBELFVBQUFrcUQsY0FBQSxXQUNBLE9BQUFycUQsS0FBQThwRCxhQVNBSCxFQUFBeHBELFVBQUF3SCxVQUFBLFdBQ0EsT0FBQTNILEtBQUFtQixTQVNBd29ELEVBQUF4cEQsVUFBQTBuQixTQUFBLFdBQ0EsT0FBQTduQixLQUFBdTNCLFFBU0FveUIsRUFBQXhwRCxVQUFBbXFELGFBQUEsV0FDQSxPQUFBdHFELEtBQUFncUQsWUFTQUwsRUFBQXhwRCxVQUFBb3FELG1CQUFBLFdBQ0EsT0FBQXZxRCxLQUFBa3FELGtCQVNBUCxFQUFBeHBELFVBQUErTCxTQUFBLFdBQ0EsT0FBQWxNLEtBQUFzTCxRQVNBcStDLEVBQUF4cEQsVUFBQXFxRCxXQUFBLFdBQ0EsT0FBQXhxRCxLQUFBNnBELFVBUUFGLEVBQUF4cEQsVUFBQWdxRCxxQkFBQSxXQUNBLElBQUE5M0QsRUFBQSxFQUNBaUMsRUFBQSxHQUNBLFFBQUF5VixLQUFBL0osS0FBQThwRCxZQUNBeDFELEVBQUFqQyxLQUFBMFgsRUFBQSxJQUFBL0osS0FBQThwRCxZQUFBLy9DLEdBRUEsT0FBQXpWLEVBQUFrWixLQUFBLE1BU0FtOEMsRUFBQXhwRCxVQUFBc3FELGlCQUFBLFNBQUFWLEdBQ0kzc0QsT0FBQXBMLEdBQUEsRUFBQW9MLENBQU00QyxLQUFBOHBELFlBQUFDLEdBQ1YvcEQsS0FBQSt3QyxPQUFBL3dDLEtBQUFtcUQseUJBR0FSLEVBdE1RLENBdU1OblgsSUEwTUYsU0FBQTRYLEdBQUE3cEIsR0FDQSxJQUFBcXBCLEVBQUE1cEQsS0FBQWtxRCxpQkFJQXZ0RCxFQUFBLENBQ0EwcEIsTUFBQXJtQixLQUFBdTNCLE9BQ0F2NUIsTUFBQWdDLEtBQUFzTCxPQUNBby9DLGNBQUExcUQsS0FBQWdxRCxZQUdBSixHQUF5QkwsR0FBbUJDLEtBQ3hDcHNELE9BQUFwTCxHQUFBLEVBQUFvTCxDQUFNVCxFQUFBLENBQ1ZndUQsUUFBQSxPQUNBQyxRQUFBLFVBQ0FDLFFBQUE3cUQsS0FBQTZwRCxTQUNBaUIsT0FBQTlxRCxLQUFBbUIsVUFRQW8vQixFQUFBcXBCLEdBQWlDTCxHQUFtQkMsSUFDaEQvTyxHQUFZbGEsRUFBQTVqQyxHQUNoQjRqQyxFQUFBblgsUUFBQSxjQUFnQyxTQUFBN1QsRUFBQWxELEdBQ2hDLE9BQUFBLEVBQUFyWSxnQkFBQTJDLElBQUEwVixFQUFBclksZUFBQXViLElBR0EsSUFBQStXLEVBQ0F0c0IsS0FBQSxTQUNBK3BELEVBQUEvcEQsS0FBQThwRCxZQUVBLGdCQU9BbjhCLEVBQUE5VCxFQUFBalosR0FDQSxHQUFBK3NCLEVBRU8sQ0FDUCxJQUFBbzlCLEVBQUEsQ0FDQUMsV0FBQTErQixFQUFBMitCLFlBQUF0OUIsRUFBQSxJQUNBdTlCLFFBQUF2OUIsRUFBQSxHQUNBdzlCLFNBQUF4OUIsRUFBQSxNQUVRdndCLE9BQUFwTCxHQUFBLEVBQUFvTCxDQUFNMnRELEVBQUFoQixHQUNkLElBQUF2b0QsRUFBQSsrQixFQVFBLE9BTkEvK0IsRUFEQW9vRCxHQUErQkwsR0FBbUJDLElBQ2xDL08sR0FBWWo1QyxFQUFBdXBELEdBRTVCdnBELEVBQUE0bkIsUUFBQSxjQUF1QyxTQUFBN1QsRUFBQWxELEdBQ3ZDLE9BQUEwNEMsRUFBQTE0QyxPQ3JmQSxJQUFBKzRDLEdBQUEsQ0FDQUMsUUFBQSxVQUNBQyxVQUFBLGFBSVdDLEdBQVUsU0FBQWxvQixHQUNyQixTQUFBbWlCLEVBQUFsNUIsRUFBQXFCLEVBQUE5c0IsRUFBQXVoQyxFQUFBa0IsRUFBQUMsRUFBQTlpQyxHQUVBNGlDLEVBQUF0akMsS0FBQUMsS0FBQTJ0QixFQUFBOXNCLEVBQUF1aEMsRUFBQWtCLEVBQUFDLEVBQUE5aUMsR0FNQVQsS0FBQXdyRCxjQUFBLEtBTUF4ckQsS0FBQXN0QyxVQUFxQmx3QyxPQUFBNndDLEVBQUEsRUFBQTd3QyxDQUFNa3ZCLEVBQUE4ZixZQUFBemUsRUFBQSxLQWdDM0IsT0E1QkEwVixJQUFBbWlCLEVBQUF0bEQsVUFBQW1qQyxHQUNBbWlCLEVBQUFybEQsVUFBQS9DLE9BQUFnRCxPQUFBaWpDLEtBQUFsakMsV0FDQXFsRCxFQUFBcmxELFVBQUFFLFlBQUFtbEQsRUFLQUEsRUFBQXJsRCxVQUFBNGQsU0FBQSxXQUNBLEdBQUEvZCxLQUFBd3JELGNBQ0EsT0FBQXhyRCxLQUFBd3JELGNBRUEsSUFBQTFzRCxFQUFBdWtDLEVBQUFsakMsVUFBQTRkLFNBQUFoZSxLQUFBQyxNQUNBLEdBQUFBLEtBQUFhLE9BQXNCODNCLEVBQUEsRUFBU2xnQyxPQUFBLENBQy9CLElBQUE4MEMsRUFBQXZ0QyxLQUFBc3RDLFVBQ0EsR0FBQXh1QyxFQUFBOUosT0FBQXU0QyxFQUFBLElBQUF6dUMsRUFBQTdKLFFBQUFzNEMsRUFBQSxHQUVBLE9BREF2dEMsS0FBQXdyRCxjQUFBMXNELEVBQ0FBLEVBRUEsSUFBQW5DLEVBQXNCUyxPQUFBMjRCLEVBQUEsRUFBQTM0QixDQUFxQm13QyxFQUFBLEdBQUFBLEVBQUEsSUFHM0MsT0FGQTV3QyxFQUFBbkIsVUFBQXNELEVBQUEsS0FDQWtCLEtBQUF3ckQsY0FBQTd1RCxFQUFBOUgsT0FDQThILEVBQUE5SCxPQUdBLE9BQUFpSyxHQUlBMG1ELEVBL0NxQixDQWdEbkJwaUIsR0FxTGFxb0IsR0F6SUosU0FBQWhaLEdBQ1gsU0FBQWlaLEVBQUFqckQsR0FFQSxJQUFBQyxFQUFBRCxHQUFBLEdBRUFwRSxFQUFBcUUsRUFBQXJFLEtBQ0FzdkQsT0FBQXB1RCxJQUFBbUQsRUFBQWlyRCxvQkFDQWpyRCxFQUFBaXJELG9CQUNBUCxHQUFBQyxRQUVBcFcsRUFBQTU0QyxFQUFBLEdBQ0E2NEMsRUFBQTc0QyxFQUFBLEdBQ0FtRCxFQUFBa0IsRUFBQWxCLFFBQUEsSUFBQW5ELEVBQUEsR0FBQUEsRUFBQSxNQUNBdXZELEVBQUEsR0FDQXJlLEVBQUE3c0MsRUFBQTZzQyxVQUF1Q0MsRUFBQSxFQUN2Q3FlLEVBQUF0ZSxFQUVBLE9BQUFvZSxHQUNBLEtBQUFQLEdBQUFDLFFBQ0EsS0FBQXBXLEVBQUE0VyxHQUFBM1csRUFBQTJXLEdBQ0FELEVBQUFubkQsS0FBQSxDQUNBdE4sS0FBQXlhLEtBQUFxakMsRUFBQTRXLEdBQ0ExMEQsS0FBQXlhLEtBQUFzakMsRUFBQTJXLEtBRUFBLEtBRUEsTUFDQSxLQUFBVCxHQUFBRSxVQUdBLElBRkEsSUFBQXQyRCxFQUFBaWdELEVBQ0FoZ0QsRUFBQWlnRCxFQUNBbGdELEVBQUE2MkQsR0FBQTUyRCxFQUFBNDJELEdBQ0FELEVBQUFubkQsS0FBQSxDQUNBdE4sS0FBQXlhLEtBQUE1YyxFQUFBNjJELEdBQ0ExMEQsS0FBQXlhLEtBQUEzYyxFQUFBNDJELEtBRUE3MkQsSUFBQSxFQUNBQyxJQUFBLEVBRUEsTUFDQSxRQUNRbUksT0FBQXNFLEVBQUEsRUFBQXRFLEVBQU0sTUFJZHd1RCxFQUFBbm5ELEtBQUEsT0FDQW1uRCxFQUFBRSxVQUlBLElBRkEsSUFBQWxmLEVBQUEsSUFDQW1mLEVBQUEsSUFDQTE1RCxFQUFBLEVBQUFxTCxFQUFBa3VELEVBQUFsNkQsT0FBZ0RXLEVBQUFxTCxFQUFRckwsSUFDeER1NkMsRUFBQW5vQyxLQUFBLEdBQUFwUyxHQUNBMDVELEVBQUF0bkQsS0FDQW1uRCxFQUFBdjVELEVBQUEsTUFBQXU1RCxFQUFBdjVELEVBQUEsTUFDQTA1RCxFQUFBMTVELEVBQUEsSUFHQXU2QyxFQUFBa2YsVUFFQSxJQUFBeC9CLEVBQUEsSUFBdUIwaUIsRUFBUSxDQUMvQnpCLFdBQ0EvdEMsU0FDQTB0QyxPQUFjOXZDLE9BQUF5TCxFQUFBLEVBQUF6TCxDQUFVb0MsR0FDeEJvdEMsZ0JBR0FwckMsRUFBQWQsRUFBQWMsSUFDQUEsSUFBdUMsR0FBdkNBLEVBQUF2UCxRQUFBLGlCQUEyRSxHQUFwQ3VQLEVBQUF2UCxRQUFBLGlCQUN2Q3VQLEdBQUEsK0JBNkNBLElBQUFxd0MsRUFBMEI1USxFQTNDWEcsRUFBUzUvQixHQTJDNEJrSixJQXJDcEQsU0FBQTYxQixHQUVBLGdCQU9BNVMsRUFBQTlULEVBQUFqWixHQUNBLEdBQUErc0IsRUFFVyxDQUNYLElBQUFxK0IsRUFBQXIrQixFQUFBLEdBQ0ErZ0IsRUFBQS9nQixFQUFBLEdBQ0FnaEIsR0FBQWhoQixFQUFBLEtBQ0FzK0IsRUFDQXZkLEVBQ0FDLEVBQUFpZCxFQUFBSSxHQUFBLEdBQ0F6ZSxFQUFBamhCLEVBQUE4ZixZQUFBNGYsR0FDQUUsRUFBQXA1RCxNQUFBQyxRQUFBdzZDLEtBQUEsR0FBQUEsRUFFQXdkLEVBQUEsQ0FDQXB5QyxFQUFBcXpDLEVBQ0ExMEQsRUFBQW8zQyxFQUNBbjNDLEVBQUFvM0MsRUFDQXNkLFlBQ0FFLFVBQUEsY0FOQUYsRUFBQUYsRUFBQUMsSUFBQUUsRUFBQSxJQVFBLE9BQUEzckIsRUFBQW5YLFFBQUEsY0FBK0MsU0FBQTdULEVBQUFsRCxHQUMvQyxPQUFBMDRDLEVBQUExNEMsVUFTQSs1QyxFQUEyQmIsR0FBVXB6QyxLQUFBLEtBQUFtVSxHQUVyQ21tQixFQUFBMXlDLEtBQUFDLEtBQUEsQ0FDQVcsYUFBQUQsRUFBQUMsYUFDQWdKLFVBQUFqSixFQUFBaUosVUFDQTI1QixZQUFBNWlDLEVBQUE0aUMsWUFDQTFpQyxXQUFBRixFQUFBRSxXQUNBa3lDLDJCQUFBcHlDLEVBQUFveUMsMkJBQ0FKLFVBQUEwWixFQUNBOS9CLFdBQ0F1bEIsa0JBQ0F2aUIsV0FBQTV1QixFQUFBNHVCLGFBU0EsT0FKQW1qQixJQUFBaVosRUFBQXhyRCxVQUFBdXlDLEdBQ0FpWixFQUFBdnJELFVBQUEvQyxPQUFBZ0QsT0FBQXF5QyxLQUFBdHlDLFdBQ0F1ckQsRUFBQXZyRCxVQUFBRSxZQUFBcXJELEVBRUFBLEVBdElXLENBdUlUbFosSUM1UEZqK0MsRUFBQUMsRUFBQUMsRUFBQSw2QkFBQW0vQyxLQUFBci9DLEVBQUFDLEVBQUFDLEVBQUEsNEJBQUEyaEQsS0FBQTdoRCxFQUFBQyxFQUFBQyxFQUFBLDRCQUFBbWpELEtBQUFyakQsRUFBQUMsRUFBQUMsRUFBQSwwQkFBQW9sRCxLQUFBdGxELEVBQUFDLEVBQUFDLEVBQUEsb0NBQUFzbUQsS0FBQXhtRCxFQUFBQyxFQUFBQyxFQUFBLGdDQUFBeW5ELEtBQUEzbkQsRUFBQUMsRUFBQUMsRUFBQSxrQ0FBQThuRCxLQUFBaG9ELEVBQUFDLEVBQUFDLEVBQUEsZ0NBQUF5cEQsS0FBQTNwRCxFQUFBQyxFQUFBQyxFQUFBLDZCQUFBaXFELEtBQUFucUQsRUFBQUMsRUFBQUMsRUFBQSx3QkFBQXVyRCxLQUFBenJELEVBQUFDLEVBQUFDLEVBQUEsMkJBQUF1c0QsS0FBQXpzRCxFQUFBQyxFQUFBQyxFQUFBLDJCQUFBeVUsRUFBQSxJQUFBM1UsRUFBQUMsRUFBQUMsRUFBQSwyQkFBQSt1RCxLQUFBanZELEVBQUFDLEVBQUFDLEVBQUEseUJBQUErOEMsS0FBQWo5QyxFQUFBQyxFQUFBQyxFQUFBLG1DQUFBc3ZELEtBQUF4dkQsRUFBQUMsRUFBQUMsRUFBQSw4QkFBQTR2RCxLQUFBOXZELEVBQUFDLEVBQUFDLEVBQUEsOEJBQUErOUMsS0FBQWorQyxFQUFBQyxFQUFBQyxFQUFBLDZCQUFBK3ZELEtBQUFqd0QsRUFBQUMsRUFBQUMsRUFBQSw0QkFBQTJ3RCxLQUFBN3dELEVBQUFDLEVBQUFDLEVBQUEsNEJBQUFpOUMsS0FBQW45QyxFQUFBQyxFQUFBQyxFQUFBLDRCQUFBZ3lELEtBQUFseUQsRUFBQUMsRUFBQUMsRUFBQSwyQkFBQW9rRCxHQUFBLElBQUF0a0QsRUFBQUMsRUFBQUMsRUFBQSwrQkFBQTQwRCxLQUFBOTBELEVBQUFDLEVBQUFDLEVBQUEseUJBQUFpMUQsS0FBQW4xRCxFQUFBQyxFQUFBQyxFQUFBLHdCQUFBeWhELEtBQUEzaEQsRUFBQUMsRUFBQUMsRUFBQSw0QkFBQWczRCIsImZpbGUiOiJvbC9zb3VyY2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBtb2R1bGUgb2wvYXJyYXlcbiAqL1xuXG5cbi8qKlxuICogUGVyZm9ybXMgYSBiaW5hcnkgc2VhcmNoIG9uIHRoZSBwcm92aWRlZCBzb3J0ZWQgbGlzdCBhbmQgcmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGl0ZW0gaWYgZm91bmQuIElmIGl0IGNhbid0IGJlIGZvdW5kIGl0J2xsIHJldHVybiAtMS5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9kYXJrc2t5YXBwL2JpbmFyeS1zZWFyY2hcbiAqXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBoYXlzdGFjayBJdGVtcyB0byBzZWFyY2ggdGhyb3VnaC5cbiAqIEBwYXJhbSB7Kn0gbmVlZGxlIFRoZSBpdGVtIHRvIGxvb2sgZm9yLlxuICogQHBhcmFtIHtGdW5jdGlvbj19IG9wdF9jb21wYXJhdG9yIENvbXBhcmF0b3IgZnVuY3Rpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBpbmRleCBvZiB0aGUgaXRlbSBpZiBmb3VuZCwgLTEgaWYgbm90LlxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluYXJ5U2VhcmNoKGhheXN0YWNrLCBuZWVkbGUsIG9wdF9jb21wYXJhdG9yKSB7XG4gIHZhciBtaWQsIGNtcDtcbiAgdmFyIGNvbXBhcmF0b3IgPSBvcHRfY29tcGFyYXRvciB8fCBudW1iZXJTYWZlQ29tcGFyZUZ1bmN0aW9uO1xuICB2YXIgbG93ID0gMDtcbiAgdmFyIGhpZ2ggPSBoYXlzdGFjay5sZW5ndGg7XG4gIHZhciBmb3VuZCA9IGZhbHNlO1xuXG4gIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgLyogTm90ZSB0aGF0IFwiKGxvdyArIGhpZ2gpID4+PiAxXCIgbWF5IG92ZXJmbG93LCBhbmQgcmVzdWx0cyBpbiBhIHR5cGVjYXN0XG4gICAgICogdG8gZG91YmxlICh3aGljaCBnaXZlcyB0aGUgd3JvbmcgcmVzdWx0cykuICovXG4gICAgbWlkID0gbG93ICsgKGhpZ2ggLSBsb3cgPj4gMSk7XG4gICAgY21wID0gK2NvbXBhcmF0b3IoaGF5c3RhY2tbbWlkXSwgbmVlZGxlKTtcblxuICAgIGlmIChjbXAgPCAwLjApIHsgLyogVG9vIGxvdy4gKi9cbiAgICAgIGxvdyA9IG1pZCArIDE7XG5cbiAgICB9IGVsc2UgeyAvKiBLZXkgZm91bmQgb3IgdG9vIGhpZ2ggKi9cbiAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICBmb3VuZCA9ICFjbXA7XG4gICAgfVxuICB9XG5cbiAgLyogS2V5IG5vdCBmb3VuZC4gKi9cbiAgcmV0dXJuIGZvdW5kID8gbG93IDogfmxvdztcbn1cblxuXG4vKipcbiAqIENvbXBhcmUgZnVuY3Rpb24gZm9yIGFycmF5IHNvcnQgdGhhdCBpcyBzYWZlIGZvciBudW1iZXJzLlxuICogQHBhcmFtIHsqfSBhIFRoZSBmaXJzdCBvYmplY3QgdG8gYmUgY29tcGFyZWQuXG4gKiBAcGFyYW0geyp9IGIgVGhlIHNlY29uZCBvYmplY3QgdG8gYmUgY29tcGFyZWQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEEgbmVnYXRpdmUgbnVtYmVyLCB6ZXJvLCBvciBhIHBvc2l0aXZlIG51bWJlciBhcyB0aGUgZmlyc3RcbiAqICAgICBhcmd1bWVudCBpcyBsZXNzIHRoYW4sIGVxdWFsIHRvLCBvciBncmVhdGVyIHRoYW4gdGhlIHNlY29uZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG51bWJlclNhZmVDb21wYXJlRnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gYSA+IGIgPyAxIDogYSA8IGIgPyAtMSA6IDA7XG59XG5cblxuLyoqXG4gKiBXaGV0aGVyIHRoZSBhcnJheSBjb250YWlucyB0aGUgZ2l2ZW4gb2JqZWN0LlxuICogQHBhcmFtIHtBcnJheTwqPn0gYXJyIFRoZSBhcnJheSB0byB0ZXN0IGZvciB0aGUgcHJlc2VuY2Ugb2YgdGhlIGVsZW1lbnQuXG4gKiBAcGFyYW0geyp9IG9iaiBUaGUgb2JqZWN0IGZvciB3aGljaCB0byB0ZXN0LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIG9iamVjdCBpcyBpbiB0aGUgYXJyYXkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmNsdWRlcyhhcnIsIG9iaikge1xuICByZXR1cm4gYXJyLmluZGV4T2Yob2JqKSA+PSAwO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBhcnIgQXJyYXkuXG4gKiBAcGFyYW0ge251bWJlcn0gdGFyZ2V0IFRhcmdldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkaXJlY3Rpb24gMCBtZWFucyByZXR1cm4gdGhlIG5lYXJlc3QsID4gMFxuICogICAgbWVhbnMgcmV0dXJuIHRoZSBsYXJnZXN0IG5lYXJlc3QsIDwgMCBtZWFucyByZXR1cm4gdGhlXG4gKiAgICBzbWFsbGVzdCBuZWFyZXN0LlxuICogQHJldHVybiB7bnVtYmVyfSBJbmRleC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhckZpbmROZWFyZXN0KGFyciwgdGFyZ2V0LCBkaXJlY3Rpb24pIHtcbiAgdmFyIG4gPSBhcnIubGVuZ3RoO1xuICBpZiAoYXJyWzBdIDw9IHRhcmdldCkge1xuICAgIHJldHVybiAwO1xuICB9IGVsc2UgaWYgKHRhcmdldCA8PSBhcnJbbiAtIDFdKSB7XG4gICAgcmV0dXJuIG4gLSAxO1xuICB9IGVsc2Uge1xuICAgIHZhciBpO1xuICAgIGlmIChkaXJlY3Rpb24gPiAwKSB7XG4gICAgICBmb3IgKGkgPSAxOyBpIDwgbjsgKytpKSB7XG4gICAgICAgIGlmIChhcnJbaV0gPCB0YXJnZXQpIHtcbiAgICAgICAgICByZXR1cm4gaSAtIDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA8IDApIHtcbiAgICAgIGZvciAoaSA9IDE7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgaWYgKGFycltpXSA8PSB0YXJnZXQpIHtcbiAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGkgPSAxOyBpIDwgbjsgKytpKSB7XG4gICAgICAgIGlmIChhcnJbaV0gPT0gdGFyZ2V0KSB7XG4gICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH0gZWxzZSBpZiAoYXJyW2ldIDwgdGFyZ2V0KSB7XG4gICAgICAgICAgaWYgKGFycltpIC0gMV0gLSB0YXJnZXQgPCB0YXJnZXQgLSBhcnJbaV0pIHtcbiAgICAgICAgICAgIHJldHVybiBpIC0gMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuIC0gMTtcbiAgfVxufVxuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTwqPn0gYXJyIEFycmF5LlxuICogQHBhcmFtIHtudW1iZXJ9IGJlZ2luIEJlZ2luIGluZGV4LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQgaW5kZXguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXZlcnNlU3ViQXJyYXkoYXJyLCBiZWdpbiwgZW5kKSB7XG4gIHdoaWxlIChiZWdpbiA8IGVuZCkge1xuICAgIHZhciB0bXAgPSBhcnJbYmVnaW5dO1xuICAgIGFycltiZWdpbl0gPSBhcnJbZW5kXTtcbiAgICBhcnJbZW5kXSA9IHRtcDtcbiAgICArK2JlZ2luO1xuICAgIC0tZW5kO1xuICB9XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PFZBTFVFPn0gYXJyIFRoZSBhcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0geyFBcnJheTxWQUxVRT58VkFMVUV9IGRhdGEgVGhlIGVsZW1lbnRzIG9yIGFycmF5cyBvZiBlbGVtZW50cyB0byBhZGQgdG8gYXJyLlxuICogQHRlbXBsYXRlIFZBTFVFXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmQoYXJyLCBkYXRhKSB7XG4gIHZhciBleHRlbnNpb24gPSBBcnJheS5pc0FycmF5KGRhdGEpID8gZGF0YSA6IFtkYXRhXTtcbiAgdmFyIGxlbmd0aCA9IGV4dGVuc2lvbi5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBhcnJbYXJyLmxlbmd0aF0gPSBleHRlbnNpb25baV07XG4gIH1cbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8VkFMVUU+fSBhcnIgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7VkFMVUV9IG9iaiBUaGUgZWxlbWVudCB0byByZW1vdmUuXG4gKiBAdGVtcGxhdGUgVkFMVUVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBlbGVtZW50IHdhcyByZW1vdmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlKGFyciwgb2JqKSB7XG4gIHZhciBpID0gYXJyLmluZGV4T2Yob2JqKTtcbiAgdmFyIGZvdW5kID0gaSA+IC0xO1xuICBpZiAoZm91bmQpIHtcbiAgICBhcnIuc3BsaWNlKGksIDEpO1xuICB9XG4gIHJldHVybiBmb3VuZDtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8VkFMVUU+fSBhcnIgVGhlIGFycmF5IHRvIHNlYXJjaCBpbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oVkFMVUUsIG51bWJlciwgPykgOiBib29sZWFufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjb21wYXJlLlxuICogQHRlbXBsYXRlIFZBTFVFXG4gKiBAcmV0dXJuIHtWQUxVRXxudWxsfSBUaGUgZWxlbWVudCBmb3VuZCBvciBudWxsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZChhcnIsIGZ1bmMpIHtcbiAgdmFyIGxlbmd0aCA9IGFyci5sZW5ndGggPj4+IDA7XG4gIHZhciB2YWx1ZTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgdmFsdWUgPSBhcnJbaV07XG4gICAgaWYgKGZ1bmModmFsdWUsIGksIGFycikpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5fFVpbnQ4Q2xhbXBlZEFycmF5fSBhcnIxIFRoZSBmaXJzdCBhcnJheSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtBcnJheXxVaW50OENsYW1wZWRBcnJheX0gYXJyMiBUaGUgc2Vjb25kIGFycmF5IHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB0d28gYXJyYXlzIGFyZSBlcXVhbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhcnIxLCBhcnIyKSB7XG4gIHZhciBsZW4xID0gYXJyMS5sZW5ndGg7XG4gIGlmIChsZW4xICE9PSBhcnIyLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjE7IGkrKykge1xuICAgIGlmIChhcnIxW2ldICE9PSBhcnIyW2ldKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5cbi8qKlxuICogU29ydCB0aGUgcGFzc2VkIGFycmF5IHN1Y2ggdGhhdCB0aGUgcmVsYXRpdmUgb3JkZXIgb2YgZXF1YWwgZWxlbWVudHMgaXMgcHJldmVydmVkLlxuICogU2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NvcnRpbmdfYWxnb3JpdGhtI1N0YWJpbGl0eSBmb3IgZGV0YWlscy5cbiAqIEBwYXJhbSB7QXJyYXk8Kj59IGFyciBUaGUgYXJyYXkgdG8gc29ydCAobW9kaWZpZXMgb3JpZ2luYWwpLlxuICogQHBhcmFtIHshZnVuY3Rpb24oKiwgKik6IG51bWJlcn0gY29tcGFyZUZuYyBDb21wYXJpc29uIGZ1bmN0aW9uLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhYmxlU29ydChhcnIsIGNvbXBhcmVGbmMpIHtcbiAgdmFyIGxlbmd0aCA9IGFyci5sZW5ndGg7XG4gIHZhciB0bXAgPSBBcnJheShhcnIubGVuZ3RoKTtcbiAgdmFyIGk7XG4gIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIHRtcFtpXSA9IHtpbmRleDogaSwgdmFsdWU6IGFycltpXX07XG4gIH1cbiAgdG1wLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBjb21wYXJlRm5jKGEudmFsdWUsIGIudmFsdWUpIHx8IGEuaW5kZXggLSBiLmluZGV4O1xuICB9KTtcbiAgZm9yIChpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgIGFycltpXSA9IHRtcFtpXS52YWx1ZTtcbiAgfVxufVxuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTwqPn0gYXJyIFRoZSBhcnJheSB0byBzZWFyY2ggaW4uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIENvbXBhcmlzb24gZnVuY3Rpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFJldHVybiBpbmRleC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRJbmRleChhcnIsIGZ1bmMpIHtcbiAgdmFyIGluZGV4O1xuICB2YXIgZm91bmQgPSAhYXJyLmV2ZXJ5KGZ1bmN0aW9uKGVsLCBpZHgpIHtcbiAgICBpbmRleCA9IGlkeDtcbiAgICByZXR1cm4gIWZ1bmMoZWwsIGlkeCwgYXJyKTtcbiAgfSk7XG4gIHJldHVybiBmb3VuZCA/IGluZGV4IDogLTE7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBhcnIgVGhlIGFycmF5IHRvIHRlc3QuXG4gKiBAcGFyYW0ge0Z1bmN0aW9uPX0gb3B0X2Z1bmMgQ29tcGFyaXNvbiBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9zdHJpY3QgU3RyaWN0bHkgc29ydGVkIChkZWZhdWx0IGZhbHNlKS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybiBpbmRleC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU29ydGVkKGFyciwgb3B0X2Z1bmMsIG9wdF9zdHJpY3QpIHtcbiAgdmFyIGNvbXBhcmUgPSBvcHRfZnVuYyB8fCBudW1iZXJTYWZlQ29tcGFyZUZ1bmN0aW9uO1xuICByZXR1cm4gYXJyLmV2ZXJ5KGZ1bmN0aW9uKGN1cnJlbnRWYWwsIGluZGV4KSB7XG4gICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIHJlcyA9IGNvbXBhcmUoYXJyW2luZGV4IC0gMV0sIGN1cnJlbnRWYWwpO1xuICAgIHJldHVybiAhKHJlcyA+IDAgfHwgb3B0X3N0cmljdCAmJiByZXMgPT09IDApO1xuICB9KTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJyYXkuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2RvbVxuICovXG5cblxuLyoqXG4gKiBDcmVhdGUgYW4gaHRtbCBjYW52YXMgZWxlbWVudCBhbmQgcmV0dXJucyBpdHMgMmQgY29udGV4dC5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X3dpZHRoIENhbnZhcyB3aWR0aC5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2hlaWdodCBDYW52YXMgaGVpZ2h0LlxuICogQHJldHVybiB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBUaGUgY29udGV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNhbnZhc0NvbnRleHQyRChvcHRfd2lkdGgsIG9wdF9oZWlnaHQpIHtcbiAgdmFyIGNhbnZhcyA9IC8qKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR9ICovIChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSk7XG4gIGlmIChvcHRfd2lkdGgpIHtcbiAgICBjYW52YXMud2lkdGggPSBvcHRfd2lkdGg7XG4gIH1cbiAgaWYgKG9wdF9oZWlnaHQpIHtcbiAgICBjYW52YXMuaGVpZ2h0ID0gb3B0X2hlaWdodDtcbiAgfVxuICByZXR1cm4gLyoqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9ICovIChjYW52YXMuZ2V0Q29udGV4dCgnMmQnKSk7XG59XG5cblxuLyoqXG4gKiBHZXQgdGhlIGN1cnJlbnQgY29tcHV0ZWQgd2lkdGggZm9yIHRoZSBnaXZlbiBlbGVtZW50IGluY2x1ZGluZyBtYXJnaW4sXG4gKiBwYWRkaW5nIGFuZCBib3JkZXIuXG4gKiBFcXVpdmFsZW50IHRvIGpRdWVyeSdzIGAkKGVsKS5vdXRlcldpZHRoKHRydWUpYC5cbiAqIEBwYXJhbSB7IUhUTUxFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSB3aWR0aC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG91dGVyV2lkdGgoZWxlbWVudCkge1xuICB2YXIgd2lkdGggPSBlbGVtZW50Lm9mZnNldFdpZHRoO1xuICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICB3aWR0aCArPSBwYXJzZUludChzdHlsZS5tYXJnaW5MZWZ0LCAxMCkgKyBwYXJzZUludChzdHlsZS5tYXJnaW5SaWdodCwgMTApO1xuXG4gIHJldHVybiB3aWR0aDtcbn1cblxuXG4vKipcbiAqIEdldCB0aGUgY3VycmVudCBjb21wdXRlZCBoZWlnaHQgZm9yIHRoZSBnaXZlbiBlbGVtZW50IGluY2x1ZGluZyBtYXJnaW4sXG4gKiBwYWRkaW5nIGFuZCBib3JkZXIuXG4gKiBFcXVpdmFsZW50IHRvIGpRdWVyeSdzIGAkKGVsKS5vdXRlckhlaWdodCh0cnVlKWAuXG4gKiBAcGFyYW0geyFIVE1MRWxlbWVudH0gZWxlbWVudCBFbGVtZW50LlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgaGVpZ2h0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gb3V0ZXJIZWlnaHQoZWxlbWVudCkge1xuICB2YXIgaGVpZ2h0ID0gZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gIGhlaWdodCArPSBwYXJzZUludChzdHlsZS5tYXJnaW5Ub3AsIDEwKSArIHBhcnNlSW50KHN0eWxlLm1hcmdpbkJvdHRvbSwgMTApO1xuXG4gIHJldHVybiBoZWlnaHQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSBuZXdOb2RlIE5vZGUgdG8gcmVwbGFjZSBvbGQgbm9kZVxuICogQHBhcmFtIHtOb2RlfSBvbGROb2RlIFRoZSBub2RlIHRvIGJlIHJlcGxhY2VkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlTm9kZShuZXdOb2RlLCBvbGROb2RlKSB7XG4gIHZhciBwYXJlbnQgPSBvbGROb2RlLnBhcmVudE5vZGU7XG4gIGlmIChwYXJlbnQpIHtcbiAgICBwYXJlbnQucmVwbGFjZUNoaWxkKG5ld05vZGUsIG9sZE5vZGUpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSBub2RlIFRoZSBub2RlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtOb2RlfSBUaGUgbm9kZSB0aGF0IHdhcyByZW1vdmVkIG9yIG51bGwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVOb2RlKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUgJiYgbm9kZS5wYXJlbnROb2RlID8gbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpIDogbnVsbDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgVGhlIG5vZGUgdG8gcmVtb3ZlIHRoZSBjaGlsZHJlbiBmcm9tLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW4obm9kZSkge1xuICB3aGlsZSAobm9kZS5sYXN0Q2hpbGQpIHtcbiAgICBub2RlLnJlbW92ZUNoaWxkKG5vZGUubGFzdENoaWxkKTtcbiAgfVxufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kb20uanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL1ZpZXdIaW50XG4gKi9cblxuLyoqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIEFOSU1BVElORzogMCxcbiAgSU5URVJBQ1RJTkc6IDFcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZpZXdIaW50LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9jb29yZGluYXRlXG4gKi9cbmltcG9ydCB7bW9kdWxvfSBmcm9tICcuL21hdGguanMnO1xuaW1wb3J0IHtwYWROdW1iZXJ9IGZyb20gJy4vc3RyaW5nLmpzJztcblxuXG4vKipcbiAqIEFuIGFycmF5IG9mIG51bWJlcnMgcmVwcmVzZW50aW5nIGFuIHh5IGNvb3JkaW5hdGUuIEV4YW1wbGU6IGBbMTYsIDQ4XWAuXG4gKiBAdHlwZWRlZiB7QXJyYXk8bnVtYmVyPn0gQ29vcmRpbmF0ZVxuICogQGFwaVxuICovXG5cblxuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZX0gYW5kXG4gKiB0cmFuc2Zvcm1zIGl0IGludG8gYSBge3N0cmluZ31gLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbigoQ29vcmRpbmF0ZXx1bmRlZmluZWQpKTogc3RyaW5nfSBDb29yZGluYXRlRm9ybWF0XG4gKiBAYXBpXG4gKi9cblxuXG4vKipcbiAqIEFkZCBgZGVsdGFgIHRvIGBjb29yZGluYXRlYC4gYGNvb3JkaW5hdGVgIGlzIG1vZGlmaWVkIGluIHBsYWNlIGFuZCByZXR1cm5lZFxuICogYnkgdGhlIGZ1bmN0aW9uLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogICAgIGltcG9ydCB7YWRkfSBmcm9tICdvbC9jb29yZGluYXRlJztcbiAqXG4gKiAgICAgdmFyIGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgYWRkKGNvb3JkLCBbLTIsIDRdKTtcbiAqICAgICAvLyBjb29yZCBpcyBub3cgWzUuODUsIDUxLjk4MzMzM11cbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gZGVsdGEgRGVsdGEuXG4gKiBAcmV0dXJuIHtDb29yZGluYXRlfSBUaGUgaW5wdXQgY29vcmRpbmF0ZSBhZGp1c3RlZCBieVxuICogdGhlIGdpdmVuIGRlbHRhLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkKGNvb3JkaW5hdGUsIGRlbHRhKSB7XG4gIGNvb3JkaW5hdGVbMF0gKz0gZGVsdGFbMF07XG4gIGNvb3JkaW5hdGVbMV0gKz0gZGVsdGFbMV07XG4gIHJldHVybiBjb29yZGluYXRlO1xufVxuXG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgcG9pbnQgY2xvc2VzdCB0byB0aGUgcGFzc2VkIGNvb3JkaW5hdGUgb24gdGhlIHBhc3NlZCBjaXJjbGUuXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIFRoZSBjb29yZGluYXRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2dlb20vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9IGNpcmNsZSBUaGUgY2lyY2xlLlxuICogQHJldHVybiB7Q29vcmRpbmF0ZX0gQ2xvc2VzdCBwb2ludCBvbiB0aGUgY2lyY3VtZmVyZW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb3Nlc3RPbkNpcmNsZShjb29yZGluYXRlLCBjaXJjbGUpIHtcbiAgdmFyIHIgPSBjaXJjbGUuZ2V0UmFkaXVzKCk7XG4gIHZhciBjZW50ZXIgPSBjaXJjbGUuZ2V0Q2VudGVyKCk7XG4gIHZhciB4MCA9IGNlbnRlclswXTtcbiAgdmFyIHkwID0gY2VudGVyWzFdO1xuICB2YXIgeDEgPSBjb29yZGluYXRlWzBdO1xuICB2YXIgeTEgPSBjb29yZGluYXRlWzFdO1xuXG4gIHZhciBkeCA9IHgxIC0geDA7XG4gIHZhciBkeSA9IHkxIC0geTA7XG4gIGlmIChkeCA9PT0gMCAmJiBkeSA9PT0gMCkge1xuICAgIGR4ID0gMTtcbiAgfVxuICB2YXIgZCA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG5cbiAgdmFyIHggPSB4MCArIHIgKiBkeCAvIGQ7XG4gIHZhciB5ID0geTAgKyByICogZHkgLyBkO1xuXG4gIHJldHVybiBbeCwgeV07XG59XG5cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBwb2ludCBjbG9zZXN0IHRvIHRoZSBwYXNzZWQgY29vcmRpbmF0ZSBvbiB0aGUgcGFzc2VkIHNlZ21lbnQuXG4gKiBUaGlzIGlzIHRoZSBmb290IG9mIHRoZSBwZXJwZW5kaWN1bGFyIG9mIHRoZSBjb29yZGluYXRlIHRvIHRoZSBzZWdtZW50IHdoZW5cbiAqIHRoZSBmb290IGlzIG9uIHRoZSBzZWdtZW50LCBvciB0aGUgY2xvc2VzdCBzZWdtZW50IGNvb3JkaW5hdGUgd2hlbiB0aGUgZm9vdFxuICogaXMgb3V0c2lkZSB0aGUgc2VnbWVudC5cbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgVGhlIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge0FycmF5PENvb3JkaW5hdGU+fSBzZWdtZW50IFRoZSB0d28gY29vcmRpbmF0ZXNcbiAqIG9mIHRoZSBzZWdtZW50LlxuICogQHJldHVybiB7Q29vcmRpbmF0ZX0gVGhlIGZvb3Qgb2YgdGhlIHBlcnBlbmRpY3VsYXIgb2ZcbiAqIHRoZSBjb29yZGluYXRlIHRvIHRoZSBzZWdtZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VzdE9uU2VnbWVudChjb29yZGluYXRlLCBzZWdtZW50KSB7XG4gIHZhciB4MCA9IGNvb3JkaW5hdGVbMF07XG4gIHZhciB5MCA9IGNvb3JkaW5hdGVbMV07XG4gIHZhciBzdGFydCA9IHNlZ21lbnRbMF07XG4gIHZhciBlbmQgPSBzZWdtZW50WzFdO1xuICB2YXIgeDEgPSBzdGFydFswXTtcbiAgdmFyIHkxID0gc3RhcnRbMV07XG4gIHZhciB4MiA9IGVuZFswXTtcbiAgdmFyIHkyID0gZW5kWzFdO1xuICB2YXIgZHggPSB4MiAtIHgxO1xuICB2YXIgZHkgPSB5MiAtIHkxO1xuICB2YXIgYWxvbmcgPSAoZHggPT09IDAgJiYgZHkgPT09IDApID8gMCA6XG4gICAgKChkeCAqICh4MCAtIHgxKSkgKyAoZHkgKiAoeTAgLSB5MSkpKSAvICgoZHggKiBkeCArIGR5ICogZHkpIHx8IDApO1xuICB2YXIgeCwgeTtcbiAgaWYgKGFsb25nIDw9IDApIHtcbiAgICB4ID0geDE7XG4gICAgeSA9IHkxO1xuICB9IGVsc2UgaWYgKGFsb25nID49IDEpIHtcbiAgICB4ID0geDI7XG4gICAgeSA9IHkyO1xuICB9IGVsc2Uge1xuICAgIHggPSB4MSArIGFsb25nICogZHg7XG4gICAgeSA9IHkxICsgYWxvbmcgKiBkeTtcbiAgfVxuICByZXR1cm4gW3gsIHldO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBhIHtAbGluayBtb2R1bGU6b2wvY29vcmRpbmF0ZX5Db29yZGluYXRlRm9ybWF0fSBmdW5jdGlvbiB0aGF0IGNhbiBiZVxuICogdXNlZCB0byBmb3JtYXRcbiAqIGEge0Nvb3JkaW5hdGV9IHRvIGEgc3RyaW5nLlxuICpcbiAqIEV4YW1wbGUgd2l0aG91dCBzcGVjaWZ5aW5nIHRoZSBmcmFjdGlvbmFsIGRpZ2l0czpcbiAqXG4gKiAgICAgaW1wb3J0IHtjcmVhdGVTdHJpbmdYWX0gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIHZhciBzdHJpbmdpZnlGdW5jID0gY3JlYXRlU3RyaW5nWFkoKTtcbiAqICAgICB2YXIgb3V0ID0gc3RyaW5naWZ5RnVuYyhjb29yZCk7XG4gKiAgICAgLy8gb3V0IGlzIG5vdyAnOCwgNDgnXG4gKlxuICogRXhhbXBsZSB3aXRoIGV4cGxpY2l0bHkgc3BlY2lmeWluZyAyIGZyYWN0aW9uYWwgZGlnaXRzOlxuICpcbiAqICAgICBpbXBvcnQge2NyZWF0ZVN0cmluZ1hZfSBmcm9tICdvbC9jb29yZGluYXRlJztcbiAqXG4gKiAgICAgdmFyIGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgdmFyIHN0cmluZ2lmeUZ1bmMgPSBjcmVhdGVTdHJpbmdYWSgyKTtcbiAqICAgICB2YXIgb3V0ID0gc3RyaW5naWZ5RnVuYyhjb29yZCk7XG4gKiAgICAgLy8gb3V0IGlzIG5vdyAnNy44NSwgNDcuOTgnXG4gKlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfZnJhY3Rpb25EaWdpdHMgVGhlIG51bWJlciBvZiBkaWdpdHMgdG8gaW5jbHVkZVxuICogICAgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQuIERlZmF1bHQgaXMgYDBgLlxuICogQHJldHVybiB7Q29vcmRpbmF0ZUZvcm1hdH0gQ29vcmRpbmF0ZSBmb3JtYXQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdHJpbmdYWShvcHRfZnJhY3Rpb25EaWdpdHMpIHtcbiAgcmV0dXJuIChcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFN0cmluZyBYWS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbihjb29yZGluYXRlKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmdYWShjb29yZGluYXRlLCBvcHRfZnJhY3Rpb25EaWdpdHMpO1xuICAgIH1cbiAgKTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBoZW1pc3BoZXJlcyBIZW1pc3BoZXJlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWdyZWVzIERlZ3JlZXMuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9mcmFjdGlvbkRpZ2l0cyBUaGUgbnVtYmVyIG9mIGRpZ2l0cyB0byBpbmNsdWRlXG4gKiAgICBhZnRlciB0aGUgZGVjaW1hbCBwb2ludC4gRGVmYXVsdCBpcyBgMGAuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFN0cmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZ3JlZXNUb1N0cmluZ0hETVMoaGVtaXNwaGVyZXMsIGRlZ3JlZXMsIG9wdF9mcmFjdGlvbkRpZ2l0cykge1xuICB2YXIgbm9ybWFsaXplZERlZ3JlZXMgPSBtb2R1bG8oZGVncmVlcyArIDE4MCwgMzYwKSAtIDE4MDtcbiAgdmFyIHggPSBNYXRoLmFicygzNjAwICogbm9ybWFsaXplZERlZ3JlZXMpO1xuICB2YXIgZGZsUHJlY2lzaW9uID0gb3B0X2ZyYWN0aW9uRGlnaXRzIHx8IDA7XG4gIHZhciBwcmVjaXNpb24gPSBNYXRoLnBvdygxMCwgZGZsUHJlY2lzaW9uKTtcblxuICB2YXIgZGVnID0gTWF0aC5mbG9vcih4IC8gMzYwMCk7XG4gIHZhciBtaW4gPSBNYXRoLmZsb29yKCh4IC0gZGVnICogMzYwMCkgLyA2MCk7XG4gIHZhciBzZWMgPSB4IC0gKGRlZyAqIDM2MDApIC0gKG1pbiAqIDYwKTtcbiAgc2VjID0gTWF0aC5jZWlsKHNlYyAqIHByZWNpc2lvbikgLyBwcmVjaXNpb247XG5cbiAgaWYgKHNlYyA+PSA2MCkge1xuICAgIHNlYyA9IDA7XG4gICAgbWluICs9IDE7XG4gIH1cblxuICBpZiAobWluID49IDYwKSB7XG4gICAgbWluID0gMDtcbiAgICBkZWcgKz0gMTtcbiAgfVxuXG4gIHJldHVybiBkZWcgKyAnXFx1MDBiMCAnICsgcGFkTnVtYmVyKG1pbiwgMikgKyAnXFx1MjAzMiAnICtcbiAgICBwYWROdW1iZXIoc2VjLCAyLCBkZmxQcmVjaXNpb24pICsgJ1xcdTIwMzMnICtcbiAgICAobm9ybWFsaXplZERlZ3JlZXMgPT0gMCA/ICcnIDogJyAnICsgaGVtaXNwaGVyZXMuY2hhckF0KG5vcm1hbGl6ZWREZWdyZWVzIDwgMCA/IDEgOiAwKSk7XG59XG5cblxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSBnaXZlbiB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZX0gdG8gYSBzdHJpbmdcbiAqIHVzaW5nIHRoZSBnaXZlbiBzdHJpbmcgdGVtcGxhdGUuIFRoZSBzdHJpbmdzIGB7eH1gIGFuZCBge3l9YCBpbiB0aGUgdGVtcGxhdGVcbiAqIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCB0aGUgZmlyc3QgYW5kIHNlY29uZCBjb29yZGluYXRlIHZhbHVlcyByZXNwZWN0aXZlbHkuXG4gKlxuICogRXhhbXBsZSB3aXRob3V0IHNwZWNpZnlpbmcgdGhlIGZyYWN0aW9uYWwgZGlnaXRzOlxuICpcbiAqICAgICBpbXBvcnQge2Zvcm1hdH0gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIHZhciB0ZW1wbGF0ZSA9ICdDb29yZGluYXRlIGlzICh7eH18e3l9KS4nO1xuICogICAgIHZhciBvdXQgPSBmb3JtYXQoY29vcmQsIHRlbXBsYXRlKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICdDb29yZGluYXRlIGlzICg4fDQ4KS4nXG4gKlxuICogRXhhbXBsZSBleHBsaWNpdGx5IHNwZWNpZnlpbmcgdGhlIGZyYWN0aW9uYWwgZGlnaXRzOlxuICpcbiAqICAgICBpbXBvcnQge2Zvcm1hdH0gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIHZhciB0ZW1wbGF0ZSA9ICdDb29yZGluYXRlIGlzICh7eH18e3l9KS4nO1xuICogICAgIHZhciBvdXQgPSBmb3JtYXQoY29vcmQsIHRlbXBsYXRlLCAyKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICdDb29yZGluYXRlIGlzICg3Ljg1fDQ3Ljk4KS4nXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGVtcGxhdGUgQSB0ZW1wbGF0ZSBzdHJpbmcgd2l0aCBge3h9YCBhbmQgYHt5fWAgcGxhY2Vob2xkZXJzXG4gKiAgICAgdGhhdCB3aWxsIGJlIHJlcGxhY2VkIGJ5IGZpcnN0IGFuZCBzZWNvbmQgY29vcmRpbmF0ZSB2YWx1ZXMuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9mcmFjdGlvbkRpZ2l0cyBUaGUgbnVtYmVyIG9mIGRpZ2l0cyB0byBpbmNsdWRlXG4gKiAgICBhZnRlciB0aGUgZGVjaW1hbCBwb2ludC4gRGVmYXVsdCBpcyBgMGAuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IEZvcm1hdHRlZCBjb29yZGluYXRlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0KGNvb3JkaW5hdGUsIHRlbXBsYXRlLCBvcHRfZnJhY3Rpb25EaWdpdHMpIHtcbiAgaWYgKGNvb3JkaW5hdGUpIHtcbiAgICByZXR1cm4gdGVtcGxhdGVcbiAgICAgIC5yZXBsYWNlKCd7eH0nLCBjb29yZGluYXRlWzBdLnRvRml4ZWQob3B0X2ZyYWN0aW9uRGlnaXRzKSlcbiAgICAgIC5yZXBsYWNlKCd7eX0nLCBjb29yZGluYXRlWzFdLnRvRml4ZWQob3B0X2ZyYWN0aW9uRGlnaXRzKSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUxIEZpcnN0IGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUyIFNlY29uZCBjb29yZGluYXRlLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHR3byBjb29yZGluYXRlcyBhcmUgZXF1YWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoY29vcmRpbmF0ZTEsIGNvb3JkaW5hdGUyKSB7XG4gIHZhciBlcXVhbHMgPSB0cnVlO1xuICBmb3IgKHZhciBpID0gY29vcmRpbmF0ZTEubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICBpZiAoY29vcmRpbmF0ZTFbaV0gIT0gY29vcmRpbmF0ZTJbaV0pIHtcbiAgICAgIGVxdWFscyA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBlcXVhbHM7XG59XG5cblxuLyoqXG4gKiBSb3RhdGUgYGNvb3JkaW5hdGVgIGJ5IGBhbmdsZWAuIGBjb29yZGluYXRlYCBpcyBtb2RpZmllZCBpbiBwbGFjZSBhbmRcbiAqIHJldHVybmVkIGJ5IHRoZSBmdW5jdGlvbi5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqICAgICBpbXBvcnQge3JvdGF0ZX0gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIHZhciByb3RhdGVSYWRpYW5zID0gTWF0aC5QSSAvIDI7IC8vIDkwIGRlZ3JlZXNcbiAqICAgICByb3RhdGUoY29vcmQsIHJvdGF0ZVJhZGlhbnMpO1xuICogICAgIC8vIGNvb3JkIGlzIG5vdyBbLTQ3Ljk4MzMzMywgNy44NV1cbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZSBBbmdsZSBpbiByYWRpYW4uXG4gKiBAcmV0dXJuIHtDb29yZGluYXRlfSBDb29yZGluYXRlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKGNvb3JkaW5hdGUsIGFuZ2xlKSB7XG4gIHZhciBjb3NBbmdsZSA9IE1hdGguY29zKGFuZ2xlKTtcbiAgdmFyIHNpbkFuZ2xlID0gTWF0aC5zaW4oYW5nbGUpO1xuICB2YXIgeCA9IGNvb3JkaW5hdGVbMF0gKiBjb3NBbmdsZSAtIGNvb3JkaW5hdGVbMV0gKiBzaW5BbmdsZTtcbiAgdmFyIHkgPSBjb29yZGluYXRlWzFdICogY29zQW5nbGUgKyBjb29yZGluYXRlWzBdICogc2luQW5nbGU7XG4gIGNvb3JkaW5hdGVbMF0gPSB4O1xuICBjb29yZGluYXRlWzFdID0geTtcbiAgcmV0dXJuIGNvb3JkaW5hdGU7XG59XG5cblxuLyoqXG4gKiBTY2FsZSBgY29vcmRpbmF0ZWAgYnkgYHNjYWxlYC4gYGNvb3JkaW5hdGVgIGlzIG1vZGlmaWVkIGluIHBsYWNlIGFuZCByZXR1cm5lZFxuICogYnkgdGhlIGZ1bmN0aW9uLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogICAgIGltcG9ydCB7c2NhbGUgYXMgc2NhbGVDb29yZGluYXRlfSBmcm9tICdvbC9jb29yZGluYXRlJztcbiAqXG4gKiAgICAgdmFyIGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgdmFyIHNjYWxlID0gMS4yO1xuICogICAgIHNjYWxlQ29vcmRpbmF0ZShjb29yZCwgc2NhbGUpO1xuICogICAgIC8vIGNvb3JkIGlzIG5vdyBbOS40MiwgNTcuNTc5OTk5Nl1cbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZSBTY2FsZSBmYWN0b3IuXG4gKiBAcmV0dXJuIHtDb29yZGluYXRlfSBDb29yZGluYXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUoY29vcmRpbmF0ZSwgc2NhbGUpIHtcbiAgY29vcmRpbmF0ZVswXSAqPSBzY2FsZTtcbiAgY29vcmRpbmF0ZVsxXSAqPSBzY2FsZTtcbiAgcmV0dXJuIGNvb3JkaW5hdGU7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkMSBGaXJzdCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZDIgU2Vjb25kIGNvb3JkaW5hdGUuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNxdWFyZWQgZGlzdGFuY2UgYmV0d2VlbiBjb29yZDEgYW5kIGNvb3JkMi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWREaXN0YW5jZShjb29yZDEsIGNvb3JkMikge1xuICB2YXIgZHggPSBjb29yZDFbMF0gLSBjb29yZDJbMF07XG4gIHZhciBkeSA9IGNvb3JkMVsxXSAtIGNvb3JkMlsxXTtcbiAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5O1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZDEgRmlyc3QgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmQyIFNlY29uZCBjb29yZGluYXRlLlxuICogQHJldHVybiB7bnVtYmVyfSBEaXN0YW5jZSBiZXR3ZWVuIGNvb3JkMSBhbmQgY29vcmQyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzdGFuY2UoY29vcmQxLCBjb29yZDIpIHtcbiAgcmV0dXJuIE1hdGguc3FydChzcXVhcmVkRGlzdGFuY2UoY29vcmQxLCBjb29yZDIpKTtcbn1cblxuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgc3F1YXJlZCBkaXN0YW5jZSBmcm9tIGEgY29vcmRpbmF0ZSB0byBhIGxpbmUgc2VnbWVudC5cbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQuXG4gKiBAcGFyYW0ge0FycmF5PENvb3JkaW5hdGU+fSBzZWdtZW50IExpbmUgc2VnbWVudCAoMlxuICogY29vcmRpbmF0ZXMpLlxuICogQHJldHVybiB7bnVtYmVyfSBTcXVhcmVkIGRpc3RhbmNlIGZyb20gdGhlIHBvaW50IHRvIHRoZSBsaW5lIHNlZ21lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkRGlzdGFuY2VUb1NlZ21lbnQoY29vcmRpbmF0ZSwgc2VnbWVudCkge1xuICByZXR1cm4gc3F1YXJlZERpc3RhbmNlKGNvb3JkaW5hdGUsXG4gICAgY2xvc2VzdE9uU2VnbWVudChjb29yZGluYXRlLCBzZWdtZW50KSk7XG59XG5cblxuLyoqXG4gKiBGb3JtYXQgYSBnZW9ncmFwaGljIGNvb3JkaW5hdGUgd2l0aCB0aGUgaGVtaXNwaGVyZSwgZGVncmVlcywgbWludXRlcywgYW5kXG4gKiBzZWNvbmRzLlxuICpcbiAqIEV4YW1wbGUgd2l0aG91dCBzcGVjaWZ5aW5nIGZyYWN0aW9uYWwgZGlnaXRzOlxuICpcbiAqICAgICBpbXBvcnQge3RvU3RyaW5nSERNU30gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIHZhciBvdXQgPSB0b1N0cmluZ0hETVMoY29vcmQpO1xuICogICAgIC8vIG91dCBpcyBub3cgJzQ3wrAgNTjigLIgNjDigLMgTiA3wrAgNTDigLIgNjDigLMgRSdcbiAqXG4gKiBFeGFtcGxlIGV4cGxpY2l0bHkgc3BlY2lmeWluZyAxIGZyYWN0aW9uYWwgZGlnaXQ6XG4gKlxuICogICAgIGltcG9ydCB7dG9TdHJpbmdIRE1TfSBmcm9tICdvbC9jb29yZGluYXRlJztcbiAqXG4gKiAgICAgdmFyIGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgdmFyIG91dCA9IHRvU3RyaW5nSERNUyhjb29yZCwgMSk7XG4gKiAgICAgLy8gb3V0IGlzIG5vdyAnNDfCsCA1OOKAsiA2MC4w4oCzIE4gN8KwIDUw4oCyIDYwLjDigLMgRSdcbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2ZyYWN0aW9uRGlnaXRzIFRoZSBudW1iZXIgb2YgZGlnaXRzIHRvIGluY2x1ZGVcbiAqICAgIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50LiBEZWZhdWx0IGlzIGAwYC5cbiAqIEByZXR1cm4ge3N0cmluZ30gSGVtaXNwaGVyZSwgZGVncmVlcywgbWludXRlcyBhbmQgc2Vjb25kcy5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvU3RyaW5nSERNUyhjb29yZGluYXRlLCBvcHRfZnJhY3Rpb25EaWdpdHMpIHtcbiAgaWYgKGNvb3JkaW5hdGUpIHtcbiAgICByZXR1cm4gZGVncmVlc1RvU3RyaW5nSERNUygnTlMnLCBjb29yZGluYXRlWzFdLCBvcHRfZnJhY3Rpb25EaWdpdHMpICsgJyAnICtcbiAgICAgICAgZGVncmVlc1RvU3RyaW5nSERNUygnRVcnLCBjb29yZGluYXRlWzBdLCBvcHRfZnJhY3Rpb25EaWdpdHMpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAnJztcbiAgfVxufVxuXG5cbi8qKlxuICogRm9ybWF0IGEgY29vcmRpbmF0ZSBhcyBhIGNvbW1hIGRlbGltaXRlZCBzdHJpbmcuXG4gKlxuICogRXhhbXBsZSB3aXRob3V0IHNwZWNpZnlpbmcgZnJhY3Rpb25hbCBkaWdpdHM6XG4gKlxuICogICAgIGltcG9ydCB7dG9TdHJpbmdYWX0gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIHZhciBvdXQgPSB0b1N0cmluZ1hZKGNvb3JkKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICc4LCA0OCdcbiAqXG4gKiBFeGFtcGxlIGV4cGxpY2l0bHkgc3BlY2lmeWluZyAxIGZyYWN0aW9uYWwgZGlnaXQ6XG4gKlxuICogICAgIGltcG9ydCB7dG9TdHJpbmdYWX0gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIHZhciBvdXQgPSB0b1N0cmluZ1hZKGNvb3JkLCAxKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICc3LjgsIDQ4LjAnXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9mcmFjdGlvbkRpZ2l0cyBUaGUgbnVtYmVyIG9mIGRpZ2l0cyB0byBpbmNsdWRlXG4gKiAgICBhZnRlciB0aGUgZGVjaW1hbCBwb2ludC4gRGVmYXVsdCBpcyBgMGAuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFhZLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9TdHJpbmdYWShjb29yZGluYXRlLCBvcHRfZnJhY3Rpb25EaWdpdHMpIHtcbiAgcmV0dXJuIGZvcm1hdChjb29yZGluYXRlLCAne3h9LCB7eX0nLCBvcHRfZnJhY3Rpb25EaWdpdHMpO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb29yZGluYXRlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9UaWxlU3RhdGVcbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgSURMRTogMCxcbiAgTE9BRElORzogMSxcbiAgTE9BREVEOiAyLFxuICAvKipcbiAgICogSW5kaWNhdGVzIHRoYXQgdGlsZSBsb2FkaW5nIGZhaWxlZFxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgRVJST1I6IDMsXG4gIEVNUFRZOiA0LFxuICBBQk9SVDogNVxufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsZVN0YXRlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9lYXNpbmdcbiAqL1xuXG5cbi8qKlxuICogU3RhcnQgc2xvdyBhbmQgc3BlZWQgdXAuXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW4odCkge1xuICByZXR1cm4gTWF0aC5wb3codCwgMyk7XG59XG5cblxuLyoqXG4gKiBTdGFydCBmYXN0IGFuZCBzbG93IGRvd24uXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlYXNlT3V0KHQpIHtcbiAgcmV0dXJuIDEgLSBlYXNlSW4oMSAtIHQpO1xufVxuXG5cbi8qKlxuICogU3RhcnQgc2xvdywgc3BlZWQgdXAsIGFuZCB0aGVuIHNsb3cgZG93biBhZ2Fpbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0IElucHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEByZXR1cm4ge251bWJlcn0gT3V0cHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluQW5kT3V0KHQpIHtcbiAgcmV0dXJuIDMgKiB0ICogdCAtIDIgKiB0ICogdCAqIHQ7XG59XG5cblxuLyoqXG4gKiBNYWludGFpbiBhIGNvbnN0YW50IHNwZWVkIG92ZXIgdGltZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0IElucHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEByZXR1cm4ge251bWJlcn0gT3V0cHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhcih0KSB7XG4gIHJldHVybiB0O1xufVxuXG5cbi8qKlxuICogU3RhcnQgc2xvdywgc3BlZWQgdXAsIGFuZCBhdCB0aGUgdmVyeSBlbmQgc2xvdyBkb3duIGFnYWluLiAgVGhpcyBoYXMgdGhlXG4gKiBzYW1lIGdlbmVyYWwgYmVoYXZpb3IgYXMge0BsaW5rIG1vZHVsZTpvbC9lYXNpbmd+aW5BbmRPdXR9LCBidXQgdGhlIGZpbmFsXG4gKiBzbG93ZG93biBpcyBkZWxheWVkLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW5wdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQHJldHVybiB7bnVtYmVyfSBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXBBbmREb3duKHQpIHtcbiAgaWYgKHQgPCAwLjUpIHtcbiAgICByZXR1cm4gaW5BbmRPdXQoMiAqIHQpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAxIC0gaW5BbmRPdXQoMiAqICh0IC0gMC41KSk7XG4gIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZWFzaW5nLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9oYXNcbiAqL1xuXG52YXIgdWEgPSB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyA/XG4gIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSA6ICcnO1xuXG4vKipcbiAqIFVzZXIgYWdlbnQgc3RyaW5nIHNheXMgd2UgYXJlIGRlYWxpbmcgd2l0aCBGaXJlZm94IGFzIGJyb3dzZXIuXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IHZhciBGSVJFRk9YID0gdWEuaW5kZXhPZignZmlyZWZveCcpICE9PSAtMTtcblxuLyoqXG4gKiBVc2VyIGFnZW50IHN0cmluZyBzYXlzIHdlIGFyZSBkZWFsaW5nIHdpdGggU2FmYXJpIGFzIGJyb3dzZXIuXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IHZhciBTQUZBUkkgPSB1YS5pbmRleE9mKCdzYWZhcmknKSAhPT0gLTEgJiYgdWEuaW5kZXhPZignY2hyb20nKSA9PSAtMTtcblxuLyoqXG4gKiBVc2VyIGFnZW50IHN0cmluZyBzYXlzIHdlIGFyZSBkZWFsaW5nIHdpdGggYSBXZWJLaXQgZW5naW5lLlxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCB2YXIgV0VCS0lUID0gdWEuaW5kZXhPZignd2Via2l0JykgIT09IC0xICYmIHVhLmluZGV4T2YoJ2VkZ2UnKSA9PSAtMTtcblxuLyoqXG4gKiBVc2VyIGFnZW50IHN0cmluZyBzYXlzIHdlIGFyZSBkZWFsaW5nIHdpdGggYSBNYWMgYXMgcGxhdGZvcm0uXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IHZhciBNQUMgPSB1YS5pbmRleE9mKCdtYWNpbnRvc2gnKSAhPT0gLTE7XG5cblxuLyoqXG4gKiBUaGUgcmF0aW8gYmV0d2VlbiBwaHlzaWNhbCBwaXhlbHMgYW5kIGRldmljZS1pbmRlcGVuZGVudCBwaXhlbHNcbiAqIChkaXBzKSBvbiB0aGUgZGV2aWNlIChgd2luZG93LmRldmljZVBpeGVsUmF0aW9gKS5cbiAqIEBjb25zdFxuICogQHR5cGUge251bWJlcn1cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciBERVZJQ0VfUElYRUxfUkFUSU8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xuXG5cbi8qKlxuICogVHJ1ZSBpZiB0aGUgYnJvd3NlcidzIENhbnZhcyBpbXBsZW1lbnRhdGlvbiBpbXBsZW1lbnRzIHtnZXQsc2V0fUxpbmVEYXNoLlxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCB2YXIgQ0FOVkFTX0xJTkVfREFTSCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaGFzID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgaGFzID0gISFkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKS5nZXRDb250ZXh0KCcyZCcpLnNldExpbmVEYXNoO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gcGFzc1xuICB9XG4gIHJldHVybiBoYXM7XG59KCk7XG5cblxuLyoqXG4gKiBJcyBIVE1MNSBnZW9sb2NhdGlvbiBzdXBwb3J0ZWQgaW4gdGhlIGN1cnJlbnQgYnJvd3Nlcj9cbiAqIEBjb25zdFxuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgR0VPTE9DQVRJT04gPSAnZ2VvbG9jYXRpb24nIGluIG5hdmlnYXRvcjtcblxuXG4vKipcbiAqIFRydWUgaWYgYnJvd3NlciBzdXBwb3J0cyB0b3VjaCBldmVudHMuXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtib29sZWFufVxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIFRPVUNIID0gJ29udG91Y2hzdGFydCcgaW4gd2luZG93O1xuXG5cbi8qKlxuICogVHJ1ZSBpZiBicm93c2VyIHN1cHBvcnRzIHBvaW50ZXIgZXZlbnRzLlxuICogQGNvbnN0XG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IHZhciBQT0lOVEVSID0gJ1BvaW50ZXJFdmVudCcgaW4gd2luZG93O1xuXG5cbi8qKlxuICogVHJ1ZSBpZiBicm93c2VyIHN1cHBvcnRzIG1zIHBvaW50ZXIgZXZlbnRzIChJRSAxMCkuXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtib29sZWFufVxuICovXG5leHBvcnQgdmFyIE1TUE9JTlRFUiA9ICEhKG5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKTtcblxuXG5leHBvcnQge0hBUyBhcyBXRUJHTH0gZnJvbSAnLi93ZWJnbC5qcyc7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhhcy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvSW1hZ2VTdGF0ZVxuICovXG5cbi8qKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBJRExFOiAwLFxuICBMT0FESU5HOiAxLFxuICBMT0FERUQ6IDIsXG4gIEVSUk9SOiAzXG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbWFnZVN0YXRlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzXG4gKi9cbmltcG9ydCB7Z2V0Rm9udEZhbWlsaWVzfSBmcm9tICcuLi9jc3MuanMnO1xuaW1wb3J0IHtjcmVhdGVDYW52YXNDb250ZXh0MkR9IGZyb20gJy4uL2RvbS5qcyc7XG5pbXBvcnQge2NsZWFyfSBmcm9tICcuLi9vYmouanMnO1xuaW1wb3J0IExSVUNhY2hlIGZyb20gJy4uL3N0cnVjdHMvTFJVQ2FjaGUuanMnO1xuaW1wb3J0IHtjcmVhdGUgYXMgY3JlYXRlVHJhbnNmb3JtfSBmcm9tICcuLi90cmFuc2Zvcm0uanMnO1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRmlsbFN0YXRlXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IGZpbGxTdHlsZVxuICovXG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGaWxsU3Ryb2tlU3RhdGVcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW2N1cnJlbnRGaWxsU3R5bGVdXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFtjdXJyZW50U3Ryb2tlU3R5bGVdXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2N1cnJlbnRMaW5lQ2FwXVxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBjdXJyZW50TGluZURhc2hcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY3VycmVudExpbmVEYXNoT2Zmc2V0XVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjdXJyZW50TGluZUpvaW5dXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2N1cnJlbnRMaW5lV2lkdGhdXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2N1cnJlbnRNaXRlckxpbWl0XVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtsYXN0U3Ryb2tlXVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbZmlsbFN0eWxlXVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbc3Ryb2tlU3R5bGVdXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2xpbmVDYXBdXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IGxpbmVEYXNoXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2xpbmVEYXNoT2Zmc2V0XVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtsaW5lSm9pbl1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbGluZVdpZHRoXVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaXRlckxpbWl0XVxuICovXG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBTdHJva2VTdGF0ZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IGxpbmVDYXBcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gbGluZURhc2hcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsaW5lRGFzaE9mZnNldFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGxpbmVKb2luXG4gKiBAcHJvcGVydHkge251bWJlcn0gbGluZVdpZHRoXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWl0ZXJMaW1pdFxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBzdHJva2VTdHlsZVxuICovXG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBUZXh0U3RhdGVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBmb250XG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3RleHRBbGlnbl1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0ZXh0QmFzZWxpbmVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbcGxhY2VtZW50XVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhBbmdsZV1cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW292ZXJmbG93XVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zdHlsZS9GaWxsLmpzXCIpLmRlZmF1bHR9IFtiYWNrZ3JvdW5kRmlsbF1cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vc3R5bGUvU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFtiYWNrZ3JvdW5kU3Ryb2tlXVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtzY2FsZV1cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW3BhZGRpbmddXG4gKi9cblxuXG4vKipcbiAqIENvbnRhaW5lciBmb3IgZGVjbHV0dGVyZWQgcmVwbGF5IGluc3RydWN0aW9ucyB0aGF0IG5lZWQgdG8gYmUgcmVuZGVyZWQgb3JcbiAqIG9taXR0ZWQgdG9nZXRoZXIsIGkuZS4gd2hlbiBzdHlsZXMgcmVuZGVyIGJvdGggYW4gaW1hZ2UgYW5kIHRleHQsIG9yIGZvciB0aGVcbiAqIGNoYXJhY3RlcnMgdGhhdCBmb3JtIHRleHQgYWxvbmcgbGluZXMuIFRoZSBiYXNpYyBlbGVtZW50cyBvZiB0aGlzIGFycmF5IGFyZVxuICogYFttaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCBjb3VudF1gLCB3aGVyZSB0aGUgZmlyc3QgZm91ciBlbnRyaWVzIGFyZSB0aGVcbiAqIHJlbmRlcmVkIGV4dGVudCBvZiB0aGUgZ3JvdXAgaW4gcGl4ZWwgc3BhY2UuIGBjb3VudGAgaXMgdGhlIG51bWJlciBvZiBzdHlsZXNcbiAqIGluIHRoZSBncm91cCwgaS5lLiAyIHdoZW4gYW4gaW1hZ2UgYW5kIGEgdGV4dCBhcmUgZ3JvdXBlZCwgb3IgMSBvdGhlcndpc2UuXG4gKiBJbiBhZGRpdGlvbiB0byB0aGVzZSBmb3VyIGVsZW1lbnRzLCBkZWNsdXR0ZXIgaW5zdHJ1Y3Rpb24gYXJyYXlzIChpLmUuIHRoZVxuICogYXJndW1lbnRzIHRvIHtAbGluayBtb2R1bGU6b2wvcmVuZGVyL2NhbnZhc35kcmF3SW1hZ2V9IGFyZSBhcHBlbmRlZCB0byB0aGUgYXJyYXkuXG4gKiBAdHlwZWRlZiB7QXJyYXk8Kj59IERlY2x1dHRlckdyb3VwXG4gKi9cblxuXG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0Rm9udCA9ICcxMHB4IHNhbnMtc2VyaWYnO1xuXG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J9XG4gKi9cbmV4cG9ydCB2YXIgZGVmYXVsdEZpbGxTdHlsZSA9IFswLCAwLCAwLCAxXTtcblxuXG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0TGluZUNhcCA9ICdyb3VuZCc7XG5cblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICovXG5leHBvcnQgdmFyIGRlZmF1bHRMaW5lRGFzaCA9IFtdO1xuXG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgdmFyIGRlZmF1bHRMaW5lRGFzaE9mZnNldCA9IDA7XG5cblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCB2YXIgZGVmYXVsdExpbmVKb2luID0gJ3JvdW5kJztcblxuXG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0TWl0ZXJMaW1pdCA9IDEwO1xuXG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J9XG4gKi9cbmV4cG9ydCB2YXIgZGVmYXVsdFN0cm9rZVN0eWxlID0gWzAsIDAsIDAsIDFdO1xuXG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIGRlZmF1bHRUZXh0QWxpZ24gPSAnY2VudGVyJztcblxuXG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0VGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG5cblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICovXG5leHBvcnQgdmFyIGRlZmF1bHRQYWRkaW5nID0gWzAsIDAsIDAsIDBdO1xuXG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgdmFyIGRlZmF1bHRMaW5lV2lkdGggPSAxO1xuXG5cbi8qKlxuICogVGhlIGxhYmVsIGNhY2hlIGZvciB0ZXh0IHJlbmRlcmluZy4gVG8gY2hhbmdlIHRoZSBkZWZhdWx0IGNhY2hlIHNpemUgb2YgMjA0OFxuICogZW50cmllcywgdXNlIHtAbGluayBtb2R1bGU6b2wvc3RydWN0cy9MUlVDYWNoZSNzZXRTaXplfS5cbiAqIEB0eXBlIHtMUlVDYWNoZTxIVE1MQ2FudmFzRWxlbWVudD59XG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgbGFiZWxDYWNoZSA9IG5ldyBMUlVDYWNoZSgpO1xuXG5cbi8qKlxuICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBudW1iZXI+fVxuICovXG5leHBvcnQgdmFyIGNoZWNrZWRGb250cyA9IHt9O1xuXG5cbi8qKlxuICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAqL1xudmFyIG1lYXN1cmVDb250ZXh0ID0gbnVsbDtcblxuXG4vKipcbiAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgbnVtYmVyPn1cbiAqL1xuZXhwb3J0IHZhciB0ZXh0SGVpZ2h0cyA9IHt9O1xuXG5cbi8qKlxuICogQ2xlYXJzIHRoZSBsYWJlbCBjYWNoZSB3aGVuIGEgZm9udCBiZWNvbWVzIGF2YWlsYWJsZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBmb250U3BlYyBDU1MgZm9udCBzcGVjLlxuICovXG5leHBvcnQgdmFyIGNoZWNrRm9udCA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHJldHJpZXMgPSA2MDtcbiAgdmFyIGNoZWNrZWQgPSBjaGVja2VkRm9udHM7XG4gIHZhciBzaXplID0gJzMycHggJztcbiAgdmFyIHJlZmVyZW5jZUZvbnRzID0gWydtb25vc3BhY2UnLCAnc2VyaWYnXTtcbiAgdmFyIGxlbiA9IHJlZmVyZW5jZUZvbnRzLmxlbmd0aDtcbiAgdmFyIHRleHQgPSAnd215dHppbFdNWVRaSUxAIy8mPyQlMTBcXHVGMDEzJztcbiAgdmFyIGludGVydmFsLCByZWZlcmVuY2VXaWR0aDtcblxuICBmdW5jdGlvbiBpc0F2YWlsYWJsZShmb250KSB7XG4gICAgdmFyIGNvbnRleHQgPSBnZXRNZWFzdXJlQ29udGV4dCgpO1xuICAgIC8vIENoZWNrIHdlaWdodCByYW5nZXMgYWNjb3JkaW5nIHRvXG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL2ZvbnQtd2VpZ2h0I0ZhbGxiYWNrX3dlaWdodHNcbiAgICBmb3IgKHZhciB3ZWlnaHQgPSAxMDA7IHdlaWdodCA8PSA3MDA7IHdlaWdodCArPSAzMDApIHtcbiAgICAgIHZhciBmb250V2VpZ2h0ID0gd2VpZ2h0ICsgJyAnO1xuICAgICAgdmFyIGF2YWlsYWJsZSA9IHRydWU7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIHZhciByZWZlcmVuY2VGb250ID0gcmVmZXJlbmNlRm9udHNbaV07XG4gICAgICAgIGNvbnRleHQuZm9udCA9IGZvbnRXZWlnaHQgKyBzaXplICsgcmVmZXJlbmNlRm9udDtcbiAgICAgICAgcmVmZXJlbmNlV2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQpLndpZHRoO1xuICAgICAgICBpZiAoZm9udCAhPSByZWZlcmVuY2VGb250KSB7XG4gICAgICAgICAgY29udGV4dC5mb250ID0gZm9udFdlaWdodCArIHNpemUgKyBmb250ICsgJywnICsgcmVmZXJlbmNlRm9udDtcbiAgICAgICAgICB2YXIgd2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQpLndpZHRoO1xuICAgICAgICAgIC8vIElmIHdpZHRoIGFuZCByZWZlcmVuY2VXaWR0aCBhcmUgdGhlIHNhbWUsIHRoZW4gdGhlIGZhbGxiYWNrIHdhcyB1c2VkXG4gICAgICAgICAgLy8gaW5zdGVhZCBvZiB0aGUgZm9udCB3ZSB3YW50ZWQsIHNvIHRoZSBmb250IGlzIG5vdCBhdmFpbGFibGUuXG4gICAgICAgICAgYXZhaWxhYmxlID0gYXZhaWxhYmxlICYmIHdpZHRoICE9IHJlZmVyZW5jZVdpZHRoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYXZhaWxhYmxlKSB7XG4gICAgICAgIC8vIENvbnNpZGVyIGZvbnQgYXZhaWxhYmxlIHdoZW4gaXQgaXMgYXZhaWxhYmxlIGluIG9uZSB3ZWlnaHQgcmFuZ2UuXG4gICAgICAgIC8vRklYTUUgV2l0aCB0aGlzIHdlIG1pc3MgcmFyZSBjb3JuZXIgY2FzZXMsIHNvIHdlIHNob3VsZCBjb25zaWRlclxuICAgICAgICAvL0ZJWE1FIGNoZWNraW5nIGF2YWlsYWJpbGl0eSBmb3IgZWFjaCByZXF1ZXN0ZWQgd2VpZ2h0IHJhbmdlLlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2soKSB7XG4gICAgdmFyIGRvbmUgPSB0cnVlO1xuICAgIGZvciAodmFyIGZvbnQgaW4gY2hlY2tlZCkge1xuICAgICAgaWYgKGNoZWNrZWRbZm9udF0gPCByZXRyaWVzKSB7XG4gICAgICAgIGlmIChpc0F2YWlsYWJsZShmb250KSkge1xuICAgICAgICAgIGNoZWNrZWRbZm9udF0gPSByZXRyaWVzO1xuICAgICAgICAgIGNsZWFyKHRleHRIZWlnaHRzKTtcbiAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCBsb2FkZWQgZm9udHMgYXJlIHBpY2tlZCB1cCBieSBTYWZhcmlcbiAgICAgICAgICBtZWFzdXJlQ29udGV4dCA9IG51bGw7XG4gICAgICAgICAgbGFiZWxDYWNoZS5jbGVhcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICsrY2hlY2tlZFtmb250XTtcbiAgICAgICAgICBkb25lID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGRvbmUpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgaW50ZXJ2YWwgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGZvbnRTcGVjKSB7XG4gICAgdmFyIGZvbnRGYW1pbGllcyA9IGdldEZvbnRGYW1pbGllcyhmb250U3BlYyk7XG4gICAgaWYgKCFmb250RmFtaWxpZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZm9udEZhbWlsaWVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIHZhciBmb250RmFtaWx5ID0gZm9udEZhbWlsaWVzW2ldO1xuICAgICAgaWYgKCEoZm9udEZhbWlseSBpbiBjaGVja2VkKSkge1xuICAgICAgICBjaGVja2VkW2ZvbnRGYW1pbHldID0gcmV0cmllcztcbiAgICAgICAgaWYgKCFpc0F2YWlsYWJsZShmb250RmFtaWx5KSkge1xuICAgICAgICAgIGNoZWNrZWRbZm9udEZhbWlseV0gPSAwO1xuICAgICAgICAgIGlmIChpbnRlcnZhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpbnRlcnZhbCA9IHNldEludGVydmFsKGNoZWNrLCAzMik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xufSkoKTtcblxuXG4vKipcbiAqIEByZXR1cm4ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gTWVhc3VyZSBjb250ZXh0LlxuICovXG5mdW5jdGlvbiBnZXRNZWFzdXJlQ29udGV4dCgpIHtcbiAgaWYgKCFtZWFzdXJlQ29udGV4dCkge1xuICAgIG1lYXN1cmVDb250ZXh0ID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKDEsIDEpO1xuICB9XG4gIHJldHVybiBtZWFzdXJlQ29udGV4dDtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBmb250IEZvbnQgdG8gdXNlIGZvciBtZWFzdXJpbmcuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IE1lYXN1cmVtZW50LlxuICovXG5leHBvcnQgdmFyIG1lYXN1cmVUZXh0SGVpZ2h0ID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgc3BhbjtcbiAgdmFyIGhlaWdodHMgPSB0ZXh0SGVpZ2h0cztcbiAgcmV0dXJuIGZ1bmN0aW9uKGZvbnQpIHtcbiAgICB2YXIgaGVpZ2h0ID0gaGVpZ2h0c1tmb250XTtcbiAgICBpZiAoaGVpZ2h0ID09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKCFzcGFuKSB7XG4gICAgICAgIHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHNwYW4udGV4dENvbnRlbnQgPSAnTSc7XG4gICAgICAgIHNwYW4uc3R5bGUubWFyZ2luID0gc3Bhbi5zdHlsZS5wYWRkaW5nID0gJzAgIWltcG9ydGFudCc7XG4gICAgICAgIHNwYW4uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUgIWltcG9ydGFudCc7XG4gICAgICAgIHNwYW4uc3R5bGUubGVmdCA9ICctOTk5OTlweCAhaW1wb3J0YW50JztcbiAgICAgIH1cbiAgICAgIHNwYW4uc3R5bGUuZm9udCA9IGZvbnQ7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNwYW4pO1xuICAgICAgaGVpZ2h0ID0gaGVpZ2h0c1tmb250XSA9IHNwYW4ub2Zmc2V0SGVpZ2h0O1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzcGFuKTtcbiAgICB9XG4gICAgcmV0dXJuIGhlaWdodDtcbiAgfTtcbn0pKCk7XG5cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9udCBGb250LlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGV4dC5cbiAqIEByZXR1cm4ge251bWJlcn0gV2lkdGguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZWFzdXJlVGV4dFdpZHRoKGZvbnQsIHRleHQpIHtcbiAgdmFyIG1lYXN1cmVDb250ZXh0ID0gZ2V0TWVhc3VyZUNvbnRleHQoKTtcbiAgaWYgKGZvbnQgIT0gbWVhc3VyZUNvbnRleHQuZm9udCkge1xuICAgIG1lYXN1cmVDb250ZXh0LmZvbnQgPSBmb250O1xuICB9XG4gIHJldHVybiBtZWFzdXJlQ29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0KS53aWR0aDtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gUm90YXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0WCBYIG9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRZIFkgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlQXRPZmZzZXQoY29udGV4dCwgcm90YXRpb24sIG9mZnNldFgsIG9mZnNldFkpIHtcbiAgaWYgKHJvdGF0aW9uICE9PSAwKSB7XG4gICAgY29udGV4dC50cmFuc2xhdGUob2Zmc2V0WCwgb2Zmc2V0WSk7XG4gICAgY29udGV4dC5yb3RhdGUocm90YXRpb24pO1xuICAgIGNvbnRleHQudHJhbnNsYXRlKC1vZmZzZXRYLCAtb2Zmc2V0WSk7XG4gIH1cbn1cblxuXG5leHBvcnQgdmFyIHJlc2V0VHJhbnNmb3JtID0gY3JlYXRlVHJhbnNmb3JtKCk7XG5cblxuLyoqXG4gKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfG51bGx9IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gKiBAcGFyYW0ge251bWJlcn0gb3BhY2l0eSBPcGFjaXR5LlxuICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IGltYWdlIEltYWdlLlxuICogQHBhcmFtIHtudW1iZXJ9IG9yaWdpblggT3JpZ2luIFguXG4gKiBAcGFyYW0ge251bWJlcn0gb3JpZ2luWSBPcmlnaW4gWS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB3IFdpZHRoLlxuICogQHBhcmFtIHtudW1iZXJ9IGggSGVpZ2h0LlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgU2NhbGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkcmF3SW1hZ2UoY29udGV4dCxcbiAgdHJhbnNmb3JtLCBvcGFjaXR5LCBpbWFnZSwgb3JpZ2luWCwgb3JpZ2luWSwgdywgaCwgeCwgeSwgc2NhbGUpIHtcbiAgdmFyIGFscGhhO1xuICBpZiAob3BhY2l0eSAhPSAxKSB7XG4gICAgYWxwaGEgPSBjb250ZXh0Lmdsb2JhbEFscGhhO1xuICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBhbHBoYSAqIG9wYWNpdHk7XG4gIH1cbiAgaWYgKHRyYW5zZm9ybSkge1xuICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtLmFwcGx5KGNvbnRleHQsIHRyYW5zZm9ybSk7XG4gIH1cblxuICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgb3JpZ2luWCwgb3JpZ2luWSwgdywgaCwgeCwgeSwgdyAqIHNjYWxlLCBoICogc2NhbGUpO1xuXG4gIGlmIChhbHBoYSkge1xuICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBhbHBoYTtcbiAgfVxuICBpZiAodHJhbnNmb3JtKSB7XG4gICAgY29udGV4dC5zZXRUcmFuc2Zvcm0uYXBwbHkoY29udGV4dCwgcmVzZXRUcmFuc2Zvcm0pO1xuICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhbnZhcy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvbG9hZGluZ3N0cmF0ZWd5XG4gKi9cblxuXG4vKipcbiAqIFN0cmF0ZWd5IGZ1bmN0aW9uIGZvciBsb2FkaW5nIGFsbCBmZWF0dXJlcyB3aXRoIGEgc2luZ2xlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnQ+fSBFeHRlbnRzLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWxsKGV4dGVudCwgcmVzb2x1dGlvbikge1xuICByZXR1cm4gW1stSW5maW5pdHksIC1JbmZpbml0eSwgSW5maW5pdHksIEluZmluaXR5XV07XG59XG5cblxuLyoqXG4gKiBTdHJhdGVneSBmdW5jdGlvbiBmb3IgbG9hZGluZyBmZWF0dXJlcyBiYXNlZCBvbiB0aGUgdmlldydzIGV4dGVudCBhbmRcbiAqIHJlc29sdXRpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnQ+fSBFeHRlbnRzLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmJveChleHRlbnQsIHJlc29sdXRpb24pIHtcbiAgcmV0dXJuIFtleHRlbnRdO1xufVxuXG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0cmF0ZWd5IGZ1bmN0aW9uIGZvciBsb2FkaW5nIGZlYXR1cmVzIGJhc2VkIG9uIGEgdGlsZSBncmlkLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IHRpbGVHcmlkIFRpbGUgZ3JpZC5cbiAqIEByZXR1cm4ge2Z1bmN0aW9uKGltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudCwgbnVtYmVyKTogQXJyYXk8aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50Pn0gTG9hZGluZyBzdHJhdGVneS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRpbGUodGlsZUdyaWQpIHtcbiAgcmV0dXJuIChcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudD59IEV4dGVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24oZXh0ZW50LCByZXNvbHV0aW9uKSB7XG4gICAgICB2YXIgeiA9IHRpbGVHcmlkLmdldFpGb3JSZXNvbHV0aW9uKHJlc29sdXRpb24pO1xuICAgICAgdmFyIHRpbGVSYW5nZSA9IHRpbGVHcmlkLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFooZXh0ZW50LCB6KTtcbiAgICAgIC8qKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50Pn0gKi9cbiAgICAgIHZhciBleHRlbnRzID0gW107XG4gICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gKi9cbiAgICAgIHZhciB0aWxlQ29vcmQgPSBbeiwgMCwgMF07XG4gICAgICBmb3IgKHRpbGVDb29yZFsxXSA9IHRpbGVSYW5nZS5taW5YOyB0aWxlQ29vcmRbMV0gPD0gdGlsZVJhbmdlLm1heFg7ICsrdGlsZUNvb3JkWzFdKSB7XG4gICAgICAgIGZvciAodGlsZUNvb3JkWzJdID0gdGlsZVJhbmdlLm1pblk7IHRpbGVDb29yZFsyXSA8PSB0aWxlUmFuZ2UubWF4WTsgKyt0aWxlQ29vcmRbMl0pIHtcbiAgICAgICAgICBleHRlbnRzLnB1c2godGlsZUdyaWQuZ2V0VGlsZUNvb3JkRXh0ZW50KHRpbGVDb29yZCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZXh0ZW50cztcbiAgICB9XG4gICk7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRpbmdzdHJhdGVneS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1ZlY3RvclxuICovXG5cbmltcG9ydCB7Z2V0VWlkfSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCBDb2xsZWN0aW9uIGZyb20gJy4uL0NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IENvbGxlY3Rpb25FdmVudFR5cGUgZnJvbSAnLi4vQ29sbGVjdGlvbkV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgT2JqZWN0RXZlbnRUeXBlIGZyb20gJy4uL09iamVjdEV2ZW50VHlwZS5qcyc7XG5pbXBvcnQge2V4dGVuZH0gZnJvbSAnLi4vYXJyYXkuanMnO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuaW1wb3J0IHtsaXN0ZW4sIHVubGlzdGVuQnlLZXl9IGZyb20gJy4uL2V2ZW50cy5qcyc7XG5pbXBvcnQgRXZlbnQgZnJvbSAnLi4vZXZlbnRzL0V2ZW50LmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQge2NvbnRhaW5zRXh0ZW50LCBlcXVhbHN9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQge3hocn0gZnJvbSAnLi4vZmVhdHVyZWxvYWRlci5qcyc7XG5pbXBvcnQge1RSVUUsIFZPSUR9IGZyb20gJy4uL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQge2FsbCBhcyBhbGxTdHJhdGVneX0gZnJvbSAnLi4vbG9hZGluZ3N0cmF0ZWd5LmpzJztcbmltcG9ydCB7aXNFbXB0eSwgZ2V0VmFsdWVzfSBmcm9tICcuLi9vYmouanMnO1xuaW1wb3J0IFNvdXJjZSBmcm9tICcuL1NvdXJjZS5qcyc7XG5pbXBvcnQgU291cmNlU3RhdGUgZnJvbSAnLi9TdGF0ZS5qcyc7XG5pbXBvcnQgVmVjdG9yRXZlbnRUeXBlIGZyb20gJy4vVmVjdG9yRXZlbnRUeXBlLmpzJztcbmltcG9ydCBSQnVzaCBmcm9tICcuLi9zdHJ1Y3RzL1JCdXNoLmpzJztcblxuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9leHRlbnR+RXh0ZW50fSBhbmQgYSByZXNvbHV0aW9uIGFzIGFyZ3VtZW50cywgYW5kXG4gKiByZXR1cm5zIGFuIGFycmF5IG9mIHtAbGluayBtb2R1bGU6b2wvZXh0ZW50fkV4dGVudH0gd2l0aCB0aGUgZXh0ZW50cyB0byBsb2FkLiBVc3VhbGx5IHRoaXNcbiAqIGlzIG9uZSBvZiB0aGUgc3RhbmRhcmQge0BsaW5rIG1vZHVsZTpvbC9sb2FkaW5nc3RyYXRlZ3l9IHN0cmF0ZWdpZXMuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnQsIG51bWJlcik6IEFycmF5PGltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnQ+fSBMb2FkaW5nU3RyYXRlZ3lcbiAqIEBhcGlcbiAqL1xuXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogRXZlbnRzIGVtaXR0ZWQgYnkge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yfSBpbnN0YW5jZXMgYXJlIGluc3RhbmNlcyBvZiB0aGlzXG4gKiB0eXBlLlxuICovXG5leHBvcnQgdmFyIFZlY3RvclNvdXJjZUV2ZW50ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRXZlbnQpIHtcbiAgZnVuY3Rpb24gVmVjdG9yU291cmNlRXZlbnQodHlwZSwgb3B0X2ZlYXR1cmUpIHtcblxuICAgIEV2ZW50LmNhbGwodGhpcywgdHlwZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZmVhdHVyZSBiZWluZyBhZGRlZCBvciByZW1vdmVkLlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLmZlYXR1cmUgPSBvcHRfZmVhdHVyZTtcblxuICB9XG5cbiAgaWYgKCBFdmVudCApIFZlY3RvclNvdXJjZUV2ZW50Ll9fcHJvdG9fXyA9IEV2ZW50O1xuICBWZWN0b3JTb3VyY2VFdmVudC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBFdmVudCAmJiBFdmVudC5wcm90b3R5cGUgKTtcbiAgVmVjdG9yU291cmNlRXZlbnQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVmVjdG9yU291cmNlRXZlbnQ7XG5cbiAgcmV0dXJuIFZlY3RvclNvdXJjZUV2ZW50O1xufShFdmVudCkpO1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5BdHRyaWJ1dGlvbkxpa2V9IFthdHRyaWJ1dGlvbnNdIEF0dHJpYnV0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PnxDb2xsZWN0aW9uPGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59IFtmZWF0dXJlc11cbiAqIEZlYXR1cmVzLiBJZiBwcm92aWRlZCBhcyB7QGxpbmsgbW9kdWxlOm9sL0NvbGxlY3Rpb259LCB0aGUgZmVhdHVyZXMgaW4gdGhlIHNvdXJjZVxuICogYW5kIHRoZSBjb2xsZWN0aW9uIHdpbGwgc3RheSBpbiBzeW5jLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9mb3JtYXQvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBbZm9ybWF0XSBUaGUgZmVhdHVyZSBmb3JtYXQgdXNlZCBieSB0aGUgWEhSXG4gKiBmZWF0dXJlIGxvYWRlciB3aGVuIGB1cmxgIGlzIHNldC4gUmVxdWlyZWQgaWYgYHVybGAgaXMgc2V0LCBvdGhlcndpc2UgaWdub3JlZC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZmVhdHVyZWxvYWRlci5qc1wiKS5GZWF0dXJlTG9hZGVyfSBbbG9hZGVyXVxuICogVGhlIGxvYWRlciBmdW5jdGlvbiB1c2VkIHRvIGxvYWQgZmVhdHVyZXMsIGZyb20gYSByZW1vdGUgc291cmNlIGZvciBleGFtcGxlLlxuICogSWYgdGhpcyBpcyBub3Qgc2V0IGFuZCBgdXJsYCBpcyBzZXQsIHRoZSBzb3VyY2Ugd2lsbCBjcmVhdGUgYW5kIHVzZSBhbiBYSFJcbiAqIGZlYXR1cmUgbG9hZGVyLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIGltcG9ydCB7VmVjdG9yfSBmcm9tICdvbC9zb3VyY2UnO1xuICogaW1wb3J0IHtHZW9KU09OfSBmcm9tICdvbC9mb3JtYXQnO1xuICogaW1wb3J0IHtiYm94fSBmcm9tICdvbC9sb2FkaW5nc3RyYXRlZ3knO1xuICpcbiAqIHZhciB2ZWN0b3JTb3VyY2UgPSBuZXcgVmVjdG9yKHtcbiAqICAgZm9ybWF0OiBuZXcgR2VvSlNPTigpLFxuICogICBsb2FkZXI6IGZ1bmN0aW9uKGV4dGVudCwgcmVzb2x1dGlvbiwgcHJvamVjdGlvbikge1xuICogICAgICB2YXIgcHJvaiA9IHByb2plY3Rpb24uZ2V0Q29kZSgpO1xuICogICAgICB2YXIgdXJsID0gJ2h0dHBzOi8vYWhvY2V2YXIuY29tL2dlb3NlcnZlci93ZnM/c2VydmljZT1XRlMmJyArXG4gKiAgICAgICAgICAndmVyc2lvbj0xLjEuMCZyZXF1ZXN0PUdldEZlYXR1cmUmdHlwZW5hbWU9b3NtOndhdGVyX2FyZWFzJicgK1xuICogICAgICAgICAgJ291dHB1dEZvcm1hdD1hcHBsaWNhdGlvbi9qc29uJnNyc25hbWU9JyArIHByb2ogKyAnJicgK1xuICogICAgICAgICAgJ2Jib3g9JyArIGV4dGVudC5qb2luKCcsJykgKyAnLCcgKyBwcm9qO1xuICogICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gKiAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xuICogICAgICB2YXIgb25FcnJvciA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgIHZlY3RvclNvdXJjZS5yZW1vdmVMb2FkZWRFeHRlbnQoZXh0ZW50KTtcbiAqICAgICAgfVxuICogICAgICB4aHIub25lcnJvciA9IG9uRXJyb3I7XG4gKiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAqICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PSAyMDApIHtcbiAqICAgICAgICAgIHZlY3RvclNvdXJjZS5hZGRGZWF0dXJlcyhcbiAqICAgICAgICAgICAgICB2ZWN0b3JTb3VyY2UuZ2V0Rm9ybWF0KCkucmVhZEZlYXR1cmVzKHhoci5yZXNwb25zZVRleHQpKTtcbiAqICAgICAgICB9IGVsc2Uge1xuICogICAgICAgICAgb25FcnJvcigpO1xuICogICAgICAgIH1cbiAqICAgICAgfVxuICogICAgICB4aHIuc2VuZCgpO1xuICogICAgfSxcbiAqICAgIHN0cmF0ZWd5OiBiYm94XG4gKiAgfSk7XG4gKiBgYGBcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW292ZXJsYXBzPXRydWVdIFRoaXMgc291cmNlIG1heSBoYXZlIG92ZXJsYXBwaW5nIGdlb21ldHJpZXMuXG4gKiBTZXR0aW5nIHRoaXMgdG8gYGZhbHNlYCAoZS5nLiBmb3Igc291cmNlcyB3aXRoIHBvbHlnb25zIHRoYXQgcmVwcmVzZW50IGFkbWluaXN0cmF0aXZlXG4gKiBib3VuZGFyaWVzIG9yIFRvcG9KU09OIHNvdXJjZXMpIGFsbG93cyB0aGUgcmVuZGVyZXIgdG8gb3B0aW1pc2UgZmlsbCBhbmRcbiAqIHN0cm9rZSBvcGVyYXRpb25zLlxuICogQHByb3BlcnR5IHtMb2FkaW5nU3RyYXRlZ3l9IFtzdHJhdGVneV0gVGhlIGxvYWRpbmcgc3RyYXRlZ3kgdG8gdXNlLlxuICogQnkgZGVmYXVsdCBhbiB7QGxpbmsgbW9kdWxlOm9sL2xvYWRpbmdzdHJhdGVneX5hbGx9XG4gKiBzdHJhdGVneSBpcyB1c2VkLCBhIG9uZS1vZmYgc3RyYXRlZ3kgd2hpY2ggbG9hZHMgYWxsIGZlYXR1cmVzIGF0IG9uY2UuXG4gKiBAcHJvcGVydHkge3N0cmluZ3xpbXBvcnQoXCIuLi9mZWF0dXJlbG9hZGVyLmpzXCIpLkZlYXR1cmVVcmxGdW5jdGlvbn0gW3VybF1cbiAqIFNldHRpbmcgdGhpcyBvcHRpb24gaW5zdHJ1Y3RzIHRoZSBzb3VyY2UgdG8gbG9hZCBmZWF0dXJlcyB1c2luZyBhbiBYSFIgbG9hZGVyXG4gKiAoc2VlIHtAbGluayBtb2R1bGU6b2wvZmVhdHVyZWxvYWRlcn54aHJ9KS4gVXNlIGEgYHN0cmluZ2AgYW5kIGFuXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2xvYWRpbmdzdHJhdGVneX5hbGx9IGZvciBhIG9uZS1vZmYgZG93bmxvYWQgb2YgYWxsIGZlYXR1cmVzIGZyb21cbiAqIHRoZSBnaXZlbiBVUkwuIFVzZSBhIHtAbGluayBtb2R1bGU6b2wvZmVhdHVyZWxvYWRlcn5GZWF0dXJlVXJsRnVuY3Rpb259IHRvIGdlbmVyYXRlIHRoZSB1cmwgd2l0aFxuICogb3RoZXIgbG9hZGluZyBzdHJhdGVnaWVzLlxuICogUmVxdWlyZXMgYGZvcm1hdGAgdG8gYmUgc2V0IGFzIHdlbGwuXG4gKiBXaGVuIGRlZmF1bHQgWEhSIGZlYXR1cmUgbG9hZGVyIGlzIHByb3ZpZGVkLCB0aGUgZmVhdHVyZXMgd2lsbFxuICogYmUgdHJhbnNmb3JtZWQgZnJvbSB0aGUgZGF0YSBwcm9qZWN0aW9uIHRvIHRoZSB2aWV3IHByb2plY3Rpb25cbiAqIGR1cmluZyBwYXJzaW5nLiBJZiB5b3VyIHJlbW90ZSBkYXRhIHNvdXJjZSBkb2VzIG5vdCBhZHZlcnRpc2UgaXRzIHByb2plY3Rpb25cbiAqIHByb3Blcmx5LCB0aGlzIHRyYW5zZm9ybWF0aW9uIHdpbGwgYmUgaW5jb3JyZWN0LiBGb3Igc29tZSBmb3JtYXRzLCB0aGVcbiAqIGRlZmF1bHQgcHJvamVjdGlvbiAodXN1YWxseSBFUFNHOjQzMjYpIGNhbiBiZSBvdmVycmlkZGVuIGJ5IHNldHRpbmcgdGhlXG4gKiBkYXRhUHJvamVjdGlvbiBjb25zdHJ1Y3RvciBvcHRpb24gb24gdGhlIGZvcm1hdC5cbiAqIE5vdGUgdGhhdCBpZiBhIHNvdXJjZSBjb250YWlucyBub24tZmVhdHVyZSBkYXRhLCBzdWNoIGFzIGEgR2VvSlNPTiBnZW9tZXRyeVxuICogb3IgYSBLTUwgTmV0d29ya0xpbmssIHRoZXNlIHdpbGwgYmUgaWdub3JlZC4gVXNlIGEgY3VzdG9tIGxvYWRlciB0byBsb2FkIHRoZXNlLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdXNlU3BhdGlhbEluZGV4PXRydWVdXG4gKiBCeSBkZWZhdWx0LCBhbiBSVHJlZSBpcyB1c2VkIGFzIHNwYXRpYWwgaW5kZXguIFdoZW4gZmVhdHVyZXMgYXJlIHJlbW92ZWQgYW5kXG4gKiBhZGRlZCBmcmVxdWVudGx5LCBhbmQgdGhlIHRvdGFsIG51bWJlciBvZiBmZWF0dXJlcyBpcyBsb3csIHNldHRpbmcgdGhpcyB0b1xuICogYGZhbHNlYCBtYXkgaW1wcm92ZSBwZXJmb3JtYW5jZS5cbiAqXG4gKiBOb3RlIHRoYXRcbiAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2UjZ2V0RmVhdHVyZXNJbkV4dGVudH0sXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J+VmVjdG9yU291cmNlI2dldENsb3Nlc3RGZWF0dXJlVG9Db29yZGluYXRlfSBhbmRcbiAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2UjZ2V0RXh0ZW50fSBjYW5ub3QgYmUgdXNlZCB3aGVuIGB1c2VTcGF0aWFsSW5kZXhgIGlzXG4gKiBzZXQgdG8gYGZhbHNlYCwgYW5kIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2UjZm9yRWFjaEZlYXR1cmVJbkV4dGVudH0gd2lsbCBsb29wXG4gKiB0aHJvdWdoIGFsbCBmZWF0dXJlcy5cbiAqXG4gKiBXaGVuIHNldCB0byBgZmFsc2VgLCB0aGUgZmVhdHVyZXMgd2lsbCBiZSBtYWludGFpbmVkIGluIGFuXG4gKiB7QGxpbmsgbW9kdWxlOm9sL0NvbGxlY3Rpb259LCB3aGljaCBjYW4gYmUgcmV0cmlldmVkIHRocm91Z2hcbiAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2UjZ2V0RmVhdHVyZXNDb2xsZWN0aW9ufS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3dyYXBYPXRydWVdIFdyYXAgdGhlIHdvcmxkIGhvcml6b250YWxseS4gRm9yIHZlY3RvciBlZGl0aW5nIGFjcm9zcyB0aGVcbiAqIC0xODDCsCBhbmQgMTgwwrAgbWVyaWRpYW5zIHRvIHdvcmsgcHJvcGVybHksIHRoaXMgc2hvdWxkIGJlIHNldCB0byBgZmFsc2VgLiBUaGVcbiAqIHJlc3VsdGluZyBnZW9tZXRyeSBjb29yZGluYXRlcyB3aWxsIHRoZW4gZXhjZWVkIHRoZSB3b3JsZCBib3VuZHMuXG4gKi9cblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFByb3ZpZGVzIGEgc291cmNlIG9mIGZlYXR1cmVzIGZvciB2ZWN0b3IgbGF5ZXJzLiBWZWN0b3IgZmVhdHVyZXMgcHJvdmlkZWRcbiAqIGJ5IHRoaXMgc291cmNlIGFyZSBzdWl0YWJsZSBmb3IgZWRpdGluZy4gU2VlIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3RvclRpbGV+VmVjdG9yVGlsZX0gZm9yXG4gKiB2ZWN0b3IgZGF0YSB0aGF0IGlzIG9wdGltaXplZCBmb3IgcmVuZGVyaW5nLlxuICpcbiAqIEBmaXJlcyBvbC9zb3VyY2UvVmVjdG9yLlZlY3RvclNvdXJjZUV2ZW50XG4gKiBAYXBpXG4gKi9cbnZhciBWZWN0b3JTb3VyY2UgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTb3VyY2UpIHtcbiAgZnVuY3Rpb24gVmVjdG9yU291cmNlKG9wdF9vcHRpb25zKSB7XG5cbiAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuXG4gICAgU291cmNlLmNhbGwodGhpcywge1xuICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9ucyxcbiAgICAgIHByb2plY3Rpb246IHVuZGVmaW5lZCxcbiAgICAgIHN0YXRlOiBTb3VyY2VTdGF0ZS5SRUFEWSxcbiAgICAgIHdyYXBYOiBvcHRpb25zLndyYXBYICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLndyYXBYIDogdHJ1ZVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZmVhdHVyZWxvYWRlci5qc1wiKS5GZWF0dXJlTG9hZGVyfVxuICAgICAqL1xuICAgIHRoaXMubG9hZGVyXyA9IFZPSUQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9mb3JtYXQvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmZvcm1hdF8gPSBvcHRpb25zLmZvcm1hdDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5vdmVybGFwc18gPSBvcHRpb25zLm92ZXJsYXBzID09IHVuZGVmaW5lZCA/IHRydWUgOiBvcHRpb25zLm92ZXJsYXBzO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfGltcG9ydChcIi4uL2ZlYXR1cmVsb2FkZXIuanNcIikuRmVhdHVyZVVybEZ1bmN0aW9ufHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnVybF8gPSBvcHRpb25zLnVybDtcblxuICAgIGlmIChvcHRpb25zLmxvYWRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmxvYWRlcl8gPSBvcHRpb25zLmxvYWRlcjtcbiAgICB9IGVsc2UgaWYgKHRoaXMudXJsXyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBhc3NlcnQodGhpcy5mb3JtYXRfLCA3KTsgLy8gYGZvcm1hdGAgbXVzdCBiZSBzZXQgd2hlbiBgdXJsYCBpcyBzZXRcbiAgICAgIC8vIGNyZWF0ZSBhIFhIUiBmZWF0dXJlIGxvYWRlciBmb3IgXCJ1cmxcIiBhbmQgXCJmb3JtYXRcIlxuICAgICAgdGhpcy5sb2FkZXJfID0geGhyKHRoaXMudXJsXywgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9mb3JtYXQvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSAqLyAodGhpcy5mb3JtYXRfKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7TG9hZGluZ1N0cmF0ZWd5fVxuICAgICAqL1xuICAgIHRoaXMuc3RyYXRlZ3lfID0gb3B0aW9ucy5zdHJhdGVneSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zdHJhdGVneSA6IGFsbFN0cmF0ZWd5O1xuXG4gICAgdmFyIHVzZVNwYXRpYWxJbmRleCA9XG4gICAgICAgIG9wdGlvbnMudXNlU3BhdGlhbEluZGV4ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnVzZVNwYXRpYWxJbmRleCA6IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtSQnVzaDxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAqL1xuICAgIHRoaXMuZmVhdHVyZXNSdHJlZV8gPSB1c2VTcGF0aWFsSW5kZXggPyBuZXcgUkJ1c2goKSA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtSQnVzaDx7ZXh0ZW50OiBpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fT59XG4gICAgICovXG4gICAgdGhpcy5sb2FkZWRFeHRlbnRzUnRyZWVfID0gbmV3IFJCdXNoKCk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgKi9cbiAgICB0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzXyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQSBsb29rdXAgb2YgZmVhdHVyZXMgYnkgaWQgKHRoZSByZXR1cm4gZnJvbSBmZWF0dXJlLmdldElkKCkpLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAqL1xuICAgIHRoaXMuaWRJbmRleF8gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEEgbG9va3VwIG9mIGZlYXR1cmVzIHdpdGhvdXQgaWQgKGtleWVkIGJ5IGdldFVpZChmZWF0dXJlKSkuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59XG4gICAgICovXG4gICAgdGhpcy51bmRlZklkSW5kZXhfID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBBcnJheTxpbXBvcnQoXCIuLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pj59XG4gICAgICovXG4gICAgdGhpcy5mZWF0dXJlQ2hhbmdlS2V5c18gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0NvbGxlY3Rpb248aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgKi9cbiAgICB0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8gPSBudWxsO1xuXG4gICAgdmFyIGNvbGxlY3Rpb24sIGZlYXR1cmVzO1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMuZmVhdHVyZXMpKSB7XG4gICAgICBmZWF0dXJlcyA9IG9wdGlvbnMuZmVhdHVyZXM7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmZlYXR1cmVzKSB7XG4gICAgICBjb2xsZWN0aW9uID0gb3B0aW9ucy5mZWF0dXJlcztcbiAgICAgIGZlYXR1cmVzID0gY29sbGVjdGlvbi5nZXRBcnJheSgpO1xuICAgIH1cbiAgICBpZiAoIXVzZVNwYXRpYWxJbmRleCAmJiBjb2xsZWN0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbGxlY3Rpb24gPSBuZXcgQ29sbGVjdGlvbihmZWF0dXJlcyk7XG4gICAgfVxuICAgIGlmIChmZWF0dXJlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmFkZEZlYXR1cmVzSW50ZXJuYWwoZmVhdHVyZXMpO1xuICAgIH1cbiAgICBpZiAoY29sbGVjdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmJpbmRGZWF0dXJlc0NvbGxlY3Rpb25fKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICB9XG5cbiAgaWYgKCBTb3VyY2UgKSBWZWN0b3JTb3VyY2UuX19wcm90b19fID0gU291cmNlO1xuICBWZWN0b3JTb3VyY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU291cmNlICYmIFNvdXJjZS5wcm90b3R5cGUgKTtcbiAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFZlY3RvclNvdXJjZTtcblxuICAvKipcbiAgICogQWRkIGEgc2luZ2xlIGZlYXR1cmUgdG8gdGhlIHNvdXJjZS4gIElmIHlvdSB3YW50IHRvIGFkZCBhIGJhdGNoIG9mIGZlYXR1cmVzXG4gICAqIGF0IG9uY2UsIGNhbGwge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yflZlY3RvclNvdXJjZSNhZGRGZWF0dXJlcyAjYWRkRmVhdHVyZXMoKX1cbiAgICogaW5zdGVhZC4gQSBmZWF0dXJlIHdpbGwgbm90IGJlIGFkZGVkIHRvIHRoZSBzb3VyY2UgaWYgZmVhdHVyZSB3aXRoXG4gICAqIHRoZSBzYW1lIGlkIGlzIGFscmVhZHkgdGhlcmUuIFRoZSByZWFzb24gZm9yIHRoaXMgYmVoYXZpb3IgaXMgdG8gYXZvaWRcbiAgICogZmVhdHVyZSBkdXBsaWNhdGlvbiB3aGVuIHVzaW5nIGJib3ggb3IgdGlsZSBsb2FkaW5nIHN0cmF0ZWdpZXMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUgdG8gYWRkLlxuICAgKiBAYXBpXG4gICAqL1xuICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmFkZEZlYXR1cmUgPSBmdW5jdGlvbiBhZGRGZWF0dXJlIChmZWF0dXJlKSB7XG4gICAgdGhpcy5hZGRGZWF0dXJlSW50ZXJuYWwoZmVhdHVyZSk7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH07XG5cblxuICAvKipcbiAgICogQWRkIGEgZmVhdHVyZSB3aXRob3V0IGZpcmluZyBhIGBjaGFuZ2VgIGV2ZW50LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmFkZEZlYXR1cmVJbnRlcm5hbCA9IGZ1bmN0aW9uIGFkZEZlYXR1cmVJbnRlcm5hbCAoZmVhdHVyZSkge1xuICAgIHZhciBmZWF0dXJlS2V5ID0gZ2V0VWlkKGZlYXR1cmUpO1xuXG4gICAgaWYgKCF0aGlzLmFkZFRvSW5kZXhfKGZlYXR1cmVLZXksIGZlYXR1cmUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zZXR1cENoYW5nZUV2ZW50c18oZmVhdHVyZUtleSwgZmVhdHVyZSk7XG5cbiAgICB2YXIgZ2VvbWV0cnkgPSBmZWF0dXJlLmdldEdlb21ldHJ5KCk7XG4gICAgaWYgKGdlb21ldHJ5KSB7XG4gICAgICB2YXIgZXh0ZW50ID0gZ2VvbWV0cnkuZ2V0RXh0ZW50KCk7XG4gICAgICBpZiAodGhpcy5mZWF0dXJlc1J0cmVlXykge1xuICAgICAgICB0aGlzLmZlYXR1cmVzUnRyZWVfLmluc2VydChleHRlbnQsIGZlYXR1cmUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzX1tmZWF0dXJlS2V5XSA9IGZlYXR1cmU7XG4gICAgfVxuXG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgbmV3IFZlY3RvclNvdXJjZUV2ZW50KFZlY3RvckV2ZW50VHlwZS5BRERGRUFUVVJFLCBmZWF0dXJlKSk7XG4gIH07XG5cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZlYXR1cmVLZXkgVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBmZWF0dXJlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBUaGUgZmVhdHVyZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuc2V0dXBDaGFuZ2VFdmVudHNfID0gZnVuY3Rpb24gc2V0dXBDaGFuZ2VFdmVudHNfIChmZWF0dXJlS2V5LCBmZWF0dXJlKSB7XG4gICAgdGhpcy5mZWF0dXJlQ2hhbmdlS2V5c19bZmVhdHVyZUtleV0gPSBbXG4gICAgICBsaXN0ZW4oZmVhdHVyZSwgRXZlbnRUeXBlLkNIQU5HRSxcbiAgICAgICAgdGhpcy5oYW5kbGVGZWF0dXJlQ2hhbmdlXywgdGhpcyksXG4gICAgICBsaXN0ZW4oZmVhdHVyZSwgT2JqZWN0RXZlbnRUeXBlLlBST1BFUlRZQ0hBTkdFLFxuICAgICAgICB0aGlzLmhhbmRsZUZlYXR1cmVDaGFuZ2VfLCB0aGlzKVxuICAgIF07XG4gIH07XG5cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZlYXR1cmVLZXkgVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBmZWF0dXJlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBUaGUgZmVhdHVyZS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGZlYXR1cmUgaXMgXCJ2YWxpZFwiLCBpbiB0aGUgc2Vuc2UgdGhhdCBpdCBpcyBhbHNvIGFcbiAgICogICAgIGNhbmRpZGF0ZSBmb3IgaW5zZXJ0aW9uIGludG8gdGhlIFJ0cmVlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5hZGRUb0luZGV4XyA9IGZ1bmN0aW9uIGFkZFRvSW5kZXhfIChmZWF0dXJlS2V5LCBmZWF0dXJlKSB7XG4gICAgdmFyIHZhbGlkID0gdHJ1ZTtcbiAgICB2YXIgaWQgPSBmZWF0dXJlLmdldElkKCk7XG4gICAgaWYgKGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICghKGlkLnRvU3RyaW5nKCkgaW4gdGhpcy5pZEluZGV4XykpIHtcbiAgICAgICAgdGhpcy5pZEluZGV4X1tpZC50b1N0cmluZygpXSA9IGZlYXR1cmU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBhc3NlcnQoIShmZWF0dXJlS2V5IGluIHRoaXMudW5kZWZJZEluZGV4XyksXG4gICAgICAgIDMwKTsgLy8gVGhlIHBhc3NlZCBgZmVhdHVyZWAgd2FzIGFscmVhZHkgYWRkZWQgdG8gdGhlIHNvdXJjZVxuICAgICAgdGhpcy51bmRlZklkSW5kZXhfW2ZlYXR1cmVLZXldID0gZmVhdHVyZTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbGlkO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEFkZCBhIGJhdGNoIG9mIGZlYXR1cmVzIHRvIHRoZSBzb3VyY2UuXG4gICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn0gZmVhdHVyZXMgRmVhdHVyZXMgdG8gYWRkLlxuICAgKiBAYXBpXG4gICAqL1xuICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmFkZEZlYXR1cmVzID0gZnVuY3Rpb24gYWRkRmVhdHVyZXMgKGZlYXR1cmVzKSB7XG4gICAgdGhpcy5hZGRGZWF0dXJlc0ludGVybmFsKGZlYXR1cmVzKTtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBBZGQgZmVhdHVyZXMgd2l0aG91dCBmaXJpbmcgYSBgY2hhbmdlYCBldmVudC5cbiAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fSBmZWF0dXJlcyBGZWF0dXJlcy5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5hZGRGZWF0dXJlc0ludGVybmFsID0gZnVuY3Rpb24gYWRkRmVhdHVyZXNJbnRlcm5hbCAoZmVhdHVyZXMpIHtcbiAgICB2YXIgZXh0ZW50cyA9IFtdO1xuICAgIHZhciBuZXdGZWF0dXJlcyA9IFtdO1xuICAgIHZhciBnZW9tZXRyeUZlYXR1cmVzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZmVhdHVyZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBmZWF0dXJlID0gZmVhdHVyZXNbaV07XG4gICAgICB2YXIgZmVhdHVyZUtleSA9IGdldFVpZChmZWF0dXJlKTtcbiAgICAgIGlmICh0aGlzLmFkZFRvSW5kZXhfKGZlYXR1cmVLZXksIGZlYXR1cmUpKSB7XG4gICAgICAgIG5ld0ZlYXR1cmVzLnB1c2goZmVhdHVyZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSQxID0gMCwgbGVuZ3RoJDEgPSBuZXdGZWF0dXJlcy5sZW5ndGg7IGkkMSA8IGxlbmd0aCQxOyBpJDErKykge1xuICAgICAgdmFyIGZlYXR1cmUkMSA9IG5ld0ZlYXR1cmVzW2kkMV07XG4gICAgICB2YXIgZmVhdHVyZUtleSQxID0gZ2V0VWlkKGZlYXR1cmUkMSk7XG4gICAgICB0aGlzLnNldHVwQ2hhbmdlRXZlbnRzXyhmZWF0dXJlS2V5JDEsIGZlYXR1cmUkMSk7XG5cbiAgICAgIHZhciBnZW9tZXRyeSA9IGZlYXR1cmUkMS5nZXRHZW9tZXRyeSgpO1xuICAgICAgaWYgKGdlb21ldHJ5KSB7XG4gICAgICAgIHZhciBleHRlbnQgPSBnZW9tZXRyeS5nZXRFeHRlbnQoKTtcbiAgICAgICAgZXh0ZW50cy5wdXNoKGV4dGVudCk7XG4gICAgICAgIGdlb21ldHJ5RmVhdHVyZXMucHVzaChmZWF0dXJlJDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc19bZmVhdHVyZUtleSQxXSA9IGZlYXR1cmUkMTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuZmVhdHVyZXNSdHJlZV8pIHtcbiAgICAgIHRoaXMuZmVhdHVyZXNSdHJlZV8ubG9hZChleHRlbnRzLCBnZW9tZXRyeUZlYXR1cmVzKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpJDIgPSAwLCBsZW5ndGgkMiA9IG5ld0ZlYXR1cmVzLmxlbmd0aDsgaSQyIDwgbGVuZ3RoJDI7IGkkMisrKSB7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IFZlY3RvclNvdXJjZUV2ZW50KFZlY3RvckV2ZW50VHlwZS5BRERGRUFUVVJFLCBuZXdGZWF0dXJlc1tpJDJdKSk7XG4gICAgfVxuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUNvbGxlY3Rpb248aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn0gY29sbGVjdGlvbiBDb2xsZWN0aW9uLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5iaW5kRmVhdHVyZXNDb2xsZWN0aW9uXyA9IGZ1bmN0aW9uIGJpbmRGZWF0dXJlc0NvbGxlY3Rpb25fIChjb2xsZWN0aW9uKSB7XG4gICAgdmFyIG1vZGlmeWluZ0NvbGxlY3Rpb24gPSBmYWxzZTtcbiAgICBsaXN0ZW4odGhpcywgVmVjdG9yRXZlbnRUeXBlLkFEREZFQVRVUkUsXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7VmVjdG9yU291cmNlRXZlbnR9IGV2dCBUaGUgdmVjdG9yIHNvdXJjZSBldmVudFxuICAgICAgICovXG4gICAgICBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgaWYgKCFtb2RpZnlpbmdDb2xsZWN0aW9uKSB7XG4gICAgICAgICAgbW9kaWZ5aW5nQ29sbGVjdGlvbiA9IHRydWU7XG4gICAgICAgICAgY29sbGVjdGlvbi5wdXNoKGV2dC5mZWF0dXJlKTtcbiAgICAgICAgICBtb2RpZnlpbmdDb2xsZWN0aW9uID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIGxpc3Rlbih0aGlzLCBWZWN0b3JFdmVudFR5cGUuUkVNT1ZFRkVBVFVSRSxcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtWZWN0b3JTb3VyY2VFdmVudH0gZXZ0IFRoZSB2ZWN0b3Igc291cmNlIGV2ZW50XG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBpZiAoIW1vZGlmeWluZ0NvbGxlY3Rpb24pIHtcbiAgICAgICAgICBtb2RpZnlpbmdDb2xsZWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgICBjb2xsZWN0aW9uLnJlbW92ZShldnQuZmVhdHVyZSk7XG4gICAgICAgICAgbW9kaWZ5aW5nQ29sbGVjdGlvbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICBsaXN0ZW4oY29sbGVjdGlvbiwgQ29sbGVjdGlvbkV2ZW50VHlwZS5BREQsXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnR9IGV2dCBUaGUgY29sbGVjdGlvbiBldmVudFxuICAgICAgICovXG4gICAgICBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgaWYgKCFtb2RpZnlpbmdDb2xsZWN0aW9uKSB7XG4gICAgICAgICAgbW9kaWZ5aW5nQ29sbGVjdGlvbiA9IHRydWU7XG4gICAgICAgICAgdGhpcy5hZGRGZWF0dXJlKC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSAqLyAoZXZ0LmVsZW1lbnQpKTtcbiAgICAgICAgICBtb2RpZnlpbmdDb2xsZWN0aW9uID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMpO1xuICAgIGxpc3Rlbihjb2xsZWN0aW9uLCBDb2xsZWN0aW9uRXZlbnRUeXBlLlJFTU9WRSxcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25FdmVudH0gZXZ0IFRoZSBjb2xsZWN0aW9uIGV2ZW50XG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBpZiAoIW1vZGlmeWluZ0NvbGxlY3Rpb24pIHtcbiAgICAgICAgICBtb2RpZnlpbmdDb2xsZWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLnJlbW92ZUZlYXR1cmUoLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9ICovIChldnQuZWxlbWVudCkpO1xuICAgICAgICAgIG1vZGlmeWluZ0NvbGxlY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSwgdGhpcyk7XG4gICAgdGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fID0gY29sbGVjdGlvbjtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYWxsIGZlYXR1cmVzIGZyb20gdGhlIHNvdXJjZS5cbiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2Zhc3QgU2tpcCBkaXNwYXRjaGluZyBvZiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3IuVmVjdG9yU291cmNlRXZlbnQjcmVtb3ZlZmVhdHVyZX0gZXZlbnRzLlxuICAgKiBAYXBpXG4gICAqL1xuICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKG9wdF9mYXN0KSB7XG4gICAgaWYgKG9wdF9mYXN0KSB7XG4gICAgICBmb3IgKHZhciBmZWF0dXJlSWQgaW4gdGhpcy5mZWF0dXJlQ2hhbmdlS2V5c18pIHtcbiAgICAgICAgdmFyIGtleXMgPSB0aGlzLmZlYXR1cmVDaGFuZ2VLZXlzX1tmZWF0dXJlSWRdO1xuICAgICAgICBrZXlzLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuZmVhdHVyZXNDb2xsZWN0aW9uXykge1xuICAgICAgICB0aGlzLmZlYXR1cmVDaGFuZ2VLZXlzXyA9IHt9O1xuICAgICAgICB0aGlzLmlkSW5kZXhfID0ge307XG4gICAgICAgIHRoaXMudW5kZWZJZEluZGV4XyA9IHt9O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5mZWF0dXJlc1J0cmVlXykge1xuICAgICAgICB0aGlzLmZlYXR1cmVzUnRyZWVfLmZvckVhY2godGhpcy5yZW1vdmVGZWF0dXJlSW50ZXJuYWwsIHRoaXMpO1xuICAgICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzXykge1xuICAgICAgICAgIHRoaXMucmVtb3ZlRmVhdHVyZUludGVybmFsKHRoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfW2lkXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuZmVhdHVyZXNDb2xsZWN0aW9uXykge1xuICAgICAgdGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fLmNsZWFyKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZmVhdHVyZXNSdHJlZV8pIHtcbiAgICAgIHRoaXMuZmVhdHVyZXNSdHJlZV8uY2xlYXIoKTtcbiAgICB9XG4gICAgdGhpcy5sb2FkZWRFeHRlbnRzUnRyZWVfLmNsZWFyKCk7XG4gICAgdGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc18gPSB7fTtcblxuICAgIHZhciBjbGVhckV2ZW50ID0gbmV3IFZlY3RvclNvdXJjZUV2ZW50KFZlY3RvckV2ZW50VHlwZS5DTEVBUik7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KGNsZWFyRXZlbnQpO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEl0ZXJhdGUgdGhyb3VnaCBhbGwgZmVhdHVyZXMgb24gdGhlIHNvdXJjZSwgY2FsbGluZyB0aGUgcHJvdmlkZWQgY2FsbGJhY2tcbiAgICogd2l0aCBlYWNoIG9uZS4gIElmIHRoZSBjYWxsYmFjayByZXR1cm5zIGFueSBcInRydXRoeVwiIHZhbHVlLCBpdGVyYXRpb24gd2lsbFxuICAgKiBzdG9wIGFuZCB0aGUgZnVuY3Rpb24gd2lsbCByZXR1cm4gdGhlIHNhbWUgdmFsdWUuXG4gICAqIE5vdGU6IHRoaXMgZnVuY3Rpb24gb25seSBpdGVyYXRlIHRocm91Z2ggdGhlIGZlYXR1cmUgdGhhdCBoYXZlIGEgZGVmaW5lZCBnZW9tZXRyeS5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQpOiBUfSBjYWxsYmFjayBDYWxsZWQgd2l0aCBlYWNoIGZlYXR1cmVcbiAgICogICAgIG9uIHRoZSBzb3VyY2UuICBSZXR1cm4gYSB0cnV0aHkgdmFsdWUgdG8gc3RvcCBpdGVyYXRpb24uXG4gICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBUaGUgcmV0dXJuIHZhbHVlIGZyb20gdGhlIGxhc3QgY2FsbCB0byB0aGUgY2FsbGJhY2suXG4gICAqIEB0ZW1wbGF0ZSBUXG4gICAqIEBhcGlcbiAgICovXG4gIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZm9yRWFjaEZlYXR1cmUgPSBmdW5jdGlvbiBmb3JFYWNoRmVhdHVyZSAoY2FsbGJhY2spIHtcbiAgICBpZiAodGhpcy5mZWF0dXJlc1J0cmVlXykge1xuICAgICAgcmV0dXJuIHRoaXMuZmVhdHVyZXNSdHJlZV8uZm9yRWFjaChjYWxsYmFjayk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8pIHtcbiAgICAgIHRoaXMuZmVhdHVyZXNDb2xsZWN0aW9uXy5mb3JFYWNoKGNhbGxiYWNrKTtcbiAgICB9XG4gIH07XG5cblxuICAvKipcbiAgICogSXRlcmF0ZSB0aHJvdWdoIGFsbCBmZWF0dXJlcyB3aG9zZSBnZW9tZXRyaWVzIGNvbnRhaW4gdGhlIHByb3ZpZGVkXG4gICAqIGNvb3JkaW5hdGUsIGNhbGxpbmcgdGhlIGNhbGxiYWNrIHdpdGggZWFjaCBmZWF0dXJlLiAgSWYgdGhlIGNhbGxiYWNrIHJldHVybnNcbiAgICogYSBcInRydXRoeVwiIHZhbHVlLCBpdGVyYXRpb24gd2lsbCBzdG9wIGFuZCB0aGUgZnVuY3Rpb24gd2lsbCByZXR1cm4gdGhlIHNhbWVcbiAgICogdmFsdWUuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0KTogVH0gY2FsbGJhY2sgQ2FsbGVkIHdpdGggZWFjaCBmZWF0dXJlXG4gICAqICAgICB3aG9zZSBnb2VtZXRyeSBjb250YWlucyB0aGUgcHJvdmlkZWQgY29vcmRpbmF0ZS5cbiAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IFRoZSByZXR1cm4gdmFsdWUgZnJvbSB0aGUgbGFzdCBjYWxsIHRvIHRoZSBjYWxsYmFjay5cbiAgICogQHRlbXBsYXRlIFRcbiAgICovXG4gIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGVEaXJlY3QgPSBmdW5jdGlvbiBmb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZURpcmVjdCAoY29vcmRpbmF0ZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgZXh0ZW50ID0gW2Nvb3JkaW5hdGVbMF0sIGNvb3JkaW5hdGVbMV0sIGNvb3JkaW5hdGVbMF0sIGNvb3JkaW5hdGVbMV1dO1xuICAgIHJldHVybiB0aGlzLmZvckVhY2hGZWF0dXJlSW5FeHRlbnQoZXh0ZW50LCBmdW5jdGlvbihmZWF0dXJlKSB7XG4gICAgICB2YXIgZ2VvbWV0cnkgPSBmZWF0dXJlLmdldEdlb21ldHJ5KCk7XG4gICAgICBpZiAoZ2VvbWV0cnkuaW50ZXJzZWN0c0Nvb3JkaW5hdGUoY29vcmRpbmF0ZSkpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGZlYXR1cmUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBJdGVyYXRlIHRocm91Z2ggYWxsIGZlYXR1cmVzIHdob3NlIGJvdW5kaW5nIGJveCBpbnRlcnNlY3RzIHRoZSBwcm92aWRlZFxuICAgKiBleHRlbnQgKG5vdGUgdGhhdCB0aGUgZmVhdHVyZSdzIGdlb21ldHJ5IG1heSBub3QgaW50ZXJzZWN0IHRoZSBleHRlbnQpLFxuICAgKiBjYWxsaW5nIHRoZSBjYWxsYmFjayB3aXRoIGVhY2ggZmVhdHVyZS4gIElmIHRoZSBjYWxsYmFjayByZXR1cm5zIGEgXCJ0cnV0aHlcIlxuICAgKiB2YWx1ZSwgaXRlcmF0aW9uIHdpbGwgc3RvcCBhbmQgdGhlIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIHRoZSBzYW1lIHZhbHVlLlxuICAgKlxuICAgKiBJZiB5b3UgYXJlIGludGVyZXN0ZWQgaW4gZmVhdHVyZXMgd2hvc2UgZ2VvbWV0cnkgaW50ZXJzZWN0cyBhbiBleHRlbnQsIGNhbGxcbiAgICogdGhlIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2UjZm9yRWFjaEZlYXR1cmVJbnRlcnNlY3RpbmdFeHRlbnQgI2ZvckVhY2hGZWF0dXJlSW50ZXJzZWN0aW5nRXh0ZW50KCl9IG1ldGhvZCBpbnN0ZWFkLlxuICAgKlxuICAgKiBXaGVuIGB1c2VTcGF0aWFsSW5kZXhgIGlzIHNldCB0byBmYWxzZSwgdGhpcyBtZXRob2Qgd2lsbCBsb29wIHRocm91Z2ggYWxsXG4gICAqIGZlYXR1cmVzLCBlcXVpdmFsZW50IHRvIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2UjZm9yRWFjaEZlYXR1cmUgI2ZvckVhY2hGZWF0dXJlKCl9LlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0KTogVH0gY2FsbGJhY2sgQ2FsbGVkIHdpdGggZWFjaCBmZWF0dXJlXG4gICAqICAgICB3aG9zZSBib3VuZGluZyBib3ggaW50ZXJzZWN0cyB0aGUgcHJvdmlkZWQgZXh0ZW50LlxuICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gVGhlIHJldHVybiB2YWx1ZSBmcm9tIHRoZSBsYXN0IGNhbGwgdG8gdGhlIGNhbGxiYWNrLlxuICAgKiBAdGVtcGxhdGUgVFxuICAgKiBAYXBpXG4gICAqL1xuICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmZvckVhY2hGZWF0dXJlSW5FeHRlbnQgPSBmdW5jdGlvbiBmb3JFYWNoRmVhdHVyZUluRXh0ZW50IChleHRlbnQsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHRoaXMuZmVhdHVyZXNSdHJlZV8pIHtcbiAgICAgIHJldHVybiB0aGlzLmZlYXR1cmVzUnRyZWVfLmZvckVhY2hJbkV4dGVudChleHRlbnQsIGNhbGxiYWNrKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZmVhdHVyZXNDb2xsZWN0aW9uXykge1xuICAgICAgdGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fLmZvckVhY2goY2FsbGJhY2spO1xuICAgIH1cbiAgfTtcblxuXG4gIC8qKlxuICAgKiBJdGVyYXRlIHRocm91Z2ggYWxsIGZlYXR1cmVzIHdob3NlIGdlb21ldHJ5IGludGVyc2VjdHMgdGhlIHByb3ZpZGVkIGV4dGVudCxcbiAgICogY2FsbGluZyB0aGUgY2FsbGJhY2sgd2l0aCBlYWNoIGZlYXR1cmUuICBJZiB0aGUgY2FsbGJhY2sgcmV0dXJucyBhIFwidHJ1dGh5XCJcbiAgICogdmFsdWUsIGl0ZXJhdGlvbiB3aWxsIHN0b3AgYW5kIHRoZSBmdW5jdGlvbiB3aWxsIHJldHVybiB0aGUgc2FtZSB2YWx1ZS5cbiAgICpcbiAgICogSWYgeW91IG9ubHkgd2FudCB0byB0ZXN0IGZvciBib3VuZGluZyBib3ggaW50ZXJzZWN0aW9uLCBjYWxsIHRoZVxuICAgKiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J+VmVjdG9yU291cmNlI2ZvckVhY2hGZWF0dXJlSW5FeHRlbnQgI2ZvckVhY2hGZWF0dXJlSW5FeHRlbnQoKX0gbWV0aG9kIGluc3RlYWQuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQpOiBUfSBjYWxsYmFjayBDYWxsZWQgd2l0aCBlYWNoIGZlYXR1cmVcbiAgICogICAgIHdob3NlIGdlb21ldHJ5IGludGVyc2VjdHMgdGhlIHByb3ZpZGVkIGV4dGVudC5cbiAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IFRoZSByZXR1cm4gdmFsdWUgZnJvbSB0aGUgbGFzdCBjYWxsIHRvIHRoZSBjYWxsYmFjay5cbiAgICogQHRlbXBsYXRlIFRcbiAgICogQGFwaVxuICAgKi9cbiAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5mb3JFYWNoRmVhdHVyZUludGVyc2VjdGluZ0V4dGVudCA9IGZ1bmN0aW9uIGZvckVhY2hGZWF0dXJlSW50ZXJzZWN0aW5nRXh0ZW50IChleHRlbnQsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaEZlYXR1cmVJbkV4dGVudChleHRlbnQsXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gVGhlIHJldHVybiB2YWx1ZSBmcm9tIHRoZSBsYXN0IGNhbGwgdG8gdGhlIGNhbGxiYWNrLlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbihmZWF0dXJlKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IGZlYXR1cmUuZ2V0R2VvbWV0cnkoKTtcbiAgICAgICAgaWYgKGdlb21ldHJ5LmludGVyc2VjdHNFeHRlbnQoZXh0ZW50KSkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSBjYWxsYmFjayhmZWF0dXJlKTtcbiAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG5cblxuICAvKipcbiAgICogR2V0IHRoZSBmZWF0dXJlcyBjb2xsZWN0aW9uIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHNvdXJjZS4gV2lsbCBiZSBgbnVsbGBcbiAgICogdW5sZXNzIHRoZSBzb3VyY2Ugd2FzIGNvbmZpZ3VyZWQgd2l0aCBgdXNlU3BhdGlhbEluZGV4YCBzZXQgdG8gYGZhbHNlYCwgb3JcbiAgICogd2l0aCBhbiB7QGxpbmsgbW9kdWxlOm9sL0NvbGxlY3Rpb259IGFzIGBmZWF0dXJlc2AuXG4gICAqIEByZXR1cm4ge0NvbGxlY3Rpb248aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn0gVGhlIGNvbGxlY3Rpb24gb2YgZmVhdHVyZXMuXG4gICAqIEBhcGlcbiAgICovXG4gIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZ2V0RmVhdHVyZXNDb2xsZWN0aW9uID0gZnVuY3Rpb24gZ2V0RmVhdHVyZXNDb2xsZWN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEdldCBhbGwgZmVhdHVyZXMgb24gdGhlIHNvdXJjZSBpbiByYW5kb20gb3JkZXIuXG4gICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59IEZlYXR1cmVzLlxuICAgKiBAYXBpXG4gICAqL1xuICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmdldEZlYXR1cmVzID0gZnVuY3Rpb24gZ2V0RmVhdHVyZXMgKCkge1xuICAgIHZhciBmZWF0dXJlcztcbiAgICBpZiAodGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fKSB7XG4gICAgICBmZWF0dXJlcyA9IHRoaXMuZmVhdHVyZXNDb2xsZWN0aW9uXy5nZXRBcnJheSgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5mZWF0dXJlc1J0cmVlXykge1xuICAgICAgZmVhdHVyZXMgPSB0aGlzLmZlYXR1cmVzUnRyZWVfLmdldEFsbCgpO1xuICAgICAgaWYgKCFpc0VtcHR5KHRoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfKSkge1xuICAgICAgICBleHRlbmQoZmVhdHVyZXMsIGdldFZhbHVlcyh0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzXykpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgLyoqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fSAqLyAoZmVhdHVyZXMpXG4gICAgKTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIGZlYXR1cmVzIHdob3NlIGdlb21ldHJ5IGludGVyc2VjdHMgdGhlIHByb3ZpZGVkIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59IEZlYXR1cmVzLlxuICAgKiBAYXBpXG4gICAqL1xuICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmdldEZlYXR1cmVzQXRDb29yZGluYXRlID0gZnVuY3Rpb24gZ2V0RmVhdHVyZXNBdENvb3JkaW5hdGUgKGNvb3JkaW5hdGUpIHtcbiAgICB2YXIgZmVhdHVyZXMgPSBbXTtcbiAgICB0aGlzLmZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlRGlyZWN0KGNvb3JkaW5hdGUsIGZ1bmN0aW9uKGZlYXR1cmUpIHtcbiAgICAgIGZlYXR1cmVzLnB1c2goZmVhdHVyZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZlYXR1cmVzO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEdldCBhbGwgZmVhdHVyZXMgaW4gdGhlIHByb3ZpZGVkIGV4dGVudC4gIE5vdGUgdGhhdCB0aGlzIHJldHVybnMgYW4gYXJyYXkgb2ZcbiAgICogYWxsIGZlYXR1cmVzIGludGVyc2VjdGluZyB0aGUgZ2l2ZW4gZXh0ZW50IGluIHJhbmRvbSBvcmRlciAoc28gaXQgbWF5IGluY2x1ZGVcbiAgICogZmVhdHVyZXMgd2hvc2UgZ2VvbWV0cmllcyBkbyBub3QgaW50ZXJzZWN0IHRoZSBleHRlbnQpLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBub3QgYXZhaWxhYmxlIHdoZW4gdGhlIHNvdXJjZSBpcyBjb25maWd1cmVkIHdpdGhcbiAgICogYHVzZVNwYXRpYWxJbmRleGAgc2V0IHRvIGBmYWxzZWAuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn0gRmVhdHVyZXMuXG4gICAqIEBhcGlcbiAgICovXG4gIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZ2V0RmVhdHVyZXNJbkV4dGVudCA9IGZ1bmN0aW9uIGdldEZlYXR1cmVzSW5FeHRlbnQgKGV4dGVudCkge1xuICAgIHJldHVybiB0aGlzLmZlYXR1cmVzUnRyZWVfLmdldEluRXh0ZW50KGV4dGVudCk7XG4gIH07XG5cblxuICAvKipcbiAgICogR2V0IHRoZSBjbG9zZXN0IGZlYXR1cmUgdG8gdGhlIHByb3ZpZGVkIGNvb3JkaW5hdGUuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBhdmFpbGFibGUgd2hlbiB0aGUgc291cmNlIGlzIGNvbmZpZ3VyZWQgd2l0aFxuICAgKiBgdXNlU3BhdGlhbEluZGV4YCBzZXQgdG8gYGZhbHNlYC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQpOmJvb2xlYW49fSBvcHRfZmlsdGVyIEZlYXR1cmUgZmlsdGVyIGZ1bmN0aW9uLlxuICAgKiAgICAgVGhlIGZpbHRlciBmdW5jdGlvbiB3aWxsIHJlY2VpdmUgb25lIGFyZ3VtZW50LCB0aGUge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlIGZlYXR1cmV9XG4gICAqICAgICBhbmQgaXQgc2hvdWxkIHJldHVybiBhIGJvb2xlYW4gdmFsdWUuIEJ5IGRlZmF1bHQsIG5vIGZpbHRlcmluZyBpcyBtYWRlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IENsb3Nlc3QgZmVhdHVyZS5cbiAgICogQGFwaVxuICAgKi9cbiAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5nZXRDbG9zZXN0RmVhdHVyZVRvQ29vcmRpbmF0ZSA9IGZ1bmN0aW9uIGdldENsb3Nlc3RGZWF0dXJlVG9Db29yZGluYXRlIChjb29yZGluYXRlLCBvcHRfZmlsdGVyKSB7XG4gICAgLy8gRmluZCB0aGUgY2xvc2VzdCBmZWF0dXJlIHVzaW5nIGJyYW5jaCBhbmQgYm91bmQuICBXZSBzdGFydCBzZWFyY2hpbmcgYW5cbiAgICAvLyBpbmZpbml0ZSBleHRlbnQsIGFuZCBmaW5kIHRoZSBkaXN0YW5jZSBmcm9tIHRoZSBmaXJzdCBmZWF0dXJlIGZvdW5kLiAgVGhpc1xuICAgIC8vIGJlY29tZXMgdGhlIGNsb3Nlc3QgZmVhdHVyZS4gIFdlIHRoZW4gY29tcHV0ZSBhIHNtYWxsZXIgZXh0ZW50IHdoaWNoIGFueVxuICAgIC8vIGNsb3NlciBmZWF0dXJlIG11c3QgaW50ZXJzZWN0LiAgV2UgY29udGludWUgc2VhcmNoaW5nIHdpdGggdGhpcyBzbWFsbGVyXG4gICAgLy8gZXh0ZW50LCB0cnlpbmcgdG8gZmluZCBhIGNsb3NlciBmZWF0dXJlLiAgRXZlcnkgdGltZSB3ZSBmaW5kIGEgY2xvc2VyXG4gICAgLy8gZmVhdHVyZSwgd2UgdXBkYXRlIHRoZSBleHRlbnQgYmVpbmcgc2VhcmNoZWQgc28gdGhhdCBhbnkgZXZlbiBjbG9zZXJcbiAgICAvLyBmZWF0dXJlIG11c3QgaW50ZXJzZWN0IGl0LiAgV2UgY29udGludWUgdW50aWwgd2UgcnVuIG91dCBvZiBmZWF0dXJlcy5cbiAgICB2YXIgeCA9IGNvb3JkaW5hdGVbMF07XG4gICAgdmFyIHkgPSBjb29yZGluYXRlWzFdO1xuICAgIHZhciBjbG9zZXN0RmVhdHVyZSA9IG51bGw7XG4gICAgdmFyIGNsb3Nlc3RQb2ludCA9IFtOYU4sIE5hTl07XG4gICAgdmFyIG1pblNxdWFyZWREaXN0YW5jZSA9IEluZmluaXR5O1xuICAgIHZhciBleHRlbnQgPSBbLUluZmluaXR5LCAtSW5maW5pdHksIEluZmluaXR5LCBJbmZpbml0eV07XG4gICAgdmFyIGZpbHRlciA9IG9wdF9maWx0ZXIgPyBvcHRfZmlsdGVyIDogVFJVRTtcbiAgICB0aGlzLmZlYXR1cmVzUnRyZWVfLmZvckVhY2hJbkV4dGVudChleHRlbnQsXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uKGZlYXR1cmUpIHtcbiAgICAgICAgaWYgKGZpbHRlcihmZWF0dXJlKSkge1xuICAgICAgICAgIHZhciBnZW9tZXRyeSA9IGZlYXR1cmUuZ2V0R2VvbWV0cnkoKTtcbiAgICAgICAgICB2YXIgcHJldmlvdXNNaW5TcXVhcmVkRGlzdGFuY2UgPSBtaW5TcXVhcmVkRGlzdGFuY2U7XG4gICAgICAgICAgbWluU3F1YXJlZERpc3RhbmNlID0gZ2VvbWV0cnkuY2xvc2VzdFBvaW50WFkoXG4gICAgICAgICAgICB4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSk7XG4gICAgICAgICAgaWYgKG1pblNxdWFyZWREaXN0YW5jZSA8IHByZXZpb3VzTWluU3F1YXJlZERpc3RhbmNlKSB7XG4gICAgICAgICAgICBjbG9zZXN0RmVhdHVyZSA9IGZlYXR1cmU7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIHNuZWFreS4gIFJlZHVjZSB0aGUgZXh0ZW50IHRoYXQgaXQgaXMgY3VycmVudGx5IGJlaW5nXG4gICAgICAgICAgICAvLyBzZWFyY2hlZCB3aGlsZSB0aGUgUi1UcmVlIHRyYXZlcnNhbCB1c2luZyB0aGlzIHNhbWUgZXh0ZW50IG9iamVjdFxuICAgICAgICAgICAgLy8gaXMgc3RpbGwgaW4gcHJvZ3Jlc3MuICBUaGlzIGlzIHNhZmUgYmVjYXVzZSB0aGUgbmV3IGV4dGVudCBpc1xuICAgICAgICAgICAgLy8gc3RyaWN0bHkgY29udGFpbmVkIGJ5IHRoZSBvbGQgZXh0ZW50LlxuICAgICAgICAgICAgdmFyIG1pbkRpc3RhbmNlID0gTWF0aC5zcXJ0KG1pblNxdWFyZWREaXN0YW5jZSk7XG4gICAgICAgICAgICBleHRlbnRbMF0gPSB4IC0gbWluRGlzdGFuY2U7XG4gICAgICAgICAgICBleHRlbnRbMV0gPSB5IC0gbWluRGlzdGFuY2U7XG4gICAgICAgICAgICBleHRlbnRbMl0gPSB4ICsgbWluRGlzdGFuY2U7XG4gICAgICAgICAgICBleHRlbnRbM10gPSB5ICsgbWluRGlzdGFuY2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICByZXR1cm4gY2xvc2VzdEZlYXR1cmU7XG4gIH07XG5cblxuICAvKipcbiAgICogR2V0IHRoZSBleHRlbnQgb2YgdGhlIGZlYXR1cmVzIGN1cnJlbnRseSBpbiB0aGUgc291cmNlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBub3QgYXZhaWxhYmxlIHdoZW4gdGhlIHNvdXJjZSBpcyBjb25maWd1cmVkIHdpdGhcbiAgICogYHVzZVNwYXRpYWxJbmRleGAgc2V0IHRvIGBmYWxzZWAuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudD19IG9wdF9leHRlbnQgRGVzdGluYXRpb24gZXh0ZW50LiBJZiBwcm92aWRlZCwgbm8gbmV3IGV4dGVudFxuICAgKiAgICAgd2lsbCBiZSBjcmVhdGVkLiBJbnN0ZWFkLCB0aGF0IGV4dGVudCdzIGNvb3JkaW5hdGVzIHdpbGwgYmUgb3ZlcndyaXR0ZW4uXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IEV4dGVudC5cbiAgICogQGFwaVxuICAgKi9cbiAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5nZXRFeHRlbnQgPSBmdW5jdGlvbiBnZXRFeHRlbnQgKG9wdF9leHRlbnQpIHtcbiAgICByZXR1cm4gdGhpcy5mZWF0dXJlc1J0cmVlXy5nZXRFeHRlbnQob3B0X2V4dGVudCk7XG4gIH07XG5cblxuICAvKipcbiAgICogR2V0IGEgZmVhdHVyZSBieSBpdHMgaWRlbnRpZmllciAodGhlIHZhbHVlIHJldHVybmVkIGJ5IGZlYXR1cmUuZ2V0SWQoKSkuXG4gICAqIE5vdGUgdGhhdCB0aGUgaW5kZXggdHJlYXRzIHN0cmluZyBhbmQgbnVtZXJpYyBpZGVudGlmaWVycyBhcyB0aGUgc2FtZS4gIFNvXG4gICAqIGBzb3VyY2UuZ2V0RmVhdHVyZUJ5SWQoMilgIHdpbGwgcmV0dXJuIGEgZmVhdHVyZSB3aXRoIGlkIGAnMidgIG9yIGAyYC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBpZCBGZWF0dXJlIGlkZW50aWZpZXIuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gVGhlIGZlYXR1cmUgKG9yIGBudWxsYCBpZiBub3QgZm91bmQpLlxuICAgKiBAYXBpXG4gICAqL1xuICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmdldEZlYXR1cmVCeUlkID0gZnVuY3Rpb24gZ2V0RmVhdHVyZUJ5SWQgKGlkKSB7XG4gICAgdmFyIGZlYXR1cmUgPSB0aGlzLmlkSW5kZXhfW2lkLnRvU3RyaW5nKCldO1xuICAgIHJldHVybiBmZWF0dXJlICE9PSB1bmRlZmluZWQgPyBmZWF0dXJlIDogbnVsbDtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGZvcm1hdCBhc3NvY2lhdGVkIHdpdGggdGhpcyBzb3VyY2UuXG4gICAqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2Zvcm1hdC9GZWF0dXJlLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfSBUaGUgZmVhdHVyZSBmb3JtYXQuXG4gICAqIEBhcGlcbiAgICovXG4gIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZ2V0Rm9ybWF0ID0gZnVuY3Rpb24gZ2V0Rm9ybWF0ICgpIHtcbiAgICByZXR1cm4gdGhpcy5mb3JtYXRfO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBzb3VyY2UgY2FuIGhhdmUgb3ZlcmxhcHBpbmcgZ2VvbWV0cmllcy5cbiAgICovXG4gIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZ2V0T3ZlcmxhcHMgPSBmdW5jdGlvbiBnZXRPdmVybGFwcyAoKSB7XG4gICAgcmV0dXJuIHRoaXMub3ZlcmxhcHNfO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdXJsIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHNvdXJjZS5cbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfGltcG9ydChcIi4uL2ZlYXR1cmVsb2FkZXIuanNcIikuRmVhdHVyZVVybEZ1bmN0aW9ufHVuZGVmaW5lZH0gVGhlIHVybC5cbiAgICogQGFwaVxuICAgKi9cbiAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5nZXRVcmwgPSBmdW5jdGlvbiBnZXRVcmwgKCkge1xuICAgIHJldHVybiB0aGlzLnVybF87XG4gIH07XG5cblxuICAvKipcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgRXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmhhbmRsZUZlYXR1cmVDaGFuZ2VfID0gZnVuY3Rpb24gaGFuZGxlRmVhdHVyZUNoYW5nZV8gKGV2ZW50KSB7XG4gICAgdmFyIGZlYXR1cmUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gKi8gKGV2ZW50LnRhcmdldCk7XG4gICAgdmFyIGZlYXR1cmVLZXkgPSBnZXRVaWQoZmVhdHVyZSk7XG4gICAgdmFyIGdlb21ldHJ5ID0gZmVhdHVyZS5nZXRHZW9tZXRyeSgpO1xuICAgIGlmICghZ2VvbWV0cnkpIHtcbiAgICAgIGlmICghKGZlYXR1cmVLZXkgaW4gdGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc18pKSB7XG4gICAgICAgIGlmICh0aGlzLmZlYXR1cmVzUnRyZWVfKSB7XG4gICAgICAgICAgdGhpcy5mZWF0dXJlc1J0cmVlXy5yZW1vdmUoZmVhdHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc19bZmVhdHVyZUtleV0gPSBmZWF0dXJlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZXh0ZW50ID0gZ2VvbWV0cnkuZ2V0RXh0ZW50KCk7XG4gICAgICBpZiAoZmVhdHVyZUtleSBpbiB0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzXykge1xuICAgICAgICBkZWxldGUgdGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc19bZmVhdHVyZUtleV07XG4gICAgICAgIGlmICh0aGlzLmZlYXR1cmVzUnRyZWVfKSB7XG4gICAgICAgICAgdGhpcy5mZWF0dXJlc1J0cmVlXy5pbnNlcnQoZXh0ZW50LCBmZWF0dXJlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMuZmVhdHVyZXNSdHJlZV8pIHtcbiAgICAgICAgICB0aGlzLmZlYXR1cmVzUnRyZWVfLnVwZGF0ZShleHRlbnQsIGZlYXR1cmUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBpZCA9IGZlYXR1cmUuZ2V0SWQoKTtcbiAgICBpZiAoaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHNpZCA9IGlkLnRvU3RyaW5nKCk7XG4gICAgICBpZiAoZmVhdHVyZUtleSBpbiB0aGlzLnVuZGVmSWRJbmRleF8pIHtcbiAgICAgICAgZGVsZXRlIHRoaXMudW5kZWZJZEluZGV4X1tmZWF0dXJlS2V5XTtcbiAgICAgICAgdGhpcy5pZEluZGV4X1tzaWRdID0gZmVhdHVyZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLmlkSW5kZXhfW3NpZF0gIT09IGZlYXR1cmUpIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZUZyb21JZEluZGV4XyhmZWF0dXJlKTtcbiAgICAgICAgICB0aGlzLmlkSW5kZXhfW3NpZF0gPSBmZWF0dXJlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghKGZlYXR1cmVLZXkgaW4gdGhpcy51bmRlZklkSW5kZXhfKSkge1xuICAgICAgICB0aGlzLnJlbW92ZUZyb21JZEluZGV4XyhmZWF0dXJlKTtcbiAgICAgICAgdGhpcy51bmRlZklkSW5kZXhfW2ZlYXR1cmVLZXldID0gZmVhdHVyZTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBWZWN0b3JTb3VyY2VFdmVudChcbiAgICAgIFZlY3RvckV2ZW50VHlwZS5DSEFOR0VGRUFUVVJFLCBmZWF0dXJlKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZmVhdHVyZSBpcyBjb250YWluZWQgd2l0aGluIHRoZSBzb3VyY2UuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IEhhcyBmZWF0dXJlLlxuICAgKiBAYXBpXG4gICAqL1xuICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmhhc0ZlYXR1cmUgPSBmdW5jdGlvbiBoYXNGZWF0dXJlIChmZWF0dXJlKSB7XG4gICAgdmFyIGlkID0gZmVhdHVyZS5nZXRJZCgpO1xuICAgIGlmIChpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gaWQgaW4gdGhpcy5pZEluZGV4XztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGdldFVpZChmZWF0dXJlKSBpbiB0aGlzLnVuZGVmSWRJbmRleF87XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyBlbXB0eS5cbiAgICovXG4gIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uIGlzRW1wdHkkMSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmVhdHVyZXNSdHJlZV8uaXNFbXB0eSgpICYmIGlzRW1wdHkodGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc18pO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKi9cbiAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5sb2FkRmVhdHVyZXMgPSBmdW5jdGlvbiBsb2FkRmVhdHVyZXMgKGV4dGVudCwgcmVzb2x1dGlvbiwgcHJvamVjdGlvbikge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIGxvYWRlZEV4dGVudHNSdHJlZSA9IHRoaXMubG9hZGVkRXh0ZW50c1J0cmVlXztcbiAgICB2YXIgZXh0ZW50c1RvTG9hZCA9IHRoaXMuc3RyYXRlZ3lfKGV4dGVudCwgcmVzb2x1dGlvbik7XG4gICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoIGksIGlpICkge1xuICAgICAgdmFyIGV4dGVudFRvTG9hZCA9IGV4dGVudHNUb0xvYWRbaV07XG4gICAgICB2YXIgYWxyZWFkeUxvYWRlZCA9IGxvYWRlZEV4dGVudHNSdHJlZS5mb3JFYWNoSW5FeHRlbnQoZXh0ZW50VG9Mb2FkLFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHt7ZXh0ZW50OiBpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fX0gb2JqZWN0IE9iamVjdC5cbiAgICAgICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgICByZXR1cm4gY29udGFpbnNFeHRlbnQob2JqZWN0LmV4dGVudCwgZXh0ZW50VG9Mb2FkKTtcbiAgICAgICAgfSk7XG4gICAgICBpZiAoIWFscmVhZHlMb2FkZWQpIHtcbiAgICAgICAgdGhpcyQxLmxvYWRlcl8uY2FsbCh0aGlzJDEsIGV4dGVudFRvTG9hZCwgcmVzb2x1dGlvbiwgcHJvamVjdGlvbik7XG4gICAgICAgIGxvYWRlZEV4dGVudHNSdHJlZS5pbnNlcnQoZXh0ZW50VG9Mb2FkLCB7ZXh0ZW50OiBleHRlbnRUb0xvYWQuc2xpY2UoKX0pO1xuICAgICAgICB0aGlzJDEubG9hZGluZyA9IHRoaXMkMS5sb2FkZXJfICE9PSBWT0lEO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBleHRlbnRzVG9Mb2FkLmxlbmd0aDsgaSA8IGlpOyArK2kpIGxvb3AoIGksIGlpICk7XG4gIH07XG5cblxuICAvKipcbiAgICogUmVtb3ZlIGFuIGV4dGVudCBmcm9tIHRoZSBsaXN0IG9mIGxvYWRlZCBleHRlbnRzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIFZlY3RvclNvdXJjZS5wcm90b3R5cGUucmVtb3ZlTG9hZGVkRXh0ZW50ID0gZnVuY3Rpb24gcmVtb3ZlTG9hZGVkRXh0ZW50IChleHRlbnQpIHtcbiAgICB2YXIgbG9hZGVkRXh0ZW50c1J0cmVlID0gdGhpcy5sb2FkZWRFeHRlbnRzUnRyZWVfO1xuICAgIHZhciBvYmo7XG4gICAgbG9hZGVkRXh0ZW50c1J0cmVlLmZvckVhY2hJbkV4dGVudChleHRlbnQsIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgaWYgKGVxdWFscyhvYmplY3QuZXh0ZW50LCBleHRlbnQpKSB7XG4gICAgICAgIG9iaiA9IG9iamVjdDtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKG9iaikge1xuICAgICAgbG9hZGVkRXh0ZW50c1J0cmVlLnJlbW92ZShvYmopO1xuICAgIH1cbiAgfTtcblxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSBzaW5nbGUgZmVhdHVyZSBmcm9tIHRoZSBzb3VyY2UuICBJZiB5b3Ugd2FudCB0byByZW1vdmUgYWxsIGZlYXR1cmVzXG4gICAqIGF0IG9uY2UsIHVzZSB0aGUge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yflZlY3RvclNvdXJjZSNjbGVhciAjY2xlYXIoKX0gbWV0aG9kXG4gICAqIGluc3RlYWQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUgdG8gcmVtb3ZlLlxuICAgKiBAYXBpXG4gICAqL1xuICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLnJlbW92ZUZlYXR1cmUgPSBmdW5jdGlvbiByZW1vdmVGZWF0dXJlIChmZWF0dXJlKSB7XG4gICAgdmFyIGZlYXR1cmVLZXkgPSBnZXRVaWQoZmVhdHVyZSk7XG4gICAgaWYgKGZlYXR1cmVLZXkgaW4gdGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc18pIHtcbiAgICAgIGRlbGV0ZSB0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzX1tmZWF0dXJlS2V5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMuZmVhdHVyZXNSdHJlZV8pIHtcbiAgICAgICAgdGhpcy5mZWF0dXJlc1J0cmVlXy5yZW1vdmUoZmVhdHVyZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlRmVhdHVyZUludGVybmFsKGZlYXR1cmUpO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIFJlbW92ZSBmZWF0dXJlIHdpdGhvdXQgZmlyaW5nIGEgYGNoYW5nZWAgZXZlbnQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIFZlY3RvclNvdXJjZS5wcm90b3R5cGUucmVtb3ZlRmVhdHVyZUludGVybmFsID0gZnVuY3Rpb24gcmVtb3ZlRmVhdHVyZUludGVybmFsIChmZWF0dXJlKSB7XG4gICAgdmFyIGZlYXR1cmVLZXkgPSBnZXRVaWQoZmVhdHVyZSk7XG4gICAgdGhpcy5mZWF0dXJlQ2hhbmdlS2V5c19bZmVhdHVyZUtleV0uZm9yRWFjaCh1bmxpc3RlbkJ5S2V5KTtcbiAgICBkZWxldGUgdGhpcy5mZWF0dXJlQ2hhbmdlS2V5c19bZmVhdHVyZUtleV07XG4gICAgdmFyIGlkID0gZmVhdHVyZS5nZXRJZCgpO1xuICAgIGlmIChpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBkZWxldGUgdGhpcy5pZEluZGV4X1tpZC50b1N0cmluZygpXTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHRoaXMudW5kZWZJZEluZGV4X1tmZWF0dXJlS2V5XTtcbiAgICB9XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBWZWN0b3JTb3VyY2VFdmVudChcbiAgICAgIFZlY3RvckV2ZW50VHlwZS5SRU1PVkVGRUFUVVJFLCBmZWF0dXJlKSk7XG4gIH07XG5cblxuICAvKipcbiAgICogUmVtb3ZlIGEgZmVhdHVyZSBmcm9tIHRoZSBpZCBpbmRleC4gIENhbGxlZCBpbnRlcm5hbGx5IHdoZW4gdGhlIGZlYXR1cmUgaWRcbiAgICogbWF5IGhhdmUgY2hhbmdlZC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgVGhlIGZlYXR1cmUuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFJlbW92ZWQgdGhlIGZlYXR1cmUgZnJvbSB0aGUgaW5kZXguXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLnJlbW92ZUZyb21JZEluZGV4XyA9IGZ1bmN0aW9uIHJlbW92ZUZyb21JZEluZGV4XyAoZmVhdHVyZSkge1xuICAgIHZhciByZW1vdmVkID0gZmFsc2U7XG4gICAgZm9yICh2YXIgaWQgaW4gdGhpcy5pZEluZGV4Xykge1xuICAgICAgaWYgKHRoaXMuaWRJbmRleF9baWRdID09PSBmZWF0dXJlKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmlkSW5kZXhfW2lkXTtcbiAgICAgICAgcmVtb3ZlZCA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVtb3ZlZDtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIG5ldyBsb2FkZXIgb2YgdGhlIHNvdXJjZS4gVGhlIG5leHQgbG9hZEZlYXR1cmVzIGNhbGwgd2lsbCB1c2UgdGhlXG4gICAqIG5ldyBsb2FkZXIuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZmVhdHVyZWxvYWRlci5qc1wiKS5GZWF0dXJlTG9hZGVyfSBsb2FkZXIgVGhlIGxvYWRlciB0byBzZXQuXG4gICAqIEBhcGlcbiAgICovXG4gIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuc2V0TG9hZGVyID0gZnVuY3Rpb24gc2V0TG9hZGVyIChsb2FkZXIpIHtcbiAgICB0aGlzLmxvYWRlcl8gPSBsb2FkZXI7XG4gIH07XG5cbiAgcmV0dXJuIFZlY3RvclNvdXJjZTtcbn0oU291cmNlKSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgVmVjdG9yU291cmNlO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1WZWN0b3IuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2NvbG9yXG4gKi9cbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuL2Fzc2VydHMuanMnO1xuaW1wb3J0IHtjbGFtcH0gZnJvbSAnLi9tYXRoLmpzJztcblxuXG4vKipcbiAqIEEgY29sb3IgcmVwcmVzZW50ZWQgYXMgYSBzaG9ydCBhcnJheSBbcmVkLCBncmVlbiwgYmx1ZSwgYWxwaGFdLlxuICogcmVkLCBncmVlbiwgYW5kIGJsdWUgc2hvdWxkIGJlIGludGVnZXJzIGluIHRoZSByYW5nZSAwLi4yNTUgaW5jbHVzaXZlLlxuICogYWxwaGEgc2hvdWxkIGJlIGEgZmxvYXQgaW4gdGhlIHJhbmdlIDAuLjEgaW5jbHVzaXZlLiBJZiBubyBhbHBoYSB2YWx1ZSBpc1xuICogZ2l2ZW4gdGhlbiBgMWAgd2lsbCBiZSB1c2VkLlxuICogQHR5cGVkZWYge0FycmF5PG51bWJlcj59IENvbG9yXG4gKiBAYXBpXG4gKi9cblxuXG4vKipcbiAqIFRoaXMgUmVnRXhwIG1hdGNoZXMgIyBmb2xsb3dlZCBieSAzLCA0LCA2LCBvciA4IGhleCBkaWdpdHMuXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtSZWdFeHB9XG4gKiBAcHJpdmF0ZVxuICovXG52YXIgSEVYX0NPTE9SX1JFXyA9IC9eIyhbYS1mMC05XXszfXxbYS1mMC05XXs0fSg/OlthLWYwLTldezJ9KXswLDJ9KSQvaTtcblxuXG4vKipcbiAqIFJlZ3VsYXIgZXhwcmVzc2lvbiBmb3IgbWF0Y2hpbmcgcG90ZW50aWFsIG5hbWVkIGNvbG9yIHN0eWxlIHN0cmluZ3MuXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtSZWdFeHB9XG4gKiBAcHJpdmF0ZVxuICovXG52YXIgTkFNRURfQ09MT1JfUkVfID0gL14oW2Etel0qKSQvaTtcblxuXG4vKipcbiAqIFJldHVybiB0aGUgY29sb3IgYXMgYW4gcmdiYSBzdHJpbmcuXG4gKiBAcGFyYW0ge0NvbG9yfHN0cmluZ30gY29sb3IgQ29sb3IuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFJnYmEgc3RyaW5nLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNTdHJpbmcoY29sb3IpIHtcbiAgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gY29sb3I7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRvU3RyaW5nKGNvbG9yKTtcbiAgfVxufVxuXG4vKipcbiAqIFJldHVybiBuYW1lZCBjb2xvciBhcyBhbiByZ2JhIHN0cmluZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciBOYW1lZCBjb2xvci5cbiAqIEByZXR1cm4ge3N0cmluZ30gUmdiIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZnJvbU5hbWVkKGNvbG9yKSB7XG4gIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBlbC5zdHlsZS5jb2xvciA9IGNvbG9yO1xuICBpZiAoZWwuc3R5bGUuY29sb3IgIT09ICcnKSB7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbCk7XG4gICAgdmFyIHJnYiA9IGdldENvbXB1dGVkU3R5bGUoZWwpLmNvbG9yO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZWwpO1xuICAgIHJldHVybiByZ2I7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gcyBTdHJpbmcuXG4gKiBAcmV0dXJuIHtDb2xvcn0gQ29sb3IuXG4gKi9cbmV4cG9ydCB2YXIgZnJvbVN0cmluZyA9IChcbiAgZnVuY3Rpb24oKSB7XG5cbiAgICAvLyBXZSBtYWludGFpbiBhIHNtYWxsIGNhY2hlIG9mIHBhcnNlZCBzdHJpbmdzLiAgVG8gcHJvdmlkZSBjaGVhcCBMUlUtbGlrZVxuICAgIC8vIHNlbWFudGljcywgd2hlbmV2ZXIgdGhlIGNhY2hlIGdyb3dzIHRvbyBsYXJnZSB3ZSBzaW1wbHkgZGVsZXRlIGFuXG4gICAgLy8gYXJiaXRyYXJ5IDI1JSBvZiB0aGUgZW50cmllcy5cblxuICAgIC8qKlxuICAgICAqIEBjb25zdFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdmFyIE1BWF9DQUNIRV9TSVpFID0gMTAyNDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBDb2xvcj59XG4gICAgICovXG4gICAgdmFyIGNhY2hlID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHZhciBjYWNoZVNpemUgPSAwO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHMgU3RyaW5nLlxuICAgICAgICogQHJldHVybiB7Q29sb3J9IENvbG9yLlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbihzKSB7XG4gICAgICAgIHZhciBjb2xvcjtcbiAgICAgICAgaWYgKGNhY2hlLmhhc093blByb3BlcnR5KHMpKSB7XG4gICAgICAgICAgY29sb3IgPSBjYWNoZVtzXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoY2FjaGVTaXplID49IE1BWF9DQUNIRV9TSVpFKSB7XG4gICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gY2FjaGUpIHtcbiAgICAgICAgICAgICAgaWYgKChpKysgJiAzKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBjYWNoZVtrZXldO1xuICAgICAgICAgICAgICAgIC0tY2FjaGVTaXplO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbG9yID0gZnJvbVN0cmluZ0ludGVybmFsXyhzKTtcbiAgICAgICAgICBjYWNoZVtzXSA9IGNvbG9yO1xuICAgICAgICAgICsrY2FjaGVTaXplO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xvcjtcbiAgICAgIH1cbiAgICApO1xuXG4gIH0pKCk7XG5cbi8qKlxuICogUmV0dXJuIHRoZSBjb2xvciBhcyBhbiBhcnJheS4gVGhpcyBmdW5jdGlvbiBtYWludGFpbnMgYSBjYWNoZSBvZiBjYWxjdWxhdGVkXG4gKiBhcnJheXMgd2hpY2ggbWVhbnMgdGhlIHJlc3VsdCBzaG91bGQgbm90IGJlIG1vZGlmaWVkLlxuICogQHBhcmFtIHtDb2xvcnxzdHJpbmd9IGNvbG9yIENvbG9yLlxuICogQHJldHVybiB7Q29sb3J9IENvbG9yLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNBcnJheShjb2xvcikge1xuICBpZiAoQXJyYXkuaXNBcnJheShjb2xvcikpIHtcbiAgICByZXR1cm4gY29sb3I7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZyb21TdHJpbmcoY29sb3IpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHMgU3RyaW5nLlxuICogQHByaXZhdGVcbiAqIEByZXR1cm4ge0NvbG9yfSBDb2xvci5cbiAqL1xuZnVuY3Rpb24gZnJvbVN0cmluZ0ludGVybmFsXyhzKSB7XG4gIHZhciByLCBnLCBiLCBhLCBjb2xvcjtcblxuICBpZiAoTkFNRURfQ09MT1JfUkVfLmV4ZWMocykpIHtcbiAgICBzID0gZnJvbU5hbWVkKHMpO1xuICB9XG5cbiAgaWYgKEhFWF9DT0xPUl9SRV8uZXhlYyhzKSkgeyAvLyBoZXhcbiAgICB2YXIgbiA9IHMubGVuZ3RoIC0gMTsgLy8gbnVtYmVyIG9mIGhleCBkaWdpdHNcbiAgICB2YXIgZDsgLy8gbnVtYmVyIG9mIGRpZ2l0cyBwZXIgY2hhbm5lbFxuICAgIGlmIChuIDw9IDQpIHtcbiAgICAgIGQgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBkID0gMjtcbiAgICB9XG4gICAgdmFyIGhhc0FscGhhID0gbiA9PT0gNCB8fCBuID09PSA4O1xuICAgIHIgPSBwYXJzZUludChzLnN1YnN0cigxICsgMCAqIGQsIGQpLCAxNik7XG4gICAgZyA9IHBhcnNlSW50KHMuc3Vic3RyKDEgKyAxICogZCwgZCksIDE2KTtcbiAgICBiID0gcGFyc2VJbnQocy5zdWJzdHIoMSArIDIgKiBkLCBkKSwgMTYpO1xuICAgIGlmIChoYXNBbHBoYSkge1xuICAgICAgYSA9IHBhcnNlSW50KHMuc3Vic3RyKDEgKyAzICogZCwgZCksIDE2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYSA9IDI1NTtcbiAgICB9XG4gICAgaWYgKGQgPT0gMSkge1xuICAgICAgciA9IChyIDw8IDQpICsgcjtcbiAgICAgIGcgPSAoZyA8PCA0KSArIGc7XG4gICAgICBiID0gKGIgPDwgNCkgKyBiO1xuICAgICAgaWYgKGhhc0FscGhhKSB7XG4gICAgICAgIGEgPSAoYSA8PCA0KSArIGE7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbG9yID0gW3IsIGcsIGIsIGEgLyAyNTVdO1xuICB9IGVsc2UgaWYgKHMuaW5kZXhPZigncmdiYSgnKSA9PSAwKSB7IC8vIHJnYmEoKVxuICAgIGNvbG9yID0gcy5zbGljZSg1LCAtMSkuc3BsaXQoJywnKS5tYXAoTnVtYmVyKTtcbiAgICBub3JtYWxpemUoY29sb3IpO1xuICB9IGVsc2UgaWYgKHMuaW5kZXhPZigncmdiKCcpID09IDApIHsgLy8gcmdiKClcbiAgICBjb2xvciA9IHMuc2xpY2UoNCwgLTEpLnNwbGl0KCcsJykubWFwKE51bWJlcik7XG4gICAgY29sb3IucHVzaCgxKTtcbiAgICBub3JtYWxpemUoY29sb3IpO1xuICB9IGVsc2Uge1xuICAgIGFzc2VydChmYWxzZSwgMTQpOyAvLyBJbnZhbGlkIGNvbG9yXG4gIH1cbiAgcmV0dXJuIGNvbG9yO1xufVxuXG5cbi8qKlxuICogVE9ETyB0aGlzIGZ1bmN0aW9uIGlzIG9ubHkgdXNlZCBpbiB0aGUgdGVzdCwgd2UgcHJvYmFibHkgc2hvdWxkbid0IGV4cG9ydCBpdFxuICogQHBhcmFtIHtDb2xvcn0gY29sb3IgQ29sb3IuXG4gKiBAcmV0dXJuIHtDb2xvcn0gQ2xhbXBlZCBjb2xvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShjb2xvcikge1xuICBjb2xvclswXSA9IGNsYW1wKChjb2xvclswXSArIDAuNSkgfCAwLCAwLCAyNTUpO1xuICBjb2xvclsxXSA9IGNsYW1wKChjb2xvclsxXSArIDAuNSkgfCAwLCAwLCAyNTUpO1xuICBjb2xvclsyXSA9IGNsYW1wKChjb2xvclsyXSArIDAuNSkgfCAwLCAwLCAyNTUpO1xuICBjb2xvclszXSA9IGNsYW1wKGNvbG9yWzNdLCAwLCAxKTtcbiAgcmV0dXJuIGNvbG9yO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtDb2xvcn0gY29sb3IgQ29sb3IuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFN0cmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvU3RyaW5nKGNvbG9yKSB7XG4gIHZhciByID0gY29sb3JbMF07XG4gIGlmIChyICE9IChyIHwgMCkpIHtcbiAgICByID0gKHIgKyAwLjUpIHwgMDtcbiAgfVxuICB2YXIgZyA9IGNvbG9yWzFdO1xuICBpZiAoZyAhPSAoZyB8IDApKSB7XG4gICAgZyA9IChnICsgMC41KSB8IDA7XG4gIH1cbiAgdmFyIGIgPSBjb2xvclsyXTtcbiAgaWYgKGIgIT0gKGIgfCAwKSkge1xuICAgIGIgPSAoYiArIDAuNSkgfCAwO1xuICB9XG4gIHZhciBhID0gY29sb3JbM10gPT09IHVuZGVmaW5lZCA/IDEgOiBjb2xvclszXTtcbiAgcmV0dXJuICdyZ2JhKCcgKyByICsgJywnICsgZyArICcsJyArIGIgKyAnLCcgKyBhICsgJyknO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb2xvci5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvRmVhdHVyZVxuICovXG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7bGlzdGVuLCB1bmxpc3RlbiwgdW5saXN0ZW5CeUtleX0gZnJvbSAnLi9ldmVudHMuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IEJhc2VPYmplY3QsIHtnZXRDaGFuZ2VFdmVudFR5cGV9IGZyb20gJy4vT2JqZWN0LmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7dHlwZW9mIEZlYXR1cmV8dHlwZW9mIGltcG9ydChcIi4vcmVuZGVyL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gRmVhdHVyZUNsYXNzXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7RmVhdHVyZXxpbXBvcnQoXCIuL3JlbmRlci9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IEZlYXR1cmVMaWtlXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBIHZlY3RvciBvYmplY3QgZm9yIGdlb2dyYXBoaWMgZmVhdHVyZXMgd2l0aCBhIGdlb21ldHJ5IGFuZCBvdGhlclxuICogYXR0cmlidXRlIHByb3BlcnRpZXMsIHNpbWlsYXIgdG8gdGhlIGZlYXR1cmVzIGluIHZlY3RvciBmaWxlIGZvcm1hdHMgbGlrZVxuICogR2VvSlNPTi5cbiAqXG4gKiBGZWF0dXJlcyBjYW4gYmUgc3R5bGVkIGluZGl2aWR1YWxseSB3aXRoIGBzZXRTdHlsZWA7IG90aGVyd2lzZSB0aGV5IHVzZSB0aGVcbiAqIHN0eWxlIG9mIHRoZWlyIHZlY3RvciBsYXllci5cbiAqXG4gKiBOb3RlIHRoYXQgYXR0cmlidXRlIHByb3BlcnRpZXMgYXJlIHNldCBhcyB7QGxpbmsgbW9kdWxlOm9sL09iamVjdH0gcHJvcGVydGllcyBvblxuICogdGhlIGZlYXR1cmUgb2JqZWN0LCBzbyB0aGV5IGFyZSBvYnNlcnZhYmxlLCBhbmQgaGF2ZSBnZXQvc2V0IGFjY2Vzc29ycy5cbiAqXG4gKiBUeXBpY2FsbHksIGEgZmVhdHVyZSBoYXMgYSBzaW5nbGUgZ2VvbWV0cnkgcHJvcGVydHkuIFlvdSBjYW4gc2V0IHRoZVxuICogZ2VvbWV0cnkgdXNpbmcgdGhlIGBzZXRHZW9tZXRyeWAgbWV0aG9kIGFuZCBnZXQgaXQgd2l0aCBgZ2V0R2VvbWV0cnlgLlxuICogSXQgaXMgcG9zc2libGUgdG8gc3RvcmUgbW9yZSB0aGFuIG9uZSBnZW9tZXRyeSBvbiBhIGZlYXR1cmUgdXNpbmcgYXR0cmlidXRlXG4gKiBwcm9wZXJ0aWVzLiBCeSBkZWZhdWx0LCB0aGUgZ2VvbWV0cnkgdXNlZCBmb3IgcmVuZGVyaW5nIGlzIGlkZW50aWZpZWQgYnlcbiAqIHRoZSBwcm9wZXJ0eSBuYW1lIGBnZW9tZXRyeWAuIElmIHlvdSB3YW50IHRvIHVzZSBhbm90aGVyIGdlb21ldHJ5IHByb3BlcnR5XG4gKiBmb3IgcmVuZGVyaW5nLCB1c2UgdGhlIGBzZXRHZW9tZXRyeU5hbWVgIG1ldGhvZCB0byBjaGFuZ2UgdGhlIGF0dHJpYnV0ZVxuICogcHJvcGVydHkgYXNzb2NpYXRlZCB3aXRoIHRoZSBnZW9tZXRyeSBmb3IgdGhlIGZlYXR1cmUuICBGb3IgZXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICpcbiAqIGltcG9ydCBGZWF0dXJlIGZyb20gJ29sL0ZlYXR1cmUnO1xuICogaW1wb3J0IFBvbHlnb24gZnJvbSAnb2wvZ2VvbS9Qb2x5Z29uJztcbiAqIGltcG9ydCBQb2ludCBmcm9tICdvbC9nZW9tL1BvaW50JztcbiAqXG4gKiB2YXIgZmVhdHVyZSA9IG5ldyBGZWF0dXJlKHtcbiAqICAgZ2VvbWV0cnk6IG5ldyBQb2x5Z29uKHBvbHlDb29yZHMpLFxuICogICBsYWJlbFBvaW50OiBuZXcgUG9pbnQobGFiZWxDb29yZHMpLFxuICogICBuYW1lOiAnTXkgUG9seWdvbidcbiAqIH0pO1xuICpcbiAqIC8vIGdldCB0aGUgcG9seWdvbiBnZW9tZXRyeVxuICogdmFyIHBvbHkgPSBmZWF0dXJlLmdldEdlb21ldHJ5KCk7XG4gKlxuICogLy8gUmVuZGVyIHRoZSBmZWF0dXJlIGFzIGEgcG9pbnQgdXNpbmcgdGhlIGNvb3JkaW5hdGVzIGZyb20gbGFiZWxQb2ludFxuICogZmVhdHVyZS5zZXRHZW9tZXRyeU5hbWUoJ2xhYmVsUG9pbnQnKTtcbiAqXG4gKiAvLyBnZXQgdGhlIHBvaW50IGdlb21ldHJ5XG4gKiB2YXIgcG9pbnQgPSBmZWF0dXJlLmdldEdlb21ldHJ5KCk7XG4gKiBgYGBcbiAqXG4gKiBAYXBpXG4gKi9cbnZhciBGZWF0dXJlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQmFzZU9iamVjdCkge1xuICBmdW5jdGlvbiBGZWF0dXJlKG9wdF9nZW9tZXRyeU9yUHJvcGVydGllcykge1xuXG4gICAgQmFzZU9iamVjdC5jYWxsKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHN0cmluZ3x1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5pZF8gPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5nZW9tZXRyeU5hbWVfID0gJ2dlb21ldHJ5JztcblxuICAgIC8qKlxuICAgICAqIFVzZXIgcHJvdmlkZWQgc3R5bGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUxpa2V9XG4gICAgICovXG4gICAgdGhpcy5zdHlsZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUZ1bmN0aW9ufHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnN0eWxlRnVuY3Rpb25fID0gdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgKi9cbiAgICB0aGlzLmdlb21ldHJ5Q2hhbmdlS2V5XyA9IG51bGw7XG5cbiAgICBsaXN0ZW4oXG4gICAgICB0aGlzLCBnZXRDaGFuZ2VFdmVudFR5cGUodGhpcy5nZW9tZXRyeU5hbWVfKSxcbiAgICAgIHRoaXMuaGFuZGxlR2VvbWV0cnlDaGFuZ2VkXywgdGhpcyk7XG5cbiAgICBpZiAob3B0X2dlb21ldHJ5T3JQcm9wZXJ0aWVzKSB7XG4gICAgICBpZiAodHlwZW9mIC8qKiBAdHlwZSB7P30gKi8gKG9wdF9nZW9tZXRyeU9yUHJvcGVydGllcykuZ2V0U2ltcGxpZmllZEdlb21ldHJ5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9ICovIChvcHRfZ2VvbWV0cnlPclByb3BlcnRpZXMpO1xuICAgICAgICB0aGlzLnNldEdlb21ldHJ5KGdlb21ldHJ5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgKj59ICovXG4gICAgICAgIHZhciBwcm9wZXJ0aWVzID0gb3B0X2dlb21ldHJ5T3JQcm9wZXJ0aWVzO1xuICAgICAgICB0aGlzLnNldFByb3BlcnRpZXMocHJvcGVydGllcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKCBCYXNlT2JqZWN0ICkgRmVhdHVyZS5fX3Byb3RvX18gPSBCYXNlT2JqZWN0O1xuICBGZWF0dXJlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEJhc2VPYmplY3QgJiYgQmFzZU9iamVjdC5wcm90b3R5cGUgKTtcbiAgRmVhdHVyZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBGZWF0dXJlO1xuXG4gIC8qKlxuICAgKiBDbG9uZSB0aGlzIGZlYXR1cmUuIElmIHRoZSBvcmlnaW5hbCBmZWF0dXJlIGhhcyBhIGdlb21ldHJ5IGl0XG4gICAqIGlzIGFsc28gY2xvbmVkLiBUaGUgZmVhdHVyZSBpZCBpcyBub3Qgc2V0IGluIHRoZSBjbG9uZS5cbiAgICogQHJldHVybiB7RmVhdHVyZX0gVGhlIGNsb25lLlxuICAgKiBAYXBpXG4gICAqL1xuICBGZWF0dXJlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lICgpIHtcbiAgICB2YXIgY2xvbmUgPSBuZXcgRmVhdHVyZSh0aGlzLmdldFByb3BlcnRpZXMoKSk7XG4gICAgY2xvbmUuc2V0R2VvbWV0cnlOYW1lKHRoaXMuZ2V0R2VvbWV0cnlOYW1lKCkpO1xuICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2V0R2VvbWV0cnkoKTtcbiAgICBpZiAoZ2VvbWV0cnkpIHtcbiAgICAgIGNsb25lLnNldEdlb21ldHJ5KGdlb21ldHJ5LmNsb25lKCkpO1xuICAgIH1cbiAgICB2YXIgc3R5bGUgPSB0aGlzLmdldFN0eWxlKCk7XG4gICAgaWYgKHN0eWxlKSB7XG4gICAgICBjbG9uZS5zZXRTdHlsZShzdHlsZSk7XG4gICAgfVxuICAgIHJldHVybiBjbG9uZTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSBmZWF0dXJlJ3MgZGVmYXVsdCBnZW9tZXRyeS4gIEEgZmVhdHVyZSBtYXkgaGF2ZSBhbnkgbnVtYmVyIG9mIG5hbWVkXG4gICAqIGdlb21ldHJpZXMuICBUaGUgXCJkZWZhdWx0XCIgZ2VvbWV0cnkgKHRoZSBvbmUgdGhhdCBpcyByZW5kZXJlZCBieSBkZWZhdWx0KSBpc1xuICAgKiBzZXQgd2hlbiBjYWxsaW5nIHtAbGluayBtb2R1bGU6b2wvRmVhdHVyZX5GZWF0dXJlI3NldEdlb21ldHJ5fS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfSBUaGUgZGVmYXVsdCBnZW9tZXRyeSBmb3IgdGhlIGZlYXR1cmUuXG4gICAqIEBhcGlcbiAgICogQG9ic2VydmFibGVcbiAgICovXG4gIEZlYXR1cmUucHJvdG90eXBlLmdldEdlb21ldHJ5ID0gZnVuY3Rpb24gZ2V0R2VvbWV0cnkgKCkge1xuICAgIHJldHVybiAoXG4gICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gKi8gKHRoaXMuZ2V0KHRoaXMuZ2VvbWV0cnlOYW1lXykpXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSBmZWF0dXJlIGlkZW50aWZpZXIuICBUaGlzIGlzIGEgc3RhYmxlIGlkZW50aWZpZXIgZm9yIHRoZSBmZWF0dXJlIGFuZFxuICAgKiBpcyBlaXRoZXIgc2V0IHdoZW4gcmVhZGluZyBkYXRhIGZyb20gYSByZW1vdGUgc291cmNlIG9yIHNldCBleHBsaWNpdGx5IGJ5XG4gICAqIGNhbGxpbmcge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfkZlYXR1cmUjc2V0SWR9LlxuICAgKiBAcmV0dXJuIHtudW1iZXJ8c3RyaW5nfHVuZGVmaW5lZH0gSWQuXG4gICAqIEBhcGlcbiAgICovXG4gIEZlYXR1cmUucHJvdG90eXBlLmdldElkID0gZnVuY3Rpb24gZ2V0SWQgKCkge1xuICAgIHJldHVybiB0aGlzLmlkXztcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSBuYW1lIG9mIHRoZSBmZWF0dXJlJ3MgZGVmYXVsdCBnZW9tZXRyeS4gIEJ5IGRlZmF1bHQsIHRoZSBkZWZhdWx0XG4gICAqIGdlb21ldHJ5IGlzIG5hbWVkIGBnZW9tZXRyeWAuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gR2V0IHRoZSBwcm9wZXJ0eSBuYW1lIGFzc29jaWF0ZWQgd2l0aCB0aGUgZGVmYXVsdCBnZW9tZXRyeVxuICAgKiAgICAgZm9yIHRoaXMgZmVhdHVyZS5cbiAgICogQGFwaVxuICAgKi9cbiAgRmVhdHVyZS5wcm90b3R5cGUuZ2V0R2VvbWV0cnlOYW1lID0gZnVuY3Rpb24gZ2V0R2VvbWV0cnlOYW1lICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZW9tZXRyeU5hbWVfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGZlYXR1cmUncyBzdHlsZS4gV2lsbCByZXR1cm4gd2hhdCB3YXMgcHJvdmlkZWQgdG8gdGhlXG4gICAqIHtAbGluayBtb2R1bGU6b2wvRmVhdHVyZX5GZWF0dXJlI3NldFN0eWxlfSBtZXRob2QuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVMaWtlfSBUaGUgZmVhdHVyZSBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgRmVhdHVyZS5wcm90b3R5cGUuZ2V0U3R5bGUgPSBmdW5jdGlvbiBnZXRTdHlsZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3R5bGVfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGZlYXR1cmUncyBzdHlsZSBmdW5jdGlvbi5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUZ1bmN0aW9ufHVuZGVmaW5lZH0gUmV0dXJuIGEgZnVuY3Rpb25cbiAgICogcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IHN0eWxlIG9mIHRoaXMgZmVhdHVyZS5cbiAgICogQGFwaVxuICAgKi9cbiAgRmVhdHVyZS5wcm90b3R5cGUuZ2V0U3R5bGVGdW5jdGlvbiA9IGZ1bmN0aW9uIGdldFN0eWxlRnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnN0eWxlRnVuY3Rpb25fO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgRmVhdHVyZS5wcm90b3R5cGUuaGFuZGxlR2VvbWV0cnlDaGFuZ2VfID0gZnVuY3Rpb24gaGFuZGxlR2VvbWV0cnlDaGFuZ2VfICgpIHtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIEZlYXR1cmUucHJvdG90eXBlLmhhbmRsZUdlb21ldHJ5Q2hhbmdlZF8gPSBmdW5jdGlvbiBoYW5kbGVHZW9tZXRyeUNoYW5nZWRfICgpIHtcbiAgICBpZiAodGhpcy5nZW9tZXRyeUNoYW5nZUtleV8pIHtcbiAgICAgIHVubGlzdGVuQnlLZXkodGhpcy5nZW9tZXRyeUNoYW5nZUtleV8pO1xuICAgICAgdGhpcy5nZW9tZXRyeUNoYW5nZUtleV8gPSBudWxsO1xuICAgIH1cbiAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdldEdlb21ldHJ5KCk7XG4gICAgaWYgKGdlb21ldHJ5KSB7XG4gICAgICB0aGlzLmdlb21ldHJ5Q2hhbmdlS2V5XyA9IGxpc3RlbihnZW9tZXRyeSxcbiAgICAgICAgRXZlbnRUeXBlLkNIQU5HRSwgdGhpcy5oYW5kbGVHZW9tZXRyeUNoYW5nZV8sIHRoaXMpO1xuICAgIH1cbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IHRoZSBkZWZhdWx0IGdlb21ldHJ5IGZvciB0aGUgZmVhdHVyZS4gIFRoaXMgd2lsbCB1cGRhdGUgdGhlIHByb3BlcnR5XG4gICAqIHdpdGggdGhlIG5hbWUgcmV0dXJuZWQgYnkge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfkZlYXR1cmUjZ2V0R2VvbWV0cnlOYW1lfS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdHx1bmRlZmluZWR9IGdlb21ldHJ5IFRoZSBuZXcgZ2VvbWV0cnkuXG4gICAqIEBhcGlcbiAgICogQG9ic2VydmFibGVcbiAgICovXG4gIEZlYXR1cmUucHJvdG90eXBlLnNldEdlb21ldHJ5ID0gZnVuY3Rpb24gc2V0R2VvbWV0cnkgKGdlb21ldHJ5KSB7XG4gICAgdGhpcy5zZXQodGhpcy5nZW9tZXRyeU5hbWVfLCBnZW9tZXRyeSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgc3R5bGUgZm9yIHRoZSBmZWF0dXJlLiAgVGhpcyBjYW4gYmUgYSBzaW5nbGUgc3R5bGUgb2JqZWN0LCBhbiBhcnJheVxuICAgKiBvZiBzdHlsZXMsIG9yIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIHJlc29sdXRpb24gYW5kIHJldHVybnMgYW4gYXJyYXkgb2ZcbiAgICogc3R5bGVzLiBJZiBpdCBpcyBgbnVsbGAgdGhlIGZlYXR1cmUgaGFzIG5vIHN0eWxlIChhIGBudWxsYCBzdHlsZSkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUxpa2V9IHN0eWxlIFN0eWxlIGZvciB0aGlzIGZlYXR1cmUuXG4gICAqIEBhcGlcbiAgICogQGZpcmVzIG1vZHVsZTpvbC9ldmVudHMvRXZlbnR+RXZlbnQjZXZlbnQ6Y2hhbmdlXG4gICAqL1xuICBGZWF0dXJlLnByb3RvdHlwZS5zZXRTdHlsZSA9IGZ1bmN0aW9uIHNldFN0eWxlIChzdHlsZSkge1xuICAgIHRoaXMuc3R5bGVfID0gc3R5bGU7XG4gICAgdGhpcy5zdHlsZUZ1bmN0aW9uXyA9ICFzdHlsZSA/IHVuZGVmaW5lZCA6IGNyZWF0ZVN0eWxlRnVuY3Rpb24oc3R5bGUpO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGZlYXR1cmUgaWQuICBUaGUgZmVhdHVyZSBpZCBpcyBjb25zaWRlcmVkIHN0YWJsZSBhbmQgbWF5IGJlIHVzZWQgd2hlblxuICAgKiByZXF1ZXN0aW5nIGZlYXR1cmVzIG9yIGNvbXBhcmluZyBpZGVudGlmaWVycyByZXR1cm5lZCBmcm9tIGEgcmVtb3RlIHNvdXJjZS5cbiAgICogVGhlIGZlYXR1cmUgaWQgY2FuIGJlIHVzZWQgd2l0aCB0aGVcbiAgICoge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yflZlY3RvclNvdXJjZSNnZXRGZWF0dXJlQnlJZH0gbWV0aG9kLlxuICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd8dW5kZWZpbmVkfSBpZCBUaGUgZmVhdHVyZSBpZC5cbiAgICogQGFwaVxuICAgKiBAZmlyZXMgbW9kdWxlOm9sL2V2ZW50cy9FdmVudH5FdmVudCNldmVudDpjaGFuZ2VcbiAgICovXG4gIEZlYXR1cmUucHJvdG90eXBlLnNldElkID0gZnVuY3Rpb24gc2V0SWQgKGlkKSB7XG4gICAgdGhpcy5pZF8gPSBpZDtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IHRoZSBwcm9wZXJ0eSBuYW1lIHRvIGJlIHVzZWQgd2hlbiBnZXR0aW5nIHRoZSBmZWF0dXJlJ3MgZGVmYXVsdCBnZW9tZXRyeS5cbiAgICogV2hlbiBjYWxsaW5nIHtAbGluayBtb2R1bGU6b2wvRmVhdHVyZX5GZWF0dXJlI2dldEdlb21ldHJ5fSwgdGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSB3aXRoXG4gICAqIHRoaXMgbmFtZSB3aWxsIGJlIHJldHVybmVkLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgcHJvcGVydHkgbmFtZSBvZiB0aGUgZGVmYXVsdCBnZW9tZXRyeS5cbiAgICogQGFwaVxuICAgKi9cbiAgRmVhdHVyZS5wcm90b3R5cGUuc2V0R2VvbWV0cnlOYW1lID0gZnVuY3Rpb24gc2V0R2VvbWV0cnlOYW1lIChuYW1lKSB7XG4gICAgdW5saXN0ZW4oXG4gICAgICB0aGlzLCBnZXRDaGFuZ2VFdmVudFR5cGUodGhpcy5nZW9tZXRyeU5hbWVfKSxcbiAgICAgIHRoaXMuaGFuZGxlR2VvbWV0cnlDaGFuZ2VkXywgdGhpcyk7XG4gICAgdGhpcy5nZW9tZXRyeU5hbWVfID0gbmFtZTtcbiAgICBsaXN0ZW4oXG4gICAgICB0aGlzLCBnZXRDaGFuZ2VFdmVudFR5cGUodGhpcy5nZW9tZXRyeU5hbWVfKSxcbiAgICAgIHRoaXMuaGFuZGxlR2VvbWV0cnlDaGFuZ2VkXywgdGhpcyk7XG4gICAgdGhpcy5oYW5kbGVHZW9tZXRyeUNoYW5nZWRfKCk7XG4gIH07XG5cbiAgcmV0dXJuIEZlYXR1cmU7XG59KEJhc2VPYmplY3QpKTtcblxuXG4vKipcbiAqIENvbnZlcnQgdGhlIHByb3ZpZGVkIG9iamVjdCBpbnRvIGEgZmVhdHVyZSBzdHlsZSBmdW5jdGlvbi4gIEZ1bmN0aW9ucyBwYXNzZWRcbiAqIHRocm91Z2ggdW5jaGFuZ2VkLiAgQXJyYXlzIG9mIFN0eWxlIG9yIHNpbmdsZSBzdHlsZSBvYmplY3RzIHdyYXBwZWRcbiAqIGluIGEgbmV3IGZlYXR1cmUgc3R5bGUgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyFpbXBvcnQoXCIuL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlRnVuY3Rpb258IUFycmF5PGltcG9ydChcIi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdD58IWltcG9ydChcIi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gb2JqXG4gKiAgICAgQSBmZWF0dXJlIHN0eWxlIGZ1bmN0aW9uLCBhIHNpbmdsZSBzdHlsZSwgb3IgYW4gYXJyYXkgb2Ygc3R5bGVzLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUZ1bmN0aW9ufSBBIHN0eWxlIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3R5bGVGdW5jdGlvbihvYmopIHtcbiAgaWYgKHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gb2JqO1xuICB9IGVsc2Uge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAqL1xuICAgIHZhciBzdHlsZXM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgc3R5bGVzID0gb2JqO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3NlcnQodHlwZW9mIC8qKiBAdHlwZSB7P30gKi8gKG9iaikuZ2V0WkluZGV4ID09PSAnZnVuY3Rpb24nLFxuICAgICAgICA0MSk7IC8vIEV4cGVjdGVkIGFuIGBpbXBvcnQoXCIuL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlYCBvciBhbiBhcnJheSBvZiBgaW1wb3J0KFwiLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZWBcbiAgICAgIHZhciBzdHlsZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSAqLyAob2JqKTtcbiAgICAgIHN0eWxlcyA9IFtzdHlsZV07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBzdHlsZXM7XG4gICAgfTtcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgRmVhdHVyZTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmVhdHVyZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc2l6ZVxuICovXG5cblxuLyoqXG4gKiBBbiBhcnJheSBvZiBudW1iZXJzIHJlcHJlc2VudGluZyBhIHNpemU6IGBbd2lkdGgsIGhlaWdodF1gLlxuICogQHR5cGVkZWYge0FycmF5PG51bWJlcj59IFNpemVcbiAqIEBhcGlcbiAqL1xuXG5cbi8qKlxuICogUmV0dXJucyBhIGJ1ZmZlcmVkIHNpemUuXG4gKiBAcGFyYW0ge1NpemV9IHNpemUgU2l6ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBudW0gVGhlIGFtb3VudCBieSB3aGljaCB0byBidWZmZXIuXG4gKiBAcGFyYW0ge1NpemU9fSBvcHRfc2l6ZSBPcHRpb25hbCByZXVzYWJsZSBzaXplIGFycmF5LlxuICogQHJldHVybiB7U2l6ZX0gVGhlIGJ1ZmZlcmVkIHNpemUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWZmZXIoc2l6ZSwgbnVtLCBvcHRfc2l6ZSkge1xuICBpZiAob3B0X3NpemUgPT09IHVuZGVmaW5lZCkge1xuICAgIG9wdF9zaXplID0gWzAsIDBdO1xuICB9XG4gIG9wdF9zaXplWzBdID0gc2l6ZVswXSArIDIgKiBudW07XG4gIG9wdF9zaXplWzFdID0gc2l6ZVsxXSArIDIgKiBudW07XG4gIHJldHVybiBvcHRfc2l6ZTtcbn1cblxuXG4vKipcbiAqIERldGVybWluZXMgaWYgYSBzaXplIGhhcyBhIHBvc2l0aXZlIGFyZWEuXG4gKiBAcGFyYW0ge1NpemV9IHNpemUgVGhlIHNpemUgdG8gdGVzdC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBzaXplIGhhcyBhIHBvc2l0aXZlIGFyZWEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNBcmVhKHNpemUpIHtcbiAgcmV0dXJuIHNpemVbMF0gPiAwICYmIHNpemVbMV0gPiAwO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBhIHNpemUgc2NhbGVkIGJ5IGEgcmF0aW8uIFRoZSByZXN1bHQgd2lsbCBiZSBhbiBhcnJheSBvZiBpbnRlZ2Vycy5cbiAqIEBwYXJhbSB7U2l6ZX0gc2l6ZSBTaXplLlxuICogQHBhcmFtIHtudW1iZXJ9IHJhdGlvIFJhdGlvLlxuICogQHBhcmFtIHtTaXplPX0gb3B0X3NpemUgT3B0aW9uYWwgcmV1c2FibGUgc2l6ZSBhcnJheS5cbiAqIEByZXR1cm4ge1NpemV9IFRoZSBzY2FsZWQgc2l6ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKHNpemUsIHJhdGlvLCBvcHRfc2l6ZSkge1xuICBpZiAob3B0X3NpemUgPT09IHVuZGVmaW5lZCkge1xuICAgIG9wdF9zaXplID0gWzAsIDBdO1xuICB9XG4gIG9wdF9zaXplWzBdID0gKHNpemVbMF0gKiByYXRpbyArIDAuNSkgfCAwO1xuICBvcHRfc2l6ZVsxXSA9IChzaXplWzFdICogcmF0aW8gKyAwLjUpIHwgMDtcbiAgcmV0dXJuIG9wdF9zaXplO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBhbiBgU2l6ZWAgYXJyYXkgZm9yIHRoZSBwYXNzZWQgaW4gbnVtYmVyIChtZWFuaW5nOiBzcXVhcmUpIG9yXG4gKiBgU2l6ZWAgYXJyYXkuXG4gKiAobWVhbmluZzogbm9uLXNxdWFyZSksXG4gKiBAcGFyYW0ge251bWJlcnxTaXplfSBzaXplIFdpZHRoIGFuZCBoZWlnaHQuXG4gKiBAcGFyYW0ge1NpemU9fSBvcHRfc2l6ZSBPcHRpb25hbCByZXVzYWJsZSBzaXplIGFycmF5LlxuICogQHJldHVybiB7U2l6ZX0gU2l6ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvU2l6ZShzaXplLCBvcHRfc2l6ZSkge1xuICBpZiAoQXJyYXkuaXNBcnJheShzaXplKSkge1xuICAgIHJldHVybiBzaXplO1xuICB9IGVsc2Uge1xuICAgIGlmIChvcHRfc2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBvcHRfc2l6ZSA9IFtzaXplLCBzaXplXTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0X3NpemVbMF0gPSBvcHRfc2l6ZVsxXSA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoc2l6ZSk7XG4gICAgfVxuICAgIHJldHVybiBvcHRfc2l6ZTtcbiAgfVxufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaXplLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHJpbmdcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgTnVtYmVyIHRvIGJlIGZvcm1hdHRlZFxuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIFRoZSBkZXNpcmVkIHdpZHRoXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9wcmVjaXNpb24gUHJlY2lzaW9uIG9mIHRoZSBvdXRwdXQgc3RyaW5nIChpLmUuIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcylcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEZvcm1hdHRlZCBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhZE51bWJlcihudW1iZXIsIHdpZHRoLCBvcHRfcHJlY2lzaW9uKSB7XG4gIHZhciBudW1iZXJTdHJpbmcgPSBvcHRfcHJlY2lzaW9uICE9PSB1bmRlZmluZWQgPyBudW1iZXIudG9GaXhlZChvcHRfcHJlY2lzaW9uKSA6ICcnICsgbnVtYmVyO1xuICB2YXIgZGVjaW1hbCA9IG51bWJlclN0cmluZy5pbmRleE9mKCcuJyk7XG4gIGRlY2ltYWwgPSBkZWNpbWFsID09PSAtMSA/IG51bWJlclN0cmluZy5sZW5ndGggOiBkZWNpbWFsO1xuICByZXR1cm4gZGVjaW1hbCA+IHdpZHRoID8gbnVtYmVyU3RyaW5nIDogbmV3IEFycmF5KDEgKyB3aWR0aCAtIGRlY2ltYWwpLmpvaW4oJzAnKSArIG51bWJlclN0cmluZztcbn1cblxuXG4vKipcbiAqIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vb21pY2hlbHNlbi9jb21wYXJlLXZlcnNpb25zL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IHYxIEZpcnN0IHZlcnNpb25cbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gdjIgU2Vjb25kIHZlcnNpb25cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlVmVyc2lvbnModjEsIHYyKSB7XG4gIHZhciBzMSA9ICgnJyArIHYxKS5zcGxpdCgnLicpO1xuICB2YXIgczIgPSAoJycgKyB2Mikuc3BsaXQoJy4nKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IE1hdGgubWF4KHMxLmxlbmd0aCwgczIubGVuZ3RoKTsgaSsrKSB7XG4gICAgdmFyIG4xID0gcGFyc2VJbnQoczFbaV0gfHwgJzAnLCAxMCk7XG4gICAgdmFyIG4yID0gcGFyc2VJbnQoczJbaV0gfHwgJzAnLCAxMCk7XG5cbiAgICBpZiAobjEgPiBuMikge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIGlmIChuMiA+IG4xKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIDA7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmluZy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc3RydWN0cy9SQnVzaFxuICovXG5pbXBvcnQge2dldFVpZH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQgcmJ1c2ggZnJvbSAncmJ1c2gnO1xuaW1wb3J0IHtjcmVhdGVPclVwZGF0ZSwgZXF1YWxzfSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHtpc0VtcHR5fSBmcm9tICcuLi9vYmouanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEVudHJ5XG4gKiBAcHJvcGVydHkge251bWJlcn0gbWluWFxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1pbllcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhYXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4WVxuICogQHByb3BlcnR5IHtPYmplY3R9IFt2YWx1ZV1cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFdyYXBwZXIgYXJvdW5kIHRoZSBSQnVzaCBieSBWbGFkaW1pciBBZ2Fmb25raW4uXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21vdXJuZXIvcmJ1c2guXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqL1xudmFyIFJCdXNoID0gZnVuY3Rpb24gUkJ1c2gob3B0X21heEVudHJpZXMpIHtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMucmJ1c2hfID0gcmJ1c2gob3B0X21heEVudHJpZXMsIHVuZGVmaW5lZCk7XG5cbiAgLyoqXG4gICAqIEEgbWFwcGluZyBiZXR3ZWVuIHRoZSBvYmplY3RzIGFkZGVkIHRvIHRoaXMgcmJ1c2ggd3JhcHBlclxuICAgKiBhbmQgdGhlIG9iamVjdHMgdGhhdCBhcmUgYWN0dWFsbHkgYWRkZWQgdG8gdGhlIGludGVybmFsIHJidXNoLlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgRW50cnk+fVxuICAgKi9cbiAgdGhpcy5pdGVtc18gPSB7fTtcblxufTtcblxuLyoqXG4gKiBJbnNlcnQgYSB2YWx1ZSBpbnRvIHRoZSBSQnVzaC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7VH0gdmFsdWUgVmFsdWUuXG4gKi9cblJCdXNoLnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbiBpbnNlcnQgKGV4dGVudCwgdmFsdWUpIHtcbiAgLyoqIEB0eXBlIHtFbnRyeX0gKi9cbiAgdmFyIGl0ZW0gPSB7XG4gICAgbWluWDogZXh0ZW50WzBdLFxuICAgIG1pblk6IGV4dGVudFsxXSxcbiAgICBtYXhYOiBleHRlbnRbMl0sXG4gICAgbWF4WTogZXh0ZW50WzNdLFxuICAgIHZhbHVlOiB2YWx1ZVxuICB9O1xuXG4gIHRoaXMucmJ1c2hfLmluc2VydChpdGVtKTtcbiAgdGhpcy5pdGVtc19bZ2V0VWlkKHZhbHVlKV0gPSBpdGVtO1xufTtcblxuXG4vKipcbiAqIEJ1bGstaW5zZXJ0IHZhbHVlcyBpbnRvIHRoZSBSQnVzaC5cbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudD59IGV4dGVudHMgRXh0ZW50cy5cbiAqIEBwYXJhbSB7QXJyYXk8VD59IHZhbHVlcyBWYWx1ZXMuXG4gKi9cblJCdXNoLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gbG9hZCAoZXh0ZW50cywgdmFsdWVzKSB7XG4gIHZhciBpdGVtcyA9IG5ldyBBcnJheSh2YWx1ZXMubGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSB2YWx1ZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgdmFyIGV4dGVudCA9IGV4dGVudHNbaV07XG4gICAgdmFyIHZhbHVlID0gdmFsdWVzW2ldO1xuXG4gICAgLyoqIEB0eXBlIHtFbnRyeX0gKi9cbiAgICB2YXIgaXRlbSA9IHtcbiAgICAgIG1pblg6IGV4dGVudFswXSxcbiAgICAgIG1pblk6IGV4dGVudFsxXSxcbiAgICAgIG1heFg6IGV4dGVudFsyXSxcbiAgICAgIG1heFk6IGV4dGVudFszXSxcbiAgICAgIHZhbHVlOiB2YWx1ZVxuICAgIH07XG4gICAgaXRlbXNbaV0gPSBpdGVtO1xuICAgIHRoaXMuaXRlbXNfW2dldFVpZCh2YWx1ZSldID0gaXRlbTtcbiAgfVxuICB0aGlzLnJidXNoXy5sb2FkKGl0ZW1zKTtcbn07XG5cblxuLyoqXG4gKiBSZW1vdmUgYSB2YWx1ZSBmcm9tIHRoZSBSQnVzaC5cbiAqIEBwYXJhbSB7VH0gdmFsdWUgVmFsdWUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBSZW1vdmVkLlxuICovXG5SQnVzaC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlICh2YWx1ZSkge1xuICB2YXIgdWlkID0gZ2V0VWlkKHZhbHVlKTtcblxuICAvLyBnZXQgdGhlIG9iamVjdCBpbiB3aGljaCB0aGUgdmFsdWUgd2FzIHdyYXBwZWQgd2hlbiBhZGRpbmcgdG8gdGhlXG4gIC8vIGludGVybmFsIHJidXNoLiB0aGVuIHVzZSB0aGF0IG9iamVjdCB0byBkbyB0aGUgcmVtb3ZhbC5cbiAgdmFyIGl0ZW0gPSB0aGlzLml0ZW1zX1t1aWRdO1xuICBkZWxldGUgdGhpcy5pdGVtc19bdWlkXTtcbiAgcmV0dXJuIHRoaXMucmJ1c2hfLnJlbW92ZShpdGVtKSAhPT0gbnVsbDtcbn07XG5cblxuLyoqXG4gKiBVcGRhdGUgdGhlIGV4dGVudCBvZiBhIHZhbHVlIGluIHRoZSBSQnVzaC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7VH0gdmFsdWUgVmFsdWUuXG4gKi9cblJCdXNoLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKGV4dGVudCwgdmFsdWUpIHtcbiAgdmFyIGl0ZW0gPSB0aGlzLml0ZW1zX1tnZXRVaWQodmFsdWUpXTtcbiAgdmFyIGJib3ggPSBbaXRlbS5taW5YLCBpdGVtLm1pblksIGl0ZW0ubWF4WCwgaXRlbS5tYXhZXTtcbiAgaWYgKCFlcXVhbHMoYmJveCwgZXh0ZW50KSkge1xuICAgIHRoaXMucmVtb3ZlKHZhbHVlKTtcbiAgICB0aGlzLmluc2VydChleHRlbnQsIHZhbHVlKTtcbiAgfVxufTtcblxuXG4vKipcbiAqIFJldHVybiBhbGwgdmFsdWVzIGluIHRoZSBSQnVzaC5cbiAqIEByZXR1cm4ge0FycmF5PFQ+fSBBbGwuXG4gKi9cblJCdXNoLnByb3RvdHlwZS5nZXRBbGwgPSBmdW5jdGlvbiBnZXRBbGwgKCkge1xuICB2YXIgaXRlbXMgPSB0aGlzLnJidXNoXy5hbGwoKTtcbiAgcmV0dXJuIGl0ZW1zLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW0udmFsdWU7XG4gIH0pO1xufTtcblxuXG4vKipcbiAqIFJldHVybiBhbGwgdmFsdWVzIGluIHRoZSBnaXZlbiBleHRlbnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtBcnJheTxUPn0gQWxsIGluIGV4dGVudC5cbiAqL1xuUkJ1c2gucHJvdG90eXBlLmdldEluRXh0ZW50ID0gZnVuY3Rpb24gZ2V0SW5FeHRlbnQgKGV4dGVudCkge1xuICAvKiogQHR5cGUge0VudHJ5fSAqL1xuICB2YXIgYmJveCA9IHtcbiAgICBtaW5YOiBleHRlbnRbMF0sXG4gICAgbWluWTogZXh0ZW50WzFdLFxuICAgIG1heFg6IGV4dGVudFsyXSxcbiAgICBtYXhZOiBleHRlbnRbM11cbiAgfTtcbiAgdmFyIGl0ZW1zID0gdGhpcy5yYnVzaF8uc2VhcmNoKGJib3gpO1xuICByZXR1cm4gaXRlbXMubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbS52YWx1ZTtcbiAgfSk7XG59O1xuXG5cbi8qKlxuICogQ2FsbHMgYSBjYWxsYmFjayBmdW5jdGlvbiB3aXRoIGVhY2ggdmFsdWUgaW4gdGhlIHRyZWUuXG4gKiBJZiB0aGUgY2FsbGJhY2sgcmV0dXJucyBhIHRydXRoeSB2YWx1ZSwgdGhpcyB2YWx1ZSBpcyByZXR1cm5lZCB3aXRob3V0XG4gKiBjaGVja2luZyB0aGUgcmVzdCBvZiB0aGUgdHJlZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczogUywgVCk6ICp9IGNhbGxiYWNrIENhbGxiYWNrLlxuICogQHBhcmFtIHtTPX0gb3B0X3RoaXMgVGhlIG9iamVjdCB0byB1c2UgYXMgYHRoaXNgIGluIGBjYWxsYmFja2AuXG4gKiBAcmV0dXJuIHsqfSBDYWxsYmFjayByZXR1cm4gdmFsdWUuXG4gKiBAdGVtcGxhdGUgU1xuICovXG5SQnVzaC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIGZvckVhY2ggKGNhbGxiYWNrLCBvcHRfdGhpcykge1xuICByZXR1cm4gdGhpcy5mb3JFYWNoXyh0aGlzLmdldEFsbCgpLCBjYWxsYmFjaywgb3B0X3RoaXMpO1xufTtcblxuXG4vKipcbiAqIENhbGxzIGEgY2FsbGJhY2sgZnVuY3Rpb24gd2l0aCBlYWNoIHZhbHVlIGluIHRoZSBwcm92aWRlZCBleHRlbnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6IFMsIFQpOiAqfSBjYWxsYmFjayBDYWxsYmFjay5cbiAqIEBwYXJhbSB7Uz19IG9wdF90aGlzIFRoZSBvYmplY3QgdG8gdXNlIGFzIGB0aGlzYCBpbiBgY2FsbGJhY2tgLlxuICogQHJldHVybiB7Kn0gQ2FsbGJhY2sgcmV0dXJuIHZhbHVlLlxuICogQHRlbXBsYXRlIFNcbiAqL1xuUkJ1c2gucHJvdG90eXBlLmZvckVhY2hJbkV4dGVudCA9IGZ1bmN0aW9uIGZvckVhY2hJbkV4dGVudCAoZXh0ZW50LCBjYWxsYmFjaywgb3B0X3RoaXMpIHtcbiAgcmV0dXJuIHRoaXMuZm9yRWFjaF8odGhpcy5nZXRJbkV4dGVudChleHRlbnQpLCBjYWxsYmFjaywgb3B0X3RoaXMpO1xufTtcblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8VD59IHZhbHVlcyBWYWx1ZXMuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6IFMsIFQpOiAqfSBjYWxsYmFjayBDYWxsYmFjay5cbiAqIEBwYXJhbSB7Uz19IG9wdF90aGlzIFRoZSBvYmplY3QgdG8gdXNlIGFzIGB0aGlzYCBpbiBgY2FsbGJhY2tgLlxuICogQHByaXZhdGVcbiAqIEByZXR1cm4geyp9IENhbGxiYWNrIHJldHVybiB2YWx1ZS5cbiAqIEB0ZW1wbGF0ZSBTXG4gKi9cblJCdXNoLnByb3RvdHlwZS5mb3JFYWNoXyA9IGZ1bmN0aW9uIGZvckVhY2hfICh2YWx1ZXMsIGNhbGxiYWNrLCBvcHRfdGhpcykge1xuICB2YXIgcmVzdWx0O1xuICBmb3IgKHZhciBpID0gMCwgbCA9IHZhbHVlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICByZXN1bHQgPSBjYWxsYmFjay5jYWxsKG9wdF90aGlzLCB2YWx1ZXNbaV0pO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5cbi8qKlxuICogQHJldHVybiB7Ym9vbGVhbn0gSXMgZW1wdHkuXG4gKi9cblJCdXNoLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gaXNFbXB0eSQxICgpIHtcbiAgcmV0dXJuIGlzRW1wdHkodGhpcy5pdGVtc18pO1xufTtcblxuXG4vKipcbiAqIFJlbW92ZSBhbGwgdmFsdWVzIGZyb20gdGhlIFJCdXNoLlxuICovXG5SQnVzaC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhciAoKSB7XG4gIHRoaXMucmJ1c2hfLmNsZWFyKCk7XG4gIHRoaXMuaXRlbXNfID0ge307XG59O1xuXG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50PX0gb3B0X2V4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBFeHRlbnQuXG4gKi9cblJCdXNoLnByb3RvdHlwZS5nZXRFeHRlbnQgPSBmdW5jdGlvbiBnZXRFeHRlbnQgKG9wdF9leHRlbnQpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLnJidXNoXy50b0pTT04oKTtcbiAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlKGRhdGEubWluWCwgZGF0YS5taW5ZLCBkYXRhLm1heFgsIGRhdGEubWF4WSwgb3B0X2V4dGVudCk7XG59O1xuXG5cbi8qKlxuICogQHBhcmFtIHtSQnVzaH0gcmJ1c2ggUi1UcmVlLlxuICovXG5SQnVzaC5wcm90b3R5cGUuY29uY2F0ID0gZnVuY3Rpb24gY29uY2F0IChyYnVzaCkge1xuICB0aGlzLnJidXNoXy5sb2FkKHJidXNoLnJidXNoXy5hbGwoKSk7XG4gIGZvciAodmFyIGkgaW4gcmJ1c2guaXRlbXNfKSB7XG4gICAgdGhpcy5pdGVtc19baV0gPSByYnVzaC5pdGVtc19baV07XG4gIH1cbn07XG5cblxuZXhwb3J0IGRlZmF1bHQgUkJ1c2g7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJCdXNoLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvVmVjdG9yRXZlbnRUeXBlXG4gKi9cblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgd2hlbiBhIGZlYXR1cmUgaXMgYWRkZWQgdG8gdGhlIHNvdXJjZS5cbiAgICogQGV2ZW50IG9sL3NvdXJjZS9WZWN0b3IuVmVjdG9yU291cmNlRXZlbnQjYWRkZmVhdHVyZVxuICAgKiBAYXBpXG4gICAqL1xuICBBRERGRUFUVVJFOiAnYWRkZmVhdHVyZScsXG5cbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB3aGVuIGEgZmVhdHVyZSBpcyB1cGRhdGVkLlxuICAgKiBAZXZlbnQgb2wvc291cmNlL1ZlY3Rvci5WZWN0b3JTb3VyY2VFdmVudCNjaGFuZ2VmZWF0dXJlXG4gICAqIEBhcGlcbiAgICovXG4gIENIQU5HRUZFQVRVUkU6ICdjaGFuZ2VmZWF0dXJlJyxcblxuICAvKipcbiAgICogVHJpZ2dlcmVkIHdoZW4gdGhlIGNsZWFyIG1ldGhvZCBpcyBjYWxsZWQgb24gdGhlIHNvdXJjZS5cbiAgICogQGV2ZW50IG9sL3NvdXJjZS9WZWN0b3IuVmVjdG9yU291cmNlRXZlbnQjY2xlYXJcbiAgICogQGFwaVxuICAgKi9cbiAgQ0xFQVI6ICdjbGVhcicsXG5cbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB3aGVuIGEgZmVhdHVyZSBpcyByZW1vdmVkIGZyb20gdGhlIHNvdXJjZS5cbiAgICogU2VlIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3RvciNjbGVhciBzb3VyY2UuY2xlYXIoKX0gZm9yIGV4Y2VwdGlvbnMuXG4gICAqIEBldmVudCBvbC9zb3VyY2UvVmVjdG9yLlZlY3RvclNvdXJjZUV2ZW50I3JlbW92ZWZlYXR1cmVcbiAgICogQGFwaVxuICAgKi9cbiAgUkVNT1ZFRkVBVFVSRTogJ3JlbW92ZWZlYXR1cmUnXG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1WZWN0b3JFdmVudFR5cGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9Tb3VyY2VcbiAqL1xuaW1wb3J0IHthYnN0cmFjdH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQgQmFzZU9iamVjdCBmcm9tICcuLi9PYmplY3QuanMnO1xuaW1wb3J0IHtnZXQgYXMgZ2V0UHJvamVjdGlvbn0gZnJvbSAnLi4vcHJvai5qcyc7XG5pbXBvcnQgU291cmNlU3RhdGUgZnJvbSAnLi9TdGF0ZS5qcyc7XG5cblxuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHN0cmluZyBvciBhbiBhcnJheSBvZiBzdHJpbmdzIHJlcHJlc2VudGluZyBzb3VyY2VcbiAqIGF0dHJpYnV0aW9ucy5cbiAqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGUpOiAoc3RyaW5nfEFycmF5PHN0cmluZz4pfSBBdHRyaWJ1dGlvblxuICovXG5cblxuLyoqXG4gKiBBIHR5cGUgdGhhdCBjYW4gYmUgdXNlZCB0byBwcm92aWRlIGF0dHJpYnV0aW9uIGluZm9ybWF0aW9uIGZvciBkYXRhIHNvdXJjZXMuXG4gKlxuICogSXQgcmVwcmVzZW50cyBlaXRoZXJcbiAqICogYSBzaW1wbGUgc3RyaW5nIChlLmcuIGAnwqkgQWNtZSBJbmMuJ2ApXG4gKiAqIGFuIGFycmF5IG9mIHNpbXBsZSBzdHJpbmdzIChlLmcuIGBbJ8KpIEFjbWUgSW5jLicsICfCqSBCYWNtZSBJbmMuJ11gKVxuICogKiBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHN0cmluZyBvciBhcnJheSBvZiBzdHJpbmdzIChge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvU291cmNlfkF0dHJpYnV0aW9ufWApXG4gKlxuICogQHR5cGVkZWYge3N0cmluZ3xBcnJheTxzdHJpbmc+fEF0dHJpYnV0aW9ufSBBdHRyaWJ1dGlvbkxpa2VcbiAqL1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtBdHRyaWJ1dGlvbkxpa2V9IFthdHRyaWJ1dGlvbnNdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFthdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZT10cnVlXSBBdHRyaWJ1dGlvbnMgYXJlIGNvbGxhcHNpYmxlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBwcm9qZWN0aW9uXG4gKiBAcHJvcGVydHkge1NvdXJjZVN0YXRlfSBbc3RhdGU9J3JlYWR5J11cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3dyYXBYPWZhbHNlXVxuICovXG5cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBYnN0cmFjdCBiYXNlIGNsYXNzOyBub3JtYWxseSBvbmx5IHVzZWQgZm9yIGNyZWF0aW5nIHN1YmNsYXNzZXMgYW5kIG5vdFxuICogaW5zdGFudGlhdGVkIGluIGFwcHMuXG4gKiBCYXNlIGNsYXNzIGZvciB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0xheWVyfkxheWVyfSBzb3VyY2VzLlxuICpcbiAqIEEgZ2VuZXJpYyBgY2hhbmdlYCBldmVudCBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgc3RhdGUgb2YgdGhlIHNvdXJjZSBjaGFuZ2VzLlxuICogQGFic3RyYWN0XG4gKiBAYXBpXG4gKi9cbnZhciBTb3VyY2UgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChCYXNlT2JqZWN0KSB7XG4gIGZ1bmN0aW9uIFNvdXJjZShvcHRpb25zKSB7XG5cbiAgICBCYXNlT2JqZWN0LmNhbGwodGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLnByb2plY3Rpb25fID0gZ2V0UHJvamVjdGlvbihvcHRpb25zLnByb2plY3Rpb24pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P0F0dHJpYnV0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuYXR0cmlidXRpb25zXyA9IGFkYXB0QXR0cmlidXRpb25zKG9wdGlvbnMuYXR0cmlidXRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5hdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZV8gPSBvcHRpb25zLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlICE9PSB1bmRlZmluZWQgP1xuICAgICAgb3B0aW9ucy5hdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZSA6IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHNvdXJjZSBpcyBjdXJyZW50bHkgbG9hZGluZyBkYXRhLiBTb3VyY2VzIHRoYXQgZGVmZXIgbG9hZGluZyB0byB0aGVcbiAgICAgKiBtYXAncyB0aWxlIHF1ZXVlIG5ldmVyIHNldCB0aGlzIHRvIGB0cnVlYC5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1NvdXJjZVN0YXRlfVxuICAgICAqL1xuICAgIHRoaXMuc3RhdGVfID0gb3B0aW9ucy5zdGF0ZSAhPT0gdW5kZWZpbmVkID9cbiAgICAgIG9wdGlvbnMuc3RhdGUgOiBTb3VyY2VTdGF0ZS5SRUFEWTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy53cmFwWF8gPSBvcHRpb25zLndyYXBYICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLndyYXBYIDogZmFsc2U7XG5cbiAgfVxuXG4gIGlmICggQmFzZU9iamVjdCApIFNvdXJjZS5fX3Byb3RvX18gPSBCYXNlT2JqZWN0O1xuICBTb3VyY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQmFzZU9iamVjdCAmJiBCYXNlT2JqZWN0LnByb3RvdHlwZSApO1xuICBTb3VyY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU291cmNlO1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGF0dHJpYnV0aW9uIGZ1bmN0aW9uIGZvciB0aGUgc291cmNlLlxuICAgKiBAcmV0dXJuIHs/QXR0cmlidXRpb259IEF0dHJpYnV0aW9uIGZ1bmN0aW9uLlxuICAgKi9cbiAgU291cmNlLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGlvbnMgPSBmdW5jdGlvbiBnZXRBdHRyaWJ1dGlvbnMgKCkge1xuICAgIHJldHVybiB0aGlzLmF0dHJpYnV0aW9uc187XG4gIH07XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IEFhdHRyaWJ1dGlvbnMgYXJlIGNvbGxhcHNpYmxlLlxuICAgKi9cbiAgU291cmNlLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZSA9IGZ1bmN0aW9uIGdldEF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlICgpIHtcbiAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZV87XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcHJvamVjdGlvbiBvZiB0aGUgc291cmNlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gUHJvamVjdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgU291cmNlLnByb3RvdHlwZS5nZXRQcm9qZWN0aW9uID0gZnVuY3Rpb24gZ2V0UHJvamVjdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvamVjdGlvbl87XG4gIH07XG5cbiAgLyoqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fHVuZGVmaW5lZH0gUmVzb2x1dGlvbnMuXG4gICAqL1xuICBTb3VyY2UucHJvdG90eXBlLmdldFJlc29sdXRpb25zID0gZnVuY3Rpb24gZ2V0UmVzb2x1dGlvbnMgKCkge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHN0YXRlIG9mIHRoZSBzb3VyY2UsIHNlZSB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9TdGF0ZX5TdGF0ZX0gZm9yIHBvc3NpYmxlIHN0YXRlcy5cbiAgICogQHJldHVybiB7U291cmNlU3RhdGV9IFN0YXRlLlxuICAgKiBAYXBpXG4gICAqL1xuICBTb3VyY2UucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gZ2V0U3RhdGUgKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlXztcbiAgfTtcblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbnx1bmRlZmluZWR9IFdyYXAgWC5cbiAgICovXG4gIFNvdXJjZS5wcm90b3R5cGUuZ2V0V3JhcFggPSBmdW5jdGlvbiBnZXRXcmFwWCAoKSB7XG4gICAgcmV0dXJuIHRoaXMud3JhcFhfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZWZyZXNoZXMgdGhlIHNvdXJjZSBhbmQgZmluYWxseSBkaXNwYXRjaGVzIGEgJ2NoYW5nZScgZXZlbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIFNvdXJjZS5wcm90b3R5cGUucmVmcmVzaCA9IGZ1bmN0aW9uIHJlZnJlc2ggKCkge1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGF0dHJpYnV0aW9ucyBvZiB0aGUgc291cmNlLlxuICAgKiBAcGFyYW0ge0F0dHJpYnV0aW9uTGlrZXx1bmRlZmluZWR9IGF0dHJpYnV0aW9ucyBBdHRyaWJ1dGlvbnMuXG4gICAqICAgICBDYW4gYmUgcGFzc2VkIGFzIGBzdHJpbmdgLCBgQXJyYXk8c3RyaW5nPmAsIGB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9Tb3VyY2V+QXR0cmlidXRpb259YCxcbiAgICogICAgIG9yIGB1bmRlZmluZWRgLlxuICAgKiBAYXBpXG4gICAqL1xuICBTb3VyY2UucHJvdG90eXBlLnNldEF0dHJpYnV0aW9ucyA9IGZ1bmN0aW9uIHNldEF0dHJpYnV0aW9ucyAoYXR0cmlidXRpb25zKSB7XG4gICAgdGhpcy5hdHRyaWJ1dGlvbnNfID0gYWRhcHRBdHRyaWJ1dGlvbnMoYXR0cmlidXRpb25zKTtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IHRoZSBzdGF0ZSBvZiB0aGUgc291cmNlLlxuICAgKiBAcGFyYW0ge1NvdXJjZVN0YXRlfSBzdGF0ZSBTdGF0ZS5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgU291cmNlLnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIHNldFN0YXRlIChzdGF0ZSkge1xuICAgIHRoaXMuc3RhdGVfID0gc3RhdGU7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH07XG5cbiAgcmV0dXJuIFNvdXJjZTtcbn0oQmFzZU9iamVjdCkpO1xuXG5cbi8qKlxuICogVHVybnMgdGhlIGF0dHJpYnV0aW9ucyBvcHRpb24gaW50byBhbiBhdHRyaWJ1dGlvbnMgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge0F0dHJpYnV0aW9uTGlrZXx1bmRlZmluZWR9IGF0dHJpYnV0aW9uTGlrZSBUaGUgYXR0cmlidXRpb24gb3B0aW9uLlxuICogQHJldHVybiB7P0F0dHJpYnV0aW9ufSBBbiBhdHRyaWJ1dGlvbiBmdW5jdGlvbiAob3IgbnVsbCkuXG4gKi9cbmZ1bmN0aW9uIGFkYXB0QXR0cmlidXRpb25zKGF0dHJpYnV0aW9uTGlrZSkge1xuICBpZiAoIWF0dHJpYnV0aW9uTGlrZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KGF0dHJpYnV0aW9uTGlrZSkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZnJhbWVTdGF0ZSkge1xuICAgICAgcmV0dXJuIGF0dHJpYnV0aW9uTGlrZTtcbiAgICB9O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGlvbkxpa2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYXR0cmlidXRpb25MaWtlO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGZyYW1lU3RhdGUpIHtcbiAgICByZXR1cm4gW2F0dHJpYnV0aW9uTGlrZV07XG4gIH07XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgU291cmNlO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Tb3VyY2UuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2Nzc1xuICovXG5cblxuLyoqXG4gKiBUaGUgQ1NTIGNsYXNzIGZvciBoaWRkZW4gZmVhdHVyZS5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCB2YXIgQ0xBU1NfSElEREVOID0gJ29sLWhpZGRlbic7XG5cblxuLyoqXG4gKiBUaGUgQ1NTIGNsYXNzIHRoYXQgd2UnbGwgZ2l2ZSB0aGUgRE9NIGVsZW1lbnRzIHRvIGhhdmUgdGhlbSBzZWxlY3RhYmxlLlxuICpcbiAqIEBjb25zdFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IHZhciBDTEFTU19TRUxFQ1RBQkxFID0gJ29sLXNlbGVjdGFibGUnO1xuXG5cbi8qKlxuICogVGhlIENTUyBjbGFzcyB0aGF0IHdlJ2xsIGdpdmUgdGhlIERPTSBlbGVtZW50cyB0byBoYXZlIHRoZW0gdW5zZWxlY3RhYmxlLlxuICpcbiAqIEBjb25zdFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IHZhciBDTEFTU19VTlNFTEVDVEFCTEUgPSAnb2wtdW5zZWxlY3RhYmxlJztcblxuXG4vKipcbiAqIFRoZSBDU1MgY2xhc3MgZm9yIHVuc3VwcG9ydGVkIGZlYXR1cmUuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIENMQVNTX1VOU1VQUE9SVEVEID0gJ29sLXVuc3VwcG9ydGVkJztcblxuXG4vKipcbiAqIFRoZSBDU1MgY2xhc3MgZm9yIGNvbnRyb2xzLlxuICpcbiAqIEBjb25zdFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IHZhciBDTEFTU19DT05UUk9MID0gJ29sLWNvbnRyb2wnO1xuXG5cbi8qKlxuICogVGhlIENTUyBjbGFzcyB0aGF0IHdlJ2xsIGdpdmUgdGhlIERPTSBlbGVtZW50cyB0aGF0IGFyZSBjb2xsYXBzZWQsIGkuZS5cbiAqIHRvIHRob3NlIGVsZW1lbnRzIHdoaWNoIHVzdWFsbHkgY2FuIGJlIGV4cGFuZGVkLlxuICpcbiAqIEBjb25zdFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IHZhciBDTEFTU19DT0xMQVBTRUQgPSAnb2wtY29sbGFwc2VkJztcblxuXG4vKipcbiAqIEdldCB0aGUgbGlzdCBvZiBmb250IGZhbWlsaWVzIGZyb20gYSBmb250IHNwZWMuICBOb3RlIHRoYXQgdGhpcyBkb2Vzbid0IHdvcmtcbiAqIGZvciBmb250IGZhbWlsaWVzIHRoYXQgaGF2ZSBjb21tYXMgaW4gdGhlbS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBUaGUgQ1NTIGZvbnQgcHJvcGVydHkuXG4gKiBAcmV0dXJuIHtPYmplY3Q8c3RyaW5nPn0gVGhlIGZvbnQgZmFtaWxpZXMgKG9yIG51bGwgaWYgdGhlIGlucHV0IHNwZWMgaXMgaW52YWxpZCkuXG4gKi9cbmV4cG9ydCB2YXIgZ2V0Rm9udEZhbWlsaWVzID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgc3R5bGU7XG4gIHZhciBjYWNoZSA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24oZm9udCkge1xuICAgIGlmICghc3R5bGUpIHtcbiAgICAgIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jykuc3R5bGU7XG4gICAgfVxuICAgIGlmICghKGZvbnQgaW4gY2FjaGUpKSB7XG4gICAgICBzdHlsZS5mb250ID0gZm9udDtcbiAgICAgIHZhciBmYW1pbHkgPSBzdHlsZS5mb250RmFtaWx5O1xuICAgICAgc3R5bGUuZm9udCA9ICcnO1xuICAgICAgaWYgKCFmYW1pbHkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjYWNoZVtmb250XSA9IGZhbWlseS5zcGxpdCgvLFxccz8vKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlW2ZvbnRdO1xuICB9O1xufSkoKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3NzLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSByYnVzaDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSByYnVzaDtcblxudmFyIHF1aWNrc2VsZWN0ID0gcmVxdWlyZSgncXVpY2tzZWxlY3QnKTtcblxuZnVuY3Rpb24gcmJ1c2gobWF4RW50cmllcywgZm9ybWF0KSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIHJidXNoKSkgcmV0dXJuIG5ldyByYnVzaChtYXhFbnRyaWVzLCBmb3JtYXQpO1xuXG4gICAgLy8gbWF4IGVudHJpZXMgaW4gYSBub2RlIGlzIDkgYnkgZGVmYXVsdDsgbWluIG5vZGUgZmlsbCBpcyA0MCUgZm9yIGJlc3QgcGVyZm9ybWFuY2VcbiAgICB0aGlzLl9tYXhFbnRyaWVzID0gTWF0aC5tYXgoNCwgbWF4RW50cmllcyB8fCA5KTtcbiAgICB0aGlzLl9taW5FbnRyaWVzID0gTWF0aC5tYXgoMiwgTWF0aC5jZWlsKHRoaXMuX21heEVudHJpZXMgKiAwLjQpKTtcblxuICAgIGlmIChmb3JtYXQpIHtcbiAgICAgICAgdGhpcy5faW5pdEZvcm1hdChmb3JtYXQpO1xuICAgIH1cblxuICAgIHRoaXMuY2xlYXIoKTtcbn1cblxucmJ1c2gucHJvdG90eXBlID0ge1xuXG4gICAgYWxsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbGwodGhpcy5kYXRhLCBbXSk7XG4gICAgfSxcblxuICAgIHNlYXJjaDogZnVuY3Rpb24gKGJib3gpIHtcblxuICAgICAgICB2YXIgbm9kZSA9IHRoaXMuZGF0YSxcbiAgICAgICAgICAgIHJlc3VsdCA9IFtdLFxuICAgICAgICAgICAgdG9CQm94ID0gdGhpcy50b0JCb3g7XG5cbiAgICAgICAgaWYgKCFpbnRlcnNlY3RzKGJib3gsIG5vZGUpKSByZXR1cm4gcmVzdWx0O1xuXG4gICAgICAgIHZhciBub2Rlc1RvU2VhcmNoID0gW10sXG4gICAgICAgICAgICBpLCBsZW4sIGNoaWxkLCBjaGlsZEJCb3g7XG5cbiAgICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IG5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblxuICAgICAgICAgICAgICAgIGNoaWxkID0gbm9kZS5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICBjaGlsZEJCb3ggPSBub2RlLmxlYWYgPyB0b0JCb3goY2hpbGQpIDogY2hpbGQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJzZWN0cyhiYm94LCBjaGlsZEJCb3gpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmxlYWYpIHJlc3VsdC5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY29udGFpbnMoYmJveCwgY2hpbGRCQm94KSkgdGhpcy5fYWxsKGNoaWxkLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIG5vZGVzVG9TZWFyY2gucHVzaChjaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZSA9IG5vZGVzVG9TZWFyY2gucG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG5cbiAgICBjb2xsaWRlczogZnVuY3Rpb24gKGJib3gpIHtcblxuICAgICAgICB2YXIgbm9kZSA9IHRoaXMuZGF0YSxcbiAgICAgICAgICAgIHRvQkJveCA9IHRoaXMudG9CQm94O1xuXG4gICAgICAgIGlmICghaW50ZXJzZWN0cyhiYm94LCBub2RlKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHZhciBub2Rlc1RvU2VhcmNoID0gW10sXG4gICAgICAgICAgICBpLCBsZW4sIGNoaWxkLCBjaGlsZEJCb3g7XG5cbiAgICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IG5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblxuICAgICAgICAgICAgICAgIGNoaWxkID0gbm9kZS5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICBjaGlsZEJCb3ggPSBub2RlLmxlYWYgPyB0b0JCb3goY2hpbGQpIDogY2hpbGQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJzZWN0cyhiYm94LCBjaGlsZEJCb3gpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmxlYWYgfHwgY29udGFpbnMoYmJveCwgY2hpbGRCQm94KSkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVzVG9TZWFyY2gucHVzaChjaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZSA9IG5vZGVzVG9TZWFyY2gucG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIGxvYWQ6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmICghKGRhdGEgJiYgZGF0YS5sZW5ndGgpKSByZXR1cm4gdGhpcztcblxuICAgICAgICBpZiAoZGF0YS5sZW5ndGggPCB0aGlzLl9taW5FbnRyaWVzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZGF0YS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0KGRhdGFbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZWN1cnNpdmVseSBidWlsZCB0aGUgdHJlZSB3aXRoIHRoZSBnaXZlbiBkYXRhIGZyb20gc2NyYXRjaCB1c2luZyBPTVQgYWxnb3JpdGhtXG4gICAgICAgIHZhciBub2RlID0gdGhpcy5fYnVpbGQoZGF0YS5zbGljZSgpLCAwLCBkYXRhLmxlbmd0aCAtIDEsIDApO1xuXG4gICAgICAgIGlmICghdGhpcy5kYXRhLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gc2F2ZSBhcyBpcyBpZiB0cmVlIGlzIGVtcHR5XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBub2RlO1xuXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhLmhlaWdodCA9PT0gbm9kZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIC8vIHNwbGl0IHJvb3QgaWYgdHJlZXMgaGF2ZSB0aGUgc2FtZSBoZWlnaHRcbiAgICAgICAgICAgIHRoaXMuX3NwbGl0Um9vdCh0aGlzLmRhdGEsIG5vZGUpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhLmhlaWdodCA8IG5vZGUuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgLy8gc3dhcCB0cmVlcyBpZiBpbnNlcnRlZCBvbmUgaXMgYmlnZ2VyXG4gICAgICAgICAgICAgICAgdmFyIHRtcE5vZGUgPSB0aGlzLmRhdGE7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gbm9kZTtcbiAgICAgICAgICAgICAgICBub2RlID0gdG1wTm9kZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaW5zZXJ0IHRoZSBzbWFsbCB0cmVlIGludG8gdGhlIGxhcmdlIHRyZWUgYXQgYXBwcm9wcmlhdGUgbGV2ZWxcbiAgICAgICAgICAgIHRoaXMuX2luc2VydChub2RlLCB0aGlzLmRhdGEuaGVpZ2h0IC0gbm9kZS5oZWlnaHQgLSAxLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBpbnNlcnQ6IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIGlmIChpdGVtKSB0aGlzLl9pbnNlcnQoaXRlbSwgdGhpcy5kYXRhLmhlaWdodCAtIDEpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgY2xlYXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gY3JlYXRlTm9kZShbXSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICByZW1vdmU6IGZ1bmN0aW9uIChpdGVtLCBlcXVhbHNGbikge1xuICAgICAgICBpZiAoIWl0ZW0pIHJldHVybiB0aGlzO1xuXG4gICAgICAgIHZhciBub2RlID0gdGhpcy5kYXRhLFxuICAgICAgICAgICAgYmJveCA9IHRoaXMudG9CQm94KGl0ZW0pLFxuICAgICAgICAgICAgcGF0aCA9IFtdLFxuICAgICAgICAgICAgaW5kZXhlcyA9IFtdLFxuICAgICAgICAgICAgaSwgcGFyZW50LCBpbmRleCwgZ29pbmdVcDtcblxuICAgICAgICAvLyBkZXB0aC1maXJzdCBpdGVyYXRpdmUgdHJlZSB0cmF2ZXJzYWxcbiAgICAgICAgd2hpbGUgKG5vZGUgfHwgcGF0aC5sZW5ndGgpIHtcblxuICAgICAgICAgICAgaWYgKCFub2RlKSB7IC8vIGdvIHVwXG4gICAgICAgICAgICAgICAgbm9kZSA9IHBhdGgucG9wKCk7XG4gICAgICAgICAgICAgICAgcGFyZW50ID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIGkgPSBpbmRleGVzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGdvaW5nVXAgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobm9kZS5sZWFmKSB7IC8vIGNoZWNrIGN1cnJlbnQgbm9kZVxuICAgICAgICAgICAgICAgIGluZGV4ID0gZmluZEl0ZW0oaXRlbSwgbm9kZS5jaGlsZHJlbiwgZXF1YWxzRm4pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpdGVtIGZvdW5kLCByZW1vdmUgdGhlIGl0ZW0gYW5kIGNvbmRlbnNlIHRyZWUgdXB3YXJkc1xuICAgICAgICAgICAgICAgICAgICBub2RlLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHBhdGgucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29uZGVuc2UocGF0aCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFnb2luZ1VwICYmICFub2RlLmxlYWYgJiYgY29udGFpbnMobm9kZSwgYmJveCkpIHsgLy8gZ28gZG93blxuICAgICAgICAgICAgICAgIHBhdGgucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICBpbmRleGVzLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgICAgICAgcGFyZW50ID0gbm9kZTtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5jaGlsZHJlblswXTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJlbnQpIHsgLy8gZ28gcmlnaHRcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgbm9kZSA9IHBhcmVudC5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICBnb2luZ1VwID0gZmFsc2U7XG5cbiAgICAgICAgICAgIH0gZWxzZSBub2RlID0gbnVsbDsgLy8gbm90aGluZyBmb3VuZFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIHRvQkJveDogZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW07IH0sXG5cbiAgICBjb21wYXJlTWluWDogY29tcGFyZU5vZGVNaW5YLFxuICAgIGNvbXBhcmVNaW5ZOiBjb21wYXJlTm9kZU1pblksXG5cbiAgICB0b0pTT046IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZGF0YTsgfSxcblxuICAgIGZyb21KU09OOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgX2FsbDogZnVuY3Rpb24gKG5vZGUsIHJlc3VsdCkge1xuICAgICAgICB2YXIgbm9kZXNUb1NlYXJjaCA9IFtdO1xuICAgICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICAgICAgaWYgKG5vZGUubGVhZikgcmVzdWx0LnB1c2guYXBwbHkocmVzdWx0LCBub2RlLmNoaWxkcmVuKTtcbiAgICAgICAgICAgIGVsc2Ugbm9kZXNUb1NlYXJjaC5wdXNoLmFwcGx5KG5vZGVzVG9TZWFyY2gsIG5vZGUuY2hpbGRyZW4pO1xuXG4gICAgICAgICAgICBub2RlID0gbm9kZXNUb1NlYXJjaC5wb3AoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG5cbiAgICBfYnVpbGQ6IGZ1bmN0aW9uIChpdGVtcywgbGVmdCwgcmlnaHQsIGhlaWdodCkge1xuXG4gICAgICAgIHZhciBOID0gcmlnaHQgLSBsZWZ0ICsgMSxcbiAgICAgICAgICAgIE0gPSB0aGlzLl9tYXhFbnRyaWVzLFxuICAgICAgICAgICAgbm9kZTtcblxuICAgICAgICBpZiAoTiA8PSBNKSB7XG4gICAgICAgICAgICAvLyByZWFjaGVkIGxlYWYgbGV2ZWw7IHJldHVybiBsZWFmXG4gICAgICAgICAgICBub2RlID0gY3JlYXRlTm9kZShpdGVtcy5zbGljZShsZWZ0LCByaWdodCArIDEpKTtcbiAgICAgICAgICAgIGNhbGNCQm94KG5vZGUsIHRoaXMudG9CQm94KTtcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFoZWlnaHQpIHtcbiAgICAgICAgICAgIC8vIHRhcmdldCBoZWlnaHQgb2YgdGhlIGJ1bGstbG9hZGVkIHRyZWVcbiAgICAgICAgICAgIGhlaWdodCA9IE1hdGguY2VpbChNYXRoLmxvZyhOKSAvIE1hdGgubG9nKE0pKTtcblxuICAgICAgICAgICAgLy8gdGFyZ2V0IG51bWJlciBvZiByb290IGVudHJpZXMgdG8gbWF4aW1pemUgc3RvcmFnZSB1dGlsaXphdGlvblxuICAgICAgICAgICAgTSA9IE1hdGguY2VpbChOIC8gTWF0aC5wb3coTSwgaGVpZ2h0IC0gMSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbm9kZSA9IGNyZWF0ZU5vZGUoW10pO1xuICAgICAgICBub2RlLmxlYWYgPSBmYWxzZTtcbiAgICAgICAgbm9kZS5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgLy8gc3BsaXQgdGhlIGl0ZW1zIGludG8gTSBtb3N0bHkgc3F1YXJlIHRpbGVzXG5cbiAgICAgICAgdmFyIE4yID0gTWF0aC5jZWlsKE4gLyBNKSxcbiAgICAgICAgICAgIE4xID0gTjIgKiBNYXRoLmNlaWwoTWF0aC5zcXJ0KE0pKSxcbiAgICAgICAgICAgIGksIGosIHJpZ2h0MiwgcmlnaHQzO1xuXG4gICAgICAgIG11bHRpU2VsZWN0KGl0ZW1zLCBsZWZ0LCByaWdodCwgTjEsIHRoaXMuY29tcGFyZU1pblgpO1xuXG4gICAgICAgIGZvciAoaSA9IGxlZnQ7IGkgPD0gcmlnaHQ7IGkgKz0gTjEpIHtcblxuICAgICAgICAgICAgcmlnaHQyID0gTWF0aC5taW4oaSArIE4xIC0gMSwgcmlnaHQpO1xuXG4gICAgICAgICAgICBtdWx0aVNlbGVjdChpdGVtcywgaSwgcmlnaHQyLCBOMiwgdGhpcy5jb21wYXJlTWluWSk7XG5cbiAgICAgICAgICAgIGZvciAoaiA9IGk7IGogPD0gcmlnaHQyOyBqICs9IE4yKSB7XG5cbiAgICAgICAgICAgICAgICByaWdodDMgPSBNYXRoLm1pbihqICsgTjIgLSAxLCByaWdodDIpO1xuXG4gICAgICAgICAgICAgICAgLy8gcGFjayBlYWNoIGVudHJ5IHJlY3Vyc2l2ZWx5XG4gICAgICAgICAgICAgICAgbm9kZS5jaGlsZHJlbi5wdXNoKHRoaXMuX2J1aWxkKGl0ZW1zLCBqLCByaWdodDMsIGhlaWdodCAtIDEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNhbGNCQm94KG5vZGUsIHRoaXMudG9CQm94KTtcblxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9LFxuXG4gICAgX2Nob29zZVN1YnRyZWU6IGZ1bmN0aW9uIChiYm94LCBub2RlLCBsZXZlbCwgcGF0aCkge1xuXG4gICAgICAgIHZhciBpLCBsZW4sIGNoaWxkLCB0YXJnZXROb2RlLCBhcmVhLCBlbmxhcmdlbWVudCwgbWluQXJlYSwgbWluRW5sYXJnZW1lbnQ7XG5cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIHBhdGgucHVzaChub2RlKTtcblxuICAgICAgICAgICAgaWYgKG5vZGUubGVhZiB8fCBwYXRoLmxlbmd0aCAtIDEgPT09IGxldmVsKSBicmVhaztcblxuICAgICAgICAgICAgbWluQXJlYSA9IG1pbkVubGFyZ2VtZW50ID0gSW5maW5pdHk7XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IG5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjaGlsZCA9IG5vZGUuY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgICAgYXJlYSA9IGJib3hBcmVhKGNoaWxkKTtcbiAgICAgICAgICAgICAgICBlbmxhcmdlbWVudCA9IGVubGFyZ2VkQXJlYShiYm94LCBjaGlsZCkgLSBhcmVhO1xuXG4gICAgICAgICAgICAgICAgLy8gY2hvb3NlIGVudHJ5IHdpdGggdGhlIGxlYXN0IGFyZWEgZW5sYXJnZW1lbnRcbiAgICAgICAgICAgICAgICBpZiAoZW5sYXJnZW1lbnQgPCBtaW5FbmxhcmdlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBtaW5FbmxhcmdlbWVudCA9IGVubGFyZ2VtZW50O1xuICAgICAgICAgICAgICAgICAgICBtaW5BcmVhID0gYXJlYSA8IG1pbkFyZWEgPyBhcmVhIDogbWluQXJlYTtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Tm9kZSA9IGNoaWxkO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbmxhcmdlbWVudCA9PT0gbWluRW5sYXJnZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIGNob29zZSBvbmUgd2l0aCB0aGUgc21hbGxlc3QgYXJlYVxuICAgICAgICAgICAgICAgICAgICBpZiAoYXJlYSA8IG1pbkFyZWEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbkFyZWEgPSBhcmVhO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Tm9kZSA9IGNoaWxkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBub2RlID0gdGFyZ2V0Tm9kZSB8fCBub2RlLmNoaWxkcmVuWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSxcblxuICAgIF9pbnNlcnQ6IGZ1bmN0aW9uIChpdGVtLCBsZXZlbCwgaXNOb2RlKSB7XG5cbiAgICAgICAgdmFyIHRvQkJveCA9IHRoaXMudG9CQm94LFxuICAgICAgICAgICAgYmJveCA9IGlzTm9kZSA/IGl0ZW0gOiB0b0JCb3goaXRlbSksXG4gICAgICAgICAgICBpbnNlcnRQYXRoID0gW107XG5cbiAgICAgICAgLy8gZmluZCB0aGUgYmVzdCBub2RlIGZvciBhY2NvbW1vZGF0aW5nIHRoZSBpdGVtLCBzYXZpbmcgYWxsIG5vZGVzIGFsb25nIHRoZSBwYXRoIHRvb1xuICAgICAgICB2YXIgbm9kZSA9IHRoaXMuX2Nob29zZVN1YnRyZWUoYmJveCwgdGhpcy5kYXRhLCBsZXZlbCwgaW5zZXJ0UGF0aCk7XG5cbiAgICAgICAgLy8gcHV0IHRoZSBpdGVtIGludG8gdGhlIG5vZGVcbiAgICAgICAgbm9kZS5jaGlsZHJlbi5wdXNoKGl0ZW0pO1xuICAgICAgICBleHRlbmQobm9kZSwgYmJveCk7XG5cbiAgICAgICAgLy8gc3BsaXQgb24gbm9kZSBvdmVyZmxvdzsgcHJvcGFnYXRlIHVwd2FyZHMgaWYgbmVjZXNzYXJ5XG4gICAgICAgIHdoaWxlIChsZXZlbCA+PSAwKSB7XG4gICAgICAgICAgICBpZiAoaW5zZXJ0UGF0aFtsZXZlbF0uY2hpbGRyZW4ubGVuZ3RoID4gdGhpcy5fbWF4RW50cmllcykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NwbGl0KGluc2VydFBhdGgsIGxldmVsKTtcbiAgICAgICAgICAgICAgICBsZXZlbC0tO1xuICAgICAgICAgICAgfSBlbHNlIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRqdXN0IGJib3hlcyBhbG9uZyB0aGUgaW5zZXJ0aW9uIHBhdGhcbiAgICAgICAgdGhpcy5fYWRqdXN0UGFyZW50QkJveGVzKGJib3gsIGluc2VydFBhdGgsIGxldmVsKTtcbiAgICB9LFxuXG4gICAgLy8gc3BsaXQgb3ZlcmZsb3dlZCBub2RlIGludG8gdHdvXG4gICAgX3NwbGl0OiBmdW5jdGlvbiAoaW5zZXJ0UGF0aCwgbGV2ZWwpIHtcblxuICAgICAgICB2YXIgbm9kZSA9IGluc2VydFBhdGhbbGV2ZWxdLFxuICAgICAgICAgICAgTSA9IG5vZGUuY2hpbGRyZW4ubGVuZ3RoLFxuICAgICAgICAgICAgbSA9IHRoaXMuX21pbkVudHJpZXM7XG5cbiAgICAgICAgdGhpcy5fY2hvb3NlU3BsaXRBeGlzKG5vZGUsIG0sIE0pO1xuXG4gICAgICAgIHZhciBzcGxpdEluZGV4ID0gdGhpcy5fY2hvb3NlU3BsaXRJbmRleChub2RlLCBtLCBNKTtcblxuICAgICAgICB2YXIgbmV3Tm9kZSA9IGNyZWF0ZU5vZGUobm9kZS5jaGlsZHJlbi5zcGxpY2Uoc3BsaXRJbmRleCwgbm9kZS5jaGlsZHJlbi5sZW5ndGggLSBzcGxpdEluZGV4KSk7XG4gICAgICAgIG5ld05vZGUuaGVpZ2h0ID0gbm9kZS5oZWlnaHQ7XG4gICAgICAgIG5ld05vZGUubGVhZiA9IG5vZGUubGVhZjtcblxuICAgICAgICBjYWxjQkJveChub2RlLCB0aGlzLnRvQkJveCk7XG4gICAgICAgIGNhbGNCQm94KG5ld05vZGUsIHRoaXMudG9CQm94KTtcblxuICAgICAgICBpZiAobGV2ZWwpIGluc2VydFBhdGhbbGV2ZWwgLSAxXS5jaGlsZHJlbi5wdXNoKG5ld05vZGUpO1xuICAgICAgICBlbHNlIHRoaXMuX3NwbGl0Um9vdChub2RlLCBuZXdOb2RlKTtcbiAgICB9LFxuXG4gICAgX3NwbGl0Um9vdDogZnVuY3Rpb24gKG5vZGUsIG5ld05vZGUpIHtcbiAgICAgICAgLy8gc3BsaXQgcm9vdCBub2RlXG4gICAgICAgIHRoaXMuZGF0YSA9IGNyZWF0ZU5vZGUoW25vZGUsIG5ld05vZGVdKTtcbiAgICAgICAgdGhpcy5kYXRhLmhlaWdodCA9IG5vZGUuaGVpZ2h0ICsgMTtcbiAgICAgICAgdGhpcy5kYXRhLmxlYWYgPSBmYWxzZTtcbiAgICAgICAgY2FsY0JCb3godGhpcy5kYXRhLCB0aGlzLnRvQkJveCk7XG4gICAgfSxcblxuICAgIF9jaG9vc2VTcGxpdEluZGV4OiBmdW5jdGlvbiAobm9kZSwgbSwgTSkge1xuXG4gICAgICAgIHZhciBpLCBiYm94MSwgYmJveDIsIG92ZXJsYXAsIGFyZWEsIG1pbk92ZXJsYXAsIG1pbkFyZWEsIGluZGV4O1xuXG4gICAgICAgIG1pbk92ZXJsYXAgPSBtaW5BcmVhID0gSW5maW5pdHk7XG5cbiAgICAgICAgZm9yIChpID0gbTsgaSA8PSBNIC0gbTsgaSsrKSB7XG4gICAgICAgICAgICBiYm94MSA9IGRpc3RCQm94KG5vZGUsIDAsIGksIHRoaXMudG9CQm94KTtcbiAgICAgICAgICAgIGJib3gyID0gZGlzdEJCb3gobm9kZSwgaSwgTSwgdGhpcy50b0JCb3gpO1xuXG4gICAgICAgICAgICBvdmVybGFwID0gaW50ZXJzZWN0aW9uQXJlYShiYm94MSwgYmJveDIpO1xuICAgICAgICAgICAgYXJlYSA9IGJib3hBcmVhKGJib3gxKSArIGJib3hBcmVhKGJib3gyKTtcblxuICAgICAgICAgICAgLy8gY2hvb3NlIGRpc3RyaWJ1dGlvbiB3aXRoIG1pbmltdW0gb3ZlcmxhcFxuICAgICAgICAgICAgaWYgKG92ZXJsYXAgPCBtaW5PdmVybGFwKSB7XG4gICAgICAgICAgICAgICAgbWluT3ZlcmxhcCA9IG92ZXJsYXA7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBpO1xuXG4gICAgICAgICAgICAgICAgbWluQXJlYSA9IGFyZWEgPCBtaW5BcmVhID8gYXJlYSA6IG1pbkFyZWE7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3ZlcmxhcCA9PT0gbWluT3ZlcmxhcCkge1xuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSBjaG9vc2UgZGlzdHJpYnV0aW9uIHdpdGggbWluaW11bSBhcmVhXG4gICAgICAgICAgICAgICAgaWYgKGFyZWEgPCBtaW5BcmVhKSB7XG4gICAgICAgICAgICAgICAgICAgIG1pbkFyZWEgPSBhcmVhO1xuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH0sXG5cbiAgICAvLyBzb3J0cyBub2RlIGNoaWxkcmVuIGJ5IHRoZSBiZXN0IGF4aXMgZm9yIHNwbGl0XG4gICAgX2Nob29zZVNwbGl0QXhpczogZnVuY3Rpb24gKG5vZGUsIG0sIE0pIHtcblxuICAgICAgICB2YXIgY29tcGFyZU1pblggPSBub2RlLmxlYWYgPyB0aGlzLmNvbXBhcmVNaW5YIDogY29tcGFyZU5vZGVNaW5YLFxuICAgICAgICAgICAgY29tcGFyZU1pblkgPSBub2RlLmxlYWYgPyB0aGlzLmNvbXBhcmVNaW5ZIDogY29tcGFyZU5vZGVNaW5ZLFxuICAgICAgICAgICAgeE1hcmdpbiA9IHRoaXMuX2FsbERpc3RNYXJnaW4obm9kZSwgbSwgTSwgY29tcGFyZU1pblgpLFxuICAgICAgICAgICAgeU1hcmdpbiA9IHRoaXMuX2FsbERpc3RNYXJnaW4obm9kZSwgbSwgTSwgY29tcGFyZU1pblkpO1xuXG4gICAgICAgIC8vIGlmIHRvdGFsIGRpc3RyaWJ1dGlvbnMgbWFyZ2luIHZhbHVlIGlzIG1pbmltYWwgZm9yIHgsIHNvcnQgYnkgbWluWCxcbiAgICAgICAgLy8gb3RoZXJ3aXNlIGl0J3MgYWxyZWFkeSBzb3J0ZWQgYnkgbWluWVxuICAgICAgICBpZiAoeE1hcmdpbiA8IHlNYXJnaW4pIG5vZGUuY2hpbGRyZW4uc29ydChjb21wYXJlTWluWCk7XG4gICAgfSxcblxuICAgIC8vIHRvdGFsIG1hcmdpbiBvZiBhbGwgcG9zc2libGUgc3BsaXQgZGlzdHJpYnV0aW9ucyB3aGVyZSBlYWNoIG5vZGUgaXMgYXQgbGVhc3QgbSBmdWxsXG4gICAgX2FsbERpc3RNYXJnaW46IGZ1bmN0aW9uIChub2RlLCBtLCBNLCBjb21wYXJlKSB7XG5cbiAgICAgICAgbm9kZS5jaGlsZHJlbi5zb3J0KGNvbXBhcmUpO1xuXG4gICAgICAgIHZhciB0b0JCb3ggPSB0aGlzLnRvQkJveCxcbiAgICAgICAgICAgIGxlZnRCQm94ID0gZGlzdEJCb3gobm9kZSwgMCwgbSwgdG9CQm94KSxcbiAgICAgICAgICAgIHJpZ2h0QkJveCA9IGRpc3RCQm94KG5vZGUsIE0gLSBtLCBNLCB0b0JCb3gpLFxuICAgICAgICAgICAgbWFyZ2luID0gYmJveE1hcmdpbihsZWZ0QkJveCkgKyBiYm94TWFyZ2luKHJpZ2h0QkJveCksXG4gICAgICAgICAgICBpLCBjaGlsZDtcblxuICAgICAgICBmb3IgKGkgPSBtOyBpIDwgTSAtIG07IGkrKykge1xuICAgICAgICAgICAgY2hpbGQgPSBub2RlLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgZXh0ZW5kKGxlZnRCQm94LCBub2RlLmxlYWYgPyB0b0JCb3goY2hpbGQpIDogY2hpbGQpO1xuICAgICAgICAgICAgbWFyZ2luICs9IGJib3hNYXJnaW4obGVmdEJCb3gpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChpID0gTSAtIG0gLSAxOyBpID49IG07IGktLSkge1xuICAgICAgICAgICAgY2hpbGQgPSBub2RlLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgZXh0ZW5kKHJpZ2h0QkJveCwgbm9kZS5sZWFmID8gdG9CQm94KGNoaWxkKSA6IGNoaWxkKTtcbiAgICAgICAgICAgIG1hcmdpbiArPSBiYm94TWFyZ2luKHJpZ2h0QkJveCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWFyZ2luO1xuICAgIH0sXG5cbiAgICBfYWRqdXN0UGFyZW50QkJveGVzOiBmdW5jdGlvbiAoYmJveCwgcGF0aCwgbGV2ZWwpIHtcbiAgICAgICAgLy8gYWRqdXN0IGJib3hlcyBhbG9uZyB0aGUgZ2l2ZW4gdHJlZSBwYXRoXG4gICAgICAgIGZvciAodmFyIGkgPSBsZXZlbDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGV4dGVuZChwYXRoW2ldLCBiYm94KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfY29uZGVuc2U6IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgIC8vIGdvIHRocm91Z2ggdGhlIHBhdGgsIHJlbW92aW5nIGVtcHR5IG5vZGVzIGFuZCB1cGRhdGluZyBiYm94ZXNcbiAgICAgICAgZm9yICh2YXIgaSA9IHBhdGgubGVuZ3RoIC0gMSwgc2libGluZ3M7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBpZiAocGF0aFtpXS5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2libGluZ3MgPSBwYXRoW2kgLSAxXS5jaGlsZHJlbjtcbiAgICAgICAgICAgICAgICAgICAgc2libGluZ3Muc3BsaWNlKHNpYmxpbmdzLmluZGV4T2YocGF0aFtpXSksIDEpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHRoaXMuY2xlYXIoKTtcblxuICAgICAgICAgICAgfSBlbHNlIGNhbGNCQm94KHBhdGhbaV0sIHRoaXMudG9CQm94KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfaW5pdEZvcm1hdDogZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICAvLyBkYXRhIGZvcm1hdCAobWluWCwgbWluWSwgbWF4WCwgbWF4WSBhY2Nlc3NvcnMpXG5cbiAgICAgICAgLy8gdXNlcyBldmFsLXR5cGUgZnVuY3Rpb24gY29tcGlsYXRpb24gaW5zdGVhZCBvZiBqdXN0IGFjY2VwdGluZyBhIHRvQkJveCBmdW5jdGlvblxuICAgICAgICAvLyBiZWNhdXNlIHRoZSBhbGdvcml0aG1zIGFyZSB2ZXJ5IHNlbnNpdGl2ZSB0byBzb3J0aW5nIGZ1bmN0aW9ucyBwZXJmb3JtYW5jZSxcbiAgICAgICAgLy8gc28gdGhleSBzaG91bGQgYmUgZGVhZCBzaW1wbGUgYW5kIHdpdGhvdXQgaW5uZXIgY2FsbHNcblxuICAgICAgICB2YXIgY29tcGFyZUFyciA9IFsncmV0dXJuIGEnLCAnIC0gYicsICc7J107XG5cbiAgICAgICAgdGhpcy5jb21wYXJlTWluWCA9IG5ldyBGdW5jdGlvbignYScsICdiJywgY29tcGFyZUFyci5qb2luKGZvcm1hdFswXSkpO1xuICAgICAgICB0aGlzLmNvbXBhcmVNaW5ZID0gbmV3IEZ1bmN0aW9uKCdhJywgJ2InLCBjb21wYXJlQXJyLmpvaW4oZm9ybWF0WzFdKSk7XG5cbiAgICAgICAgdGhpcy50b0JCb3ggPSBuZXcgRnVuY3Rpb24oJ2EnLFxuICAgICAgICAgICAgJ3JldHVybiB7bWluWDogYScgKyBmb3JtYXRbMF0gK1xuICAgICAgICAgICAgJywgbWluWTogYScgKyBmb3JtYXRbMV0gK1xuICAgICAgICAgICAgJywgbWF4WDogYScgKyBmb3JtYXRbMl0gK1xuICAgICAgICAgICAgJywgbWF4WTogYScgKyBmb3JtYXRbM10gKyAnfTsnKTtcbiAgICB9XG59O1xuXG5mdW5jdGlvbiBmaW5kSXRlbShpdGVtLCBpdGVtcywgZXF1YWxzRm4pIHtcbiAgICBpZiAoIWVxdWFsc0ZuKSByZXR1cm4gaXRlbXMuaW5kZXhPZihpdGVtKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGVxdWFsc0ZuKGl0ZW0sIGl0ZW1zW2ldKSkgcmV0dXJuIGk7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cblxuLy8gY2FsY3VsYXRlIG5vZGUncyBiYm94IGZyb20gYmJveGVzIG9mIGl0cyBjaGlsZHJlblxuZnVuY3Rpb24gY2FsY0JCb3gobm9kZSwgdG9CQm94KSB7XG4gICAgZGlzdEJCb3gobm9kZSwgMCwgbm9kZS5jaGlsZHJlbi5sZW5ndGgsIHRvQkJveCwgbm9kZSk7XG59XG5cbi8vIG1pbiBib3VuZGluZyByZWN0YW5nbGUgb2Ygbm9kZSBjaGlsZHJlbiBmcm9tIGsgdG8gcC0xXG5mdW5jdGlvbiBkaXN0QkJveChub2RlLCBrLCBwLCB0b0JCb3gsIGRlc3ROb2RlKSB7XG4gICAgaWYgKCFkZXN0Tm9kZSkgZGVzdE5vZGUgPSBjcmVhdGVOb2RlKG51bGwpO1xuICAgIGRlc3ROb2RlLm1pblggPSBJbmZpbml0eTtcbiAgICBkZXN0Tm9kZS5taW5ZID0gSW5maW5pdHk7XG4gICAgZGVzdE5vZGUubWF4WCA9IC1JbmZpbml0eTtcbiAgICBkZXN0Tm9kZS5tYXhZID0gLUluZmluaXR5O1xuXG4gICAgZm9yICh2YXIgaSA9IGssIGNoaWxkOyBpIDwgcDsgaSsrKSB7XG4gICAgICAgIGNoaWxkID0gbm9kZS5jaGlsZHJlbltpXTtcbiAgICAgICAgZXh0ZW5kKGRlc3ROb2RlLCBub2RlLmxlYWYgPyB0b0JCb3goY2hpbGQpIDogY2hpbGQpO1xuICAgIH1cblxuICAgIHJldHVybiBkZXN0Tm9kZTtcbn1cblxuZnVuY3Rpb24gZXh0ZW5kKGEsIGIpIHtcbiAgICBhLm1pblggPSBNYXRoLm1pbihhLm1pblgsIGIubWluWCk7XG4gICAgYS5taW5ZID0gTWF0aC5taW4oYS5taW5ZLCBiLm1pblkpO1xuICAgIGEubWF4WCA9IE1hdGgubWF4KGEubWF4WCwgYi5tYXhYKTtcbiAgICBhLm1heFkgPSBNYXRoLm1heChhLm1heFksIGIubWF4WSk7XG4gICAgcmV0dXJuIGE7XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmVOb2RlTWluWChhLCBiKSB7IHJldHVybiBhLm1pblggLSBiLm1pblg7IH1cbmZ1bmN0aW9uIGNvbXBhcmVOb2RlTWluWShhLCBiKSB7IHJldHVybiBhLm1pblkgLSBiLm1pblk7IH1cblxuZnVuY3Rpb24gYmJveEFyZWEoYSkgICB7IHJldHVybiAoYS5tYXhYIC0gYS5taW5YKSAqIChhLm1heFkgLSBhLm1pblkpOyB9XG5mdW5jdGlvbiBiYm94TWFyZ2luKGEpIHsgcmV0dXJuIChhLm1heFggLSBhLm1pblgpICsgKGEubWF4WSAtIGEubWluWSk7IH1cblxuZnVuY3Rpb24gZW5sYXJnZWRBcmVhKGEsIGIpIHtcbiAgICByZXR1cm4gKE1hdGgubWF4KGIubWF4WCwgYS5tYXhYKSAtIE1hdGgubWluKGIubWluWCwgYS5taW5YKSkgKlxuICAgICAgICAgICAoTWF0aC5tYXgoYi5tYXhZLCBhLm1heFkpIC0gTWF0aC5taW4oYi5taW5ZLCBhLm1pblkpKTtcbn1cblxuZnVuY3Rpb24gaW50ZXJzZWN0aW9uQXJlYShhLCBiKSB7XG4gICAgdmFyIG1pblggPSBNYXRoLm1heChhLm1pblgsIGIubWluWCksXG4gICAgICAgIG1pblkgPSBNYXRoLm1heChhLm1pblksIGIubWluWSksXG4gICAgICAgIG1heFggPSBNYXRoLm1pbihhLm1heFgsIGIubWF4WCksXG4gICAgICAgIG1heFkgPSBNYXRoLm1pbihhLm1heFksIGIubWF4WSk7XG5cbiAgICByZXR1cm4gTWF0aC5tYXgoMCwgbWF4WCAtIG1pblgpICpcbiAgICAgICAgICAgTWF0aC5tYXgoMCwgbWF4WSAtIG1pblkpO1xufVxuXG5mdW5jdGlvbiBjb250YWlucyhhLCBiKSB7XG4gICAgcmV0dXJuIGEubWluWCA8PSBiLm1pblggJiZcbiAgICAgICAgICAgYS5taW5ZIDw9IGIubWluWSAmJlxuICAgICAgICAgICBiLm1heFggPD0gYS5tYXhYICYmXG4gICAgICAgICAgIGIubWF4WSA8PSBhLm1heFk7XG59XG5cbmZ1bmN0aW9uIGludGVyc2VjdHMoYSwgYikge1xuICAgIHJldHVybiBiLm1pblggPD0gYS5tYXhYICYmXG4gICAgICAgICAgIGIubWluWSA8PSBhLm1heFkgJiZcbiAgICAgICAgICAgYi5tYXhYID49IGEubWluWCAmJlxuICAgICAgICAgICBiLm1heFkgPj0gYS5taW5ZO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVOb2RlKGNoaWxkcmVuKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2hpbGRyZW46IGNoaWxkcmVuLFxuICAgICAgICBoZWlnaHQ6IDEsXG4gICAgICAgIGxlYWY6IHRydWUsXG4gICAgICAgIG1pblg6IEluZmluaXR5LFxuICAgICAgICBtaW5ZOiBJbmZpbml0eSxcbiAgICAgICAgbWF4WDogLUluZmluaXR5LFxuICAgICAgICBtYXhZOiAtSW5maW5pdHlcbiAgICB9O1xufVxuXG4vLyBzb3J0IGFuIGFycmF5IHNvIHRoYXQgaXRlbXMgY29tZSBpbiBncm91cHMgb2YgbiB1bnNvcnRlZCBpdGVtcywgd2l0aCBncm91cHMgc29ydGVkIGJldHdlZW4gZWFjaCBvdGhlcjtcbi8vIGNvbWJpbmVzIHNlbGVjdGlvbiBhbGdvcml0aG0gd2l0aCBiaW5hcnkgZGl2aWRlICYgY29ucXVlciBhcHByb2FjaFxuXG5mdW5jdGlvbiBtdWx0aVNlbGVjdChhcnIsIGxlZnQsIHJpZ2h0LCBuLCBjb21wYXJlKSB7XG4gICAgdmFyIHN0YWNrID0gW2xlZnQsIHJpZ2h0XSxcbiAgICAgICAgbWlkO1xuXG4gICAgd2hpbGUgKHN0YWNrLmxlbmd0aCkge1xuICAgICAgICByaWdodCA9IHN0YWNrLnBvcCgpO1xuICAgICAgICBsZWZ0ID0gc3RhY2sucG9wKCk7XG5cbiAgICAgICAgaWYgKHJpZ2h0IC0gbGVmdCA8PSBuKSBjb250aW51ZTtcblxuICAgICAgICBtaWQgPSBsZWZ0ICsgTWF0aC5jZWlsKChyaWdodCAtIGxlZnQpIC8gbiAvIDIpICogbjtcbiAgICAgICAgcXVpY2tzZWxlY3QoYXJyLCBtaWQsIGxlZnQsIHJpZ2h0LCBjb21wYXJlKTtcblxuICAgICAgICBzdGFjay5wdXNoKGxlZnQsIG1pZCwgbWlkLCByaWdodCk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlcHJvai9jb21tb25cbiAqL1xuXG4vKipcbiAqIERlZmF1bHQgbWF4aW11bSBhbGxvd2VkIHRocmVzaG9sZCAgKGluIHBpeGVscykgZm9yIHJlcHJvamVjdGlvblxuICogdHJpYW5ndWxhdGlvbi5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCB2YXIgRVJST1JfVEhSRVNIT0xEID0gMC41O1xuXG4vKipcbiAqIEVuYWJsZSBhdXRvbWF0aWMgcmVwcm9qZWN0aW9uIG9mIHJhc3RlciBzb3VyY2VzLiBEZWZhdWx0IGlzIGB0cnVlYC5cbiAqIFRPRE86IGRlY2lkZSBpZiB3ZSB3YW50IHRvIGV4cG9zZSB0aGlzIGFzIGEgYnVpbGQgZmxhZyBvciByZW1vdmUgaXRcbiAqIEB0eXBlIHtib29sZWFufVxuICovXG5leHBvcnQgdmFyIEVOQUJMRV9SQVNURVJfUkVQUk9KRUNUSU9OID0gdHJ1ZTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tbW9uLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC90aWxlZ3JpZC9jb21tb25cbiAqL1xuXG4vKipcbiAqIERlZmF1bHQgbWF4aW11bSB6b29tIGZvciBkZWZhdWx0IHRpbGUgZ3JpZHMuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgdmFyIERFRkFVTFRfTUFYX1pPT00gPSA0MjtcblxuLyoqXG4gKiBEZWZhdWx0IHRpbGUgc2l6ZS5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCB2YXIgREVGQVVMVF9USUxFX1NJWkUgPSAyNTY7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbW1vbi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvY29sb3JsaWtlXG4gKi9cbmltcG9ydCB7dG9TdHJpbmd9IGZyb20gJy4vY29sb3IuanMnO1xuXG5cbi8qKlxuICogQSB0eXBlIGFjY2VwdGVkIGJ5IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5maWxsU3R5bGVcbiAqIG9yIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5zdHJva2VTdHlsZS5cbiAqIFJlcHJlc2VudHMgYSBjb2xvciwgcGF0dGVybiwgb3IgZ3JhZGllbnQuIFRoZSBvcmlnaW4gZm9yIHBhdHRlcm5zIGFuZFxuICogZ3JhZGllbnRzIGFzIGZpbGwgc3R5bGUgaXMgYW4gaW5jcmVtZW50IG9mIDUxMiBjc3MgcGl4ZWxzIGZyb20gbWFwIGNvb3JkaW5hdGVcbiAqIGBbMCwgMF1gLiBGb3Igc2VhbWxlc3MgcmVwZWF0IHBhdHRlcm5zLCB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSBwYXR0ZXJuIGltYWdlXG4gKiBtdXN0IGJlIGEgZmFjdG9yIG9mIHR3byAoMiwgNCwgOCwgLi4uLCA1MTIpLlxuICpcbiAqIEB0eXBlZGVmIHtzdHJpbmd8Q2FudmFzUGF0dGVybnxDYW52YXNHcmFkaWVudH0gQ29sb3JMaWtlXG4gKiBAYXBpXG4gKi9cblxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb2xvci5qc1wiKS5Db2xvcnxDb2xvckxpa2V9IGNvbG9yIENvbG9yLlxuICogQHJldHVybiB7Q29sb3JMaWtlfSBUaGUgY29sb3IgYXMgYW4ge0BsaW5rIG9sL2NvbG9ybGlrZX5Db2xvckxpa2V9LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNDb2xvckxpa2UoY29sb3IpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoY29sb3IpKSB7XG4gICAgcmV0dXJuIHRvU3RyaW5nKGNvbG9yKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY29sb3I7XG4gIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29sb3JsaWtlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9mb3JtYXQvRm9ybWF0VHlwZVxuICovXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBBUlJBWV9CVUZGRVI6ICdhcnJheWJ1ZmZlcicsXG4gIEpTT046ICdqc29uJyxcbiAgVEVYVDogJ3RleHQnLFxuICBYTUw6ICd4bWwnXG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Gb3JtYXRUeXBlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9mZWF0dXJlbG9hZGVyXG4gKi9cbmltcG9ydCB7Vk9JRH0gZnJvbSAnLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IEZvcm1hdFR5cGUgZnJvbSAnLi9mb3JtYXQvRm9ybWF0VHlwZS5qcyc7XG5cbi8qKlxuICoge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yfSBzb3VyY2VzIHVzZSBhIGZ1bmN0aW9uIG9mIHRoaXMgdHlwZSB0b1xuICogbG9hZCBmZWF0dXJlcy5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvZXh0ZW50fkV4dGVudH0gcmVwcmVzZW50aW5nIHRoZSBhcmVhIHRvIGJlIGxvYWRlZCxcbiAqIGEgYHtudW1iZXJ9YCByZXByZXNlbnRpbmcgdGhlIHJlc29sdXRpb24gKG1hcCB1bml0cyBwZXIgcGl4ZWwpIGFuZCBhblxuICoge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb259IGZvciB0aGUgcHJvamVjdGlvbiAgYXNcbiAqIGFyZ3VtZW50cy4gYHRoaXNgIHdpdGhpbiB0aGUgZnVuY3Rpb24gaXMgYm91bmQgdG8gdGhlXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J9IGl0J3MgY2FsbGVkIGZyb20uXG4gKlxuICogVGhlIGZ1bmN0aW9uIGlzIHJlc3BvbnNpYmxlIGZvciBsb2FkaW5nIHRoZSBmZWF0dXJlcyBhbmQgYWRkaW5nIHRoZW0gdG8gdGhlXG4gKiBzb3VyY2UuXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24odGhpczooaW1wb3J0KFwiLi9zb3VyY2UvVmVjdG9yXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHQpLCBpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnQsIG51bWJlcixcbiAqICAgICAgICAgICAgICAgICAgICBpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0KX0gRmVhdHVyZUxvYWRlclxuICogQGFwaVxuICovXG5cblxuLyoqXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J9IHNvdXJjZXMgdXNlIGEgZnVuY3Rpb24gb2YgdGhpcyB0eXBlIHRvXG4gKiBnZXQgdGhlIHVybCB0byBsb2FkIGZlYXR1cmVzIGZyb20uXG4gKlxuICogVGhpcyBmdW5jdGlvbiB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL2V4dGVudH5FeHRlbnR9IHJlcHJlc2VudGluZyB0aGUgYXJlYVxuICogdG8gYmUgbG9hZGVkLCBhIGB7bnVtYmVyfWAgcmVwcmVzZW50aW5nIHRoZSByZXNvbHV0aW9uIChtYXAgdW5pdHMgcGVyIHBpeGVsKVxuICogYW5kIGFuIHtAbGluayBtb2R1bGU6b2wvcHJvai9Qcm9qZWN0aW9ufSBmb3IgdGhlIHByb2plY3Rpb24gIGFzXG4gKiBhcmd1bWVudHMgYW5kIHJldHVybnMgYSBge3N0cmluZ31gIHJlcHJlc2VudGluZyB0aGUgVVJMLlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudCwgbnVtYmVyLCBpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0KTogc3RyaW5nfSBGZWF0dXJlVXJsRnVuY3Rpb25cbiAqIEBhcGlcbiAqL1xuXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd8RmVhdHVyZVVybEZ1bmN0aW9ufSB1cmwgRmVhdHVyZSBVUkwgc2VydmljZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9mb3JtYXQvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmb3JtYXQgRmVhdHVyZSBmb3JtYXQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6aW1wb3J0KFwiLi9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHQsIEFycmF5PGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PiwgaW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdCwgaW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50KXxmdW5jdGlvbih0aGlzOmltcG9ydChcIi4vc291cmNlL1ZlY3RvclwiKS5kZWZhdWx0LCBBcnJheTxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdD4pfSBzdWNjZXNzXG4gKiAgICAgRnVuY3Rpb24gY2FsbGVkIHdpdGggdGhlIGxvYWRlZCBmZWF0dXJlcyBhbmQgb3B0aW9uYWxseSB3aXRoIHRoZSBkYXRhXG4gKiAgICAgcHJvamVjdGlvbi4gQ2FsbGVkIHdpdGggdGhlIHZlY3RvciB0aWxlIG9yIHNvdXJjZSBhcyBgdGhpc2AuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6aW1wb3J0KFwiLi9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHQpfGZ1bmN0aW9uKHRoaXM6aW1wb3J0KFwiLi9zb3VyY2UvVmVjdG9yXCIpLmRlZmF1bHQpfSBmYWlsdXJlXG4gKiAgICAgRnVuY3Rpb24gY2FsbGVkIHdoZW4gbG9hZGluZyBmYWlsZWQuIENhbGxlZCB3aXRoIHRoZSB2ZWN0b3IgdGlsZSBvclxuICogICAgIHNvdXJjZSBhcyBgdGhpc2AuXG4gKiBAcmV0dXJuIHtGZWF0dXJlTG9hZGVyfSBUaGUgZmVhdHVyZSBsb2FkZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2FkRmVhdHVyZXNYaHIodXJsLCBmb3JtYXQsIHN1Y2Nlc3MsIGZhaWx1cmUpIHtcbiAgcmV0dXJuIChcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqIEB0aGlzIHtpbXBvcnQoXCIuL3NvdXJjZS9WZWN0b3JcIikuZGVmYXVsdHxpbXBvcnQoXCIuL1ZlY3RvclRpbGUuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbihleHRlbnQsIHJlc29sdXRpb24sIHByb2plY3Rpb24pIHtcbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgIHhoci5vcGVuKCdHRVQnLFxuICAgICAgICB0eXBlb2YgdXJsID09PSAnZnVuY3Rpb24nID8gdXJsKGV4dGVudCwgcmVzb2x1dGlvbiwgcHJvamVjdGlvbikgOiB1cmwsXG4gICAgICAgIHRydWUpO1xuICAgICAgaWYgKGZvcm1hdC5nZXRUeXBlKCkgPT0gRm9ybWF0VHlwZS5BUlJBWV9CVUZGRVIpIHtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IEV2ZW50LlxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIC8vIHN0YXR1cyB3aWxsIGJlIDAgZm9yIGZpbGU6Ly8gdXJsc1xuICAgICAgICBpZiAoIXhoci5zdGF0dXMgfHwgeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDMwMCkge1xuICAgICAgICAgIHZhciB0eXBlID0gZm9ybWF0LmdldFR5cGUoKTtcbiAgICAgICAgICAvKiogQHR5cGUge0RvY3VtZW50fE5vZGV8T2JqZWN0fHN0cmluZ3x1bmRlZmluZWR9ICovXG4gICAgICAgICAgdmFyIHNvdXJjZTtcbiAgICAgICAgICBpZiAodHlwZSA9PSBGb3JtYXRUeXBlLkpTT04gfHwgdHlwZSA9PSBGb3JtYXRUeXBlLlRFWFQpIHtcbiAgICAgICAgICAgIHNvdXJjZSA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09IEZvcm1hdFR5cGUuWE1MKSB7XG4gICAgICAgICAgICBzb3VyY2UgPSB4aHIucmVzcG9uc2VYTUw7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICAgICAgICBzb3VyY2UgPSBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHhoci5yZXNwb25zZVRleHQsICdhcHBsaWNhdGlvbi94bWwnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gRm9ybWF0VHlwZS5BUlJBWV9CVUZGRVIpIHtcbiAgICAgICAgICAgIHNvdXJjZSA9IC8qKiBAdHlwZSB7QXJyYXlCdWZmZXJ9ICovICh4aHIucmVzcG9uc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICBzdWNjZXNzLmNhbGwodGhpcywgZm9ybWF0LnJlYWRGZWF0dXJlcyhzb3VyY2UsXG4gICAgICAgICAgICAgIHtmZWF0dXJlUHJvamVjdGlvbjogcHJvamVjdGlvbn0pLFxuICAgICAgICAgICAgZm9ybWF0LnJlYWRQcm9qZWN0aW9uKHNvdXJjZSksIGZvcm1hdC5nZXRMYXN0RXh0ZW50KCkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmYWlsdXJlLmNhbGwodGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZhaWx1cmUuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfS5iaW5kKHRoaXMpO1xuICAgICAgLyoqXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBmYWlsdXJlLmNhbGwodGhpcyk7XG4gICAgICB9LmJpbmQodGhpcyk7XG4gICAgICB4aHIuc2VuZCgpO1xuICAgIH1cbiAgKTtcbn1cblxuXG4vKipcbiAqIENyZWF0ZSBhbiBYSFIgZmVhdHVyZSBsb2FkZXIgZm9yIGEgYHVybGAgYW5kIGBmb3JtYXRgLiBUaGUgZmVhdHVyZSBsb2FkZXJcbiAqIGxvYWRzIGZlYXR1cmVzICh3aXRoIFhIUiksIHBhcnNlcyB0aGUgZmVhdHVyZXMsIGFuZCBhZGRzIHRoZW0gdG8gdGhlXG4gKiB2ZWN0b3Igc291cmNlLlxuICogQHBhcmFtIHtzdHJpbmd8RmVhdHVyZVVybEZ1bmN0aW9ufSB1cmwgRmVhdHVyZSBVUkwgc2VydmljZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9mb3JtYXQvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmb3JtYXQgRmVhdHVyZSBmb3JtYXQuXG4gKiBAcmV0dXJuIHtGZWF0dXJlTG9hZGVyfSBUaGUgZmVhdHVyZSBsb2FkZXIuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB4aHIodXJsLCBmb3JtYXQpIHtcbiAgcmV0dXJuIGxvYWRGZWF0dXJlc1hocih1cmwsIGZvcm1hdCxcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn0gZmVhdHVyZXMgVGhlIGxvYWRlZCBmZWF0dXJlcy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IGRhdGFQcm9qZWN0aW9uIERhdGFcbiAgICAgKiBwcm9qZWN0aW9uLlxuICAgICAqIEB0aGlzIHtpbXBvcnQoXCIuL3NvdXJjZS9WZWN0b3JcIikuZGVmYXVsdHxpbXBvcnQoXCIuL1ZlY3RvclRpbGUuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbihmZWF0dXJlcywgZGF0YVByb2plY3Rpb24pIHtcbiAgICAgIHZhciBzb3VyY2VPclRpbGUgPSAvKiogQHR5cGUgez99ICovICh0aGlzKTtcbiAgICAgIGlmICh0eXBlb2Ygc291cmNlT3JUaWxlLmFkZEZlYXR1cmVzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9zb3VyY2UvVmVjdG9yXCIpLmRlZmF1bHR9ICovIChzb3VyY2VPclRpbGUpLmFkZEZlYXR1cmVzKGZlYXR1cmVzKTtcbiAgICAgIH1cbiAgICB9LCAvKiBGSVhNRSBoYW5kbGUgZXJyb3IgKi8gVk9JRCk7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZlYXR1cmVsb2FkZXIuanMubWFwIiwiKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcblx0dHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuXHR0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuXHQoZ2xvYmFsLnF1aWNrc2VsZWN0ID0gZmFjdG9yeSgpKTtcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBxdWlja3NlbGVjdChhcnIsIGssIGxlZnQsIHJpZ2h0LCBjb21wYXJlKSB7XG4gICAgcXVpY2tzZWxlY3RTdGVwKGFyciwgaywgbGVmdCB8fCAwLCByaWdodCB8fCAoYXJyLmxlbmd0aCAtIDEpLCBjb21wYXJlIHx8IGRlZmF1bHRDb21wYXJlKTtcbn1cblxuZnVuY3Rpb24gcXVpY2tzZWxlY3RTdGVwKGFyciwgaywgbGVmdCwgcmlnaHQsIGNvbXBhcmUpIHtcblxuICAgIHdoaWxlIChyaWdodCA+IGxlZnQpIHtcbiAgICAgICAgaWYgKHJpZ2h0IC0gbGVmdCA+IDYwMCkge1xuICAgICAgICAgICAgdmFyIG4gPSByaWdodCAtIGxlZnQgKyAxO1xuICAgICAgICAgICAgdmFyIG0gPSBrIC0gbGVmdCArIDE7XG4gICAgICAgICAgICB2YXIgeiA9IE1hdGgubG9nKG4pO1xuICAgICAgICAgICAgdmFyIHMgPSAwLjUgKiBNYXRoLmV4cCgyICogeiAvIDMpO1xuICAgICAgICAgICAgdmFyIHNkID0gMC41ICogTWF0aC5zcXJ0KHogKiBzICogKG4gLSBzKSAvIG4pICogKG0gLSBuIC8gMiA8IDAgPyAtMSA6IDEpO1xuICAgICAgICAgICAgdmFyIG5ld0xlZnQgPSBNYXRoLm1heChsZWZ0LCBNYXRoLmZsb29yKGsgLSBtICogcyAvIG4gKyBzZCkpO1xuICAgICAgICAgICAgdmFyIG5ld1JpZ2h0ID0gTWF0aC5taW4ocmlnaHQsIE1hdGguZmxvb3IoayArIChuIC0gbSkgKiBzIC8gbiArIHNkKSk7XG4gICAgICAgICAgICBxdWlja3NlbGVjdFN0ZXAoYXJyLCBrLCBuZXdMZWZ0LCBuZXdSaWdodCwgY29tcGFyZSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdCA9IGFycltrXTtcbiAgICAgICAgdmFyIGkgPSBsZWZ0O1xuICAgICAgICB2YXIgaiA9IHJpZ2h0O1xuXG4gICAgICAgIHN3YXAoYXJyLCBsZWZ0LCBrKTtcbiAgICAgICAgaWYgKGNvbXBhcmUoYXJyW3JpZ2h0XSwgdCkgPiAwKSBzd2FwKGFyciwgbGVmdCwgcmlnaHQpO1xuXG4gICAgICAgIHdoaWxlIChpIDwgaikge1xuICAgICAgICAgICAgc3dhcChhcnIsIGksIGopO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgai0tO1xuICAgICAgICAgICAgd2hpbGUgKGNvbXBhcmUoYXJyW2ldLCB0KSA8IDApIGkrKztcbiAgICAgICAgICAgIHdoaWxlIChjb21wYXJlKGFycltqXSwgdCkgPiAwKSBqLS07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29tcGFyZShhcnJbbGVmdF0sIHQpID09PSAwKSBzd2FwKGFyciwgbGVmdCwgaik7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaisrO1xuICAgICAgICAgICAgc3dhcChhcnIsIGosIHJpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChqIDw9IGspIGxlZnQgPSBqICsgMTtcbiAgICAgICAgaWYgKGsgPD0gaikgcmlnaHQgPSBqIC0gMTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHN3YXAoYXJyLCBpLCBqKSB7XG4gICAgdmFyIHRtcCA9IGFycltpXTtcbiAgICBhcnJbaV0gPSBhcnJbal07XG4gICAgYXJyW2pdID0gdG1wO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0Q29tcGFyZShhLCBiKSB7XG4gICAgcmV0dXJuIGEgPCBiID8gLTEgOiBhID4gYiA/IDEgOiAwO1xufVxuXG5yZXR1cm4gcXVpY2tzZWxlY3Q7XG5cbn0pKSk7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9JbW1lZGlhdGVcbiAqL1xuLy8gRklYTUUgdGVzdCwgZXNwZWNpYWxseSBwb2x5Z29ucyB3aXRoIGhvbGVzIGFuZCBtdWx0aXBvbHlnb25zXG4vLyBGSVhNRSBuZWVkIHRvIGhhbmRsZSBsYXJnZSB0aGljayBmZWF0dXJlcyAod2hlcmUgcGl4ZWwgc2l6ZSBtYXR0ZXJzKVxuLy8gRklYTUUgYWRkIG9mZnNldCBhbmQgZW5kIHRvIG9sL2dlb20vZmxhdC90cmFuc2Zvcm1+dHJhbnNmb3JtMkQ/XG5cbmltcG9ydCB7ZXF1YWxzfSBmcm9tICcuLi8uLi9hcnJheS5qcyc7XG5pbXBvcnQge2FzQ29sb3JMaWtlfSBmcm9tICcuLi8uLi9jb2xvcmxpa2UuanMnO1xuaW1wb3J0IHtpbnRlcnNlY3RzfSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuaW1wb3J0IEdlb21ldHJ5VHlwZSBmcm9tICcuLi8uLi9nZW9tL0dlb21ldHJ5VHlwZS5qcyc7XG5pbXBvcnQge3RyYW5zZm9ybUdlb20yRH0gZnJvbSAnLi4vLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qcyc7XG5pbXBvcnQge3RyYW5zZm9ybTJEfSBmcm9tICcuLi8uLi9nZW9tL2ZsYXQvdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7Q0FOVkFTX0xJTkVfREFTSH0gZnJvbSAnLi4vLi4vaGFzLmpzJztcbmltcG9ydCBWZWN0b3JDb250ZXh0IGZyb20gJy4uL1ZlY3RvckNvbnRleHQuanMnO1xuaW1wb3J0IHtkZWZhdWx0VGV4dEFsaWduLCBkZWZhdWx0RmlsbFN0eWxlLCBkZWZhdWx0TGluZUNhcCwgZGVmYXVsdExpbmVEYXNoLCBkZWZhdWx0TGluZURhc2hPZmZzZXQsIGRlZmF1bHRMaW5lSm9pbiwgZGVmYXVsdExpbmVXaWR0aCwgZGVmYXVsdE1pdGVyTGltaXQsIGRlZmF1bHRTdHJva2VTdHlsZSwgZGVmYXVsdFRleHRCYXNlbGluZSwgZGVmYXVsdEZvbnR9IGZyb20gJy4uL2NhbnZhcy5qcyc7XG5pbXBvcnQge2NyZWF0ZSBhcyBjcmVhdGVUcmFuc2Zvcm0sIGNvbXBvc2UgYXMgY29tcG9zZVRyYW5zZm9ybX0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtLmpzJztcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBIGNvbmNyZXRlIHN1YmNsYXNzIG9mIHtAbGluayBtb2R1bGU6b2wvcmVuZGVyL1ZlY3RvckNvbnRleHR9IHRoYXQgaW1wbGVtZW50c1xuICogZGlyZWN0IHJlbmRlcmluZyBvZiBmZWF0dXJlcyBhbmQgZ2VvbWV0cmllcyB0byBhbiBIVE1MNSBDYW52YXMgY29udGV4dC5cbiAqIEluc3RhbmNlcyBvZiB0aGlzIGNsYXNzIGFyZSBjcmVhdGVkIGludGVybmFsbHkgYnkgdGhlIGxpYnJhcnkgYW5kXG4gKiBwcm92aWRlZCB0byBhcHBsaWNhdGlvbiBjb2RlIGFzIHZlY3RvckNvbnRleHQgbWVtYmVyIG9mIHRoZVxuICoge0BsaW5rIG1vZHVsZTpvbC9yZW5kZXIvRXZlbnR+UmVuZGVyRXZlbnR9IG9iamVjdCBhc3NvY2lhdGVkIHdpdGggcG9zdGNvbXBvc2UsIHByZWNvbXBvc2UgYW5kXG4gKiByZW5kZXIgZXZlbnRzIGVtaXR0ZWQgYnkgbGF5ZXJzIGFuZCBtYXBzLlxuICovXG52YXIgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChWZWN0b3JDb250ZXh0KSB7XG4gIGZ1bmN0aW9uIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyKGNvbnRleHQsIHBpeGVsUmF0aW8sIGV4dGVudCwgdHJhbnNmb3JtLCB2aWV3Um90YXRpb24pIHtcbiAgICBWZWN0b3JDb250ZXh0LmNhbGwodGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICovXG4gICAgdGhpcy5jb250ZXh0XyA9IGNvbnRleHQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5waXhlbFJhdGlvXyA9IHBpeGVsUmF0aW87XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqL1xuICAgIHRoaXMuZXh0ZW50XyA9IGV4dGVudDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICovXG4gICAgdGhpcy50cmFuc2Zvcm1fID0gdHJhbnNmb3JtO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudmlld1JvdGF0aW9uXyA9IHZpZXdSb3RhdGlvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0YXRlfVxuICAgICAqL1xuICAgIHRoaXMuY29udGV4dEZpbGxTdGF0ZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLmNvbnRleHRTdHJva2VTdGF0ZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5UZXh0U3RhdGV9XG4gICAgICovXG4gICAgdGhpcy5jb250ZXh0VGV4dFN0YXRlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLmZpbGxTdGF0ZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLnN0cm9rZVN0YXRlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5pbWFnZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VBbmNob3JYXyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbWFnZUFuY2hvcllfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlSGVpZ2h0XyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbWFnZU9wYWNpdHlfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlT3JpZ2luWF8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VPcmlnaW5ZXyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VSb3RhdGVXaXRoVmlld18gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlUm90YXRpb25fID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlU2NhbGVfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlV2lkdGhfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnRleHRfID0gJyc7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50ZXh0T2Zmc2V0WF8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGV4dE9mZnNldFlfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy50ZXh0Um90YXRlV2l0aFZpZXdfID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50ZXh0Um90YXRpb25fID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRTY2FsZV8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3RhdGV9XG4gICAgICovXG4gICAgdGhpcy50ZXh0RmlsbFN0YXRlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlN0cm9rZVN0YXRlfVxuICAgICAqL1xuICAgIHRoaXMudGV4dFN0cm9rZVN0YXRlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlRleHRTdGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRTdGF0ZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICAgICAqL1xuICAgIHRoaXMudG1wTG9jYWxUcmFuc2Zvcm1fID0gY3JlYXRlVHJhbnNmb3JtKCk7XG5cbiAgfVxuXG4gIGlmICggVmVjdG9yQ29udGV4dCApIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLl9fcHJvdG9fXyA9IFZlY3RvckNvbnRleHQ7XG4gIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFZlY3RvckNvbnRleHQgJiYgVmVjdG9yQ29udGV4dC5wcm90b3R5cGUgKTtcbiAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXI7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuZHJhd0ltYWdlc18gPSBmdW5jdGlvbiBkcmF3SW1hZ2VzXyAoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gICAgaWYgKCF0aGlzLmltYWdlXykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcGl4ZWxDb29yZGluYXRlcyA9IHRyYW5zZm9ybTJEKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgMiwgdGhpcy50cmFuc2Zvcm1fLFxuICAgICAgdGhpcy5waXhlbENvb3JkaW5hdGVzXyk7XG4gICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgIHZhciBsb2NhbFRyYW5zZm9ybSA9IHRoaXMudG1wTG9jYWxUcmFuc2Zvcm1fO1xuICAgIHZhciBhbHBoYSA9IGNvbnRleHQuZ2xvYmFsQWxwaGE7XG4gICAgaWYgKHRoaXMuaW1hZ2VPcGFjaXR5XyAhPSAxKSB7XG4gICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gYWxwaGEgKiB0aGlzLmltYWdlT3BhY2l0eV87XG4gICAgfVxuICAgIHZhciByb3RhdGlvbiA9IHRoaXMuaW1hZ2VSb3RhdGlvbl87XG4gICAgaWYgKHRoaXMuaW1hZ2VSb3RhdGVXaXRoVmlld18pIHtcbiAgICAgIHJvdGF0aW9uICs9IHRoaXMudmlld1JvdGF0aW9uXztcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gcGl4ZWxDb29yZGluYXRlcy5sZW5ndGg7IGkgPCBpaTsgaSArPSAyKSB7XG4gICAgICB2YXIgeCA9IHBpeGVsQ29vcmRpbmF0ZXNbaV0gLSB0aGlzLmltYWdlQW5jaG9yWF87XG4gICAgICB2YXIgeSA9IHBpeGVsQ29vcmRpbmF0ZXNbaSArIDFdIC0gdGhpcy5pbWFnZUFuY2hvcllfO1xuICAgICAgaWYgKHJvdGF0aW9uICE9PSAwIHx8IHRoaXMuaW1hZ2VTY2FsZV8gIT0gMSkge1xuICAgICAgICB2YXIgY2VudGVyWCA9IHggKyB0aGlzLmltYWdlQW5jaG9yWF87XG4gICAgICAgIHZhciBjZW50ZXJZID0geSArIHRoaXMuaW1hZ2VBbmNob3JZXztcbiAgICAgICAgY29tcG9zZVRyYW5zZm9ybShsb2NhbFRyYW5zZm9ybSxcbiAgICAgICAgICBjZW50ZXJYLCBjZW50ZXJZLFxuICAgICAgICAgIHRoaXMuaW1hZ2VTY2FsZV8sIHRoaXMuaW1hZ2VTY2FsZV8sXG4gICAgICAgICAgcm90YXRpb24sXG4gICAgICAgICAgLWNlbnRlclgsIC1jZW50ZXJZKTtcbiAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0uYXBwbHkoY29udGV4dCwgbG9jYWxUcmFuc2Zvcm0pO1xuICAgICAgfVxuICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGhpcy5pbWFnZV8sIHRoaXMuaW1hZ2VPcmlnaW5YXywgdGhpcy5pbWFnZU9yaWdpbllfLFxuICAgICAgICB0aGlzLmltYWdlV2lkdGhfLCB0aGlzLmltYWdlSGVpZ2h0XywgeCwgeSxcbiAgICAgICAgdGhpcy5pbWFnZVdpZHRoXywgdGhpcy5pbWFnZUhlaWdodF8pO1xuICAgIH1cbiAgICBpZiAocm90YXRpb24gIT09IDAgfHwgdGhpcy5pbWFnZVNjYWxlXyAhPSAxKSB7XG4gICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaW1hZ2VPcGFjaXR5XyAhPSAxKSB7XG4gICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gYWxwaGE7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdUZXh0XyA9IGZ1bmN0aW9uIGRyYXdUZXh0XyAoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gICAgaWYgKCF0aGlzLnRleHRTdGF0ZV8gfHwgdGhpcy50ZXh0XyA9PT0gJycpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMudGV4dEZpbGxTdGF0ZV8pIHtcbiAgICAgIHRoaXMuc2V0Q29udGV4dEZpbGxTdGF0ZV8odGhpcy50ZXh0RmlsbFN0YXRlXyk7XG4gICAgfVxuICAgIGlmICh0aGlzLnRleHRTdHJva2VTdGF0ZV8pIHtcbiAgICAgIHRoaXMuc2V0Q29udGV4dFN0cm9rZVN0YXRlXyh0aGlzLnRleHRTdHJva2VTdGF0ZV8pO1xuICAgIH1cbiAgICB0aGlzLnNldENvbnRleHRUZXh0U3RhdGVfKHRoaXMudGV4dFN0YXRlXyk7XG4gICAgdmFyIHBpeGVsQ29vcmRpbmF0ZXMgPSB0cmFuc2Zvcm0yRChcbiAgICAgIGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgdGhpcy50cmFuc2Zvcm1fLFxuICAgICAgdGhpcy5waXhlbENvb3JkaW5hdGVzXyk7XG4gICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgIHZhciByb3RhdGlvbiA9IHRoaXMudGV4dFJvdGF0aW9uXztcbiAgICBpZiAodGhpcy50ZXh0Um90YXRlV2l0aFZpZXdfKSB7XG4gICAgICByb3RhdGlvbiArPSB0aGlzLnZpZXdSb3RhdGlvbl87XG4gICAgfVxuICAgIGZvciAoOyBvZmZzZXQgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICAgIHZhciB4ID0gcGl4ZWxDb29yZGluYXRlc1tvZmZzZXRdICsgdGhpcy50ZXh0T2Zmc2V0WF87XG4gICAgICB2YXIgeSA9IHBpeGVsQ29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV0gKyB0aGlzLnRleHRPZmZzZXRZXztcbiAgICAgIGlmIChyb3RhdGlvbiAhPT0gMCB8fCB0aGlzLnRleHRTY2FsZV8gIT0gMSkge1xuICAgICAgICB2YXIgbG9jYWxUcmFuc2Zvcm0gPSBjb21wb3NlVHJhbnNmb3JtKHRoaXMudG1wTG9jYWxUcmFuc2Zvcm1fLFxuICAgICAgICAgIHgsIHksXG4gICAgICAgICAgdGhpcy50ZXh0U2NhbGVfLCB0aGlzLnRleHRTY2FsZV8sXG4gICAgICAgICAgcm90YXRpb24sXG4gICAgICAgICAgLXgsIC15KTtcbiAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0uYXBwbHkoY29udGV4dCwgbG9jYWxUcmFuc2Zvcm0pO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMudGV4dFN0cm9rZVN0YXRlXykge1xuICAgICAgICBjb250ZXh0LnN0cm9rZVRleHQodGhpcy50ZXh0XywgeCwgeSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy50ZXh0RmlsbFN0YXRlXykge1xuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KHRoaXMudGV4dF8sIHgsIHkpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocm90YXRpb24gIT09IDAgfHwgdGhpcy50ZXh0U2NhbGVfICE9IDEpIHtcbiAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBjbG9zZSBDbG9zZS5cbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7bnVtYmVyfSBlbmQgRW5kLlxuICAgKi9cbiAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLm1vdmVUb0xpbmVUb18gPSBmdW5jdGlvbiBtb3ZlVG9MaW5lVG9fIChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGNsb3NlKSB7XG4gICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgIHZhciBwaXhlbENvb3JkaW5hdGVzID0gdHJhbnNmb3JtMkQoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIHRoaXMudHJhbnNmb3JtXyxcbiAgICAgIHRoaXMucGl4ZWxDb29yZGluYXRlc18pO1xuICAgIGNvbnRleHQubW92ZVRvKHBpeGVsQ29vcmRpbmF0ZXNbMF0sIHBpeGVsQ29vcmRpbmF0ZXNbMV0pO1xuICAgIHZhciBsZW5ndGggPSBwaXhlbENvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICBpZiAoY2xvc2UpIHtcbiAgICAgIGxlbmd0aCAtPSAyO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMjsgaSA8IGxlbmd0aDsgaSArPSAyKSB7XG4gICAgICBjb250ZXh0LmxpbmVUbyhwaXhlbENvb3JkaW5hdGVzW2ldLCBwaXhlbENvb3JkaW5hdGVzW2kgKyAxXSk7XG4gICAgfVxuICAgIGlmIChjbG9zZSkge1xuICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICB9XG4gICAgcmV0dXJuIGVuZDtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7bnVtYmVyfSBFbmQuXG4gICAqL1xuICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuZHJhd1JpbmdzXyA9IGZ1bmN0aW9uIGRyYXdSaW5nc18gKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIG9mZnNldCA9IHRoaXMubW92ZVRvTGluZVRvXyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc1tpXSwgc3RyaWRlLCB0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldDtcbiAgfTtcblxuICAvKipcbiAgICogUmVuZGVyIGEgY2lyY2xlIGdlb21ldHJ5IGludG8gdGhlIGNhbnZhcy4gIFJlbmRlcmluZyBpcyBpbW1lZGlhdGUgYW5kIHVzZXNcbiAgICogdGhlIGN1cnJlbnQgZmlsbCBhbmQgc3Ryb2tlIHN0eWxlcy5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0NpcmNsZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBDaXJjbGUgZ2VvbWV0cnkuXG4gICAqIEBvdmVycmlkZVxuICAgKiBAYXBpXG4gICAqL1xuICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuZHJhd0NpcmNsZSA9IGZ1bmN0aW9uIGRyYXdDaXJjbGUgKGdlb21ldHJ5KSB7XG4gICAgaWYgKCFpbnRlcnNlY3RzKHRoaXMuZXh0ZW50XywgZ2VvbWV0cnkuZ2V0RXh0ZW50KCkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLmZpbGxTdGF0ZV8gfHwgdGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgIGlmICh0aGlzLmZpbGxTdGF0ZV8pIHtcbiAgICAgICAgdGhpcy5zZXRDb250ZXh0RmlsbFN0YXRlXyh0aGlzLmZpbGxTdGF0ZV8pO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc3Ryb2tlU3RhdGVfKSB7XG4gICAgICAgIHRoaXMuc2V0Q29udGV4dFN0cm9rZVN0YXRlXyh0aGlzLnN0cm9rZVN0YXRlXyk7XG4gICAgICB9XG4gICAgICB2YXIgcGl4ZWxDb29yZGluYXRlcyA9IHRyYW5zZm9ybUdlb20yRChcbiAgICAgICAgZ2VvbWV0cnksIHRoaXMudHJhbnNmb3JtXywgdGhpcy5waXhlbENvb3JkaW5hdGVzXyk7XG4gICAgICB2YXIgZHggPSBwaXhlbENvb3JkaW5hdGVzWzJdIC0gcGl4ZWxDb29yZGluYXRlc1swXTtcbiAgICAgIHZhciBkeSA9IHBpeGVsQ29vcmRpbmF0ZXNbM10gLSBwaXhlbENvb3JkaW5hdGVzWzFdO1xuICAgICAgdmFyIHJhZGl1cyA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgY29udGV4dC5hcmMoXG4gICAgICAgIHBpeGVsQ29vcmRpbmF0ZXNbMF0sIHBpeGVsQ29vcmRpbmF0ZXNbMV0sIHJhZGl1cywgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgaWYgKHRoaXMuZmlsbFN0YXRlXykge1xuICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy50ZXh0XyAhPT0gJycpIHtcbiAgICAgIHRoaXMuZHJhd1RleHRfKGdlb21ldHJ5LmdldENlbnRlcigpLCAwLCAyLCAyKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgcmVuZGVyaW5nIHN0eWxlLiAgTm90ZSB0aGF0IHNpbmNlIHRoaXMgaXMgYW4gaW1tZWRpYXRlIHJlbmRlcmluZyBBUEksXG4gICAqIGFueSBgekluZGV4YCBvbiB0aGUgcHJvdmlkZWQgc3R5bGUgd2lsbCBiZSBpZ25vcmVkLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFRoZSByZW5kZXJpbmcgc3R5bGUuXG4gICAqIEBvdmVycmlkZVxuICAgKiBAYXBpXG4gICAqL1xuICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuc2V0U3R5bGUgPSBmdW5jdGlvbiBzZXRTdHlsZSAoc3R5bGUpIHtcbiAgICB0aGlzLnNldEZpbGxTdHJva2VTdHlsZShzdHlsZS5nZXRGaWxsKCksIHN0eWxlLmdldFN0cm9rZSgpKTtcbiAgICB0aGlzLnNldEltYWdlU3R5bGUoc3R5bGUuZ2V0SW1hZ2UoKSk7XG4gICAgdGhpcy5zZXRUZXh0U3R5bGUoc3R5bGUuZ2V0VGV4dCgpKTtcbiAgfTtcblxuICAvKipcbiAgICogUmVuZGVyIGEgZ2VvbWV0cnkgaW50byB0aGUgY2FudmFzLiAgQ2FsbFxuICAgKiB7QGxpbmsgbW9kdWxlOm9sL3JlbmRlci9jYW52YXMvSW1tZWRpYXRlI3NldFN0eWxlfSBmaXJzdCB0byBzZXQgdGhlIHJlbmRlcmluZyBzdHlsZS5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBUaGUgZ2VvbWV0cnkgdG8gcmVuZGVyLlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQGFwaVxuICAgKi9cbiAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdHZW9tZXRyeSA9IGZ1bmN0aW9uIGRyYXdHZW9tZXRyeSAoZ2VvbWV0cnkpIHtcbiAgICB2YXIgdHlwZSA9IGdlb21ldHJ5LmdldFR5cGUoKTtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLlBPSU5UOlxuICAgICAgICB0aGlzLmRyYXdQb2ludCgvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vUG9pbnQuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTElORV9TVFJJTkc6XG4gICAgICAgIHRoaXMuZHJhd0xpbmVTdHJpbmcoLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0xpbmVTdHJpbmcuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuUE9MWUdPTjpcbiAgICAgICAgdGhpcy5kcmF3UG9seWdvbigvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEdlb21ldHJ5VHlwZS5NVUxUSV9QT0lOVDpcbiAgICAgICAgdGhpcy5kcmF3TXVsdGlQb2ludCgvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2ludC5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEdlb21ldHJ5VHlwZS5NVUxUSV9MSU5FX1NUUklORzpcbiAgICAgICAgdGhpcy5kcmF3TXVsdGlMaW5lU3RyaW5nKC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aUxpbmVTdHJpbmcuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTVVMVElfUE9MWUdPTjpcbiAgICAgICAgdGhpcy5kcmF3TXVsdGlQb2x5Z29uKC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuR0VPTUVUUllfQ09MTEVDVElPTjpcbiAgICAgICAgdGhpcy5kcmF3R2VvbWV0cnlDb2xsZWN0aW9uKC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9HZW9tZXRyeUNvbGxlY3Rpb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuQ0lSQ0xFOlxuICAgICAgICB0aGlzLmRyYXdDaXJjbGUoLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0NpcmNsZS5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmVuZGVyIGEgZmVhdHVyZSBpbnRvIHRoZSBjYW52YXMuICBOb3RlIHRoYXQgYW55IGB6SW5kZXhgIG9uIHRoZSBwcm92aWRlZFxuICAgKiBzdHlsZSB3aWxsIGJlIGlnbm9yZWQgLSBmZWF0dXJlcyBhcmUgcmVuZGVyZWQgaW1tZWRpYXRlbHkgaW4gdGhlIG9yZGVyIHRoYXRcbiAgICogdGhpcyBtZXRob2QgaXMgY2FsbGVkLiAgSWYgeW91IG5lZWQgYHpJbmRleGAgc3VwcG9ydCwgeW91IHNob3VsZCBiZSB1c2luZyBhblxuICAgKiB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL1ZlY3Rvcn5WZWN0b3JMYXllcn0gaW5zdGVhZC5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAgICogQG92ZXJyaWRlXG4gICAqIEBhcGlcbiAgICovXG4gIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3RmVhdHVyZSA9IGZ1bmN0aW9uIGRyYXdGZWF0dXJlIChmZWF0dXJlLCBzdHlsZSkge1xuICAgIHZhciBnZW9tZXRyeSA9IHN0eWxlLmdldEdlb21ldHJ5RnVuY3Rpb24oKShmZWF0dXJlKTtcbiAgICBpZiAoIWdlb21ldHJ5IHx8ICFpbnRlcnNlY3RzKHRoaXMuZXh0ZW50XywgZ2VvbWV0cnkuZ2V0RXh0ZW50KCkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2V0U3R5bGUoc3R5bGUpO1xuICAgIHRoaXMuZHJhd0dlb21ldHJ5KGdlb21ldHJ5KTtcbiAgfTtcblxuICAvKipcbiAgICogUmVuZGVyIGEgR2VvbWV0cnlDb2xsZWN0aW9uIHRvIHRoZSBjYW52YXMuICBSZW5kZXJpbmcgaXMgaW1tZWRpYXRlIGFuZFxuICAgKiB1c2VzIHRoZSBjdXJyZW50IHN0eWxlcyBhcHByb3ByaWF0ZSBmb3IgZWFjaCBnZW9tZXRyeSBpbiB0aGUgY29sbGVjdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0dlb21ldHJ5Q29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeSBjb2xsZWN0aW9uLlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3R2VvbWV0cnlDb2xsZWN0aW9uID0gZnVuY3Rpb24gZHJhd0dlb21ldHJ5Q29sbGVjdGlvbiAoZ2VvbWV0cnkpIHtcbiAgICB2YXIgZ2VvbWV0cmllcyA9IGdlb21ldHJ5LmdldEdlb21ldHJpZXNBcnJheSgpO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGdlb21ldHJpZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgdGhpcy5kcmF3R2VvbWV0cnkoZ2VvbWV0cmllc1tpXSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZW5kZXIgYSBQb2ludCBnZW9tZXRyeSBpbnRvIHRoZSBjYW52YXMuICBSZW5kZXJpbmcgaXMgaW1tZWRpYXRlIGFuZCB1c2VzXG4gICAqIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vUG9pbnQuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IFBvaW50IGdlb21ldHJ5LlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3UG9pbnQgPSBmdW5jdGlvbiBkcmF3UG9pbnQgKGdlb21ldHJ5KSB7XG4gICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgIHZhciBzdHJpZGUgPSBnZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICBpZiAodGhpcy5pbWFnZV8pIHtcbiAgICAgIHRoaXMuZHJhd0ltYWdlc18oZmxhdENvb3JkaW5hdGVzLCAwLCBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCBzdHJpZGUpO1xuICAgIH1cbiAgICBpZiAodGhpcy50ZXh0XyAhPT0gJycpIHtcbiAgICAgIHRoaXMuZHJhd1RleHRfKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbmRlciBhIE11bHRpUG9pbnQgZ2VvbWV0cnkgIGludG8gdGhlIGNhbnZhcy4gIFJlbmRlcmluZyBpcyBpbW1lZGlhdGUgYW5kXG4gICAqIHVzZXMgdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvaW50LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBNdWx0aVBvaW50IGdlb21ldHJ5LlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3TXVsdGlQb2ludCA9IGZ1bmN0aW9uIGRyYXdNdWx0aVBvaW50IChnZW9tZXRyeSkge1xuICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICB2YXIgc3RyaWRlID0gZ2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgaWYgKHRoaXMuaW1hZ2VfKSB7XG4gICAgICB0aGlzLmRyYXdJbWFnZXNfKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMudGV4dF8gIT09ICcnKSB7XG4gICAgICB0aGlzLmRyYXdUZXh0XyhmbGF0Q29vcmRpbmF0ZXMsIDAsIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsIHN0cmlkZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZW5kZXIgYSBMaW5lU3RyaW5nIGludG8gdGhlIGNhbnZhcy4gIFJlbmRlcmluZyBpcyBpbW1lZGlhdGUgYW5kIHVzZXNcbiAgICogdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9MaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBMaW5lU3RyaW5nIGdlb21ldHJ5LlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3TGluZVN0cmluZyA9IGZ1bmN0aW9uIGRyYXdMaW5lU3RyaW5nIChnZW9tZXRyeSkge1xuICAgIGlmICghaW50ZXJzZWN0cyh0aGlzLmV4dGVudF8sIGdlb21ldHJ5LmdldEV4dGVudCgpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgIHRoaXMuc2V0Q29udGV4dFN0cm9rZVN0YXRlXyh0aGlzLnN0cm9rZVN0YXRlXyk7XG4gICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgdGhpcy5tb3ZlVG9MaW5lVG9fKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCxcbiAgICAgICAgZ2VvbWV0cnkuZ2V0U3RyaWRlKCksIGZhbHNlKTtcbiAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnRleHRfICE9PSAnJykge1xuICAgICAgdmFyIGZsYXRNaWRwb2ludCA9IGdlb21ldHJ5LmdldEZsYXRNaWRwb2ludCgpO1xuICAgICAgdGhpcy5kcmF3VGV4dF8oZmxhdE1pZHBvaW50LCAwLCAyLCAyKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbmRlciBhIE11bHRpTGluZVN0cmluZyBnZW9tZXRyeSBpbnRvIHRoZSBjYW52YXMuICBSZW5kZXJpbmcgaXMgaW1tZWRpYXRlXG4gICAqIGFuZCB1c2VzIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlMaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBNdWx0aUxpbmVTdHJpbmcgZ2VvbWV0cnkuXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdNdWx0aUxpbmVTdHJpbmcgPSBmdW5jdGlvbiBkcmF3TXVsdGlMaW5lU3RyaW5nIChnZW9tZXRyeSkge1xuICAgIHZhciBnZW9tZXRyeUV4dGVudCA9IGdlb21ldHJ5LmdldEV4dGVudCgpO1xuICAgIGlmICghaW50ZXJzZWN0cyh0aGlzLmV4dGVudF8sIGdlb21ldHJ5RXh0ZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgIHRoaXMuc2V0Q29udGV4dFN0cm9rZVN0YXRlXyh0aGlzLnN0cm9rZVN0YXRlXyk7XG4gICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgIHZhciBlbmRzID0gLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAoZ2VvbWV0cnkuZ2V0RW5kcygpKTtcbiAgICAgIHZhciBzdHJpZGUgPSBnZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgb2Zmc2V0ID0gdGhpcy5tb3ZlVG9MaW5lVG9fKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzW2ldLCBzdHJpZGUsIGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnRleHRfICE9PSAnJykge1xuICAgICAgdmFyIGZsYXRNaWRwb2ludHMgPSBnZW9tZXRyeS5nZXRGbGF0TWlkcG9pbnRzKCk7XG4gICAgICB0aGlzLmRyYXdUZXh0XyhmbGF0TWlkcG9pbnRzLCAwLCBmbGF0TWlkcG9pbnRzLmxlbmd0aCwgMik7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZW5kZXIgYSBQb2x5Z29uIGdlb21ldHJ5IGludG8gdGhlIGNhbnZhcy4gIFJlbmRlcmluZyBpcyBpbW1lZGlhdGUgYW5kIHVzZXNcbiAgICogdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBQb2x5Z29uIGdlb21ldHJ5LlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3UG9seWdvbiA9IGZ1bmN0aW9uIGRyYXdQb2x5Z29uIChnZW9tZXRyeSkge1xuICAgIGlmICghaW50ZXJzZWN0cyh0aGlzLmV4dGVudF8sIGdlb21ldHJ5LmdldEV4dGVudCgpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8gfHwgdGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICBpZiAodGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICAgIHRoaXMuc2V0Q29udGV4dEZpbGxTdGF0ZV8odGhpcy5maWxsU3RhdGVfKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgICB0aGlzLnNldENvbnRleHRTdHJva2VTdGF0ZV8odGhpcy5zdHJva2VTdGF0ZV8pO1xuICAgICAgfVxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgIHRoaXMuZHJhd1JpbmdzXyhnZW9tZXRyeS5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpLFxuICAgICAgICAwLCAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovIChnZW9tZXRyeS5nZXRFbmRzKCkpLCBnZW9tZXRyeS5nZXRTdHJpZGUoKSk7XG4gICAgICBpZiAodGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc3Ryb2tlU3RhdGVfKSB7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnRleHRfICE9PSAnJykge1xuICAgICAgdmFyIGZsYXRJbnRlcmlvclBvaW50ID0gZ2VvbWV0cnkuZ2V0RmxhdEludGVyaW9yUG9pbnQoKTtcbiAgICAgIHRoaXMuZHJhd1RleHRfKGZsYXRJbnRlcmlvclBvaW50LCAwLCAyLCAyKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbmRlciBNdWx0aVBvbHlnb24gZ2VvbWV0cnkgaW50byB0aGUgY2FudmFzLiAgUmVuZGVyaW5nIGlzIGltbWVkaWF0ZSBhbmRcbiAgICogdXNlcyB0aGUgY3VycmVudCBzdHlsZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBNdWx0aVBvbHlnb24gZ2VvbWV0cnkuXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdNdWx0aVBvbHlnb24gPSBmdW5jdGlvbiBkcmF3TXVsdGlQb2x5Z29uIChnZW9tZXRyeSkge1xuICAgIGlmICghaW50ZXJzZWN0cyh0aGlzLmV4dGVudF8sIGdlb21ldHJ5LmdldEV4dGVudCgpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8gfHwgdGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICBpZiAodGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICAgIHRoaXMuc2V0Q29udGV4dEZpbGxTdGF0ZV8odGhpcy5maWxsU3RhdGVfKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgICB0aGlzLnNldENvbnRleHRTdHJva2VTdGF0ZV8odGhpcy5zdHJva2VTdGF0ZV8pO1xuICAgICAgfVxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgIHZhciBlbmRzcyA9IGdlb21ldHJ5LmdldEVuZHNzKCk7XG4gICAgICB2YXIgc3RyaWRlID0gZ2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgZW5kcyA9IGVuZHNzW2ldO1xuICAgICAgICBvZmZzZXQgPSB0aGlzLmRyYXdSaW5nc18oZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc3Ryb2tlU3RhdGVfKSB7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnRleHRfICE9PSAnJykge1xuICAgICAgdmFyIGZsYXRJbnRlcmlvclBvaW50cyA9IGdlb21ldHJ5LmdldEZsYXRJbnRlcmlvclBvaW50cygpO1xuICAgICAgdGhpcy5kcmF3VGV4dF8oZmxhdEludGVyaW9yUG9pbnRzLCAwLCBmbGF0SW50ZXJpb3JQb2ludHMubGVuZ3RoLCAyKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdGF0ZX0gZmlsbFN0YXRlIEZpbGwgc3RhdGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuc2V0Q29udGV4dEZpbGxTdGF0ZV8gPSBmdW5jdGlvbiBzZXRDb250ZXh0RmlsbFN0YXRlXyAoZmlsbFN0YXRlKSB7XG4gICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgIHZhciBjb250ZXh0RmlsbFN0YXRlID0gdGhpcy5jb250ZXh0RmlsbFN0YXRlXztcbiAgICBpZiAoIWNvbnRleHRGaWxsU3RhdGUpIHtcbiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZmlsbFN0YXRlLmZpbGxTdHlsZTtcbiAgICAgIHRoaXMuY29udGV4dEZpbGxTdGF0ZV8gPSB7XG4gICAgICAgIGZpbGxTdHlsZTogZmlsbFN0YXRlLmZpbGxTdHlsZVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGNvbnRleHRGaWxsU3RhdGUuZmlsbFN0eWxlICE9IGZpbGxTdGF0ZS5maWxsU3R5bGUpIHtcbiAgICAgICAgY29udGV4dEZpbGxTdGF0ZS5maWxsU3R5bGUgPSBjb250ZXh0LmZpbGxTdHlsZSA9IGZpbGxTdGF0ZS5maWxsU3R5bGU7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZX0gc3Ryb2tlU3RhdGUgU3Ryb2tlIHN0YXRlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLnNldENvbnRleHRTdHJva2VTdGF0ZV8gPSBmdW5jdGlvbiBzZXRDb250ZXh0U3Ryb2tlU3RhdGVfIChzdHJva2VTdGF0ZSkge1xuICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0XztcbiAgICB2YXIgY29udGV4dFN0cm9rZVN0YXRlID0gdGhpcy5jb250ZXh0U3Ryb2tlU3RhdGVfO1xuICAgIGlmICghY29udGV4dFN0cm9rZVN0YXRlKSB7XG4gICAgICBjb250ZXh0LmxpbmVDYXAgPSAvKiogQHR5cGUge0NhbnZhc0xpbmVDYXB9ICovIChzdHJva2VTdGF0ZS5saW5lQ2FwKTtcbiAgICAgIGlmIChDQU5WQVNfTElORV9EQVNIKSB7XG4gICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goc3Ryb2tlU3RhdGUubGluZURhc2gpO1xuICAgICAgICBjb250ZXh0LmxpbmVEYXNoT2Zmc2V0ID0gc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQ7XG4gICAgICB9XG4gICAgICBjb250ZXh0LmxpbmVKb2luID0gLyoqIEB0eXBlIHtDYW52YXNMaW5lSm9pbn0gKi8gKHN0cm9rZVN0YXRlLmxpbmVKb2luKTtcbiAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3Ryb2tlU3RhdGUubGluZVdpZHRoO1xuICAgICAgY29udGV4dC5taXRlckxpbWl0ID0gc3Ryb2tlU3RhdGUubWl0ZXJMaW1pdDtcbiAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VTdGF0ZS5zdHJva2VTdHlsZTtcbiAgICAgIHRoaXMuY29udGV4dFN0cm9rZVN0YXRlXyA9IHtcbiAgICAgICAgbGluZUNhcDogc3Ryb2tlU3RhdGUubGluZUNhcCxcbiAgICAgICAgbGluZURhc2g6IHN0cm9rZVN0YXRlLmxpbmVEYXNoLFxuICAgICAgICBsaW5lRGFzaE9mZnNldDogc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQsXG4gICAgICAgIGxpbmVKb2luOiBzdHJva2VTdGF0ZS5saW5lSm9pbixcbiAgICAgICAgbGluZVdpZHRoOiBzdHJva2VTdGF0ZS5saW5lV2lkdGgsXG4gICAgICAgIG1pdGVyTGltaXQ6IHN0cm9rZVN0YXRlLm1pdGVyTGltaXQsXG4gICAgICAgIHN0cm9rZVN0eWxlOiBzdHJva2VTdGF0ZS5zdHJva2VTdHlsZVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGNvbnRleHRTdHJva2VTdGF0ZS5saW5lQ2FwICE9IHN0cm9rZVN0YXRlLmxpbmVDYXApIHtcbiAgICAgICAgY29udGV4dFN0cm9rZVN0YXRlLmxpbmVDYXAgPSBjb250ZXh0LmxpbmVDYXAgPSAvKiogQHR5cGUge0NhbnZhc0xpbmVDYXB9ICovIChzdHJva2VTdGF0ZS5saW5lQ2FwKTtcbiAgICAgIH1cbiAgICAgIGlmIChDQU5WQVNfTElORV9EQVNIKSB7XG4gICAgICAgIGlmICghZXF1YWxzKGNvbnRleHRTdHJva2VTdGF0ZS5saW5lRGFzaCwgc3Ryb2tlU3RhdGUubGluZURhc2gpKSB7XG4gICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChjb250ZXh0U3Ryb2tlU3RhdGUubGluZURhc2ggPSBzdHJva2VTdGF0ZS5saW5lRGFzaCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRleHRTdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldCAhPSBzdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldCkge1xuICAgICAgICAgIGNvbnRleHRTdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldCA9IGNvbnRleHQubGluZURhc2hPZmZzZXQgPVxuICAgICAgICAgICAgICBzdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGNvbnRleHRTdHJva2VTdGF0ZS5saW5lSm9pbiAhPSBzdHJva2VTdGF0ZS5saW5lSm9pbikge1xuICAgICAgICBjb250ZXh0U3Ryb2tlU3RhdGUubGluZUpvaW4gPSBjb250ZXh0LmxpbmVKb2luID0gLyoqIEB0eXBlIHtDYW52YXNMaW5lSm9pbn0gKi8gKHN0cm9rZVN0YXRlLmxpbmVKb2luKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb250ZXh0U3Ryb2tlU3RhdGUubGluZVdpZHRoICE9IHN0cm9rZVN0YXRlLmxpbmVXaWR0aCkge1xuICAgICAgICBjb250ZXh0U3Ryb2tlU3RhdGUubGluZVdpZHRoID0gY29udGV4dC5saW5lV2lkdGggPSBzdHJva2VTdGF0ZS5saW5lV2lkdGg7XG4gICAgICB9XG4gICAgICBpZiAoY29udGV4dFN0cm9rZVN0YXRlLm1pdGVyTGltaXQgIT0gc3Ryb2tlU3RhdGUubWl0ZXJMaW1pdCkge1xuICAgICAgICBjb250ZXh0U3Ryb2tlU3RhdGUubWl0ZXJMaW1pdCA9IGNvbnRleHQubWl0ZXJMaW1pdCA9XG4gICAgICAgICAgICBzdHJva2VTdGF0ZS5taXRlckxpbWl0O1xuICAgICAgfVxuICAgICAgaWYgKGNvbnRleHRTdHJva2VTdGF0ZS5zdHJva2VTdHlsZSAhPSBzdHJva2VTdGF0ZS5zdHJva2VTdHlsZSkge1xuICAgICAgICBjb250ZXh0U3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGUgPSBjb250ZXh0LnN0cm9rZVN0eWxlID1cbiAgICAgICAgICAgIHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuVGV4dFN0YXRlfSB0ZXh0U3RhdGUgVGV4dCBzdGF0ZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5zZXRDb250ZXh0VGV4dFN0YXRlXyA9IGZ1bmN0aW9uIHNldENvbnRleHRUZXh0U3RhdGVfICh0ZXh0U3RhdGUpIHtcbiAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgdmFyIGNvbnRleHRUZXh0U3RhdGUgPSB0aGlzLmNvbnRleHRUZXh0U3RhdGVfO1xuICAgIHZhciB0ZXh0QWxpZ24gPSB0ZXh0U3RhdGUudGV4dEFsaWduID9cbiAgICAgIHRleHRTdGF0ZS50ZXh0QWxpZ24gOiBkZWZhdWx0VGV4dEFsaWduO1xuICAgIGlmICghY29udGV4dFRleHRTdGF0ZSkge1xuICAgICAgY29udGV4dC5mb250ID0gdGV4dFN0YXRlLmZvbnQ7XG4gICAgICBjb250ZXh0LnRleHRBbGlnbiA9IC8qKiBAdHlwZSB7Q2FudmFzVGV4dEFsaWdufSAqLyAodGV4dEFsaWduKTtcbiAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gLyoqIEB0eXBlIHtDYW52YXNUZXh0QmFzZWxpbmV9ICovICh0ZXh0U3RhdGUudGV4dEJhc2VsaW5lKTtcbiAgICAgIHRoaXMuY29udGV4dFRleHRTdGF0ZV8gPSB7XG4gICAgICAgIGZvbnQ6IHRleHRTdGF0ZS5mb250LFxuICAgICAgICB0ZXh0QWxpZ246IHRleHRBbGlnbixcbiAgICAgICAgdGV4dEJhc2VsaW5lOiB0ZXh0U3RhdGUudGV4dEJhc2VsaW5lXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoY29udGV4dFRleHRTdGF0ZS5mb250ICE9IHRleHRTdGF0ZS5mb250KSB7XG4gICAgICAgIGNvbnRleHRUZXh0U3RhdGUuZm9udCA9IGNvbnRleHQuZm9udCA9IHRleHRTdGF0ZS5mb250O1xuICAgICAgfVxuICAgICAgaWYgKGNvbnRleHRUZXh0U3RhdGUudGV4dEFsaWduICE9IHRleHRBbGlnbikge1xuICAgICAgICBjb250ZXh0VGV4dFN0YXRlLnRleHRBbGlnbiA9IGNvbnRleHQudGV4dEFsaWduID0gLyoqIEB0eXBlIHtDYW52YXNUZXh0QWxpZ259ICovICh0ZXh0QWxpZ24pO1xuICAgICAgfVxuICAgICAgaWYgKGNvbnRleHRUZXh0U3RhdGUudGV4dEJhc2VsaW5lICE9IHRleHRTdGF0ZS50ZXh0QmFzZWxpbmUpIHtcbiAgICAgICAgY29udGV4dFRleHRTdGF0ZS50ZXh0QmFzZWxpbmUgPSBjb250ZXh0LnRleHRCYXNlbGluZSA9XG4gICAgICAgICAgLyoqIEB0eXBlIHtDYW52YXNUZXh0QmFzZWxpbmV9ICovICh0ZXh0U3RhdGUudGV4dEJhc2VsaW5lKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgZmlsbCBhbmQgc3Ryb2tlIHN0eWxlIGZvciBzdWJzZXF1ZW50IGRyYXcgb3BlcmF0aW9ucy4gIFRvIGNsZWFyXG4gICAqIGVpdGhlciBmaWxsIG9yIHN0cm9rZSBzdHlsZXMsIHBhc3MgbnVsbCBmb3IgdGhlIGFwcHJvcHJpYXRlIHBhcmFtZXRlci5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9GaWxsLmpzXCIpLmRlZmF1bHR9IGZpbGxTdHlsZSBGaWxsIHN0eWxlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3N0eWxlL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBzdHJva2VTdHlsZSBTdHJva2Ugc3R5bGUuXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLnNldEZpbGxTdHJva2VTdHlsZSA9IGZ1bmN0aW9uIHNldEZpbGxTdHJva2VTdHlsZSAoZmlsbFN0eWxlLCBzdHJva2VTdHlsZSkge1xuICAgIGlmICghZmlsbFN0eWxlKSB7XG4gICAgICB0aGlzLmZpbGxTdGF0ZV8gPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZmlsbFN0eWxlQ29sb3IgPSBmaWxsU3R5bGUuZ2V0Q29sb3IoKTtcbiAgICAgIHRoaXMuZmlsbFN0YXRlXyA9IHtcbiAgICAgICAgZmlsbFN0eWxlOiBhc0NvbG9yTGlrZShmaWxsU3R5bGVDb2xvciA/XG4gICAgICAgICAgZmlsbFN0eWxlQ29sb3IgOiBkZWZhdWx0RmlsbFN0eWxlKVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKCFzdHJva2VTdHlsZSkge1xuICAgICAgdGhpcy5zdHJva2VTdGF0ZV8gPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgc3Ryb2tlU3R5bGVDb2xvciA9IHN0cm9rZVN0eWxlLmdldENvbG9yKCk7XG4gICAgICB2YXIgc3Ryb2tlU3R5bGVMaW5lQ2FwID0gc3Ryb2tlU3R5bGUuZ2V0TGluZUNhcCgpO1xuICAgICAgdmFyIHN0cm9rZVN0eWxlTGluZURhc2ggPSBzdHJva2VTdHlsZS5nZXRMaW5lRGFzaCgpO1xuICAgICAgdmFyIHN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXQgPSBzdHJva2VTdHlsZS5nZXRMaW5lRGFzaE9mZnNldCgpO1xuICAgICAgdmFyIHN0cm9rZVN0eWxlTGluZUpvaW4gPSBzdHJva2VTdHlsZS5nZXRMaW5lSm9pbigpO1xuICAgICAgdmFyIHN0cm9rZVN0eWxlV2lkdGggPSBzdHJva2VTdHlsZS5nZXRXaWR0aCgpO1xuICAgICAgdmFyIHN0cm9rZVN0eWxlTWl0ZXJMaW1pdCA9IHN0cm9rZVN0eWxlLmdldE1pdGVyTGltaXQoKTtcbiAgICAgIHRoaXMuc3Ryb2tlU3RhdGVfID0ge1xuICAgICAgICBsaW5lQ2FwOiBzdHJva2VTdHlsZUxpbmVDYXAgIT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgc3Ryb2tlU3R5bGVMaW5lQ2FwIDogZGVmYXVsdExpbmVDYXAsXG4gICAgICAgIGxpbmVEYXNoOiBzdHJva2VTdHlsZUxpbmVEYXNoID9cbiAgICAgICAgICBzdHJva2VTdHlsZUxpbmVEYXNoIDogZGVmYXVsdExpbmVEYXNoLFxuICAgICAgICBsaW5lRGFzaE9mZnNldDogc3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldCA/XG4gICAgICAgICAgc3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldCA6IGRlZmF1bHRMaW5lRGFzaE9mZnNldCxcbiAgICAgICAgbGluZUpvaW46IHN0cm9rZVN0eWxlTGluZUpvaW4gIT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgc3Ryb2tlU3R5bGVMaW5lSm9pbiA6IGRlZmF1bHRMaW5lSm9pbixcbiAgICAgICAgbGluZVdpZHRoOiB0aGlzLnBpeGVsUmF0aW9fICogKHN0cm9rZVN0eWxlV2lkdGggIT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgc3Ryb2tlU3R5bGVXaWR0aCA6IGRlZmF1bHRMaW5lV2lkdGgpLFxuICAgICAgICBtaXRlckxpbWl0OiBzdHJva2VTdHlsZU1pdGVyTGltaXQgIT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgc3Ryb2tlU3R5bGVNaXRlckxpbWl0IDogZGVmYXVsdE1pdGVyTGltaXQsXG4gICAgICAgIHN0cm9rZVN0eWxlOiBhc0NvbG9yTGlrZShzdHJva2VTdHlsZUNvbG9yID9cbiAgICAgICAgICBzdHJva2VTdHlsZUNvbG9yIDogZGVmYXVsdFN0cm9rZVN0eWxlKVxuICAgICAgfTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgaW1hZ2Ugc3R5bGUgZm9yIHN1YnNlcXVlbnQgZHJhdyBvcGVyYXRpb25zLiAgUGFzcyBudWxsIHRvIHJlbW92ZVxuICAgKiB0aGUgaW1hZ2Ugc3R5bGUuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvSW1hZ2UuanNcIikuZGVmYXVsdH0gaW1hZ2VTdHlsZSBJbWFnZSBzdHlsZS5cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuc2V0SW1hZ2VTdHlsZSA9IGZ1bmN0aW9uIHNldEltYWdlU3R5bGUgKGltYWdlU3R5bGUpIHtcbiAgICBpZiAoIWltYWdlU3R5bGUpIHtcbiAgICAgIHRoaXMuaW1hZ2VfID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGltYWdlQW5jaG9yID0gaW1hZ2VTdHlsZS5nZXRBbmNob3IoKTtcbiAgICAgIC8vIEZJWE1FIHBpeGVsIHJhdGlvXG4gICAgICB2YXIgaW1hZ2VJbWFnZSA9IGltYWdlU3R5bGUuZ2V0SW1hZ2UoMSk7XG4gICAgICB2YXIgaW1hZ2VPcmlnaW4gPSBpbWFnZVN0eWxlLmdldE9yaWdpbigpO1xuICAgICAgdmFyIGltYWdlU2l6ZSA9IGltYWdlU3R5bGUuZ2V0U2l6ZSgpO1xuICAgICAgdGhpcy5pbWFnZUFuY2hvclhfID0gaW1hZ2VBbmNob3JbMF07XG4gICAgICB0aGlzLmltYWdlQW5jaG9yWV8gPSBpbWFnZUFuY2hvclsxXTtcbiAgICAgIHRoaXMuaW1hZ2VIZWlnaHRfID0gaW1hZ2VTaXplWzFdO1xuICAgICAgdGhpcy5pbWFnZV8gPSBpbWFnZUltYWdlO1xuICAgICAgdGhpcy5pbWFnZU9wYWNpdHlfID0gaW1hZ2VTdHlsZS5nZXRPcGFjaXR5KCk7XG4gICAgICB0aGlzLmltYWdlT3JpZ2luWF8gPSBpbWFnZU9yaWdpblswXTtcbiAgICAgIHRoaXMuaW1hZ2VPcmlnaW5ZXyA9IGltYWdlT3JpZ2luWzFdO1xuICAgICAgdGhpcy5pbWFnZVJvdGF0ZVdpdGhWaWV3XyA9IGltYWdlU3R5bGUuZ2V0Um90YXRlV2l0aFZpZXcoKTtcbiAgICAgIHRoaXMuaW1hZ2VSb3RhdGlvbl8gPSBpbWFnZVN0eWxlLmdldFJvdGF0aW9uKCk7XG4gICAgICB0aGlzLmltYWdlU2NhbGVfID0gaW1hZ2VTdHlsZS5nZXRTY2FsZSgpICogdGhpcy5waXhlbFJhdGlvXztcbiAgICAgIHRoaXMuaW1hZ2VXaWR0aF8gPSBpbWFnZVNpemVbMF07XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHRleHQgc3R5bGUgZm9yIHN1YnNlcXVlbnQgZHJhdyBvcGVyYXRpb25zLiAgUGFzcyBudWxsIHRvXG4gICAqIHJlbW92ZSB0aGUgdGV4dCBzdHlsZS5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9UZXh0LmpzXCIpLmRlZmF1bHR9IHRleHRTdHlsZSBUZXh0IHN0eWxlLlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5zZXRUZXh0U3R5bGUgPSBmdW5jdGlvbiBzZXRUZXh0U3R5bGUgKHRleHRTdHlsZSkge1xuICAgIGlmICghdGV4dFN0eWxlKSB7XG4gICAgICB0aGlzLnRleHRfID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB0ZXh0RmlsbFN0eWxlID0gdGV4dFN0eWxlLmdldEZpbGwoKTtcbiAgICAgIGlmICghdGV4dEZpbGxTdHlsZSkge1xuICAgICAgICB0aGlzLnRleHRGaWxsU3RhdGVfID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0ZXh0RmlsbFN0eWxlQ29sb3IgPSB0ZXh0RmlsbFN0eWxlLmdldENvbG9yKCk7XG4gICAgICAgIHRoaXMudGV4dEZpbGxTdGF0ZV8gPSB7XG4gICAgICAgICAgZmlsbFN0eWxlOiBhc0NvbG9yTGlrZSh0ZXh0RmlsbFN0eWxlQ29sb3IgP1xuICAgICAgICAgICAgdGV4dEZpbGxTdHlsZUNvbG9yIDogZGVmYXVsdEZpbGxTdHlsZSlcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHZhciB0ZXh0U3Ryb2tlU3R5bGUgPSB0ZXh0U3R5bGUuZ2V0U3Ryb2tlKCk7XG4gICAgICBpZiAoIXRleHRTdHJva2VTdHlsZSkge1xuICAgICAgICB0aGlzLnRleHRTdHJva2VTdGF0ZV8gPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHRleHRTdHJva2VTdHlsZUNvbG9yID0gdGV4dFN0cm9rZVN0eWxlLmdldENvbG9yKCk7XG4gICAgICAgIHZhciB0ZXh0U3Ryb2tlU3R5bGVMaW5lQ2FwID0gdGV4dFN0cm9rZVN0eWxlLmdldExpbmVDYXAoKTtcbiAgICAgICAgdmFyIHRleHRTdHJva2VTdHlsZUxpbmVEYXNoID0gdGV4dFN0cm9rZVN0eWxlLmdldExpbmVEYXNoKCk7XG4gICAgICAgIHZhciB0ZXh0U3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldCA9IHRleHRTdHJva2VTdHlsZS5nZXRMaW5lRGFzaE9mZnNldCgpO1xuICAgICAgICB2YXIgdGV4dFN0cm9rZVN0eWxlTGluZUpvaW4gPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0TGluZUpvaW4oKTtcbiAgICAgICAgdmFyIHRleHRTdHJva2VTdHlsZVdpZHRoID0gdGV4dFN0cm9rZVN0eWxlLmdldFdpZHRoKCk7XG4gICAgICAgIHZhciB0ZXh0U3Ryb2tlU3R5bGVNaXRlckxpbWl0ID0gdGV4dFN0cm9rZVN0eWxlLmdldE1pdGVyTGltaXQoKTtcbiAgICAgICAgdGhpcy50ZXh0U3Ryb2tlU3RhdGVfID0ge1xuICAgICAgICAgIGxpbmVDYXA6IHRleHRTdHJva2VTdHlsZUxpbmVDYXAgIT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICB0ZXh0U3Ryb2tlU3R5bGVMaW5lQ2FwIDogZGVmYXVsdExpbmVDYXAsXG4gICAgICAgICAgbGluZURhc2g6IHRleHRTdHJva2VTdHlsZUxpbmVEYXNoID9cbiAgICAgICAgICAgIHRleHRTdHJva2VTdHlsZUxpbmVEYXNoIDogZGVmYXVsdExpbmVEYXNoLFxuICAgICAgICAgIGxpbmVEYXNoT2Zmc2V0OiB0ZXh0U3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldCA/XG4gICAgICAgICAgICB0ZXh0U3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldCA6IGRlZmF1bHRMaW5lRGFzaE9mZnNldCxcbiAgICAgICAgICBsaW5lSm9pbjogdGV4dFN0cm9rZVN0eWxlTGluZUpvaW4gIT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICB0ZXh0U3Ryb2tlU3R5bGVMaW5lSm9pbiA6IGRlZmF1bHRMaW5lSm9pbixcbiAgICAgICAgICBsaW5lV2lkdGg6IHRleHRTdHJva2VTdHlsZVdpZHRoICE9PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgdGV4dFN0cm9rZVN0eWxlV2lkdGggOiBkZWZhdWx0TGluZVdpZHRoLFxuICAgICAgICAgIG1pdGVyTGltaXQ6IHRleHRTdHJva2VTdHlsZU1pdGVyTGltaXQgIT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICB0ZXh0U3Ryb2tlU3R5bGVNaXRlckxpbWl0IDogZGVmYXVsdE1pdGVyTGltaXQsXG4gICAgICAgICAgc3Ryb2tlU3R5bGU6IGFzQ29sb3JMaWtlKHRleHRTdHJva2VTdHlsZUNvbG9yID9cbiAgICAgICAgICAgIHRleHRTdHJva2VTdHlsZUNvbG9yIDogZGVmYXVsdFN0cm9rZVN0eWxlKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgdmFyIHRleHRGb250ID0gdGV4dFN0eWxlLmdldEZvbnQoKTtcbiAgICAgIHZhciB0ZXh0T2Zmc2V0WCA9IHRleHRTdHlsZS5nZXRPZmZzZXRYKCk7XG4gICAgICB2YXIgdGV4dE9mZnNldFkgPSB0ZXh0U3R5bGUuZ2V0T2Zmc2V0WSgpO1xuICAgICAgdmFyIHRleHRSb3RhdGVXaXRoVmlldyA9IHRleHRTdHlsZS5nZXRSb3RhdGVXaXRoVmlldygpO1xuICAgICAgdmFyIHRleHRSb3RhdGlvbiA9IHRleHRTdHlsZS5nZXRSb3RhdGlvbigpO1xuICAgICAgdmFyIHRleHRTY2FsZSA9IHRleHRTdHlsZS5nZXRTY2FsZSgpO1xuICAgICAgdmFyIHRleHRUZXh0ID0gdGV4dFN0eWxlLmdldFRleHQoKTtcbiAgICAgIHZhciB0ZXh0VGV4dEFsaWduID0gdGV4dFN0eWxlLmdldFRleHRBbGlnbigpO1xuICAgICAgdmFyIHRleHRUZXh0QmFzZWxpbmUgPSB0ZXh0U3R5bGUuZ2V0VGV4dEJhc2VsaW5lKCk7XG4gICAgICB0aGlzLnRleHRTdGF0ZV8gPSB7XG4gICAgICAgIGZvbnQ6IHRleHRGb250ICE9PSB1bmRlZmluZWQgP1xuICAgICAgICAgIHRleHRGb250IDogZGVmYXVsdEZvbnQsXG4gICAgICAgIHRleHRBbGlnbjogdGV4dFRleHRBbGlnbiAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgICB0ZXh0VGV4dEFsaWduIDogZGVmYXVsdFRleHRBbGlnbixcbiAgICAgICAgdGV4dEJhc2VsaW5lOiB0ZXh0VGV4dEJhc2VsaW5lICE9PSB1bmRlZmluZWQgP1xuICAgICAgICAgIHRleHRUZXh0QmFzZWxpbmUgOiBkZWZhdWx0VGV4dEJhc2VsaW5lXG4gICAgICB9O1xuICAgICAgdGhpcy50ZXh0XyA9IHRleHRUZXh0ICE9PSB1bmRlZmluZWQgPyB0ZXh0VGV4dCA6ICcnO1xuICAgICAgdGhpcy50ZXh0T2Zmc2V0WF8gPVxuICAgICAgICAgIHRleHRPZmZzZXRYICE9PSB1bmRlZmluZWQgPyAodGhpcy5waXhlbFJhdGlvXyAqIHRleHRPZmZzZXRYKSA6IDA7XG4gICAgICB0aGlzLnRleHRPZmZzZXRZXyA9XG4gICAgICAgICAgdGV4dE9mZnNldFkgIT09IHVuZGVmaW5lZCA/ICh0aGlzLnBpeGVsUmF0aW9fICogdGV4dE9mZnNldFkpIDogMDtcbiAgICAgIHRoaXMudGV4dFJvdGF0ZVdpdGhWaWV3XyA9IHRleHRSb3RhdGVXaXRoVmlldyAhPT0gdW5kZWZpbmVkID8gdGV4dFJvdGF0ZVdpdGhWaWV3IDogZmFsc2U7XG4gICAgICB0aGlzLnRleHRSb3RhdGlvbl8gPSB0ZXh0Um90YXRpb24gIT09IHVuZGVmaW5lZCA/IHRleHRSb3RhdGlvbiA6IDA7XG4gICAgICB0aGlzLnRleHRTY2FsZV8gPSB0aGlzLnBpeGVsUmF0aW9fICogKHRleHRTY2FsZSAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgdGV4dFNjYWxlIDogMSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBDYW52YXNJbW1lZGlhdGVSZW5kZXJlcjtcbn0oVmVjdG9yQ29udGV4dCkpO1xuXG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbW1lZGlhdGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9FdmVudFxuICovXG5cbmltcG9ydCBFdmVudCBmcm9tICcuLi9ldmVudHMvRXZlbnQuanMnO1xuXG52YXIgUmVuZGVyRXZlbnQgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChFdmVudCkge1xuICBmdW5jdGlvbiBSZW5kZXJFdmVudCh0eXBlLCBvcHRfdmVjdG9yQ29udGV4dCwgb3B0X2ZyYW1lU3RhdGUsIG9wdF9jb250ZXh0LCBvcHRfZ2xDb250ZXh0KSB7XG5cbiAgICBFdmVudC5jYWxsKHRoaXMsIHR5cGUpO1xuXG4gICAgLyoqXG4gICAgICogRm9yIGNhbnZhcywgdGhpcyBpcyBhbiBpbnN0YW5jZSBvZiB7QGxpbmsgbW9kdWxlOm9sL3JlbmRlci9jYW52YXMvSW1tZWRpYXRlfS5cbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9WZWN0b3JDb250ZXh0LmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLnZlY3RvckNvbnRleHQgPSBvcHRfdmVjdG9yQ29udGV4dDtcblxuICAgIC8qKlxuICAgICAqIEFuIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgcmVuZGVyIGZyYW1lIHN0YXRlLlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZXx1bmRlZmluZWR9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMuZnJhbWVTdGF0ZSA9IG9wdF9mcmFtZVN0YXRlO1xuXG4gICAgLyoqXG4gICAgICogQ2FudmFzIGNvbnRleHQuIE9ubHkgYXZhaWxhYmxlIHdoZW4gYSBDYW52YXMgcmVuZGVyZXIgaXMgdXNlZCwgbnVsbFxuICAgICAqIG90aGVyd2lzZS5cbiAgICAgKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfG51bGx8dW5kZWZpbmVkfVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLmNvbnRleHQgPSBvcHRfY29udGV4dDtcblxuICAgIC8qKlxuICAgICAqIFdlYkdMIGNvbnRleHQuIE9ubHkgYXZhaWxhYmxlIHdoZW4gYSBXZWJHTCByZW5kZXJlciBpcyB1c2VkLCBudWxsXG4gICAgICogb3RoZXJ3aXNlLlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi93ZWJnbC9Db250ZXh0LmpzXCIpLmRlZmF1bHR8bnVsbHx1bmRlZmluZWR9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMuZ2xDb250ZXh0ID0gb3B0X2dsQ29udGV4dDtcblxuICB9XG5cbiAgaWYgKCBFdmVudCApIFJlbmRlckV2ZW50Ll9fcHJvdG9fXyA9IEV2ZW50O1xuICBSZW5kZXJFdmVudC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBFdmVudCAmJiBFdmVudC5wcm90b3R5cGUgKTtcbiAgUmVuZGVyRXZlbnQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUmVuZGVyRXZlbnQ7XG5cbiAgcmV0dXJuIFJlbmRlckV2ZW50O1xufShFdmVudCkpO1xuXG5leHBvcnQgZGVmYXVsdCBSZW5kZXJFdmVudDtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXZlbnQuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL0ltYWdlQ2FudmFzXG4gKi9cbmltcG9ydCBJbWFnZUJhc2UgZnJvbSAnLi9JbWFnZUJhc2UuanMnO1xuaW1wb3J0IEltYWdlU3RhdGUgZnJvbSAnLi9JbWFnZVN0YXRlLmpzJztcblxuXG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgdG8gdHJpZ2dlciBhc3luY2hyb25vdXMgY2FudmFzIGRyYXdpbmcuICBJdCBpc1xuICogY2FsbGVkIHdpdGggYSBcImRvbmVcIiBjYWxsYmFjayB0aGF0IHNob3VsZCBiZSBjYWxsZWQgd2hlbiBkcmF3aW5nIGlzIGRvbmUuXG4gKiBJZiBhbnkgZXJyb3Igb2NjdXJzIGR1cmluZyBkcmF3aW5nLCB0aGUgXCJkb25lXCIgY2FsbGJhY2sgc2hvdWxkIGJlIGNhbGxlZCB3aXRoXG4gKiB0aGF0IGVycm9yLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihmdW5jdGlvbihFcnJvcj0pKX0gTG9hZGVyXG4gKi9cblxuXG52YXIgSW1hZ2VDYW52YXMgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChJbWFnZUJhc2UpIHtcbiAgZnVuY3Rpb24gSW1hZ2VDYW52YXMoZXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvLCBjYW52YXMsIG9wdF9sb2FkZXIpIHtcblxuICAgIHZhciBzdGF0ZSA9IG9wdF9sb2FkZXIgIT09IHVuZGVmaW5lZCA/IEltYWdlU3RhdGUuSURMRSA6IEltYWdlU3RhdGUuTE9BREVEO1xuXG4gICAgSW1hZ2VCYXNlLmNhbGwodGhpcywgZXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvLCBzdGF0ZSk7XG5cbiAgICAvKipcbiAgICAgKiBPcHRpb25hbCBjYW52YXMgbG9hZGVyIGZ1bmN0aW9uLlxuICAgICAqIEB0eXBlIHs/TG9hZGVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5sb2FkZXJfID0gb3B0X2xvYWRlciAhPT0gdW5kZWZpbmVkID8gb3B0X2xvYWRlciA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmNhbnZhc18gPSBjYW52YXM7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtFcnJvcn1cbiAgICAgKi9cbiAgICB0aGlzLmVycm9yXyA9IG51bGw7XG5cbiAgfVxuXG4gIGlmICggSW1hZ2VCYXNlICkgSW1hZ2VDYW52YXMuX19wcm90b19fID0gSW1hZ2VCYXNlO1xuICBJbWFnZUNhbnZhcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBJbWFnZUJhc2UgJiYgSW1hZ2VCYXNlLnByb3RvdHlwZSApO1xuICBJbWFnZUNhbnZhcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBJbWFnZUNhbnZhcztcblxuICAvKipcbiAgICogR2V0IGFueSBlcnJvciBhc3NvY2lhdGVkIHdpdGggYXN5bmNocm9ub3VzIHJlbmRlcmluZy5cbiAgICogQHJldHVybiB7RXJyb3J9IEFueSBlcnJvciB0aGF0IG9jY3VycmVkIGR1cmluZyByZW5kZXJpbmcuXG4gICAqL1xuICBJbWFnZUNhbnZhcy5wcm90b3R5cGUuZ2V0RXJyb3IgPSBmdW5jdGlvbiBnZXRFcnJvciAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXJyb3JfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgYXN5bmMgZHJhd2luZyBjb21wbGV0ZS5cbiAgICogQHBhcmFtIHtFcnJvcj19IGVyciBBbnkgZXJyb3IgZHVyaW5nIGRyYXdpbmcuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBJbWFnZUNhbnZhcy5wcm90b3R5cGUuaGFuZGxlTG9hZF8gPSBmdW5jdGlvbiBoYW5kbGVMb2FkXyAoZXJyKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgdGhpcy5lcnJvcl8gPSBlcnI7XG4gICAgICB0aGlzLnN0YXRlID0gSW1hZ2VTdGF0ZS5FUlJPUjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdGF0ZSA9IEltYWdlU3RhdGUuTE9BREVEO1xuICAgIH1cbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIEltYWdlQ2FudmFzLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gbG9hZCAoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT0gSW1hZ2VTdGF0ZS5JRExFKSB7XG4gICAgICB0aGlzLnN0YXRlID0gSW1hZ2VTdGF0ZS5MT0FESU5HO1xuICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgICB0aGlzLmxvYWRlcl8odGhpcy5oYW5kbGVMb2FkXy5iaW5kKHRoaXMpKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fSBDYW52YXMgZWxlbWVudC5cbiAgICovXG4gIEltYWdlQ2FudmFzLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uIGdldEltYWdlICgpIHtcbiAgICByZXR1cm4gdGhpcy5jYW52YXNfO1xuICB9O1xuXG4gIHJldHVybiBJbWFnZUNhbnZhcztcbn0oSW1hZ2VCYXNlKSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VDYW52YXM7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUltYWdlQ2FudmFzLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9JbWFnZUJhc2VcbiAqL1xuaW1wb3J0IHthYnN0cmFjdH0gZnJvbSAnLi91dGlsLmpzJztcbmltcG9ydCBFdmVudFRhcmdldCBmcm9tICcuL2V2ZW50cy9UYXJnZXQuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuXG4vKipcbiAqIEBhYnN0cmFjdFxuICovXG52YXIgSW1hZ2VCYXNlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRXZlbnRUYXJnZXQpIHtcbiAgZnVuY3Rpb24gSW1hZ2VCYXNlKGV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbywgc3RhdGUpIHtcblxuICAgIEV2ZW50VGFyZ2V0LmNhbGwodGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgKi9cbiAgICB0aGlzLmV4dGVudCA9IGV4dGVudDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnBpeGVsUmF0aW9fID0gcGl4ZWxSYXRpbztcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG5cbiAgfVxuXG4gIGlmICggRXZlbnRUYXJnZXQgKSBJbWFnZUJhc2UuX19wcm90b19fID0gRXZlbnRUYXJnZXQ7XG4gIEltYWdlQmFzZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBFdmVudFRhcmdldCAmJiBFdmVudFRhcmdldC5wcm90b3R5cGUgKTtcbiAgSW1hZ2VCYXNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEltYWdlQmFzZTtcblxuICAvKipcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgSW1hZ2VCYXNlLnByb3RvdHlwZS5jaGFuZ2VkID0gZnVuY3Rpb24gY2hhbmdlZCAoKSB7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KEV2ZW50VHlwZS5DSEFOR0UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IEV4dGVudC5cbiAgICovXG4gIEltYWdlQmFzZS5wcm90b3R5cGUuZ2V0RXh0ZW50ID0gZnVuY3Rpb24gZ2V0RXh0ZW50ICgpIHtcbiAgICByZXR1cm4gdGhpcy5leHRlbnQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IEltYWdlLlxuICAgKi9cbiAgSW1hZ2VCYXNlLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uIGdldEltYWdlICgpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfTtcblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfSBQaXhlbFJhdGlvLlxuICAgKi9cbiAgSW1hZ2VCYXNlLnByb3RvdHlwZS5nZXRQaXhlbFJhdGlvID0gZnVuY3Rpb24gZ2V0UGl4ZWxSYXRpbyAoKSB7XG4gICAgcmV0dXJuIHRoaXMucGl4ZWxSYXRpb187XG4gIH07XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn0gUmVzb2x1dGlvbi5cbiAgICovXG4gIEltYWdlQmFzZS5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbiA9IGZ1bmN0aW9uIGdldFJlc29sdXRpb24gKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMucmVzb2x1dGlvbik7XG4gIH07XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vSW1hZ2VTdGF0ZS5qc1wiKS5kZWZhdWx0fSBTdGF0ZS5cbiAgICovXG4gIEltYWdlQmFzZS5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbiBnZXRTdGF0ZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gIH07XG5cbiAgLyoqXG4gICAqIExvYWQgbm90IHlldCBsb2FkZWQgVVJJLlxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIEltYWdlQmFzZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQgKCkge1xuICAgIGFic3RyYWN0KCk7XG4gIH07XG5cbiAgcmV0dXJuIEltYWdlQmFzZTtcbn0oRXZlbnRUYXJnZXQpKTtcblxuXG5leHBvcnQgZGVmYXVsdCBJbWFnZUJhc2U7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUltYWdlQmFzZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyZXIvY2FudmFzL0ludGVybWVkaWF0ZUNhbnZhc1xuICovXG5pbXBvcnQge2Fic3RyYWN0fSBmcm9tICcuLi8uLi91dGlsLmpzJztcbmltcG9ydCB7c2NhbGUgYXMgc2NhbGVDb29yZGluYXRlfSBmcm9tICcuLi8uLi9jb29yZGluYXRlLmpzJztcbmltcG9ydCB7Y3JlYXRlQ2FudmFzQ29udGV4dDJEfSBmcm9tICcuLi8uLi9kb20uanMnO1xuaW1wb3J0IHtjb250YWluc0V4dGVudCwgaW50ZXJzZWN0c30gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCBDYW52YXNMYXllclJlbmRlcmVyIGZyb20gJy4vTGF5ZXIuanMnO1xuaW1wb3J0IHtjcmVhdGUgYXMgY3JlYXRlVHJhbnNmb3JtLCBhcHBseSBhcyBhcHBseVRyYW5zZm9ybX0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtLmpzJztcblxuLyoqXG4gKiBAYWJzdHJhY3RcbiAqL1xudmFyIEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQ2FudmFzTGF5ZXJSZW5kZXJlcikge1xuICBmdW5jdGlvbiBJbnRlcm1lZGlhdGVDYW52YXNSZW5kZXJlcihsYXllcikge1xuXG4gICAgQ2FudmFzTGF5ZXJSZW5kZXJlci5jYWxsKHRoaXMsIGxheWVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgKi9cbiAgICB0aGlzLmNvb3JkaW5hdGVUb0NhbnZhc1BpeGVsVHJhbnNmb3JtID0gY3JlYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICovXG4gICAgdGhpcy5oaXRDYW52YXNDb250ZXh0XyA9IG51bGw7XG5cbiAgfVxuXG4gIGlmICggQ2FudmFzTGF5ZXJSZW5kZXJlciApIEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyLl9fcHJvdG9fXyA9IENhbnZhc0xheWVyUmVuZGVyZXI7XG4gIEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIENhbnZhc0xheWVyUmVuZGVyZXIgJiYgQ2FudmFzTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUgKTtcbiAgSW50ZXJtZWRpYXRlQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSW50ZXJtZWRpYXRlQ2FudmFzUmVuZGVyZXI7XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBJbnRlcm1lZGlhdGVDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuY29tcG9zZUZyYW1lID0gZnVuY3Rpb24gY29tcG9zZUZyYW1lIChmcmFtZVN0YXRlLCBsYXllclN0YXRlLCBjb250ZXh0KSB7XG5cbiAgICB0aGlzLnByZUNvbXBvc2UoY29udGV4dCwgZnJhbWVTdGF0ZSk7XG5cbiAgICB2YXIgaW1hZ2UgPSB0aGlzLmdldEltYWdlKCk7XG4gICAgaWYgKGltYWdlKSB7XG5cbiAgICAgIC8vIGNsaXBwZWQgcmVuZGVyaW5nIGlmIGxheWVyIGV4dGVudCBpcyBzZXRcbiAgICAgIHZhciBleHRlbnQgPSBsYXllclN0YXRlLmV4dGVudDtcbiAgICAgIHZhciBjbGlwcGVkID0gZXh0ZW50ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAhY29udGFpbnNFeHRlbnQoZXh0ZW50LCBmcmFtZVN0YXRlLmV4dGVudCkgJiZcbiAgICAgICAgICBpbnRlcnNlY3RzKGV4dGVudCwgZnJhbWVTdGF0ZS5leHRlbnQpO1xuICAgICAgaWYgKGNsaXBwZWQpIHtcbiAgICAgICAgdGhpcy5jbGlwKGNvbnRleHQsIGZyYW1lU3RhdGUsIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gKi8gKGV4dGVudCkpO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW1hZ2VUcmFuc2Zvcm0gPSB0aGlzLmdldEltYWdlVHJhbnNmb3JtKCk7XG4gICAgICAvLyBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucywgY29udGV4dC5zYXZlIC8gY29udGV4dC5yZXN0b3JlIGlzIG5vdCB1c2VkXG4gICAgICAvLyB0byBzYXZlIGFuZCByZXN0b3JlIHRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggYW5kIHRoZSBvcGFjaXR5LlxuICAgICAgLy8gc2VlIGh0dHA6Ly9qc3BlcmYuY29tL2NvbnRleHQtc2F2ZS1yZXN0b3JlLXZlcnN1cy12YXJpYWJsZVxuICAgICAgdmFyIGFscGhhID0gY29udGV4dC5nbG9iYWxBbHBoYTtcbiAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBsYXllclN0YXRlLm9wYWNpdHk7XG5cbiAgICAgIC8vIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLCBjb250ZXh0LnNldFRyYW5zZm9ybSBpcyBvbmx5IHVzZWRcbiAgICAgIC8vIHdoZW4gdGhlIHZpZXcgaXMgcm90YXRlZC4gc2VlIGh0dHA6Ly9qc3BlcmYuY29tL2NhbnZhcy10cmFuc2Zvcm1cbiAgICAgIHZhciBkeCA9IGltYWdlVHJhbnNmb3JtWzRdO1xuICAgICAgdmFyIGR5ID0gaW1hZ2VUcmFuc2Zvcm1bNV07XG4gICAgICB2YXIgZHcgPSBpbWFnZS53aWR0aCAqIGltYWdlVHJhbnNmb3JtWzBdO1xuICAgICAgdmFyIGRoID0gaW1hZ2UuaGVpZ2h0ICogaW1hZ2VUcmFuc2Zvcm1bM107XG4gICAgICBpZiAoZHcgPj0gMC41ICYmIGRoID49IDAuNSkge1xuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgMCwgMCwgK2ltYWdlLndpZHRoLCAraW1hZ2UuaGVpZ2h0LFxuICAgICAgICAgIE1hdGgucm91bmQoZHgpLCBNYXRoLnJvdW5kKGR5KSwgTWF0aC5yb3VuZChkdyksIE1hdGgucm91bmQoZGgpKTtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBhbHBoYTtcblxuICAgICAgaWYgKGNsaXBwZWQpIHtcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5wb3N0Q29tcG9zZShjb250ZXh0LCBmcmFtZVN0YXRlLCBsYXllclN0YXRlKTtcbiAgfTtcblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudH0gQ2FudmFzLlxuICAgKi9cbiAgSW50ZXJtZWRpYXRlQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gZ2V0SW1hZ2UgKCkge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHJldHVybiB7IWltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IEltYWdlIHRyYW5zZm9ybS5cbiAgICovXG4gIEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5nZXRJbWFnZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIGdldEltYWdlVHJhbnNmb3JtICgpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5mb3JFYWNoTGF5ZXJBdENvb3JkaW5hdGUgPSBmdW5jdGlvbiBmb3JFYWNoTGF5ZXJBdENvb3JkaW5hdGUgKGNvb3JkaW5hdGUsIGZyYW1lU3RhdGUsIGhpdFRvbGVyYW5jZSwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICBpZiAoIXRoaXMuZ2V0SW1hZ2UoKSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB2YXIgcGl4ZWwgPSBhcHBseVRyYW5zZm9ybSh0aGlzLmNvb3JkaW5hdGVUb0NhbnZhc1BpeGVsVHJhbnNmb3JtLCBjb29yZGluYXRlLnNsaWNlKCkpO1xuICAgIHNjYWxlQ29vcmRpbmF0ZShwaXhlbCwgZnJhbWVTdGF0ZS52aWV3U3RhdGUucmVzb2x1dGlvbiAvIHRoaXMucmVuZGVyZWRSZXNvbHV0aW9uKTtcblxuICAgIGlmICghdGhpcy5oaXRDYW52YXNDb250ZXh0Xykge1xuICAgICAgdGhpcy5oaXRDYW52YXNDb250ZXh0XyA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCgxLCAxKTtcbiAgICB9XG5cbiAgICB0aGlzLmhpdENhbnZhc0NvbnRleHRfLmNsZWFyUmVjdCgwLCAwLCAxLCAxKTtcbiAgICB0aGlzLmhpdENhbnZhc0NvbnRleHRfLmRyYXdJbWFnZSh0aGlzLmdldEltYWdlKCksIHBpeGVsWzBdLCBwaXhlbFsxXSwgMSwgMSwgMCwgMCwgMSwgMSk7XG5cbiAgICB2YXIgaW1hZ2VEYXRhID0gdGhpcy5oaXRDYW52YXNDb250ZXh0Xy5nZXRJbWFnZURhdGEoMCwgMCwgMSwgMSkuZGF0YTtcbiAgICBpZiAoaW1hZ2VEYXRhWzNdID4gMCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpcy5nZXRMYXllcigpLCBpbWFnZURhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gSW50ZXJtZWRpYXRlQ2FudmFzUmVuZGVyZXI7XG59KENhbnZhc0xheWVyUmVuZGVyZXIpKTtcblxuXG5leHBvcnQgZGVmYXVsdCBJbnRlcm1lZGlhdGVDYW52YXNSZW5kZXJlcjtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW50ZXJtZWRpYXRlQ2FudmFzLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHJ1Y3RzL0xSVUNhY2hlXG4gKi9cblxuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuaW1wb3J0IEV2ZW50VGFyZ2V0IGZyb20gJy4uL2V2ZW50cy9UYXJnZXQuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEVudHJ5XG4gKiBAcHJvcGVydHkge3N0cmluZ30ga2V5X1xuICogQHByb3BlcnR5IHtPYmplY3R9IG5ld2VyXG4gKiBAcHJvcGVydHkge09iamVjdH0gb2xkZXJcbiAqIEBwcm9wZXJ0eSB7Kn0gdmFsdWVfXG4gKi9cblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEltcGxlbWVudHMgYSBMZWFzdC1SZWNlbnRseS1Vc2VkIGNhY2hlIHdoZXJlIHRoZSBrZXlzIGRvIG5vdCBjb25mbGljdCB3aXRoXG4gKiBPYmplY3QncyBwcm9wZXJ0aWVzIChlLmcuICdoYXNPd25Qcm9wZXJ0eScgaXMgbm90IGFsbG93ZWQgYXMgYSBrZXkpLiBFeHBpcmluZ1xuICogaXRlbXMgZnJvbSB0aGUgY2FjaGUgaXMgdGhlIHJlc3BvbnNpYmlsaXR5IG9mIHRoZSB1c2VyLlxuICpcbiAqIEBmaXJlcyBpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuRXZlbnRcbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbnZhciBMUlVDYWNoZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEV2ZW50VGFyZ2V0KSB7XG4gIGZ1bmN0aW9uIExSVUNhY2hlKG9wdF9oaWdoV2F0ZXJNYXJrKSB7XG5cbiAgICBFdmVudFRhcmdldC5jYWxsKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmhpZ2hXYXRlck1hcmsgPSBvcHRfaGlnaFdhdGVyTWFyayAhPT0gdW5kZWZpbmVkID8gb3B0X2hpZ2hXYXRlck1hcmsgOiAyMDQ4O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuY291bnRfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBFbnRyeT59XG4gICAgICovXG4gICAgdGhpcy5lbnRyaWVzXyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P0VudHJ5fVxuICAgICAqL1xuICAgIHRoaXMub2xkZXN0XyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/RW50cnl9XG4gICAgICovXG4gICAgdGhpcy5uZXdlc3RfID0gbnVsbDtcblxuICB9XG5cbiAgaWYgKCBFdmVudFRhcmdldCApIExSVUNhY2hlLl9fcHJvdG9fXyA9IEV2ZW50VGFyZ2V0O1xuICBMUlVDYWNoZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBFdmVudFRhcmdldCAmJiBFdmVudFRhcmdldC5wcm90b3R5cGUgKTtcbiAgTFJVQ2FjaGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTFJVQ2FjaGU7XG5cblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gQ2FuIGV4cGlyZSBjYWNoZS5cbiAgICovXG4gIExSVUNhY2hlLnByb3RvdHlwZS5jYW5FeHBpcmVDYWNoZSA9IGZ1bmN0aW9uIGNhbkV4cGlyZUNhY2hlICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDb3VudCgpID4gdGhpcy5oaWdoV2F0ZXJNYXJrO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEZJWE1FIGVtcHR5IGRlc2NyaXB0aW9uIGZvciBqc2RvY1xuICAgKi9cbiAgTFJVQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKCkge1xuICAgIHRoaXMuY291bnRfID0gMDtcbiAgICB0aGlzLmVudHJpZXNfID0ge307XG4gICAgdGhpcy5vbGRlc3RfID0gbnVsbDtcbiAgICB0aGlzLm5ld2VzdF8gPSBudWxsO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChFdmVudFR5cGUuQ0xFQVIpO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyBrZXkuXG4gICAqL1xuICBMUlVDYWNoZS5wcm90b3R5cGUuY29udGFpbnNLZXkgPSBmdW5jdGlvbiBjb250YWluc0tleSAoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuZW50cmllc18uaGFzT3duUHJvcGVydHkoa2V5KTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6IFMsIFQsIHN0cmluZywgTFJVQ2FjaGUpOiA/fSBmIFRoZSBmdW5jdGlvblxuICAgKiAgICAgdG8gY2FsbCBmb3IgZXZlcnkgZW50cnkgZnJvbSB0aGUgb2xkZXN0IHRvIHRoZSBuZXdlci4gVGhpcyBmdW5jdGlvbiB0YWtlc1xuICAgKiAgICAgMyBhcmd1bWVudHMgKHRoZSBlbnRyeSB2YWx1ZSwgdGhlIGVudHJ5IGtleSBhbmQgdGhlIExSVUNhY2hlIG9iamVjdCkuXG4gICAqICAgICBUaGUgcmV0dXJuIHZhbHVlIGlzIGlnbm9yZWQuXG4gICAqIEBwYXJhbSB7Uz19IG9wdF90aGlzIFRoZSBvYmplY3QgdG8gdXNlIGFzIGB0aGlzYCBpbiBgZmAuXG4gICAqIEB0ZW1wbGF0ZSBTXG4gICAqL1xuICBMUlVDYWNoZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIGZvckVhY2ggKGYsIG9wdF90aGlzKSB7XG4gICAgdmFyIGVudHJ5ID0gdGhpcy5vbGRlc3RfO1xuICAgIHdoaWxlIChlbnRyeSkge1xuICAgICAgZi5jYWxsKG9wdF90aGlzLCBlbnRyeS52YWx1ZV8sIGVudHJ5LmtleV8sIHRoaXMpO1xuICAgICAgZW50cnkgPSBlbnRyeS5uZXdlcjtcbiAgICB9XG4gIH07XG5cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkuXG4gICAqIEByZXR1cm4ge1R9IFZhbHVlLlxuICAgKi9cbiAgTFJVQ2FjaGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoa2V5KSB7XG4gICAgdmFyIGVudHJ5ID0gdGhpcy5lbnRyaWVzX1trZXldO1xuICAgIGFzc2VydChlbnRyeSAhPT0gdW5kZWZpbmVkLFxuICAgICAgMTUpOyAvLyBUcmllZCB0byBnZXQgYSB2YWx1ZSBmb3IgYSBrZXkgdGhhdCBkb2VzIG5vdCBleGlzdCBpbiB0aGUgY2FjaGVcbiAgICBpZiAoZW50cnkgPT09IHRoaXMubmV3ZXN0Xykge1xuICAgICAgcmV0dXJuIGVudHJ5LnZhbHVlXztcbiAgICB9IGVsc2UgaWYgKGVudHJ5ID09PSB0aGlzLm9sZGVzdF8pIHtcbiAgICAgIHRoaXMub2xkZXN0XyA9IC8qKiBAdHlwZSB7RW50cnl9ICovICh0aGlzLm9sZGVzdF8ubmV3ZXIpO1xuICAgICAgdGhpcy5vbGRlc3RfLm9sZGVyID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgZW50cnkubmV3ZXIub2xkZXIgPSBlbnRyeS5vbGRlcjtcbiAgICAgIGVudHJ5Lm9sZGVyLm5ld2VyID0gZW50cnkubmV3ZXI7XG4gICAgfVxuICAgIGVudHJ5Lm5ld2VyID0gbnVsbDtcbiAgICBlbnRyeS5vbGRlciA9IHRoaXMubmV3ZXN0XztcbiAgICB0aGlzLm5ld2VzdF8ubmV3ZXIgPSBlbnRyeTtcbiAgICB0aGlzLm5ld2VzdF8gPSBlbnRyeTtcbiAgICByZXR1cm4gZW50cnkudmFsdWVfO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbiBlbnRyeSBmcm9tIHRoZSBjYWNoZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgZW50cnkga2V5LlxuICAgKiBAcmV0dXJuIHtUfSBUaGUgcmVtb3ZlZCBlbnRyeS5cbiAgICovXG4gIExSVUNhY2hlLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUgKGtleSkge1xuICAgIHZhciBlbnRyeSA9IHRoaXMuZW50cmllc19ba2V5XTtcbiAgICBhc3NlcnQoZW50cnkgIT09IHVuZGVmaW5lZCwgMTUpOyAvLyBUcmllZCB0byBnZXQgYSB2YWx1ZSBmb3IgYSBrZXkgdGhhdCBkb2VzIG5vdCBleGlzdCBpbiB0aGUgY2FjaGVcbiAgICBpZiAoZW50cnkgPT09IHRoaXMubmV3ZXN0Xykge1xuICAgICAgdGhpcy5uZXdlc3RfID0gLyoqIEB0eXBlIHtFbnRyeX0gKi8gKGVudHJ5Lm9sZGVyKTtcbiAgICAgIGlmICh0aGlzLm5ld2VzdF8pIHtcbiAgICAgICAgdGhpcy5uZXdlc3RfLm5ld2VyID0gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGVudHJ5ID09PSB0aGlzLm9sZGVzdF8pIHtcbiAgICAgIHRoaXMub2xkZXN0XyA9IC8qKiBAdHlwZSB7RW50cnl9ICovIChlbnRyeS5uZXdlcik7XG4gICAgICBpZiAodGhpcy5vbGRlc3RfKSB7XG4gICAgICAgIHRoaXMub2xkZXN0Xy5vbGRlciA9IG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGVudHJ5Lm5ld2VyLm9sZGVyID0gZW50cnkub2xkZXI7XG4gICAgICBlbnRyeS5vbGRlci5uZXdlciA9IGVudHJ5Lm5ld2VyO1xuICAgIH1cbiAgICBkZWxldGUgdGhpcy5lbnRyaWVzX1trZXldO1xuICAgIC0tdGhpcy5jb3VudF87XG4gICAgcmV0dXJuIGVudHJ5LnZhbHVlXztcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IENvdW50LlxuICAgKi9cbiAgTFJVQ2FjaGUucHJvdG90eXBlLmdldENvdW50ID0gZnVuY3Rpb24gZ2V0Q291bnQgKCkge1xuICAgIHJldHVybiB0aGlzLmNvdW50XztcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtBcnJheTxzdHJpbmc+fSBLZXlzLlxuICAgKi9cbiAgTFJVQ2FjaGUucHJvdG90eXBlLmdldEtleXMgPSBmdW5jdGlvbiBnZXRLZXlzICgpIHtcbiAgICB2YXIga2V5cyA9IG5ldyBBcnJheSh0aGlzLmNvdW50Xyk7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBlbnRyeTtcbiAgICBmb3IgKGVudHJ5ID0gdGhpcy5uZXdlc3RfOyBlbnRyeTsgZW50cnkgPSBlbnRyeS5vbGRlcikge1xuICAgICAga2V5c1tpKytdID0gZW50cnkua2V5XztcbiAgICB9XG4gICAgcmV0dXJuIGtleXM7XG4gIH07XG5cblxuICAvKipcbiAgICogQHJldHVybiB7QXJyYXk8VD59IFZhbHVlcy5cbiAgICovXG4gIExSVUNhY2hlLnByb3RvdHlwZS5nZXRWYWx1ZXMgPSBmdW5jdGlvbiBnZXRWYWx1ZXMgKCkge1xuICAgIHZhciB2YWx1ZXMgPSBuZXcgQXJyYXkodGhpcy5jb3VudF8pO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgZW50cnk7XG4gICAgZm9yIChlbnRyeSA9IHRoaXMubmV3ZXN0XzsgZW50cnk7IGVudHJ5ID0gZW50cnkub2xkZXIpIHtcbiAgICAgIHZhbHVlc1tpKytdID0gZW50cnkudmFsdWVfO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge1R9IExhc3QgdmFsdWUuXG4gICAqL1xuICBMUlVDYWNoZS5wcm90b3R5cGUucGVla0xhc3QgPSBmdW5jdGlvbiBwZWVrTGFzdCAoKSB7XG4gICAgcmV0dXJuIHRoaXMub2xkZXN0Xy52YWx1ZV87XG4gIH07XG5cblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfSBMYXN0IGtleS5cbiAgICovXG4gIExSVUNhY2hlLnByb3RvdHlwZS5wZWVrTGFzdEtleSA9IGZ1bmN0aW9uIHBlZWtMYXN0S2V5ICgpIHtcbiAgICByZXR1cm4gdGhpcy5vbGRlc3RfLmtleV87XG4gIH07XG5cblxuICAvKipcbiAgICogR2V0IHRoZSBrZXkgb2YgdGhlIG5ld2VzdCBpdGVtIGluIHRoZSBjYWNoZS4gIFRocm93cyBpZiB0aGUgY2FjaGUgaXMgZW1wdHkuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIG5ld2VzdCBrZXkuXG4gICAqL1xuICBMUlVDYWNoZS5wcm90b3R5cGUucGVla0ZpcnN0S2V5ID0gZnVuY3Rpb24gcGVla0ZpcnN0S2V5ICgpIHtcbiAgICByZXR1cm4gdGhpcy5uZXdlc3RfLmtleV87XG4gIH07XG5cblxuICAvKipcbiAgICogQHJldHVybiB7VH0gdmFsdWUgVmFsdWUuXG4gICAqL1xuICBMUlVDYWNoZS5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gcG9wICgpIHtcbiAgICB2YXIgZW50cnkgPSB0aGlzLm9sZGVzdF87XG4gICAgZGVsZXRlIHRoaXMuZW50cmllc19bZW50cnkua2V5X107XG4gICAgaWYgKGVudHJ5Lm5ld2VyKSB7XG4gICAgICBlbnRyeS5uZXdlci5vbGRlciA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMub2xkZXN0XyA9IC8qKiBAdHlwZSB7RW50cnl9ICovIChlbnRyeS5uZXdlcik7XG4gICAgaWYgKCF0aGlzLm9sZGVzdF8pIHtcbiAgICAgIHRoaXMubmV3ZXN0XyA9IG51bGw7XG4gICAgfVxuICAgIC0tdGhpcy5jb3VudF87XG4gICAgcmV0dXJuIGVudHJ5LnZhbHVlXztcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleS5cbiAgICogQHBhcmFtIHtUfSB2YWx1ZSBWYWx1ZS5cbiAgICovXG4gIExSVUNhY2hlLnByb3RvdHlwZS5yZXBsYWNlID0gZnVuY3Rpb24gcmVwbGFjZSAoa2V5LCB2YWx1ZSkge1xuICAgIHRoaXMuZ2V0KGtleSk7IC8vIHVwZGF0ZSBgbmV3ZXN0X2BcbiAgICB0aGlzLmVudHJpZXNfW2tleV0udmFsdWVfID0gdmFsdWU7XG4gIH07XG5cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkuXG4gICAqIEBwYXJhbSB7VH0gdmFsdWUgVmFsdWUuXG4gICAqL1xuICBMUlVDYWNoZS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0IChrZXksIHZhbHVlKSB7XG4gICAgYXNzZXJ0KCEoa2V5IGluIHRoaXMuZW50cmllc18pLFxuICAgICAgMTYpOyAvLyBUcmllZCB0byBzZXQgYSB2YWx1ZSBmb3IgYSBrZXkgdGhhdCBpcyB1c2VkIGFscmVhZHlcbiAgICB2YXIgZW50cnkgPSAvKiogQHR5cGUge0VudHJ5fSAqLyAoe1xuICAgICAga2V5Xzoga2V5LFxuICAgICAgbmV3ZXI6IG51bGwsXG4gICAgICBvbGRlcjogdGhpcy5uZXdlc3RfLFxuICAgICAgdmFsdWVfOiB2YWx1ZVxuICAgIH0pO1xuICAgIGlmICghdGhpcy5uZXdlc3RfKSB7XG4gICAgICB0aGlzLm9sZGVzdF8gPSBlbnRyeTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5uZXdlc3RfLm5ld2VyID0gZW50cnk7XG4gICAgfVxuICAgIHRoaXMubmV3ZXN0XyA9IGVudHJ5O1xuICAgIHRoaXMuZW50cmllc19ba2V5XSA9IGVudHJ5O1xuICAgICsrdGhpcy5jb3VudF87XG4gIH07XG5cblxuICAvKipcbiAgICogU2V0IGEgbWF4aW11bSBudW1iZXIgb2YgZW50cmllcyBmb3IgdGhlIGNhY2hlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSBDYWNoZSBzaXplLlxuICAgKiBAYXBpXG4gICAqL1xuICBMUlVDYWNoZS5wcm90b3R5cGUuc2V0U2l6ZSA9IGZ1bmN0aW9uIHNldFNpemUgKHNpemUpIHtcbiAgICB0aGlzLmhpZ2hXYXRlck1hcmsgPSBzaXplO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIFBydW5lIHRoZSBjYWNoZS5cbiAgICovXG4gIExSVUNhY2hlLnByb3RvdHlwZS5wcnVuZSA9IGZ1bmN0aW9uIHBydW5lICgpIHtcbiAgICB3aGlsZSAodGhpcy5jYW5FeHBpcmVDYWNoZSgpKSB7XG4gICAgICB0aGlzLnBvcCgpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gTFJVQ2FjaGU7XG59KEV2ZW50VGFyZ2V0KSk7XG5cbmV4cG9ydCBkZWZhdWx0IExSVUNhY2hlO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1MUlVDYWNoZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL1ZlY3RvckNvbnRleHRcbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIENvbnRleHQgZm9yIGRyYXdpbmcgZ2VvbWV0cmllcy4gIEEgdmVjdG9yIGNvbnRleHQgaXMgYXZhaWxhYmxlIG9uIHJlbmRlclxuICogZXZlbnRzIGFuZCBkb2VzIG5vdCBuZWVkIHRvIGJlIGNvbnN0cnVjdGVkIGRpcmVjdGx5LlxuICogQGFwaVxuICovXG52YXIgVmVjdG9yQ29udGV4dCA9IGZ1bmN0aW9uIFZlY3RvckNvbnRleHQgKCkge307XG5cblZlY3RvckNvbnRleHQucHJvdG90eXBlLmRyYXdDdXN0b20gPSBmdW5jdGlvbiBkcmF3Q3VzdG9tIChnZW9tZXRyeSwgZmVhdHVyZSwgcmVuZGVyZXIpIHt9O1xuXG4vKipcbiAqIFJlbmRlciBhIGdlb21ldHJ5LlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBUaGUgZ2VvbWV0cnkgdG8gcmVuZGVyLlxuICovXG5WZWN0b3JDb250ZXh0LnByb3RvdHlwZS5kcmF3R2VvbWV0cnkgPSBmdW5jdGlvbiBkcmF3R2VvbWV0cnkgKGdlb21ldHJ5KSB7fTtcblxuLyoqXG4gKiBTZXQgdGhlIHJlbmRlcmluZyBzdHlsZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFRoZSByZW5kZXJpbmcgc3R5bGUuXG4gKi9cblZlY3RvckNvbnRleHQucHJvdG90eXBlLnNldFN0eWxlID0gZnVuY3Rpb24gc2V0U3R5bGUgKHN0eWxlKSB7fTtcblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9IGNpcmNsZUdlb21ldHJ5IENpcmNsZSBnZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gKi9cblZlY3RvckNvbnRleHQucHJvdG90eXBlLmRyYXdDaXJjbGUgPSBmdW5jdGlvbiBkcmF3Q2lyY2xlIChjaXJjbGVHZW9tZXRyeSwgZmVhdHVyZSkge307XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKi9cblZlY3RvckNvbnRleHQucHJvdG90eXBlLmRyYXdGZWF0dXJlID0gZnVuY3Rpb24gZHJhd0ZlYXR1cmUgKGZlYXR1cmUsIHN0eWxlKSB7fTtcblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnlDb2xsZWN0aW9uLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5Q29sbGVjdGlvbkdlb21ldHJ5IEdlb21ldHJ5IGNvbGxlY3Rpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICovXG5WZWN0b3JDb250ZXh0LnByb3RvdHlwZS5kcmF3R2VvbWV0cnlDb2xsZWN0aW9uID0gZnVuY3Rpb24gZHJhd0dlb21ldHJ5Q29sbGVjdGlvbiAoZ2VvbWV0cnlDb2xsZWN0aW9uR2VvbWV0cnksIGZlYXR1cmUpIHt9O1xuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9MaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGxpbmVTdHJpbmdHZW9tZXRyeSBMaW5lIHN0cmluZyBnZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gKi9cblZlY3RvckNvbnRleHQucHJvdG90eXBlLmRyYXdMaW5lU3RyaW5nID0gZnVuY3Rpb24gZHJhd0xpbmVTdHJpbmcgKGxpbmVTdHJpbmdHZW9tZXRyeSwgZmVhdHVyZSkge307XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL011bHRpTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBtdWx0aUxpbmVTdHJpbmdHZW9tZXRyeSBNdWx0aUxpbmVTdHJpbmcgZ2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICovXG5WZWN0b3JDb250ZXh0LnByb3RvdHlwZS5kcmF3TXVsdGlMaW5lU3RyaW5nID0gZnVuY3Rpb24gZHJhd011bHRpTGluZVN0cmluZyAobXVsdGlMaW5lU3RyaW5nR2VvbWV0cnksIGZlYXR1cmUpIHt9O1xuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9NdWx0aVBvaW50LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IG11bHRpUG9pbnRHZW9tZXRyeSBNdWx0aVBvaW50IGdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAqL1xuVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuZHJhd011bHRpUG9pbnQgPSBmdW5jdGlvbiBkcmF3TXVsdGlQb2ludCAobXVsdGlQb2ludEdlb21ldHJ5LCBmZWF0dXJlKSB7fTtcblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vTXVsdGlQb2x5Z29uLmpzXCIpLmRlZmF1bHR9IG11bHRpUG9seWdvbkdlb21ldHJ5IE11bHRpUG9seWdvbiBnZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gKi9cblZlY3RvckNvbnRleHQucHJvdG90eXBlLmRyYXdNdWx0aVBvbHlnb24gPSBmdW5jdGlvbiBkcmF3TXVsdGlQb2x5Z29uIChtdWx0aVBvbHlnb25HZW9tZXRyeSwgZmVhdHVyZSkge307XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL1BvaW50LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IHBvaW50R2VvbWV0cnkgUG9pbnQgZ2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICovXG5WZWN0b3JDb250ZXh0LnByb3RvdHlwZS5kcmF3UG9pbnQgPSBmdW5jdGlvbiBkcmF3UG9pbnQgKHBvaW50R2VvbWV0cnksIGZlYXR1cmUpIHt9O1xuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IHBvbHlnb25HZW9tZXRyeSBQb2x5Z29uIGdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAqL1xuVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuZHJhd1BvbHlnb24gPSBmdW5jdGlvbiBkcmF3UG9seWdvbiAocG9seWdvbkdlb21ldHJ5LCBmZWF0dXJlKSB7fTtcblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICovXG5WZWN0b3JDb250ZXh0LnByb3RvdHlwZS5kcmF3VGV4dCA9IGZ1bmN0aW9uIGRyYXdUZXh0IChnZW9tZXRyeSwgZmVhdHVyZSkge307XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9GaWxsLmpzXCIpLmRlZmF1bHR9IGZpbGxTdHlsZSBGaWxsIHN0eWxlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHJva2UuanNcIikuZGVmYXVsdH0gc3Ryb2tlU3R5bGUgU3Ryb2tlIHN0eWxlLlxuICovXG5WZWN0b3JDb250ZXh0LnByb3RvdHlwZS5zZXRGaWxsU3Ryb2tlU3R5bGUgPSBmdW5jdGlvbiBzZXRGaWxsU3Ryb2tlU3R5bGUgKGZpbGxTdHlsZSwgc3Ryb2tlU3R5bGUpIHt9O1xuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvSW1hZ2UuanNcIikuZGVmYXVsdH0gaW1hZ2VTdHlsZSBJbWFnZSBzdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jYW52YXMuanNcIikuRGVjbHV0dGVyR3JvdXA9fSBvcHRfZGVjbHV0dGVyR3JvdXAgRGVjbHV0dGVyLlxuICovXG5WZWN0b3JDb250ZXh0LnByb3RvdHlwZS5zZXRJbWFnZVN0eWxlID0gZnVuY3Rpb24gc2V0SW1hZ2VTdHlsZSAoaW1hZ2VTdHlsZSwgb3B0X2RlY2x1dHRlckdyb3VwKSB7fTtcblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1RleHQuanNcIikuZGVmYXVsdH0gdGV4dFN0eWxlIFRleHQgc3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY2FudmFzLmpzXCIpLkRlY2x1dHRlckdyb3VwPX0gb3B0X2RlY2x1dHRlckdyb3VwIERlY2x1dHRlci5cbiAqL1xuVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuc2V0VGV4dFN0eWxlID0gZnVuY3Rpb24gc2V0VGV4dFN0eWxlICh0ZXh0U3R5bGUsIG9wdF9kZWNsdXR0ZXJHcm91cCkge307XG5cbmV4cG9ydCBkZWZhdWx0IFZlY3RvckNvbnRleHQ7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZlY3RvckNvbnRleHQuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlcmVyL2NhbnZhcy9UaWxlTGF5ZXJcbiAqL1xuaW1wb3J0IHtnZXRVaWR9IGZyb20gJy4uLy4uL3V0aWwuanMnO1xuaW1wb3J0IExheWVyVHlwZSBmcm9tICcuLi8uLi9MYXllclR5cGUuanMnO1xuaW1wb3J0IFRpbGVSYW5nZSBmcm9tICcuLi8uLi9UaWxlUmFuZ2UuanMnO1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuLi8uLi9UaWxlU3RhdGUuanMnO1xuaW1wb3J0IFZpZXdIaW50IGZyb20gJy4uLy4uL1ZpZXdIaW50LmpzJztcbmltcG9ydCB7Y3JlYXRlQ2FudmFzQ29udGV4dDJEfSBmcm9tICcuLi8uLi9kb20uanMnO1xuaW1wb3J0IHtjb250YWluc0V4dGVudCwgY3JlYXRlRW1wdHksIGVxdWFscywgZ2V0SW50ZXJzZWN0aW9uLCBpc0VtcHR5fSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuaW1wb3J0IEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyIGZyb20gJy4vSW50ZXJtZWRpYXRlQ2FudmFzLmpzJztcbmltcG9ydCB7Y3JlYXRlIGFzIGNyZWF0ZVRyYW5zZm9ybSwgY29tcG9zZSBhcyBjb21wb3NlVHJhbnNmb3JtfSBmcm9tICcuLi8uLi90cmFuc2Zvcm0uanMnO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIENhbnZhcyByZW5kZXJlciBmb3IgdGlsZSBsYXllcnMuXG4gKiBAYXBpXG4gKi9cbnZhciBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyKSB7XG4gIGZ1bmN0aW9uIENhbnZhc1RpbGVMYXllclJlbmRlcmVyKHRpbGVMYXllciwgb3B0X25vQ29udGV4dCkge1xuXG4gICAgSW50ZXJtZWRpYXRlQ2FudmFzUmVuZGVyZXIuY2FsbCh0aGlzLCB0aWxlTGF5ZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICovXG4gICAgdGhpcy5jb250ZXh0ID0gb3B0X25vQ29udGV4dCA/IG51bGwgOiBjcmVhdGVDYW52YXNDb250ZXh0MkQoKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm92ZXJzYW1wbGluZ187XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZWRFeHRlbnRfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZWRSZXZpc2lvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7IUFycmF5PGltcG9ydChcIi4uLy4uL1RpbGUuanNcIikuZGVmYXVsdD59XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlZFRpbGVzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMubmV3VGlsZXNfID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICovXG4gICAgdGhpcy50bXBFeHRlbnQgPSBjcmVhdGVFbXB0eSgpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy50bXBUaWxlUmFuZ2VfID0gbmV3IFRpbGVSYW5nZSgwLCAwLCAwLCAwKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICovXG4gICAgdGhpcy5pbWFnZVRyYW5zZm9ybV8gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuekRpcmVjdGlvbiA9IDA7XG5cbiAgfVxuXG4gIGlmICggSW50ZXJtZWRpYXRlQ2FudmFzUmVuZGVyZXIgKSBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlci5fX3Byb3RvX18gPSBJbnRlcm1lZGlhdGVDYW52YXNSZW5kZXJlcjtcbiAgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggSW50ZXJtZWRpYXRlQ2FudmFzUmVuZGVyZXIgJiYgSW50ZXJtZWRpYXRlQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlICk7XG4gIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENhbnZhc1RpbGVMYXllclJlbmRlcmVyO1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1RpbGUuanNcIikuZGVmYXVsdH0gdGlsZSBUaWxlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUaWxlIGlzIGRyYXdhYmxlLlxuICAgKi9cbiAgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLmlzRHJhd2FibGVUaWxlXyA9IGZ1bmN0aW9uIGlzRHJhd2FibGVUaWxlXyAodGlsZSkge1xuICAgIHZhciB0aWxlTGF5ZXIgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2xheWVyL1RpbGUuanNcIikuZGVmYXVsdH0gKi8gKHRoaXMuZ2V0TGF5ZXIoKSk7XG4gICAgdmFyIHRpbGVTdGF0ZSA9IHRpbGUuZ2V0U3RhdGUoKTtcbiAgICB2YXIgdXNlSW50ZXJpbVRpbGVzT25FcnJvciA9IHRpbGVMYXllci5nZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yKCk7XG4gICAgcmV0dXJuIHRpbGVTdGF0ZSA9PSBUaWxlU3RhdGUuTE9BREVEIHx8XG4gICAgICAgIHRpbGVTdGF0ZSA9PSBUaWxlU3RhdGUuRU1QVFkgfHxcbiAgICAgICAgdGlsZVN0YXRlID09IFRpbGVTdGF0ZS5FUlJPUiAmJiAhdXNlSW50ZXJpbVRpbGVzT25FcnJvcjtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHogVGlsZSBjb29yZGluYXRlIHouXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRpbGUgY29vcmRpbmF0ZSB4LlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBUaWxlIGNvb3JkaW5hdGUgeS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7IWltcG9ydChcIi4uLy4uL1RpbGUuanNcIikuZGVmYXVsdH0gVGlsZS5cbiAgICovXG4gIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5nZXRUaWxlID0gZnVuY3Rpb24gZ2V0VGlsZSAoeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgIHZhciB0aWxlTGF5ZXIgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2xheWVyL1RpbGUuanNcIikuZGVmYXVsdH0gKi8gKHRoaXMuZ2V0TGF5ZXIoKSk7XG4gICAgdmFyIHRpbGVTb3VyY2UgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9ICovICh0aWxlTGF5ZXIuZ2V0U291cmNlKCkpO1xuICAgIHZhciB0aWxlID0gdGlsZVNvdXJjZS5nZXRUaWxlKHosIHgsIHksIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pO1xuICAgIGlmICh0aWxlLmdldFN0YXRlKCkgPT0gVGlsZVN0YXRlLkVSUk9SKSB7XG4gICAgICBpZiAoIXRpbGVMYXllci5nZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yKCkpIHtcbiAgICAgICAgLy8gV2hlbiB1c2VJbnRlcmltVGlsZXNPbkVycm9yIGlzIGZhbHNlLCB3ZSBjb25zaWRlciB0aGUgZXJyb3IgdGlsZSBhcyBsb2FkZWQuXG4gICAgICAgIHRpbGUuc2V0U3RhdGUoVGlsZVN0YXRlLkxPQURFRCk7XG4gICAgICB9IGVsc2UgaWYgKHRpbGVMYXllci5nZXRQcmVsb2FkKCkgPiAwKSB7XG4gICAgICAgIC8vIFByZWxvYWRlZCB0aWxlcyBmb3IgbG93ZXIgcmVzb2x1dGlvbnMgbWlnaHQgaGF2ZSBmaW5pc2hlZCBsb2FkaW5nLlxuICAgICAgICB0aGlzLm5ld1RpbGVzXyA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghdGhpcy5pc0RyYXdhYmxlVGlsZV8odGlsZSkpIHtcbiAgICAgIHRpbGUgPSB0aWxlLmdldEludGVyaW1UaWxlKCk7XG4gICAgfVxuICAgIHJldHVybiB0aWxlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLnByZXBhcmVGcmFtZSA9IGZ1bmN0aW9uIHByZXBhcmVGcmFtZSAoZnJhbWVTdGF0ZSwgbGF5ZXJTdGF0ZSkge1xuXG4gICAgdmFyIHBpeGVsUmF0aW8gPSBmcmFtZVN0YXRlLnBpeGVsUmF0aW87XG4gICAgdmFyIHNpemUgPSBmcmFtZVN0YXRlLnNpemU7XG4gICAgdmFyIHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgIHZhciBwcm9qZWN0aW9uID0gdmlld1N0YXRlLnByb2plY3Rpb247XG4gICAgdmFyIHZpZXdSZXNvbHV0aW9uID0gdmlld1N0YXRlLnJlc29sdXRpb247XG4gICAgdmFyIHZpZXdDZW50ZXIgPSB2aWV3U3RhdGUuY2VudGVyO1xuXG4gICAgdmFyIHRpbGVMYXllciA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vbGF5ZXIvVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAodGhpcy5nZXRMYXllcigpKTtcbiAgICB2YXIgdGlsZVNvdXJjZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vc291cmNlL1RpbGUuanNcIikuZGVmYXVsdH0gKi8gKHRpbGVMYXllci5nZXRTb3VyY2UoKSk7XG4gICAgdmFyIHNvdXJjZVJldmlzaW9uID0gdGlsZVNvdXJjZS5nZXRSZXZpc2lvbigpO1xuICAgIHZhciB0aWxlR3JpZCA9IHRpbGVTb3VyY2UuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIHZhciB6ID0gdGlsZUdyaWQuZ2V0WkZvclJlc29sdXRpb24odmlld1Jlc29sdXRpb24sIHRoaXMuekRpcmVjdGlvbik7XG4gICAgdmFyIHRpbGVSZXNvbHV0aW9uID0gdGlsZUdyaWQuZ2V0UmVzb2x1dGlvbih6KTtcbiAgICB2YXIgb3ZlcnNhbXBsaW5nID0gTWF0aC5yb3VuZCh2aWV3UmVzb2x1dGlvbiAvIHRpbGVSZXNvbHV0aW9uKSB8fCAxO1xuICAgIHZhciBleHRlbnQgPSBmcmFtZVN0YXRlLmV4dGVudDtcblxuICAgIGlmIChsYXllclN0YXRlLmV4dGVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBleHRlbnQgPSBnZXRJbnRlcnNlY3Rpb24oZXh0ZW50LCBsYXllclN0YXRlLmV4dGVudCk7XG4gICAgfVxuICAgIGlmIChpc0VtcHR5KGV4dGVudCkpIHtcbiAgICAgIC8vIFJldHVybiBmYWxzZSB0byBwcmV2ZW50IHRoZSByZW5kZXJpbmcgb2YgdGhlIGxheWVyLlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciB0aWxlUmFuZ2UgPSB0aWxlR3JpZC5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKGV4dGVudCwgeik7XG4gICAgdmFyIGltYWdlRXh0ZW50ID0gdGlsZUdyaWQuZ2V0VGlsZVJhbmdlRXh0ZW50KHosIHRpbGVSYW5nZSk7XG5cbiAgICB2YXIgdGlsZVBpeGVsUmF0aW8gPSB0aWxlU291cmNlLmdldFRpbGVQaXhlbFJhdGlvKHBpeGVsUmF0aW8pO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge09iamVjdDxudW1iZXIsIE9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uLy4uL1RpbGUuanNcIikuZGVmYXVsdD4+fVxuICAgICAqL1xuICAgIHZhciB0aWxlc1RvRHJhd0J5WiA9IHt9O1xuICAgIHRpbGVzVG9EcmF3QnlaW3pdID0ge307XG5cbiAgICB2YXIgZmluZExvYWRlZFRpbGVzID0gdGhpcy5jcmVhdGVMb2FkZWRUaWxlRmluZGVyKFxuICAgICAgdGlsZVNvdXJjZSwgcHJvamVjdGlvbiwgdGlsZXNUb0RyYXdCeVopO1xuXG4gICAgdmFyIGhpbnRzID0gZnJhbWVTdGF0ZS52aWV3SGludHM7XG4gICAgdmFyIGFuaW1hdGluZ09ySW50ZXJhY3RpbmcgPSBoaW50c1tWaWV3SGludC5BTklNQVRJTkddIHx8IGhpbnRzW1ZpZXdIaW50LklOVEVSQUNUSU5HXTtcblxuICAgIHZhciB0bXBFeHRlbnQgPSB0aGlzLnRtcEV4dGVudDtcbiAgICB2YXIgdG1wVGlsZVJhbmdlID0gdGhpcy50bXBUaWxlUmFuZ2VfO1xuICAgIHRoaXMubmV3VGlsZXNfID0gZmFsc2U7XG4gICAgdmFyIHRpbGUsIHgsIHk7XG4gICAgZm9yICh4ID0gdGlsZVJhbmdlLm1pblg7IHggPD0gdGlsZVJhbmdlLm1heFg7ICsreCkge1xuICAgICAgZm9yICh5ID0gdGlsZVJhbmdlLm1pblk7IHkgPD0gdGlsZVJhbmdlLm1heFk7ICsreSkge1xuICAgICAgICBpZiAoRGF0ZS5ub3coKSAtIGZyYW1lU3RhdGUudGltZSA+IDE2ICYmIGFuaW1hdGluZ09ySW50ZXJhY3RpbmcpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB0aWxlID0gdGhpcy5nZXRUaWxlKHosIHgsIHksIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pO1xuICAgICAgICBpZiAodGhpcy5pc0RyYXdhYmxlVGlsZV8odGlsZSkpIHtcbiAgICAgICAgICB2YXIgdWlkID0gZ2V0VWlkKHRoaXMpO1xuICAgICAgICAgIGlmICh0aWxlLmdldFN0YXRlKCkgPT0gVGlsZVN0YXRlLkxPQURFRCkge1xuICAgICAgICAgICAgdGlsZXNUb0RyYXdCeVpbel1bdGlsZS50aWxlQ29vcmQudG9TdHJpbmcoKV0gPSB0aWxlO1xuICAgICAgICAgICAgdmFyIGluVHJhbnNpdGlvbiA9IHRpbGUuaW5UcmFuc2l0aW9uKHVpZCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMubmV3VGlsZXNfICYmIChpblRyYW5zaXRpb24gfHwgdGhpcy5yZW5kZXJlZFRpbGVzLmluZGV4T2YodGlsZSkgPT09IC0xKSkge1xuICAgICAgICAgICAgICB0aGlzLm5ld1RpbGVzXyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0aWxlLmdldEFscGhhKHVpZCwgZnJhbWVTdGF0ZS50aW1lKSA9PT0gMSkge1xuICAgICAgICAgICAgLy8gZG9uJ3QgbG9vayBmb3IgYWx0IHRpbGVzIGlmIGFscGhhIGlzIDFcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjaGlsZFRpbGVSYW5nZSA9IHRpbGVHcmlkLmdldFRpbGVDb29yZENoaWxkVGlsZVJhbmdlKFxuICAgICAgICAgIHRpbGUudGlsZUNvb3JkLCB0bXBUaWxlUmFuZ2UsIHRtcEV4dGVudCk7XG4gICAgICAgIHZhciBjb3ZlcmVkID0gZmFsc2U7XG4gICAgICAgIGlmIChjaGlsZFRpbGVSYW5nZSkge1xuICAgICAgICAgIGNvdmVyZWQgPSBmaW5kTG9hZGVkVGlsZXMoeiArIDEsIGNoaWxkVGlsZVJhbmdlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNvdmVyZWQpIHtcbiAgICAgICAgICB0aWxlR3JpZC5mb3JFYWNoVGlsZUNvb3JkUGFyZW50VGlsZVJhbmdlKFxuICAgICAgICAgICAgdGlsZS50aWxlQ29vcmQsIGZpbmRMb2FkZWRUaWxlcywgbnVsbCwgdG1wVGlsZVJhbmdlLCB0bXBFeHRlbnQpO1xuICAgICAgICB9XG5cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcmVuZGVyZWRSZXNvbHV0aW9uID0gdGlsZVJlc29sdXRpb24gKiBwaXhlbFJhdGlvIC8gdGlsZVBpeGVsUmF0aW8gKiBvdmVyc2FtcGxpbmc7XG4gICAgaWYgKCEodGhpcy5yZW5kZXJlZFJlc29sdXRpb24gJiYgRGF0ZS5ub3coKSAtIGZyYW1lU3RhdGUudGltZSA+IDE2ICYmIGFuaW1hdGluZ09ySW50ZXJhY3RpbmcpICYmIChcbiAgICAgIHRoaXMubmV3VGlsZXNfIHx8XG4gICAgICAgICAgISh0aGlzLnJlbmRlcmVkRXh0ZW50XyAmJiBjb250YWluc0V4dGVudCh0aGlzLnJlbmRlcmVkRXh0ZW50XywgZXh0ZW50KSkgfHxcbiAgICAgICAgICB0aGlzLnJlbmRlcmVkUmV2aXNpb24gIT0gc291cmNlUmV2aXNpb24gfHxcbiAgICAgICAgICBvdmVyc2FtcGxpbmcgIT0gdGhpcy5vdmVyc2FtcGxpbmdfIHx8XG4gICAgICAgICAgIWFuaW1hdGluZ09ySW50ZXJhY3RpbmcgJiYgcmVuZGVyZWRSZXNvbHV0aW9uICE9IHRoaXMucmVuZGVyZWRSZXNvbHV0aW9uXG4gICAgKSkge1xuXG4gICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgIGlmIChjb250ZXh0KSB7XG4gICAgICAgIHZhciB0aWxlUGl4ZWxTaXplID0gdGlsZVNvdXJjZS5nZXRUaWxlUGl4ZWxTaXplKHosIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pO1xuICAgICAgICB2YXIgd2lkdGggPSBNYXRoLnJvdW5kKHRpbGVSYW5nZS5nZXRXaWR0aCgpICogdGlsZVBpeGVsU2l6ZVswXSAvIG92ZXJzYW1wbGluZyk7XG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLnJvdW5kKHRpbGVSYW5nZS5nZXRIZWlnaHQoKSAqIHRpbGVQaXhlbFNpemVbMV0gLyBvdmVyc2FtcGxpbmcpO1xuICAgICAgICB2YXIgY2FudmFzID0gY29udGV4dC5jYW52YXM7XG4gICAgICAgIGlmIChjYW52YXMud2lkdGggIT0gd2lkdGggfHwgY2FudmFzLmhlaWdodCAhPSBoZWlnaHQpIHtcbiAgICAgICAgICB0aGlzLm92ZXJzYW1wbGluZ18gPSBvdmVyc2FtcGxpbmc7XG4gICAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodGhpcy5yZW5kZXJlZEV4dGVudF8gJiYgIWVxdWFscyhpbWFnZUV4dGVudCwgdGhpcy5yZW5kZXJlZEV4dGVudF8pKSB7XG4gICAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb3ZlcnNhbXBsaW5nID0gdGhpcy5vdmVyc2FtcGxpbmdfO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMucmVuZGVyZWRUaWxlcy5sZW5ndGggPSAwO1xuICAgICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqL1xuICAgICAgdmFyIHpzID0gT2JqZWN0LmtleXModGlsZXNUb0RyYXdCeVopLm1hcChOdW1iZXIpO1xuICAgICAgenMuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIGlmIChhID09PSB6KSB7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH0gZWxzZSBpZiAoYiA9PT0geikge1xuICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gYSA+IGIgPyAxIDogYSA8IGIgPyAtMSA6IDA7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdmFyIGN1cnJlbnRSZXNvbHV0aW9uLCBjdXJyZW50U2NhbGUsIGN1cnJlbnRUaWxlUGl4ZWxTaXplLCBjdXJyZW50WiwgaSwgaWk7XG4gICAgICB2YXIgdGlsZUV4dGVudCwgdGlsZUd1dHRlciwgdGlsZXNUb0RyYXcsIHcsIGg7XG4gICAgICBmb3IgKGkgPSAwLCBpaSA9IHpzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgY3VycmVudFogPSB6c1tpXTtcbiAgICAgICAgY3VycmVudFRpbGVQaXhlbFNpemUgPSB0aWxlU291cmNlLmdldFRpbGVQaXhlbFNpemUoY3VycmVudFosIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pO1xuICAgICAgICBjdXJyZW50UmVzb2x1dGlvbiA9IHRpbGVHcmlkLmdldFJlc29sdXRpb24oY3VycmVudFopO1xuICAgICAgICBjdXJyZW50U2NhbGUgPSBjdXJyZW50UmVzb2x1dGlvbiAvIHRpbGVSZXNvbHV0aW9uO1xuICAgICAgICB0aWxlR3V0dGVyID0gdGlsZVBpeGVsUmF0aW8gKiB0aWxlU291cmNlLmdldEd1dHRlckZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgICAgIHRpbGVzVG9EcmF3ID0gdGlsZXNUb0RyYXdCeVpbY3VycmVudFpdO1xuICAgICAgICBmb3IgKHZhciB0aWxlQ29vcmRLZXkgaW4gdGlsZXNUb0RyYXcpIHtcbiAgICAgICAgICB0aWxlID0gdGlsZXNUb0RyYXdbdGlsZUNvb3JkS2V5XTtcbiAgICAgICAgICB0aWxlRXh0ZW50ID0gdGlsZUdyaWQuZ2V0VGlsZUNvb3JkRXh0ZW50KHRpbGUuZ2V0VGlsZUNvb3JkKCksIHRtcEV4dGVudCk7XG4gICAgICAgICAgeCA9ICh0aWxlRXh0ZW50WzBdIC0gaW1hZ2VFeHRlbnRbMF0pIC8gdGlsZVJlc29sdXRpb24gKiB0aWxlUGl4ZWxSYXRpbyAvIG92ZXJzYW1wbGluZztcbiAgICAgICAgICB5ID0gKGltYWdlRXh0ZW50WzNdIC0gdGlsZUV4dGVudFszXSkgLyB0aWxlUmVzb2x1dGlvbiAqIHRpbGVQaXhlbFJhdGlvIC8gb3ZlcnNhbXBsaW5nO1xuICAgICAgICAgIHcgPSBjdXJyZW50VGlsZVBpeGVsU2l6ZVswXSAqIGN1cnJlbnRTY2FsZSAvIG92ZXJzYW1wbGluZztcbiAgICAgICAgICBoID0gY3VycmVudFRpbGVQaXhlbFNpemVbMV0gKiBjdXJyZW50U2NhbGUgLyBvdmVyc2FtcGxpbmc7XG4gICAgICAgICAgdGhpcy5kcmF3VGlsZUltYWdlKHRpbGUsIGZyYW1lU3RhdGUsIGxheWVyU3RhdGUsIHgsIHksIHcsIGgsIHRpbGVHdXR0ZXIsIHogPT09IGN1cnJlbnRaKTtcbiAgICAgICAgICB0aGlzLnJlbmRlcmVkVGlsZXMucHVzaCh0aWxlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnJlbmRlcmVkUmV2aXNpb24gPSBzb3VyY2VSZXZpc2lvbjtcbiAgICAgIHRoaXMucmVuZGVyZWRSZXNvbHV0aW9uID0gdGlsZVJlc29sdXRpb24gKiBwaXhlbFJhdGlvIC8gdGlsZVBpeGVsUmF0aW8gKiBvdmVyc2FtcGxpbmc7XG4gICAgICB0aGlzLnJlbmRlcmVkRXh0ZW50XyA9IGltYWdlRXh0ZW50O1xuICAgIH1cblxuICAgIHZhciBzY2FsZSA9IHRoaXMucmVuZGVyZWRSZXNvbHV0aW9uIC8gdmlld1Jlc29sdXRpb247XG4gICAgdmFyIHRyYW5zZm9ybSA9IGNvbXBvc2VUcmFuc2Zvcm0odGhpcy5pbWFnZVRyYW5zZm9ybV8sXG4gICAgICBwaXhlbFJhdGlvICogc2l6ZVswXSAvIDIsIHBpeGVsUmF0aW8gKiBzaXplWzFdIC8gMixcbiAgICAgIHNjYWxlLCBzY2FsZSxcbiAgICAgIDAsXG4gICAgICAodGhpcy5yZW5kZXJlZEV4dGVudF9bMF0gLSB2aWV3Q2VudGVyWzBdKSAvIHRoaXMucmVuZGVyZWRSZXNvbHV0aW9uICogcGl4ZWxSYXRpbyxcbiAgICAgICh2aWV3Q2VudGVyWzFdIC0gdGhpcy5yZW5kZXJlZEV4dGVudF9bM10pIC8gdGhpcy5yZW5kZXJlZFJlc29sdXRpb24gKiBwaXhlbFJhdGlvKTtcbiAgICBjb21wb3NlVHJhbnNmb3JtKHRoaXMuY29vcmRpbmF0ZVRvQ2FudmFzUGl4ZWxUcmFuc2Zvcm0sXG4gICAgICBwaXhlbFJhdGlvICogc2l6ZVswXSAvIDIgLSB0cmFuc2Zvcm1bNF0sIHBpeGVsUmF0aW8gKiBzaXplWzFdIC8gMiAtIHRyYW5zZm9ybVs1XSxcbiAgICAgIHBpeGVsUmF0aW8gLyB2aWV3UmVzb2x1dGlvbiwgLXBpeGVsUmF0aW8gLyB2aWV3UmVzb2x1dGlvbixcbiAgICAgIDAsXG4gICAgICAtdmlld0NlbnRlclswXSwgLXZpZXdDZW50ZXJbMV0pO1xuXG5cbiAgICB0aGlzLnVwZGF0ZVVzZWRUaWxlcyhmcmFtZVN0YXRlLnVzZWRUaWxlcywgdGlsZVNvdXJjZSwgeiwgdGlsZVJhbmdlKTtcbiAgICB0aGlzLm1hbmFnZVRpbGVQeXJhbWlkKGZyYW1lU3RhdGUsIHRpbGVTb3VyY2UsIHRpbGVHcmlkLCBwaXhlbFJhdGlvLFxuICAgICAgcHJvamVjdGlvbiwgZXh0ZW50LCB6LCB0aWxlTGF5ZXIuZ2V0UHJlbG9hZCgpKTtcbiAgICB0aGlzLnNjaGVkdWxlRXhwaXJlQ2FjaGUoZnJhbWVTdGF0ZSwgdGlsZVNvdXJjZSk7XG5cbiAgICByZXR1cm4gdGhpcy5yZW5kZXJlZFRpbGVzLmxlbmd0aCA+IDA7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlIFRpbGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vbGF5ZXIvTGF5ZXIuanNcIikuU3RhdGV9IGxheWVyU3RhdGUgTGF5ZXIgc3RhdGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IExlZnQgb2YgdGhlIHRpbGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRvcCBvZiB0aGUgdGlsZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHcgV2lkdGggb2YgdGhlIHRpbGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoIEhlaWdodCBvZiB0aGUgdGlsZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGd1dHRlciBUaWxlIGd1dHRlci5cbiAgICogQHBhcmFtIHtib29sZWFufSB0cmFuc2l0aW9uIEFwcGx5IGFuIGFscGhhIHRyYW5zaXRpb24uXG4gICAqL1xuICBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZHJhd1RpbGVJbWFnZSA9IGZ1bmN0aW9uIGRyYXdUaWxlSW1hZ2UgKHRpbGUsIGZyYW1lU3RhdGUsIGxheWVyU3RhdGUsIHgsIHksIHcsIGgsIGd1dHRlciwgdHJhbnNpdGlvbikge1xuICAgIHZhciBpbWFnZSA9IHRoaXMuZ2V0VGlsZUltYWdlKHRpbGUpO1xuICAgIGlmICghaW1hZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHVpZCA9IGdldFVpZCh0aGlzKTtcbiAgICB2YXIgYWxwaGEgPSB0cmFuc2l0aW9uID8gdGlsZS5nZXRBbHBoYSh1aWQsIGZyYW1lU3RhdGUudGltZSkgOiAxO1xuICAgIHZhciB0aWxlTGF5ZXIgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2xheWVyL1RpbGUuanNcIikuZGVmYXVsdH0gKi8gKHRoaXMuZ2V0TGF5ZXIoKSk7XG4gICAgdmFyIHRpbGVTb3VyY2UgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9ICovICh0aWxlTGF5ZXIuZ2V0U291cmNlKCkpO1xuICAgIGlmIChhbHBoYSA9PT0gMSAmJiAhdGlsZVNvdXJjZS5nZXRPcGFxdWUoZnJhbWVTdGF0ZS52aWV3U3RhdGUucHJvamVjdGlvbikpIHtcbiAgICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoeCwgeSwgdywgaCk7XG4gICAgfVxuICAgIHZhciBhbHBoYUNoYW5nZWQgPSBhbHBoYSAhPT0gdGhpcy5jb250ZXh0Lmdsb2JhbEFscGhhO1xuICAgIGlmIChhbHBoYUNoYW5nZWQpIHtcbiAgICAgIHRoaXMuY29udGV4dC5zYXZlKCk7XG4gICAgICB0aGlzLmNvbnRleHQuZ2xvYmFsQWxwaGEgPSBhbHBoYTtcbiAgICB9XG4gICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgZ3V0dGVyLCBndXR0ZXIsXG4gICAgICBpbWFnZS53aWR0aCAtIDIgKiBndXR0ZXIsIGltYWdlLmhlaWdodCAtIDIgKiBndXR0ZXIsIHgsIHksIHcsIGgpO1xuXG4gICAgaWYgKGFscGhhQ2hhbmdlZCkge1xuICAgICAgdGhpcy5jb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9XG4gICAgaWYgKGFscGhhICE9PSAxKSB7XG4gICAgICBmcmFtZVN0YXRlLmFuaW1hdGUgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodHJhbnNpdGlvbikge1xuICAgICAgdGlsZS5lbmRUcmFuc2l0aW9uKHVpZCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gZ2V0SW1hZ2UgKCkge1xuICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgIHJldHVybiBjb250ZXh0ID8gY29udGV4dC5jYW52YXMgOiBudWxsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLmdldEltYWdlVHJhbnNmb3JtID0gZnVuY3Rpb24gZ2V0SW1hZ2VUcmFuc2Zvcm0gKCkge1xuICAgIHJldHVybiB0aGlzLmltYWdlVHJhbnNmb3JtXztcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSBpbWFnZSBmcm9tIGEgdGlsZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVGlsZS5cbiAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBJbWFnZS5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLmdldFRpbGVJbWFnZSA9IGZ1bmN0aW9uIGdldFRpbGVJbWFnZSAodGlsZSkge1xuICAgIHJldHVybiAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL0ltYWdlVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAodGlsZSkuZ2V0SW1hZ2UoKTtcbiAgfTtcblxuICByZXR1cm4gQ2FudmFzVGlsZUxheWVyUmVuZGVyZXI7XG59KEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyKSk7XG5cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgdGhpcyByZW5kZXJlciBoYW5kbGVzIHRoZSBwcm92aWRlZCBsYXllci5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdH0gbGF5ZXIgVGhlIGNhbmRpZGF0ZSBsYXllci5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSByZW5kZXJlciBjYW4gcmVuZGVyIHRoZSBsYXllci5cbiAqL1xuQ2FudmFzVGlsZUxheWVyUmVuZGVyZXJbJ2hhbmRsZXMnXSA9IGZ1bmN0aW9uKGxheWVyKSB7XG4gIHJldHVybiBsYXllci5nZXRUeXBlKCkgPT09IExheWVyVHlwZS5USUxFO1xufTtcblxuXG4vKipcbiAqIENyZWF0ZSBhIGxheWVyIHJlbmRlcmVyLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuZGVmYXVsdH0gbWFwUmVuZGVyZXIgVGhlIG1hcCByZW5kZXJlci5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdH0gbGF5ZXIgVGhlIGxheWVyIHRvIGJlIHJlbmRlcmVyZC5cbiAqIEByZXR1cm4ge0NhbnZhc1RpbGVMYXllclJlbmRlcmVyfSBUaGUgbGF5ZXIgcmVuZGVyZXIuXG4gKi9cbkNhbnZhc1RpbGVMYXllclJlbmRlcmVyWydjcmVhdGUnXSA9IGZ1bmN0aW9uKG1hcFJlbmRlcmVyLCBsYXllcikge1xuICByZXR1cm4gbmV3IENhbnZhc1RpbGVMYXllclJlbmRlcmVyKC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vbGF5ZXIvVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAobGF5ZXIpKTtcbn07XG5cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uLy4uL2xheWVyL1RpbGUuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi8uLi9sYXllci9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHR9XG4gKi9cbkNhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5nZXRMYXllcjtcblxuXG5leHBvcnQgZGVmYXVsdCBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlcjtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsZUxheWVyLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9UaWxlUmFuZ2VcbiAqL1xuXG4vKipcbiAqIEEgcmVwcmVzZW50YXRpb24gb2YgYSBjb250aWd1b3VzIGJsb2NrIG9mIHRpbGVzLiAgQSB0aWxlIHJhbmdlIGlzIHNwZWNpZmllZFxuICogYnkgaXRzIG1pbi9tYXggdGlsZSBjb29yZGluYXRlcyBhbmQgaXMgaW5jbHVzaXZlIG9mIGNvb3JkaW5hdGVzLlxuICovXG52YXIgVGlsZVJhbmdlID0gZnVuY3Rpb24gVGlsZVJhbmdlKG1pblgsIG1heFgsIG1pblksIG1heFkpIHtcblxuICAvKipcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHRoaXMubWluWCA9IG1pblg7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICB0aGlzLm1heFggPSBtYXhYO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgdGhpcy5taW5ZID0gbWluWTtcblxuICAvKipcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHRoaXMubWF4WSA9IG1heFk7XG5cbn07XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyB0aWxlIGNvb3JkaW5hdGUuXG4gKi9cblRpbGVSYW5nZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiBjb250YWlucyAodGlsZUNvb3JkKSB7XG4gIHJldHVybiB0aGlzLmNvbnRhaW5zWFkodGlsZUNvb3JkWzFdLCB0aWxlQ29vcmRbMl0pO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge1RpbGVSYW5nZX0gdGlsZVJhbmdlIFRpbGUgcmFuZ2UuXG4gKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucy5cbiAqL1xuVGlsZVJhbmdlLnByb3RvdHlwZS5jb250YWluc1RpbGVSYW5nZSA9IGZ1bmN0aW9uIGNvbnRhaW5zVGlsZVJhbmdlICh0aWxlUmFuZ2UpIHtcbiAgcmV0dXJuIHRoaXMubWluWCA8PSB0aWxlUmFuZ2UubWluWCAmJiB0aWxlUmFuZ2UubWF4WCA8PSB0aGlzLm1heFggJiZcbiAgICAgdGhpcy5taW5ZIDw9IHRpbGVSYW5nZS5taW5ZICYmIHRpbGVSYW5nZS5tYXhZIDw9IHRoaXMubWF4WTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHggVGlsZSBjb29yZGluYXRlIHguXG4gKiBAcGFyYW0ge251bWJlcn0geSBUaWxlIGNvb3JkaW5hdGUgeS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zIGNvb3JkaW5hdGUuXG4gKi9cblRpbGVSYW5nZS5wcm90b3R5cGUuY29udGFpbnNYWSA9IGZ1bmN0aW9uIGNvbnRhaW5zWFkgKHgsIHkpIHtcbiAgcmV0dXJuIHRoaXMubWluWCA8PSB4ICYmIHggPD0gdGhpcy5tYXhYICYmIHRoaXMubWluWSA8PSB5ICYmIHkgPD0gdGhpcy5tYXhZO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge1RpbGVSYW5nZX0gdGlsZVJhbmdlIFRpbGUgcmFuZ2UuXG4gKiBAcmV0dXJuIHtib29sZWFufSBFcXVhbHMuXG4gKi9cblRpbGVSYW5nZS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzICh0aWxlUmFuZ2UpIHtcbiAgcmV0dXJuIHRoaXMubWluWCA9PSB0aWxlUmFuZ2UubWluWCAmJiB0aGlzLm1pblkgPT0gdGlsZVJhbmdlLm1pblkgJiZcbiAgICAgdGhpcy5tYXhYID09IHRpbGVSYW5nZS5tYXhYICYmIHRoaXMubWF4WSA9PSB0aWxlUmFuZ2UubWF4WTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtUaWxlUmFuZ2V9IHRpbGVSYW5nZSBUaWxlIHJhbmdlLlxuICovXG5UaWxlUmFuZ2UucHJvdG90eXBlLmV4dGVuZCA9IGZ1bmN0aW9uIGV4dGVuZCAodGlsZVJhbmdlKSB7XG4gIGlmICh0aWxlUmFuZ2UubWluWCA8IHRoaXMubWluWCkge1xuICAgIHRoaXMubWluWCA9IHRpbGVSYW5nZS5taW5YO1xuICB9XG4gIGlmICh0aWxlUmFuZ2UubWF4WCA+IHRoaXMubWF4WCkge1xuICAgIHRoaXMubWF4WCA9IHRpbGVSYW5nZS5tYXhYO1xuICB9XG4gIGlmICh0aWxlUmFuZ2UubWluWSA8IHRoaXMubWluWSkge1xuICAgIHRoaXMubWluWSA9IHRpbGVSYW5nZS5taW5ZO1xuICB9XG4gIGlmICh0aWxlUmFuZ2UubWF4WSA+IHRoaXMubWF4WSkge1xuICAgIHRoaXMubWF4WSA9IHRpbGVSYW5nZS5tYXhZO1xuICB9XG59O1xuXG4vKipcbiAqIEByZXR1cm4ge251bWJlcn0gSGVpZ2h0LlxuICovXG5UaWxlUmFuZ2UucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uIGdldEhlaWdodCAoKSB7XG4gIHJldHVybiB0aGlzLm1heFkgLSB0aGlzLm1pblkgKyAxO1xufTtcblxuLyoqXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gU2l6ZS5cbiAqL1xuVGlsZVJhbmdlLnByb3RvdHlwZS5nZXRTaXplID0gZnVuY3Rpb24gZ2V0U2l6ZSAoKSB7XG4gIHJldHVybiBbdGhpcy5nZXRXaWR0aCgpLCB0aGlzLmdldEhlaWdodCgpXTtcbn07XG5cbi8qKlxuICogQHJldHVybiB7bnVtYmVyfSBXaWR0aC5cbiAqL1xuVGlsZVJhbmdlLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uIGdldFdpZHRoICgpIHtcbiAgcmV0dXJuIHRoaXMubWF4WCAtIHRoaXMubWluWCArIDE7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7VGlsZVJhbmdlfSB0aWxlUmFuZ2UgVGlsZSByYW5nZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IEludGVyc2VjdHMuXG4gKi9cblRpbGVSYW5nZS5wcm90b3R5cGUuaW50ZXJzZWN0cyA9IGZ1bmN0aW9uIGludGVyc2VjdHMgKHRpbGVSYW5nZSkge1xuICByZXR1cm4gdGhpcy5taW5YIDw9IHRpbGVSYW5nZS5tYXhYICYmXG4gICAgIHRoaXMubWF4WCA+PSB0aWxlUmFuZ2UubWluWCAmJlxuICAgICB0aGlzLm1pblkgPD0gdGlsZVJhbmdlLm1heFkgJiZcbiAgICAgdGhpcy5tYXhZID49IHRpbGVSYW5nZS5taW5ZO1xufTtcblxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5YIE1pbmltdW0gWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhYIE1heGltdW0gWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5ZIE1pbmltdW0gWS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhZIE1heGltdW0gWS5cbiAqIEBwYXJhbSB7VGlsZVJhbmdlPX0gdGlsZVJhbmdlIFRpbGVSYW5nZS5cbiAqIEByZXR1cm4ge1RpbGVSYW5nZX0gVGlsZSByYW5nZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlKG1pblgsIG1heFgsIG1pblksIG1heFksIHRpbGVSYW5nZSkge1xuICBpZiAodGlsZVJhbmdlICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aWxlUmFuZ2UubWluWCA9IG1pblg7XG4gICAgdGlsZVJhbmdlLm1heFggPSBtYXhYO1xuICAgIHRpbGVSYW5nZS5taW5ZID0gbWluWTtcbiAgICB0aWxlUmFuZ2UubWF4WSA9IG1heFk7XG4gICAgcmV0dXJuIHRpbGVSYW5nZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV3IFRpbGVSYW5nZShtaW5YLCBtYXhYLCBtaW5ZLCBtYXhZKTtcbiAgfVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IFRpbGVSYW5nZTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsZVJhbmdlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHJ1Y3RzL1ByaW9yaXR5UXVldWVcbiAqL1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuaW1wb3J0IHtjbGVhcn0gZnJvbSAnLi4vb2JqLmpzJztcblxuXG4vKipcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCB2YXIgRFJPUCA9IEluZmluaXR5O1xuXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogUHJpb3JpdHkgcXVldWUuXG4gKlxuICogVGhlIGltcGxlbWVudGF0aW9uIGlzIGluc3BpcmVkIGZyb20gdGhlIENsb3N1cmUgTGlicmFyeSdzIEhlYXAgY2xhc3MgYW5kXG4gKiBQeXRob24ncyBoZWFwcSBtb2R1bGUuXG4gKlxuICogU2VlIGh0dHA6Ly9jbG9zdXJlLWxpYnJhcnkuZ29vZ2xlY29kZS5jb20vc3ZuL2RvY3MvY2xvc3VyZV9nb29nX3N0cnVjdHNfaGVhcC5qcy5zb3VyY2UuaHRtbFxuICogYW5kIGh0dHA6Ly9oZy5weXRob24ub3JnL2NweXRob24vZmlsZS8yLjcvTGliL2hlYXBxLnB5LlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbnZhciBQcmlvcml0eVF1ZXVlID0gZnVuY3Rpb24gUHJpb3JpdHlRdWV1ZShwcmlvcml0eUZ1bmN0aW9uLCBrZXlGdW5jdGlvbikge1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7ZnVuY3Rpb24oVCk6IG51bWJlcn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMucHJpb3JpdHlGdW5jdGlvbl8gPSBwcmlvcml0eUZ1bmN0aW9uO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7ZnVuY3Rpb24oVCk6IHN0cmluZ31cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMua2V5RnVuY3Rpb25fID0ga2V5RnVuY3Rpb247XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtBcnJheTxUPn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuZWxlbWVudHNfID0gW107XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5wcmlvcml0aWVzXyA9IFtdO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGJvb2xlYW4+fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5xdWV1ZWRFbGVtZW50c18gPSB7fTtcblxufTtcblxuLyoqXG4gKiBGSVhNRSBlbXB0eSBkZXNjcmlwdGlvbiBmb3IganNkb2NcbiAqL1xuUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhciQxICgpIHtcbiAgdGhpcy5lbGVtZW50c18ubGVuZ3RoID0gMDtcbiAgdGhpcy5wcmlvcml0aWVzXy5sZW5ndGggPSAwO1xuICBjbGVhcih0aGlzLnF1ZXVlZEVsZW1lbnRzXyk7XG59O1xuXG5cbi8qKlxuICogUmVtb3ZlIGFuZCByZXR1cm4gdGhlIGhpZ2hlc3QtcHJpb3JpdHkgZWxlbWVudC4gTyhsb2cgTikuXG4gKiBAcmV0dXJuIHtUfSBFbGVtZW50LlxuICovXG5Qcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5kZXF1ZXVlID0gZnVuY3Rpb24gZGVxdWV1ZSAoKSB7XG4gIHZhciBlbGVtZW50cyA9IHRoaXMuZWxlbWVudHNfO1xuICB2YXIgcHJpb3JpdGllcyA9IHRoaXMucHJpb3JpdGllc187XG4gIHZhciBlbGVtZW50ID0gZWxlbWVudHNbMF07XG4gIGlmIChlbGVtZW50cy5sZW5ndGggPT0gMSkge1xuICAgIGVsZW1lbnRzLmxlbmd0aCA9IDA7XG4gICAgcHJpb3JpdGllcy5sZW5ndGggPSAwO1xuICB9IGVsc2Uge1xuICAgIGVsZW1lbnRzWzBdID0gZWxlbWVudHMucG9wKCk7XG4gICAgcHJpb3JpdGllc1swXSA9IHByaW9yaXRpZXMucG9wKCk7XG4gICAgdGhpcy5zaWZ0VXBfKDApO1xuICB9XG4gIHZhciBlbGVtZW50S2V5ID0gdGhpcy5rZXlGdW5jdGlvbl8oZWxlbWVudCk7XG4gIGRlbGV0ZSB0aGlzLnF1ZXVlZEVsZW1lbnRzX1tlbGVtZW50S2V5XTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59O1xuXG5cbi8qKlxuICogRW5xdWV1ZSBhbiBlbGVtZW50LiBPKGxvZyBOKS5cbiAqIEBwYXJhbSB7VH0gZWxlbWVudCBFbGVtZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGVsZW1lbnQgd2FzIGFkZGVkIHRvIHRoZSBxdWV1ZS5cbiAqL1xuUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuZW5xdWV1ZSA9IGZ1bmN0aW9uIGVucXVldWUgKGVsZW1lbnQpIHtcbiAgYXNzZXJ0KCEodGhpcy5rZXlGdW5jdGlvbl8oZWxlbWVudCkgaW4gdGhpcy5xdWV1ZWRFbGVtZW50c18pLFxuICAgIDMxKTsgLy8gVHJpZWQgdG8gZW5xdWV1ZSBhbiBgZWxlbWVudGAgdGhhdCB3YXMgYWxyZWFkeSBhZGRlZCB0byB0aGUgcXVldWVcbiAgdmFyIHByaW9yaXR5ID0gdGhpcy5wcmlvcml0eUZ1bmN0aW9uXyhlbGVtZW50KTtcbiAgaWYgKHByaW9yaXR5ICE9IERST1ApIHtcbiAgICB0aGlzLmVsZW1lbnRzXy5wdXNoKGVsZW1lbnQpO1xuICAgIHRoaXMucHJpb3JpdGllc18ucHVzaChwcmlvcml0eSk7XG4gICAgdGhpcy5xdWV1ZWRFbGVtZW50c19bdGhpcy5rZXlGdW5jdGlvbl8oZWxlbWVudCldID0gdHJ1ZTtcbiAgICB0aGlzLnNpZnREb3duXygwLCB0aGlzLmVsZW1lbnRzXy5sZW5ndGggLSAxKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5cbi8qKlxuICogQHJldHVybiB7bnVtYmVyfSBDb3VudC5cbiAqL1xuUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuZ2V0Q291bnQgPSBmdW5jdGlvbiBnZXRDb3VudCAoKSB7XG4gIHJldHVybiB0aGlzLmVsZW1lbnRzXy5sZW5ndGg7XG59O1xuXG5cbi8qKlxuICogR2V0cyB0aGUgaW5kZXggb2YgdGhlIGxlZnQgY2hpbGQgb2YgdGhlIG5vZGUgYXQgdGhlIGdpdmVuIGluZGV4LlxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgbm9kZSB0byBnZXQgdGhlIGxlZnQgY2hpbGQgZm9yLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgaW5kZXggb2YgdGhlIGxlZnQgY2hpbGQuXG4gKiBAcHJpdmF0ZVxuICovXG5Qcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5nZXRMZWZ0Q2hpbGRJbmRleF8gPSBmdW5jdGlvbiBnZXRMZWZ0Q2hpbGRJbmRleF8gKGluZGV4KSB7XG4gIHJldHVybiBpbmRleCAqIDIgKyAxO1xufTtcblxuXG4vKipcbiAqIEdldHMgdGhlIGluZGV4IG9mIHRoZSByaWdodCBjaGlsZCBvZiB0aGUgbm9kZSBhdCB0aGUgZ2l2ZW4gaW5kZXguXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBub2RlIHRvIGdldCB0aGUgcmlnaHQgY2hpbGQgZm9yLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgaW5kZXggb2YgdGhlIHJpZ2h0IGNoaWxkLlxuICogQHByaXZhdGVcbiAqL1xuUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuZ2V0UmlnaHRDaGlsZEluZGV4XyA9IGZ1bmN0aW9uIGdldFJpZ2h0Q2hpbGRJbmRleF8gKGluZGV4KSB7XG4gIHJldHVybiBpbmRleCAqIDIgKyAyO1xufTtcblxuXG4vKipcbiAqIEdldHMgdGhlIGluZGV4IG9mIHRoZSBwYXJlbnQgb2YgdGhlIG5vZGUgYXQgdGhlIGdpdmVuIGluZGV4LlxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgbm9kZSB0byBnZXQgdGhlIHBhcmVudCBmb3IuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBpbmRleCBvZiB0aGUgcGFyZW50LlxuICogQHByaXZhdGVcbiAqL1xuUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuZ2V0UGFyZW50SW5kZXhfID0gZnVuY3Rpb24gZ2V0UGFyZW50SW5kZXhfIChpbmRleCkge1xuICByZXR1cm4gKGluZGV4IC0gMSkgPj4gMTtcbn07XG5cblxuLyoqXG4gKiBNYWtlIHRoaXMgYSBoZWFwLiBPKE4pLlxuICogQHByaXZhdGVcbiAqL1xuUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuaGVhcGlmeV8gPSBmdW5jdGlvbiBoZWFwaWZ5XyAoKSB7XG4gIHZhciBpO1xuICBmb3IgKGkgPSAodGhpcy5lbGVtZW50c18ubGVuZ3RoID4+IDEpIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICB0aGlzLnNpZnRVcF8oaSk7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBAcmV0dXJuIHtib29sZWFufSBJcyBlbXB0eS5cbiAqL1xuUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uIGlzRW1wdHkgKCkge1xuICByZXR1cm4gdGhpcy5lbGVtZW50c18ubGVuZ3RoID09PSAwO1xufTtcblxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5LlxuICogQHJldHVybiB7Ym9vbGVhbn0gSXMga2V5IHF1ZXVlZC5cbiAqL1xuUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuaXNLZXlRdWV1ZWQgPSBmdW5jdGlvbiBpc0tleVF1ZXVlZCAoa2V5KSB7XG4gIHJldHVybiBrZXkgaW4gdGhpcy5xdWV1ZWRFbGVtZW50c187XG59O1xuXG5cbi8qKlxuICogQHBhcmFtIHtUfSBlbGVtZW50IEVsZW1lbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBJcyBxdWV1ZWQuXG4gKi9cblByaW9yaXR5UXVldWUucHJvdG90eXBlLmlzUXVldWVkID0gZnVuY3Rpb24gaXNRdWV1ZWQgKGVsZW1lbnQpIHtcbiAgcmV0dXJuIHRoaXMuaXNLZXlRdWV1ZWQodGhpcy5rZXlGdW5jdGlvbl8oZWxlbWVudCkpO1xufTtcblxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIG5vZGUgdG8gbW92ZSBkb3duLlxuICogQHByaXZhdGVcbiAqL1xuUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuc2lmdFVwXyA9IGZ1bmN0aW9uIHNpZnRVcF8gKGluZGV4KSB7XG4gIHZhciBlbGVtZW50cyA9IHRoaXMuZWxlbWVudHNfO1xuICB2YXIgcHJpb3JpdGllcyA9IHRoaXMucHJpb3JpdGllc187XG4gIHZhciBjb3VudCA9IGVsZW1lbnRzLmxlbmd0aDtcbiAgdmFyIGVsZW1lbnQgPSBlbGVtZW50c1tpbmRleF07XG4gIHZhciBwcmlvcml0eSA9IHByaW9yaXRpZXNbaW5kZXhdO1xuICB2YXIgc3RhcnRJbmRleCA9IGluZGV4O1xuXG4gIHdoaWxlIChpbmRleCA8IChjb3VudCA+PiAxKSkge1xuICAgIHZhciBsSW5kZXggPSB0aGlzLmdldExlZnRDaGlsZEluZGV4XyhpbmRleCk7XG4gICAgdmFyIHJJbmRleCA9IHRoaXMuZ2V0UmlnaHRDaGlsZEluZGV4XyhpbmRleCk7XG5cbiAgICB2YXIgc21hbGxlckNoaWxkSW5kZXggPSBySW5kZXggPCBjb3VudCAmJlxuICAgICAgICBwcmlvcml0aWVzW3JJbmRleF0gPCBwcmlvcml0aWVzW2xJbmRleF0gP1xuICAgICAgckluZGV4IDogbEluZGV4O1xuXG4gICAgZWxlbWVudHNbaW5kZXhdID0gZWxlbWVudHNbc21hbGxlckNoaWxkSW5kZXhdO1xuICAgIHByaW9yaXRpZXNbaW5kZXhdID0gcHJpb3JpdGllc1tzbWFsbGVyQ2hpbGRJbmRleF07XG4gICAgaW5kZXggPSBzbWFsbGVyQ2hpbGRJbmRleDtcbiAgfVxuXG4gIGVsZW1lbnRzW2luZGV4XSA9IGVsZW1lbnQ7XG4gIHByaW9yaXRpZXNbaW5kZXhdID0gcHJpb3JpdHk7XG4gIHRoaXMuc2lmdERvd25fKHN0YXJ0SW5kZXgsIGluZGV4KTtcbn07XG5cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCBUaGUgaW5kZXggb2YgdGhlIHJvb3QuXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBub2RlIHRvIG1vdmUgdXAuXG4gKiBAcHJpdmF0ZVxuICovXG5Qcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5zaWZ0RG93bl8gPSBmdW5jdGlvbiBzaWZ0RG93bl8gKHN0YXJ0SW5kZXgsIGluZGV4KSB7XG4gIHZhciBlbGVtZW50cyA9IHRoaXMuZWxlbWVudHNfO1xuICB2YXIgcHJpb3JpdGllcyA9IHRoaXMucHJpb3JpdGllc187XG4gIHZhciBlbGVtZW50ID0gZWxlbWVudHNbaW5kZXhdO1xuICB2YXIgcHJpb3JpdHkgPSBwcmlvcml0aWVzW2luZGV4XTtcblxuICB3aGlsZSAoaW5kZXggPiBzdGFydEluZGV4KSB7XG4gICAgdmFyIHBhcmVudEluZGV4ID0gdGhpcy5nZXRQYXJlbnRJbmRleF8oaW5kZXgpO1xuICAgIGlmIChwcmlvcml0aWVzW3BhcmVudEluZGV4XSA+IHByaW9yaXR5KSB7XG4gICAgICBlbGVtZW50c1tpbmRleF0gPSBlbGVtZW50c1twYXJlbnRJbmRleF07XG4gICAgICBwcmlvcml0aWVzW2luZGV4XSA9IHByaW9yaXRpZXNbcGFyZW50SW5kZXhdO1xuICAgICAgaW5kZXggPSBwYXJlbnRJbmRleDtcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIGVsZW1lbnRzW2luZGV4XSA9IGVsZW1lbnQ7XG4gIHByaW9yaXRpZXNbaW5kZXhdID0gcHJpb3JpdHk7XG59O1xuXG5cbi8qKlxuICogRklYTUUgZW1wdHkgZGVzY3JpcHRpb24gZm9yIGpzZG9jXG4gKi9cblByaW9yaXR5UXVldWUucHJvdG90eXBlLnJlcHJpb3JpdGl6ZSA9IGZ1bmN0aW9uIHJlcHJpb3JpdGl6ZSAoKSB7XG4gIHZhciBwcmlvcml0eUZ1bmN0aW9uID0gdGhpcy5wcmlvcml0eUZ1bmN0aW9uXztcbiAgdmFyIGVsZW1lbnRzID0gdGhpcy5lbGVtZW50c187XG4gIHZhciBwcmlvcml0aWVzID0gdGhpcy5wcmlvcml0aWVzXztcbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIG4gPSBlbGVtZW50cy5sZW5ndGg7XG4gIHZhciBlbGVtZW50LCBpLCBwcmlvcml0eTtcbiAgZm9yIChpID0gMDsgaSA8IG47ICsraSkge1xuICAgIGVsZW1lbnQgPSBlbGVtZW50c1tpXTtcbiAgICBwcmlvcml0eSA9IHByaW9yaXR5RnVuY3Rpb24oZWxlbWVudCk7XG4gICAgaWYgKHByaW9yaXR5ID09IERST1ApIHtcbiAgICAgIGRlbGV0ZSB0aGlzLnF1ZXVlZEVsZW1lbnRzX1t0aGlzLmtleUZ1bmN0aW9uXyhlbGVtZW50KV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHByaW9yaXRpZXNbaW5kZXhdID0gcHJpb3JpdHk7XG4gICAgICBlbGVtZW50c1tpbmRleCsrXSA9IGVsZW1lbnQ7XG4gICAgfVxuICB9XG4gIGVsZW1lbnRzLmxlbmd0aCA9IGluZGV4O1xuICBwcmlvcml0aWVzLmxlbmd0aCA9IGluZGV4O1xuICB0aGlzLmhlYXBpZnlfKCk7XG59O1xuXG5cbmV4cG9ydCBkZWZhdWx0IFByaW9yaXR5UXVldWU7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVByaW9yaXR5UXVldWUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlcmVyL01hcFxuICovXG5pbXBvcnQge2Fic3RyYWN0LCBnZXRVaWR9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IERpc3Bvc2FibGUgZnJvbSAnLi4vRGlzcG9zYWJsZS5qcyc7XG5pbXBvcnQge2xpc3RlbiwgdW5saXN0ZW5CeUtleX0gZnJvbSAnLi4vZXZlbnRzLmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQge2dldFdpZHRofSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHtUUlVFfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHt2aXNpYmxlQXRSZXNvbHV0aW9ufSBmcm9tICcuLi9sYXllci9MYXllci5qcyc7XG5pbXBvcnQge3NoYXJlZCBhcyBpY29uSW1hZ2VDYWNoZX0gZnJvbSAnLi4vc3R5bGUvSWNvbkltYWdlQ2FjaGUuanMnO1xuaW1wb3J0IHtjb21wb3NlIGFzIGNvbXBvc2VUcmFuc2Zvcm0sIGludmVydCBhcyBpbnZlcnRUcmFuc2Zvcm0sIHNldEZyb21BcnJheSBhcyB0cmFuc2Zvcm1TZXRGcm9tQXJyYXl9IGZyb20gJy4uL3RyYW5zZm9ybS5qcyc7XG5cbi8qKlxuICogQGFic3RyYWN0XG4gKi9cbnZhciBNYXBSZW5kZXJlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKERpc3Bvc2FibGUpIHtcbiAgZnVuY3Rpb24gTWFwUmVuZGVyZXIobWFwKSB7XG4gICAgRGlzcG9zYWJsZS5jYWxsKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5tYXBfID0gbWFwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4vTGF5ZXIuanNcIikuZGVmYXVsdD59XG4gICAgICovXG4gICAgdGhpcy5sYXllclJlbmRlcmVyc18gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMubGF5ZXJSZW5kZXJlckxpc3RlbmVyc18gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PHR5cGVvZiBpbXBvcnQoXCIuL0xheWVyLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAqL1xuICAgIHRoaXMubGF5ZXJSZW5kZXJlckNvbnN0cnVjdG9yc18gPSBbXTtcblxuICB9XG5cbiAgaWYgKCBEaXNwb3NhYmxlICkgTWFwUmVuZGVyZXIuX19wcm90b19fID0gRGlzcG9zYWJsZTtcbiAgTWFwUmVuZGVyZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRGlzcG9zYWJsZSAmJiBEaXNwb3NhYmxlLnByb3RvdHlwZSApO1xuICBNYXBSZW5kZXJlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNYXBSZW5kZXJlcjtcblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL0V2ZW50VHlwZS5qc1wiKS5kZWZhdWx0fSB0eXBlIEV2ZW50IHR5cGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqL1xuICBNYXBSZW5kZXJlci5wcm90b3R5cGUuZGlzcGF0Y2hSZW5kZXJFdmVudCA9IGZ1bmN0aW9uIGRpc3BhdGNoUmVuZGVyRXZlbnQgKHR5cGUsIGZyYW1lU3RhdGUpIHtcbiAgICBhYnN0cmFjdCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZWdpc3RlciBsYXllciByZW5kZXJlciBjb25zdHJ1Y3RvcnMuXG4gICAqIEBwYXJhbSB7QXJyYXk8dHlwZW9mIGltcG9ydChcIi4vTGF5ZXIuanNcIikuZGVmYXVsdD59IGNvbnN0cnVjdG9ycyBMYXllciByZW5kZXJlcnMuXG4gICAqL1xuICBNYXBSZW5kZXJlci5wcm90b3R5cGUucmVnaXN0ZXJMYXllclJlbmRlcmVycyA9IGZ1bmN0aW9uIHJlZ2lzdGVyTGF5ZXJSZW5kZXJlcnMgKGNvbnN0cnVjdG9ycykge1xuICAgIHRoaXMubGF5ZXJSZW5kZXJlckNvbnN0cnVjdG9yc18ucHVzaC5hcHBseSh0aGlzLmxheWVyUmVuZGVyZXJDb25zdHJ1Y3RvcnNfLCBjb25zdHJ1Y3RvcnMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lU3RhdGUuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIE1hcFJlbmRlcmVyLnByb3RvdHlwZS5jYWxjdWxhdGVNYXRyaWNlczJEID0gZnVuY3Rpb24gY2FsY3VsYXRlTWF0cmljZXMyRCAoZnJhbWVTdGF0ZSkge1xuICAgIHZhciB2aWV3U3RhdGUgPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZTtcbiAgICB2YXIgY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0gPSBmcmFtZVN0YXRlLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtO1xuICAgIHZhciBwaXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybSA9IGZyYW1lU3RhdGUucGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm07XG5cbiAgICBjb21wb3NlVHJhbnNmb3JtKGNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtLFxuICAgICAgZnJhbWVTdGF0ZS5zaXplWzBdIC8gMiwgZnJhbWVTdGF0ZS5zaXplWzFdIC8gMixcbiAgICAgIDEgLyB2aWV3U3RhdGUucmVzb2x1dGlvbiwgLTEgLyB2aWV3U3RhdGUucmVzb2x1dGlvbixcbiAgICAgIC12aWV3U3RhdGUucm90YXRpb24sXG4gICAgICAtdmlld1N0YXRlLmNlbnRlclswXSwgLXZpZXdTdGF0ZS5jZW50ZXJbMV0pO1xuXG4gICAgaW52ZXJ0VHJhbnNmb3JtKFxuICAgICAgdHJhbnNmb3JtU2V0RnJvbUFycmF5KHBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtLCBjb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybSkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCBsYXllciByZW5kZXJlcnMuXG4gICAqL1xuICBNYXBSZW5kZXJlci5wcm90b3R5cGUucmVtb3ZlTGF5ZXJSZW5kZXJlcnMgPSBmdW5jdGlvbiByZW1vdmVMYXllclJlbmRlcmVycyAoKSB7XG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMubGF5ZXJSZW5kZXJlcnNfKSB7XG4gICAgICB0aGlzLnJlbW92ZUxheWVyUmVuZGVyZXJCeUtleV8oa2V5KS5kaXNwb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lU3RhdGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoaXRUb2xlcmFuY2UgSGl0IHRvbGVyYW5jZSBpbiBwaXhlbHMuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczogUywgaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZSxcbiAgICogICAgIGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQpOiBUfSBjYWxsYmFjayBGZWF0dXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge1N9IHRoaXNBcmcgVmFsdWUgdG8gdXNlIGFzIGB0aGlzYCB3aGVuIGV4ZWN1dGluZyBgY2FsbGJhY2tgLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6IFUsIGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQpOiBib29sZWFufSBsYXllckZpbHRlciBMYXllciBmaWx0ZXJcbiAgICogICAgIGZ1bmN0aW9uLCBvbmx5IGxheWVycyB3aGljaCBhcmUgdmlzaWJsZSBhbmQgZm9yIHdoaWNoIHRoaXMgZnVuY3Rpb25cbiAgICogICAgIHJldHVybnMgYHRydWVgIHdpbGwgYmUgdGVzdGVkIGZvciBmZWF0dXJlcy4gIEJ5IGRlZmF1bHQsIGFsbCB2aXNpYmxlXG4gICAqICAgICBsYXllcnMgd2lsbCBiZSB0ZXN0ZWQuXG4gICAqIEBwYXJhbSB7VX0gdGhpc0FyZzIgVmFsdWUgdG8gdXNlIGFzIGB0aGlzYCB3aGVuIGV4ZWN1dGluZyBgbGF5ZXJGaWx0ZXJgLlxuICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgKiBAdGVtcGxhdGUgUyxULFVcbiAgICovXG4gIE1hcFJlbmRlcmVyLnByb3RvdHlwZS5mb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZSA9IGZ1bmN0aW9uIGZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlIChcbiAgICBjb29yZGluYXRlLFxuICAgIGZyYW1lU3RhdGUsXG4gICAgaGl0VG9sZXJhbmNlLFxuICAgIGNhbGxiYWNrLFxuICAgIHRoaXNBcmcsXG4gICAgbGF5ZXJGaWx0ZXIsXG4gICAgdGhpc0FyZzJcbiAgKSB7XG4gICAgdmFyIHJlc3VsdDtcbiAgICB2YXIgdmlld1N0YXRlID0gZnJhbWVTdGF0ZS52aWV3U3RhdGU7XG4gICAgdmFyIHZpZXdSZXNvbHV0aW9uID0gdmlld1N0YXRlLnJlc29sdXRpb247XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICAgICAqIEByZXR1cm4gez99IENhbGxiYWNrIHJlc3VsdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZShmZWF0dXJlLCBsYXllcikge1xuICAgICAgdmFyIG1hbmFnZWQgPSBmcmFtZVN0YXRlLmxheWVyU3RhdGVzW2dldFVpZChsYXllcildLm1hbmFnZWQ7XG4gICAgICBpZiAoIShnZXRVaWQoZmVhdHVyZSkgaW4gZnJhbWVTdGF0ZS5za2lwcGVkRmVhdHVyZVVpZHMgJiYgIW1hbmFnZWQpKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIGZlYXR1cmUsIG1hbmFnZWQgPyBsYXllciA6IG51bGwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwcm9qZWN0aW9uID0gdmlld1N0YXRlLnByb2plY3Rpb247XG5cbiAgICB2YXIgdHJhbnNsYXRlZENvb3JkaW5hdGUgPSBjb29yZGluYXRlO1xuICAgIGlmIChwcm9qZWN0aW9uLmNhbldyYXBYKCkpIHtcbiAgICAgIHZhciBwcm9qZWN0aW9uRXh0ZW50ID0gcHJvamVjdGlvbi5nZXRFeHRlbnQoKTtcbiAgICAgIHZhciB3b3JsZFdpZHRoID0gZ2V0V2lkdGgocHJvamVjdGlvbkV4dGVudCk7XG4gICAgICB2YXIgeCA9IGNvb3JkaW5hdGVbMF07XG4gICAgICBpZiAoeCA8IHByb2plY3Rpb25FeHRlbnRbMF0gfHwgeCA+IHByb2plY3Rpb25FeHRlbnRbMl0pIHtcbiAgICAgICAgdmFyIHdvcmxkc0F3YXkgPSBNYXRoLmNlaWwoKHByb2plY3Rpb25FeHRlbnRbMF0gLSB4KSAvIHdvcmxkV2lkdGgpO1xuICAgICAgICB0cmFuc2xhdGVkQ29vcmRpbmF0ZSA9IFt4ICsgd29ybGRXaWR0aCAqIHdvcmxkc0F3YXksIGNvb3JkaW5hdGVbMV1dO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBsYXllclN0YXRlcyA9IGZyYW1lU3RhdGUubGF5ZXJTdGF0ZXNBcnJheTtcbiAgICB2YXIgbnVtTGF5ZXJzID0gbGF5ZXJTdGF0ZXMubGVuZ3RoO1xuICAgIHZhciBpO1xuICAgIGZvciAoaSA9IG51bUxheWVycyAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICB2YXIgbGF5ZXJTdGF0ZSA9IGxheWVyU3RhdGVzW2ldO1xuICAgICAgdmFyIGxheWVyID0gbGF5ZXJTdGF0ZS5sYXllcjtcbiAgICAgIGlmICh2aXNpYmxlQXRSZXNvbHV0aW9uKGxheWVyU3RhdGUsIHZpZXdSZXNvbHV0aW9uKSAmJiBsYXllckZpbHRlci5jYWxsKHRoaXNBcmcyLCBsYXllcikpIHtcbiAgICAgICAgdmFyIGxheWVyUmVuZGVyZXIgPSB0aGlzLmdldExheWVyUmVuZGVyZXIobGF5ZXIpO1xuICAgICAgICB2YXIgc291cmNlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0fSAqLyAobGF5ZXIpLmdldFNvdXJjZSgpO1xuICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgcmVzdWx0ID0gbGF5ZXJSZW5kZXJlci5mb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZShcbiAgICAgICAgICAgIHNvdXJjZS5nZXRXcmFwWCgpID8gdHJhbnNsYXRlZENvb3JkaW5hdGUgOiBjb29yZGluYXRlLFxuICAgICAgICAgICAgZnJhbWVTdGF0ZSwgaGl0VG9sZXJhbmNlLCBmb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfTtcblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lU3RhdGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoaXRUb2xlcmFuY2UgSGl0IHRvbGVyYW5jZSBpbiBwaXhlbHMuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczogUywgaW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdCwgKFVpbnQ4Q2xhbXBlZEFycmF5fFVpbnQ4QXJyYXkpKTogVH0gY2FsbGJhY2sgTGF5ZXJcbiAgICogICAgIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge1N9IHRoaXNBcmcgVmFsdWUgdG8gdXNlIGFzIGB0aGlzYCB3aGVuIGV4ZWN1dGluZyBgY2FsbGJhY2tgLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6IFUsIGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQpOiBib29sZWFufSBsYXllckZpbHRlciBMYXllciBmaWx0ZXJcbiAgICogICAgIGZ1bmN0aW9uLCBvbmx5IGxheWVycyB3aGljaCBhcmUgdmlzaWJsZSBhbmQgZm9yIHdoaWNoIHRoaXMgZnVuY3Rpb25cbiAgICogICAgIHJldHVybnMgYHRydWVgIHdpbGwgYmUgdGVzdGVkIGZvciBmZWF0dXJlcy4gIEJ5IGRlZmF1bHQsIGFsbCB2aXNpYmxlXG4gICAqICAgICBsYXllcnMgd2lsbCBiZSB0ZXN0ZWQuXG4gICAqIEBwYXJhbSB7VX0gdGhpc0FyZzIgVmFsdWUgdG8gdXNlIGFzIGB0aGlzYCB3aGVuIGV4ZWN1dGluZyBgbGF5ZXJGaWx0ZXJgLlxuICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgKiBAdGVtcGxhdGUgUyxULFVcbiAgICovXG4gIE1hcFJlbmRlcmVyLnByb3RvdHlwZS5mb3JFYWNoTGF5ZXJBdFBpeGVsID0gZnVuY3Rpb24gZm9yRWFjaExheWVyQXRQaXhlbCAocGl4ZWwsIGZyYW1lU3RhdGUsIGhpdFRvbGVyYW5jZSwgY2FsbGJhY2ssIHRoaXNBcmcsIGxheWVyRmlsdGVyLCB0aGlzQXJnMikge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lU3RhdGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoaXRUb2xlcmFuY2UgSGl0IHRvbGVyYW5jZSBpbiBwaXhlbHMuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczogVSwgaW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdCk6IGJvb2xlYW59IGxheWVyRmlsdGVyIExheWVyIGZpbHRlclxuICAgKiAgICAgZnVuY3Rpb24sIG9ubHkgbGF5ZXJzIHdoaWNoIGFyZSB2aXNpYmxlIGFuZCBmb3Igd2hpY2ggdGhpcyBmdW5jdGlvblxuICAgKiAgICAgcmV0dXJucyBgdHJ1ZWAgd2lsbCBiZSB0ZXN0ZWQgZm9yIGZlYXR1cmVzLiAgQnkgZGVmYXVsdCwgYWxsIHZpc2libGVcbiAgICogICAgIGxheWVycyB3aWxsIGJlIHRlc3RlZC5cbiAgICogQHBhcmFtIHtVfSB0aGlzQXJnIFZhbHVlIHRvIHVzZSBhcyBgdGhpc2Agd2hlbiBleGVjdXRpbmcgYGxheWVyRmlsdGVyYC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSXMgdGhlcmUgYSBmZWF0dXJlIGF0IHRoZSBnaXZlbiBjb29yZGluYXRlP1xuICAgKiBAdGVtcGxhdGUgVVxuICAgKi9cbiAgTWFwUmVuZGVyZXIucHJvdG90eXBlLmhhc0ZlYXR1cmVBdENvb3JkaW5hdGUgPSBmdW5jdGlvbiBoYXNGZWF0dXJlQXRDb29yZGluYXRlIChjb29yZGluYXRlLCBmcmFtZVN0YXRlLCBoaXRUb2xlcmFuY2UsIGxheWVyRmlsdGVyLCB0aGlzQXJnKSB7XG4gICAgdmFyIGhhc0ZlYXR1cmUgPSB0aGlzLmZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlKFxuICAgICAgY29vcmRpbmF0ZSwgZnJhbWVTdGF0ZSwgaGl0VG9sZXJhbmNlLCBUUlVFLCB0aGlzLCBsYXllckZpbHRlciwgdGhpc0FyZyk7XG5cbiAgICByZXR1cm4gaGFzRmVhdHVyZSAhPT0gdW5kZWZpbmVkO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdH0gbGF5ZXIgTGF5ZXIuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9MYXllci5qc1wiKS5kZWZhdWx0fSBMYXllciByZW5kZXJlci5cbiAgICovXG4gIE1hcFJlbmRlcmVyLnByb3RvdHlwZS5nZXRMYXllclJlbmRlcmVyID0gZnVuY3Rpb24gZ2V0TGF5ZXJSZW5kZXJlciAobGF5ZXIpIHtcbiAgICB2YXIgbGF5ZXJLZXkgPSBnZXRVaWQobGF5ZXIpO1xuICAgIGlmIChsYXllcktleSBpbiB0aGlzLmxheWVyUmVuZGVyZXJzXykge1xuICAgICAgcmV0dXJuIHRoaXMubGF5ZXJSZW5kZXJlcnNfW2xheWVyS2V5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHJlbmRlcmVyO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy5sYXllclJlbmRlcmVyQ29uc3RydWN0b3JzXy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBjYW5kaWRhdGUgPSB0aGlzLmxheWVyUmVuZGVyZXJDb25zdHJ1Y3RvcnNfW2ldO1xuICAgICAgICBpZiAoY2FuZGlkYXRlWydoYW5kbGVzJ10obGF5ZXIpKSB7XG4gICAgICAgICAgcmVuZGVyZXIgPSBjYW5kaWRhdGVbJ2NyZWF0ZSddKHRoaXMsIGxheWVyKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMubGF5ZXJSZW5kZXJlcnNfW2xheWVyS2V5XSA9IHJlbmRlcmVyO1xuICAgICAgICB0aGlzLmxheWVyUmVuZGVyZXJMaXN0ZW5lcnNfW2xheWVyS2V5XSA9IGxpc3RlbihyZW5kZXJlcixcbiAgICAgICAgICBFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLmhhbmRsZUxheWVyUmVuZGVyZXJDaGFuZ2VfLCB0aGlzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSByZW5kZXJlciBmb3IgbGF5ZXI6ICcgKyBsYXllci5nZXRUeXBlKCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlbmRlcmVyO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVyS2V5IExheWVyIGtleS5cbiAgICogQHByb3RlY3RlZFxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0xheWVyLmpzXCIpLmRlZmF1bHR9IExheWVyIHJlbmRlcmVyLlxuICAgKi9cbiAgTWFwUmVuZGVyZXIucHJvdG90eXBlLmdldExheWVyUmVuZGVyZXJCeUtleSA9IGZ1bmN0aW9uIGdldExheWVyUmVuZGVyZXJCeUtleSAobGF5ZXJLZXkpIHtcbiAgICByZXR1cm4gdGhpcy5sYXllclJlbmRlcmVyc19bbGF5ZXJLZXldO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEByZXR1cm4ge09iamVjdDxzdHJpbmcsIGltcG9ydChcIi4vTGF5ZXIuanNcIikuZGVmYXVsdD59IExheWVyIHJlbmRlcmVycy5cbiAgICovXG4gIE1hcFJlbmRlcmVyLnByb3RvdHlwZS5nZXRMYXllclJlbmRlcmVycyA9IGZ1bmN0aW9uIGdldExheWVyUmVuZGVyZXJzICgpIHtcbiAgICByZXR1cm4gdGhpcy5sYXllclJlbmRlcmVyc187XG4gIH07XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fSBNYXAuXG4gICAqL1xuICBNYXBSZW5kZXJlci5wcm90b3R5cGUuZ2V0TWFwID0gZnVuY3Rpb24gZ2V0TWFwICgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXBfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgY2hhbmdlcyBpbiBhIGxheWVyIHJlbmRlcmVyLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTWFwUmVuZGVyZXIucHJvdG90eXBlLmhhbmRsZUxheWVyUmVuZGVyZXJDaGFuZ2VfID0gZnVuY3Rpb24gaGFuZGxlTGF5ZXJSZW5kZXJlckNoYW5nZV8gKCkge1xuICAgIHRoaXMubWFwXy5yZW5kZXIoKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVyS2V5IExheWVyIGtleS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9MYXllci5qc1wiKS5kZWZhdWx0fSBMYXllciByZW5kZXJlci5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIE1hcFJlbmRlcmVyLnByb3RvdHlwZS5yZW1vdmVMYXllclJlbmRlcmVyQnlLZXlfID0gZnVuY3Rpb24gcmVtb3ZlTGF5ZXJSZW5kZXJlckJ5S2V5XyAobGF5ZXJLZXkpIHtcbiAgICB2YXIgbGF5ZXJSZW5kZXJlciA9IHRoaXMubGF5ZXJSZW5kZXJlcnNfW2xheWVyS2V5XTtcbiAgICBkZWxldGUgdGhpcy5sYXllclJlbmRlcmVyc19bbGF5ZXJLZXldO1xuXG4gICAgdW5saXN0ZW5CeUtleSh0aGlzLmxheWVyUmVuZGVyZXJMaXN0ZW5lcnNfW2xheWVyS2V5XSk7XG4gICAgZGVsZXRlIHRoaXMubGF5ZXJSZW5kZXJlckxpc3RlbmVyc19bbGF5ZXJLZXldO1xuXG4gICAgcmV0dXJuIGxheWVyUmVuZGVyZXI7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBNYXBSZW5kZXJlci5wcm90b3R5cGUucmVtb3ZlVW51c2VkTGF5ZXJSZW5kZXJlcnNfID0gZnVuY3Rpb24gcmVtb3ZlVW51c2VkTGF5ZXJSZW5kZXJlcnNfIChtYXAsIGZyYW1lU3RhdGUpIHtcbiAgICBmb3IgKHZhciBsYXllcktleSBpbiB0aGlzLmxheWVyUmVuZGVyZXJzXykge1xuICAgICAgaWYgKCFmcmFtZVN0YXRlIHx8ICEobGF5ZXJLZXkgaW4gZnJhbWVTdGF0ZS5sYXllclN0YXRlcykpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMYXllclJlbmRlcmVyQnlLZXlfKGxheWVyS2V5KS5kaXNwb3NlKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZW5kZXIuXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0gez9pbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICovXG4gIE1hcFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJGcmFtZSA9IGZ1bmN0aW9uIHJlbmRlckZyYW1lIChmcmFtZVN0YXRlKSB7XG4gICAgYWJzdHJhY3QoKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgTWFwUmVuZGVyZXIucHJvdG90eXBlLnNjaGVkdWxlRXhwaXJlSWNvbkNhY2hlID0gZnVuY3Rpb24gc2NoZWR1bGVFeHBpcmVJY29uQ2FjaGUgKGZyYW1lU3RhdGUpIHtcbiAgICBmcmFtZVN0YXRlLnBvc3RSZW5kZXJGdW5jdGlvbnMucHVzaCgvKiogQHR5cGUge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5Qb3N0UmVuZGVyRnVuY3Rpb259ICovIChleHBpcmVJY29uQ2FjaGUpKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHshaW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIE1hcFJlbmRlcmVyLnByb3RvdHlwZS5zY2hlZHVsZVJlbW92ZVVudXNlZExheWVyUmVuZGVyZXJzID0gZnVuY3Rpb24gc2NoZWR1bGVSZW1vdmVVbnVzZWRMYXllclJlbmRlcmVycyAoZnJhbWVTdGF0ZSkge1xuICAgIGZvciAodmFyIGxheWVyS2V5IGluIHRoaXMubGF5ZXJSZW5kZXJlcnNfKSB7XG4gICAgICBpZiAoIShsYXllcktleSBpbiBmcmFtZVN0YXRlLmxheWVyU3RhdGVzKSkge1xuICAgICAgICBmcmFtZVN0YXRlLnBvc3RSZW5kZXJGdW5jdGlvbnMucHVzaChcbiAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5Qb3N0UmVuZGVyRnVuY3Rpb259ICovICh0aGlzLnJlbW92ZVVudXNlZExheWVyUmVuZGVyZXJzXy5iaW5kKHRoaXMpKVxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBNYXBSZW5kZXJlcjtcbn0oRGlzcG9zYWJsZSkpO1xuXG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gbWFwIE1hcC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gKi9cbmZ1bmN0aW9uIGV4cGlyZUljb25DYWNoZShtYXAsIGZyYW1lU3RhdGUpIHtcbiAgaWNvbkltYWdlQ2FjaGUuZXhwaXJlKCk7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLlN0YXRlfSBzdGF0ZTEgRmlyc3QgbGF5ZXIgc3RhdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLlN0YXRlfSBzdGF0ZTIgU2Vjb25kIGxheWVyIHN0YXRlLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgekluZGV4IGRpZmZlcmVuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzb3J0QnlaSW5kZXgoc3RhdGUxLCBzdGF0ZTIpIHtcbiAgcmV0dXJuIHN0YXRlMS56SW5kZXggLSBzdGF0ZTIuekluZGV4O1xufVxuZXhwb3J0IGRlZmF1bHQgTWFwUmVuZGVyZXI7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hcC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyZXIvY2FudmFzL01hcFxuICovXG5pbXBvcnQge2NyZWF0ZSBhcyBjcmVhdGVUcmFuc2Zvcm0sIGFwcGx5IGFzIGFwcGx5VHJhbnNmb3JtLCBjb21wb3NlIGFzIGNvbXBvc2VUcmFuc2Zvcm19IGZyb20gJy4uLy4uL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQge2luY2x1ZGVzLCBzdGFibGVTb3J0fSBmcm9tICcuLi8uLi9hcnJheS5qcyc7XG5pbXBvcnQge0NMQVNTX1VOU0VMRUNUQUJMRX0gZnJvbSAnLi4vLi4vY3NzLmpzJztcbmltcG9ydCB7Y3JlYXRlQ2FudmFzQ29udGV4dDJEfSBmcm9tICcuLi8uLi9kb20uanMnO1xuaW1wb3J0IHt2aXNpYmxlQXRSZXNvbHV0aW9ufSBmcm9tICcuLi8uLi9sYXllci9MYXllci5qcyc7XG5pbXBvcnQgUmVuZGVyRXZlbnQgZnJvbSAnLi4vLi4vcmVuZGVyL0V2ZW50LmpzJztcbmltcG9ydCBSZW5kZXJFdmVudFR5cGUgZnJvbSAnLi4vLi4vcmVuZGVyL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQge3JvdGF0ZUF0T2Zmc2V0fSBmcm9tICcuLi8uLi9yZW5kZXIvY2FudmFzLmpzJztcbmltcG9ydCBDYW52YXNJbW1lZGlhdGVSZW5kZXJlciBmcm9tICcuLi8uLi9yZW5kZXIvY2FudmFzL0ltbWVkaWF0ZS5qcyc7XG5pbXBvcnQgTWFwUmVuZGVyZXIsIHtzb3J0QnlaSW5kZXh9IGZyb20gJy4uL01hcC5qcyc7XG5pbXBvcnQgU291cmNlU3RhdGUgZnJvbSAnLi4vLi4vc291cmNlL1N0YXRlLmpzJztcblxuXG4vKipcbiAqIEB0eXBlIHtBcnJheTx0eXBlb2YgaW1wb3J0KFwiLi4vTGF5ZXIuanNcIikuZGVmYXVsdD59XG4gKi9cbmV4cG9ydCB2YXIgbGF5ZXJSZW5kZXJlckNvbnN0cnVjdG9ycyA9IFtdO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIENhbnZhcyBtYXAgcmVuZGVyZXIuXG4gKiBAYXBpXG4gKi9cbnZhciBDYW52YXNNYXBSZW5kZXJlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKE1hcFJlbmRlcmVyKSB7XG4gIGZ1bmN0aW9uIENhbnZhc01hcFJlbmRlcmVyKG1hcCkge1xuICAgIE1hcFJlbmRlcmVyLmNhbGwodGhpcywgbWFwKTtcblxuICAgIHZhciBjb250YWluZXIgPSBtYXAuZ2V0Vmlld3BvcnQoKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAgICAgKi9cbiAgICB0aGlzLmNvbnRleHRfID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKCk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmNhbnZhc18gPSB0aGlzLmNvbnRleHRfLmNhbnZhcztcblxuICAgIHRoaXMuY2FudmFzXy5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLmNhbnZhc18uc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIHRoaXMuY2FudmFzXy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB0aGlzLmNhbnZhc18uY2xhc3NOYW1lID0gQ0xBU1NfVU5TRUxFQ1RBQkxFO1xuICAgIGNvbnRhaW5lci5pbnNlcnRCZWZvcmUodGhpcy5jYW52YXNfLCBjb250YWluZXIuY2hpbGROb2Rlc1swXSB8fCBudWxsKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlZFZpc2libGVfID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICovXG4gICAgdGhpcy50cmFuc2Zvcm1fID0gY3JlYXRlVHJhbnNmb3JtKCk7XG5cbiAgfVxuXG4gIGlmICggTWFwUmVuZGVyZXIgKSBDYW52YXNNYXBSZW5kZXJlci5fX3Byb3RvX18gPSBNYXBSZW5kZXJlcjtcbiAgQ2FudmFzTWFwUmVuZGVyZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggTWFwUmVuZGVyZXIgJiYgTWFwUmVuZGVyZXIucHJvdG90eXBlICk7XG4gIENhbnZhc01hcFJlbmRlcmVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENhbnZhc01hcFJlbmRlcmVyO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3JlbmRlci9FdmVudFR5cGUuanNcIikuZGVmYXVsdH0gdHlwZSBFdmVudCB0eXBlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKi9cbiAgQ2FudmFzTWFwUmVuZGVyZXIucHJvdG90eXBlLmRpc3BhdGNoUmVuZGVyRXZlbnQgPSBmdW5jdGlvbiBkaXNwYXRjaFJlbmRlckV2ZW50ICh0eXBlLCBmcmFtZVN0YXRlKSB7XG4gICAgdmFyIG1hcCA9IHRoaXMuZ2V0TWFwKCk7XG4gICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgIGlmIChtYXAuaGFzTGlzdGVuZXIodHlwZSkpIHtcbiAgICAgIHZhciBleHRlbnQgPSBmcmFtZVN0YXRlLmV4dGVudDtcbiAgICAgIHZhciBwaXhlbFJhdGlvID0gZnJhbWVTdGF0ZS5waXhlbFJhdGlvO1xuICAgICAgdmFyIHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgICAgdmFyIHJvdGF0aW9uID0gdmlld1N0YXRlLnJvdGF0aW9uO1xuXG4gICAgICB2YXIgdHJhbnNmb3JtID0gdGhpcy5nZXRUcmFuc2Zvcm0oZnJhbWVTdGF0ZSk7XG5cbiAgICAgIHZhciB2ZWN0b3JDb250ZXh0ID0gbmV3IENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyKGNvbnRleHQsIHBpeGVsUmF0aW8sXG4gICAgICAgIGV4dGVudCwgdHJhbnNmb3JtLCByb3RhdGlvbik7XG4gICAgICB2YXIgY29tcG9zZUV2ZW50ID0gbmV3IFJlbmRlckV2ZW50KHR5cGUsIHZlY3RvckNvbnRleHQsXG4gICAgICAgIGZyYW1lU3RhdGUsIGNvbnRleHQsIG51bGwpO1xuICAgICAgbWFwLmRpc3BhdGNoRXZlbnQoY29tcG9zZUV2ZW50KTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQHJldHVybiB7IWltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IFRyYW5zZm9ybS5cbiAgICovXG4gIENhbnZhc01hcFJlbmRlcmVyLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiBnZXRUcmFuc2Zvcm0gKGZyYW1lU3RhdGUpIHtcbiAgICB2YXIgdmlld1N0YXRlID0gZnJhbWVTdGF0ZS52aWV3U3RhdGU7XG4gICAgdmFyIGR4MSA9IHRoaXMuY2FudmFzXy53aWR0aCAvIDI7XG4gICAgdmFyIGR5MSA9IHRoaXMuY2FudmFzXy5oZWlnaHQgLyAyO1xuICAgIHZhciBzeCA9IGZyYW1lU3RhdGUucGl4ZWxSYXRpbyAvIHZpZXdTdGF0ZS5yZXNvbHV0aW9uO1xuICAgIHZhciBzeSA9IC1zeDtcbiAgICB2YXIgYW5nbGUgPSAtdmlld1N0YXRlLnJvdGF0aW9uO1xuICAgIHZhciBkeDIgPSAtdmlld1N0YXRlLmNlbnRlclswXTtcbiAgICB2YXIgZHkyID0gLXZpZXdTdGF0ZS5jZW50ZXJbMV07XG4gICAgcmV0dXJuIGNvbXBvc2VUcmFuc2Zvcm0odGhpcy50cmFuc2Zvcm1fLCBkeDEsIGR5MSwgc3gsIHN5LCBhbmdsZSwgZHgyLCBkeTIpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgQ2FudmFzTWFwUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlckZyYW1lID0gZnVuY3Rpb24gcmVuZGVyRnJhbWUgKGZyYW1lU3RhdGUpIHtcblxuICAgIGlmICghZnJhbWVTdGF0ZSkge1xuICAgICAgaWYgKHRoaXMucmVuZGVyZWRWaXNpYmxlXykge1xuICAgICAgICB0aGlzLmNhbnZhc18uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgdGhpcy5yZW5kZXJlZFZpc2libGVfID0gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgIHZhciBwaXhlbFJhdGlvID0gZnJhbWVTdGF0ZS5waXhlbFJhdGlvO1xuICAgIHZhciB3aWR0aCA9IE1hdGgucm91bmQoZnJhbWVTdGF0ZS5zaXplWzBdICogcGl4ZWxSYXRpbyk7XG4gICAgdmFyIGhlaWdodCA9IE1hdGgucm91bmQoZnJhbWVTdGF0ZS5zaXplWzFdICogcGl4ZWxSYXRpbyk7XG4gICAgaWYgKHRoaXMuY2FudmFzXy53aWR0aCAhPSB3aWR0aCB8fCB0aGlzLmNhbnZhc18uaGVpZ2h0ICE9IGhlaWdodCkge1xuICAgICAgdGhpcy5jYW52YXNfLndpZHRoID0gd2lkdGg7XG4gICAgICB0aGlzLmNhbnZhc18uaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG5cbiAgICB2YXIgcm90YXRpb24gPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5yb3RhdGlvbjtcblxuICAgIHRoaXMuY2FsY3VsYXRlTWF0cmljZXMyRChmcmFtZVN0YXRlKTtcblxuICAgIHRoaXMuZGlzcGF0Y2hSZW5kZXJFdmVudChSZW5kZXJFdmVudFR5cGUuUFJFQ09NUE9TRSwgZnJhbWVTdGF0ZSk7XG5cbiAgICB2YXIgbGF5ZXJTdGF0ZXNBcnJheSA9IGZyYW1lU3RhdGUubGF5ZXJTdGF0ZXNBcnJheTtcbiAgICBzdGFibGVTb3J0KGxheWVyU3RhdGVzQXJyYXksIHNvcnRCeVpJbmRleCk7XG5cbiAgICBpZiAocm90YXRpb24pIHtcbiAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgcm90YXRlQXRPZmZzZXQoY29udGV4dCwgcm90YXRpb24sIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAgfVxuXG4gICAgdmFyIHZpZXdSZXNvbHV0aW9uID0gZnJhbWVTdGF0ZS52aWV3U3RhdGUucmVzb2x1dGlvbjtcbiAgICB2YXIgaSwgaWk7XG4gICAgZm9yIChpID0gMCwgaWkgPSBsYXllclN0YXRlc0FycmF5Lmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIHZhciBsYXllclN0YXRlID0gbGF5ZXJTdGF0ZXNBcnJheVtpXTtcbiAgICAgIHZhciBsYXllciA9IGxheWVyU3RhdGUubGF5ZXI7XG4gICAgICB2YXIgbGF5ZXJSZW5kZXJlciA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9MYXllci5qc1wiKS5kZWZhdWx0fSAqLyAodGhpcy5nZXRMYXllclJlbmRlcmVyKGxheWVyKSk7XG4gICAgICBpZiAoIXZpc2libGVBdFJlc29sdXRpb24obGF5ZXJTdGF0ZSwgdmlld1Jlc29sdXRpb24pIHx8XG4gICAgICAgICAgbGF5ZXJTdGF0ZS5zb3VyY2VTdGF0ZSAhPSBTb3VyY2VTdGF0ZS5SRUFEWSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChsYXllclJlbmRlcmVyLnByZXBhcmVGcmFtZShmcmFtZVN0YXRlLCBsYXllclN0YXRlKSkge1xuICAgICAgICBsYXllclJlbmRlcmVyLmNvbXBvc2VGcmFtZShmcmFtZVN0YXRlLCBsYXllclN0YXRlLCBjb250ZXh0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocm90YXRpb24pIHtcbiAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgIH1cblxuICAgIHRoaXMuZGlzcGF0Y2hSZW5kZXJFdmVudChSZW5kZXJFdmVudFR5cGUuUE9TVENPTVBPU0UsIGZyYW1lU3RhdGUpO1xuXG4gICAgaWYgKCF0aGlzLnJlbmRlcmVkVmlzaWJsZV8pIHtcbiAgICAgIHRoaXMuY2FudmFzXy5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICB0aGlzLnJlbmRlcmVkVmlzaWJsZV8gPSB0cnVlO1xuICAgIH1cblxuICAgIHRoaXMuc2NoZWR1bGVSZW1vdmVVbnVzZWRMYXllclJlbmRlcmVycyhmcmFtZVN0YXRlKTtcbiAgICB0aGlzLnNjaGVkdWxlRXhwaXJlSWNvbkNhY2hlKGZyYW1lU3RhdGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgQ2FudmFzTWFwUmVuZGVyZXIucHJvdG90eXBlLmZvckVhY2hMYXllckF0UGl4ZWwgPSBmdW5jdGlvbiBmb3JFYWNoTGF5ZXJBdFBpeGVsIChwaXhlbCwgZnJhbWVTdGF0ZSwgaGl0VG9sZXJhbmNlLCBjYWxsYmFjaywgdGhpc0FyZywgbGF5ZXJGaWx0ZXIsIHRoaXNBcmcyKSB7XG4gICAgdmFyIHJlc3VsdDtcbiAgICB2YXIgdmlld1N0YXRlID0gZnJhbWVTdGF0ZS52aWV3U3RhdGU7XG4gICAgdmFyIHZpZXdSZXNvbHV0aW9uID0gdmlld1N0YXRlLnJlc29sdXRpb247XG5cbiAgICB2YXIgbGF5ZXJTdGF0ZXMgPSBmcmFtZVN0YXRlLmxheWVyU3RhdGVzQXJyYXk7XG4gICAgdmFyIG51bUxheWVycyA9IGxheWVyU3RhdGVzLmxlbmd0aDtcblxuICAgIHZhciBjb29yZGluYXRlID0gYXBwbHlUcmFuc2Zvcm0oXG4gICAgICBmcmFtZVN0YXRlLnBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtLCBwaXhlbC5zbGljZSgpKTtcblxuICAgIHZhciBpO1xuICAgIGZvciAoaSA9IG51bUxheWVycyAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICB2YXIgbGF5ZXJTdGF0ZSA9IGxheWVyU3RhdGVzW2ldO1xuICAgICAgdmFyIGxheWVyID0gbGF5ZXJTdGF0ZS5sYXllcjtcbiAgICAgIGlmICh2aXNpYmxlQXRSZXNvbHV0aW9uKGxheWVyU3RhdGUsIHZpZXdSZXNvbHV0aW9uKSAmJiBsYXllckZpbHRlci5jYWxsKHRoaXNBcmcyLCBsYXllcikpIHtcbiAgICAgICAgdmFyIGxheWVyUmVuZGVyZXIgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vTGF5ZXIuanNcIikuZGVmYXVsdH0gKi8gKHRoaXMuZ2V0TGF5ZXJSZW5kZXJlcihsYXllcikpO1xuICAgICAgICByZXN1bHQgPSBsYXllclJlbmRlcmVyLmZvckVhY2hMYXllckF0Q29vcmRpbmF0ZShcbiAgICAgICAgICBjb29yZGluYXRlLCBmcmFtZVN0YXRlLCBoaXRUb2xlcmFuY2UsIGNhbGxiYWNrLCB0aGlzQXJnKTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIENhbnZhc01hcFJlbmRlcmVyLnByb3RvdHlwZS5yZWdpc3RlckxheWVyUmVuZGVyZXJzID0gZnVuY3Rpb24gcmVnaXN0ZXJMYXllclJlbmRlcmVycyAoY29uc3RydWN0b3JzKSB7XG4gICAgTWFwUmVuZGVyZXIucHJvdG90eXBlLnJlZ2lzdGVyTGF5ZXJSZW5kZXJlcnMuY2FsbCh0aGlzLCBjb25zdHJ1Y3RvcnMpO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGNvbnN0cnVjdG9ycy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICB2YXIgY3RvciA9IGNvbnN0cnVjdG9yc1tpXTtcbiAgICAgIGlmICghaW5jbHVkZXMobGF5ZXJSZW5kZXJlckNvbnN0cnVjdG9ycywgY3RvcikpIHtcbiAgICAgICAgbGF5ZXJSZW5kZXJlckNvbnN0cnVjdG9ycy5wdXNoKGN0b3IpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gQ2FudmFzTWFwUmVuZGVyZXI7XG59KE1hcFJlbmRlcmVyKSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzTWFwUmVuZGVyZXI7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hcC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyZXIvTGF5ZXJcbiAqL1xuaW1wb3J0IHtnZXRVaWR9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IEltYWdlU3RhdGUgZnJvbSAnLi4vSW1hZ2VTdGF0ZS5qcyc7XG5pbXBvcnQgT2JzZXJ2YWJsZSBmcm9tICcuLi9PYnNlcnZhYmxlLmpzJztcbmltcG9ydCBUaWxlU3RhdGUgZnJvbSAnLi4vVGlsZVN0YXRlLmpzJztcbmltcG9ydCB7bGlzdGVufSBmcm9tICcuLi9ldmVudHMuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBTb3VyY2VTdGF0ZSBmcm9tICcuLi9zb3VyY2UvU3RhdGUuanMnO1xuXG52YXIgTGF5ZXJSZW5kZXJlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKE9ic2VydmFibGUpIHtcbiAgZnVuY3Rpb24gTGF5ZXJSZW5kZXJlcihsYXllcikge1xuXG4gICAgT2JzZXJ2YWJsZS5jYWxsKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLmxheWVyXyA9IGxheWVyO1xuXG4gIH1cblxuICBpZiAoIE9ic2VydmFibGUgKSBMYXllclJlbmRlcmVyLl9fcHJvdG9fXyA9IE9ic2VydmFibGU7XG4gIExheWVyUmVuZGVyZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggT2JzZXJ2YWJsZSAmJiBPYnNlcnZhYmxlLnByb3RvdHlwZSApO1xuICBMYXllclJlbmRlcmVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExheWVyUmVuZGVyZXI7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIGZ1bmN0aW9uIHRoYXQgYWRkcyBsb2FkZWQgdGlsZXMgdG8gdGhlIHRpbGUgbG9va3VwLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9IHNvdXJjZSBUaWxlIHNvdXJjZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uIG9mIHRoZSB0aWxlcy5cbiAgICogQHBhcmFtIHtPYmplY3Q8bnVtYmVyLCBPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLmRlZmF1bHQ+Pn0gdGlsZXMgTG9va3VwIG9mIGxvYWRlZCB0aWxlcyBieSB6b29tIGxldmVsLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbihudW1iZXIsIGltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0KTpib29sZWFufSBBIGZ1bmN0aW9uIHRoYXQgY2FuIGJlXG4gICAqICAgICBjYWxsZWQgd2l0aCBhIHpvb20gbGV2ZWwgYW5kIGEgdGlsZSByYW5nZSB0byBhZGQgbG9hZGVkIHRpbGVzIHRvIHRoZSBsb29rdXAuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIExheWVyUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZUxvYWRlZFRpbGVGaW5kZXIgPSBmdW5jdGlvbiBjcmVhdGVMb2FkZWRUaWxlRmluZGVyIChzb3VyY2UsIHByb2plY3Rpb24sIHRpbGVzKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHpvb20gWm9vbSBsZXZlbC5cbiAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR9IHRpbGVSYW5nZSBUaWxlIHJhbmdlLlxuICAgICAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHRpbGUgcmFuZ2UgaXMgZnVsbHkgbG9hZGVkLlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbih6b29tLCB0aWxlUmFuZ2UpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlIFRpbGUuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBjYWxsYmFjayh0aWxlKSB7XG4gICAgICAgICAgaWYgKCF0aWxlc1t6b29tXSkge1xuICAgICAgICAgICAgdGlsZXNbem9vbV0gPSB7fTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGlsZXNbem9vbV1bdGlsZS50aWxlQ29vcmQudG9TdHJpbmcoKV0gPSB0aWxlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzb3VyY2UuZm9yRWFjaExvYWRlZFRpbGUocHJvamVjdGlvbiwgem9vbSwgdGlsZVJhbmdlLCBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoaXRUb2xlcmFuY2UgSGl0IHRvbGVyYW5jZSBpbiBwaXhlbHMuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZSwgaW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdCk6IFR9IGNhbGxiYWNrIEZlYXR1cmUgY2FsbGJhY2suXG4gICAqIEByZXR1cm4ge1R8dm9pZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgKiBAdGVtcGxhdGUgVFxuICAgKi9cbiAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUgPSBmdW5jdGlvbiBmb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZSAoY29vcmRpbmF0ZSwgZnJhbWVTdGF0ZSwgaGl0VG9sZXJhbmNlLCBjYWxsYmFjaykge307XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IExheWVyLlxuICAgKi9cbiAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZ2V0TGF5ZXIgPSBmdW5jdGlvbiBnZXRMYXllciAoKSB7XG4gICAgcmV0dXJuIHRoaXMubGF5ZXJfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgY2hhbmdlcyBpbiBpbWFnZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgSW1hZ2UgY2hhbmdlIGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuaGFuZGxlSW1hZ2VDaGFuZ2VfID0gZnVuY3Rpb24gaGFuZGxlSW1hZ2VDaGFuZ2VfIChldmVudCkge1xuICAgIHZhciBpbWFnZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vSW1hZ2UuanNcIikuZGVmYXVsdH0gKi8gKGV2ZW50LnRhcmdldCk7XG4gICAgaWYgKGltYWdlLmdldFN0YXRlKCkgPT09IEltYWdlU3RhdGUuTE9BREVEKSB7XG4gICAgICB0aGlzLnJlbmRlcklmUmVhZHlBbmRWaXNpYmxlKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyB0aGVyZSBhIGZlYXR1cmUgYXQgdGhlIGdpdmVuIGNvb3JkaW5hdGU/XG4gICAqL1xuICBMYXllclJlbmRlcmVyLnByb3RvdHlwZS5oYXNGZWF0dXJlQXRDb29yZGluYXRlID0gZnVuY3Rpb24gaGFzRmVhdHVyZUF0Q29vcmRpbmF0ZSAoY29vcmRpbmF0ZSwgZnJhbWVTdGF0ZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogTG9hZCB0aGUgaW1hZ2UgaWYgbm90IGFscmVhZHkgbG9hZGVkLCBhbmQgcmVnaXN0ZXIgdGhlIGltYWdlIGNoYW5nZVxuICAgKiBsaXN0ZW5lciBpZiBuZWVkZWQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vSW1hZ2VCYXNlLmpzXCIpLmRlZmF1bHR9IGltYWdlIEltYWdlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGltYWdlIGlzIGFscmVhZHkgbG9hZGVkLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUubG9hZEltYWdlID0gZnVuY3Rpb24gbG9hZEltYWdlIChpbWFnZSkge1xuICAgIHZhciBpbWFnZVN0YXRlID0gaW1hZ2UuZ2V0U3RhdGUoKTtcbiAgICBpZiAoaW1hZ2VTdGF0ZSAhPSBJbWFnZVN0YXRlLkxPQURFRCAmJiBpbWFnZVN0YXRlICE9IEltYWdlU3RhdGUuRVJST1IpIHtcbiAgICAgIGxpc3RlbihpbWFnZSwgRXZlbnRUeXBlLkNIQU5HRSwgdGhpcy5oYW5kbGVJbWFnZUNoYW5nZV8sIHRoaXMpO1xuICAgIH1cbiAgICBpZiAoaW1hZ2VTdGF0ZSA9PSBJbWFnZVN0YXRlLklETEUpIHtcbiAgICAgIGltYWdlLmxvYWQoKTtcbiAgICAgIGltYWdlU3RhdGUgPSBpbWFnZS5nZXRTdGF0ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gaW1hZ2VTdGF0ZSA9PSBJbWFnZVN0YXRlLkxPQURFRDtcbiAgfTtcblxuICAvKipcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucmVuZGVySWZSZWFkeUFuZFZpc2libGUgPSBmdW5jdGlvbiByZW5kZXJJZlJlYWR5QW5kVmlzaWJsZSAoKSB7XG4gICAgdmFyIGxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgIGlmIChsYXllci5nZXRWaXNpYmxlKCkgJiYgbGF5ZXIuZ2V0U291cmNlU3RhdGUoKSA9PSBTb3VyY2VTdGF0ZS5SRUFEWSkge1xuICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGVTb3VyY2UgVGlsZSBzb3VyY2UuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIExheWVyUmVuZGVyZXIucHJvdG90eXBlLnNjaGVkdWxlRXhwaXJlQ2FjaGUgPSBmdW5jdGlvbiBzY2hlZHVsZUV4cGlyZUNhY2hlIChmcmFtZVN0YXRlLCB0aWxlU291cmNlKSB7XG4gICAgaWYgKHRpbGVTb3VyY2UuY2FuRXhwaXJlQ2FjaGUoKSkge1xuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGVTb3VyY2UgVGlsZSBzb3VyY2UuXG4gICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fSBtYXAgTWFwLlxuICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgICAqL1xuICAgICAgdmFyIHBvc3RSZW5kZXJGdW5jdGlvbiA9IGZ1bmN0aW9uKHRpbGVTb3VyY2UsIG1hcCwgZnJhbWVTdGF0ZSkge1xuICAgICAgICB2YXIgdGlsZVNvdXJjZUtleSA9IGdldFVpZCh0aWxlU291cmNlKTtcbiAgICAgICAgaWYgKHRpbGVTb3VyY2VLZXkgaW4gZnJhbWVTdGF0ZS51c2VkVGlsZXMpIHtcbiAgICAgICAgICB0aWxlU291cmNlLmV4cGlyZUNhY2hlKGZyYW1lU3RhdGUudmlld1N0YXRlLnByb2plY3Rpb24sXG4gICAgICAgICAgICBmcmFtZVN0YXRlLnVzZWRUaWxlc1t0aWxlU291cmNlS2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH0uYmluZChudWxsLCB0aWxlU291cmNlKTtcblxuICAgICAgZnJhbWVTdGF0ZS5wb3N0UmVuZGVyRnVuY3Rpb25zLnB1c2goXG4gICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLlBvc3RSZW5kZXJGdW5jdGlvbn0gKi8gKHBvc3RSZW5kZXJGdW5jdGlvbilcbiAgICAgICk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCAhT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHQ+Pn0gdXNlZFRpbGVzIFVzZWQgdGlsZXMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc291cmNlL1RpbGUuanNcIikuZGVmYXVsdH0gdGlsZVNvdXJjZSBUaWxlIHNvdXJjZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHogWi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdH0gdGlsZVJhbmdlIFRpbGUgcmFuZ2UuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIExheWVyUmVuZGVyZXIucHJvdG90eXBlLnVwZGF0ZVVzZWRUaWxlcyA9IGZ1bmN0aW9uIHVwZGF0ZVVzZWRUaWxlcyAodXNlZFRpbGVzLCB0aWxlU291cmNlLCB6LCB0aWxlUmFuZ2UpIHtcbiAgICAvLyBGSVhNRSBzaG91bGQgd2UgdXNlIHRpbGVzVG9EcmF3QnlaIGluc3RlYWQ/XG4gICAgdmFyIHRpbGVTb3VyY2VLZXkgPSBnZXRVaWQodGlsZVNvdXJjZSk7XG4gICAgdmFyIHpLZXkgPSB6LnRvU3RyaW5nKCk7XG4gICAgaWYgKHRpbGVTb3VyY2VLZXkgaW4gdXNlZFRpbGVzKSB7XG4gICAgICBpZiAoektleSBpbiB1c2VkVGlsZXNbdGlsZVNvdXJjZUtleV0pIHtcbiAgICAgICAgdXNlZFRpbGVzW3RpbGVTb3VyY2VLZXldW3pLZXldLmV4dGVuZCh0aWxlUmFuZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXNlZFRpbGVzW3RpbGVTb3VyY2VLZXldW3pLZXldID0gdGlsZVJhbmdlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB1c2VkVGlsZXNbdGlsZVNvdXJjZUtleV0gPSB7fTtcbiAgICAgIHVzZWRUaWxlc1t0aWxlU291cmNlS2V5XVt6S2V5XSA9IHRpbGVSYW5nZTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIE1hbmFnZSB0aWxlIHB5cmFtaWQuXG4gICAqIFRoaXMgZnVuY3Rpb24gcGVyZm9ybXMgYSBudW1iZXIgb2YgZnVuY3Rpb25zIHJlbGF0ZWQgdG8gdGhlIHRpbGVzIGF0IHRoZVxuICAgKiBjdXJyZW50IHpvb20gYW5kIGxvd2VyIHpvb20gbGV2ZWxzOlxuICAgKiAtIHJlZ2lzdGVycyBpZGxlIHRpbGVzIGluIGZyYW1lU3RhdGUud2FudGVkVGlsZXMgc28gdGhhdCB0aGV5IGFyZSBub3RcbiAgICogICBkaXNjYXJkZWQgYnkgdGhlIHRpbGUgcXVldWVcbiAgICogLSBlbnF1ZXVlcyBtaXNzaW5nIHRpbGVzXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc291cmNlL1RpbGUuanNcIikuZGVmYXVsdH0gdGlsZVNvdXJjZSBUaWxlIHNvdXJjZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSB0aWxlR3JpZCBUaWxlIGdyaWQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGN1cnJlbnRaIEN1cnJlbnQgWi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHByZWxvYWQgTG9hZCBsb3cgcmVzb2x1dGlvbiB0aWxlcyB1cCB0byAncHJlbG9hZCcgbGV2ZWxzLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6IFQsIGltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdCk9fSBvcHRfdGlsZUNhbGxiYWNrIFRpbGUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7VD19IG9wdF90aGlzIE9iamVjdCB0byB1c2UgYXMgYHRoaXNgIGluIGBvcHRfdGlsZUNhbGxiYWNrYC5cbiAgICogQHByb3RlY3RlZFxuICAgKiBAdGVtcGxhdGUgVFxuICAgKi9cbiAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUubWFuYWdlVGlsZVB5cmFtaWQgPSBmdW5jdGlvbiBtYW5hZ2VUaWxlUHlyYW1pZCAoXG4gICAgZnJhbWVTdGF0ZSxcbiAgICB0aWxlU291cmNlLFxuICAgIHRpbGVHcmlkLFxuICAgIHBpeGVsUmF0aW8sXG4gICAgcHJvamVjdGlvbixcbiAgICBleHRlbnQsXG4gICAgY3VycmVudFosXG4gICAgcHJlbG9hZCxcbiAgICBvcHRfdGlsZUNhbGxiYWNrLFxuICAgIG9wdF90aGlzXG4gICkge1xuICAgIHZhciB0aWxlU291cmNlS2V5ID0gZ2V0VWlkKHRpbGVTb3VyY2UpO1xuICAgIGlmICghKHRpbGVTb3VyY2VLZXkgaW4gZnJhbWVTdGF0ZS53YW50ZWRUaWxlcykpIHtcbiAgICAgIGZyYW1lU3RhdGUud2FudGVkVGlsZXNbdGlsZVNvdXJjZUtleV0gPSB7fTtcbiAgICB9XG4gICAgdmFyIHdhbnRlZFRpbGVzID0gZnJhbWVTdGF0ZS53YW50ZWRUaWxlc1t0aWxlU291cmNlS2V5XTtcbiAgICB2YXIgdGlsZVF1ZXVlID0gZnJhbWVTdGF0ZS50aWxlUXVldWU7XG4gICAgdmFyIG1pblpvb20gPSB0aWxlR3JpZC5nZXRNaW5ab29tKCk7XG4gICAgdmFyIHRpbGUsIHRpbGVSYW5nZSwgdGlsZVJlc29sdXRpb24sIHgsIHksIHo7XG4gICAgZm9yICh6ID0gbWluWm9vbTsgeiA8PSBjdXJyZW50WjsgKyt6KSB7XG4gICAgICB0aWxlUmFuZ2UgPSB0aWxlR3JpZC5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKGV4dGVudCwgeiwgdGlsZVJhbmdlKTtcbiAgICAgIHRpbGVSZXNvbHV0aW9uID0gdGlsZUdyaWQuZ2V0UmVzb2x1dGlvbih6KTtcbiAgICAgIGZvciAoeCA9IHRpbGVSYW5nZS5taW5YOyB4IDw9IHRpbGVSYW5nZS5tYXhYOyArK3gpIHtcbiAgICAgICAgZm9yICh5ID0gdGlsZVJhbmdlLm1pblk7IHkgPD0gdGlsZVJhbmdlLm1heFk7ICsreSkge1xuICAgICAgICAgIGlmIChjdXJyZW50WiAtIHogPD0gcHJlbG9hZCkge1xuICAgICAgICAgICAgdGlsZSA9IHRpbGVTb3VyY2UuZ2V0VGlsZSh6LCB4LCB5LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgIGlmICh0aWxlLmdldFN0YXRlKCkgPT0gVGlsZVN0YXRlLklETEUpIHtcbiAgICAgICAgICAgICAgd2FudGVkVGlsZXNbdGlsZS5nZXRLZXkoKV0gPSB0cnVlO1xuICAgICAgICAgICAgICBpZiAoIXRpbGVRdWV1ZS5pc0tleVF1ZXVlZCh0aWxlLmdldEtleSgpKSkge1xuICAgICAgICAgICAgICAgIHRpbGVRdWV1ZS5lbnF1ZXVlKFt0aWxlLCB0aWxlU291cmNlS2V5LFxuICAgICAgICAgICAgICAgICAgdGlsZUdyaWQuZ2V0VGlsZUNvb3JkQ2VudGVyKHRpbGUudGlsZUNvb3JkKSwgdGlsZVJlc29sdXRpb25dKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdF90aWxlQ2FsbGJhY2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBvcHRfdGlsZUNhbGxiYWNrLmNhbGwob3B0X3RoaXMsIHRpbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aWxlU291cmNlLnVzZVRpbGUoeiwgeCwgeSwgcHJvamVjdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBMYXllclJlbmRlcmVyO1xufShPYnNlcnZhYmxlKSk7XG5cbmV4cG9ydCBkZWZhdWx0IExheWVyUmVuZGVyZXI7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxheWVyLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXJlci9jYW52YXMvTGF5ZXJcbiAqL1xuaW1wb3J0IHthYnN0cmFjdH0gZnJvbSAnLi4vLi4vdXRpbC5qcyc7XG5pbXBvcnQge2dldEJvdHRvbUxlZnQsIGdldEJvdHRvbVJpZ2h0LCBnZXRUb3BMZWZ0LCBnZXRUb3BSaWdodH0gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7VFJVRX0gZnJvbSAnLi4vLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCBSZW5kZXJFdmVudCBmcm9tICcuLi8uLi9yZW5kZXIvRXZlbnQuanMnO1xuaW1wb3J0IFJlbmRlckV2ZW50VHlwZSBmcm9tICcuLi8uLi9yZW5kZXIvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7cm90YXRlQXRPZmZzZXR9IGZyb20gJy4uLy4uL3JlbmRlci9jYW52YXMuanMnO1xuaW1wb3J0IENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyIGZyb20gJy4uLy4uL3JlbmRlci9jYW52YXMvSW1tZWRpYXRlLmpzJztcbmltcG9ydCBMYXllclJlbmRlcmVyIGZyb20gJy4uL0xheWVyLmpzJztcbmltcG9ydCB7Y3JlYXRlIGFzIGNyZWF0ZVRyYW5zZm9ybSwgYXBwbHkgYXMgYXBwbHlUcmFuc2Zvcm0sIGNvbXBvc2UgYXMgY29tcG9zZVRyYW5zZm9ybX0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtLmpzJztcblxuLyoqXG4gKiBAYWJzdHJhY3RcbiAqL1xudmFyIENhbnZhc0xheWVyUmVuZGVyZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChMYXllclJlbmRlcmVyKSB7XG4gIGZ1bmN0aW9uIENhbnZhc0xheWVyUmVuZGVyZXIobGF5ZXIpIHtcblxuICAgIExheWVyUmVuZGVyZXIuY2FsbCh0aGlzLCBsYXllcik7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVkUmVzb2x1dGlvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICovXG4gICAgdGhpcy50cmFuc2Zvcm1fID0gY3JlYXRlVHJhbnNmb3JtKCk7XG5cbiAgfVxuXG4gIGlmICggTGF5ZXJSZW5kZXJlciApIENhbnZhc0xheWVyUmVuZGVyZXIuX19wcm90b19fID0gTGF5ZXJSZW5kZXJlcjtcbiAgQ2FudmFzTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBMYXllclJlbmRlcmVyICYmIExheWVyUmVuZGVyZXIucHJvdG90eXBlICk7XG4gIENhbnZhc0xheWVyUmVuZGVyZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ2FudmFzTGF5ZXJSZW5kZXJlcjtcblxuICAvKipcbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgQ2xpcCBleHRlbnQuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIENhbnZhc0xheWVyUmVuZGVyZXIucHJvdG90eXBlLmNsaXAgPSBmdW5jdGlvbiBjbGlwIChjb250ZXh0LCBmcmFtZVN0YXRlLCBleHRlbnQpIHtcbiAgICB2YXIgcGl4ZWxSYXRpbyA9IGZyYW1lU3RhdGUucGl4ZWxSYXRpbztcbiAgICB2YXIgd2lkdGggPSBmcmFtZVN0YXRlLnNpemVbMF0gKiBwaXhlbFJhdGlvO1xuICAgIHZhciBoZWlnaHQgPSBmcmFtZVN0YXRlLnNpemVbMV0gKiBwaXhlbFJhdGlvO1xuICAgIHZhciByb3RhdGlvbiA9IGZyYW1lU3RhdGUudmlld1N0YXRlLnJvdGF0aW9uO1xuICAgIHZhciB0b3BMZWZ0ID0gZ2V0VG9wTGVmdChleHRlbnQpO1xuICAgIHZhciB0b3BSaWdodCA9IGdldFRvcFJpZ2h0KGV4dGVudCk7XG4gICAgdmFyIGJvdHRvbVJpZ2h0ID0gZ2V0Qm90dG9tUmlnaHQoZXh0ZW50KTtcbiAgICB2YXIgYm90dG9tTGVmdCA9IGdldEJvdHRvbUxlZnQoZXh0ZW50KTtcblxuICAgIGFwcGx5VHJhbnNmb3JtKGZyYW1lU3RhdGUuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0sIHRvcExlZnQpO1xuICAgIGFwcGx5VHJhbnNmb3JtKGZyYW1lU3RhdGUuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0sIHRvcFJpZ2h0KTtcbiAgICBhcHBseVRyYW5zZm9ybShmcmFtZVN0YXRlLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtLCBib3R0b21SaWdodCk7XG4gICAgYXBwbHlUcmFuc2Zvcm0oZnJhbWVTdGF0ZS5jb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybSwgYm90dG9tTGVmdCk7XG5cbiAgICBjb250ZXh0LnNhdmUoKTtcbiAgICByb3RhdGVBdE9mZnNldChjb250ZXh0LCAtcm90YXRpb24sIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICBjb250ZXh0Lm1vdmVUbyh0b3BMZWZ0WzBdICogcGl4ZWxSYXRpbywgdG9wTGVmdFsxXSAqIHBpeGVsUmF0aW8pO1xuICAgIGNvbnRleHQubGluZVRvKHRvcFJpZ2h0WzBdICogcGl4ZWxSYXRpbywgdG9wUmlnaHRbMV0gKiBwaXhlbFJhdGlvKTtcbiAgICBjb250ZXh0LmxpbmVUbyhib3R0b21SaWdodFswXSAqIHBpeGVsUmF0aW8sIGJvdHRvbVJpZ2h0WzFdICogcGl4ZWxSYXRpbyk7XG4gICAgY29udGV4dC5saW5lVG8oYm90dG9tTGVmdFswXSAqIHBpeGVsUmF0aW8sIGJvdHRvbUxlZnRbMV0gKiBwaXhlbFJhdGlvKTtcbiAgICBjb250ZXh0LmNsaXAoKTtcbiAgICByb3RhdGVBdE9mZnNldChjb250ZXh0LCByb3RhdGlvbiwgd2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9yZW5kZXIvRXZlbnRUeXBlLmpzXCIpLmRlZmF1bHR9IHR5cGUgRXZlbnQgdHlwZS5cbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtPX0gb3B0X3RyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBDYW52YXNMYXllclJlbmRlcmVyLnByb3RvdHlwZS5kaXNwYXRjaENvbXBvc2VFdmVudF8gPSBmdW5jdGlvbiBkaXNwYXRjaENvbXBvc2VFdmVudF8gKHR5cGUsIGNvbnRleHQsIGZyYW1lU3RhdGUsIG9wdF90cmFuc2Zvcm0pIHtcbiAgICB2YXIgbGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XG4gICAgaWYgKGxheWVyLmhhc0xpc3RlbmVyKHR5cGUpKSB7XG4gICAgICB2YXIgd2lkdGggPSBmcmFtZVN0YXRlLnNpemVbMF0gKiBmcmFtZVN0YXRlLnBpeGVsUmF0aW87XG4gICAgICB2YXIgaGVpZ2h0ID0gZnJhbWVTdGF0ZS5zaXplWzFdICogZnJhbWVTdGF0ZS5waXhlbFJhdGlvO1xuICAgICAgdmFyIHJvdGF0aW9uID0gZnJhbWVTdGF0ZS52aWV3U3RhdGUucm90YXRpb247XG4gICAgICByb3RhdGVBdE9mZnNldChjb250ZXh0LCAtcm90YXRpb24sIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAgICB2YXIgdHJhbnNmb3JtID0gb3B0X3RyYW5zZm9ybSAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgb3B0X3RyYW5zZm9ybSA6IHRoaXMuZ2V0VHJhbnNmb3JtKGZyYW1lU3RhdGUsIDApO1xuICAgICAgdmFyIHJlbmRlciA9IG5ldyBDYW52YXNJbW1lZGlhdGVSZW5kZXJlcihcbiAgICAgICAgY29udGV4dCwgZnJhbWVTdGF0ZS5waXhlbFJhdGlvLCBmcmFtZVN0YXRlLmV4dGVudCwgdHJhbnNmb3JtLFxuICAgICAgICBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5yb3RhdGlvbik7XG4gICAgICB2YXIgY29tcG9zZUV2ZW50ID0gbmV3IFJlbmRlckV2ZW50KHR5cGUsIHJlbmRlciwgZnJhbWVTdGF0ZSxcbiAgICAgICAgY29udGV4dCwgbnVsbCk7XG4gICAgICBsYXllci5kaXNwYXRjaEV2ZW50KGNvbXBvc2VFdmVudCk7XG4gICAgICByb3RhdGVBdE9mZnNldChjb250ZXh0LCByb3RhdGlvbiwgd2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWVTdGF0ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGhpdFRvbGVyYW5jZSBIaXQgdG9sZXJhbmNlIGluIHBpeGVscy5cbiAgICogQHBhcmFtIHtmdW5jdGlvbih0aGlzOiBTLCBpbXBvcnQoXCIuLi8uLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0LCAoVWludDhDbGFtcGVkQXJyYXl8VWludDhBcnJheSkpOiBUfSBjYWxsYmFjayBMYXllclxuICAgKiAgICAgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7U30gdGhpc0FyZyBWYWx1ZSB0byB1c2UgYXMgYHRoaXNgIHdoZW4gZXhlY3V0aW5nIGBjYWxsYmFja2AuXG4gICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQuXG4gICAqIEB0ZW1wbGF0ZSBTLFQsVVxuICAgKi9cbiAgQ2FudmFzTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZm9yRWFjaExheWVyQXRDb29yZGluYXRlID0gZnVuY3Rpb24gZm9yRWFjaExheWVyQXRDb29yZGluYXRlIChjb29yZGluYXRlLCBmcmFtZVN0YXRlLCBoaXRUb2xlcmFuY2UsIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgdmFyIGhhc0ZlYXR1cmUgPSB0aGlzLmZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlKGNvb3JkaW5hdGUsIGZyYW1lU3RhdGUsIGhpdFRvbGVyYW5jZSwgVFJVRSk7XG5cbiAgICBpZiAoaGFzRmVhdHVyZSkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpcy5nZXRMYXllcigpLCBudWxsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vbGF5ZXIvTGF5ZXIuanNcIikuU3RhdGV9IGxheWVyU3RhdGUgTGF5ZXIgc3RhdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybT19IG9wdF90cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBDYW52YXNMYXllclJlbmRlcmVyLnByb3RvdHlwZS5wb3N0Q29tcG9zZSA9IGZ1bmN0aW9uIHBvc3RDb21wb3NlIChjb250ZXh0LCBmcmFtZVN0YXRlLCBsYXllclN0YXRlLCBvcHRfdHJhbnNmb3JtKSB7XG4gICAgdGhpcy5kaXNwYXRjaENvbXBvc2VFdmVudF8oUmVuZGVyRXZlbnRUeXBlLlBPU1RDT01QT1NFLCBjb250ZXh0LCBmcmFtZVN0YXRlLCBvcHRfdHJhbnNmb3JtKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtPX0gb3B0X3RyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIENhbnZhc0xheWVyUmVuZGVyZXIucHJvdG90eXBlLnByZUNvbXBvc2UgPSBmdW5jdGlvbiBwcmVDb21wb3NlIChjb250ZXh0LCBmcmFtZVN0YXRlLCBvcHRfdHJhbnNmb3JtKSB7XG4gICAgdGhpcy5kaXNwYXRjaENvbXBvc2VFdmVudF8oUmVuZGVyRXZlbnRUeXBlLlBSRUNPTVBPU0UsIGNvbnRleHQsIGZyYW1lU3RhdGUsIG9wdF90cmFuc2Zvcm0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm09fSBvcHRfdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgQ2FudmFzTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZGlzcGF0Y2hSZW5kZXJFdmVudCA9IGZ1bmN0aW9uIGRpc3BhdGNoUmVuZGVyRXZlbnQgKGNvbnRleHQsIGZyYW1lU3RhdGUsIG9wdF90cmFuc2Zvcm0pIHtcbiAgICB0aGlzLmRpc3BhdGNoQ29tcG9zZUV2ZW50XyhSZW5kZXJFdmVudFR5cGUuUkVOREVSLCBjb250ZXh0LCBmcmFtZVN0YXRlLCBvcHRfdHJhbnNmb3JtKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldFggT2Zmc2V0IG9uIHRoZSB4LWF4aXMgaW4gdmlldyBjb29yZGluYXRlcy5cbiAgICogQHByb3RlY3RlZFxuICAgKiBAcmV0dXJuIHshaW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gVHJhbnNmb3JtLlxuICAgKi9cbiAgQ2FudmFzTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gZ2V0VHJhbnNmb3JtIChmcmFtZVN0YXRlLCBvZmZzZXRYKSB7XG4gICAgdmFyIHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgIHZhciBwaXhlbFJhdGlvID0gZnJhbWVTdGF0ZS5waXhlbFJhdGlvO1xuICAgIHZhciBkeDEgPSBwaXhlbFJhdGlvICogZnJhbWVTdGF0ZS5zaXplWzBdIC8gMjtcbiAgICB2YXIgZHkxID0gcGl4ZWxSYXRpbyAqIGZyYW1lU3RhdGUuc2l6ZVsxXSAvIDI7XG4gICAgdmFyIHN4ID0gcGl4ZWxSYXRpbyAvIHZpZXdTdGF0ZS5yZXNvbHV0aW9uO1xuICAgIHZhciBzeSA9IC1zeDtcbiAgICB2YXIgYW5nbGUgPSAtdmlld1N0YXRlLnJvdGF0aW9uO1xuICAgIHZhciBkeDIgPSAtdmlld1N0YXRlLmNlbnRlclswXSArIG9mZnNldFg7XG4gICAgdmFyIGR5MiA9IC12aWV3U3RhdGUuY2VudGVyWzFdO1xuICAgIHJldHVybiBjb21wb3NlVHJhbnNmb3JtKHRoaXMudHJhbnNmb3JtXywgZHgxLCBkeTEsIHN4LCBzeSwgYW5nbGUsIGR4MiwgZHkyKTtcbiAgfTtcblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vbGF5ZXIvTGF5ZXIuanNcIikuU3RhdGV9IGxheWVyU3RhdGUgTGF5ZXIgc3RhdGUuXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAqL1xuICBDYW52YXNMYXllclJlbmRlcmVyLnByb3RvdHlwZS5jb21wb3NlRnJhbWUgPSBmdW5jdGlvbiBjb21wb3NlRnJhbWUgKGZyYW1lU3RhdGUsIGxheWVyU3RhdGUsIGNvbnRleHQpIHtcbiAgICBhYnN0cmFjdCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9sYXllci9MYXllci5qc1wiKS5TdGF0ZX0gbGF5ZXJTdGF0ZSBMYXllciBzdGF0ZS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciBjb21wb3NlRnJhbWUgc2hvdWxkIGJlIGNhbGxlZC5cbiAgICovXG4gIENhbnZhc0xheWVyUmVuZGVyZXIucHJvdG90eXBlLnByZXBhcmVGcmFtZSA9IGZ1bmN0aW9uIHByZXBhcmVGcmFtZSAoZnJhbWVTdGF0ZSwgbGF5ZXJTdGF0ZSkge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9O1xuXG4gIHJldHVybiBDYW52YXNMYXllclJlbmRlcmVyO1xufShMYXllclJlbmRlcmVyKSk7XG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhc0xheWVyUmVuZGVyZXI7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxheWVyLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXJlci9jYW52YXMvSW1hZ2VMYXllclxuICovXG5pbXBvcnQge0VOQUJMRV9SQVNURVJfUkVQUk9KRUNUSU9OfSBmcm9tICcuLi8uLi9yZXByb2ovY29tbW9uLmpzJztcbmltcG9ydCBJbWFnZUNhbnZhcyBmcm9tICcuLi8uLi9JbWFnZUNhbnZhcy5qcyc7XG5pbXBvcnQgTGF5ZXJUeXBlIGZyb20gJy4uLy4uL0xheWVyVHlwZS5qcyc7XG5pbXBvcnQgVmlld0hpbnQgZnJvbSAnLi4vLi4vVmlld0hpbnQuanMnO1xuaW1wb3J0IHtlcXVhbHN9IGZyb20gJy4uLy4uL2FycmF5LmpzJztcbmltcG9ydCB7Z2V0SGVpZ2h0LCBnZXRJbnRlcnNlY3Rpb24sIGdldFdpZHRoLCBpc0VtcHR5fSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuaW1wb3J0IFZlY3RvclJlbmRlclR5cGUgZnJvbSAnLi4vLi4vbGF5ZXIvVmVjdG9yUmVuZGVyVHlwZS5qcyc7XG5pbXBvcnQge2Fzc2lnbn0gZnJvbSAnLi4vLi4vb2JqLmpzJztcbmltcG9ydCB7bGF5ZXJSZW5kZXJlckNvbnN0cnVjdG9yc30gZnJvbSAnLi9NYXAuanMnO1xuaW1wb3J0IEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyIGZyb20gJy4vSW50ZXJtZWRpYXRlQ2FudmFzLmpzJztcbmltcG9ydCB7Y3JlYXRlIGFzIGNyZWF0ZVRyYW5zZm9ybSwgY29tcG9zZSBhcyBjb21wb3NlVHJhbnNmb3JtfSBmcm9tICcuLi8uLi90cmFuc2Zvcm0uanMnO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIENhbnZhcyByZW5kZXJlciBmb3IgaW1hZ2UgbGF5ZXJzLlxuICogQGFwaVxuICovXG52YXIgQ2FudmFzSW1hZ2VMYXllclJlbmRlcmVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoSW50ZXJtZWRpYXRlQ2FudmFzUmVuZGVyZXIpIHtcbiAgZnVuY3Rpb24gQ2FudmFzSW1hZ2VMYXllclJlbmRlcmVyKGltYWdlTGF5ZXIpIHtcblxuICAgIEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyLmNhbGwodGhpcywgaW1hZ2VMYXllcik7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vLi4vSW1hZ2VCYXNlLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5pbWFnZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlVHJhbnNmb3JtXyA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgeyFBcnJheTxzdHJpbmc+fVxuICAgICAqL1xuICAgIHRoaXMuc2tpcHBlZEZlYXR1cmVzXyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9WZWN0b3JMYXllci5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMudmVjdG9yUmVuZGVyZXJfID0gbnVsbDtcblxuICAgIGlmIChpbWFnZUxheWVyLmdldFR5cGUoKSA9PT0gTGF5ZXJUeXBlLlZFQ1RPUikge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbGF5ZXJSZW5kZXJlckNvbnN0cnVjdG9ycy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBjdG9yID0gbGF5ZXJSZW5kZXJlckNvbnN0cnVjdG9yc1tpXTtcbiAgICAgICAgaWYgKGN0b3IgIT09IENhbnZhc0ltYWdlTGF5ZXJSZW5kZXJlciAmJiBjdG9yWydoYW5kbGVzJ10oaW1hZ2VMYXllcikpIHtcbiAgICAgICAgICB0aGlzLnZlY3RvclJlbmRlcmVyXyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9WZWN0b3JMYXllci5qc1wiKS5kZWZhdWx0fSAqLyAobmV3IGN0b3IoaW1hZ2VMYXllcikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICBpZiAoIEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyICkgQ2FudmFzSW1hZ2VMYXllclJlbmRlcmVyLl9fcHJvdG9fXyA9IEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyO1xuICBDYW52YXNJbWFnZUxheWVyUmVuZGVyZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggSW50ZXJtZWRpYXRlQ2FudmFzUmVuZGVyZXIgJiYgSW50ZXJtZWRpYXRlQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlICk7XG4gIENhbnZhc0ltYWdlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDYW52YXNJbWFnZUxheWVyUmVuZGVyZXI7XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBDYW52YXNJbWFnZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uIGRpc3Bvc2VJbnRlcm5hbCAoKSB7XG4gICAgaWYgKHRoaXMudmVjdG9yUmVuZGVyZXJfKSB7XG4gICAgICB0aGlzLnZlY3RvclJlbmRlcmVyXy5kaXNwb3NlKCk7XG4gICAgfVxuICAgIEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIENhbnZhc0ltYWdlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiBnZXRJbWFnZSAoKSB7XG4gICAgcmV0dXJuICF0aGlzLmltYWdlXyA/IG51bGwgOiB0aGlzLmltYWdlXy5nZXRJbWFnZSgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgQ2FudmFzSW1hZ2VMYXllclJlbmRlcmVyLnByb3RvdHlwZS5nZXRJbWFnZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIGdldEltYWdlVHJhbnNmb3JtICgpIHtcbiAgICByZXR1cm4gdGhpcy5pbWFnZVRyYW5zZm9ybV87XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBDYW52YXNJbWFnZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLnByZXBhcmVGcmFtZSA9IGZ1bmN0aW9uIHByZXBhcmVGcmFtZSAoZnJhbWVTdGF0ZSwgbGF5ZXJTdGF0ZSkge1xuXG4gICAgdmFyIHBpeGVsUmF0aW8gPSBmcmFtZVN0YXRlLnBpeGVsUmF0aW87XG4gICAgdmFyIHNpemUgPSBmcmFtZVN0YXRlLnNpemU7XG4gICAgdmFyIHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgIHZhciB2aWV3Q2VudGVyID0gdmlld1N0YXRlLmNlbnRlcjtcbiAgICB2YXIgdmlld1Jlc29sdXRpb24gPSB2aWV3U3RhdGUucmVzb2x1dGlvbjtcblxuICAgIHZhciBpbWFnZTtcbiAgICB2YXIgaW1hZ2VMYXllciA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vbGF5ZXIvSW1hZ2UuanNcIikuZGVmYXVsdH0gKi8gKHRoaXMuZ2V0TGF5ZXIoKSk7XG4gICAgdmFyIGltYWdlU291cmNlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9zb3VyY2UvSW1hZ2UuanNcIikuZGVmYXVsdH0gKi8gKGltYWdlTGF5ZXIuZ2V0U291cmNlKCkpO1xuXG4gICAgdmFyIGhpbnRzID0gZnJhbWVTdGF0ZS52aWV3SGludHM7XG5cbiAgICB2YXIgdmVjdG9yUmVuZGVyZXIgPSB0aGlzLnZlY3RvclJlbmRlcmVyXztcbiAgICB2YXIgcmVuZGVyZWRFeHRlbnQgPSBmcmFtZVN0YXRlLmV4dGVudDtcbiAgICBpZiAoIXZlY3RvclJlbmRlcmVyICYmIGxheWVyU3RhdGUuZXh0ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJlbmRlcmVkRXh0ZW50ID0gZ2V0SW50ZXJzZWN0aW9uKHJlbmRlcmVkRXh0ZW50LCBsYXllclN0YXRlLmV4dGVudCk7XG4gICAgfVxuXG4gICAgaWYgKCFoaW50c1tWaWV3SGludC5BTklNQVRJTkddICYmICFoaW50c1tWaWV3SGludC5JTlRFUkFDVElOR10gJiZcbiAgICAgICAgIWlzRW1wdHkocmVuZGVyZWRFeHRlbnQpKSB7XG4gICAgICB2YXIgcHJvamVjdGlvbiA9IHZpZXdTdGF0ZS5wcm9qZWN0aW9uO1xuICAgICAgaWYgKCFFTkFCTEVfUkFTVEVSX1JFUFJPSkVDVElPTikge1xuICAgICAgICB2YXIgc291cmNlUHJvamVjdGlvbiA9IGltYWdlU291cmNlLmdldFByb2plY3Rpb24oKTtcbiAgICAgICAgaWYgKHNvdXJjZVByb2plY3Rpb24pIHtcbiAgICAgICAgICBwcm9qZWN0aW9uID0gc291cmNlUHJvamVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIHNraXBwZWRGZWF0dXJlcyA9IHRoaXMuc2tpcHBlZEZlYXR1cmVzXztcbiAgICAgIGlmICh2ZWN0b3JSZW5kZXJlcikge1xuICAgICAgICB2YXIgY29udGV4dCA9IHZlY3RvclJlbmRlcmVyLmNvbnRleHQ7XG4gICAgICAgIHZhciBpbWFnZUZyYW1lU3RhdGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSAqLyAoYXNzaWduKHt9LCBmcmFtZVN0YXRlLCB7XG4gICAgICAgICAgc2l6ZTogW1xuICAgICAgICAgICAgZ2V0V2lkdGgocmVuZGVyZWRFeHRlbnQpIC8gdmlld1Jlc29sdXRpb24sXG4gICAgICAgICAgICBnZXRIZWlnaHQocmVuZGVyZWRFeHRlbnQpIC8gdmlld1Jlc29sdXRpb25cbiAgICAgICAgICBdLFxuICAgICAgICAgIHZpZXdTdGF0ZTogLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9WaWV3LmpzXCIpLlN0YXRlfSAqLyAoYXNzaWduKHt9LCBmcmFtZVN0YXRlLnZpZXdTdGF0ZSwge1xuICAgICAgICAgICAgcm90YXRpb246IDBcbiAgICAgICAgICB9KSlcbiAgICAgICAgfSkpO1xuICAgICAgICB2YXIgbmV3U2tpcHBlZEZlYXR1cmVzID0gT2JqZWN0LmtleXMoaW1hZ2VGcmFtZVN0YXRlLnNraXBwZWRGZWF0dXJlVWlkcykuc29ydCgpO1xuICAgICAgICBpbWFnZSA9IG5ldyBJbWFnZUNhbnZhcyhyZW5kZXJlZEV4dGVudCwgdmlld1Jlc29sdXRpb24sIHBpeGVsUmF0aW8sIGNvbnRleHQuY2FudmFzLCBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICAgIGlmICh2ZWN0b3JSZW5kZXJlci5wcmVwYXJlRnJhbWUoaW1hZ2VGcmFtZVN0YXRlLCBsYXllclN0YXRlKSAmJlxuICAgICAgICAgICAgICAodmVjdG9yUmVuZGVyZXIucmVwbGF5R3JvdXBDaGFuZ2VkIHx8XG4gICAgICAgICAgICAgICFlcXVhbHMoc2tpcHBlZEZlYXR1cmVzLCBuZXdTa2lwcGVkRmVhdHVyZXMpKSkge1xuICAgICAgICAgICAgY29udGV4dC5jYW52YXMud2lkdGggPSBpbWFnZUZyYW1lU3RhdGUuc2l6ZVswXSAqIHBpeGVsUmF0aW87XG4gICAgICAgICAgICBjb250ZXh0LmNhbnZhcy5oZWlnaHQgPSBpbWFnZUZyYW1lU3RhdGUuc2l6ZVsxXSAqIHBpeGVsUmF0aW87XG4gICAgICAgICAgICB2ZWN0b3JSZW5kZXJlci5jb21wb3NlKGNvbnRleHQsIGltYWdlRnJhbWVTdGF0ZSwgbGF5ZXJTdGF0ZSk7XG4gICAgICAgICAgICBza2lwcGVkRmVhdHVyZXMgPSBuZXdTa2lwcGVkRmVhdHVyZXM7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbWFnZSA9IGltYWdlU291cmNlLmdldEltYWdlKFxuICAgICAgICAgIHJlbmRlcmVkRXh0ZW50LCB2aWV3UmVzb2x1dGlvbiwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbik7XG4gICAgICB9XG4gICAgICBpZiAoaW1hZ2UgJiYgdGhpcy5sb2FkSW1hZ2UoaW1hZ2UpKSB7XG4gICAgICAgIHRoaXMuaW1hZ2VfID0gaW1hZ2U7XG4gICAgICAgIHRoaXMuc2tpcHBlZEZlYXR1cmVzXyA9IHNraXBwZWRGZWF0dXJlcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5pbWFnZV8pIHtcbiAgICAgIGltYWdlID0gdGhpcy5pbWFnZV87XG4gICAgICB2YXIgaW1hZ2VFeHRlbnQgPSBpbWFnZS5nZXRFeHRlbnQoKTtcbiAgICAgIHZhciBpbWFnZVJlc29sdXRpb24gPSBpbWFnZS5nZXRSZXNvbHV0aW9uKCk7XG4gICAgICB2YXIgaW1hZ2VQaXhlbFJhdGlvID0gaW1hZ2UuZ2V0UGl4ZWxSYXRpbygpO1xuICAgICAgdmFyIHNjYWxlID0gcGl4ZWxSYXRpbyAqIGltYWdlUmVzb2x1dGlvbiAvXG4gICAgICAgICAgKHZpZXdSZXNvbHV0aW9uICogaW1hZ2VQaXhlbFJhdGlvKTtcbiAgICAgIHZhciB0cmFuc2Zvcm0gPSBjb21wb3NlVHJhbnNmb3JtKHRoaXMuaW1hZ2VUcmFuc2Zvcm1fLFxuICAgICAgICBwaXhlbFJhdGlvICogc2l6ZVswXSAvIDIsIHBpeGVsUmF0aW8gKiBzaXplWzFdIC8gMixcbiAgICAgICAgc2NhbGUsIHNjYWxlLFxuICAgICAgICAwLFxuICAgICAgICBpbWFnZVBpeGVsUmF0aW8gKiAoaW1hZ2VFeHRlbnRbMF0gLSB2aWV3Q2VudGVyWzBdKSAvIGltYWdlUmVzb2x1dGlvbixcbiAgICAgICAgaW1hZ2VQaXhlbFJhdGlvICogKHZpZXdDZW50ZXJbMV0gLSBpbWFnZUV4dGVudFszXSkgLyBpbWFnZVJlc29sdXRpb24pO1xuICAgICAgY29tcG9zZVRyYW5zZm9ybSh0aGlzLmNvb3JkaW5hdGVUb0NhbnZhc1BpeGVsVHJhbnNmb3JtLFxuICAgICAgICBwaXhlbFJhdGlvICogc2l6ZVswXSAvIDIgLSB0cmFuc2Zvcm1bNF0sIHBpeGVsUmF0aW8gKiBzaXplWzFdIC8gMiAtIHRyYW5zZm9ybVs1XSxcbiAgICAgICAgcGl4ZWxSYXRpbyAvIHZpZXdSZXNvbHV0aW9uLCAtcGl4ZWxSYXRpbyAvIHZpZXdSZXNvbHV0aW9uLFxuICAgICAgICAwLFxuICAgICAgICAtdmlld0NlbnRlclswXSwgLXZpZXdDZW50ZXJbMV0pO1xuXG4gICAgICB0aGlzLnJlbmRlcmVkUmVzb2x1dGlvbiA9IGltYWdlUmVzb2x1dGlvbiAqIHBpeGVsUmF0aW8gLyBpbWFnZVBpeGVsUmF0aW87XG4gICAgfVxuXG4gICAgcmV0dXJuICEhdGhpcy5pbWFnZV87XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBDYW52YXNJbWFnZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLmZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlID0gZnVuY3Rpb24gZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUgKGNvb3JkaW5hdGUsIGZyYW1lU3RhdGUsIGhpdFRvbGVyYW5jZSwgY2FsbGJhY2spIHtcbiAgICBpZiAodGhpcy52ZWN0b3JSZW5kZXJlcl8pIHtcbiAgICAgIHJldHVybiB0aGlzLnZlY3RvclJlbmRlcmVyXy5mb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZShjb29yZGluYXRlLCBmcmFtZVN0YXRlLCBoaXRUb2xlcmFuY2UsIGNhbGxiYWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5mb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZS5jYWxsKHRoaXMsIGNvb3JkaW5hdGUsIGZyYW1lU3RhdGUsIGhpdFRvbGVyYW5jZSwgY2FsbGJhY2spO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gQ2FudmFzSW1hZ2VMYXllclJlbmRlcmVyO1xufShJbnRlcm1lZGlhdGVDYW52YXNSZW5kZXJlcikpO1xuXG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHRoaXMgcmVuZGVyZXIgaGFuZGxlcyB0aGUgcHJvdmlkZWQgbGF5ZXIuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IGxheWVyIFRoZSBjYW5kaWRhdGUgbGF5ZXIuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgcmVuZGVyZXIgY2FuIHJlbmRlciB0aGUgbGF5ZXIuXG4gKi9cbkNhbnZhc0ltYWdlTGF5ZXJSZW5kZXJlclsnaGFuZGxlcyddID0gZnVuY3Rpb24obGF5ZXIpIHtcbiAgcmV0dXJuIGxheWVyLmdldFR5cGUoKSA9PT0gTGF5ZXJUeXBlLklNQUdFIHx8XG4gICAgbGF5ZXIuZ2V0VHlwZSgpID09PSBMYXllclR5cGUuVkVDVE9SICYmXG4gICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9sYXllci9WZWN0b3IuanNcIikuZGVmYXVsdH0gKi8gKGxheWVyKS5nZXRSZW5kZXJNb2RlKCkgPT09IFZlY3RvclJlbmRlclR5cGUuSU1BR0U7XG59O1xuXG5cbi8qKlxuICogQ3JlYXRlIGEgbGF5ZXIgcmVuZGVyZXIuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0fSBtYXBSZW5kZXJlciBUaGUgbWFwIHJlbmRlcmVyLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0fSBsYXllciBUaGUgbGF5ZXIgdG8gYmUgcmVuZGVyZXJkLlxuICogQHJldHVybiB7Q2FudmFzSW1hZ2VMYXllclJlbmRlcmVyfSBUaGUgbGF5ZXIgcmVuZGVyZXIuXG4gKi9cbkNhbnZhc0ltYWdlTGF5ZXJSZW5kZXJlclsnY3JlYXRlJ10gPSBmdW5jdGlvbihtYXBSZW5kZXJlciwgbGF5ZXIpIHtcbiAgcmV0dXJuIG5ldyBDYW52YXNJbWFnZUxheWVyUmVuZGVyZXIoLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9sYXllci9JbWFnZS5qc1wiKS5kZWZhdWx0fSAqLyAobGF5ZXIpKTtcbn07XG5cblxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzSW1hZ2VMYXllclJlbmRlcmVyO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbWFnZUxheWVyLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9UaWxlUXVldWVcbiAqL1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuL1RpbGVTdGF0ZS5qcyc7XG5pbXBvcnQge2xpc3RlbiwgdW5saXN0ZW59IGZyb20gJy4vZXZlbnRzLmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBQcmlvcml0eVF1ZXVlIGZyb20gJy4vc3RydWN0cy9Qcmlvcml0eVF1ZXVlLmpzJztcblxuXG4vKipcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihpbXBvcnQoXCIuL1RpbGUuanNcIikuZGVmYXVsdCwgc3RyaW5nLCBpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSwgbnVtYmVyKTogbnVtYmVyfSBQcmlvcml0eUZ1bmN0aW9uXG4gKi9cblxuXG52YXIgVGlsZVF1ZXVlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoUHJpb3JpdHlRdWV1ZSkge1xuICBmdW5jdGlvbiBUaWxlUXVldWUodGlsZVByaW9yaXR5RnVuY3Rpb24sIHRpbGVDaGFuZ2VDYWxsYmFjaykge1xuXG4gICAgUHJpb3JpdHlRdWV1ZS5jYWxsKFxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge0FycmF5fSBlbGVtZW50IEVsZW1lbnQuXG4gICAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFByaW9yaXR5LlxuICAgICAgICovXG4gICAgICB0aGlzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aWxlUHJpb3JpdHlGdW5jdGlvbi5hcHBseShudWxsLCBlbGVtZW50KTtcbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7QXJyYXl9IGVsZW1lbnQgRWxlbWVudC5cbiAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gS2V5LlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiAoLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuZGVmYXVsdH0gKi8gKGVsZW1lbnRbMF0pLmdldEtleSgpKTtcbiAgICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oKTogP31cbiAgICAgKi9cbiAgICB0aGlzLnRpbGVDaGFuZ2VDYWxsYmFja18gPSB0aWxlQ2hhbmdlQ2FsbGJhY2s7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50aWxlc0xvYWRpbmdfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLGJvb2xlYW4+fVxuICAgICAqL1xuICAgIHRoaXMudGlsZXNMb2FkaW5nS2V5c18gPSB7fTtcblxuICB9XG5cbiAgaWYgKCBQcmlvcml0eVF1ZXVlICkgVGlsZVF1ZXVlLl9fcHJvdG9fXyA9IFByaW9yaXR5UXVldWU7XG4gIFRpbGVRdWV1ZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBQcmlvcml0eVF1ZXVlICYmIFByaW9yaXR5UXVldWUucHJvdG90eXBlICk7XG4gIFRpbGVRdWV1ZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUaWxlUXVldWU7XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBUaWxlUXVldWUucHJvdG90eXBlLmVucXVldWUgPSBmdW5jdGlvbiBlbnF1ZXVlIChlbGVtZW50KSB7XG4gICAgdmFyIGFkZGVkID0gUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuZW5xdWV1ZS5jYWxsKHRoaXMsIGVsZW1lbnQpO1xuICAgIGlmIChhZGRlZCkge1xuICAgICAgdmFyIHRpbGUgPSBlbGVtZW50WzBdO1xuICAgICAgbGlzdGVuKHRpbGUsIEV2ZW50VHlwZS5DSEFOR0UsIHRoaXMuaGFuZGxlVGlsZUNoYW5nZSwgdGhpcyk7XG4gICAgfVxuICAgIHJldHVybiBhZGRlZDtcbiAgfTtcblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfSBOdW1iZXIgb2YgdGlsZXMgbG9hZGluZy5cbiAgICovXG4gIFRpbGVRdWV1ZS5wcm90b3R5cGUuZ2V0VGlsZXNMb2FkaW5nID0gZnVuY3Rpb24gZ2V0VGlsZXNMb2FkaW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy50aWxlc0xvYWRpbmdfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHR9IGV2ZW50IEV2ZW50LlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBUaWxlUXVldWUucHJvdG90eXBlLmhhbmRsZVRpbGVDaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVUaWxlQ2hhbmdlIChldmVudCkge1xuICAgIHZhciB0aWxlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuZGVmYXVsdH0gKi8gKGV2ZW50LnRhcmdldCk7XG4gICAgdmFyIHN0YXRlID0gdGlsZS5nZXRTdGF0ZSgpO1xuICAgIGlmIChzdGF0ZSA9PT0gVGlsZVN0YXRlLkxPQURFRCB8fCBzdGF0ZSA9PT0gVGlsZVN0YXRlLkVSUk9SIHx8XG4gICAgICAgIHN0YXRlID09PSBUaWxlU3RhdGUuRU1QVFkgfHwgc3RhdGUgPT09IFRpbGVTdGF0ZS5BQk9SVCkge1xuICAgICAgdW5saXN0ZW4odGlsZSwgRXZlbnRUeXBlLkNIQU5HRSwgdGhpcy5oYW5kbGVUaWxlQ2hhbmdlLCB0aGlzKTtcbiAgICAgIHZhciB0aWxlS2V5ID0gdGlsZS5nZXRLZXkoKTtcbiAgICAgIGlmICh0aWxlS2V5IGluIHRoaXMudGlsZXNMb2FkaW5nS2V5c18pIHtcbiAgICAgICAgZGVsZXRlIHRoaXMudGlsZXNMb2FkaW5nS2V5c19bdGlsZUtleV07XG4gICAgICAgIC0tdGhpcy50aWxlc0xvYWRpbmdfO1xuICAgICAgfVxuICAgICAgdGhpcy50aWxlQ2hhbmdlQ2FsbGJhY2tfKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF4VG90YWxMb2FkaW5nIE1heGltdW0gbnVtYmVyIHRpbGVzIHRvIGxvYWQgc2ltdWx0YW5lb3VzbHkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhOZXdMb2FkcyBNYXhpbXVtIG51bWJlciBvZiBuZXcgdGlsZXMgdG8gbG9hZC5cbiAgICovXG4gIFRpbGVRdWV1ZS5wcm90b3R5cGUubG9hZE1vcmVUaWxlcyA9IGZ1bmN0aW9uIGxvYWRNb3JlVGlsZXMgKG1heFRvdGFsTG9hZGluZywgbWF4TmV3TG9hZHMpIHtcbiAgICB2YXIgbmV3TG9hZHMgPSAwO1xuICAgIHZhciBhYm9ydGVkVGlsZXMgPSBmYWxzZTtcbiAgICB2YXIgc3RhdGUsIHRpbGUsIHRpbGVLZXk7XG4gICAgd2hpbGUgKHRoaXMudGlsZXNMb2FkaW5nXyA8IG1heFRvdGFsTG9hZGluZyAmJiBuZXdMb2FkcyA8IG1heE5ld0xvYWRzICYmXG4gICAgICAgICAgIHRoaXMuZ2V0Q291bnQoKSA+IDApIHtcbiAgICAgIHRpbGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAodGhpcy5kZXF1ZXVlKClbMF0pO1xuICAgICAgdGlsZUtleSA9IHRpbGUuZ2V0S2V5KCk7XG4gICAgICBzdGF0ZSA9IHRpbGUuZ2V0U3RhdGUoKTtcbiAgICAgIGlmIChzdGF0ZSA9PT0gVGlsZVN0YXRlLkFCT1JUKSB7XG4gICAgICAgIGFib3J0ZWRUaWxlcyA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBUaWxlU3RhdGUuSURMRSAmJiAhKHRpbGVLZXkgaW4gdGhpcy50aWxlc0xvYWRpbmdLZXlzXykpIHtcbiAgICAgICAgdGhpcy50aWxlc0xvYWRpbmdLZXlzX1t0aWxlS2V5XSA9IHRydWU7XG4gICAgICAgICsrdGhpcy50aWxlc0xvYWRpbmdfO1xuICAgICAgICArK25ld0xvYWRzO1xuICAgICAgICB0aWxlLmxvYWQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5ld0xvYWRzID09PSAwICYmIGFib3J0ZWRUaWxlcykge1xuICAgICAgLy8gRG8gbm90IHN0b3AgdGhlIHJlbmRlciBsb29wIHdoZW4gYWxsIHdhbnRlZCB0aWxlcyB3ZXJlIGFib3J0ZWQgZHVlIHRvXG4gICAgICAvLyBhIHNtYWxsLCBzYXR1cmF0ZWQgdGlsZSBjYWNoZS5cbiAgICAgIHRoaXMudGlsZUNoYW5nZUNhbGxiYWNrXygpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gVGlsZVF1ZXVlO1xufShQcmlvcml0eVF1ZXVlKSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgVGlsZVF1ZXVlO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxlUXVldWUuanMubWFwIiwidmFyIFByb2Nlc3NvciA9IHJlcXVpcmUoJy4vcHJvY2Vzc29yJyk7XG5cbmV4cG9ydHMuUHJvY2Vzc29yID0gUHJvY2Vzc29yO1xuIiwidmFyIG5ld0ltYWdlRGF0YSA9IHJlcXVpcmUoJy4vdXRpbCcpLm5ld0ltYWdlRGF0YTtcblxuLyoqXG4gKiBDcmVhdGUgYSBmdW5jdGlvbiBmb3IgcnVubmluZyBvcGVyYXRpb25zLiAgVGhpcyBmdW5jdGlvbiBpcyBzZXJpYWxpemVkIGZvclxuICogdXNlIGluIGEgd29ya2VyLlxuICogQHBhcmFtIHtmdW5jdGlvbihBcnJheSwgT2JqZWN0KToqfSBvcGVyYXRpb24gVGhlIG9wZXJhdGlvbi5cbiAqIEByZXR1cm4ge2Z1bmN0aW9uKE9iamVjdCk6QXJyYXlCdWZmZXJ9IEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiBvYmplY3Qgd2l0aFxuICogYnVmZmVycywgbWV0YSwgaW1hZ2VPcHMsIHdpZHRoLCBhbmQgaGVpZ2h0IHByb3BlcnRpZXMgYW5kIHJldHVybnMgYW4gYXJyYXlcbiAqIGJ1ZmZlci5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlTWluaW9uKG9wZXJhdGlvbikge1xuICB2YXIgd29ya2VySGFzSW1hZ2VEYXRhID0gdHJ1ZTtcbiAgdHJ5IHtcbiAgICBuZXcgSW1hZ2VEYXRhKDEwLCAxMCk7XG4gIH0gY2F0Y2ggKF8pIHtcbiAgICB3b3JrZXJIYXNJbWFnZURhdGEgPSBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5ld1dvcmtlckltYWdlRGF0YShkYXRhLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgaWYgKHdvcmtlckhhc0ltYWdlRGF0YSkge1xuICAgICAgcmV0dXJuIG5ldyBJbWFnZURhdGEoZGF0YSwgd2lkdGgsIGhlaWdodCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7ZGF0YTogZGF0YSwgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodH07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAvLyBicmFja2V0IG5vdGF0aW9uIGZvciBtaW5pZmljYXRpb24gc3VwcG9ydFxuICAgIHZhciBidWZmZXJzID0gZGF0YVsnYnVmZmVycyddO1xuICAgIHZhciBtZXRhID0gZGF0YVsnbWV0YSddO1xuICAgIHZhciBpbWFnZU9wcyA9IGRhdGFbJ2ltYWdlT3BzJ107XG4gICAgdmFyIHdpZHRoID0gZGF0YVsnd2lkdGgnXTtcbiAgICB2YXIgaGVpZ2h0ID0gZGF0YVsnaGVpZ2h0J107XG5cbiAgICB2YXIgbnVtQnVmZmVycyA9IGJ1ZmZlcnMubGVuZ3RoO1xuICAgIHZhciBudW1CeXRlcyA9IGJ1ZmZlcnNbMF0uYnl0ZUxlbmd0aDtcbiAgICB2YXIgb3V0cHV0LCBiO1xuXG4gICAgaWYgKGltYWdlT3BzKSB7XG4gICAgICB2YXIgaW1hZ2VzID0gbmV3IEFycmF5KG51bUJ1ZmZlcnMpO1xuICAgICAgZm9yIChiID0gMDsgYiA8IG51bUJ1ZmZlcnM7ICsrYikge1xuICAgICAgICBpbWFnZXNbYl0gPSBuZXdXb3JrZXJJbWFnZURhdGEoXG4gICAgICAgICAgICBuZXcgVWludDhDbGFtcGVkQXJyYXkoYnVmZmVyc1tiXSksIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgfVxuICAgICAgb3V0cHV0ID0gb3BlcmF0aW9uKGltYWdlcywgbWV0YSkuZGF0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0cHV0ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KG51bUJ5dGVzKTtcbiAgICAgIHZhciBhcnJheXMgPSBuZXcgQXJyYXkobnVtQnVmZmVycyk7XG4gICAgICB2YXIgcGl4ZWxzID0gbmV3IEFycmF5KG51bUJ1ZmZlcnMpO1xuICAgICAgZm9yIChiID0gMDsgYiA8IG51bUJ1ZmZlcnM7ICsrYikge1xuICAgICAgICBhcnJheXNbYl0gPSBuZXcgVWludDhDbGFtcGVkQXJyYXkoYnVmZmVyc1tiXSk7XG4gICAgICAgIHBpeGVsc1tiXSA9IFswLCAwLCAwLCAwXTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtQnl0ZXM7IGkgKz0gNCkge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG51bUJ1ZmZlcnM7ICsraikge1xuICAgICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tqXTtcbiAgICAgICAgICBwaXhlbHNbal1bMF0gPSBhcnJheVtpXTtcbiAgICAgICAgICBwaXhlbHNbal1bMV0gPSBhcnJheVtpICsgMV07XG4gICAgICAgICAgcGl4ZWxzW2pdWzJdID0gYXJyYXlbaSArIDJdO1xuICAgICAgICAgIHBpeGVsc1tqXVszXSA9IGFycmF5W2kgKyAzXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGl4ZWwgPSBvcGVyYXRpb24ocGl4ZWxzLCBtZXRhKTtcbiAgICAgICAgb3V0cHV0W2ldID0gcGl4ZWxbMF07XG4gICAgICAgIG91dHB1dFtpICsgMV0gPSBwaXhlbFsxXTtcbiAgICAgICAgb3V0cHV0W2kgKyAyXSA9IHBpeGVsWzJdO1xuICAgICAgICBvdXRwdXRbaSArIDNdID0gcGl4ZWxbM107XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQuYnVmZmVyO1xuICB9O1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIHdvcmtlciBmb3IgcnVubmluZyBvcGVyYXRpb25zLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBDb25maWd1cmF0aW9uLlxuICogQHBhcmFtIHtmdW5jdGlvbihNZXNzYWdlRXZlbnQpfSBvbk1lc3NhZ2UgQ2FsbGVkIHdpdGggYSBtZXNzYWdlIGV2ZW50LlxuICogQHJldHVybiB7V29ya2VyfSBUaGUgd29ya2VyLlxuICovXG5mdW5jdGlvbiBjcmVhdGVXb3JrZXIoY29uZmlnLCBvbk1lc3NhZ2UpIHtcbiAgdmFyIGxpYiA9IE9iamVjdC5rZXlzKGNvbmZpZy5saWIgfHwge30pLm1hcChmdW5jdGlvbihuYW1lKSB7XG4gICAgcmV0dXJuICd2YXIgJyArIG5hbWUgKyAnID0gJyArIGNvbmZpZy5saWJbbmFtZV0udG9TdHJpbmcoKSArICc7JztcbiAgfSk7XG5cbiAgdmFyIGxpbmVzID0gbGliLmNvbmNhdChbXG4gICAgJ3ZhciBfX21pbmlvbl9fID0gKCcgKyBjcmVhdGVNaW5pb24udG9TdHJpbmcoKSArICcpKCcsIGNvbmZpZy5vcGVyYXRpb24udG9TdHJpbmcoKSwgJyk7JyxcbiAgICAnc2VsZi5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBmdW5jdGlvbihldmVudCkgeycsXG4gICAgJyAgdmFyIGJ1ZmZlciA9IF9fbWluaW9uX18oZXZlbnQuZGF0YSk7JyxcbiAgICAnICBzZWxmLnBvc3RNZXNzYWdlKHtidWZmZXI6IGJ1ZmZlciwgbWV0YTogZXZlbnQuZGF0YS5tZXRhfSwgW2J1ZmZlcl0pOycsXG4gICAgJ30pOydcbiAgXSk7XG5cbiAgdmFyIGJsb2IgPSBuZXcgQmxvYihsaW5lcywge3R5cGU6ICd0ZXh0L2phdmFzY3JpcHQnfSk7XG4gIHZhciBzb3VyY2UgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICB2YXIgd29ya2VyID0gbmV3IFdvcmtlcihzb3VyY2UpO1xuICB3b3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIG9uTWVzc2FnZSk7XG4gIHJldHVybiB3b3JrZXI7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgZmF1eCB3b3JrZXIgZm9yIHJ1bm5pbmcgb3BlcmF0aW9ucy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgQ29uZmlndXJhdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oTWVzc2FnZUV2ZW50KX0gb25NZXNzYWdlIENhbGxlZCB3aXRoIGEgbWVzc2FnZSBldmVudC5cbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGZhdXggd29ya2VyLlxuICovXG5mdW5jdGlvbiBjcmVhdGVGYXV4V29ya2VyKGNvbmZpZywgb25NZXNzYWdlKSB7XG4gIHZhciBtaW5pb24gPSBjcmVhdGVNaW5pb24oY29uZmlnLm9wZXJhdGlvbik7XG4gIHJldHVybiB7XG4gICAgcG9zdE1lc3NhZ2U6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIG9uTWVzc2FnZSh7J2RhdGEnOiB7J2J1ZmZlcic6IG1pbmlvbihkYXRhKSwgJ21ldGEnOiBkYXRhWydtZXRhJ119fSk7XG4gICAgICB9LCAwKTtcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQSBwcm9jZXNzb3IgcnVucyBwaXhlbCBvciBpbWFnZSBvcGVyYXRpb25zIGluIHdvcmtlcnMuXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIENvbmZpZ3VyYXRpb24uXG4gKi9cbmZ1bmN0aW9uIFByb2Nlc3Nvcihjb25maWcpIHtcbiAgdGhpcy5faW1hZ2VPcHMgPSAhIWNvbmZpZy5pbWFnZU9wcztcbiAgdmFyIHRocmVhZHM7XG4gIGlmIChjb25maWcudGhyZWFkcyA9PT0gMCkge1xuICAgIHRocmVhZHMgPSAwO1xuICB9IGVsc2UgaWYgKHRoaXMuX2ltYWdlT3BzKSB7XG4gICAgdGhyZWFkcyA9IDE7XG4gIH0gZWxzZSB7XG4gICAgdGhyZWFkcyA9IGNvbmZpZy50aHJlYWRzIHx8IDE7XG4gIH1cbiAgdmFyIHdvcmtlcnMgPSBbXTtcbiAgaWYgKHRocmVhZHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRocmVhZHM7ICsraSkge1xuICAgICAgd29ya2Vyc1tpXSA9IGNyZWF0ZVdvcmtlcihjb25maWcsIHRoaXMuX29uV29ya2VyTWVzc2FnZS5iaW5kKHRoaXMsIGkpKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgd29ya2Vyc1swXSA9IGNyZWF0ZUZhdXhXb3JrZXIoY29uZmlnLCB0aGlzLl9vbldvcmtlck1lc3NhZ2UuYmluZCh0aGlzLCAwKSk7XG4gIH1cbiAgdGhpcy5fd29ya2VycyA9IHdvcmtlcnM7XG4gIHRoaXMuX3F1ZXVlID0gW107XG4gIHRoaXMuX21heFF1ZXVlTGVuZ3RoID0gY29uZmlnLnF1ZXVlIHx8IEluZmluaXR5O1xuICB0aGlzLl9ydW5uaW5nID0gMDtcbiAgdGhpcy5fZGF0YUxvb2t1cCA9IHt9O1xuICB0aGlzLl9qb2IgPSBudWxsO1xufVxuXG4vKipcbiAqIFJ1biBvcGVyYXRpb24gb24gaW5wdXQgZGF0YS5cbiAqIEBwYXJhbSB7QXJyYXkuPEFycmF5fEltYWdlRGF0YT59IGlucHV0cyBBcnJheSBvZiBwaXhlbHMgb3IgaW1hZ2UgZGF0YVxuICogICAgIChkZXBlbmRpbmcgb24gdGhlIG9wZXJhdGlvbiB0eXBlKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBtZXRhIEEgdXNlciBkYXRhIG9iamVjdC4gIFRoaXMgaXMgcGFzc2VkIHRvIGFsbCBvcGVyYXRpb25zXG4gKiAgICAgYW5kIG11c3QgYmUgc2VyaWFsaXphYmxlLlxuICogQHBhcmFtIHtmdW5jdGlvbihFcnJvciwgSW1hZ2VEYXRhLCBPYmplY3QpfSBjYWxsYmFjayBDYWxsZWQgd2hlbiB3b3JrXG4gKiAgICAgY29tcGxldGVzLiAgVGhlIGZpcnN0IGFyZ3VtZW50IGlzIGFueSBlcnJvci4gIFRoZSBzZWNvbmQgaXMgdGhlIEltYWdlRGF0YVxuICogICAgIGdlbmVyYXRlZCBieSBvcGVyYXRpb25zLiAgVGhlIHRoaXJkIGlzIHRoZSB1c2VyIGRhdGEgb2JqZWN0LlxuICovXG5Qcm9jZXNzb3IucHJvdG90eXBlLnByb2Nlc3MgPSBmdW5jdGlvbihpbnB1dHMsIG1ldGEsIGNhbGxiYWNrKSB7XG4gIHRoaXMuX2VucXVldWUoe1xuICAgIGlucHV0czogaW5wdXRzLFxuICAgIG1ldGE6IG1ldGEsXG4gICAgY2FsbGJhY2s6IGNhbGxiYWNrXG4gIH0pO1xuICB0aGlzLl9kaXNwYXRjaCgpO1xufTtcblxuLyoqXG4gKiBTdG9wIHJlc3BvbmRpbmcgdG8gYW55IGNvbXBsZXRlZCB3b3JrIGFuZCBkZXN0cm95IHRoZSBwcm9jZXNzb3IuXG4gKi9cblByb2Nlc3Nvci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICBmb3IgKHZhciBrZXkgaW4gdGhpcykge1xuICAgIHRoaXNba2V5XSA9IG51bGw7XG4gIH1cbiAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcbn07XG5cbi8qKlxuICogQWRkIGEgam9iIHRvIHRoZSBxdWV1ZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBqb2IgVGhlIGpvYi5cbiAqL1xuUHJvY2Vzc29yLnByb3RvdHlwZS5fZW5xdWV1ZSA9IGZ1bmN0aW9uKGpvYikge1xuICB0aGlzLl9xdWV1ZS5wdXNoKGpvYik7XG4gIHdoaWxlICh0aGlzLl9xdWV1ZS5sZW5ndGggPiB0aGlzLl9tYXhRdWV1ZUxlbmd0aCkge1xuICAgIHRoaXMuX3F1ZXVlLnNoaWZ0KCkuY2FsbGJhY2sobnVsbCwgbnVsbCk7XG4gIH1cbn07XG5cbi8qKlxuICogRGlzcGF0Y2ggYSBqb2IuXG4gKi9cblByb2Nlc3Nvci5wcm90b3R5cGUuX2Rpc3BhdGNoID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLl9ydW5uaW5nID09PSAwICYmIHRoaXMuX3F1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICB2YXIgam9iID0gdGhpcy5fam9iID0gdGhpcy5fcXVldWUuc2hpZnQoKTtcbiAgICB2YXIgd2lkdGggPSBqb2IuaW5wdXRzWzBdLndpZHRoO1xuICAgIHZhciBoZWlnaHQgPSBqb2IuaW5wdXRzWzBdLmhlaWdodDtcbiAgICB2YXIgYnVmZmVycyA9IGpvYi5pbnB1dHMubWFwKGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICByZXR1cm4gaW5wdXQuZGF0YS5idWZmZXI7XG4gICAgfSk7XG4gICAgdmFyIHRocmVhZHMgPSB0aGlzLl93b3JrZXJzLmxlbmd0aDtcbiAgICB0aGlzLl9ydW5uaW5nID0gdGhyZWFkcztcbiAgICBpZiAodGhyZWFkcyA9PT0gMSkge1xuICAgICAgdGhpcy5fd29ya2Vyc1swXS5wb3N0TWVzc2FnZSh7XG4gICAgICAgICdidWZmZXJzJzogYnVmZmVycyxcbiAgICAgICAgJ21ldGEnOiBqb2IubWV0YSxcbiAgICAgICAgJ2ltYWdlT3BzJzogdGhpcy5faW1hZ2VPcHMsXG4gICAgICAgICd3aWR0aCc6IHdpZHRoLFxuICAgICAgICAnaGVpZ2h0JzogaGVpZ2h0XG4gICAgICB9LCBidWZmZXJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGxlbmd0aCA9IGpvYi5pbnB1dHNbMF0uZGF0YS5sZW5ndGg7XG4gICAgICB2YXIgc2VnbWVudExlbmd0aCA9IDQgKiBNYXRoLmNlaWwobGVuZ3RoIC8gNCAvIHRocmVhZHMpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aHJlYWRzOyArK2kpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IGkgKiBzZWdtZW50TGVuZ3RoO1xuICAgICAgICB2YXIgc2xpY2VzID0gW107XG4gICAgICAgIGZvciAodmFyIGogPSAwLCBqaiA9IGJ1ZmZlcnMubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICAgIHNsaWNlcy5wdXNoKGJ1ZmZlcnNbaV0uc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBzZWdtZW50TGVuZ3RoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fd29ya2Vyc1tpXS5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgJ2J1ZmZlcnMnOiBzbGljZXMsXG4gICAgICAgICAgJ21ldGEnOiBqb2IubWV0YSxcbiAgICAgICAgICAnaW1hZ2VPcHMnOiB0aGlzLl9pbWFnZU9wcyxcbiAgICAgICAgICAnd2lkdGgnOiB3aWR0aCxcbiAgICAgICAgICAnaGVpZ2h0JzogaGVpZ2h0XG4gICAgICAgIH0sIHNsaWNlcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIEhhbmRsZSBtZXNzYWdlcyBmcm9tIHRoZSB3b3JrZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIHdvcmtlciBpbmRleC5cbiAqIEBwYXJhbSB7TWVzc2FnZUV2ZW50fSBldmVudCBUaGUgbWVzc2FnZSBldmVudC5cbiAqL1xuUHJvY2Vzc29yLnByb3RvdHlwZS5fb25Xb3JrZXJNZXNzYWdlID0gZnVuY3Rpb24oaW5kZXgsIGV2ZW50KSB7XG4gIGlmICh0aGlzLl9kZXN0cm95ZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5fZGF0YUxvb2t1cFtpbmRleF0gPSBldmVudC5kYXRhO1xuICAtLXRoaXMuX3J1bm5pbmc7XG4gIGlmICh0aGlzLl9ydW5uaW5nID09PSAwKSB7XG4gICAgdGhpcy5fcmVzb2x2ZUpvYigpO1xuICB9XG59O1xuXG4vKipcbiAqIFJlc29sdmUgYSBqb2IuICBJZiB0aGVyZSBhcmUgbm8gbW9yZSB3b3JrZXIgdGhyZWFkcywgdGhlIHByb2Nlc3NvciBjYWxsYmFja1xuICogd2lsbCBiZSBjYWxsZWQuXG4gKi9cblByb2Nlc3Nvci5wcm90b3R5cGUuX3Jlc29sdmVKb2IgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGpvYiA9IHRoaXMuX2pvYjtcbiAgdmFyIHRocmVhZHMgPSB0aGlzLl93b3JrZXJzLmxlbmd0aDtcbiAgdmFyIGRhdGEsIG1ldGE7XG4gIGlmICh0aHJlYWRzID09PSAxKSB7XG4gICAgZGF0YSA9IG5ldyBVaW50OENsYW1wZWRBcnJheSh0aGlzLl9kYXRhTG9va3VwWzBdWydidWZmZXInXSk7XG4gICAgbWV0YSA9IHRoaXMuX2RhdGFMb29rdXBbMF1bJ21ldGEnXTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbGVuZ3RoID0gam9iLmlucHV0c1swXS5kYXRhLmxlbmd0aDtcbiAgICBkYXRhID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGxlbmd0aCk7XG4gICAgbWV0YSA9IG5ldyBBcnJheShsZW5ndGgpO1xuICAgIHZhciBzZWdtZW50TGVuZ3RoID0gNCAqIE1hdGguY2VpbChsZW5ndGggLyA0IC8gdGhyZWFkcyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aHJlYWRzOyArK2kpIHtcbiAgICAgIHZhciBidWZmZXIgPSB0aGlzLl9kYXRhTG9va3VwW2ldWydidWZmZXInXTtcbiAgICAgIHZhciBvZmZzZXQgPSBpICogc2VnbWVudExlbmd0aDtcbiAgICAgIGRhdGEuc2V0KG5ldyBVaW50OENsYW1wZWRBcnJheShidWZmZXIpLCBvZmZzZXQpO1xuICAgICAgbWV0YVtpXSA9IHRoaXMuX2RhdGFMb29rdXBbaV1bJ21ldGEnXTtcbiAgICB9XG4gIH1cbiAgdGhpcy5fam9iID0gbnVsbDtcbiAgdGhpcy5fZGF0YUxvb2t1cCA9IHt9O1xuICBqb2IuY2FsbGJhY2sobnVsbCxcbiAgICAgIG5ld0ltYWdlRGF0YShkYXRhLCBqb2IuaW5wdXRzWzBdLndpZHRoLCBqb2IuaW5wdXRzWzBdLmhlaWdodCksIG1ldGEpO1xuICB0aGlzLl9kaXNwYXRjaCgpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBQcm9jZXNzb3I7XG4iLCJ2YXIgaGFzSW1hZ2VEYXRhID0gdHJ1ZTtcbnRyeSB7XG4gIG5ldyBJbWFnZURhdGEoMTAsIDEwKTtcbn0gY2F0Y2ggKF8pIHtcbiAgaGFzSW1hZ2VEYXRhID0gZmFsc2U7XG59XG5cbnZhciBjb250ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykuZ2V0Q29udGV4dCgnMmQnKTtcblxuZnVuY3Rpb24gbmV3SW1hZ2VEYXRhKGRhdGEsIHdpZHRoLCBoZWlnaHQpIHtcbiAgaWYgKGhhc0ltYWdlRGF0YSkge1xuICAgIHJldHVybiBuZXcgSW1hZ2VEYXRhKGRhdGEsIHdpZHRoLCBoZWlnaHQpO1xuICB9IGVsc2Uge1xuICAgIHZhciBpbWFnZURhdGEgPSBjb250ZXh0LmNyZWF0ZUltYWdlRGF0YSh3aWR0aCwgaGVpZ2h0KTtcbiAgICBpbWFnZURhdGEuZGF0YS5zZXQoZGF0YSk7XG4gICAgcmV0dXJuIGltYWdlRGF0YTtcbiAgfVxufVxuXG5leHBvcnRzLm5ld0ltYWdlRGF0YSA9IG5ld0ltYWdlRGF0YTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC90aWxlY29vcmRcbiAqL1xuXG5cbi8qKlxuICogQW4gYXJyYXkgb2YgdGhyZWUgbnVtYmVycyByZXByZXNlbnRpbmcgdGhlIGxvY2F0aW9uIG9mIGEgdGlsZSBpbiBhIHRpbGVcbiAqIGdyaWQuIFRoZSBvcmRlciBpcyBgemAsIGB4YCwgYW5kIGB5YC4gYHpgIGlzIHRoZSB6b29tIGxldmVsLlxuICogQHR5cGVkZWYge0FycmF5PG51bWJlcj59IFRpbGVDb29yZFxuICogQGFwaVxuICovXG5cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0geiBaLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcGFyYW0ge1RpbGVDb29yZD19IG9wdF90aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICogQHJldHVybiB7VGlsZUNvb3JkfSBUaWxlIGNvb3JkaW5hdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZSh6LCB4LCB5LCBvcHRfdGlsZUNvb3JkKSB7XG4gIGlmIChvcHRfdGlsZUNvb3JkICE9PSB1bmRlZmluZWQpIHtcbiAgICBvcHRfdGlsZUNvb3JkWzBdID0gejtcbiAgICBvcHRfdGlsZUNvb3JkWzFdID0geDtcbiAgICBvcHRfdGlsZUNvb3JkWzJdID0geTtcbiAgICByZXR1cm4gb3B0X3RpbGVDb29yZDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gW3osIHgsIHldO1xuICB9XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0geiBaLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IEtleS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEtleVpYWSh6LCB4LCB5KSB7XG4gIHJldHVybiB6ICsgJy8nICsgeCArICcvJyArIHk7XG59XG5cblxuLyoqXG4gKiBHZXQgdGhlIGtleSBmb3IgYSB0aWxlIGNvb3JkLlxuICogQHBhcmFtIHtUaWxlQ29vcmR9IHRpbGVDb29yZCBUaGUgdGlsZSBjb29yZC5cbiAqIEByZXR1cm4ge3N0cmluZ30gS2V5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0S2V5KHRpbGVDb29yZCkge1xuICByZXR1cm4gZ2V0S2V5WlhZKHRpbGVDb29yZFswXSwgdGlsZUNvb3JkWzFdLCB0aWxlQ29vcmRbMl0pO1xufVxuXG5cbi8qKlxuICogR2V0IGEgdGlsZSBjb29yZCBnaXZlbiBhIGtleS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHRpbGUgY29vcmQga2V5LlxuICogQHJldHVybiB7VGlsZUNvb3JkfSBUaGUgdGlsZSBjb29yZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21LZXkoa2V5KSB7XG4gIHJldHVybiBrZXkuc3BsaXQoJy8nKS5tYXAoTnVtYmVyKTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7VGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZC5cbiAqIEByZXR1cm4ge251bWJlcn0gSGFzaC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc2godGlsZUNvb3JkKSB7XG4gIHJldHVybiAodGlsZUNvb3JkWzFdIDw8IHRpbGVDb29yZFswXSkgKyB0aWxlQ29vcmRbMl07XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge1RpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFF1YWQga2V5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVhZEtleSh0aWxlQ29vcmQpIHtcbiAgdmFyIHogPSB0aWxlQ29vcmRbMF07XG4gIHZhciBkaWdpdHMgPSBuZXcgQXJyYXkoeik7XG4gIHZhciBtYXNrID0gMSA8PCAoeiAtIDEpO1xuICB2YXIgaSwgY2hhckNvZGU7XG4gIGZvciAoaSA9IDA7IGkgPCB6OyArK2kpIHtcbiAgICAvLyA0OCBpcyBjaGFyQ29kZSBmb3IgMCAtICcwJy5jaGFyQ29kZUF0KDApXG4gICAgY2hhckNvZGUgPSA0ODtcbiAgICBpZiAodGlsZUNvb3JkWzFdICYgbWFzaykge1xuICAgICAgY2hhckNvZGUgKz0gMTtcbiAgICB9XG4gICAgaWYgKHRpbGVDb29yZFsyXSAmIG1hc2spIHtcbiAgICAgIGNoYXJDb2RlICs9IDI7XG4gICAgfVxuICAgIGRpZ2l0c1tpXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpO1xuICAgIG1hc2sgPj49IDE7XG4gIH1cbiAgcmV0dXJuIGRpZ2l0cy5qb2luKCcnKTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7VGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICogQHBhcmFtIHshaW1wb3J0KFwiLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSB0aWxlR3JpZCBUaWxlIGdyaWQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaWxlIGNvb3JkaW5hdGUgaXMgd2l0aGluIGV4dGVudCBhbmQgem9vbSBsZXZlbCByYW5nZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhpbkV4dGVudEFuZFoodGlsZUNvb3JkLCB0aWxlR3JpZCkge1xuICB2YXIgeiA9IHRpbGVDb29yZFswXTtcbiAgdmFyIHggPSB0aWxlQ29vcmRbMV07XG4gIHZhciB5ID0gdGlsZUNvb3JkWzJdO1xuXG4gIGlmICh0aWxlR3JpZC5nZXRNaW5ab29tKCkgPiB6IHx8IHogPiB0aWxlR3JpZC5nZXRNYXhab29tKCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGV4dGVudCA9IHRpbGVHcmlkLmdldEV4dGVudCgpO1xuICB2YXIgdGlsZVJhbmdlO1xuICBpZiAoIWV4dGVudCkge1xuICAgIHRpbGVSYW5nZSA9IHRpbGVHcmlkLmdldEZ1bGxUaWxlUmFuZ2Uoeik7XG4gIH0gZWxzZSB7XG4gICAgdGlsZVJhbmdlID0gdGlsZUdyaWQuZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWihleHRlbnQsIHopO1xuICB9XG4gIGlmICghdGlsZVJhbmdlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRpbGVSYW5nZS5jb250YWluc1hZKHgsIHkpO1xuICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbGVjb29yZC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvdGlsZXVybGZ1bmN0aW9uXG4gKi9cbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuL2Fzc2VydHMuanMnO1xuaW1wb3J0IHttb2R1bG99IGZyb20gJy4vbWF0aC5qcyc7XG5pbXBvcnQge2hhc2ggYXMgdGlsZUNvb3JkSGFzaH0gZnJvbSAnLi90aWxlY29vcmQuanMnO1xuXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHRlbXBsYXRlIFRlbXBsYXRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IHRpbGVHcmlkIFRpbGUgZ3JpZC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbn0gVGlsZSBVUkwgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGcm9tVGVtcGxhdGUodGVtcGxhdGUsIHRpbGVHcmlkKSB7XG4gIHZhciB6UmVnRXggPSAvXFx7elxcfS9nO1xuICB2YXIgeFJlZ0V4ID0gL1xce3hcXH0vZztcbiAgdmFyIHlSZWdFeCA9IC9cXHt5XFx9L2c7XG4gIHZhciBkYXNoWVJlZ0V4ID0gL1xcey15XFx9L2c7XG4gIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIENvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gVGlsZSBVUkwuXG4gICAgICovXG4gICAgZnVuY3Rpb24odGlsZUNvb3JkLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKSB7XG4gICAgICBpZiAoIXRpbGVDb29yZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UoelJlZ0V4LCB0aWxlQ29vcmRbMF0udG9TdHJpbmcoKSlcbiAgICAgICAgICAucmVwbGFjZSh4UmVnRXgsIHRpbGVDb29yZFsxXS50b1N0cmluZygpKVxuICAgICAgICAgIC5yZXBsYWNlKHlSZWdFeCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgeSA9IC10aWxlQ29vcmRbMl0gLSAxO1xuICAgICAgICAgICAgcmV0dXJuIHkudG9TdHJpbmcoKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5yZXBsYWNlKGRhc2hZUmVnRXgsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHogPSB0aWxlQ29vcmRbMF07XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSB0aWxlR3JpZC5nZXRGdWxsVGlsZVJhbmdlKHopO1xuICAgICAgICAgICAgYXNzZXJ0KHJhbmdlLCA1NSk7IC8vIFRoZSB7LXl9IHBsYWNlaG9sZGVyIHJlcXVpcmVzIGEgdGlsZSBncmlkIHdpdGggZXh0ZW50XG4gICAgICAgICAgICB2YXIgeSA9IHJhbmdlLmdldEhlaWdodCgpICsgdGlsZUNvb3JkWzJdO1xuICAgICAgICAgICAgcmV0dXJuIHkudG9TdHJpbmcoKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICk7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IHRlbXBsYXRlcyBUZW1wbGF0ZXMuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gdGlsZUdyaWQgVGlsZSBncmlkLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9ufSBUaWxlIFVSTCBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZyb21UZW1wbGF0ZXModGVtcGxhdGVzLCB0aWxlR3JpZCkge1xuICB2YXIgbGVuID0gdGVtcGxhdGVzLmxlbmd0aDtcbiAgdmFyIHRpbGVVcmxGdW5jdGlvbnMgPSBuZXcgQXJyYXkobGVuKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIHRpbGVVcmxGdW5jdGlvbnNbaV0gPSBjcmVhdGVGcm9tVGVtcGxhdGUodGVtcGxhdGVzW2ldLCB0aWxlR3JpZCk7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUZyb21UaWxlVXJsRnVuY3Rpb25zKHRpbGVVcmxGdW5jdGlvbnMpO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL1RpbGUuanNcIikuVXJsRnVuY3Rpb24+fSB0aWxlVXJsRnVuY3Rpb25zIFRpbGUgVVJMIEZ1bmN0aW9ucy5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbn0gVGlsZSBVUkwgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGcm9tVGlsZVVybEZ1bmN0aW9ucyh0aWxlVXJsRnVuY3Rpb25zKSB7XG4gIGlmICh0aWxlVXJsRnVuY3Rpb25zLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiB0aWxlVXJsRnVuY3Rpb25zWzBdO1xuICB9XG4gIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIENvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gVGlsZSBVUkwuXG4gICAgICovXG4gICAgZnVuY3Rpb24odGlsZUNvb3JkLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKSB7XG4gICAgICBpZiAoIXRpbGVDb29yZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGggPSB0aWxlQ29vcmRIYXNoKHRpbGVDb29yZCk7XG4gICAgICAgIHZhciBpbmRleCA9IG1vZHVsbyhoLCB0aWxlVXJsRnVuY3Rpb25zLmxlbmd0aCk7XG4gICAgICAgIHJldHVybiB0aWxlVXJsRnVuY3Rpb25zW2luZGV4XSh0aWxlQ29vcmQsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pO1xuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge3N0cmluZ3x1bmRlZmluZWR9IFRpbGUgVVJMLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbnVsbFRpbGVVcmxGdW5jdGlvbih0aWxlQ29vcmQsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVVJMLlxuICogQHJldHVybiB7QXJyYXk8c3RyaW5nPn0gQXJyYXkgb2YgdXJscy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4cGFuZFVybCh1cmwpIHtcbiAgdmFyIHVybHMgPSBbXTtcbiAgdmFyIG1hdGNoID0gL1xceyhbYS16XSktKFthLXpdKVxcfS8uZXhlYyh1cmwpO1xuICBpZiAobWF0Y2gpIHtcbiAgICAvLyBjaGFyIHJhbmdlXG4gICAgdmFyIHN0YXJ0Q2hhckNvZGUgPSBtYXRjaFsxXS5jaGFyQ29kZUF0KDApO1xuICAgIHZhciBzdG9wQ2hhckNvZGUgPSBtYXRjaFsyXS5jaGFyQ29kZUF0KDApO1xuICAgIHZhciBjaGFyQ29kZTtcbiAgICBmb3IgKGNoYXJDb2RlID0gc3RhcnRDaGFyQ29kZTsgY2hhckNvZGUgPD0gc3RvcENoYXJDb2RlOyArK2NoYXJDb2RlKSB7XG4gICAgICB1cmxzLnB1c2godXJsLnJlcGxhY2UobWF0Y2hbMF0sIFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpKSk7XG4gICAgfVxuICAgIHJldHVybiB1cmxzO1xuICB9XG4gIG1hdGNoID0gbWF0Y2ggPSAvXFx7KFxcZCspLShcXGQrKVxcfS8uZXhlYyh1cmwpO1xuICBpZiAobWF0Y2gpIHtcbiAgICAvLyBudW1iZXIgcmFuZ2VcbiAgICB2YXIgc3RvcCA9IHBhcnNlSW50KG1hdGNoWzJdLCAxMCk7XG4gICAgZm9yICh2YXIgaSA9IHBhcnNlSW50KG1hdGNoWzFdLCAxMCk7IGkgPD0gc3RvcDsgaSsrKSB7XG4gICAgICB1cmxzLnB1c2godXJsLnJlcGxhY2UobWF0Y2hbMF0sIGkudG9TdHJpbmcoKSkpO1xuICAgIH1cbiAgICByZXR1cm4gdXJscztcbiAgfVxuICB1cmxzLnB1c2godXJsKTtcbiAgcmV0dXJuIHVybHM7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbGV1cmxmdW5jdGlvbi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvbmV0XG4gKi9cbmltcG9ydCB7Z2V0VWlkfSBmcm9tICcuL3V0aWwuanMnO1xuXG5cbi8qKlxuICogU2ltcGxlIEpTT05QIGhlbHBlci4gU3VwcG9ydHMgZXJyb3IgY2FsbGJhY2tzIGFuZCBhIGN1c3RvbSBjYWxsYmFjayBwYXJhbS5cbiAqIFRoZSBlcnJvciBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCB3aGVuIG5vIEpTT05QIGlzIGV4ZWN1dGVkIGFmdGVyIDEwIHNlY29uZHMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBSZXF1ZXN0IHVybC4gQSAnY2FsbGJhY2snIHF1ZXJ5IHBhcmFtZXRlciB3aWxsIGJlXG4gKiAgICAgYXBwZW5kZWQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjayBvbiBzdWNjZXNzLlxuICogQHBhcmFtIHtmdW5jdGlvbigpPX0gb3B0X2VycmJhY2sgQ2FsbGJhY2sgb24gZXJyb3IuXG4gKiBAcGFyYW0ge3N0cmluZz19IG9wdF9jYWxsYmFja1BhcmFtIEN1c3RvbSBxdWVyeSBwYXJhbWV0ZXIgZm9yIHRoZSBKU09OUFxuICogICAgIGNhbGxiYWNrLiBEZWZhdWx0IGlzICdjYWxsYmFjaycuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBqc29ucCh1cmwsIGNhbGxiYWNrLCBvcHRfZXJyYmFjaywgb3B0X2NhbGxiYWNrUGFyYW0pIHtcbiAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICB2YXIga2V5ID0gJ29sY18nICsgZ2V0VWlkKGNhbGxiYWNrKTtcbiAgZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICBkZWxldGUgd2luZG93W2tleV07XG4gICAgc2NyaXB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcbiAgfVxuICBzY3JpcHQuYXN5bmMgPSB0cnVlO1xuICBzY3JpcHQuc3JjID0gdXJsICsgKHVybC5pbmRleE9mKCc/JykgPT0gLTEgPyAnPycgOiAnJicpICtcbiAgICAgIChvcHRfY2FsbGJhY2tQYXJhbSB8fCAnY2FsbGJhY2snKSArICc9JyArIGtleTtcbiAgdmFyIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBjbGVhbnVwKCk7XG4gICAgaWYgKG9wdF9lcnJiYWNrKSB7XG4gICAgICBvcHRfZXJyYmFjaygpO1xuICAgIH1cbiAgfSwgMTAwMDApO1xuICB3aW5kb3dba2V5XSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgIGNsZWFudXAoKTtcbiAgICBjYWxsYmFjayhkYXRhKTtcbiAgfTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmRDaGlsZChzY3JpcHQpO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1uZXQuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL1RpbGVcbiAqL1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuL1RpbGVTdGF0ZS5qcyc7XG5pbXBvcnQge2Vhc2VJbn0gZnJvbSAnLi9lYXNpbmcuanMnO1xuaW1wb3J0IEV2ZW50VGFyZ2V0IGZyb20gJy4vZXZlbnRzL1RhcmdldC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5cblxuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9UaWxlfSBmb3IgdGhlIHRpbGUgYW5kIGFcbiAqIGB7c3RyaW5nfWAgZm9yIHRoZSB1cmwgYXMgYXJndW1lbnRzLiBUaGUgZGVmYXVsdCBpc1xuICogYGBganNcbiAqIHNvdXJjZS5zZXRUaWxlTG9hZEZ1bmN0aW9uKGZ1bmN0aW9uKHRpbGUsIHNyYykge1xuICogICB0aWxlLmdldEltYWdlKCkuc3JjID0gc3JjO1xuICogfSk7XG4gKiBgYGBcbiAqIEZvciBtb3JlIGZpbmUgZ3JhaW5lZCBjb250cm9sLCB0aGUgbG9hZCBmdW5jdGlvbiBjYW4gdXNlIGZldGNoIG9yIFhNTEh0dHBSZXF1ZXN0IGFuZCBpbnZvbHZlXG4gKiBlcnJvciBoYW5kbGluZzpcbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICdvbC9UaWxlU3RhdGUnO1xuICpcbiAqIHNvdXJjZS5zZXRUaWxlTG9hZEZ1bmN0aW9uKGZ1bmN0aW9uKHRpbGUsIHNyYykge1xuICogICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gKiAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYic7XG4gKiAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkZW5kJywgZnVuY3Rpb24gKGV2dCkge1xuICogICAgIHZhciBkYXRhID0gdGhpcy5yZXNwb25zZTtcbiAqICAgICBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gKiAgICAgICB0aWxlLmdldEltYWdlKCkuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChkYXRhKTtcbiAqICAgICB9IGVsc2Uge1xuICogICAgICAgdGlsZS5zZXRTdGF0ZShUaWxlU3RhdGUuRVJST1IpO1xuICogICAgIH1cbiAqICAgfSk7XG4gKiAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGZ1bmN0aW9uICgpIHtcbiAqICAgICB0aWxlLnNldFN0YXRlKFRpbGVTdGF0ZS5FUlJPUik7XG4gKiAgIH0pO1xuICogICB4aHIub3BlbignR0VUJywgc3JjKTtcbiAqICAgeGhyLnNlbmQoKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKFRpbGUsIHN0cmluZyl9IExvYWRGdW5jdGlvblxuICogQGFwaVxuICovXG5cbi8qKlxuICoge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVGlsZX5UaWxlfSBzb3VyY2VzIHVzZSBhIGZ1bmN0aW9uIG9mIHRoaXMgdHlwZSB0byBnZXRcbiAqIHRoZSB1cmwgdGhhdCBwcm92aWRlcyBhIHRpbGUgZm9yIGEgZ2l2ZW4gdGlsZSBjb29yZGluYXRlLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC90aWxlY29vcmR+VGlsZUNvb3JkfSBmb3IgdGhlIHRpbGVcbiAqIGNvb3JkaW5hdGUsIGEgYHtudW1iZXJ9YCByZXByZXNlbnRpbmcgdGhlIHBpeGVsIHJhdGlvIGFuZCBhXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovUHJvamVjdGlvbn0gZm9yIHRoZSBwcm9qZWN0aW9uICBhcyBhcmd1bWVudHNcbiAqIGFuZCByZXR1cm5zIGEgYHtzdHJpbmd9YCByZXByZXNlbnRpbmcgdGhlIHRpbGUgVVJMLCBvciB1bmRlZmluZWQgaWYgbm8gdGlsZVxuICogc2hvdWxkIGJlIHJlcXVlc3RlZCBmb3IgdGhlIHBhc3NlZCB0aWxlIGNvb3JkaW5hdGUuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZCwgbnVtYmVyLFxuICogICAgICAgICAgIGltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHQpOiAoc3RyaW5nfHVuZGVmaW5lZCl9IFVybEZ1bmN0aW9uXG4gKiBAYXBpXG4gKi9cblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdHJhbnNpdGlvbj0yNTBdIEEgZHVyYXRpb24gZm9yIHRpbGUgb3BhY2l0eVxuICogdHJhbnNpdGlvbnMgaW4gbWlsbGlzZWNvbmRzLiBBIGR1cmF0aW9uIG9mIDAgZGlzYWJsZXMgdGhlIG9wYWNpdHkgdHJhbnNpdGlvbi5cbiAqIEBhcGlcbiAqL1xuXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQmFzZSBjbGFzcyBmb3IgdGlsZXMuXG4gKlxuICogQGFic3RyYWN0XG4gKi9cbnZhciBUaWxlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRXZlbnRUYXJnZXQpIHtcbiAgZnVuY3Rpb24gVGlsZSh0aWxlQ29vcmQsIHN0YXRlLCBvcHRfb3B0aW9ucykge1xuICAgIEV2ZW50VGFyZ2V0LmNhbGwodGhpcyk7XG5cbiAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9XG4gICAgICovXG4gICAgdGhpcy50aWxlQ29vcmQgPSB0aWxlQ29vcmQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge1RpbGVTdGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG5cbiAgICAvKipcbiAgICAgKiBBbiBcImludGVyaW1cIiB0aWxlIGZvciB0aGlzIHRpbGUuIFRoZSBpbnRlcmltIHRpbGUgbWF5IGJlIHVzZWQgd2hpbGUgdGhpc1xuICAgICAqIG9uZSBpcyBsb2FkaW5nLCBmb3IgXCJzbW9vdGhcIiB0cmFuc2l0aW9ucyB3aGVuIGNoYW5naW5nIHBhcmFtcy9kaW1lbnNpb25zXG4gICAgICogb24gdGhlIHNvdXJjZS5cbiAgICAgKiBAdHlwZSB7VGlsZX1cbiAgICAgKi9cbiAgICB0aGlzLmludGVyaW1UaWxlID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEEga2V5IGFzc2lnbmVkIHRvIHRoZSB0aWxlLiBUaGlzIGlzIHVzZWQgYnkgdGhlIHRpbGUgc291cmNlIHRvIGRldGVybWluZVxuICAgICAqIGlmIHRoaXMgdGlsZSBjYW4gZWZmZWN0aXZlbHkgYmUgdXNlZCwgb3IgaWYgYSBuZXcgdGlsZSBzaG91bGQgYmUgY3JlYXRlZFxuICAgICAqIGFuZCB0aGlzIG9uZSBiZSB1c2VkIGFzIGFuIGludGVyaW0gdGlsZSBmb3IgdGhpcyBuZXcgdGlsZS5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMua2V5ID0gJyc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZHVyYXRpb24gZm9yIHRoZSBvcGFjaXR5IHRyYW5zaXRpb24uXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRyYW5zaXRpb25fID0gb3B0aW9ucy50cmFuc2l0aW9uID09PSB1bmRlZmluZWQgPyAyNTAgOiBvcHRpb25zLnRyYW5zaXRpb247XG5cbiAgICAvKipcbiAgICAgKiBMb29rdXAgb2Ygc3RhcnQgdGltZXMgZm9yIHJlbmRlcmluZyB0cmFuc2l0aW9ucy4gIElmIHRoZSBzdGFydCB0aW1lIGlzXG4gICAgICogZXF1YWwgdG8gLTEsIHRoZSB0cmFuc2l0aW9uIGlzIGNvbXBsZXRlLlxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMudHJhbnNpdGlvblN0YXJ0c18gPSB7fTtcblxuICB9XG5cbiAgaWYgKCBFdmVudFRhcmdldCApIFRpbGUuX19wcm90b19fID0gRXZlbnRUYXJnZXQ7XG4gIFRpbGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZlbnRUYXJnZXQgJiYgRXZlbnRUYXJnZXQucHJvdG90eXBlICk7XG4gIFRpbGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVGlsZTtcblxuICAvKipcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgVGlsZS5wcm90b3R5cGUuY2hhbmdlZCA9IGZ1bmN0aW9uIGNoYW5nZWQgKCkge1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChFdmVudFR5cGUuQ0hBTkdFKTtcbiAgfTtcblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfSBLZXkuXG4gICAqL1xuICBUaWxlLnByb3RvdHlwZS5nZXRLZXkgPSBmdW5jdGlvbiBnZXRLZXkgKCkge1xuICAgIHJldHVybiB0aGlzLmtleSArICcvJyArIHRoaXMudGlsZUNvb3JkO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGludGVyaW0gdGlsZSBtb3N0IHN1aXRhYmxlIGZvciByZW5kZXJpbmcgdXNpbmcgdGhlIGNoYWluIG9mIGludGVyaW1cbiAgICogdGlsZXMuIFRoaXMgY29ycmVzcG9uZHMgdG8gdGhlICBtb3N0IHJlY2VudCB0aWxlIHRoYXQgaGFzIGJlZW4gbG9hZGVkLCBpZiBub1xuICAgKiBzdWNoIHRpbGUgZXhpc3RzLCB0aGUgb3JpZ2luYWwgdGlsZSBpcyByZXR1cm5lZC5cbiAgICogQHJldHVybiB7IVRpbGV9IEJlc3QgdGlsZSBmb3IgcmVuZGVyaW5nLlxuICAgKi9cbiAgVGlsZS5wcm90b3R5cGUuZ2V0SW50ZXJpbVRpbGUgPSBmdW5jdGlvbiBnZXRJbnRlcmltVGlsZSAoKSB7XG4gICAgaWYgKCF0aGlzLmludGVyaW1UaWxlKSB7XG4gICAgICAvL2VtcHR5IGNoYWluXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdmFyIHRpbGUgPSB0aGlzLmludGVyaW1UaWxlO1xuXG4gICAgLy8gZmluZCB0aGUgZmlyc3QgbG9hZGVkIHRpbGUgYW5kIHJldHVybiBpdC4gU2luY2UgdGhlIGNoYWluIGlzIHNvcnRlZCBpblxuICAgIC8vIGRlY3JlYXNpbmcgb3JkZXIgb2YgY3JlYXRpb24gdGltZSwgdGhlcmUgaXMgbm8gbmVlZCB0byBzZWFyY2ggdGhlIHJlbWFpbmRlclxuICAgIC8vIG9mIHRoZSBsaXN0IChhbGwgdGhvc2UgdGlsZXMgY29ycmVzcG9uZCB0byBvbGRlciByZXF1ZXN0cyBhbmQgd2lsbCBiZVxuICAgIC8vIGNsZWFuZWQgdXAgYnkgcmVmcmVzaEludGVyaW1DaGFpbilcbiAgICBkbyB7XG4gICAgICBpZiAodGlsZS5nZXRTdGF0ZSgpID09IFRpbGVTdGF0ZS5MT0FERUQpIHtcbiAgICAgICAgcmV0dXJuIHRpbGU7XG4gICAgICB9XG4gICAgICB0aWxlID0gdGlsZS5pbnRlcmltVGlsZTtcbiAgICB9IHdoaWxlICh0aWxlKTtcblxuICAgIC8vIHdlIGNhbiBub3QgZmluZCBhIGJldHRlciB0aWxlXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdvZXMgdGhyb3VnaCB0aGUgY2hhaW4gb2YgaW50ZXJpbSB0aWxlcyBhbmQgZGlzY2FyZHMgc2VjdGlvbnMgb2YgdGhlIGNoYWluXG4gICAqIHRoYXQgYXJlIG5vIGxvbmdlciByZWxldmFudC5cbiAgICovXG4gIFRpbGUucHJvdG90eXBlLnJlZnJlc2hJbnRlcmltQ2hhaW4gPSBmdW5jdGlvbiByZWZyZXNoSW50ZXJpbUNoYWluICgpIHtcbiAgICBpZiAoIXRoaXMuaW50ZXJpbVRpbGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdGlsZSA9IHRoaXMuaW50ZXJpbVRpbGU7XG4gICAgdmFyIHByZXYgPSAvKiogQHR5cGUge1RpbGV9ICovICh0aGlzKTtcblxuICAgIGRvIHtcbiAgICAgIGlmICh0aWxlLmdldFN0YXRlKCkgPT0gVGlsZVN0YXRlLkxPQURFRCkge1xuICAgICAgICAvL3dlIGhhdmUgYSBsb2FkZWQgdGlsZSwgd2UgY2FuIGRpc2NhcmQgdGhlIHJlc3Qgb2YgdGhlIGxpc3RcbiAgICAgICAgLy93ZSB3b3VsZCBjb3VsZCBhYm9ydCBhbnkgTE9BRElORyB0aWxlIHJlcXVlc3RcbiAgICAgICAgLy9vbGRlciB0aGFuIHRoaXMgdGlsZSAoaS5lLiBhbnkgTE9BRElORyB0aWxlIGZvbGxvd2luZyB0aGlzIGVudHJ5IGluIHRoZSBjaGFpbilcbiAgICAgICAgdGlsZS5pbnRlcmltVGlsZSA9IG51bGw7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIGlmICh0aWxlLmdldFN0YXRlKCkgPT0gVGlsZVN0YXRlLkxPQURJTkcpIHtcbiAgICAgICAgLy9rZWVwIHRoaXMgTE9BRElORyB0aWxlIGFueSBsb2FkZWQgdGlsZXMgbGF0ZXIgaW4gdGhlIGNoYWluIGFyZVxuICAgICAgICAvL29sZGVyIHRoYW4gdGhpcyB0aWxlLCBzbyB3ZSdyZSBzdGlsbCBpbnRlcmVzdGVkIGluIHRoZSByZXF1ZXN0XG4gICAgICAgIHByZXYgPSB0aWxlO1xuICAgICAgfSBlbHNlIGlmICh0aWxlLmdldFN0YXRlKCkgPT0gVGlsZVN0YXRlLklETEUpIHtcbiAgICAgICAgLy90aGUgaGVhZCBvZiB0aGUgbGlzdCBpcyB0aGUgbW9zdCBjdXJyZW50IHRpbGUsIHdlIGRvbid0IG5lZWRcbiAgICAgICAgLy90byBzdGFydCBhbnkgb3RoZXIgcmVxdWVzdHMgZm9yIHRoaXMgY2hhaW5cbiAgICAgICAgcHJldi5pbnRlcmltVGlsZSA9IHRpbGUuaW50ZXJpbVRpbGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcmV2ID0gdGlsZTtcbiAgICAgIH1cbiAgICAgIHRpbGUgPSBwcmV2LmludGVyaW1UaWxlO1xuICAgIH0gd2hpbGUgKHRpbGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHRpbGUgY29vcmRpbmF0ZSBmb3IgdGhpcyB0aWxlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IFRoZSB0aWxlIGNvb3JkaW5hdGUuXG4gICAqIEBhcGlcbiAgICovXG4gIFRpbGUucHJvdG90eXBlLmdldFRpbGVDb29yZCA9IGZ1bmN0aW9uIGdldFRpbGVDb29yZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMudGlsZUNvb3JkO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtUaWxlU3RhdGV9IFN0YXRlLlxuICAgKi9cbiAgVGlsZS5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbiBnZXRTdGF0ZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHN0YXRlIG9mIHRoaXMgdGlsZS4gSWYgeW91IHdyaXRlIHlvdXIgb3duIHtAbGluayBtb2R1bGU6b2wvVGlsZX5Mb2FkRnVuY3Rpb24gdGlsZUxvYWRGdW5jdGlvbn0gLFxuICAgKiBpdCBpcyBpbXBvcnRhbnQgdG8gc2V0IHRoZSBzdGF0ZSBjb3JyZWN0bHkgdG8ge0BsaW5rIG1vZHVsZTpvbC9UaWxlU3RhdGV+RVJST1J9XG4gICAqIHdoZW4gdGhlIHRpbGUgY2Fubm90IGJlIGxvYWRlZC4gT3RoZXJ3aXNlIHRoZSB0aWxlIGNhbm5vdCBiZSByZW1vdmVkIGZyb21cbiAgICogdGhlIHRpbGUgcXVldWUgYW5kIHdpbGwgYmxvY2sgb3RoZXIgcmVxdWVzdHMuXG4gICAqIEBwYXJhbSB7VGlsZVN0YXRlfSBzdGF0ZSBTdGF0ZS5cbiAgICogQGFwaVxuICAgKi9cbiAgVGlsZS5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiBzZXRTdGF0ZSAoc3RhdGUpIHtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIExvYWQgdGhlIGltYWdlIG9yIHJldHJ5IGlmIGxvYWRpbmcgcHJldmlvdXNseSBmYWlsZWQuXG4gICAqIExvYWRpbmcgaXMgdGFrZW4gY2FyZSBvZiBieSB0aGUgdGlsZSBxdWV1ZSwgYW5kIGNhbGxpbmcgdGhpcyBtZXRob2QgaXNcbiAgICogb25seSBuZWVkZWQgZm9yIHByZWxvYWRpbmcgb3IgZm9yIHJlbG9hZGluZyBpbiBjYXNlIG9mIGFuIGVycm9yLlxuICAgKiBAYWJzdHJhY3RcbiAgICogQGFwaVxuICAgKi9cbiAgVGlsZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQgKCkge307XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYWxwaGEgdmFsdWUgZm9yIHJlbmRlcmluZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIEFuIGlkIGZvciB0aGUgcmVuZGVyZXIuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lIFRoZSByZW5kZXIgZnJhbWUgdGltZS5cbiAgICogQHJldHVybiB7bnVtYmVyfSBBIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEuXG4gICAqL1xuICBUaWxlLnByb3RvdHlwZS5nZXRBbHBoYSA9IGZ1bmN0aW9uIGdldEFscGhhIChpZCwgdGltZSkge1xuICAgIGlmICghdGhpcy50cmFuc2l0aW9uXykge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgdmFyIHN0YXJ0ID0gdGhpcy50cmFuc2l0aW9uU3RhcnRzX1tpZF07XG4gICAgaWYgKCFzdGFydCkge1xuICAgICAgc3RhcnQgPSB0aW1lO1xuICAgICAgdGhpcy50cmFuc2l0aW9uU3RhcnRzX1tpZF0gPSBzdGFydDtcbiAgICB9IGVsc2UgaWYgKHN0YXJ0ID09PSAtMSkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgdmFyIGRlbHRhID0gdGltZSAtIHN0YXJ0ICsgKDEwMDAgLyA2MCk7IC8vIGF2b2lkIHJlbmRlcmluZyBhdCAwXG4gICAgaWYgKGRlbHRhID49IHRoaXMudHJhbnNpdGlvbl8pIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICByZXR1cm4gZWFzZUluKGRlbHRhIC8gdGhpcy50cmFuc2l0aW9uXyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIERldGVybWluZSBpZiBhIHRpbGUgaXMgaW4gYW4gYWxwaGEgdHJhbnNpdGlvbi4gIEEgdGlsZSBpcyBjb25zaWRlcmVkIGluXG4gICAqIHRyYW5zaXRpb24gaWYgdGlsZS5nZXRBbHBoYSgpIGhhcyBub3QgeWV0IGJlZW4gY2FsbGVkIG9yIGhhcyBiZWVuIGNhbGxlZFxuICAgKiBhbmQgcmV0dXJuZWQgMS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIEFuIGlkIGZvciB0aGUgcmVuZGVyZXIuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB0aWxlIGlzIGluIHRyYW5zaXRpb24uXG4gICAqL1xuICBUaWxlLnByb3RvdHlwZS5pblRyYW5zaXRpb24gPSBmdW5jdGlvbiBpblRyYW5zaXRpb24gKGlkKSB7XG4gICAgaWYgKCF0aGlzLnRyYW5zaXRpb25fKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRyYW5zaXRpb25TdGFydHNfW2lkXSAhPT0gLTE7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1hcmsgYSB0cmFuc2l0aW9uIGFzIGNvbXBsZXRlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgQW4gaWQgZm9yIHRoZSByZW5kZXJlci5cbiAgICovXG4gIFRpbGUucHJvdG90eXBlLmVuZFRyYW5zaXRpb24gPSBmdW5jdGlvbiBlbmRUcmFuc2l0aW9uIChpZCkge1xuICAgIGlmICh0aGlzLnRyYW5zaXRpb25fKSB7XG4gICAgICB0aGlzLnRyYW5zaXRpb25TdGFydHNfW2lkXSA9IC0xO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gVGlsZTtcbn0oRXZlbnRUYXJnZXQpKTtcblxuXG5leHBvcnQgZGVmYXVsdCBUaWxlO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9JbWFnZVRpbGVcbiAqL1xuaW1wb3J0IFRpbGUgZnJvbSAnLi9UaWxlLmpzJztcbmltcG9ydCBUaWxlU3RhdGUgZnJvbSAnLi9UaWxlU3RhdGUuanMnO1xuaW1wb3J0IHtjcmVhdGVDYW52YXNDb250ZXh0MkR9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7bGlzdGVuT25jZSwgdW5saXN0ZW5CeUtleX0gZnJvbSAnLi9ldmVudHMuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuXG5cbnZhciBJbWFnZVRpbGUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChUaWxlKSB7XG4gIGZ1bmN0aW9uIEltYWdlVGlsZSh0aWxlQ29vcmQsIHN0YXRlLCBzcmMsIGNyb3NzT3JpZ2luLCB0aWxlTG9hZEZ1bmN0aW9uLCBvcHRfb3B0aW9ucykge1xuXG4gICAgVGlsZS5jYWxsKHRoaXMsIHRpbGVDb29yZCwgc3RhdGUsIG9wdF9vcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez9zdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5jcm9zc09yaWdpbl8gPSBjcm9zc09yaWdpbjtcblxuICAgIC8qKlxuICAgICAqIEltYWdlIFVSSVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuc3JjXyA9IHNyYztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5pbWFnZV8gPSBuZXcgSW1hZ2UoKTtcbiAgICBpZiAoY3Jvc3NPcmlnaW4gIT09IG51bGwpIHtcbiAgICAgIHRoaXMuaW1hZ2VfLmNyb3NzT3JpZ2luID0gY3Jvc3NPcmlnaW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pn1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlTGlzdGVuZXJLZXlzXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufVxuICAgICAqL1xuICAgIHRoaXMudGlsZUxvYWRGdW5jdGlvbl8gPSB0aWxlTG9hZEZ1bmN0aW9uO1xuXG4gIH1cblxuICBpZiAoIFRpbGUgKSBJbWFnZVRpbGUuX19wcm90b19fID0gVGlsZTtcbiAgSW1hZ2VUaWxlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFRpbGUgJiYgVGlsZS5wcm90b3R5cGUgKTtcbiAgSW1hZ2VUaWxlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEltYWdlVGlsZTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIEltYWdlVGlsZS5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24gZGlzcG9zZUludGVybmFsICgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZSA9PSBUaWxlU3RhdGUuTE9BRElORykge1xuICAgICAgdGhpcy51bmxpc3RlbkltYWdlXygpO1xuICAgICAgdGhpcy5pbWFnZV8gPSBnZXRCbGFua0ltYWdlKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmludGVyaW1UaWxlKSB7XG4gICAgICB0aGlzLmludGVyaW1UaWxlLmRpc3Bvc2UoKTtcbiAgICB9XG4gICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5BQk9SVDtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICBUaWxlLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSBIVE1MIGltYWdlIGVsZW1lbnQgZm9yIHRoaXMgdGlsZSAobWF5IGJlIGEgQ2FudmFzLCBJbWFnZSwgb3IgVmlkZW8pLlxuICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IEltYWdlLlxuICAgKiBAYXBpXG4gICAqL1xuICBJbWFnZVRpbGUucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gZ2V0SW1hZ2UgKCkge1xuICAgIHJldHVybiB0aGlzLmltYWdlXztcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIEltYWdlVGlsZS5wcm90b3R5cGUuZ2V0S2V5ID0gZnVuY3Rpb24gZ2V0S2V5ICgpIHtcbiAgICByZXR1cm4gdGhpcy5zcmNfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUcmFja3MgbG9hZGluZyBvciByZWFkIGVycm9ycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIEltYWdlVGlsZS5wcm90b3R5cGUuaGFuZGxlSW1hZ2VFcnJvcl8gPSBmdW5jdGlvbiBoYW5kbGVJbWFnZUVycm9yXyAoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5FUlJPUjtcbiAgICB0aGlzLnVubGlzdGVuSW1hZ2VfKCk7XG4gICAgdGhpcy5pbWFnZV8gPSBnZXRCbGFua0ltYWdlKCk7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRyYWNrcyBzdWNjZXNzZnVsIGltYWdlIGxvYWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBJbWFnZVRpbGUucHJvdG90eXBlLmhhbmRsZUltYWdlTG9hZF8gPSBmdW5jdGlvbiBoYW5kbGVJbWFnZUxvYWRfICgpIHtcbiAgICB2YXIgaW1hZ2UgPSAvKiogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR9ICovICh0aGlzLmltYWdlXyk7XG4gICAgaWYgKGltYWdlLm5hdHVyYWxXaWR0aCAmJiBpbWFnZS5uYXR1cmFsSGVpZ2h0KSB7XG4gICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkxPQURFRDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5FTVBUWTtcbiAgICB9XG4gICAgdGhpcy51bmxpc3RlbkltYWdlXygpO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKiBAYXBpXG4gICAqL1xuICBJbWFnZVRpbGUucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiBsb2FkICgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZSA9PSBUaWxlU3RhdGUuRVJST1IpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuSURMRTtcbiAgICAgIHRoaXMuaW1hZ2VfID0gbmV3IEltYWdlKCk7XG4gICAgICBpZiAodGhpcy5jcm9zc09yaWdpbl8gIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5pbWFnZV8uY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luXztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuc3RhdGUgPT0gVGlsZVN0YXRlLklETEUpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuTE9BRElORztcbiAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgdGhpcy5pbWFnZUxpc3RlbmVyS2V5c18gPSBbXG4gICAgICAgIGxpc3Rlbk9uY2UodGhpcy5pbWFnZV8sIEV2ZW50VHlwZS5FUlJPUixcbiAgICAgICAgICB0aGlzLmhhbmRsZUltYWdlRXJyb3JfLCB0aGlzKSxcbiAgICAgICAgbGlzdGVuT25jZSh0aGlzLmltYWdlXywgRXZlbnRUeXBlLkxPQUQsXG4gICAgICAgICAgdGhpcy5oYW5kbGVJbWFnZUxvYWRfLCB0aGlzKVxuICAgICAgXTtcbiAgICAgIHRoaXMudGlsZUxvYWRGdW5jdGlvbl8odGhpcywgdGhpcy5zcmNfKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIERpc2NhcmRzIGV2ZW50IGhhbmRsZXJzIHdoaWNoIGxpc3RlbiBmb3IgbG9hZCBjb21wbGV0aW9uIG9yIGVycm9ycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIEltYWdlVGlsZS5wcm90b3R5cGUudW5saXN0ZW5JbWFnZV8gPSBmdW5jdGlvbiB1bmxpc3RlbkltYWdlXyAoKSB7XG4gICAgdGhpcy5pbWFnZUxpc3RlbmVyS2V5c18uZm9yRWFjaCh1bmxpc3RlbkJ5S2V5KTtcbiAgICB0aGlzLmltYWdlTGlzdGVuZXJLZXlzXyA9IG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIEltYWdlVGlsZTtcbn0oVGlsZSkpO1xuXG5cbi8qKlxuICogR2V0IGEgMS1waXhlbCBibGFuayBpbWFnZS5cbiAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fSBCbGFuayBpbWFnZS5cbiAqL1xuZnVuY3Rpb24gZ2V0QmxhbmtJbWFnZSgpIHtcbiAgdmFyIGN0eCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCgxLCAxKTtcbiAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsMCwwLDApJztcbiAgY3R4LmZpbGxSZWN0KDAsIDAsIDEsIDEpO1xuICByZXR1cm4gY3R4LmNhbnZhcztcbn1cblxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VUaWxlO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbWFnZVRpbGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL1RpbGVDYWNoZVxuICovXG5pbXBvcnQgTFJVQ2FjaGUgZnJvbSAnLi9zdHJ1Y3RzL0xSVUNhY2hlLmpzJztcbmltcG9ydCB7ZnJvbUtleSwgZ2V0S2V5fSBmcm9tICcuL3RpbGVjb29yZC5qcyc7XG5cbnZhciBUaWxlQ2FjaGUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChMUlVDYWNoZSkge1xuICBmdW5jdGlvbiBUaWxlQ2FjaGUob3B0X2hpZ2hXYXRlck1hcmspIHtcblxuICAgIExSVUNhY2hlLmNhbGwodGhpcywgb3B0X2hpZ2hXYXRlck1hcmspO1xuXG4gIH1cblxuICBpZiAoIExSVUNhY2hlICkgVGlsZUNhY2hlLl9fcHJvdG9fXyA9IExSVUNhY2hlO1xuICBUaWxlQ2FjaGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggTFJVQ2FjaGUgJiYgTFJVQ2FjaGUucHJvdG90eXBlICk7XG4gIFRpbGVDYWNoZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUaWxlQ2FjaGU7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHQ+fSB1c2VkVGlsZXMgVXNlZCB0aWxlcy5cbiAgICovXG4gIFRpbGVDYWNoZS5wcm90b3R5cGUuZXhwaXJlQ2FjaGUgPSBmdW5jdGlvbiBleHBpcmVDYWNoZSAodXNlZFRpbGVzKSB7XG4gICAgd2hpbGUgKHRoaXMuY2FuRXhwaXJlQ2FjaGUoKSkge1xuICAgICAgdmFyIHRpbGUgPSB0aGlzLnBlZWtMYXN0KCk7XG4gICAgICB2YXIgektleSA9IHRpbGUudGlsZUNvb3JkWzBdLnRvU3RyaW5nKCk7XG4gICAgICBpZiAoektleSBpbiB1c2VkVGlsZXMgJiYgdXNlZFRpbGVzW3pLZXldLmNvbnRhaW5zKHRpbGUudGlsZUNvb3JkKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucG9wKCkuZGlzcG9zZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUHJ1bmUgYWxsIHRpbGVzIGZyb20gdGhlIGNhY2hlIHRoYXQgZG9uJ3QgaGF2ZSB0aGUgc2FtZSB6IGFzIHRoZSBuZXdlc3QgdGlsZS5cbiAgICovXG4gIFRpbGVDYWNoZS5wcm90b3R5cGUucHJ1bmVFeGNlcHROZXdlc3RaID0gZnVuY3Rpb24gcHJ1bmVFeGNlcHROZXdlc3RaICgpIHtcbiAgICBpZiAodGhpcy5nZXRDb3VudCgpID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBrZXkgPSB0aGlzLnBlZWtGaXJzdEtleSgpO1xuICAgIHZhciB0aWxlQ29vcmQgPSBmcm9tS2V5KGtleSk7XG4gICAgdmFyIHogPSB0aWxlQ29vcmRbMF07XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHRpbGUpIHtcbiAgICAgIGlmICh0aWxlLnRpbGVDb29yZFswXSAhPT0geikge1xuICAgICAgICB0aGlzLnJlbW92ZShnZXRLZXkodGlsZS50aWxlQ29vcmQpKTtcbiAgICAgICAgdGlsZS5kaXNwb3NlKCk7XG4gICAgICB9XG4gICAgfSwgdGhpcyk7XG4gIH07XG5cbiAgcmV0dXJuIFRpbGVDYWNoZTtcbn0oTFJVQ2FjaGUpKTtcblxuXG5leHBvcnQgZGVmYXVsdCBUaWxlQ2FjaGU7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGVDYWNoZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVwcm9qXG4gKi9cbmltcG9ydCB7Y3JlYXRlQ2FudmFzQ29udGV4dDJEfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQge2NvbnRhaW5zQ29vcmRpbmF0ZSwgY3JlYXRlRW1wdHksIGV4dGVuZCwgZ2V0SGVpZ2h0LCBnZXRUb3BMZWZ0LCBnZXRXaWR0aH0gZnJvbSAnLi9leHRlbnQuanMnO1xuaW1wb3J0IHtzb2x2ZUxpbmVhclN5c3RlbX0gZnJvbSAnLi9tYXRoLmpzJztcbmltcG9ydCB7Z2V0UG9pbnRSZXNvbHV0aW9uLCB0cmFuc2Zvcm19IGZyb20gJy4vcHJvai5qcyc7XG5cblxuLyoqXG4gKiBDYWxjdWxhdGVzIGlkZWFsIHJlc29sdXRpb24gdG8gdXNlIGZyb20gdGhlIHNvdXJjZSBpbiBvcmRlciB0byBhY2hpZXZlXG4gKiBwaXhlbCBtYXBwaW5nIGFzIGNsb3NlIGFzIHBvc3NpYmxlIHRvIDE6MSBkdXJpbmcgcmVwcm9qZWN0aW9uLlxuICogVGhlIHJlc29sdXRpb24gaXMgY2FsY3VsYXRlZCByZWdhcmRsZXNzIG9mIHdoYXQgcmVzb2x1dGlvbnNcbiAqIGFyZSBhY3R1YWxseSBhdmFpbGFibGUgaW4gdGhlIGRhdGFzZXQgKFRpbGVHcmlkLCBJbWFnZSwgLi4uKS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHNvdXJjZVByb2ogU291cmNlIHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHRhcmdldFByb2ogVGFyZ2V0IHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSB0YXJnZXRDZW50ZXIgVGFyZ2V0IGNlbnRlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0YXJnZXRSZXNvbHV0aW9uIFRhcmdldCByZXNvbHV0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgYmVzdCByZXNvbHV0aW9uIHRvIHVzZS4gQ2FuIGJlICstSW5maW5pdHksIE5hTiBvciAwLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlU291cmNlUmVzb2x1dGlvbihzb3VyY2VQcm9qLCB0YXJnZXRQcm9qLFxuICB0YXJnZXRDZW50ZXIsIHRhcmdldFJlc29sdXRpb24pIHtcblxuICB2YXIgc291cmNlQ2VudGVyID0gdHJhbnNmb3JtKHRhcmdldENlbnRlciwgdGFyZ2V0UHJvaiwgc291cmNlUHJvaik7XG5cbiAgLy8gY2FsY3VsYXRlIHRoZSBpZGVhbCByZXNvbHV0aW9uIG9mIHRoZSBzb3VyY2UgZGF0YVxuICB2YXIgc291cmNlUmVzb2x1dGlvbiA9IGdldFBvaW50UmVzb2x1dGlvbih0YXJnZXRQcm9qLCB0YXJnZXRSZXNvbHV0aW9uLCB0YXJnZXRDZW50ZXIpO1xuXG4gIHZhciB0YXJnZXRNZXRlcnNQZXJVbml0ID0gdGFyZ2V0UHJvai5nZXRNZXRlcnNQZXJVbml0KCk7XG4gIGlmICh0YXJnZXRNZXRlcnNQZXJVbml0ICE9PSB1bmRlZmluZWQpIHtcbiAgICBzb3VyY2VSZXNvbHV0aW9uICo9IHRhcmdldE1ldGVyc1BlclVuaXQ7XG4gIH1cbiAgdmFyIHNvdXJjZU1ldGVyc1BlclVuaXQgPSBzb3VyY2VQcm9qLmdldE1ldGVyc1BlclVuaXQoKTtcbiAgaWYgKHNvdXJjZU1ldGVyc1BlclVuaXQgIT09IHVuZGVmaW5lZCkge1xuICAgIHNvdXJjZVJlc29sdXRpb24gLz0gc291cmNlTWV0ZXJzUGVyVW5pdDtcbiAgfVxuXG4gIC8vIEJhc2VkIG9uIHRoZSBwcm9qZWN0aW9uIHByb3BlcnRpZXMsIHRoZSBwb2ludCByZXNvbHV0aW9uIGF0IHRoZSBzcGVjaWZpZWRcbiAgLy8gY29vcmRpbmF0ZXMgbWF5IGJlIHNsaWdodGx5IGRpZmZlcmVudC4gV2UgbmVlZCB0byByZXZlcnNlLWNvbXBlbnNhdGUgdGhpc1xuICAvLyBpbiBvcmRlciB0byBhY2hpZXZlIG9wdGltYWwgcmVzdWx0cy5cblxuICB2YXIgc291cmNlRXh0ZW50ID0gc291cmNlUHJvai5nZXRFeHRlbnQoKTtcbiAgaWYgKCFzb3VyY2VFeHRlbnQgfHwgY29udGFpbnNDb29yZGluYXRlKHNvdXJjZUV4dGVudCwgc291cmNlQ2VudGVyKSkge1xuICAgIHZhciBjb21wZW5zYXRpb25GYWN0b3IgPSBnZXRQb2ludFJlc29sdXRpb24oc291cmNlUHJvaiwgc291cmNlUmVzb2x1dGlvbiwgc291cmNlQ2VudGVyKSAvXG4gICAgICAgIHNvdXJjZVJlc29sdXRpb247XG4gICAgaWYgKGlzRmluaXRlKGNvbXBlbnNhdGlvbkZhY3RvcikgJiYgY29tcGVuc2F0aW9uRmFjdG9yID4gMCkge1xuICAgICAgc291cmNlUmVzb2x1dGlvbiAvPSBjb21wZW5zYXRpb25GYWN0b3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHNvdXJjZVJlc29sdXRpb247XG59XG5cblxuLyoqXG4gKiBFbmxhcmdlIHRoZSBjbGlwcGluZyB0cmlhbmdsZSBwb2ludCBieSAxIHBpeGVsIHRvIGVuc3VyZSB0aGUgZWRnZXMgb3ZlcmxhcFxuICogaW4gb3JkZXIgdG8gbWFzayBnYXBzIGNhdXNlZCBieSBhbnRpYWxpYXNpbmcuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGNlbnRyb2lkWCBDZW50cm9pZCBvZiB0aGUgdHJpYW5nbGUgKHggY29vcmRpbmF0ZSBpbiBwaXhlbHMpLlxuICogQHBhcmFtIHtudW1iZXJ9IGNlbnRyb2lkWSBDZW50cm9pZCBvZiB0aGUgdHJpYW5nbGUgKHkgY29vcmRpbmF0ZSBpbiBwaXhlbHMpLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCAoaW4gcGl4ZWxzKS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgKGluIHBpeGVscykuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gTmV3IHBvaW50IDEgcHggZmFydGhlciBmcm9tIHRoZSBjZW50cm9pZC5cbiAqL1xuZnVuY3Rpb24gZW5sYXJnZUNsaXBQb2ludChjZW50cm9pZFgsIGNlbnRyb2lkWSwgeCwgeSkge1xuICB2YXIgZFggPSB4IC0gY2VudHJvaWRYO1xuICB2YXIgZFkgPSB5IC0gY2VudHJvaWRZO1xuICB2YXIgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZFggKiBkWCArIGRZICogZFkpO1xuICByZXR1cm4gW01hdGgucm91bmQoeCArIGRYIC8gZGlzdGFuY2UpLCBNYXRoLnJvdW5kKHkgKyBkWSAvIGRpc3RhbmNlKV07XG59XG5cblxuLyoqXG4gKiBSZW5kZXJzIHRoZSBzb3VyY2UgZGF0YSBpbnRvIG5ldyBjYW52YXMgYmFzZWQgb24gdGhlIHRyaWFuZ3VsYXRpb24uXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIFdpZHRoIG9mIHRoZSBjYW52YXMuXG4gKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IEhlaWdodCBvZiB0aGUgY2FudmFzLlxuICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gKiBAcGFyYW0ge251bWJlcn0gc291cmNlUmVzb2x1dGlvbiBTb3VyY2UgcmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBzb3VyY2VFeHRlbnQgRXh0ZW50IG9mIHRoZSBkYXRhIHNvdXJjZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0YXJnZXRSZXNvbHV0aW9uIFRhcmdldCByZXNvbHV0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IHRhcmdldEV4dGVudCBUYXJnZXQgZXh0ZW50LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3JlcHJvai9Ucmlhbmd1bGF0aW9uLmpzXCIpLmRlZmF1bHR9IHRyaWFuZ3VsYXRpb25cbiAqIENhbGN1bGF0ZWQgdHJpYW5ndWxhdGlvbi5cbiAqIEBwYXJhbSB7QXJyYXk8e2V4dGVudDogaW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50LFxuICogICAgICAgICAgICAgICAgIGltYWdlOiAoSFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50KX0+fSBzb3VyY2VzXG4gKiBBcnJheSBvZiBzb3VyY2VzLlxuICogQHBhcmFtIHtudW1iZXJ9IGd1dHRlciBHdXR0ZXIgb2YgdGhlIHNvdXJjZXMuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfcmVuZGVyRWRnZXMgUmVuZGVyIHJlcHJvamVjdGlvbiBlZGdlcy5cbiAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fSBDYW52YXMgd2l0aCByZXByb2plY3RlZCBkYXRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyKHdpZHRoLCBoZWlnaHQsIHBpeGVsUmF0aW8sXG4gIHNvdXJjZVJlc29sdXRpb24sIHNvdXJjZUV4dGVudCwgdGFyZ2V0UmVzb2x1dGlvbiwgdGFyZ2V0RXh0ZW50LFxuICB0cmlhbmd1bGF0aW9uLCBzb3VyY2VzLCBndXR0ZXIsIG9wdF9yZW5kZXJFZGdlcykge1xuXG4gIHZhciBjb250ZXh0ID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKE1hdGgucm91bmQocGl4ZWxSYXRpbyAqIHdpZHRoKSxcbiAgICBNYXRoLnJvdW5kKHBpeGVsUmF0aW8gKiBoZWlnaHQpKTtcblxuICBpZiAoc291cmNlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gY29udGV4dC5jYW52YXM7XG4gIH1cblxuICBjb250ZXh0LnNjYWxlKHBpeGVsUmF0aW8sIHBpeGVsUmF0aW8pO1xuXG4gIHZhciBzb3VyY2VEYXRhRXh0ZW50ID0gY3JlYXRlRW1wdHkoKTtcbiAgc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uKHNyYywgaSwgYXJyKSB7XG4gICAgZXh0ZW5kKHNvdXJjZURhdGFFeHRlbnQsIHNyYy5leHRlbnQpO1xuICB9KTtcblxuICB2YXIgY2FudmFzV2lkdGhJblVuaXRzID0gZ2V0V2lkdGgoc291cmNlRGF0YUV4dGVudCk7XG4gIHZhciBjYW52YXNIZWlnaHRJblVuaXRzID0gZ2V0SGVpZ2h0KHNvdXJjZURhdGFFeHRlbnQpO1xuICB2YXIgc3RpdGNoQ29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRChcbiAgICBNYXRoLnJvdW5kKHBpeGVsUmF0aW8gKiBjYW52YXNXaWR0aEluVW5pdHMgLyBzb3VyY2VSZXNvbHV0aW9uKSxcbiAgICBNYXRoLnJvdW5kKHBpeGVsUmF0aW8gKiBjYW52YXNIZWlnaHRJblVuaXRzIC8gc291cmNlUmVzb2x1dGlvbikpO1xuXG4gIHZhciBzdGl0Y2hTY2FsZSA9IHBpeGVsUmF0aW8gLyBzb3VyY2VSZXNvbHV0aW9uO1xuXG4gIHNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbihzcmMsIGksIGFycikge1xuICAgIHZhciB4UG9zID0gc3JjLmV4dGVudFswXSAtIHNvdXJjZURhdGFFeHRlbnRbMF07XG4gICAgdmFyIHlQb3MgPSAtKHNyYy5leHRlbnRbM10gLSBzb3VyY2VEYXRhRXh0ZW50WzNdKTtcbiAgICB2YXIgc3JjV2lkdGggPSBnZXRXaWR0aChzcmMuZXh0ZW50KTtcbiAgICB2YXIgc3JjSGVpZ2h0ID0gZ2V0SGVpZ2h0KHNyYy5leHRlbnQpO1xuXG4gICAgc3RpdGNoQ29udGV4dC5kcmF3SW1hZ2UoXG4gICAgICBzcmMuaW1hZ2UsXG4gICAgICBndXR0ZXIsIGd1dHRlcixcbiAgICAgIHNyYy5pbWFnZS53aWR0aCAtIDIgKiBndXR0ZXIsIHNyYy5pbWFnZS5oZWlnaHQgLSAyICogZ3V0dGVyLFxuICAgICAgeFBvcyAqIHN0aXRjaFNjYWxlLCB5UG9zICogc3RpdGNoU2NhbGUsXG4gICAgICBzcmNXaWR0aCAqIHN0aXRjaFNjYWxlLCBzcmNIZWlnaHQgKiBzdGl0Y2hTY2FsZSk7XG4gIH0pO1xuXG4gIHZhciB0YXJnZXRUb3BMZWZ0ID0gZ2V0VG9wTGVmdCh0YXJnZXRFeHRlbnQpO1xuXG4gIHRyaWFuZ3VsYXRpb24uZ2V0VHJpYW5nbGVzKCkuZm9yRWFjaChmdW5jdGlvbih0cmlhbmdsZSwgaSwgYXJyKSB7XG4gICAgLyogQ2FsY3VsYXRlIGFmZmluZSB0cmFuc2Zvcm0gKHNyYyAtPiBkc3QpXG4gICAgICogUmVzdWx0aW5nIG1hdHJpeCBjYW4gYmUgdXNlZCB0byB0cmFuc2Zvcm0gY29vcmRpbmF0ZVxuICAgICAqIGZyb20gYHNvdXJjZVByb2plY3Rpb25gIHRvIGRlc3RpbmF0aW9uIHBpeGVscy5cbiAgICAgKlxuICAgICAqIFRvIG9wdGltaXplIG51bWJlciBvZiBjb250ZXh0IGNhbGxzIGFuZCBpbmNyZWFzZSBudW1lcmljYWwgc3RhYmlsaXR5LFxuICAgICAqIHdlIGFsc28gZG8gdGhlIGZvbGxvd2luZyBvcGVyYXRpb25zOlxuICAgICAqIHRyYW5zKC10b3BMZWZ0RXh0ZW50Q29ybmVyKSwgc2NhbGUoMSAvIHRhcmdldFJlc29sdXRpb24pLCBzY2FsZSgxLCAtMSlcbiAgICAgKiBoZXJlIGJlZm9yZSBzb2x2aW5nIHRoZSBsaW5lYXIgc3lzdGVtIHNvIFt1aSwgdmldIGFyZSBwaXhlbCBjb29yZGluYXRlcy5cbiAgICAgKlxuICAgICAqIFNyYyBwb2ludHM6IHhpLCB5aVxuICAgICAqIERzdCBwb2ludHM6IHVpLCB2aVxuICAgICAqIEFmZmluZSBjb2VmZmljaWVudHM6IGFpalxuICAgICAqXG4gICAgICogfCB4MCB5MCAxICAwICAwIDAgfCAgIHxhMDB8ICAgfHUwfFxuICAgICAqIHwgeDEgeTEgMSAgMCAgMCAwIHwgICB8YTAxfCAgIHx1MXxcbiAgICAgKiB8IHgyIHkyIDEgIDAgIDAgMCB8IHggfGEwMnwgPSB8dTJ8XG4gICAgICogfCAgMCAgMCAwIHgwIHkwIDEgfCAgIHxhMTB8ICAgfHYwfFxuICAgICAqIHwgIDAgIDAgMCB4MSB5MSAxIHwgICB8YTExfCAgIHx2MXxcbiAgICAgKiB8ICAwICAwIDAgeDIgeTIgMSB8ICAgfGExMnwgICB8djJ8XG4gICAgICovXG4gICAgdmFyIHNvdXJjZSA9IHRyaWFuZ2xlLnNvdXJjZTtcbiAgICB2YXIgdGFyZ2V0ID0gdHJpYW5nbGUudGFyZ2V0O1xuICAgIHZhciB4MCA9IHNvdXJjZVswXVswXSwgeTAgPSBzb3VyY2VbMF1bMV07XG4gICAgdmFyIHgxID0gc291cmNlWzFdWzBdLCB5MSA9IHNvdXJjZVsxXVsxXTtcbiAgICB2YXIgeDIgPSBzb3VyY2VbMl1bMF0sIHkyID0gc291cmNlWzJdWzFdO1xuICAgIHZhciB1MCA9ICh0YXJnZXRbMF1bMF0gLSB0YXJnZXRUb3BMZWZ0WzBdKSAvIHRhcmdldFJlc29sdXRpb247XG4gICAgdmFyIHYwID0gLSh0YXJnZXRbMF1bMV0gLSB0YXJnZXRUb3BMZWZ0WzFdKSAvIHRhcmdldFJlc29sdXRpb247XG4gICAgdmFyIHUxID0gKHRhcmdldFsxXVswXSAtIHRhcmdldFRvcExlZnRbMF0pIC8gdGFyZ2V0UmVzb2x1dGlvbjtcbiAgICB2YXIgdjEgPSAtKHRhcmdldFsxXVsxXSAtIHRhcmdldFRvcExlZnRbMV0pIC8gdGFyZ2V0UmVzb2x1dGlvbjtcbiAgICB2YXIgdTIgPSAodGFyZ2V0WzJdWzBdIC0gdGFyZ2V0VG9wTGVmdFswXSkgLyB0YXJnZXRSZXNvbHV0aW9uO1xuICAgIHZhciB2MiA9IC0odGFyZ2V0WzJdWzFdIC0gdGFyZ2V0VG9wTGVmdFsxXSkgLyB0YXJnZXRSZXNvbHV0aW9uO1xuXG4gICAgLy8gU2hpZnQgYWxsIHRoZSBzb3VyY2UgcG9pbnRzIHRvIGltcHJvdmUgbnVtZXJpY2FsIHN0YWJpbGl0eVxuICAgIC8vIG9mIGFsbCB0aGUgc3Vic2VxdWVudCBjYWxjdWxhdGlvbnMuIFRoZSBbeDAsIHkwXSBpcyB1c2VkIGhlcmUuXG4gICAgLy8gVGhpcyBpcyBhbHNvIHVzZWQgdG8gc2ltcGxpZnkgdGhlIGxpbmVhciBzeXN0ZW0uXG4gICAgdmFyIHNvdXJjZU51bWVyaWNhbFNoaWZ0WCA9IHgwO1xuICAgIHZhciBzb3VyY2VOdW1lcmljYWxTaGlmdFkgPSB5MDtcbiAgICB4MCA9IDA7XG4gICAgeTAgPSAwO1xuICAgIHgxIC09IHNvdXJjZU51bWVyaWNhbFNoaWZ0WDtcbiAgICB5MSAtPSBzb3VyY2VOdW1lcmljYWxTaGlmdFk7XG4gICAgeDIgLT0gc291cmNlTnVtZXJpY2FsU2hpZnRYO1xuICAgIHkyIC09IHNvdXJjZU51bWVyaWNhbFNoaWZ0WTtcblxuICAgIHZhciBhdWdtZW50ZWRNYXRyaXggPSBbXG4gICAgICBbeDEsIHkxLCAwLCAwLCB1MSAtIHUwXSxcbiAgICAgIFt4MiwgeTIsIDAsIDAsIHUyIC0gdTBdLFxuICAgICAgWzAsIDAsIHgxLCB5MSwgdjEgLSB2MF0sXG4gICAgICBbMCwgMCwgeDIsIHkyLCB2MiAtIHYwXVxuICAgIF07XG4gICAgdmFyIGFmZmluZUNvZWZzID0gc29sdmVMaW5lYXJTeXN0ZW0oYXVnbWVudGVkTWF0cml4KTtcbiAgICBpZiAoIWFmZmluZUNvZWZzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29udGV4dC5zYXZlKCk7XG4gICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICB2YXIgY2VudHJvaWRYID0gKHUwICsgdTEgKyB1MikgLyAzO1xuICAgIHZhciBjZW50cm9pZFkgPSAodjAgKyB2MSArIHYyKSAvIDM7XG4gICAgdmFyIHAwID0gZW5sYXJnZUNsaXBQb2ludChjZW50cm9pZFgsIGNlbnRyb2lkWSwgdTAsIHYwKTtcbiAgICB2YXIgcDEgPSBlbmxhcmdlQ2xpcFBvaW50KGNlbnRyb2lkWCwgY2VudHJvaWRZLCB1MSwgdjEpO1xuICAgIHZhciBwMiA9IGVubGFyZ2VDbGlwUG9pbnQoY2VudHJvaWRYLCBjZW50cm9pZFksIHUyLCB2Mik7XG5cbiAgICBjb250ZXh0Lm1vdmVUbyhwMVswXSwgcDFbMV0pO1xuICAgIGNvbnRleHQubGluZVRvKHAwWzBdLCBwMFsxXSk7XG4gICAgY29udGV4dC5saW5lVG8ocDJbMF0sIHAyWzFdKTtcbiAgICBjb250ZXh0LmNsaXAoKTtcblxuICAgIGNvbnRleHQudHJhbnNmb3JtKFxuICAgICAgYWZmaW5lQ29lZnNbMF0sIGFmZmluZUNvZWZzWzJdLCBhZmZpbmVDb2Vmc1sxXSwgYWZmaW5lQ29lZnNbM10sIHUwLCB2MCk7XG5cbiAgICBjb250ZXh0LnRyYW5zbGF0ZShzb3VyY2VEYXRhRXh0ZW50WzBdIC0gc291cmNlTnVtZXJpY2FsU2hpZnRYLFxuICAgICAgc291cmNlRGF0YUV4dGVudFszXSAtIHNvdXJjZU51bWVyaWNhbFNoaWZ0WSk7XG5cbiAgICBjb250ZXh0LnNjYWxlKHNvdXJjZVJlc29sdXRpb24gLyBwaXhlbFJhdGlvLFxuICAgICAgLXNvdXJjZVJlc29sdXRpb24gLyBwaXhlbFJhdGlvKTtcblxuICAgIGNvbnRleHQuZHJhd0ltYWdlKHN0aXRjaENvbnRleHQuY2FudmFzLCAwLCAwKTtcbiAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgfSk7XG5cbiAgaWYgKG9wdF9yZW5kZXJFZGdlcykge1xuICAgIGNvbnRleHQuc2F2ZSgpO1xuXG4gICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICdibGFjayc7XG4gICAgY29udGV4dC5saW5lV2lkdGggPSAxO1xuXG4gICAgdHJpYW5ndWxhdGlvbi5nZXRUcmlhbmdsZXMoKS5mb3JFYWNoKGZ1bmN0aW9uKHRyaWFuZ2xlLCBpLCBhcnIpIHtcbiAgICAgIHZhciB0YXJnZXQgPSB0cmlhbmdsZS50YXJnZXQ7XG4gICAgICB2YXIgdTAgPSAodGFyZ2V0WzBdWzBdIC0gdGFyZ2V0VG9wTGVmdFswXSkgLyB0YXJnZXRSZXNvbHV0aW9uO1xuICAgICAgdmFyIHYwID0gLSh0YXJnZXRbMF1bMV0gLSB0YXJnZXRUb3BMZWZ0WzFdKSAvIHRhcmdldFJlc29sdXRpb247XG4gICAgICB2YXIgdTEgPSAodGFyZ2V0WzFdWzBdIC0gdGFyZ2V0VG9wTGVmdFswXSkgLyB0YXJnZXRSZXNvbHV0aW9uO1xuICAgICAgdmFyIHYxID0gLSh0YXJnZXRbMV1bMV0gLSB0YXJnZXRUb3BMZWZ0WzFdKSAvIHRhcmdldFJlc29sdXRpb247XG4gICAgICB2YXIgdTIgPSAodGFyZ2V0WzJdWzBdIC0gdGFyZ2V0VG9wTGVmdFswXSkgLyB0YXJnZXRSZXNvbHV0aW9uO1xuICAgICAgdmFyIHYyID0gLSh0YXJnZXRbMl1bMV0gLSB0YXJnZXRUb3BMZWZ0WzFdKSAvIHRhcmdldFJlc29sdXRpb247XG5cbiAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICBjb250ZXh0Lm1vdmVUbyh1MSwgdjEpO1xuICAgICAgY29udGV4dC5saW5lVG8odTAsIHYwKTtcbiAgICAgIGNvbnRleHQubGluZVRvKHUyLCB2Mik7XG4gICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICB9KTtcblxuICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICB9XG4gIHJldHVybiBjb250ZXh0LmNhbnZhcztcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVwcm9qLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZXByb2ovVHJpYW5ndWxhdGlvblxuICovXG5pbXBvcnQge2JvdW5kaW5nRXh0ZW50LCBjcmVhdGVFbXB0eSwgZXh0ZW5kQ29vcmRpbmF0ZSwgZ2V0Qm90dG9tTGVmdCwgZ2V0Qm90dG9tUmlnaHQsXG4gIGdldFRvcExlZnQsIGdldFRvcFJpZ2h0LCBnZXRXaWR0aCwgaW50ZXJzZWN0c30gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7bW9kdWxvfSBmcm9tICcuLi9tYXRoLmpzJztcbmltcG9ydCB7Z2V0VHJhbnNmb3JtfSBmcm9tICcuLi9wcm9qLmpzJztcblxuXG4vKipcbiAqIFNpbmdsZSB0cmlhbmdsZTsgY29uc2lzdHMgb2YgMyBzb3VyY2UgcG9pbnRzIGFuZCAzIHRhcmdldCBwb2ludHMuXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBUcmlhbmdsZVxuICogQHByb3BlcnR5IHtBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBzb3VyY2VcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gdGFyZ2V0XG4gKi9cblxuXG4vKipcbiAqIE1heGltdW0gbnVtYmVyIG9mIHN1YmRpdmlzaW9uIHN0ZXBzIGR1cmluZyByYXN0ZXIgcmVwcm9qZWN0aW9uIHRyaWFuZ3VsYXRpb24uXG4gKiBQcmV2ZW50cyBoaWdoIG1lbW9yeSB1c2FnZSBhbmQgbGFyZ2UgbnVtYmVyIG9mIHByb2o0IGNhbGxzIChmb3IgY2VydGFpblxuICogdHJhbnNmb3JtYXRpb25zIGFuZCBhcmVhcykuIEF0IG1vc3QgYDIqKDJedGhpcylgIHRyaWFuZ2xlcyBhcmUgY3JlYXRlZCBmb3JcbiAqIGVhY2ggdHJpYW5ndWxhdGVkIGV4dGVudCAodGlsZS9pbWFnZSkuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG52YXIgTUFYX1NVQkRJVklTSU9OID0gMTA7XG5cblxuLyoqXG4gKiBNYXhpbXVtIGFsbG93ZWQgc2l6ZSBvZiB0cmlhbmdsZSByZWxhdGl2ZSB0byB3b3JsZCB3aWR0aC4gV2hlbiB0cmFuc2Zvcm1pbmdcbiAqIGNvcm5lcnMgb2Ygd29ybGQgZXh0ZW50IGJldHdlZW4gY2VydGFpbiBwcm9qZWN0aW9ucywgdGhlIHJlc3VsdGluZ1xuICogdHJpYW5ndWxhdGlvbiBzZWVtcyB0byBoYXZlIHplcm8gZXJyb3IgYW5kIG5vIHN1YmRpdmlzaW9uIGlzIHBlcmZvcm1lZC4gSWZcbiAqIHRoZSB0cmlhbmdsZSB3aWR0aCBpcyBtb3JlIHRoYW4gdGhpcyAocmVsYXRpdmUgdG8gd29ybGQgd2lkdGg7IDAtMSksXG4gKiBzdWJkaXZpc29uIGlzIGZvcmNlZCAodXAgdG8gYE1BWF9TVUJESVZJU0lPTmApLiBEZWZhdWx0IGlzIGAwLjI1YC5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbnZhciBNQVhfVFJJQU5HTEVfV0lEVEggPSAwLjI1O1xuXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ2xhc3MgY29udGFpbmluZyB0cmlhbmd1bGF0aW9uIG9mIHRoZSBnaXZlbiB0YXJnZXQgZXh0ZW50LlxuICogVXNlZCBmb3IgZGV0ZXJtaW5pbmcgc291cmNlIGRhdGEgYW5kIHRoZSByZXByb2plY3Rpb24gaXRzZWxmLlxuICovXG52YXIgVHJpYW5ndWxhdGlvbiA9IGZ1bmN0aW9uIFRyaWFuZ3VsYXRpb24oc291cmNlUHJvaiwgdGFyZ2V0UHJvaiwgdGFyZ2V0RXh0ZW50LCBtYXhTb3VyY2VFeHRlbnQsIGVycm9yVGhyZXNob2xkKSB7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuc291cmNlUHJval8gPSBzb3VyY2VQcm9qO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnRhcmdldFByb2pfID0gdGFyZ2V0UHJvajtcblxuICAvKiogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSAqL1xuICB2YXIgdHJhbnNmb3JtSW52Q2FjaGUgPSB7fTtcbiAgdmFyIHRyYW5zZm9ybUludiA9IGdldFRyYW5zZm9ybSh0aGlzLnRhcmdldFByb2pfLCB0aGlzLnNvdXJjZVByb2pfKTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGMgQSBjb29yZGluYXRlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFRyYW5zZm9ybWVkIGNvb3JkaW5hdGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnRyYW5zZm9ybUludl8gPSBmdW5jdGlvbihjKSB7XG4gICAgdmFyIGtleSA9IGNbMF0gKyAnLycgKyBjWzFdO1xuICAgIGlmICghdHJhbnNmb3JtSW52Q2FjaGVba2V5XSkge1xuICAgICAgdHJhbnNmb3JtSW52Q2FjaGVba2V5XSA9IHRyYW5zZm9ybUludihjKTtcbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zZm9ybUludkNhY2hlW2tleV07XG4gIH07XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5tYXhTb3VyY2VFeHRlbnRfID0gbWF4U291cmNlRXh0ZW50O1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5lcnJvclRocmVzaG9sZFNxdWFyZWRfID0gZXJyb3JUaHJlc2hvbGQgKiBlcnJvclRocmVzaG9sZDtcblxuICAvKipcbiAgICogQHR5cGUge0FycmF5PFRyaWFuZ2xlPn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMudHJpYW5nbGVzXyA9IFtdO1xuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgdGhhdCB0aGUgdHJpYW5ndWxhdGlvbiBjcm9zc2VzIGVkZ2Ugb2YgdGhlIHNvdXJjZSBwcm9qZWN0aW9uLlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMud3JhcHNYSW5Tb3VyY2VfID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5jYW5XcmFwWEluU291cmNlXyA9IHRoaXMuc291cmNlUHJval8uY2FuV3JhcFgoKSAmJlxuICAgICAgISFtYXhTb3VyY2VFeHRlbnQgJiZcbiAgICAgICEhdGhpcy5zb3VyY2VQcm9qXy5nZXRFeHRlbnQoKSAmJlxuICAgICAgKGdldFdpZHRoKG1heFNvdXJjZUV4dGVudCkgPT0gZ2V0V2lkdGgodGhpcy5zb3VyY2VQcm9qXy5nZXRFeHRlbnQoKSkpO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7P251bWJlcn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuc291cmNlV29ybGRXaWR0aF8gPSB0aGlzLnNvdXJjZVByb2pfLmdldEV4dGVudCgpID9cbiAgICBnZXRXaWR0aCh0aGlzLnNvdXJjZVByb2pfLmdldEV4dGVudCgpKSA6IG51bGw7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHs/bnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy50YXJnZXRXb3JsZFdpZHRoXyA9IHRoaXMudGFyZ2V0UHJval8uZ2V0RXh0ZW50KCkgP1xuICAgIGdldFdpZHRoKHRoaXMudGFyZ2V0UHJval8uZ2V0RXh0ZW50KCkpIDogbnVsbDtcblxuICB2YXIgZGVzdGluYXRpb25Ub3BMZWZ0ID0gZ2V0VG9wTGVmdCh0YXJnZXRFeHRlbnQpO1xuICB2YXIgZGVzdGluYXRpb25Ub3BSaWdodCA9IGdldFRvcFJpZ2h0KHRhcmdldEV4dGVudCk7XG4gIHZhciBkZXN0aW5hdGlvbkJvdHRvbVJpZ2h0ID0gZ2V0Qm90dG9tUmlnaHQodGFyZ2V0RXh0ZW50KTtcbiAgdmFyIGRlc3RpbmF0aW9uQm90dG9tTGVmdCA9IGdldEJvdHRvbUxlZnQodGFyZ2V0RXh0ZW50KTtcbiAgdmFyIHNvdXJjZVRvcExlZnQgPSB0aGlzLnRyYW5zZm9ybUludl8oZGVzdGluYXRpb25Ub3BMZWZ0KTtcbiAgdmFyIHNvdXJjZVRvcFJpZ2h0ID0gdGhpcy50cmFuc2Zvcm1JbnZfKGRlc3RpbmF0aW9uVG9wUmlnaHQpO1xuICB2YXIgc291cmNlQm90dG9tUmlnaHQgPSB0aGlzLnRyYW5zZm9ybUludl8oZGVzdGluYXRpb25Cb3R0b21SaWdodCk7XG4gIHZhciBzb3VyY2VCb3R0b21MZWZ0ID0gdGhpcy50cmFuc2Zvcm1JbnZfKGRlc3RpbmF0aW9uQm90dG9tTGVmdCk7XG5cbiAgdGhpcy5hZGRRdWFkXyhcbiAgICBkZXN0aW5hdGlvblRvcExlZnQsIGRlc3RpbmF0aW9uVG9wUmlnaHQsXG4gICAgZGVzdGluYXRpb25Cb3R0b21SaWdodCwgZGVzdGluYXRpb25Cb3R0b21MZWZ0LFxuICAgIHNvdXJjZVRvcExlZnQsIHNvdXJjZVRvcFJpZ2h0LCBzb3VyY2VCb3R0b21SaWdodCwgc291cmNlQm90dG9tTGVmdCxcbiAgICBNQVhfU1VCRElWSVNJT04pO1xuXG4gIGlmICh0aGlzLndyYXBzWEluU291cmNlXykge1xuICAgIHZhciBsZWZ0Qm91bmQgPSBJbmZpbml0eTtcbiAgICB0aGlzLnRyaWFuZ2xlc18uZm9yRWFjaChmdW5jdGlvbih0cmlhbmdsZSwgaSwgYXJyKSB7XG4gICAgICBsZWZ0Qm91bmQgPSBNYXRoLm1pbihsZWZ0Qm91bmQsXG4gICAgICAgIHRyaWFuZ2xlLnNvdXJjZVswXVswXSwgdHJpYW5nbGUuc291cmNlWzFdWzBdLCB0cmlhbmdsZS5zb3VyY2VbMl1bMF0pO1xuICAgIH0pO1xuXG4gICAgLy8gU2hpZnQgdHJpYW5nbGVzIHRvIGJlIGFzIGNsb3NlIHRvIGBsZWZ0Qm91bmRgIGFzIHBvc3NpYmxlXG4gICAgLy8gKGlmIHRoZSBkaXN0YW5jZSBpcyBtb3JlIHRoYW4gYHdvcmxkV2lkdGggLyAyYCBpdCBjYW4gYmUgY2xvc2VyLlxuICAgIHRoaXMudHJpYW5nbGVzXy5mb3JFYWNoKGZ1bmN0aW9uKHRyaWFuZ2xlKSB7XG4gICAgICBpZiAoTWF0aC5tYXgodHJpYW5nbGUuc291cmNlWzBdWzBdLCB0cmlhbmdsZS5zb3VyY2VbMV1bMF0sXG4gICAgICAgIHRyaWFuZ2xlLnNvdXJjZVsyXVswXSkgLSBsZWZ0Qm91bmQgPiB0aGlzLnNvdXJjZVdvcmxkV2lkdGhfIC8gMikge1xuICAgICAgICB2YXIgbmV3VHJpYW5nbGUgPSBbW3RyaWFuZ2xlLnNvdXJjZVswXVswXSwgdHJpYW5nbGUuc291cmNlWzBdWzFdXSxcbiAgICAgICAgICBbdHJpYW5nbGUuc291cmNlWzFdWzBdLCB0cmlhbmdsZS5zb3VyY2VbMV1bMV1dLFxuICAgICAgICAgIFt0cmlhbmdsZS5zb3VyY2VbMl1bMF0sIHRyaWFuZ2xlLnNvdXJjZVsyXVsxXV1dO1xuICAgICAgICBpZiAoKG5ld1RyaWFuZ2xlWzBdWzBdIC0gbGVmdEJvdW5kKSA+IHRoaXMuc291cmNlV29ybGRXaWR0aF8gLyAyKSB7XG4gICAgICAgICAgbmV3VHJpYW5nbGVbMF1bMF0gLT0gdGhpcy5zb3VyY2VXb3JsZFdpZHRoXztcbiAgICAgICAgfVxuICAgICAgICBpZiAoKG5ld1RyaWFuZ2xlWzFdWzBdIC0gbGVmdEJvdW5kKSA+IHRoaXMuc291cmNlV29ybGRXaWR0aF8gLyAyKSB7XG4gICAgICAgICAgbmV3VHJpYW5nbGVbMV1bMF0gLT0gdGhpcy5zb3VyY2VXb3JsZFdpZHRoXztcbiAgICAgICAgfVxuICAgICAgICBpZiAoKG5ld1RyaWFuZ2xlWzJdWzBdIC0gbGVmdEJvdW5kKSA+IHRoaXMuc291cmNlV29ybGRXaWR0aF8gLyAyKSB7XG4gICAgICAgICAgbmV3VHJpYW5nbGVbMl1bMF0gLT0gdGhpcy5zb3VyY2VXb3JsZFdpZHRoXztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJhcmVseSAoaWYgdGhlIGV4dGVudCBjb250YWlucyBib3RoIHRoZSBkYXRlbGluZSBhbmQgcHJpbWUgbWVyaWRpYW4pXG4gICAgICAgIC8vIHRoZSBzaGlmdCBjYW4gaW4gdHVybiBicmVhayBzb21lIHRyaWFuZ2xlcy5cbiAgICAgICAgLy8gRGV0ZWN0IHRoaXMgaGVyZSBhbmQgZG9uJ3Qgc2hpZnQgaW4gc3VjaCBjYXNlcy5cbiAgICAgICAgdmFyIG1pblggPSBNYXRoLm1pbihcbiAgICAgICAgICBuZXdUcmlhbmdsZVswXVswXSwgbmV3VHJpYW5nbGVbMV1bMF0sIG5ld1RyaWFuZ2xlWzJdWzBdKTtcbiAgICAgICAgdmFyIG1heFggPSBNYXRoLm1heChcbiAgICAgICAgICBuZXdUcmlhbmdsZVswXVswXSwgbmV3VHJpYW5nbGVbMV1bMF0sIG5ld1RyaWFuZ2xlWzJdWzBdKTtcbiAgICAgICAgaWYgKChtYXhYIC0gbWluWCkgPCB0aGlzLnNvdXJjZVdvcmxkV2lkdGhfIC8gMikge1xuICAgICAgICAgIHRyaWFuZ2xlLnNvdXJjZSA9IG5ld1RyaWFuZ2xlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIHRyYW5zZm9ybUludkNhY2hlID0ge307XG59O1xuXG4vKipcbiAqIEFkZHMgdHJpYW5nbGUgdG8gdGhlIHRyaWFuZ3VsYXRpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYSBUaGUgdGFyZ2V0IGEgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBiIFRoZSB0YXJnZXQgYiBjb29yZGluYXRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGMgVGhlIHRhcmdldCBjIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYVNyYyBUaGUgc291cmNlIGEgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBiU3JjIFRoZSBzb3VyY2UgYiBjb29yZGluYXRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNTcmMgVGhlIHNvdXJjZSBjIGNvb3JkaW5hdGUuXG4gKiBAcHJpdmF0ZVxuICovXG5Ucmlhbmd1bGF0aW9uLnByb3RvdHlwZS5hZGRUcmlhbmdsZV8gPSBmdW5jdGlvbiBhZGRUcmlhbmdsZV8gKGEsIGIsIGMsIGFTcmMsIGJTcmMsIGNTcmMpIHtcbiAgdGhpcy50cmlhbmdsZXNfLnB1c2goe1xuICAgIHNvdXJjZTogW2FTcmMsIGJTcmMsIGNTcmNdLFxuICAgIHRhcmdldDogW2EsIGIsIGNdXG4gIH0pO1xufTtcblxuLyoqXG4gKiBBZGRzIHF1YWQgKHBvaW50cyBpbiBjbG9jay13aXNlIG9yZGVyKSB0byB0aGUgdHJpYW5ndWxhdGlvblxuICogKGFuZCByZXByb2plY3RzIHRoZSB2ZXJ0aWNlcykgaWYgdmFsaWQuXG4gKiBQZXJmb3JtcyBxdWFkIHN1YmRpdmlzaW9uIGlmIG5lZWRlZCB0byBpbmNyZWFzZSBwcmVjaXNpb24uXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGEgVGhlIHRhcmdldCBhIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYiBUaGUgdGFyZ2V0IGIgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjIFRoZSB0YXJnZXQgYyBjb29yZGluYXRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGQgVGhlIHRhcmdldCBkIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYVNyYyBUaGUgc291cmNlIGEgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBiU3JjIFRoZSBzb3VyY2UgYiBjb29yZGluYXRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNTcmMgVGhlIHNvdXJjZSBjIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZFNyYyBUaGUgc291cmNlIGQgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhTdWJkaXZpc2lvbiBNYXhpbWFsIGFsbG93ZWQgc3ViZGl2aXNpb24gb2YgdGhlIHF1YWQuXG4gKiBAcHJpdmF0ZVxuICovXG5Ucmlhbmd1bGF0aW9uLnByb3RvdHlwZS5hZGRRdWFkXyA9IGZ1bmN0aW9uIGFkZFF1YWRfIChhLCBiLCBjLCBkLCBhU3JjLCBiU3JjLCBjU3JjLCBkU3JjLCBtYXhTdWJkaXZpc2lvbikge1xuXG4gIHZhciBzb3VyY2VRdWFkRXh0ZW50ID0gYm91bmRpbmdFeHRlbnQoW2FTcmMsIGJTcmMsIGNTcmMsIGRTcmNdKTtcbiAgdmFyIHNvdXJjZUNvdmVyYWdlWCA9IHRoaXMuc291cmNlV29ybGRXaWR0aF8gP1xuICAgIGdldFdpZHRoKHNvdXJjZVF1YWRFeHRlbnQpIC8gdGhpcy5zb3VyY2VXb3JsZFdpZHRoXyA6IG51bGw7XG4gIHZhciBzb3VyY2VXb3JsZFdpZHRoID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLnNvdXJjZVdvcmxkV2lkdGhfKTtcblxuICAvLyB3aGVuIHRoZSBxdWFkIGlzIHdyYXBwZWQgaW4gdGhlIHNvdXJjZSBwcm9qZWN0aW9uXG4gIC8vIGl0IGNvdmVycyBtb3N0IG9mIHRoZSBwcm9qZWN0aW9uIGV4dGVudCwgYnV0IG5vdCBmdWxseVxuICB2YXIgd3JhcHNYID0gdGhpcy5zb3VyY2VQcm9qXy5jYW5XcmFwWCgpICYmXG4gICAgICAgICAgICAgICBzb3VyY2VDb3ZlcmFnZVggPiAwLjUgJiYgc291cmNlQ292ZXJhZ2VYIDwgMTtcblxuICB2YXIgbmVlZHNTdWJkaXZpc2lvbiA9IGZhbHNlO1xuXG4gIGlmIChtYXhTdWJkaXZpc2lvbiA+IDApIHtcbiAgICBpZiAodGhpcy50YXJnZXRQcm9qXy5pc0dsb2JhbCgpICYmIHRoaXMudGFyZ2V0V29ybGRXaWR0aF8pIHtcbiAgICAgIHZhciB0YXJnZXRRdWFkRXh0ZW50ID0gYm91bmRpbmdFeHRlbnQoW2EsIGIsIGMsIGRdKTtcbiAgICAgIHZhciB0YXJnZXRDb3ZlcmFnZVggPSBnZXRXaWR0aCh0YXJnZXRRdWFkRXh0ZW50KSAvIHRoaXMudGFyZ2V0V29ybGRXaWR0aF87XG4gICAgICBuZWVkc1N1YmRpdmlzaW9uID0gdGFyZ2V0Q292ZXJhZ2VYID4gTUFYX1RSSUFOR0xFX1dJRFRIIHx8XG4gICAgICAgIG5lZWRzU3ViZGl2aXNpb247XG4gICAgfVxuICAgIGlmICghd3JhcHNYICYmIHRoaXMuc291cmNlUHJval8uaXNHbG9iYWwoKSAmJiBzb3VyY2VDb3ZlcmFnZVgpIHtcbiAgICAgIG5lZWRzU3ViZGl2aXNpb24gPSBzb3VyY2VDb3ZlcmFnZVggPiBNQVhfVFJJQU5HTEVfV0lEVEggfHxcbiAgICAgICAgICBuZWVkc1N1YmRpdmlzaW9uO1xuICAgIH1cbiAgfVxuXG4gIGlmICghbmVlZHNTdWJkaXZpc2lvbiAmJiB0aGlzLm1heFNvdXJjZUV4dGVudF8pIHtcbiAgICBpZiAoIWludGVyc2VjdHMoc291cmNlUXVhZEV4dGVudCwgdGhpcy5tYXhTb3VyY2VFeHRlbnRfKSkge1xuICAgICAgLy8gd2hvbGUgcXVhZCBvdXRzaWRlIHNvdXJjZSBwcm9qZWN0aW9uIGV4dGVudCAtPiBpZ25vcmVcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBpZiAoIW5lZWRzU3ViZGl2aXNpb24pIHtcbiAgICBpZiAoIWlzRmluaXRlKGFTcmNbMF0pIHx8ICFpc0Zpbml0ZShhU3JjWzFdKSB8fFxuICAgICAgICAhaXNGaW5pdGUoYlNyY1swXSkgfHwgIWlzRmluaXRlKGJTcmNbMV0pIHx8XG4gICAgICAgICFpc0Zpbml0ZShjU3JjWzBdKSB8fCAhaXNGaW5pdGUoY1NyY1sxXSkgfHxcbiAgICAgICAgIWlzRmluaXRlKGRTcmNbMF0pIHx8ICFpc0Zpbml0ZShkU3JjWzFdKSkge1xuICAgICAgaWYgKG1heFN1YmRpdmlzaW9uID4gMCkge1xuICAgICAgICBuZWVkc1N1YmRpdmlzaW9uID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAobWF4U3ViZGl2aXNpb24gPiAwKSB7XG4gICAgaWYgKCFuZWVkc1N1YmRpdmlzaW9uKSB7XG4gICAgICB2YXIgY2VudGVyID0gWyhhWzBdICsgY1swXSkgLyAyLCAoYVsxXSArIGNbMV0pIC8gMl07XG4gICAgICB2YXIgY2VudGVyU3JjID0gdGhpcy50cmFuc2Zvcm1JbnZfKGNlbnRlcik7XG5cbiAgICAgIHZhciBkeDtcbiAgICAgIGlmICh3cmFwc1gpIHtcbiAgICAgICAgdmFyIGNlbnRlclNyY0VzdGltWCA9XG4gICAgICAgICAgICAobW9kdWxvKGFTcmNbMF0sIHNvdXJjZVdvcmxkV2lkdGgpICtcbiAgICAgICAgICAgICBtb2R1bG8oY1NyY1swXSwgc291cmNlV29ybGRXaWR0aCkpIC8gMjtcbiAgICAgICAgZHggPSBjZW50ZXJTcmNFc3RpbVggLVxuICAgICAgICAgICAgbW9kdWxvKGNlbnRlclNyY1swXSwgc291cmNlV29ybGRXaWR0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkeCA9IChhU3JjWzBdICsgY1NyY1swXSkgLyAyIC0gY2VudGVyU3JjWzBdO1xuICAgICAgfVxuICAgICAgdmFyIGR5ID0gKGFTcmNbMV0gKyBjU3JjWzFdKSAvIDIgLSBjZW50ZXJTcmNbMV07XG4gICAgICB2YXIgY2VudGVyU3JjRXJyb3JTcXVhcmVkID0gZHggKiBkeCArIGR5ICogZHk7XG4gICAgICBuZWVkc1N1YmRpdmlzaW9uID0gY2VudGVyU3JjRXJyb3JTcXVhcmVkID4gdGhpcy5lcnJvclRocmVzaG9sZFNxdWFyZWRfO1xuICAgIH1cbiAgICBpZiAobmVlZHNTdWJkaXZpc2lvbikge1xuICAgICAgaWYgKE1hdGguYWJzKGFbMF0gLSBjWzBdKSA8PSBNYXRoLmFicyhhWzFdIC0gY1sxXSkpIHtcbiAgICAgICAgLy8gc3BsaXQgaG9yaXpvbnRhbGx5ICh0b3AgJiBib3R0b20pXG4gICAgICAgIHZhciBiYyA9IFsoYlswXSArIGNbMF0pIC8gMiwgKGJbMV0gKyBjWzFdKSAvIDJdO1xuICAgICAgICB2YXIgYmNTcmMgPSB0aGlzLnRyYW5zZm9ybUludl8oYmMpO1xuICAgICAgICB2YXIgZGEgPSBbKGRbMF0gKyBhWzBdKSAvIDIsIChkWzFdICsgYVsxXSkgLyAyXTtcbiAgICAgICAgdmFyIGRhU3JjID0gdGhpcy50cmFuc2Zvcm1JbnZfKGRhKTtcblxuICAgICAgICB0aGlzLmFkZFF1YWRfKFxuICAgICAgICAgIGEsIGIsIGJjLCBkYSwgYVNyYywgYlNyYywgYmNTcmMsIGRhU3JjLCBtYXhTdWJkaXZpc2lvbiAtIDEpO1xuICAgICAgICB0aGlzLmFkZFF1YWRfKFxuICAgICAgICAgIGRhLCBiYywgYywgZCwgZGFTcmMsIGJjU3JjLCBjU3JjLCBkU3JjLCBtYXhTdWJkaXZpc2lvbiAtIDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gc3BsaXQgdmVydGljYWxseSAobGVmdCAmIHJpZ2h0KVxuICAgICAgICB2YXIgYWIgPSBbKGFbMF0gKyBiWzBdKSAvIDIsIChhWzFdICsgYlsxXSkgLyAyXTtcbiAgICAgICAgdmFyIGFiU3JjID0gdGhpcy50cmFuc2Zvcm1JbnZfKGFiKTtcbiAgICAgICAgdmFyIGNkID0gWyhjWzBdICsgZFswXSkgLyAyLCAoY1sxXSArIGRbMV0pIC8gMl07XG4gICAgICAgIHZhciBjZFNyYyA9IHRoaXMudHJhbnNmb3JtSW52XyhjZCk7XG5cbiAgICAgICAgdGhpcy5hZGRRdWFkXyhcbiAgICAgICAgICBhLCBhYiwgY2QsIGQsIGFTcmMsIGFiU3JjLCBjZFNyYywgZFNyYywgbWF4U3ViZGl2aXNpb24gLSAxKTtcbiAgICAgICAgdGhpcy5hZGRRdWFkXyhcbiAgICAgICAgICBhYiwgYiwgYywgY2QsIGFiU3JjLCBiU3JjLCBjU3JjLCBjZFNyYywgbWF4U3ViZGl2aXNpb24gLSAxKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBpZiAod3JhcHNYKSB7XG4gICAgaWYgKCF0aGlzLmNhbldyYXBYSW5Tb3VyY2VfKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMud3JhcHNYSW5Tb3VyY2VfID0gdHJ1ZTtcbiAgfVxuXG4gIHRoaXMuYWRkVHJpYW5nbGVfKGEsIGMsIGQsIGFTcmMsIGNTcmMsIGRTcmMpO1xuICB0aGlzLmFkZFRyaWFuZ2xlXyhhLCBiLCBjLCBhU3JjLCBiU3JjLCBjU3JjKTtcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlcyBleHRlbnQgb2YgdGhlICdzb3VyY2UnIGNvb3JkaW5hdGVzIGZyb20gYWxsIHRoZSB0cmlhbmdsZXMuXG4gKlxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gQ2FsY3VsYXRlZCBleHRlbnQuXG4gKi9cblRyaWFuZ3VsYXRpb24ucHJvdG90eXBlLmNhbGN1bGF0ZVNvdXJjZUV4dGVudCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVNvdXJjZUV4dGVudCAoKSB7XG4gIHZhciBleHRlbnQgPSBjcmVhdGVFbXB0eSgpO1xuXG4gIHRoaXMudHJpYW5nbGVzXy5mb3JFYWNoKGZ1bmN0aW9uKHRyaWFuZ2xlLCBpLCBhcnIpIHtcbiAgICB2YXIgc3JjID0gdHJpYW5nbGUuc291cmNlO1xuICAgIGV4dGVuZENvb3JkaW5hdGUoZXh0ZW50LCBzcmNbMF0pO1xuICAgIGV4dGVuZENvb3JkaW5hdGUoZXh0ZW50LCBzcmNbMV0pO1xuICAgIGV4dGVuZENvb3JkaW5hdGUoZXh0ZW50LCBzcmNbMl0pO1xuICB9KTtcblxuICByZXR1cm4gZXh0ZW50O1xufTtcblxuLyoqXG4gKiBAcmV0dXJuIHtBcnJheTxUcmlhbmdsZT59IEFycmF5IG9mIHRoZSBjYWxjdWxhdGVkIHRyaWFuZ2xlcy5cbiAqL1xuVHJpYW5ndWxhdGlvbi5wcm90b3R5cGUuZ2V0VHJpYW5nbGVzID0gZnVuY3Rpb24gZ2V0VHJpYW5nbGVzICgpIHtcbiAgcmV0dXJuIHRoaXMudHJpYW5nbGVzXztcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRyaWFuZ3VsYXRpb247XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRyaWFuZ3VsYXRpb24uanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlcHJvai9UaWxlXG4gKi9cbmltcG9ydCB7RVJST1JfVEhSRVNIT0xEfSBmcm9tICcuL2NvbW1vbi5qcyc7XG5cbmltcG9ydCBUaWxlIGZyb20gJy4uL1RpbGUuanMnO1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuLi9UaWxlU3RhdGUuanMnO1xuaW1wb3J0IHtsaXN0ZW4sIHVubGlzdGVuQnlLZXl9IGZyb20gJy4uL2V2ZW50cy5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IHtnZXRBcmVhLCBnZXRDZW50ZXIsIGdldEludGVyc2VjdGlvbn0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7Y2xhbXB9IGZyb20gJy4uL21hdGguanMnO1xuaW1wb3J0IHtjYWxjdWxhdGVTb3VyY2VSZXNvbHV0aW9uLCByZW5kZXIgYXMgcmVuZGVyUmVwcm9qZWN0ZWR9IGZyb20gJy4uL3JlcHJvai5qcyc7XG5pbXBvcnQgVHJpYW5ndWxhdGlvbiBmcm9tICcuL1RyaWFuZ3VsYXRpb24uanMnO1xuXG5cbi8qKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKG51bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcikgOiBpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLmRlZmF1bHR9IEZ1bmN0aW9uVHlwZVxuICovXG5cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDbGFzcyBlbmNhcHN1bGF0aW5nIHNpbmdsZSByZXByb2plY3RlZCB0aWxlLlxuICogU2VlIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1RpbGVJbWFnZX5UaWxlSW1hZ2V9LlxuICpcbiAqL1xudmFyIFJlcHJvalRpbGUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChUaWxlKSB7XG4gIGZ1bmN0aW9uIFJlcHJvalRpbGUoXG4gICAgc291cmNlUHJvaixcbiAgICBzb3VyY2VUaWxlR3JpZCxcbiAgICB0YXJnZXRQcm9qLFxuICAgIHRhcmdldFRpbGVHcmlkLFxuICAgIHRpbGVDb29yZCxcbiAgICB3cmFwcGVkVGlsZUNvb3JkLFxuICAgIHBpeGVsUmF0aW8sXG4gICAgZ3V0dGVyLFxuICAgIGdldFRpbGVGdW5jdGlvbixcbiAgICBvcHRfZXJyb3JUaHJlc2hvbGQsXG4gICAgb3B0X3JlbmRlckVkZ2VzXG4gICkge1xuICAgIFRpbGUuY2FsbCh0aGlzLCB0aWxlQ29vcmQsIFRpbGVTdGF0ZS5JRExFKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJFZGdlc18gPSBvcHRfcmVuZGVyRWRnZXMgIT09IHVuZGVmaW5lZCA/IG9wdF9yZW5kZXJFZGdlcyA6IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucGl4ZWxSYXRpb18gPSBwaXhlbFJhdGlvO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZ3V0dGVyXyA9IGd1dHRlcjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMuY2FudmFzXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMuc291cmNlVGlsZUdyaWRfID0gc291cmNlVGlsZUdyaWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMudGFyZ2V0VGlsZUdyaWRfID0gdGFyZ2V0VGlsZUdyaWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfVxuICAgICAqL1xuICAgIHRoaXMud3JhcHBlZFRpbGVDb29yZF8gPSB3cmFwcGVkVGlsZUNvb3JkID8gd3JhcHBlZFRpbGVDb29yZCA6IHRpbGVDb29yZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFBcnJheTxpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAqL1xuICAgIHRoaXMuc291cmNlVGlsZXNfID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pn1cbiAgICAgKi9cbiAgICB0aGlzLnNvdXJjZXNMaXN0ZW5lcktleXNfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnNvdXJjZVpfID0gMDtcblxuICAgIHZhciB0YXJnZXRFeHRlbnQgPSB0YXJnZXRUaWxlR3JpZC5nZXRUaWxlQ29vcmRFeHRlbnQodGhpcy53cmFwcGVkVGlsZUNvb3JkXyk7XG4gICAgdmFyIG1heFRhcmdldEV4dGVudCA9IHRoaXMudGFyZ2V0VGlsZUdyaWRfLmdldEV4dGVudCgpO1xuICAgIHZhciBtYXhTb3VyY2VFeHRlbnQgPSB0aGlzLnNvdXJjZVRpbGVHcmlkXy5nZXRFeHRlbnQoKTtcblxuICAgIHZhciBsaW1pdGVkVGFyZ2V0RXh0ZW50ID0gbWF4VGFyZ2V0RXh0ZW50ID9cbiAgICAgIGdldEludGVyc2VjdGlvbih0YXJnZXRFeHRlbnQsIG1heFRhcmdldEV4dGVudCkgOiB0YXJnZXRFeHRlbnQ7XG5cbiAgICBpZiAoZ2V0QXJlYShsaW1pdGVkVGFyZ2V0RXh0ZW50KSA9PT0gMCkge1xuICAgICAgLy8gVGlsZSBpcyBjb21wbGV0ZWx5IG91dHNpZGUgcmFuZ2UgLT4gRU1QVFlcbiAgICAgIC8vIFRPRE86IGlzIGl0IGFjdHVhbGx5IGNvcnJlY3QgdGhhdCB0aGUgc291cmNlIGV2ZW4gY3JlYXRlcyB0aGUgdGlsZSA/XG4gICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkVNUFRZO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBzb3VyY2VQcm9qRXh0ZW50ID0gc291cmNlUHJvai5nZXRFeHRlbnQoKTtcbiAgICBpZiAoc291cmNlUHJvakV4dGVudCkge1xuICAgICAgaWYgKCFtYXhTb3VyY2VFeHRlbnQpIHtcbiAgICAgICAgbWF4U291cmNlRXh0ZW50ID0gc291cmNlUHJvakV4dGVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1heFNvdXJjZUV4dGVudCA9IGdldEludGVyc2VjdGlvbihtYXhTb3VyY2VFeHRlbnQsIHNvdXJjZVByb2pFeHRlbnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciB0YXJnZXRSZXNvbHV0aW9uID0gdGFyZ2V0VGlsZUdyaWQuZ2V0UmVzb2x1dGlvbihcbiAgICAgIHRoaXMud3JhcHBlZFRpbGVDb29yZF9bMF0pO1xuXG4gICAgdmFyIHRhcmdldENlbnRlciA9IGdldENlbnRlcihsaW1pdGVkVGFyZ2V0RXh0ZW50KTtcbiAgICB2YXIgc291cmNlUmVzb2x1dGlvbiA9IGNhbGN1bGF0ZVNvdXJjZVJlc29sdXRpb24oXG4gICAgICBzb3VyY2VQcm9qLCB0YXJnZXRQcm9qLCB0YXJnZXRDZW50ZXIsIHRhcmdldFJlc29sdXRpb24pO1xuXG4gICAgaWYgKCFpc0Zpbml0ZShzb3VyY2VSZXNvbHV0aW9uKSB8fCBzb3VyY2VSZXNvbHV0aW9uIDw9IDApIHtcbiAgICAgIC8vIGludmFsaWQgc291cmNlUmVzb2x1dGlvbiAtPiBFTVBUWVxuICAgICAgLy8gcHJvYmFibHkgZWRnZXMgb2YgdGhlIHByb2plY3Rpb25zIHdoZW4gbm8gZXh0ZW50IGlzIGRlZmluZWRcbiAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuRU1QVFk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGVycm9yVGhyZXNob2xkSW5QaXhlbHMgPSBvcHRfZXJyb3JUaHJlc2hvbGQgIT09IHVuZGVmaW5lZCA/XG4gICAgICBvcHRfZXJyb3JUaHJlc2hvbGQgOiBFUlJPUl9USFJFU0hPTEQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshaW1wb3J0KFwiLi9Ucmlhbmd1bGF0aW9uLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy50cmlhbmd1bGF0aW9uXyA9IG5ldyBUcmlhbmd1bGF0aW9uKFxuICAgICAgc291cmNlUHJvaiwgdGFyZ2V0UHJvaiwgbGltaXRlZFRhcmdldEV4dGVudCwgbWF4U291cmNlRXh0ZW50LFxuICAgICAgc291cmNlUmVzb2x1dGlvbiAqIGVycm9yVGhyZXNob2xkSW5QaXhlbHMpO1xuXG4gICAgaWYgKHRoaXMudHJpYW5ndWxhdGlvbl8uZ2V0VHJpYW5nbGVzKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBubyB2YWxpZCB0cmlhbmdsZXMgLT4gRU1QVFlcbiAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuRU1QVFk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zb3VyY2VaXyA9IHNvdXJjZVRpbGVHcmlkLmdldFpGb3JSZXNvbHV0aW9uKHNvdXJjZVJlc29sdXRpb24pO1xuICAgIHZhciBzb3VyY2VFeHRlbnQgPSB0aGlzLnRyaWFuZ3VsYXRpb25fLmNhbGN1bGF0ZVNvdXJjZUV4dGVudCgpO1xuXG4gICAgaWYgKG1heFNvdXJjZUV4dGVudCkge1xuICAgICAgaWYgKHNvdXJjZVByb2ouY2FuV3JhcFgoKSkge1xuICAgICAgICBzb3VyY2VFeHRlbnRbMV0gPSBjbGFtcChcbiAgICAgICAgICBzb3VyY2VFeHRlbnRbMV0sIG1heFNvdXJjZUV4dGVudFsxXSwgbWF4U291cmNlRXh0ZW50WzNdKTtcbiAgICAgICAgc291cmNlRXh0ZW50WzNdID0gY2xhbXAoXG4gICAgICAgICAgc291cmNlRXh0ZW50WzNdLCBtYXhTb3VyY2VFeHRlbnRbMV0sIG1heFNvdXJjZUV4dGVudFszXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3VyY2VFeHRlbnQgPSBnZXRJbnRlcnNlY3Rpb24oc291cmNlRXh0ZW50LCBtYXhTb3VyY2VFeHRlbnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghZ2V0QXJlYShzb3VyY2VFeHRlbnQpKSB7XG4gICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkVNUFRZO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgc291cmNlUmFuZ2UgPSBzb3VyY2VUaWxlR3JpZC5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKFxuICAgICAgICBzb3VyY2VFeHRlbnQsIHRoaXMuc291cmNlWl8pO1xuXG4gICAgICBmb3IgKHZhciBzcmNYID0gc291cmNlUmFuZ2UubWluWDsgc3JjWCA8PSBzb3VyY2VSYW5nZS5tYXhYOyBzcmNYKyspIHtcbiAgICAgICAgZm9yICh2YXIgc3JjWSA9IHNvdXJjZVJhbmdlLm1pblk7IHNyY1kgPD0gc291cmNlUmFuZ2UubWF4WTsgc3JjWSsrKSB7XG4gICAgICAgICAgdmFyIHRpbGUgPSBnZXRUaWxlRnVuY3Rpb24odGhpcy5zb3VyY2VaXywgc3JjWCwgc3JjWSwgcGl4ZWxSYXRpbyk7XG4gICAgICAgICAgaWYgKHRpbGUpIHtcbiAgICAgICAgICAgIHRoaXMuc291cmNlVGlsZXNfLnB1c2godGlsZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnNvdXJjZVRpbGVzXy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5FTVBUWTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoIFRpbGUgKSBSZXByb2pUaWxlLl9fcHJvdG9fXyA9IFRpbGU7XG4gIFJlcHJvalRpbGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggVGlsZSAmJiBUaWxlLnByb3RvdHlwZSApO1xuICBSZXByb2pUaWxlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJlcHJvalRpbGU7XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBSZXByb2pUaWxlLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbiBkaXNwb3NlSW50ZXJuYWwgKCkge1xuICAgIGlmICh0aGlzLnN0YXRlID09IFRpbGVTdGF0ZS5MT0FESU5HKSB7XG4gICAgICB0aGlzLnVubGlzdGVuU291cmNlc18oKTtcbiAgICB9XG4gICAgVGlsZS5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgSFRNTCBDYW52YXMgZWxlbWVudCBmb3IgdGhpcyB0aWxlLlxuICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gQ2FudmFzLlxuICAgKi9cbiAgUmVwcm9qVGlsZS5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiBnZXRJbWFnZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FudmFzXztcbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIFJlcHJvalRpbGUucHJvdG90eXBlLnJlcHJvamVjdF8gPSBmdW5jdGlvbiByZXByb2plY3RfICgpIHtcbiAgICB2YXIgc291cmNlcyA9IFtdO1xuICAgIHRoaXMuc291cmNlVGlsZXNfLmZvckVhY2goZnVuY3Rpb24odGlsZSwgaSwgYXJyKSB7XG4gICAgICBpZiAodGlsZSAmJiB0aWxlLmdldFN0YXRlKCkgPT0gVGlsZVN0YXRlLkxPQURFRCkge1xuICAgICAgICBzb3VyY2VzLnB1c2goe1xuICAgICAgICAgIGV4dGVudDogdGhpcy5zb3VyY2VUaWxlR3JpZF8uZ2V0VGlsZUNvb3JkRXh0ZW50KHRpbGUudGlsZUNvb3JkKSxcbiAgICAgICAgICBpbWFnZTogdGlsZS5nZXRJbWFnZSgpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0uYmluZCh0aGlzKSk7XG4gICAgdGhpcy5zb3VyY2VUaWxlc18ubGVuZ3RoID0gMDtcblxuICAgIGlmIChzb3VyY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5FUlJPUjtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHogPSB0aGlzLndyYXBwZWRUaWxlQ29vcmRfWzBdO1xuICAgICAgdmFyIHNpemUgPSB0aGlzLnRhcmdldFRpbGVHcmlkXy5nZXRUaWxlU2l6ZSh6KTtcbiAgICAgIHZhciB3aWR0aCA9IHR5cGVvZiBzaXplID09PSAnbnVtYmVyJyA/IHNpemUgOiBzaXplWzBdO1xuICAgICAgdmFyIGhlaWdodCA9IHR5cGVvZiBzaXplID09PSAnbnVtYmVyJyA/IHNpemUgOiBzaXplWzFdO1xuICAgICAgdmFyIHRhcmdldFJlc29sdXRpb24gPSB0aGlzLnRhcmdldFRpbGVHcmlkXy5nZXRSZXNvbHV0aW9uKHopO1xuICAgICAgdmFyIHNvdXJjZVJlc29sdXRpb24gPSB0aGlzLnNvdXJjZVRpbGVHcmlkXy5nZXRSZXNvbHV0aW9uKHRoaXMuc291cmNlWl8pO1xuXG4gICAgICB2YXIgdGFyZ2V0RXh0ZW50ID0gdGhpcy50YXJnZXRUaWxlR3JpZF8uZ2V0VGlsZUNvb3JkRXh0ZW50KFxuICAgICAgICB0aGlzLndyYXBwZWRUaWxlQ29vcmRfKTtcbiAgICAgIHRoaXMuY2FudmFzXyA9IHJlbmRlclJlcHJvamVjdGVkKHdpZHRoLCBoZWlnaHQsIHRoaXMucGl4ZWxSYXRpb18sXG4gICAgICAgIHNvdXJjZVJlc29sdXRpb24sIHRoaXMuc291cmNlVGlsZUdyaWRfLmdldEV4dGVudCgpLFxuICAgICAgICB0YXJnZXRSZXNvbHV0aW9uLCB0YXJnZXRFeHRlbnQsIHRoaXMudHJpYW5ndWxhdGlvbl8sIHNvdXJjZXMsXG4gICAgICAgIHRoaXMuZ3V0dGVyXywgdGhpcy5yZW5kZXJFZGdlc18pO1xuXG4gICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkxPQURFRDtcbiAgICB9XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBSZXByb2pUaWxlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gbG9hZCAoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT0gVGlsZVN0YXRlLklETEUpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuTE9BRElORztcbiAgICAgIHRoaXMuY2hhbmdlZCgpO1xuXG4gICAgICB2YXIgbGVmdFRvTG9hZCA9IDA7XG5cbiAgICAgIHRoaXMuc291cmNlc0xpc3RlbmVyS2V5c18gPSBbXTtcbiAgICAgIHRoaXMuc291cmNlVGlsZXNfLmZvckVhY2goZnVuY3Rpb24odGlsZSwgaSwgYXJyKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRpbGUuZ2V0U3RhdGUoKTtcbiAgICAgICAgaWYgKHN0YXRlID09IFRpbGVTdGF0ZS5JRExFIHx8IHN0YXRlID09IFRpbGVTdGF0ZS5MT0FESU5HKSB7XG4gICAgICAgICAgbGVmdFRvTG9hZCsrO1xuXG4gICAgICAgICAgdmFyIHNvdXJjZUxpc3RlbktleSA9IGxpc3Rlbih0aWxlLCBFdmVudFR5cGUuQ0hBTkdFLFxuICAgICAgICAgICAgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICB2YXIgc3RhdGUgPSB0aWxlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgIGlmIChzdGF0ZSA9PSBUaWxlU3RhdGUuTE9BREVEIHx8XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID09IFRpbGVTdGF0ZS5FUlJPUiB8fFxuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9PSBUaWxlU3RhdGUuRU1QVFkpIHtcbiAgICAgICAgICAgICAgICB1bmxpc3RlbkJ5S2V5KHNvdXJjZUxpc3RlbktleSk7XG4gICAgICAgICAgICAgICAgbGVmdFRvTG9hZC0tO1xuICAgICAgICAgICAgICAgIGlmIChsZWZ0VG9Mb2FkID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLnVubGlzdGVuU291cmNlc18oKTtcbiAgICAgICAgICAgICAgICAgIHRoaXMucmVwcm9qZWN0XygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgdGhpcy5zb3VyY2VzTGlzdGVuZXJLZXlzXy5wdXNoKHNvdXJjZUxpc3RlbktleSk7XG4gICAgICAgIH1cbiAgICAgIH0uYmluZCh0aGlzKSk7XG5cbiAgICAgIHRoaXMuc291cmNlVGlsZXNfLmZvckVhY2goZnVuY3Rpb24odGlsZSwgaSwgYXJyKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRpbGUuZ2V0U3RhdGUoKTtcbiAgICAgICAgaWYgKHN0YXRlID09IFRpbGVTdGF0ZS5JRExFKSB7XG4gICAgICAgICAgdGlsZS5sb2FkKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAobGVmdFRvTG9hZCA9PT0gMCkge1xuICAgICAgICBzZXRUaW1lb3V0KHRoaXMucmVwcm9qZWN0Xy5iaW5kKHRoaXMpLCAwKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBSZXByb2pUaWxlLnByb3RvdHlwZS51bmxpc3RlblNvdXJjZXNfID0gZnVuY3Rpb24gdW5saXN0ZW5Tb3VyY2VzXyAoKSB7XG4gICAgdGhpcy5zb3VyY2VzTGlzdGVuZXJLZXlzXy5mb3JFYWNoKHVubGlzdGVuQnlLZXkpO1xuICAgIHRoaXMuc291cmNlc0xpc3RlbmVyS2V5c18gPSBudWxsO1xuICB9O1xuXG4gIHJldHVybiBSZXByb2pUaWxlO1xufShUaWxlKSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgUmVwcm9qVGlsZTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvdGlsZWdyaWQvVGlsZUdyaWRcbiAqL1xuaW1wb3J0IHtERUZBVUxUX1RJTEVfU0laRX0gZnJvbSAnLi9jb21tb24uanMnO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuaW1wb3J0IFRpbGVSYW5nZSwge2NyZWF0ZU9yVXBkYXRlIGFzIGNyZWF0ZU9yVXBkYXRlVGlsZVJhbmdlfSBmcm9tICcuLi9UaWxlUmFuZ2UuanMnO1xuaW1wb3J0IHtpc1NvcnRlZCwgbGluZWFyRmluZE5lYXJlc3R9IGZyb20gJy4uL2FycmF5LmpzJztcbmltcG9ydCB7Y3JlYXRlT3JVcGRhdGUsIGdldFRvcExlZnR9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQge2NsYW1wfSBmcm9tICcuLi9tYXRoLmpzJztcbmltcG9ydCB7dG9TaXplfSBmcm9tICcuLi9zaXplLmpzJztcbmltcG9ydCB7Y3JlYXRlT3JVcGRhdGUgYXMgY3JlYXRlT3JVcGRhdGVUaWxlQ29vcmR9IGZyb20gJy4uL3RpbGVjb29yZC5qcyc7XG5cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHR5cGUge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9XG4gKi9cbnZhciB0bXBUaWxlQ29vcmQgPSBbMCwgMCwgMF07XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIEV4dGVudCBmb3IgdGhlIHRpbGUgZ3JpZC4gTm8gdGlsZXMgb3V0c2lkZSB0aGlzXG4gKiBleHRlbnQgd2lsbCBiZSByZXF1ZXN0ZWQgYnkge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVGlsZX0gc291cmNlcy4gV2hlbiBubyBgb3JpZ2luYCBvclxuICogYG9yaWdpbnNgIGFyZSBjb25maWd1cmVkLCB0aGUgYG9yaWdpbmAgd2lsbCBiZSBzZXQgdG8gdGhlIHRvcC1sZWZ0IGNvcm5lciBvZiB0aGUgZXh0ZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ab29tPTBdIE1pbmltdW0gem9vbS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbb3JpZ2luXSBUaGUgdGlsZSBncmlkIG9yaWdpbiwgaS5lLiB3aGVyZSB0aGUgYHhgXG4gKiBhbmQgYHlgIGF4ZXMgbWVldCAoYFt6LCAwLCAwXWApLiBUaWxlIGNvb3JkaW5hdGVzIGluY3JlYXNlIGxlZnQgdG8gcmlnaHQgYW5kIHVwd2FyZHMuIElmIG5vdFxuICogc3BlY2lmaWVkLCBgZXh0ZW50YCBvciBgb3JpZ2luc2AgbXVzdCBiZSBwcm92aWRlZC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gW29yaWdpbnNdIFRpbGUgZ3JpZCBvcmlnaW5zLCBpLmUuIHdoZXJlXG4gKiB0aGUgYHhgIGFuZCBgeWAgYXhlcyBtZWV0IChgW3osIDAsIDBdYCksIGZvciBlYWNoIHpvb20gbGV2ZWwuIElmIGdpdmVuLCB0aGUgYXJyYXkgbGVuZ3RoXG4gKiBzaG91bGQgbWF0Y2ggdGhlIGxlbmd0aCBvZiB0aGUgYHJlc29sdXRpb25zYCBhcnJheSwgaS5lLiBlYWNoIHJlc29sdXRpb24gY2FuIGhhdmUgYSBkaWZmZXJlbnRcbiAqIG9yaWdpbi4gVGlsZSBjb29yZGluYXRlcyBpbmNyZWFzZSBsZWZ0IHRvIHJpZ2h0IGFuZCB1cHdhcmRzLiBJZiBub3Qgc3BlY2lmaWVkLCBgZXh0ZW50YCBvclxuICogYG9yaWdpbmAgbXVzdCBiZSBwcm92aWRlZC5cbiAqIEBwcm9wZXJ0eSB7IUFycmF5PG51bWJlcj59IHJlc29sdXRpb25zIFJlc29sdXRpb25zLiBUaGUgYXJyYXkgaW5kZXggb2YgZWFjaCByZXNvbHV0aW9uIG5lZWRzXG4gKiB0byBtYXRjaCB0aGUgem9vbSBsZXZlbC4gVGhpcyBtZWFucyB0aGF0IGV2ZW4gaWYgYSBgbWluWm9vbWAgaXMgY29uZmlndXJlZCwgdGhlIHJlc29sdXRpb25zXG4gKiBhcnJheSB3aWxsIGhhdmUgYSBsZW5ndGggb2YgYG1heFpvb20gKyAxYC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplPn0gW3NpemVzXSBTaXplcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW3RpbGVTaXplXSBUaWxlIHNpemUuXG4gKiBEZWZhdWx0IGlzIGBbMjU2LCAyNTZdYC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplPn0gW3RpbGVTaXplc10gVGlsZSBzaXplcy4gSWYgZ2l2ZW4sIHRoZSBhcnJheSBsZW5ndGhcbiAqIHNob3VsZCBtYXRjaCB0aGUgbGVuZ3RoIG9mIHRoZSBgcmVzb2x1dGlvbnNgIGFycmF5LCBpLmUuIGVhY2ggcmVzb2x1dGlvbiBjYW4gaGF2ZSBhIGRpZmZlcmVudFxuICogdGlsZSBzaXplLlxuICovXG5cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBCYXNlIGNsYXNzIGZvciBzZXR0aW5nIHRoZSBncmlkIHBhdHRlcm4gZm9yIHNvdXJjZXMgYWNjZXNzaW5nIHRpbGVkLWltYWdlXG4gKiBzZXJ2ZXJzLlxuICogQGFwaVxuICovXG52YXIgVGlsZUdyaWQgPSBmdW5jdGlvbiBUaWxlR3JpZChvcHRpb25zKSB7XG5cbiAgLyoqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHRoaXMubWluWm9vbSA9IG9wdGlvbnMubWluWm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5taW5ab29tIDogMDtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHR5cGUgeyFBcnJheTxudW1iZXI+fVxuICAgKi9cbiAgdGhpcy5yZXNvbHV0aW9uc18gPSBvcHRpb25zLnJlc29sdXRpb25zO1xuICBhc3NlcnQoaXNTb3J0ZWQodGhpcy5yZXNvbHV0aW9uc18sIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYiAtIGE7XG4gIH0sIHRydWUpLCAxNyk7IC8vIGByZXNvbHV0aW9uc2AgbXVzdCBiZSBzb3J0ZWQgaW4gZGVzY2VuZGluZyBvcmRlclxuXG5cbiAgLy8gY2hlY2sgaWYgd2UndmUgZ290IGEgY29uc2lzdGVudCB6b29tIGZhY3RvciBhbmQgb3JpZ2luXG4gIHZhciB6b29tRmFjdG9yO1xuICBpZiAoIW9wdGlvbnMub3JpZ2lucykge1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHRoaXMucmVzb2x1dGlvbnNfLmxlbmd0aCAtIDE7IGkgPCBpaTsgKytpKSB7XG4gICAgICBpZiAoIXpvb21GYWN0b3IpIHtcbiAgICAgICAgem9vbUZhY3RvciA9IHRoaXMucmVzb2x1dGlvbnNfW2ldIC8gdGhpcy5yZXNvbHV0aW9uc19baSArIDFdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMucmVzb2x1dGlvbnNfW2ldIC8gdGhpcy5yZXNvbHV0aW9uc19baSArIDFdICE9PSB6b29tRmFjdG9yKSB7XG4gICAgICAgICAgem9vbUZhY3RvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgKi9cbiAgdGhpcy56b29tRmFjdG9yXyA9IHpvb21GYWN0b3I7XG5cblxuICAvKipcbiAgICogQHByb3RlY3RlZFxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgdGhpcy5tYXhab29tID0gdGhpcy5yZXNvbHV0aW9uc18ubGVuZ3RoIC0gMTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHR5cGUge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX1cbiAgICovXG4gIHRoaXMub3JpZ2luXyA9IG9wdGlvbnMub3JpZ2luICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm9yaWdpbiA6IG51bGw7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fVxuICAgKi9cbiAgdGhpcy5vcmlnaW5zXyA9IG51bGw7XG4gIGlmIChvcHRpb25zLm9yaWdpbnMgIT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXMub3JpZ2luc18gPSBvcHRpb25zLm9yaWdpbnM7XG4gICAgYXNzZXJ0KHRoaXMub3JpZ2luc18ubGVuZ3RoID09IHRoaXMucmVzb2x1dGlvbnNfLmxlbmd0aCxcbiAgICAgIDIwKTsgLy8gTnVtYmVyIG9mIGBvcmlnaW5zYCBhbmQgYHJlc29sdXRpb25zYCBtdXN0IGJlIGVxdWFsXG4gIH1cblxuICB2YXIgZXh0ZW50ID0gb3B0aW9ucy5leHRlbnQ7XG5cbiAgaWYgKGV4dGVudCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAhdGhpcy5vcmlnaW5fICYmICF0aGlzLm9yaWdpbnNfKSB7XG4gICAgdGhpcy5vcmlnaW5fID0gZ2V0VG9wTGVmdChleHRlbnQpO1xuICB9XG5cbiAgYXNzZXJ0KFxuICAgICghdGhpcy5vcmlnaW5fICYmIHRoaXMub3JpZ2luc18pIHx8ICh0aGlzLm9yaWdpbl8gJiYgIXRoaXMub3JpZ2luc18pLFxuICAgIDE4KTsgLy8gRWl0aGVyIGBvcmlnaW5gIG9yIGBvcmlnaW5zYCBtdXN0IGJlIGNvbmZpZ3VyZWQsIG5ldmVyIGJvdGhcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHR5cGUge0FycmF5PG51bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemU+fVxuICAgKi9cbiAgdGhpcy50aWxlU2l6ZXNfID0gbnVsbDtcbiAgaWYgKG9wdGlvbnMudGlsZVNpemVzICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzLnRpbGVTaXplc18gPSBvcHRpb25zLnRpbGVTaXplcztcbiAgICBhc3NlcnQodGhpcy50aWxlU2l6ZXNfLmxlbmd0aCA9PSB0aGlzLnJlc29sdXRpb25zXy5sZW5ndGgsXG4gICAgICAxOSk7IC8vIE51bWJlciBvZiBgdGlsZVNpemVzYCBhbmQgYHJlc29sdXRpb25zYCBtdXN0IGJlIGVxdWFsXG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHR5cGUge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9XG4gICAqL1xuICB0aGlzLnRpbGVTaXplXyA9IG9wdGlvbnMudGlsZVNpemUgIT09IHVuZGVmaW5lZCA/XG4gICAgb3B0aW9ucy50aWxlU2l6ZSA6XG4gICAgIXRoaXMudGlsZVNpemVzXyA/IERFRkFVTFRfVElMRV9TSVpFIDogbnVsbDtcbiAgYXNzZXJ0KFxuICAgICghdGhpcy50aWxlU2l6ZV8gJiYgdGhpcy50aWxlU2l6ZXNfKSB8fFxuICAgICAgKHRoaXMudGlsZVNpemVfICYmICF0aGlzLnRpbGVTaXplc18pLFxuICAgIDIyKTsgLy8gRWl0aGVyIGB0aWxlU2l6ZWAgb3IgYHRpbGVTaXplc2AgbXVzdCBiZSBjb25maWd1cmVkLCBuZXZlciBib3RoXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgKi9cbiAgdGhpcy5leHRlbnRfID0gZXh0ZW50ICE9PSB1bmRlZmluZWQgPyBleHRlbnQgOiBudWxsO1xuXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdD59XG4gICAqL1xuICB0aGlzLmZ1bGxUaWxlUmFuZ2VzXyA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9XG4gICAqL1xuICB0aGlzLnRtcFNpemVfID0gWzAsIDBdO1xuXG4gIGlmIChvcHRpb25zLnNpemVzICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzLmZ1bGxUaWxlUmFuZ2VzXyA9IG9wdGlvbnMuc2l6ZXMubWFwKGZ1bmN0aW9uKHNpemUsIHopIHtcbiAgICAgIHZhciB0aWxlUmFuZ2UgPSBuZXcgVGlsZVJhbmdlKFxuICAgICAgICBNYXRoLm1pbigwLCBzaXplWzBdKSwgTWF0aC5tYXgoc2l6ZVswXSAtIDEsIC0xKSxcbiAgICAgICAgTWF0aC5taW4oMCwgc2l6ZVsxXSksIE1hdGgubWF4KHNpemVbMV0gLSAxLCAtMSkpO1xuICAgICAgcmV0dXJuIHRpbGVSYW5nZTtcbiAgICB9LCB0aGlzKTtcbiAgfSBlbHNlIGlmIChleHRlbnQpIHtcbiAgICB0aGlzLmNhbGN1bGF0ZVRpbGVSYW5nZXNfKGV4dGVudCk7XG4gIH1cblxufTtcblxuLyoqXG4gKiBDYWxsIGEgZnVuY3Rpb24gd2l0aCBlYWNoIHRpbGUgY29vcmRpbmF0ZSBmb3IgYSBnaXZlbiBleHRlbnQgYW5kIHpvb20gbGV2ZWwuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHpvb20gSW50ZWdlciB6b29tIGxldmVsLlxuICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkKX0gY2FsbGJhY2sgRnVuY3Rpb24gY2FsbGVkIHdpdGggZWFjaCB0aWxlIGNvb3JkaW5hdGUuXG4gKiBAYXBpXG4gKi9cblRpbGVHcmlkLnByb3RvdHlwZS5mb3JFYWNoVGlsZUNvb3JkID0gZnVuY3Rpb24gZm9yRWFjaFRpbGVDb29yZCAoZXh0ZW50LCB6b29tLCBjYWxsYmFjaykge1xuICB2YXIgdGlsZVJhbmdlID0gdGhpcy5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKGV4dGVudCwgem9vbSk7XG4gIGZvciAodmFyIGkgPSB0aWxlUmFuZ2UubWluWCwgaWkgPSB0aWxlUmFuZ2UubWF4WDsgaSA8PSBpaTsgKytpKSB7XG4gICAgZm9yICh2YXIgaiA9IHRpbGVSYW5nZS5taW5ZLCBqaiA9IHRpbGVSYW5nZS5tYXhZOyBqIDw9IGpqOyArK2opIHtcbiAgICAgIGNhbGxiYWNrKFt6b29tLCBpLCBqXSk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczogVCwgbnVtYmVyLCBpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdCk6IGJvb2xlYW59IGNhbGxiYWNrIENhbGxiYWNrLlxuICogQHBhcmFtIHtUPX0gb3B0X3RoaXMgVGhlIG9iamVjdCB0byB1c2UgYXMgYHRoaXNgIGluIGBjYWxsYmFja2AuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0PX0gb3B0X3RpbGVSYW5nZSBUZW1wb3JhcnkgaW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHQgb2JqZWN0LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50PX0gb3B0X2V4dGVudCBUZW1wb3JhcnkgaW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudCBvYmplY3QuXG4gKiBAcmV0dXJuIHtib29sZWFufSBDYWxsYmFjayBzdWNjZWVkZWQuXG4gKiBAdGVtcGxhdGUgVFxuICovXG5UaWxlR3JpZC5wcm90b3R5cGUuZm9yRWFjaFRpbGVDb29yZFBhcmVudFRpbGVSYW5nZSA9IGZ1bmN0aW9uIGZvckVhY2hUaWxlQ29vcmRQYXJlbnRUaWxlUmFuZ2UgKHRpbGVDb29yZCwgY2FsbGJhY2ssIG9wdF90aGlzLCBvcHRfdGlsZVJhbmdlLCBvcHRfZXh0ZW50KSB7XG4gIHZhciB0aWxlUmFuZ2UsIHgsIHk7XG4gIHZhciB0aWxlQ29vcmRFeHRlbnQgPSBudWxsO1xuICB2YXIgeiA9IHRpbGVDb29yZFswXSAtIDE7XG4gIGlmICh0aGlzLnpvb21GYWN0b3JfID09PSAyKSB7XG4gICAgeCA9IHRpbGVDb29yZFsxXTtcbiAgICB5ID0gdGlsZUNvb3JkWzJdO1xuICB9IGVsc2Uge1xuICAgIHRpbGVDb29yZEV4dGVudCA9IHRoaXMuZ2V0VGlsZUNvb3JkRXh0ZW50KHRpbGVDb29yZCwgb3B0X2V4dGVudCk7XG4gIH1cbiAgd2hpbGUgKHogPj0gdGhpcy5taW5ab29tKSB7XG4gICAgaWYgKHRoaXMuem9vbUZhY3Rvcl8gPT09IDIpIHtcbiAgICAgIHggPSBNYXRoLmZsb29yKHggLyAyKTtcbiAgICAgIHkgPSBNYXRoLmZsb29yKHkgLyAyKTtcbiAgICAgIHRpbGVSYW5nZSA9IGNyZWF0ZU9yVXBkYXRlVGlsZVJhbmdlKHgsIHgsIHksIHksIG9wdF90aWxlUmFuZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aWxlUmFuZ2UgPSB0aGlzLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFoodGlsZUNvb3JkRXh0ZW50LCB6LCBvcHRfdGlsZVJhbmdlKTtcbiAgICB9XG4gICAgaWYgKGNhbGxiYWNrLmNhbGwob3B0X3RoaXMsIHosIHRpbGVSYW5nZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAtLXo7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIGV4dGVudCBmb3IgdGhpcyB0aWxlIGdyaWQsIGlmIGl0IHdhcyBjb25maWd1cmVkLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICovXG5UaWxlR3JpZC5wcm90b3R5cGUuZ2V0RXh0ZW50ID0gZnVuY3Rpb24gZ2V0RXh0ZW50ICgpIHtcbiAgcmV0dXJuIHRoaXMuZXh0ZW50Xztcbn07XG5cbi8qKlxuICogR2V0IHRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSBncmlkLlxuICogQHJldHVybiB7bnVtYmVyfSBNYXggem9vbS5cbiAqIEBhcGlcbiAqL1xuVGlsZUdyaWQucHJvdG90eXBlLmdldE1heFpvb20gPSBmdW5jdGlvbiBnZXRNYXhab29tICgpIHtcbiAgcmV0dXJuIHRoaXMubWF4Wm9vbTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBtaW5pbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSBncmlkLlxuICogQHJldHVybiB7bnVtYmVyfSBNaW4gem9vbS5cbiAqIEBhcGlcbiAqL1xuVGlsZUdyaWQucHJvdG90eXBlLmdldE1pblpvb20gPSBmdW5jdGlvbiBnZXRNaW5ab29tICgpIHtcbiAgcmV0dXJuIHRoaXMubWluWm9vbTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBvcmlnaW4gZm9yIHRoZSBncmlkIGF0IHRoZSBnaXZlbiB6b29tIGxldmVsLlxuICogQHBhcmFtIHtudW1iZXJ9IHogSW50ZWdlciB6b29tIGxldmVsLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBPcmlnaW4uXG4gKiBAYXBpXG4gKi9cblRpbGVHcmlkLnByb3RvdHlwZS5nZXRPcmlnaW4gPSBmdW5jdGlvbiBnZXRPcmlnaW4gKHopIHtcbiAgaWYgKHRoaXMub3JpZ2luXykge1xuICAgIHJldHVybiB0aGlzLm9yaWdpbl87XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRoaXMub3JpZ2luc19bel07XG4gIH1cbn07XG5cbi8qKlxuICogR2V0IHRoZSByZXNvbHV0aW9uIGZvciB0aGUgZ2l2ZW4gem9vbSBsZXZlbC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB6IEludGVnZXIgem9vbSBsZXZlbC5cbiAqIEByZXR1cm4ge251bWJlcn0gUmVzb2x1dGlvbi5cbiAqIEBhcGlcbiAqL1xuVGlsZUdyaWQucHJvdG90eXBlLmdldFJlc29sdXRpb24gPSBmdW5jdGlvbiBnZXRSZXNvbHV0aW9uICh6KSB7XG4gIHJldHVybiB0aGlzLnJlc29sdXRpb25zX1t6XTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBsaXN0IG9mIHJlc29sdXRpb25zIGZvciB0aGUgdGlsZSBncmlkLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gUmVzb2x1dGlvbnMuXG4gKiBAYXBpXG4gKi9cblRpbGVHcmlkLnByb3RvdHlwZS5nZXRSZXNvbHV0aW9ucyA9IGZ1bmN0aW9uIGdldFJlc29sdXRpb25zICgpIHtcbiAgcmV0dXJuIHRoaXMucmVzb2x1dGlvbnNfO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0PX0gb3B0X3RpbGVSYW5nZSBUZW1wb3JhcnkgaW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHQgb2JqZWN0LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50PX0gb3B0X2V4dGVudCBUZW1wb3JhcnkgaW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudCBvYmplY3QuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdH0gVGlsZSByYW5nZS5cbiAqL1xuVGlsZUdyaWQucHJvdG90eXBlLmdldFRpbGVDb29yZENoaWxkVGlsZVJhbmdlID0gZnVuY3Rpb24gZ2V0VGlsZUNvb3JkQ2hpbGRUaWxlUmFuZ2UgKHRpbGVDb29yZCwgb3B0X3RpbGVSYW5nZSwgb3B0X2V4dGVudCkge1xuICBpZiAodGlsZUNvb3JkWzBdIDwgdGhpcy5tYXhab29tKSB7XG4gICAgaWYgKHRoaXMuem9vbUZhY3Rvcl8gPT09IDIpIHtcbiAgICAgIHZhciBtaW5YID0gdGlsZUNvb3JkWzFdICogMjtcbiAgICAgIHZhciBtaW5ZID0gdGlsZUNvb3JkWzJdICogMjtcbiAgICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZVRpbGVSYW5nZShtaW5YLCBtaW5YICsgMSwgbWluWSwgbWluWSArIDEsIG9wdF90aWxlUmFuZ2UpO1xuICAgIH1cbiAgICB2YXIgdGlsZUNvb3JkRXh0ZW50ID0gdGhpcy5nZXRUaWxlQ29vcmRFeHRlbnQodGlsZUNvb3JkLCBvcHRfZXh0ZW50KTtcbiAgICByZXR1cm4gdGhpcy5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKFxuICAgICAgdGlsZUNvb3JkRXh0ZW50LCB0aWxlQ29vcmRbMF0gKyAxLCBvcHRfdGlsZVJhbmdlKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBleHRlbnQgZm9yIGEgdGlsZSByYW5nZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB6IEludGVnZXIgem9vbSBsZXZlbC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR9IHRpbGVSYW5nZSBUaWxlIHJhbmdlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50PX0gb3B0X2V4dGVudCBUZW1wb3JhcnkgaW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudCBvYmplY3QuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBFeHRlbnQuXG4gKi9cblRpbGVHcmlkLnByb3RvdHlwZS5nZXRUaWxlUmFuZ2VFeHRlbnQgPSBmdW5jdGlvbiBnZXRUaWxlUmFuZ2VFeHRlbnQgKHosIHRpbGVSYW5nZSwgb3B0X2V4dGVudCkge1xuICB2YXIgb3JpZ2luID0gdGhpcy5nZXRPcmlnaW4oeik7XG4gIHZhciByZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uKHopO1xuICB2YXIgdGlsZVNpemUgPSB0b1NpemUodGhpcy5nZXRUaWxlU2l6ZSh6KSwgdGhpcy50bXBTaXplXyk7XG4gIHZhciBtaW5YID0gb3JpZ2luWzBdICsgdGlsZVJhbmdlLm1pblggKiB0aWxlU2l6ZVswXSAqIHJlc29sdXRpb247XG4gIHZhciBtYXhYID0gb3JpZ2luWzBdICsgKHRpbGVSYW5nZS5tYXhYICsgMSkgKiB0aWxlU2l6ZVswXSAqIHJlc29sdXRpb247XG4gIHZhciBtaW5ZID0gb3JpZ2luWzFdICsgdGlsZVJhbmdlLm1pblkgKiB0aWxlU2l6ZVsxXSAqIHJlc29sdXRpb247XG4gIHZhciBtYXhZID0gb3JpZ2luWzFdICsgKHRpbGVSYW5nZS5tYXhZICsgMSkgKiB0aWxlU2l6ZVsxXSAqIHJlc29sdXRpb247XG4gIHJldHVybiBjcmVhdGVPclVwZGF0ZShtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCBvcHRfZXh0ZW50KTtcbn07XG5cbi8qKlxuICogR2V0IGEgdGlsZSByYW5nZSBmb3IgdGhlIGdpdmVuIGV4dGVudCBhbmQgaW50ZWdlciB6b29tIGxldmVsLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHogSW50ZWdlciB6b29tIGxldmVsLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdD19IG9wdF90aWxlUmFuZ2UgVGVtcG9yYXJ5IHRpbGUgcmFuZ2Ugb2JqZWN0LlxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR9IFRpbGUgcmFuZ2UuXG4gKi9cblRpbGVHcmlkLnByb3RvdHlwZS5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaID0gZnVuY3Rpb24gZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWiAoZXh0ZW50LCB6LCBvcHRfdGlsZVJhbmdlKSB7XG4gIHZhciB0aWxlQ29vcmQgPSB0bXBUaWxlQ29vcmQ7XG4gIHRoaXMuZ2V0VGlsZUNvb3JkRm9yWFlBbmRaXyhleHRlbnRbMF0sIGV4dGVudFsxXSwgeiwgZmFsc2UsIHRpbGVDb29yZCk7XG4gIHZhciBtaW5YID0gdGlsZUNvb3JkWzFdO1xuICB2YXIgbWluWSA9IHRpbGVDb29yZFsyXTtcbiAgdGhpcy5nZXRUaWxlQ29vcmRGb3JYWUFuZFpfKGV4dGVudFsyXSwgZXh0ZW50WzNdLCB6LCB0cnVlLCB0aWxlQ29vcmQpO1xuICByZXR1cm4gY3JlYXRlT3JVcGRhdGVUaWxlUmFuZ2UobWluWCwgdGlsZUNvb3JkWzFdLCBtaW5ZLCB0aWxlQ29vcmRbMl0sIG9wdF90aWxlUmFuZ2UpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFRpbGUgY2VudGVyLlxuICovXG5UaWxlR3JpZC5wcm90b3R5cGUuZ2V0VGlsZUNvb3JkQ2VudGVyID0gZnVuY3Rpb24gZ2V0VGlsZUNvb3JkQ2VudGVyICh0aWxlQ29vcmQpIHtcbiAgdmFyIG9yaWdpbiA9IHRoaXMuZ2V0T3JpZ2luKHRpbGVDb29yZFswXSk7XG4gIHZhciByZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uKHRpbGVDb29yZFswXSk7XG4gIHZhciB0aWxlU2l6ZSA9IHRvU2l6ZSh0aGlzLmdldFRpbGVTaXplKHRpbGVDb29yZFswXSksIHRoaXMudG1wU2l6ZV8pO1xuICByZXR1cm4gW1xuICAgIG9yaWdpblswXSArICh0aWxlQ29vcmRbMV0gKyAwLjUpICogdGlsZVNpemVbMF0gKiByZXNvbHV0aW9uLFxuICAgIG9yaWdpblsxXSArICh0aWxlQ29vcmRbMl0gKyAwLjUpICogdGlsZVNpemVbMV0gKiByZXNvbHV0aW9uXG4gIF07XG59O1xuXG4vKipcbiAqIEdldCB0aGUgZXh0ZW50IG9mIGEgdGlsZSBjb29yZGluYXRlLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudD19IG9wdF9leHRlbnQgVGVtcG9yYXJ5IGV4dGVudCBvYmplY3QuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBFeHRlbnQuXG4gKiBAYXBpXG4gKi9cblRpbGVHcmlkLnByb3RvdHlwZS5nZXRUaWxlQ29vcmRFeHRlbnQgPSBmdW5jdGlvbiBnZXRUaWxlQ29vcmRFeHRlbnQgKHRpbGVDb29yZCwgb3B0X2V4dGVudCkge1xuICB2YXIgb3JpZ2luID0gdGhpcy5nZXRPcmlnaW4odGlsZUNvb3JkWzBdKTtcbiAgdmFyIHJlc29sdXRpb24gPSB0aGlzLmdldFJlc29sdXRpb24odGlsZUNvb3JkWzBdKTtcbiAgdmFyIHRpbGVTaXplID0gdG9TaXplKHRoaXMuZ2V0VGlsZVNpemUodGlsZUNvb3JkWzBdKSwgdGhpcy50bXBTaXplXyk7XG4gIHZhciBtaW5YID0gb3JpZ2luWzBdICsgdGlsZUNvb3JkWzFdICogdGlsZVNpemVbMF0gKiByZXNvbHV0aW9uO1xuICB2YXIgbWluWSA9IG9yaWdpblsxXSArIHRpbGVDb29yZFsyXSAqIHRpbGVTaXplWzFdICogcmVzb2x1dGlvbjtcbiAgdmFyIG1heFggPSBtaW5YICsgdGlsZVNpemVbMF0gKiByZXNvbHV0aW9uO1xuICB2YXIgbWF4WSA9IG1pblkgKyB0aWxlU2l6ZVsxXSAqIHJlc29sdXRpb247XG4gIHJldHVybiBjcmVhdGVPclVwZGF0ZShtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCBvcHRfZXh0ZW50KTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSB0aWxlIGNvb3JkaW5hdGUgZm9yIHRoZSBnaXZlbiBtYXAgY29vcmRpbmF0ZSBhbmQgcmVzb2x1dGlvbi5UaGlzXG4gKiBtZXRob2QgY29uc2lkZXJzIHRoYXQgY29vcmRpbmF0ZXMgdGhhdCBpbnRlcnNlY3QgdGlsZSBib3VuZGFyaWVzIHNob3VsZCBiZVxuICogYXNzaWduZWQgdGhlIGhpZ2hlciB0aWxlIGNvb3JkaW5hdGUuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmQ9fSBvcHRfdGlsZUNvb3JkIERlc3RpbmF0aW9uIGltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmQgb2JqZWN0LlxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gVGlsZSBjb29yZGluYXRlLlxuICogQGFwaVxuICovXG5UaWxlR3JpZC5wcm90b3R5cGUuZ2V0VGlsZUNvb3JkRm9yQ29vcmRBbmRSZXNvbHV0aW9uID0gZnVuY3Rpb24gZ2V0VGlsZUNvb3JkRm9yQ29vcmRBbmRSZXNvbHV0aW9uIChjb29yZGluYXRlLCByZXNvbHV0aW9uLCBvcHRfdGlsZUNvb3JkKSB7XG4gIHJldHVybiB0aGlzLmdldFRpbGVDb29yZEZvclhZQW5kUmVzb2x1dGlvbl8oXG4gICAgY29vcmRpbmF0ZVswXSwgY29vcmRpbmF0ZVsxXSwgcmVzb2x1dGlvbiwgZmFsc2UsIG9wdF90aWxlQ29vcmQpO1xufTtcblxuLyoqXG4gKiBOb3RlIHRoYXQgdGhpcyBtZXRob2Qgc2hvdWxkIG5vdCBiZSBjYWxsZWQgZm9yIHJlc29sdXRpb25zIHRoYXQgY29ycmVzcG9uZFxuICogdG8gYW4gaW50ZWdlciB6b29tIGxldmVsLkluc3RlYWQgY2FsbCB0aGUgYGdldFRpbGVDb29yZEZvclhZQW5kWl9gIG1ldGhvZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbiAoZm9yIGEgbm9uLWludGVnZXIgem9vbSBsZXZlbCkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHJldmVyc2VJbnRlcnNlY3Rpb25Qb2xpY3kgSW5zdGVhZCBvZiBsZXR0aW5nIGVkZ2VcbiAqICAgaW50ZXJzZWN0aW9ucyBnbyB0byB0aGUgaGlnaGVyIHRpbGUgY29vcmRpbmF0ZSwgbGV0IGVkZ2UgaW50ZXJzZWN0aW9uc1xuICogICBnbyB0byB0aGUgbG93ZXIgdGlsZSBjb29yZGluYXRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkPX0gb3B0X3RpbGVDb29yZCBUZW1wb3JhcnkgaW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZCBvYmplY3QuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSBUaWxlIGNvb3JkaW5hdGUuXG4gKiBAcHJpdmF0ZVxuICovXG5UaWxlR3JpZC5wcm90b3R5cGUuZ2V0VGlsZUNvb3JkRm9yWFlBbmRSZXNvbHV0aW9uXyA9IGZ1bmN0aW9uIGdldFRpbGVDb29yZEZvclhZQW5kUmVzb2x1dGlvbl8gKHgsIHksIHJlc29sdXRpb24sIHJldmVyc2VJbnRlcnNlY3Rpb25Qb2xpY3ksIG9wdF90aWxlQ29vcmQpIHtcbiAgdmFyIHogPSB0aGlzLmdldFpGb3JSZXNvbHV0aW9uKHJlc29sdXRpb24pO1xuICB2YXIgc2NhbGUgPSByZXNvbHV0aW9uIC8gdGhpcy5nZXRSZXNvbHV0aW9uKHopO1xuICB2YXIgb3JpZ2luID0gdGhpcy5nZXRPcmlnaW4oeik7XG4gIHZhciB0aWxlU2l6ZSA9IHRvU2l6ZSh0aGlzLmdldFRpbGVTaXplKHopLCB0aGlzLnRtcFNpemVfKTtcblxuICB2YXIgYWRqdXN0WCA9IHJldmVyc2VJbnRlcnNlY3Rpb25Qb2xpY3kgPyAwLjUgOiAwO1xuICB2YXIgYWRqdXN0WSA9IHJldmVyc2VJbnRlcnNlY3Rpb25Qb2xpY3kgPyAwIDogMC41O1xuICB2YXIgeEZyb21PcmlnaW4gPSBNYXRoLmZsb29yKCh4IC0gb3JpZ2luWzBdKSAvIHJlc29sdXRpb24gKyBhZGp1c3RYKTtcbiAgdmFyIHlGcm9tT3JpZ2luID0gTWF0aC5mbG9vcigoeSAtIG9yaWdpblsxXSkgLyByZXNvbHV0aW9uICsgYWRqdXN0WSk7XG4gIHZhciB0aWxlQ29vcmRYID0gc2NhbGUgKiB4RnJvbU9yaWdpbiAvIHRpbGVTaXplWzBdO1xuICB2YXIgdGlsZUNvb3JkWSA9IHNjYWxlICogeUZyb21PcmlnaW4gLyB0aWxlU2l6ZVsxXTtcblxuICBpZiAocmV2ZXJzZUludGVyc2VjdGlvblBvbGljeSkge1xuICAgIHRpbGVDb29yZFggPSBNYXRoLmNlaWwodGlsZUNvb3JkWCkgLSAxO1xuICAgIHRpbGVDb29yZFkgPSBNYXRoLmNlaWwodGlsZUNvb3JkWSkgLSAxO1xuICB9IGVsc2Uge1xuICAgIHRpbGVDb29yZFggPSBNYXRoLmZsb29yKHRpbGVDb29yZFgpO1xuICAgIHRpbGVDb29yZFkgPSBNYXRoLmZsb29yKHRpbGVDb29yZFkpO1xuICB9XG5cbiAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlVGlsZUNvb3JkKHosIHRpbGVDb29yZFgsIHRpbGVDb29yZFksIG9wdF90aWxlQ29vcmQpO1xufTtcblxuLyoqXG4gKiBBbHRob3VnaCB0aGVyZSBpcyByZXBldGl0aW9uIGJldHdlZW4gdGhpcyBtZXRob2QgYW5kIGBnZXRUaWxlQ29vcmRGb3JYWUFuZFJlc29sdXRpb25fYCxcbiAqIHRoZXkgc2hvdWxkIGhhdmUgc2VwYXJhdGUgaW1wbGVtZW50YXRpb25zLlRoaXMgbWV0aG9kIGlzIGZvciBpbnRlZ2VyIHpvb21cbiAqIGxldmVscy5UaGUgb3RoZXIgbWV0aG9kIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBmb3IgcmVzb2x1dGlvbnMgY29ycmVzcG9uZGluZ1xuICogdG8gbm9uLWludGVnZXIgem9vbSBsZXZlbHMuXG4gKiBAcGFyYW0ge251bWJlcn0geCBNYXAgeCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgTWFwIHkgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB6IEludGVnZXIgem9vbSBsZXZlbC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcmV2ZXJzZUludGVyc2VjdGlvblBvbGljeSBJbnN0ZWFkIG9mIGxldHRpbmcgZWRnZVxuICogICBpbnRlcnNlY3Rpb25zIGdvIHRvIHRoZSBoaWdoZXIgdGlsZSBjb29yZGluYXRlLCBsZXQgZWRnZSBpbnRlcnNlY3Rpb25zXG4gKiAgIGdvIHRvIHRoZSBsb3dlciB0aWxlIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmQ9fSBvcHRfdGlsZUNvb3JkIFRlbXBvcmFyeSBpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkIG9iamVjdC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IFRpbGUgY29vcmRpbmF0ZS5cbiAqIEBwcml2YXRlXG4gKi9cblRpbGVHcmlkLnByb3RvdHlwZS5nZXRUaWxlQ29vcmRGb3JYWUFuZFpfID0gZnVuY3Rpb24gZ2V0VGlsZUNvb3JkRm9yWFlBbmRaXyAoeCwgeSwgeiwgcmV2ZXJzZUludGVyc2VjdGlvblBvbGljeSwgb3B0X3RpbGVDb29yZCkge1xuICB2YXIgb3JpZ2luID0gdGhpcy5nZXRPcmlnaW4oeik7XG4gIHZhciByZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uKHopO1xuICB2YXIgdGlsZVNpemUgPSB0b1NpemUodGhpcy5nZXRUaWxlU2l6ZSh6KSwgdGhpcy50bXBTaXplXyk7XG5cbiAgdmFyIGFkanVzdFggPSByZXZlcnNlSW50ZXJzZWN0aW9uUG9saWN5ID8gMC41IDogMDtcbiAgdmFyIGFkanVzdFkgPSByZXZlcnNlSW50ZXJzZWN0aW9uUG9saWN5ID8gMCA6IDAuNTtcbiAgdmFyIHhGcm9tT3JpZ2luID0gTWF0aC5mbG9vcigoeCAtIG9yaWdpblswXSkgLyByZXNvbHV0aW9uICsgYWRqdXN0WCk7XG4gIHZhciB5RnJvbU9yaWdpbiA9IE1hdGguZmxvb3IoKHkgLSBvcmlnaW5bMV0pIC8gcmVzb2x1dGlvbiArIGFkanVzdFkpO1xuICB2YXIgdGlsZUNvb3JkWCA9IHhGcm9tT3JpZ2luIC8gdGlsZVNpemVbMF07XG4gIHZhciB0aWxlQ29vcmRZID0geUZyb21PcmlnaW4gLyB0aWxlU2l6ZVsxXTtcblxuICBpZiAocmV2ZXJzZUludGVyc2VjdGlvblBvbGljeSkge1xuICAgIHRpbGVDb29yZFggPSBNYXRoLmNlaWwodGlsZUNvb3JkWCkgLSAxO1xuICAgIHRpbGVDb29yZFkgPSBNYXRoLmNlaWwodGlsZUNvb3JkWSkgLSAxO1xuICB9IGVsc2Uge1xuICAgIHRpbGVDb29yZFggPSBNYXRoLmZsb29yKHRpbGVDb29yZFgpO1xuICAgIHRpbGVDb29yZFkgPSBNYXRoLmZsb29yKHRpbGVDb29yZFkpO1xuICB9XG5cbiAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlVGlsZUNvb3JkKHosIHRpbGVDb29yZFgsIHRpbGVDb29yZFksIG9wdF90aWxlQ29vcmQpO1xufTtcblxuLyoqXG4gKiBHZXQgYSB0aWxlIGNvb3JkaW5hdGUgZ2l2ZW4gYSBtYXAgY29vcmRpbmF0ZSBhbmQgem9vbSBsZXZlbC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcn0geiBab29tIGxldmVsLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkPX0gb3B0X3RpbGVDb29yZCBEZXN0aW5hdGlvbiBpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkIG9iamVjdC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IFRpbGUgY29vcmRpbmF0ZS5cbiAqIEBhcGlcbiAqL1xuVGlsZUdyaWQucHJvdG90eXBlLmdldFRpbGVDb29yZEZvckNvb3JkQW5kWiA9IGZ1bmN0aW9uIGdldFRpbGVDb29yZEZvckNvb3JkQW5kWiAoY29vcmRpbmF0ZSwgeiwgb3B0X3RpbGVDb29yZCkge1xuICByZXR1cm4gdGhpcy5nZXRUaWxlQ29vcmRGb3JYWUFuZFpfKFxuICAgIGNvb3JkaW5hdGVbMF0sIGNvb3JkaW5hdGVbMV0sIHosIGZhbHNlLCBvcHRfdGlsZUNvb3JkKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICogQHJldHVybiB7bnVtYmVyfSBUaWxlIHJlc29sdXRpb24uXG4gKi9cblRpbGVHcmlkLnByb3RvdHlwZS5nZXRUaWxlQ29vcmRSZXNvbHV0aW9uID0gZnVuY3Rpb24gZ2V0VGlsZUNvb3JkUmVzb2x1dGlvbiAodGlsZUNvb3JkKSB7XG4gIHJldHVybiB0aGlzLnJlc29sdXRpb25zX1t0aWxlQ29vcmRbMF1dO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIHRpbGUgc2l6ZSBmb3IgYSB6b29tIGxldmVsLiBUaGUgdHlwZSBvZiB0aGUgcmV0dXJuIHZhbHVlIG1hdGNoZXMgdGhlXG4gKiBgdGlsZVNpemVgIG9yIGB0aWxlU2l6ZXNgIHRoYXQgdGhlIHRpbGUgZ3JpZCB3YXMgY29uZmlndXJlZCB3aXRoLiBUbyBhbHdheXNcbiAqIGdldCBhbiBgaW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplYCwgcnVuIHRoZSByZXN1bHQgdGhyb3VnaCBgaW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplLnRvU2l6ZSgpYC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB6IFouXG4gKiBAcmV0dXJuIHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBUaWxlIHNpemUuXG4gKiBAYXBpXG4gKi9cblRpbGVHcmlkLnByb3RvdHlwZS5nZXRUaWxlU2l6ZSA9IGZ1bmN0aW9uIGdldFRpbGVTaXplICh6KSB7XG4gIGlmICh0aGlzLnRpbGVTaXplXykge1xuICAgIHJldHVybiB0aGlzLnRpbGVTaXplXztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdGhpcy50aWxlU2l6ZXNfW3pdO1xuICB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSB6IFpvb20gbGV2ZWwuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdH0gRXh0ZW50IHRpbGUgcmFuZ2UgZm9yIHRoZSBzcGVjaWZpZWQgem9vbSBsZXZlbC5cbiAqL1xuVGlsZUdyaWQucHJvdG90eXBlLmdldEZ1bGxUaWxlUmFuZ2UgPSBmdW5jdGlvbiBnZXRGdWxsVGlsZVJhbmdlICh6KSB7XG4gIGlmICghdGhpcy5mdWxsVGlsZVJhbmdlc18pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdGhpcy5mdWxsVGlsZVJhbmdlc19bel07XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2RpcmVjdGlvbiBJZiAwLCB0aGUgbmVhcmVzdCByZXNvbHV0aW9uIHdpbGwgYmUgdXNlZC5cbiAqICAgSWYgMSwgdGhlIG5lYXJlc3QgbG93ZXIgcmVzb2x1dGlvbiB3aWxsIGJlIHVzZWQuIElmIC0xLCB0aGUgbmVhcmVzdFxuICogICBoaWdoZXIgcmVzb2x1dGlvbiB3aWxsIGJlIHVzZWQuIERlZmF1bHQgaXMgMC5cbiAqIEByZXR1cm4ge251bWJlcn0gWi5cbiAqIEBhcGlcbiAqL1xuVGlsZUdyaWQucHJvdG90eXBlLmdldFpGb3JSZXNvbHV0aW9uID0gZnVuY3Rpb24gZ2V0WkZvclJlc29sdXRpb24gKHJlc29sdXRpb24sIG9wdF9kaXJlY3Rpb24pIHtcbiAgdmFyIHogPSBsaW5lYXJGaW5kTmVhcmVzdCh0aGlzLnJlc29sdXRpb25zXywgcmVzb2x1dGlvbiwgb3B0X2RpcmVjdGlvbiB8fCAwKTtcbiAgcmV0dXJuIGNsYW1wKHosIHRoaXMubWluWm9vbSwgdGhpcy5tYXhab29tKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHshaW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudCBmb3IgdGhpcyB0aWxlIGdyaWQuXG4gKiBAcHJpdmF0ZVxuICovXG5UaWxlR3JpZC5wcm90b3R5cGUuY2FsY3VsYXRlVGlsZVJhbmdlc18gPSBmdW5jdGlvbiBjYWxjdWxhdGVUaWxlUmFuZ2VzXyAoZXh0ZW50KSB7XG4gIHZhciBsZW5ndGggPSB0aGlzLnJlc29sdXRpb25zXy5sZW5ndGg7XG4gIHZhciBmdWxsVGlsZVJhbmdlcyA9IG5ldyBBcnJheShsZW5ndGgpO1xuICBmb3IgKHZhciB6ID0gdGhpcy5taW5ab29tOyB6IDwgbGVuZ3RoOyArK3opIHtcbiAgICBmdWxsVGlsZVJhbmdlc1t6XSA9IHRoaXMuZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWihleHRlbnQsIHopO1xuICB9XG4gIHRoaXMuZnVsbFRpbGVSYW5nZXNfID0gZnVsbFRpbGVSYW5nZXM7XG59O1xuXG5cbmV4cG9ydCBkZWZhdWx0IFRpbGVHcmlkO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxlR3JpZC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvdGlsZWdyaWRcbiAqL1xuaW1wb3J0IHtERUZBVUxUX01BWF9aT09NLCBERUZBVUxUX1RJTEVfU0laRX0gZnJvbSAnLi90aWxlZ3JpZC9jb21tb24uanMnO1xuaW1wb3J0IHt0b1NpemV9IGZyb20gJy4vc2l6ZS5qcyc7XG5pbXBvcnQge2NvbnRhaW5zQ29vcmRpbmF0ZSwgY3JlYXRlT3JVcGRhdGUsIGdldENvcm5lciwgZ2V0SGVpZ2h0LCBnZXRXaWR0aH0gZnJvbSAnLi9leHRlbnQuanMnO1xuaW1wb3J0IENvcm5lciBmcm9tICcuL2V4dGVudC9Db3JuZXIuanMnO1xuaW1wb3J0IHtnZXQgYXMgZ2V0UHJvamVjdGlvbiwgTUVURVJTX1BFUl9VTklUfSBmcm9tICcuL3Byb2ouanMnO1xuaW1wb3J0IFVuaXRzIGZyb20gJy4vcHJvai9Vbml0cy5qcyc7XG5pbXBvcnQgVGlsZUdyaWQgZnJvbSAnLi90aWxlZ3JpZC9UaWxlR3JpZC5qcyc7XG5cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEByZXR1cm4geyFUaWxlR3JpZH0gRGVmYXVsdCB0aWxlIGdyaWQgZm9yIHRoZVxuICogcGFzc2VkIHByb2plY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pIHtcbiAgdmFyIHRpbGVHcmlkID0gcHJvamVjdGlvbi5nZXREZWZhdWx0VGlsZUdyaWQoKTtcbiAgaWYgKCF0aWxlR3JpZCkge1xuICAgIHRpbGVHcmlkID0gY3JlYXRlRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICBwcm9qZWN0aW9uLnNldERlZmF1bHRUaWxlR3JpZCh0aWxlR3JpZCk7XG4gIH1cbiAgcmV0dXJuIHRpbGVHcmlkO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtUaWxlR3JpZH0gdGlsZUdyaWQgVGlsZSBncmlkLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gVGlsZSBjb29yZGluYXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gd3JhcFgodGlsZUdyaWQsIHRpbGVDb29yZCwgcHJvamVjdGlvbikge1xuICB2YXIgeiA9IHRpbGVDb29yZFswXTtcbiAgdmFyIGNlbnRlciA9IHRpbGVHcmlkLmdldFRpbGVDb29yZENlbnRlcih0aWxlQ29vcmQpO1xuICB2YXIgcHJvamVjdGlvbkV4dGVudCA9IGV4dGVudEZyb21Qcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICBpZiAoIWNvbnRhaW5zQ29vcmRpbmF0ZShwcm9qZWN0aW9uRXh0ZW50LCBjZW50ZXIpKSB7XG4gICAgdmFyIHdvcmxkV2lkdGggPSBnZXRXaWR0aChwcm9qZWN0aW9uRXh0ZW50KTtcbiAgICB2YXIgd29ybGRzQXdheSA9IE1hdGguY2VpbCgocHJvamVjdGlvbkV4dGVudFswXSAtIGNlbnRlclswXSkgLyB3b3JsZFdpZHRoKTtcbiAgICBjZW50ZXJbMF0gKz0gd29ybGRXaWR0aCAqIHdvcmxkc0F3YXk7XG4gICAgcmV0dXJuIHRpbGVHcmlkLmdldFRpbGVDb29yZEZvckNvb3JkQW5kWihjZW50ZXIsIHopO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0aWxlQ29vcmQ7XG4gIH1cbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfbWF4Wm9vbSBNYXhpbXVtIHpvb20gbGV2ZWwgKGRlZmF1bHQgaXNcbiAqICAgICBERUZBVUxUX01BWF9aT09NKS5cbiAqIEBwYXJhbSB7bnVtYmVyfGltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplPX0gb3B0X3RpbGVTaXplIFRpbGUgc2l6ZSAoZGVmYXVsdCB1c2VzXG4gKiAgICAgREVGQVVMVF9USUxFX1NJWkUpLlxuICogQHBhcmFtIHtDb3JuZXI9fSBvcHRfY29ybmVyIEV4dGVudCBjb3JuZXIgKGRlZmF1bHQgaXMgYCd0b3AtbGVmdCdgKS5cbiAqIEByZXR1cm4geyFUaWxlR3JpZH0gVGlsZUdyaWQgaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGb3JFeHRlbnQoZXh0ZW50LCBvcHRfbWF4Wm9vbSwgb3B0X3RpbGVTaXplLCBvcHRfY29ybmVyKSB7XG4gIHZhciBjb3JuZXIgPSBvcHRfY29ybmVyICE9PSB1bmRlZmluZWQgPyBvcHRfY29ybmVyIDogQ29ybmVyLlRPUF9MRUZUO1xuXG4gIHZhciByZXNvbHV0aW9ucyA9IHJlc29sdXRpb25zRnJvbUV4dGVudChleHRlbnQsIG9wdF9tYXhab29tLCBvcHRfdGlsZVNpemUpO1xuXG4gIHJldHVybiBuZXcgVGlsZUdyaWQoe1xuICAgIGV4dGVudDogZXh0ZW50LFxuICAgIG9yaWdpbjogZ2V0Q29ybmVyKGV4dGVudCwgY29ybmVyKSxcbiAgICByZXNvbHV0aW9uczogcmVzb2x1dGlvbnMsXG4gICAgdGlsZVNpemU6IG9wdF90aWxlU2l6ZVxuICB9KTtcbn1cblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFhZWk9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBFeHRlbnQgZm9yIHRoZSB0aWxlIGdyaWQuIFRoZSBvcmlnaW4gZm9yIGFuIFhZWiB0aWxlIGdyaWQgaXMgdGhlXG4gKiB0b3AtbGVmdCBjb3JuZXIgb2YgdGhlIGV4dGVudC4gVGhlIHplcm8gbGV2ZWwgb2YgdGhlIGdyaWQgaXMgZGVmaW5lZCBieSB0aGUgcmVzb2x1dGlvbiBhdCB3aGljaCBvbmUgdGlsZSBmaXRzIGluIHRoZVxuICogcHJvdmlkZWQgZXh0ZW50LiBJZiBub3QgcHJvdmlkZWQsIHRoZSBleHRlbnQgb2YgdGhlIEVQU0c6Mzg1NyBwcm9qZWN0aW9uIGlzIHVzZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFpvb21dIE1heGltdW0gem9vbS4gVGhlIGRlZmF1bHQgaXMgYDQyYC4gVGhpcyBkZXRlcm1pbmVzIHRoZSBudW1iZXIgb2YgbGV2ZWxzXG4gKiBpbiB0aGUgZ3JpZCBzZXQuIEZvciBleGFtcGxlLCBhIGBtYXhab29tYCBvZiAyMSBtZWFucyB0aGVyZSBhcmUgMjIgbGV2ZWxzIGluIHRoZSBncmlkIHNldC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWm9vbT0wXSBNaW5pbXVtIHpvb20uXG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gW3RpbGVTaXplPVsyNTYsIDI1Nl1dIFRpbGUgc2l6ZSBpbiBwaXhlbHMuXG4gKi9cblxuXG4vKipcbiAqIENyZWF0ZXMgYSB0aWxlIGdyaWQgd2l0aCBhIHN0YW5kYXJkIFhZWiB0aWxpbmcgc2NoZW1lLlxuICogQHBhcmFtIHtYWVpPcHRpb25zPX0gb3B0X29wdGlvbnMgVGlsZSBncmlkIG9wdGlvbnMuXG4gKiBAcmV0dXJuIHshVGlsZUdyaWR9IFRpbGUgZ3JpZCBpbnN0YW5jZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVhZWihvcHRfb3B0aW9ucykge1xuICAvKiogQHR5cGUge1hZWk9wdGlvbnN9ICovXG4gIHZhciB4eXpPcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XG5cbiAgdmFyIGV4dGVudCA9IHh5ek9wdGlvbnMuZXh0ZW50IHx8IGdldFByb2plY3Rpb24oJ0VQU0c6Mzg1NycpLmdldEV4dGVudCgpO1xuXG4gIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5PcHRpb25zfSAqL1xuICB2YXIgZ3JpZE9wdGlvbnMgPSB7XG4gICAgZXh0ZW50OiBleHRlbnQsXG4gICAgbWluWm9vbTogeHl6T3B0aW9ucy5taW5ab29tLFxuICAgIHRpbGVTaXplOiB4eXpPcHRpb25zLnRpbGVTaXplLFxuICAgIHJlc29sdXRpb25zOiByZXNvbHV0aW9uc0Zyb21FeHRlbnQoXG4gICAgICBleHRlbnQsXG4gICAgICB4eXpPcHRpb25zLm1heFpvb20sXG4gICAgICB4eXpPcHRpb25zLnRpbGVTaXplXG4gICAgKVxuICB9O1xuICByZXR1cm4gbmV3IFRpbGVHcmlkKGdyaWRPcHRpb25zKTtcbn1cblxuXG4vKipcbiAqIENyZWF0ZSBhIHJlc29sdXRpb25zIGFycmF5IGZyb20gYW4gZXh0ZW50LiAgQSB6b29tIGZhY3RvciBvZiAyIGlzIGFzc3VtZWQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X21heFpvb20gTWF4aW11bSB6b29tIGxldmVsIChkZWZhdWx0IGlzXG4gKiAgICAgREVGQVVMVF9NQVhfWk9PTSkuXG4gKiBAcGFyYW0ge251bWJlcnxpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZT19IG9wdF90aWxlU2l6ZSBUaWxlIHNpemUgKGRlZmF1bHQgdXNlc1xuICogICAgIERFRkFVTFRfVElMRV9TSVpFKS5cbiAqIEByZXR1cm4geyFBcnJheTxudW1iZXI+fSBSZXNvbHV0aW9ucyBhcnJheS5cbiAqL1xuZnVuY3Rpb24gcmVzb2x1dGlvbnNGcm9tRXh0ZW50KGV4dGVudCwgb3B0X21heFpvb20sIG9wdF90aWxlU2l6ZSkge1xuICB2YXIgbWF4Wm9vbSA9IG9wdF9tYXhab29tICE9PSB1bmRlZmluZWQgP1xuICAgIG9wdF9tYXhab29tIDogREVGQVVMVF9NQVhfWk9PTTtcblxuICB2YXIgaGVpZ2h0ID0gZ2V0SGVpZ2h0KGV4dGVudCk7XG4gIHZhciB3aWR0aCA9IGdldFdpZHRoKGV4dGVudCk7XG5cbiAgdmFyIHRpbGVTaXplID0gdG9TaXplKG9wdF90aWxlU2l6ZSAhPT0gdW5kZWZpbmVkID9cbiAgICBvcHRfdGlsZVNpemUgOiBERUZBVUxUX1RJTEVfU0laRSk7XG4gIHZhciBtYXhSZXNvbHV0aW9uID0gTWF0aC5tYXgoXG4gICAgd2lkdGggLyB0aWxlU2l6ZVswXSwgaGVpZ2h0IC8gdGlsZVNpemVbMV0pO1xuXG4gIHZhciBsZW5ndGggPSBtYXhab29tICsgMTtcbiAgdmFyIHJlc29sdXRpb25zID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gIGZvciAodmFyIHogPSAwOyB6IDwgbGVuZ3RoOyArK3opIHtcbiAgICByZXNvbHV0aW9uc1t6XSA9IG1heFJlc29sdXRpb24gLyBNYXRoLnBvdygyLCB6KTtcbiAgfVxuICByZXR1cm4gcmVzb2x1dGlvbnM7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfbWF4Wm9vbSBNYXhpbXVtIHpvb20gbGV2ZWwgKGRlZmF1bHQgaXNcbiAqICAgICBERUZBVUxUX01BWF9aT09NKS5cbiAqIEBwYXJhbSB7bnVtYmVyfGltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplPX0gb3B0X3RpbGVTaXplIFRpbGUgc2l6ZSAoZGVmYXVsdCB1c2VzXG4gKiAgICAgREVGQVVMVF9USUxFX1NJWkUpLlxuICogQHBhcmFtIHtDb3JuZXI9fSBvcHRfY29ybmVyIEV4dGVudCBjb3JuZXIgKGRlZmF1bHQgaXMgYCd0b3AtbGVmdCdgKS5cbiAqIEByZXR1cm4geyFUaWxlR3JpZH0gVGlsZUdyaWQgaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24sIG9wdF9tYXhab29tLCBvcHRfdGlsZVNpemUsIG9wdF9jb3JuZXIpIHtcbiAgdmFyIGV4dGVudCA9IGV4dGVudEZyb21Qcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICByZXR1cm4gY3JlYXRlRm9yRXh0ZW50KGV4dGVudCwgb3B0X21heFpvb20sIG9wdF90aWxlU2l6ZSwgb3B0X2Nvcm5lcik7XG59XG5cblxuLyoqXG4gKiBHZW5lcmF0ZSBhIHRpbGUgZ3JpZCBleHRlbnQgZnJvbSBhIHByb2plY3Rpb24uICBJZiB0aGUgcHJvamVjdGlvbiBoYXMgYW5cbiAqIGV4dGVudCwgaXQgaXMgdXNlZC4gIElmIG5vdCwgYSBnbG9iYWwgZXh0ZW50IGlzIGFzc3VtZWQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRlbnRGcm9tUHJvamVjdGlvbihwcm9qZWN0aW9uKSB7XG4gIHByb2plY3Rpb24gPSBnZXRQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICB2YXIgZXh0ZW50ID0gcHJvamVjdGlvbi5nZXRFeHRlbnQoKTtcbiAgaWYgKCFleHRlbnQpIHtcbiAgICB2YXIgaGFsZiA9IDE4MCAqIE1FVEVSU19QRVJfVU5JVFtVbml0cy5ERUdSRUVTXSAvIHByb2plY3Rpb24uZ2V0TWV0ZXJzUGVyVW5pdCgpO1xuICAgIGV4dGVudCA9IGNyZWF0ZU9yVXBkYXRlKC1oYWxmLCAtaGFsZiwgaGFsZiwgaGFsZik7XG4gIH1cbiAgcmV0dXJuIGV4dGVudDtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGlsZWdyaWQuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9UaWxlXG4gKi9cbmltcG9ydCB7YWJzdHJhY3R9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IFRpbGVDYWNoZSBmcm9tICcuLi9UaWxlQ2FjaGUuanMnO1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuLi9UaWxlU3RhdGUuanMnO1xuaW1wb3J0IEV2ZW50IGZyb20gJy4uL2V2ZW50cy9FdmVudC5qcyc7XG5pbXBvcnQge2VxdWl2YWxlbnR9IGZyb20gJy4uL3Byb2ouanMnO1xuaW1wb3J0IHt0b1NpemUsIHNjYWxlIGFzIHNjYWxlU2l6ZX0gZnJvbSAnLi4vc2l6ZS5qcyc7XG5pbXBvcnQgU291cmNlIGZyb20gJy4vU291cmNlLmpzJztcbmltcG9ydCB7Z2V0S2V5WlhZLCB3aXRoaW5FeHRlbnRBbmRafSBmcm9tICcuLi90aWxlY29vcmQuanMnO1xuaW1wb3J0IHt3cmFwWCwgZ2V0Rm9yUHJvamVjdGlvbiBhcyBnZXRUaWxlR3JpZEZvclByb2plY3Rpb259IGZyb20gJy4uL3RpbGVncmlkLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLkF0dHJpYnV0aW9uTGlrZX0gW2F0dHJpYnV0aW9uc11cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F0dHJpYnV0aW9uc0NvbGxhcHNpYmxlPXRydWVdIEF0dHJpYnV0aW9ucyBhcmUgY29sbGFwc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2NhY2hlU2l6ZV1cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW29wYXF1ZV1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGlsZVBpeGVsUmF0aW9dXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IFtwcm9qZWN0aW9uXVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1N0YXRlLmpzXCIpLmRlZmF1bHR9IFtzdGF0ZV1cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gW3RpbGVHcmlkXVxuICogQHByb3BlcnR5IHtib29sZWFufSBbd3JhcFg9dHJ1ZV1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdHJhbnNpdGlvbl1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBba2V5XVxuICovXG5cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBYnN0cmFjdCBiYXNlIGNsYXNzOyBub3JtYWxseSBvbmx5IHVzZWQgZm9yIGNyZWF0aW5nIHN1YmNsYXNzZXMgYW5kIG5vdFxuICogaW5zdGFudGlhdGVkIGluIGFwcHMuXG4gKiBCYXNlIGNsYXNzIGZvciBzb3VyY2VzIHByb3ZpZGluZyBpbWFnZXMgZGl2aWRlZCBpbnRvIGEgdGlsZSBncmlkLlxuICogQGFic3RyYWN0XG4gKiBAYXBpXG4gKi9cbnZhciBUaWxlU291cmNlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU291cmNlKSB7XG4gIGZ1bmN0aW9uIFRpbGVTb3VyY2Uob3B0aW9ucykge1xuXG4gICAgU291cmNlLmNhbGwodGhpcywge1xuICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9ucyxcbiAgICAgIGF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlOiBvcHRpb25zLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlLFxuICAgICAgcHJvamVjdGlvbjogb3B0aW9ucy5wcm9qZWN0aW9uLFxuICAgICAgc3RhdGU6IG9wdGlvbnMuc3RhdGUsXG4gICAgICB3cmFwWDogb3B0aW9ucy53cmFwWFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLm9wYXF1ZV8gPSBvcHRpb25zLm9wYXF1ZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5vcGFxdWUgOiBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbGVQaXhlbFJhdGlvXyA9IG9wdGlvbnMudGlsZVBpeGVsUmF0aW8gIT09IHVuZGVmaW5lZCA/XG4gICAgICBvcHRpb25zLnRpbGVQaXhlbFJhdGlvIDogMTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLnRpbGVHcmlkID0gb3B0aW9ucy50aWxlR3JpZCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy50aWxlR3JpZCA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL1RpbGVDYWNoZS5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMudGlsZUNhY2hlID0gbmV3IFRpbGVDYWNoZShvcHRpb25zLmNhY2hlU2l6ZSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgKi9cbiAgICB0aGlzLnRtcFNpemUgPSBbMCwgMF07XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5rZXlfID0gb3B0aW9ucy5rZXkgfHwgJyc7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL1RpbGUuanNcIikuT3B0aW9uc31cbiAgICAgKi9cbiAgICB0aGlzLnRpbGVPcHRpb25zID0ge3RyYW5zaXRpb246IG9wdGlvbnMudHJhbnNpdGlvbn07XG5cbiAgfVxuXG4gIGlmICggU291cmNlICkgVGlsZVNvdXJjZS5fX3Byb3RvX18gPSBTb3VyY2U7XG4gIFRpbGVTb3VyY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU291cmNlICYmIFNvdXJjZS5wcm90b3R5cGUgKTtcbiAgVGlsZVNvdXJjZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUaWxlU291cmNlO1xuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBDYW4gZXhwaXJlIGNhY2hlLlxuICAgKi9cbiAgVGlsZVNvdXJjZS5wcm90b3R5cGUuY2FuRXhwaXJlQ2FjaGUgPSBmdW5jdGlvbiBjYW5FeHBpcmVDYWNoZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMudGlsZUNhY2hlLmNhbkV4cGlyZUNhY2hlKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHBhcmFtIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHQ+fSB1c2VkVGlsZXMgVXNlZCB0aWxlcy5cbiAgICovXG4gIFRpbGVTb3VyY2UucHJvdG90eXBlLmV4cGlyZUNhY2hlID0gZnVuY3Rpb24gZXhwaXJlQ2FjaGUgKHByb2plY3Rpb24sIHVzZWRUaWxlcykge1xuICAgIHZhciB0aWxlQ2FjaGUgPSB0aGlzLmdldFRpbGVDYWNoZUZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgaWYgKHRpbGVDYWNoZSkge1xuICAgICAgdGlsZUNhY2hlLmV4cGlyZUNhY2hlKHVzZWRUaWxlcyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6IFpvb20gbGV2ZWwuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR9IHRpbGVSYW5nZSBUaWxlIHJhbmdlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdCk6KGJvb2xlYW58dm9pZCl9IGNhbGxiYWNrIENhbGxlZCB3aXRoIGVhY2hcbiAgICogICAgIGxvYWRlZCB0aWxlLiAgSWYgdGhlIGNhbGxiYWNrIHJldHVybnMgYGZhbHNlYCwgdGhlIHRpbGUgd2lsbCBub3QgYmVcbiAgICogICAgIGNvbnNpZGVyZWQgbG9hZGVkLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgdGlsZSByYW5nZSBpcyBmdWxseSBjb3ZlcmVkIHdpdGggbG9hZGVkIHRpbGVzLlxuICAgKi9cbiAgVGlsZVNvdXJjZS5wcm90b3R5cGUuZm9yRWFjaExvYWRlZFRpbGUgPSBmdW5jdGlvbiBmb3JFYWNoTG9hZGVkVGlsZSAocHJvamVjdGlvbiwgeiwgdGlsZVJhbmdlLCBjYWxsYmFjaykge1xuICAgIHZhciB0aWxlQ2FjaGUgPSB0aGlzLmdldFRpbGVDYWNoZUZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgaWYgKCF0aWxlQ2FjaGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgY292ZXJlZCA9IHRydWU7XG4gICAgdmFyIHRpbGUsIHRpbGVDb29yZEtleSwgbG9hZGVkO1xuICAgIGZvciAodmFyIHggPSB0aWxlUmFuZ2UubWluWDsgeCA8PSB0aWxlUmFuZ2UubWF4WDsgKyt4KSB7XG4gICAgICBmb3IgKHZhciB5ID0gdGlsZVJhbmdlLm1pblk7IHkgPD0gdGlsZVJhbmdlLm1heFk7ICsreSkge1xuICAgICAgICB0aWxlQ29vcmRLZXkgPSBnZXRLZXlaWFkoeiwgeCwgeSk7XG4gICAgICAgIGxvYWRlZCA9IGZhbHNlO1xuICAgICAgICBpZiAodGlsZUNhY2hlLmNvbnRhaW5zS2V5KHRpbGVDb29yZEtleSkpIHtcbiAgICAgICAgICB0aWxlID0gLyoqIEB0eXBlIHshaW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAodGlsZUNhY2hlLmdldCh0aWxlQ29vcmRLZXkpKTtcbiAgICAgICAgICBsb2FkZWQgPSB0aWxlLmdldFN0YXRlKCkgPT09IFRpbGVTdGF0ZS5MT0FERUQ7XG4gICAgICAgICAgaWYgKGxvYWRlZCkge1xuICAgICAgICAgICAgbG9hZGVkID0gKGNhbGxiYWNrKHRpbGUpICE9PSBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghbG9hZGVkKSB7XG4gICAgICAgICAgY292ZXJlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb3ZlcmVkO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEByZXR1cm4ge251bWJlcn0gR3V0dGVyLlxuICAgKi9cbiAgVGlsZVNvdXJjZS5wcm90b3R5cGUuZ2V0R3V0dGVyRm9yUHJvamVjdGlvbiA9IGZ1bmN0aW9uIGdldEd1dHRlckZvclByb2plY3Rpb24gKHByb2plY3Rpb24pIHtcbiAgICByZXR1cm4gMDtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBrZXkgdG8gYmUgdXNlZCBmb3IgYWxsIHRpbGVzIGluIHRoZSBzb3VyY2UuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGtleSBmb3IgYWxsIHRpbGVzLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBUaWxlU291cmNlLnByb3RvdHlwZS5nZXRLZXkgPSBmdW5jdGlvbiBnZXRLZXkgKCkge1xuICAgIHJldHVybiB0aGlzLmtleV87XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdmFsdWUgdG8gYmUgdXNlZCBhcyB0aGUga2V5IGZvciBhbGwgdGlsZXMgaW4gdGhlIHNvdXJjZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IGZvciB0aWxlcy5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgVGlsZVNvdXJjZS5wcm90b3R5cGUuc2V0S2V5ID0gZnVuY3Rpb24gc2V0S2V5IChrZXkpIHtcbiAgICBpZiAodGhpcy5rZXlfICE9PSBrZXkpIHtcbiAgICAgIHRoaXMua2V5XyA9IGtleTtcbiAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBPcGFxdWUuXG4gICAqL1xuICBUaWxlU291cmNlLnByb3RvdHlwZS5nZXRPcGFxdWUgPSBmdW5jdGlvbiBnZXRPcGFxdWUgKHByb2plY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy5vcGFxdWVfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgVGlsZVNvdXJjZS5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbnMgPSBmdW5jdGlvbiBnZXRSZXNvbHV0aW9ucyAoKSB7XG4gICAgcmV0dXJuIHRoaXMudGlsZUdyaWQuZ2V0UmVzb2x1dGlvbnMoKTtcbiAgfTtcblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6IFRpbGUgY29vcmRpbmF0ZSB6LlxuICAgKiBAcGFyYW0ge251bWJlcn0geCBUaWxlIGNvb3JkaW5hdGUgeC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGlsZSBjb29yZGluYXRlIHkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEByZXR1cm4geyFpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLmRlZmF1bHR9IFRpbGUuXG4gICAqL1xuICBUaWxlU291cmNlLnByb3RvdHlwZS5nZXRUaWxlID0gZnVuY3Rpb24gZ2V0VGlsZSAoeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIHRpbGUgZ3JpZCBvZiB0aGUgdGlsZSBzb3VyY2UuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IFRpbGUgZ3JpZC5cbiAgICogQGFwaVxuICAgKi9cbiAgVGlsZVNvdXJjZS5wcm90b3R5cGUuZ2V0VGlsZUdyaWQgPSBmdW5jdGlvbiBnZXRUaWxlR3JpZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMudGlsZUdyaWQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7IWltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IFRpbGUgZ3JpZC5cbiAgICovXG4gIFRpbGVTb3VyY2UucHJvdG90eXBlLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbiA9IGZ1bmN0aW9uIGdldFRpbGVHcmlkRm9yUHJvamVjdGlvbiQxIChwcm9qZWN0aW9uKSB7XG4gICAgaWYgKCF0aGlzLnRpbGVHcmlkKSB7XG4gICAgICByZXR1cm4gZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy50aWxlR3JpZDtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vVGlsZUNhY2hlLmpzXCIpLmRlZmF1bHR9IFRpbGUgY2FjaGUuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIFRpbGVTb3VyY2UucHJvdG90eXBlLmdldFRpbGVDYWNoZUZvclByb2plY3Rpb24gPSBmdW5jdGlvbiBnZXRUaWxlQ2FjaGVGb3JQcm9qZWN0aW9uIChwcm9qZWN0aW9uKSB7XG4gICAgdmFyIHRoaXNQcm9qID0gdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG4gICAgaWYgKHRoaXNQcm9qICYmICFlcXVpdmFsZW50KHRoaXNQcm9qLCBwcm9qZWN0aW9uKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnRpbGVDYWNoZTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdGlsZSBwaXhlbCByYXRpbyBmb3IgdGhpcyBzb3VyY2UuIFN1YmNsYXNzZXMgbWF5IG92ZXJyaWRlIHRoaXNcbiAgICogbWV0aG9kLCB3aGljaCBpcyBtZWFudCB0byByZXR1cm4gYSBzdXBwb3J0ZWQgcGl4ZWwgcmF0aW8gdGhhdCBtYXRjaGVzIHRoZVxuICAgKiBwcm92aWRlZCBgcGl4ZWxSYXRpb2AgYXMgY2xvc2UgYXMgcG9zc2libGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRpbGUgcGl4ZWwgcmF0aW8uXG4gICAqL1xuICBUaWxlU291cmNlLnByb3RvdHlwZS5nZXRUaWxlUGl4ZWxSYXRpbyA9IGZ1bmN0aW9uIGdldFRpbGVQaXhlbFJhdGlvIChwaXhlbFJhdGlvKSB7XG4gICAgcmV0dXJuIHRoaXMudGlsZVBpeGVsUmF0aW9fO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0geiBaLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFRpbGUgc2l6ZS5cbiAgICovXG4gIFRpbGVTb3VyY2UucHJvdG90eXBlLmdldFRpbGVQaXhlbFNpemUgPSBmdW5jdGlvbiBnZXRUaWxlUGl4ZWxTaXplICh6LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKSB7XG4gICAgdmFyIHRpbGVHcmlkID0gdGhpcy5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgdmFyIHRpbGVQaXhlbFJhdGlvID0gdGhpcy5nZXRUaWxlUGl4ZWxSYXRpbyhwaXhlbFJhdGlvKTtcbiAgICB2YXIgdGlsZVNpemUgPSB0b1NpemUodGlsZUdyaWQuZ2V0VGlsZVNpemUoeiksIHRoaXMudG1wU2l6ZSk7XG4gICAgaWYgKHRpbGVQaXhlbFJhdGlvID09IDEpIHtcbiAgICAgIHJldHVybiB0aWxlU2l6ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHNjYWxlU2l6ZSh0aWxlU2l6ZSwgdGlsZVBpeGVsUmF0aW8sIHRoaXMudG1wU2l6ZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgdGlsZSBjb29yZGluYXRlIHdyYXBwZWQgYXJvdW5kIHRoZSB4LWF4aXMuIFdoZW4gdGhlIHRpbGUgY29vcmRpbmF0ZVxuICAgKiBpcyBvdXRzaWRlIHRoZSByZXNvbHV0aW9uIGFuZCBleHRlbnQgcmFuZ2Ugb2YgdGhlIHRpbGUgZ3JpZCwgYG51bGxgIHdpbGwgYmVcbiAgICogcmV0dXJuZWQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdD19IG9wdF9wcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IFRpbGUgY29vcmRpbmF0ZSB0byBiZSBwYXNzZWQgdG8gdGhlIHRpbGVVcmxGdW5jdGlvbiBvclxuICAgKiAgICAgbnVsbCBpZiBubyB0aWxlIFVSTCBzaG91bGQgYmUgY3JlYXRlZCBmb3IgdGhlIHBhc3NlZCBgdGlsZUNvb3JkYC5cbiAgICovXG4gIFRpbGVTb3VyY2UucHJvdG90eXBlLmdldFRpbGVDb29yZEZvclRpbGVVcmxGdW5jdGlvbiA9IGZ1bmN0aW9uIGdldFRpbGVDb29yZEZvclRpbGVVcmxGdW5jdGlvbiAodGlsZUNvb3JkLCBvcHRfcHJvamVjdGlvbikge1xuICAgIHZhciBwcm9qZWN0aW9uID0gb3B0X3Byb2plY3Rpb24gIT09IHVuZGVmaW5lZCA/XG4gICAgICBvcHRfcHJvamVjdGlvbiA6IHRoaXMuZ2V0UHJvamVjdGlvbigpO1xuICAgIHZhciB0aWxlR3JpZCA9IHRoaXMuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIGlmICh0aGlzLmdldFdyYXBYKCkgJiYgcHJvamVjdGlvbi5pc0dsb2JhbCgpKSB7XG4gICAgICB0aWxlQ29vcmQgPSB3cmFwWCh0aWxlR3JpZCwgdGlsZUNvb3JkLCBwcm9qZWN0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIHdpdGhpbkV4dGVudEFuZFoodGlsZUNvb3JkLCB0aWxlR3JpZCkgPyB0aWxlQ29vcmQgOiBudWxsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgVGlsZVNvdXJjZS5wcm90b3R5cGUucmVmcmVzaCA9IGZ1bmN0aW9uIHJlZnJlc2ggKCkge1xuICAgIHRoaXMudGlsZUNhY2hlLmNsZWFyKCk7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1hcmtzIGEgdGlsZSBjb29yZCBhcyBiZWluZyB1c2VkLCB3aXRob3V0IHRyaWdnZXJpbmcgYSBsb2FkLlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtudW1iZXJ9IHogVGlsZSBjb29yZGluYXRlIHouXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRpbGUgY29vcmRpbmF0ZSB4LlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBUaWxlIGNvb3JkaW5hdGUgeS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKi9cbiAgVGlsZVNvdXJjZS5wcm90b3R5cGUudXNlVGlsZSA9IGZ1bmN0aW9uIHVzZVRpbGUgKHosIHgsIHksIHByb2plY3Rpb24pIHt9O1xuXG4gIHJldHVybiBUaWxlU291cmNlO1xufShTb3VyY2UpKTtcblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEV2ZW50cyBlbWl0dGVkIGJ5IHtAbGluayBtb2R1bGU6b2wvc291cmNlL1RpbGV+VGlsZVNvdXJjZX0gaW5zdGFuY2VzIGFyZSBpbnN0YW5jZXMgb2YgdGhpc1xuICogdHlwZS5cbiAqL1xuZXhwb3J0IHZhciBUaWxlU291cmNlRXZlbnQgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChFdmVudCkge1xuICBmdW5jdGlvbiBUaWxlU291cmNlRXZlbnQodHlwZSwgdGlsZSkge1xuXG4gICAgRXZlbnQuY2FsbCh0aGlzLCB0eXBlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0aWxlIHJlbGF0ZWQgdG8gdGhlIGV2ZW50LlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLmRlZmF1bHR9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMudGlsZSA9IHRpbGU7XG5cbiAgfVxuXG4gIGlmICggRXZlbnQgKSBUaWxlU291cmNlRXZlbnQuX19wcm90b19fID0gRXZlbnQ7XG4gIFRpbGVTb3VyY2VFdmVudC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBFdmVudCAmJiBFdmVudC5wcm90b3R5cGUgKTtcbiAgVGlsZVNvdXJjZUV2ZW50LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRpbGVTb3VyY2VFdmVudDtcblxuICByZXR1cm4gVGlsZVNvdXJjZUV2ZW50O1xufShFdmVudCkpO1xuXG5leHBvcnQgZGVmYXVsdCBUaWxlU291cmNlO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvVGlsZUV2ZW50VHlwZVxuICovXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuXG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgd2hlbiBhIHRpbGUgc3RhcnRzIGxvYWRpbmcuXG4gICAqIEBldmVudCBtb2R1bGU6b2wvc291cmNlL1RpbGUuVGlsZVNvdXJjZUV2ZW50I3RpbGVsb2Fkc3RhcnRcbiAgICogQGFwaVxuICAgKi9cbiAgVElMRUxPQURTVEFSVDogJ3RpbGVsb2Fkc3RhcnQnLFxuXG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgd2hlbiBhIHRpbGUgZmluaXNoZXMgbG9hZGluZywgZWl0aGVyIHdoZW4gaXRzIGRhdGEgaXMgbG9hZGVkLFxuICAgKiBvciB3aGVuIGxvYWRpbmcgd2FzIGFib3J0ZWQgYmVjYXVzZSB0aGUgdGlsZSBpcyBubyBsb25nZXIgbmVlZGVkLlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL3NvdXJjZS9UaWxlLlRpbGVTb3VyY2VFdmVudCN0aWxlbG9hZGVuZFxuICAgKiBAYXBpXG4gICAqL1xuICBUSUxFTE9BREVORDogJ3RpbGVsb2FkZW5kJyxcblxuICAvKipcbiAgICogVHJpZ2dlcmVkIGlmIHRpbGUgbG9hZGluZyByZXN1bHRzIGluIGFuIGVycm9yLlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL3NvdXJjZS9UaWxlLlRpbGVTb3VyY2VFdmVudCN0aWxlbG9hZGVycm9yXG4gICAqIEBhcGlcbiAgICovXG4gIFRJTEVMT0FERVJST1I6ICd0aWxlbG9hZGVycm9yJ1xuXG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxlRXZlbnRUeXBlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvVXJsVGlsZVxuICovXG5pbXBvcnQge2dldFVpZH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4uL1RpbGVTdGF0ZS5qcyc7XG5pbXBvcnQge2V4cGFuZFVybCwgY3JlYXRlRnJvbVRlbXBsYXRlcywgbnVsbFRpbGVVcmxGdW5jdGlvbn0gZnJvbSAnLi4vdGlsZXVybGZ1bmN0aW9uLmpzJztcbmltcG9ydCBUaWxlU291cmNlLCB7VGlsZVNvdXJjZUV2ZW50fSBmcm9tICcuL1RpbGUuanMnO1xuaW1wb3J0IFRpbGVFdmVudFR5cGUgZnJvbSAnLi9UaWxlRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7Z2V0S2V5WlhZfSBmcm9tICcuLi90aWxlY29vcmQuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9Tb3VyY2UuanNcIikuQXR0cmlidXRpb25MaWtlfSBbYXR0cmlidXRpb25zXVxuICogQHByb3BlcnR5IHtib29sZWFufSBbYXR0cmlidXRpb25zQ29sbGFwc2libGU9dHJ1ZV0gQXR0cmlidXRpb25zIGFyZSBjb2xsYXBzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY2FjaGVTaXplXVxuICogQHByb3BlcnR5IHtib29sZWFufSBbb3BhcXVlXVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbl1cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9TdGF0ZS5qc1wiKS5kZWZhdWx0fSBbc3RhdGVdXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IFt0aWxlR3JpZF1cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5Mb2FkRnVuY3Rpb259IHRpbGVMb2FkRnVuY3Rpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGlsZVBpeGVsUmF0aW9dXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL1RpbGUuanNcIikuVXJsRnVuY3Rpb259IFt0aWxlVXJsRnVuY3Rpb25dXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3VybF1cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gW3VybHNdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3cmFwWD10cnVlXVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0cmFuc2l0aW9uXVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtrZXldXG4gKi9cblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEJhc2UgY2xhc3MgZm9yIHNvdXJjZXMgcHJvdmlkaW5nIHRpbGVzIGRpdmlkZWQgaW50byBhIHRpbGUgZ3JpZCBvdmVyIGh0dHAuXG4gKlxuICogQGZpcmVzIGltcG9ydChcIi4vVGlsZS5qc1wiKS5UaWxlU291cmNlRXZlbnRcbiAqL1xudmFyIFVybFRpbGUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChUaWxlU291cmNlKSB7XG4gIGZ1bmN0aW9uIFVybFRpbGUob3B0aW9ucykge1xuXG4gICAgVGlsZVNvdXJjZS5jYWxsKHRoaXMsIHtcbiAgICAgIGF0dHJpYnV0aW9uczogb3B0aW9ucy5hdHRyaWJ1dGlvbnMsXG4gICAgICBjYWNoZVNpemU6IG9wdGlvbnMuY2FjaGVTaXplLFxuICAgICAgb3BhcXVlOiBvcHRpb25zLm9wYXF1ZSxcbiAgICAgIHByb2plY3Rpb246IG9wdGlvbnMucHJvamVjdGlvbixcbiAgICAgIHN0YXRlOiBvcHRpb25zLnN0YXRlLFxuICAgICAgdGlsZUdyaWQ6IG9wdGlvbnMudGlsZUdyaWQsXG4gICAgICB0aWxlUGl4ZWxSYXRpbzogb3B0aW9ucy50aWxlUGl4ZWxSYXRpbyxcbiAgICAgIHdyYXBYOiBvcHRpb25zLndyYXBYLFxuICAgICAgdHJhbnNpdGlvbjogb3B0aW9ucy50cmFuc2l0aW9uLFxuICAgICAga2V5OiBvcHRpb25zLmtleSxcbiAgICAgIGF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlOiBvcHRpb25zLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuZ2VuZXJhdGVUaWxlVXJsRnVuY3Rpb25fID0gIW9wdGlvbnMudGlsZVVybEZ1bmN0aW9uO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbGVMb2FkRnVuY3Rpb24gPSBvcHRpb25zLnRpbGVMb2FkRnVuY3Rpb247XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL1RpbGUuanNcIikuVXJsRnVuY3Rpb259XG4gICAgICovXG4gICAgdGhpcy50aWxlVXJsRnVuY3Rpb24gPSBvcHRpb25zLnRpbGVVcmxGdW5jdGlvbiA/IG9wdGlvbnMudGlsZVVybEZ1bmN0aW9uLmJpbmQodGhpcykgOiBudWxsVGlsZVVybEZ1bmN0aW9uO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHshQXJyYXk8c3RyaW5nPnxudWxsfVxuICAgICAqL1xuICAgIHRoaXMudXJscyA9IG51bGw7XG5cbiAgICBpZiAob3B0aW9ucy51cmxzKSB7XG4gICAgICB0aGlzLnNldFVybHMob3B0aW9ucy51cmxzKTtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMudXJsKSB7XG4gICAgICB0aGlzLnNldFVybChvcHRpb25zLnVybCk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMudGlsZVVybEZ1bmN0aW9uKSB7XG4gICAgICB0aGlzLnNldFRpbGVVcmxGdW5jdGlvbihvcHRpb25zLnRpbGVVcmxGdW5jdGlvbiwgdGhpcy5rZXlfKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgYm9vbGVhbj59XG4gICAgICovXG4gICAgdGhpcy50aWxlTG9hZGluZ0tleXNfID0ge307XG5cbiAgfVxuXG4gIGlmICggVGlsZVNvdXJjZSApIFVybFRpbGUuX19wcm90b19fID0gVGlsZVNvdXJjZTtcbiAgVXJsVGlsZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBUaWxlU291cmNlICYmIFRpbGVTb3VyY2UucHJvdG90eXBlICk7XG4gIFVybFRpbGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVXJsVGlsZTtcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSB0aWxlIGxvYWQgZnVuY3Rpb24gb2YgdGhlIHNvdXJjZS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5Mb2FkRnVuY3Rpb259IFRpbGVMb2FkRnVuY3Rpb25cbiAgICogQGFwaVxuICAgKi9cbiAgVXJsVGlsZS5wcm90b3R5cGUuZ2V0VGlsZUxvYWRGdW5jdGlvbiA9IGZ1bmN0aW9uIGdldFRpbGVMb2FkRnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnRpbGVMb2FkRnVuY3Rpb247XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgdGlsZSBVUkwgZnVuY3Rpb24gb2YgdGhlIHNvdXJjZS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbn0gVGlsZVVybEZ1bmN0aW9uXG4gICAqIEBhcGlcbiAgICovXG4gIFVybFRpbGUucHJvdG90eXBlLmdldFRpbGVVcmxGdW5jdGlvbiA9IGZ1bmN0aW9uIGdldFRpbGVVcmxGdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudGlsZVVybEZ1bmN0aW9uO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIFVSTHMgdXNlZCBmb3IgdGhpcyBzb3VyY2UuXG4gICAqIFdoZW4gYSB0aWxlVXJsRnVuY3Rpb24gaXMgdXNlZCBpbnN0ZWFkIG9mIHVybCBvciB1cmxzLFxuICAgKiBudWxsIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAqIEByZXR1cm4geyFBcnJheTxzdHJpbmc+fG51bGx9IFVSTHMuXG4gICAqIEBhcGlcbiAgICovXG4gIFVybFRpbGUucHJvdG90eXBlLmdldFVybHMgPSBmdW5jdGlvbiBnZXRVcmxzICgpIHtcbiAgICByZXR1cm4gdGhpcy51cmxzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgdGlsZSBjaGFuZ2UgZXZlbnRzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0fSBldmVudCBFdmVudC5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgVXJsVGlsZS5wcm90b3R5cGUuaGFuZGxlVGlsZUNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZVRpbGVDaGFuZ2UgKGV2ZW50KSB7XG4gICAgdmFyIHRpbGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdH0gKi8gKGV2ZW50LnRhcmdldCk7XG4gICAgdmFyIHVpZCA9IGdldFVpZCh0aWxlKTtcbiAgICB2YXIgdGlsZVN0YXRlID0gdGlsZS5nZXRTdGF0ZSgpO1xuICAgIHZhciB0eXBlO1xuICAgIGlmICh0aWxlU3RhdGUgPT0gVGlsZVN0YXRlLkxPQURJTkcpIHtcbiAgICAgIHRoaXMudGlsZUxvYWRpbmdLZXlzX1t1aWRdID0gdHJ1ZTtcbiAgICAgIHR5cGUgPSBUaWxlRXZlbnRUeXBlLlRJTEVMT0FEU1RBUlQ7XG4gICAgfSBlbHNlIGlmICh1aWQgaW4gdGhpcy50aWxlTG9hZGluZ0tleXNfKSB7XG4gICAgICBkZWxldGUgdGhpcy50aWxlTG9hZGluZ0tleXNfW3VpZF07XG4gICAgICB0eXBlID0gdGlsZVN0YXRlID09IFRpbGVTdGF0ZS5FUlJPUiA/IFRpbGVFdmVudFR5cGUuVElMRUxPQURFUlJPUiA6XG4gICAgICAgICh0aWxlU3RhdGUgPT0gVGlsZVN0YXRlLkxPQURFRCB8fCB0aWxlU3RhdGUgPT0gVGlsZVN0YXRlLkFCT1JUKSA/XG4gICAgICAgICAgVGlsZUV2ZW50VHlwZS5USUxFTE9BREVORCA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHR5cGUgIT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IFRpbGVTb3VyY2VFdmVudCh0eXBlLCB0aWxlKSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHRpbGUgbG9hZCBmdW5jdGlvbiBvZiB0aGUgc291cmNlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufSB0aWxlTG9hZEZ1bmN0aW9uIFRpbGUgbG9hZCBmdW5jdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgVXJsVGlsZS5wcm90b3R5cGUuc2V0VGlsZUxvYWRGdW5jdGlvbiA9IGZ1bmN0aW9uIHNldFRpbGVMb2FkRnVuY3Rpb24gKHRpbGVMb2FkRnVuY3Rpb24pIHtcbiAgICB0aGlzLnRpbGVDYWNoZS5jbGVhcigpO1xuICAgIHRoaXMudGlsZUxvYWRGdW5jdGlvbiA9IHRpbGVMb2FkRnVuY3Rpb247XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdGlsZSBVUkwgZnVuY3Rpb24gb2YgdGhlIHNvdXJjZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9ufSB0aWxlVXJsRnVuY3Rpb24gVGlsZSBVUkwgZnVuY3Rpb24uXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0ga2V5IE9wdGlvbmFsIG5ldyB0aWxlIGtleSBmb3IgdGhlIHNvdXJjZS5cbiAgICogQGFwaVxuICAgKi9cbiAgVXJsVGlsZS5wcm90b3R5cGUuc2V0VGlsZVVybEZ1bmN0aW9uID0gZnVuY3Rpb24gc2V0VGlsZVVybEZ1bmN0aW9uICh0aWxlVXJsRnVuY3Rpb24sIGtleSkge1xuICAgIHRoaXMudGlsZVVybEZ1bmN0aW9uID0gdGlsZVVybEZ1bmN0aW9uO1xuICAgIHRoaXMudGlsZUNhY2hlLnBydW5lRXhjZXB0TmV3ZXN0WigpO1xuICAgIGlmICh0eXBlb2Yga2V5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5zZXRLZXkoa2V5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIFVSTCB0byB1c2UgZm9yIHJlcXVlc3RzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFVSTC5cbiAgICogQGFwaVxuICAgKi9cbiAgVXJsVGlsZS5wcm90b3R5cGUuc2V0VXJsID0gZnVuY3Rpb24gc2V0VXJsICh1cmwpIHtcbiAgICB2YXIgdXJscyA9IHRoaXMudXJscyA9IGV4cGFuZFVybCh1cmwpO1xuICAgIHRoaXMuc2V0VXJscyh1cmxzKTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IHRoZSBVUkxzIHRvIHVzZSBmb3IgcmVxdWVzdHMuXG4gICAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gdXJscyBVUkxzLlxuICAgKiBAYXBpXG4gICAqL1xuICBVcmxUaWxlLnByb3RvdHlwZS5zZXRVcmxzID0gZnVuY3Rpb24gc2V0VXJscyAodXJscykge1xuICAgIHRoaXMudXJscyA9IHVybHM7XG4gICAgdmFyIGtleSA9IHVybHMuam9pbignXFxuJyk7XG4gICAgaWYgKHRoaXMuZ2VuZXJhdGVUaWxlVXJsRnVuY3Rpb25fKSB7XG4gICAgICB0aGlzLnNldFRpbGVVcmxGdW5jdGlvbihjcmVhdGVGcm9tVGVtcGxhdGVzKHVybHMsIHRoaXMudGlsZUdyaWQpLCBrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldEtleShrZXkpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIFVybFRpbGUucHJvdG90eXBlLnVzZVRpbGUgPSBmdW5jdGlvbiB1c2VUaWxlICh6LCB4LCB5KSB7XG4gICAgdmFyIHRpbGVDb29yZEtleSA9IGdldEtleVpYWSh6LCB4LCB5KTtcbiAgICBpZiAodGhpcy50aWxlQ2FjaGUuY29udGFpbnNLZXkodGlsZUNvb3JkS2V5KSkge1xuICAgICAgdGhpcy50aWxlQ2FjaGUuZ2V0KHRpbGVDb29yZEtleSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBVcmxUaWxlO1xufShUaWxlU291cmNlKSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgVXJsVGlsZTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VXJsVGlsZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1RpbGVJbWFnZVxuICovXG5pbXBvcnQge0VOQUJMRV9SQVNURVJfUkVQUk9KRUNUSU9OfSBmcm9tICcuLi9yZXByb2ovY29tbW9uLmpzJztcbmltcG9ydCB7Z2V0VWlkfSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCBJbWFnZVRpbGUgZnJvbSAnLi4vSW1hZ2VUaWxlLmpzJztcbmltcG9ydCBUaWxlQ2FjaGUgZnJvbSAnLi4vVGlsZUNhY2hlLmpzJztcbmltcG9ydCBUaWxlU3RhdGUgZnJvbSAnLi4vVGlsZVN0YXRlLmpzJztcbmltcG9ydCB7bGlzdGVufSBmcm9tICcuLi9ldmVudHMuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7ZXF1aXZhbGVudCwgZ2V0IGFzIGdldFByb2plY3Rpb259IGZyb20gJy4uL3Byb2ouanMnO1xuaW1wb3J0IFJlcHJvalRpbGUgZnJvbSAnLi4vcmVwcm9qL1RpbGUuanMnO1xuaW1wb3J0IFVybFRpbGUgZnJvbSAnLi9VcmxUaWxlLmpzJztcbmltcG9ydCB7Z2V0S2V5LCBnZXRLZXlaWFl9IGZyb20gJy4uL3RpbGVjb29yZC5qcyc7XG5pbXBvcnQge2dldEZvclByb2plY3Rpb24gYXMgZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9ufSBmcm9tICcuLi90aWxlZ3JpZC5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5BdHRyaWJ1dGlvbkxpa2V9IFthdHRyaWJ1dGlvbnNdIEF0dHJpYnV0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F0dHJpYnV0aW9uc0NvbGxhcHNpYmxlPXRydWVdIEF0dHJpYnV0aW9ucyBhcmUgY29sbGFwc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2NhY2hlU2l6ZT0yMDQ4XSBDYWNoZSBzaXplLlxuICogQHByb3BlcnR5IHtudWxsfHN0cmluZ30gW2Nyb3NzT3JpZ2luXSBUaGUgYGNyb3NzT3JpZ2luYCBhdHRyaWJ1dGUgZm9yIGxvYWRlZCBpbWFnZXMuICBOb3RlIHRoYXRcbiAqIHlvdSBtdXN0IHByb3ZpZGUgYSBgY3Jvc3NPcmlnaW5gIHZhbHVlIGlmIHlvdSBhcmUgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyIG9yIGlmIHlvdSB3YW50IHRvXG4gKiBhY2Nlc3MgcGl4ZWwgZGF0YSB3aXRoIHRoZSBDYW52YXMgcmVuZGVyZXIuICBTZWVcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvQ09SU19lbmFibGVkX2ltYWdlIGZvciBtb3JlIGRldGFpbC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW29wYXF1ZT10cnVlXSBXaGV0aGVyIHRoZSBsYXllciBpcyBvcGFxdWUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQ9MC41XSBNYXhpbXVtIGFsbG93ZWQgcmVwcm9qZWN0aW9uIGVycm9yIChpbiBwaXhlbHMpLlxuICogSGlnaGVyIHZhbHVlcyBjYW4gaW5jcmVhc2UgcmVwcm9qZWN0aW9uIHBlcmZvcm1hbmNlLCBidXQgZGVjcmVhc2UgcHJlY2lzaW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1N0YXRlLmpzXCIpLmRlZmF1bHR9IFtzdGF0ZV0gU291cmNlIHN0YXRlLlxuICogQHByb3BlcnR5IHt0eXBlb2YgaW1wb3J0KFwiLi4vSW1hZ2VUaWxlLmpzXCIpLmRlZmF1bHR9IFt0aWxlQ2xhc3NdIENsYXNzIHVzZWQgdG8gaW5zdGFudGlhdGUgaW1hZ2UgdGlsZXMuXG4gKiBEZWZhdWx0IGlzIHtAbGluayBtb2R1bGU6b2wvSW1hZ2VUaWxlfkltYWdlVGlsZX0uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IFt0aWxlR3JpZF0gVGlsZSBncmlkLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn0gW3RpbGVMb2FkRnVuY3Rpb25dIE9wdGlvbmFsIGZ1bmN0aW9uIHRvIGxvYWQgYSB0aWxlIGdpdmVuIGEgVVJMLiBUaGUgZGVmYXVsdCBpc1xuICogYGBganNcbiAqIGZ1bmN0aW9uKGltYWdlVGlsZSwgc3JjKSB7XG4gKiAgIGltYWdlVGlsZS5nZXRJbWFnZSgpLnNyYyA9IHNyYztcbiAqIH07XG4gKiBgYGBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGlsZVBpeGVsUmF0aW89MV0gVGhlIHBpeGVsIHJhdGlvIHVzZWQgYnkgdGhlIHRpbGUgc2VydmljZS4gRm9yIGV4YW1wbGUsIGlmIHRoZSB0aWxlXG4gKiBzZXJ2aWNlIGFkdmVydGl6ZXMgMjU2cHggYnkgMjU2cHggdGlsZXMgYnV0IGFjdHVhbGx5IHNlbmRzIDUxMnB4XG4gKiBieSA1MTJweCBpbWFnZXMgKGZvciByZXRpbmEvaGlkcGkgZGV2aWNlcykgdGhlbiBgdGlsZVBpeGVsUmF0aW9gXG4gKiBzaG91bGQgYmUgc2V0IHRvIGAyYC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbn0gW3RpbGVVcmxGdW5jdGlvbl0gT3B0aW9uYWwgZnVuY3Rpb24gdG8gZ2V0IHRpbGUgVVJMIGdpdmVuIGEgdGlsZSBjb29yZGluYXRlIGFuZCB0aGUgcHJvamVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdXJsXSBVUkwgdGVtcGxhdGUuIE11c3QgaW5jbHVkZSBge3h9YCwgYHt5fWAgb3IgYHsteX1gLCBhbmQgYHt6fWAgcGxhY2Vob2xkZXJzLlxuICogQSBgez8tP31gIHRlbXBsYXRlIHBhdHRlcm4sIGZvciBleGFtcGxlIGBzdWJkb21haW57YS1mfS5kb21haW4uY29tYCwgbWF5IGJlXG4gKiB1c2VkIGluc3RlYWQgb2YgZGVmaW5pbmcgZWFjaCBvbmUgc2VwYXJhdGVseSBpbiB0aGUgYHVybHNgIG9wdGlvbi5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gW3VybHNdIEFuIGFycmF5IG9mIFVSTCB0ZW1wbGF0ZXMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3cmFwWF0gV2hldGhlciB0byB3cmFwIHRoZSB3b3JsZCBob3Jpem9udGFsbHkuIFRoZSBkZWZhdWx0LCBpcyB0b1xuICogcmVxdWVzdCBvdXQtb2YtYm91bmRzIHRpbGVzIGZyb20gdGhlIHNlcnZlci4gV2hlbiBzZXQgdG8gYGZhbHNlYCwgb25seSBvbmVcbiAqIHdvcmxkIHdpbGwgYmUgcmVuZGVyZWQuIFdoZW4gc2V0IHRvIGB0cnVlYCwgdGlsZXMgd2lsbCBiZSByZXF1ZXN0ZWQgZm9yIG9uZVxuICogd29ybGQgb25seSwgYnV0IHRoZXkgd2lsbCBiZSB3cmFwcGVkIGhvcml6b250YWxseSB0byByZW5kZXIgbXVsdGlwbGUgd29ybGRzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0cmFuc2l0aW9uXSBEdXJhdGlvbiBvZiB0aGUgb3BhY2l0eSB0cmFuc2l0aW9uIGZvciByZW5kZXJpbmcuXG4gKiBUbyBkaXNhYmxlIHRoZSBvcGFjaXR5IHRyYW5zaXRpb24sIHBhc3MgYHRyYW5zaXRpb246IDBgLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtrZXldIE9wdGlvbmFsIHRpbGUga2V5IGZvciBwcm9wZXIgY2FjaGUgZmV0Y2hpbmdcbiAqL1xuXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQmFzZSBjbGFzcyBmb3Igc291cmNlcyBwcm92aWRpbmcgaW1hZ2VzIGRpdmlkZWQgaW50byBhIHRpbGUgZ3JpZC5cbiAqXG4gKiBAZmlyZXMgaW1wb3J0KFwiLi9UaWxlLmpzXCIpLlRpbGVTb3VyY2VFdmVudFxuICogQGFwaVxuICovXG52YXIgVGlsZUltYWdlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoVXJsVGlsZSkge1xuICBmdW5jdGlvbiBUaWxlSW1hZ2Uob3B0aW9ucykge1xuXG4gICAgVXJsVGlsZS5jYWxsKHRoaXMsIHtcbiAgICAgIGF0dHJpYnV0aW9uczogb3B0aW9ucy5hdHRyaWJ1dGlvbnMsXG4gICAgICBjYWNoZVNpemU6IG9wdGlvbnMuY2FjaGVTaXplLFxuICAgICAgb3BhcXVlOiBvcHRpb25zLm9wYXF1ZSxcbiAgICAgIHByb2plY3Rpb246IG9wdGlvbnMucHJvamVjdGlvbixcbiAgICAgIHN0YXRlOiBvcHRpb25zLnN0YXRlLFxuICAgICAgdGlsZUdyaWQ6IG9wdGlvbnMudGlsZUdyaWQsXG4gICAgICB0aWxlTG9hZEZ1bmN0aW9uOiBvcHRpb25zLnRpbGVMb2FkRnVuY3Rpb24gP1xuICAgICAgICBvcHRpb25zLnRpbGVMb2FkRnVuY3Rpb24gOiBkZWZhdWx0VGlsZUxvYWRGdW5jdGlvbixcbiAgICAgIHRpbGVQaXhlbFJhdGlvOiBvcHRpb25zLnRpbGVQaXhlbFJhdGlvLFxuICAgICAgdGlsZVVybEZ1bmN0aW9uOiBvcHRpb25zLnRpbGVVcmxGdW5jdGlvbixcbiAgICAgIHVybDogb3B0aW9ucy51cmwsXG4gICAgICB1cmxzOiBvcHRpb25zLnVybHMsXG4gICAgICB3cmFwWDogb3B0aW9ucy53cmFwWCxcbiAgICAgIHRyYW5zaXRpb246IG9wdGlvbnMudHJhbnNpdGlvbixcbiAgICAgIGtleTogb3B0aW9ucy5rZXksXG4gICAgICBhdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZTogb3B0aW9ucy5hdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHs/c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuY3Jvc3NPcmlnaW4gPVxuICAgICAgICBvcHRpb25zLmNyb3NzT3JpZ2luICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNyb3NzT3JpZ2luIDogbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7dHlwZW9mIEltYWdlVGlsZX1cbiAgICAgKi9cbiAgICB0aGlzLnRpbGVDbGFzcyA9IG9wdGlvbnMudGlsZUNsYXNzICE9PSB1bmRlZmluZWQgP1xuICAgICAgb3B0aW9ucy50aWxlQ2xhc3MgOiBJbWFnZVRpbGU7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBUaWxlQ2FjaGU+fVxuICAgICAqL1xuICAgIHRoaXMudGlsZUNhY2hlRm9yUHJvamVjdGlvbiA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdD59XG4gICAgICovXG4gICAgdGhpcy50aWxlR3JpZEZvclByb2plY3Rpb24gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5yZXByb2plY3Rpb25FcnJvclRocmVzaG9sZF8gPSBvcHRpb25zLnJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlclJlcHJvamVjdGlvbkVkZ2VzXyA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKCBVcmxUaWxlICkgVGlsZUltYWdlLl9fcHJvdG9fXyA9IFVybFRpbGU7XG4gIFRpbGVJbWFnZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBVcmxUaWxlICYmIFVybFRpbGUucHJvdG90eXBlICk7XG4gIFRpbGVJbWFnZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUaWxlSW1hZ2U7XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBUaWxlSW1hZ2UucHJvdG90eXBlLmNhbkV4cGlyZUNhY2hlID0gZnVuY3Rpb24gY2FuRXhwaXJlQ2FjaGUgKCkge1xuICAgIGlmICghRU5BQkxFX1JBU1RFUl9SRVBST0pFQ1RJT04pIHtcbiAgICAgIHJldHVybiBVcmxUaWxlLnByb3RvdHlwZS5jYW5FeHBpcmVDYWNoZS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICBpZiAodGhpcy50aWxlQ2FjaGUuY2FuRXhwaXJlQ2FjaGUoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnRpbGVDYWNoZUZvclByb2plY3Rpb24pIHtcbiAgICAgICAgaWYgKHRoaXMudGlsZUNhY2hlRm9yUHJvamVjdGlvbltrZXldLmNhbkV4cGlyZUNhY2hlKCkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBUaWxlSW1hZ2UucHJvdG90eXBlLmV4cGlyZUNhY2hlID0gZnVuY3Rpb24gZXhwaXJlQ2FjaGUgKHByb2plY3Rpb24sIHVzZWRUaWxlcykge1xuICAgIGlmICghRU5BQkxFX1JBU1RFUl9SRVBST0pFQ1RJT04pIHtcbiAgICAgIFVybFRpbGUucHJvdG90eXBlLmV4cGlyZUNhY2hlLmNhbGwodGhpcywgcHJvamVjdGlvbiwgdXNlZFRpbGVzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHVzZWRUaWxlQ2FjaGUgPSB0aGlzLmdldFRpbGVDYWNoZUZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG5cbiAgICB0aGlzLnRpbGVDYWNoZS5leHBpcmVDYWNoZSh0aGlzLnRpbGVDYWNoZSA9PSB1c2VkVGlsZUNhY2hlID8gdXNlZFRpbGVzIDoge30pO1xuICAgIGZvciAodmFyIGlkIGluIHRoaXMudGlsZUNhY2hlRm9yUHJvamVjdGlvbikge1xuICAgICAgdmFyIHRpbGVDYWNoZSA9IHRoaXMudGlsZUNhY2hlRm9yUHJvamVjdGlvbltpZF07XG4gICAgICB0aWxlQ2FjaGUuZXhwaXJlQ2FjaGUodGlsZUNhY2hlID09IHVzZWRUaWxlQ2FjaGUgPyB1c2VkVGlsZXMgOiB7fSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgVGlsZUltYWdlLnByb3RvdHlwZS5nZXRHdXR0ZXJGb3JQcm9qZWN0aW9uID0gZnVuY3Rpb24gZ2V0R3V0dGVyRm9yUHJvamVjdGlvbiAocHJvamVjdGlvbikge1xuICAgIGlmIChFTkFCTEVfUkFTVEVSX1JFUFJPSkVDVElPTiAmJlxuICAgICAgICB0aGlzLmdldFByb2plY3Rpb24oKSAmJiBwcm9qZWN0aW9uICYmICFlcXVpdmFsZW50KHRoaXMuZ2V0UHJvamVjdGlvbigpLCBwcm9qZWN0aW9uKSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmdldEd1dHRlcigpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfSBHdXR0ZXIuXG4gICAqL1xuICBUaWxlSW1hZ2UucHJvdG90eXBlLmdldEd1dHRlciA9IGZ1bmN0aW9uIGdldEd1dHRlciAoKSB7XG4gICAgcmV0dXJuIDA7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBUaWxlSW1hZ2UucHJvdG90eXBlLmdldE9wYXF1ZSA9IGZ1bmN0aW9uIGdldE9wYXF1ZSAocHJvamVjdGlvbikge1xuICAgIGlmIChFTkFCTEVfUkFTVEVSX1JFUFJPSkVDVElPTiAmJlxuICAgICAgICB0aGlzLmdldFByb2plY3Rpb24oKSAmJiBwcm9qZWN0aW9uICYmICFlcXVpdmFsZW50KHRoaXMuZ2V0UHJvamVjdGlvbigpLCBwcm9qZWN0aW9uKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gVXJsVGlsZS5wcm90b3R5cGUuZ2V0T3BhcXVlLmNhbGwodGhpcywgcHJvamVjdGlvbik7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgVGlsZUltYWdlLnByb3RvdHlwZS5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24gPSBmdW5jdGlvbiBnZXRUaWxlR3JpZEZvclByb2plY3Rpb24kMSAocHJvamVjdGlvbikge1xuICAgIGlmICghRU5BQkxFX1JBU1RFUl9SRVBST0pFQ1RJT04pIHtcbiAgICAgIHJldHVybiBVcmxUaWxlLnByb3RvdHlwZS5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24uY2FsbCh0aGlzLCBwcm9qZWN0aW9uKTtcbiAgICB9XG4gICAgdmFyIHRoaXNQcm9qID0gdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG4gICAgaWYgKHRoaXMudGlsZUdyaWQgJiYgKCF0aGlzUHJvaiB8fCBlcXVpdmFsZW50KHRoaXNQcm9qLCBwcm9qZWN0aW9uKSkpIHtcbiAgICAgIHJldHVybiB0aGlzLnRpbGVHcmlkO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcHJvaktleSA9IGdldFVpZChwcm9qZWN0aW9uKTtcbiAgICAgIGlmICghKHByb2pLZXkgaW4gdGhpcy50aWxlR3JpZEZvclByb2plY3Rpb24pKSB7XG4gICAgICAgIHRoaXMudGlsZUdyaWRGb3JQcm9qZWN0aW9uW3Byb2pLZXldID0gZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChcbiAgICAgICAgLyoqIEB0eXBlIHshaW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gKi8gKHRoaXMudGlsZUdyaWRGb3JQcm9qZWN0aW9uW3Byb2pLZXldKVxuICAgICAgKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBUaWxlSW1hZ2UucHJvdG90eXBlLmdldFRpbGVDYWNoZUZvclByb2plY3Rpb24gPSBmdW5jdGlvbiBnZXRUaWxlQ2FjaGVGb3JQcm9qZWN0aW9uIChwcm9qZWN0aW9uKSB7XG4gICAgaWYgKCFFTkFCTEVfUkFTVEVSX1JFUFJPSkVDVElPTikge1xuICAgICAgcmV0dXJuIFVybFRpbGUucHJvdG90eXBlLmdldFRpbGVDYWNoZUZvclByb2plY3Rpb24uY2FsbCh0aGlzLCBwcm9qZWN0aW9uKTtcbiAgICB9XG4gICAgdmFyIHRoaXNQcm9qID0gdGhpcy5nZXRQcm9qZWN0aW9uKCk7IGlmICghdGhpc1Byb2ogfHwgZXF1aXZhbGVudCh0aGlzUHJvaiwgcHJvamVjdGlvbikpIHtcbiAgICAgIHJldHVybiB0aGlzLnRpbGVDYWNoZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHByb2pLZXkgPSBnZXRVaWQocHJvamVjdGlvbik7XG4gICAgICBpZiAoIShwcm9qS2V5IGluIHRoaXMudGlsZUNhY2hlRm9yUHJvamVjdGlvbikpIHtcbiAgICAgICAgdGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uW3Byb2pLZXldID0gbmV3IFRpbGVDYWNoZSh0aGlzLnRpbGVDYWNoZS5oaWdoV2F0ZXJNYXJrKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnRpbGVDYWNoZUZvclByb2plY3Rpb25bcHJvaktleV07XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0geiBUaWxlIGNvb3JkaW5hdGUgei5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHggVGlsZSBjb29yZGluYXRlIHguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRpbGUgY29vcmRpbmF0ZSB5LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgc2V0IG9uIHRoZSB0aWxlLlxuICAgKiBAcmV0dXJuIHshaW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSBUaWxlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgVGlsZUltYWdlLnByb3RvdHlwZS5jcmVhdGVUaWxlXyA9IGZ1bmN0aW9uIGNyZWF0ZVRpbGVfICh6LCB4LCB5LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uLCBrZXkpIHtcbiAgICB2YXIgdGlsZUNvb3JkID0gW3osIHgsIHldO1xuICAgIHZhciB1cmxUaWxlQ29vcmQgPSB0aGlzLmdldFRpbGVDb29yZEZvclRpbGVVcmxGdW5jdGlvbihcbiAgICAgIHRpbGVDb29yZCwgcHJvamVjdGlvbik7XG4gICAgdmFyIHRpbGVVcmwgPSB1cmxUaWxlQ29vcmQgP1xuICAgICAgdGhpcy50aWxlVXJsRnVuY3Rpb24odXJsVGlsZUNvb3JkLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgdGlsZSA9IG5ldyB0aGlzLnRpbGVDbGFzcyhcbiAgICAgIHRpbGVDb29yZCxcbiAgICAgIHRpbGVVcmwgIT09IHVuZGVmaW5lZCA/IFRpbGVTdGF0ZS5JRExFIDogVGlsZVN0YXRlLkVNUFRZLFxuICAgICAgdGlsZVVybCAhPT0gdW5kZWZpbmVkID8gdGlsZVVybCA6ICcnLFxuICAgICAgdGhpcy5jcm9zc09yaWdpbixcbiAgICAgIHRoaXMudGlsZUxvYWRGdW5jdGlvbixcbiAgICAgIHRoaXMudGlsZU9wdGlvbnMpO1xuICAgIHRpbGUua2V5ID0ga2V5O1xuICAgIGxpc3Rlbih0aWxlLCBFdmVudFR5cGUuQ0hBTkdFLFxuICAgICAgdGhpcy5oYW5kbGVUaWxlQ2hhbmdlLCB0aGlzKTtcbiAgICByZXR1cm4gdGlsZTtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIFRpbGVJbWFnZS5wcm90b3R5cGUuZ2V0VGlsZSA9IGZ1bmN0aW9uIGdldFRpbGUgKHosIHgsIHksIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICB2YXIgc291cmNlUHJvamVjdGlvbiA9IC8qKiBAdHlwZSB7IWltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSAqLyAodGhpcy5nZXRQcm9qZWN0aW9uKCkpO1xuICAgIGlmICghRU5BQkxFX1JBU1RFUl9SRVBST0pFQ1RJT04gfHxcbiAgICAgICAgIXNvdXJjZVByb2plY3Rpb24gfHwgIXByb2plY3Rpb24gfHwgZXF1aXZhbGVudChzb3VyY2VQcm9qZWN0aW9uLCBwcm9qZWN0aW9uKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0VGlsZUludGVybmFsKHosIHgsIHksIHBpeGVsUmF0aW8sIHNvdXJjZVByb2plY3Rpb24gfHwgcHJvamVjdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBjYWNoZSA9IHRoaXMuZ2V0VGlsZUNhY2hlRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgIHZhciB0aWxlQ29vcmQgPSBbeiwgeCwgeV07XG4gICAgICB2YXIgdGlsZTtcbiAgICAgIHZhciB0aWxlQ29vcmRLZXkgPSBnZXRLZXkodGlsZUNvb3JkKTtcbiAgICAgIGlmIChjYWNoZS5jb250YWluc0tleSh0aWxlQ29vcmRLZXkpKSB7XG4gICAgICAgIHRpbGUgPSAvKiogQHR5cGUgeyFpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLmRlZmF1bHR9ICovIChjYWNoZS5nZXQodGlsZUNvb3JkS2V5KSk7XG4gICAgICB9XG4gICAgICB2YXIga2V5ID0gdGhpcy5nZXRLZXkoKTtcbiAgICAgIGlmICh0aWxlICYmIHRpbGUua2V5ID09IGtleSkge1xuICAgICAgICByZXR1cm4gdGlsZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBzb3VyY2VUaWxlR3JpZCA9IHRoaXMuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHNvdXJjZVByb2plY3Rpb24pO1xuICAgICAgICB2YXIgdGFyZ2V0VGlsZUdyaWQgPSB0aGlzLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgICAgdmFyIHdyYXBwZWRUaWxlQ29vcmQgPVxuICAgICAgICAgICAgdGhpcy5nZXRUaWxlQ29vcmRGb3JUaWxlVXJsRnVuY3Rpb24odGlsZUNvb3JkLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgdmFyIG5ld1RpbGUgPSBuZXcgUmVwcm9qVGlsZShcbiAgICAgICAgICBzb3VyY2VQcm9qZWN0aW9uLCBzb3VyY2VUaWxlR3JpZCxcbiAgICAgICAgICBwcm9qZWN0aW9uLCB0YXJnZXRUaWxlR3JpZCxcbiAgICAgICAgICB0aWxlQ29vcmQsIHdyYXBwZWRUaWxlQ29vcmQsIHRoaXMuZ2V0VGlsZVBpeGVsUmF0aW8ocGl4ZWxSYXRpbyksXG4gICAgICAgICAgdGhpcy5nZXRHdXR0ZXIoKSxcbiAgICAgICAgICBmdW5jdGlvbih6LCB4LCB5LCBwaXhlbFJhdGlvKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRUaWxlSW50ZXJuYWwoeiwgeCwgeSwgcGl4ZWxSYXRpbywgc291cmNlUHJvamVjdGlvbik7XG4gICAgICAgICAgfS5iaW5kKHRoaXMpLCB0aGlzLnJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkXyxcbiAgICAgICAgICB0aGlzLnJlbmRlclJlcHJvamVjdGlvbkVkZ2VzXyk7XG4gICAgICAgIG5ld1RpbGUua2V5ID0ga2V5O1xuXG4gICAgICAgIGlmICh0aWxlKSB7XG4gICAgICAgICAgbmV3VGlsZS5pbnRlcmltVGlsZSA9IHRpbGU7XG4gICAgICAgICAgbmV3VGlsZS5yZWZyZXNoSW50ZXJpbUNoYWluKCk7XG4gICAgICAgICAgY2FjaGUucmVwbGFjZSh0aWxlQ29vcmRLZXksIG5ld1RpbGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhY2hlLnNldCh0aWxlQ29vcmRLZXksIG5ld1RpbGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdUaWxlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHogVGlsZSBjb29yZGluYXRlIHouXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRpbGUgY29vcmRpbmF0ZSB4LlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBUaWxlIGNvb3JkaW5hdGUgeS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7IWltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEByZXR1cm4geyFpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLmRlZmF1bHR9IFRpbGUuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIFRpbGVJbWFnZS5wcm90b3R5cGUuZ2V0VGlsZUludGVybmFsID0gZnVuY3Rpb24gZ2V0VGlsZUludGVybmFsICh6LCB4LCB5LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKSB7XG4gICAgdmFyIHRpbGUgPSBudWxsO1xuICAgIHZhciB0aWxlQ29vcmRLZXkgPSBnZXRLZXlaWFkoeiwgeCwgeSk7XG4gICAgdmFyIGtleSA9IHRoaXMuZ2V0S2V5KCk7XG4gICAgaWYgKCF0aGlzLnRpbGVDYWNoZS5jb250YWluc0tleSh0aWxlQ29vcmRLZXkpKSB7XG4gICAgICB0aWxlID0gdGhpcy5jcmVhdGVUaWxlXyh6LCB4LCB5LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uLCBrZXkpO1xuICAgICAgdGhpcy50aWxlQ2FjaGUuc2V0KHRpbGVDb29yZEtleSwgdGlsZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRpbGUgPSB0aGlzLnRpbGVDYWNoZS5nZXQodGlsZUNvb3JkS2V5KTtcbiAgICAgIGlmICh0aWxlLmtleSAhPSBrZXkpIHtcbiAgICAgICAgLy8gVGhlIHNvdXJjZSdzIHBhcmFtcyBjaGFuZ2VkLiBJZiB0aGUgdGlsZSBoYXMgYW4gaW50ZXJpbSB0aWxlIGFuZCBpZiB3ZVxuICAgICAgICAvLyBjYW4gdXNlIGl0IHRoZW4gd2UgdXNlIGl0LiBPdGhlcndpc2Ugd2UgY3JlYXRlIGEgbmV3IHRpbGUuICBJbiBib3RoXG4gICAgICAgIC8vIGNhc2VzIHdlIGF0dGVtcHQgdG8gYXNzaWduIGFuIGludGVyaW0gdGlsZSB0byB0aGUgbmV3IHRpbGUuXG4gICAgICAgIHZhciBpbnRlcmltVGlsZSA9IHRpbGU7XG4gICAgICAgIHRpbGUgPSB0aGlzLmNyZWF0ZVRpbGVfKHosIHgsIHksIHBpeGVsUmF0aW8sIHByb2plY3Rpb24sIGtleSk7XG5cbiAgICAgICAgLy9tYWtlIHRoZSBuZXcgdGlsZSB0aGUgaGVhZCBvZiB0aGUgbGlzdCxcbiAgICAgICAgaWYgKGludGVyaW1UaWxlLmdldFN0YXRlKCkgPT0gVGlsZVN0YXRlLklETEUpIHtcbiAgICAgICAgICAvL3RoZSBvbGQgdGlsZSBoYXNuJ3QgYmVndW4gbG9hZGluZyB5ZXQsIGFuZCBpcyBub3cgb3V0ZGF0ZWQsIHNvIHdlIGNhbiBzaW1wbHkgZGlzY2FyZCBpdFxuICAgICAgICAgIHRpbGUuaW50ZXJpbVRpbGUgPSBpbnRlcmltVGlsZS5pbnRlcmltVGlsZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aWxlLmludGVyaW1UaWxlID0gaW50ZXJpbVRpbGU7XG4gICAgICAgIH1cbiAgICAgICAgdGlsZS5yZWZyZXNoSW50ZXJpbUNoYWluKCk7XG4gICAgICAgIHRoaXMudGlsZUNhY2hlLnJlcGxhY2UodGlsZUNvb3JkS2V5LCB0aWxlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRpbGU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgd2hldGhlciB0byByZW5kZXIgcmVwcm9qZWN0aW9uIGVkZ2VzIG9yIG5vdCAodXN1YWxseSBmb3IgZGVidWdnaW5nKS5cbiAgICogQHBhcmFtIHtib29sZWFufSByZW5kZXIgUmVuZGVyIHRoZSBlZGdlcy5cbiAgICogQGFwaVxuICAgKi9cbiAgVGlsZUltYWdlLnByb3RvdHlwZS5zZXRSZW5kZXJSZXByb2plY3Rpb25FZGdlcyA9IGZ1bmN0aW9uIHNldFJlbmRlclJlcHJvamVjdGlvbkVkZ2VzIChyZW5kZXIpIHtcbiAgICBpZiAoIUVOQUJMRV9SQVNURVJfUkVQUk9KRUNUSU9OIHx8XG4gICAgICAgIHRoaXMucmVuZGVyUmVwcm9qZWN0aW9uRWRnZXNfID09IHJlbmRlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnJlbmRlclJlcHJvamVjdGlvbkVkZ2VzXyA9IHJlbmRlcjtcbiAgICBmb3IgKHZhciBpZCBpbiB0aGlzLnRpbGVDYWNoZUZvclByb2plY3Rpb24pIHtcbiAgICAgIHRoaXMudGlsZUNhY2hlRm9yUHJvamVjdGlvbltpZF0uY2xlYXIoKTtcbiAgICB9XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHRpbGUgZ3JpZCB0byB1c2Ugd2hlbiByZXByb2plY3RpbmcgdGhlIHRpbGVzIHRvIHRoZSBnaXZlblxuICAgKiBwcm9qZWN0aW9uIGluc3RlYWQgb2YgdGhlIGRlZmF1bHQgdGlsZSBncmlkIGZvciB0aGUgcHJvamVjdGlvbi5cbiAgICpcbiAgICogVGhpcyBjYW4gYmUgdXNlZnVsIHdoZW4gdGhlIGRlZmF1bHQgdGlsZSBncmlkIGNhbm5vdCBiZSBjcmVhdGVkXG4gICAqIChlLmcuIHByb2plY3Rpb24gaGFzIG5vIGV4dGVudCBkZWZpbmVkKSBvclxuICAgKiBmb3Igb3B0aW1pemF0aW9uIHJlYXNvbnMgKGN1c3RvbSB0aWxlIHNpemUsIHJlc29sdXRpb25zLCAuLi4pLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSB0aWxlZ3JpZCBUaWxlIGdyaWQgdG8gdXNlIGZvciB0aGUgcHJvamVjdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgVGlsZUltYWdlLnByb3RvdHlwZS5zZXRUaWxlR3JpZEZvclByb2plY3Rpb24gPSBmdW5jdGlvbiBzZXRUaWxlR3JpZEZvclByb2plY3Rpb24gKHByb2plY3Rpb24sIHRpbGVncmlkKSB7XG4gICAgaWYgKEVOQUJMRV9SQVNURVJfUkVQUk9KRUNUSU9OKSB7XG4gICAgICB2YXIgcHJvaiA9IGdldFByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgICBpZiAocHJvaikge1xuICAgICAgICB2YXIgcHJvaktleSA9IGdldFVpZChwcm9qKTtcbiAgICAgICAgaWYgKCEocHJvaktleSBpbiB0aGlzLnRpbGVHcmlkRm9yUHJvamVjdGlvbikpIHtcbiAgICAgICAgICB0aGlzLnRpbGVHcmlkRm9yUHJvamVjdGlvbltwcm9qS2V5XSA9IHRpbGVncmlkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBUaWxlSW1hZ2U7XG59KFVybFRpbGUpKTtcblxuXG4vKipcbiAqIEBwYXJhbSB7SW1hZ2VUaWxlfSBpbWFnZVRpbGUgSW1hZ2UgdGlsZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgU291cmNlLlxuICovXG5mdW5jdGlvbiBkZWZhdWx0VGlsZUxvYWRGdW5jdGlvbihpbWFnZVRpbGUsIHNyYykge1xuICAvKiogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gKi8gKGltYWdlVGlsZS5nZXRJbWFnZSgpKS5zcmMgPSBzcmM7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRpbGVJbWFnZTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsZUltYWdlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvQmluZ01hcHNcbiAqL1xuXG5pbXBvcnQge2NyZWF0ZUZyb21UaWxlVXJsRnVuY3Rpb25zfSBmcm9tICcuLi90aWxldXJsZnVuY3Rpb24uanMnO1xuaW1wb3J0IHthcHBseVRyYW5zZm9ybSwgaW50ZXJzZWN0c30gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7anNvbnAgYXMgcmVxdWVzdEpTT05QfSBmcm9tICcuLi9uZXQuanMnO1xuaW1wb3J0IHtnZXQgYXMgZ2V0UHJvamVjdGlvbiwgZ2V0VHJhbnNmb3JtRnJvbVByb2plY3Rpb25zfSBmcm9tICcuLi9wcm9qLmpzJztcbmltcG9ydCBTb3VyY2VTdGF0ZSBmcm9tICcuL1N0YXRlLmpzJztcbmltcG9ydCBUaWxlSW1hZ2UgZnJvbSAnLi9UaWxlSW1hZ2UuanMnO1xuaW1wb3J0IHtjcmVhdGVPclVwZGF0ZSwgcXVhZEtleX0gZnJvbSAnLi4vdGlsZWNvb3JkLmpzJztcbmltcG9ydCB7Y3JlYXRlWFlaLCBleHRlbnRGcm9tUHJvamVjdGlvbn0gZnJvbSAnLi4vdGlsZWdyaWQuanMnO1xuXG5cbi8qKlxuICogVGhlIGF0dHJpYnV0aW9uIGNvbnRhaW5pbmcgYSBsaW5rIHRvIHRoZSBNaWNyb3NvZnTCriBCaW5n4oSiIE1hcHMgUGxhdGZvcm0gQVBJc+KAmVxuICogVGVybXMgT2YgVXNlLlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG52YXIgVE9TX0FUVFJJQlVUSU9OID0gJzxhIGNsYXNzPVwib2wtYXR0cmlidXRpb24tYmluZy10b3NcIiAnICtcbiAgICAgICdocmVmPVwiaHR0cHM6Ly93d3cubWljcm9zb2Z0LmNvbS9tYXBzL3Byb2R1Y3QvdGVybXMuaHRtbFwiPicgK1xuICAgICAgJ1Rlcm1zIG9mIFVzZTwvYT4nO1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFtjYWNoZVNpemU9MjA0OF0gQ2FjaGUgc2l6ZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2hpZHBpPWZhbHNlXSBJZiBgdHJ1ZWAgaGlkcGkgdGlsZXMgd2lsbCBiZSByZXF1ZXN0ZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2N1bHR1cmU9J2VuLXVzJ10gQ3VsdHVyZSBjb2RlLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGtleSBCaW5nIE1hcHMgQVBJIGtleS4gR2V0IHlvdXJzIGF0IGh0dHA6Ly93d3cuYmluZ21hcHNwb3J0YWwuY29tLy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpbWFnZXJ5U2V0IFR5cGUgb2YgaW1hZ2VyeS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbT0yMV0gTWF4IHpvb20uIERlZmF1bHQgaXMgd2hhdCdzIGFkdmVydGl6ZWQgYnkgdGhlIEJpbmdNYXBzIHNlcnZpY2UuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkPTAuNV0gTWF4aW11bSBhbGxvd2VkIHJlcHJvamVjdGlvbiBlcnJvciAoaW4gcGl4ZWxzKS5cbiAqIEhpZ2hlciB2YWx1ZXMgY2FuIGluY3JlYXNlIHJlcHJvamVjdGlvbiBwZXJmb3JtYW5jZSwgYnV0IGRlY3JlYXNlIHByZWNpc2lvbi5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5Mb2FkRnVuY3Rpb259IFt0aWxlTG9hZEZ1bmN0aW9uXSBPcHRpb25hbCBmdW5jdGlvbiB0byBsb2FkIGEgdGlsZSBnaXZlbiBhIFVSTC4gVGhlIGRlZmF1bHQgaXNcbiAqIGBgYGpzXG4gKiBmdW5jdGlvbihpbWFnZVRpbGUsIHNyYykge1xuICogICBpbWFnZVRpbGUuZ2V0SW1hZ2UoKS5zcmMgPSBzcmM7XG4gKiB9O1xuICogYGBgXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3cmFwWD10cnVlXSBXaGV0aGVyIHRvIHdyYXAgdGhlIHdvcmxkIGhvcml6b250YWxseS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdHJhbnNpdGlvbl0gRHVyYXRpb24gb2YgdGhlIG9wYWNpdHkgdHJhbnNpdGlvbiBmb3IgcmVuZGVyaW5nLlxuICogVG8gZGlzYWJsZSB0aGUgb3BhY2l0eSB0cmFuc2l0aW9uLCBwYXNzIGB0cmFuc2l0aW9uOiAwYC5cbiAqL1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQmluZ01hcHNJbWFnZXJ5TWV0YWRhdGFSZXNwb25zZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHN0YXR1c0NvZGUgVGhlIHJlc3BvbnNlIHN0YXR1cyBjb2RlXG4gKiBAcHJvcGVydHkge3N0cmluZ30gc3RhdHVzRGVzY3JpcHRpb24gVGhlIHJlc3BvbnNlIHN0YXR1cyBkZXNjcmlwdGlvblxuICogQHByb3BlcnR5IHtzdHJpbmd9IGF1dGhlbnRpY2F0aW9uUmVzdWx0Q29kZSBUaGUgYXV0aGVudGljYXRpb24gcmVzdWx0IGNvZGVcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8UmVzb3VyY2VTZXQ+fSByZXNvdXJjZVNldHMgVGhlIGFycmF5IG9mIHJlc291cmNlIHNldHNcbiAqL1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUmVzb3VyY2VTZXRcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8UmVzb3VyY2U+fSByZXNvdXJjZXNcbiAqL1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUmVzb3VyY2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpbWFnZUhlaWdodCBUaGUgaW1hZ2UgaGVpZ2h0XG4gKiBAcHJvcGVydHkge251bWJlcn0gaW1hZ2VXaWR0aCBUaGUgaW1hZ2Ugd2lkdGhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB6b29tTWluIFRoZSBtaW5pbXVtIHpvb20gbGV2ZWxcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB6b29tTWF4IFRoZSBtYXhpbXVtIHpvb20gbGV2ZWxcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpbWFnZVVybCBUaGUgaW1hZ2UgVVJMXG4gKiBAcHJvcGVydHkge0FycmF5PHN0cmluZz59IGltYWdlVXJsU3ViZG9tYWlucyBUaGUgaW1hZ2UgVVJMIHN1YmRvbWFpbnMgZm9yIHJvdGF0aW9uXG4gKiBAcHJvcGVydHkge0FycmF5PEltYWdlcnlQcm92aWRlcj59IFtpbWFnZXJ5UHJvdmlkZXJzXSBUaGUgYXJyYXkgb2YgSW1hZ2VyeVByb3ZpZGVyc1xuICovXG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBJbWFnZXJ5UHJvdmlkZXJcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8Q292ZXJhZ2VBcmVhPn0gY292ZXJhZ2VBcmVhcyBUaGUgY292ZXJhZ2UgYXJlYXNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYXR0cmlidXRpb25dIFRoZSBhdHRyaWJ1dGlvblxuICovXG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDb3ZlcmFnZUFyZWFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB6b29tTWluIFRoZSBtaW5pbXVtIHpvb21cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB6b29tTWF4IFRoZSBtYXhpbXVtIHpvb21cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gYmJveCBUaGUgY292ZXJhZ2UgYm91bmRpbmcgYm94XG4gKi9cblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIExheWVyIHNvdXJjZSBmb3IgQmluZyBNYXBzIHRpbGUgZGF0YS5cbiAqIEBhcGlcbiAqL1xudmFyIEJpbmdNYXBzID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoVGlsZUltYWdlKSB7XG4gIGZ1bmN0aW9uIEJpbmdNYXBzKG9wdGlvbnMpIHtcblxuICAgIHZhciBoaWRwaSA9IG9wdGlvbnMuaGlkcGkgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuaGlkcGkgOiBmYWxzZTtcblxuICAgIFRpbGVJbWFnZS5jYWxsKHRoaXMsIHtcbiAgICAgIGNhY2hlU2l6ZTogb3B0aW9ucy5jYWNoZVNpemUsXG4gICAgICBjcm9zc09yaWdpbjogJ2Fub255bW91cycsXG4gICAgICBvcGFxdWU6IHRydWUsXG4gICAgICBwcm9qZWN0aW9uOiBnZXRQcm9qZWN0aW9uKCdFUFNHOjM4NTcnKSxcbiAgICAgIHJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkOiBvcHRpb25zLnJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkLFxuICAgICAgc3RhdGU6IFNvdXJjZVN0YXRlLkxPQURJTkcsXG4gICAgICB0aWxlTG9hZEZ1bmN0aW9uOiBvcHRpb25zLnRpbGVMb2FkRnVuY3Rpb24sXG4gICAgICB0aWxlUGl4ZWxSYXRpbzogaGlkcGkgPyAyIDogMSxcbiAgICAgIHdyYXBYOiBvcHRpb25zLndyYXBYICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLndyYXBYIDogdHJ1ZSxcbiAgICAgIHRyYW5zaXRpb246IG9wdGlvbnMudHJhbnNpdGlvblxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmhpZHBpXyA9IGhpZHBpO1xuXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5jdWx0dXJlXyA9IG9wdGlvbnMuY3VsdHVyZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jdWx0dXJlIDogJ2VuLXVzJztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1heFpvb21fID0gb3B0aW9ucy5tYXhab29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1heFpvb20gOiAtMTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmFwaUtleV8gPSBvcHRpb25zLmtleTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlcnlTZXRfID0gb3B0aW9ucy5pbWFnZXJ5U2V0O1xuXG4gICAgdmFyIHVybCA9ICdodHRwczovL2Rldi52aXJ0dWFsZWFydGgubmV0L1JFU1QvdjEvSW1hZ2VyeS9NZXRhZGF0YS8nICtcbiAgICAgICAgdGhpcy5pbWFnZXJ5U2V0XyArXG4gICAgICAgICc/dXJpU2NoZW1lPWh0dHBzJmluY2x1ZGU9SW1hZ2VyeVByb3ZpZGVycyZrZXk9JyArIHRoaXMuYXBpS2V5XyArXG4gICAgICAgICcmYz0nICsgdGhpcy5jdWx0dXJlXztcblxuICAgIHJlcXVlc3RKU09OUCh1cmwsIHRoaXMuaGFuZGxlSW1hZ2VyeU1ldGFkYXRhUmVzcG9uc2UuYmluZCh0aGlzKSwgdW5kZWZpbmVkLFxuICAgICAgJ2pzb25wJyk7XG5cbiAgfVxuXG4gIGlmICggVGlsZUltYWdlICkgQmluZ01hcHMuX19wcm90b19fID0gVGlsZUltYWdlO1xuICBCaW5nTWFwcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBUaWxlSW1hZ2UgJiYgVGlsZUltYWdlLnByb3RvdHlwZSApO1xuICBCaW5nTWFwcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCaW5nTWFwcztcblxuICAvKipcbiAgICogR2V0IHRoZSBhcGkga2V5IHVzZWQgZm9yIHRoaXMgc291cmNlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBhcGkga2V5LlxuICAgKiBAYXBpXG4gICAqL1xuICBCaW5nTWFwcy5wcm90b3R5cGUuZ2V0QXBpS2V5ID0gZnVuY3Rpb24gZ2V0QXBpS2V5ICgpIHtcbiAgICByZXR1cm4gdGhpcy5hcGlLZXlfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGltYWdlcnkgc2V0IGFzc29jaWF0ZWQgd2l0aCB0aGlzIHNvdXJjZS5cbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgaW1hZ2VyeSBzZXQuXG4gICAqIEBhcGlcbiAgICovXG4gIEJpbmdNYXBzLnByb3RvdHlwZS5nZXRJbWFnZXJ5U2V0ID0gZnVuY3Rpb24gZ2V0SW1hZ2VyeVNldCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW1hZ2VyeVNldF87XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QmluZ01hcHNJbWFnZXJ5TWV0YWRhdGFSZXNwb25zZX0gcmVzcG9uc2UgUmVzcG9uc2UuXG4gICAqL1xuICBCaW5nTWFwcy5wcm90b3R5cGUuaGFuZGxlSW1hZ2VyeU1ldGFkYXRhUmVzcG9uc2UgPSBmdW5jdGlvbiBoYW5kbGVJbWFnZXJ5TWV0YWRhdGFSZXNwb25zZSAocmVzcG9uc2UpIHtcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSAhPSAyMDAgfHxcbiAgICAgICAgcmVzcG9uc2Uuc3RhdHVzRGVzY3JpcHRpb24gIT0gJ09LJyB8fFxuICAgICAgICByZXNwb25zZS5hdXRoZW50aWNhdGlvblJlc3VsdENvZGUgIT0gJ1ZhbGlkQ3JlZGVudGlhbHMnIHx8XG4gICAgICAgIHJlc3BvbnNlLnJlc291cmNlU2V0cy5sZW5ndGggIT0gMSB8fFxuICAgICAgICByZXNwb25zZS5yZXNvdXJjZVNldHNbMF0ucmVzb3VyY2VzLmxlbmd0aCAhPSAxKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKFNvdXJjZVN0YXRlLkVSUk9SKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgcmVzb3VyY2UgPSByZXNwb25zZS5yZXNvdXJjZVNldHNbMF0ucmVzb3VyY2VzWzBdO1xuICAgIHZhciBtYXhab29tID0gdGhpcy5tYXhab29tXyA9PSAtMSA/IHJlc291cmNlLnpvb21NYXggOiB0aGlzLm1heFpvb21fO1xuXG4gICAgdmFyIHNvdXJjZVByb2plY3Rpb24gPSB0aGlzLmdldFByb2plY3Rpb24oKTtcbiAgICB2YXIgZXh0ZW50ID0gZXh0ZW50RnJvbVByb2plY3Rpb24oc291cmNlUHJvamVjdGlvbik7XG4gICAgdmFyIHNjYWxlID0gdGhpcy5oaWRwaV8gPyAyIDogMTtcbiAgICB2YXIgdGlsZVNpemUgPSByZXNvdXJjZS5pbWFnZVdpZHRoID09IHJlc291cmNlLmltYWdlSGVpZ2h0ID9cbiAgICAgIHJlc291cmNlLmltYWdlV2lkdGggLyBzY2FsZSA6XG4gICAgICBbcmVzb3VyY2UuaW1hZ2VXaWR0aCAvIHNjYWxlLCByZXNvdXJjZS5pbWFnZUhlaWdodCAvIHNjYWxlXTtcblxuICAgIHZhciB0aWxlR3JpZCA9IGNyZWF0ZVhZWih7XG4gICAgICBleHRlbnQ6IGV4dGVudCxcbiAgICAgIG1pblpvb206IHJlc291cmNlLnpvb21NaW4sXG4gICAgICBtYXhab29tOiBtYXhab29tLFxuICAgICAgdGlsZVNpemU6IHRpbGVTaXplXG4gICAgfSk7XG4gICAgdGhpcy50aWxlR3JpZCA9IHRpbGVHcmlkO1xuXG4gICAgdmFyIGN1bHR1cmUgPSB0aGlzLmN1bHR1cmVfO1xuICAgIHZhciBoaWRwaSA9IHRoaXMuaGlkcGlfO1xuICAgIHRoaXMudGlsZVVybEZ1bmN0aW9uID0gY3JlYXRlRnJvbVRpbGVVcmxGdW5jdGlvbnMoXG4gICAgICByZXNvdXJjZS5pbWFnZVVybFN1YmRvbWFpbnMubWFwKGZ1bmN0aW9uKHN1YmRvbWFpbikge1xuICAgICAgICB2YXIgcXVhZEtleVRpbGVDb29yZCA9IFswLCAwLCAwXTtcbiAgICAgICAgdmFyIGltYWdlVXJsID0gcmVzb3VyY2UuaW1hZ2VVcmxcbiAgICAgICAgICAucmVwbGFjZSgne3N1YmRvbWFpbn0nLCBzdWJkb21haW4pXG4gICAgICAgICAgLnJlcGxhY2UoJ3tjdWx0dXJlfScsIGN1bHR1cmUpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICAgICAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gVGlsZSBVUkwuXG4gICAgICAgICAgICovXG4gICAgICAgICAgZnVuY3Rpb24odGlsZUNvb3JkLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAoIXRpbGVDb29yZCkge1xuICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY3JlYXRlT3JVcGRhdGUodGlsZUNvb3JkWzBdLCB0aWxlQ29vcmRbMV0sIC10aWxlQ29vcmRbMl0gLSAxLCBxdWFkS2V5VGlsZUNvb3JkKTtcbiAgICAgICAgICAgICAgdmFyIHVybCA9IGltYWdlVXJsO1xuICAgICAgICAgICAgICBpZiAoaGlkcGkpIHtcbiAgICAgICAgICAgICAgICB1cmwgKz0gJyZkcGk9ZDEmZGV2aWNlPW1vYmlsZSc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHVybC5yZXBsYWNlKCd7cXVhZGtleX0nLCBxdWFkS2V5KHF1YWRLZXlUaWxlQ29vcmQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9KSk7XG5cbiAgICBpZiAocmVzb3VyY2UuaW1hZ2VyeVByb3ZpZGVycykge1xuICAgICAgdmFyIHRyYW5zZm9ybSA9IGdldFRyYW5zZm9ybUZyb21Qcm9qZWN0aW9ucyhcbiAgICAgICAgZ2V0UHJvamVjdGlvbignRVBTRzo0MzI2JyksIHRoaXMuZ2V0UHJvamVjdGlvbigpKTtcblxuICAgICAgdGhpcy5zZXRBdHRyaWJ1dGlvbnMoZnVuY3Rpb24oZnJhbWVTdGF0ZSkge1xuICAgICAgICB2YXIgYXR0cmlidXRpb25zID0gW107XG4gICAgICAgIHZhciB2aWV3U3RhdGUgPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZTtcbiAgICAgICAgdmFyIHRpbGVHcmlkID0gdGhpcy5nZXRUaWxlR3JpZCgpO1xuICAgICAgICB2YXIgdGlsZUNvb3JkID0gdGlsZUdyaWQuZ2V0VGlsZUNvb3JkRm9yQ29vcmRBbmRSZXNvbHV0aW9uKHZpZXdTdGF0ZS5jZW50ZXIsIHZpZXdTdGF0ZS5yZXNvbHV0aW9uKTtcbiAgICAgICAgdmFyIHpvb20gPSB0aWxlQ29vcmRbMF07XG4gICAgICAgIHJlc291cmNlLmltYWdlcnlQcm92aWRlcnMubWFwKGZ1bmN0aW9uKGltYWdlcnlQcm92aWRlcikge1xuICAgICAgICAgIHZhciBpbnRlcnNlY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICB2YXIgY292ZXJhZ2VBcmVhcyA9IGltYWdlcnlQcm92aWRlci5jb3ZlcmFnZUFyZWFzO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGNvdmVyYWdlQXJlYXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgdmFyIGNvdmVyYWdlQXJlYSA9IGNvdmVyYWdlQXJlYXNbaV07XG4gICAgICAgICAgICBpZiAoem9vbSA+PSBjb3ZlcmFnZUFyZWEuem9vbU1pbiAmJiB6b29tIDw9IGNvdmVyYWdlQXJlYS56b29tTWF4KSB7XG4gICAgICAgICAgICAgIHZhciBiYm94ID0gY292ZXJhZ2VBcmVhLmJib3g7XG4gICAgICAgICAgICAgIHZhciBlcHNnNDMyNkV4dGVudCA9IFtiYm94WzFdLCBiYm94WzBdLCBiYm94WzNdLCBiYm94WzJdXTtcbiAgICAgICAgICAgICAgdmFyIGV4dGVudCA9IGFwcGx5VHJhbnNmb3JtKGVwc2c0MzI2RXh0ZW50LCB0cmFuc2Zvcm0pO1xuICAgICAgICAgICAgICBpZiAoaW50ZXJzZWN0cyhleHRlbnQsIGZyYW1lU3RhdGUuZXh0ZW50KSkge1xuICAgICAgICAgICAgICAgIGludGVyc2VjdGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGludGVyc2VjdGluZykge1xuICAgICAgICAgICAgYXR0cmlidXRpb25zLnB1c2goaW1hZ2VyeVByb3ZpZGVyLmF0dHJpYnV0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGF0dHJpYnV0aW9ucy5wdXNoKFRPU19BVFRSSUJVVElPTik7XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGlvbnM7XG4gICAgICB9LmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoU291cmNlU3RhdGUuUkVBRFkpO1xuICB9O1xuXG4gIHJldHVybiBCaW5nTWFwcztcbn0oVGlsZUltYWdlKSk7XG5cbmV4cG9ydCBkZWZhdWx0IEJpbmdNYXBzO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1CaW5nTWFwcy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1hZWlxuICovXG5cbmltcG9ydCBUaWxlSW1hZ2UgZnJvbSAnLi9UaWxlSW1hZ2UuanMnO1xuaW1wb3J0IHtjcmVhdGVYWVosIGV4dGVudEZyb21Qcm9qZWN0aW9ufSBmcm9tICcuLi90aWxlZ3JpZC5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5BdHRyaWJ1dGlvbkxpa2V9IFthdHRyaWJ1dGlvbnNdIEF0dHJpYnV0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F0dHJpYnV0aW9uc0NvbGxhcHNpYmxlPXRydWVdIEF0dHJpYnV0aW9ucyBhcmUgY29sbGFwc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2NhY2hlU2l6ZT0yMDQ4XSBDYWNoZSBzaXplLlxuICogQHByb3BlcnR5IHtudWxsfHN0cmluZ30gW2Nyb3NzT3JpZ2luXSBUaGUgYGNyb3NzT3JpZ2luYCBhdHRyaWJ1dGUgZm9yIGxvYWRlZCBpbWFnZXMuICBOb3RlIHRoYXRcbiAqIHlvdSBtdXN0IHByb3ZpZGUgYSBgY3Jvc3NPcmlnaW5gIHZhbHVlIGlmIHlvdSBhcmUgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyIG9yIGlmIHlvdSB3YW50IHRvXG4gKiBhY2Nlc3MgcGl4ZWwgZGF0YSB3aXRoIHRoZSBDYW52YXMgcmVuZGVyZXIuICBTZWVcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvQ09SU19lbmFibGVkX2ltYWdlIGZvciBtb3JlIGRldGFpbC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW29wYXF1ZT10cnVlXSBXaGV0aGVyIHRoZSBsYXllciBpcyBvcGFxdWUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IFtwcm9qZWN0aW9uPSdFUFNHOjM4NTcnXSBQcm9qZWN0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyZXByb2plY3Rpb25FcnJvclRocmVzaG9sZD0wLjVdIE1heGltdW0gYWxsb3dlZCByZXByb2plY3Rpb24gZXJyb3IgKGluIHBpeGVscykuXG4gKiBIaWdoZXIgdmFsdWVzIGNhbiBpbmNyZWFzZSByZXByb2plY3Rpb24gcGVyZm9ybWFuY2UsIGJ1dCBkZWNyZWFzZSBwcmVjaXNpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFpvb209MThdIE9wdGlvbmFsIG1heCB6b29tIGxldmVsLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ab29tPTBdIE9wdGlvbmFsIG1pbiB6b29tIGxldmVsLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSBbdGlsZUdyaWRdIFRpbGUgZ3JpZC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5Mb2FkRnVuY3Rpb259IFt0aWxlTG9hZEZ1bmN0aW9uXSBPcHRpb25hbCBmdW5jdGlvbiB0byBsb2FkIGEgdGlsZSBnaXZlbiBhIFVSTC4gVGhlIGRlZmF1bHQgaXNcbiAqIGBgYGpzXG4gKiBmdW5jdGlvbihpbWFnZVRpbGUsIHNyYykge1xuICogICBpbWFnZVRpbGUuZ2V0SW1hZ2UoKS5zcmMgPSBzcmM7XG4gKiB9O1xuICogYGBgXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RpbGVQaXhlbFJhdGlvPTFdIFRoZSBwaXhlbCByYXRpbyB1c2VkIGJ5IHRoZSB0aWxlIHNlcnZpY2UuXG4gKiBGb3IgZXhhbXBsZSwgaWYgdGhlIHRpbGUgc2VydmljZSBhZHZlcnRpemVzIDI1NnB4IGJ5IDI1NnB4IHRpbGVzIGJ1dCBhY3R1YWxseSBzZW5kcyA1MTJweFxuICogYnkgNTEycHggaW1hZ2VzIChmb3IgcmV0aW5hL2hpZHBpIGRldmljZXMpIHRoZW4gYHRpbGVQaXhlbFJhdGlvYFxuICogc2hvdWxkIGJlIHNldCB0byBgMmAuXG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFt0aWxlU2l6ZT1bMjU2LCAyNTZdXSBUaGUgdGlsZSBzaXplIHVzZWQgYnkgdGhlIHRpbGUgc2VydmljZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbn0gW3RpbGVVcmxGdW5jdGlvbl0gT3B0aW9uYWwgZnVuY3Rpb24gdG8gZ2V0XG4gKiB0aWxlIFVSTCBnaXZlbiBhIHRpbGUgY29vcmRpbmF0ZSBhbmQgdGhlIHByb2plY3Rpb24uXG4gKiBSZXF1aXJlZCBpZiB1cmwgb3IgdXJscyBhcmUgbm90IHByb3ZpZGVkLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt1cmxdIFVSTCB0ZW1wbGF0ZS4gTXVzdCBpbmNsdWRlIGB7eH1gLCBge3l9YCBvciBgey15fWAsXG4gKiBhbmQgYHt6fWAgcGxhY2Vob2xkZXJzLiBBIGB7Py0/fWAgdGVtcGxhdGUgcGF0dGVybiwgZm9yIGV4YW1wbGUgYHN1YmRvbWFpbnthLWZ9LmRvbWFpbi5jb21gLFxuICogbWF5IGJlIHVzZWQgaW5zdGVhZCBvZiBkZWZpbmluZyBlYWNoIG9uZSBzZXBhcmF0ZWx5IGluIHRoZSBgdXJsc2Agb3B0aW9uLlxuICogQHByb3BlcnR5IHtBcnJheTxzdHJpbmc+fSBbdXJsc10gQW4gYXJyYXkgb2YgVVJMIHRlbXBsYXRlcy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3dyYXBYPXRydWVdIFdoZXRoZXIgdG8gd3JhcCB0aGUgd29ybGQgaG9yaXpvbnRhbGx5LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0cmFuc2l0aW9uXSBEdXJhdGlvbiBvZiB0aGUgb3BhY2l0eSB0cmFuc2l0aW9uIGZvciByZW5kZXJpbmcuXG4gKiBUbyBkaXNhYmxlIHRoZSBvcGFjaXR5IHRyYW5zaXRpb24sIHBhc3MgYHRyYW5zaXRpb246IDBgLlxuICovXG5cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBMYXllciBzb3VyY2UgZm9yIHRpbGUgZGF0YSB3aXRoIFVSTHMgaW4gYSBzZXQgWFlaIGZvcm1hdCB0aGF0IGFyZVxuICogZGVmaW5lZCBpbiBhIFVSTCB0ZW1wbGF0ZS4gQnkgZGVmYXVsdCwgdGhpcyBmb2xsb3dzIHRoZSB3aWRlbHktdXNlZFxuICogR29vZ2xlIGdyaWQgd2hlcmUgYHhgIDAgYW5kIGB5YCAwIGFyZSBpbiB0aGUgdG9wIGxlZnQuIEdyaWRzIGxpa2VcbiAqIFRNUyB3aGVyZSBgeGAgMCBhbmQgYHlgIDAgYXJlIGluIHRoZSBib3R0b20gbGVmdCBjYW4gYmUgdXNlZCBieVxuICogdXNpbmcgdGhlIGB7LXl9YCBwbGFjZWhvbGRlciBpbiB0aGUgVVJMIHRlbXBsYXRlLCBzbyBsb25nIGFzIHRoZVxuICogc291cmNlIGRvZXMgbm90IGhhdmUgYSBjdXN0b20gdGlsZSBncmlkLiBJbiB0aGlzIGNhc2UsXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9UaWxlSW1hZ2V9IGNhbiBiZSB1c2VkIHdpdGggYSBgdGlsZVVybEZ1bmN0aW9uYFxuICogc3VjaCBhczpcbiAqXG4gKiAgdGlsZVVybEZ1bmN0aW9uOiBmdW5jdGlvbihjb29yZGluYXRlKSB7XG4gKiAgICByZXR1cm4gJ2h0dHA6Ly9tYXBzZXJ2ZXIuY29tLycgKyBjb29yZGluYXRlWzBdICsgJy8nICtcbiAqICAgICAgICBjb29yZGluYXRlWzFdICsgJy8nICsgY29vcmRpbmF0ZVsyXSArICcucG5nJztcbiAqICAgIH1cbiAqXG4gKiBAYXBpXG4gKi9cbnZhciBYWVogPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChUaWxlSW1hZ2UpIHtcbiAgZnVuY3Rpb24gWFlaKG9wdF9vcHRpb25zKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgcHJvamVjdGlvbiA9IG9wdGlvbnMucHJvamVjdGlvbiAhPT0gdW5kZWZpbmVkID9cbiAgICAgIG9wdGlvbnMucHJvamVjdGlvbiA6ICdFUFNHOjM4NTcnO1xuXG4gICAgdmFyIHRpbGVHcmlkID0gb3B0aW9ucy50aWxlR3JpZCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy50aWxlR3JpZCA6XG4gICAgICBjcmVhdGVYWVooe1xuICAgICAgICBleHRlbnQ6IGV4dGVudEZyb21Qcm9qZWN0aW9uKHByb2plY3Rpb24pLFxuICAgICAgICBtYXhab29tOiBvcHRpb25zLm1heFpvb20sXG4gICAgICAgIG1pblpvb206IG9wdGlvbnMubWluWm9vbSxcbiAgICAgICAgdGlsZVNpemU6IG9wdGlvbnMudGlsZVNpemVcbiAgICAgIH0pO1xuXG4gICAgVGlsZUltYWdlLmNhbGwodGhpcywge1xuICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9ucyxcbiAgICAgIGNhY2hlU2l6ZTogb3B0aW9ucy5jYWNoZVNpemUsXG4gICAgICBjcm9zc09yaWdpbjogb3B0aW9ucy5jcm9zc09yaWdpbixcbiAgICAgIG9wYXF1ZTogb3B0aW9ucy5vcGFxdWUsXG4gICAgICBwcm9qZWN0aW9uOiBwcm9qZWN0aW9uLFxuICAgICAgcmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQ6IG9wdGlvbnMucmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQsXG4gICAgICB0aWxlR3JpZDogdGlsZUdyaWQsXG4gICAgICB0aWxlTG9hZEZ1bmN0aW9uOiBvcHRpb25zLnRpbGVMb2FkRnVuY3Rpb24sXG4gICAgICB0aWxlUGl4ZWxSYXRpbzogb3B0aW9ucy50aWxlUGl4ZWxSYXRpbyxcbiAgICAgIHRpbGVVcmxGdW5jdGlvbjogb3B0aW9ucy50aWxlVXJsRnVuY3Rpb24sXG4gICAgICB1cmw6IG9wdGlvbnMudXJsLFxuICAgICAgdXJsczogb3B0aW9ucy51cmxzLFxuICAgICAgd3JhcFg6IG9wdGlvbnMud3JhcFggIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMud3JhcFggOiB0cnVlLFxuICAgICAgdHJhbnNpdGlvbjogb3B0aW9ucy50cmFuc2l0aW9uLFxuICAgICAgYXR0cmlidXRpb25zQ29sbGFwc2libGU6IG9wdGlvbnMuYXR0cmlidXRpb25zQ29sbGFwc2libGVcbiAgICB9KTtcblxuICB9XG5cbiAgaWYgKCBUaWxlSW1hZ2UgKSBYWVouX19wcm90b19fID0gVGlsZUltYWdlO1xuICBYWVoucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggVGlsZUltYWdlICYmIFRpbGVJbWFnZS5wcm90b3R5cGUgKTtcbiAgWFlaLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFhZWjtcblxuICByZXR1cm4gWFlaO1xufShUaWxlSW1hZ2UpKTtcblxuZXhwb3J0IGRlZmF1bHQgWFlaO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1YWVouanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9DYXJ0b0RCXG4gKi9cblxuaW1wb3J0IHthc3NpZ259IGZyb20gJy4uL29iai5qcyc7XG5pbXBvcnQgU291cmNlU3RhdGUgZnJvbSAnLi9TdGF0ZS5qcyc7XG5pbXBvcnQgWFlaIGZyb20gJy4vWFlaLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLkF0dHJpYnV0aW9uTGlrZX0gW2F0dHJpYnV0aW9uc10gQXR0cmlidXRpb25zLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtjYWNoZVNpemU9MjA0OF0gQ2FjaGUgc2l6ZS5cbiAqIEBwcm9wZXJ0eSB7bnVsbHxzdHJpbmd9IFtjcm9zc09yaWdpbl0gVGhlIGBjcm9zc09yaWdpbmAgYXR0cmlidXRlIGZvciBsb2FkZWQgaW1hZ2VzLiAgTm90ZSB0aGF0XG4gKiB5b3UgbXVzdCBwcm92aWRlIGEgYGNyb3NzT3JpZ2luYCB2YWx1ZSBpZiB5b3UgYXJlIHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlciBvciBpZiB5b3Ugd2FudCB0b1xuICogYWNjZXNzIHBpeGVsIGRhdGEgd2l0aCB0aGUgQ2FudmFzIHJlbmRlcmVyLiAgU2VlXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0NPUlNfZW5hYmxlZF9pbWFnZSBmb3IgbW9yZSBkZXRhaWwuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IFtwcm9qZWN0aW9uPSdFUFNHOjM4NTcnXSBQcm9qZWN0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhab29tPTE4XSBNYXggem9vbS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWm9vbV0gTWluaW11bSB6b29tLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbd3JhcFg9dHJ1ZV0gV2hldGhlciB0byB3cmFwIHRoZSB3b3JsZCBob3Jpem9udGFsbHkuXG4gKiBAcHJvcGVydHkge09iamVjdH0gW2NvbmZpZ10gSWYgdXNpbmcgYW5vbnltb3VzIG1hcHMsIHRoZSBDYXJ0b0RCIGNvbmZpZyB0byB1c2UuIFNlZVxuICogaHR0cDovL2RvY3MuY2FydG9kYi5jb20vY2FydG9kYi1wbGF0Zm9ybS9tYXBzLWFwaS9hbm9ueW1vdXMtbWFwcy9cbiAqIGZvciBtb3JlIGRldGFpbC5cbiAqIElmIHVzaW5nIG5hbWVkIG1hcHMsIGEga2V5LXZhbHVlIGxvb2t1cCB3aXRoIHRoZSB0ZW1wbGF0ZSBwYXJhbWV0ZXJzLlxuICogU2VlIGh0dHA6Ly9kb2NzLmNhcnRvZGIuY29tL2NhcnRvZGItcGxhdGZvcm0vbWFwcy1hcGkvbmFtZWQtbWFwcy9cbiAqIGZvciBtb3JlIGRldGFpbC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbWFwXSBJZiB1c2luZyBuYW1lZCBtYXBzLCB0aGlzIHdpbGwgYmUgdGhlIG5hbWUgb2YgdGhlIHRlbXBsYXRlIHRvIGxvYWQuXG4gKiBTZWUgaHR0cDovL2RvY3MuY2FydG9kYi5jb20vY2FydG9kYi1wbGF0Zm9ybS9tYXBzLWFwaS9uYW1lZC1tYXBzL1xuICogZm9yIG1vcmUgZGV0YWlsLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGFjY291bnQgSWYgdXNpbmcgbmFtZWQgbWFwcywgdGhpcyB3aWxsIGJlIHRoZSBuYW1lIG9mIHRoZSB0ZW1wbGF0ZSB0byBsb2FkLlxuICovXG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDYXJ0b0RCTGF5ZXJJbmZvXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbGF5ZXJncm91cGlkIFRoZSBsYXllciBncm91cCBJRFxuICogQHByb3BlcnR5IHt7aHR0cHM6IHN0cmluZ319IGNkbl91cmwgVGhlIENETiBVUkxcbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIExheWVyIHNvdXJjZSBmb3IgdGhlIENhcnRvREIgTWFwcyBBUEkuXG4gKiBAYXBpXG4gKi9cbnZhciBDYXJ0b0RCID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoWFlaKSB7XG4gIGZ1bmN0aW9uIENhcnRvREIob3B0aW9ucykge1xuICAgIFhZWi5jYWxsKHRoaXMsIHtcbiAgICAgIGF0dHJpYnV0aW9uczogb3B0aW9ucy5hdHRyaWJ1dGlvbnMsXG4gICAgICBjYWNoZVNpemU6IG9wdGlvbnMuY2FjaGVTaXplLFxuICAgICAgY3Jvc3NPcmlnaW46IG9wdGlvbnMuY3Jvc3NPcmlnaW4sXG4gICAgICBtYXhab29tOiBvcHRpb25zLm1heFpvb20gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWF4Wm9vbSA6IDE4LFxuICAgICAgbWluWm9vbTogb3B0aW9ucy5taW5ab29tLFxuICAgICAgcHJvamVjdGlvbjogb3B0aW9ucy5wcm9qZWN0aW9uLFxuICAgICAgd3JhcFg6IG9wdGlvbnMud3JhcFhcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmFjY291bnRfID0gb3B0aW9ucy5hY2NvdW50O1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMubWFwSWRfID0gb3B0aW9ucy5tYXAgfHwgJyc7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7IU9iamVjdH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuY29uZmlnXyA9IG9wdGlvbnMuY29uZmlnIHx8IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBDYXJ0b0RCTGF5ZXJJbmZvPn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMudGVtcGxhdGVDYWNoZV8gPSB7fTtcblxuICAgIHRoaXMuaW5pdGlhbGl6ZU1hcF8oKTtcbiAgfVxuXG4gIGlmICggWFlaICkgQ2FydG9EQi5fX3Byb3RvX18gPSBYWVo7XG4gIENhcnRvREIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggWFlaICYmIFhZWi5wcm90b3R5cGUgKTtcbiAgQ2FydG9EQi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDYXJ0b0RCO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IGNvbmZpZy5cbiAgICogQHJldHVybiB7IU9iamVjdH0gVGhlIGN1cnJlbnQgY29uZmlndXJhdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgQ2FydG9EQi5wcm90b3R5cGUuZ2V0Q29uZmlnID0gZnVuY3Rpb24gZ2V0Q29uZmlnICgpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWdfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBjYXJ0byBkYiBjb25maWcuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgYSBrZXktdmFsdWUgbG9va3VwLiBWYWx1ZXMgd2lsbCByZXBsYWNlIGN1cnJlbnQgdmFsdWVzXG4gICAqICAgICBpbiB0aGUgY29uZmlnLlxuICAgKiBAYXBpXG4gICAqL1xuICBDYXJ0b0RCLnByb3RvdHlwZS51cGRhdGVDb25maWcgPSBmdW5jdGlvbiB1cGRhdGVDb25maWcgKGNvbmZpZykge1xuICAgIGFzc2lnbih0aGlzLmNvbmZpZ18sIGNvbmZpZyk7XG4gICAgdGhpcy5pbml0aWFsaXplTWFwXygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBDYXJ0b0RCIGNvbmZpZ1xuICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIEluIHRoZSBjYXNlIG9mIGFub255bW91cyBtYXBzLCBhIENhcnRvREIgY29uZmlndXJhdGlvblxuICAgKiAgICAgb2JqZWN0LlxuICAgKiBJZiB1c2luZyBuYW1lZCBtYXBzLCBhIGtleS12YWx1ZSBsb29rdXAgd2l0aCB0aGUgdGVtcGxhdGUgcGFyYW1ldGVycy5cbiAgICogQGFwaVxuICAgKi9cbiAgQ2FydG9EQi5wcm90b3R5cGUuc2V0Q29uZmlnID0gZnVuY3Rpb24gc2V0Q29uZmlnIChjb25maWcpIHtcbiAgICB0aGlzLmNvbmZpZ18gPSBjb25maWcgfHwge307XG4gICAgdGhpcy5pbml0aWFsaXplTWFwXygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJc3N1ZSBhIHJlcXVlc3QgdG8gaW5pdGlhbGl6ZSB0aGUgQ2FydG9EQiBtYXAuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBDYXJ0b0RCLnByb3RvdHlwZS5pbml0aWFsaXplTWFwXyA9IGZ1bmN0aW9uIGluaXRpYWxpemVNYXBfICgpIHtcbiAgICB2YXIgcGFyYW1IYXNoID0gSlNPTi5zdHJpbmdpZnkodGhpcy5jb25maWdfKTtcbiAgICBpZiAodGhpcy50ZW1wbGF0ZUNhY2hlX1twYXJhbUhhc2hdKSB7XG4gICAgICB0aGlzLmFwcGx5VGVtcGxhdGVfKHRoaXMudGVtcGxhdGVDYWNoZV9bcGFyYW1IYXNoXSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBtYXBVcmwgPSAnaHR0cHM6Ly8nICsgdGhpcy5hY2NvdW50XyArICcuY2FydG8uY29tL2FwaS92MS9tYXAnO1xuXG4gICAgaWYgKHRoaXMubWFwSWRfKSB7XG4gICAgICBtYXBVcmwgKz0gJy9uYW1lZC8nICsgdGhpcy5tYXBJZF87XG4gICAgfVxuXG4gICAgdmFyIGNsaWVudCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIGNsaWVudC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5oYW5kbGVJbml0UmVzcG9uc2VfLmJpbmQodGhpcywgcGFyYW1IYXNoKSk7XG4gICAgY2xpZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5oYW5kbGVJbml0RXJyb3JfLmJpbmQodGhpcykpO1xuICAgIGNsaWVudC5vcGVuKCdQT1NUJywgbWFwVXJsKTtcbiAgICBjbGllbnQuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICBjbGllbnQuc2VuZChKU09OLnN0cmluZ2lmeSh0aGlzLmNvbmZpZ18pKTtcbiAgfTtcblxuICAvKipcbiAgICogSGFuZGxlIG1hcCBpbml0aWFsaXphdGlvbiByZXNwb25zZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtSGFzaCBhIGhhc2ggcmVwcmVzZW50aW5nIHRoZSBwYXJhbWV0ZXIgc2V0IHRoYXQgd2FzIHVzZWRcbiAgICogICAgIGZvciB0aGUgcmVxdWVzdFxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBFdmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIENhcnRvREIucHJvdG90eXBlLmhhbmRsZUluaXRSZXNwb25zZV8gPSBmdW5jdGlvbiBoYW5kbGVJbml0UmVzcG9uc2VfIChwYXJhbUhhc2gsIGV2ZW50KSB7XG4gICAgdmFyIGNsaWVudCA9IC8qKiBAdHlwZSB7WE1MSHR0cFJlcXVlc3R9ICovIChldmVudC50YXJnZXQpO1xuICAgIC8vIHN0YXR1cyB3aWxsIGJlIDAgZm9yIGZpbGU6Ly8gdXJsc1xuICAgIGlmICghY2xpZW50LnN0YXR1cyB8fCBjbGllbnQuc3RhdHVzID49IDIwMCAmJiBjbGllbnQuc3RhdHVzIDwgMzAwKSB7XG4gICAgICB2YXIgcmVzcG9uc2U7XG4gICAgICB0cnkge1xuICAgICAgICByZXNwb25zZSA9IC8qKiBAdHlwZSB7Q2FydG9EQkxheWVySW5mb30gKi8oSlNPTi5wYXJzZShjbGllbnQucmVzcG9uc2VUZXh0KSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShTb3VyY2VTdGF0ZS5FUlJPUik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuYXBwbHlUZW1wbGF0ZV8ocmVzcG9uc2UpO1xuICAgICAgdGhpcy50ZW1wbGF0ZUNhY2hlX1twYXJhbUhhc2hdID0gcmVzcG9uc2U7XG4gICAgICB0aGlzLnNldFN0YXRlKFNvdXJjZVN0YXRlLlJFQURZKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRTdGF0ZShTb3VyY2VTdGF0ZS5FUlJPUik7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBFdmVudC5cbiAgICovXG4gIENhcnRvREIucHJvdG90eXBlLmhhbmRsZUluaXRFcnJvcl8gPSBmdW5jdGlvbiBoYW5kbGVJbml0RXJyb3JfIChldmVudCkge1xuICAgIHRoaXMuc2V0U3RhdGUoU291cmNlU3RhdGUuRVJST1IpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBcHBseSB0aGUgbmV3IHRpbGUgdXJscyByZXR1cm5lZCBieSBjYXJ0byBkYlxuICAgKiBAcGFyYW0ge0NhcnRvREJMYXllckluZm99IGRhdGEgUmVzdWx0IG9mIGNhcnRvIGRiIGNhbGwuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBDYXJ0b0RCLnByb3RvdHlwZS5hcHBseVRlbXBsYXRlXyA9IGZ1bmN0aW9uIGFwcGx5VGVtcGxhdGVfIChkYXRhKSB7XG4gICAgdmFyIHRpbGVzVXJsID0gJ2h0dHBzOi8vJyArIGRhdGEuY2RuX3VybC5odHRwcyArICcvJyArIHRoaXMuYWNjb3VudF8gK1xuICAgICAgICAnL2FwaS92MS9tYXAvJyArIGRhdGEubGF5ZXJncm91cGlkICsgJy97en0ve3h9L3t5fS5wbmcnO1xuICAgIHRoaXMuc2V0VXJsKHRpbGVzVXJsKTtcbiAgfTtcblxuICByZXR1cm4gQ2FydG9EQjtcbn0oWFlaKSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgQ2FydG9EQjtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FydG9EQi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL0NsdXN0ZXJcbiAqL1xuXG5pbXBvcnQge2dldFVpZH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQgRmVhdHVyZSBmcm9tICcuLi9GZWF0dXJlLmpzJztcbmltcG9ydCBHZW9tZXRyeVR5cGUgZnJvbSAnLi4vZ2VvbS9HZW9tZXRyeVR5cGUuanMnO1xuaW1wb3J0IHtzY2FsZSBhcyBzY2FsZUNvb3JkaW5hdGUsIGFkZCBhcyBhZGRDb29yZGluYXRlfSBmcm9tICcuLi9jb29yZGluYXRlLmpzJztcbmltcG9ydCB7bGlzdGVufSBmcm9tICcuLi9ldmVudHMuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7YnVmZmVyLCBjcmVhdGVFbXB0eSwgY3JlYXRlT3JVcGRhdGVGcm9tQ29vcmRpbmF0ZX0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCBQb2ludCBmcm9tICcuLi9nZW9tL1BvaW50LmpzJztcbmltcG9ydCBWZWN0b3JTb3VyY2UgZnJvbSAnLi9WZWN0b3IuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9Tb3VyY2UuanNcIikuQXR0cmlidXRpb25MaWtlfSBbYXR0cmlidXRpb25zXSBBdHRyaWJ1dGlvbnMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2Rpc3RhbmNlPTIwXSBNaW5pbXVtIGRpc3RhbmNlIGluIHBpeGVscyBiZXR3ZWVuIGNsdXN0ZXJzLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihGZWF0dXJlKTpQb2ludH0gW2dlb21ldHJ5RnVuY3Rpb25dXG4gKiBGdW5jdGlvbiB0aGF0IHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvRmVhdHVyZX0gYXMgYXJndW1lbnQgYW5kIHJldHVybnMgYW5cbiAqIHtAbGluayBtb2R1bGU6b2wvZ2VvbS9Qb2ludH0gYXMgY2x1c3RlciBjYWxjdWxhdGlvbiBwb2ludCBmb3IgdGhlIGZlYXR1cmUuIFdoZW4gYVxuICogZmVhdHVyZSBzaG91bGQgbm90IGJlIGNvbnNpZGVyZWQgZm9yIGNsdXN0ZXJpbmcsIHRoZSBmdW5jdGlvbiBzaG91bGQgcmV0dXJuXG4gKiBgbnVsbGAuIFRoZSBkZWZhdWx0LCB3aGljaCB3b3JrcyB3aGVuIHRoZSB1bmRlcnlsaW5nIHNvdXJjZSBjb250YWlucyBwb2ludFxuICogZmVhdHVyZXMgb25seSwgaXNcbiAqIGBgYGpzXG4gKiBmdW5jdGlvbihmZWF0dXJlKSB7XG4gKiAgIHJldHVybiBmZWF0dXJlLmdldEdlb21ldHJ5KCk7XG4gKiB9XG4gKiBgYGBcbiAqIFNlZSB7QGxpbmsgbW9kdWxlOm9sL2dlb20vUG9seWdvbn5Qb2x5Z29uI2dldEludGVyaW9yUG9pbnR9IGZvciBhIHdheSB0byBnZXQgYSBjbHVzdGVyXG4gKiBjYWxjdWxhdGlvbiBwb2ludCBmb3IgcG9seWdvbnMuXG4gKiBAcHJvcGVydHkge1ZlY3RvclNvdXJjZX0gc291cmNlIFNvdXJjZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3dyYXBYPXRydWVdIFdoZXRoZXIgdG8gd3JhcCB0aGUgd29ybGQgaG9yaXpvbnRhbGx5LlxuICovXG5cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBMYXllciBzb3VyY2UgdG8gY2x1c3RlciB2ZWN0b3IgZGF0YS4gV29ya3Mgb3V0IG9mIHRoZSBib3ggd2l0aCBwb2ludFxuICogZ2VvbWV0cmllcy4gRm9yIG90aGVyIGdlb21ldHJ5IHR5cGVzLCBvciBpZiBub3QgYWxsIGdlb21ldHJpZXMgc2hvdWxkIGJlXG4gKiBjb25zaWRlcmVkIGZvciBjbHVzdGVyaW5nLCBhIGN1c3RvbSBgZ2VvbWV0cnlGdW5jdGlvbmAgY2FuIGJlIGRlZmluZWQuXG4gKiBAYXBpXG4gKi9cbnZhciBDbHVzdGVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoVmVjdG9yU291cmNlKSB7XG4gIGZ1bmN0aW9uIENsdXN0ZXIob3B0aW9ucykge1xuICAgIFZlY3RvclNvdXJjZS5jYWxsKHRoaXMsIHtcbiAgICAgIGF0dHJpYnV0aW9uczogb3B0aW9ucy5hdHRyaWJ1dGlvbnMsXG4gICAgICB3cmFwWDogb3B0aW9ucy53cmFwWFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHRoaXMuZGlzdGFuY2UgPSBvcHRpb25zLmRpc3RhbmNlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmRpc3RhbmNlIDogMjA7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QXJyYXk8RmVhdHVyZT59XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHRoaXMuZmVhdHVyZXMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RmVhdHVyZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqIEByZXR1cm4ge1BvaW50fSBDbHVzdGVyIGNhbGN1bGF0aW9uIHBvaW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICB0aGlzLmdlb21ldHJ5RnVuY3Rpb24gPSBvcHRpb25zLmdlb21ldHJ5RnVuY3Rpb24gfHwgZnVuY3Rpb24oZmVhdHVyZSkge1xuICAgICAgdmFyIGdlb21ldHJ5ID0gLyoqIEB0eXBlIHtQb2ludH0gKi8gKGZlYXR1cmUuZ2V0R2VvbWV0cnkoKSk7XG4gICAgICBhc3NlcnQoZ2VvbWV0cnkuZ2V0VHlwZSgpID09IEdlb21ldHJ5VHlwZS5QT0lOVCxcbiAgICAgICAgMTApOyAvLyBUaGUgZGVmYXVsdCBgZ2VvbWV0cnlGdW5jdGlvbmAgY2FuIG9ubHkgaGFuZGxlIGBQb2ludGAgZ2VvbWV0cmllc1xuICAgICAgcmV0dXJuIGdlb21ldHJ5O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7VmVjdG9yU291cmNlfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICB0aGlzLnNvdXJjZSA9IG9wdGlvbnMuc291cmNlO1xuXG4gICAgbGlzdGVuKHRoaXMuc291cmNlLCBFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLnJlZnJlc2gsIHRoaXMpO1xuICB9XG5cbiAgaWYgKCBWZWN0b3JTb3VyY2UgKSBDbHVzdGVyLl9fcHJvdG9fXyA9IFZlY3RvclNvdXJjZTtcbiAgQ2x1c3Rlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBWZWN0b3JTb3VyY2UgJiYgVmVjdG9yU291cmNlLnByb3RvdHlwZSApO1xuICBDbHVzdGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENsdXN0ZXI7XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZGlzdGFuY2UgaW4gcGl4ZWxzIGJldHdlZW4gY2x1c3RlcnMuXG4gICAqIEByZXR1cm4ge251bWJlcn0gRGlzdGFuY2UuXG4gICAqIEBhcGlcbiAgICovXG4gIENsdXN0ZXIucHJvdG90eXBlLmdldERpc3RhbmNlID0gZnVuY3Rpb24gZ2V0RGlzdGFuY2UgKCkge1xuICAgIHJldHVybiB0aGlzLmRpc3RhbmNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgYSByZWZlcmVuY2UgdG8gdGhlIHdyYXBwZWQgc291cmNlLlxuICAgKiBAcmV0dXJuIHtWZWN0b3JTb3VyY2V9IFNvdXJjZS5cbiAgICogQGFwaVxuICAgKi9cbiAgQ2x1c3Rlci5wcm90b3R5cGUuZ2V0U291cmNlID0gZnVuY3Rpb24gZ2V0U291cmNlICgpIHtcbiAgICByZXR1cm4gdGhpcy5zb3VyY2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBDbHVzdGVyLnByb3RvdHlwZS5sb2FkRmVhdHVyZXMgPSBmdW5jdGlvbiBsb2FkRmVhdHVyZXMgKGV4dGVudCwgcmVzb2x1dGlvbiwgcHJvamVjdGlvbikge1xuICAgIHRoaXMuc291cmNlLmxvYWRGZWF0dXJlcyhleHRlbnQsIHJlc29sdXRpb24sIHByb2plY3Rpb24pO1xuICAgIGlmIChyZXNvbHV0aW9uICE9PSB0aGlzLnJlc29sdXRpb24pIHtcbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICB0aGlzLmNsdXN0ZXIoKTtcbiAgICAgIHRoaXMuYWRkRmVhdHVyZXModGhpcy5mZWF0dXJlcyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGRpc3RhbmNlIGluIHBpeGVscyBiZXR3ZWVuIGNsdXN0ZXJzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZGlzdGFuY2UgVGhlIGRpc3RhbmNlIGluIHBpeGVscy5cbiAgICogQGFwaVxuICAgKi9cbiAgQ2x1c3Rlci5wcm90b3R5cGUuc2V0RGlzdGFuY2UgPSBmdW5jdGlvbiBzZXREaXN0YW5jZSAoZGlzdGFuY2UpIHtcbiAgICB0aGlzLmRpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgdGhpcy5yZWZyZXNoKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIGhhbmRsZSB0aGUgc291cmNlIGNoYW5naW5nXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgQ2x1c3Rlci5wcm90b3R5cGUucmVmcmVzaCA9IGZ1bmN0aW9uIHJlZnJlc2ggKCkge1xuICAgIHRoaXMuY2xlYXIoKTtcbiAgICB0aGlzLmNsdXN0ZXIoKTtcbiAgICB0aGlzLmFkZEZlYXR1cmVzKHRoaXMuZmVhdHVyZXMpO1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUucmVmcmVzaC5jYWxsKHRoaXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBDbHVzdGVyLnByb3RvdHlwZS5jbHVzdGVyID0gZnVuY3Rpb24gY2x1c3RlciAoKSB7XG4gICAgaWYgKHRoaXMucmVzb2x1dGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuZmVhdHVyZXMubGVuZ3RoID0gMDtcbiAgICB2YXIgZXh0ZW50ID0gY3JlYXRlRW1wdHkoKTtcbiAgICB2YXIgbWFwRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlICogdGhpcy5yZXNvbHV0aW9uO1xuICAgIHZhciBmZWF0dXJlcyA9IHRoaXMuc291cmNlLmdldEZlYXR1cmVzKCk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGJvb2xlYW4+fVxuICAgICAqL1xuICAgIHZhciBjbHVzdGVyZWQgPSB7fTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGZlYXR1cmVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIHZhciBmZWF0dXJlID0gZmVhdHVyZXNbaV07XG4gICAgICBpZiAoIShnZXRVaWQoZmVhdHVyZSkgaW4gY2x1c3RlcmVkKSkge1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5RnVuY3Rpb24oZmVhdHVyZSk7XG4gICAgICAgIGlmIChnZW9tZXRyeSkge1xuICAgICAgICAgIHZhciBjb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldENvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgY3JlYXRlT3JVcGRhdGVGcm9tQ29vcmRpbmF0ZShjb29yZGluYXRlcywgZXh0ZW50KTtcbiAgICAgICAgICBidWZmZXIoZXh0ZW50LCBtYXBEaXN0YW5jZSwgZXh0ZW50KTtcblxuICAgICAgICAgIHZhciBuZWlnaGJvcnMgPSB0aGlzLnNvdXJjZS5nZXRGZWF0dXJlc0luRXh0ZW50KGV4dGVudCk7XG4gICAgICAgICAgbmVpZ2hib3JzID0gbmVpZ2hib3JzLmZpbHRlcihmdW5jdGlvbihuZWlnaGJvcikge1xuICAgICAgICAgICAgdmFyIHVpZCA9IGdldFVpZChuZWlnaGJvcik7XG4gICAgICAgICAgICBpZiAoISh1aWQgaW4gY2x1c3RlcmVkKSkge1xuICAgICAgICAgICAgICBjbHVzdGVyZWRbdWlkXSA9IHRydWU7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuZmVhdHVyZXMucHVzaCh0aGlzLmNyZWF0ZUNsdXN0ZXIobmVpZ2hib3JzKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8RmVhdHVyZT59IGZlYXR1cmVzIEZlYXR1cmVzXG4gICAqIEByZXR1cm4ge0ZlYXR1cmV9IFRoZSBjbHVzdGVyIGZlYXR1cmUuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIENsdXN0ZXIucHJvdG90eXBlLmNyZWF0ZUNsdXN0ZXIgPSBmdW5jdGlvbiBjcmVhdGVDbHVzdGVyIChmZWF0dXJlcykge1xuICAgIHZhciBjZW50cm9pZCA9IFswLCAwXTtcbiAgICBmb3IgKHZhciBpID0gZmVhdHVyZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnlGdW5jdGlvbihmZWF0dXJlc1tpXSk7XG4gICAgICBpZiAoZ2VvbWV0cnkpIHtcbiAgICAgICAgYWRkQ29vcmRpbmF0ZShjZW50cm9pZCwgZ2VvbWV0cnkuZ2V0Q29vcmRpbmF0ZXMoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmZWF0dXJlcy5zcGxpY2UoaSwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIHNjYWxlQ29vcmRpbmF0ZShjZW50cm9pZCwgMSAvIGZlYXR1cmVzLmxlbmd0aCk7XG5cbiAgICB2YXIgY2x1c3RlciA9IG5ldyBGZWF0dXJlKG5ldyBQb2ludChjZW50cm9pZCkpO1xuICAgIGNsdXN0ZXIuc2V0KCdmZWF0dXJlcycsIGZlYXR1cmVzKTtcbiAgICByZXR1cm4gY2x1c3RlcjtcbiAgfTtcblxuICByZXR1cm4gQ2x1c3Rlcjtcbn0oVmVjdG9yU291cmNlKSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgQ2x1c3RlcjtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2x1c3Rlci5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVwcm9qL0ltYWdlXG4gKi9cbmltcG9ydCB7RVJST1JfVEhSRVNIT0xEfSBmcm9tICcuL2NvbW1vbi5qcyc7XG5cbmltcG9ydCBJbWFnZUJhc2UgZnJvbSAnLi4vSW1hZ2VCYXNlLmpzJztcbmltcG9ydCBJbWFnZVN0YXRlIGZyb20gJy4uL0ltYWdlU3RhdGUuanMnO1xuaW1wb3J0IHtsaXN0ZW4sIHVubGlzdGVuQnlLZXl9IGZyb20gJy4uL2V2ZW50cy5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IHtnZXRDZW50ZXIsIGdldEludGVyc2VjdGlvbiwgZ2V0SGVpZ2h0LCBnZXRXaWR0aH0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7Y2FsY3VsYXRlU291cmNlUmVzb2x1dGlvbiwgcmVuZGVyIGFzIHJlbmRlclJlcHJvamVjdGVkfSBmcm9tICcuLi9yZXByb2ouanMnO1xuaW1wb3J0IFRyaWFuZ3VsYXRpb24gZnJvbSAnLi9Ucmlhbmd1bGF0aW9uLmpzJztcblxuXG4vKipcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50LCBudW1iZXIsIG51bWJlcikgOiBpbXBvcnQoXCIuLi9JbWFnZUJhc2UuanNcIikuZGVmYXVsdH0gRnVuY3Rpb25UeXBlXG4gKi9cblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIENsYXNzIGVuY2Fwc3VsYXRpbmcgc2luZ2xlIHJlcHJvamVjdGVkIGltYWdlLlxuICogU2VlIHtAbGluayBtb2R1bGU6b2wvc291cmNlL0ltYWdlfkltYWdlU291cmNlfS5cbiAqL1xudmFyIFJlcHJvakltYWdlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoSW1hZ2VCYXNlKSB7XG4gIGZ1bmN0aW9uIFJlcHJvakltYWdlKHNvdXJjZVByb2osIHRhcmdldFByb2osIHRhcmdldEV4dGVudCwgdGFyZ2V0UmVzb2x1dGlvbiwgcGl4ZWxSYXRpbywgZ2V0SW1hZ2VGdW5jdGlvbikge1xuICAgIHZhciBtYXhTb3VyY2VFeHRlbnQgPSBzb3VyY2VQcm9qLmdldEV4dGVudCgpO1xuICAgIHZhciBtYXhUYXJnZXRFeHRlbnQgPSB0YXJnZXRQcm9qLmdldEV4dGVudCgpO1xuXG4gICAgdmFyIGxpbWl0ZWRUYXJnZXRFeHRlbnQgPSBtYXhUYXJnZXRFeHRlbnQgP1xuICAgICAgZ2V0SW50ZXJzZWN0aW9uKHRhcmdldEV4dGVudCwgbWF4VGFyZ2V0RXh0ZW50KSA6IHRhcmdldEV4dGVudDtcblxuICAgIHZhciB0YXJnZXRDZW50ZXIgPSBnZXRDZW50ZXIobGltaXRlZFRhcmdldEV4dGVudCk7XG4gICAgdmFyIHNvdXJjZVJlc29sdXRpb24gPSBjYWxjdWxhdGVTb3VyY2VSZXNvbHV0aW9uKFxuICAgICAgc291cmNlUHJvaiwgdGFyZ2V0UHJvaiwgdGFyZ2V0Q2VudGVyLCB0YXJnZXRSZXNvbHV0aW9uKTtcblxuICAgIHZhciBlcnJvclRocmVzaG9sZEluUGl4ZWxzID0gRVJST1JfVEhSRVNIT0xEO1xuXG4gICAgdmFyIHRyaWFuZ3VsYXRpb24gPSBuZXcgVHJpYW5ndWxhdGlvbihcbiAgICAgIHNvdXJjZVByb2osIHRhcmdldFByb2osIGxpbWl0ZWRUYXJnZXRFeHRlbnQsIG1heFNvdXJjZUV4dGVudCxcbiAgICAgIHNvdXJjZVJlc29sdXRpb24gKiBlcnJvclRocmVzaG9sZEluUGl4ZWxzKTtcblxuICAgIHZhciBzb3VyY2VFeHRlbnQgPSB0cmlhbmd1bGF0aW9uLmNhbGN1bGF0ZVNvdXJjZUV4dGVudCgpO1xuICAgIHZhciBzb3VyY2VJbWFnZSA9IGdldEltYWdlRnVuY3Rpb24oc291cmNlRXh0ZW50LCBzb3VyY2VSZXNvbHV0aW9uLCBwaXhlbFJhdGlvKTtcbiAgICB2YXIgc3RhdGUgPSBJbWFnZVN0YXRlLkxPQURFRDtcbiAgICBpZiAoc291cmNlSW1hZ2UpIHtcbiAgICAgIHN0YXRlID0gSW1hZ2VTdGF0ZS5JRExFO1xuICAgIH1cbiAgICB2YXIgc291cmNlUGl4ZWxSYXRpbyA9IHNvdXJjZUltYWdlID8gc291cmNlSW1hZ2UuZ2V0UGl4ZWxSYXRpbygpIDogMTtcblxuICAgIEltYWdlQmFzZS5jYWxsKHRoaXMsIHRhcmdldEV4dGVudCwgdGFyZ2V0UmVzb2x1dGlvbiwgc291cmNlUGl4ZWxSYXRpbywgc3RhdGUpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy50YXJnZXRQcm9qXyA9IHRhcmdldFByb2o7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqL1xuICAgIHRoaXMubWF4U291cmNlRXh0ZW50XyA9IG1heFNvdXJjZUV4dGVudDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFpbXBvcnQoXCIuL1RyaWFuZ3VsYXRpb24uanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLnRyaWFuZ3VsYXRpb25fID0gdHJpYW5ndWxhdGlvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRhcmdldFJlc29sdXRpb25fID0gdGFyZ2V0UmVzb2x1dGlvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICovXG4gICAgdGhpcy50YXJnZXRFeHRlbnRfID0gdGFyZ2V0RXh0ZW50O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vSW1hZ2VCYXNlLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5zb3VyY2VJbWFnZV8gPSBzb3VyY2VJbWFnZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnNvdXJjZVBpeGVsUmF0aW9fID0gc291cmNlUGl4ZWxSYXRpbztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMuY2FudmFzXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgKi9cbiAgICB0aGlzLnNvdXJjZUxpc3RlbmVyS2V5XyA9IG51bGw7XG4gIH1cblxuICBpZiAoIEltYWdlQmFzZSApIFJlcHJvakltYWdlLl9fcHJvdG9fXyA9IEltYWdlQmFzZTtcbiAgUmVwcm9qSW1hZ2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggSW1hZ2VCYXNlICYmIEltYWdlQmFzZS5wcm90b3R5cGUgKTtcbiAgUmVwcm9qSW1hZ2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUmVwcm9qSW1hZ2U7XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBSZXByb2pJbWFnZS5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24gZGlzcG9zZUludGVybmFsICgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZSA9PSBJbWFnZVN0YXRlLkxPQURJTkcpIHtcbiAgICAgIHRoaXMudW5saXN0ZW5Tb3VyY2VfKCk7XG4gICAgfVxuICAgIEltYWdlQmFzZS5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBSZXByb2pJbWFnZS5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiBnZXRJbWFnZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FudmFzXztcbiAgfTtcblxuICAvKipcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IFByb2plY3Rpb24uXG4gICAqL1xuICBSZXByb2pJbWFnZS5wcm90b3R5cGUuZ2V0UHJvamVjdGlvbiA9IGZ1bmN0aW9uIGdldFByb2plY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnRhcmdldFByb2pfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgUmVwcm9qSW1hZ2UucHJvdG90eXBlLnJlcHJvamVjdF8gPSBmdW5jdGlvbiByZXByb2plY3RfICgpIHtcbiAgICB2YXIgc291cmNlU3RhdGUgPSB0aGlzLnNvdXJjZUltYWdlXy5nZXRTdGF0ZSgpO1xuICAgIGlmIChzb3VyY2VTdGF0ZSA9PSBJbWFnZVN0YXRlLkxPQURFRCkge1xuICAgICAgdmFyIHdpZHRoID0gZ2V0V2lkdGgodGhpcy50YXJnZXRFeHRlbnRfKSAvIHRoaXMudGFyZ2V0UmVzb2x1dGlvbl87XG4gICAgICB2YXIgaGVpZ2h0ID0gZ2V0SGVpZ2h0KHRoaXMudGFyZ2V0RXh0ZW50XykgLyB0aGlzLnRhcmdldFJlc29sdXRpb25fO1xuXG4gICAgICB0aGlzLmNhbnZhc18gPSByZW5kZXJSZXByb2plY3RlZCh3aWR0aCwgaGVpZ2h0LCB0aGlzLnNvdXJjZVBpeGVsUmF0aW9fLFxuICAgICAgICB0aGlzLnNvdXJjZUltYWdlXy5nZXRSZXNvbHV0aW9uKCksIHRoaXMubWF4U291cmNlRXh0ZW50XyxcbiAgICAgICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uXywgdGhpcy50YXJnZXRFeHRlbnRfLCB0aGlzLnRyaWFuZ3VsYXRpb25fLCBbe1xuICAgICAgICAgIGV4dGVudDogdGhpcy5zb3VyY2VJbWFnZV8uZ2V0RXh0ZW50KCksXG4gICAgICAgICAgaW1hZ2U6IHRoaXMuc291cmNlSW1hZ2VfLmdldEltYWdlKClcbiAgICAgICAgfV0sIDApO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlID0gc291cmNlU3RhdGU7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBSZXByb2pJbWFnZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQgKCkge1xuICAgIGlmICh0aGlzLnN0YXRlID09IEltYWdlU3RhdGUuSURMRSkge1xuICAgICAgdGhpcy5zdGF0ZSA9IEltYWdlU3RhdGUuTE9BRElORztcbiAgICAgIHRoaXMuY2hhbmdlZCgpO1xuXG4gICAgICB2YXIgc291cmNlU3RhdGUgPSB0aGlzLnNvdXJjZUltYWdlXy5nZXRTdGF0ZSgpO1xuICAgICAgaWYgKHNvdXJjZVN0YXRlID09IEltYWdlU3RhdGUuTE9BREVEIHx8IHNvdXJjZVN0YXRlID09IEltYWdlU3RhdGUuRVJST1IpIHtcbiAgICAgICAgdGhpcy5yZXByb2plY3RfKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNvdXJjZUxpc3RlbmVyS2V5XyA9IGxpc3Rlbih0aGlzLnNvdXJjZUltYWdlXyxcbiAgICAgICAgICBFdmVudFR5cGUuQ0hBTkdFLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlU3RhdGUgPSB0aGlzLnNvdXJjZUltYWdlXy5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgaWYgKHNvdXJjZVN0YXRlID09IEltYWdlU3RhdGUuTE9BREVEIHx8IHNvdXJjZVN0YXRlID09IEltYWdlU3RhdGUuRVJST1IpIHtcbiAgICAgICAgICAgICAgdGhpcy51bmxpc3RlblNvdXJjZV8oKTtcbiAgICAgICAgICAgICAgdGhpcy5yZXByb2plY3RfKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIHRoaXMuc291cmNlSW1hZ2VfLmxvYWQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBSZXByb2pJbWFnZS5wcm90b3R5cGUudW5saXN0ZW5Tb3VyY2VfID0gZnVuY3Rpb24gdW5saXN0ZW5Tb3VyY2VfICgpIHtcbiAgICB1bmxpc3RlbkJ5S2V5KC8qKiBAdHlwZSB7IWltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9ICovICh0aGlzLnNvdXJjZUxpc3RlbmVyS2V5XykpO1xuICAgIHRoaXMuc291cmNlTGlzdGVuZXJLZXlfID0gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gUmVwcm9qSW1hZ2U7XG59KEltYWdlQmFzZSkpO1xuXG5cbmV4cG9ydCBkZWZhdWx0IFJlcHJvakltYWdlO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbWFnZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL0ltYWdlXG4gKi9cbmltcG9ydCB7YWJzdHJhY3R9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IHtFTkFCTEVfUkFTVEVSX1JFUFJPSkVDVElPTn0gZnJvbSAnLi4vcmVwcm9qL2NvbW1vbi5qcyc7XG5pbXBvcnQgSW1hZ2VTdGF0ZSBmcm9tICcuLi9JbWFnZVN0YXRlLmpzJztcbmltcG9ydCB7bGluZWFyRmluZE5lYXJlc3R9IGZyb20gJy4uL2FycmF5LmpzJztcbmltcG9ydCBFdmVudCBmcm9tICcuLi9ldmVudHMvRXZlbnQuanMnO1xuaW1wb3J0IHtlcXVhbHN9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQge2VxdWl2YWxlbnR9IGZyb20gJy4uL3Byb2ouanMnO1xuaW1wb3J0IFJlcHJvakltYWdlIGZyb20gJy4uL3JlcHJvai9JbWFnZS5qcyc7XG5pbXBvcnQgU291cmNlIGZyb20gJy4vU291cmNlLmpzJztcblxuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbnZhciBJbWFnZVNvdXJjZUV2ZW50VHlwZSA9IHtcblxuICAvKipcbiAgICogVHJpZ2dlcmVkIHdoZW4gYW4gaW1hZ2Ugc3RhcnRzIGxvYWRpbmcuXG4gICAqIEBldmVudCBvbC9zb3VyY2UvSW1hZ2V+SW1hZ2VTb3VyY2VFdmVudCNpbWFnZWxvYWRzdGFydFxuICAgKiBAYXBpXG4gICAqL1xuICBJTUFHRUxPQURTVEFSVDogJ2ltYWdlbG9hZHN0YXJ0JyxcblxuICAvKipcbiAgICogVHJpZ2dlcmVkIHdoZW4gYW4gaW1hZ2UgZmluaXNoZXMgbG9hZGluZy5cbiAgICogQGV2ZW50IG9sL3NvdXJjZS9JbWFnZX5JbWFnZVNvdXJjZUV2ZW50I2ltYWdlbG9hZGVuZFxuICAgKiBAYXBpXG4gICAqL1xuICBJTUFHRUxPQURFTkQ6ICdpbWFnZWxvYWRlbmQnLFxuXG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgaWYgaW1hZ2UgbG9hZGluZyByZXN1bHRzIGluIGFuIGVycm9yLlxuICAgKiBAZXZlbnQgb2wvc291cmNlL0ltYWdlfkltYWdlU291cmNlRXZlbnQjaW1hZ2Vsb2FkZXJyb3JcbiAgICogQGFwaVxuICAgKi9cbiAgSU1BR0VMT0FERVJST1I6ICdpbWFnZWxvYWRlcnJvcidcblxufTtcblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEV2ZW50cyBlbWl0dGVkIGJ5IHtAbGluayBtb2R1bGU6b2wvc291cmNlL0ltYWdlfkltYWdlU291cmNlfSBpbnN0YW5jZXMgYXJlIGluc3RhbmNlcyBvZiB0aGlzXG4gKiB0eXBlLlxuICovXG52YXIgSW1hZ2VTb3VyY2VFdmVudCA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEV2ZW50KSB7XG4gIGZ1bmN0aW9uIEltYWdlU291cmNlRXZlbnQodHlwZSwgaW1hZ2UpIHtcblxuICAgIEV2ZW50LmNhbGwodGhpcywgdHlwZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW1hZ2UgcmVsYXRlZCB0byB0aGUgZXZlbnQuXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL0ltYWdlLmpzXCIpLmRlZmF1bHR9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTtcblxuICB9XG5cbiAgaWYgKCBFdmVudCApIEltYWdlU291cmNlRXZlbnQuX19wcm90b19fID0gRXZlbnQ7XG4gIEltYWdlU291cmNlRXZlbnQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZlbnQgJiYgRXZlbnQucHJvdG90eXBlICk7XG4gIEltYWdlU291cmNlRXZlbnQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSW1hZ2VTb3VyY2VFdmVudDtcblxuICByZXR1cm4gSW1hZ2VTb3VyY2VFdmVudDtcbn0oRXZlbnQpKTtcblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9Tb3VyY2UuanNcIikuQXR0cmlidXRpb25MaWtlfSBbYXR0cmlidXRpb25zXVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBwcm9qZWN0aW9uXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtyZXNvbHV0aW9uc11cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9TdGF0ZS5qc1wiKS5kZWZhdWx0fSBbc3RhdGVdXG4gKi9cblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3M7IG5vcm1hbGx5IG9ubHkgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlcyBhbmQgbm90XG4gKiBpbnN0YW50aWF0ZWQgaW4gYXBwcy5cbiAqIEJhc2UgY2xhc3MgZm9yIHNvdXJjZXMgcHJvdmlkaW5nIGEgc2luZ2xlIGltYWdlLlxuICogQGFic3RyYWN0XG4gKiBAYXBpXG4gKi9cbnZhciBJbWFnZVNvdXJjZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFNvdXJjZSkge1xuICBmdW5jdGlvbiBJbWFnZVNvdXJjZShvcHRpb25zKSB7XG4gICAgU291cmNlLmNhbGwodGhpcywge1xuICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9ucyxcbiAgICAgIHByb2plY3Rpb246IG9wdGlvbnMucHJvamVjdGlvbixcbiAgICAgIHN0YXRlOiBvcHRpb25zLnN0YXRlXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMucmVzb2x1dGlvbnNfID0gb3B0aW9ucy5yZXNvbHV0aW9ucyAhPT0gdW5kZWZpbmVkID9cbiAgICAgIG9wdGlvbnMucmVzb2x1dGlvbnMgOiBudWxsO1xuXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9yZXByb2ovSW1hZ2UuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLnJlcHJvamVjdGVkSW1hZ2VfID0gbnVsbDtcblxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVwcm9qZWN0ZWRSZXZpc2lvbl8gPSAwO1xuICB9XG5cbiAgaWYgKCBTb3VyY2UgKSBJbWFnZVNvdXJjZS5fX3Byb3RvX18gPSBTb3VyY2U7XG4gIEltYWdlU291cmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFNvdXJjZSAmJiBTb3VyY2UucHJvdG90eXBlICk7XG4gIEltYWdlU291cmNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEltYWdlU291cmNlO1xuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBSZXNvbHV0aW9ucy5cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBJbWFnZVNvdXJjZS5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbnMgPSBmdW5jdGlvbiBnZXRSZXNvbHV0aW9ucyAoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVzb2x1dGlvbnNfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAqIEByZXR1cm4ge251bWJlcn0gUmVzb2x1dGlvbi5cbiAgICovXG4gIEltYWdlU291cmNlLnByb3RvdHlwZS5maW5kTmVhcmVzdFJlc29sdXRpb24gPSBmdW5jdGlvbiBmaW5kTmVhcmVzdFJlc29sdXRpb24gKHJlc29sdXRpb24pIHtcbiAgICBpZiAodGhpcy5yZXNvbHV0aW9uc18pIHtcbiAgICAgIHZhciBpZHggPSBsaW5lYXJGaW5kTmVhcmVzdCh0aGlzLnJlc29sdXRpb25zXywgcmVzb2x1dGlvbiwgMCk7XG4gICAgICByZXNvbHV0aW9uID0gdGhpcy5yZXNvbHV0aW9uc19baWR4XTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc29sdXRpb247XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vSW1hZ2VCYXNlLmpzXCIpLmRlZmF1bHR9IFNpbmdsZSBpbWFnZS5cbiAgICovXG4gIEltYWdlU291cmNlLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uIGdldEltYWdlIChleHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICB2YXIgc291cmNlUHJvamVjdGlvbiA9IHRoaXMuZ2V0UHJvamVjdGlvbigpO1xuICAgIGlmICghRU5BQkxFX1JBU1RFUl9SRVBST0pFQ1RJT04gfHxcbiAgICAgICAgIXNvdXJjZVByb2plY3Rpb24gfHxcbiAgICAgICAgIXByb2plY3Rpb24gfHxcbiAgICAgICAgZXF1aXZhbGVudChzb3VyY2VQcm9qZWN0aW9uLCBwcm9qZWN0aW9uKSkge1xuICAgICAgaWYgKHNvdXJjZVByb2plY3Rpb24pIHtcbiAgICAgICAgcHJvamVjdGlvbiA9IHNvdXJjZVByb2plY3Rpb247XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5nZXRJbWFnZUludGVybmFsKGV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLnJlcHJvamVjdGVkSW1hZ2VfKSB7XG4gICAgICAgIGlmICh0aGlzLnJlcHJvamVjdGVkUmV2aXNpb25fID09IHRoaXMuZ2V0UmV2aXNpb24oKSAmJlxuICAgICAgICAgICAgZXF1aXZhbGVudChcbiAgICAgICAgICAgICAgdGhpcy5yZXByb2plY3RlZEltYWdlXy5nZXRQcm9qZWN0aW9uKCksIHByb2plY3Rpb24pICYmXG4gICAgICAgICAgICB0aGlzLnJlcHJvamVjdGVkSW1hZ2VfLmdldFJlc29sdXRpb24oKSA9PSByZXNvbHV0aW9uICYmXG4gICAgICAgICAgICBlcXVhbHModGhpcy5yZXByb2plY3RlZEltYWdlXy5nZXRFeHRlbnQoKSwgZXh0ZW50KSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnJlcHJvamVjdGVkSW1hZ2VfO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVwcm9qZWN0ZWRJbWFnZV8uZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnJlcHJvamVjdGVkSW1hZ2VfID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5yZXByb2plY3RlZEltYWdlXyA9IG5ldyBSZXByb2pJbWFnZShcbiAgICAgICAgc291cmNlUHJvamVjdGlvbiwgcHJvamVjdGlvbiwgZXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvLFxuICAgICAgICBmdW5jdGlvbihleHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8pIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5nZXRJbWFnZUludGVybmFsKGV4dGVudCwgcmVzb2x1dGlvbixcbiAgICAgICAgICAgIHBpeGVsUmF0aW8sIHNvdXJjZVByb2plY3Rpb24pO1xuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgdGhpcy5yZXByb2plY3RlZFJldmlzaW9uXyA9IHRoaXMuZ2V0UmV2aXNpb24oKTtcblxuICAgICAgcmV0dXJuIHRoaXMucmVwcm9qZWN0ZWRJbWFnZV87XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9JbWFnZUJhc2UuanNcIikuZGVmYXVsdH0gU2luZ2xlIGltYWdlLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBJbWFnZVNvdXJjZS5wcm90b3R5cGUuZ2V0SW1hZ2VJbnRlcm5hbCA9IGZ1bmN0aW9uIGdldEltYWdlSW50ZXJuYWwgKGV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgaW1hZ2UgY2hhbmdlIGV2ZW50cy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgRXZlbnQuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIEltYWdlU291cmNlLnByb3RvdHlwZS5oYW5kbGVJbWFnZUNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUltYWdlQ2hhbmdlIChldmVudCkge1xuICAgIHZhciBpbWFnZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vSW1hZ2UuanNcIikuZGVmYXVsdH0gKi8gKGV2ZW50LnRhcmdldCk7XG4gICAgc3dpdGNoIChpbWFnZS5nZXRTdGF0ZSgpKSB7XG4gICAgICBjYXNlIEltYWdlU3RhdGUuTE9BRElORzpcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgICAgIG5ldyBJbWFnZVNvdXJjZUV2ZW50KEltYWdlU291cmNlRXZlbnRUeXBlLklNQUdFTE9BRFNUQVJULFxuICAgICAgICAgICAgaW1hZ2UpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEltYWdlU3RhdGUuTE9BREVEOlxuICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgICAgIG5ldyBJbWFnZVNvdXJjZUV2ZW50KEltYWdlU291cmNlRXZlbnRUeXBlLklNQUdFTE9BREVORCxcbiAgICAgICAgICAgIGltYWdlKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBJbWFnZVN0YXRlLkVSUk9SOlxuICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgICAgIG5ldyBJbWFnZVNvdXJjZUV2ZW50KEltYWdlU291cmNlRXZlbnRUeXBlLklNQUdFTE9BREVSUk9SLFxuICAgICAgICAgICAgaW1hZ2UpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICAvLyBwYXNzXG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBJbWFnZVNvdXJjZTtcbn0oU291cmNlKSk7XG5cblxuLyoqXG4gKiBEZWZhdWx0IGltYWdlIGxvYWQgZnVuY3Rpb24gZm9yIGltYWdlIHNvdXJjZXMgdGhhdCB1c2UgaW1wb3J0KFwiLi4vSW1hZ2UuanNcIikuSW1hZ2UgaW1hZ2VcbiAqIGluc3RhbmNlcy5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vSW1hZ2UuanNcIikuZGVmYXVsdH0gaW1hZ2UgSW1hZ2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3JjIFNvdXJjZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRJbWFnZUxvYWRGdW5jdGlvbihpbWFnZSwgc3JjKSB7XG4gIC8qKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSAqLyAoaW1hZ2UuZ2V0SW1hZ2UoKSkuc3JjID0gc3JjO1xufVxuXG5cbmV4cG9ydCBkZWZhdWx0IEltYWdlU291cmNlO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbWFnZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvSW1hZ2VcbiAqL1xuaW1wb3J0IEltYWdlQmFzZSBmcm9tICcuL0ltYWdlQmFzZS5qcyc7XG5pbXBvcnQgSW1hZ2VTdGF0ZSBmcm9tICcuL0ltYWdlU3RhdGUuanMnO1xuaW1wb3J0IHtsaXN0ZW5PbmNlLCB1bmxpc3RlbkJ5S2V5fSBmcm9tICcuL2V2ZW50cy5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQge2dldEhlaWdodH0gZnJvbSAnLi9leHRlbnQuanMnO1xuXG5cbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvSW1hZ2V+SW1hZ2V9IGZvciB0aGUgaW1hZ2UgYW5kIGFcbiAqIGB7c3RyaW5nfWAgZm9yIHRoZSBzcmMgYXMgYXJndW1lbnRzLiBJdCBpcyBzdXBwb3NlZCB0byBtYWtlIGl0IHNvIHRoZVxuICogdW5kZXJseWluZyBpbWFnZSB7QGxpbmsgbW9kdWxlOm9sL0ltYWdlfkltYWdlI2dldEltYWdlfSBpcyBhc3NpZ25lZCB0aGVcbiAqIGNvbnRlbnQgc3BlY2lmaWVkIGJ5IHRoZSBzcmMuIElmIG5vdCBzcGVjaWZpZWQsIHRoZSBkZWZhdWx0IGlzXG4gKlxuICogICAgIGZ1bmN0aW9uKGltYWdlLCBzcmMpIHtcbiAqICAgICAgIGltYWdlLmdldEltYWdlKCkuc3JjID0gc3JjO1xuICogICAgIH1cbiAqXG4gKiBQcm92aWRpbmcgYSBjdXN0b20gYGltYWdlTG9hZEZ1bmN0aW9uYCBjYW4gYmUgdXNlZnVsIHRvIGxvYWQgaW1hZ2VzIHdpdGhcbiAqIHBvc3QgcmVxdWVzdHMgb3IgLSBpbiBnZW5lcmFsIC0gdGhyb3VnaCBYSFIgcmVxdWVzdHMsIHdoZXJlIHRoZSBzcmMgb2YgdGhlXG4gKiBpbWFnZSBlbGVtZW50IHdvdWxkIGJlIHNldCB0byBhIGRhdGEgVVJJIHdoZW4gdGhlIGNvbnRlbnQgaXMgbG9hZGVkLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihJbWFnZVdyYXBwZXIsIHN0cmluZyl9IExvYWRGdW5jdGlvblxuICogQGFwaVxuICovXG5cblxudmFyIEltYWdlV3JhcHBlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEltYWdlQmFzZSkge1xuICBmdW5jdGlvbiBJbWFnZVdyYXBwZXIoZXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvLCBzcmMsIGNyb3NzT3JpZ2luLCBpbWFnZUxvYWRGdW5jdGlvbikge1xuXG4gICAgSW1hZ2VCYXNlLmNhbGwodGhpcywgZXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvLCBJbWFnZVN0YXRlLklETEUpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuc3JjXyA9IHNyYztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlXyA9IG5ldyBJbWFnZSgpO1xuICAgIGlmIChjcm9zc09yaWdpbiAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5pbWFnZV8uY3Jvc3NPcmlnaW4gPSBjcm9zc09yaWdpbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VMaXN0ZW5lcktleXNfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7SW1hZ2VTdGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLnN0YXRlID0gSW1hZ2VTdGF0ZS5JRExFO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7TG9hZEZ1bmN0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VMb2FkRnVuY3Rpb25fID0gaW1hZ2VMb2FkRnVuY3Rpb247XG5cbiAgfVxuXG4gIGlmICggSW1hZ2VCYXNlICkgSW1hZ2VXcmFwcGVyLl9fcHJvdG9fXyA9IEltYWdlQmFzZTtcbiAgSW1hZ2VXcmFwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEltYWdlQmFzZSAmJiBJbWFnZUJhc2UucHJvdG90eXBlICk7XG4gIEltYWdlV3JhcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBJbWFnZVdyYXBwZXI7XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqIEBhcGlcbiAgICovXG4gIEltYWdlV3JhcHBlci5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiBnZXRJbWFnZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW1hZ2VfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUcmFja3MgbG9hZGluZyBvciByZWFkIGVycm9ycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIEltYWdlV3JhcHBlci5wcm90b3R5cGUuaGFuZGxlSW1hZ2VFcnJvcl8gPSBmdW5jdGlvbiBoYW5kbGVJbWFnZUVycm9yXyAoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IEltYWdlU3RhdGUuRVJST1I7XG4gICAgdGhpcy51bmxpc3RlbkltYWdlXygpO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUcmFja3Mgc3VjY2Vzc2Z1bCBpbWFnZSBsb2FkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgSW1hZ2VXcmFwcGVyLnByb3RvdHlwZS5oYW5kbGVJbWFnZUxvYWRfID0gZnVuY3Rpb24gaGFuZGxlSW1hZ2VMb2FkXyAoKSB7XG4gICAgaWYgKHRoaXMucmVzb2x1dGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnJlc29sdXRpb24gPSBnZXRIZWlnaHQodGhpcy5leHRlbnQpIC8gdGhpcy5pbWFnZV8uaGVpZ2h0O1xuICAgIH1cbiAgICB0aGlzLnN0YXRlID0gSW1hZ2VTdGF0ZS5MT0FERUQ7XG4gICAgdGhpcy51bmxpc3RlbkltYWdlXygpO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBMb2FkIHRoZSBpbWFnZSBvciByZXRyeSBpZiBsb2FkaW5nIHByZXZpb3VzbHkgZmFpbGVkLlxuICAgKiBMb2FkaW5nIGlzIHRha2VuIGNhcmUgb2YgYnkgdGhlIHRpbGUgcXVldWUsIGFuZCBjYWxsaW5nIHRoaXMgbWV0aG9kIGlzXG4gICAqIG9ubHkgbmVlZGVkIGZvciBwcmVsb2FkaW5nIG9yIGZvciByZWxvYWRpbmcgaW4gY2FzZSBvZiBhbiBlcnJvci5cbiAgICogQG92ZXJyaWRlXG4gICAqIEBhcGlcbiAgICovXG4gIEltYWdlV3JhcHBlci5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQgKCkge1xuICAgIGlmICh0aGlzLnN0YXRlID09IEltYWdlU3RhdGUuSURMRSB8fCB0aGlzLnN0YXRlID09IEltYWdlU3RhdGUuRVJST1IpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBJbWFnZVN0YXRlLkxPQURJTkc7XG4gICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICAgIHRoaXMuaW1hZ2VMaXN0ZW5lcktleXNfID0gW1xuICAgICAgICBsaXN0ZW5PbmNlKHRoaXMuaW1hZ2VfLCBFdmVudFR5cGUuRVJST1IsXG4gICAgICAgICAgdGhpcy5oYW5kbGVJbWFnZUVycm9yXywgdGhpcyksXG4gICAgICAgIGxpc3Rlbk9uY2UodGhpcy5pbWFnZV8sIEV2ZW50VHlwZS5MT0FELFxuICAgICAgICAgIHRoaXMuaGFuZGxlSW1hZ2VMb2FkXywgdGhpcylcbiAgICAgIF07XG4gICAgICB0aGlzLmltYWdlTG9hZEZ1bmN0aW9uXyh0aGlzLCB0aGlzLnNyY18pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IGltYWdlIEltYWdlLlxuICAgKi9cbiAgSW1hZ2VXcmFwcGVyLnByb3RvdHlwZS5zZXRJbWFnZSA9IGZ1bmN0aW9uIHNldEltYWdlIChpbWFnZSkge1xuICAgIHRoaXMuaW1hZ2VfID0gaW1hZ2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIERpc2NhcmRzIGV2ZW50IGhhbmRsZXJzIHdoaWNoIGxpc3RlbiBmb3IgbG9hZCBjb21wbGV0aW9uIG9yIGVycm9ycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIEltYWdlV3JhcHBlci5wcm90b3R5cGUudW5saXN0ZW5JbWFnZV8gPSBmdW5jdGlvbiB1bmxpc3RlbkltYWdlXyAoKSB7XG4gICAgdGhpcy5pbWFnZUxpc3RlbmVyS2V5c18uZm9yRWFjaCh1bmxpc3RlbkJ5S2V5KTtcbiAgICB0aGlzLmltYWdlTGlzdGVuZXJLZXlzXyA9IG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIEltYWdlV3JhcHBlcjtcbn0oSW1hZ2VCYXNlKSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VXcmFwcGVyO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbWFnZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvdXJpXG4gKi9cblxuXG4vKipcbiAqIEFwcGVuZHMgcXVlcnkgcGFyYW1ldGVycyB0byBhIFVSSS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJpIFRoZSBvcmlnaW5hbCBVUkksIHdoaWNoIG1heSBhbHJlYWR5IGhhdmUgcXVlcnkgZGF0YS5cbiAqIEBwYXJhbSB7IU9iamVjdH0gcGFyYW1zIEFuIG9iamVjdCB3aGVyZSBrZXlzIGFyZSBVUkktZW5jb2RlZCBwYXJhbWV0ZXIga2V5cyxcbiAqICAgICBhbmQgdGhlIHZhbHVlcyBhcmUgYXJiaXRyYXJ5IHR5cGVzIG9yIGFycmF5cy5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIG5ldyBVUkkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRQYXJhbXModXJpLCBwYXJhbXMpIHtcbiAgdmFyIGtleVBhcmFtcyA9IFtdO1xuICAvLyBTa2lwIGFueSBudWxsIG9yIHVuZGVmaW5lZCBwYXJhbWV0ZXIgdmFsdWVzXG4gIE9iamVjdC5rZXlzKHBhcmFtcykuZm9yRWFjaChmdW5jdGlvbihrKSB7XG4gICAgaWYgKHBhcmFtc1trXSAhPT0gbnVsbCAmJiBwYXJhbXNba10gIT09IHVuZGVmaW5lZCkge1xuICAgICAga2V5UGFyYW1zLnB1c2goayArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChwYXJhbXNba10pKTtcbiAgICB9XG4gIH0pO1xuICB2YXIgcXMgPSBrZXlQYXJhbXMuam9pbignJicpO1xuICAvLyByZW1vdmUgYW55IHRyYWlsaW5nID8gb3IgJlxuICB1cmkgPSB1cmkucmVwbGFjZSgvWz8mXSQvLCAnJyk7XG4gIC8vIGFwcGVuZCA/IG9yICYgZGVwZW5kaW5nIG9uIHdoZXRoZXIgdXJpIGhhcyBleGlzdGluZyBwYXJhbWV0ZXJzXG4gIHVyaSA9IHVyaS5pbmRleE9mKCc/JykgPT09IC0xID8gdXJpICsgJz8nIDogdXJpICsgJyYnO1xuICByZXR1cm4gdXJpICsgcXM7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVyaS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL0ltYWdlQXJjR0lTUmVzdFxuICovXG5cbmltcG9ydCBJbWFnZVdyYXBwZXIgZnJvbSAnLi4vSW1hZ2UuanMnO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuaW1wb3J0IHtsaXN0ZW59IGZyb20gJy4uL2V2ZW50cy5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IHtjb250YWluc0V4dGVudCwgZ2V0SGVpZ2h0LCBnZXRXaWR0aH0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7YXNzaWdufSBmcm9tICcuLi9vYmouanMnO1xuaW1wb3J0IEltYWdlU291cmNlLCB7ZGVmYXVsdEltYWdlTG9hZEZ1bmN0aW9ufSBmcm9tICcuL0ltYWdlLmpzJztcbmltcG9ydCB7YXBwZW5kUGFyYW1zfSBmcm9tICcuLi91cmkuanMnO1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5BdHRyaWJ1dGlvbkxpa2V9IFthdHRyaWJ1dGlvbnNdIEF0dHJpYnV0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7bnVsbHxzdHJpbmd9IFtjcm9zc09yaWdpbl0gVGhlIGBjcm9zc09yaWdpbmAgYXR0cmlidXRlIGZvciBsb2FkZWQgaW1hZ2VzLiAgTm90ZSB0aGF0XG4gKiB5b3UgbXVzdCBwcm92aWRlIGEgYGNyb3NzT3JpZ2luYCB2YWx1ZSBpZiB5b3UgYXJlIHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlciBvciBpZiB5b3Ugd2FudCB0b1xuICogYWNjZXNzIHBpeGVsIGRhdGEgd2l0aCB0aGUgQ2FudmFzIHJlbmRlcmVyLiAgU2VlXG4gKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9DT1JTX2VuYWJsZWRfaW1hZ2V9IGZvciBtb3JlIGRldGFpbC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2hpZHBpPXRydWVdIFVzZSB0aGUgYG9sL01hcCNwaXhlbFJhdGlvYCB2YWx1ZSB3aGVuIHJlcXVlc3RpbmcgdGhlIGltYWdlIGZyb21cbiAqIHRoZSByZW1vdGUgc2VydmVyLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9JbWFnZS5qc1wiKS5Mb2FkRnVuY3Rpb259IFtpbWFnZUxvYWRGdW5jdGlvbl0gT3B0aW9uYWwgZnVuY3Rpb24gdG8gbG9hZCBhbiBpbWFnZSBnaXZlblxuICogYSBVUkwuXG4gKiBAcHJvcGVydHkge09iamVjdDxzdHJpbmcsKj59IFtwYXJhbXNdIEFyY0dJUyBSZXN0IHBhcmFtZXRlcnMuIFRoaXMgZmllbGQgaXMgb3B0aW9uYWwuIFNlcnZpY2VcbiAqIGRlZmF1bHRzIHdpbGwgYmUgdXNlZCBmb3IgYW55IGZpZWxkcyBub3Qgc3BlY2lmaWVkLiBgRk9STUFUYCBpcyBgUE5HMzJgIGJ5IGRlZmF1bHQuIGBGYCBpc1xuICogYElNQUdFYCBieSBkZWZhdWx0LiBgVFJBTlNQQVJFTlRgIGlzIGB0cnVlYCBieSBkZWZhdWx0LiAgYEJCT1hgLCBgU0laRWAsIGBCQk9YU1JgLCBhbmQgYElNQUdFU1JgXG4gKiB3aWxsIGJlIHNldCBkeW5hbWljYWxseS4gU2V0IGBMQVlFUlNgIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IHNlcnZpY2UgbGF5ZXIgdmlzaWJpbGl0eS4gU2VlXG4gKiB7QGxpbmsgaHR0cDovL3Jlc291cmNlcy5hcmNnaXMuY29tL2VuL2hlbHAvYXJjZ2lzLXJlc3QtYXBpL2luZGV4Lmh0bWwjL0V4cG9ydF9NYXAvMDJyMzAwMDAwMHY3MDAwMDAwL31cbiAqIGZvciBmdXJ0aGVyIHJlZmVyZW5jZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyYXRpbz0xLjVdIFJhdGlvLiBgMWAgbWVhbnMgaW1hZ2UgcmVxdWVzdHMgYXJlIHRoZSBzaXplIG9mIHRoZSBtYXAgdmlld3BvcnQsXG4gKiBgMmAgbWVhbnMgdHdpY2UgdGhlIHNpemUgb2YgdGhlIG1hcCB2aWV3cG9ydCwgYW5kIHNvIG9uLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbcmVzb2x1dGlvbnNdIFJlc29sdXRpb25zLiBJZiBzcGVjaWZpZWQsIHJlcXVlc3RzIHdpbGwgYmUgbWFkZSBmb3JcbiAqIHRoZXNlIHJlc29sdXRpb25zIG9ubHkuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3VybF0gQXJjR0lTIFJlc3Qgc2VydmljZSBVUkwgZm9yIGEgTWFwIFNlcnZpY2Ugb3IgSW1hZ2UgU2VydmljZS4gVGhlIHVybFxuICogc2hvdWxkIGluY2x1ZGUgL01hcFNlcnZlciBvciAvSW1hZ2VTZXJ2ZXIuXG4gKi9cblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFNvdXJjZSBmb3IgZGF0YSBmcm9tIEFyY0dJUyBSZXN0IHNlcnZpY2VzIHByb3ZpZGluZyBzaW5nbGUsIHVudGlsZWQgaW1hZ2VzLlxuICogVXNlZnVsIHdoZW4gdW5kZXJseWluZyBtYXAgc2VydmljZSBoYXMgbGFiZWxzLlxuICpcbiAqIElmIHVuZGVybHlpbmcgbWFwIHNlcnZpY2UgaXMgbm90IHVzaW5nIGxhYmVscyxcbiAqIHRha2UgYWR2YW50YWdlIG9mIG9sIGltYWdlIGNhY2hpbmcgYW5kIHVzZVxuICoge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVGlsZUFyY0dJU1Jlc3R9IGRhdGEgc291cmNlLlxuICpcbiAqIEBmaXJlcyBvbC9zb3VyY2UvSW1hZ2V+SW1hZ2VTb3VyY2VFdmVudFxuICogQGFwaVxuICovXG52YXIgSW1hZ2VBcmNHSVNSZXN0ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoSW1hZ2VTb3VyY2UpIHtcbiAgZnVuY3Rpb24gSW1hZ2VBcmNHSVNSZXN0KG9wdF9vcHRpb25zKSB7XG5cbiAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IC8qKiBAdHlwZSB7T3B0aW9uc30gKi8gKHt9KTtcblxuICAgIEltYWdlU291cmNlLmNhbGwodGhpcywge1xuICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9ucyxcbiAgICAgIHByb2plY3Rpb246IG9wdGlvbnMucHJvamVjdGlvbixcbiAgICAgIHJlc29sdXRpb25zOiBvcHRpb25zLnJlc29sdXRpb25zXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuY3Jvc3NPcmlnaW5fID1cbiAgICAgICAgb3B0aW9ucy5jcm9zc09yaWdpbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jcm9zc09yaWdpbiA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuaGlkcGlfID0gb3B0aW9ucy5oaWRwaSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5oaWRwaSA6IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtzdHJpbmd8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMudXJsXyA9IG9wdGlvbnMudXJsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vSW1hZ2UuanNcIikuTG9hZEZ1bmN0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VMb2FkRnVuY3Rpb25fID0gb3B0aW9ucy5pbWFnZUxvYWRGdW5jdGlvbiAhPT0gdW5kZWZpbmVkID9cbiAgICAgIG9wdGlvbnMuaW1hZ2VMb2FkRnVuY3Rpb24gOiBkZWZhdWx0SW1hZ2VMb2FkRnVuY3Rpb247XG5cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5wYXJhbXNfID0gb3B0aW9ucy5wYXJhbXMgfHwge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9JbWFnZS5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlU2l6ZV8gPSBbMCwgMF07XG5cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVkUmV2aXNpb25fID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJhdGlvXyA9IG9wdGlvbnMucmF0aW8gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucmF0aW8gOiAxLjU7XG5cbiAgfVxuXG4gIGlmICggSW1hZ2VTb3VyY2UgKSBJbWFnZUFyY0dJU1Jlc3QuX19wcm90b19fID0gSW1hZ2VTb3VyY2U7XG4gIEltYWdlQXJjR0lTUmVzdC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBJbWFnZVNvdXJjZSAmJiBJbWFnZVNvdXJjZS5wcm90b3R5cGUgKTtcbiAgSW1hZ2VBcmNHSVNSZXN0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEltYWdlQXJjR0lTUmVzdDtcblxuICAvKipcbiAgICogR2V0IHRoZSB1c2VyLXByb3ZpZGVkIHBhcmFtcywgaS5lLiB0aG9zZSBwYXNzZWQgdG8gdGhlIGNvbnN0cnVjdG9yIHRocm91Z2hcbiAgICogdGhlIFwicGFyYW1zXCIgb3B0aW9uLCBhbmQgcG9zc2libHkgdXBkYXRlZCB1c2luZyB0aGUgdXBkYXRlUGFyYW1zIG1ldGhvZC5cbiAgICogQHJldHVybiB7T2JqZWN0fSBQYXJhbXMuXG4gICAqIEBhcGlcbiAgICovXG4gIEltYWdlQXJjR0lTUmVzdC5wcm90b3R5cGUuZ2V0UGFyYW1zID0gZnVuY3Rpb24gZ2V0UGFyYW1zICgpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJhbXNfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgSW1hZ2VBcmNHSVNSZXN0LnByb3RvdHlwZS5nZXRJbWFnZUludGVybmFsID0gZnVuY3Rpb24gZ2V0SW1hZ2VJbnRlcm5hbCAoZXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKSB7XG5cbiAgICBpZiAodGhpcy51cmxfID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJlc29sdXRpb24gPSB0aGlzLmZpbmROZWFyZXN0UmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICBwaXhlbFJhdGlvID0gdGhpcy5oaWRwaV8gPyBwaXhlbFJhdGlvIDogMTtcblxuICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2VfO1xuICAgIGlmIChpbWFnZSAmJlxuICAgICAgICB0aGlzLnJlbmRlcmVkUmV2aXNpb25fID09IHRoaXMuZ2V0UmV2aXNpb24oKSAmJlxuICAgICAgICBpbWFnZS5nZXRSZXNvbHV0aW9uKCkgPT0gcmVzb2x1dGlvbiAmJlxuICAgICAgICBpbWFnZS5nZXRQaXhlbFJhdGlvKCkgPT0gcGl4ZWxSYXRpbyAmJlxuICAgICAgICBjb250YWluc0V4dGVudChpbWFnZS5nZXRFeHRlbnQoKSwgZXh0ZW50KSkge1xuICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH1cblxuICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAnRic6ICdpbWFnZScsXG4gICAgICAnRk9STUFUJzogJ1BORzMyJyxcbiAgICAgICdUUkFOU1BBUkVOVCc6IHRydWVcbiAgICB9O1xuICAgIGFzc2lnbihwYXJhbXMsIHRoaXMucGFyYW1zXyk7XG5cbiAgICBleHRlbnQgPSBleHRlbnQuc2xpY2UoKTtcbiAgICB2YXIgY2VudGVyWCA9IChleHRlbnRbMF0gKyBleHRlbnRbMl0pIC8gMjtcbiAgICB2YXIgY2VudGVyWSA9IChleHRlbnRbMV0gKyBleHRlbnRbM10pIC8gMjtcbiAgICBpZiAodGhpcy5yYXRpb18gIT0gMSkge1xuICAgICAgdmFyIGhhbGZXaWR0aCA9IHRoaXMucmF0aW9fICogZ2V0V2lkdGgoZXh0ZW50KSAvIDI7XG4gICAgICB2YXIgaGFsZkhlaWdodCA9IHRoaXMucmF0aW9fICogZ2V0SGVpZ2h0KGV4dGVudCkgLyAyO1xuICAgICAgZXh0ZW50WzBdID0gY2VudGVyWCAtIGhhbGZXaWR0aDtcbiAgICAgIGV4dGVudFsxXSA9IGNlbnRlclkgLSBoYWxmSGVpZ2h0O1xuICAgICAgZXh0ZW50WzJdID0gY2VudGVyWCArIGhhbGZXaWR0aDtcbiAgICAgIGV4dGVudFszXSA9IGNlbnRlclkgKyBoYWxmSGVpZ2h0O1xuICAgIH1cblxuICAgIHZhciBpbWFnZVJlc29sdXRpb24gPSByZXNvbHV0aW9uIC8gcGl4ZWxSYXRpbztcblxuICAgIC8vIENvbXB1dGUgYW4gaW50ZWdlciB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgIHZhciB3aWR0aCA9IE1hdGguY2VpbChnZXRXaWR0aChleHRlbnQpIC8gaW1hZ2VSZXNvbHV0aW9uKTtcbiAgICB2YXIgaGVpZ2h0ID0gTWF0aC5jZWlsKGdldEhlaWdodChleHRlbnQpIC8gaW1hZ2VSZXNvbHV0aW9uKTtcblxuICAgIC8vIE1vZGlmeSB0aGUgZXh0ZW50IHRvIG1hdGNoIHRoZSBpbnRlZ2VyIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgZXh0ZW50WzBdID0gY2VudGVyWCAtIGltYWdlUmVzb2x1dGlvbiAqIHdpZHRoIC8gMjtcbiAgICBleHRlbnRbMl0gPSBjZW50ZXJYICsgaW1hZ2VSZXNvbHV0aW9uICogd2lkdGggLyAyO1xuICAgIGV4dGVudFsxXSA9IGNlbnRlclkgLSBpbWFnZVJlc29sdXRpb24gKiBoZWlnaHQgLyAyO1xuICAgIGV4dGVudFszXSA9IGNlbnRlclkgKyBpbWFnZVJlc29sdXRpb24gKiBoZWlnaHQgLyAyO1xuXG4gICAgdGhpcy5pbWFnZVNpemVfWzBdID0gd2lkdGg7XG4gICAgdGhpcy5pbWFnZVNpemVfWzFdID0gaGVpZ2h0O1xuXG4gICAgdmFyIHVybCA9IHRoaXMuZ2V0UmVxdWVzdFVybF8oZXh0ZW50LCB0aGlzLmltYWdlU2l6ZV8sIHBpeGVsUmF0aW8sXG4gICAgICBwcm9qZWN0aW9uLCBwYXJhbXMpO1xuXG4gICAgdGhpcy5pbWFnZV8gPSBuZXcgSW1hZ2VXcmFwcGVyKGV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbyxcbiAgICAgIHVybCwgdGhpcy5jcm9zc09yaWdpbl8sIHRoaXMuaW1hZ2VMb2FkRnVuY3Rpb25fKTtcblxuICAgIHRoaXMucmVuZGVyZWRSZXZpc2lvbl8gPSB0aGlzLmdldFJldmlzaW9uKCk7XG5cbiAgICBsaXN0ZW4odGhpcy5pbWFnZV8sIEV2ZW50VHlwZS5DSEFOR0UsXG4gICAgICB0aGlzLmhhbmRsZUltYWdlQ2hhbmdlLCB0aGlzKTtcblxuICAgIHJldHVybiB0aGlzLmltYWdlXztcblxuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGltYWdlIGxvYWQgZnVuY3Rpb24gb2YgdGhlIHNvdXJjZS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vSW1hZ2UuanNcIikuTG9hZEZ1bmN0aW9ufSBUaGUgaW1hZ2UgbG9hZCBmdW5jdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgSW1hZ2VBcmNHSVNSZXN0LnByb3RvdHlwZS5nZXRJbWFnZUxvYWRGdW5jdGlvbiA9IGZ1bmN0aW9uIGdldEltYWdlTG9hZEZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5pbWFnZUxvYWRGdW5jdGlvbl87XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IHNpemUgU2l6ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyBQYXJhbXMuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gUmVxdWVzdCBVUkwuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBJbWFnZUFyY0dJU1Jlc3QucHJvdG90eXBlLmdldFJlcXVlc3RVcmxfID0gZnVuY3Rpb24gZ2V0UmVxdWVzdFVybF8gKGV4dGVudCwgc2l6ZSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbiwgcGFyYW1zKSB7XG4gICAgLy8gQXJjR0lTIFNlcnZlciBvbmx5IHdhbnRzIHRoZSBudW1lcmljIHBvcnRpb24gb2YgdGhlIHByb2plY3Rpb24gSUQuXG4gICAgdmFyIHNyaWQgPSBwcm9qZWN0aW9uLmdldENvZGUoKS5zcGxpdCgnOicpLnBvcCgpO1xuXG4gICAgcGFyYW1zWydTSVpFJ10gPSBzaXplWzBdICsgJywnICsgc2l6ZVsxXTtcbiAgICBwYXJhbXNbJ0JCT1gnXSA9IGV4dGVudC5qb2luKCcsJyk7XG4gICAgcGFyYW1zWydCQk9YU1InXSA9IHNyaWQ7XG4gICAgcGFyYW1zWydJTUFHRVNSJ10gPSBzcmlkO1xuICAgIHBhcmFtc1snRFBJJ10gPSBNYXRoLnJvdW5kKDkwICogcGl4ZWxSYXRpbyk7XG5cbiAgICB2YXIgdXJsID0gdGhpcy51cmxfO1xuXG4gICAgdmFyIG1vZGlmaWVkVXJsID0gdXJsXG4gICAgICAucmVwbGFjZSgvTWFwU2VydmVyXFwvPyQvLCAnTWFwU2VydmVyL2V4cG9ydCcpXG4gICAgICAucmVwbGFjZSgvSW1hZ2VTZXJ2ZXJcXC8/JC8sICdJbWFnZVNlcnZlci9leHBvcnRJbWFnZScpO1xuICAgIGlmIChtb2RpZmllZFVybCA9PSB1cmwpIHtcbiAgICAgIGFzc2VydChmYWxzZSwgNTApOyAvLyBgb3B0aW9ucy5mZWF0dXJlVHlwZXNgIHNob3VsZCBiZSBhbiBBcnJheVxuICAgIH1cbiAgICByZXR1cm4gYXBwZW5kUGFyYW1zKG1vZGlmaWVkVXJsLCBwYXJhbXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIFVSTCB1c2VkIGZvciB0aGlzIEFyY0dJUyBzb3VyY2UuXG4gICAqIEByZXR1cm4ge3N0cmluZ3x1bmRlZmluZWR9IFVSTC5cbiAgICogQGFwaVxuICAgKi9cbiAgSW1hZ2VBcmNHSVNSZXN0LnByb3RvdHlwZS5nZXRVcmwgPSBmdW5jdGlvbiBnZXRVcmwgKCkge1xuICAgIHJldHVybiB0aGlzLnVybF87XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgaW1hZ2UgbG9hZCBmdW5jdGlvbiBvZiB0aGUgc291cmNlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ltYWdlLmpzXCIpLkxvYWRGdW5jdGlvbn0gaW1hZ2VMb2FkRnVuY3Rpb24gSW1hZ2UgbG9hZCBmdW5jdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgSW1hZ2VBcmNHSVNSZXN0LnByb3RvdHlwZS5zZXRJbWFnZUxvYWRGdW5jdGlvbiA9IGZ1bmN0aW9uIHNldEltYWdlTG9hZEZ1bmN0aW9uIChpbWFnZUxvYWRGdW5jdGlvbikge1xuICAgIHRoaXMuaW1hZ2VfID0gbnVsbDtcbiAgICB0aGlzLmltYWdlTG9hZEZ1bmN0aW9uXyA9IGltYWdlTG9hZEZ1bmN0aW9uO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIFVSTCB0byB1c2UgZm9yIHJlcXVlc3RzLlxuICAgKiBAcGFyYW0ge3N0cmluZ3x1bmRlZmluZWR9IHVybCBVUkwuXG4gICAqIEBhcGlcbiAgICovXG4gIEltYWdlQXJjR0lTUmVzdC5wcm90b3R5cGUuc2V0VXJsID0gZnVuY3Rpb24gc2V0VXJsICh1cmwpIHtcbiAgICBpZiAodXJsICE9IHRoaXMudXJsXykge1xuICAgICAgdGhpcy51cmxfID0gdXJsO1xuICAgICAgdGhpcy5pbWFnZV8gPSBudWxsO1xuICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIHVzZXItcHJvdmlkZWQgcGFyYW1zLlxuICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIFBhcmFtcy5cbiAgICogQGFwaVxuICAgKi9cbiAgSW1hZ2VBcmNHSVNSZXN0LnByb3RvdHlwZS51cGRhdGVQYXJhbXMgPSBmdW5jdGlvbiB1cGRhdGVQYXJhbXMgKHBhcmFtcykge1xuICAgIGFzc2lnbih0aGlzLnBhcmFtc18sIHBhcmFtcyk7XG4gICAgdGhpcy5pbWFnZV8gPSBudWxsO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9O1xuXG4gIHJldHVybiBJbWFnZUFyY0dJU1Jlc3Q7XG59KEltYWdlU291cmNlKSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VBcmNHSVNSZXN0O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbWFnZUFyY0dJU1Jlc3QuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9JbWFnZUNhbnZhc1xuICovXG5cbmltcG9ydCBJbWFnZUNhbnZhcyBmcm9tICcuLi9JbWFnZUNhbnZhcy5qcyc7XG5pbXBvcnQge2NvbnRhaW5zRXh0ZW50LCBnZXRIZWlnaHQsIGdldFdpZHRoLCBzY2FsZUZyb21DZW50ZXJ9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgSW1hZ2VTb3VyY2UgZnJvbSAnLi9JbWFnZS5qcyc7XG5cblxuLyoqXG4gKiBBIGZ1bmN0aW9uIHJldHVybmluZyB0aGUgY2FudmFzIGVsZW1lbnQgKGB7SFRNTENhbnZhc0VsZW1lbnR9YClcbiAqIHVzZWQgYnkgdGhlIHNvdXJjZSBhcyBhbiBpbWFnZS4gVGhlIGFyZ3VtZW50cyBwYXNzZWQgdG8gdGhlIGZ1bmN0aW9uIGFyZTpcbiAqIHtAbGluayBtb2R1bGU6b2wvZXh0ZW50fkV4dGVudH0gdGhlIGltYWdlIGV4dGVudCwgYHtudW1iZXJ9YCB0aGUgaW1hZ2UgcmVzb2x1dGlvbixcbiAqIGB7bnVtYmVyfWAgdGhlIGRldmljZSBwaXhlbCByYXRpbywge0BsaW5rIG1vZHVsZTpvbC9zaXplflNpemV9IHRoZSBpbWFnZSBzaXplLCBhbmRcbiAqIHtAbGluayBtb2R1bGU6b2wvcHJvai9Qcm9qZWN0aW9ufSB0aGUgaW1hZ2UgcHJvamVjdGlvbi4gVGhlIGNhbnZhcyByZXR1cm5lZCBieVxuICogdGhpcyBmdW5jdGlvbiBpcyBjYWNoZWQgYnkgdGhlIHNvdXJjZS4gVGhlIHRoaXMga2V5d29yZCBpbnNpZGUgdGhlIGZ1bmN0aW9uXG4gKiByZWZlcmVuY2VzIHRoZSB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9JbWFnZUNhbnZhc30uXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKHRoaXM6aW1wb3J0KFwiLi4vSW1hZ2VDYW52YXMuanNcIikuZGVmYXVsdCwgaW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudCwgbnVtYmVyLFxuICogICAgIG51bWJlciwgaW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplLCBpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdCk6IEhUTUxDYW52YXNFbGVtZW50fSBGdW5jdGlvblR5cGVcbiAqL1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5BdHRyaWJ1dGlvbkxpa2V9IFthdHRyaWJ1dGlvbnNdIEF0dHJpYnV0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb25UeXBlfSBbY2FudmFzRnVuY3Rpb25dIENhbnZhcyBmdW5jdGlvbi5cbiAqIFRoZSBmdW5jdGlvbiByZXR1cm5pbmcgdGhlIGNhbnZhcyBlbGVtZW50IHVzZWQgYnkgdGhlIHNvdXJjZVxuICogYXMgYW4gaW1hZ2UuIFRoZSBhcmd1bWVudHMgcGFzc2VkIHRvIHRoZSBmdW5jdGlvbiBhcmU6IGB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1gIHRoZVxuICogaW1hZ2UgZXh0ZW50LCBge251bWJlcn1gIHRoZSBpbWFnZSByZXNvbHV0aW9uLCBge251bWJlcn1gIHRoZSBkZXZpY2UgcGl4ZWxcbiAqIHJhdGlvLCBge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1gIHRoZSBpbWFnZSBzaXplLCBhbmQgYHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuUHJvamVjdGlvbn1gIHRoZSBpbWFnZVxuICogcHJvamVjdGlvbi4gVGhlIGNhbnZhcyByZXR1cm5lZCBieSB0aGlzIGZ1bmN0aW9uIGlzIGNhY2hlZCBieSB0aGUgc291cmNlLiBJZlxuICogdGhlIHZhbHVlIHJldHVybmVkIGJ5IHRoZSBmdW5jdGlvbiBpcyBsYXRlciBjaGFuZ2VkIHRoZW5cbiAqIGBjaGFuZ2VkYCBzaG91bGQgYmUgY2FsbGVkIG9uIHRoZSBzb3VyY2UgZm9yIHRoZSBzb3VyY2UgdG9cbiAqIGludmFsaWRhdGUgdGhlIGN1cnJlbnQgY2FjaGVkIGltYWdlLiBTZWU6IHtAbGluayBtb2R1bGU6b2wvT2JzZXJ2YWJsZX5PYnNlcnZhYmxlI2NoYW5nZWR9XG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmF0aW89MS41XSBSYXRpby4gMSBtZWFucyBjYW52YXNlcyBhcmUgdGhlIHNpemUgb2YgdGhlIG1hcCB2aWV3cG9ydCwgMiBtZWFucyB0d2ljZSB0aGVcbiAqIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIG1hcCB2aWV3cG9ydCwgYW5kIHNvIG9uLiBNdXN0IGJlIGAxYCBvciBoaWdoZXIuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtyZXNvbHV0aW9uc10gUmVzb2x1dGlvbnMuXG4gKiBJZiBzcGVjaWZpZWQsIG5ldyBjYW52YXNlcyB3aWxsIGJlIGNyZWF0ZWQgZm9yIHRoZXNlIHJlc29sdXRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU3RhdGUuanNcIikuZGVmYXVsdH0gW3N0YXRlXSBTb3VyY2Ugc3RhdGUuXG4gKi9cblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEJhc2UgY2xhc3MgZm9yIGltYWdlIHNvdXJjZXMgd2hlcmUgYSBjYW52YXMgZWxlbWVudCBpcyB0aGUgaW1hZ2UuXG4gKiBAYXBpXG4gKi9cbnZhciBJbWFnZUNhbnZhc1NvdXJjZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEltYWdlU291cmNlKSB7XG4gIGZ1bmN0aW9uIEltYWdlQ2FudmFzU291cmNlKG9wdF9vcHRpb25zKSB7XG5cbiAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IC8qKiBAdHlwZSB7T3B0aW9uc30gKi8gKHt9KTtcblxuICAgIEltYWdlU291cmNlLmNhbGwodGhpcywge1xuICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9ucyxcbiAgICAgIHByb2plY3Rpb246IG9wdGlvbnMucHJvamVjdGlvbixcbiAgICAgIHJlc29sdXRpb25zOiBvcHRpb25zLnJlc29sdXRpb25zLFxuICAgICAgc3RhdGU6IG9wdGlvbnMuc3RhdGVcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICogQHByaXZhdGVcbiAgICAqIEB0eXBlIHtGdW5jdGlvblR5cGV9XG4gICAgKi9cbiAgICB0aGlzLmNhbnZhc0Z1bmN0aW9uXyA9IG9wdGlvbnMuY2FudmFzRnVuY3Rpb247XG5cbiAgICAvKipcbiAgICAqIEBwcml2YXRlXG4gICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vSW1hZ2VDYW52YXMuanNcIikuZGVmYXVsdH1cbiAgICAqL1xuICAgIHRoaXMuY2FudmFzXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAqIEBwcml2YXRlXG4gICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICovXG4gICAgdGhpcy5yZW5kZXJlZFJldmlzaW9uXyA9IDA7XG5cbiAgICAvKipcbiAgICAqIEBwcml2YXRlXG4gICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICovXG4gICAgdGhpcy5yYXRpb18gPSBvcHRpb25zLnJhdGlvICE9PSB1bmRlZmluZWQgP1xuICAgICAgb3B0aW9ucy5yYXRpbyA6IDEuNTtcblxuICB9XG5cbiAgaWYgKCBJbWFnZVNvdXJjZSApIEltYWdlQ2FudmFzU291cmNlLl9fcHJvdG9fXyA9IEltYWdlU291cmNlO1xuICBJbWFnZUNhbnZhc1NvdXJjZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBJbWFnZVNvdXJjZSAmJiBJbWFnZVNvdXJjZS5wcm90b3R5cGUgKTtcbiAgSW1hZ2VDYW52YXNTb3VyY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSW1hZ2VDYW52YXNTb3VyY2U7XG5cbiAgLyoqXG4gICogQGluaGVyaXREb2NcbiAgKi9cbiAgSW1hZ2VDYW52YXNTb3VyY2UucHJvdG90eXBlLmdldEltYWdlSW50ZXJuYWwgPSBmdW5jdGlvbiBnZXRJbWFnZUludGVybmFsIChleHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICByZXNvbHV0aW9uID0gdGhpcy5maW5kTmVhcmVzdFJlc29sdXRpb24ocmVzb2x1dGlvbik7XG5cbiAgICB2YXIgY2FudmFzID0gdGhpcy5jYW52YXNfO1xuICAgIGlmIChjYW52YXMgJiZcbiAgICAgICB0aGlzLnJlbmRlcmVkUmV2aXNpb25fID09IHRoaXMuZ2V0UmV2aXNpb24oKSAmJlxuICAgICAgIGNhbnZhcy5nZXRSZXNvbHV0aW9uKCkgPT0gcmVzb2x1dGlvbiAmJlxuICAgICAgIGNhbnZhcy5nZXRQaXhlbFJhdGlvKCkgPT0gcGl4ZWxSYXRpbyAmJlxuICAgICAgIGNvbnRhaW5zRXh0ZW50KGNhbnZhcy5nZXRFeHRlbnQoKSwgZXh0ZW50KSkge1xuICAgICAgcmV0dXJuIGNhbnZhcztcbiAgICB9XG5cbiAgICBleHRlbnQgPSBleHRlbnQuc2xpY2UoKTtcbiAgICBzY2FsZUZyb21DZW50ZXIoZXh0ZW50LCB0aGlzLnJhdGlvXyk7XG4gICAgdmFyIHdpZHRoID0gZ2V0V2lkdGgoZXh0ZW50KSAvIHJlc29sdXRpb247XG4gICAgdmFyIGhlaWdodCA9IGdldEhlaWdodChleHRlbnQpIC8gcmVzb2x1dGlvbjtcbiAgICB2YXIgc2l6ZSA9IFt3aWR0aCAqIHBpeGVsUmF0aW8sIGhlaWdodCAqIHBpeGVsUmF0aW9dO1xuXG4gICAgdmFyIGNhbnZhc0VsZW1lbnQgPSB0aGlzLmNhbnZhc0Z1bmN0aW9uXy5jYWxsKFxuICAgICAgdGhpcywgZXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvLCBzaXplLCBwcm9qZWN0aW9uKTtcbiAgICBpZiAoY2FudmFzRWxlbWVudCkge1xuICAgICAgY2FudmFzID0gbmV3IEltYWdlQ2FudmFzKGV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbywgY2FudmFzRWxlbWVudCk7XG4gICAgfVxuICAgIHRoaXMuY2FudmFzXyA9IGNhbnZhcztcbiAgICB0aGlzLnJlbmRlcmVkUmV2aXNpb25fID0gdGhpcy5nZXRSZXZpc2lvbigpO1xuXG4gICAgcmV0dXJuIGNhbnZhcztcbiAgfTtcblxuICByZXR1cm4gSW1hZ2VDYW52YXNTb3VyY2U7XG59KEltYWdlU291cmNlKSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VDYW52YXNTb3VyY2U7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUltYWdlQ2FudmFzLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvSW1hZ2VNYXBHdWlkZVxuICovXG5cbmltcG9ydCBJbWFnZVdyYXBwZXIgZnJvbSAnLi4vSW1hZ2UuanMnO1xuaW1wb3J0IHtsaXN0ZW59IGZyb20gJy4uL2V2ZW50cy5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IHtjb250YWluc0V4dGVudCwgZ2V0Q2VudGVyLCBnZXRIZWlnaHQsIGdldFdpZHRoLCBzY2FsZUZyb21DZW50ZXJ9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQge2Fzc2lnbn0gZnJvbSAnLi4vb2JqLmpzJztcbmltcG9ydCBJbWFnZVNvdXJjZSwge2RlZmF1bHRJbWFnZUxvYWRGdW5jdGlvbn0gZnJvbSAnLi9JbWFnZS5qcyc7XG5pbXBvcnQge2FwcGVuZFBhcmFtc30gZnJvbSAnLi4vdXJpLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3VybF0gVGhlIG1hcGFnZW50IHVybC5cbiAqIEBwcm9wZXJ0eSB7bnVsbHxzdHJpbmd9IFtjcm9zc09yaWdpbl0gVGhlIGBjcm9zc09yaWdpbmAgYXR0cmlidXRlIGZvciBsb2FkZWQgaW1hZ2VzLiAgTm90ZSB0aGF0XG4gKiB5b3UgbXVzdCBwcm92aWRlIGEgYGNyb3NzT3JpZ2luYCB2YWx1ZSBpZiB5b3UgYXJlIHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlciBvciBpZiB5b3Ugd2FudCB0b1xuICogYWNjZXNzIHBpeGVsIGRhdGEgd2l0aCB0aGUgQ2FudmFzIHJlbmRlcmVyLiAgU2VlXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0NPUlNfZW5hYmxlZF9pbWFnZSBmb3IgbW9yZSBkZXRhaWwuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2Rpc3BsYXlEcGk9OTZdIFRoZSBkaXNwbGF5IHJlc29sdXRpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21ldGVyc1BlclVuaXQ9MV0gVGhlIG1ldGVycy1wZXItdW5pdCB2YWx1ZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2hpZHBpPXRydWVdIFVzZSB0aGUgYG9sL01hcCNwaXhlbFJhdGlvYCB2YWx1ZSB3aGVuIHJlcXVlc3RpbmdcbiAqIHRoZSBpbWFnZSBmcm9tIHRoZSByZW1vdGUgc2VydmVyLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdXNlT3ZlcmxheV0gSWYgYHRydWVgLCB3aWxsIHVzZSBgR0VURFlOQU1JQ01BUE9WRVJMQVlJTUFHRWAuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmF0aW89MV0gUmF0aW8uIGAxYCBtZWFucyBpbWFnZSByZXF1ZXN0cyBhcmUgdGhlIHNpemUgb2YgdGhlIG1hcCB2aWV3cG9ydCwgYDJgIG1lYW5zXG4gKiB0d2ljZSB0aGUgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgbWFwIHZpZXdwb3J0LCBhbmQgc28gb24uIE11c3QgYmUgYDFgIG9yIGhpZ2hlci5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW3Jlc29sdXRpb25zXSBSZXNvbHV0aW9ucy5cbiAqIElmIHNwZWNpZmllZCwgcmVxdWVzdHMgd2lsbCBiZSBtYWRlIGZvciB0aGVzZSByZXNvbHV0aW9ucyBvbmx5LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9JbWFnZS5qc1wiKS5Mb2FkRnVuY3Rpb259IFtpbWFnZUxvYWRGdW5jdGlvbl0gT3B0aW9uYWwgZnVuY3Rpb24gdG8gbG9hZCBhbiBpbWFnZSBnaXZlbiBhIFVSTC5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBbcGFyYW1zXSBBZGRpdGlvbmFsIHBhcmFtZXRlcnMuXG4gKi9cblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFNvdXJjZSBmb3IgaW1hZ2VzIGZyb20gTWFwZ3VpZGUgc2VydmVyc1xuICpcbiAqIEBmaXJlcyBvbC9zb3VyY2UvSW1hZ2V+SW1hZ2VTb3VyY2VFdmVudFxuICogQGFwaVxuICovXG52YXIgSW1hZ2VNYXBHdWlkZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEltYWdlU291cmNlKSB7XG4gIGZ1bmN0aW9uIEltYWdlTWFwR3VpZGUob3B0aW9ucykge1xuXG4gICAgSW1hZ2VTb3VyY2UuY2FsbCh0aGlzLCB7XG4gICAgICBwcm9qZWN0aW9uOiBvcHRpb25zLnByb2plY3Rpb24sXG4gICAgICByZXNvbHV0aW9uczogb3B0aW9ucy5yZXNvbHV0aW9uc1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmNyb3NzT3JpZ2luXyA9XG4gICAgICAgIG9wdGlvbnMuY3Jvc3NPcmlnaW4gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY3Jvc3NPcmlnaW4gOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZGlzcGxheURwaV8gPSBvcHRpb25zLmRpc3BsYXlEcGkgIT09IHVuZGVmaW5lZCA/XG4gICAgICBvcHRpb25zLmRpc3BsYXlEcGkgOiA5NjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5wYXJhbXNfID0gb3B0aW9ucy5wYXJhbXMgfHwge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtzdHJpbmd8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMudXJsXyA9IG9wdGlvbnMudXJsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vSW1hZ2UuanNcIikuTG9hZEZ1bmN0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VMb2FkRnVuY3Rpb25fID0gb3B0aW9ucy5pbWFnZUxvYWRGdW5jdGlvbiAhPT0gdW5kZWZpbmVkID9cbiAgICAgIG9wdGlvbnMuaW1hZ2VMb2FkRnVuY3Rpb24gOiBkZWZhdWx0SW1hZ2VMb2FkRnVuY3Rpb247XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuaGlkcGlfID0gb3B0aW9ucy5oaWRwaSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5oaWRwaSA6IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5tZXRlcnNQZXJVbml0XyA9IG9wdGlvbnMubWV0ZXJzUGVyVW5pdCAhPT0gdW5kZWZpbmVkID9cbiAgICAgIG9wdGlvbnMubWV0ZXJzUGVyVW5pdCA6IDE7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yYXRpb18gPSBvcHRpb25zLnJhdGlvICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJhdGlvIDogMTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy51c2VPdmVybGF5XyA9IG9wdGlvbnMudXNlT3ZlcmxheSAhPT0gdW5kZWZpbmVkID9cbiAgICAgIG9wdGlvbnMudXNlT3ZlcmxheSA6IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vSW1hZ2UuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlZFJldmlzaW9uXyA9IDA7XG5cbiAgfVxuXG4gIGlmICggSW1hZ2VTb3VyY2UgKSBJbWFnZU1hcEd1aWRlLl9fcHJvdG9fXyA9IEltYWdlU291cmNlO1xuICBJbWFnZU1hcEd1aWRlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEltYWdlU291cmNlICYmIEltYWdlU291cmNlLnByb3RvdHlwZSApO1xuICBJbWFnZU1hcEd1aWRlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEltYWdlTWFwR3VpZGU7XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdXNlci1wcm92aWRlZCBwYXJhbXMsIGkuZS4gdGhvc2UgcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3RvciB0aHJvdWdoXG4gICAqIHRoZSBcInBhcmFtc1wiIG9wdGlvbiwgYW5kIHBvc3NpYmx5IHVwZGF0ZWQgdXNpbmcgdGhlIHVwZGF0ZVBhcmFtcyBtZXRob2QuXG4gICAqIEByZXR1cm4ge09iamVjdH0gUGFyYW1zLlxuICAgKiBAYXBpXG4gICAqL1xuICBJbWFnZU1hcEd1aWRlLnByb3RvdHlwZS5nZXRQYXJhbXMgPSBmdW5jdGlvbiBnZXRQYXJhbXMgKCkge1xuICAgIHJldHVybiB0aGlzLnBhcmFtc187XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBJbWFnZU1hcEd1aWRlLnByb3RvdHlwZS5nZXRJbWFnZUludGVybmFsID0gZnVuY3Rpb24gZ2V0SW1hZ2VJbnRlcm5hbCAoZXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKSB7XG4gICAgcmVzb2x1dGlvbiA9IHRoaXMuZmluZE5lYXJlc3RSZXNvbHV0aW9uKHJlc29sdXRpb24pO1xuICAgIHBpeGVsUmF0aW8gPSB0aGlzLmhpZHBpXyA/IHBpeGVsUmF0aW8gOiAxO1xuXG4gICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZV87XG4gICAgaWYgKGltYWdlICYmXG4gICAgICAgIHRoaXMucmVuZGVyZWRSZXZpc2lvbl8gPT0gdGhpcy5nZXRSZXZpc2lvbigpICYmXG4gICAgICAgIGltYWdlLmdldFJlc29sdXRpb24oKSA9PSByZXNvbHV0aW9uICYmXG4gICAgICAgIGltYWdlLmdldFBpeGVsUmF0aW8oKSA9PSBwaXhlbFJhdGlvICYmXG4gICAgICAgIGNvbnRhaW5zRXh0ZW50KGltYWdlLmdldEV4dGVudCgpLCBleHRlbnQpKSB7XG4gICAgICByZXR1cm4gaW1hZ2U7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucmF0aW9fICE9IDEpIHtcbiAgICAgIGV4dGVudCA9IGV4dGVudC5zbGljZSgpO1xuICAgICAgc2NhbGVGcm9tQ2VudGVyKGV4dGVudCwgdGhpcy5yYXRpb18pO1xuICAgIH1cbiAgICB2YXIgd2lkdGggPSBnZXRXaWR0aChleHRlbnQpIC8gcmVzb2x1dGlvbjtcbiAgICB2YXIgaGVpZ2h0ID0gZ2V0SGVpZ2h0KGV4dGVudCkgLyByZXNvbHV0aW9uO1xuICAgIHZhciBzaXplID0gW3dpZHRoICogcGl4ZWxSYXRpbywgaGVpZ2h0ICogcGl4ZWxSYXRpb107XG5cbiAgICBpZiAodGhpcy51cmxfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBpbWFnZVVybCA9IHRoaXMuZ2V0VXJsKHRoaXMudXJsXywgdGhpcy5wYXJhbXNfLCBleHRlbnQsIHNpemUsXG4gICAgICAgIHByb2plY3Rpb24pO1xuICAgICAgaW1hZ2UgPSBuZXcgSW1hZ2VXcmFwcGVyKGV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbyxcbiAgICAgICAgaW1hZ2VVcmwsIHRoaXMuY3Jvc3NPcmlnaW5fLFxuICAgICAgICB0aGlzLmltYWdlTG9hZEZ1bmN0aW9uXyk7XG4gICAgICBsaXN0ZW4oaW1hZ2UsIEV2ZW50VHlwZS5DSEFOR0UsXG4gICAgICAgIHRoaXMuaGFuZGxlSW1hZ2VDaGFuZ2UsIHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbWFnZSA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuaW1hZ2VfID0gaW1hZ2U7XG4gICAgdGhpcy5yZW5kZXJlZFJldmlzaW9uXyA9IHRoaXMuZ2V0UmV2aXNpb24oKTtcblxuICAgIHJldHVybiBpbWFnZTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBpbWFnZSBsb2FkIGZ1bmN0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL0ltYWdlLmpzXCIpLkxvYWRGdW5jdGlvbn0gVGhlIGltYWdlIGxvYWQgZnVuY3Rpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIEltYWdlTWFwR3VpZGUucHJvdG90eXBlLmdldEltYWdlTG9hZEZ1bmN0aW9uID0gZnVuY3Rpb24gZ2V0SW1hZ2VMb2FkRnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmltYWdlTG9hZEZ1bmN0aW9uXztcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlIHRoZSB1c2VyLXByb3ZpZGVkIHBhcmFtcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyBQYXJhbXMuXG4gICAqIEBhcGlcbiAgICovXG4gIEltYWdlTWFwR3VpZGUucHJvdG90eXBlLnVwZGF0ZVBhcmFtcyA9IGZ1bmN0aW9uIHVwZGF0ZVBhcmFtcyAocGFyYW1zKSB7XG4gICAgYXNzaWduKHRoaXMucGFyYW1zXywgcGFyYW1zKTtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVcmwgVGhlIG1hcGFnZW50IHVybC5cbiAgICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBzdHJpbmd8bnVtYmVyPn0gcGFyYW1zIFJlcXVlc3QgcGFyYW1ldGVycy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBTaXplLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIG1hcGFnZW50IG1hcCBpbWFnZSByZXF1ZXN0IFVSTC5cbiAgICovXG4gIEltYWdlTWFwR3VpZGUucHJvdG90eXBlLmdldFVybCA9IGZ1bmN0aW9uIGdldFVybCAoYmFzZVVybCwgcGFyYW1zLCBleHRlbnQsIHNpemUsIHByb2plY3Rpb24pIHtcbiAgICB2YXIgc2NhbGUgPSBnZXRTY2FsZShleHRlbnQsIHNpemUsXG4gICAgICB0aGlzLm1ldGVyc1BlclVuaXRfLCB0aGlzLmRpc3BsYXlEcGlfKTtcbiAgICB2YXIgY2VudGVyID0gZ2V0Q2VudGVyKGV4dGVudCk7XG4gICAgdmFyIGJhc2VQYXJhbXMgPSB7XG4gICAgICAnT1BFUkFUSU9OJzogdGhpcy51c2VPdmVybGF5XyA/ICdHRVREWU5BTUlDTUFQT1ZFUkxBWUlNQUdFJyA6ICdHRVRNQVBJTUFHRScsXG4gICAgICAnVkVSU0lPTic6ICcyLjAuMCcsXG4gICAgICAnTE9DQUxFJzogJ2VuJyxcbiAgICAgICdDTElFTlRBR0VOVCc6ICdvbC9zb3VyY2UvSW1hZ2VNYXBHdWlkZSBzb3VyY2UnLFxuICAgICAgJ0NMSVAnOiAnMScsXG4gICAgICAnU0VURElTUExBWURQSSc6IHRoaXMuZGlzcGxheURwaV8sXG4gICAgICAnU0VURElTUExBWVdJRFRIJzogTWF0aC5yb3VuZChzaXplWzBdKSxcbiAgICAgICdTRVRESVNQTEFZSEVJR0hUJzogTWF0aC5yb3VuZChzaXplWzFdKSxcbiAgICAgICdTRVRWSUVXU0NBTEUnOiBzY2FsZSxcbiAgICAgICdTRVRWSUVXQ0VOVEVSWCc6IGNlbnRlclswXSxcbiAgICAgICdTRVRWSUVXQ0VOVEVSWSc6IGNlbnRlclsxXVxuICAgIH07XG4gICAgYXNzaWduKGJhc2VQYXJhbXMsIHBhcmFtcyk7XG4gICAgcmV0dXJuIGFwcGVuZFBhcmFtcyhiYXNlVXJsLCBiYXNlUGFyYW1zKTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IHRoZSBpbWFnZSBsb2FkIGZ1bmN0aW9uIG9mIHRoZSBNYXBHdWlkZSBzb3VyY2UuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vSW1hZ2UuanNcIikuTG9hZEZ1bmN0aW9ufSBpbWFnZUxvYWRGdW5jdGlvbiBJbWFnZSBsb2FkIGZ1bmN0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBJbWFnZU1hcEd1aWRlLnByb3RvdHlwZS5zZXRJbWFnZUxvYWRGdW5jdGlvbiA9IGZ1bmN0aW9uIHNldEltYWdlTG9hZEZ1bmN0aW9uIChpbWFnZUxvYWRGdW5jdGlvbikge1xuICAgIHRoaXMuaW1hZ2VfID0gbnVsbDtcbiAgICB0aGlzLmltYWdlTG9hZEZ1bmN0aW9uXyA9IGltYWdlTG9hZEZ1bmN0aW9uO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9O1xuXG4gIHJldHVybiBJbWFnZU1hcEd1aWRlO1xufShJbWFnZVNvdXJjZSkpO1xuXG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgVGhlIG1hcCBleHRlbnRzLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IHNpemUgVGhlIHZpZXdwb3J0IHNpemUuXG4gKiBAcGFyYW0ge251bWJlcn0gbWV0ZXJzUGVyVW5pdCBUaGUgbWV0ZXJzLXBlci11bml0IHZhbHVlLlxuICogQHBhcmFtIHtudW1iZXJ9IGRwaSBUaGUgZGlzcGxheSByZXNvbHV0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgY29tcHV0ZWQgbWFwIHNjYWxlLlxuICovXG5mdW5jdGlvbiBnZXRTY2FsZShleHRlbnQsIHNpemUsIG1ldGVyc1BlclVuaXQsIGRwaSkge1xuICB2YXIgbWNzVyA9IGdldFdpZHRoKGV4dGVudCk7XG4gIHZhciBtY3NIID0gZ2V0SGVpZ2h0KGV4dGVudCk7XG4gIHZhciBkZXZXID0gc2l6ZVswXTtcbiAgdmFyIGRldkggPSBzaXplWzFdO1xuICB2YXIgbXBwID0gMC4wMjU0IC8gZHBpO1xuICBpZiAoZGV2SCAqIG1jc1cgPiBkZXZXICogbWNzSCkge1xuICAgIHJldHVybiBtY3NXICogbWV0ZXJzUGVyVW5pdCAvIChkZXZXICogbXBwKTsgLy8gd2lkdGggbGltaXRlZFxuICB9IGVsc2Uge1xuICAgIHJldHVybiBtY3NIICogbWV0ZXJzUGVyVW5pdCAvIChkZXZIICogbXBwKTsgLy8gaGVpZ2h0IGxpbWl0ZWRcbiAgfVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IEltYWdlTWFwR3VpZGU7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUltYWdlTWFwR3VpZGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9JbWFnZVN0YXRpY1xuICovXG5cbmltcG9ydCBJbWFnZVdyYXBwZXIgZnJvbSAnLi4vSW1hZ2UuanMnO1xuaW1wb3J0IEltYWdlU3RhdGUgZnJvbSAnLi4vSW1hZ2VTdGF0ZS5qcyc7XG5pbXBvcnQge2NyZWF0ZUNhbnZhc0NvbnRleHQyRH0gZnJvbSAnLi4vZG9tLmpzJztcbmltcG9ydCB7bGlzdGVufSBmcm9tICcuLi9ldmVudHMuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7aW50ZXJzZWN0cywgZ2V0SGVpZ2h0LCBnZXRXaWR0aH0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7Z2V0IGFzIGdldFByb2plY3Rpb259IGZyb20gJy4uL3Byb2ouanMnO1xuaW1wb3J0IEltYWdlU291cmNlLCB7ZGVmYXVsdEltYWdlTG9hZEZ1bmN0aW9ufSBmcm9tICcuL0ltYWdlLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLkF0dHJpYnV0aW9uTGlrZX0gW2F0dHJpYnV0aW9uc10gQXR0cmlidXRpb25zLlxuICogQHByb3BlcnR5IHtudWxsfHN0cmluZ30gW2Nyb3NzT3JpZ2luXSBUaGUgYGNyb3NzT3JpZ2luYCBhdHRyaWJ1dGUgZm9yIGxvYWRlZCBpbWFnZXMuICBOb3RlIHRoYXRcbiAqIHlvdSBtdXN0IHByb3ZpZGUgYSBgY3Jvc3NPcmlnaW5gIHZhbHVlIGlmIHlvdSBhcmUgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyIG9yIGlmIHlvdSB3YW50IHRvXG4gKiBhY2Nlc3MgcGl4ZWwgZGF0YSB3aXRoIHRoZSBDYW52YXMgcmVuZGVyZXIuICBTZWVcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvQ09SU19lbmFibGVkX2ltYWdlIGZvciBtb3JlIGRldGFpbC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2ltYWdlRXh0ZW50XSBFeHRlbnQgb2YgdGhlIGltYWdlIGluIG1hcCBjb29yZGluYXRlcy5cbiAqIFRoaXMgaXMgdGhlIFtsZWZ0LCBib3R0b20sIHJpZ2h0LCB0b3BdIG1hcCBjb29yZGluYXRlcyBvZiB5b3VyIGltYWdlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9JbWFnZS5qc1wiKS5Mb2FkRnVuY3Rpb259IFtpbWFnZUxvYWRGdW5jdGlvbl0gT3B0aW9uYWwgZnVuY3Rpb24gdG8gbG9hZCBhbiBpbWFnZSBnaXZlbiBhIFVSTC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFtpbWFnZVNpemVdIFNpemUgb2YgdGhlIGltYWdlIGluIHBpeGVscy4gVXN1YWxseSB0aGUgaW1hZ2Ugc2l6ZSBpcyBhdXRvLWRldGVjdGVkLCBzbyB0aGlzXG4gKiBvbmx5IG5lZWRzIHRvIGJlIHNldCBpZiBhdXRvLWRldGVjdGlvbiBmYWlscyBmb3Igc29tZSByZWFzb24uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdXJsIEltYWdlIFVSTC5cbiAqL1xuXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSBsYXllciBzb3VyY2UgZm9yIGRpc3BsYXlpbmcgYSBzaW5nbGUsIHN0YXRpYyBpbWFnZS5cbiAqIEBhcGlcbiAqL1xudmFyIFN0YXRpYyA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEltYWdlU291cmNlKSB7XG4gIGZ1bmN0aW9uIFN0YXRpYyhvcHRpb25zKSB7XG4gICAgdmFyIGNyb3NzT3JpZ2luID0gb3B0aW9ucy5jcm9zc09yaWdpbiAhPT0gdW5kZWZpbmVkID9cbiAgICAgIG9wdGlvbnMuY3Jvc3NPcmlnaW4gOiBudWxsO1xuXG4gICAgdmFyIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vSW1hZ2UuanNcIikuTG9hZEZ1bmN0aW9ufSAqLyBpbWFnZUxvYWRGdW5jdGlvbiA9XG4gICAgICAgIG9wdGlvbnMuaW1hZ2VMb2FkRnVuY3Rpb24gIT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgb3B0aW9ucy5pbWFnZUxvYWRGdW5jdGlvbiA6IGRlZmF1bHRJbWFnZUxvYWRGdW5jdGlvbjtcblxuICAgIEltYWdlU291cmNlLmNhbGwodGhpcywge1xuICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9ucyxcbiAgICAgIHByb2plY3Rpb246IGdldFByb2plY3Rpb24ob3B0aW9ucy5wcm9qZWN0aW9uKVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMudXJsXyA9IG9wdGlvbnMudXJsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlRXh0ZW50XyA9IG9wdGlvbnMuaW1hZ2VFeHRlbnQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9JbWFnZS5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VfID0gbmV3IEltYWdlV3JhcHBlcih0aGlzLmltYWdlRXh0ZW50XywgdW5kZWZpbmVkLCAxLCB0aGlzLnVybF8sIGNyb3NzT3JpZ2luLCBpbWFnZUxvYWRGdW5jdGlvbik7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICovXG4gICAgdGhpcy5pbWFnZVNpemVfID0gb3B0aW9ucy5pbWFnZVNpemUgPyBvcHRpb25zLmltYWdlU2l6ZSA6IG51bGw7XG5cbiAgICBsaXN0ZW4odGhpcy5pbWFnZV8sIEV2ZW50VHlwZS5DSEFOR0UsXG4gICAgICB0aGlzLmhhbmRsZUltYWdlQ2hhbmdlLCB0aGlzKTtcblxuICB9XG5cbiAgaWYgKCBJbWFnZVNvdXJjZSApIFN0YXRpYy5fX3Byb3RvX18gPSBJbWFnZVNvdXJjZTtcbiAgU3RhdGljLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEltYWdlU291cmNlICYmIEltYWdlU291cmNlLnByb3RvdHlwZSApO1xuICBTdGF0aWMucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3RhdGljO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBpbWFnZSBleHRlbnRcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gaW1hZ2UgZXh0ZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBTdGF0aWMucHJvdG90eXBlLmdldEltYWdlRXh0ZW50ID0gZnVuY3Rpb24gZ2V0SW1hZ2VFeHRlbnQgKCkge1xuICAgIHJldHVybiB0aGlzLmltYWdlRXh0ZW50XztcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIFN0YXRpYy5wcm90b3R5cGUuZ2V0SW1hZ2VJbnRlcm5hbCA9IGZ1bmN0aW9uIGdldEltYWdlSW50ZXJuYWwgKGV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgIGlmIChpbnRlcnNlY3RzKGV4dGVudCwgdGhpcy5pbWFnZV8uZ2V0RXh0ZW50KCkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbWFnZV87XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIFVSTCB1c2VkIGZvciB0aGlzIGltYWdlIHNvdXJjZS5cbiAgICogQHJldHVybiB7c3RyaW5nfSBVUkwuXG4gICAqIEBhcGlcbiAgICovXG4gIFN0YXRpYy5wcm90b3R5cGUuZ2V0VXJsID0gZnVuY3Rpb24gZ2V0VXJsICgpIHtcbiAgICByZXR1cm4gdGhpcy51cmxfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgU3RhdGljLnByb3RvdHlwZS5oYW5kbGVJbWFnZUNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUltYWdlQ2hhbmdlIChldnQpIHtcbiAgICBpZiAodGhpcy5pbWFnZV8uZ2V0U3RhdGUoKSA9PSBJbWFnZVN0YXRlLkxPQURFRCkge1xuICAgICAgdmFyIGltYWdlRXh0ZW50ID0gdGhpcy5pbWFnZV8uZ2V0RXh0ZW50KCk7XG4gICAgICB2YXIgaW1hZ2UgPSB0aGlzLmltYWdlXy5nZXRJbWFnZSgpO1xuICAgICAgdmFyIGltYWdlV2lkdGgsIGltYWdlSGVpZ2h0O1xuICAgICAgaWYgKHRoaXMuaW1hZ2VTaXplXykge1xuICAgICAgICBpbWFnZVdpZHRoID0gdGhpcy5pbWFnZVNpemVfWzBdO1xuICAgICAgICBpbWFnZUhlaWdodCA9IHRoaXMuaW1hZ2VTaXplX1sxXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGltYWdlV2lkdGggPSBpbWFnZS53aWR0aDtcbiAgICAgICAgaW1hZ2VIZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XG4gICAgICB9XG4gICAgICB2YXIgcmVzb2x1dGlvbiA9IGdldEhlaWdodChpbWFnZUV4dGVudCkgLyBpbWFnZUhlaWdodDtcbiAgICAgIHZhciB0YXJnZXRXaWR0aCA9IE1hdGguY2VpbChnZXRXaWR0aChpbWFnZUV4dGVudCkgLyByZXNvbHV0aW9uKTtcbiAgICAgIGlmICh0YXJnZXRXaWR0aCAhPSBpbWFnZVdpZHRoKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKHRhcmdldFdpZHRoLCBpbWFnZUhlaWdodCk7XG4gICAgICAgIHZhciBjYW52YXMgPSBjb250ZXh0LmNhbnZhcztcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIGltYWdlV2lkdGgsIGltYWdlSGVpZ2h0LFxuICAgICAgICAgIDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgIHRoaXMuaW1hZ2VfLnNldEltYWdlKGNhbnZhcyk7XG4gICAgICB9XG4gICAgfVxuICAgIEltYWdlU291cmNlLnByb3RvdHlwZS5oYW5kbGVJbWFnZUNoYW5nZS5jYWxsKHRoaXMsIGV2dCk7XG4gIH07XG5cbiAgcmV0dXJuIFN0YXRpYztcbn0oSW1hZ2VTb3VyY2UpKTtcblxuXG5leHBvcnQgZGVmYXVsdCBTdGF0aWM7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUltYWdlU3RhdGljLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvY29tbW9uXG4gKi9cblxuLyoqXG4gKiBEZWZhdWx0IFdNUyB2ZXJzaW9uLlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IHZhciBERUZBVUxUX1dNU19WRVJTSU9OID0gJzEuMy4wJztcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tbW9uLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvV01TU2VydmVyVHlwZVxuICovXG5cbi8qKlxuICogQXZhaWxhYmxlIHNlcnZlciB0eXBlczogYCdjYXJtZW50YXNlcnZlcidgLCBgJ2dlb3NlcnZlcidgLCBgJ21hcHNlcnZlcidgLFxuICogICAgIGAncWdpcydgLiBUaGVzZSBhcmUgc2VydmVycyB0aGF0IGhhdmUgdmVuZG9yIHBhcmFtZXRlcnMgYmV5b25kIHRoZSBXTVNcbiAqICAgICBzcGVjaWZpY2F0aW9uIHRoYXQgT3BlbkxheWVycyBjYW4gbWFrZSB1c2Ugb2YuXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIENBUk1FTlRBX1NFUlZFUjogJ2Nhcm1lbnRhc2VydmVyJyxcbiAgR0VPU0VSVkVSOiAnZ2Vvc2VydmVyJyxcbiAgTUFQU0VSVkVSOiAnbWFwc2VydmVyJyxcbiAgUUdJUzogJ3FnaXMnXG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1XTVNTZXJ2ZXJUeXBlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvSW1hZ2VXTVNcbiAqL1xuXG5pbXBvcnQge0RFRkFVTFRfV01TX1ZFUlNJT059IGZyb20gJy4vY29tbW9uLmpzJztcblxuaW1wb3J0IEltYWdlV3JhcHBlciBmcm9tICcuLi9JbWFnZS5qcyc7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQge2xpc3Rlbn0gZnJvbSAnLi4vZXZlbnRzLmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQge2NvbnRhaW5zRXh0ZW50LCBnZXRDZW50ZXIsIGdldEZvclZpZXdBbmRTaXplLCBnZXRIZWlnaHQsIGdldFdpZHRofSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHthc3NpZ259IGZyb20gJy4uL29iai5qcyc7XG5pbXBvcnQge2dldCBhcyBnZXRQcm9qZWN0aW9uLCB0cmFuc2Zvcm19IGZyb20gJy4uL3Byb2ouanMnO1xuaW1wb3J0IHtjYWxjdWxhdGVTb3VyY2VSZXNvbHV0aW9ufSBmcm9tICcuLi9yZXByb2ouanMnO1xuaW1wb3J0IEltYWdlU291cmNlLCB7ZGVmYXVsdEltYWdlTG9hZEZ1bmN0aW9ufSBmcm9tICcuL0ltYWdlLmpzJztcbmltcG9ydCBXTVNTZXJ2ZXJUeXBlIGZyb20gJy4vV01TU2VydmVyVHlwZS5qcyc7XG5pbXBvcnQge2NvbXBhcmVWZXJzaW9uc30gZnJvbSAnLi4vc3RyaW5nLmpzJztcbmltcG9ydCB7YXBwZW5kUGFyYW1zfSBmcm9tICcuLi91cmkuanMnO1xuXG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICovXG52YXIgR0VURkVBVFVSRUlORk9fSU1BR0VfU0laRSA9IFsxMDEsIDEwMV07XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLkF0dHJpYnV0aW9uTGlrZX0gW2F0dHJpYnV0aW9uc10gQXR0cmlidXRpb25zLlxuICogQHByb3BlcnR5IHtudWxsfHN0cmluZ30gW2Nyb3NzT3JpZ2luXSBUaGUgYGNyb3NzT3JpZ2luYCBhdHRyaWJ1dGUgZm9yIGxvYWRlZCBpbWFnZXMuICBOb3RlIHRoYXRcbiAqIHlvdSBtdXN0IHByb3ZpZGUgYSBgY3Jvc3NPcmlnaW5gIHZhbHVlIGlmIHlvdSBhcmUgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyIG9yIGlmIHlvdSB3YW50IHRvXG4gKiBhY2Nlc3MgcGl4ZWwgZGF0YSB3aXRoIHRoZSBDYW52YXMgcmVuZGVyZXIuICBTZWVcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvQ09SU19lbmFibGVkX2ltYWdlIGZvciBtb3JlIGRldGFpbC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2hpZHBpPXRydWVdIFVzZSB0aGUgYG9sL01hcCNwaXhlbFJhdGlvYCB2YWx1ZSB3aGVuIHJlcXVlc3RpbmdcbiAqIHRoZSBpbWFnZSBmcm9tIHRoZSByZW1vdGUgc2VydmVyLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1dNU1NlcnZlclR5cGUuanNcIikuZGVmYXVsdHxzdHJpbmd9IFtzZXJ2ZXJUeXBlXSBUaGUgdHlwZSBvZlxuICogdGhlIHJlbW90ZSBXTVMgc2VydmVyOiBgbWFwc2VydmVyYCwgYGdlb3NlcnZlcmAgb3IgYHFnaXNgLiBPbmx5IG5lZWRlZCBpZiBgaGlkcGlgIGlzIGB0cnVlYC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vSW1hZ2UuanNcIikuTG9hZEZ1bmN0aW9ufSBbaW1hZ2VMb2FkRnVuY3Rpb25dIE9wdGlvbmFsIGZ1bmN0aW9uIHRvIGxvYWQgYW4gaW1hZ2UgZ2l2ZW4gYSBVUkwuXG4gKiBAcHJvcGVydHkge09iamVjdDxzdHJpbmcsKj59IHBhcmFtcyBXTVMgcmVxdWVzdCBwYXJhbWV0ZXJzLlxuICogQXQgbGVhc3QgYSBgTEFZRVJTYCBwYXJhbSBpcyByZXF1aXJlZC4gYFNUWUxFU2AgaXNcbiAqIGAnJ2AgYnkgZGVmYXVsdC4gYFZFUlNJT05gIGlzIGAxLjMuMGAgYnkgZGVmYXVsdC4gYFdJRFRIYCwgYEhFSUdIVGAsIGBCQk9YYFxuICogYW5kIGBDUlNgIChgU1JTYCBmb3IgV01TIHZlcnNpb24gPCAxLjMuMCkgd2lsbCBiZSBzZXQgZHluYW1pY2FsbHkuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmF0aW89MS41XSBSYXRpby4gYDFgIG1lYW5zIGltYWdlIHJlcXVlc3RzIGFyZSB0aGUgc2l6ZSBvZiB0aGUgbWFwIHZpZXdwb3J0LCBgMmAgbWVhbnNcbiAqIHR3aWNlIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSBtYXAgdmlld3BvcnQsIGFuZCBzbyBvbi4gTXVzdCBiZSBgMWAgb3JcbiAqIGhpZ2hlci5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW3Jlc29sdXRpb25zXSBSZXNvbHV0aW9ucy5cbiAqIElmIHNwZWNpZmllZCwgcmVxdWVzdHMgd2lsbCBiZSBtYWRlIGZvciB0aGVzZSByZXNvbHV0aW9ucyBvbmx5LlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHVybCBXTVMgc2VydmljZSBVUkwuXG4gKi9cblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFNvdXJjZSBmb3IgV01TIHNlcnZlcnMgcHJvdmlkaW5nIHNpbmdsZSwgdW50aWxlZCBpbWFnZXMuXG4gKlxuICogQGZpcmVzIG9sL3NvdXJjZS9JbWFnZX5JbWFnZVNvdXJjZUV2ZW50XG4gKiBAYXBpXG4gKi9cbnZhciBJbWFnZVdNUyA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEltYWdlU291cmNlKSB7XG4gIGZ1bmN0aW9uIEltYWdlV01TKG9wdF9vcHRpb25zKSB7XG5cbiAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IC8qKiBAdHlwZSB7T3B0aW9uc30gKi8gKHt9KTtcblxuICAgIEltYWdlU291cmNlLmNhbGwodGhpcywge1xuICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9ucyxcbiAgICAgIHByb2plY3Rpb246IG9wdGlvbnMucHJvamVjdGlvbixcbiAgICAgIHJlc29sdXRpb25zOiBvcHRpb25zLnJlc29sdXRpb25zXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuY3Jvc3NPcmlnaW5fID1cbiAgICAgICAgb3B0aW9ucy5jcm9zc09yaWdpbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jcm9zc09yaWdpbiA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtzdHJpbmd8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMudXJsXyA9IG9wdGlvbnMudXJsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vSW1hZ2UuanNcIikuTG9hZEZ1bmN0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VMb2FkRnVuY3Rpb25fID0gb3B0aW9ucy5pbWFnZUxvYWRGdW5jdGlvbiAhPT0gdW5kZWZpbmVkID9cbiAgICAgIG9wdGlvbnMuaW1hZ2VMb2FkRnVuY3Rpb24gOiBkZWZhdWx0SW1hZ2VMb2FkRnVuY3Rpb247XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshT2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMucGFyYW1zXyA9IG9wdGlvbnMucGFyYW1zIHx8IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnYxM18gPSB0cnVlO1xuICAgIHRoaXMudXBkYXRlVjEzXygpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9XTVNTZXJ2ZXJUeXBlLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuc2VydmVyVHlwZV8gPSAvKiogQHR5cGUge2ltcG9ydChcIi4vV01TU2VydmVyVHlwZS5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gKi8gKG9wdGlvbnMuc2VydmVyVHlwZSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuaGlkcGlfID0gb3B0aW9ucy5oaWRwaSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5oaWRwaSA6IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9JbWFnZS5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlU2l6ZV8gPSBbMCwgMF07XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlZFJldmlzaW9uXyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yYXRpb18gPSBvcHRpb25zLnJhdGlvICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJhdGlvIDogMS41O1xuXG4gIH1cblxuICBpZiAoIEltYWdlU291cmNlICkgSW1hZ2VXTVMuX19wcm90b19fID0gSW1hZ2VTb3VyY2U7XG4gIEltYWdlV01TLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEltYWdlU291cmNlICYmIEltYWdlU291cmNlLnByb3RvdHlwZSApO1xuICBJbWFnZVdNUy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBJbWFnZVdNUztcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBHZXRGZWF0dXJlSW5mbyBVUkwgZm9yIHRoZSBwYXNzZWQgY29vcmRpbmF0ZSwgcmVzb2x1dGlvbiwgYW5kXG4gICAqIHByb2plY3Rpb24uIFJldHVybiBgdW5kZWZpbmVkYCBpZiB0aGUgR2V0RmVhdHVyZUluZm8gVVJMIGNhbm5vdCBiZVxuICAgKiBjb25zdHJ1Y3RlZC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEBwYXJhbSB7IU9iamVjdH0gcGFyYW1zIEdldEZlYXR1cmVJbmZvIHBhcmFtcy4gYElORk9fRk9STUFUYCBhdCBsZWFzdCBzaG91bGRcbiAgICogICAgIGJlIHByb3ZpZGVkLiBJZiBgUVVFUllfTEFZRVJTYCBpcyBub3QgcHJvdmlkZWQgdGhlbiB0aGUgbGF5ZXJzIHNwZWNpZmllZFxuICAgKiAgICAgaW4gdGhlIGBMQVlFUlNgIHBhcmFtZXRlciB3aWxsIGJlIHVzZWQuIGBWRVJTSU9OYCBzaG91bGQgbm90IGJlXG4gICAqICAgICBzcGVjaWZpZWQgaGVyZS5cbiAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gR2V0RmVhdHVyZUluZm8gVVJMLlxuICAgKiBAYXBpXG4gICAqL1xuICBJbWFnZVdNUy5wcm90b3R5cGUuZ2V0R2V0RmVhdHVyZUluZm9VcmwgPSBmdW5jdGlvbiBnZXRHZXRGZWF0dXJlSW5mb1VybCAoY29vcmRpbmF0ZSwgcmVzb2x1dGlvbiwgcHJvamVjdGlvbiwgcGFyYW1zKSB7XG4gICAgaWYgKHRoaXMudXJsXyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB2YXIgcHJvamVjdGlvbk9iaiA9IGdldFByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgdmFyIHNvdXJjZVByb2plY3Rpb25PYmogPSB0aGlzLmdldFByb2plY3Rpb24oKTtcblxuICAgIGlmIChzb3VyY2VQcm9qZWN0aW9uT2JqICYmIHNvdXJjZVByb2plY3Rpb25PYmogIT09IHByb2plY3Rpb25PYmopIHtcbiAgICAgIHJlc29sdXRpb24gPSBjYWxjdWxhdGVTb3VyY2VSZXNvbHV0aW9uKHNvdXJjZVByb2plY3Rpb25PYmosIHByb2plY3Rpb25PYmosIGNvb3JkaW5hdGUsIHJlc29sdXRpb24pO1xuICAgICAgY29vcmRpbmF0ZSA9IHRyYW5zZm9ybShjb29yZGluYXRlLCBwcm9qZWN0aW9uT2JqLCBzb3VyY2VQcm9qZWN0aW9uT2JqKTtcbiAgICB9XG5cbiAgICB2YXIgZXh0ZW50ID0gZ2V0Rm9yVmlld0FuZFNpemUoY29vcmRpbmF0ZSwgcmVzb2x1dGlvbiwgMCxcbiAgICAgIEdFVEZFQVRVUkVJTkZPX0lNQUdFX1NJWkUpO1xuXG4gICAgdmFyIGJhc2VQYXJhbXMgPSB7XG4gICAgICAnU0VSVklDRSc6ICdXTVMnLFxuICAgICAgJ1ZFUlNJT04nOiBERUZBVUxUX1dNU19WRVJTSU9OLFxuICAgICAgJ1JFUVVFU1QnOiAnR2V0RmVhdHVyZUluZm8nLFxuICAgICAgJ0ZPUk1BVCc6ICdpbWFnZS9wbmcnLFxuICAgICAgJ1RSQU5TUEFSRU5UJzogdHJ1ZSxcbiAgICAgICdRVUVSWV9MQVlFUlMnOiB0aGlzLnBhcmFtc19bJ0xBWUVSUyddXG4gICAgfTtcbiAgICBhc3NpZ24oYmFzZVBhcmFtcywgdGhpcy5wYXJhbXNfLCBwYXJhbXMpO1xuXG4gICAgdmFyIHggPSBNYXRoLmZsb29yKChjb29yZGluYXRlWzBdIC0gZXh0ZW50WzBdKSAvIHJlc29sdXRpb24pO1xuICAgIHZhciB5ID0gTWF0aC5mbG9vcigoZXh0ZW50WzNdIC0gY29vcmRpbmF0ZVsxXSkgLyByZXNvbHV0aW9uKTtcbiAgICBiYXNlUGFyYW1zW3RoaXMudjEzXyA/ICdJJyA6ICdYJ10gPSB4O1xuICAgIGJhc2VQYXJhbXNbdGhpcy52MTNfID8gJ0onIDogJ1knXSA9IHk7XG5cbiAgICByZXR1cm4gdGhpcy5nZXRSZXF1ZXN0VXJsXyhcbiAgICAgIGV4dGVudCwgR0VURkVBVFVSRUlORk9fSU1BR0VfU0laRSxcbiAgICAgIDEsIHNvdXJjZVByb2plY3Rpb25PYmogfHwgcHJvamVjdGlvbk9iaiwgYmFzZVBhcmFtcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdXNlci1wcm92aWRlZCBwYXJhbXMsIGkuZS4gdGhvc2UgcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3RvciB0aHJvdWdoXG4gICAqIHRoZSBcInBhcmFtc1wiIG9wdGlvbiwgYW5kIHBvc3NpYmx5IHVwZGF0ZWQgdXNpbmcgdGhlIHVwZGF0ZVBhcmFtcyBtZXRob2QuXG4gICAqIEByZXR1cm4ge09iamVjdH0gUGFyYW1zLlxuICAgKiBAYXBpXG4gICAqL1xuICBJbWFnZVdNUy5wcm90b3R5cGUuZ2V0UGFyYW1zID0gZnVuY3Rpb24gZ2V0UGFyYW1zICgpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJhbXNfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgSW1hZ2VXTVMucHJvdG90eXBlLmdldEltYWdlSW50ZXJuYWwgPSBmdW5jdGlvbiBnZXRJbWFnZUludGVybmFsIChleHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcblxuICAgIGlmICh0aGlzLnVybF8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmVzb2x1dGlvbiA9IHRoaXMuZmluZE5lYXJlc3RSZXNvbHV0aW9uKHJlc29sdXRpb24pO1xuXG4gICAgaWYgKHBpeGVsUmF0aW8gIT0gMSAmJiAoIXRoaXMuaGlkcGlfIHx8IHRoaXMuc2VydmVyVHlwZV8gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgIHBpeGVsUmF0aW8gPSAxO1xuICAgIH1cblxuICAgIHZhciBpbWFnZVJlc29sdXRpb24gPSByZXNvbHV0aW9uIC8gcGl4ZWxSYXRpbztcblxuICAgIHZhciBjZW50ZXIgPSBnZXRDZW50ZXIoZXh0ZW50KTtcbiAgICB2YXIgdmlld1dpZHRoID0gTWF0aC5jZWlsKGdldFdpZHRoKGV4dGVudCkgLyBpbWFnZVJlc29sdXRpb24pO1xuICAgIHZhciB2aWV3SGVpZ2h0ID0gTWF0aC5jZWlsKGdldEhlaWdodChleHRlbnQpIC8gaW1hZ2VSZXNvbHV0aW9uKTtcbiAgICB2YXIgdmlld0V4dGVudCA9IGdldEZvclZpZXdBbmRTaXplKGNlbnRlciwgaW1hZ2VSZXNvbHV0aW9uLCAwLFxuICAgICAgW3ZpZXdXaWR0aCwgdmlld0hlaWdodF0pO1xuICAgIHZhciByZXF1ZXN0V2lkdGggPSBNYXRoLmNlaWwodGhpcy5yYXRpb18gKiBnZXRXaWR0aChleHRlbnQpIC8gaW1hZ2VSZXNvbHV0aW9uKTtcbiAgICB2YXIgcmVxdWVzdEhlaWdodCA9IE1hdGguY2VpbCh0aGlzLnJhdGlvXyAqIGdldEhlaWdodChleHRlbnQpIC8gaW1hZ2VSZXNvbHV0aW9uKTtcbiAgICB2YXIgcmVxdWVzdEV4dGVudCA9IGdldEZvclZpZXdBbmRTaXplKGNlbnRlciwgaW1hZ2VSZXNvbHV0aW9uLCAwLFxuICAgICAgW3JlcXVlc3RXaWR0aCwgcmVxdWVzdEhlaWdodF0pO1xuXG4gICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZV87XG4gICAgaWYgKGltYWdlICYmXG4gICAgICAgIHRoaXMucmVuZGVyZWRSZXZpc2lvbl8gPT0gdGhpcy5nZXRSZXZpc2lvbigpICYmXG4gICAgICAgIGltYWdlLmdldFJlc29sdXRpb24oKSA9PSByZXNvbHV0aW9uICYmXG4gICAgICAgIGltYWdlLmdldFBpeGVsUmF0aW8oKSA9PSBwaXhlbFJhdGlvICYmXG4gICAgICAgIGNvbnRhaW5zRXh0ZW50KGltYWdlLmdldEV4dGVudCgpLCB2aWV3RXh0ZW50KSkge1xuICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH1cblxuICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAnU0VSVklDRSc6ICdXTVMnLFxuICAgICAgJ1ZFUlNJT04nOiBERUZBVUxUX1dNU19WRVJTSU9OLFxuICAgICAgJ1JFUVVFU1QnOiAnR2V0TWFwJyxcbiAgICAgICdGT1JNQVQnOiAnaW1hZ2UvcG5nJyxcbiAgICAgICdUUkFOU1BBUkVOVCc6IHRydWVcbiAgICB9O1xuICAgIGFzc2lnbihwYXJhbXMsIHRoaXMucGFyYW1zXyk7XG5cbiAgICB0aGlzLmltYWdlU2l6ZV9bMF0gPSBNYXRoLnJvdW5kKGdldFdpZHRoKHJlcXVlc3RFeHRlbnQpIC8gaW1hZ2VSZXNvbHV0aW9uKTtcbiAgICB0aGlzLmltYWdlU2l6ZV9bMV0gPSBNYXRoLnJvdW5kKGdldEhlaWdodChyZXF1ZXN0RXh0ZW50KSAvIGltYWdlUmVzb2x1dGlvbik7XG5cbiAgICB2YXIgdXJsID0gdGhpcy5nZXRSZXF1ZXN0VXJsXyhyZXF1ZXN0RXh0ZW50LCB0aGlzLmltYWdlU2l6ZV8sIHBpeGVsUmF0aW8sXG4gICAgICBwcm9qZWN0aW9uLCBwYXJhbXMpO1xuXG4gICAgdGhpcy5pbWFnZV8gPSBuZXcgSW1hZ2VXcmFwcGVyKHJlcXVlc3RFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8sXG4gICAgICB1cmwsIHRoaXMuY3Jvc3NPcmlnaW5fLCB0aGlzLmltYWdlTG9hZEZ1bmN0aW9uXyk7XG5cbiAgICB0aGlzLnJlbmRlcmVkUmV2aXNpb25fID0gdGhpcy5nZXRSZXZpc2lvbigpO1xuXG4gICAgbGlzdGVuKHRoaXMuaW1hZ2VfLCBFdmVudFR5cGUuQ0hBTkdFLFxuICAgICAgdGhpcy5oYW5kbGVJbWFnZUNoYW5nZSwgdGhpcyk7XG5cbiAgICByZXR1cm4gdGhpcy5pbWFnZV87XG5cbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBpbWFnZSBsb2FkIGZ1bmN0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL0ltYWdlLmpzXCIpLkxvYWRGdW5jdGlvbn0gVGhlIGltYWdlIGxvYWQgZnVuY3Rpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIEltYWdlV01TLnByb3RvdHlwZS5nZXRJbWFnZUxvYWRGdW5jdGlvbiA9IGZ1bmN0aW9uIGdldEltYWdlTG9hZEZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5pbWFnZUxvYWRGdW5jdGlvbl87XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IHNpemUgU2l6ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyBQYXJhbXMuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gUmVxdWVzdCBVUkwuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBJbWFnZVdNUy5wcm90b3R5cGUuZ2V0UmVxdWVzdFVybF8gPSBmdW5jdGlvbiBnZXRSZXF1ZXN0VXJsXyAoZXh0ZW50LCBzaXplLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uLCBwYXJhbXMpIHtcblxuICAgIGFzc2VydCh0aGlzLnVybF8gIT09IHVuZGVmaW5lZCwgOSk7IC8vIGB1cmxgIG11c3QgYmUgY29uZmlndXJlZCBvciBzZXQgdXNpbmcgYCNzZXRVcmwoKWBcblxuICAgIHBhcmFtc1t0aGlzLnYxM18gPyAnQ1JTJyA6ICdTUlMnXSA9IHByb2plY3Rpb24uZ2V0Q29kZSgpO1xuXG4gICAgaWYgKCEoJ1NUWUxFUycgaW4gdGhpcy5wYXJhbXNfKSkge1xuICAgICAgcGFyYW1zWydTVFlMRVMnXSA9ICcnO1xuICAgIH1cblxuICAgIGlmIChwaXhlbFJhdGlvICE9IDEpIHtcbiAgICAgIHN3aXRjaCAodGhpcy5zZXJ2ZXJUeXBlXykge1xuICAgICAgICBjYXNlIFdNU1NlcnZlclR5cGUuR0VPU0VSVkVSOlxuICAgICAgICAgIHZhciBkcGkgPSAoOTAgKiBwaXhlbFJhdGlvICsgMC41KSB8IDA7XG4gICAgICAgICAgaWYgKCdGT1JNQVRfT1BUSU9OUycgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICBwYXJhbXNbJ0ZPUk1BVF9PUFRJT05TJ10gKz0gJztkcGk6JyArIGRwaTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyYW1zWydGT1JNQVRfT1BUSU9OUyddID0gJ2RwaTonICsgZHBpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBXTVNTZXJ2ZXJUeXBlLk1BUFNFUlZFUjpcbiAgICAgICAgICBwYXJhbXNbJ01BUF9SRVNPTFVUSU9OJ10gPSA5MCAqIHBpeGVsUmF0aW87XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgV01TU2VydmVyVHlwZS5DQVJNRU5UQV9TRVJWRVI6XG4gICAgICAgIGNhc2UgV01TU2VydmVyVHlwZS5RR0lTOlxuICAgICAgICAgIHBhcmFtc1snRFBJJ10gPSA5MCAqIHBpeGVsUmF0aW87XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYXNzZXJ0KGZhbHNlLCA4KTsgLy8gVW5rbm93biBgc2VydmVyVHlwZWAgY29uZmlndXJlZFxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHBhcmFtc1snV0lEVEgnXSA9IHNpemVbMF07XG4gICAgcGFyYW1zWydIRUlHSFQnXSA9IHNpemVbMV07XG5cbiAgICB2YXIgYXhpc09yaWVudGF0aW9uID0gcHJvamVjdGlvbi5nZXRBeGlzT3JpZW50YXRpb24oKTtcbiAgICB2YXIgYmJveDtcbiAgICBpZiAodGhpcy52MTNfICYmIGF4aXNPcmllbnRhdGlvbi5zdWJzdHIoMCwgMikgPT0gJ25lJykge1xuICAgICAgYmJveCA9IFtleHRlbnRbMV0sIGV4dGVudFswXSwgZXh0ZW50WzNdLCBleHRlbnRbMl1dO1xuICAgIH0gZWxzZSB7XG4gICAgICBiYm94ID0gZXh0ZW50O1xuICAgIH1cbiAgICBwYXJhbXNbJ0JCT1gnXSA9IGJib3guam9pbignLCcpO1xuXG4gICAgcmV0dXJuIGFwcGVuZFBhcmFtcygvKiogQHR5cGUge3N0cmluZ30gKi8gKHRoaXMudXJsXyksIHBhcmFtcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgVVJMIHVzZWQgZm9yIHRoaXMgV01TIHNvdXJjZS5cbiAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gVVJMLlxuICAgKiBAYXBpXG4gICAqL1xuICBJbWFnZVdNUy5wcm90b3R5cGUuZ2V0VXJsID0gZnVuY3Rpb24gZ2V0VXJsICgpIHtcbiAgICByZXR1cm4gdGhpcy51cmxfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGltYWdlIGxvYWQgZnVuY3Rpb24gb2YgdGhlIHNvdXJjZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9JbWFnZS5qc1wiKS5Mb2FkRnVuY3Rpb259IGltYWdlTG9hZEZ1bmN0aW9uIEltYWdlIGxvYWQgZnVuY3Rpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIEltYWdlV01TLnByb3RvdHlwZS5zZXRJbWFnZUxvYWRGdW5jdGlvbiA9IGZ1bmN0aW9uIHNldEltYWdlTG9hZEZ1bmN0aW9uIChpbWFnZUxvYWRGdW5jdGlvbikge1xuICAgIHRoaXMuaW1hZ2VfID0gbnVsbDtcbiAgICB0aGlzLmltYWdlTG9hZEZ1bmN0aW9uXyA9IGltYWdlTG9hZEZ1bmN0aW9uO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIFVSTCB0byB1c2UgZm9yIHJlcXVlc3RzLlxuICAgKiBAcGFyYW0ge3N0cmluZ3x1bmRlZmluZWR9IHVybCBVUkwuXG4gICAqIEBhcGlcbiAgICovXG4gIEltYWdlV01TLnByb3RvdHlwZS5zZXRVcmwgPSBmdW5jdGlvbiBzZXRVcmwgKHVybCkge1xuICAgIGlmICh1cmwgIT0gdGhpcy51cmxfKSB7XG4gICAgICB0aGlzLnVybF8gPSB1cmw7XG4gICAgICB0aGlzLmltYWdlXyA9IG51bGw7XG4gICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgdXNlci1wcm92aWRlZCBwYXJhbXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgUGFyYW1zLlxuICAgKiBAYXBpXG4gICAqL1xuICBJbWFnZVdNUy5wcm90b3R5cGUudXBkYXRlUGFyYW1zID0gZnVuY3Rpb24gdXBkYXRlUGFyYW1zIChwYXJhbXMpIHtcbiAgICBhc3NpZ24odGhpcy5wYXJhbXNfLCBwYXJhbXMpO1xuICAgIHRoaXMudXBkYXRlVjEzXygpO1xuICAgIHRoaXMuaW1hZ2VfID0gbnVsbDtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIEltYWdlV01TLnByb3RvdHlwZS51cGRhdGVWMTNfID0gZnVuY3Rpb24gdXBkYXRlVjEzXyAoKSB7XG4gICAgdmFyIHZlcnNpb24gPSB0aGlzLnBhcmFtc19bJ1ZFUlNJT04nXSB8fCBERUZBVUxUX1dNU19WRVJTSU9OO1xuICAgIHRoaXMudjEzXyA9IGNvbXBhcmVWZXJzaW9ucyh2ZXJzaW9uLCAnMS4zJykgPj0gMDtcbiAgfTtcblxuICByZXR1cm4gSW1hZ2VXTVM7XG59KEltYWdlU291cmNlKSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VXTVM7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUltYWdlV01TLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvT1NNXG4gKi9cblxuaW1wb3J0IFhZWiBmcm9tICcuL1hZWi5qcyc7XG5cblxuLyoqXG4gKiBUaGUgYXR0cmlidXRpb24gY29udGFpbmluZyBhIGxpbmsgdG8gdGhlIE9wZW5TdHJlZXRNYXAgQ29weXJpZ2h0IGFuZCBMaWNlbnNlXG4gKiBwYWdlLlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIEFUVFJJQlVUSU9OID0gJyYjMTY5OyAnICtcbiAgICAgICc8YSBocmVmPVwiaHR0cHM6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0XCI+T3BlblN0cmVldE1hcDwvYT4gJyArXG4gICAgICAnY29udHJpYnV0b3JzLic7XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLkF0dHJpYnV0aW9uTGlrZX0gW2F0dHJpYnV0aW9uc10gQXR0cmlidXRpb25zLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtjYWNoZVNpemU9MjA0OF0gQ2FjaGUgc2l6ZS5cbiAqIEBwcm9wZXJ0eSB7bnVsbHxzdHJpbmd9IFtjcm9zc09yaWdpbl0gVGhlIGBjcm9zc09yaWdpbmAgYXR0cmlidXRlIGZvciBsb2FkZWQgaW1hZ2VzLiAgTm90ZSB0aGF0XG4gKiB5b3UgbXVzdCBwcm92aWRlIGEgYGNyb3NzT3JpZ2luYCB2YWx1ZSBpZiB5b3UgYXJlIHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlciBvciBpZiB5b3Ugd2FudCB0b1xuICogYWNjZXNzIHBpeGVsIGRhdGEgd2l0aCB0aGUgQ2FudmFzIHJlbmRlcmVyLiAgU2VlXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0NPUlNfZW5hYmxlZF9pbWFnZSBmb3IgbW9yZSBkZXRhaWwuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFpvb209MTldIE1heCB6b29tLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbb3BhcXVlPXRydWVdIFdoZXRoZXIgdGhlIGxheWVyIGlzIG9wYXF1ZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQ9MS41XSBNYXhpbXVtIGFsbG93ZWQgcmVwcm9qZWN0aW9uIGVycm9yIChpbiBwaXhlbHMpLlxuICogSGlnaGVyIHZhbHVlcyBjYW4gaW5jcmVhc2UgcmVwcm9qZWN0aW9uIHBlcmZvcm1hbmNlLCBidXQgZGVjcmVhc2UgcHJlY2lzaW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn0gW3RpbGVMb2FkRnVuY3Rpb25dIE9wdGlvbmFsIGZ1bmN0aW9uIHRvIGxvYWQgYSB0aWxlIGdpdmVuIGEgVVJMLiBUaGUgZGVmYXVsdCBpc1xuICogYGBganNcbiAqIGZ1bmN0aW9uKGltYWdlVGlsZSwgc3JjKSB7XG4gKiAgIGltYWdlVGlsZS5nZXRJbWFnZSgpLnNyYyA9IHNyYztcbiAqIH07XG4gKiBgYGBcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdXJsPSdodHRwczovL3thLWN9LnRpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nJ10gVVJMIHRlbXBsYXRlLlxuICogTXVzdCBpbmNsdWRlIGB7eH1gLCBge3l9YCBvciBgey15fWAsIGFuZCBge3p9YCBwbGFjZWhvbGRlcnMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3cmFwWD10cnVlXSBXaGV0aGVyIHRvIHdyYXAgdGhlIHdvcmxkIGhvcml6b250YWxseS5cbiAqL1xuXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogTGF5ZXIgc291cmNlIGZvciB0aGUgT3BlblN0cmVldE1hcCB0aWxlIHNlcnZlci5cbiAqIEBhcGlcbiAqL1xudmFyIE9TTSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFhZWikge1xuICBmdW5jdGlvbiBPU00ob3B0X29wdGlvbnMpIHtcblxuICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XG5cbiAgICB2YXIgYXR0cmlidXRpb25zO1xuICAgIGlmIChvcHRpb25zLmF0dHJpYnV0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBhdHRyaWJ1dGlvbnMgPSBvcHRpb25zLmF0dHJpYnV0aW9ucztcbiAgICB9IGVsc2Uge1xuICAgICAgYXR0cmlidXRpb25zID0gW0FUVFJJQlVUSU9OXTtcbiAgICB9XG5cbiAgICB2YXIgY3Jvc3NPcmlnaW4gPSBvcHRpb25zLmNyb3NzT3JpZ2luICE9PSB1bmRlZmluZWQgP1xuICAgICAgb3B0aW9ucy5jcm9zc09yaWdpbiA6ICdhbm9ueW1vdXMnO1xuXG4gICAgdmFyIHVybCA9IG9wdGlvbnMudXJsICE9PSB1bmRlZmluZWQgP1xuICAgICAgb3B0aW9ucy51cmwgOiAnaHR0cHM6Ly97YS1jfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZyc7XG5cbiAgICBYWVouY2FsbCh0aGlzLCB7XG4gICAgICBhdHRyaWJ1dGlvbnM6IGF0dHJpYnV0aW9ucyxcbiAgICAgIGNhY2hlU2l6ZTogb3B0aW9ucy5jYWNoZVNpemUsXG4gICAgICBjcm9zc09yaWdpbjogY3Jvc3NPcmlnaW4sXG4gICAgICBvcGFxdWU6IG9wdGlvbnMub3BhcXVlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm9wYXF1ZSA6IHRydWUsXG4gICAgICBtYXhab29tOiBvcHRpb25zLm1heFpvb20gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWF4Wm9vbSA6IDE5LFxuICAgICAgcmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQ6IG9wdGlvbnMucmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQsXG4gICAgICB0aWxlTG9hZEZ1bmN0aW9uOiBvcHRpb25zLnRpbGVMb2FkRnVuY3Rpb24sXG4gICAgICB1cmw6IHVybCxcbiAgICAgIHdyYXBYOiBvcHRpb25zLndyYXBYLFxuICAgICAgYXR0cmlidXRpb25zQ29sbGFwc2libGU6IGZhbHNlXG4gICAgfSk7XG5cbiAgfVxuXG4gIGlmICggWFlaICkgT1NNLl9fcHJvdG9fXyA9IFhZWjtcbiAgT1NNLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFhZWiAmJiBYWVoucHJvdG90eXBlICk7XG4gIE9TTS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBPU007XG5cbiAgcmV0dXJuIE9TTTtcbn0oWFlaKSk7XG5cbmV4cG9ydCBkZWZhdWx0IE9TTTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T1NNLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvUmFzdGVyXG4gKi9cbmltcG9ydCB7Z2V0VWlkfSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCBJbWFnZUNhbnZhcyBmcm9tICcuLi9JbWFnZUNhbnZhcy5qcyc7XG5pbXBvcnQgVGlsZVF1ZXVlIGZyb20gJy4uL1RpbGVRdWV1ZS5qcyc7XG5pbXBvcnQge2NyZWF0ZUNhbnZhc0NvbnRleHQyRH0gZnJvbSAnLi4vZG9tLmpzJztcbmltcG9ydCB7bGlzdGVufSBmcm9tICcuLi9ldmVudHMuanMnO1xuaW1wb3J0IEV2ZW50IGZyb20gJy4uL2V2ZW50cy9FdmVudC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IHtQcm9jZXNzb3J9IGZyb20gJ3BpeGVsd29ya3MvbGliL2luZGV4JztcbmltcG9ydCB7ZXF1YWxzLCBnZXRDZW50ZXIsIGdldEhlaWdodCwgZ2V0V2lkdGh9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgTGF5ZXJUeXBlIGZyb20gJy4uL0xheWVyVHlwZS5qcyc7XG5pbXBvcnQgSW1hZ2VMYXllciBmcm9tICcuLi9sYXllci9JbWFnZS5qcyc7XG5pbXBvcnQgVGlsZUxheWVyIGZyb20gJy4uL2xheWVyL1RpbGUuanMnO1xuaW1wb3J0IHthc3NpZ259IGZyb20gJy4uL29iai5qcyc7XG5pbXBvcnQgQ2FudmFzSW1hZ2VMYXllclJlbmRlcmVyIGZyb20gJy4uL3JlbmRlcmVyL2NhbnZhcy9JbWFnZUxheWVyLmpzJztcbmltcG9ydCBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlciBmcm9tICcuLi9yZW5kZXJlci9jYW52YXMvVGlsZUxheWVyLmpzJztcbmltcG9ydCBJbWFnZVNvdXJjZSBmcm9tICcuL0ltYWdlLmpzJztcbmltcG9ydCBTb3VyY2VTdGF0ZSBmcm9tICcuL1N0YXRlLmpzJztcbmltcG9ydCB7Y3JlYXRlIGFzIGNyZWF0ZVRyYW5zZm9ybX0gZnJvbSAnLi4vdHJhbnNmb3JtLmpzJztcblxuXG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiBhcnJheSBvZiBpbnB1dCBkYXRhLCBwZXJmb3JtcyBzb21lIG9wZXJhdGlvbiwgYW5kXG4gKiByZXR1cm5zIGFuIGFycmF5IG9mIG91dHB1dCBkYXRhLlxuICogRm9yIGBwaXhlbGAgdHlwZSBvcGVyYXRpb25zLCB0aGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2l0aCBhbiBhcnJheSBvZlxuICogcGl4ZWxzLCB3aGVyZSBlYWNoIHBpeGVsIGlzIGFuIGFycmF5IG9mIGZvdXIgbnVtYmVycyAoYFtyLCBnLCBiLCBhXWApIGluIHRoZVxuICogcmFuZ2Ugb2YgMCAtIDI1NS4gSXQgc2hvdWxkIHJldHVybiBhIHNpbmdsZSBwaXhlbCBhcnJheS5cbiAqIEZvciBgJ2ltYWdlJ2AgdHlwZSBvcGVyYXRpb25zLCBmdW5jdGlvbnMgd2lsbCBiZSBjYWxsZWQgd2l0aCBhbiBhcnJheSBvZlxuICoge0BsaW5rIEltYWdlRGF0YSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSW1hZ2VEYXRhfVxuICogYW5kIHNob3VsZCByZXR1cm4gYSBzaW5nbGUge0BsaW5rIEltYWdlRGF0YVxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0ltYWdlRGF0YX0uICBUaGUgb3BlcmF0aW9uc1xuICogYXJlIGNhbGxlZCB3aXRoIGEgc2Vjb25kIFwiZGF0YVwiIGFyZ3VtZW50LCB3aGljaCBjYW4gYmUgdXNlZCBmb3Igc3RvcmFnZS4gIFRoZVxuICogZGF0YSBvYmplY3QgaXMgYWNjZXNzaWJsZSBmcm9tIHJhc3RlciBldmVudHMsIHdoZXJlIGl0IGNhbiBiZSBpbml0aWFsaXplZCBpblxuICogXCJiZWZvcmVvcGVyYXRpb25zXCIgYW5kIGFjY2Vzc2VkIGFnYWluIGluIFwiYWZ0ZXJvcGVyYXRpb25zXCIuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKChBcnJheTxBcnJheTxudW1iZXI+PnxBcnJheTxJbWFnZURhdGE+KSwgT2JqZWN0KTpcbiAqICAgICAoQXJyYXk8bnVtYmVyPnxJbWFnZURhdGEpfSBPcGVyYXRpb25cbiAqL1xuXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xudmFyIFJhc3RlckV2ZW50VHlwZSA9IHtcbiAgLyoqXG4gICAqIFRyaWdnZXJlZCBiZWZvcmUgb3BlcmF0aW9ucyBhcmUgcnVuLlxuICAgKiBAZXZlbnQgb2wvc291cmNlL1Jhc3Rlcn5SYXN0ZXJTb3VyY2VFdmVudCNiZWZvcmVvcGVyYXRpb25zXG4gICAqIEBhcGlcbiAgICovXG4gIEJFRk9SRU9QRVJBVElPTlM6ICdiZWZvcmVvcGVyYXRpb25zJyxcblxuICAvKipcbiAgICogVHJpZ2dlcmVkIGFmdGVyIG9wZXJhdGlvbnMgYXJlIHJ1bi5cbiAgICogQGV2ZW50IG9sL3NvdXJjZS9SYXN0ZXJ+UmFzdGVyU291cmNlRXZlbnQjYWZ0ZXJvcGVyYXRpb25zXG4gICAqIEBhcGlcbiAgICovXG4gIEFGVEVST1BFUkFUSU9OUzogJ2FmdGVyb3BlcmF0aW9ucydcbn07XG5cblxuLyoqXG4gKiBSYXN0ZXIgb3BlcmF0aW9uIHR5cGUuIFN1cHBvcnRlZCB2YWx1ZXMgYXJlIGAncGl4ZWwnYCBhbmQgYCdpbWFnZSdgLlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xudmFyIFJhc3Rlck9wZXJhdGlvblR5cGUgPSB7XG4gIFBJWEVMOiAncGl4ZWwnLFxuICBJTUFHRTogJ2ltYWdlJ1xufTtcblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEV2ZW50cyBlbWl0dGVkIGJ5IHtAbGluayBtb2R1bGU6b2wvc291cmNlL1Jhc3Rlcn0gaW5zdGFuY2VzIGFyZSBpbnN0YW5jZXMgb2YgdGhpc1xuICogdHlwZS5cbiAqL1xudmFyIFJhc3RlclNvdXJjZUV2ZW50ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRXZlbnQpIHtcbiAgZnVuY3Rpb24gUmFzdGVyU291cmNlRXZlbnQodHlwZSwgZnJhbWVTdGF0ZSwgZGF0YSkge1xuICAgIEV2ZW50LmNhbGwodGhpcywgdHlwZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmFzdGVyIGV4dGVudC5cbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgdGhpcy5leHRlbnQgPSBmcmFtZVN0YXRlLmV4dGVudDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwaXhlbCByZXNvbHV0aW9uIChtYXAgdW5pdHMgcGVyIHBpeGVsKS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLnJlc29sdXRpb24gPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5yZXNvbHV0aW9uIC8gZnJhbWVTdGF0ZS5waXhlbFJhdGlvO1xuXG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IG1hZGUgYXZhaWxhYmxlIHRvIGFsbCBvcGVyYXRpb25zLiAgVGhpcyBjYW4gYmUgdXNlZCBieSBvcGVyYXRpb25zXG4gICAgICogYXMgYSBzdG9yYWdlIG9iamVjdCAoZS5nLiBmb3IgY2FsY3VsYXRpbmcgc3RhdGlzdGljcykuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgdGhpcy5kYXRhID0gZGF0YTtcblxuICB9XG5cbiAgaWYgKCBFdmVudCApIFJhc3RlclNvdXJjZUV2ZW50Ll9fcHJvdG9fXyA9IEV2ZW50O1xuICBSYXN0ZXJTb3VyY2VFdmVudC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBFdmVudCAmJiBFdmVudC5wcm90b3R5cGUgKTtcbiAgUmFzdGVyU291cmNlRXZlbnQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUmFzdGVyU291cmNlRXZlbnQ7XG5cbiAgcmV0dXJuIFJhc3RlclNvdXJjZUV2ZW50O1xufShFdmVudCkpO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi9Tb3VyY2UuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0Pn0gc291cmNlcyBJbnB1dFxuICogc291cmNlcyBvciBsYXllcnMuIFZlY3RvciBsYXllcnMgbXVzdCBiZSBjb25maWd1cmVkIHdpdGggYHJlbmRlck1vZGU6ICdpbWFnZSdgLlxuICogQHByb3BlcnR5IHtPcGVyYXRpb259IFtvcGVyYXRpb25dIFJhc3RlciBvcGVyYXRpb24uXG4gKiBUaGUgb3BlcmF0aW9uIHdpbGwgYmUgY2FsbGVkIHdpdGggZGF0YSBmcm9tIGlucHV0IHNvdXJjZXNcbiAqIGFuZCB0aGUgb3V0cHV0IHdpbGwgYmUgYXNzaWduZWQgdG8gdGhlIHJhc3RlciBzb3VyY2UuXG4gKiBAcHJvcGVydHkge09iamVjdH0gW2xpYl0gRnVuY3Rpb25zIHRoYXQgd2lsbCBiZSBtYWRlIGF2YWlsYWJsZSB0byBvcGVyYXRpb25zIHJ1biBpbiBhIHdvcmtlci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGhyZWFkc10gQnkgZGVmYXVsdCwgb3BlcmF0aW9ucyB3aWxsIGJlIHJ1biBpbiBhIHNpbmdsZSB3b3JrZXIgdGhyZWFkLlxuICogVG8gYXZvaWQgdXNpbmcgd29ya2VycyBhbHRvZ2V0aGVyLCBzZXQgYHRocmVhZHM6IDBgLiAgRm9yIHBpeGVsIG9wZXJhdGlvbnMsIG9wZXJhdGlvbnMgY2FuXG4gKiBiZSBydW4gaW4gbXVsdGlwbGUgd29ya2VyIHRocmVhZHMuICBOb3RlIHRoYXQgdGhlcmUgaXMgYWRkaXRpb25hbCBvdmVyaGVhZCBpblxuICogdHJhbnNmZXJyaW5nIGRhdGEgdG8gbXVsdGlwbGUgd29ya2VycywgYW5kIHRoYXQgZGVwZW5kaW5nIG9uIHRoZSB1c2VyJ3NcbiAqIHN5c3RlbSwgaXQgbWF5IG5vdCBiZSBwb3NzaWJsZSB0byBwYXJhbGxlbGl6ZSB0aGUgd29yay5cbiAqIEBwcm9wZXJ0eSB7UmFzdGVyT3BlcmF0aW9uVHlwZX0gW29wZXJhdGlvblR5cGU9J3BpeGVsJ10gT3BlcmF0aW9uIHR5cGUuXG4gKiBTdXBwb3J0ZWQgdmFsdWVzIGFyZSBgJ3BpeGVsJ2AgYW5kIGAnaW1hZ2UnYC4gIEJ5IGRlZmF1bHQsXG4gKiBgJ3BpeGVsJ2Agb3BlcmF0aW9ucyBhcmUgYXNzdW1lZCwgYW5kIG9wZXJhdGlvbnMgd2lsbCBiZSBjYWxsZWQgd2l0aCBhblxuICogYXJyYXkgb2YgcGl4ZWxzIGZyb20gaW5wdXQgc291cmNlcy4gIElmIHNldCB0byBgJ2ltYWdlJ2AsIG9wZXJhdGlvbnMgd2lsbFxuICogYmUgY2FsbGVkIHdpdGggYW4gYXJyYXkgb2YgSW1hZ2VEYXRhIG9iamVjdHMgZnJvbSBpbnB1dCBzb3VyY2VzLlxuICovXG5cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBIHNvdXJjZSB0aGF0IHRyYW5zZm9ybXMgZGF0YSBmcm9tIGFueSBudW1iZXIgb2YgaW5wdXQgc291cmNlcyB1c2luZyBhblxuICoge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvUmFzdGVyfk9wZXJhdGlvbn0gZnVuY3Rpb24gdG8gdHJhbnNmb3JtIGlucHV0IHBpeGVsIHZhbHVlcyBpbnRvXG4gKiBvdXRwdXQgcGl4ZWwgdmFsdWVzLlxuICpcbiAqIEBmaXJlcyBvbC9zb3VyY2UvUmFzdGVyflJhc3RlclNvdXJjZUV2ZW50XG4gKiBAYXBpXG4gKi9cbnZhciBSYXN0ZXJTb3VyY2UgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChJbWFnZVNvdXJjZSkge1xuICBmdW5jdGlvbiBSYXN0ZXJTb3VyY2Uob3B0aW9ucykge1xuICAgIEltYWdlU291cmNlLmNhbGwodGhpcywge1xuICAgICAgcHJvamVjdGlvbjogbnVsbFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Kn1cbiAgICAgKi9cbiAgICB0aGlzLndvcmtlcl8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7UmFzdGVyT3BlcmF0aW9uVHlwZX1cbiAgICAgKi9cbiAgICB0aGlzLm9wZXJhdGlvblR5cGVfID0gb3B0aW9ucy5vcGVyYXRpb25UeXBlICE9PSB1bmRlZmluZWQgP1xuICAgICAgb3B0aW9ucy5vcGVyYXRpb25UeXBlIDogUmFzdGVyT3BlcmF0aW9uVHlwZS5QSVhFTDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRocmVhZHNfID0gb3B0aW9ucy50aHJlYWRzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnRocmVhZHMgOiAxO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi4vcmVuZGVyZXIvY2FudmFzL0xheWVyLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZXJzXyA9IGNyZWF0ZVJlbmRlcmVycyhvcHRpb25zLnNvdXJjZXMpO1xuXG4gICAgZm9yICh2YXIgciA9IDAsIHJyID0gdGhpcy5yZW5kZXJlcnNfLmxlbmd0aDsgciA8IHJyOyArK3IpIHtcbiAgICAgIGxpc3Rlbih0aGlzLnJlbmRlcmVyc19bcl0sIEV2ZW50VHlwZS5DSEFOR0UsXG4gICAgICAgIHRoaXMuY2hhbmdlZCwgdGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vVGlsZVF1ZXVlLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy50aWxlUXVldWVfID0gbmV3IFRpbGVRdWV1ZShcbiAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH0sXG4gICAgICB0aGlzLmNoYW5nZWQuYmluZCh0aGlzKSk7XG5cbiAgICB2YXIgbGF5ZXJTdGF0ZXNBcnJheSA9IGdldExheWVyU3RhdGVzQXJyYXkodGhpcy5yZW5kZXJlcnNfKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5TdGF0ZT59XG4gICAgICovXG4gICAgdmFyIGxheWVyU3RhdGVzID0ge307XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbGF5ZXJTdGF0ZXNBcnJheS5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBsYXllclN0YXRlc1tnZXRVaWQobGF5ZXJTdGF0ZXNBcnJheVtpXS5sYXllcildID0gbGF5ZXJTdGF0ZXNBcnJheVtpXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbW9zdCByZWNlbnRseSByZXF1ZXN0ZWQgZnJhbWUgc3RhdGUuXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5yZXF1ZXN0ZWRGcmFtZVN0YXRlXztcblxuICAgIC8qKlxuICAgICAqIFRoZSBtb3N0IHJlY2VudGx5IHJlbmRlcmVkIGltYWdlIGNhbnZhcy5cbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vSW1hZ2VDYW52YXMuanNcIikuZGVmYXVsdH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZWRJbWFnZUNhbnZhc18gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1vc3QgcmVjZW50bHkgcmVuZGVyZWQgcmV2aXNpb24uXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVkUmV2aXNpb25fO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9XG4gICAgICovXG4gICAgdGhpcy5mcmFtZVN0YXRlXyA9IHtcbiAgICAgIGFuaW1hdGU6IGZhbHNlLFxuICAgICAgY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm06IGNyZWF0ZVRyYW5zZm9ybSgpLFxuICAgICAgZXh0ZW50OiBudWxsLFxuICAgICAgZm9jdXM6IG51bGwsXG4gICAgICBpbmRleDogMCxcbiAgICAgIGxheWVyU3RhdGVzOiBsYXllclN0YXRlcyxcbiAgICAgIGxheWVyU3RhdGVzQXJyYXk6IGxheWVyU3RhdGVzQXJyYXksXG4gICAgICBwaXhlbFJhdGlvOiAxLFxuICAgICAgcGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm06IGNyZWF0ZVRyYW5zZm9ybSgpLFxuICAgICAgcG9zdFJlbmRlckZ1bmN0aW9uczogW10sXG4gICAgICBzaXplOiBbMCwgMF0sXG4gICAgICBza2lwcGVkRmVhdHVyZVVpZHM6IHt9LFxuICAgICAgdGlsZVF1ZXVlOiB0aGlzLnRpbGVRdWV1ZV8sXG4gICAgICB0aW1lOiBEYXRlLm5vdygpLFxuICAgICAgdXNlZFRpbGVzOiB7fSxcbiAgICAgIHZpZXdTdGF0ZTogLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9WaWV3LmpzXCIpLlN0YXRlfSAqLyAoe1xuICAgICAgICByb3RhdGlvbjogMFxuICAgICAgfSksXG4gICAgICB2aWV3SGludHM6IFtdLFxuICAgICAgd2FudGVkVGlsZXM6IHt9XG4gICAgfTtcblxuICAgIGlmIChvcHRpb25zLm9wZXJhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnNldE9wZXJhdGlvbihvcHRpb25zLm9wZXJhdGlvbiwgb3B0aW9ucy5saWIpO1xuICAgIH1cblxuICB9XG5cbiAgaWYgKCBJbWFnZVNvdXJjZSApIFJhc3RlclNvdXJjZS5fX3Byb3RvX18gPSBJbWFnZVNvdXJjZTtcbiAgUmFzdGVyU291cmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEltYWdlU291cmNlICYmIEltYWdlU291cmNlLnByb3RvdHlwZSApO1xuICBSYXN0ZXJTb3VyY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUmFzdGVyU291cmNlO1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIG9wZXJhdGlvbi5cbiAgICogQHBhcmFtIHtPcGVyYXRpb259IG9wZXJhdGlvbiBOZXcgb3BlcmF0aW9uLlxuICAgKiBAcGFyYW0ge09iamVjdD19IG9wdF9saWIgRnVuY3Rpb25zIHRoYXQgd2lsbCBiZSBhdmFpbGFibGUgdG8gb3BlcmF0aW9ucyBydW5cbiAgICogICAgIGluIGEgd29ya2VyLlxuICAgKiBAYXBpXG4gICAqL1xuICBSYXN0ZXJTb3VyY2UucHJvdG90eXBlLnNldE9wZXJhdGlvbiA9IGZ1bmN0aW9uIHNldE9wZXJhdGlvbiAob3BlcmF0aW9uLCBvcHRfbGliKSB7XG4gICAgdGhpcy53b3JrZXJfID0gbmV3IFByb2Nlc3Nvcih7XG4gICAgICBvcGVyYXRpb246IG9wZXJhdGlvbixcbiAgICAgIGltYWdlT3BzOiB0aGlzLm9wZXJhdGlvblR5cGVfID09PSBSYXN0ZXJPcGVyYXRpb25UeXBlLklNQUdFLFxuICAgICAgcXVldWU6IDEsXG4gICAgICBsaWI6IG9wdF9saWIsXG4gICAgICB0aHJlYWRzOiB0aGlzLnRocmVhZHNfXG4gICAgfSk7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgc3RvcmVkIGZyYW1lIHN0YXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBUaGUgdmlldyBleHRlbnQgKGluIG1hcCB1bml0cykuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFRoZSB2aWV3IHJlc29sdXRpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gVGhlIHZpZXcgcHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IFRoZSB1cGRhdGVkIGZyYW1lIHN0YXRlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgUmFzdGVyU291cmNlLnByb3RvdHlwZS51cGRhdGVGcmFtZVN0YXRlXyA9IGZ1bmN0aW9uIHVwZGF0ZUZyYW1lU3RhdGVfIChleHRlbnQsIHJlc29sdXRpb24sIHByb2plY3Rpb24pIHtcblxuICAgIHZhciBmcmFtZVN0YXRlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gKi8gKGFzc2lnbih7fSwgdGhpcy5mcmFtZVN0YXRlXykpO1xuXG4gICAgZnJhbWVTdGF0ZS52aWV3U3RhdGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL1ZpZXcuanNcIikuU3RhdGV9ICovIChhc3NpZ24oe30sIGZyYW1lU3RhdGUudmlld1N0YXRlKSk7XG5cbiAgICB2YXIgY2VudGVyID0gZ2V0Q2VudGVyKGV4dGVudCk7XG5cbiAgICBmcmFtZVN0YXRlLmV4dGVudCA9IGV4dGVudC5zbGljZSgpO1xuICAgIGZyYW1lU3RhdGUuZm9jdXMgPSBjZW50ZXI7XG4gICAgZnJhbWVTdGF0ZS5zaXplWzBdID0gTWF0aC5yb3VuZChnZXRXaWR0aChleHRlbnQpIC8gcmVzb2x1dGlvbik7XG4gICAgZnJhbWVTdGF0ZS5zaXplWzFdID0gTWF0aC5yb3VuZChnZXRIZWlnaHQoZXh0ZW50KSAvIHJlc29sdXRpb24pO1xuICAgIGZyYW1lU3RhdGUudGltZSA9IERhdGUubm93KCk7XG4gICAgZnJhbWVTdGF0ZS5hbmltYXRlID0gZmFsc2U7XG5cbiAgICB2YXIgdmlld1N0YXRlID0gZnJhbWVTdGF0ZS52aWV3U3RhdGU7XG4gICAgdmlld1N0YXRlLmNlbnRlciA9IGNlbnRlcjtcbiAgICB2aWV3U3RhdGUucHJvamVjdGlvbiA9IHByb2plY3Rpb247XG4gICAgdmlld1N0YXRlLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgIHJldHVybiBmcmFtZVN0YXRlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgaWYgYWxsIHNvdXJjZXMgYXJlIHJlYWR5LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBBbGwgc291cmNlcyBhcmUgcmVhZHkuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBSYXN0ZXJTb3VyY2UucHJvdG90eXBlLmFsbFNvdXJjZXNSZWFkeV8gPSBmdW5jdGlvbiBhbGxTb3VyY2VzUmVhZHlfICgpIHtcbiAgICB2YXIgcmVhZHkgPSB0cnVlO1xuICAgIHZhciBzb3VyY2U7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy5yZW5kZXJlcnNfLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIHNvdXJjZSA9IHRoaXMucmVuZGVyZXJzX1tpXS5nZXRMYXllcigpLmdldFNvdXJjZSgpO1xuICAgICAgaWYgKHNvdXJjZS5nZXRTdGF0ZSgpICE9PSBTb3VyY2VTdGF0ZS5SRUFEWSkge1xuICAgICAgICByZWFkeSA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlYWR5O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgUmFzdGVyU291cmNlLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uIGdldEltYWdlIChleHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICBpZiAoIXRoaXMuYWxsU291cmNlc1JlYWR5XygpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgZnJhbWVTdGF0ZSA9IHRoaXMudXBkYXRlRnJhbWVTdGF0ZV8oZXh0ZW50LCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uKTtcbiAgICB0aGlzLnJlcXVlc3RlZEZyYW1lU3RhdGVfID0gZnJhbWVTdGF0ZTtcblxuICAgIC8vIGNoZWNrIGlmIHdlIGNhbid0IHJldXNlIHRoZSBleGlzdGluZyBvbC9JbWFnZUNhbnZhc1xuICAgIGlmICh0aGlzLnJlbmRlcmVkSW1hZ2VDYW52YXNfKSB7XG4gICAgICB2YXIgcmVuZGVyZWRSZXNvbHV0aW9uID0gdGhpcy5yZW5kZXJlZEltYWdlQ2FudmFzXy5nZXRSZXNvbHV0aW9uKCk7XG4gICAgICB2YXIgcmVuZGVyZWRFeHRlbnQgPSB0aGlzLnJlbmRlcmVkSW1hZ2VDYW52YXNfLmdldEV4dGVudCgpO1xuICAgICAgaWYgKHJlc29sdXRpb24gIT09IHJlbmRlcmVkUmVzb2x1dGlvbiB8fCAhZXF1YWxzKGV4dGVudCwgcmVuZGVyZWRFeHRlbnQpKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZWRJbWFnZUNhbnZhc18gPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghdGhpcy5yZW5kZXJlZEltYWdlQ2FudmFzXyB8fCB0aGlzLmdldFJldmlzaW9uKCkgIT09IHRoaXMucmVuZGVyZWRSZXZpc2lvbl8pIHtcbiAgICAgIHRoaXMucHJvY2Vzc1NvdXJjZXNfKCk7XG4gICAgfVxuXG4gICAgZnJhbWVTdGF0ZS50aWxlUXVldWUubG9hZE1vcmVUaWxlcygxNiwgMTYpO1xuXG4gICAgaWYgKGZyYW1lU3RhdGUuYW5pbWF0ZSkge1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuY2hhbmdlZC5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5yZW5kZXJlZEltYWdlQ2FudmFzXztcbiAgfTtcblxuICAvKipcbiAgICogU3RhcnQgcHJvY2Vzc2luZyBzb3VyY2UgZGF0YS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIFJhc3RlclNvdXJjZS5wcm90b3R5cGUucHJvY2Vzc1NvdXJjZXNfID0gZnVuY3Rpb24gcHJvY2Vzc1NvdXJjZXNfICgpIHtcbiAgICB2YXIgZnJhbWVTdGF0ZSA9IHRoaXMucmVxdWVzdGVkRnJhbWVTdGF0ZV87XG4gICAgdmFyIGxlbiA9IHRoaXMucmVuZGVyZXJzXy5sZW5ndGg7XG4gICAgdmFyIGltYWdlRGF0YXMgPSBuZXcgQXJyYXkobGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gZ2V0SW1hZ2VEYXRhKFxuICAgICAgICB0aGlzLnJlbmRlcmVyc19baV0sIGZyYW1lU3RhdGUsIGZyYW1lU3RhdGUubGF5ZXJTdGF0ZXNBcnJheVtpXSk7XG4gICAgICBpZiAoaW1hZ2VEYXRhKSB7XG4gICAgICAgIGltYWdlRGF0YXNbaV0gPSBpbWFnZURhdGE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGRhdGEgPSB7fTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IFJhc3RlclNvdXJjZUV2ZW50KFJhc3RlckV2ZW50VHlwZS5CRUZPUkVPUEVSQVRJT05TLCBmcmFtZVN0YXRlLCBkYXRhKSk7XG4gICAgdGhpcy53b3JrZXJfLnByb2Nlc3MoaW1hZ2VEYXRhcywgZGF0YSwgdGhpcy5vbldvcmtlckNvbXBsZXRlXy5iaW5kKHRoaXMsIGZyYW1lU3RhdGUpKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gcGl4ZWwgcHJvY2Vzc2luZyBpcyBjb21wbGV0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBUaGUgZnJhbWUgc3RhdGUuXG4gICAqIEBwYXJhbSB7RXJyb3J9IGVyciBBbnkgZXJyb3IgZHVyaW5nIHByb2Nlc3NpbmcuXG4gICAqIEBwYXJhbSB7SW1hZ2VEYXRhfSBvdXRwdXQgVGhlIG91dHB1dCBpbWFnZSBkYXRhLlxuICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBUaGUgdXNlciBkYXRhLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgUmFzdGVyU291cmNlLnByb3RvdHlwZS5vbldvcmtlckNvbXBsZXRlXyA9IGZ1bmN0aW9uIG9uV29ya2VyQ29tcGxldGVfIChmcmFtZVN0YXRlLCBlcnIsIG91dHB1dCwgZGF0YSkge1xuICAgIGlmIChlcnIgfHwgIW91dHB1dCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGRvIG5vdGhpbmcgaWYgZXh0ZW50IG9yIHJlc29sdXRpb24gY2hhbmdlZFxuICAgIHZhciBleHRlbnQgPSBmcmFtZVN0YXRlLmV4dGVudDtcbiAgICB2YXIgcmVzb2x1dGlvbiA9IGZyYW1lU3RhdGUudmlld1N0YXRlLnJlc29sdXRpb247XG4gICAgaWYgKHJlc29sdXRpb24gIT09IHRoaXMucmVxdWVzdGVkRnJhbWVTdGF0ZV8udmlld1N0YXRlLnJlc29sdXRpb24gfHxcbiAgICAgICAgIWVxdWFscyhleHRlbnQsIHRoaXMucmVxdWVzdGVkRnJhbWVTdGF0ZV8uZXh0ZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjb250ZXh0O1xuICAgIGlmICh0aGlzLnJlbmRlcmVkSW1hZ2VDYW52YXNfKSB7XG4gICAgICBjb250ZXh0ID0gdGhpcy5yZW5kZXJlZEltYWdlQ2FudmFzXy5nZXRJbWFnZSgpLmdldENvbnRleHQoJzJkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB3aWR0aCA9IE1hdGgucm91bmQoZ2V0V2lkdGgoZXh0ZW50KSAvIHJlc29sdXRpb24pO1xuICAgICAgdmFyIGhlaWdodCA9IE1hdGgucm91bmQoZ2V0SGVpZ2h0KGV4dGVudCkgLyByZXNvbHV0aW9uKTtcbiAgICAgIGNvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQod2lkdGgsIGhlaWdodCk7XG4gICAgICB0aGlzLnJlbmRlcmVkSW1hZ2VDYW52YXNfID0gbmV3IEltYWdlQ2FudmFzKGV4dGVudCwgcmVzb2x1dGlvbiwgMSwgY29udGV4dC5jYW52YXMpO1xuICAgIH1cbiAgICBjb250ZXh0LnB1dEltYWdlRGF0YShvdXRwdXQsIDAsIDApO1xuXG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgdGhpcy5yZW5kZXJlZFJldmlzaW9uXyA9IHRoaXMuZ2V0UmV2aXNpb24oKTtcblxuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgUmFzdGVyU291cmNlRXZlbnQoUmFzdGVyRXZlbnRUeXBlLkFGVEVST1BFUkFUSU9OUywgZnJhbWVTdGF0ZSwgZGF0YSkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIFJhc3RlclNvdXJjZS5wcm90b3R5cGUuZ2V0SW1hZ2VJbnRlcm5hbCA9IGZ1bmN0aW9uIGdldEltYWdlSW50ZXJuYWwgKCkge1xuICAgIHJldHVybiBudWxsOyAvLyBub3QgaW1wbGVtZW50ZWRcbiAgfTtcblxuICByZXR1cm4gUmFzdGVyU291cmNlO1xufShJbWFnZVNvdXJjZSkpO1xuXG5cbi8qKlxuICogQSByZXVzYWJsZSBjYW52YXMgY29udGV4dC5cbiAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gKiBAcHJpdmF0ZVxuICovXG52YXIgc2hhcmVkQ29udGV4dCA9IG51bGw7XG5cblxuLyoqXG4gKiBHZXQgaW1hZ2UgZGF0YSBmcm9tIGEgcmVuZGVyZXIuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlcmVyL2NhbnZhcy9MYXllci5qc1wiKS5kZWZhdWx0fSByZW5kZXJlciBMYXllciByZW5kZXJlci5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgVGhlIGZyYW1lIHN0YXRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5TdGF0ZX0gbGF5ZXJTdGF0ZSBUaGUgbGF5ZXIgc3RhdGUuXG4gKiBAcmV0dXJuIHtJbWFnZURhdGF9IFRoZSBpbWFnZSBkYXRhLlxuICovXG5mdW5jdGlvbiBnZXRJbWFnZURhdGEocmVuZGVyZXIsIGZyYW1lU3RhdGUsIGxheWVyU3RhdGUpIHtcbiAgaWYgKCFyZW5kZXJlci5wcmVwYXJlRnJhbWUoZnJhbWVTdGF0ZSwgbGF5ZXJTdGF0ZSkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgd2lkdGggPSBmcmFtZVN0YXRlLnNpemVbMF07XG4gIHZhciBoZWlnaHQgPSBmcmFtZVN0YXRlLnNpemVbMV07XG4gIGlmICghc2hhcmVkQ29udGV4dCkge1xuICAgIHNoYXJlZENvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQod2lkdGgsIGhlaWdodCk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNhbnZhcyA9IHNoYXJlZENvbnRleHQuY2FudmFzO1xuICAgIGlmIChjYW52YXMud2lkdGggIT09IHdpZHRoIHx8IGNhbnZhcy5oZWlnaHQgIT09IGhlaWdodCkge1xuICAgICAgc2hhcmVkQ29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCh3aWR0aCwgaGVpZ2h0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2hhcmVkQ29udGV4dC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgfVxuICB9XG4gIHJlbmRlcmVyLmNvbXBvc2VGcmFtZShmcmFtZVN0YXRlLCBsYXllclN0YXRlLCBzaGFyZWRDb250ZXh0KTtcbiAgcmV0dXJuIHNoYXJlZENvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xufVxuXG5cbi8qKlxuICogR2V0IGEgbGlzdCBvZiBsYXllciBzdGF0ZXMgZnJvbSBhIGxpc3Qgb2YgcmVuZGVyZXJzLlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi9yZW5kZXJlci9jYW52YXMvTGF5ZXIuanNcIikuZGVmYXVsdD59IHJlbmRlcmVycyBMYXllciByZW5kZXJlcnMuXG4gKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5TdGF0ZT59IFRoZSBsYXllciBzdGF0ZXMuXG4gKi9cbmZ1bmN0aW9uIGdldExheWVyU3RhdGVzQXJyYXkocmVuZGVyZXJzKSB7XG4gIHJldHVybiByZW5kZXJlcnMubWFwKGZ1bmN0aW9uKHJlbmRlcmVyKSB7XG4gICAgcmV0dXJuIHJlbmRlcmVyLmdldExheWVyKCkuZ2V0TGF5ZXJTdGF0ZSgpO1xuICB9KTtcbn1cblxuXG4vKipcbiAqIENyZWF0ZSByZW5kZXJlcnMgZm9yIGFsbCBzb3VyY2VzLlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQ+fSBzb3VyY2VzIFRoZSBzb3VyY2VzLlxuICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi4vcmVuZGVyZXIvY2FudmFzL0xheWVyLmpzXCIpLmRlZmF1bHQ+fSBBcnJheSBvZiBsYXllciByZW5kZXJlcnMuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVJlbmRlcmVycyhzb3VyY2VzKSB7XG4gIHZhciBsZW4gPSBzb3VyY2VzLmxlbmd0aDtcbiAgdmFyIHJlbmRlcmVycyA9IG5ldyBBcnJheShsZW4pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgcmVuZGVyZXJzW2ldID0gY3JlYXRlUmVuZGVyZXIoc291cmNlc1tpXSk7XG4gIH1cbiAgcmV0dXJuIHJlbmRlcmVycztcbn1cblxuXG4vKipcbiAqIENyZWF0ZSBhIHJlbmRlcmVyIGZvciB0aGUgcHJvdmlkZWQgc291cmNlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IGxheWVyT3JTb3VyY2UgVGhlIGxheWVyIG9yIHNvdXJjZS5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3JlbmRlcmVyL2NhbnZhcy9MYXllci5qc1wiKS5kZWZhdWx0fSBUaGUgcmVuZGVyZXIuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVJlbmRlcmVyKGxheWVyT3JTb3VyY2UpIHtcbiAgdmFyIHRpbGVTb3VyY2UgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAobGF5ZXJPclNvdXJjZSk7XG4gIHZhciBpbWFnZVNvdXJjZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9JbWFnZS5qc1wiKS5kZWZhdWx0fSAqLyAobGF5ZXJPclNvdXJjZSk7XG4gIHZhciBsYXllciA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdH0gKi8gKGxheWVyT3JTb3VyY2UpO1xuICB2YXIgcmVuZGVyZXIgPSBudWxsO1xuICBpZiAodHlwZW9mIHRpbGVTb3VyY2UuZ2V0VGlsZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJlbmRlcmVyID0gY3JlYXRlVGlsZVJlbmRlcmVyKHRpbGVTb3VyY2UpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBpbWFnZVNvdXJjZS5nZXRJbWFnZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJlbmRlcmVyID0gY3JlYXRlSW1hZ2VSZW5kZXJlcihpbWFnZVNvdXJjZSk7XG4gIH0gZWxzZSBpZiAobGF5ZXIuZ2V0VHlwZSgpID09PSBMYXllclR5cGUuVElMRSkge1xuICAgIHJlbmRlcmVyID0gbmV3IENhbnZhc1RpbGVMYXllclJlbmRlcmVyKC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vbGF5ZXIvVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAobGF5ZXIpKTtcbiAgfSBlbHNlIGlmIChsYXllci5nZXRUeXBlKCkgPT0gTGF5ZXJUeXBlLklNQUdFIHx8IGxheWVyLmdldFR5cGUoKSA9PSBMYXllclR5cGUuVkVDVE9SKSB7XG4gICAgcmVuZGVyZXIgPSBuZXcgQ2FudmFzSW1hZ2VMYXllclJlbmRlcmVyKC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vbGF5ZXIvSW1hZ2UuanNcIikuZGVmYXVsdH0gKi8gKGxheWVyKSk7XG4gIH1cbiAgcmV0dXJuIHJlbmRlcmVyO1xufVxuXG5cbi8qKlxuICogQ3JlYXRlIGFuIGltYWdlIHJlbmRlcmVyIGZvciB0aGUgcHJvdmlkZWQgc291cmNlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL0ltYWdlLmpzXCIpLmRlZmF1bHR9IHNvdXJjZSBUaGUgc291cmNlLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vcmVuZGVyZXIvY2FudmFzL0xheWVyLmpzXCIpLmRlZmF1bHR9IFRoZSByZW5kZXJlci5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW1hZ2VSZW5kZXJlcihzb3VyY2UpIHtcbiAgdmFyIGxheWVyID0gbmV3IEltYWdlTGF5ZXIoe3NvdXJjZTogc291cmNlfSk7XG4gIHJldHVybiBuZXcgQ2FudmFzSW1hZ2VMYXllclJlbmRlcmVyKGxheWVyKTtcbn1cblxuXG4vKipcbiAqIENyZWF0ZSBhIHRpbGUgcmVuZGVyZXIgZm9yIHRoZSBwcm92aWRlZCBzb3VyY2UuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5kZWZhdWx0fSBzb3VyY2UgVGhlIHNvdXJjZS5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3JlbmRlcmVyL2NhbnZhcy9MYXllci5qc1wiKS5kZWZhdWx0fSBUaGUgcmVuZGVyZXIuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVRpbGVSZW5kZXJlcihzb3VyY2UpIHtcbiAgdmFyIGxheWVyID0gbmV3IFRpbGVMYXllcih7c291cmNlOiBzb3VyY2V9KTtcbiAgcmV0dXJuIG5ldyBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlcihsYXllcik7XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgUmFzdGVyU291cmNlO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1SYXN0ZXIuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9TdGFtZW5cbiAqL1xuXG5pbXBvcnQge0FUVFJJQlVUSU9OIGFzIE9TTV9BVFRSSUJVVElPTn0gZnJvbSAnLi9PU00uanMnO1xuaW1wb3J0IFhZWiBmcm9tICcuL1hZWi5qcyc7XG5cblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICovXG52YXIgQVRUUklCVVRJT05TID0gW1xuICAnTWFwIHRpbGVzIGJ5IDxhIGhyZWY9XCJodHRwczovL3N0YW1lbi5jb20vXCI+U3RhbWVuIERlc2lnbjwvYT4sICcgK1xuICAgICAgICAndW5kZXIgPGEgaHJlZj1cImh0dHBzOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS8zLjAvXCI+Q0MgQlknICtcbiAgICAgICAgJyAzLjA8L2E+LicsXG4gIE9TTV9BVFRSSUJVVElPTlxuXTtcblxuXG4vKipcbiAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCB7ZXh0ZW5zaW9uOiBzdHJpbmcsIG9wYXF1ZTogYm9vbGVhbn0+fVxuICovXG52YXIgTGF5ZXJDb25maWcgPSB7XG4gICd0ZXJyYWluJzoge1xuICAgIGV4dGVuc2lvbjogJ2pwZycsXG4gICAgb3BhcXVlOiB0cnVlXG4gIH0sXG4gICd0ZXJyYWluLWJhY2tncm91bmQnOiB7XG4gICAgZXh0ZW5zaW9uOiAnanBnJyxcbiAgICBvcGFxdWU6IHRydWVcbiAgfSxcbiAgJ3RlcnJhaW4tbGFiZWxzJzoge1xuICAgIGV4dGVuc2lvbjogJ3BuZycsXG4gICAgb3BhcXVlOiBmYWxzZVxuICB9LFxuICAndGVycmFpbi1saW5lcyc6IHtcbiAgICBleHRlbnNpb246ICdwbmcnLFxuICAgIG9wYXF1ZTogZmFsc2VcbiAgfSxcbiAgJ3RvbmVyLWJhY2tncm91bmQnOiB7XG4gICAgZXh0ZW5zaW9uOiAncG5nJyxcbiAgICBvcGFxdWU6IHRydWVcbiAgfSxcbiAgJ3RvbmVyJzoge1xuICAgIGV4dGVuc2lvbjogJ3BuZycsXG4gICAgb3BhcXVlOiB0cnVlXG4gIH0sXG4gICd0b25lci1oeWJyaWQnOiB7XG4gICAgZXh0ZW5zaW9uOiAncG5nJyxcbiAgICBvcGFxdWU6IGZhbHNlXG4gIH0sXG4gICd0b25lci1sYWJlbHMnOiB7XG4gICAgZXh0ZW5zaW9uOiAncG5nJyxcbiAgICBvcGFxdWU6IGZhbHNlXG4gIH0sXG4gICd0b25lci1saW5lcyc6IHtcbiAgICBleHRlbnNpb246ICdwbmcnLFxuICAgIG9wYXF1ZTogZmFsc2VcbiAgfSxcbiAgJ3RvbmVyLWxpdGUnOiB7XG4gICAgZXh0ZW5zaW9uOiAncG5nJyxcbiAgICBvcGFxdWU6IHRydWVcbiAgfSxcbiAgJ3dhdGVyY29sb3InOiB7XG4gICAgZXh0ZW5zaW9uOiAnanBnJyxcbiAgICBvcGFxdWU6IHRydWVcbiAgfVxufTtcblxuXG4vKipcbiAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCB7bWluWm9vbTogbnVtYmVyLCBtYXhab29tOiBudW1iZXJ9Pn1cbiAqL1xudmFyIFByb3ZpZGVyQ29uZmlnID0ge1xuICAndGVycmFpbic6IHtcbiAgICBtaW5ab29tOiA0LFxuICAgIG1heFpvb206IDE4XG4gIH0sXG4gICd0b25lcic6IHtcbiAgICBtaW5ab29tOiAwLFxuICAgIG1heFpvb206IDIwXG4gIH0sXG4gICd3YXRlcmNvbG9yJzoge1xuICAgIG1pblpvb206IDEsXG4gICAgbWF4Wm9vbTogMTZcbiAgfVxufTtcblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY2FjaGVTaXplPTIwNDhdIENhY2hlIHNpemUuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbGF5ZXIgTGF5ZXIgbmFtZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWm9vbV0gTWluaW11bSB6b29tLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhab29tXSBNYXhpbXVtIHpvb20uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkPTAuNV0gTWF4aW11bSBhbGxvd2VkIHJlcHJvamVjdGlvbiBlcnJvciAoaW4gcGl4ZWxzKS5cbiAqIEhpZ2hlciB2YWx1ZXMgY2FuIGluY3JlYXNlIHJlcHJvamVjdGlvbiBwZXJmb3JtYW5jZSwgYnV0IGRlY3JlYXNlIHByZWNpc2lvbi5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5Mb2FkRnVuY3Rpb259IFt0aWxlTG9hZEZ1bmN0aW9uXVxuICogT3B0aW9uYWwgZnVuY3Rpb24gdG8gbG9hZCBhIHRpbGUgZ2l2ZW4gYSBVUkwuIFRoZSBkZWZhdWx0IGlzXG4gKiBgYGBqc1xuICogZnVuY3Rpb24oaW1hZ2VUaWxlLCBzcmMpIHtcbiAqICAgaW1hZ2VUaWxlLmdldEltYWdlKCkuc3JjID0gc3JjO1xuICogfTtcbiAqIGBgYFxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt1cmxdIFVSTCB0ZW1wbGF0ZS4gTXVzdCBpbmNsdWRlIGB7eH1gLCBge3l9YCBvciBgey15fWAsIGFuZCBge3p9YCBwbGFjZWhvbGRlcnMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3cmFwWD10cnVlXSBXaGV0aGVyIHRvIHdyYXAgdGhlIHdvcmxkIGhvcml6b250YWxseS5cbiAqL1xuXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogTGF5ZXIgc291cmNlIGZvciB0aGUgU3RhbWVuIHRpbGUgc2VydmVyLlxuICogQGFwaVxuICovXG52YXIgU3RhbWVuID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoWFlaKSB7XG4gIGZ1bmN0aW9uIFN0YW1lbihvcHRpb25zKSB7XG4gICAgdmFyIGkgPSBvcHRpb25zLmxheWVyLmluZGV4T2YoJy0nKTtcbiAgICB2YXIgcHJvdmlkZXIgPSBpID09IC0xID8gb3B0aW9ucy5sYXllciA6IG9wdGlvbnMubGF5ZXIuc2xpY2UoMCwgaSk7XG4gICAgdmFyIHByb3ZpZGVyQ29uZmlnID0gUHJvdmlkZXJDb25maWdbcHJvdmlkZXJdO1xuXG4gICAgdmFyIGxheWVyQ29uZmlnID0gTGF5ZXJDb25maWdbb3B0aW9ucy5sYXllcl07XG5cbiAgICB2YXIgdXJsID0gb3B0aW9ucy51cmwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudXJsIDpcbiAgICAgICdodHRwczovL3N0YW1lbi10aWxlcy17YS1kfS5hLnNzbC5mYXN0bHkubmV0LycgKyBvcHRpb25zLmxheWVyICtcbiAgICAgICAgJy97en0ve3h9L3t5fS4nICsgbGF5ZXJDb25maWcuZXh0ZW5zaW9uO1xuXG4gICAgWFlaLmNhbGwodGhpcywge1xuICAgICAgYXR0cmlidXRpb25zOiBBVFRSSUJVVElPTlMsXG4gICAgICBjYWNoZVNpemU6IG9wdGlvbnMuY2FjaGVTaXplLFxuICAgICAgY3Jvc3NPcmlnaW46ICdhbm9ueW1vdXMnLFxuICAgICAgbWF4Wm9vbTogb3B0aW9ucy5tYXhab29tICE9IHVuZGVmaW5lZCA/IG9wdGlvbnMubWF4Wm9vbSA6IHByb3ZpZGVyQ29uZmlnLm1heFpvb20sXG4gICAgICBtaW5ab29tOiBvcHRpb25zLm1pblpvb20gIT0gdW5kZWZpbmVkID8gb3B0aW9ucy5taW5ab29tIDogcHJvdmlkZXJDb25maWcubWluWm9vbSxcbiAgICAgIG9wYXF1ZTogbGF5ZXJDb25maWcub3BhcXVlLFxuICAgICAgcmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQ6IG9wdGlvbnMucmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQsXG4gICAgICB0aWxlTG9hZEZ1bmN0aW9uOiBvcHRpb25zLnRpbGVMb2FkRnVuY3Rpb24sXG4gICAgICB1cmw6IHVybCxcbiAgICAgIHdyYXBYOiBvcHRpb25zLndyYXBYXG4gICAgfSk7XG5cbiAgfVxuXG4gIGlmICggWFlaICkgU3RhbWVuLl9fcHJvdG9fXyA9IFhZWjtcbiAgU3RhbWVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFhZWiAmJiBYWVoucHJvdG90eXBlICk7XG4gIFN0YW1lbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTdGFtZW47XG5cbiAgcmV0dXJuIFN0YW1lbjtcbn0oWFlaKSk7XG5cbmV4cG9ydCBkZWZhdWx0IFN0YW1lbjtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RhbWVuLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvVGlsZUFyY0dJU1Jlc3RcbiAqL1xuXG5pbXBvcnQge2NyZWF0ZUVtcHR5fSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHttb2R1bG99IGZyb20gJy4uL21hdGguanMnO1xuaW1wb3J0IHthc3NpZ259IGZyb20gJy4uL29iai5qcyc7XG5pbXBvcnQge3RvU2l6ZSwgc2NhbGUgYXMgc2NhbGVTaXplfSBmcm9tICcuLi9zaXplLmpzJztcbmltcG9ydCBUaWxlSW1hZ2UgZnJvbSAnLi9UaWxlSW1hZ2UuanMnO1xuaW1wb3J0IHtoYXNoIGFzIHRpbGVDb29yZEhhc2h9IGZyb20gJy4uL3RpbGVjb29yZC5qcyc7XG5pbXBvcnQge2FwcGVuZFBhcmFtc30gZnJvbSAnLi4vdXJpLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLkF0dHJpYnV0aW9uTGlrZX0gW2F0dHJpYnV0aW9uc10gQXR0cmlidXRpb25zLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtjYWNoZVNpemU9MjA0OF0gQ2FjaGUgc2l6ZS5cbiAqIEBwcm9wZXJ0eSB7bnVsbHxzdHJpbmd9IFtjcm9zc09yaWdpbl0gVGhlIGBjcm9zc09yaWdpbmAgYXR0cmlidXRlIGZvciBsb2FkZWQgaW1hZ2VzLlxuICogTm90ZSB0aGF0IHlvdSBtdXN0IHByb3ZpZGUgYSBgY3Jvc3NPcmlnaW5gIHZhbHVlIGlmIHlvdSBhcmUgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gKiBvciBpZiB5b3Ugd2FudCB0byBhY2Nlc3MgcGl4ZWwgZGF0YSB3aXRoIHRoZSBDYW52YXMgcmVuZGVyZXIuICBTZWVcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvQ09SU19lbmFibGVkX2ltYWdlXG4gKiBmb3IgbW9yZSBkZXRhaWwuXG4gKiBAcHJvcGVydHkge09iamVjdDxzdHJpbmcsKj59IFtwYXJhbXNdIEFyY0dJUyBSZXN0IHBhcmFtZXRlcnMuIFRoaXMgZmllbGQgaXMgb3B0aW9uYWwuIFNlcnZpY2UgZGVmYXVsdHMgd2lsbCBiZVxuICogdXNlZCBmb3IgYW55IGZpZWxkcyBub3Qgc3BlY2lmaWVkLiBgRk9STUFUYCBpcyBgUE5HMzJgIGJ5IGRlZmF1bHQuIGBGYCBpcyBgSU1BR0VgIGJ5XG4gKiBkZWZhdWx0LiBgVFJBTlNQQVJFTlRgIGlzIGB0cnVlYCBieSBkZWZhdWx0LiAgYEJCT1hgLCBgU0laRWAsIGBCQk9YU1JgLFxuICogYW5kIGBJTUFHRVNSYCB3aWxsIGJlIHNldCBkeW5hbWljYWxseS4gU2V0IGBMQVlFUlNgIHRvXG4gKiBvdmVycmlkZSB0aGUgZGVmYXVsdCBzZXJ2aWNlIGxheWVyIHZpc2liaWxpdHkuIFNlZVxuICogaHR0cDovL3Jlc291cmNlcy5hcmNnaXMuY29tL2VuL2hlbHAvYXJjZ2lzLXJlc3QtYXBpL2luZGV4Lmh0bWwjL0V4cG9ydF9NYXAvMDJyMzAwMDAwMHY3MDAwMDAwL1xuICogZm9yIGZ1cnRoZXIgcmVmZXJlbmNlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSBbdGlsZUdyaWRdIFRpbGUgZ3JpZC4gQmFzZSB0aGlzIG9uIHRoZSByZXNvbHV0aW9ucyxcbiAqIHRpbGVzaXplIGFuZCBleHRlbnQgc3VwcG9ydGVkIGJ5IHRoZSBzZXJ2ZXIuXG4gKiBJZiB0aGlzIGlzIG5vdCBkZWZpbmVkLCBhIGRlZmF1bHQgZ3JpZCB3aWxsIGJlIHVzZWQ6IGlmIHRoZXJlIGlzIGEgcHJvamVjdGlvblxuICogZXh0ZW50LCB0aGUgZ3JpZCB3aWxsIGJlIGJhc2VkIG9uIHRoYXQ7IGlmIG5vdCwgYSBncmlkIGJhc2VkIG9uIGEgZ2xvYmFsXG4gKiBleHRlbnQgd2l0aCBvcmlnaW4gYXQgMCwwIHdpbGwgYmUgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyZXByb2plY3Rpb25FcnJvclRocmVzaG9sZD0wLjVdIE1heGltdW0gYWxsb3dlZCByZXByb2plY3Rpb24gZXJyb3IgKGluIHBpeGVscykuXG4gKiBIaWdoZXIgdmFsdWVzIGNhbiBpbmNyZWFzZSByZXByb2plY3Rpb24gcGVyZm9ybWFuY2UsIGJ1dCBkZWNyZWFzZSBwcmVjaXNpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufSBbdGlsZUxvYWRGdW5jdGlvbl0gT3B0aW9uYWwgZnVuY3Rpb24gdG8gbG9hZCBhIHRpbGUgZ2l2ZW4gYSBVUkwuXG4gKiBUaGUgZGVmYXVsdCBpc1xuICogYGBganNcbiAqIGZ1bmN0aW9uKGltYWdlVGlsZSwgc3JjKSB7XG4gKiAgIGltYWdlVGlsZS5nZXRJbWFnZSgpLnNyYyA9IHNyYztcbiAqIH07XG4gKiBgYGBcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdXJsXSBBcmNHSVMgUmVzdCBzZXJ2aWNlIFVSTCBmb3IgYSBNYXAgU2VydmljZSBvciBJbWFnZSBTZXJ2aWNlLiBUaGVcbiAqIHVybCBzaG91bGQgaW5jbHVkZSAvTWFwU2VydmVyIG9yIC9JbWFnZVNlcnZlci5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3dyYXBYPXRydWVdIFdoZXRoZXIgdG8gd3JhcCB0aGUgd29ybGQgaG9yaXpvbnRhbGx5LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0cmFuc2l0aW9uXSBEdXJhdGlvbiBvZiB0aGUgb3BhY2l0eSB0cmFuc2l0aW9uIGZvciByZW5kZXJpbmcuICBUbyBkaXNhYmxlIHRoZSBvcGFjaXR5XG4gKiB0cmFuc2l0aW9uLCBwYXNzIGB0cmFuc2l0aW9uOiAwYC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gdXJscyBBcmNHSVMgUmVzdCBzZXJ2aWNlIHVybHMuIFVzZSB0aGlzIGluc3RlYWQgb2YgYHVybGAgd2hlbiB0aGUgQXJjR0lTXG4gKiBTZXJ2aWNlIHN1cHBvcnRzIG11bHRpcGxlIHVybHMgZm9yIGV4cG9ydCByZXF1ZXN0cy5cbiAqL1xuXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogTGF5ZXIgc291cmNlIGZvciB0aWxlIGRhdGEgZnJvbSBBcmNHSVMgUmVzdCBzZXJ2aWNlcy4gTWFwIGFuZCBJbWFnZVxuICogU2VydmljZXMgYXJlIHN1cHBvcnRlZC5cbiAqXG4gKiBGb3IgY2FjaGVkIEFyY0dJUyBzZXJ2aWNlcywgYmV0dGVyIHBlcmZvcm1hbmNlIGlzIGF2YWlsYWJsZSB1c2luZyB0aGVcbiAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1hZWn5YWVp9IGRhdGEgc291cmNlLlxuICogQGFwaVxuICovXG52YXIgVGlsZUFyY0dJU1Jlc3QgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChUaWxlSW1hZ2UpIHtcbiAgZnVuY3Rpb24gVGlsZUFyY0dJU1Jlc3Qob3B0X29wdGlvbnMpIHtcblxuICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwgLyoqIEB0eXBlIHtPcHRpb25zfSAqLyAoe30pO1xuXG4gICAgVGlsZUltYWdlLmNhbGwodGhpcywge1xuICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9ucyxcbiAgICAgIGNhY2hlU2l6ZTogb3B0aW9ucy5jYWNoZVNpemUsXG4gICAgICBjcm9zc09yaWdpbjogb3B0aW9ucy5jcm9zc09yaWdpbixcbiAgICAgIHByb2plY3Rpb246IG9wdGlvbnMucHJvamVjdGlvbixcbiAgICAgIHJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkOiBvcHRpb25zLnJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkLFxuICAgICAgdGlsZUdyaWQ6IG9wdGlvbnMudGlsZUdyaWQsXG4gICAgICB0aWxlTG9hZEZ1bmN0aW9uOiBvcHRpb25zLnRpbGVMb2FkRnVuY3Rpb24sXG4gICAgICB0aWxlVXJsRnVuY3Rpb246IHRpbGVVcmxGdW5jdGlvbixcbiAgICAgIHVybDogb3B0aW9ucy51cmwsXG4gICAgICB1cmxzOiBvcHRpb25zLnVybHMsXG4gICAgICB3cmFwWDogb3B0aW9ucy53cmFwWCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy53cmFwWCA6IHRydWUsXG4gICAgICB0cmFuc2l0aW9uOiBvcHRpb25zLnRyYW5zaXRpb25cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5wYXJhbXNfID0gb3B0aW9ucy5wYXJhbXMgfHwge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqL1xuICAgIHRoaXMudG1wRXh0ZW50XyA9IGNyZWF0ZUVtcHR5KCk7XG5cbiAgICB0aGlzLnNldEtleSh0aGlzLmdldEtleUZvclBhcmFtc18oKSk7XG4gIH1cblxuICBpZiAoIFRpbGVJbWFnZSApIFRpbGVBcmNHSVNSZXN0Ll9fcHJvdG9fXyA9IFRpbGVJbWFnZTtcbiAgVGlsZUFyY0dJU1Jlc3QucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggVGlsZUltYWdlICYmIFRpbGVJbWFnZS5wcm90b3R5cGUgKTtcbiAgVGlsZUFyY0dJU1Jlc3QucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVGlsZUFyY0dJU1Jlc3Q7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGtleSBmb3IgdGhlIGN1cnJlbnQgcGFyYW1zLlxuICAgKi9cbiAgVGlsZUFyY0dJU1Jlc3QucHJvdG90eXBlLmdldEtleUZvclBhcmFtc18gPSBmdW5jdGlvbiBnZXRLZXlGb3JQYXJhbXNfICgpIHtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIHJlcyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnBhcmFtc18pIHtcbiAgICAgIHJlc1tpKytdID0ga2V5ICsgJy0nICsgdGhpcy5wYXJhbXNfW2tleV07XG4gICAgfVxuICAgIHJldHVybiByZXMuam9pbignLycpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHVzZXItcHJvdmlkZWQgcGFyYW1zLCBpLmUuIHRob3NlIHBhc3NlZCB0byB0aGUgY29uc3RydWN0b3IgdGhyb3VnaFxuICAgKiB0aGUgXCJwYXJhbXNcIiBvcHRpb24sIGFuZCBwb3NzaWJseSB1cGRhdGVkIHVzaW5nIHRoZSB1cGRhdGVQYXJhbXMgbWV0aG9kLlxuICAgKiBAcmV0dXJuIHtPYmplY3R9IFBhcmFtcy5cbiAgICogQGFwaVxuICAgKi9cbiAgVGlsZUFyY0dJU1Jlc3QucHJvdG90eXBlLmdldFBhcmFtcyA9IGZ1bmN0aW9uIGdldFBhcmFtcyAoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyYW1zXztcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gdGlsZVNpemUgVGlsZSBzaXplLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IHRpbGVFeHRlbnQgVGlsZSBleHRlbnQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgUGFyYW1zLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfSBSZXF1ZXN0IFVSTC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIFRpbGVBcmNHSVNSZXN0LnByb3RvdHlwZS5nZXRSZXF1ZXN0VXJsXyA9IGZ1bmN0aW9uIGdldFJlcXVlc3RVcmxfICh0aWxlQ29vcmQsIHRpbGVTaXplLCB0aWxlRXh0ZW50LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uLCBwYXJhbXMpIHtcblxuICAgIHZhciB1cmxzID0gdGhpcy51cmxzO1xuICAgIGlmICghdXJscykge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvLyBBcmNHSVMgU2VydmVyIG9ubHkgd2FudHMgdGhlIG51bWVyaWMgcG9ydGlvbiBvZiB0aGUgcHJvamVjdGlvbiBJRC5cbiAgICB2YXIgc3JpZCA9IHByb2plY3Rpb24uZ2V0Q29kZSgpLnNwbGl0KCc6JykucG9wKCk7XG5cbiAgICBwYXJhbXNbJ1NJWkUnXSA9IHRpbGVTaXplWzBdICsgJywnICsgdGlsZVNpemVbMV07XG4gICAgcGFyYW1zWydCQk9YJ10gPSB0aWxlRXh0ZW50LmpvaW4oJywnKTtcbiAgICBwYXJhbXNbJ0JCT1hTUiddID0gc3JpZDtcbiAgICBwYXJhbXNbJ0lNQUdFU1InXSA9IHNyaWQ7XG4gICAgcGFyYW1zWydEUEknXSA9IE1hdGgucm91bmQoXG4gICAgICBwYXJhbXNbJ0RQSSddID8gcGFyYW1zWydEUEknXSAqIHBpeGVsUmF0aW8gOiA5MCAqIHBpeGVsUmF0aW9cbiAgICApO1xuXG4gICAgdmFyIHVybDtcbiAgICBpZiAodXJscy5sZW5ndGggPT0gMSkge1xuICAgICAgdXJsID0gdXJsc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGluZGV4ID0gbW9kdWxvKHRpbGVDb29yZEhhc2godGlsZUNvb3JkKSwgdXJscy5sZW5ndGgpO1xuICAgICAgdXJsID0gdXJsc1tpbmRleF07XG4gICAgfVxuXG4gICAgdmFyIG1vZGlmaWVkVXJsID0gdXJsXG4gICAgICAucmVwbGFjZSgvTWFwU2VydmVyXFwvPyQvLCAnTWFwU2VydmVyL2V4cG9ydCcpXG4gICAgICAucmVwbGFjZSgvSW1hZ2VTZXJ2ZXJcXC8/JC8sICdJbWFnZVNlcnZlci9leHBvcnRJbWFnZScpO1xuICAgIHJldHVybiBhcHBlbmRQYXJhbXMobW9kaWZpZWRVcmwsIHBhcmFtcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBUaWxlQXJjR0lTUmVzdC5wcm90b3R5cGUuZ2V0VGlsZVBpeGVsUmF0aW8gPSBmdW5jdGlvbiBnZXRUaWxlUGl4ZWxSYXRpbyAocGl4ZWxSYXRpbykge1xuICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHBpeGVsUmF0aW8pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIHVzZXItcHJvdmlkZWQgcGFyYW1zLlxuICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIFBhcmFtcy5cbiAgICogQGFwaVxuICAgKi9cbiAgVGlsZUFyY0dJU1Jlc3QucHJvdG90eXBlLnVwZGF0ZVBhcmFtcyA9IGZ1bmN0aW9uIHVwZGF0ZVBhcmFtcyAocGFyYW1zKSB7XG4gICAgYXNzaWduKHRoaXMucGFyYW1zXywgcGFyYW1zKTtcbiAgICB0aGlzLnNldEtleSh0aGlzLmdldEtleUZvclBhcmFtc18oKSk7XG4gIH07XG5cbiAgcmV0dXJuIFRpbGVBcmNHSVNSZXN0O1xufShUaWxlSW1hZ2UpKTtcblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaGUgdGlsZSBjb29yZGluYXRlXG4gKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBUaGUgcGl4ZWwgcmF0aW9cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gVGhlIHByb2plY3Rpb25cbiAqIEByZXR1cm4ge3N0cmluZ3x1bmRlZmluZWR9IFRoZSB0aWxlIFVSTFxuICogQHRoaXMge1RpbGVBcmNHSVNSZXN0fVxuICovXG5mdW5jdGlvbiB0aWxlVXJsRnVuY3Rpb24odGlsZUNvb3JkLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKSB7XG5cbiAgdmFyIHRpbGVHcmlkID0gdGhpcy5nZXRUaWxlR3JpZCgpO1xuICBpZiAoIXRpbGVHcmlkKSB7XG4gICAgdGlsZUdyaWQgPSB0aGlzLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgfVxuXG4gIGlmICh0aWxlR3JpZC5nZXRSZXNvbHV0aW9ucygpLmxlbmd0aCA8PSB0aWxlQ29vcmRbMF0pIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgdmFyIHRpbGVFeHRlbnQgPSB0aWxlR3JpZC5nZXRUaWxlQ29vcmRFeHRlbnQoXG4gICAgdGlsZUNvb3JkLCB0aGlzLnRtcEV4dGVudF8pO1xuICB2YXIgdGlsZVNpemUgPSB0b1NpemUoXG4gICAgdGlsZUdyaWQuZ2V0VGlsZVNpemUodGlsZUNvb3JkWzBdKSwgdGhpcy50bXBTaXplKTtcblxuICBpZiAocGl4ZWxSYXRpbyAhPSAxKSB7XG4gICAgdGlsZVNpemUgPSBzY2FsZVNpemUodGlsZVNpemUsIHBpeGVsUmF0aW8sIHRoaXMudG1wU2l6ZSk7XG4gIH1cblxuICAvLyBBcHBseSBkZWZhdWx0IHBhcmFtcyBhbmQgb3ZlcnJpZGUgd2l0aCB1c2VyIHNwZWNpZmllZCB2YWx1ZXMuXG4gIHZhciBiYXNlUGFyYW1zID0ge1xuICAgICdGJzogJ2ltYWdlJyxcbiAgICAnRk9STUFUJzogJ1BORzMyJyxcbiAgICAnVFJBTlNQQVJFTlQnOiB0cnVlXG4gIH07XG4gIGFzc2lnbihiYXNlUGFyYW1zLCB0aGlzLnBhcmFtc18pO1xuXG4gIHJldHVybiB0aGlzLmdldFJlcXVlc3RVcmxfKHRpbGVDb29yZCwgdGlsZVNpemUsIHRpbGVFeHRlbnQsXG4gICAgcGl4ZWxSYXRpbywgcHJvamVjdGlvbiwgYmFzZVBhcmFtcyk7XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgVGlsZUFyY0dJU1Jlc3Q7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGVBcmNHSVNSZXN0LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvVGlsZURlYnVnXG4gKi9cblxuaW1wb3J0IFRpbGUgZnJvbSAnLi4vVGlsZS5qcyc7XG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4uL1RpbGVTdGF0ZS5qcyc7XG5pbXBvcnQge2NyZWF0ZUNhbnZhc0NvbnRleHQyRH0gZnJvbSAnLi4vZG9tLmpzJztcbmltcG9ydCB7dG9TaXplfSBmcm9tICcuLi9zaXplLmpzJztcbmltcG9ydCBUaWxlU291cmNlIGZyb20gJy4vVGlsZS5qcyc7XG5pbXBvcnQge2dldEtleVpYWX0gZnJvbSAnLi4vdGlsZWNvb3JkLmpzJztcblxuXG52YXIgTGFiZWxlZFRpbGUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChUaWxlKSB7XG4gIGZ1bmN0aW9uIExhYmVsZWRUaWxlKHRpbGVDb29yZCwgdGlsZVNpemUsIHRleHQpIHtcblxuICAgIFRpbGUuY2FsbCh0aGlzLCB0aWxlQ29vcmQsIFRpbGVTdGF0ZS5MT0FERUQpO1xuXG4gICAgLyoqXG4gICAgKiBAcHJpdmF0ZVxuICAgICogQHR5cGUge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAqL1xuICAgIHRoaXMudGlsZVNpemVfID0gdGlsZVNpemU7XG5cbiAgICAvKipcbiAgICAqIEBwcml2YXRlXG4gICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICovXG4gICAgdGhpcy50ZXh0XyA9IHRleHQ7XG5cbiAgICAvKipcbiAgICAqIEBwcml2YXRlXG4gICAgKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgKi9cbiAgICB0aGlzLmNhbnZhc18gPSBudWxsO1xuXG4gIH1cblxuICBpZiAoIFRpbGUgKSBMYWJlbGVkVGlsZS5fX3Byb3RvX18gPSBUaWxlO1xuICBMYWJlbGVkVGlsZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBUaWxlICYmIFRpbGUucHJvdG90eXBlICk7XG4gIExhYmVsZWRUaWxlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExhYmVsZWRUaWxlO1xuXG4gIC8qKlxuICAqIEdldCB0aGUgaW1hZ2UgZWxlbWVudCBmb3IgdGhpcyB0aWxlLlxuICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fSBJbWFnZS5cbiAgKi9cbiAgTGFiZWxlZFRpbGUucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gZ2V0SW1hZ2UgKCkge1xuICAgIGlmICh0aGlzLmNhbnZhc18pIHtcbiAgICAgIHJldHVybiB0aGlzLmNhbnZhc187XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB0aWxlU2l6ZSA9IHRoaXMudGlsZVNpemVfO1xuICAgICAgdmFyIGNvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQodGlsZVNpemVbMF0sIHRpbGVTaXplWzFdKTtcblxuICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICdibGFjayc7XG4gICAgICBjb250ZXh0LnN0cm9rZVJlY3QoMC41LCAwLjUsIHRpbGVTaXplWzBdICsgMC41LCB0aWxlU2l6ZVsxXSArIDAuNSk7XG5cbiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgIGNvbnRleHQudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuICAgICAgY29udGV4dC5mb250ID0gJzI0cHggc2Fucy1zZXJpZic7XG4gICAgICBjb250ZXh0LmZpbGxUZXh0KHRoaXMudGV4dF8sIHRpbGVTaXplWzBdIC8gMiwgdGlsZVNpemVbMV0gLyAyKTtcblxuICAgICAgdGhpcy5jYW52YXNfID0gY29udGV4dC5jYW52YXM7XG4gICAgICByZXR1cm4gY29udGV4dC5jYW52YXM7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIEBvdmVycmlkZVxuICAqL1xuICBMYWJlbGVkVGlsZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQgKCkge307XG5cbiAgcmV0dXJuIExhYmVsZWRUaWxlO1xufShUaWxlKSk7XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gW3RpbGVHcmlkXSBUaWxlIGdyaWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3cmFwWD10cnVlXSBXaGV0aGVyIHRvIHdyYXAgdGhlIHdvcmxkIGhvcml6b250YWxseS5cbiAqL1xuXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSBwc2V1ZG8gdGlsZSBzb3VyY2UsIHdoaWNoIGRvZXMgbm90IGZldGNoIHRpbGVzIGZyb20gYSBzZXJ2ZXIsIGJ1dCByZW5kZXJzXG4gKiBhIGdyaWQgb3V0bGluZSBmb3IgdGhlIHRpbGUgZ3JpZC9wcm9qZWN0aW9uIGFsb25nIHdpdGggdGhlIGNvb3JkaW5hdGVzIGZvclxuICogZWFjaCB0aWxlLiBTZWUgZXhhbXBsZXMvY2FudmFzLXRpbGVzIGZvciBhbiBleGFtcGxlLlxuICpcbiAqIFVzZXMgQ2FudmFzIGNvbnRleHQyZCwgc28gcmVxdWlyZXMgQ2FudmFzIHN1cHBvcnQuXG4gKiBAYXBpXG4gKi9cbnZhciBUaWxlRGVidWcgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChUaWxlU291cmNlKSB7XG4gIGZ1bmN0aW9uIFRpbGVEZWJ1ZyhvcHRpb25zKSB7XG5cbiAgICBUaWxlU291cmNlLmNhbGwodGhpcywge1xuICAgICAgb3BhcXVlOiBmYWxzZSxcbiAgICAgIHByb2plY3Rpb246IG9wdGlvbnMucHJvamVjdGlvbixcbiAgICAgIHRpbGVHcmlkOiBvcHRpb25zLnRpbGVHcmlkLFxuICAgICAgd3JhcFg6IG9wdGlvbnMud3JhcFggIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMud3JhcFggOiB0cnVlXG4gICAgfSk7XG5cbiAgfVxuXG4gIGlmICggVGlsZVNvdXJjZSApIFRpbGVEZWJ1Zy5fX3Byb3RvX18gPSBUaWxlU291cmNlO1xuICBUaWxlRGVidWcucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggVGlsZVNvdXJjZSAmJiBUaWxlU291cmNlLnByb3RvdHlwZSApO1xuICBUaWxlRGVidWcucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVGlsZURlYnVnO1xuXG4gIC8qKlxuICAqIEBpbmhlcml0RG9jXG4gICovXG4gIFRpbGVEZWJ1Zy5wcm90b3R5cGUuZ2V0VGlsZSA9IGZ1bmN0aW9uIGdldFRpbGUgKHosIHgsIHkpIHtcbiAgICB2YXIgdGlsZUNvb3JkS2V5ID0gZ2V0S2V5WlhZKHosIHgsIHkpO1xuICAgIGlmICh0aGlzLnRpbGVDYWNoZS5jb250YWluc0tleSh0aWxlQ29vcmRLZXkpKSB7XG4gICAgICByZXR1cm4gLyoqIEB0eXBlIHshTGFiZWxlZFRpbGV9ICovICh0aGlzLnRpbGVDYWNoZS5nZXQodGlsZUNvb3JkS2V5KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB0aWxlU2l6ZSA9IHRvU2l6ZSh0aGlzLnRpbGVHcmlkLmdldFRpbGVTaXplKHopKTtcbiAgICAgIHZhciB0aWxlQ29vcmQgPSBbeiwgeCwgeV07XG4gICAgICB2YXIgdGV4dFRpbGVDb29yZCA9IHRoaXMuZ2V0VGlsZUNvb3JkRm9yVGlsZVVybEZ1bmN0aW9uKHRpbGVDb29yZCk7XG4gICAgICB2YXIgdGV4dCA9ICF0ZXh0VGlsZUNvb3JkID8gJycgOlxuICAgICAgICB0aGlzLmdldFRpbGVDb29yZEZvclRpbGVVcmxGdW5jdGlvbih0ZXh0VGlsZUNvb3JkKS50b1N0cmluZygpO1xuICAgICAgdmFyIHRpbGUgPSBuZXcgTGFiZWxlZFRpbGUodGlsZUNvb3JkLCB0aWxlU2l6ZSwgdGV4dCk7XG4gICAgICB0aGlzLnRpbGVDYWNoZS5zZXQodGlsZUNvb3JkS2V5LCB0aWxlKTtcbiAgICAgIHJldHVybiB0aWxlO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gVGlsZURlYnVnO1xufShUaWxlU291cmNlKSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgVGlsZURlYnVnO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxlRGVidWcuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9UaWxlSlNPTlxuICovXG4vLyBGSVhNRSBjaGVjayBvcmRlciBvZiBhc3luYyBjYWxsYmFja3NcblxuLyoqXG4gKiBTZWUgaHR0cDovL21hcGJveC5jb20vZGV2ZWxvcGVycy9hcGkvLlxuICovXG5cblxuaW1wb3J0IHtjcmVhdGVGcm9tVGVtcGxhdGVzfSBmcm9tICcuLi90aWxldXJsZnVuY3Rpb24uanMnO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuaW1wb3J0IHthcHBseVRyYW5zZm9ybSwgaW50ZXJzZWN0c30gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7anNvbnAgYXMgcmVxdWVzdEpTT05QfSBmcm9tICcuLi9uZXQuanMnO1xuaW1wb3J0IHtnZXQgYXMgZ2V0UHJvamVjdGlvbiwgZ2V0VHJhbnNmb3JtRnJvbVByb2plY3Rpb25zfSBmcm9tICcuLi9wcm9qLmpzJztcbmltcG9ydCBTb3VyY2VTdGF0ZSBmcm9tICcuL1N0YXRlLmpzJztcbmltcG9ydCBUaWxlSW1hZ2UgZnJvbSAnLi9UaWxlSW1hZ2UuanMnO1xuaW1wb3J0IHtjcmVhdGVYWVosIGV4dGVudEZyb21Qcm9qZWN0aW9ufSBmcm9tICcuLi90aWxlZ3JpZC5qcyc7XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDb25maWdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbmFtZV0gVGhlIG5hbWUuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2Rlc2NyaXB0aW9uXSBUaGUgZGVzY3JpcHRpb24uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3ZlcnNpb25dIFRoZSB2ZXJzaW9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFthdHRyaWJ1dGlvbl0gVGhlIGF0dHJpYnV0aW9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt0ZW1wbGF0ZV0gVGhlIHRlbXBsYXRlLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtsZWdlbmRdIFRoZSBsZWdlbmQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3NjaGVtZV0gVGhlIHNjaGVtZS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gdGlsZXMgVGhlIHRpbGUgVVJMIHRlbXBsYXRlcy5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gW2dyaWRzXSBPcHRpb25hbCBncmlkcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluem9vbV0gTWluaW11bSB6b29tIGxldmVsLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXh6b29tXSBNYXhpbXVtIHpvb20gbGV2ZWwuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtib3VuZHNdIE9wdGlvbmFsIGJvdW5kcy5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW2NlbnRlcl0gT3B0aW9uYWwgY2VudGVyLlxuICovXG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLkF0dHJpYnV0aW9uTGlrZX0gW2F0dHJpYnV0aW9uc10gQXR0cmlidXRpb25zLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtjYWNoZVNpemU9MjA0OF0gQ2FjaGUgc2l6ZS5cbiAqIEBwcm9wZXJ0eSB7bnVsbHxzdHJpbmd9IFtjcm9zc09yaWdpbl0gVGhlIGBjcm9zc09yaWdpbmAgYXR0cmlidXRlIGZvciBsb2FkZWQgaW1hZ2VzLiAgTm90ZSB0aGF0XG4gKiB5b3UgbXVzdCBwcm92aWRlIGEgYGNyb3NzT3JpZ2luYCB2YWx1ZSBpZiB5b3UgYXJlIHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlciBvciBpZiB5b3Ugd2FudCB0b1xuICogYWNjZXNzIHBpeGVsIGRhdGEgd2l0aCB0aGUgQ2FudmFzIHJlbmRlcmVyLiAgU2VlXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0NPUlNfZW5hYmxlZF9pbWFnZSBmb3IgbW9yZSBkZXRhaWwuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtqc29ucD1mYWxzZV0gVXNlIEpTT05QIHdpdGggY2FsbGJhY2sgdG8gbG9hZCB0aGUgVGlsZUpTT04uXG4gKiBVc2VmdWwgd2hlbiB0aGUgc2VydmVyIGRvZXMgbm90IHN1cHBvcnQgQ09SUy4uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkPTAuNV0gTWF4aW11bSBhbGxvd2VkIHJlcHJvamVjdGlvbiBlcnJvciAoaW4gcGl4ZWxzKS5cbiAqIEhpZ2hlciB2YWx1ZXMgY2FuIGluY3JlYXNlIHJlcHJvamVjdGlvbiBwZXJmb3JtYW5jZSwgYnV0IGRlY3JlYXNlIHByZWNpc2lvbi5cbiAqIEBwcm9wZXJ0eSB7Q29uZmlnfSBbdGlsZUpTT05dIFRpbGVKU09OIGNvbmZpZ3VyYXRpb24gZm9yIHRoaXMgc291cmNlLlxuICogSWYgbm90IHByb3ZpZGVkLCBgdXJsYCBtdXN0IGJlIGNvbmZpZ3VyZWQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufSBbdGlsZUxvYWRGdW5jdGlvbl0gT3B0aW9uYWwgZnVuY3Rpb24gdG8gbG9hZCBhIHRpbGUgZ2l2ZW4gYSBVUkwuIFRoZSBkZWZhdWx0IGlzXG4gKiBgYGBqc1xuICogZnVuY3Rpb24oaW1hZ2VUaWxlLCBzcmMpIHtcbiAqICAgaW1hZ2VUaWxlLmdldEltYWdlKCkuc3JjID0gc3JjO1xuICogfTtcbiAqIGBgYFxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt1cmxdIFVSTCB0byB0aGUgVGlsZUpTT04gZmlsZS4gSWYgbm90IHByb3ZpZGVkLCBgdGlsZUpTT05gIG11c3QgYmUgY29uZmlndXJlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3dyYXBYPXRydWVdIFdoZXRoZXIgdG8gd3JhcCB0aGUgd29ybGQgaG9yaXpvbnRhbGx5LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0cmFuc2l0aW9uXSBEdXJhdGlvbiBvZiB0aGUgb3BhY2l0eSB0cmFuc2l0aW9uIGZvciByZW5kZXJpbmcuXG4gKiBUbyBkaXNhYmxlIHRoZSBvcGFjaXR5IHRyYW5zaXRpb24sIHBhc3MgYHRyYW5zaXRpb246IDBgLlxuICovXG5cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBMYXllciBzb3VyY2UgZm9yIHRpbGUgZGF0YSBpbiBUaWxlSlNPTiBmb3JtYXQuXG4gKiBAYXBpXG4gKi9cbnZhciBUaWxlSlNPTiA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFRpbGVJbWFnZSkge1xuICBmdW5jdGlvbiBUaWxlSlNPTihvcHRpb25zKSB7XG4gICAgVGlsZUltYWdlLmNhbGwodGhpcywge1xuICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9ucyxcbiAgICAgIGNhY2hlU2l6ZTogb3B0aW9ucy5jYWNoZVNpemUsXG4gICAgICBjcm9zc09yaWdpbjogb3B0aW9ucy5jcm9zc09yaWdpbixcbiAgICAgIHByb2plY3Rpb246IGdldFByb2plY3Rpb24oJ0VQU0c6Mzg1NycpLFxuICAgICAgcmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQ6IG9wdGlvbnMucmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQsXG4gICAgICBzdGF0ZTogU291cmNlU3RhdGUuTE9BRElORyxcbiAgICAgIHRpbGVMb2FkRnVuY3Rpb246IG9wdGlvbnMudGlsZUxvYWRGdW5jdGlvbixcbiAgICAgIHdyYXBYOiBvcHRpb25zLndyYXBYICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLndyYXBYIDogdHJ1ZSxcbiAgICAgIHRyYW5zaXRpb246IG9wdGlvbnMudHJhbnNpdGlvblxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0NvbmZpZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMudGlsZUpTT05fID0gbnVsbDtcblxuXG4gICAgaWYgKG9wdGlvbnMudXJsKSB7XG4gICAgICBpZiAob3B0aW9ucy5qc29ucCkge1xuICAgICAgICByZXF1ZXN0SlNPTlAob3B0aW9ucy51cmwsIHRoaXMuaGFuZGxlVGlsZUpTT05SZXNwb25zZS5iaW5kKHRoaXMpLFxuICAgICAgICAgIHRoaXMuaGFuZGxlVGlsZUpTT05FcnJvci5iaW5kKHRoaXMpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBjbGllbnQgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgY2xpZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLm9uWEhSTG9hZF8uYmluZCh0aGlzKSk7XG4gICAgICAgIGNsaWVudC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMub25YSFJFcnJvcl8uYmluZCh0aGlzKSk7XG4gICAgICAgIGNsaWVudC5vcGVuKCdHRVQnLCBvcHRpb25zLnVybCk7XG4gICAgICAgIGNsaWVudC5zZW5kKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLnRpbGVKU09OKSB7XG4gICAgICB0aGlzLmhhbmRsZVRpbGVKU09OUmVzcG9uc2Uob3B0aW9ucy50aWxlSlNPTik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2VydChmYWxzZSwgNTEpOyAvLyBFaXRoZXIgYHVybGAgb3IgYHRpbGVKU09OYCBvcHRpb25zIG11c3QgYmUgcHJvdmlkZWRcbiAgICB9XG5cbiAgfVxuXG4gIGlmICggVGlsZUltYWdlICkgVGlsZUpTT04uX19wcm90b19fID0gVGlsZUltYWdlO1xuICBUaWxlSlNPTi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBUaWxlSW1hZ2UgJiYgVGlsZUltYWdlLnByb3RvdHlwZSApO1xuICBUaWxlSlNPTi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUaWxlSlNPTjtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgVGhlIGxvYWQgZXZlbnQuXG4gICAqL1xuICBUaWxlSlNPTi5wcm90b3R5cGUub25YSFJMb2FkXyA9IGZ1bmN0aW9uIG9uWEhSTG9hZF8gKGV2ZW50KSB7XG4gICAgdmFyIGNsaWVudCA9IC8qKiBAdHlwZSB7WE1MSHR0cFJlcXVlc3R9ICovIChldmVudC50YXJnZXQpO1xuICAgIC8vIHN0YXR1cyB3aWxsIGJlIDAgZm9yIGZpbGU6Ly8gdXJsc1xuICAgIGlmICghY2xpZW50LnN0YXR1cyB8fCBjbGllbnQuc3RhdHVzID49IDIwMCAmJiBjbGllbnQuc3RhdHVzIDwgMzAwKSB7XG4gICAgICB2YXIgcmVzcG9uc2U7XG4gICAgICB0cnkge1xuICAgICAgICByZXNwb25zZSA9IC8qKiBAdHlwZSB7VGlsZUpTT059ICovKEpTT04ucGFyc2UoY2xpZW50LnJlc3BvbnNlVGV4dCkpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlVGlsZUpTT05FcnJvcigpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmhhbmRsZVRpbGVKU09OUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhhbmRsZVRpbGVKU09ORXJyb3IoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IFRoZSBlcnJvciBldmVudC5cbiAgICovXG4gIFRpbGVKU09OLnByb3RvdHlwZS5vblhIUkVycm9yXyA9IGZ1bmN0aW9uIG9uWEhSRXJyb3JfIChldmVudCkge1xuICAgIHRoaXMuaGFuZGxlVGlsZUpTT05FcnJvcigpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtDb25maWd9IFRoZSB0aWxlanNvbiBvYmplY3QuXG4gICAqIEBhcGlcbiAgICovXG4gIFRpbGVKU09OLnByb3RvdHlwZS5nZXRUaWxlSlNPTiA9IGZ1bmN0aW9uIGdldFRpbGVKU09OICgpIHtcbiAgICByZXR1cm4gdGhpcy50aWxlSlNPTl87XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQHBhcmFtIHtDb25maWd9IHRpbGVKU09OIFRpbGUgSlNPTi5cbiAgICovXG4gIFRpbGVKU09OLnByb3RvdHlwZS5oYW5kbGVUaWxlSlNPTlJlc3BvbnNlID0gZnVuY3Rpb24gaGFuZGxlVGlsZUpTT05SZXNwb25zZSAodGlsZUpTT04pIHtcblxuICAgIHZhciBlcHNnNDMyNlByb2plY3Rpb24gPSBnZXRQcm9qZWN0aW9uKCdFUFNHOjQzMjYnKTtcblxuICAgIHZhciBzb3VyY2VQcm9qZWN0aW9uID0gdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG4gICAgdmFyIGV4dGVudDtcbiAgICBpZiAodGlsZUpTT05bJ2JvdW5kcyddICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciB0cmFuc2Zvcm0gPSBnZXRUcmFuc2Zvcm1Gcm9tUHJvamVjdGlvbnMoXG4gICAgICAgIGVwc2c0MzI2UHJvamVjdGlvbiwgc291cmNlUHJvamVjdGlvbik7XG4gICAgICBleHRlbnQgPSBhcHBseVRyYW5zZm9ybSh0aWxlSlNPTlsnYm91bmRzJ10sIHRyYW5zZm9ybSk7XG4gICAgfVxuXG4gICAgdmFyIG1pblpvb20gPSB0aWxlSlNPTlsnbWluem9vbSddIHx8IDA7XG4gICAgdmFyIG1heFpvb20gPSB0aWxlSlNPTlsnbWF4em9vbSddIHx8IDIyO1xuICAgIHZhciB0aWxlR3JpZCA9IGNyZWF0ZVhZWih7XG4gICAgICBleHRlbnQ6IGV4dGVudEZyb21Qcm9qZWN0aW9uKHNvdXJjZVByb2plY3Rpb24pLFxuICAgICAgbWF4Wm9vbTogbWF4Wm9vbSxcbiAgICAgIG1pblpvb206IG1pblpvb21cbiAgICB9KTtcbiAgICB0aGlzLnRpbGVHcmlkID0gdGlsZUdyaWQ7XG5cbiAgICB0aGlzLnRpbGVVcmxGdW5jdGlvbiA9IGNyZWF0ZUZyb21UZW1wbGF0ZXModGlsZUpTT05bJ3RpbGVzJ10sIHRpbGVHcmlkKTtcblxuICAgIGlmICh0aWxlSlNPTlsnYXR0cmlidXRpb24nXSAhPT0gdW5kZWZpbmVkICYmICF0aGlzLmdldEF0dHJpYnV0aW9ucygpKSB7XG4gICAgICB2YXIgYXR0cmlidXRpb25FeHRlbnQgPSBleHRlbnQgIT09IHVuZGVmaW5lZCA/XG4gICAgICAgIGV4dGVudCA6IGVwc2c0MzI2UHJvamVjdGlvbi5nZXRFeHRlbnQoKTtcblxuICAgICAgdGhpcy5zZXRBdHRyaWJ1dGlvbnMoZnVuY3Rpb24oZnJhbWVTdGF0ZSkge1xuICAgICAgICBpZiAoaW50ZXJzZWN0cyhhdHRyaWJ1dGlvbkV4dGVudCwgZnJhbWVTdGF0ZS5leHRlbnQpKSB7XG4gICAgICAgICAgcmV0dXJuIFt0aWxlSlNPTlsnYXR0cmlidXRpb24nXV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9KTtcblxuICAgIH1cbiAgICB0aGlzLnRpbGVKU09OXyA9IHRpbGVKU09OO1xuICAgIHRoaXMuc2V0U3RhdGUoU291cmNlU3RhdGUuUkVBRFkpO1xuXG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIFRpbGVKU09OLnByb3RvdHlwZS5oYW5kbGVUaWxlSlNPTkVycm9yID0gZnVuY3Rpb24gaGFuZGxlVGlsZUpTT05FcnJvciAoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZShTb3VyY2VTdGF0ZS5FUlJPUik7XG4gIH07XG5cbiAgcmV0dXJuIFRpbGVKU09OO1xufShUaWxlSW1hZ2UpKTtcblxuXG5leHBvcnQgZGVmYXVsdCBUaWxlSlNPTjtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsZUpTT04uanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9UaWxlV01TXG4gKi9cblxuaW1wb3J0IHtERUZBVUxUX1dNU19WRVJTSU9OfSBmcm9tICcuL2NvbW1vbi5qcyc7XG5cbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7YnVmZmVyLCBjcmVhdGVFbXB0eX0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7YXNzaWdufSBmcm9tICcuLi9vYmouanMnO1xuaW1wb3J0IHttb2R1bG99IGZyb20gJy4uL21hdGguanMnO1xuaW1wb3J0IHtnZXQgYXMgZ2V0UHJvamVjdGlvbiwgdHJhbnNmb3JtLCB0cmFuc2Zvcm1FeHRlbnR9IGZyb20gJy4uL3Byb2ouanMnO1xuaW1wb3J0IHtjYWxjdWxhdGVTb3VyY2VSZXNvbHV0aW9ufSBmcm9tICcuLi9yZXByb2ouanMnO1xuaW1wb3J0IHt0b1NpemUsIGJ1ZmZlciBhcyBidWZmZXJTaXplLCBzY2FsZSBhcyBzY2FsZVNpemV9IGZyb20gJy4uL3NpemUuanMnO1xuaW1wb3J0IFRpbGVJbWFnZSBmcm9tICcuL1RpbGVJbWFnZS5qcyc7XG5pbXBvcnQgV01TU2VydmVyVHlwZSBmcm9tICcuL1dNU1NlcnZlclR5cGUuanMnO1xuaW1wb3J0IHtoYXNoIGFzIHRpbGVDb29yZEhhc2h9IGZyb20gJy4uL3RpbGVjb29yZC5qcyc7XG5pbXBvcnQge2NvbXBhcmVWZXJzaW9uc30gZnJvbSAnLi4vc3RyaW5nLmpzJztcbmltcG9ydCB7YXBwZW5kUGFyYW1zfSBmcm9tICcuLi91cmkuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9Tb3VyY2UuanNcIikuQXR0cmlidXRpb25MaWtlfSBbYXR0cmlidXRpb25zXSBBdHRyaWJ1dGlvbnMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2NhY2hlU2l6ZT0yMDQ4XSBDYWNoZSBzaXplLlxuICogQHByb3BlcnR5IHtudWxsfHN0cmluZ30gW2Nyb3NzT3JpZ2luXSBUaGUgYGNyb3NzT3JpZ2luYCBhdHRyaWJ1dGUgZm9yIGxvYWRlZCBpbWFnZXMuICBOb3RlIHRoYXRcbiAqIHlvdSBtdXN0IHByb3ZpZGUgYSBgY3Jvc3NPcmlnaW5gIHZhbHVlIGlmIHlvdSBhcmUgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyIG9yIGlmIHlvdSB3YW50IHRvXG4gKiBhY2Nlc3MgcGl4ZWwgZGF0YSB3aXRoIHRoZSBDYW52YXMgcmVuZGVyZXIuICBTZWVcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvQ09SU19lbmFibGVkX2ltYWdlIGZvciBtb3JlIGRldGFpbC5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0PHN0cmluZywqPn0gcGFyYW1zIFdNUyByZXF1ZXN0IHBhcmFtZXRlcnMuXG4gKiBBdCBsZWFzdCBhIGBMQVlFUlNgIHBhcmFtIGlzIHJlcXVpcmVkLiBgU1RZTEVTYCBpc1xuICogYCcnYCBieSBkZWZhdWx0LiBgVkVSU0lPTmAgaXMgYDEuMy4wYCBieSBkZWZhdWx0LiBgV0lEVEhgLCBgSEVJR0hUYCwgYEJCT1hgXG4gKiBhbmQgYENSU2AgKGBTUlNgIGZvciBXTVMgdmVyc2lvbiA8IDEuMy4wKSB3aWxsIGJlIHNldCBkeW5hbWljYWxseS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZ3V0dGVyPTBdXG4gKiBUaGUgc2l6ZSBpbiBwaXhlbHMgb2YgdGhlIGd1dHRlciBhcm91bmQgaW1hZ2UgdGlsZXMgdG8gaWdub3JlLiBCeSBzZXR0aW5nXG4gKiB0aGlzIHByb3BlcnR5IHRvIGEgbm9uLXplcm8gdmFsdWUsIGltYWdlcyB3aWxsIGJlIHJlcXVlc3RlZCB0aGF0IGFyZSB3aWRlclxuICogYW5kIHRhbGxlciB0aGFuIHRoZSB0aWxlIHNpemUgYnkgYSB2YWx1ZSBvZiBgMiB4IGd1dHRlcmAuXG4gKiBVc2luZyBhIG5vbi16ZXJvIHZhbHVlIGFsbG93cyBhcnRpZmFjdHMgb2YgcmVuZGVyaW5nIGF0IHRpbGUgZWRnZXMgdG8gYmVcbiAqIGlnbm9yZWQuIElmIHlvdSBjb250cm9sIHRoZSBXTVMgc2VydmljZSBpdCBpcyByZWNvbW1lbmRlZCB0byBhZGRyZXNzXG4gKiBcImFydGlmYWN0cyBhdCB0aWxlIGVkZ2VzXCIgaXNzdWVzIGJ5IHByb3Blcmx5IGNvbmZpZ3VyaW5nIHRoZSBXTVMgc2VydmljZS4gRm9yXG4gKiBleGFtcGxlLCBNYXBTZXJ2ZXIgaGFzIGEgYHRpbGVfbWFwX2VkZ2VfYnVmZmVyYCBjb25maWd1cmF0aW9uIHBhcmFtZXRlciBmb3JcbiAqIHRoaXMuIFNlZSBodHRwOi8vbWFwc2VydmVyLm9yZy9vdXRwdXQvdGlsZV9tb2RlLmh0bWwuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtoaWRwaT10cnVlXSBVc2UgdGhlIGBvbC9NYXAjcGl4ZWxSYXRpb2AgdmFsdWUgd2hlbiByZXF1ZXN0aW5nXG4gKiB0aGUgaW1hZ2UgZnJvbSB0aGUgcmVtb3RlIHNlcnZlci5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyZXByb2plY3Rpb25FcnJvclRocmVzaG9sZD0wLjVdIE1heGltdW0gYWxsb3dlZCByZXByb2plY3Rpb24gZXJyb3IgKGluIHBpeGVscykuXG4gKiBIaWdoZXIgdmFsdWVzIGNhbiBpbmNyZWFzZSByZXByb2plY3Rpb24gcGVyZm9ybWFuY2UsIGJ1dCBkZWNyZWFzZSBwcmVjaXNpb24uXG4gKiBAcHJvcGVydHkge3R5cGVvZiBpbXBvcnQoXCIuLi9JbWFnZVRpbGUuanNcIikuZGVmYXVsdH0gW3RpbGVDbGFzc10gQ2xhc3MgdXNlZCB0byBpbnN0YW50aWF0ZSBpbWFnZSB0aWxlcy5cbiAqIERlZmF1bHQgaXMge0BsaW5rIG1vZHVsZTpvbC9JbWFnZVRpbGV+SW1hZ2VUaWxlfS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gW3RpbGVHcmlkXSBUaWxlIGdyaWQuIEJhc2UgdGhpcyBvbiB0aGUgcmVzb2x1dGlvbnMsXG4gKiB0aWxlc2l6ZSBhbmQgZXh0ZW50IHN1cHBvcnRlZCBieSB0aGUgc2VydmVyLlxuICogSWYgdGhpcyBpcyBub3QgZGVmaW5lZCwgYSBkZWZhdWx0IGdyaWQgd2lsbCBiZSB1c2VkOiBpZiB0aGVyZSBpcyBhIHByb2plY3Rpb25cbiAqIGV4dGVudCwgdGhlIGdyaWQgd2lsbCBiZSBiYXNlZCBvbiB0aGF0OyBpZiBub3QsIGEgZ3JpZCBiYXNlZCBvbiBhIGdsb2JhbFxuICogZXh0ZW50IHdpdGggb3JpZ2luIGF0IDAsMCB3aWxsIGJlIHVzZWQuLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1dNU1NlcnZlclR5cGUuanNcIikuZGVmYXVsdHxzdHJpbmd9IFtzZXJ2ZXJUeXBlXVxuICogVGhlIHR5cGUgb2YgdGhlIHJlbW90ZSBXTVMgc2VydmVyLiBDdXJyZW50bHkgb25seSB1c2VkIHdoZW4gYGhpZHBpYCBpc1xuICogYHRydWVgLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn0gW3RpbGVMb2FkRnVuY3Rpb25dIE9wdGlvbmFsIGZ1bmN0aW9uIHRvIGxvYWQgYSB0aWxlIGdpdmVuIGEgVVJMLiBUaGUgZGVmYXVsdCBpc1xuICogYGBganNcbiAqIGZ1bmN0aW9uKGltYWdlVGlsZSwgc3JjKSB7XG4gKiAgIGltYWdlVGlsZS5nZXRJbWFnZSgpLnNyYyA9IHNyYztcbiAqIH07XG4gKiBgYGBcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdXJsXSBXTVMgc2VydmljZSBVUkwuXG4gKiBAcHJvcGVydHkge0FycmF5PHN0cmluZz59IFt1cmxzXSBXTVMgc2VydmljZSB1cmxzLlxuICogVXNlIHRoaXMgaW5zdGVhZCBvZiBgdXJsYCB3aGVuIHRoZSBXTVMgc3VwcG9ydHMgbXVsdGlwbGUgdXJscyBmb3IgR2V0TWFwIHJlcXVlc3RzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbd3JhcFg9dHJ1ZV0gV2hldGhlciB0byB3cmFwIHRoZSB3b3JsZCBob3Jpem9udGFsbHkuXG4gKiBXaGVuIHNldCB0byBgZmFsc2VgLCBvbmx5IG9uZSB3b3JsZFxuICogd2lsbCBiZSByZW5kZXJlZC4gV2hlbiBgdHJ1ZWAsIHRpbGVzIHdpbGwgYmUgcmVxdWVzdGVkIGZvciBvbmUgd29ybGQgb25seSxcbiAqIGJ1dCB0aGV5IHdpbGwgYmUgd3JhcHBlZCBob3Jpem9udGFsbHkgdG8gcmVuZGVyIG11bHRpcGxlIHdvcmxkcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdHJhbnNpdGlvbl0gRHVyYXRpb24gb2YgdGhlIG9wYWNpdHkgdHJhbnNpdGlvbiBmb3IgcmVuZGVyaW5nLlxuICogVG8gZGlzYWJsZSB0aGUgb3BhY2l0eSB0cmFuc2l0aW9uLCBwYXNzIGB0cmFuc2l0aW9uOiAwYC5cbiAqL1xuXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogTGF5ZXIgc291cmNlIGZvciB0aWxlIGRhdGEgZnJvbSBXTVMgc2VydmVycy5cbiAqIEBhcGlcbiAqL1xudmFyIFRpbGVXTVMgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChUaWxlSW1hZ2UpIHtcbiAgZnVuY3Rpb24gVGlsZVdNUyhvcHRfb3B0aW9ucykge1xuXG4gICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCAvKiogQHR5cGUge09wdGlvbnN9ICovICh7fSk7XG5cbiAgICB2YXIgcGFyYW1zID0gb3B0aW9ucy5wYXJhbXMgfHwge307XG5cbiAgICB2YXIgdHJhbnNwYXJlbnQgPSAnVFJBTlNQQVJFTlQnIGluIHBhcmFtcyA/IHBhcmFtc1snVFJBTlNQQVJFTlQnXSA6IHRydWU7XG5cbiAgICBUaWxlSW1hZ2UuY2FsbCh0aGlzLCB7XG4gICAgICBhdHRyaWJ1dGlvbnM6IG9wdGlvbnMuYXR0cmlidXRpb25zLFxuICAgICAgY2FjaGVTaXplOiBvcHRpb25zLmNhY2hlU2l6ZSxcbiAgICAgIGNyb3NzT3JpZ2luOiBvcHRpb25zLmNyb3NzT3JpZ2luLFxuICAgICAgb3BhcXVlOiAhdHJhbnNwYXJlbnQsXG4gICAgICBwcm9qZWN0aW9uOiBvcHRpb25zLnByb2plY3Rpb24sXG4gICAgICByZXByb2plY3Rpb25FcnJvclRocmVzaG9sZDogb3B0aW9ucy5yZXByb2plY3Rpb25FcnJvclRocmVzaG9sZCxcbiAgICAgIHRpbGVDbGFzczogb3B0aW9ucy50aWxlQ2xhc3MsXG4gICAgICB0aWxlR3JpZDogb3B0aW9ucy50aWxlR3JpZCxcbiAgICAgIHRpbGVMb2FkRnVuY3Rpb246IG9wdGlvbnMudGlsZUxvYWRGdW5jdGlvbixcbiAgICAgIHRpbGVVcmxGdW5jdGlvbjogdGlsZVVybEZ1bmN0aW9uLFxuICAgICAgdXJsOiBvcHRpb25zLnVybCxcbiAgICAgIHVybHM6IG9wdGlvbnMudXJscyxcbiAgICAgIHdyYXBYOiBvcHRpb25zLndyYXBYICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLndyYXBYIDogdHJ1ZSxcbiAgICAgIHRyYW5zaXRpb246IG9wdGlvbnMudHJhbnNpdGlvblxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZ3V0dGVyXyA9IG9wdGlvbnMuZ3V0dGVyICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmd1dHRlciA6IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshT2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMucGFyYW1zXyA9IHBhcmFtcztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy52MTNfID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vV01TU2VydmVyVHlwZS5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnNlcnZlclR5cGVfID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1dNU1NlcnZlclR5cGUuanNcIikuZGVmYXVsdHx1bmRlZmluZWR9ICovIChvcHRpb25zLnNlcnZlclR5cGUpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmhpZHBpXyA9IG9wdGlvbnMuaGlkcGkgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuaGlkcGkgOiB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgKi9cbiAgICB0aGlzLnRtcEV4dGVudF8gPSBjcmVhdGVFbXB0eSgpO1xuXG4gICAgdGhpcy51cGRhdGVWMTNfKCk7XG4gICAgdGhpcy5zZXRLZXkodGhpcy5nZXRLZXlGb3JQYXJhbXNfKCkpO1xuXG4gIH1cblxuICBpZiAoIFRpbGVJbWFnZSApIFRpbGVXTVMuX19wcm90b19fID0gVGlsZUltYWdlO1xuICBUaWxlV01TLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFRpbGVJbWFnZSAmJiBUaWxlSW1hZ2UucHJvdG90eXBlICk7XG4gIFRpbGVXTVMucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVGlsZVdNUztcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBHZXRGZWF0dXJlSW5mbyBVUkwgZm9yIHRoZSBwYXNzZWQgY29vcmRpbmF0ZSwgcmVzb2x1dGlvbiwgYW5kXG4gICAqIHByb2plY3Rpb24uIFJldHVybiBgdW5kZWZpbmVkYCBpZiB0aGUgR2V0RmVhdHVyZUluZm8gVVJMIGNhbm5vdCBiZVxuICAgKiBjb25zdHJ1Y3RlZC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEBwYXJhbSB7IU9iamVjdH0gcGFyYW1zIEdldEZlYXR1cmVJbmZvIHBhcmFtcy4gYElORk9fRk9STUFUYCBhdCBsZWFzdCBzaG91bGRcbiAgICogICAgIGJlIHByb3ZpZGVkLiBJZiBgUVVFUllfTEFZRVJTYCBpcyBub3QgcHJvdmlkZWQgdGhlbiB0aGUgbGF5ZXJzIHNwZWNpZmllZFxuICAgKiAgICAgaW4gdGhlIGBMQVlFUlNgIHBhcmFtZXRlciB3aWxsIGJlIHVzZWQuIGBWRVJTSU9OYCBzaG91bGQgbm90IGJlXG4gICAqICAgICBzcGVjaWZpZWQgaGVyZS5cbiAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gR2V0RmVhdHVyZUluZm8gVVJMLlxuICAgKiBAYXBpXG4gICAqL1xuICBUaWxlV01TLnByb3RvdHlwZS5nZXRHZXRGZWF0dXJlSW5mb1VybCA9IGZ1bmN0aW9uIGdldEdldEZlYXR1cmVJbmZvVXJsIChjb29yZGluYXRlLCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uLCBwYXJhbXMpIHtcbiAgICB2YXIgcHJvamVjdGlvbk9iaiA9IGdldFByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgdmFyIHNvdXJjZVByb2plY3Rpb25PYmogPSB0aGlzLmdldFByb2plY3Rpb24oKTtcblxuICAgIHZhciB0aWxlR3JpZCA9IHRoaXMuZ2V0VGlsZUdyaWQoKTtcbiAgICBpZiAoIXRpbGVHcmlkKSB7XG4gICAgICB0aWxlR3JpZCA9IHRoaXMuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb25PYmopO1xuICAgIH1cblxuICAgIHZhciB0aWxlQ29vcmQgPSB0aWxlR3JpZC5nZXRUaWxlQ29vcmRGb3JDb29yZEFuZFJlc29sdXRpb24oY29vcmRpbmF0ZSwgcmVzb2x1dGlvbik7XG5cbiAgICBpZiAodGlsZUdyaWQuZ2V0UmVzb2x1dGlvbnMoKS5sZW5ndGggPD0gdGlsZUNvb3JkWzBdKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHZhciB0aWxlUmVzb2x1dGlvbiA9IHRpbGVHcmlkLmdldFJlc29sdXRpb24odGlsZUNvb3JkWzBdKTtcbiAgICB2YXIgdGlsZUV4dGVudCA9IHRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudCh0aWxlQ29vcmQsIHRoaXMudG1wRXh0ZW50Xyk7XG4gICAgdmFyIHRpbGVTaXplID0gdG9TaXplKHRpbGVHcmlkLmdldFRpbGVTaXplKHRpbGVDb29yZFswXSksIHRoaXMudG1wU2l6ZSk7XG5cblxuICAgIHZhciBndXR0ZXIgPSB0aGlzLmd1dHRlcl87XG4gICAgaWYgKGd1dHRlciAhPT0gMCkge1xuICAgICAgdGlsZVNpemUgPSBidWZmZXJTaXplKHRpbGVTaXplLCBndXR0ZXIsIHRoaXMudG1wU2l6ZSk7XG4gICAgICB0aWxlRXh0ZW50ID0gYnVmZmVyKHRpbGVFeHRlbnQsIHRpbGVSZXNvbHV0aW9uICogZ3V0dGVyLCB0aWxlRXh0ZW50KTtcbiAgICB9XG5cbiAgICBpZiAoc291cmNlUHJvamVjdGlvbk9iaiAmJiBzb3VyY2VQcm9qZWN0aW9uT2JqICE9PSBwcm9qZWN0aW9uT2JqKSB7XG4gICAgICB0aWxlUmVzb2x1dGlvbiA9IGNhbGN1bGF0ZVNvdXJjZVJlc29sdXRpb24oc291cmNlUHJvamVjdGlvbk9iaiwgcHJvamVjdGlvbk9iaiwgY29vcmRpbmF0ZSwgdGlsZVJlc29sdXRpb24pO1xuICAgICAgdGlsZUV4dGVudCA9IHRyYW5zZm9ybUV4dGVudCh0aWxlRXh0ZW50LCBwcm9qZWN0aW9uT2JqLCBzb3VyY2VQcm9qZWN0aW9uT2JqKTtcbiAgICAgIGNvb3JkaW5hdGUgPSB0cmFuc2Zvcm0oY29vcmRpbmF0ZSwgcHJvamVjdGlvbk9iaiwgc291cmNlUHJvamVjdGlvbk9iaik7XG4gICAgfVxuXG4gICAgdmFyIGJhc2VQYXJhbXMgPSB7XG4gICAgICAnU0VSVklDRSc6ICdXTVMnLFxuICAgICAgJ1ZFUlNJT04nOiBERUZBVUxUX1dNU19WRVJTSU9OLFxuICAgICAgJ1JFUVVFU1QnOiAnR2V0RmVhdHVyZUluZm8nLFxuICAgICAgJ0ZPUk1BVCc6ICdpbWFnZS9wbmcnLFxuICAgICAgJ1RSQU5TUEFSRU5UJzogdHJ1ZSxcbiAgICAgICdRVUVSWV9MQVlFUlMnOiB0aGlzLnBhcmFtc19bJ0xBWUVSUyddXG4gICAgfTtcbiAgICBhc3NpZ24oYmFzZVBhcmFtcywgdGhpcy5wYXJhbXNfLCBwYXJhbXMpO1xuXG4gICAgdmFyIHggPSBNYXRoLmZsb29yKChjb29yZGluYXRlWzBdIC0gdGlsZUV4dGVudFswXSkgLyB0aWxlUmVzb2x1dGlvbik7XG4gICAgdmFyIHkgPSBNYXRoLmZsb29yKCh0aWxlRXh0ZW50WzNdIC0gY29vcmRpbmF0ZVsxXSkgLyB0aWxlUmVzb2x1dGlvbik7XG5cbiAgICBiYXNlUGFyYW1zW3RoaXMudjEzXyA/ICdJJyA6ICdYJ10gPSB4O1xuICAgIGJhc2VQYXJhbXNbdGhpcy52MTNfID8gJ0onIDogJ1knXSA9IHk7XG5cbiAgICByZXR1cm4gdGhpcy5nZXRSZXF1ZXN0VXJsXyh0aWxlQ29vcmQsIHRpbGVTaXplLCB0aWxlRXh0ZW50LFxuICAgICAgMSwgc291cmNlUHJvamVjdGlvbk9iaiB8fCBwcm9qZWN0aW9uT2JqLCBiYXNlUGFyYW1zKTtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIFRpbGVXTVMucHJvdG90eXBlLmdldEd1dHRlciA9IGZ1bmN0aW9uIGdldEd1dHRlciAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ3V0dGVyXztcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSB1c2VyLXByb3ZpZGVkIHBhcmFtcywgaS5lLiB0aG9zZSBwYXNzZWQgdG8gdGhlIGNvbnN0cnVjdG9yIHRocm91Z2hcbiAgICogdGhlIFwicGFyYW1zXCIgb3B0aW9uLCBhbmQgcG9zc2libHkgdXBkYXRlZCB1c2luZyB0aGUgdXBkYXRlUGFyYW1zIG1ldGhvZC5cbiAgICogQHJldHVybiB7T2JqZWN0fSBQYXJhbXMuXG4gICAqIEBhcGlcbiAgICovXG4gIFRpbGVXTVMucHJvdG90eXBlLmdldFBhcmFtcyA9IGZ1bmN0aW9uIGdldFBhcmFtcyAoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyYW1zXztcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gdGlsZVNpemUgVGlsZSBzaXplLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IHRpbGVFeHRlbnQgVGlsZSBleHRlbnQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgUGFyYW1zLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfSBSZXF1ZXN0IFVSTC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIFRpbGVXTVMucHJvdG90eXBlLmdldFJlcXVlc3RVcmxfID0gZnVuY3Rpb24gZ2V0UmVxdWVzdFVybF8gKHRpbGVDb29yZCwgdGlsZVNpemUsIHRpbGVFeHRlbnQsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24sIHBhcmFtcykge1xuXG4gICAgdmFyIHVybHMgPSB0aGlzLnVybHM7XG4gICAgaWYgKCF1cmxzKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHBhcmFtc1snV0lEVEgnXSA9IHRpbGVTaXplWzBdO1xuICAgIHBhcmFtc1snSEVJR0hUJ10gPSB0aWxlU2l6ZVsxXTtcblxuICAgIHBhcmFtc1t0aGlzLnYxM18gPyAnQ1JTJyA6ICdTUlMnXSA9IHByb2plY3Rpb24uZ2V0Q29kZSgpO1xuXG4gICAgaWYgKCEoJ1NUWUxFUycgaW4gdGhpcy5wYXJhbXNfKSkge1xuICAgICAgcGFyYW1zWydTVFlMRVMnXSA9ICcnO1xuICAgIH1cblxuICAgIGlmIChwaXhlbFJhdGlvICE9IDEpIHtcbiAgICAgIHN3aXRjaCAodGhpcy5zZXJ2ZXJUeXBlXykge1xuICAgICAgICBjYXNlIFdNU1NlcnZlclR5cGUuR0VPU0VSVkVSOlxuICAgICAgICAgIHZhciBkcGkgPSAoOTAgKiBwaXhlbFJhdGlvICsgMC41KSB8IDA7XG4gICAgICAgICAgaWYgKCdGT1JNQVRfT1BUSU9OUycgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICBwYXJhbXNbJ0ZPUk1BVF9PUFRJT05TJ10gKz0gJztkcGk6JyArIGRwaTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyYW1zWydGT1JNQVRfT1BUSU9OUyddID0gJ2RwaTonICsgZHBpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBXTVNTZXJ2ZXJUeXBlLk1BUFNFUlZFUjpcbiAgICAgICAgICBwYXJhbXNbJ01BUF9SRVNPTFVUSU9OJ10gPSA5MCAqIHBpeGVsUmF0aW87XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgV01TU2VydmVyVHlwZS5DQVJNRU5UQV9TRVJWRVI6XG4gICAgICAgIGNhc2UgV01TU2VydmVyVHlwZS5RR0lTOlxuICAgICAgICAgIHBhcmFtc1snRFBJJ10gPSA5MCAqIHBpeGVsUmF0aW87XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYXNzZXJ0KGZhbHNlLCA1Mik7IC8vIFVua25vd24gYHNlcnZlclR5cGVgIGNvbmZpZ3VyZWRcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgYXhpc09yaWVudGF0aW9uID0gcHJvamVjdGlvbi5nZXRBeGlzT3JpZW50YXRpb24oKTtcbiAgICB2YXIgYmJveCA9IHRpbGVFeHRlbnQ7XG4gICAgaWYgKHRoaXMudjEzXyAmJiBheGlzT3JpZW50YXRpb24uc3Vic3RyKDAsIDIpID09ICduZScpIHtcbiAgICAgIHZhciB0bXA7XG4gICAgICB0bXAgPSB0aWxlRXh0ZW50WzBdO1xuICAgICAgYmJveFswXSA9IHRpbGVFeHRlbnRbMV07XG4gICAgICBiYm94WzFdID0gdG1wO1xuICAgICAgdG1wID0gdGlsZUV4dGVudFsyXTtcbiAgICAgIGJib3hbMl0gPSB0aWxlRXh0ZW50WzNdO1xuICAgICAgYmJveFszXSA9IHRtcDtcbiAgICB9XG4gICAgcGFyYW1zWydCQk9YJ10gPSBiYm94LmpvaW4oJywnKTtcblxuICAgIHZhciB1cmw7XG4gICAgaWYgKHVybHMubGVuZ3RoID09IDEpIHtcbiAgICAgIHVybCA9IHVybHNbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBpbmRleCA9IG1vZHVsbyh0aWxlQ29vcmRIYXNoKHRpbGVDb29yZCksIHVybHMubGVuZ3RoKTtcbiAgICAgIHVybCA9IHVybHNbaW5kZXhdO1xuICAgIH1cbiAgICByZXR1cm4gYXBwZW5kUGFyYW1zKHVybCwgcGFyYW1zKTtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIFRpbGVXTVMucHJvdG90eXBlLmdldFRpbGVQaXhlbFJhdGlvID0gZnVuY3Rpb24gZ2V0VGlsZVBpeGVsUmF0aW8gKHBpeGVsUmF0aW8pIHtcbiAgICByZXR1cm4gKCF0aGlzLmhpZHBpXyB8fCB0aGlzLnNlcnZlclR5cGVfID09PSB1bmRlZmluZWQpID8gMSA6XG4gICAgLyoqIEB0eXBlIHtudW1iZXJ9ICovIChwaXhlbFJhdGlvKTtcbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUga2V5IGZvciB0aGUgY3VycmVudCBwYXJhbXMuXG4gICAqL1xuICBUaWxlV01TLnByb3RvdHlwZS5nZXRLZXlGb3JQYXJhbXNfID0gZnVuY3Rpb24gZ2V0S2V5Rm9yUGFyYW1zXyAoKSB7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciByZXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5wYXJhbXNfKSB7XG4gICAgICByZXNbaSsrXSA9IGtleSArICctJyArIHRoaXMucGFyYW1zX1trZXldO1xuICAgIH1cbiAgICByZXR1cm4gcmVzLmpvaW4oJy8nKTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlIHRoZSB1c2VyLXByb3ZpZGVkIHBhcmFtcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyBQYXJhbXMuXG4gICAqIEBhcGlcbiAgICovXG4gIFRpbGVXTVMucHJvdG90eXBlLnVwZGF0ZVBhcmFtcyA9IGZ1bmN0aW9uIHVwZGF0ZVBhcmFtcyAocGFyYW1zKSB7XG4gICAgYXNzaWduKHRoaXMucGFyYW1zXywgcGFyYW1zKTtcbiAgICB0aGlzLnVwZGF0ZVYxM18oKTtcbiAgICB0aGlzLnNldEtleSh0aGlzLmdldEtleUZvclBhcmFtc18oKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBUaWxlV01TLnByb3RvdHlwZS51cGRhdGVWMTNfID0gZnVuY3Rpb24gdXBkYXRlVjEzXyAoKSB7XG4gICAgdmFyIHZlcnNpb24gPSB0aGlzLnBhcmFtc19bJ1ZFUlNJT04nXSB8fCBERUZBVUxUX1dNU19WRVJTSU9OO1xuICAgIHRoaXMudjEzXyA9IGNvbXBhcmVWZXJzaW9ucyh2ZXJzaW9uLCAnMS4zJykgPj0gMDtcbiAgfTtcblxuICByZXR1cm4gVGlsZVdNUztcbn0oVGlsZUltYWdlKSk7XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGhlIHRpbGUgY29vcmRpbmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gVGhlIHBpeGVsIHJhdGlvXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFRoZSBwcm9qZWN0aW9uXG4gKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfSBUaGUgdGlsZSBVUkxcbiAqIEB0aGlzIHtUaWxlV01TfVxuICovXG5mdW5jdGlvbiB0aWxlVXJsRnVuY3Rpb24odGlsZUNvb3JkLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKSB7XG5cbiAgdmFyIHRpbGVHcmlkID0gdGhpcy5nZXRUaWxlR3JpZCgpO1xuICBpZiAoIXRpbGVHcmlkKSB7XG4gICAgdGlsZUdyaWQgPSB0aGlzLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgfVxuXG4gIGlmICh0aWxlR3JpZC5nZXRSZXNvbHV0aW9ucygpLmxlbmd0aCA8PSB0aWxlQ29vcmRbMF0pIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHBpeGVsUmF0aW8gIT0gMSAmJiAoIXRoaXMuaGlkcGlfIHx8IHRoaXMuc2VydmVyVHlwZV8gPT09IHVuZGVmaW5lZCkpIHtcbiAgICBwaXhlbFJhdGlvID0gMTtcbiAgfVxuXG4gIHZhciB0aWxlUmVzb2x1dGlvbiA9IHRpbGVHcmlkLmdldFJlc29sdXRpb24odGlsZUNvb3JkWzBdKTtcbiAgdmFyIHRpbGVFeHRlbnQgPSB0aWxlR3JpZC5nZXRUaWxlQ29vcmRFeHRlbnQodGlsZUNvb3JkLCB0aGlzLnRtcEV4dGVudF8pO1xuICB2YXIgdGlsZVNpemUgPSB0b1NpemUoXG4gICAgdGlsZUdyaWQuZ2V0VGlsZVNpemUodGlsZUNvb3JkWzBdKSwgdGhpcy50bXBTaXplKTtcblxuICB2YXIgZ3V0dGVyID0gdGhpcy5ndXR0ZXJfO1xuICBpZiAoZ3V0dGVyICE9PSAwKSB7XG4gICAgdGlsZVNpemUgPSBidWZmZXJTaXplKHRpbGVTaXplLCBndXR0ZXIsIHRoaXMudG1wU2l6ZSk7XG4gICAgdGlsZUV4dGVudCA9IGJ1ZmZlcih0aWxlRXh0ZW50LCB0aWxlUmVzb2x1dGlvbiAqIGd1dHRlciwgdGlsZUV4dGVudCk7XG4gIH1cblxuICBpZiAocGl4ZWxSYXRpbyAhPSAxKSB7XG4gICAgdGlsZVNpemUgPSBzY2FsZVNpemUodGlsZVNpemUsIHBpeGVsUmF0aW8sIHRoaXMudG1wU2l6ZSk7XG4gIH1cblxuICB2YXIgYmFzZVBhcmFtcyA9IHtcbiAgICAnU0VSVklDRSc6ICdXTVMnLFxuICAgICdWRVJTSU9OJzogREVGQVVMVF9XTVNfVkVSU0lPTixcbiAgICAnUkVRVUVTVCc6ICdHZXRNYXAnLFxuICAgICdGT1JNQVQnOiAnaW1hZ2UvcG5nJyxcbiAgICAnVFJBTlNQQVJFTlQnOiB0cnVlXG4gIH07XG4gIGFzc2lnbihiYXNlUGFyYW1zLCB0aGlzLnBhcmFtc18pO1xuXG4gIHJldHVybiB0aGlzLmdldFJlcXVlc3RVcmxfKHRpbGVDb29yZCwgdGlsZVNpemUsIHRpbGVFeHRlbnQsXG4gICAgcGl4ZWxSYXRpbywgcHJvamVjdGlvbiwgYmFzZVBhcmFtcyk7XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgVGlsZVdNUztcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsZVdNUy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1VURkdyaWRcbiAqL1xuXG5pbXBvcnQgVGlsZSBmcm9tICcuLi9UaWxlLmpzJztcbmltcG9ydCBUaWxlU3RhdGUgZnJvbSAnLi4vVGlsZVN0YXRlLmpzJztcbmltcG9ydCB7Y3JlYXRlRnJvbVRlbXBsYXRlcywgbnVsbFRpbGVVcmxGdW5jdGlvbn0gZnJvbSAnLi4vdGlsZXVybGZ1bmN0aW9uLmpzJztcbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7bGlzdGVuT25jZX0gZnJvbSAnLi4vZXZlbnRzLmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQge2FwcGx5VHJhbnNmb3JtLCBpbnRlcnNlY3RzfSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHtqc29ucCBhcyByZXF1ZXN0SlNPTlB9IGZyb20gJy4uL25ldC5qcyc7XG5pbXBvcnQge2dldCBhcyBnZXRQcm9qZWN0aW9uLCBnZXRUcmFuc2Zvcm1Gcm9tUHJvamVjdGlvbnN9IGZyb20gJy4uL3Byb2ouanMnO1xuaW1wb3J0IFNvdXJjZVN0YXRlIGZyb20gJy4vU3RhdGUuanMnO1xuaW1wb3J0IFRpbGVTb3VyY2UgZnJvbSAnLi9UaWxlLmpzJztcbmltcG9ydCB7Z2V0S2V5WlhZfSBmcm9tICcuLi90aWxlY29vcmQuanMnO1xuaW1wb3J0IHtjcmVhdGVYWVosIGV4dGVudEZyb21Qcm9qZWN0aW9ufSBmcm9tICcuLi90aWxlZ3JpZC5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gVVRGR3JpZEpTT05cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gZ3JpZCBUaGUgZ3JpZC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0ga2V5cyBUaGUga2V5cy5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0PHN0cmluZywgT2JqZWN0Pn0gW2RhdGFdIE9wdGlvbmFsIGRhdGEuXG4gKi9cblxuXG5leHBvcnQgdmFyIEN1c3RvbVRpbGUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChUaWxlKSB7XG4gIGZ1bmN0aW9uIEN1c3RvbVRpbGUodGlsZUNvb3JkLCBzdGF0ZSwgc3JjLCBleHRlbnQsIHByZWVtcHRpdmUsIGpzb25wKSB7XG5cbiAgICBUaWxlLmNhbGwodGhpcywgdGlsZUNvb3JkLCBzdGF0ZSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5zcmNfID0gc3JjO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgKi9cbiAgICB0aGlzLmV4dGVudF8gPSBleHRlbnQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMucHJlZW1wdGl2ZV8gPSBwcmVlbXB0aXZlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICAgKi9cbiAgICB0aGlzLmdyaWRfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAgICovXG4gICAgdGhpcy5rZXlzXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBPYmplY3Q+fHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmRhdGFfID0gbnVsbDtcblxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmpzb25wXyA9IGpzb25wO1xuXG4gIH1cblxuICBpZiAoIFRpbGUgKSBDdXN0b21UaWxlLl9fcHJvdG9fXyA9IFRpbGU7XG4gIEN1c3RvbVRpbGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggVGlsZSAmJiBUaWxlLnByb3RvdHlwZSApO1xuICBDdXN0b21UaWxlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEN1c3RvbVRpbGU7XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgaW1hZ2UgZWxlbWVudCBmb3IgdGhpcyB0aWxlLlxuICAgKiBAcmV0dXJuIHtIVE1MSW1hZ2VFbGVtZW50fSBJbWFnZS5cbiAgICovXG4gIEN1c3RvbVRpbGUucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gZ2V0SW1hZ2UgKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIFN5bmNocm9ub3VzbHkgcmV0dXJucyBkYXRhIGF0IGdpdmVuIGNvb3JkaW5hdGUgKGlmIGF2YWlsYWJsZSkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAqIEByZXR1cm4geyp9IFRoZSBkYXRhLlxuICAgKi9cbiAgQ3VzdG9tVGlsZS5wcm90b3R5cGUuZ2V0RGF0YSA9IGZ1bmN0aW9uIGdldERhdGEgKGNvb3JkaW5hdGUpIHtcbiAgICBpZiAoIXRoaXMuZ3JpZF8gfHwgIXRoaXMua2V5c18pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgeFJlbGF0aXZlID0gKGNvb3JkaW5hdGVbMF0gLSB0aGlzLmV4dGVudF9bMF0pIC9cbiAgICAgICAgKHRoaXMuZXh0ZW50X1syXSAtIHRoaXMuZXh0ZW50X1swXSk7XG4gICAgdmFyIHlSZWxhdGl2ZSA9IChjb29yZGluYXRlWzFdIC0gdGhpcy5leHRlbnRfWzFdKSAvXG4gICAgICAgICh0aGlzLmV4dGVudF9bM10gLSB0aGlzLmV4dGVudF9bMV0pO1xuXG4gICAgdmFyIHJvdyA9IHRoaXMuZ3JpZF9bTWF0aC5mbG9vcigoMSAtIHlSZWxhdGl2ZSkgKiB0aGlzLmdyaWRfLmxlbmd0aCldO1xuXG4gICAgaWYgKHR5cGVvZiByb3cgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgY29kZSA9IHJvdy5jaGFyQ29kZUF0KE1hdGguZmxvb3IoeFJlbGF0aXZlICogcm93Lmxlbmd0aCkpO1xuICAgIGlmIChjb2RlID49IDkzKSB7XG4gICAgICBjb2RlLS07XG4gICAgfVxuICAgIGlmIChjb2RlID49IDM1KSB7XG4gICAgICBjb2RlLS07XG4gICAgfVxuICAgIGNvZGUgLT0gMzI7XG5cbiAgICB2YXIgZGF0YSA9IG51bGw7XG4gICAgaWYgKGNvZGUgaW4gdGhpcy5rZXlzXykge1xuICAgICAgdmFyIGlkID0gdGhpcy5rZXlzX1tjb2RlXTtcbiAgICAgIGlmICh0aGlzLmRhdGFfICYmIGlkIGluIHRoaXMuZGF0YV8pIHtcbiAgICAgICAgZGF0YSA9IHRoaXMuZGF0YV9baWRdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YSA9IGlkO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBDYWxscyB0aGUgY2FsbGJhY2sgKHN5bmNocm9ub3VzbHkgYnkgZGVmYXVsdCkgd2l0aCB0aGUgYXZhaWxhYmxlIGRhdGFcbiAgICogZm9yIGdpdmVuIGNvb3JkaW5hdGUgKG9yIGBudWxsYCBpZiBub3QgeWV0IGxvYWRlZCkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczogVCwgKil9IGNhbGxiYWNrIENhbGxiYWNrLlxuICAgKiBAcGFyYW0ge1Q9fSBvcHRfdGhpcyBUaGUgb2JqZWN0IHRvIHVzZSBhcyBgdGhpc2AgaW4gdGhlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfcmVxdWVzdCBJZiBgdHJ1ZWAgdGhlIGNhbGxiYWNrIGlzIGFsd2F5cyBhc3luYy5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhlIHRpbGUgZGF0YSBpcyByZXF1ZXN0ZWQgaWYgbm90IHlldCBsb2FkZWQuXG4gICAqIEB0ZW1wbGF0ZSBUXG4gICAqL1xuICBDdXN0b21UaWxlLnByb3RvdHlwZS5mb3JEYXRhQXRDb29yZGluYXRlID0gZnVuY3Rpb24gZm9yRGF0YUF0Q29vcmRpbmF0ZSAoY29vcmRpbmF0ZSwgY2FsbGJhY2ssIG9wdF90aGlzLCBvcHRfcmVxdWVzdCkge1xuICAgIGlmICh0aGlzLnN0YXRlID09IFRpbGVTdGF0ZS5JRExFICYmIG9wdF9yZXF1ZXN0ID09PSB0cnVlKSB7XG4gICAgICBsaXN0ZW5PbmNlKHRoaXMsIEV2ZW50VHlwZS5DSEFOR0UsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgY2FsbGJhY2suY2FsbChvcHRfdGhpcywgdGhpcy5nZXREYXRhKGNvb3JkaW5hdGUpKTtcbiAgICAgIH0sIHRoaXMpO1xuICAgICAgdGhpcy5sb2FkSW50ZXJuYWxfKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChvcHRfcmVxdWVzdCA9PT0gdHJ1ZSkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNhbGxiYWNrLmNhbGwob3B0X3RoaXMsIHRoaXMuZ2V0RGF0YShjb29yZGluYXRlKSk7XG4gICAgICAgIH0uYmluZCh0aGlzKSwgMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjay5jYWxsKG9wdF90aGlzLCB0aGlzLmdldERhdGEoY29vcmRpbmF0ZSkpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgQ3VzdG9tVGlsZS5wcm90b3R5cGUuZ2V0S2V5ID0gZnVuY3Rpb24gZ2V0S2V5ICgpIHtcbiAgICByZXR1cm4gdGhpcy5zcmNfO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBDdXN0b21UaWxlLnByb3RvdHlwZS5oYW5kbGVFcnJvcl8gPSBmdW5jdGlvbiBoYW5kbGVFcnJvcl8gKCkge1xuICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuRVJST1I7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH07XG5cblxuICAvKipcbiAgICogQHBhcmFtIHshVVRGR3JpZEpTT059IGpzb24gVVRGR3JpZCBkYXRhLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgQ3VzdG9tVGlsZS5wcm90b3R5cGUuaGFuZGxlTG9hZF8gPSBmdW5jdGlvbiBoYW5kbGVMb2FkXyAoanNvbikge1xuICAgIHRoaXMuZ3JpZF8gPSBqc29uWydncmlkJ107XG4gICAgdGhpcy5rZXlzXyA9IGpzb25bJ2tleXMnXTtcbiAgICB0aGlzLmRhdGFfID0ganNvblsnZGF0YSddO1xuXG4gICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5FTVBUWTtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgQ3VzdG9tVGlsZS5wcm90b3R5cGUubG9hZEludGVybmFsXyA9IGZ1bmN0aW9uIGxvYWRJbnRlcm5hbF8gKCkge1xuICAgIGlmICh0aGlzLnN0YXRlID09IFRpbGVTdGF0ZS5JRExFKSB7XG4gICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkxPQURJTkc7XG4gICAgICBpZiAodGhpcy5qc29ucF8pIHtcbiAgICAgICAgcmVxdWVzdEpTT05QKHRoaXMuc3JjXywgdGhpcy5oYW5kbGVMb2FkXy5iaW5kKHRoaXMpLFxuICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3JfLmJpbmQodGhpcykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGNsaWVudCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICBjbGllbnQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMub25YSFJMb2FkXy5iaW5kKHRoaXMpKTtcbiAgICAgICAgY2xpZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5vblhIUkVycm9yXy5iaW5kKHRoaXMpKTtcbiAgICAgICAgY2xpZW50Lm9wZW4oJ0dFVCcsIHRoaXMuc3JjXyk7XG4gICAgICAgIGNsaWVudC5zZW5kKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IFRoZSBsb2FkIGV2ZW50LlxuICAgKi9cbiAgQ3VzdG9tVGlsZS5wcm90b3R5cGUub25YSFJMb2FkXyA9IGZ1bmN0aW9uIG9uWEhSTG9hZF8gKGV2ZW50KSB7XG4gICAgdmFyIGNsaWVudCA9IC8qKiBAdHlwZSB7WE1MSHR0cFJlcXVlc3R9ICovIChldmVudC50YXJnZXQpO1xuICAgIC8vIHN0YXR1cyB3aWxsIGJlIDAgZm9yIGZpbGU6Ly8gdXJsc1xuICAgIGlmICghY2xpZW50LnN0YXR1cyB8fCBjbGllbnQuc3RhdHVzID49IDIwMCAmJiBjbGllbnQuc3RhdHVzIDwgMzAwKSB7XG4gICAgICB2YXIgcmVzcG9uc2U7XG4gICAgICB0cnkge1xuICAgICAgICByZXNwb25zZSA9IC8qKiBAdHlwZSB7IVVURkdyaWRKU09OfSAqLyhKU09OLnBhcnNlKGNsaWVudC5yZXNwb25zZVRleHQpKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aGlzLmhhbmRsZUVycm9yXygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmhhbmRsZUxvYWRfKHJlc3BvbnNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5oYW5kbGVFcnJvcl8oKTtcbiAgICB9XG4gIH07XG5cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgVGhlIGVycm9yIGV2ZW50LlxuICAgKi9cbiAgQ3VzdG9tVGlsZS5wcm90b3R5cGUub25YSFJFcnJvcl8gPSBmdW5jdGlvbiBvblhIUkVycm9yXyAoZXZlbnQpIHtcbiAgICB0aGlzLmhhbmRsZUVycm9yXygpO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgQ3VzdG9tVGlsZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQgKCkge1xuICAgIGlmICh0aGlzLnByZWVtcHRpdmVfKSB7XG4gICAgICB0aGlzLmxvYWRJbnRlcm5hbF8oKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIEN1c3RvbVRpbGU7XG59KFRpbGUpKTtcblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3ByZWVtcHRpdmU9dHJ1ZV1cbiAqIElmIGB0cnVlYCB0aGUgVVRGR3JpZCBzb3VyY2UgbG9hZHMgdGhlIHRpbGVzIGJhc2VkIG9uIHRoZWlyIFwidmlzaWJpbGl0eVwiLlxuICogVGhpcyBpbXByb3ZlcyB0aGUgc3BlZWQgb2YgcmVzcG9uc2UsIGJ1dCBpbmNyZWFzZXMgdHJhZmZpYy5cbiAqIE5vdGUgdGhhdCBpZiBzZXQgdG8gYGZhbHNlYCwgeW91IG5lZWQgdG8gcGFzcyBgdHJ1ZWAgYXMgYG9wdF9yZXF1ZXN0YFxuICogdG8gdGhlIGBmb3JEYXRhQXRDb29yZGluYXRlQW5kUmVzb2x1dGlvbmAgbWV0aG9kIG90aGVyd2lzZSBubyBkYXRhXG4gKiB3aWxsIGV2ZXIgYmUgbG9hZGVkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbanNvbnA9ZmFsc2VdIFVzZSBKU09OUCB3aXRoIGNhbGxiYWNrIHRvIGxvYWQgdGhlIFRpbGVKU09OLlxuICogVXNlZnVsIHdoZW4gdGhlIHNlcnZlciBkb2VzIG5vdCBzdXBwb3J0IENPUlMuLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1RpbGVKU09OLmpzXCIpLkNvbmZpZ30gW3RpbGVKU09OXSBUaWxlSlNPTiBjb25maWd1cmF0aW9uIGZvciB0aGlzIHNvdXJjZS5cbiAqIElmIG5vdCBwcm92aWRlZCwgYHVybGAgbXVzdCBiZSBjb25maWd1cmVkLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt1cmxdIFRpbGVKU09OIGVuZHBvaW50IHRoYXQgcHJvdmlkZXMgdGhlIGNvbmZpZ3VyYXRpb24gZm9yIHRoaXMgc291cmNlLlxuICogUmVxdWVzdCB3aWxsIGJlIG1hZGUgdGhyb3VnaCBKU09OUC4gSWYgbm90IHByb3ZpZGVkLCBgdGlsZUpTT05gIG11c3QgYmUgY29uZmlndXJlZC5cbiAqL1xuXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogTGF5ZXIgc291cmNlIGZvciBVVEZHcmlkIGludGVyYWN0aW9uIGRhdGEgbG9hZGVkIGZyb20gVGlsZUpTT04gZm9ybWF0LlxuICogQGFwaVxuICovXG52YXIgVVRGR3JpZCA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFRpbGVTb3VyY2UpIHtcbiAgZnVuY3Rpb24gVVRGR3JpZChvcHRpb25zKSB7XG4gICAgVGlsZVNvdXJjZS5jYWxsKHRoaXMsIHtcbiAgICAgIHByb2plY3Rpb246IGdldFByb2plY3Rpb24oJ0VQU0c6Mzg1NycpLFxuICAgICAgc3RhdGU6IFNvdXJjZVN0YXRlLkxPQURJTkdcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5wcmVlbXB0aXZlXyA9IG9wdGlvbnMucHJlZW1wdGl2ZSAhPT0gdW5kZWZpbmVkID9cbiAgICAgIG9wdGlvbnMucHJlZW1wdGl2ZSA6IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshaW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbGVVcmxGdW5jdGlvbl8gPSBudWxsVGlsZVVybEZ1bmN0aW9uO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnRlbXBsYXRlXyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5qc29ucF8gPSBvcHRpb25zLmpzb25wIHx8IGZhbHNlO1xuXG4gICAgaWYgKG9wdGlvbnMudXJsKSB7XG4gICAgICBpZiAodGhpcy5qc29ucF8pIHtcbiAgICAgICAgcmVxdWVzdEpTT05QKG9wdGlvbnMudXJsLCB0aGlzLmhhbmRsZVRpbGVKU09OUmVzcG9uc2UuYmluZCh0aGlzKSxcbiAgICAgICAgICB0aGlzLmhhbmRsZVRpbGVKU09ORXJyb3IuYmluZCh0aGlzKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgY2xpZW50ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIGNsaWVudC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5vblhIUkxvYWRfLmJpbmQodGhpcykpO1xuICAgICAgICBjbGllbnQuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLm9uWEhSRXJyb3JfLmJpbmQodGhpcykpO1xuICAgICAgICBjbGllbnQub3BlbignR0VUJywgb3B0aW9ucy51cmwpO1xuICAgICAgICBjbGllbnQuc2VuZCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3B0aW9ucy50aWxlSlNPTikge1xuICAgICAgdGhpcy5oYW5kbGVUaWxlSlNPTlJlc3BvbnNlKG9wdGlvbnMudGlsZUpTT04pO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3NlcnQoZmFsc2UsIDUxKTsgLy8gRWl0aGVyIGB1cmxgIG9yIGB0aWxlSlNPTmAgb3B0aW9ucyBtdXN0IGJlIHByb3ZpZGVkXG4gICAgfVxuXG4gIH1cblxuICBpZiAoIFRpbGVTb3VyY2UgKSBVVEZHcmlkLl9fcHJvdG9fXyA9IFRpbGVTb3VyY2U7XG4gIFVURkdyaWQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggVGlsZVNvdXJjZSAmJiBUaWxlU291cmNlLnByb3RvdHlwZSApO1xuICBVVEZHcmlkLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFVURkdyaWQ7XG5cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgVGhlIGxvYWQgZXZlbnQuXG4gICAqL1xuICBVVEZHcmlkLnByb3RvdHlwZS5vblhIUkxvYWRfID0gZnVuY3Rpb24gb25YSFJMb2FkXyAoZXZlbnQpIHtcbiAgICB2YXIgY2xpZW50ID0gLyoqIEB0eXBlIHtYTUxIdHRwUmVxdWVzdH0gKi8gKGV2ZW50LnRhcmdldCk7XG4gICAgLy8gc3RhdHVzIHdpbGwgYmUgMCBmb3IgZmlsZTovLyB1cmxzXG4gICAgaWYgKCFjbGllbnQuc3RhdHVzIHx8IGNsaWVudC5zdGF0dXMgPj0gMjAwICYmIGNsaWVudC5zdGF0dXMgPCAzMDApIHtcbiAgICAgIHZhciByZXNwb25zZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlc3BvbnNlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1RpbGVKU09OLmpzXCIpLkNvbmZpZ30gKi8oSlNPTi5wYXJzZShjbGllbnQucmVzcG9uc2VUZXh0KSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVUaWxlSlNPTkVycm9yKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuaGFuZGxlVGlsZUpTT05SZXNwb25zZShyZXNwb25zZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGFuZGxlVGlsZUpTT05FcnJvcigpO1xuICAgIH1cbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBUaGUgZXJyb3IgZXZlbnQuXG4gICAqL1xuICBVVEZHcmlkLnByb3RvdHlwZS5vblhIUkVycm9yXyA9IGZ1bmN0aW9uIG9uWEhSRXJyb3JfIChldmVudCkge1xuICAgIHRoaXMuaGFuZGxlVGlsZUpTT05FcnJvcigpO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgdGVtcGxhdGUgZnJvbSBUaWxlSlNPTi5cbiAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gVGhlIHRlbXBsYXRlIGZyb20gVGlsZUpTT04uXG4gICAqIEBhcGlcbiAgICovXG4gIFVURkdyaWQucHJvdG90eXBlLmdldFRlbXBsYXRlID0gZnVuY3Rpb24gZ2V0VGVtcGxhdGUgKCkge1xuICAgIHJldHVybiB0aGlzLnRlbXBsYXRlXztcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBDYWxscyB0aGUgY2FsbGJhY2sgKHN5bmNocm9ub3VzbHkgYnkgZGVmYXVsdCkgd2l0aCB0aGUgYXZhaWxhYmxlIGRhdGFcbiAgICogZm9yIGdpdmVuIGNvb3JkaW5hdGUgYW5kIHJlc29sdXRpb24gKG9yIGBudWxsYCBpZiBub3QgeWV0IGxvYWRlZCBvclxuICAgKiBpbiBjYXNlIG9mIGFuIGVycm9yKS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtmdW5jdGlvbigqKX0gY2FsbGJhY2sgQ2FsbGJhY2suXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9yZXF1ZXN0IElmIGB0cnVlYCB0aGUgY2FsbGJhY2sgaXMgYWx3YXlzIGFzeW5jLlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGUgdGlsZSBkYXRhIGlzIHJlcXVlc3RlZCBpZiBub3QgeWV0IGxvYWRlZC5cbiAgICogQGFwaVxuICAgKi9cbiAgVVRGR3JpZC5wcm90b3R5cGUuZm9yRGF0YUF0Q29vcmRpbmF0ZUFuZFJlc29sdXRpb24gPSBmdW5jdGlvbiBmb3JEYXRhQXRDb29yZGluYXRlQW5kUmVzb2x1dGlvbiAoXG4gICAgY29vcmRpbmF0ZSwgcmVzb2x1dGlvbiwgY2FsbGJhY2ssIG9wdF9yZXF1ZXN0KSB7XG4gICAgaWYgKHRoaXMudGlsZUdyaWQpIHtcbiAgICAgIHZhciB0aWxlQ29vcmQgPSB0aGlzLnRpbGVHcmlkLmdldFRpbGVDb29yZEZvckNvb3JkQW5kUmVzb2x1dGlvbihcbiAgICAgICAgY29vcmRpbmF0ZSwgcmVzb2x1dGlvbik7XG4gICAgICB2YXIgdGlsZSA9IC8qKiBAdHlwZSB7IUN1c3RvbVRpbGV9ICovKHRoaXMuZ2V0VGlsZShcbiAgICAgICAgdGlsZUNvb3JkWzBdLCB0aWxlQ29vcmRbMV0sIHRpbGVDb29yZFsyXSwgMSwgdGhpcy5nZXRQcm9qZWN0aW9uKCkpKTtcbiAgICAgIHRpbGUuZm9yRGF0YUF0Q29vcmRpbmF0ZShjb29yZGluYXRlLCBjYWxsYmFjaywgbnVsbCwgb3B0X3JlcXVlc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAob3B0X3JlcXVlc3QgPT09IHRydWUpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cblxuICAvKipcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgVVRGR3JpZC5wcm90b3R5cGUuaGFuZGxlVGlsZUpTT05FcnJvciA9IGZ1bmN0aW9uIGhhbmRsZVRpbGVKU09ORXJyb3IgKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoU291cmNlU3RhdGUuRVJST1IpO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIFRPRE86IHZlcnkgc2ltaWxhciB0byBvbC9zb3VyY2UvVGlsZUpTT04jaGFuZGxlVGlsZUpTT05SZXNwb25zZVxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9UaWxlSlNPTi5qc1wiKS5Db25maWd9IHRpbGVKU09OIFRpbGUgSlNPTi5cbiAgICovXG4gIFVURkdyaWQucHJvdG90eXBlLmhhbmRsZVRpbGVKU09OUmVzcG9uc2UgPSBmdW5jdGlvbiBoYW5kbGVUaWxlSlNPTlJlc3BvbnNlICh0aWxlSlNPTikge1xuXG4gICAgdmFyIGVwc2c0MzI2UHJvamVjdGlvbiA9IGdldFByb2plY3Rpb24oJ0VQU0c6NDMyNicpO1xuXG4gICAgdmFyIHNvdXJjZVByb2plY3Rpb24gPSB0aGlzLmdldFByb2plY3Rpb24oKTtcbiAgICB2YXIgZXh0ZW50O1xuICAgIGlmICh0aWxlSlNPTlsnYm91bmRzJ10gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHRyYW5zZm9ybSA9IGdldFRyYW5zZm9ybUZyb21Qcm9qZWN0aW9ucyhcbiAgICAgICAgZXBzZzQzMjZQcm9qZWN0aW9uLCBzb3VyY2VQcm9qZWN0aW9uKTtcbiAgICAgIGV4dGVudCA9IGFwcGx5VHJhbnNmb3JtKHRpbGVKU09OWydib3VuZHMnXSwgdHJhbnNmb3JtKTtcbiAgICB9XG5cbiAgICB2YXIgbWluWm9vbSA9IHRpbGVKU09OWydtaW56b29tJ10gfHwgMDtcbiAgICB2YXIgbWF4Wm9vbSA9IHRpbGVKU09OWydtYXh6b29tJ10gfHwgMjI7XG4gICAgdmFyIHRpbGVHcmlkID0gY3JlYXRlWFlaKHtcbiAgICAgIGV4dGVudDogZXh0ZW50RnJvbVByb2plY3Rpb24oc291cmNlUHJvamVjdGlvbiksXG4gICAgICBtYXhab29tOiBtYXhab29tLFxuICAgICAgbWluWm9vbTogbWluWm9vbVxuICAgIH0pO1xuICAgIHRoaXMudGlsZUdyaWQgPSB0aWxlR3JpZDtcblxuICAgIHRoaXMudGVtcGxhdGVfID0gdGlsZUpTT05bJ3RlbXBsYXRlJ107XG5cbiAgICB2YXIgZ3JpZHMgPSB0aWxlSlNPTlsnZ3JpZHMnXTtcbiAgICBpZiAoIWdyaWRzKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKFNvdXJjZVN0YXRlLkVSUk9SKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnRpbGVVcmxGdW5jdGlvbl8gPSBjcmVhdGVGcm9tVGVtcGxhdGVzKGdyaWRzLCB0aWxlR3JpZCk7XG5cbiAgICBpZiAodGlsZUpTT05bJ2F0dHJpYnV0aW9uJ10gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIGF0dHJpYnV0aW9uRXh0ZW50ID0gZXh0ZW50ICE9PSB1bmRlZmluZWQgP1xuICAgICAgICBleHRlbnQgOiBlcHNnNDMyNlByb2plY3Rpb24uZ2V0RXh0ZW50KCk7XG5cbiAgICAgIHRoaXMuc2V0QXR0cmlidXRpb25zKGZ1bmN0aW9uKGZyYW1lU3RhdGUpIHtcbiAgICAgICAgaWYgKGludGVyc2VjdHMoYXR0cmlidXRpb25FeHRlbnQsIGZyYW1lU3RhdGUuZXh0ZW50KSkge1xuICAgICAgICAgIHJldHVybiBbdGlsZUpTT05bJ2F0dHJpYnV0aW9uJ11dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZShTb3VyY2VTdGF0ZS5SRUFEWSk7XG5cbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgVVRGR3JpZC5wcm90b3R5cGUuZ2V0VGlsZSA9IGZ1bmN0aW9uIGdldFRpbGUgKHosIHgsIHksIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICB2YXIgdGlsZUNvb3JkS2V5ID0gZ2V0S2V5WlhZKHosIHgsIHkpO1xuICAgIGlmICh0aGlzLnRpbGVDYWNoZS5jb250YWluc0tleSh0aWxlQ29vcmRLZXkpKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAvKiogQHR5cGUgeyFpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLmRlZmF1bHR9ICovICh0aGlzLnRpbGVDYWNoZS5nZXQodGlsZUNvb3JkS2V5KSlcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB0aWxlQ29vcmQgPSBbeiwgeCwgeV07XG4gICAgICB2YXIgdXJsVGlsZUNvb3JkID1cbiAgICAgICAgICB0aGlzLmdldFRpbGVDb29yZEZvclRpbGVVcmxGdW5jdGlvbih0aWxlQ29vcmQsIHByb2plY3Rpb24pO1xuICAgICAgdmFyIHRpbGVVcmwgPSB0aGlzLnRpbGVVcmxGdW5jdGlvbl8odXJsVGlsZUNvb3JkLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKTtcbiAgICAgIHZhciB0aWxlID0gbmV3IEN1c3RvbVRpbGUoXG4gICAgICAgIHRpbGVDb29yZCxcbiAgICAgICAgdGlsZVVybCAhPT0gdW5kZWZpbmVkID8gVGlsZVN0YXRlLklETEUgOiBUaWxlU3RhdGUuRU1QVFksXG4gICAgICAgIHRpbGVVcmwgIT09IHVuZGVmaW5lZCA/IHRpbGVVcmwgOiAnJyxcbiAgICAgICAgdGhpcy50aWxlR3JpZC5nZXRUaWxlQ29vcmRFeHRlbnQodGlsZUNvb3JkKSxcbiAgICAgICAgdGhpcy5wcmVlbXB0aXZlXyxcbiAgICAgICAgdGhpcy5qc29ucF8pO1xuICAgICAgdGhpcy50aWxlQ2FjaGUuc2V0KHRpbGVDb29yZEtleSwgdGlsZSk7XG4gICAgICByZXR1cm4gdGlsZTtcbiAgICB9XG4gIH07XG5cblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIFVURkdyaWQucHJvdG90eXBlLnVzZVRpbGUgPSBmdW5jdGlvbiB1c2VUaWxlICh6LCB4LCB5KSB7XG4gICAgdmFyIHRpbGVDb29yZEtleSA9IGdldEtleVpYWSh6LCB4LCB5KTtcbiAgICBpZiAodGhpcy50aWxlQ2FjaGUuY29udGFpbnNLZXkodGlsZUNvb3JkS2V5KSkge1xuICAgICAgdGhpcy50aWxlQ2FjaGUuZ2V0KHRpbGVDb29yZEtleSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBVVEZHcmlkO1xufShUaWxlU291cmNlKSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgVVRGR3JpZDtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VVRGR3JpZC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvVmVjdG9ySW1hZ2VUaWxlXG4gKi9cbmltcG9ydCB7Z2V0VWlkfSBmcm9tICcuL3V0aWwuanMnO1xuaW1wb3J0IFRpbGUgZnJvbSAnLi9UaWxlLmpzJztcbmltcG9ydCBUaWxlU3RhdGUgZnJvbSAnLi9UaWxlU3RhdGUuanMnO1xuaW1wb3J0IHtjcmVhdGVDYW52YXNDb250ZXh0MkR9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7bGlzdGVuLCB1bmxpc3RlbkJ5S2V5fSBmcm9tICcuL2V2ZW50cy5qcyc7XG5pbXBvcnQge2dldEhlaWdodCwgZ2V0SW50ZXJzZWN0aW9uLCBnZXRXaWR0aH0gZnJvbSAnLi9leHRlbnQuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IHtsb2FkRmVhdHVyZXNYaHJ9IGZyb20gJy4vZmVhdHVyZWxvYWRlci5qcyc7XG5pbXBvcnQge1ZPSUR9IGZyb20gJy4vZnVuY3Rpb25zLmpzJztcblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFJlcGxheVN0YXRlXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGRpcnR5XG4gKiBAcHJvcGVydHkge251bGx8aW1wb3J0KFwiLi9yZW5kZXIuanNcIikuT3JkZXJGdW5jdGlvbn0gcmVuZGVyZWRSZW5kZXJPcmRlclxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJlbmRlcmVkVGlsZVJldmlzaW9uXG4gKiBAcHJvcGVydHkge251bWJlcn0gcmVuZGVyZWRSZXZpc2lvblxuICovXG5cblxudmFyIFZlY3RvckltYWdlVGlsZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFRpbGUpIHtcbiAgZnVuY3Rpb24gVmVjdG9ySW1hZ2VUaWxlKHRpbGVDb29yZCwgc3RhdGUsIHNvdXJjZVJldmlzaW9uLCBmb3JtYXQsIHRpbGVMb2FkRnVuY3Rpb24sXG4gICAgdXJsVGlsZUNvb3JkLCB0aWxlVXJsRnVuY3Rpb24sIHNvdXJjZVRpbGVHcmlkLCB0aWxlR3JpZCwgc291cmNlVGlsZXMsXG4gICAgcGl4ZWxSYXRpbywgcHJvamVjdGlvbiwgdGlsZUNsYXNzLCBoYW5kbGVUaWxlQ2hhbmdlLCB6b29tKSB7XG5cbiAgICBUaWxlLmNhbGwodGhpcywgdGlsZUNvb3JkLCBzdGF0ZSwge3RyYW5zaXRpb246IDB9KTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ+fVxuICAgICAqL1xuICAgIHRoaXMuY29udGV4dF8gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vZmVhdHVyZWxvYWRlci5qc1wiKS5GZWF0dXJlTG9hZGVyfVxuICAgICAqL1xuICAgIHRoaXMubG9hZGVyXztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBSZXBsYXlTdGF0ZT59XG4gICAgICovXG4gICAgdGhpcy5yZXBsYXlTdGF0ZV8gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIGltcG9ydChcIi4vVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgKi9cbiAgICB0aGlzLnNvdXJjZVRpbGVzXyA9IHNvdXJjZVRpbGVzO1xuXG4gICAgLyoqXG4gICAgICogS2V5cyBvZiBzb3VyY2UgdGlsZXMgdXNlZCBieSB0aGlzIHRpbGUuIFVzZSB3aXRoIHtAbGluayAjZ2V0VGlsZX0uXG4gICAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAgICovXG4gICAgdGhpcy50aWxlS2V5cyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgKi9cbiAgICB0aGlzLmV4dGVudCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuc291cmNlUmV2aXNpb25fID0gc291cmNlUmV2aXNpb247XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfVxuICAgICAqL1xuICAgIHRoaXMud3JhcHBlZFRpbGVDb29yZCA9IHVybFRpbGVDb29yZDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMubG9hZExpc3RlbmVyS2V5c18gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMuc291cmNlVGlsZUxpc3RlbmVyS2V5c18gPSBbXTtcblxuICAgIGlmICh1cmxUaWxlQ29vcmQpIHtcbiAgICAgIHZhciBleHRlbnQgPSB0aGlzLmV4dGVudCA9IHRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudCh1cmxUaWxlQ29vcmQpO1xuICAgICAgdmFyIHJlc29sdXRpb24gPSB0aWxlR3JpZC5nZXRSZXNvbHV0aW9uKHpvb20pO1xuICAgICAgdmFyIHNvdXJjZVogPSBzb3VyY2VUaWxlR3JpZC5nZXRaRm9yUmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICAgIHZhciB1c2VMb2FkZWRPbmx5ID0gem9vbSAhPSB0aWxlQ29vcmRbMF07XG4gICAgICB2YXIgbG9hZENvdW50ID0gMDtcbiAgICAgIHNvdXJjZVRpbGVHcmlkLmZvckVhY2hUaWxlQ29vcmQoZXh0ZW50LCBzb3VyY2VaLCBmdW5jdGlvbihzb3VyY2VUaWxlQ29vcmQpIHtcbiAgICAgICAgdmFyIHNoYXJlZEV4dGVudCA9IGdldEludGVyc2VjdGlvbihleHRlbnQsXG4gICAgICAgICAgc291cmNlVGlsZUdyaWQuZ2V0VGlsZUNvb3JkRXh0ZW50KHNvdXJjZVRpbGVDb29yZCkpO1xuICAgICAgICB2YXIgc291cmNlRXh0ZW50ID0gc291cmNlVGlsZUdyaWQuZ2V0RXh0ZW50KCk7XG4gICAgICAgIGlmIChzb3VyY2VFeHRlbnQpIHtcbiAgICAgICAgICBzaGFyZWRFeHRlbnQgPSBnZXRJbnRlcnNlY3Rpb24oc2hhcmVkRXh0ZW50LCBzb3VyY2VFeHRlbnQsIHNoYXJlZEV4dGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdldFdpZHRoKHNoYXJlZEV4dGVudCkgLyByZXNvbHV0aW9uID49IDAuNSAmJlxuICAgICAgICAgICAgZ2V0SGVpZ2h0KHNoYXJlZEV4dGVudCkgLyByZXNvbHV0aW9uID49IDAuNSkge1xuICAgICAgICAgIC8vIG9ubHkgaW5jbHVkZSBzb3VyY2UgdGlsZSBpZiBvdmVybGFwIGlzIGF0IGxlYXN0IDEgcGl4ZWxcbiAgICAgICAgICArK2xvYWRDb3VudDtcbiAgICAgICAgICB2YXIgc291cmNlVGlsZUtleSA9IHNvdXJjZVRpbGVDb29yZC50b1N0cmluZygpO1xuICAgICAgICAgIHZhciBzb3VyY2VUaWxlID0gc291cmNlVGlsZXNbc291cmNlVGlsZUtleV07XG4gICAgICAgICAgaWYgKCFzb3VyY2VUaWxlICYmICF1c2VMb2FkZWRPbmx5KSB7XG4gICAgICAgICAgICB2YXIgdGlsZVVybCA9IHRpbGVVcmxGdW5jdGlvbihzb3VyY2VUaWxlQ29vcmQsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pO1xuICAgICAgICAgICAgc291cmNlVGlsZSA9IHNvdXJjZVRpbGVzW3NvdXJjZVRpbGVLZXldID0gbmV3IHRpbGVDbGFzcyhzb3VyY2VUaWxlQ29vcmQsXG4gICAgICAgICAgICAgIHRpbGVVcmwgPT0gdW5kZWZpbmVkID8gVGlsZVN0YXRlLkVNUFRZIDogVGlsZVN0YXRlLklETEUsXG4gICAgICAgICAgICAgIHRpbGVVcmwgPT0gdW5kZWZpbmVkID8gJycgOiB0aWxlVXJsLFxuICAgICAgICAgICAgICBmb3JtYXQsIHRpbGVMb2FkRnVuY3Rpb24pO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VUaWxlTGlzdGVuZXJLZXlzXy5wdXNoKFxuICAgICAgICAgICAgICBsaXN0ZW4oc291cmNlVGlsZSwgRXZlbnRUeXBlLkNIQU5HRSwgaGFuZGxlVGlsZUNoYW5nZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc291cmNlVGlsZSAmJiAoIXVzZUxvYWRlZE9ubHkgfHwgc291cmNlVGlsZS5nZXRTdGF0ZSgpID09IFRpbGVTdGF0ZS5MT0FERUQpKSB7XG4gICAgICAgICAgICBzb3VyY2VUaWxlLmNvbnN1bWVycysrO1xuICAgICAgICAgICAgdGhpcy50aWxlS2V5cy5wdXNoKHNvdXJjZVRpbGVLZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfS5iaW5kKHRoaXMpKTtcblxuICAgICAgaWYgKHVzZUxvYWRlZE9ubHkgJiYgbG9hZENvdW50ID09IHRoaXMudGlsZUtleXMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuZmluaXNoTG9hZGluZ18oKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHpvb20gPD0gdGlsZUNvb3JkWzBdICYmIHRoaXMuc3RhdGUgIT0gVGlsZVN0YXRlLkxPQURFRCkge1xuICAgICAgICB3aGlsZSAoem9vbSA+IHRpbGVHcmlkLmdldE1pblpvb20oKSkge1xuICAgICAgICAgIHZhciB0aWxlID0gbmV3IFZlY3RvckltYWdlVGlsZSh0aWxlQ29vcmQsIHN0YXRlLCBzb3VyY2VSZXZpc2lvbixcbiAgICAgICAgICAgIGZvcm1hdCwgdGlsZUxvYWRGdW5jdGlvbiwgdXJsVGlsZUNvb3JkLCB0aWxlVXJsRnVuY3Rpb24sXG4gICAgICAgICAgICBzb3VyY2VUaWxlR3JpZCwgdGlsZUdyaWQsIHNvdXJjZVRpbGVzLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uLFxuICAgICAgICAgICAgdGlsZUNsYXNzLCBWT0lELCAtLXpvb20pO1xuICAgICAgICAgIGlmICh0aWxlLnN0YXRlID09IFRpbGVTdGF0ZS5MT0FERUQpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJpbVRpbGUgPSB0aWxlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICBpZiAoIFRpbGUgKSBWZWN0b3JJbWFnZVRpbGUuX19wcm90b19fID0gVGlsZTtcbiAgVmVjdG9ySW1hZ2VUaWxlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFRpbGUgJiYgVGlsZS5wcm90b3R5cGUgKTtcbiAgVmVjdG9ySW1hZ2VUaWxlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFZlY3RvckltYWdlVGlsZTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIFZlY3RvckltYWdlVGlsZS5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24gZGlzcG9zZUludGVybmFsICgpIHtcbiAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkFCT1JUO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIGlmICh0aGlzLmludGVyaW1UaWxlKSB7XG4gICAgICB0aGlzLmludGVyaW1UaWxlLmRpc3Bvc2UoKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSB0aGlzLnRpbGVLZXlzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIHZhciBzb3VyY2VUaWxlS2V5ID0gdGhpcy50aWxlS2V5c1tpXTtcbiAgICAgIHZhciBzb3VyY2VUaWxlID0gdGhpcy5nZXRUaWxlKHNvdXJjZVRpbGVLZXkpO1xuICAgICAgc291cmNlVGlsZS5jb25zdW1lcnMtLTtcbiAgICAgIGlmIChzb3VyY2VUaWxlLmNvbnN1bWVycyA9PSAwKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnNvdXJjZVRpbGVzX1tzb3VyY2VUaWxlS2V5XTtcbiAgICAgICAgc291cmNlVGlsZS5kaXNwb3NlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMudGlsZUtleXMubGVuZ3RoID0gMDtcbiAgICB0aGlzLnNvdXJjZVRpbGVzXyA9IG51bGw7XG4gICAgdGhpcy5sb2FkTGlzdGVuZXJLZXlzXy5mb3JFYWNoKHVubGlzdGVuQnlLZXkpO1xuICAgIHRoaXMubG9hZExpc3RlbmVyS2V5c18ubGVuZ3RoID0gMDtcbiAgICB0aGlzLnNvdXJjZVRpbGVMaXN0ZW5lcktleXNfLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgdGhpcy5zb3VyY2VUaWxlTGlzdGVuZXJLZXlzXy5sZW5ndGggPSAwO1xuICAgIFRpbGUucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdH0gbGF5ZXIgTGF5ZXIuXG4gICAqIEByZXR1cm4ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gVGhlIHJlbmRlcmluZyBjb250ZXh0LlxuICAgKi9cbiAgVmVjdG9ySW1hZ2VUaWxlLnByb3RvdHlwZS5nZXRDb250ZXh0ID0gZnVuY3Rpb24gZ2V0Q29udGV4dCAobGF5ZXIpIHtcbiAgICB2YXIga2V5ID0gZ2V0VWlkKGxheWVyKTtcbiAgICBpZiAoIShrZXkgaW4gdGhpcy5jb250ZXh0XykpIHtcbiAgICAgIHRoaXMuY29udGV4dF9ba2V5XSA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jb250ZXh0X1trZXldO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIENhbnZhcyBmb3IgdGhpcyB0aWxlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdH0gbGF5ZXIgTGF5ZXIuXG4gICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fSBDYW52YXMuXG4gICAqL1xuICBWZWN0b3JJbWFnZVRpbGUucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gZ2V0SW1hZ2UgKGxheWVyKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0UmVwbGF5U3RhdGUobGF5ZXIpLnJlbmRlcmVkVGlsZVJldmlzaW9uID09IC0xID9cbiAgICAgIG51bGwgOiB0aGlzLmdldENvbnRleHQobGF5ZXIpLmNhbnZhcztcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICAgKiBAcmV0dXJuIHtSZXBsYXlTdGF0ZX0gVGhlIHJlcGxheSBzdGF0ZS5cbiAgICovXG4gIFZlY3RvckltYWdlVGlsZS5wcm90b3R5cGUuZ2V0UmVwbGF5U3RhdGUgPSBmdW5jdGlvbiBnZXRSZXBsYXlTdGF0ZSAobGF5ZXIpIHtcbiAgICB2YXIga2V5ID0gZ2V0VWlkKGxheWVyKTtcbiAgICBpZiAoIShrZXkgaW4gdGhpcy5yZXBsYXlTdGF0ZV8pKSB7XG4gICAgICB0aGlzLnJlcGxheVN0YXRlX1trZXldID0ge1xuICAgICAgICBkaXJ0eTogZmFsc2UsXG4gICAgICAgIHJlbmRlcmVkUmVuZGVyT3JkZXI6IG51bGwsXG4gICAgICAgIHJlbmRlcmVkUmV2aXNpb246IC0xLFxuICAgICAgICByZW5kZXJlZFRpbGVSZXZpc2lvbjogLTFcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnJlcGxheVN0YXRlX1trZXldO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgVmVjdG9ySW1hZ2VUaWxlLnByb3RvdHlwZS5nZXRLZXkgPSBmdW5jdGlvbiBnZXRLZXkgKCkge1xuICAgIHJldHVybiB0aGlzLnRpbGVLZXlzLmpvaW4oJy8nKSArICctJyArIHRoaXMuc291cmNlUmV2aXNpb25fO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGlsZUtleSBLZXkgKHRpbGVDb29yZCkgb2YgdGhlIHNvdXJjZSB0aWxlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL1ZlY3RvclRpbGUuanNcIikuZGVmYXVsdH0gU291cmNlIHRpbGUuXG4gICAqL1xuICBWZWN0b3JJbWFnZVRpbGUucHJvdG90eXBlLmdldFRpbGUgPSBmdW5jdGlvbiBnZXRUaWxlICh0aWxlS2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuc291cmNlVGlsZXNfW3RpbGVLZXldO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgVmVjdG9ySW1hZ2VUaWxlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gbG9hZCAoKSB7XG4gICAgLy8gU291cmNlIHRpbGVzIHdpdGggTE9BREVEIHN0YXRlIC0gd2UganVzdCBjb3VudCB0aGVtIGJlY2F1c2Ugb25jZSB0aGV5IGFyZVxuICAgIC8vIGxvYWRlZCwgd2UncmUgbm8gbG9uZ2VyIGxpc3RlbmluZyB0byBzdGF0ZSBjaGFuZ2VzLlxuICAgIHZhciBsZWZ0VG9Mb2FkID0gMDtcbiAgICAvLyBTb3VyY2UgdGlsZXMgd2l0aCBFUlJPUiBzdGF0ZSAtIHdlIHRyYWNrIHRoZW0gYmVjYXVzZSB0aGV5IGNhbiBzdGlsbCBoYXZlXG4gICAgLy8gYW4gRVJST1Igc3RhdGUgYWZ0ZXIgYW5vdGhlciBsb2FkIGF0dGVtcHQuXG4gICAgdmFyIGVycm9yU291cmNlVGlsZXMgPSB7fTtcblxuICAgIGlmICh0aGlzLnN0YXRlID09IFRpbGVTdGF0ZS5JRExFKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKFRpbGVTdGF0ZS5MT0FESU5HKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc3RhdGUgPT0gVGlsZVN0YXRlLkxPQURJTkcpIHtcbiAgICAgIHRoaXMudGlsZUtleXMuZm9yRWFjaChmdW5jdGlvbihzb3VyY2VUaWxlS2V5KSB7XG4gICAgICAgIHZhciBzb3VyY2VUaWxlID0gdGhpcy5nZXRUaWxlKHNvdXJjZVRpbGVLZXkpO1xuICAgICAgICBpZiAoc291cmNlVGlsZS5zdGF0ZSA9PSBUaWxlU3RhdGUuSURMRSkge1xuICAgICAgICAgIHNvdXJjZVRpbGUuc2V0TG9hZGVyKHRoaXMubG9hZGVyXyk7XG4gICAgICAgICAgc291cmNlVGlsZS5sb2FkKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNvdXJjZVRpbGUuc3RhdGUgPT0gVGlsZVN0YXRlLkxPQURJTkcpIHtcbiAgICAgICAgICB2YXIga2V5ID0gbGlzdGVuKHNvdXJjZVRpbGUsIEV2ZW50VHlwZS5DSEFOR0UsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IHNvdXJjZVRpbGUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgIGlmIChzdGF0ZSA9PSBUaWxlU3RhdGUuTE9BREVEIHx8XG4gICAgICAgICAgICAgICAgc3RhdGUgPT0gVGlsZVN0YXRlLkVSUk9SKSB7XG4gICAgICAgICAgICAgIHZhciB1aWQgPSBnZXRVaWQoc291cmNlVGlsZSk7XG4gICAgICAgICAgICAgIGlmIChzdGF0ZSA9PSBUaWxlU3RhdGUuRVJST1IpIHtcbiAgICAgICAgICAgICAgICBlcnJvclNvdXJjZVRpbGVzW3VpZF0gPSB0cnVlO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC0tbGVmdFRvTG9hZDtcbiAgICAgICAgICAgICAgICBkZWxldGUgZXJyb3JTb3VyY2VUaWxlc1t1aWRdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChsZWZ0VG9Mb2FkIC0gT2JqZWN0LmtleXMoZXJyb3JTb3VyY2VUaWxlcykubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbmlzaExvYWRpbmdfKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICAgIHRoaXMubG9hZExpc3RlbmVyS2V5c18ucHVzaChrZXkpO1xuICAgICAgICAgICsrbGVmdFRvTG9hZDtcbiAgICAgICAgfVxuICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9XG4gICAgaWYgKGxlZnRUb0xvYWQgLSBPYmplY3Qua2V5cyhlcnJvclNvdXJjZVRpbGVzKS5sZW5ndGggPT0gMCkge1xuICAgICAgc2V0VGltZW91dCh0aGlzLmZpbmlzaExvYWRpbmdfLmJpbmQodGhpcyksIDApO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIFZlY3RvckltYWdlVGlsZS5wcm90b3R5cGUuZmluaXNoTG9hZGluZ18gPSBmdW5jdGlvbiBmaW5pc2hMb2FkaW5nXyAoKSB7XG4gICAgdmFyIGxvYWRlZCA9IHRoaXMudGlsZUtleXMubGVuZ3RoO1xuICAgIHZhciBlbXB0eSA9IDA7XG4gICAgZm9yICh2YXIgaSA9IGxvYWRlZCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICB2YXIgc3RhdGUgPSB0aGlzLmdldFRpbGUodGhpcy50aWxlS2V5c1tpXSkuZ2V0U3RhdGUoKTtcbiAgICAgIGlmIChzdGF0ZSAhPSBUaWxlU3RhdGUuTE9BREVEKSB7XG4gICAgICAgIC0tbG9hZGVkO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXRlID09IFRpbGVTdGF0ZS5FTVBUWSkge1xuICAgICAgICArK2VtcHR5O1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobG9hZGVkID09IHRoaXMudGlsZUtleXMubGVuZ3RoKSB7XG4gICAgICB0aGlzLmxvYWRMaXN0ZW5lcktleXNfLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgICB0aGlzLmxvYWRMaXN0ZW5lcktleXNfLmxlbmd0aCA9IDA7XG4gICAgICB0aGlzLnNldFN0YXRlKFRpbGVTdGF0ZS5MT0FERUQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKGVtcHR5ID09IHRoaXMudGlsZUtleXMubGVuZ3RoID8gVGlsZVN0YXRlLkVNUFRZIDogVGlsZVN0YXRlLkVSUk9SKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFZlY3RvckltYWdlVGlsZTtcbn0oVGlsZSkpO1xuXG5cbmV4cG9ydCBkZWZhdWx0IFZlY3RvckltYWdlVGlsZTtcblxuLyoqXG4gKiBTZXRzIHRoZSBsb2FkZXIgZm9yIGEgdGlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVmVjdG9yIHRpbGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFVSTC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRMb2FkRnVuY3Rpb24odGlsZSwgdXJsKSB7XG4gIHZhciBsb2FkZXIgPSBsb2FkRmVhdHVyZXNYaHIodXJsLCB0aWxlLmdldEZvcm1hdCgpLCB0aWxlLm9uTG9hZC5iaW5kKHRpbGUpLCB0aWxlLm9uRXJyb3IuYmluZCh0aWxlKSk7XG4gIHRpbGUuc2V0TG9hZGVyKGxvYWRlcik7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZlY3RvckltYWdlVGlsZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvVmVjdG9yVGlsZVxuICovXG5pbXBvcnQge2dldFVpZH0gZnJvbSAnLi91dGlsLmpzJztcbmltcG9ydCBUaWxlIGZyb20gJy4vVGlsZS5qcyc7XG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4vVGlsZVN0YXRlLmpzJztcblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gKi9cbnZhciBERUZBVUxUX0VYVEVOVCA9IFswLCAwLCA0MDk2LCA0MDk2XTtcblxuXG52YXIgVmVjdG9yVGlsZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFRpbGUpIHtcbiAgZnVuY3Rpb24gVmVjdG9yVGlsZSh0aWxlQ29vcmQsIHN0YXRlLCBzcmMsIGZvcm1hdCwgdGlsZUxvYWRGdW5jdGlvbiwgb3B0X29wdGlvbnMpIHtcblxuICAgIFRpbGUuY2FsbCh0aGlzLCB0aWxlQ29vcmQsIHN0YXRlLCBvcHRfb3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuY29uc3VtZXJzID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgKi9cbiAgICB0aGlzLmV4dGVudF8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9mb3JtYXQvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMuZm9ybWF0XyA9IGZvcm1hdDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgKi9cbiAgICB0aGlzLmZlYXR1cmVzXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL2ZlYXR1cmVsb2FkZXIuanNcIikuRmVhdHVyZUxvYWRlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxvYWRlcl87XG5cbiAgICAvKipcbiAgICAgKiBEYXRhIHByb2plY3Rpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMucHJvamVjdGlvbl8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi9yZW5kZXIvUmVwbGF5R3JvdXAuanNcIikuZGVmYXVsdD59XG4gICAgICovXG4gICAgdGhpcy5yZXBsYXlHcm91cHNfID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufVxuICAgICAqL1xuICAgIHRoaXMudGlsZUxvYWRGdW5jdGlvbl8gPSB0aWxlTG9hZEZ1bmN0aW9uO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMudXJsXyA9IHNyYztcblxuICB9XG5cbiAgaWYgKCBUaWxlICkgVmVjdG9yVGlsZS5fX3Byb3RvX18gPSBUaWxlO1xuICBWZWN0b3JUaWxlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFRpbGUgJiYgVGlsZS5wcm90b3R5cGUgKTtcbiAgVmVjdG9yVGlsZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBWZWN0b3JUaWxlO1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgVmVjdG9yVGlsZS5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24gZGlzcG9zZUludGVybmFsICgpIHtcbiAgICB0aGlzLmZlYXR1cmVzXyA9IG51bGw7XG4gICAgdGhpcy5yZXBsYXlHcm91cHNfID0ge307XG4gICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5BQk9SVDtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICBUaWxlLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0cyB0aGUgZXh0ZW50IG9mIHRoZSB2ZWN0b3IgdGlsZS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBUaGUgZXh0ZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBWZWN0b3JUaWxlLnByb3RvdHlwZS5nZXRFeHRlbnQgPSBmdW5jdGlvbiBnZXRFeHRlbnQgKCkge1xuICAgIHJldHVybiB0aGlzLmV4dGVudF8gfHwgREVGQVVMVF9FWFRFTlQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZmVhdHVyZSBmb3JtYXQgYXNzaWduZWQgZm9yIHJlYWRpbmcgdGhpcyB0aWxlJ3MgZmVhdHVyZXMuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vZm9ybWF0L0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gRmVhdHVyZSBmb3JtYXQuXG4gICAqIEBhcGlcbiAgICovXG4gIFZlY3RvclRpbGUucHJvdG90eXBlLmdldEZvcm1hdCA9IGZ1bmN0aW9uIGdldEZvcm1hdCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZm9ybWF0XztcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSBmZWF0dXJlcyBmb3IgdGhpcyB0aWxlLiBHZW9tZXRyaWVzIHdpbGwgYmUgaW4gdGhlIHByb2plY3Rpb24gcmV0dXJuZWRcbiAgICogYnkge0BsaW5rIG1vZHVsZTpvbC9WZWN0b3JUaWxlflZlY3RvclRpbGUjZ2V0UHJvamVjdGlvbn0uXG4gICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZT59IEZlYXR1cmVzLlxuICAgKiBAYXBpXG4gICAqL1xuICBWZWN0b3JUaWxlLnByb3RvdHlwZS5nZXRGZWF0dXJlcyA9IGZ1bmN0aW9uIGdldEZlYXR1cmVzICgpIHtcbiAgICByZXR1cm4gdGhpcy5mZWF0dXJlc187XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBWZWN0b3JUaWxlLnByb3RvdHlwZS5nZXRLZXkgPSBmdW5jdGlvbiBnZXRLZXkgKCkge1xuICAgIHJldHVybiB0aGlzLnVybF87XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZmVhdHVyZSBwcm9qZWN0aW9uIG9mIGZlYXR1cmVzIHJldHVybmVkIGJ5XG4gICAqIHtAbGluayBtb2R1bGU6b2wvVmVjdG9yVGlsZX5WZWN0b3JUaWxlI2dldEZlYXR1cmVzfS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gRmVhdHVyZSBwcm9qZWN0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBWZWN0b3JUaWxlLnByb3RvdHlwZS5nZXRQcm9qZWN0aW9uID0gZnVuY3Rpb24gZ2V0UHJvamVjdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvamVjdGlvbl87XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0fSBsYXllciBMYXllci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vcmVuZGVyL1JlcGxheUdyb3VwLmpzXCIpLmRlZmF1bHR9IFJlcGxheSBncm91cC5cbiAgICovXG4gIFZlY3RvclRpbGUucHJvdG90eXBlLmdldFJlcGxheUdyb3VwID0gZnVuY3Rpb24gZ2V0UmVwbGF5R3JvdXAgKGxheWVyLCBrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5yZXBsYXlHcm91cHNfW2dldFVpZChsYXllcikgKyAnLCcgKyBrZXldO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgVmVjdG9yVGlsZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQgKCkge1xuICAgIGlmICh0aGlzLnN0YXRlID09IFRpbGVTdGF0ZS5JRExFKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKFRpbGVTdGF0ZS5MT0FESU5HKTtcbiAgICAgIHRoaXMudGlsZUxvYWRGdW5jdGlvbl8odGhpcywgdGhpcy51cmxfKTtcbiAgICAgIHRoaXMubG9hZGVyXyhudWxsLCBOYU4sIG51bGwpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogSGFuZGxlciBmb3Igc3VjY2Vzc2Z1bCB0aWxlIGxvYWQuXG4gICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fSBmZWF0dXJlcyBUaGUgbG9hZGVkIGZlYXR1cmVzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IGRhdGFQcm9qZWN0aW9uIERhdGEgcHJvamVjdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAqL1xuICBWZWN0b3JUaWxlLnByb3RvdHlwZS5vbkxvYWQgPSBmdW5jdGlvbiBvbkxvYWQgKGZlYXR1cmVzLCBkYXRhUHJvamVjdGlvbiwgZXh0ZW50KSB7XG4gICAgdGhpcy5zZXRQcm9qZWN0aW9uKGRhdGFQcm9qZWN0aW9uKTtcbiAgICB0aGlzLnNldEZlYXR1cmVzKGZlYXR1cmVzKTtcbiAgICB0aGlzLnNldEV4dGVudChleHRlbnQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGVyIGZvciB0aWxlIGxvYWQgZXJyb3JzLlxuICAgKi9cbiAgVmVjdG9yVGlsZS5wcm90b3R5cGUub25FcnJvciA9IGZ1bmN0aW9uIG9uRXJyb3IgKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoVGlsZVN0YXRlLkVSUk9SKTtcbiAgfTtcblxuICAvKipcbiAgICogRnVuY3Rpb24gZm9yIHVzZSBpbiBhbiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3JUaWxlflZlY3RvclRpbGV9J3NcbiAgICogYHRpbGVMb2FkRnVuY3Rpb25gLiBTZXRzIHRoZSBleHRlbnQgb2YgdGhlIHZlY3RvciB0aWxlLiBUaGlzIGlzIG9ubHkgcmVxdWlyZWRcbiAgICogZm9yIHRpbGVzIGluIHByb2plY3Rpb25zIHdpdGggYHRpbGUtcGl4ZWxzYCBhcyB1bml0cy4gVGhlIGV4dGVudCBzaG91bGQgYmVcbiAgICogc2V0IHRvIGBbMCwgMCwgdGlsZVBpeGVsU2l6ZSwgdGlsZVBpeGVsU2l6ZV1gLCB3aGVyZSBgdGlsZVBpeGVsU2l6ZWAgaXNcbiAgICogY2FsY3VsYXRlZCBieSBtdWx0aXBseWluZyB0aGUgdGlsZSBzaXplIHdpdGggdGhlIHRpbGUgcGl4ZWwgcmF0aW8uIEZvclxuICAgKiBzb3VyY2VzIHVzaW5nIHtAbGluayBtb2R1bGU6b2wvZm9ybWF0L01WVH5NVlR9IGFzIGZlYXR1cmUgZm9ybWF0LCB0aGVcbiAgICoge0BsaW5rIG1vZHVsZTpvbC9mb3JtYXQvTVZUfk1WVCNnZXRMYXN0RXh0ZW50fSBtZXRob2Qgd2lsbCByZXR1cm4gdGhlIGNvcnJlY3RcbiAgICogZXh0ZW50LiBUaGUgZGVmYXVsdCBpcyBgWzAsIDAsIDQwOTYsIDQwOTZdYC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBUaGUgZXh0ZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBWZWN0b3JUaWxlLnByb3RvdHlwZS5zZXRFeHRlbnQgPSBmdW5jdGlvbiBzZXRFeHRlbnQgKGV4dGVudCkge1xuICAgIHRoaXMuZXh0ZW50XyA9IGV4dGVudDtcbiAgfTtcblxuICAvKipcbiAgICogRnVuY3Rpb24gZm9yIHVzZSBpbiBhbiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3JUaWxlflZlY3RvclRpbGV9J3MgYHRpbGVMb2FkRnVuY3Rpb25gLlxuICAgKiBTZXRzIHRoZSBmZWF0dXJlcyBmb3IgdGhlIHRpbGUuXG4gICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fSBmZWF0dXJlcyBGZWF0dXJlcy5cbiAgICogQGFwaVxuICAgKi9cbiAgVmVjdG9yVGlsZS5wcm90b3R5cGUuc2V0RmVhdHVyZXMgPSBmdW5jdGlvbiBzZXRGZWF0dXJlcyAoZmVhdHVyZXMpIHtcbiAgICB0aGlzLmZlYXR1cmVzXyA9IGZlYXR1cmVzO1xuICAgIHRoaXMuc2V0U3RhdGUoVGlsZVN0YXRlLkxPQURFRCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEZ1bmN0aW9uIGZvciB1c2UgaW4gYW4ge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yVGlsZX5WZWN0b3JUaWxlfSdzIGB0aWxlTG9hZEZ1bmN0aW9uYC5cbiAgICogU2V0cyB0aGUgcHJvamVjdGlvbiBvZiB0aGUgZmVhdHVyZXMgdGhhdCB3ZXJlIGFkZGVkIHdpdGhcbiAgICoge0BsaW5rIG1vZHVsZTpvbC9WZWN0b3JUaWxlflZlY3RvclRpbGUjc2V0RmVhdHVyZXN9LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gRmVhdHVyZSBwcm9qZWN0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBWZWN0b3JUaWxlLnByb3RvdHlwZS5zZXRQcm9qZWN0aW9uID0gZnVuY3Rpb24gc2V0UHJvamVjdGlvbiAocHJvamVjdGlvbikge1xuICAgIHRoaXMucHJvamVjdGlvbl8gPSBwcm9qZWN0aW9uO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdH0gbGF5ZXIgTGF5ZXIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcmVuZGVyL1JlcGxheUdyb3VwLmpzXCIpLmRlZmF1bHR9IHJlcGxheUdyb3VwIFJlcGxheSBncm91cC5cbiAgICovXG4gIFZlY3RvclRpbGUucHJvdG90eXBlLnNldFJlcGxheUdyb3VwID0gZnVuY3Rpb24gc2V0UmVwbGF5R3JvdXAgKGxheWVyLCBrZXksIHJlcGxheUdyb3VwKSB7XG4gICAgdGhpcy5yZXBsYXlHcm91cHNfW2dldFVpZChsYXllcikgKyAnLCcgKyBrZXldID0gcmVwbGF5R3JvdXA7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgZmVhdHVyZSBsb2FkZXIgZm9yIHJlYWRpbmcgdGhpcyB0aWxlJ3MgZmVhdHVyZXMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9mZWF0dXJlbG9hZGVyLmpzXCIpLkZlYXR1cmVMb2FkZXJ9IGxvYWRlciBGZWF0dXJlIGxvYWRlci5cbiAgICogQGFwaVxuICAgKi9cbiAgVmVjdG9yVGlsZS5wcm90b3R5cGUuc2V0TG9hZGVyID0gZnVuY3Rpb24gc2V0TG9hZGVyIChsb2FkZXIpIHtcbiAgICB0aGlzLmxvYWRlcl8gPSBsb2FkZXI7XG4gIH07XG5cbiAgcmV0dXJuIFZlY3RvclRpbGU7XG59KFRpbGUpKTtcblxuZXhwb3J0IGRlZmF1bHQgVmVjdG9yVGlsZTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VmVjdG9yVGlsZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1ZlY3RvclRpbGVcbiAqL1xuXG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4uL1RpbGVTdGF0ZS5qcyc7XG5pbXBvcnQgVmVjdG9ySW1hZ2VUaWxlLCB7ZGVmYXVsdExvYWRGdW5jdGlvbn0gZnJvbSAnLi4vVmVjdG9ySW1hZ2VUaWxlLmpzJztcbmltcG9ydCBUaWxlIGZyb20gJy4uL1ZlY3RvclRpbGUuanMnO1xuaW1wb3J0IHt0b1NpemV9IGZyb20gJy4uL3NpemUuanMnO1xuaW1wb3J0IFVybFRpbGUgZnJvbSAnLi9VcmxUaWxlLmpzJztcbmltcG9ydCB7Z2V0S2V5WlhZfSBmcm9tICcuLi90aWxlY29vcmQuanMnO1xuaW1wb3J0IHtjcmVhdGVYWVosIGV4dGVudEZyb21Qcm9qZWN0aW9uLCBjcmVhdGVGb3JQcm9qZWN0aW9ufSBmcm9tICcuLi90aWxlZ3JpZC5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5BdHRyaWJ1dGlvbkxpa2V9IFthdHRyaWJ1dGlvbnNdIEF0dHJpYnV0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY2FjaGVTaXplPTEyOF0gQ2FjaGUgc2l6ZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF1cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZm9ybWF0L0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gW2Zvcm1hdF0gRmVhdHVyZSBmb3JtYXQgZm9yIHRpbGVzLiBVc2VkIGFuZCByZXF1aXJlZCBieSB0aGUgZGVmYXVsdC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW292ZXJsYXBzPXRydWVdIFRoaXMgc291cmNlIG1heSBoYXZlIG92ZXJsYXBwaW5nIGdlb21ldHJpZXMuIFNldHRpbmcgdGhpc1xuICogdG8gYGZhbHNlYCAoZS5nLiBmb3Igc291cmNlcyB3aXRoIHBvbHlnb25zIHRoYXQgcmVwcmVzZW50IGFkbWluaXN0cmF0aXZlXG4gKiBib3VuZGFyaWVzIG9yIFRvcG9KU09OIHNvdXJjZXMpIGFsbG93cyB0aGUgcmVuZGVyZXIgdG8gb3B0aW1pc2UgZmlsbCBhbmRcbiAqIHN0cm9rZSBvcGVyYXRpb25zLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU3RhdGUuanNcIikuZGVmYXVsdH0gW3N0YXRlXSBTb3VyY2Ugc3RhdGUuXG4gKiBAcHJvcGVydHkge3R5cGVvZiBpbXBvcnQoXCIuLi9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHR9IFt0aWxlQ2xhc3NdIENsYXNzIHVzZWQgdG8gaW5zdGFudGlhdGUgaW1hZ2UgdGlsZXMuXG4gKiBEZWZhdWx0IGlzIHtAbGluayBtb2R1bGU6b2wvVmVjdG9yVGlsZX0uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFpvb209MjJdIE9wdGlvbmFsIG1heCB6b29tIGxldmVsLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ab29tXSBPcHRpb25hbCBtaW4gem9vbSBsZXZlbC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW3RpbGVTaXplPTUxMl0gT3B0aW9uYWwgdGlsZSBzaXplLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSBbdGlsZUdyaWRdIFRpbGUgZ3JpZC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5Mb2FkRnVuY3Rpb259IFt0aWxlTG9hZEZ1bmN0aW9uXVxuICogT3B0aW9uYWwgZnVuY3Rpb24gdG8gbG9hZCBhIHRpbGUgZ2l2ZW4gYSBVUkwuIENvdWxkIGxvb2sgbGlrZSB0aGlzOlxuICogYGBganNcbiAqIGZ1bmN0aW9uKHRpbGUsIHVybCkge1xuICogICB0aWxlLnNldExvYWRlcihmdW5jdGlvbigpIHtcbiAqICAgICB2YXIgZGF0YSA9IC8vIC4uLiBmZXRjaCBkYXRhXG4gKiAgICAgdmFyIGZvcm1hdCA9IHRpbGUuZ2V0Rm9ybWF0KCk7XG4gKiAgICAgdGlsZS5zZXRQcm9qZWN0aW9uKGZvcm1hdC5yZWFkUHJvamVjdGlvbihkYXRhKSk7XG4gKiAgICAgdGlsZS5zZXRGZWF0dXJlcyhmb3JtYXQucmVhZEZlYXR1cmVzKGRhdGEsIHtcbiAqICAgICAgIC8vIGZlYXR1cmVQcm9qZWN0aW9uIGlzIG5vdCByZXF1aXJlZCBmb3Igb2wvZm9ybWF0L01WVFxuICogICAgICAgZmVhdHVyZVByb2plY3Rpb246IG1hcC5nZXRWaWV3KCkuZ2V0UHJvamVjdGlvbigpXG4gKiAgICAgfSkpO1xuICogICAgIC8vIHRoZSBsaW5lIGJlbG93IGlzIG9ubHkgcmVxdWlyZWQgZm9yIG9sL2Zvcm1hdC9NVlRcbiAqICAgICB0aWxlLnNldEV4dGVudChmb3JtYXQuZ2V0TGFzdEV4dGVudCgpKTtcbiAqICAgfVxuICogfSk7XG4gKiBgYGBcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbn0gW3RpbGVVcmxGdW5jdGlvbl0gT3B0aW9uYWwgZnVuY3Rpb24gdG8gZ2V0IHRpbGUgVVJMIGdpdmVuIGEgdGlsZSBjb29yZGluYXRlIGFuZCB0aGUgcHJvamVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdXJsXSBVUkwgdGVtcGxhdGUuIE11c3QgaW5jbHVkZSBge3h9YCwgYHt5fWAgb3IgYHsteX1gLCBhbmQgYHt6fWAgcGxhY2Vob2xkZXJzLlxuICogQSBgez8tP31gIHRlbXBsYXRlIHBhdHRlcm4sIGZvciBleGFtcGxlIGBzdWJkb21haW57YS1mfS5kb21haW4uY29tYCwgbWF5IGJlXG4gKiB1c2VkIGluc3RlYWQgb2YgZGVmaW5pbmcgZWFjaCBvbmUgc2VwYXJhdGVseSBpbiB0aGUgYHVybHNgIG9wdGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdHJhbnNpdGlvbl0gQSBkdXJhdGlvbiBmb3IgdGlsZSBvcGFjaXR5XG4gKiB0cmFuc2l0aW9ucyBpbiBtaWxsaXNlY29uZHMuIEEgZHVyYXRpb24gb2YgMCBkaXNhYmxlcyB0aGUgb3BhY2l0eSB0cmFuc2l0aW9uLlxuICogQHByb3BlcnR5IHtBcnJheTxzdHJpbmc+fSBbdXJsc10gQW4gYXJyYXkgb2YgVVJMIHRlbXBsYXRlcy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3dyYXBYPXRydWVdIFdoZXRoZXIgdG8gd3JhcCB0aGUgd29ybGQgaG9yaXpvbnRhbGx5LlxuICogV2hlbiBzZXQgdG8gYGZhbHNlYCwgb25seSBvbmUgd29ybGRcbiAqIHdpbGwgYmUgcmVuZGVyZWQuIFdoZW4gc2V0IHRvIGB0cnVlYCwgdGlsZXMgd2lsbCBiZSB3cmFwcGVkIGhvcml6b250YWxseSB0b1xuICogcmVuZGVyIG11bHRpcGxlIHdvcmxkcy5cbiAqL1xuXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ2xhc3MgZm9yIGxheWVyIHNvdXJjZXMgcHJvdmlkaW5nIHZlY3RvciBkYXRhIGRpdmlkZWQgaW50byBhIHRpbGUgZ3JpZCwgdG8gYmVcbiAqIHVzZWQgd2l0aCB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL1ZlY3RvclRpbGV+VmVjdG9yVGlsZX0uIEFsdGhvdWdoIHRoaXMgc291cmNlIHJlY2VpdmVzIHRpbGVzXG4gKiB3aXRoIHZlY3RvciBmZWF0dXJlcyBmcm9tIHRoZSBzZXJ2ZXIsIGl0IGlzIG5vdCBtZWFudCBmb3IgZmVhdHVyZSBlZGl0aW5nLlxuICogRmVhdHVyZXMgYXJlIG9wdGltaXplZCBmb3IgcmVuZGVyaW5nLCB0aGVpciBnZW9tZXRyaWVzIGFyZSBjbGlwcGVkIGF0IG9yIG5lYXJcbiAqIHRpbGUgYm91bmRhcmllcyBhbmQgc2ltcGxpZmllZCBmb3IgYSB2aWV3IHJlc29sdXRpb24uIFNlZVxuICoge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yfSBmb3IgdmVjdG9yIHNvdXJjZXMgdGhhdCBhcmUgc3VpdGFibGUgZm9yIGZlYXR1cmVcbiAqIGVkaXRpbmcuXG4gKlxuICogQGZpcmVzIGltcG9ydChcIi4vVGlsZS5qc1wiKS5UaWxlU291cmNlRXZlbnRcbiAqIEBhcGlcbiAqL1xudmFyIFZlY3RvclRpbGUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChVcmxUaWxlKSB7XG4gIGZ1bmN0aW9uIFZlY3RvclRpbGUob3B0aW9ucykge1xuICAgIHZhciBwcm9qZWN0aW9uID0gb3B0aW9ucy5wcm9qZWN0aW9uIHx8ICdFUFNHOjM4NTcnO1xuXG4gICAgdmFyIGV4dGVudCA9IG9wdGlvbnMuZXh0ZW50IHx8IGV4dGVudEZyb21Qcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuXG4gICAgdmFyIHRpbGVHcmlkID0gb3B0aW9ucy50aWxlR3JpZCB8fCBjcmVhdGVYWVooe1xuICAgICAgZXh0ZW50OiBleHRlbnQsXG4gICAgICBtYXhab29tOiBvcHRpb25zLm1heFpvb20gfHwgMjIsXG4gICAgICBtaW5ab29tOiBvcHRpb25zLm1pblpvb20sXG4gICAgICB0aWxlU2l6ZTogb3B0aW9ucy50aWxlU2l6ZSB8fCA1MTJcbiAgICB9KTtcblxuICAgIFVybFRpbGUuY2FsbCh0aGlzLCB7XG4gICAgICBhdHRyaWJ1dGlvbnM6IG9wdGlvbnMuYXR0cmlidXRpb25zLFxuICAgICAgY2FjaGVTaXplOiBvcHRpb25zLmNhY2hlU2l6ZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jYWNoZVNpemUgOiAxMjgsXG4gICAgICBvcGFxdWU6IGZhbHNlLFxuICAgICAgcHJvamVjdGlvbjogcHJvamVjdGlvbixcbiAgICAgIHN0YXRlOiBvcHRpb25zLnN0YXRlLFxuICAgICAgdGlsZUdyaWQ6IHRpbGVHcmlkLFxuICAgICAgdGlsZUxvYWRGdW5jdGlvbjogb3B0aW9ucy50aWxlTG9hZEZ1bmN0aW9uID8gb3B0aW9ucy50aWxlTG9hZEZ1bmN0aW9uIDogZGVmYXVsdExvYWRGdW5jdGlvbixcbiAgICAgIHRpbGVVcmxGdW5jdGlvbjogb3B0aW9ucy50aWxlVXJsRnVuY3Rpb24sXG4gICAgICB1cmw6IG9wdGlvbnMudXJsLFxuICAgICAgdXJsczogb3B0aW9ucy51cmxzLFxuICAgICAgd3JhcFg6IG9wdGlvbnMud3JhcFggPT09IHVuZGVmaW5lZCA/IHRydWUgOiBvcHRpb25zLndyYXBYLFxuICAgICAgdHJhbnNpdGlvbjogb3B0aW9ucy50cmFuc2l0aW9uXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9mb3JtYXQvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMuZm9ybWF0XyA9IG9wdGlvbnMuZm9ybWF0ID8gb3B0aW9ucy5mb3JtYXQgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIFRpbGU+fVxuICAgICAgICovXG4gICAgdGhpcy5zb3VyY2VUaWxlc18gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5vdmVybGFwc18gPSBvcHRpb25zLm92ZXJsYXBzID09IHVuZGVmaW5lZCA/IHRydWUgOiBvcHRpb25zLm92ZXJsYXBzO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHt0eXBlb2YgaW1wb3J0KFwiLi4vVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMudGlsZUNsYXNzID0gb3B0aW9ucy50aWxlQ2xhc3MgPyBvcHRpb25zLnRpbGVDbGFzcyA6IFRpbGU7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbGVHcmlkc18gPSB7fTtcblxuICB9XG5cbiAgaWYgKCBVcmxUaWxlICkgVmVjdG9yVGlsZS5fX3Byb3RvX18gPSBVcmxUaWxlO1xuICBWZWN0b3JUaWxlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFVybFRpbGUgJiYgVXJsVGlsZS5wcm90b3R5cGUgKTtcbiAgVmVjdG9yVGlsZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBWZWN0b3JUaWxlO1xuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgc291cmNlIGNhbiBoYXZlIG92ZXJsYXBwaW5nIGdlb21ldHJpZXMuXG4gICAqL1xuICBWZWN0b3JUaWxlLnByb3RvdHlwZS5nZXRPdmVybGFwcyA9IGZ1bmN0aW9uIGdldE92ZXJsYXBzICgpIHtcbiAgICByZXR1cm4gdGhpcy5vdmVybGFwc187XG4gIH07XG5cbiAgLyoqXG4gICAqIGNsZWFyIHtAbGluayBtb2R1bGU6b2wvVGlsZUNhY2hlflRpbGVDYWNoZX0gYW5kIGRlbGV0ZSBhbGwgc291cmNlIHRpbGVzXG4gICAqIEBhcGlcbiAgICovXG4gIFZlY3RvclRpbGUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKCkge1xuICAgIHRoaXMudGlsZUNhY2hlLmNsZWFyKCk7XG4gICAgdGhpcy5zb3VyY2VUaWxlc18gPSB7fTtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIFZlY3RvclRpbGUucHJvdG90eXBlLmdldFRpbGUgPSBmdW5jdGlvbiBnZXRUaWxlICh6LCB4LCB5LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKSB7XG4gICAgdmFyIHRpbGVDb29yZEtleSA9IGdldEtleVpYWSh6LCB4LCB5KTtcbiAgICBpZiAodGhpcy50aWxlQ2FjaGUuY29udGFpbnNLZXkodGlsZUNvb3JkS2V5KSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgLyoqIEB0eXBlIHshaW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAodGhpcy50aWxlQ2FjaGUuZ2V0KHRpbGVDb29yZEtleSkpXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdGlsZUNvb3JkID0gW3osIHgsIHldO1xuICAgICAgdmFyIHVybFRpbGVDb29yZCA9IHRoaXMuZ2V0VGlsZUNvb3JkRm9yVGlsZVVybEZ1bmN0aW9uKFxuICAgICAgICB0aWxlQ29vcmQsIHByb2plY3Rpb24pO1xuICAgICAgdmFyIHRpbGUgPSBuZXcgVmVjdG9ySW1hZ2VUaWxlKFxuICAgICAgICB0aWxlQ29vcmQsXG4gICAgICAgIHVybFRpbGVDb29yZCAhPT0gbnVsbCA/IFRpbGVTdGF0ZS5JRExFIDogVGlsZVN0YXRlLkVNUFRZLFxuICAgICAgICB0aGlzLmdldFJldmlzaW9uKCksXG4gICAgICAgIHRoaXMuZm9ybWF0XywgdGhpcy50aWxlTG9hZEZ1bmN0aW9uLCB1cmxUaWxlQ29vcmQsIHRoaXMudGlsZVVybEZ1bmN0aW9uLFxuICAgICAgICB0aGlzLnRpbGVHcmlkLCB0aGlzLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKSxcbiAgICAgICAgdGhpcy5zb3VyY2VUaWxlc18sIHBpeGVsUmF0aW8sIHByb2plY3Rpb24sIHRoaXMudGlsZUNsYXNzLFxuICAgICAgICB0aGlzLmhhbmRsZVRpbGVDaGFuZ2UuYmluZCh0aGlzKSwgdGlsZUNvb3JkWzBdKTtcblxuICAgICAgdGhpcy50aWxlQ2FjaGUuc2V0KHRpbGVDb29yZEtleSwgdGlsZSk7XG4gICAgICByZXR1cm4gdGlsZTtcbiAgICB9XG4gIH07XG5cblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIFZlY3RvclRpbGUucHJvdG90eXBlLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbiA9IGZ1bmN0aW9uIGdldFRpbGVHcmlkRm9yUHJvamVjdGlvbiAocHJvamVjdGlvbikge1xuICAgIHZhciBjb2RlID0gcHJvamVjdGlvbi5nZXRDb2RlKCk7XG4gICAgdmFyIHRpbGVHcmlkID0gdGhpcy50aWxlR3JpZHNfW2NvZGVdO1xuICAgIGlmICghdGlsZUdyaWQpIHtcbiAgICAgIC8vIEEgdGlsZSBncmlkIHRoYXQgbWF0Y2hlcyB0aGUgdGlsZSBzaXplIG9mIHRoZSBzb3VyY2UgdGlsZSBncmlkIGlzIG1vcmVcbiAgICAgIC8vIGxpa2VseSB0byBoYXZlIDE6MSByZWxhdGlvbnNoaXBzIGJldHdlZW4gc291cmNlIHRpbGVzIGFuZCByZW5kZXJlZCB0aWxlcy5cbiAgICAgIHZhciBzb3VyY2VUaWxlR3JpZCA9IHRoaXMudGlsZUdyaWQ7XG4gICAgICB0aWxlR3JpZCA9IHRoaXMudGlsZUdyaWRzX1tjb2RlXSA9IGNyZWF0ZUZvclByb2plY3Rpb24ocHJvamVjdGlvbiwgdW5kZWZpbmVkLFxuICAgICAgICBzb3VyY2VUaWxlR3JpZCA/IHNvdXJjZVRpbGVHcmlkLmdldFRpbGVTaXplKHNvdXJjZVRpbGVHcmlkLmdldE1pblpvb20oKSkgOiB1bmRlZmluZWQpO1xuICAgIH1cbiAgICByZXR1cm4gdGlsZUdyaWQ7XG4gIH07XG5cblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIFZlY3RvclRpbGUucHJvdG90eXBlLmdldFRpbGVQaXhlbFJhdGlvID0gZnVuY3Rpb24gZ2V0VGlsZVBpeGVsUmF0aW8gKHBpeGVsUmF0aW8pIHtcbiAgICByZXR1cm4gcGl4ZWxSYXRpbztcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgVmVjdG9yVGlsZS5wcm90b3R5cGUuZ2V0VGlsZVBpeGVsU2l6ZSA9IGZ1bmN0aW9uIGdldFRpbGVQaXhlbFNpemUgKHosIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICB2YXIgdGlsZUdyaWQgPSB0aGlzLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICB2YXIgdGlsZVNpemUgPSB0b1NpemUodGlsZUdyaWQuZ2V0VGlsZVNpemUoeiksIHRoaXMudG1wU2l6ZSk7XG4gICAgcmV0dXJuIFtNYXRoLnJvdW5kKHRpbGVTaXplWzBdICogcGl4ZWxSYXRpbyksIE1hdGgucm91bmQodGlsZVNpemVbMV0gKiBwaXhlbFJhdGlvKV07XG4gIH07XG5cbiAgcmV0dXJuIFZlY3RvclRpbGU7XG59KFVybFRpbGUpKTtcblxuXG5leHBvcnQgZGVmYXVsdCBWZWN0b3JUaWxlO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1WZWN0b3JUaWxlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvV01UU1JlcXVlc3RFbmNvZGluZ1xuICovXG5cbi8qKlxuICogUmVxdWVzdCBlbmNvZGluZy4gT25lIG9mICdLVlAnLCAnUkVTVCcuXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIEtWUDogJ0tWUCcsIC8vIHNlZSBzcGVjIMKnOFxuICBSRVNUOiAnUkVTVCcgLy8gc2VlIHNwZWMgwqcxMFxufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9V01UU1JlcXVlc3RFbmNvZGluZy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1dNVFNcbiAqL1xuXG5pbXBvcnQge2V4cGFuZFVybCwgY3JlYXRlRnJvbVRpbGVVcmxGdW5jdGlvbnMsIG51bGxUaWxlVXJsRnVuY3Rpb259IGZyb20gJy4uL3RpbGV1cmxmdW5jdGlvbi5qcyc7XG5pbXBvcnQge2ZpbmQsIGZpbmRJbmRleCwgaW5jbHVkZXN9IGZyb20gJy4uL2FycmF5LmpzJztcbmltcG9ydCB7Y29udGFpbnNFeHRlbnR9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQge2Fzc2lnbn0gZnJvbSAnLi4vb2JqLmpzJztcbmltcG9ydCB7Z2V0IGFzIGdldFByb2plY3Rpb24sIGVxdWl2YWxlbnQsIHRyYW5zZm9ybUV4dGVudH0gZnJvbSAnLi4vcHJvai5qcyc7XG5pbXBvcnQgVGlsZUltYWdlIGZyb20gJy4vVGlsZUltYWdlLmpzJztcbmltcG9ydCBXTVRTUmVxdWVzdEVuY29kaW5nIGZyb20gJy4vV01UU1JlcXVlc3RFbmNvZGluZy5qcyc7XG5pbXBvcnQge2NyZWF0ZUZyb21DYXBhYmlsaXRpZXNNYXRyaXhTZXR9IGZyb20gJy4uL3RpbGVncmlkL1dNVFMuanMnO1xuaW1wb3J0IHthcHBlbmRQYXJhbXN9IGZyb20gJy4uL3VyaS5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5BdHRyaWJ1dGlvbkxpa2V9IFthdHRyaWJ1dGlvbnNdIEF0dHJpYnV0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY2FjaGVTaXplPTIwNDhdIENhY2hlIHNpemUuXG4gKiBAcHJvcGVydHkge251bGx8c3RyaW5nfSBbY3Jvc3NPcmlnaW5dIFRoZSBgY3Jvc3NPcmlnaW5gIGF0dHJpYnV0ZSBmb3IgbG9hZGVkIGltYWdlcy4gIE5vdGUgdGhhdFxuICogeW91IG11c3QgcHJvdmlkZSBhIGBjcm9zc09yaWdpbmAgdmFsdWUgaWYgeW91IGFyZSB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXIgb3IgaWYgeW91IHdhbnQgdG9cbiAqIGFjY2VzcyBwaXhlbCBkYXRhIHdpdGggdGhlIENhbnZhcyByZW5kZXJlci4gIFNlZVxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9DT1JTX2VuYWJsZWRfaW1hZ2UgZm9yIG1vcmUgZGV0YWlsLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9XTVRTLmpzXCIpLmRlZmF1bHR9IHRpbGVHcmlkIFRpbGUgZ3JpZC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyZXByb2plY3Rpb25FcnJvclRocmVzaG9sZD0wLjVdIE1heGltdW0gYWxsb3dlZCByZXByb2plY3Rpb24gZXJyb3IgKGluIHBpeGVscykuXG4gKiBIaWdoZXIgdmFsdWVzIGNhbiBpbmNyZWFzZSByZXByb2plY3Rpb24gcGVyZm9ybWFuY2UsIGJ1dCBkZWNyZWFzZSBwcmVjaXNpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vV01UU1JlcXVlc3RFbmNvZGluZy5qc1wiKS5kZWZhdWx0fHN0cmluZ30gW3JlcXVlc3RFbmNvZGluZz0nS1ZQJ10gUmVxdWVzdCBlbmNvZGluZy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBsYXllciBMYXllciBuYW1lIGFzIGFkdmVydGlzZWQgaW4gdGhlIFdNVFMgY2FwYWJpbGl0aWVzLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHN0eWxlIFN0eWxlIG5hbWUgYXMgYWR2ZXJ0aXNlZCBpbiB0aGUgV01UUyBjYXBhYmlsaXRpZXMuXG4gKiBAcHJvcGVydHkge3R5cGVvZiBpbXBvcnQoXCIuLi9JbWFnZVRpbGUuanNcIikuZGVmYXVsdH0gW3RpbGVDbGFzc10gIENsYXNzIHVzZWQgdG8gaW5zdGFudGlhdGUgaW1hZ2UgdGlsZXMuIERlZmF1bHQgaXMge0BsaW5rIG1vZHVsZTpvbC9JbWFnZVRpbGV+SW1hZ2VUaWxlfS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGlsZVBpeGVsUmF0aW89MV0gVGhlIHBpeGVsIHJhdGlvIHVzZWQgYnkgdGhlIHRpbGUgc2VydmljZS5cbiAqIEZvciBleGFtcGxlLCBpZiB0aGUgdGlsZSBzZXJ2aWNlIGFkdmVydGl6ZXMgMjU2cHggYnkgMjU2cHggdGlsZXMgYnV0IGFjdHVhbGx5IHNlbmRzIDUxMnB4XG4gKiBieSA1MTJweCBpbWFnZXMgKGZvciByZXRpbmEvaGlkcGkgZGV2aWNlcykgdGhlbiBgdGlsZVBpeGVsUmF0aW9gXG4gKiBzaG91bGQgYmUgc2V0IHRvIGAyYC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbZm9ybWF0PSdpbWFnZS9qcGVnJ10gSW1hZ2UgZm9ybWF0LiBPbmx5IHVzZWQgd2hlbiBgcmVxdWVzdEVuY29kaW5nYCBpcyBgJ0tWUCdgLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt2ZXJzaW9uPScxLjAuMCddIFdNVFMgdmVyc2lvbi5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtYXRyaXhTZXQgTWF0cml4IHNldC5cbiAqIEBwcm9wZXJ0eSB7IU9iamVjdH0gW2RpbWVuc2lvbnNdIEFkZGl0aW9uYWwgXCJkaW1lbnNpb25zXCIgZm9yIHRpbGUgcmVxdWVzdHMuXG4gKiBUaGlzIGlzIGFuIG9iamVjdCB3aXRoIHByb3BlcnRpZXMgbmFtZWQgbGlrZSB0aGUgYWR2ZXJ0aXNlZCBXTVRTIGRpbWVuc2lvbnMuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3VybF0gIEEgVVJMIGZvciB0aGUgc2VydmljZS5cbiAqIEZvciB0aGUgUkVTVGZ1bCByZXF1ZXN0IGVuY29kaW5nLCB0aGlzIGlzIGEgVVJMXG4gKiB0ZW1wbGF0ZS4gIEZvciBLVlAgZW5jb2RpbmcsIGl0IGlzIG5vcm1hbCBVUkwuIEEgYHs/LT99YCB0ZW1wbGF0ZSBwYXR0ZXJuLFxuICogZm9yIGV4YW1wbGUgYHN1YmRvbWFpbnthLWZ9LmRvbWFpbi5jb21gLCBtYXkgYmUgdXNlZCBpbnN0ZWFkIG9mIGRlZmluaW5nXG4gKiBlYWNoIG9uZSBzZXBhcmF0ZWx5IGluIHRoZSBgdXJsc2Agb3B0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn0gW3RpbGVMb2FkRnVuY3Rpb25dIE9wdGlvbmFsIGZ1bmN0aW9uIHRvIGxvYWQgYSB0aWxlIGdpdmVuIGEgVVJMLiBUaGUgZGVmYXVsdCBpc1xuICogYGBganNcbiAqIGZ1bmN0aW9uKGltYWdlVGlsZSwgc3JjKSB7XG4gKiAgIGltYWdlVGlsZS5nZXRJbWFnZSgpLnNyYyA9IHNyYztcbiAqIH07XG4gKiBgYGBcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gW3VybHNdIEFuIGFycmF5IG9mIFVSTHMuXG4gKiBSZXF1ZXN0cyB3aWxsIGJlIGRpc3RyaWJ1dGVkIGFtb25nIHRoZSBVUkxzIGluIHRoaXMgYXJyYXkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3cmFwWD1mYWxzZV0gV2hldGhlciB0byB3cmFwIHRoZSB3b3JsZCBob3Jpem9udGFsbHkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RyYW5zaXRpb25dIER1cmF0aW9uIG9mIHRoZSBvcGFjaXR5IHRyYW5zaXRpb24gZm9yIHJlbmRlcmluZy5cbiAqIFRvIGRpc2FibGUgdGhlIG9wYWNpdHkgdHJhbnNpdGlvbiwgcGFzcyBgdHJhbnNpdGlvbjogMGAuXG4gKi9cblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIExheWVyIHNvdXJjZSBmb3IgdGlsZSBkYXRhIGZyb20gV01UUyBzZXJ2ZXJzLlxuICogQGFwaVxuICovXG52YXIgV01UUyA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFRpbGVJbWFnZSkge1xuICBmdW5jdGlvbiBXTVRTKG9wdGlvbnMpIHtcblxuICAgIC8vIFRPRE86IGFkZCBzdXBwb3J0IGZvciBUaWxlTWF0cml4TGltaXRzXG5cbiAgICB2YXIgcmVxdWVzdEVuY29kaW5nID0gb3B0aW9ucy5yZXF1ZXN0RW5jb2RpbmcgIT09IHVuZGVmaW5lZCA/XG4gICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4vV01UU1JlcXVlc3RFbmNvZGluZy5qc1wiKS5kZWZhdWx0fSAqLyAob3B0aW9ucy5yZXF1ZXN0RW5jb2RpbmcpIDpcbiAgICAgIFdNVFNSZXF1ZXN0RW5jb2RpbmcuS1ZQO1xuXG4gICAgLy8gRklYTUU6IHNob3VsZCB3ZSBjcmVhdGUgYSBkZWZhdWx0IHRpbGVHcmlkP1xuICAgIC8vIHdlIGNvdWxkIGlzc3VlIGEgZ2V0Q2FwYWJpbGl0aWVzIHhociB0byByZXRyaWV2ZSBtaXNzaW5nIGNvbmZpZ3VyYXRpb25cbiAgICB2YXIgdGlsZUdyaWQgPSBvcHRpb25zLnRpbGVHcmlkO1xuXG4gICAgdmFyIHVybHMgPSBvcHRpb25zLnVybHM7XG4gICAgaWYgKHVybHMgPT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLnVybCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB1cmxzID0gZXhwYW5kVXJsKG9wdGlvbnMudXJsKTtcbiAgICB9XG5cbiAgICBUaWxlSW1hZ2UuY2FsbCh0aGlzLCB7XG4gICAgICBhdHRyaWJ1dGlvbnM6IG9wdGlvbnMuYXR0cmlidXRpb25zLFxuICAgICAgY2FjaGVTaXplOiBvcHRpb25zLmNhY2hlU2l6ZSxcbiAgICAgIGNyb3NzT3JpZ2luOiBvcHRpb25zLmNyb3NzT3JpZ2luLFxuICAgICAgcHJvamVjdGlvbjogb3B0aW9ucy5wcm9qZWN0aW9uLFxuICAgICAgcmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQ6IG9wdGlvbnMucmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQsXG4gICAgICB0aWxlQ2xhc3M6IG9wdGlvbnMudGlsZUNsYXNzLFxuICAgICAgdGlsZUdyaWQ6IHRpbGVHcmlkLFxuICAgICAgdGlsZUxvYWRGdW5jdGlvbjogb3B0aW9ucy50aWxlTG9hZEZ1bmN0aW9uLFxuICAgICAgdGlsZVBpeGVsUmF0aW86IG9wdGlvbnMudGlsZVBpeGVsUmF0aW8sXG4gICAgICB0aWxlVXJsRnVuY3Rpb246IG51bGxUaWxlVXJsRnVuY3Rpb24sXG4gICAgICB1cmxzOiB1cmxzLFxuICAgICAgd3JhcFg6IG9wdGlvbnMud3JhcFggIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMud3JhcFggOiBmYWxzZSxcbiAgICAgIHRyYW5zaXRpb246IG9wdGlvbnMudHJhbnNpdGlvblxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMudmVyc2lvbl8gPSBvcHRpb25zLnZlcnNpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudmVyc2lvbiA6ICcxLjAuMCc7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5mb3JtYXRfID0gb3B0aW9ucy5mb3JtYXQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZm9ybWF0IDogJ2ltYWdlL2pwZWcnO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7IU9iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLmRpbWVuc2lvbnNfID0gb3B0aW9ucy5kaW1lbnNpb25zICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmRpbWVuc2lvbnMgOiB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmxheWVyXyA9IG9wdGlvbnMubGF5ZXI7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5tYXRyaXhTZXRfID0gb3B0aW9ucy5tYXRyaXhTZXQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5zdHlsZV8gPSBvcHRpb25zLnN0eWxlO1xuXG4gICAgLy8gRklYTUU6IHNob3VsZCB3ZSBndWVzcyB0aGlzIHJlcXVlc3RFbmNvZGluZyBmcm9tIG9wdGlvbnMudXJsKHMpXG4gICAgLy8gICAgICAgIHN0cnVjdHVyZT8gdGhhdCB3b3VsZCBtZWFuIEtWUCBvbmx5IGlmIGEgdGVtcGxhdGUgaXMgbm90IHByb3ZpZGVkLlxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9XTVRTUmVxdWVzdEVuY29kaW5nLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5yZXF1ZXN0RW5jb2RpbmdfID0gcmVxdWVzdEVuY29kaW5nO1xuXG4gICAgdGhpcy5zZXRLZXkodGhpcy5nZXRLZXlGb3JEaW1lbnNpb25zXygpKTtcblxuICAgIGlmICh1cmxzICYmIHVybHMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy50aWxlVXJsRnVuY3Rpb24gPSBjcmVhdGVGcm9tVGlsZVVybEZ1bmN0aW9ucyh1cmxzLm1hcChjcmVhdGVGcm9tV01UU1RlbXBsYXRlLmJpbmQodGhpcykpKTtcbiAgICB9XG5cbiAgfVxuXG4gIGlmICggVGlsZUltYWdlICkgV01UUy5fX3Byb3RvX18gPSBUaWxlSW1hZ2U7XG4gIFdNVFMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggVGlsZUltYWdlICYmIFRpbGVJbWFnZS5wcm90b3R5cGUgKTtcbiAgV01UUy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBXTVRTO1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIFVSTHMgdG8gdXNlIGZvciByZXF1ZXN0cy5cbiAgICogVVJMcyBtYXkgY29udGFpbiBPQ0cgY29uZm9ybSBVUkwgVGVtcGxhdGUgVmFyaWFibGVzOiB7VGlsZU1hdHJpeH0sIHtUaWxlUm93fSwge1RpbGVDb2x9LlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIFdNVFMucHJvdG90eXBlLnNldFVybHMgPSBmdW5jdGlvbiBzZXRVcmxzICh1cmxzKSB7XG4gICAgdGhpcy51cmxzID0gdXJscztcbiAgICB2YXIga2V5ID0gdXJscy5qb2luKCdcXG4nKTtcbiAgICB0aGlzLnNldFRpbGVVcmxGdW5jdGlvbihjcmVhdGVGcm9tVGlsZVVybEZ1bmN0aW9ucyh1cmxzLm1hcChjcmVhdGVGcm9tV01UU1RlbXBsYXRlLmJpbmQodGhpcykpKSwga2V5KTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSBkaW1lbnNpb25zLCBpLmUuIHRob3NlIHBhc3NlZCB0byB0aGUgY29uc3RydWN0b3IgdGhyb3VnaCB0aGVcbiAgICogXCJkaW1lbnNpb25zXCIgb3B0aW9uLCBhbmQgcG9zc2libHkgdXBkYXRlZCB1c2luZyB0aGUgdXBkYXRlRGltZW5zaW9uc1xuICAgKiBtZXRob2QuXG4gICAqIEByZXR1cm4geyFPYmplY3R9IERpbWVuc2lvbnMuXG4gICAqIEBhcGlcbiAgICovXG4gIFdNVFMucHJvdG90eXBlLmdldERpbWVuc2lvbnMgPSBmdW5jdGlvbiBnZXREaW1lbnNpb25zICgpIHtcbiAgICByZXR1cm4gdGhpcy5kaW1lbnNpb25zXztcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGltYWdlIGZvcm1hdCBvZiB0aGUgV01UUyBzb3VyY2UuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gRm9ybWF0LlxuICAgKiBAYXBpXG4gICAqL1xuICBXTVRTLnByb3RvdHlwZS5nZXRGb3JtYXQgPSBmdW5jdGlvbiBnZXRGb3JtYXQgKCkge1xuICAgIHJldHVybiB0aGlzLmZvcm1hdF87XG4gIH07XG5cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBsYXllciBvZiB0aGUgV01UUyBzb3VyY2UuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gTGF5ZXIuXG4gICAqIEBhcGlcbiAgICovXG4gIFdNVFMucHJvdG90eXBlLmdldExheWVyID0gZnVuY3Rpb24gZ2V0TGF5ZXIgKCkge1xuICAgIHJldHVybiB0aGlzLmxheWVyXztcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIG1hdHJpeCBzZXQgb2YgdGhlIFdNVFMgc291cmNlLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IE1hdHJpeFNldC5cbiAgICogQGFwaVxuICAgKi9cbiAgV01UUy5wcm90b3R5cGUuZ2V0TWF0cml4U2V0ID0gZnVuY3Rpb24gZ2V0TWF0cml4U2V0ICgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXRyaXhTZXRfO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgcmVxdWVzdCBlbmNvZGluZywgZWl0aGVyIFwiS1ZQXCIgb3IgXCJSRVNUXCIuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vV01UU1JlcXVlc3RFbmNvZGluZy5qc1wiKS5kZWZhdWx0fSBSZXF1ZXN0IGVuY29kaW5nLlxuICAgKiBAYXBpXG4gICAqL1xuICBXTVRTLnByb3RvdHlwZS5nZXRSZXF1ZXN0RW5jb2RpbmcgPSBmdW5jdGlvbiBnZXRSZXF1ZXN0RW5jb2RpbmcgKCkge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3RFbmNvZGluZ187XG4gIH07XG5cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBzdHlsZSBvZiB0aGUgV01UUyBzb3VyY2UuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gU3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIFdNVFMucHJvdG90eXBlLmdldFN0eWxlID0gZnVuY3Rpb24gZ2V0U3R5bGUgKCkge1xuICAgIHJldHVybiB0aGlzLnN0eWxlXztcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIHZlcnNpb24gb2YgdGhlIFdNVFMgc291cmNlLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFZlcnNpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIFdNVFMucHJvdG90eXBlLmdldFZlcnNpb24gPSBmdW5jdGlvbiBnZXRWZXJzaW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy52ZXJzaW9uXztcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBrZXkgZm9yIHRoZSBjdXJyZW50IGRpbWVuc2lvbnMuXG4gICAqL1xuICBXTVRTLnByb3RvdHlwZS5nZXRLZXlGb3JEaW1lbnNpb25zXyA9IGZ1bmN0aW9uIGdldEtleUZvckRpbWVuc2lvbnNfICgpIHtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIHJlcyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmRpbWVuc2lvbnNfKSB7XG4gICAgICByZXNbaSsrXSA9IGtleSArICctJyArIHRoaXMuZGltZW5zaW9uc19ba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcy5qb2luKCcvJyk7XG4gIH07XG5cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBkaW1lbnNpb25zLlxuICAgKiBAcGFyYW0ge09iamVjdH0gZGltZW5zaW9ucyBEaW1lbnNpb25zLlxuICAgKiBAYXBpXG4gICAqL1xuICBXTVRTLnByb3RvdHlwZS51cGRhdGVEaW1lbnNpb25zID0gZnVuY3Rpb24gdXBkYXRlRGltZW5zaW9ucyAoZGltZW5zaW9ucykge1xuICAgIGFzc2lnbih0aGlzLmRpbWVuc2lvbnNfLCBkaW1lbnNpb25zKTtcbiAgICB0aGlzLnNldEtleSh0aGlzLmdldEtleUZvckRpbWVuc2lvbnNfKCkpO1xuICB9O1xuXG4gIHJldHVybiBXTVRTO1xufShUaWxlSW1hZ2UpKTtcblxuZXhwb3J0IGRlZmF1bHQgV01UUztcblxuLyoqXG4gKiBHZW5lcmF0ZSBzb3VyY2Ugb3B0aW9ucyBmcm9tIGEgY2FwYWJpbGl0aWVzIG9iamVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSB3bXRzQ2FwIEFuIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGNhcGFiaWxpdGllcyBkb2N1bWVudC5cbiAqIEBwYXJhbSB7IU9iamVjdH0gY29uZmlnIENvbmZpZ3VyYXRpb24gcHJvcGVydGllcyBmb3IgdGhlIGxheWVyLiAgRGVmYXVsdHMgZm9yXG4gKiAgICAgICAgICAgICAgICAgIHRoZSBsYXllciB3aWxsIGFwcGx5IGlmIG5vdCBwcm92aWRlZC5cbiAqXG4gKiBSZXF1aXJlZCBjb25maWcgcHJvcGVydGllczpcbiAqICAtIGxheWVyIC0ge3N0cmluZ30gVGhlIGxheWVyIGlkZW50aWZpZXIuXG4gKlxuICogT3B0aW9uYWwgY29uZmlnIHByb3BlcnRpZXM6XG4gKiAgLSBtYXRyaXhTZXQgLSB7c3RyaW5nfSBUaGUgbWF0cml4IHNldCBpZGVudGlmaWVyLCByZXF1aXJlZCBpZiB0aGVyZSBpc1xuICogICAgICAgbW9yZSB0aGFuIG9uZSBtYXRyaXggc2V0IGluIHRoZSBsYXllciBjYXBhYmlsaXRpZXMuXG4gKiAgLSBwcm9qZWN0aW9uIC0ge3N0cmluZ30gVGhlIGRlc2lyZWQgQ1JTIHdoZW4gbm8gbWF0cml4U2V0IGlzIHNwZWNpZmllZC5cbiAqICAgICAgIGVnOiBcIkVQU0c6Mzg1N1wiLiBJZiB0aGUgZGVzaXJlZCBwcm9qZWN0aW9uIGlzIG5vdCBhdmFpbGFibGUsXG4gKiAgICAgICBhbiBlcnJvciBpcyB0aHJvd24uXG4gKiAgLSByZXF1ZXN0RW5jb2RpbmcgLSB7c3RyaW5nfSB1cmwgZW5jb2RpbmcgZm9ybWF0IGZvciB0aGUgbGF5ZXIuIERlZmF1bHQgaXNcbiAqICAgICAgIHRoZSBmaXJzdCB0aWxlIHVybCBmb3JtYXQgZm91bmQgaW4gdGhlIEdldENhcGFiaWxpdGllcyByZXNwb25zZS5cbiAqICAtIHN0eWxlIC0ge3N0cmluZ30gVGhlIG5hbWUgb2YgdGhlIHN0eWxlXG4gKiAgLSBmb3JtYXQgLSB7c3RyaW5nfSBJbWFnZSBmb3JtYXQgZm9yIHRoZSBsYXllci4gRGVmYXVsdCBpcyB0aGUgZmlyc3RcbiAqICAgICAgIGZvcm1hdCByZXR1cm5lZCBpbiB0aGUgR2V0Q2FwYWJpbGl0aWVzIHJlc3BvbnNlLlxuICogIC0gY3Jvc3NPcmlnaW4gLSB7c3RyaW5nfG51bGx8dW5kZWZpbmVkfSBDcm9zcyBvcmlnaW4uIERlZmF1bHQgaXMgYHVuZGVmaW5lZGAuXG4gKiBAcmV0dXJuIHs/T3B0aW9uc30gV01UUyBzb3VyY2Ugb3B0aW9ucyBvYmplY3Qgb3IgYG51bGxgIGlmIHRoZSBsYXllciB3YXMgbm90IGZvdW5kLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gb3B0aW9uc0Zyb21DYXBhYmlsaXRpZXMod210c0NhcCwgY29uZmlnKSB7XG4gIHZhciBsYXllcnMgPSB3bXRzQ2FwWydDb250ZW50cyddWydMYXllciddO1xuICB2YXIgbCA9IGZpbmQobGF5ZXJzLCBmdW5jdGlvbihlbHQsIGluZGV4LCBhcnJheSkge1xuICAgIHJldHVybiBlbHRbJ0lkZW50aWZpZXInXSA9PSBjb25maWdbJ2xheWVyJ107XG4gIH0pO1xuICBpZiAobCA9PT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciB0aWxlTWF0cml4U2V0cyA9IHdtdHNDYXBbJ0NvbnRlbnRzJ11bJ1RpbGVNYXRyaXhTZXQnXTtcbiAgdmFyIGlkeDtcbiAgaWYgKGxbJ1RpbGVNYXRyaXhTZXRMaW5rJ10ubGVuZ3RoID4gMSkge1xuICAgIGlmICgncHJvamVjdGlvbicgaW4gY29uZmlnKSB7XG4gICAgICBpZHggPSBmaW5kSW5kZXgobFsnVGlsZU1hdHJpeFNldExpbmsnXSxcbiAgICAgICAgZnVuY3Rpb24oZWx0LCBpbmRleCwgYXJyYXkpIHtcbiAgICAgICAgICB2YXIgdGlsZU1hdHJpeFNldCA9IGZpbmQodGlsZU1hdHJpeFNldHMsIGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxbJ0lkZW50aWZpZXInXSA9PSBlbHRbJ1RpbGVNYXRyaXhTZXQnXTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2YXIgc3VwcG9ydGVkQ1JTID0gdGlsZU1hdHJpeFNldFsnU3VwcG9ydGVkQ1JTJ107XG4gICAgICAgICAgdmFyIHByb2oxID0gZ2V0UHJvamVjdGlvbihzdXBwb3J0ZWRDUlMucmVwbGFjZSgvdXJuOm9nYzpkZWY6Y3JzOihcXHcrKTooLio6KT8oXFx3KykkLywgJyQxOiQzJykpIHx8XG4gICAgICAgICAgICAgICAgZ2V0UHJvamVjdGlvbihzdXBwb3J0ZWRDUlMpO1xuICAgICAgICAgIHZhciBwcm9qMiA9IGdldFByb2plY3Rpb24oY29uZmlnWydwcm9qZWN0aW9uJ10pO1xuICAgICAgICAgIGlmIChwcm9qMSAmJiBwcm9qMikge1xuICAgICAgICAgICAgcmV0dXJuIGVxdWl2YWxlbnQocHJvajEsIHByb2oyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHN1cHBvcnRlZENSUyA9PSBjb25maWdbJ3Byb2plY3Rpb24nXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZHggPSBmaW5kSW5kZXgobFsnVGlsZU1hdHJpeFNldExpbmsnXSxcbiAgICAgICAgZnVuY3Rpb24oZWx0LCBpbmRleCwgYXJyYXkpIHtcbiAgICAgICAgICByZXR1cm4gZWx0WydUaWxlTWF0cml4U2V0J10gPT0gY29uZmlnWydtYXRyaXhTZXQnXTtcbiAgICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlkeCA9IDA7XG4gIH1cbiAgaWYgKGlkeCA8IDApIHtcbiAgICBpZHggPSAwO1xuICB9XG4gIHZhciBtYXRyaXhTZXQgPSAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICAobFsnVGlsZU1hdHJpeFNldExpbmsnXVtpZHhdWydUaWxlTWF0cml4U2V0J10pO1xuICB2YXIgbWF0cml4TGltaXRzID0gLyoqIEB0eXBlIHtBcnJheTxPYmplY3Q+fSAqL1xuICAgIChsWydUaWxlTWF0cml4U2V0TGluayddW2lkeF1bJ1RpbGVNYXRyaXhTZXRMaW1pdHMnXSk7XG5cbiAgdmFyIGZvcm1hdCA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAobFsnRm9ybWF0J11bMF0pO1xuICBpZiAoJ2Zvcm1hdCcgaW4gY29uZmlnKSB7XG4gICAgZm9ybWF0ID0gY29uZmlnWydmb3JtYXQnXTtcbiAgfVxuICBpZHggPSBmaW5kSW5kZXgobFsnU3R5bGUnXSwgZnVuY3Rpb24oZWx0LCBpbmRleCwgYXJyYXkpIHtcbiAgICBpZiAoJ3N0eWxlJyBpbiBjb25maWcpIHtcbiAgICAgIHJldHVybiBlbHRbJ1RpdGxlJ10gPT0gY29uZmlnWydzdHlsZSddO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZWx0Wydpc0RlZmF1bHQnXTtcbiAgICB9XG4gIH0pO1xuICBpZiAoaWR4IDwgMCkge1xuICAgIGlkeCA9IDA7XG4gIH1cbiAgdmFyIHN0eWxlID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChsWydTdHlsZSddW2lkeF1bJ0lkZW50aWZpZXInXSk7XG5cbiAgdmFyIGRpbWVuc2lvbnMgPSB7fTtcbiAgaWYgKCdEaW1lbnNpb24nIGluIGwpIHtcbiAgICBsWydEaW1lbnNpb24nXS5mb3JFYWNoKGZ1bmN0aW9uKGVsdCwgaW5kZXgsIGFycmF5KSB7XG4gICAgICB2YXIga2V5ID0gZWx0WydJZGVudGlmaWVyJ107XG4gICAgICB2YXIgdmFsdWUgPSBlbHRbJ0RlZmF1bHQnXTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbHVlID0gZWx0WydWYWx1ZSddWzBdO1xuICAgICAgfVxuICAgICAgZGltZW5zaW9uc1trZXldID0gdmFsdWU7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgbWF0cml4U2V0cyA9IHdtdHNDYXBbJ0NvbnRlbnRzJ11bJ1RpbGVNYXRyaXhTZXQnXTtcbiAgdmFyIG1hdHJpeFNldE9iaiA9IGZpbmQobWF0cml4U2V0cywgZnVuY3Rpb24oZWx0LCBpbmRleCwgYXJyYXkpIHtcbiAgICByZXR1cm4gZWx0WydJZGVudGlmaWVyJ10gPT0gbWF0cml4U2V0O1xuICB9KTtcblxuICB2YXIgcHJvamVjdGlvbjtcbiAgdmFyIGNvZGUgPSBtYXRyaXhTZXRPYmpbJ1N1cHBvcnRlZENSUyddO1xuICBpZiAoY29kZSkge1xuICAgIHByb2plY3Rpb24gPSBnZXRQcm9qZWN0aW9uKGNvZGUucmVwbGFjZSgvdXJuOm9nYzpkZWY6Y3JzOihcXHcrKTooLio6KT8oXFx3KykkLywgJyQxOiQzJykpIHx8XG4gICAgICAgIGdldFByb2plY3Rpb24oY29kZSk7XG4gIH1cbiAgaWYgKCdwcm9qZWN0aW9uJyBpbiBjb25maWcpIHtcbiAgICB2YXIgcHJvakNvbmZpZyA9IGdldFByb2plY3Rpb24oY29uZmlnWydwcm9qZWN0aW9uJ10pO1xuICAgIGlmIChwcm9qQ29uZmlnKSB7XG4gICAgICBpZiAoIXByb2plY3Rpb24gfHwgZXF1aXZhbGVudChwcm9qQ29uZmlnLCBwcm9qZWN0aW9uKSkge1xuICAgICAgICBwcm9qZWN0aW9uID0gcHJvakNvbmZpZztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgd2dzODRCb3VuZGluZ0JveCA9IGxbJ1dHUzg0Qm91bmRpbmdCb3gnXTtcbiAgdmFyIGV4dGVudCwgd3JhcFg7XG4gIGlmICh3Z3M4NEJvdW5kaW5nQm94ICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgd2dzODRQcm9qZWN0aW9uRXh0ZW50ID0gZ2V0UHJvamVjdGlvbignRVBTRzo0MzI2JykuZ2V0RXh0ZW50KCk7XG4gICAgd3JhcFggPSAod2dzODRCb3VuZGluZ0JveFswXSA9PSB3Z3M4NFByb2plY3Rpb25FeHRlbnRbMF0gJiZcbiAgICAgICAgd2dzODRCb3VuZGluZ0JveFsyXSA9PSB3Z3M4NFByb2plY3Rpb25FeHRlbnRbMl0pO1xuICAgIGV4dGVudCA9IHRyYW5zZm9ybUV4dGVudChcbiAgICAgIHdnczg0Qm91bmRpbmdCb3gsICdFUFNHOjQzMjYnLCBwcm9qZWN0aW9uKTtcbiAgICB2YXIgcHJvamVjdGlvbkV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCk7XG4gICAgaWYgKHByb2plY3Rpb25FeHRlbnQpIHtcbiAgICAgIC8vIElmIHBvc3NpYmxlLCBkbyBhIHNhbml0eSBjaGVjayBvbiB0aGUgZXh0ZW50IC0gaXQgc2hvdWxkIG5ldmVyIGJlXG4gICAgICAvLyBiaWdnZXIgdGhhbiB0aGUgdmFsaWRpdHkgZXh0ZW50IG9mIHRoZSBwcm9qZWN0aW9uIG9mIGEgbWF0cml4IHNldC5cbiAgICAgIGlmICghY29udGFpbnNFeHRlbnQocHJvamVjdGlvbkV4dGVudCwgZXh0ZW50KSkge1xuICAgICAgICBleHRlbnQgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIHRpbGVHcmlkID0gY3JlYXRlRnJvbUNhcGFiaWxpdGllc01hdHJpeFNldChtYXRyaXhTZXRPYmosIGV4dGVudCwgbWF0cml4TGltaXRzKTtcblxuICAvKiogQHR5cGUgeyFBcnJheTxzdHJpbmc+fSAqL1xuICB2YXIgdXJscyA9IFtdO1xuICB2YXIgcmVxdWVzdEVuY29kaW5nID0gY29uZmlnWydyZXF1ZXN0RW5jb2RpbmcnXTtcbiAgcmVxdWVzdEVuY29kaW5nID0gcmVxdWVzdEVuY29kaW5nICE9PSB1bmRlZmluZWQgPyByZXF1ZXN0RW5jb2RpbmcgOiAnJztcblxuICBpZiAoJ09wZXJhdGlvbnNNZXRhZGF0YScgaW4gd210c0NhcCAmJiAnR2V0VGlsZScgaW4gd210c0NhcFsnT3BlcmF0aW9uc01ldGFkYXRhJ10pIHtcbiAgICB2YXIgZ2V0cyA9IHdtdHNDYXBbJ09wZXJhdGlvbnNNZXRhZGF0YSddWydHZXRUaWxlJ11bJ0RDUCddWydIVFRQJ11bJ0dldCddO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZ2V0cy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBpZiAoZ2V0c1tpXVsnQ29uc3RyYWludCddKSB7XG4gICAgICAgIHZhciBjb25zdHJhaW50ID0gZmluZChnZXRzW2ldWydDb25zdHJhaW50J10sIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICByZXR1cm4gZWxlbWVudFsnbmFtZSddID09ICdHZXRFbmNvZGluZyc7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgZW5jb2RpbmdzID0gY29uc3RyYWludFsnQWxsb3dlZFZhbHVlcyddWydWYWx1ZSddO1xuXG4gICAgICAgIGlmIChyZXF1ZXN0RW5jb2RpbmcgPT09ICcnKSB7XG4gICAgICAgICAgLy8gcmVxdWVzdEVuY29kaW5nIG5vdCBwcm92aWRlZCwgdXNlIHRoZSBmaXJzdCBlbmNvZGluZyBmcm9tIHRoZSBsaXN0XG4gICAgICAgICAgcmVxdWVzdEVuY29kaW5nID0gZW5jb2RpbmdzWzBdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXF1ZXN0RW5jb2RpbmcgPT09IFdNVFNSZXF1ZXN0RW5jb2RpbmcuS1ZQKSB7XG4gICAgICAgICAgaWYgKGluY2x1ZGVzKGVuY29kaW5ncywgV01UU1JlcXVlc3RFbmNvZGluZy5LVlApKSB7XG4gICAgICAgICAgICB1cmxzLnB1c2goLyoqIEB0eXBlIHtzdHJpbmd9ICovIChnZXRzW2ldWydocmVmJ10pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZ2V0c1tpXVsnaHJlZiddKSB7XG4gICAgICAgIHJlcXVlc3RFbmNvZGluZyA9IFdNVFNSZXF1ZXN0RW5jb2RpbmcuS1ZQO1xuICAgICAgICB1cmxzLnB1c2goLyoqIEB0eXBlIHtzdHJpbmd9ICovIChnZXRzW2ldWydocmVmJ10pKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKHVybHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmVxdWVzdEVuY29kaW5nID0gV01UU1JlcXVlc3RFbmNvZGluZy5SRVNUO1xuICAgIGxbJ1Jlc291cmNlVVJMJ10uZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICBpZiAoZWxlbWVudFsncmVzb3VyY2VUeXBlJ10gPT09ICd0aWxlJykge1xuICAgICAgICBmb3JtYXQgPSBlbGVtZW50Wydmb3JtYXQnXTtcbiAgICAgICAgdXJscy5wdXNoKC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoZWxlbWVudFsndGVtcGxhdGUnXSkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB1cmxzOiB1cmxzLFxuICAgIGxheWVyOiBjb25maWdbJ2xheWVyJ10sXG4gICAgbWF0cml4U2V0OiBtYXRyaXhTZXQsXG4gICAgZm9ybWF0OiBmb3JtYXQsXG4gICAgcHJvamVjdGlvbjogcHJvamVjdGlvbixcbiAgICByZXF1ZXN0RW5jb2Rpbmc6IHJlcXVlc3RFbmNvZGluZyxcbiAgICB0aWxlR3JpZDogdGlsZUdyaWQsXG4gICAgc3R5bGU6IHN0eWxlLFxuICAgIGRpbWVuc2lvbnM6IGRpbWVuc2lvbnMsXG4gICAgd3JhcFg6IHdyYXBYLFxuICAgIGNyb3NzT3JpZ2luOiBjb25maWdbJ2Nyb3NzT3JpZ2luJ11cbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGVtcGxhdGUgVGVtcGxhdGUuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9ufSBUaWxlIFVSTCBmdW5jdGlvbi5cbiAqIEB0aGlzIHtXTVRTfVxuICovXG5mdW5jdGlvbiBjcmVhdGVGcm9tV01UU1RlbXBsYXRlKHRlbXBsYXRlKSB7XG4gIHZhciByZXF1ZXN0RW5jb2RpbmcgPSB0aGlzLnJlcXVlc3RFbmNvZGluZ187XG5cbiAgLy8gY29udGV4dCBwcm9wZXJ0eSBuYW1lcyBhcmUgbG93ZXIgY2FzZSB0byBhbGxvdyBmb3IgYSBjYXNlIGluc2Vuc2l0aXZlXG4gIC8vIHJlcGxhY2VtZW50IGFzIHNvbWUgc2VydmljZXMgdXNlIGRpZmZlcmVudCBuYW1pbmcgY29udmVudGlvbnNcbiAgdmFyIGNvbnRleHQgPSB7XG4gICAgJ2xheWVyJzogdGhpcy5sYXllcl8sXG4gICAgJ3N0eWxlJzogdGhpcy5zdHlsZV8sXG4gICAgJ3RpbGVtYXRyaXhzZXQnOiB0aGlzLm1hdHJpeFNldF9cbiAgfTtcblxuICBpZiAocmVxdWVzdEVuY29kaW5nID09IFdNVFNSZXF1ZXN0RW5jb2RpbmcuS1ZQKSB7XG4gICAgYXNzaWduKGNvbnRleHQsIHtcbiAgICAgICdTZXJ2aWNlJzogJ1dNVFMnLFxuICAgICAgJ1JlcXVlc3QnOiAnR2V0VGlsZScsXG4gICAgICAnVmVyc2lvbic6IHRoaXMudmVyc2lvbl8sXG4gICAgICAnRm9ybWF0JzogdGhpcy5mb3JtYXRfXG4gICAgfSk7XG4gIH1cblxuICAvLyBUT0RPOiB3ZSBtYXkgd2FudCB0byBjcmVhdGUgb3VyIG93biBhcHBlbmRQYXJhbXMgZnVuY3Rpb24gc28gdGhhdCBwYXJhbXNcbiAgLy8gb3JkZXIgY29uZm9ybXMgdG8gd210cyBzcGVjIGd1aWRhbmNlLCBhbmQgc28gdGhhdCB3ZSBjYW4gYXZvaWQgdG8gZXNjYXBlXG4gIC8vIHNwZWNpYWwgdGVtcGxhdGUgcGFyYW1zXG5cbiAgdGVtcGxhdGUgPSAocmVxdWVzdEVuY29kaW5nID09IFdNVFNSZXF1ZXN0RW5jb2RpbmcuS1ZQKSA/XG4gICAgYXBwZW5kUGFyYW1zKHRlbXBsYXRlLCBjb250ZXh0KSA6XG4gICAgdGVtcGxhdGUucmVwbGFjZSgvXFx7KFxcdys/KVxcfS9nLCBmdW5jdGlvbihtLCBwKSB7XG4gICAgICByZXR1cm4gKHAudG9Mb3dlckNhc2UoKSBpbiBjb250ZXh0KSA/IGNvbnRleHRbcC50b0xvd2VyQ2FzZSgpXSA6IG07XG4gICAgfSk7XG5cbiAgdmFyIHRpbGVHcmlkID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9XTVRTLmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICB0aGlzLnRpbGVHcmlkKTtcbiAgdmFyIGRpbWVuc2lvbnMgPSB0aGlzLmRpbWVuc2lvbnNfO1xuXG4gIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfSBUaWxlIFVSTC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbih0aWxlQ29vcmQsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICAgIGlmICghdGlsZUNvb3JkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbG9jYWxDb250ZXh0ID0ge1xuICAgICAgICAgICdUaWxlTWF0cml4JzogdGlsZUdyaWQuZ2V0TWF0cml4SWQodGlsZUNvb3JkWzBdKSxcbiAgICAgICAgICAnVGlsZUNvbCc6IHRpbGVDb29yZFsxXSxcbiAgICAgICAgICAnVGlsZVJvdyc6IC10aWxlQ29vcmRbMl0gLSAxXG4gICAgICAgIH07XG4gICAgICAgIGFzc2lnbihsb2NhbENvbnRleHQsIGRpbWVuc2lvbnMpO1xuICAgICAgICB2YXIgdXJsID0gdGVtcGxhdGU7XG4gICAgICAgIGlmIChyZXF1ZXN0RW5jb2RpbmcgPT0gV01UU1JlcXVlc3RFbmNvZGluZy5LVlApIHtcbiAgICAgICAgICB1cmwgPSBhcHBlbmRQYXJhbXModXJsLCBsb2NhbENvbnRleHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKC9cXHsoXFx3Kz8pXFx9L2csIGZ1bmN0aW9uKG0sIHApIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbENvbnRleHRbcF07XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICAgIH1cbiAgICB9XG4gICk7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdNVFMuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9ab29taWZ5XG4gKi9cbmltcG9ydCB7REVGQVVMVF9USUxFX1NJWkV9IGZyb20gJy4uL3RpbGVncmlkL2NvbW1vbi5qcyc7XG5cbmltcG9ydCBJbWFnZVRpbGUgZnJvbSAnLi4vSW1hZ2VUaWxlLmpzJztcbmltcG9ydCBUaWxlU3RhdGUgZnJvbSAnLi4vVGlsZVN0YXRlLmpzJztcbmltcG9ydCB7ZXhwYW5kVXJsLCBjcmVhdGVGcm9tVGlsZVVybEZ1bmN0aW9uc30gZnJvbSAnLi4vdGlsZXVybGZ1bmN0aW9uLmpzJztcbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7Y3JlYXRlQ2FudmFzQ29udGV4dDJEfSBmcm9tICcuLi9kb20uanMnO1xuaW1wb3J0IHtnZXRUb3BMZWZ0fSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHt0b1NpemV9IGZyb20gJy4uL3NpemUuanMnO1xuaW1wb3J0IFRpbGVJbWFnZSBmcm9tICcuL1RpbGVJbWFnZS5qcyc7XG5pbXBvcnQgVGlsZUdyaWQgZnJvbSAnLi4vdGlsZWdyaWQvVGlsZUdyaWQuanMnO1xuXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xudmFyIFRpZXJTaXplQ2FsY3VsYXRpb24gPSB7XG4gIERFRkFVTFQ6ICdkZWZhdWx0JyxcbiAgVFJVTkNBVEVEOiAndHJ1bmNhdGVkJ1xufTtcblxuXG5leHBvcnQgdmFyIEN1c3RvbVRpbGUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChJbWFnZVRpbGUpIHtcbiAgZnVuY3Rpb24gQ3VzdG9tVGlsZSh0aWxlR3JpZCwgdGlsZUNvb3JkLCBzdGF0ZSwgc3JjLCBjcm9zc09yaWdpbiwgdGlsZUxvYWRGdW5jdGlvbiwgb3B0X29wdGlvbnMpIHtcblxuICAgIEltYWdlVGlsZS5jYWxsKHRoaXMsIHRpbGVDb29yZCwgc3RhdGUsIHNyYywgY3Jvc3NPcmlnaW4sIHRpbGVMb2FkRnVuY3Rpb24sIG9wdF9vcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLnpvb21pZnlJbWFnZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAqL1xuICAgIHRoaXMudGlsZVNpemVfID0gdG9TaXplKHRpbGVHcmlkLmdldFRpbGVTaXplKHRpbGVDb29yZFswXSkpO1xuXG4gIH1cblxuICBpZiAoIEltYWdlVGlsZSApIEN1c3RvbVRpbGUuX19wcm90b19fID0gSW1hZ2VUaWxlO1xuICBDdXN0b21UaWxlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEltYWdlVGlsZSAmJiBJbWFnZVRpbGUucHJvdG90eXBlICk7XG4gIEN1c3RvbVRpbGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ3VzdG9tVGlsZTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIEN1c3RvbVRpbGUucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gZ2V0SW1hZ2UgKCkge1xuICAgIGlmICh0aGlzLnpvb21pZnlJbWFnZV8pIHtcbiAgICAgIHJldHVybiB0aGlzLnpvb21pZnlJbWFnZV87XG4gICAgfVxuICAgIHZhciBpbWFnZSA9IEltYWdlVGlsZS5wcm90b3R5cGUuZ2V0SW1hZ2UuY2FsbCh0aGlzKTtcbiAgICBpZiAodGhpcy5zdGF0ZSA9PSBUaWxlU3RhdGUuTE9BREVEKSB7XG4gICAgICB2YXIgdGlsZVNpemUgPSB0aGlzLnRpbGVTaXplXztcbiAgICAgIGlmIChpbWFnZS53aWR0aCA9PSB0aWxlU2l6ZVswXSAmJiBpbWFnZS5oZWlnaHQgPT0gdGlsZVNpemVbMV0pIHtcbiAgICAgICAgdGhpcy56b29taWZ5SW1hZ2VfID0gaW1hZ2U7XG4gICAgICAgIHJldHVybiBpbWFnZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKHRpbGVTaXplWzBdLCB0aWxlU2l6ZVsxXSk7XG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCAwLCAwKTtcbiAgICAgICAgdGhpcy56b29taWZ5SW1hZ2VfID0gY29udGV4dC5jYW52YXM7XG4gICAgICAgIHJldHVybiBjb250ZXh0LmNhbnZhcztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gQ3VzdG9tVGlsZTtcbn0oSW1hZ2VUaWxlKSk7XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLkF0dHJpYnV0aW9uTGlrZX0gW2F0dHJpYnV0aW9uc10gQXR0cmlidXRpb25zLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtjYWNoZVNpemU9MjA0OF0gQ2FjaGUgc2l6ZS5cbiAqIEBwcm9wZXJ0eSB7bnVsbHxzdHJpbmd9IFtjcm9zc09yaWdpbl0gVGhlIGBjcm9zc09yaWdpbmAgYXR0cmlidXRlIGZvciBsb2FkZWQgaW1hZ2VzLiAgTm90ZSB0aGF0XG4gKiB5b3UgbXVzdCBwcm92aWRlIGEgYGNyb3NzT3JpZ2luYCB2YWx1ZSBpZiB5b3UgYXJlIHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlciBvciBpZiB5b3Ugd2FudCB0b1xuICogYWNjZXNzIHBpeGVsIGRhdGEgd2l0aCB0aGUgQ2FudmFzIHJlbmRlcmVyLiAgU2VlXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0NPUlNfZW5hYmxlZF9pbWFnZSBmb3IgbW9yZSBkZXRhaWwuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IFtwcm9qZWN0aW9uXSBQcm9qZWN0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyZXByb2plY3Rpb25FcnJvclRocmVzaG9sZD0wLjVdIE1heGltdW0gYWxsb3dlZCByZXByb2plY3Rpb24gZXJyb3IgKGluIHBpeGVscykuXG4gKiBIaWdoZXIgdmFsdWVzIGNhbiBpbmNyZWFzZSByZXByb2plY3Rpb24gcGVyZm9ybWFuY2UsIGJ1dCBkZWNyZWFzZSBwcmVjaXNpb24uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3VybF0gVVJMIHRlbXBsYXRlIG9yIGJhc2UgVVJMIG9mIHRoZSBab29taWZ5IHNlcnZpY2UuXG4gKiBBIGJhc2UgVVJMIGlzIHRoZSBmaXhlZCBwYXJ0XG4gKiBvZiB0aGUgVVJMLCBleGNsdWRpbmcgdGhlIHRpbGUgZ3JvdXAsIHosIHgsIGFuZCB5IGZvbGRlciBzdHJ1Y3R1cmUsIGUuZy5cbiAqIGBodHRwOi8vbXkuem9vbWlmeS5pbmZvL0lNQUdFLlRJRi9gLiBBIFVSTCB0ZW1wbGF0ZSBtdXN0IGluY2x1ZGVcbiAqIGB7VGlsZUdyb3VwfWAsIGB7eH1gLCBge3l9YCwgYW5kIGB7en1gIHBsYWNlaG9sZGVycywgZS5nLlxuICogYGh0dHA6Ly9teS56b29taWZ5LmluZm8vSU1BR0UuVElGL3tUaWxlR3JvdXB9L3t6fS17eH0te3l9LmpwZ2AuXG4gKiBJbnRlcm5ldCBJbWFnaW5nIFByb3RvY29sIChJSVApIHdpdGggSlRMIGV4dGVuc2lvbiBjYW4gYmUgYWxzbyB1c2VkIHdpdGhcbiAqIGB7dGlsZUluZGV4fWAgYW5kIGB7en1gIHBsYWNlaG9sZGVycywgZS5nLlxuICogYGh0dHA6Ly9teS56b29taWZ5LmluZm8/RklGPUlNQUdFLlRJRiZKVEw9e3p9LHt0aWxlSW5kZXh9YC5cbiAqIEEgYHs/LT99YCB0ZW1wbGF0ZSBwYXR0ZXJuLCBmb3IgZXhhbXBsZSBgc3ViZG9tYWlue2EtZn0uZG9tYWluLmNvbWAsIG1heSBiZVxuICogdXNlZCBpbnN0ZWFkIG9mIGRlZmluaW5nIGVhY2ggb25lIHNlcGFyYXRlbHkgaW4gdGhlIGB1cmxzYCBvcHRpb24uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3RpZXJTaXplQ2FsY3VsYXRpb25dIFRpZXIgc2l6ZSBjYWxjdWxhdGlvbiBtZXRob2Q6IGBkZWZhdWx0YCBvciBgdHJ1bmNhdGVkYC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbc2l6ZV0gU2l6ZSBvZiB0aGUgaW1hZ2UuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIEV4dGVudCBmb3IgdGhlIFRpbGVHcmlkIHRoYXQgaXMgY3JlYXRlZC5cbiAqIERlZmF1bHQgc2V0cyB0aGUgVGlsZUdyaWQgaW4gdGhlXG4gKiBmb3VydGggcXVhZHJhbnQsIG1lYW5pbmcgZXh0ZW50IGlzIGBbMCwgLWhlaWdodCwgd2lkdGgsIDBdYC4gVG8gY2hhbmdlIHRoZVxuICogZXh0ZW50IHRvIHRoZSBmaXJzdCBxdWFkcmFudCAodGhlIGRlZmF1bHQgZm9yIE9wZW5MYXllcnMgMikgc2V0IHRoZSBleHRlbnRcbiAqIGFzIGBbMCwgMCwgd2lkdGgsIGhlaWdodF1gLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0cmFuc2l0aW9uXSBEdXJhdGlvbiBvZiB0aGUgb3BhY2l0eSB0cmFuc2l0aW9uIGZvciByZW5kZXJpbmcuXG4gKiBUbyBkaXNhYmxlIHRoZSBvcGFjaXR5IHRyYW5zaXRpb24sIHBhc3MgYHRyYW5zaXRpb246IDBgLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aWxlU2l6ZT0yNTZdIFRpbGUgc2l6ZS4gU2FtZSB0aWxlIHNpemUgaXMgdXNlZCBmb3IgYWxsIHpvb20gbGV2ZWxzLlxuICovXG5cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBMYXllciBzb3VyY2UgZm9yIHRpbGUgZGF0YSBpbiBab29taWZ5IGZvcm1hdCAoYm90aCBab29taWZ5IGFuZCBJbnRlcm5ldFxuICogSW1hZ2luZyBQcm90b2NvbCBhcmUgc3VwcG9ydGVkKS5cbiAqIEBhcGlcbiAqL1xudmFyIFpvb21pZnkgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChUaWxlSW1hZ2UpIHtcbiAgZnVuY3Rpb24gWm9vbWlmeShvcHRfb3B0aW9ucykge1xuXG4gICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcblxuICAgIHZhciBzaXplID0gb3B0aW9ucy5zaXplO1xuICAgIHZhciB0aWVyU2l6ZUNhbGN1bGF0aW9uID0gb3B0aW9ucy50aWVyU2l6ZUNhbGN1bGF0aW9uICE9PSB1bmRlZmluZWQgP1xuICAgICAgb3B0aW9ucy50aWVyU2l6ZUNhbGN1bGF0aW9uIDpcbiAgICAgIFRpZXJTaXplQ2FsY3VsYXRpb24uREVGQVVMVDtcblxuICAgIHZhciBpbWFnZVdpZHRoID0gc2l6ZVswXTtcbiAgICB2YXIgaW1hZ2VIZWlnaHQgPSBzaXplWzFdO1xuICAgIHZhciBleHRlbnQgPSBvcHRpb25zLmV4dGVudCB8fCBbMCwgLXNpemVbMV0sIHNpemVbMF0sIDBdO1xuICAgIHZhciB0aWVyU2l6ZUluVGlsZXMgPSBbXTtcbiAgICB2YXIgdGlsZVNpemUgPSBvcHRpb25zLnRpbGVTaXplIHx8IERFRkFVTFRfVElMRV9TSVpFO1xuICAgIHZhciB0aWxlU2l6ZUZvclRpZXJTaXplQ2FsY3VsYXRpb24gPSB0aWxlU2l6ZTtcblxuICAgIHN3aXRjaCAodGllclNpemVDYWxjdWxhdGlvbikge1xuICAgICAgY2FzZSBUaWVyU2l6ZUNhbGN1bGF0aW9uLkRFRkFVTFQ6XG4gICAgICAgIHdoaWxlIChpbWFnZVdpZHRoID4gdGlsZVNpemVGb3JUaWVyU2l6ZUNhbGN1bGF0aW9uIHx8IGltYWdlSGVpZ2h0ID4gdGlsZVNpemVGb3JUaWVyU2l6ZUNhbGN1bGF0aW9uKSB7XG4gICAgICAgICAgdGllclNpemVJblRpbGVzLnB1c2goW1xuICAgICAgICAgICAgTWF0aC5jZWlsKGltYWdlV2lkdGggLyB0aWxlU2l6ZUZvclRpZXJTaXplQ2FsY3VsYXRpb24pLFxuICAgICAgICAgICAgTWF0aC5jZWlsKGltYWdlSGVpZ2h0IC8gdGlsZVNpemVGb3JUaWVyU2l6ZUNhbGN1bGF0aW9uKVxuICAgICAgICAgIF0pO1xuICAgICAgICAgIHRpbGVTaXplRm9yVGllclNpemVDYWxjdWxhdGlvbiArPSB0aWxlU2l6ZUZvclRpZXJTaXplQ2FsY3VsYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFRpZXJTaXplQ2FsY3VsYXRpb24uVFJVTkNBVEVEOlxuICAgICAgICB2YXIgd2lkdGggPSBpbWFnZVdpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gaW1hZ2VIZWlnaHQ7XG4gICAgICAgIHdoaWxlICh3aWR0aCA+IHRpbGVTaXplRm9yVGllclNpemVDYWxjdWxhdGlvbiB8fCBoZWlnaHQgPiB0aWxlU2l6ZUZvclRpZXJTaXplQ2FsY3VsYXRpb24pIHtcbiAgICAgICAgICB0aWVyU2l6ZUluVGlsZXMucHVzaChbXG4gICAgICAgICAgICBNYXRoLmNlaWwod2lkdGggLyB0aWxlU2l6ZUZvclRpZXJTaXplQ2FsY3VsYXRpb24pLFxuICAgICAgICAgICAgTWF0aC5jZWlsKGhlaWdodCAvIHRpbGVTaXplRm9yVGllclNpemVDYWxjdWxhdGlvbilcbiAgICAgICAgICBdKTtcbiAgICAgICAgICB3aWR0aCA+Pj0gMTtcbiAgICAgICAgICBoZWlnaHQgPj49IDE7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBhc3NlcnQoZmFsc2UsIDUzKTsgLy8gVW5rbm93biBgdGllclNpemVDYWxjdWxhdGlvbmAgY29uZmlndXJlZFxuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICB0aWVyU2l6ZUluVGlsZXMucHVzaChbMSwgMV0pO1xuICAgIHRpZXJTaXplSW5UaWxlcy5yZXZlcnNlKCk7XG5cbiAgICB2YXIgcmVzb2x1dGlvbnMgPSBbMV07XG4gICAgdmFyIHRpbGVDb3VudFVwVG9UaWVyID0gWzBdO1xuICAgIGZvciAodmFyIGkgPSAxLCBpaSA9IHRpZXJTaXplSW5UaWxlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICByZXNvbHV0aW9ucy5wdXNoKDEgPDwgaSk7XG4gICAgICB0aWxlQ291bnRVcFRvVGllci5wdXNoKFxuICAgICAgICB0aWVyU2l6ZUluVGlsZXNbaSAtIDFdWzBdICogdGllclNpemVJblRpbGVzW2kgLSAxXVsxXSArXG4gICAgICAgICAgdGlsZUNvdW50VXBUb1RpZXJbaSAtIDFdXG4gICAgICApO1xuICAgIH1cbiAgICByZXNvbHV0aW9ucy5yZXZlcnNlKCk7XG5cbiAgICB2YXIgdGlsZUdyaWQgPSBuZXcgVGlsZUdyaWQoe1xuICAgICAgdGlsZVNpemU6IHRpbGVTaXplLFxuICAgICAgZXh0ZW50OiBleHRlbnQsXG4gICAgICBvcmlnaW46IGdldFRvcExlZnQoZXh0ZW50KSxcbiAgICAgIHJlc29sdXRpb25zOiByZXNvbHV0aW9uc1xuICAgIH0pO1xuXG4gICAgdmFyIHVybCA9IG9wdGlvbnMudXJsO1xuICAgIGlmICh1cmwgJiYgdXJsLmluZGV4T2YoJ3tUaWxlR3JvdXB9JykgPT0gLTEgJiYgdXJsLmluZGV4T2YoJ3t0aWxlSW5kZXh9JykgPT0gLTEpIHtcbiAgICAgIHVybCArPSAne1RpbGVHcm91cH0ve3p9LXt4fS17eX0uanBnJztcbiAgICB9XG4gICAgdmFyIHVybHMgPSBleHBhbmRVcmwodXJsKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZW1wbGF0ZSBUZW1wbGF0ZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9ufSBUaWxlIFVSTCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVGcm9tVGVtcGxhdGUodGVtcGxhdGUpIHtcblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgQ29vcmRpbmF0ZS5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgICAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gVGlsZSBVUkwuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbih0aWxlQ29vcmQsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICAgICAgICBpZiAoIXRpbGVDb29yZCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHRpbGVDb29yZFogPSB0aWxlQ29vcmRbMF07XG4gICAgICAgICAgICB2YXIgdGlsZUNvb3JkWCA9IHRpbGVDb29yZFsxXTtcbiAgICAgICAgICAgIHZhciB0aWxlQ29vcmRZID0gLXRpbGVDb29yZFsyXSAtIDE7XG4gICAgICAgICAgICB2YXIgdGlsZUluZGV4ID1cbiAgICAgICAgICAgICAgICB0aWxlQ29vcmRYICtcbiAgICAgICAgICAgICAgICB0aWxlQ29vcmRZICogdGllclNpemVJblRpbGVzW3RpbGVDb29yZFpdWzBdO1xuICAgICAgICAgICAgdmFyIHRpbGVTaXplID0gdGlsZUdyaWQuZ2V0VGlsZVNpemUodGlsZUNvb3JkWik7XG4gICAgICAgICAgICB2YXIgdGlsZVdpZHRoID0gQXJyYXkuaXNBcnJheSh0aWxlU2l6ZSkgPyB0aWxlU2l6ZVswXSA6IHRpbGVTaXplO1xuICAgICAgICAgICAgdmFyIHRpbGVHcm91cCA9ICgodGlsZUluZGV4ICsgdGlsZUNvdW50VXBUb1RpZXJbdGlsZUNvb3JkWl0pIC8gdGlsZVdpZHRoKSB8IDA7XG4gICAgICAgICAgICB2YXIgbG9jYWxDb250ZXh0ID0ge1xuICAgICAgICAgICAgICAneic6IHRpbGVDb29yZFosXG4gICAgICAgICAgICAgICd4JzogdGlsZUNvb3JkWCxcbiAgICAgICAgICAgICAgJ3knOiB0aWxlQ29vcmRZLFxuICAgICAgICAgICAgICAndGlsZUluZGV4JzogdGlsZUluZGV4LFxuICAgICAgICAgICAgICAnVGlsZUdyb3VwJzogJ1RpbGVHcm91cCcgKyB0aWxlR3JvdXBcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gdGVtcGxhdGUucmVwbGFjZSgvXFx7KFxcdys/KVxcfS9nLCBmdW5jdGlvbihtLCBwKSB7XG4gICAgICAgICAgICAgIHJldHVybiBsb2NhbENvbnRleHRbcF07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgdmFyIHRpbGVVcmxGdW5jdGlvbiA9IGNyZWF0ZUZyb21UaWxlVXJsRnVuY3Rpb25zKHVybHMubWFwKGNyZWF0ZUZyb21UZW1wbGF0ZSkpO1xuXG4gICAgdmFyIFpvb21pZnlUaWxlQ2xhc3MgPSBDdXN0b21UaWxlLmJpbmQobnVsbCwgdGlsZUdyaWQpO1xuXG4gICAgVGlsZUltYWdlLmNhbGwodGhpcywge1xuICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9ucyxcbiAgICAgIGNhY2hlU2l6ZTogb3B0aW9ucy5jYWNoZVNpemUsXG4gICAgICBjcm9zc09yaWdpbjogb3B0aW9ucy5jcm9zc09yaWdpbixcbiAgICAgIHByb2plY3Rpb246IG9wdGlvbnMucHJvamVjdGlvbixcbiAgICAgIHJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkOiBvcHRpb25zLnJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkLFxuICAgICAgdGlsZUNsYXNzOiBab29taWZ5VGlsZUNsYXNzLFxuICAgICAgdGlsZUdyaWQ6IHRpbGVHcmlkLFxuICAgICAgdGlsZVVybEZ1bmN0aW9uOiB0aWxlVXJsRnVuY3Rpb24sXG4gICAgICB0cmFuc2l0aW9uOiBvcHRpb25zLnRyYW5zaXRpb25cbiAgICB9KTtcblxuICB9XG5cbiAgaWYgKCBUaWxlSW1hZ2UgKSBab29taWZ5Ll9fcHJvdG9fXyA9IFRpbGVJbWFnZTtcbiAgWm9vbWlmeS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBUaWxlSW1hZ2UgJiYgVGlsZUltYWdlLnByb3RvdHlwZSApO1xuICBab29taWZ5LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFpvb21pZnk7XG5cbiAgcmV0dXJuIFpvb21pZnk7XG59KFRpbGVJbWFnZSkpO1xuXG5leHBvcnQgZGVmYXVsdCBab29taWZ5O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1ab29taWZ5LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2VcbiAqL1xuXG5leHBvcnQge2RlZmF1bHQgYXMgQmluZ01hcHN9IGZyb20gJy4vc291cmNlL0JpbmdNYXBzLmpzJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBDYXJ0b0RCfSBmcm9tICcuL3NvdXJjZS9DYXJ0b0RCLmpzJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBDbHVzdGVyfSBmcm9tICcuL3NvdXJjZS9DbHVzdGVyLmpzJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBJbWFnZX0gZnJvbSAnLi9zb3VyY2UvSW1hZ2UuanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEltYWdlQXJjR0lTUmVzdH0gZnJvbSAnLi9zb3VyY2UvSW1hZ2VBcmNHSVNSZXN0LmpzJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBJbWFnZUNhbnZhc30gZnJvbSAnLi9zb3VyY2UvSW1hZ2VDYW52YXMuanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEltYWdlTWFwR3VpZGV9IGZyb20gJy4vc291cmNlL0ltYWdlTWFwR3VpZGUuanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEltYWdlU3RhdGljfSBmcm9tICcuL3NvdXJjZS9JbWFnZVN0YXRpYy5qcyc7XG5leHBvcnQge2RlZmF1bHQgYXMgSW1hZ2VXTVN9IGZyb20gJy4vc291cmNlL0ltYWdlV01TLmpzJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBPU019IGZyb20gJy4vc291cmNlL09TTS5qcyc7XG5leHBvcnQge2RlZmF1bHQgYXMgUmFzdGVyfSBmcm9tICcuL3NvdXJjZS9SYXN0ZXIuanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIFNvdXJjZX0gZnJvbSAnLi9zb3VyY2UvU291cmNlLmpzJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBTdGFtZW59IGZyb20gJy4vc291cmNlL1N0YW1lbi5qcyc7XG5leHBvcnQge2RlZmF1bHQgYXMgVGlsZX0gZnJvbSAnLi9zb3VyY2UvVGlsZS5qcyc7XG5leHBvcnQge2RlZmF1bHQgYXMgVGlsZUFyY0dJU1Jlc3R9IGZyb20gJy4vc291cmNlL1RpbGVBcmNHSVNSZXN0LmpzJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBUaWxlRGVidWd9IGZyb20gJy4vc291cmNlL1RpbGVEZWJ1Zy5qcyc7XG5leHBvcnQge2RlZmF1bHQgYXMgVGlsZUltYWdlfSBmcm9tICcuL3NvdXJjZS9UaWxlSW1hZ2UuanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIFRpbGVKU09OfSBmcm9tICcuL3NvdXJjZS9UaWxlSlNPTi5qcyc7XG5leHBvcnQge2RlZmF1bHQgYXMgVGlsZVdNU30gZnJvbSAnLi9zb3VyY2UvVGlsZVdNUy5qcyc7XG5leHBvcnQge2RlZmF1bHQgYXMgVXJsVGlsZX0gZnJvbSAnLi9zb3VyY2UvVXJsVGlsZS5qcyc7XG5leHBvcnQge2RlZmF1bHQgYXMgVVRGR3JpZH0gZnJvbSAnLi9zb3VyY2UvVVRGR3JpZC5qcyc7XG5leHBvcnQge2RlZmF1bHQgYXMgVmVjdG9yfSBmcm9tICcuL3NvdXJjZS9WZWN0b3IuanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIFZlY3RvclRpbGV9IGZyb20gJy4vc291cmNlL1ZlY3RvclRpbGUuanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIFdNVFN9IGZyb20gJy4vc291cmNlL1dNVFMuanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIFhZWn0gZnJvbSAnLi9zb3VyY2UvWFlaLmpzJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBab29taWZ5fSBmcm9tICcuL3NvdXJjZS9ab29taWZ5LmpzJztcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c291cmNlLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=