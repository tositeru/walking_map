(window.webpackJsonp=window.webpackJsonp||[]).push([[9,4,10,11],[,,,,,,,function(t,e,i){"use strict";function n(t,e,i){for(var n,o,s=i||r,a=0,h=t.length,l=!1;a<h;)(o=+s(t[n=a+(h-a>>1)],e))<0?a=n+1:(h=n,l=!o);return l?a:~a}function r(t,e){return t>e?1:t<e?-1:0}function o(t,e){return t.indexOf(e)>=0}function s(t,e,i){var n,r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;if(i>0){for(n=1;n<r;++n)if(t[n]<e)return n-1}else if(i<0){for(n=1;n<r;++n)if(t[n]<=e)return n}else for(n=1;n<r;++n){if(t[n]==e)return n;if(t[n]<e)return t[n-1]-e<e-t[n]?n-1:n}return r-1}function a(t,e,i){for(;e<i;){var n=t[e];t[e]=t[i],t[i]=n,++e,--i}}function h(t,e){for(var i=Array.isArray(e)?e:[e],n=i.length,r=0;r<n;r++)t[t.length]=i[r]}function l(t,e){var i=t.indexOf(e),n=i>-1;return n&&t.splice(i,1),n}function c(t,e){for(var i,n=t.length>>>0,r=0;r<n;r++)if(e(i=t[r],r,t))return i;return null}function u(t,e){var i=t.length;if(i!==e.length)return!1;for(var n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0}function p(t,e){var i,n=t.length,r=Array(t.length);for(i=0;i<n;i++)r[i]={index:i,value:t[i]};for(r.sort(function(t,i){return e(t.value,i.value)||t.index-i.index}),i=0;i<t.length;i++)t[i]=r[i].value}function d(t,e){var i;return!t.every(function(n,r){return i=r,!e(n,r,t)})?i:-1}function f(t,e,i){var n=e||r;return t.every(function(e,r){if(0===r)return!0;var o=n(t[r-1],e);return!(o>0||i&&0===o)})}i.d(e,"a",function(){return n}),i.d(e,"i",function(){return r}),i.d(e,"f",function(){return o}),i.d(e,"h",function(){return s}),i.d(e,"k",function(){return a}),i.d(e,"c",function(){return h}),i.d(e,"j",function(){return l}),i.d(e,"d",function(){return c}),i.d(e,"b",function(){return u}),i.d(e,"l",function(){return p}),i.d(e,"e",function(){return d}),i.d(e,"g",function(){return f})},,,,,,,function(t,e,i){"use strict";e.a={ANIMATING:0,INTERACTING:1}},,function(t,e,i){"use strict";e.a={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},,function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return r}),i.d(e,"c",function(){return o}),i.d(e,"e",function(){return s}),i.d(e,"f",function(){return a}),i.d(e,"g",function(){return h}),i.d(e,"h",function(){return l}),i.d(e,"d",function(){return c}),i.d(e,"i",function(){return u});i(6),i(51);function n(t,e){return t[0]+=e[0],t[1]+=e[1],t}function r(t,e){var i=e.getRadius(),n=e.getCenter(),r=n[0],o=n[1],s=t[0]-r,a=t[1]-o;0===s&&0===a&&(s=1);var h=Math.sqrt(s*s+a*a);return[r+i*s/h,o+i*a/h]}function o(t,e){var i,n,r=t[0],o=t[1],s=e[0],a=e[1],h=s[0],l=s[1],c=a[0],u=a[1],p=c-h,d=u-l,f=0===p&&0===d?0:(p*(r-h)+d*(o-l))/(p*p+d*d||0);return f<=0?(i=h,n=l):f>=1?(i=c,n=u):(i=h+f*p,n=l+f*d),[i,n]}function s(t,e){for(var i=!0,n=t.length-1;n>=0;--n)if(t[n]!=e[n]){i=!1;break}return i}function a(t,e){var i=Math.cos(e),n=Math.sin(e),r=t[0]*i-t[1]*n,o=t[1]*i+t[0]*n;return t[0]=r,t[1]=o,t}function h(t,e){return t[0]*=e,t[1]*=e,t}function l(t,e){var i=t[0]-e[0],n=t[1]-e[1];return i*i+n*n}function c(t,e){return Math.sqrt(l(t,e))}function u(t,e){return l(t,o(t,e))}},function(t,e,i){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},,function(t,e,i){"use strict";e.a={ADD:"add",REMOVE:"remove"}},function(t,e,i){"use strict";function n(t,e,i,n,r){for(var o=void 0!==r?r:[],s=0,a=e;a<i;a+=n)o[s++]=t.slice(a,a+n);return o.length=s,o}function r(t,e,i,r,o){for(var s=void 0!==o?o:[],a=0,h=0,l=i.length;h<l;++h){var c=i[h];s[a++]=n(t,e,c,r,s[a]),e=c}return s.length=a,s}function o(t,e,i,n,o){for(var s=void 0!==o?o:[],a=0,h=0,l=i.length;h<l;++h){var c=i[h];s[a++]=r(t,e,c,n,s[a]),e=c[c.length-1]}return s.length=a,s}i.d(e,"a",function(){return n}),i.d(e,"b",function(){return r}),i.d(e,"c",function(){return o})},,function(t,e,i){"use strict";function n(t){return Math.pow(t,3)}function r(t){return 1-n(1-t)}function o(t){return 3*t*t-2*t*t*t}function s(t){return t}i.d(e,"a",function(){return n}),i.d(e,"b",function(){return r}),i.d(e,"c",function(){return o}),i.d(e,"d",function(){return s})},function(t,e,i){"use strict";var n=i(67),r=i(21),o=i(12),s=i(11),a="length",h=function(t){function e(e,i){t.call(this,e),this.element=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a),l=function(t){function e(e,i){t.call(this);var n=i||{};if(this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(var r=0,o=this.array_.length;r<o;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,i=t.length;e<i;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,i=0,n=e.length;i<n;++i)t(e[i],i,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(a)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new h(r.a.ADD,e))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,i=0,n=e.length;i<n;++i)if(e[i]===t)return this.removeAt(i)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new h(r.a.REMOVE,e)),e},e.prototype.setAt=function(t,e){var i=this.getLength();if(t<i){this.unique_&&this.assertUnique_(e,t);var n=this.array_[t];this.array_[t]=e,this.dispatchEvent(new h(r.a.REMOVE,n)),this.dispatchEvent(new h(r.a.ADD,e))}else{for(var o=i;o<t;++o)this.insertAt(o,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(a,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var i=0,r=this.array_.length;i<r;++i)if(this.array_[i]===t&&i!==e)throw new n.a(58)},e}(o.a);e.a=l},function(t,e,i){"use strict";var n=i(2);e.a={SINGLECLICK:"singleclick",CLICK:n.a.CLICK,DBLCLICK:n.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return o}),i.d(e,"e",function(){return s}),i.d(e,"c",function(){return h}),i.d(e,"d",function(){return l});var n=i(6);function r(t,e,i,r,o,s,a){var h=(i-e)/r;if(h<3){for(;e<i;e+=r)s[a++]=t[e],s[a++]=t[e+1];return a}var l=new Array(h);l[0]=1,l[h-1]=1;for(var c=[e,i-r],u=0;c.length>0;){for(var p=c.pop(),d=c.pop(),f=0,_=t[d],g=t[d+1],y=t[p],v=t[p+1],m=d+r;m<p;m+=r){var b=t[m],E=t[m+1],O=Object(n.g)(b,E,_,g,y,v);O>f&&(u=m,f=O)}f>o&&(l[(u-e)/r]=1,d+r<u&&c.push(d,u),u+r<p&&c.push(u,p))}for(var x=0;x<h;++x)l[x]&&(s[a++]=t[e+x*r],s[a++]=t[e+x*r+1]);return a}function o(t,e,i,n,o,s,a,h){for(var l=0,c=i.length;l<c;++l){var u=i[l];a=r(t,e,u,n,o,s,a),h.push(a),e=u}return a}function s(t,e){return e*Math.round(t/e)}function a(t,e,i,n,r,o,a){if(e==i)return a;var h,l,c=s(t[e],r),u=s(t[e+1],r);e+=n,o[a++]=c,o[a++]=u;do{if(h=s(t[e],r),l=s(t[e+1],r),(e+=n)==i)return o[a++]=h,o[a++]=l,a}while(h==c&&l==u);for(;e<i;){var p=s(t[e],r),d=s(t[e+1],r);if(e+=n,p!=h||d!=l){var f=h-c,_=l-u,g=p-c,y=d-u;f*y==_*g&&(f<0&&g<f||f==g||f>0&&g>f)&&(_<0&&y<_||_==y||_>0&&y>_)?(h=p,l=d):(o[a++]=h,o[a++]=l,c=h,u=l,h=p,l=d)}}return o[a++]=h,o[a++]=l,a}function h(t,e,i,n,r,o,s,h){for(var l=0,c=i.length;l<c;++l){var u=i[l];s=a(t,e,u,n,r,o,s),h.push(s),e=u}return s}function l(t,e,i,n,r,o,s,a){for(var l=0,c=i.length;l<c;++l){var u=i[l],p=[];s=h(t,e,u,n,r,o,s,p),a.push(p),e=u[u.length-1]}return s}},,function(t,e,i){"use strict";e.a={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"}},,function(t,e,i){"use strict";var n=i(7),r=i(1),o=i(37),s=i(10),a=i(20),h=i(46),l=i(33),c=i(23),u=i(22),p=i(27),d=function(t){function e(e,i){t.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===i||Array.isArray(e[0])?this.setCoordinates(e,i):this.setFlatCoordinates(i,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,i,n){return n<Object(r.e)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(l.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(l.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,i,n))},e.prototype.getArea=function(){return Object(h.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return Object(u.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[];return i.length=Object(p.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,0),new e(i,o.a.XY)},e.prototype.getType=function(){return s.a.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(c.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(a.a),f=i(42),_=i(83),g=i(36),y=i(59),v=i(43),m=i(66),b=i(6);i.d(e,"a",function(){return O}),i.d(e,"d",function(){return x}),i.d(e,"c",function(){return C}),i.d(e,"e",function(){return T});var E=function(t){function e(e,i,n){t.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==i&&n?(this.setFlatCoordinates(i,e),this.ends_=n):this.setCoordinates(e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLinearRing=function(t){this.flatCoordinates?Object(n.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,i,n){return n<Object(r.e)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(l.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(l.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,i,n))},e.prototype.containsXY=function(t,e){return Object(g.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return Object(h.b)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(m.c)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,Object(u.b)(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Object(r.x)(this.getExtent());this.flatInteriorPoint_=Object(y.a)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new f.default(this.getFlatInteriorPoint(),o.a.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new d(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.ends_,n=[],r=0,o=0,s=i.length;o<s;++o){var a=i[o],h=new d(e.slice(r,a),t);n.push(h),r=a}return n},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(m.a)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(m.c)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[],n=[];return i.length=Object(p.c)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),i,0,n),new e(i,o.a.XY,n)},e.prototype.getType=function(){return s.a.POLYGON},e.prototype.intersectsExtent=function(t){return Object(v.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=Object(c.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},e}(a.a);e.b=E;function O(t,e,i,r){for(var s=i||32,a=[],h=0;h<s;++h)Object(n.c)(a,Object(_.b)(t,e,2*Math.PI*h/s,r));return a.push(a[0],a[1]),new E(a,o.a.XY,[a.length])}function x(t){var e=t[0],i=t[1],n=t[2],r=t[3],s=[e,i,e,r,n,r,n,i,e,i];return new E(s,o.a.XY,[s.length])}function C(t,e,i){for(var n=e||32,r=t.getStride(),o=t.getLayout(),s=t.getCenter(),a=r*(n+1),h=new Array(a),l=0;l<a;l+=r){h[l]=0,h[l+1]=0;for(var c=2;c<r;c++)h[l+c]=s[c]}var u=[h.length],p=new E(h,o,u);return T(p,s,t.getRadius(),i),p}function T(t,e,i,n){for(var r=t.getFlatCoordinates(),o=t.getStride(),s=r.length/o-1,a=n||0,h=0;h<=s;++h){var l=h*o,c=a+2*Object(b.d)(h,s)*Math.PI/s;r[l]=e[0]+i*Math.cos(c),r[l+1]=e[1]+i*Math.sin(c)}t.changed()}},function(t,e,i){"use strict";i.d(e,"b",function(){return d});var n=i(4),r=i(2),o=i(3),s=i(12),a=i(58),h=i(56),l=i(5),c=i(41),u=i(16),p=function(t){function e(e){var i=Object(l.a)({},e);delete i.source,t.call(this,i),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,e.map&&this.setMap(e.map),Object(n.a)(this,Object(s.b)(h.a.SOURCE),this.handleSourcePropertyChange_,this);var r=e.source?e.source:null;this.setSource(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(h.a.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():u.a.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(n.e)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Object(n.a)(t,r.a.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Object(n.e)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Object(n.e)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Object(n.a)(t,c.a.PRECOMPOSE,function(t){var e=t,i=this.getLayerState();i.managed=!1,void 0===this.getZIndex()&&(i.zIndex=1/0),e.frameState.layerStatesArray.push(i),e.frameState.layerStates[Object(o.c)(this)]=i},this),this.mapRenderKey_=Object(n.a)(this,r.a.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(h.a.SOURCE,t)},e}(a.a);function d(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}e.a=p},function(t,e,i){"use strict";i.d(e,"e",function(){return o}),i.d(e,"a",function(){return s}),i.d(e,"f",function(){return a}),i.d(e,"d",function(){return h}),i.d(e,"b",function(){return l}),i.d(e,"c",function(){return c});var n=i(6);function r(t,e,i,r,o,s,a){var h,l=t[e],c=t[e+1],u=t[i]-l,p=t[i+1]-c;if(0===u&&0===p)h=e;else{var d=((o-l)*u+(s-c)*p)/(u*u+p*p);if(d>1)h=i;else{if(d>0){for(var f=0;f<r;++f)a[f]=Object(n.c)(t[e+f],t[i+f],d);return void(a.length=r)}h=e}}for(var _=0;_<r;++_)a[_]=t[h+_];a.length=r}function o(t,e,i,r,o){var s=t[e],a=t[e+1];for(e+=r;e<i;e+=r){var h=t[e],l=t[e+1],c=Object(n.f)(s,a,h,l);c>o&&(o=c),s=h,a=l}return o}function s(t,e,i,n,r){for(var s=0,a=i.length;s<a;++s){var h=i[s];r=o(t,e,h,n,r),e=h}return r}function a(t,e,i,n,r){for(var o=0,a=i.length;o<a;++o){var h=i[o];r=s(t,e,h,n,r),e=h[h.length-1]}return r}function h(t,e,i,o,s,a,h,l,c,u,p){if(e==i)return u;var d,f;if(0===s){if((f=Object(n.f)(h,l,t[e],t[e+1]))<u){for(d=0;d<o;++d)c[d]=t[e+d];return c.length=o,f}return u}for(var _=p||[NaN,NaN],g=e+o;g<i;)if(r(t,g-o,g,o,h,l,_),(f=Object(n.f)(h,l,_[0],_[1]))<u){for(u=f,d=0;d<o;++d)c[d]=_[d];c.length=o,g+=o}else g+=o*Math.max((Math.sqrt(f)-Math.sqrt(u))/s|0,1);if(a&&(r(t,i-o,e,o,h,l,_),(f=Object(n.f)(h,l,_[0],_[1]))<u)){for(u=f,d=0;d<o;++d)c[d]=_[d];c.length=o}return u}function l(t,e,i,n,r,o,s,a,l,c,u){for(var p=u||[NaN,NaN],d=0,f=i.length;d<f;++d){var _=i[d];c=h(t,e,_,n,r,o,s,a,l,c,p),e=_}return c}function c(t,e,i,n,r,o,s,a,h,c,u){for(var p=u||[NaN,NaN],d=0,f=i.length;d<f;++d){var _=i[d];c=l(t,e,_,n,r,o,s,a,h,c,p),e=_[_.length-1]}return c}},function(t,e,i){"use strict";var n=i(29),r=i(32),o=i(61),s=i(5),a=i(35),h="renderOrder",l=function(t){function e(e){var i=e||{},r=Object(s.a)({},i);delete r.style,delete r.renderBuffer,delete r.updateWhileAnimating,delete r.updateWhileInteracting,t.call(this,r),this.declutter_=void 0!==i.declutter&&i.declutter,this.renderBuffer_=void 0!==i.renderBuffer?i.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(i.style),this.updateWhileAnimating_=void 0!==i.updateWhileAnimating&&i.updateWhileAnimating,this.updateWhileInteracting_=void 0!==i.updateWhileInteracting&&i.updateWhileInteracting,this.renderMode_=i.renderMode||o.a.VECTOR,this.type=n.a.VECTOR}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.setDeclutter=function(t){this.declutter_=t},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(h)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set(h,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:a.a,this.styleFunction_=null===t?void 0:Object(a.d)(this.style_),this.changed()},e.prototype.getRenderMode=function(){return this.renderMode_},e}(r.a);l.prototype.getSource,e.a=l},,function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return o}),i.d(e,"c",function(){return s}),i.d(e,"d",function(){return a});var n=i(1);function r(t,e,i,r,s){return!Object(n.t)(s,function(n){return!o(t,e,i,r,n[0],n[1])})}function o(t,e,i,n,r,o){for(var s=0,a=t[i-n],h=t[i-n+1];e<i;e+=n){var l=t[e],c=t[e+1];h<=o?c>o&&(l-a)*(o-h)-(r-a)*(c-h)>0&&s++:c<=o&&(l-a)*(o-h)-(r-a)*(c-h)<0&&s--,a=l,h=c}return 0!==s}function s(t,e,i,n,r,s){if(0===i.length)return!1;if(!o(t,e,i[0],n,r,s))return!1;for(var a=1,h=i.length;a<h;++a)if(o(t,i[a-1],i[a],n,r,s))return!1;return!0}function a(t,e,i,n,r,o){if(0===i.length)return!1;for(var a=0,h=i.length;a<h;++a){var l=i[a];if(s(t,e,l,n,r,o))return!0;e=l[l.length-1]}return!1}},,,function(t,e,i){"use strict";var n=i(3),r=i(25),o=i(21),s=i(50),a=i(7),h=i(9),l=i(4),c=i(11),u=i(2),p=i(1),d=i(72),f=i(8);function _(t,e){return[[-1/0,-1/0,1/0,1/0]]}var g=i(5),y=i(54),v=i(16),m=i(53),b=i(52),E=function(t){function e(e,i){t.call(this,e),this.feature=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(c.a),O=function(t){function e(e){var i=e||{};t.call(this,{attributions:i.attributions,projection:void 0,state:v.a.READY,wrapX:void 0===i.wrapX||i.wrapX}),this.loader_=f.c,this.format_=i.format,this.overlaps_=null==i.overlaps||i.overlaps,this.url_=i.url,void 0!==i.loader?this.loader_=i.loader:void 0!==this.url_&&(Object(h.a)(this.format_,7),this.loader_=Object(d.b)(this.url_,this.format_)),this.strategy_=void 0!==i.strategy?i.strategy:_;var n,o,s=void 0===i.useSpatialIndex||i.useSpatialIndex;this.featuresRtree_=s?new b.a:null,this.loadedExtentsRtree_=new b.a,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(i.features)?o=i.features:i.features&&(o=(n=i.features).getArray()),s||void 0!==n||(n=new r.a(o)),void 0!==o&&this.addFeaturesInternal(o),void 0!==n&&this.bindFeaturesCollection_(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=Object(n.c)(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var i=t.getGeometry();if(i){var r=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new E(m.a.ADDFEATURE,t))}},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Object(l.a)(e,u.a.CHANGE,this.handleFeatureChange_,this),Object(l.a)(e,s.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var i=!0,n=e.getId();return void 0!==n?n.toString()in this.idIndex_?i=!1:this.idIndex_[n.toString()]=e:(Object(h.a)(!(t in this.undefIdIndex_),30),this.undefIdIndex_[t]=e),i},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],i=[],r=[],o=0,s=t.length;o<s;o++){var a=t[o],h=Object(n.c)(a);this.addToIndex_(h,a)&&i.push(a)}for(var l=0,c=i.length;l<c;l++){var u=i[l],p=Object(n.c)(u);this.setupChangeEvents_(p,u);var d=u.getGeometry();if(d){var f=d.getExtent();e.push(f),r.push(u)}else this.nullGeometryFeatures_[p]=u}this.featuresRtree_&&this.featuresRtree_.load(e,r);for(var _=0,g=i.length;_<g;_++)this.dispatchEvent(new E(m.a.ADDFEATURE,i[_]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;Object(l.a)(this,m.a.ADDFEATURE,function(i){e||(e=!0,t.push(i.feature),e=!1)}),Object(l.a)(this,m.a.REMOVEFEATURE,function(i){e||(e=!0,t.remove(i.feature),e=!1)}),Object(l.a)(t,o.a.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)},this),Object(l.a)(t,o.a.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)},this),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(l.e)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_)for(var i in this.featuresRtree_.forEach(this.removeFeatureInternal,this),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var n=new E(m.a.CLEAR);this.dispatchEvent(n),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,function(i){return i.getGeometry().intersectsCoordinate(t)?e(i):void 0})},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(i){if(i.getGeometry().intersectsExtent(t)){var n=e(i);if(n)return n}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(g.d)(this.nullGeometryFeatures_)||Object(a.c)(t,Object(g.c)(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_.getInExtent(t)},e.prototype.getClosestFeatureToCoordinate=function(t,e){var i=t[0],n=t[1],r=null,o=[NaN,NaN],s=1/0,a=[-1/0,-1/0,1/0,1/0],h=e||f.b;return this.featuresRtree_.forEachInExtent(a,function(t){if(h(t)){var e=t.getGeometry(),l=s;if((s=e.closestPointXY(i,n,o,s))<l){r=t;var c=Math.sqrt(s);a[0]=i-c,a[1]=n-c,a[2]=i+c,a[3]=n+c}}}),r},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,i=Object(n.c)(e),r=e.getGeometry();if(r){var o=r.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[i]=e);var s=e.getId();if(void 0!==s){var a=s.toString();i in this.undefIdIndex_?(delete this.undefIdIndex_[i],this.idIndex_[a]=e):this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else i in this.undefIdIndex_||(this.removeFromIdIndex_(e),this.undefIdIndex_[i]=e);this.changed(),this.dispatchEvent(new E(m.a.CHANGEFEATURE,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Object(n.c)(t)in this.undefIdIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(g.d)(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,i){var n=this,r=this.loadedExtentsRtree_,o=this.strategy_(t,e);this.loading=!1;for(var s=function(t,s){var a=o[t];r.forEachInExtent(a,function(t){return Object(p.g)(t.extent,a)})||(n.loader_.call(n,a,e,i),r.insert(a,{extent:a.slice()}),n.loading=n.loader_!==f.c)},a=0,h=o.length;a<h;++a)s(a)},e.prototype.removeLoadedExtent=function(t){var e,i=this.loadedExtentsRtree_;i.forEachInExtent(t,function(i){if(Object(p.p)(i.extent,t))return e=i,!0}),e&&i.remove(e)},e.prototype.removeFeature=function(t){var e=Object(n.c)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=Object(n.c)(t);this.featureChangeKeys_[e].forEach(l.e),delete this.featureChangeKeys_[e];var i=t.getId();void 0!==i?delete this.idIndex_[i.toString()]:delete this.undefIdIndex_[e],this.dispatchEvent(new E(m.a.REMOVEFEATURE,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===t){delete this.idIndex_[i],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e}(y.a);e.a=O},,function(t,e,i){"use strict";e.a={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render",RENDERCOMPLETE:"rendercomplete"}},,function(t,e,i){"use strict";i.d(e,"a",function(){return s}),i.d(e,"b",function(){return a}),i.d(e,"c",function(){return h}),i.d(e,"d",function(){return l});var n=i(1),r=i(36),o=i(60);function s(t,e,i,r,s){var a=Object(n.s)(Object(n.j)(),t,e,i,r);return!!Object(n.F)(s,a)&&(!!Object(n.g)(s,a)||(a[0]>=s[0]&&a[2]<=s[2]||(a[1]>=s[1]&&a[3]<=s[3]||Object(o.a)(t,e,i,r,function(t,e){return Object(n.G)(s,t,e)}))))}function a(t,e,i,n,r){for(var o=0,a=i.length;o<a;++o){if(s(t,e,i[o],n,r))return!0;e=i[o]}return!1}function h(t,e,i,n,o){if(!function(t,e,i,n,o){return!!(s(t,e,i,n,o)||Object(r.b)(t,e,i,n,o[0],o[1])||Object(r.b)(t,e,i,n,o[0],o[3])||Object(r.b)(t,e,i,n,o[2],o[1])||Object(r.b)(t,e,i,n,o[2],o[3]))}(t,e,i[0],n,o))return!1;if(1===i.length)return!0;for(var a=1,h=i.length;a<h;++a)if(Object(r.a)(t,i[a-1],i[a],n,o)&&!s(t,i[a-1],i[a],n,o))return!1;return!0}function l(t,e,i,n,r){for(var o=0,s=i.length;o<s;++o){var a=i[o];if(h(t,e,a,n,r))return!0;e=a[a.length-1]}return!1}},,,function(t,e,i){"use strict";function n(t,e,i,n){for(var r=0,o=t[i-n],s=t[i-n+1];e<i;e+=n){var a=t[e],h=t[e+1];r+=s*a-o*h,o=a,s=h}return r/2}function r(t,e,i,r){for(var o=0,s=0,a=i.length;s<a;++s){var h=i[s];o+=n(t,e,h,r),e=h}return o}function o(t,e,i,n){for(var o=0,s=0,a=i.length;s<a;++s){var h=i[s];o+=r(t,e,h,n),e=h[h.length-1]}return o}i.d(e,"a",function(){return n}),i.d(e,"b",function(){return r}),i.d(e,"c",function(){return o})},function(t,e,i){"use strict";i.d(e,"c",function(){return r}),i.d(e,"d",function(){return o}),i.d(e,"a",function(){return s}),i.d(e,"b",function(){return a});var n=i(6);function r(t,e){return void 0!==t?0:void 0}function o(t,e){return void 0!==t?t+e:void 0}function s(t){var e=2*Math.PI/t;return function(t,i){return void 0!==t?t=Math.floor((t+i)/e+.5)*e:void 0}}function a(t){var e=t||Object(n.i)(5);return function(t,i){return void 0!==t?Math.abs(t+i)<=e?0:t+i:void 0}}},function(t,e,i){"use strict";i.r(e),i.d(e,"createStyleFunction",function(){return h});var n=i(9),r=i(4),o=i(2),s=i(12),a=function(t){function e(e){if(t.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,Object(r.a)(this,Object(s.b)(this.geometryName_),this.handleGeometryChanged_,this),e)if("function"==typeof e.getSimplifiedGeometry){var i=e;this.setGeometry(i)}else{var n=e;this.setProperties(n)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var i=this.getGeometry();i&&t.setGeometry(i.clone());var n=this.getStyle();return n&&t.setStyle(n),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(r.e)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(r.a)(t,o.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?h(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){Object(r.c)(this,Object(s.b)(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=t,Object(r.a)(this,Object(s.b)(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},e}(s.a);function h(t){return"function"==typeof t?t:(Array.isArray(t)?e=t:(Object(n.a)("function"==typeof t.getZIndex,41),e=[t]),function(){return e});var e}e.default=a},function(t,e,i){"use strict";function n(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]+2*e,i[1]=t[1]+2*e,i}function r(t){return t[0]>0&&t[1]>0}function o(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]*e+.5|0,i[1]=t[1]*e+.5|0,i}function s(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}i.d(e,"a",function(){return n}),i.d(e,"b",function(){return r}),i.d(e,"c",function(){return o}),i.d(e,"d",function(){return s})},,function(t,e,i){"use strict";function n(t,e,i){var n=void 0!==i?t.toFixed(i):""+t,r=n.indexOf(".");return(r=-1===r?n.length:r)>e?n:new Array(1+e-r).join("0")+n}function r(t,e){for(var i=(""+t).split("."),n=(""+e).split("."),r=0;r<Math.max(i.length,n.length);r++){var o=parseInt(i[r]||"0",10),s=parseInt(n[r]||"0",10);if(o>s)return 1;if(s>o)return-1}return 0}i.d(e,"b",function(){return n}),i.d(e,"a",function(){return r})},function(t,e,i){"use strict";var n=i(3),r=i(62),o=i.n(r),s=i(1),a=i(5),h=function(t){this.rbush_=o()(t,void 0),this.items_={}};h.prototype.insert=function(t,e){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(i),this.items_[Object(n.c)(e)]=i},h.prototype.load=function(t,e){for(var i=new Array(e.length),r=0,o=e.length;r<o;r++){var s=t[r],a=e[r],h={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};i[r]=h,this.items_[Object(n.c)(a)]=h}this.rbush_.load(i)},h.prototype.remove=function(t){var e=Object(n.c)(t),i=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(i)},h.prototype.update=function(t,e){var i=this.items_[Object(n.c)(e)],r=[i.minX,i.minY,i.maxX,i.maxY];Object(s.p)(r,t)||(this.remove(e),this.insert(t,e))},h.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},h.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})},h.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},h.prototype.forEachInExtent=function(t,e,i){return this.forEach_(this.getInExtent(t),e,i)},h.prototype.forEach_=function(t,e,i){for(var n,r=0,o=t.length;r<o;r++)if(n=e.call(i,t[r]))return n;return n},h.prototype.isEmpty=function(){return Object(a.d)(this.items_)},h.prototype.clear=function(){this.rbush_.clear(),this.items_={}},h.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Object(s.k)(e.minX,e.minY,e.maxX,e.maxY,t)},h.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},e.a=h},function(t,e,i){"use strict";e.a={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"}},function(t,e,i){"use strict";var n=i(3),r=i(12),o=i(15),s=i(16),a=function(t){function e(e){t.call(this),this.projection_=Object(o.d)(e.projection),this.attributions_=h(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:s.a.READY,this.wrapX_=void 0!==e.wrapX&&e.wrapX}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return Object(n.b)()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=h(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(r.a);function h(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}e.a=a},,function(t,e,i){"use strict";e.a={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"}},,function(t,e,i){"use strict";var n=i(3),r=i(12),o=i(56),s=i(6),a=i(5),h=function(t){function e(e){t.call(this);var i=Object(a.a)({},e);i[o.a.OPACITY]=void 0!==e.opacity?e.opacity:1,i[o.a.VISIBLE]=void 0===e.visible||e.visible,i[o.a.Z_INDEX]=e.zIndex,i[o.a.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,i[o.a.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,this.setProperties(i),this.state_=null,this.type}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return this.type},e.prototype.getLayerState=function(){var t=this.state_||{layer:this,managed:!0};return t.opacity=Object(s.a)(this.getOpacity(),0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=this.getZIndex()||0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),this.state_=t,t},e.prototype.getLayersArray=function(t){return Object(n.b)()},e.prototype.getLayerStatesArray=function(t){return Object(n.b)()},e.prototype.getExtent=function(){return this.get(o.a.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(o.a.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(o.a.MIN_RESOLUTION)},e.prototype.getOpacity=function(){return this.get(o.a.OPACITY)},e.prototype.getSourceState=function(){return Object(n.b)()},e.prototype.getVisible=function(){return this.get(o.a.VISIBLE)},e.prototype.getZIndex=function(){return this.get(o.a.Z_INDEX)},e.prototype.setExtent=function(t){this.set(o.a.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(o.a.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(o.a.MIN_RESOLUTION,t)},e.prototype.setOpacity=function(t){this.set(o.a.OPACITY,t)},e.prototype.setVisible=function(t){this.set(o.a.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(o.a.Z_INDEX,t)},e}(r.a);e.a=h},function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"b",function(){return s});var n=i(7),r=i(36);function o(t,e,i,o,s,a,h){for(var l,c,u,p,d,f,_,g=s[a+1],y=[],v=0,m=i.length;v<m;++v){var b=i[v];for(p=t[b-o],f=t[b-o+1],l=e;l<b;l+=o)d=t[l],_=t[l+1],(g<=f&&_<=g||f<=g&&g<=_)&&(u=(g-f)/(_-f)*(d-p)+p,y.push(u)),p=d,f=_}var E=NaN,O=-1/0;for(y.sort(n.i),p=y[0],l=1,c=y.length;l<c;++l){d=y[l];var x=Math.abs(d-p);x>O&&(u=(p+d)/2,Object(r.c)(t,e,i,o,u,g)&&(E=u,O=x)),p=d}return isNaN(E)&&(E=s[a]),h?(h.push(E,g,O),h):[E,g,O]}function s(t,e,i,n,r){for(var s=[],a=0,h=i.length;a<h;++a){var l=i[a];s=o(t,e,l,n,r,2*a,s),e=l[l.length-1]}return s}},function(t,e,i){"use strict";function n(t,e,i,n,r,o){for(var s,a=[t[e],t[e+1]],h=[];e+n<i;e+=n){if(h[0]=t[e+n],h[1]=t[e+n+1],s=r.call(o,a,h))return s;a[0]=h[0],a[1]=h[1]}return!1}i.d(e,"a",function(){return n})},function(t,e,i){"use strict";e.a={IMAGE:"image",VECTOR:"vector"}},function(t,e,i){"use strict";t.exports=r,t.exports.default=r;var n=i(75);function r(t,e){if(!(this instanceof r))return new r(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,i){if(!i)return e.indexOf(t);for(var n=0;n<e.length;n++)if(i(t,e[n]))return n;return-1}function s(t,e){a(t,0,t.children.length,e,t)}function a(t,e,i,n,r){r||(r=_(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,s=e;s<i;s++)o=t.children[s],h(r,t.leaf?n(o):o);return r}function h(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function u(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function p(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function _(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(t,e,i,r,o){for(var s,a=[e,i];a.length;)(i=a.pop())-(e=a.pop())<=r||(s=e+Math.ceil((i-e)/r/2)*r,n(t,s,e,i,o),a.push(e,s,s,i))}r.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],n=this.toBBox;if(!f(t,e))return i;for(var r,o,s,a,h=[];e;){for(r=0,o=e.children.length;r<o;r++)s=e.children[r],f(t,a=e.leaf?n(s):s)&&(e.leaf?i.push(s):d(t,a)?this._all(s,i):h.push(s));e=h.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!f(t,e))return!1;for(var n,r,o,s,a=[];e;){for(n=0,r=e.children.length;n<r;n++)if(o=e.children[n],f(t,s=e.leaf?i(o):o)){if(e.leaf||d(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,i=t.length;e<i;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=_([]),this},remove:function(t,e){if(!t)return this;for(var i,n,r,s,a=this.data,h=this.toBBox(t),l=[],c=[];a||l.length;){if(a||(a=l.pop(),n=l[l.length-1],i=c.pop(),s=!0),a.leaf&&-1!==(r=o(t,a.children,e)))return a.children.splice(r,1),l.push(a),this._condense(l),this;s||a.leaf||!d(a,h)?n?(i++,a=n.children[i],s=!1):a=null:(l.push(a),c.push(i),i=0,n=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:l,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build:function(t,e,i,n){var r,o=i-e+1,a=this._maxEntries;if(o<=a)return s(r=_(t.slice(e,i+1)),this.toBBox),r;n||(n=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,n-1))),(r=_([])).leaf=!1,r.height=n;var h,l,c,u,p=Math.ceil(o/a),d=p*Math.ceil(Math.sqrt(a));for(g(t,e,i,d,this.compareMinX),h=e;h<=i;h+=d)for(g(t,h,c=Math.min(h+d-1,i),p,this.compareMinY),l=h;l<=c;l+=p)u=Math.min(l+p-1,c),r.children.push(this._build(t,l,u,n-1));return s(r,this.toBBox),r},_chooseSubtree:function(t,e,i,n){for(var r,o,s,a,h,l,c,p,d,f;n.push(e),!e.leaf&&n.length-1!==i;){for(c=p=1/0,r=0,o=e.children.length;r<o;r++)h=u(s=e.children[r]),d=t,f=s,(l=(Math.max(f.maxX,d.maxX)-Math.min(f.minX,d.minX))*(Math.max(f.maxY,d.maxY)-Math.min(f.minY,d.minY))-h)<p?(p=l,c=h<c?h:c,a=s):l===p&&h<c&&(c=h,a=s);e=a||e.children[0]}return e},_insert:function(t,e,i){var n=this.toBBox,r=i?t:n(t),o=[],s=this._chooseSubtree(r,this.data,e,o);for(s.children.push(t),h(s,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var i=t[e],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);var o=this._chooseSplitIndex(i,r,n),a=_(i.children.splice(o,i.children.length-o));a.height=i.height,a.leaf=i.leaf,s(i,this.toBBox),s(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(i,a)},_splitRoot:function(t,e){this.data=_([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var n,r,o,s,h,l,c,p,d,f,_,g,y,v;for(l=c=1/0,n=e;n<=i-e;n++)r=a(t,0,n,this.toBBox),o=a(t,n,i,this.toBBox),d=r,f=o,_=void 0,g=void 0,y=void 0,v=void 0,_=Math.max(d.minX,f.minX),g=Math.max(d.minY,f.minY),y=Math.min(d.maxX,f.maxX),v=Math.min(d.maxY,f.maxY),s=Math.max(0,y-_)*Math.max(0,v-g),h=u(r)+u(o),s<l?(l=s,p=n,c=h<c?h:c):s===l&&h<c&&(c=h,p=n);return p},_chooseSplitAxis:function(t,e,i){var n=t.leaf?this.compareMinX:l,r=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,i,n)<this._allDistMargin(t,e,i,r)&&t.children.sort(n)},_allDistMargin:function(t,e,i,n){t.children.sort(n);var r,o,s=this.toBBox,l=a(t,0,e,s),c=a(t,i-e,i,s),u=p(l)+p(c);for(r=e;r<i-e;r++)o=t.children[r],h(l,t.leaf?s(o):o),u+=p(l);for(r=i-e-1;r>=e;r--)o=t.children[r],h(c,t.leaf?s(o):o),u+=p(c);return u},_adjustParentBBoxes:function(t,e,i){for(var n=i;n>=0;n--)h(e[n],t)},_condense:function(t){for(var e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children).splice(e.indexOf(t[i]),1):this.clear():s(t[i],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},function(t,e,i){"use strict";i.d(e,"b",function(){return n}),i.d(e,"a",function(){return r});var n=.5,r=!0},function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return r});var n=42,r=256},,function(t,e,i){"use strict";function n(t,e,i,n){for(;e<i-n;){for(var r=0;r<n;++r){var o=t[e+r];t[e+r]=t[i-n+r],t[i-n+r]=o}e+=n,i-=n}}function r(t,e,i,n){for(var r=0,o=t[i-n],s=t[i-n+1];e<i;e+=n){var a=t[e],h=t[e+1];r+=(a-o)*(h+s),o=a,s=h}return r>0}function o(t,e,i,n,o){for(var s=void 0!==o&&o,a=0,h=i.length;a<h;++a){var l=i[a],c=r(t,e,l,n);if(0===a){if(s&&c||!s&&!c)return!1}else if(s&&!c||!s&&c)return!1;e=l}return!0}function s(t,e,i,n,r){for(var s=0,a=i.length;s<a;++s)if(!o(t,e,i[s],n,r))return!1;return!0}function a(t,e,i,o,s){for(var a=void 0!==s&&s,h=0,l=i.length;h<l;++h){var c=i[h],u=r(t,e,c,o);(0===h?a&&u||!a&&!u:a&&!u||!a&&u)&&n(t,e,c,o),e=c}return e}function h(t,e,i,n,r){for(var o=0,s=i.length;o<s;++o)e=a(t,e,i[o],n,r);return e}i.d(e,"a",function(){return o}),i.d(e,"b",function(){return s}),i.d(e,"c",function(){return a}),i.d(e,"d",function(){return h})},,,,function(t,e,i){"use strict";var n=function(t,e){this.dispatcher=t,this.mapping_=e};n.prototype.getEvents=function(){return Object.keys(this.mapping_)},n.prototype.getHandlerForEvent=function(t){return this.mapping_[t]},e.a=n},function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i(44),r=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};function o(t,e,i){return e+":"+t+":"+(i?Object(n.b)(i):"null")}r.prototype.clear=function(){this.cache_={},this.cacheSize_=0},r.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t=0;for(var e in this.cache_){var i=this.cache_[e];0!=(3&t++)||i.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},r.prototype.get=function(t,e,i){var n=o(t,e,i);return n in this.cache_?this.cache_[n]:null},r.prototype.set=function(t,e,i,n){var r=o(t,e,i);this.cache_[r]=n,++this.cacheSize_},r.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()};var s=new r},function(t,e,i){"use strict";var n=i(8),r={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"};function o(t,e,i,n){return function(o,s,a){var h=new XMLHttpRequest;h.open("GET","function"==typeof t?t(o,s,a):t,!0),e.getType()==r.ARRAY_BUFFER&&(h.responseType="arraybuffer"),h.onload=function(t){if(!h.status||h.status>=200&&h.status<300){var o,s=e.getType();s==r.JSON||s==r.TEXT?o=h.responseText:s==r.XML?(o=h.responseXML)||(o=(new DOMParser).parseFromString(h.responseText,"application/xml")):s==r.ARRAY_BUFFER&&(o=h.response),o?i.call(this,e.readFeatures(o,{featureProjection:a}),e.readProjection(o),e.getLastExtent()):n.call(this)}else n.call(this)}.bind(this),h.onerror=function(){n.call(this)}.bind(this),h.send()}}function s(t,e){return o(t,e,function(t,e){"function"==typeof this.addFeatures&&this.addFeatures(t)},n.c)}i.d(e,"a",function(){return o}),i.d(e,"b",function(){return s})},,,function(t,e,i){t.exports=function(){"use strict";function t(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function e(t,e){return t<e?-1:t>e?1:0}return function(i,n,r,o,s){!function e(i,n,r,o,s){for(;o>r;){if(o-r>600){var a=o-r+1,h=n-r+1,l=Math.log(a),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(a-c)/a)*(h-a/2<0?-1:1),p=Math.max(r,Math.floor(n-h*c/a+u)),d=Math.min(o,Math.floor(n+(a-h)*c/a+u));e(i,n,p,d,s)}var f=i[n],_=r,g=o;for(t(i,r,n),s(i[o],f)>0&&t(i,r,o);_<g;){for(t(i,_,g),_++,g--;s(i[_],f)<0;)_++;for(;s(i[g],f)>0;)g--}0===s(i[r],f)?t(i,r,g):t(i,++g,o),g<=n&&(r=g+1),n<=g&&(o=g-1)}}(i,n,r||0,o||i.length-1,s||e)}}()},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return o}),i.d(e,"d",function(){return p});var n=i(70),r=1,o="mouse";function s(t){if(!this.isEventSimulatedFromTouch_(t)){r.toString()in this.pointerMap&&this.cancel(t);var e=p(t,this.dispatcher);this.pointerMap[r.toString()]=t,this.dispatcher.down(e,t)}}function a(t){if(!this.isEventSimulatedFromTouch_(t)){var e=p(t,this.dispatcher);this.dispatcher.move(e,t)}}function h(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[r.toString()];if(e&&e.button===t.button){var i=p(t,this.dispatcher);this.dispatcher.up(i,t),this.cleanupMouse()}}}function l(t){if(!this.isEventSimulatedFromTouch_(t)){var e=p(t,this.dispatcher);this.dispatcher.enterOver(e,t)}}function c(t){if(!this.isEventSimulatedFromTouch_(t)){var e=p(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}}var u=function(t){function e(e){var i={mousedown:s,mousemove:a,mouseup:h,mouseover:l,mouseout:c};t.call(this,e,i),this.pointerMap=e.pointerMap,this.lastTouches=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isEventSimulatedFromTouch_=function(t){for(var e=this.lastTouches,i=t.clientX,n=t.clientY,r=0,o=e.length,s=void 0;r<o&&(s=e[r]);r++){var a=Math.abs(i-s[0]),h=Math.abs(n-s[1]);if(a<=25&&h<=25)return!0}return!1},e.prototype.cancel=function(t){var e=p(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},e.prototype.cleanupMouse=function(){delete this.pointerMap[r.toString()]},e}(n.a);function p(t,e){var i=e.cloneEvent(t,t),n=i.preventDefault;return i.preventDefault=function(){t.preventDefault(),n()},i.pointerId=r,i.isPrimary=!0,i.pointerType=o,i}e.c=u},function(t,e,i){"use strict";var n=i(7),r=i(69),o=i(1),s=i(10),a=i(20),h=i(68),l=i(28),c=i(90),u=i(38),p=i(17),d=function(t){function e(e,i,n,r,o){t.call(this),this.context_=e,this.pixelRatio_=i,this.extent_=n,this.transform_=r,this.viewRotation_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Object(p.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawImages_=function(t,e,i,n){if(this.image_){var r=Object(h.c)(t,e,i,2,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_,a=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=a*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var c=0,u=r.length;c<u;c+=2){var d=r[c]-this.imageAnchorX_,f=r[c+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_){var _=d+this.imageAnchorX_,g=f+this.imageAnchorY_;Object(p.b)(s,_,g,this.imageScale_,this.imageScale_,l,-_,-g),o.setTransform.apply(o,s)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,d,f,this.imageWidth_,this.imageHeight_)}0===l&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=a)}},e.prototype.drawText_=function(t,e,i,n){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=Object(h.c)(t,e,i,n,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.textRotation_;for(this.textRotateWithView_&&(s+=this.viewRotation_);e<i;e+=n){var a=r[e]+this.textOffsetX_,l=r[e+1]+this.textOffsetY_;if(0!==s||1!=this.textScale_){var c=Object(p.b)(this.tmpLocalTransform_,a,l,this.textScale_,this.textScale_,s,-a,-l);o.setTransform.apply(o,c)}this.textStrokeState_&&o.strokeText(this.text_,a,l),this.textFillState_&&o.fillText(this.text_,a,l)}0===s&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,i,n,r){var o=this.context_,s=Object(h.c)(t,e,i,n,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);var a=s.length;r&&(a-=2);for(var l=2;l<a;l+=2)o.lineTo(s[l],s[l+1]);return r&&o.closePath(),i},e.prototype.drawRings_=function(t,e,i,n){for(var r=0,o=i.length;r<o;++r)e=this.moveToLineTo_(t,e,i[r],n,!0);return e},e.prototype.drawCircle=function(t){if(Object(o.F)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=Object(a.b)(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],n=e[3]-e[1],r=Math.sqrt(i*i+n*n),s=this.context_;s.beginPath(),s.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){switch(t.getType()){case s.a.POINT:this.drawPoint(t);break;case s.a.LINE_STRING:this.drawLineString(t);break;case s.a.POLYGON:this.drawPolygon(t);break;case s.a.MULTI_POINT:this.drawMultiPoint(t);break;case s.a.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case s.a.MULTI_POLYGON:this.drawMultiPolygon(t);break;case s.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case s.a.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var i=e.getGeometryFunction()(t);i&&Object(o.F)(this.extent_,i.getExtent())&&(this.setStyle(e),this.drawGeometry(i))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),i=0,n=e.length;i<n;++i)this.drawGeometry(e[i])},e.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawLineString=function(t){if(Object(o.F)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiLineString=function(t){var e=t.getExtent();if(Object(o.F)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,n=t.getFlatCoordinates(),r=0,s=t.getEnds(),a=t.getStride();i.beginPath();for(var h=0,l=s.length;h<l;++h)r=this.moveToLineTo_(n,r,s[h],a,!1);i.stroke()}if(""!==this.text_){var c=t.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}},e.prototype.drawPolygon=function(t){if(Object(o.F)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(Object(o.F)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getOrientedFlatCoordinates(),n=0,r=t.getEndss(),s=t.getStride();e.beginPath();for(var a=0,h=r.length;a<h;++a){var l=r[a];n=this.drawRings_(i,n,l,s)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var c=t.getFlatInteriorPoints();this.drawText_(c,0,c.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=e.lineCap=t.lineCap),l.a&&(Object(n.b)(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,l.a&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,i=this.contextTextState_,n=t.textAlign?t.textAlign:u.l;i?(i.font!=t.font&&(i.font=e.font=t.font),i.textAlign!=n&&(i.textAlign=e.textAlign=n),i.textBaseline!=t.textBaseline&&(i.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=n,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:n,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var i=t.getColor();this.fillState_={fillStyle:Object(r.a)(i||u.b)}}else this.fillState_=null;if(e){var n=e.getColor(),o=e.getLineCap(),s=e.getLineDash(),a=e.getLineDashOffset(),h=e.getLineJoin(),l=e.getWidth(),c=e.getMiterLimit();this.strokeState_={lineCap:void 0!==o?o:u.d,lineDash:s||u.e,lineDashOffset:a||u.f,lineJoin:void 0!==h?h:u.g,lineWidth:this.pixelRatio_*(void 0!==l?l:u.h),miterLimit:void 0!==c?c:u.i,strokeStyle:Object(r.a)(n||u.k)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),i=t.getImage(1),n=t.getOrigin(),r=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=r[1],this.image_=i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=n[0],this.imageOriginY_=n[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=r[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var i=e.getColor();this.textFillState_={fillStyle:Object(r.a)(i||u.b)}}else this.textFillState_=null;var n=t.getStroke();if(n){var o=n.getColor(),s=n.getLineCap(),a=n.getLineDash(),h=n.getLineDashOffset(),l=n.getLineJoin(),c=n.getWidth(),p=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==s?s:u.d,lineDash:a||u.e,lineDashOffset:h||u.f,lineJoin:void 0!==l?l:u.g,lineWidth:void 0!==c?c:u.h,miterLimit:void 0!==p?p:u.i,strokeStyle:Object(r.a)(o||u.k)}}else this.textStrokeState_=null;var d=t.getFont(),f=t.getOffsetX(),_=t.getOffsetY(),g=t.getRotateWithView(),y=t.getRotation(),v=t.getScale(),m=t.getText(),b=t.getTextAlign(),E=t.getTextBaseline();this.textState_={font:void 0!==d?d:u.c,textAlign:void 0!==b?b:u.l,textBaseline:void 0!==E?E:u.m},this.text_=void 0!==m?m:"",this.textOffsetX_=void 0!==f?this.pixelRatio_*f:0,this.textOffsetY_=void 0!==_?this.pixelRatio_*_:0,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0!==y?y:0,this.textScale_=this.pixelRatio_*(void 0!==v?v:1)}else this.text_=""},e}(c.a);e.a=d},function(t,e,i){"use strict";var n=function(t){function e(e,i,n,r,o){t.call(this,e),this.vectorContext=i,this.frameState=n,this.context=r,this.glContext=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i(11).a);e.a=n},function(t,e,i){"use strict";var n=i(80),r=i(30),o=function(t){function e(e,i,n,o,s){var a=void 0!==s?r.a.IDLE:r.a.LOADED;t.call(this,e,i,n,a),this.loader_=void 0!==s?s:null,this.canvas_=o,this.error_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=r.a.ERROR):this.state=r.a.LOADED,this.changed()},e.prototype.load=function(){this.state==r.a.IDLE&&(this.state=r.a.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(n.a);e.a=o},function(t,e,i){"use strict";var n=i(3),r=i(40),o=i(2),s=function(t){function e(e,i,n,r){t.call(this),this.extent=e,this.pixelRatio_=n,this.resolution=i,this.state=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(o.a.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Object(n.b)()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Object(n.b)()},e}(r.a);e.a=s},function(t,e,i){"use strict";var n=i(3),r=i(18),o=i(13),s=i(1),a=i(97),h=i(17),l=function(t){function e(e){t.call(this,e),this.coordinateToCanvasPixelTransform=Object(h.c)(),this.hitCanvasContext_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.composeFrame=function(t,e,i){this.preCompose(i,t);var n=this.getImage();if(n){var r=e.extent,o=void 0!==r&&!Object(s.g)(r,t.extent)&&Object(s.F)(r,t.extent);o&&this.clip(i,t,r);var a=this.getImageTransform(),h=i.globalAlpha;i.globalAlpha=e.opacity;var l=a[4],c=a[5],u=n.width*a[0],p=n.height*a[3];u>=.5&&p>=.5&&i.drawImage(n,0,0,+n.width,+n.height,Math.round(l),Math.round(c),Math.round(u),Math.round(p)),i.globalAlpha=h,o&&i.restore()}this.postCompose(i,t,e)},e.prototype.getImage=function(){return Object(n.b)()},e.prototype.getImageTransform=function(){return Object(n.b)()},e.prototype.forEachLayerAtCoordinate=function(t,e,i,n,s){if(this.getImage()){var a=Object(h.a)(this.coordinateToCanvasPixelTransform,t.slice());Object(r.g)(a,e.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=Object(o.a)(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),a[0],a[1],1,1,0,0,1,1);var l=this.hitCanvasContext_.getImageData(0,0,1,1).data;return l[3]>0?n.call(s,this.getLayer(),l):void 0}},e}(a.a);e.a=l},,,function(t,e,i){"use strict";function n(t,e,i,n){for(var r=t[e],o=t[e+1],s=0,a=e+n;a<i;a+=n){var h=t[a],l=t[a+1];s+=Math.sqrt((h-r)*(h-r)+(l-o)*(l-o)),r=h,o=l}return s}i.d(e,"a",function(){return n})},,,function(t,e,i){"use strict";var n=function(t){function e(e,i,n,r,o){t.call(this,e,i,n.originalEvent,r,o),this.pointerEvent=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i(88).a);e.a=n},function(t,e,i){"use strict";var n=function(t){function e(e,i,n,r,o){t.call(this,e,i,o),this.originalEvent=n,this.pixel=i.getEventPixel(n),this.coordinate=i.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(i(89).a);e.a=n},function(t,e,i){"use strict";var n=function(t){function e(e,i,n){t.call(this,e),this.map=i,this.frameState=void 0!==n?n:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i(11).a);e.a=n},function(t,e,i){"use strict";var n=function(){};n.prototype.drawCustom=function(t,e,i){},n.prototype.drawGeometry=function(t){},n.prototype.setStyle=function(t){},n.prototype.drawCircle=function(t,e){},n.prototype.drawFeature=function(t,e){},n.prototype.drawGeometryCollection=function(t,e){},n.prototype.drawLineString=function(t,e){},n.prototype.drawMultiLineString=function(t,e){},n.prototype.drawMultiPoint=function(t,e){},n.prototype.drawMultiPolygon=function(t,e){},n.prototype.drawPoint=function(t,e){},n.prototype.drawPolygon=function(t,e){},n.prototype.drawText=function(t,e){},n.prototype.setFillStrokeStyle=function(t,e){},n.prototype.setImageStyle=function(t,e){},n.prototype.setTextStyle=function(t,e){},e.a=n},function(t,e,i){"use strict";var n=i(3),r=i(29),o=i(92),s=i(19),a=i(14),h=i(13),l=i(1),c=i(81),u=i(17),p=function(t){function e(e,i){t.call(this,e),this.context=i?null:Object(h.a)(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=Object(l.j)(),this.tmpTileRange_=new o.b(0,0,0,0),this.imageTransform_=Object(u.c)(),this.zDirection=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isDrawableTile_=function(t){var e=this.getLayer(),i=t.getState(),n=e.getUseInterimTilesOnError();return i==s.a.LOADED||i==s.a.EMPTY||i==s.a.ERROR&&!n},e.prototype.getTile=function(t,e,i,n,r){var o=this.getLayer(),a=o.getSource().getTile(t,e,i,n,r);return a.getState()==s.a.ERROR&&(o.getUseInterimTilesOnError()?o.getPreload()>0&&(this.newTiles_=!0):a.setState(s.a.LOADED)),this.isDrawableTile_(a)||(a=a.getInterimTile()),a},e.prototype.prepareFrame=function(t,e){var i=t.pixelRatio,r=t.size,o=t.viewState,h=o.projection,c=o.resolution,p=o.center,d=this.getLayer(),f=d.getSource(),_=f.getRevision(),g=f.getTileGridForProjection(h),y=g.getZForResolution(c,this.zDirection),v=g.getResolution(y),m=Math.round(c/v)||1,b=t.extent;if(void 0!==e.extent&&(b=Object(l.B)(b,e.extent)),Object(l.H)(b))return!1;var E=g.getTileRangeForExtentAndZ(b,y),O=g.getTileRangeExtent(y,E),x=f.getTilePixelRatio(i),C={};C[y]={};var T,R,S,I=this.createLoadedTileFinder(f,h,C),j=t.viewHints,w=j[a.a.ANIMATING]||j[a.a.INTERACTING],L=this.tmpExtent,F=this.tmpTileRange_;for(this.newTiles_=!1,R=E.minX;R<=E.maxX;++R)for(S=E.minY;S<=E.maxY;++S)if(!(Date.now()-t.time>16&&w)){if(T=this.getTile(y,R,S,i,h),this.isDrawableTile_(T)){var M=Object(n.c)(this);if(T.getState()==s.a.LOADED){C[y][T.tileCoord.toString()]=T;var P=T.inTransition(M);this.newTiles_||!P&&-1!==this.renderedTiles.indexOf(T)||(this.newTiles_=!0)}if(1===T.getAlpha(M,t.time))continue}var A=g.getTileCoordChildTileRange(T.tileCoord,F,L),D=!1;A&&(D=I(y+1,A)),D||g.forEachTileCoordParentTileRange(T.tileCoord,I,null,F,L)}var N=v*i/x*m;if(!(this.renderedResolution&&Date.now()-t.time>16&&w)&&(this.newTiles_||!this.renderedExtent_||!Object(l.g)(this.renderedExtent_,b)||this.renderedRevision!=_||m!=this.oversampling_||!w&&N!=this.renderedResolution)){var k=this.context;if(k){var G=f.getTilePixelSize(y,i,h),Y=Math.round(E.getWidth()*G[0]/m),X=Math.round(E.getHeight()*G[1]/m),K=k.canvas;K.width!=Y||K.height!=X?(this.oversampling_=m,K.width=Y,K.height=X):(this.renderedExtent_&&!Object(l.p)(O,this.renderedExtent_)&&k.clearRect(0,0,Y,X),m=this.oversampling_)}this.renderedTiles.length=0;var B,V,U,W,H,z,Z,q,J,Q,$=Object.keys(C).map(Number);for($.sort(function(t,e){return t===y?1:e===y?-1:t>e?1:t<e?-1:0}),W=0,H=$.length;W<H;++W)for(var tt in U=$[W],V=f.getTilePixelSize(U,i,h),B=g.getResolution(U)/v,Z=x*f.getGutterForProjection(h),q=C[U])T=q[tt],R=((z=g.getTileCoordExtent(T.getTileCoord(),L))[0]-O[0])/v*x/m,S=(O[3]-z[3])/v*x/m,J=V[0]*B/m,Q=V[1]*B/m,this.drawTileImage(T,t,e,R,S,J,Q,Z,y===U),this.renderedTiles.push(T);this.renderedRevision=_,this.renderedResolution=v*i/x*m,this.renderedExtent_=O}var et=this.renderedResolution/c,it=Object(u.b)(this.imageTransform_,i*r[0]/2,i*r[1]/2,et,et,0,(this.renderedExtent_[0]-p[0])/this.renderedResolution*i,(p[1]-this.renderedExtent_[3])/this.renderedResolution*i);return Object(u.b)(this.coordinateToCanvasPixelTransform,i*r[0]/2-it[4],i*r[1]/2-it[5],i/c,-i/c,0,-p[0],-p[1]),this.updateUsedTiles(t.usedTiles,f,y,E),this.manageTilePyramid(t,f,g,i,h,b,y,d.getPreload()),this.scheduleExpireCache(t,f),this.renderedTiles.length>0},e.prototype.drawTileImage=function(t,e,i,r,o,s,a,h,l){var c=this.getTileImage(t);if(c){var u=Object(n.c)(this),p=l?t.getAlpha(u,e.time):1,d=this.getLayer().getSource();1!==p||d.getOpaque(e.viewState.projection)||this.context.clearRect(r,o,s,a);var f=p!==this.context.globalAlpha;f&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(c,h,h,c.width-2*h,c.height-2*h,r,o,s,a),f&&this.context.restore(),1!==p?e.animate=!0:l&&t.endTransition(u)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.getTileImage=function(t){return t.getImage()},e}(c.a);p.handles=function(t){return t.getType()===r.a.TILE},p.create=function(t,e){return new p(e)},p.prototype.getLayer,e.a=p},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=function(t,e,i,n){this.minX=t,this.maxX=e,this.minY=i,this.maxY=n};function r(t,e,i,r,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=i,o.maxY=r,o):new n(t,e,i,r)}n.prototype.contains=function(t){return this.containsXY(t[1],t[2])},n.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},n.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},n.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},n.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},n.prototype.getHeight=function(){return this.maxY-this.minY+1},n.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},n.prototype.getWidth=function(){return this.maxX-this.minX+1},n.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},e.b=n},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(9),r=i(5),o=1/0,s=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};s.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Object(r.b)(this.queuedElements_)},s.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,i=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var n=this.keyFunction_(i);return delete this.queuedElements_[n],i},s.prototype.enqueue=function(t){Object(n.a)(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=o&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},s.prototype.getCount=function(){return this.elements_.length},s.prototype.getLeftChildIndex_=function(t){return 2*t+1},s.prototype.getRightChildIndex_=function(t){return 2*t+2},s.prototype.getParentIndex_=function(t){return t-1>>1},s.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},s.prototype.isEmpty=function(){return 0===this.elements_.length},s.prototype.isKeyQueued=function(t){return t in this.queuedElements_},s.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},s.prototype.siftUp_=function(t){for(var e=this.elements_,i=this.priorities_,n=e.length,r=e[t],o=i[t],s=t;t<n>>1;){var a=this.getLeftChildIndex_(t),h=this.getRightChildIndex_(t),l=h<n&&i[h]<i[a]?h:a;e[t]=e[l],i[t]=i[l],t=l}e[t]=r,i[t]=o,this.siftDown_(s,t)},s.prototype.siftDown_=function(t,e){for(var i=this.elements_,n=this.priorities_,r=i[e],o=n[e];e>t;){var s=this.getParentIndex_(e);if(!(n[s]>o))break;i[e]=i[s],n[e]=n[s],e=s}i[e]=r,n[e]=o},s.prototype.reprioritize=function(){var t,e,i,n=this.priorityFunction_,r=this.elements_,s=this.priorities_,a=0,h=r.length;for(e=0;e<h;++e)(i=n(t=r[e]))==o?delete this.queuedElements_[this.keyFunction_(t)]:(s[a]=i,r[a++]=t);r.length=a,s.length=a,this.heapify_()},e.b=s},function(t,e,i){"use strict";var n=i(3),r=i(25),o=i(21),s=i(12),a=i(50),h=i(9),l=i(4),c=i(2),u=i(1),p=i(58),d=i(5),f=i(16),_={LAYERS:"layers"},g=function(t){function e(e){var i=e||{},n=Object(d.a)({},i);delete n.layers;var o=i.layers;t.call(this,n),this.layersListenerKeys_=[],this.listenerKeys_={},Object(l.a)(this,Object(s.b)(_.LAYERS),this.handleLayersChanged_,this),o?Array.isArray(o)?o=new r.a(o.slice(),{unique:!0}):Object(h.a)("function"==typeof o.getArray,43):o=new r.a(void 0,{unique:!0}),this.setLayers(o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(l.e),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(Object(l.a)(t,o.a.ADD,this.handleLayersAdd_,this),Object(l.a)(t,o.a.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(l.e);Object(d.b)(this.listenerKeys_);for(var i=t.getArray(),r=0,s=i.length;r<s;r++){var h=i[r];this.listenerKeys_[Object(n.c)(h)]=[Object(l.a)(h,a.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(l.a)(h,c.a.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[Object(n.c)(e)]=[Object(l.a)(e,a.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(l.a)(e,c.a.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,i=Object(n.c)(e);this.listenerKeys_[i].forEach(l.e),delete this.listenerKeys_[i],this.changed()},e.prototype.getLayers=function(){return this.get(_.LAYERS)},e.prototype.setLayers=function(t){this.set(_.LAYERS,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],i=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});for(var n=this.getLayerState(),r=i,o=e.length;r<o;r++){var s=e[r];s.opacity*=n.opacity,s.visible=s.visible&&n.visible,s.maxResolution=Math.min(s.maxResolution,n.maxResolution),s.minResolution=Math.max(s.minResolution,n.minResolution),void 0!==n.extent&&(void 0!==s.extent?s.extent=Object(u.B)(s.extent,n.extent):s.extent=n.extent)}return e},e.prototype.getSourceState=function(){return f.a.READY},e}(p.a);e.a=g},,function(t,e,i){"use strict";var n=i(17),r=i(7),o=i(55),s=i(13),a=i(32),h=i(78),l=i(41),c=i(38),u=i(77),p=i(3),d=i(57),f=i(4),_=i(2),g=i(1),y=i(8),v=i(71);function m(t,e){v.a.expire()}function b(t,e){return t.zIndex-e.zIndex}var E=function(t){function e(e){t.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={},this.layerRendererConstructors_=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){Object(p.b)()},e.prototype.registerLayerRenderers=function(t){this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_,t)},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,i=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;Object(n.b)(i,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Object(n.d)(Object(n.g)(r,i))},e.prototype.removeLayerRenderers=function(){for(var t in this.layerRenderers_)this.removeLayerRendererByKey_(t).dispose()},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r,o,s){var h,l=e.viewState,c=l.resolution;function u(t,i){var o=e.layerStates[Object(p.c)(i)].managed;if(!(Object(p.c)(t)in e.skippedFeatureUids)||o)return n.call(r,t,o?i:null)}var d=l.projection,f=t;if(d.canWrapX()){var _=d.getExtent(),y=Object(g.E)(_),v=t[0];if(v<_[0]||v>_[2])f=[v+y*Math.ceil((_[0]-v)/y),t[1]]}var m,b=e.layerStatesArray;for(m=b.length-1;m>=0;--m){var E=b[m],O=E.layer;if(Object(a.b)(E,c)&&o.call(s,O)){var x=this.getLayerRenderer(O),C=O.getSource();if(C&&(h=x.forEachFeatureAtCoordinate(C.getWrapX()?f:t,e,i,u)),h)return h}}},e.prototype.forEachLayerAtPixel=function(t,e,i,n,r,o,s){return Object(p.b)()},e.prototype.hasFeatureAtCoordinate=function(t,e,i,n,r){return void 0!==this.forEachFeatureAtCoordinate(t,e,i,y.b,this,n,r)},e.prototype.getLayerRenderer=function(t){var e=Object(p.c)(t);if(e in this.layerRenderers_)return this.layerRenderers_[e];for(var i,n=0,r=this.layerRendererConstructors_.length;n<r;++n){var o=this.layerRendererConstructors_[n];if(o.handles(t)){i=o.create(this,t);break}}if(!i)throw new Error("Unable to create renderer for layer: "+t.getType());return this.layerRenderers_[e]=i,this.layerRendererListeners_[e]=Object(f.a)(i,_.a.CHANGE,this.handleLayerRendererChange_,this),i},e.prototype.getLayerRendererByKey=function(t){return this.layerRenderers_[t]},e.prototype.getLayerRenderers=function(){return this.layerRenderers_},e.prototype.getMap=function(){return this.map_},e.prototype.handleLayerRendererChange_=function(){this.map_.render()},e.prototype.removeLayerRendererByKey_=function(t){var e=this.layerRenderers_[t];return delete this.layerRenderers_[t],Object(f.e)(this.layerRendererListeners_[t]),delete this.layerRendererListeners_[t],e},e.prototype.removeUnusedLayerRenderers_=function(t,e){for(var i in this.layerRenderers_)e&&i in e.layerStates||this.removeLayerRendererByKey_(i).dispose()},e.prototype.renderFrame=function(t){Object(p.b)()},e.prototype.scheduleExpireIconCache=function(t){t.postRenderFunctions.push(m)},e.prototype.scheduleRemoveUnusedLayerRenderers=function(t){for(var e in this.layerRenderers_)if(!(e in t.layerStates))return void t.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},e}(d.a),O=i(16);i.d(e,"b",function(){return x});var x=[],C=function(t){function e(e){t.call(this,e);var i=e.getViewport();this.context_=Object(s.a)(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=o.d,i.insertBefore(this.canvas_,i.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=Object(n.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){var i=this.getMap(),n=this.context_;if(i.hasListener(t)){var r=e.extent,o=e.pixelRatio,s=e.viewState.rotation,a=this.getTransform(e),l=new u.a(n,o,r,a,s),c=new h.a(t,l,e,n,null);i.dispatchEvent(c)}},e.prototype.getTransform=function(t){var e=t.viewState,i=this.canvas_.width/2,r=this.canvas_.height/2,o=t.pixelRatio/e.resolution,s=-o,a=-e.rotation,h=-e.center[0],l=-e.center[1];return Object(n.b)(this.transform_,i,r,o,s,a,h,l)},e.prototype.renderFrame=function(t){if(t){var e=this.context_,i=t.pixelRatio,n=Math.round(t.size[0]*i),o=Math.round(t.size[1]*i);this.canvas_.width!=n||this.canvas_.height!=o?(this.canvas_.width=n,this.canvas_.height=o):e.clearRect(0,0,n,o);var s=t.viewState.rotation;this.calculateMatrices2D(t),this.dispatchRenderEvent(l.a.PRECOMPOSE,t);var h=t.layerStatesArray;Object(r.l)(h,b),s&&(e.save(),Object(c.s)(e,s,n/2,o/2));var u,p,d=t.viewState.resolution;for(u=0,p=h.length;u<p;++u){var f=h[u],_=f.layer,g=this.getLayerRenderer(_);Object(a.b)(f,d)&&f.sourceState==O.a.READY&&(g.prepareFrame(t,f)&&g.composeFrame(t,f,e))}s&&e.restore(),this.dispatchRenderEvent(l.a.POSTCOMPOSE,t),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,i,r,o,s,h){var l,c,u=e.viewState.resolution,p=e.layerStatesArray,d=p.length,f=Object(n.a)(e.pixelToCoordinateTransform,t.slice());for(c=d-1;c>=0;--c){var _=p[c],g=_.layer;if(Object(a.b)(_,u)&&s.call(h,g))if(l=this.getLayerRenderer(g).forEachLayerAtCoordinate(f,e,i,r,o))return l}},e.prototype.registerLayerRenderers=function(e){t.prototype.registerLayerRenderers.call(this,e);for(var i=0,n=e.length;i<n;++i){var o=e[i];Object(r.f)(x,o)||x.push(o)}},e}(E);e.a=C},function(t,e,i){"use strict";var n=i(3),r=i(1),o=i(8),s=i(78),a=i(41),h=i(38),l=i(77),c=i(30),u=i(73),p=i(19),d=i(4),f=i(2),_=i(16),g=function(t){function e(e){t.call(this),this.layer_=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createLoadedTileFinder=function(t,e,i){return function(n,r){return t.forEachLoadedTile(e,n,r,function(t){i[n]||(i[n]={}),i[n][t.tileCoord.toString()]=t})}},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,n){},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleImageChange_=function(t){t.target.getState()===c.a.LOADED&&this.renderIfReadyAndVisible()},e.prototype.hasFeatureAtCoordinate=function(t,e){return!1},e.prototype.loadImage=function(t){var e=t.getState();return e!=c.a.LOADED&&e!=c.a.ERROR&&Object(d.a)(t,f.a.CHANGE,this.handleImageChange_,this),e==c.a.IDLE&&(t.load(),e=t.getState()),e==c.a.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==_.a.READY&&this.changed()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var i=function(t,e,i){var r=Object(n.c)(t);r in i.usedTiles&&t.expireCache(i.viewState.projection,i.usedTiles[r])}.bind(null,e);t.postRenderFunctions.push(i)}},e.prototype.updateUsedTiles=function(t,e,i,r){var o=Object(n.c)(e),s=i.toString();o in t?s in t[o]?t[o][s].extend(r):t[o][s]=r:(t[o]={},t[o][s]=r)},e.prototype.manageTilePyramid=function(t,e,i,r,o,s,a,h,l,c){var u=Object(n.c)(e);u in t.wantedTiles||(t.wantedTiles[u]={});var d,f,_,g,y,v,m=t.wantedTiles[u],b=t.tileQueue;for(v=i.getMinZoom();v<=a;++v)for(f=i.getTileRangeForExtentAndZ(s,v,f),_=i.getResolution(v),g=f.minX;g<=f.maxX;++g)for(y=f.minY;y<=f.maxY;++y)a-v<=h?((d=e.getTile(v,g,y,r,o)).getState()==p.a.IDLE&&(m[d.getKey()]=!0,b.isKeyQueued(d.getKey())||b.enqueue([d,u,i.getTileCoordCenter(d.tileCoord),_])),void 0!==l&&l.call(c,d)):e.useTile(v,g,y,o)},e}(u.a),y=i(17),v=function(t){function e(e){t.call(this,e),this.renderedResolution,this.transform_=Object(y.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clip=function(t,e,i){var n=e.pixelRatio,o=e.size[0]*n,s=e.size[1]*n,a=e.viewState.rotation,l=Object(r.C)(i),c=Object(r.D)(i),u=Object(r.w)(i),p=Object(r.v)(i);Object(y.a)(e.coordinateToPixelTransform,l),Object(y.a)(e.coordinateToPixelTransform,c),Object(y.a)(e.coordinateToPixelTransform,u),Object(y.a)(e.coordinateToPixelTransform,p),t.save(),Object(h.s)(t,-a,o/2,s/2),t.beginPath(),t.moveTo(l[0]*n,l[1]*n),t.lineTo(c[0]*n,c[1]*n),t.lineTo(u[0]*n,u[1]*n),t.lineTo(p[0]*n,p[1]*n),t.clip(),Object(h.s)(t,a,o/2,s/2)},e.prototype.dispatchComposeEvent_=function(t,e,i,n){var r=this.getLayer();if(r.hasListener(t)){var o=i.size[0]*i.pixelRatio,a=i.size[1]*i.pixelRatio,c=i.viewState.rotation;Object(h.s)(e,-c,o/2,a/2);var u=void 0!==n?n:this.getTransform(i,0),p=new l.a(e,i.pixelRatio,i.extent,u,i.viewState.rotation),d=new s.a(t,p,i,e,null);r.dispatchEvent(d),Object(h.s)(e,c,o/2,a/2)}},e.prototype.forEachLayerAtCoordinate=function(t,e,i,n,r){return this.forEachFeatureAtCoordinate(t,e,i,o.b)?n.call(r,this.getLayer(),null):void 0},e.prototype.postCompose=function(t,e,i,n){this.dispatchComposeEvent_(a.a.POSTCOMPOSE,t,e,n)},e.prototype.preCompose=function(t,e,i){this.dispatchComposeEvent_(a.a.PRECOMPOSE,t,e,i)},e.prototype.dispatchRenderEvent=function(t,e,i){this.dispatchComposeEvent_(a.a.RENDER,t,e,i)},e.prototype.getTransform=function(t,e){var i=t.viewState,n=t.pixelRatio,r=n*t.size[0]/2,o=n*t.size[1]/2,s=n/i.resolution,a=-s,h=-i.rotation,l=-i.center[0]+e,c=-i.center[1];return Object(y.b)(this.transform_,r,o,s,a,h,l,c)},e.prototype.composeFrame=function(t,e,i){Object(n.b)()},e.prototype.prepareFrame=function(t,e){return Object(n.b)()},e}(g);e.a=v},,,,function(t,e,i){"use strict";var n=i(63),r=i(79),o=i(29),s=i(14),a=i(7),h=i(1),l=i(61),c=i(5),u=i(96),p=i(81),d=i(17),f=function(t){function e(i){if(t.call(this,i),this.image_=null,this.imageTransform_=Object(d.c)(),this.skippedFeatures_=[],this.vectorRenderer_=null,i.getType()===o.a.VECTOR)for(var n=0,r=u.b.length;n<r;++n){var s=u.b[n];if(s!==e&&s.handles(i)){this.vectorRenderer_=new s(i);break}}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.vectorRenderer_&&this.vectorRenderer_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.prepareFrame=function(t,e){var i,o=t.pixelRatio,l=t.size,u=t.viewState,p=u.center,f=u.resolution,_=this.getLayer().getSource(),g=t.viewHints,y=this.vectorRenderer_,v=t.extent;if(y||void 0===e.extent||(v=Object(h.B)(v,e.extent)),!g[s.a.ANIMATING]&&!g[s.a.INTERACTING]&&!Object(h.H)(v)){var m=u.projection;if(!n.a){var b=_.getProjection();b&&(m=b)}var E=this.skippedFeatures_;if(y){var O=y.context,x=Object(c.a)({},t,{size:[Object(h.E)(v)/f,Object(h.A)(v)/f],viewState:Object(c.a)({},t.viewState,{rotation:0})}),C=Object.keys(x.skippedFeatureUids).sort();i=new r.a(v,f,o,O.canvas,function(t){!y.prepareFrame(x,e)||!y.replayGroupChanged&&Object(a.b)(E,C)||(O.canvas.width=x.size[0]*o,O.canvas.height=x.size[1]*o,y.compose(O,x,e),E=C,t())})}else i=_.getImage(v,f,o,m);i&&this.loadImage(i)&&(this.image_=i,this.skippedFeatures_=E)}if(this.image_){var T=(i=this.image_).getExtent(),R=i.getResolution(),S=i.getPixelRatio(),I=o*R/(f*S),j=Object(d.b)(this.imageTransform_,o*l[0]/2,o*l[1]/2,I,I,0,S*(T[0]-p[0])/R,S*(p[1]-T[3])/R);Object(d.b)(this.coordinateToCanvasPixelTransform,o*l[0]/2-j[4],o*l[1]/2-j[5],o/f,-o/f,0,-p[0],-p[1]),this.renderedResolution=R*o/S}return!!this.image_},e.prototype.forEachFeatureAtCoordinate=function(e,i,n,r){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,i,n,r):t.prototype.forEachFeatureAtCoordinate.call(this,e,i,n,r)},e}(p.a);f.handles=function(t){return t.getType()===o.a.IMAGE||t.getType()===o.a.VECTOR&&t.getRenderMode()===l.a.IMAGE},f.create=function(t,e){return new f(e)},e.a=f},function(t,e,i){"use strict";e.a={POINT:"point",LINE:"line"}},function(t,e,i){"use strict";e.a={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"}},function(t,e,i){"use strict";var n=i(19),r=i(4),o=i(2),s=function(t){function e(e,i){t.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()}),this.tileChangeCallback_=i,this.tilesLoading_=0,this.tilesLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.enqueue=function(e){var i=t.prototype.enqueue.call(this,e);if(i){var n=e[0];Object(r.a)(n,o.a.CHANGE,this.handleTileChange,this)}return i},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,i=e.getState();if(i===n.a.LOADED||i===n.a.ERROR||i===n.a.EMPTY||i===n.a.ABORT){Object(r.c)(e,o.a.CHANGE,this.handleTileChange,this);var s=e.getKey();s in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[s],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var i,r,o,s=0,a=!1;this.tilesLoading_<t&&s<e&&this.getCount()>0;)o=(r=this.dequeue()[0]).getKey(),(i=r.getState())===n.a.ABORT?a=!0:i!==n.a.IDLE||o in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++s,r.load());0===s&&a&&this.tileChangeCallback_()},e}(i(93).b);e.a=s},,,,,,function(t,e,i){"use strict";i.r(e);var n=i(25),r=function(t,e,i){this.decay_=t,this.minVelocity_=e,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0};r.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},r.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},r.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var i=e-3;i>0&&this.points_[i+2]>t;)i-=3;var n=this.points_[e+2]-this.points_[i+2];if(n<1e3/60)return!1;var r=this.points_[e]-this.points_[i],o=this.points_[e+1]-this.points_[i+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/n,this.initialVelocity_>this.minVelocity_},r.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},r.prototype.getAngle=function(){return this.angle_};var o=r,s=i(26),a=i(12),h=i(24),l={ACTIVE:"active"},c=i(6);function u(t,e,i,n){e=t.constrainRotation(e,0),p(t,e,i,n)}function p(t,e,i,n){if(void 0!==e){var r=t.getRotation(),o=t.getCenter();void 0!==r&&o&&n>0?t.animate({rotation:e,anchor:i,duration:n,easing:h.b}):t.rotate(e,i)}}function d(t,e,i,n,r){e=t.constrainResolution(e,0,r),_(t,e,i,n)}function f(t,e,i,n){var r=t.getResolution(),o=t.constrainResolution(r,e,0);if(void 0!==o){var s=t.getResolutions();o=Object(c.a)(o,t.getMinResolution()||s[s.length-1],t.getMaxResolution()||s[0])}if(i&&void 0!==o&&o!==r){var a=t.getCenter(),h=t.calculateCenterZoom(o,i);h=t.constrainCenter(h),i=[(o*a[0]-r*h[0])/(o-r),(o*a[1]-r*h[1])/(o-r)]}_(t,o,i,n)}function _(t,e,i,n){if(e){var r=t.getResolution(),o=t.getCenter();if(void 0!==r&&o&&e!==r&&n)t.animate({resolution:e,anchor:i,duration:n,easing:h.b});else{if(i){var s=t.calculateCenterZoom(e,i);t.setCenter(s)}t.setResolution(e)}}}var g=function(t){function e(e){t.call(this),e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getActive=function(){return this.get(l.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(l.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(a.a);function y(t){var e=!1;if(t.type==s.a.DBLCLICK){var i=t.originalEvent,n=t.map,r=t.coordinate,o=i.shiftKey?-this.delta_:this.delta_;f(n.getView(),o,r,this.duration_),t.preventDefault(),e=!0}return!e}var v=function(t){function e(e){t.call(this,{handleEvent:y});var i=e||{};this.delta_=i.delta?i.delta:1,this.duration_=void 0!==i.duration?i.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(g),m=i(14),b=i(18),E=i(9),O=i(8),x=i(28),C=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},T=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},R=function(t){return t.target.getTargetElement()===document.activeElement},S=O.b,I=function(t){var e=t.originalEvent;return 0==e.button&&!(x.j&&x.e&&e.ctrlKey)},j=O.a,w=function(t){return"pointermove"==t.type},L=function(t){return t.type==s.a.SINGLECLICK},F=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},M=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},P=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},A=function(t){var e=t.pointerEvent;return Object(E.a)(void 0!==e,56),"mouse"==e.pointerType},D=function(t){var e=t.pointerEvent;return Object(E.a)(void 0!==e,56),e.isPrimary&&0===e.button},N=i(5);function k(t){for(var e=t.length,i=0,n=0,r=0;r<e;r++)i+=t[r].clientX,n+=t[r].clientY;return[i/e,n/e]}var G=function(t){function e(e){var i=e||{};t.call(this,i),i.handleDownEvent&&(this.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(this.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(this.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(this.handleUpEvent=i.handleUpEvent),i.stopDown&&(this.stopDown=i.stopDown),this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==s.a.POINTERDRAG)this.handleDragEvent(t);else if(t.type==s.a.POINTERUP){var i=this.handleUpEvent(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(t.type==s.a.POINTERDOWN){var n=this.handleDownEvent(t);n&&t.preventDefault(),this.handlingDownUpSequence=n,e=this.stopDown(n)}else t.type==s.a.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===s.a.POINTERDOWN||e===s.a.POINTERDRAG||e===s.a.POINTERUP}(t)){var e=t.pointerEvent,i=e.pointerId.toString();t.type==s.a.POINTERUP?delete this.trackedPointers_[i]:t.type==s.a.POINTERDOWN?this.trackedPointers_[i]=e:i in this.trackedPointers_&&(this.trackedPointers_[i]=e),this.targetPointers=Object(N.c)(this.trackedPointers_)}},e}(g),Y=function(t){function e(e){t.call(this,{stopDown:O.a});var i=e||{};this.kinetic_=i.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1,this.condition_=i.condition?i.condition:F,this.noKinetic_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().setHint(m.a.INTERACTING,1));var e=this.targetPointers,i=k(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var n=this.lastCentroid[0]-i[0],r=i[1]-this.lastCentroid[1],o=t.map.getView(),s=[n,r];Object(b.g)(s,o.getResolution()),Object(b.f)(s,o.getRotation()),Object(b.a)(s,o.getCenter()),s=o.constrainCenter(s),o.setCenter(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=e.length},e.prototype.handleUpEvent=function(t){var e=t.map,i=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var n=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),o=i.getCenter(),s=e.getPixelFromCoordinate(o),a=e.getCoordinateFromPixel([s[0]-n*Math.cos(r),s[1]-n*Math.sin(r)]);i.animate({center:i.constrainCenter(a),duration:500,easing:h.b})}return this.panning_&&(this.panning_=!1,i.setHint(m.a.INTERACTING,-1)),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(G),X=i(47),K=function(t){function e(e){var i=e||{};t.call(this,{stopDown:O.a}),this.condition_=i.condition?i.condition:T,this.lastAngle_=void 0,this.duration_=void 0!==i.duration?i.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){if(A(t)){var e=t.map,i=e.getView();if(i.getConstraints().rotation!==X.c){var n=e.getSize(),r=t.pixel,o=Math.atan2(n[1]/2-r[1],r[0]-n[0]/2);if(void 0!==this.lastAngle_){var s=o-this.lastAngle_,a=i.getRotation();p(i,a-s)}this.lastAngle_=o}}},e.prototype.handleUpEvent=function(t){if(!A(t))return!0;var e=t.map.getView();e.setHint(m.a.INTERACTING,-1);var i=e.getRotation();return u(e,i,void 0,this.duration_),!1},e.prototype.handleDownEvent=function(t){return!!A(t)&&(!(!I(t)||!this.condition_(t))&&(t.map.getView().setHint(m.a.INTERACTING,1),this.lastAngle_=void 0,!0))},e}(G),B=i(1),V=i(11),U=i(57),W=i(31),H=function(t){function e(e){t.call(this),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,i=this.element_.style;i.left=Math.min(t[0],e[0])+"px",i.top=Math.min(t[1],e[1])+"px",i.width=Math.abs(e[0]-t[0])+"px",i.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,i=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixel,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new W.b([i])},e.prototype.getGeometry=function(){return this.geometry_},e}(U.a),z="boxstart",Z="boxdrag",q="boxend",J=function(t){function e(e,i,n){t.call(this,e),this.coordinate=i,this.mapBrowserEvent=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(V.a),Q=function(t){function e(e){t.call(this);var i=e||{};this.box_=new H(i.className||"ol-dragbox"),this.minArea_=void 0!==i.minArea?i.minArea:64,this.onBoxEnd_=i.onBoxEnd?i.onBoxEnd:O.c,this.startPixel_=null,this.condition_=i.condition?i.condition:S,this.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:this.defaultBoxEndCondition}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.defaultBoxEndCondition=function(t,e,i){var n=i[0]-e[0],r=i[1]-e[1];return n*n+r*r>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){A(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new J(Z,t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!A(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new J(q,t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!!A(t)&&(!(!I(t)||!this.condition_(t))&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new J(z,t.coordinate,t)),!0))},e}(G);function $(){var t=this.getMap(),e=t.getView(),i=t.getSize(),n=this.getGeometry().getExtent();if(this.out_){var r=e.calculateExtent(i),o=Object(B.n)([t.getPixelFromCoordinate(Object(B.v)(n)),t.getPixelFromCoordinate(Object(B.D)(n))]),s=e.getResolutionForExtent(o,i);Object(B.J)(r,1/s),n=r}var a=e.constrainResolution(e.getResolutionForExtent(n,i)),l=Object(B.x)(n);l=e.constrainCenter(l),e.animate({resolution:a,center:l,duration:this.duration_,easing:h.b})}var tt=function(t){function e(e){var i=e||{},n=i.condition?i.condition:M;t.call(this,{condition:n,className:i.className||"ol-dragzoom",onBoxEnd:$}),this.duration_=void 0!==i.duration?i.duration:200,this.out_=void 0!==i.out&&i.out}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Q),et=i(2),it={LEFT:37,UP:38,RIGHT:39,DOWN:40};function nt(t){var e=!1;if(t.type==et.a.KEYDOWN){var i=t.originalEvent.keyCode;if(this.condition_(t)&&(i==it.DOWN||i==it.LEFT||i==it.RIGHT||i==it.UP)){var n=t.map.getView(),r=n.getResolution()*this.pixelDelta_,o=0,s=0;i==it.DOWN?s=-r:i==it.LEFT?o=-r:i==it.RIGHT?o=r:s=r;var a=[o,s];Object(b.f)(a,n.getRotation()),function(t,e,i){var n=t.getCenter();if(n){var r=t.constrainCenter([n[0]+e[0],n[1]+e[1]]);i?t.animate({duration:i,easing:h.d,center:r}):t.setCenter(r)}}(n,a,this.duration_),t.preventDefault(),e=!0}}return!e}var rt=function(t){function e(e){t.call(this,{handleEvent:nt});var i=e||{};this.defaultCondition_=function(t){return F(t)&&P(t)},this.condition_=void 0!==i.condition?i.condition:this.defaultCondition_,this.duration_=void 0!==i.duration?i.duration:100,this.pixelDelta_=void 0!==i.pixelDelta?i.pixelDelta:128}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(g);function ot(t){var e=!1;if(t.type==et.a.KEYDOWN||t.type==et.a.KEYPRESS){var i=t.originalEvent.charCode;if(this.condition_(t)&&(i=="+".charCodeAt(0)||i=="-".charCodeAt(0))){var n=t.map,r=i=="+".charCodeAt(0)?this.delta_:-this.delta_;f(n.getView(),r,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}var st=function(t){function e(e){t.call(this,{handleEvent:ot});var i=e||{};this.condition_=i.condition?i.condition:P,this.delta_=i.delta?i.delta:1,this.duration_=void 0!==i.duration?i.duration:100}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(g),at="trackpad",ht="wheel",lt=function(t){function e(e){var i=e||{};t.call(this,i),this.delta_=0,this.duration_=void 0!==i.duration?i.duration:250,this.timeout_=void 0!==i.timeout?i.timeout:80,this.useAnchor_=void 0===i.useAnchor||i.useAnchor,this.constrainResolution_=i.constrainResolution||!1,this.condition_=i.condition?i.condition:S,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(m.a.INTERACTING,-1)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==et.a.WHEEL&&e!==et.a.MOUSEWHEEL)return!0;t.preventDefault();var i,n=t.map,r=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==et.a.WHEEL?(i=r.deltaY,x.c&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(i/=x.b),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(i*=40)):t.type==et.a.MOUSEWHEEL&&(i=-r.wheelDeltaY,x.h&&(i/=3)),0===i)return!1;var o=Date.now();if(void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(i)<4?at:ht),this.mode_===at){var s=n.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):s.setHint(m.a.INTERACTING,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var a=s.getResolution()*Math.pow(2,i/this.trackpadDeltaPerZoom_),l=s.getMinResolution(),c=s.getMaxResolution(),u=0;if(a<l?(a=Math.max(a,l/this.trackpadZoomBuffer_),u=1):a>c&&(a=Math.min(a,c*this.trackpadZoomBuffer_),u=-1),this.lastAnchor_){var p=s.calculateCenterZoom(a,this.lastAnchor_);s.setCenter(s.constrainCenter(p))}return s.setResolution(a),0===u&&this.constrainResolution_&&s.animate({resolution:s.constrainResolution(a,i>0?-1:1),easing:h.b,anchor:this.lastAnchor_,duration:this.duration_}),u>0?s.animate({resolution:l,easing:h.b,anchor:this.lastAnchor_,duration:500}):u<0&&s.animate({resolution:c,easing:h.b,anchor:this.lastAnchor_,duration:500}),this.startTime_=o,!1}this.delta_+=i;var d=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),d),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();f(e,-Object(c.a)(this.delta_,-1,1),this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(g),ct=function(t){function e(e){var i=e||{},n=i;n.stopDown||(n.stopDown=O.a),t.call(this,n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==i.threshold?i.threshold:.3,this.duration_=void 0!==i.duration?i.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=0,i=this.targetPointers[0],n=this.targetPointers[1],r=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX);if(void 0!==this.lastAngle_){var o=r-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=r;var s=t.map,a=s.getView();if(a.getConstraints().rotation!==X.c){var h=s.getViewport().getBoundingClientRect(),l=k(this.targetPointers);if(l[0]-=h.left,l[1]-=h.top,this.anchor_=s.getCoordinateFromPixel(l),this.rotating_){var c=a.getRotation();s.render(),p(a,c+e,this.anchor_)}}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();if(e.setHint(m.a.INTERACTING,-1),this.rotating_){var i=e.getRotation();u(e,i,this.anchor_,this.duration_)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().setHint(m.a.INTERACTING,1),!0}return!1},e}(G),ut=function(t){function e(e){var i=e||{},n=i;n.stopDown||(n.stopDown=O.a),t.call(this,n),this.constrainResolution_=i.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==i.duration?i.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=1,i=this.targetPointers[0],n=this.targetPointers[1],r=i.clientX-n.clientX,o=i.clientY-n.clientY,s=Math.sqrt(r*r+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/s),this.lastDistance_=s;var a=t.map,h=a.getView(),l=h.getResolution(),c=h.getMaxResolution(),u=h.getMinResolution(),p=l*e;p>c?(e=c/l,p=c):p<u&&(e=u/l,p=u),1!=e&&(this.lastScaleDelta_=e);var d=a.getViewport().getBoundingClientRect(),f=k(this.targetPointers);f[0]-=d.left,f[1]-=d.top,this.anchor_=a.getCoordinateFromPixel(f),a.render(),_(h,p,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();e.setHint(m.a.INTERACTING,-1);var i=e.getResolution();if(this.constrainResolution_||i<e.getMinResolution()||i>e.getMaxResolution()){var n=this.lastScaleDelta_-1;d(e,i,this.anchor_,this.duration_,n)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().setHint(m.a.INTERACTING,1),!0}return!1},e}(G),pt=i(4),dt=i(15),ft="addfeatures",_t=function(t){function e(e,i,n,r){t.call(this,e),this.features=n,this.file=i,this.projection=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(V.a);function gt(t){for(var e=t.dataTransfer.files,i=0,n=e.length;i<n;++i){var r=e.item(i),o=new FileReader;o.addEventListener(et.a.LOAD,this.handleResult_.bind(this,r)),o.readAsText(r)}}function yt(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}var vt=function(t){function e(e){var i=e||{};t.call(this,{handleEvent:O.b}),this.formatConstructors_=i.formatConstructors?i.formatConstructors:[],this.projection_=i.projection?Object(dt.d)(i.projection):null,this.dropListenKeys_=null,this.source_=i.source||null,this.target=i.target?i.target:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleResult_=function(t,e){var i=e.target.result,n=this.getMap(),r=this.projection_;r||(r=n.getView().getProjection());for(var o=this.formatConstructors_,s=[],a=0,h=o.length;a<h;++a){var l=new o[a];if((s=this.tryReadFeatures_(l,i,{featureProjection:r}))&&s.length>0)break}this.source_&&(this.source_.clear(),this.source_.addFeatures(s)),this.dispatchEvent(new _t(ft,t,s,r))},e.prototype.registerListeners_=function(){var t=this.getMap();if(t){var e=this.target?this.target:t.getViewport();this.dropListenKeys_=[Object(pt.a)(e,et.a.DROP,gt,this),Object(pt.a)(e,et.a.DRAGENTER,yt,this),Object(pt.a)(e,et.a.DRAGOVER,yt,this),Object(pt.a)(e,et.a.DROP,yt,this)]}},e.prototype.setActive=function(e){t.prototype.setActive.call(this,e),e?this.registerListeners_():this.unregisterListeners_()},e.prototype.setMap=function(e){this.unregisterListeners_(),t.prototype.setMap.call(this,e),this.getActive()&&this.registerListeners_()},e.prototype.tryReadFeatures_=function(t,e,i){try{return t.readFeatures(e,i)}catch(t){return null}},e.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(pt.e),this.dropListenKeys_=null)},e}(g),mt=function(t){function e(e){var i=e||{};t.call(this,i),this.condition_=i.condition?i.condition:M,this.lastAngle_=void 0,this.lastMagnitude_=void 0,this.lastScaleDelta_=0,this.duration_=void 0!==i.duration?i.duration:400}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){if(A(t)){var e=t.map,i=e.getSize(),n=t.pixel,r=n[0]-i[0]/2,o=i[1]/2-n[1],s=Math.atan2(o,r),a=Math.sqrt(r*r+o*o),h=e.getView();if(h.getConstraints().rotation!==X.c&&void 0!==this.lastAngle_){var l=s-this.lastAngle_;p(h,h.getRotation()-l)}if(this.lastAngle_=s,void 0!==this.lastMagnitude_){var c=this.lastMagnitude_*(h.getResolution()/a);_(h,c)}void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/a),this.lastMagnitude_=a}},e.prototype.handleUpEvent=function(t){if(!A(t))return!0;var e=t.map.getView();e.setHint(m.a.INTERACTING,-1);var i=this.lastScaleDelta_-1;return u(e,e.getRotation()),d(e,e.getResolution(),void 0,this.duration_,i),this.lastScaleDelta_=0,!1},e.prototype.handleDownEvent=function(t){return!!A(t)&&(!!this.condition_(t)&&(t.map.getView().setHint(m.a.INTERACTING,1),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0))},e}(G),bt=i(48),Et=i(87),Ot=i(10),xt=i(20),Ct=i(23),Tt=function(t){function e(e,i,n){if(t.call(this),void 0!==n&&void 0===i)this.setFlatCoordinates(n,e);else{var r=i||0;this.setCenterAndRadius(e,r,n)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),void 0,this.layout)},e.prototype.closestPointXY=function(t,e,i,n){var r=this.flatCoordinates,o=t-r[0],s=e-r[1],a=o*o+s*s;if(a<n){if(0===a)for(var h=0;h<this.stride;++h)i[h]=r[h];else{var l=this.getRadius()/Math.sqrt(a);i[0]=r[0]+l*o,i[1]=r[1]+l*s;for(var c=2;c<this.stride;++c)i[c]=r[c]}return i.length=this.stride,a}return n},e.prototype.containsXY=function(t,e){var i=this.flatCoordinates,n=t-i[0],r=e-i[1];return n*n+r*r<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,i=e[this.stride]-e[0];return Object(B.k)(e[0]-i,e[1]-i,e[0]+i,e[1]+i,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return Ot.a.CIRCLE},e.prototype.intersectsExtent=function(t){var e=this.getExtent();if(Object(B.F)(t,e)){var i=this.getCenter();return t[0]<=i[0]&&t[2]>=i[0]||(t[1]<=i[1]&&t[3]>=i[1]||Object(B.t)(t,this.intersectsCoordinate,this))}return!1},e.prototype.setCenter=function(t){var e=this.stride,i=this.flatCoordinates[e]-this.flatCoordinates[0],n=t.slice();n[e]=n[0]+i;for(var r=1;r<e;++r)n[e+r]=t[r];this.setFlatCoordinates(this.layout,n),this.changed()},e.prototype.setCenterAndRadius=function(t,e,i){this.setLayout(i,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var n=this.flatCoordinates,r=Object(Ct.a)(n,0,t,this.stride);n[r++]=n[0]+e;for(var o=1,s=this.stride;o<s;++o)n[r++]=n[o];n.length=r,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e}(xt.a);Tt.prototype.transform;var Rt=Tt,St=i(7),It=i(37),jt=i(33),wt=i(22);function Lt(t,e,i,n,r,o){var s=NaN,a=NaN,h=(i-e)/n;if(1===h)s=t[e],a=t[e+1];else if(2==h)s=(1-r)*t[e]+r*t[e+n],a=(1-r)*t[e+1]+r*t[e+n+1];else if(0!==h){for(var l=t[e],u=t[e+1],p=0,d=[0],f=e+n;f<i;f+=n){var _=t[f],g=t[f+1];p+=Math.sqrt((_-l)*(_-l)+(g-u)*(g-u)),d.push(p),l=_,u=g}var y=r*p,v=Object(St.a)(d,y);if(v<0){var m=(y-d[-v-2])/(d[-v-1]-d[-v-2]),b=e+(-v-2)*n;s=Object(c.c)(t[b],t[b+n],m),a=Object(c.c)(t[b+1],t[b+n+1],m)}else s=t[e+v*n],a=t[e+v*n+1]}return o?(o[0]=s,o[1]=a,o):[s,a]}function Ft(t,e,i,n,r,o){if(i==e)return null;var s;if(r<t[e+n-1])return o?((s=t.slice(e,e+n))[n-1]=r,s):null;if(t[i-1]<r)return o?((s=t.slice(i-n,i))[n-1]=r,s):null;if(r==t[e+n-1])return t.slice(e,e+n);for(var a=e/n,h=i/n;a<h;){var l=a+h>>1;r<t[(l+1)*n-1]?h=l:a=l+1}var u=t[a*n-1];if(r==u)return t.slice((a-1)*n,(a-1)*n+n);var p=(r-u)/(t[(a+1)*n-1]-u);s=[];for(var d=0;d<n-1;++d)s.push(Object(c.c)(t[(a-1)*n+d],t[a*n+d],p));return s.push(r),s}var Mt=i(43),Pt=i(84),At=i(60),Dt=i(27),Nt=function(t){function e(e,i){t.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===i||Array.isArray(e[0])?this.setCoordinates(e,i):this.setFlatCoordinates(i,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendCoordinate=function(t){this.flatCoordinates?Object(St.c)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,i,n){return n<Object(B.e)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(jt.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(jt.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,i,n))},e.prototype.forEachSegment=function(t){return Object(At.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=It.a.XYM&&this.layout!=It.a.XYZM)return null;var i=void 0!==e&&e;return Ft(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i)},e.prototype.getCoordinates=function(){return Object(wt.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return Lt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},e.prototype.getLength=function(){return Object(Pt.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[];return i.length=Object(Dt.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,0),new e(i,It.a.XY)},e.prototype.getType=function(){return Ot.a.LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(Mt.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(Ct.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(xt.a),kt=function(t){function e(e,i,n){if(t.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,i);else if(void 0!==i&&n)this.setFlatCoordinates(i,e),this.ends_=n;else{for(var r=this.getLayout(),o=e,s=[],a=[],h=0,l=o.length;h<l;++h){var c=o[h];0===h&&(r=c.getLayout()),Object(St.c)(s,c.getFlatCoordinates()),a.push(s.length)}this.setFlatCoordinates(r,s),this.ends_=a}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLineString=function(t){this.flatCoordinates?Object(St.c)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,i,n){return n<Object(B.e)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(jt.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(jt.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,i,n))},e.prototype.getCoordinateAtM=function(t,e,i){if(this.layout!=It.a.XYM&&this.layout!=It.a.XYZM||0===this.flatCoordinates.length)return null;var n=void 0!==e&&e,r=void 0!==i&&i;return function(t,e,i,n,r,o,s){if(s)return Ft(t,e,i[i.length-1],n,r,o);var a;if(r<t[n-1])return o?((a=t.slice(0,n))[n-1]=r,a):null;if(t[t.length-1]<r)return o?((a=t.slice(t.length-n))[n-1]=r,a):null;for(var h=0,l=i.length;h<l;++h){var c=i[h];if(e!=c){if(r<t[e+n-1])return null;if(r<=t[c-1])return Ft(t,e,c,n,r,!1);e=c}}return null}(this.flatCoordinates,0,this.ends_,this.stride,t,n,r)},e.prototype.getCoordinates=function(){return Object(wt.b)(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new Nt(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,i=this.layout,n=[],r=0,o=0,s=e.length;o<s;++o){var a=e[o],h=new Nt(t.slice(r,a),i);n.push(h),r=a}return n},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,i=0,n=this.ends_,r=this.stride,o=0,s=n.length;o<s;++o){var a=n[o],h=Lt(e,i,a,r,.5);Object(St.c)(t,h),i=a}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[],n=[];return i.length=Object(Dt.b)(this.flatCoordinates,0,this.ends_,this.stride,t,i,0,n),new e(i,It.a.XY,n)},e.prototype.getType=function(){return Ot.a.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(Mt.b)(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=Object(Ct.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},e}(xt.a),Gt=i(42),Yt=function(t){function e(e,i){t.call(this),i&&!Array.isArray(e[0])?this.setFlatCoordinates(i,e):this.setCoordinates(e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendPoint=function(t){this.flatCoordinates?Object(St.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,i,n){if(n<Object(B.e)(this.getExtent(),t,e))return n;for(var r=this.flatCoordinates,o=this.stride,s=0,a=r.length;s<a;s+=o){var h=Object(c.f)(t,e,r[s],r[s+1]);if(h<n){n=h;for(var l=0;l<o;++l)i[l]=r[s+l];i.length=o}}return n},e.prototype.getCoordinates=function(){return Object(wt.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new Gt.default(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,i=this.stride,n=[],r=0,o=t.length;r<o;r+=i){var s=new Gt.default(t.slice(r,r+i),e);n.push(s)}return n},e.prototype.getType=function(){return Ot.a.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,i=this.stride,n=0,r=e.length;n<r;n+=i){var o=e[n],s=e[n+1];if(Object(B.h)(t,o,s))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(Ct.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(xt.a),Xt=i(46);var Kt=i(36),Bt=i(59),Vt=i(66),Ut=function(t){function e(e,i,n){if(t.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!n&&!Array.isArray(e[0])){for(var r=this.getLayout(),o=e,s=[],a=[],h=0,l=o.length;h<l;++h){var c=o[h];0===h&&(r=c.getLayout());for(var u=s.length,p=c.getEnds(),d=0,f=p.length;d<f;++d)p[d]+=u;Object(St.c)(s,c.getFlatCoordinates()),a.push(p)}i=r,e=s,n=a}void 0!==i&&n?(this.setFlatCoordinates(i,e),this.endss_=n):this.setCoordinates(e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var i=this.flatCoordinates.length;Object(St.c)(this.flatCoordinates,t.getFlatCoordinates());for(var n=0,r=(e=t.getEnds().slice()).length;n<r;++n)e[n]+=i}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,i=new Array(t),n=0;n<t;++n)i[n]=this.endss_[n].slice();return new e(this.flatCoordinates.slice(),this.layout,i)},e.prototype.closestPointXY=function(t,e,i,n){return n<Object(B.e)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(jt.f)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(jt.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,i,n))},e.prototype.containsXY=function(t,e){return Object(Kt.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return Object(Xt.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(Vt.d)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,Object(wt.c)(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=function(t,e,i,n){for(var r=[],o=Object(B.j)(),s=0,a=i.length;s<a;++s){var h=i[s];o=Object(B.o)(t,e,h[0],n),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=h[h.length-1]}return r}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(Bt.b)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new Yt(this.getFlatInteriorPoints().slice(),It.a.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(Vt.b)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(Vt.d)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[],n=[];return i.length=Object(Dt.d)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),i,0,n),new e(i,It.a.XY,n)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var i=this.endss_[t-1];e=i[i.length-1]}var n=this.endss_[t].slice(),r=n[n.length-1];if(0!==e)for(var o=0,s=n.length;o<s;++o)n[o]-=e;return new W.b(this.flatCoordinates.slice(e,r),this.layout,n)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.endss_,n=[],r=0,o=0,s=i.length;o<s;++o){var a=i[o].slice(),h=a[a.length-1];if(0!==r)for(var l=0,c=a.length;l<c;++l)a[l]-=r;var u=new W.b(e.slice(r,h),t,a);n.push(u),r=h}return n},e.prototype.getType=function(){return Ot.a.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return Object(Mt.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var i=Object(Ct.d)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===i.length)this.flatCoordinates.length=0;else{var n=i[i.length-1];this.flatCoordinates.length=0===n.length?0:n[n.length-1]}this.changed()},e}(xt.a),Wt=i(76),Ht=i(34),zt=i(39),Zt=i(35),qt={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},Jt="drawstart",Qt="drawend",$t=function(t){function e(e,i){t.call(this,e),this.feature=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(V.a);var te=function(t){function e(e){var i=e;i.stopDown||(i.stopDown=O.a),t.call(this,i),this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=function(t){var e;t===Ot.a.POINT||t===Ot.a.MULTI_POINT?e=qt.POINT:t===Ot.a.LINE_STRING||t===Ot.a.MULTI_LINE_STRING?e=qt.LINE_STRING:t===Ot.a.POLYGON||t===Ot.a.MULTI_POLYGON?e=qt.POLYGON:t===Ot.a.CIRCLE&&(e=qt.CIRCLE);return e}(this.type_),this.stopClick_=!!e.stopClick,this.minPoints_=e.minPoints?e.minPoints:this.mode_===qt.POLYGON?3:2,this.maxPoints_=e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:O.b;var n,r=e.geometryFunction;if(!r)if(this.type_===Ot.a.CIRCLE)r=function(t,e){var i=e||new Rt([NaN,NaN]),n=Object(b.h)(t[0],t[1]);return i.setCenterAndRadius(t[0],Math.sqrt(n)),i};else{var o,s=this.mode_;s===qt.POINT?o=Gt.default:s===qt.LINE_STRING?o=Nt:s===qt.POLYGON&&(o=W.b),r=function(t,e){var i=e;return i?s===qt.POLYGON?t[0].length?i.setCoordinates([t[0].concat([t[0][0]])]):i.setCoordinates([]):i.setCoordinates(t):i=new o(t),i}}this.geometryFunction_=r,this.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new Ht.a({source:new zt.a({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:(n=Object(Zt.b)(),function(t,e){return n[t.getGeometry().getType()]}),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:F,this.freehandCondition_,e.freehand?this.freehandCondition_=S:this.freehandCondition_=e.freehandCondition?e.freehandCondition:M,Object(pt.a)(this,Object(a.b)(l.ACTIVE),this.updateState_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(e){e.originalEvent.type===et.a.CONTEXTMENU&&e.preventDefault(),this.freehand_=this.mode_!==qt.POINT&&this.freehandCondition_(e);var i=e.type===s.a.POINTERMOVE,n=!0;!this.freehand_&&this.lastDragTime_&&e.type===s.a.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,i=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));return this.freehand_&&e.type===s.a.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e),n=!1):this.freehand_&&e.type===s.a.POINTERDOWN?n=!1:i?(n=e.type===s.a.POINTERMOVE)&&this.freehand_?n=this.handlePointerMove_(e):(e.pointerEvent.pointerType==Wt.b||e.type===s.a.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e):e.type===s.a.DBLCLICK&&(n=!1),t.prototype.handleEvent.call(this,e)&&n},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t),!0):!!this.condition_(t)&&(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new Et.a(s.a.POINTERMOVE,t.map,t.pointerEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0)},e.prototype.handleUpEvent=function(t){var e=!0;this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);var i=this.mode_===qt.CIRCLE;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||i?this.finishDrawing():this.atFinish_(t)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t):(this.startDrawing_(t),this.mode_===qt.POINT&&this.finishDrawing()),e=!1):this.freehand_&&(this.finishCoordinate_=null,this.abortDrawing_()),!e&&this.stopClick_&&t.stopPropagation(),e},e.prototype.handlePointerMove_=function(t){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,i=t.pixel,n=e[0]-i[0],r=e[1]-i[1],o=n*n+r*r;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return!0}return this.finishCoordinate_?this.modifyDrawing_(t):this.createOrUpdateSketchPoint_(t),!0},e.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var i=!1,n=[this.finishCoordinate_];if(this.mode_===qt.LINE_STRING)i=this.sketchCoords_.length>this.minPoints_;else if(this.mode_===qt.POLYGON){var r=this.sketchCoords_;i=r[0].length>this.minPoints_,n=[r[0][0],r[0][r[0].length-2]]}if(i)for(var o=t.map,s=0,a=n.length;s<a;s++){var h=n[s],l=o.getPixelFromCoordinate(h),c=t.pixel,u=c[0]-l[0],p=c[1]-l[1],d=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(u*u+p*p)<=d){this.finishCoordinate_=h;break}}}return e},e.prototype.createOrUpdateSketchPoint_=function(t){var e=t.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new bt.default(new Gt.default(e)),this.updateSketchFeatures_())},e.prototype.startDrawing_=function(t){var e=t.coordinate;this.finishCoordinate_=e,this.mode_===qt.POINT?this.sketchCoords_=e.slice():this.mode_===qt.POLYGON?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new bt.default(new Nt(this.sketchLineCoords_)));var i=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new bt.default,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(i),this.updateSketchFeatures_(),this.dispatchEvent(new $t(Jt,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){var e,i,n,r=t.coordinate,o=this.sketchFeature_.getGeometry();(this.mode_===qt.POINT?i=this.sketchCoords_:this.mode_===qt.POLYGON?(i=(e=this.sketchCoords_[0])[e.length-1],this.atFinish_(t)&&(r=this.finishCoordinate_.slice())):i=(e=this.sketchCoords_)[e.length-1],i[0]=r[0],i[1]=r[1],this.geometryFunction_(this.sketchCoords_,o),this.sketchPoint_)&&this.sketchPoint_.getGeometry().setCoordinates(r);if(o.getType()==Ot.a.POLYGON&&this.mode_!==qt.POLYGON){this.sketchLine_||(this.sketchLine_=new bt.default);var s=o.getLinearRing(0);(n=this.sketchLine_.getGeometry())?(n.setFlatCoordinates(s.getLayout(),s.getFlatCoordinates()),n.changed()):(n=new Nt(s.getFlatCoordinates(),s.getLayout()),this.sketchLine_.setGeometry(n))}else this.sketchLineCoords_&&(n=this.sketchLine_.getGeometry()).setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var e,i,n=t.coordinate,r=this.sketchFeature_.getGeometry();this.mode_===qt.LINE_STRING?(this.finishCoordinate_=n.slice(),(i=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?i.pop():e=!0),i.push(n.slice()),this.geometryFunction_(i,r)):this.mode_===qt.POLYGON&&((i=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?i.pop():e=!0),i.push(n.slice()),e&&(this.finishCoordinate_=i[0]),this.geometryFunction_(this.sketchCoords_,r)),this.updateSketchFeatures_(),e&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e=this.sketchFeature_.getGeometry();this.mode_===qt.LINE_STRING?((t=this.sketchCoords_).splice(-2,1),this.geometryFunction_(t,e),t.length>=2&&(this.finishCoordinate_=t[t.length-2].slice())):this.mode_===qt.POLYGON&&((t=this.sketchCoords_[0]).splice(-2,1),this.sketchLine_.getGeometry().setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e)),0===t.length&&(this.finishCoordinate_=null),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,i=t.getGeometry();this.mode_===qt.LINE_STRING?(e.pop(),this.geometryFunction_(e,i)):this.mode_===qt.POLYGON&&(e[0].pop(),this.geometryFunction_(e,i),e=i.getCoordinates()),this.type_===Ot.a.MULTI_POINT?t.setGeometry(new Yt([e])):this.type_===Ot.a.MULTI_LINE_STRING?t.setGeometry(new kt([e])):this.type_===Ot.a.MULTI_POLYGON&&t.setGeometry(new Ut([e])),this.dispatchEvent(new $t(Qt,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return t&&(this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0)),t},e.prototype.extend=function(t){var e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();var i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new $t(Jt,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing_(),this.overlay_.setMap(e?t:null)},e}(G),ee={EXTENTCHANGED:"extentchanged"},ie=function(t){function e(e){t.call(this,ee.EXTENTCHANGED),this.extent=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(V.a);function ne(){var t=Object(Zt.b)();return function(e,i){return t[Ot.a.POINT]}}function re(t){return function(e){return Object(B.b)([t,e])}}function oe(t,e){return t[0]==e[0]?function(i){return Object(B.b)([t,[i[0],e[1]]])}:t[1]==e[1]?function(i){return Object(B.b)([t,[e[0],i[1]]])}:null}var se=function(t){function e(e){var i,n=e||{};t.call(this,n),this.extent_=null,this.pointerHandler_=null,this.pixelTolerance_=void 0!==n.pixelTolerance?n.pixelTolerance:10,this.snappedToVertex_=!1,this.extentFeature_=null,this.vertexFeature_=null,e||(e={}),this.extentOverlay_=new Ht.a({source:new zt.a({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.boxStyle?e.boxStyle:(i=Object(Zt.b)(),function(t,e){return i[Ot.a.POLYGON]}),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.vertexOverlay_=new Ht.a({source:new zt.a({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.pointerStyle?e.pointerStyle:ne(),updateWhileAnimating:!0,updateWhileInteracting:!0}),e.extent&&this.setExtent(e.extent)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapToVertex_=function(t,e){var i=e.getCoordinateFromPixel(t),n=this.getExtent();if(n){var r=function(t){return[[[t[0],t[1]],[t[0],t[3]]],[[t[0],t[3]],[t[2],t[3]]],[[t[2],t[3]],[t[2],t[1]]],[[t[2],t[1]],[t[0],t[1]]]]}(n);r.sort(function(t,e){return Object(b.i)(i,t)-Object(b.i)(i,e)});var o=r[0],s=Object(b.c)(i,o),a=e.getPixelFromCoordinate(s);if(Object(b.d)(t,a)<=this.pixelTolerance_){var h=e.getPixelFromCoordinate(o[0]),l=e.getPixelFromCoordinate(o[1]),c=Object(b.h)(a,h),u=Object(b.h)(a,l),p=Math.sqrt(Math.min(c,u));return this.snappedToVertex_=p<=this.pixelTolerance_,this.snappedToVertex_&&(s=c>u?o[1]:o[0]),s}}return null},e.prototype.handlePointerMove_=function(t){var e=t.pixel,i=t.map,n=this.snapToVertex_(e,i);n||(n=i.getCoordinateFromPixel(e)),this.createOrUpdatePointerFeature_(n)},e.prototype.createOrUpdateExtentFeature_=function(t){var e=this.extentFeature_;return e?t?e.setGeometry(Object(W.d)(t)):e.setGeometry(void 0):(e=t?new bt.default(Object(W.d)(t)):new bt.default({}),this.extentFeature_=e,this.extentOverlay_.getSource().addFeature(e)),e},e.prototype.createOrUpdatePointerFeature_=function(t){var e=this.vertexFeature_;e?e.getGeometry().setCoordinates(t):(e=new bt.default(new Gt.default(t)),this.vertexFeature_=e,this.vertexOverlay_.getSource().addFeature(e));return e},e.prototype.handleEvent=function(e){return!e.pointerEvent||(e.type!=s.a.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),t.prototype.handleEvent.call(this,e),!1)},e.prototype.handleDownEvent=function(t){var e=t.pixel,i=t.map,n=this.getExtent(),r=this.snapToVertex_(e,i),o=function(t){var e=null,i=null;return t[0]==n[0]?e=n[2]:t[0]==n[2]&&(e=n[0]),t[1]==n[1]?i=n[3]:t[1]==n[3]&&(i=n[1]),null!==e&&null!==i?[e,i]:null};if(r&&n){var s=r[0]==n[0]||r[0]==n[2]?r[0]:null,a=r[1]==n[1]||r[1]==n[3]?r[1]:null;null!==s&&null!==a?this.pointerHandler_=re(o(r)):null!==s?this.pointerHandler_=oe(o([s,n[1]]),o([s,n[3]])):null!==a&&(this.pointerHandler_=oe(o([n[0],a]),o([n[2],a])))}else r=i.getCoordinateFromPixel(e),this.setExtent([r[0],r[1],r[0],r[1]]),this.pointerHandler_=re(r);return!0},e.prototype.handleDragEvent=function(t){if(this.pointerHandler_){var e=t.coordinate;this.setExtent(this.pointerHandler_(e)),this.createOrUpdatePointerFeature_(e)}return!0},e.prototype.handleUpEvent=function(t){this.pointerHandler_=null;var e=this.getExtent();return e&&0!==Object(B.u)(e)||this.setExtent(null),!1},e.prototype.setMap=function(e){this.extentOverlay_.setMap(e),this.vertexOverlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.getExtent=function(){return this.extent_},e.prototype.setExtent=function(t){this.extent_=t||null,this.createOrUpdateExtentFeature_(t),this.dispatchEvent(new ie(this.extent_))},e}(G),ae=i(3),he=i(21),le=i(53),ce=i(52),ue=1,pe="modifystart",de="modifyend",fe=function(t){function e(e,i,n){t.call(this,e),this.features=i,this.mapBrowserEvent=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(V.a);function _e(t,e){return t.index-e.index}function ge(t,e){var i=e.geometry;if(i.getType()===Ot.a.CIRCLE){var n=i;if(e.index===ue){var r=Object(b.h)(n.getCenter(),t),o=Math.sqrt(r)-n.getRadius();return o*o}}return Object(b.i)(t,e.segment)}function ye(t,e){var i=e.geometry;return i.getType()===Ot.a.CIRCLE&&e.index===ue?i.getClosestPoint(t):Object(b.c)(t,e.segment)}var ve=function(t){function e(e){var i,r;if(t.call(this,e),this.condition_=e.condition?e.condition:D,this.defaultDeleteCondition_=function(t){return C(t)&&L(t)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:S,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.modified_=!1,this.rBush_=new ce.a,this.pixelTolerance_=void 0!==e.pixelTolerance?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new Ht.a({source:new zt.a({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:(i=Object(Zt.b)(),function(t,e){return i[Ot.a.POINT]}),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,Circle:this.writeCircleGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_},this.source_=null,e.source?(this.source_=e.source,r=new n.a(this.source_.getFeatures()),Object(pt.a)(this.source_,le.a.ADDFEATURE,this.handleSourceAdd_,this),Object(pt.a)(this.source_,le.a.REMOVEFEATURE,this.handleSourceRemove_,this)):r=e.features,!r)throw new Error("The modify interaction requires features or a source");this.features_=r,this.features_.forEach(this.addFeature_.bind(this)),Object(pt.a)(this.features_,he.a.ADD,this.handleFeatureAdd_,this),Object(pt.a)(this.features_,he.a.REMOVE,this.handleFeatureRemove_,this),this.lastPointerEvent_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature_=function(t){var e=t.getGeometry();e&&e.getType()in this.SEGMENT_WRITERS_&&this.SEGMENT_WRITERS_[e.getType()].call(this,t,e);var i=this.getMap();i&&i.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,i),Object(pt.a)(t,et.a.CHANGE,this.handleFeatureChange_,this)},e.prototype.willModifyFeatures_=function(t){this.modified_||(this.modified_=!0,this.dispatchEvent(new fe(pe,this.features_,t)))},e.prototype.removeFeature_=function(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),Object(pt.c)(t,et.a.CHANGE,this.handleFeatureChange_,this)},e.prototype.removeFeatureSegmentData_=function(t){var e=this.rBush_,i=[];e.forEach(function(e){t===e.feature&&i.push(e)});for(var n=i.length-1;n>=0;--n)e.remove(i[n])},e.prototype.setActive=function(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.prototype.setActive.call(this,e)},e.prototype.setMap=function(e){this.overlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleSourceAdd_=function(t){t.feature&&this.features_.push(t.feature)},e.prototype.handleSourceRemove_=function(t){t.feature&&this.features_.remove(t.feature)},e.prototype.handleFeatureAdd_=function(t){this.addFeature_(t.element)},e.prototype.handleFeatureChange_=function(t){if(!this.changingFeature_){var e=t.target;this.removeFeature_(e),this.addFeature_(e)}},e.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature_(e)},e.prototype.writePointGeometry_=function(t,e){var i=e.getCoordinates(),n={feature:t,geometry:e,segment:[i,i]};this.rBush_.insert(e.getExtent(),n)},e.prototype.writeMultiPointGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,r=i.length;n<r;++n){var o=i[n],s={feature:t,geometry:e,depth:[n],index:n,segment:[o,o]};this.rBush_.insert(e.getExtent(),s)}},e.prototype.writeLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,r=i.length-1;n<r;++n){var o=i.slice(n,n+2),s={feature:t,geometry:e,index:n,segment:o};this.rBush_.insert(Object(B.b)(o),s)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,r=i.length;n<r;++n)for(var o=i[n],s=0,a=o.length-1;s<a;++s){var h=o.slice(s,s+2),l={feature:t,geometry:e,depth:[n],index:s,segment:h};this.rBush_.insert(Object(B.b)(h),l)}},e.prototype.writePolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,r=i.length;n<r;++n)for(var o=i[n],s=0,a=o.length-1;s<a;++s){var h=o.slice(s,s+2),l={feature:t,geometry:e,depth:[n],index:s,segment:h};this.rBush_.insert(Object(B.b)(h),l)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,r=i.length;n<r;++n)for(var o=i[n],s=0,a=o.length;s<a;++s)for(var h=o[s],l=0,c=h.length-1;l<c;++l){var u=h.slice(l,l+2),p={feature:t,geometry:e,depth:[s,n],index:l,segment:u};this.rBush_.insert(Object(B.b)(u),p)}},e.prototype.writeCircleGeometry_=function(t,e){var i=e.getCenter(),n={feature:t,geometry:e,index:0,segment:[i,i]},r={feature:t,geometry:e,index:ue,segment:[i,i]},o=[n,r];n.featureSegments=r.featureSegments=o,this.rBush_.insert(Object(B.m)(i),n),this.rBush_.insert(e.getExtent(),r)},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var i=e.getGeometriesArray(),n=0;n<i.length;++n)this.SEGMENT_WRITERS_[i[n].getType()].call(this,t,i[n])},e.prototype.createOrUpdateVertexFeature_=function(t){var e=this.vertexFeature_;e?e.getGeometry().setCoordinates(t):(e=new bt.default(new Gt.default(t)),this.vertexFeature_=e,this.overlay_.getSource().addFeature(e));return e},e.prototype.handleEvent=function(e){return!e.pointerEvent||(this.lastPointerEvent_=e,e.map.getView().getInteracting()||e.type!=s.a.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(i=!(e.type!=s.a.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),e.type==s.a.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),t.prototype.handleEvent.call(this,e)&&!i);var i},e.prototype.handleDragEvent=function(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t);for(var e=t.coordinate,i=0,n=this.dragSegments_.length;i<n;++i){for(var r=this.dragSegments_[i],o=r[0],s=o.depth,a=o.geometry,h=void 0,l=o.segment,c=r[1];e.length<a.getStride();)e.push(l[c][e.length]);switch(a.getType()){case Ot.a.POINT:h=e,l[0]=l[1]=e;break;case Ot.a.MULTI_POINT:(h=a.getCoordinates())[o.index]=e,l[0]=l[1]=e;break;case Ot.a.LINE_STRING:(h=a.getCoordinates())[o.index+c]=e,l[c]=e;break;case Ot.a.MULTI_LINE_STRING:case Ot.a.POLYGON:(h=a.getCoordinates())[s[0]][o.index+c]=e,l[c]=e;break;case Ot.a.MULTI_POLYGON:(h=a.getCoordinates())[s[1]][s[0]][o.index+c]=e,l[c]=e;break;case Ot.a.CIRCLE:l[0]=l[1]=e,0===o.index?(this.changingFeature_=!0,a.setCenter(e),this.changingFeature_=!1):(this.changingFeature_=!0,a.setRadius(Object(b.d)(a.getCenter(),e)),this.changingFeature_=!1)}h&&this.setGeometryCoordinates_(a,h)}this.createOrUpdateVertexFeature_(e)},e.prototype.handleDownEvent=function(t){if(!this.condition_(t))return!1;this.handlePointerAtPixel_(t.pixel,t.map);var e=t.map.getCoordinateFromPixel(t.pixel);this.dragSegments_.length=0,this.modified_=!1;var i=this.vertexFeature_;if(i){var n=[],r=i.getGeometry().getCoordinates(),o=Object(B.b)([r]),s=this.rBush_.getInExtent(o),a={};s.sort(_e);for(var h=0,l=s.length;h<l;++h){var c=s[h],u=c.segment,p=Object(ae.c)(c.feature),d=c.depth;if(d&&(p+="-"+d.join("-")),a[p]||(a[p]=new Array(2)),c.geometry.getType()===Ot.a.CIRCLE&&c.index===ue){var f=ye(e,c);Object(b.e)(f,r)&&!a[p][0]&&(this.dragSegments_.push([c,0]),a[p][0]=c)}else if(Object(b.e)(u[0],r)&&!a[p][0])this.dragSegments_.push([c,0]),a[p][0]=c;else if(Object(b.e)(u[1],r)&&!a[p][1]){if((c.geometry.getType()===Ot.a.LINE_STRING||c.geometry.getType()===Ot.a.MULTI_LINE_STRING)&&a[p][0]&&0===a[p][0].index)continue;this.dragSegments_.push([c,1]),a[p][1]=c}else this.insertVertexCondition_(t)&&Object(ae.c)(u)in this.vertexSegments_&&!a[p][0]&&!a[p][1]&&n.push([c,r])}n.length&&this.willModifyFeatures_(t);for(var _=n.length-1;_>=0;--_)this.insertVertex_.apply(this,n[_])}return!!this.vertexFeature_},e.prototype.handleUpEvent=function(t){for(var e=this.dragSegments_.length-1;e>=0;--e){var i=this.dragSegments_[e][0],n=i.geometry;if(n.getType()===Ot.a.CIRCLE){var r=n.getCenter(),o=i.featureSegments[0],s=i.featureSegments[1];o.segment[0]=o.segment[1]=r,s.segment[0]=s.segment[1]=r,this.rBush_.update(Object(B.m)(r),o),this.rBush_.update(n.getExtent(),s)}else this.rBush_.update(Object(B.b)(i.segment),i)}return this.modified_&&(this.dispatchEvent(new fe(de,this.features_,t)),this.modified_=!1),!1},e.prototype.handlePointerMove_=function(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.pixel,t.map)},e.prototype.handlePointerAtPixel_=function(t,e){var i=e.getCoordinateFromPixel(t),n=Object(B.c)(Object(B.m)(i),e.getView().getResolution()*this.pixelTolerance_),r=this.rBush_.getInExtent(n);if(r.length>0){r.sort(function(t,e){return ge(i,t)-ge(i,e)});var o=r[0],s=o.segment,a=ye(i,o),h=e.getPixelFromCoordinate(a),l=Object(b.d)(t,h);if(l<=this.pixelTolerance_){var c={};if(o.geometry.getType()===Ot.a.CIRCLE&&o.index===ue)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(a);else{var u=e.getPixelFromCoordinate(s[0]),p=e.getPixelFromCoordinate(s[1]),d=Object(b.h)(h,u),f=Object(b.h)(h,p);l=Math.sqrt(Math.min(d,f)),this.snappedToVertex_=l<=this.pixelTolerance_,this.snappedToVertex_&&(a=d>f?s[1]:s[0]),this.createOrUpdateVertexFeature_(a);for(var _=1,g=r.length;_<g;++_){var y=r[_].segment;if(!(Object(b.e)(s[0],y[0])&&Object(b.e)(s[1],y[1])||Object(b.e)(s[0],y[1])&&Object(b.e)(s[1],y[0])))break;c[Object(ae.c)(y)]=!0}}return c[Object(ae.c)(s)]=!0,void(this.vertexSegments_=c)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},e.prototype.insertVertex_=function(t,e){for(var i,n=t.segment,r=t.feature,o=t.geometry,s=t.depth,a=t.index;e.length<o.getStride();)e.push(0);switch(o.getType()){case Ot.a.MULTI_LINE_STRING:case Ot.a.POLYGON:(i=o.getCoordinates())[s[0]].splice(a+1,0,e);break;case Ot.a.MULTI_POLYGON:(i=o.getCoordinates())[s[1]][s[0]].splice(a+1,0,e);break;case Ot.a.LINE_STRING:(i=o.getCoordinates()).splice(a+1,0,e);break;default:return}this.setGeometryCoordinates_(o,i);var h=this.rBush_;h.remove(t),this.updateSegmentIndices_(o,a,s,1);var l={segment:[n[0],e],feature:r,geometry:o,depth:s,index:a};h.insert(Object(B.b)(l.segment),l),this.dragSegments_.push([l,1]);var c={segment:[e,n[1]],feature:r,geometry:o,depth:s,index:a+1};h.insert(Object(B.b)(c.segment),c),this.dragSegments_.push([c,0]),this.ignoreNextSingleClick_=!0},e.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=s.a.POINTERDRAG){var t=this.lastPointerEvent_;return this.willModifyFeatures_(t),this.removeVertex_(),this.dispatchEvent(new fe(de,this.features_,t)),this.modified_=!1,!0}return!1},e.prototype.removeVertex_=function(){var t,e,i,n,r,o,s,a,h,l,c,u=this.dragSegments_,p={},d=!1;for(r=u.length-1;r>=0;--r)l=(i=u[r])[0],c=Object(ae.c)(l.feature),l.depth&&(c+="-"+l.depth.join("-")),c in p||(p[c]={}),0===i[1]?(p[c].right=l,p[c].index=l.index):1==i[1]&&(p[c].left=l,p[c].index=l.index+1);for(c in p){switch(h=p[c].right,s=p[c].left,(a=(o=p[c].index)-1)<0&&(a=0),t=e=(n=(l=void 0!==s?s:h).geometry).getCoordinates(),d=!1,n.getType()){case Ot.a.MULTI_LINE_STRING:e[l.depth[0]].length>2&&(e[l.depth[0]].splice(o,1),d=!0);break;case Ot.a.LINE_STRING:e.length>2&&(e.splice(o,1),d=!0);break;case Ot.a.MULTI_POLYGON:t=t[l.depth[1]];case Ot.a.POLYGON:(t=t[l.depth[0]]).length>4&&(o==t.length-1&&(o=0),t.splice(o,1),d=!0,0===o&&(t.pop(),t.push(t[0]),a=t.length-1))}if(d){this.setGeometryCoordinates_(n,e);var f=[];if(void 0!==s&&(this.rBush_.remove(s),f.push(s.segment[0])),void 0!==h&&(this.rBush_.remove(h),f.push(h.segment[1])),void 0!==s&&void 0!==h){var _={depth:l.depth,feature:l.feature,geometry:l.geometry,index:a,segment:f};this.rBush_.insert(Object(B.b)(_.segment),_)}this.updateSegmentIndices_(n,o,l.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),u.length=0}}return d},e.prototype.setGeometryCoordinates_=function(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1},e.prototype.updateSegmentIndices_=function(t,e,i,n){this.rBush_.forEachInExtent(t.getExtent(),function(r){r.geometry===t&&(void 0===i||void 0===r.depth||Object(St.b)(r.depth,i))&&r.index>e&&(r.index+=n)})},e}(G),me={SELECT:"select"},be=function(t){function e(e,i,n,r){t.call(this,e),this.selected=i,this.deselected=n,this.mapBrowserEvent=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(V.a);function Ee(t){if(!this.condition_(t))return!0;var e=this.addCondition_(t),i=this.removeCondition_(t),n=this.toggleCondition_(t),r=!e&&!i&&!n,o=t.map,s=this.getFeatures(),a=[],h=[];if(r){Object(N.b)(this.featureLayerAssociation_),o.forEachFeatureAtPixel(t.pixel,function(t,e){if(this.filter_(t,e))return h.push(t),this.addFeatureLayerAssociation_(t,e),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var l=s.getLength()-1;l>=0;--l){var c=s.item(l),u=h.indexOf(c);u>-1?h.splice(u,1):(s.remove(c),a.push(c))}0!==h.length&&s.extend(h)}else{o.forEachFeatureAtPixel(t.pixel,function(t,r){if(this.filter_(t,r))return!e&&!n||Object(St.f)(s.getArray(),t)?(i||n)&&Object(St.f)(s.getArray(),t)&&(a.push(t),this.removeFeatureLayerAssociation_(t)):(h.push(t),this.addFeatureLayerAssociation_(t,r)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var p=a.length-1;p>=0;--p)s.remove(a[p]);s.extend(h)}return(h.length>0||a.length>0)&&this.dispatchEvent(new be(me.SELECT,h,a,t)),w(t)}function Oe(){var t=Object(Zt.b)();return Object(St.c)(t[Ot.a.POLYGON],t[Ot.a.LINE_STRING]),Object(St.c)(t[Ot.a.GEOMETRY_COLLECTION],t[Ot.a.LINE_STRING]),function(e,i){return e.getGeometry()?t[e.getGeometry().getType()]:null}}var xe=function(t){function e(e){t.call(this,{handleEvent:Ee});var i=e||{};this.condition_=i.condition?i.condition:L,this.addCondition_=i.addCondition?i.addCondition:j,this.removeCondition_=i.removeCondition?i.removeCondition:j,this.toggleCondition_=i.toggleCondition?i.toggleCondition:M,this.multi_=!!i.multi&&i.multi,this.filter_=i.filter?i.filter:O.b,this.hitTolerance_=i.hitTolerance?i.hitTolerance:0;var n,r=new Ht.a({source:new zt.a({useSpatialIndex:!1,features:i.features,wrapX:i.wrapX}),style:i.style?i.style:Oe(),updateWhileAnimating:!0,updateWhileInteracting:!0});if(this.featureOverlay_=r,i.layers)if("function"==typeof i.layers)n=i.layers;else{var o=i.layers;n=function(t){return Object(St.f)(o,t)}}else n=O.b;this.layerFilter_=n,this.featureLayerAssociation_={};var s=this.getFeatures();Object(pt.a)(s,he.a.ADD,this.addFeature_,this),Object(pt.a)(s,he.a.REMOVE,this.removeFeature_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeatureLayerAssociation_=function(t,e){this.featureLayerAssociation_[Object(ae.c)(t)]=e},e.prototype.getFeatures=function(){return this.featureOverlay_.getSource().getFeaturesCollection()},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.getLayer=function(t){return this.featureLayerAssociation_[Object(ae.c)(t)]},e.prototype.getOverlay=function(){return this.featureOverlay_},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){var i=this.getMap(),n=this.getFeatures();i&&n.forEach(i.unskipFeature.bind(i)),t.prototype.setMap.call(this,e),this.featureOverlay_.setMap(e),e&&n.forEach(e.skipFeature.bind(e))},e.prototype.addFeature_=function(t){var e=this.getMap();e&&e.skipFeature(t.element)},e.prototype.removeFeature_=function(t){var e=this.getMap();e&&e.unskipFeature(t.element)},e.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[Object(ae.c)(t)]},e}(g);function Ce(t){return t.feature?t.feature:t.element?t.element:void 0}var Te=function(t){function e(e){var i=e||{},n=i;n.handleDownEvent||(n.handleDownEvent=O.b),n.stopDown||(n.stopDown=O.a),t.call(this,n),this.source_=i.source?i.source:null,this.vertex_=void 0===i.vertex||i.vertex,this.edge_=void 0===i.edge||i.edge,this.features_=i.features?i.features:null,this.featuresListenerKeys_=[],this.featureChangeListenerKeys_={},this.indexedFeaturesExtents_={},this.pendingFeatures_={},this.pixelCoordinate_=null,this.pixelTolerance_=void 0!==i.pixelTolerance?i.pixelTolerance:10,this.sortByDistance_=function(t,e){var i=Object(b.i)(this.pixelCoordinate_,t.segment),n=Object(b.i)(this.pixelCoordinate_,e.segment);return i-n}.bind(this),this.rBush_=new ce.a,this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_,Circle:this.writeCircleGeometry_}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t,e){var i=void 0===e||e,n=Object(ae.c)(t),r=t.getGeometry();if(r){var o=this.SEGMENT_WRITERS_[r.getType()];o&&(this.indexedFeaturesExtents_[n]=r.getExtent(Object(B.j)()),o.call(this,t,r))}i&&(this.featureChangeListenerKeys_[n]=Object(pt.a)(t,et.a.CHANGE,this.handleFeatureChange_,this))},e.prototype.forEachFeatureAdd_=function(t){this.addFeature(t)},e.prototype.forEachFeatureRemove_=function(t){this.removeFeature(t)},e.prototype.getFeatures_=function(){var t;return this.features_?t=this.features_:this.source_&&(t=this.source_.getFeatures()),t},e.prototype.handleEvent=function(e){var i=this.snapTo(e.pixel,e.coordinate,e.map);return i.snapped&&(e.coordinate=i.vertex.slice(0,2),e.pixel=i.vertexPixel),t.prototype.handleEvent.call(this,e)},e.prototype.handleFeatureAdd_=function(t){var e=Ce(t);this.addFeature(e)},e.prototype.handleFeatureRemove_=function(t){var e=Ce(t);this.removeFeature(e)},e.prototype.handleFeatureChange_=function(t){var e=t.target;if(this.handlingDownUpSequence){var i=Object(ae.c)(e);i in this.pendingFeatures_||(this.pendingFeatures_[i]=e)}else this.updateFeature_(e)},e.prototype.handleUpEvent=function(t){var e=Object(N.c)(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},e.prototype.removeFeature=function(t,e){var i=void 0===e||e,n=Object(ae.c)(t),r=this.indexedFeaturesExtents_[n];if(r){var o=this.rBush_,s=[];o.forEachInExtent(r,function(e){t===e.feature&&s.push(e)});for(var a=s.length-1;a>=0;--a)o.remove(s[a])}i&&(Object(pt.e)(this.featureChangeListenerKeys_[n]),delete this.featureChangeListenerKeys_[n])},e.prototype.setMap=function(e){var i=this.getMap(),n=this.featuresListenerKeys_,r=this.getFeatures_();i&&(n.forEach(pt.e),n.length=0,r.forEach(this.forEachFeatureRemove_.bind(this))),t.prototype.setMap.call(this,e),e&&(this.features_?n.push(Object(pt.a)(this.features_,he.a.ADD,this.handleFeatureAdd_,this),Object(pt.a)(this.features_,he.a.REMOVE,this.handleFeatureRemove_,this)):this.source_&&n.push(Object(pt.a)(this.source_,le.a.ADDFEATURE,this.handleFeatureAdd_,this),Object(pt.a)(this.source_,le.a.REMOVEFEATURE,this.handleFeatureRemove_,this)),r.forEach(this.forEachFeatureAdd_.bind(this)))},e.prototype.snapTo=function(t,e,i){var n=i.getCoordinateFromPixel([t[0]-this.pixelTolerance_,t[1]+this.pixelTolerance_]),r=i.getCoordinateFromPixel([t[0]+this.pixelTolerance_,t[1]-this.pixelTolerance_]),o=Object(B.b)([n,r]),s=this.rBush_.getInExtent(o);this.vertex_&&!this.edge_&&(s=s.filter(function(t){return t.feature.getGeometry().getType()!==Ot.a.CIRCLE}));var a,h,l,c,u=!1,p=null,d=null;if(s.length>0){this.pixelCoordinate_=e,s.sort(this.sortByDistance_);var f=s[0].segment,_=s[0].feature.getGeometry().getType()===Ot.a.CIRCLE;this.vertex_&&!this.edge_?(a=i.getPixelFromCoordinate(f[0]),h=i.getPixelFromCoordinate(f[1]),l=Object(b.h)(t,a),c=Object(b.h)(t,h),Math.sqrt(Math.min(l,c))<=this.pixelTolerance_&&(u=!0,p=l>c?f[1]:f[0],d=i.getPixelFromCoordinate(p))):this.edge_&&(p=_?Object(b.b)(e,s[0].feature.getGeometry()):Object(b.c)(e,f),d=i.getPixelFromCoordinate(p),Object(b.d)(t,d)<=this.pixelTolerance_&&(u=!0,this.vertex_&&!_&&(a=i.getPixelFromCoordinate(f[0]),h=i.getPixelFromCoordinate(f[1]),l=Object(b.h)(d,a),c=Object(b.h)(d,h),Math.sqrt(Math.min(l,c))<=this.pixelTolerance_&&(p=l>c?f[1]:f[0],d=i.getPixelFromCoordinate(p))))),u&&(d=[Math.round(d[0]),Math.round(d[1])])}return{snapped:u,vertex:p,vertexPixel:d}},e.prototype.updateFeature_=function(t){this.removeFeature(t,!1),this.addFeature(t,!1)},e.prototype.writeCircleGeometry_=function(t,e){for(var i=Object(W.c)(e).getCoordinates()[0],n=0,r=i.length-1;n<r;++n){var o=i.slice(n,n+2),s={feature:t,segment:o};this.rBush_.insert(Object(B.b)(o),s)}},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var i=e.getGeometriesArray(),n=0;n<i.length;++n){var r=this.SEGMENT_WRITERS_[i[n].getType()];r&&r.call(this,t,i[n])}},e.prototype.writeLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,r=i.length-1;n<r;++n){var o=i.slice(n,n+2),s={feature:t,segment:o};this.rBush_.insert(Object(B.b)(o),s)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,r=i.length;n<r;++n)for(var o=i[n],s=0,a=o.length-1;s<a;++s){var h=o.slice(s,s+2),l={feature:t,segment:h};this.rBush_.insert(Object(B.b)(h),l)}},e.prototype.writeMultiPointGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,r=i.length;n<r;++n){var o=i[n],s={feature:t,segment:[o,o]};this.rBush_.insert(e.getExtent(),s)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,r=i.length;n<r;++n)for(var o=i[n],s=0,a=o.length;s<a;++s)for(var h=o[s],l=0,c=h.length-1;l<c;++l){var u=h.slice(l,l+2),p={feature:t,segment:u};this.rBush_.insert(Object(B.b)(u),p)}},e.prototype.writePointGeometry_=function(t,e){var i=e.getCoordinates(),n={feature:t,segment:[i,i]};this.rBush_.insert(e.getExtent(),n)},e.prototype.writePolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,r=i.length;n<r;++n)for(var o=i[n],s=0,a=o.length-1;s<a;++s){var h=o.slice(s,s+2),l={feature:t,segment:h};this.rBush_.insert(Object(B.b)(h),l)}},e}(G),Re="translatestart",Se="translating",Ie="translateend",je=function(t){function e(e,i,n){t.call(this,e),this.features=i,this.coordinate=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(V.a),we=function(t){function e(e){var i,n=e||{};if(t.call(this,n),this.lastCoordinate_=null,this.features_=void 0!==n.features?n.features:null,n.layers)if("function"==typeof n.layers)i=n.layers;else{var r=n.layers;i=function(t){return Object(St.f)(r,t)}}else i=O.b;this.layerFilter_=i,this.hitTolerance_=n.hitTolerance?n.hitTolerance:0,this.lastFeature_=null,Object(pt.a)(this,Object(a.b)(l.ACTIVE),this.handleActiveChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDownEvent=function(t){if(this.lastFeature_=this.featuresAtPixel_(t.pixel,t.map),!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=t.coordinate,this.handleMoveEvent(t);var e=this.features_||new n.a([this.lastFeature_]);return this.dispatchEvent(new je(Re,e,t.coordinate)),!0}return!1},e.prototype.handleUpEvent=function(t){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(t);var e=this.features_||new n.a([this.lastFeature_]);return this.dispatchEvent(new je(Ie,e,t.coordinate)),!0}return!1},e.prototype.handleDragEvent=function(t){if(this.lastCoordinate_){var e=t.coordinate,i=e[0]-this.lastCoordinate_[0],r=e[1]-this.lastCoordinate_[1],o=this.features_||new n.a([this.lastFeature_]);o.forEach(function(t){var e=t.getGeometry();e.translate(i,r),t.setGeometry(e)}),this.lastCoordinate_=e,this.dispatchEvent(new je(Se,o,e))}},e.prototype.handleMoveEvent=function(t){var e=t.map.getViewport();this.featuresAtPixel_(t.pixel,t.map)?(e.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),e.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):e.classList.remove("ol-grab","ol-grabbing")},e.prototype.featuresAtPixel_=function(t,e){return e.forEachFeatureAtPixel(t,function(t){if(!this.features_||Object(St.f)(this.features_.getArray(),t))return t}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){var i=this.getMap();t.prototype.setMap.call(this,e),this.updateState_(i)},e.prototype.handleActiveChanged_=function(){this.updateState_(null)},e.prototype.updateState_=function(t){var e=this.getMap(),i=this.getActive();e&&i||(e=e||t)&&e.getViewport().classList.remove("ol-grab","ol-grabbing")},e}(G);function Le(t){var e=t||{},i=new n.a,r=new o(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&i.push(new K),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&i.push(new v({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&i.push(new Y({condition:e.onFocusOnly?R:void 0,kinetic:r})),(void 0===e.pinchRotate||e.pinchRotate)&&i.push(new ct),(void 0===e.pinchZoom||e.pinchZoom)&&i.push(new ut({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(i.push(new rt),i.push(new st({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&i.push(new lt({condition:e.onFocusOnly?R:void 0,constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&i.push(new tt({duration:e.zoomDuration})),i}i.d(e,"defaults",function(){return Le}),i.d(e,"DoubleClickZoom",function(){return v}),i.d(e,"DragAndDrop",function(){return vt}),i.d(e,"DragBox",function(){return Q}),i.d(e,"DragPan",function(){return Y}),i.d(e,"DragRotate",function(){return K}),i.d(e,"DragRotateAndZoom",function(){return mt}),i.d(e,"DragZoom",function(){return tt}),i.d(e,"Draw",function(){return te}),i.d(e,"Extent",function(){return se}),i.d(e,"Interaction",function(){return g}),i.d(e,"KeyboardPan",function(){return rt}),i.d(e,"KeyboardZoom",function(){return st}),i.d(e,"Modify",function(){return ve}),i.d(e,"MouseWheelZoom",function(){return lt}),i.d(e,"PinchRotate",function(){return ct}),i.d(e,"PinchZoom",function(){return ut}),i.d(e,"Pointer",function(){return G}),i.d(e,"Select",function(){return xe}),i.d(e,"Snap",function(){return Te}),i.d(e,"Translate",function(){return we})},function(t,e,i){"use strict";i.r(e);var n=i(64),r=i(3),o=i(8),s=i(6);function a(t){return t}var h=i(12),l=i(7);var c=i(47),u=i(14),p="center",d="resolution",f="rotation",_=i(9),g=i(18),y=i(24),v=i(1),m=i(10),b=i(31),E=i(5),O=i(15),x=i(45);i.d(e,"createCenterConstraint",function(){return S}),i.d(e,"createResolutionConstraint",function(){return I}),i.d(e,"createRotationConstraint",function(){return j}),i.d(e,"isNoopAnimation",function(){return w});var C=0,T=function(t){function e(e){t.call(this);var i=Object(E.a)({},e);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=Object(O.b)(i.projection,"EPSG:3857"),this.applyOptions_(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyOptions_=function(t){var e={};e[p]=void 0!==t.center?t.center:null;var i=I(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=i.minZoom;var n=S(t),r=i.constraint,o=j(t);this.constraints_={center:n,resolution:r,rotation:o},void 0!==t.resolution?e[d]=t.resolution:void 0!==t.zoom&&(e[d]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(e[d]=Object(s.a)(Number(this.getResolution()||e[d]),this.minResolution_,this.maxResolution_))),e[f]=void 0!==t.rotation?t.rotation:0,this.setProperties(e),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=Object(E.a)({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),Object(E.a)({},e,t)},e.prototype.animate=function(t){var e,i=arguments,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){var r=arguments[n-1];return r.center&&this.setCenter(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(e&&R(e,!0))}for(var o=Date.now(),a=this.getCenter().slice(),h=this.getResolution(),l=this.getRotation(),c=[],p=0;p<n;++p){var d=i[p],f={start:o,complete:!1,anchor:d.anchor,duration:void 0!==d.duration?d.duration:1e3,easing:d.easing||y.c};if(d.center&&(f.sourceCenter=a,f.targetCenter=d.center,a=f.targetCenter),void 0!==d.zoom?(f.sourceResolution=h,f.targetResolution=this.constrainResolution(this.maxResolution_,d.zoom-this.minZoom_,0),h=f.targetResolution):d.resolution&&(f.sourceResolution=h,f.targetResolution=d.resolution,h=f.targetResolution),void 0!==d.rotation){f.sourceRotation=l;var _=Object(s.d)(d.rotation-l+Math.PI,2*Math.PI)-Math.PI;f.targetRotation=l+_,l=f.targetRotation}f.callback=e,w(f)?f.complete=!0:o+=f.duration,c.push(f)}this.animations_.push(c),this.setHint(u.a.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[u.a.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[u.a.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(u.a.ANIMATING,-this.hints_[u.a.ANIMATING]);for(var t=0,e=this.animations_.length;t<e;++t){var i=this.animations_[t];i[0].callback&&R(i[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,i=this.animations_.length-1;i>=0;--i){for(var n=this.animations_[i],r=!0,o=0,a=n.length;o<a;++o){var h=n[o];if(!h.complete){var l=t-h.start,c=h.duration>0?l/h.duration:1;c>=1?(h.complete=!0,c=1):r=!1;var _=h.easing(c);if(h.sourceCenter){var g=h.sourceCenter[0],y=h.sourceCenter[1],v=g+_*(h.targetCenter[0]-g),m=y+_*(h.targetCenter[1]-y);this.set(p,[v,m])}if(h.sourceResolution&&h.targetResolution){var b=1===_?h.targetResolution:h.sourceResolution+_*(h.targetResolution-h.sourceResolution);h.anchor&&this.set(p,this.calculateCenterZoom(b,h.anchor)),this.set(d,b)}if(void 0!==h.sourceRotation&&void 0!==h.targetRotation){var E=1===_?Object(s.d)(h.targetRotation+Math.PI,2*Math.PI)-Math.PI:h.sourceRotation+_*(h.targetRotation-h.sourceRotation);h.anchor&&this.set(p,this.calculateCenterRotate(E,h.anchor)),this.set(f,E)}if(e=!0,!h.complete)break}}if(r){this.animations_[i]=null,this.setHint(u.a.ANIMATING,-1);var O=n[0].callback;O&&R(O,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},e.prototype.calculateCenterRotate=function(t,e){var i,n=this.getCenter();return void 0!==n&&(i=[n[0]-e[0],n[1]-e[1]],Object(g.f)(i,t-this.getRotation()),Object(g.a)(i,e)),i},e.prototype.calculateCenterZoom=function(t,e){var i,n=this.getCenter(),r=this.getResolution();void 0!==n&&void 0!==r&&(i=[e[0]-t*(e[0]-n[0])/r,e[1]-t*(e[1]-n[1])/r]);return i},e.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+Object(r.c)(this)+'"]',i=document.querySelector(e);if(i){var n=getComputedStyle(i);t[0]=parseInt(n.width,10),t[1]=parseInt(n.height,10)}return t},e.prototype.constrainCenter=function(t){return this.constraints_.center(t)},e.prototype.constrainResolution=function(t,e,i){var n=e||0,r=i||0;return this.constraints_.resolution(t,n,r)},e.prototype.constrainRotation=function(t,e){var i=e||0;return this.constraints_.rotation(t,i)},e.prototype.getCenter=function(){return this.get(p)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),i=this.getCenter();Object(_.a)(i,1);var n=this.getResolution();Object(_.a)(void 0!==n,2);var r=this.getRotation();return Object(_.a)(void 0!==r,3),Object(v.z)(i,n,r,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(d)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){var i=e||this.getSizeFromViewport_(),n=Object(v.E)(t)/i[0],r=Object(v.A)(t)/i[1];return Math.max(n,r)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,i=this.maxResolution_,n=this.minResolution_,r=Math.log(i/n)/Math.log(e);return function(t){return i/Math.pow(e,t*r)}},e.prototype.getRotation=function(){return this.get(f)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,i=this.maxResolution_,n=this.minResolution_,r=Math.log(i/n)/Math.log(e);return function(t){return Math.log(i/t)/Math.log(e)/r}},e.prototype.getState=function(t){var e=this.getCenter(),i=this.getProjection(),n=this.getResolution(),r=n/t,o=this.getRotation();return{center:[Math.round(e[0]/r)*r,Math.round(e[1]/r)*r],projection:void 0!==i?i:null,resolution:n,rotation:o,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,i,n=this.minZoom_||0;if(this.resolutions_){var r=Object(l.h)(this.resolutions_,t,1);n=r,e=this.resolutions_[r],i=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(e/t)/Math.log(i)},e.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},e.prototype.fit=function(t,e){var i,n=e||{},r=n.size;r||(r=this.getSizeFromViewport_()),Object(_.a)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)?(Object(_.a)(!Object(v.H)(t),25),i=Object(b.d)(t)):t.getType()===m.a.CIRCLE?(t=t.getExtent(),(i=Object(b.d)(t)).rotate(this.getRotation(),Object(v.x)(t))):i=t;var s,a=void 0!==n.padding?n.padding:[0,0,0,0],h=void 0===n.constrainResolution||n.constrainResolution,l=void 0!==n.nearest&&n.nearest;s=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.constrainResolution(this.maxResolution_,n.maxZoom-this.minZoom_,0):0;for(var c=i.getFlatCoordinates(),u=this.getRotation(),p=Math.cos(-u),d=Math.sin(-u),f=1/0,g=1/0,y=-1/0,E=-1/0,O=i.getStride(),x=0,C=c.length;x<C;x+=O){var T=c[x]*p-c[x+1]*d,S=c[x]*d+c[x+1]*p;f=Math.min(f,T),g=Math.min(g,S),y=Math.max(y,T),E=Math.max(E,S)}var I=this.getResolutionForExtent([f,g,y,E],[r[0]-a[1]-a[3],r[1]-a[0]-a[2]]);if(I=isNaN(I)?s:Math.max(I,s),h){var j=this.constrainResolution(I,0,0);!l&&j<I&&(j=this.constrainResolution(j,-1,0)),I=j}d=-d;var w=(f+y)/2,L=(g+E)/2,F=[(w+=(a[1]-a[3])/2*I)*p-(L+=(a[0]-a[2])/2*I)*d,L*p+w*d],M=n.callback?n.callback:o.c;void 0!==n.duration?this.animate({resolution:I,center:F,duration:n.duration,easing:n.easing},M):(this.setResolution(I),this.setCenter(F),R(M,!0))},e.prototype.centerOn=function(t,e,i){var n=this.getRotation(),r=Math.cos(-n),o=Math.sin(-n),s=t[0]*r-t[1]*o,a=t[1]*r+t[0]*o,h=this.getResolution(),l=(s+=(e[0]/2-i[0])*h)*r-(a+=(i[1]-e[1]/2)*h)*(o=-o),c=a*r+s*o;this.setCenter([l,c])},e.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},e.prototype.rotate=function(t,e){if(void 0!==e){var i=this.calculateCenterRotate(t,e);this.setCenter(i)}this.setRotation(t)},e.prototype.setCenter=function(t){this.set(p,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.set(d,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setRotation=function(t){this.set(f,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e}(h.a);function R(t,e){setTimeout(function(){t(e)},0)}function S(t){return void 0!==t.extent?(e=t.extent,function(t){return t?[Object(s.a)(t[0],e[0],e[2]),Object(s.a)(t[1],e[1],e[3])]:void 0}):a;var e}function I(t){var e,i,r,o=void 0!==t.minZoom?t.minZoom:C,a=void 0!==t.maxZoom?t.maxZoom:28,h=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var c=t.resolutions;i=c[o],r=void 0!==c[a]?c[a]:c[c.length-1],e=function(t){return function(e,i,n){if(void 0!==e){var r=Object(l.h)(t,e,n);r=Object(s.a)(r+i,0,t.length-1);var o=Math.floor(r);if(r!=o&&o<t.length-1){var a=t[o]/t[o+1];return t[o]/Math.pow(a,r-o)}return t[o]}}}(c)}else{var u=Object(O.b)(t.projection,"EPSG:3857"),p=u.getExtent(),d=(p?Math.max(Object(v.E)(p),Object(v.A)(p)):360*O.a[x.b.DEGREES]/u.getMetersPerUnit())/n.b/Math.pow(2,C),f=d/Math.pow(2,28-C);void 0!==(i=t.maxResolution)?o=0:i=d/Math.pow(h,o),void 0===(r=t.minResolution)&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?i/Math.pow(h,a):d/Math.pow(h,a):f),a=o+Math.floor(Math.log(i/r)/Math.log(h)),r=i/Math.pow(h,a-o),e=function(t,e,i){return function(n,r,o){if(void 0!==n){var s=-o/2+.5,a=Math.floor(Math.log(e/n)/Math.log(t)+s),h=Math.max(a+r,0);return void 0!==i&&(h=Math.min(h,i)),e/Math.pow(t,h)}}}(h,i,a-o)}return{constraint:e,maxResolution:i,minResolution:r,minZoom:o,zoomFactor:h}}function j(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?Object(c.b)():!1===e?c.d:"number"==typeof e?Object(c.a)(e):c.d}return c.c}function w(t){return!(t.sourceCenter&&t.targetCenter&&!Object(g.e)(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}e.default=T},,,,,,function(t,e,i){"use strict";i.r(e);var n=i(3),r=i(25),o=i(21),s=i(88),a=i(28),h=i(26),l=i(87),c=i(4),u=i(40),p={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},d=i(76),f=i(70),_=["","unavailable","touch","pen","mouse"];function g(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)}function y(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)}function v(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)}function m(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)}function b(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)}function E(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)}function O(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)}function x(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)}var C=function(t){function e(e){var i={MSPointerDown:g,MSPointerMove:y,MSPointerUp:v,MSPointerOut:m,MSPointerOver:b,MSPointerCancel:E,MSGotPointerCapture:x,MSLostPointerCapture:O};t.call(this,e,i),this.pointerMap=e.pointerMap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&((e=this.dispatcher.cloneEvent(t,t)).pointerType=_[t.pointerType]),e},e.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},e}(f.a);function T(t){this.dispatcher.fireNativeEvent(t)}function R(t){this.dispatcher.fireNativeEvent(t)}function S(t){this.dispatcher.fireNativeEvent(t)}function I(t){this.dispatcher.fireNativeEvent(t)}function j(t){this.dispatcher.fireNativeEvent(t)}function w(t){this.dispatcher.fireNativeEvent(t)}function L(t){this.dispatcher.fireNativeEvent(t)}function F(t){this.dispatcher.fireNativeEvent(t)}var M=function(t){function e(e){var i={pointerdown:T,pointermove:R,pointerup:S,pointerout:I,pointerover:j,pointercancel:w,gotpointercapture:F,lostpointercapture:L};t.call(this,e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(f.a),P=i(11),A=!1,D=function(t){function e(e,i,n){t.call(this,e),this.originalEvent=i;var r=n||{};this.buttons=function(t){var e;if(t.buttons||A)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e}(r),this.pressure=function(t,e){var i=0;i=t.pressure?t.pressure:e?.5:0;return i}(r,this.buttons),this.bubbles="bubbles"in r&&r.bubbles,this.cancelable="cancelable"in r&&r.cancelable,this.view="view"in r?r.view:null,this.detail="detail"in r?r.detail:null,this.screenX="screenX"in r?r.screenX:0,this.screenY="screenY"in r?r.screenY:0,this.clientX="clientX"in r?r.clientX:0,this.clientY="clientY"in r?r.clientY:0,this.ctrlKey="ctrlKey"in r&&r.ctrlKey,this.altKey="altKey"in r&&r.altKey,this.shiftKey="shiftKey"in r&&r.shiftKey,this.metaKey="metaKey"in r&&r.metaKey,this.button="button"in r?r.button:0,this.relatedTarget="relatedTarget"in r?r.relatedTarget:null,this.pointerId="pointerId"in r?r.pointerId:0,this.width="width"in r?r.width:0,this.height="height"in r?r.height:0,this.tiltX="tiltX"in r?r.tiltX:0,this.tiltY="tiltY"in r?r.tiltY:0,this.pointerType="pointerType"in r?r.pointerType:"",this.hwTimestamp="hwTimestamp"in r?r.hwTimestamp:0,this.isPrimary="isPrimary"in r&&r.isPrimary,i.preventDefault&&(this.preventDefault=function(){i.preventDefault()})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(P.a);!function(){try{var t=new MouseEvent("click",{buttons:1});A=1===t.buttons}catch(t){}}();var N=D,k=i(7);function G(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)}function Y(t){this.processTouches_(t,this.moveOverOut_)}function X(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)}function K(t){this.processTouches_(t,this.cancelOut_)}var B=function(t){function e(e,i){var n={touchstart:G,touchmove:Y,touchend:X,touchcancel:K};t.call(this,e,n),this.pointerMap=e.pointerMap,this.mouseSource=i,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_,this.dedupTimeout_=2500}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},e.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&d.a.toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},e.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},e.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),200)},e.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},e.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},e.prototype.touchToPointer_=function(t,e){var i=this.dispatcher.cloneEvent(t,e);return i.pointerId=e.identifier+2,i.bubbles=!0,i.cancelable=!0,i.detail=this.clickCount_,i.button=0,i.buttons=1,i.width=e.radiusX||0,i.height=e.radiusY||0,i.pressure=e.force||.5,i.isPrimary=this.isPrimaryTouch_(e),i.pointerType="touch",i.clientX=e.clientX,i.clientY=e.clientY,i.screenX=e.screenX,i.screenY=e.screenY,i},e.prototype.processTouches_=function(t,e){var i=Array.prototype.slice.call(t.changedTouches),n=i.length;function r(){t.preventDefault()}for(var o=0;o<n;++o){var s=this.touchToPointer_(t,i[o]);s.preventDefault=r,e.call(this,t,s)}},e.prototype.findTouch_=function(t,e){for(var i=t.length,n=0;n<i;n++){if(t[n].identifier===e)return!0}return!1},e.prototype.vacuumTouches_=function(t){var e=t.touches,i=Object.keys(this.pointerMap),n=i.length;if(n>=e.length){for(var r=[],o=0;o<n;++o){var s=Number(i[o]),a=this.pointerMap[s];s==d.a||this.findTouch_(e,s-2)||r.push(a.out)}for(var h=0;h<r.length;++h)this.cancelOut_(t,r[h])}},e.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},e.prototype.moveOverOut_=function(t,e){var i=e,n=this.pointerMap[i.pointerId];if(n){var r=n.out,o=n.outTarget;this.dispatcher.move(i,t),r&&o!==i.target&&(r.relatedTarget=i.target,i.relatedTarget=o,r.target=o,i.target?(this.dispatcher.leaveOut(r,t),this.dispatcher.enterOver(i,t)):(i.target=o,i.relatedTarget=null,this.cancelOut_(t,i))),n.out=i,n.outTarget=i.target}},e.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},e.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches,i=t.changedTouches[0];if(this.isPrimaryTouch_(i)){var n=[i.clientX,i.clientY];e.push(n),setTimeout(function(){Object(k.j)(e,n)},this.dedupTimeout_)}},e}(f.a),V=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]],U=function(t){function e(e){t.call(this),this.element_=e,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.registerSources=function(){if(a.g)this.registerSource("native",new M(this));else if(a.f)this.registerSource("ms",new C(this));else{var t=new d.c(this);this.registerSource("mouse",t),a.i&&this.registerSource("touch",new B(this,t))}this.register_()},e.prototype.registerSource=function(t,e){var i=e,n=i.getEvents();n&&(n.forEach(function(t){var e=i.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(i))}.bind(this)),this.eventSourceList_.push(i))},e.prototype.register_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var i=this.eventSourceList_[e];this.addEvents_(i.getEvents())}},e.prototype.unregister_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var i=this.eventSourceList_[e];this.removeEvents_(i.getEvents())}},e.prototype.eventHandler_=function(t){var e=t.type,i=this.eventMap_[e];i&&i(t)},e.prototype.addEvents_=function(t){t.forEach(function(t){Object(c.a)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.removeEvents_=function(t){t.forEach(function(t){Object(c.c)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.cloneEvent=function(t,e){for(var i={},n=0,r=V.length;n<r;n++){var o=V[n][0];i[o]=t[o]||e[o]||V[n][1]}return i},e.prototype.down=function(t,e){this.fireEvent(p.POINTERDOWN,t,e)},e.prototype.move=function(t,e){this.fireEvent(p.POINTERMOVE,t,e)},e.prototype.up=function(t,e){this.fireEvent(p.POINTERUP,t,e)},e.prototype.enter=function(t,e){t.bubbles=!1,this.fireEvent(p.POINTERENTER,t,e)},e.prototype.leave=function(t,e){t.bubbles=!1,this.fireEvent(p.POINTERLEAVE,t,e)},e.prototype.over=function(t,e){t.bubbles=!0,this.fireEvent(p.POINTEROVER,t,e)},e.prototype.out=function(t,e){t.bubbles=!0,this.fireEvent(p.POINTEROUT,t,e)},e.prototype.cancel=function(t,e){this.fireEvent(p.POINTERCANCEL,t,e)},e.prototype.leaveOut=function(t,e){this.out(t,e),this.contains_(t.target,t.relatedTarget)||this.leave(t,e)},e.prototype.enterOver=function(t,e){this.over(t,e),this.contains_(t.target,t.relatedTarget)||this.enter(t,e)},e.prototype.contains_=function(t,e){return!(!t||!e)&&t.contains(e)},e.prototype.makeEvent=function(t,e,i){return new N(t,i,e)},e.prototype.fireEvent=function(t,e,i){var n=this.makeEvent(t,e,i);this.dispatchEvent(n)},e.prototype.fireNativeEvent=function(t){var e=this.makeEvent(t.type,t,t);this.dispatchEvent(e)},e.prototype.wrapMouseEvent=function(t,e){return this.makeEvent(t,Object(d.d)(e,this),e)},e.prototype.disposeInternal=function(){this.unregister_(),t.prototype.disposeInternal.call(this)},e}(u.a),W=function(t){function e(e,i){t.call(this),this.map_=e,this.clickTimeoutId_,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=i?i*a.b:a.b,this.down_=null;var n=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new U(n),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=Object(c.a)(this.pointerEventHandler_,p.POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=Object(c.a)(this.pointerEventHandler_,p.POINTERMOVE,this.relayEvent_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.emulateClick_=function(t){var e=new l.a(h.a.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new l.a(h.a.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new l.a(h.a.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==h.a.POINTERUP||e.type==h.a.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==h.a.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new l.a(h.a.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(c.e),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new l.a(h.a.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new U(document),this.dragListenerKeys_.push(Object(c.a)(this.documentPointerEventHandler_,h.a.POINTERMOVE,this.handlePointerMove_,this),Object(c.a)(this.documentPointerEventHandler_,h.a.POINTERUP,this.handlePointerUp_,this),Object(c.a)(this.pointerEventHandler_,h.a.POINTERCANCEL,this.handlePointerUp_,this)))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new l.a(h.a.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}t.preventDefault()},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new l.a(t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object(c.e)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(Object(c.e)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(c.e),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),t.prototype.disposeInternal.call(this)},e}(u.a),H=i(89),z="postrender",Z="movestart",q="moveend",J={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Q=i(41),$=i(12),tt=i(50),et=i(104),it=i(111),nt=i(14),rt=i(9),ot=i(13),st=i(2),at=i(1),ht=i(8),lt=i(94),ct=i(49),ut=i(93),pt=i(17);var dt=function(t){function e(e){t.call(this);var i=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i,n,o,s={},a=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new lt.a({layers:t.layers});s[J.LAYERGROUP]=a,s[J.TARGET]=t.target,s[J.VIEW]=void 0!==t.view?t.view:new it.default,void 0!==t.controls&&(Array.isArray(t.controls)?i=new r.a(t.controls.slice()):(Object(rt.a)("function"==typeof t.controls.getArray,47),i=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?n=new r.a(t.interactions.slice()):(Object(rt.a)("function"==typeof t.interactions.getArray,48),n=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?o=new r.a(t.overlays.slice()):(Object(rt.a)("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new r.a;return{controls:i,interactions:n,keyboardEventTarget:e,overlays:o,values:s}}(e);this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:a.b,this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=Object(pt.c)(),this.pixelToCoordinateTransform_=Object(pt.c)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+(a.i?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var n=[st.a.CLICK,st.a.DBLCLICK,st.a.MOUSEDOWN,st.a.TOUCHSTART,st.a.MSPOINTERDOWN,h.a.POINTERDOWN,st.a.MOUSEWHEEL,st.a.WHEEL],s=0,l=n.length;s<l;++s)Object(c.a)(this.overlayContainerStopEvent_,n[s],P.b);for(var u in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new W(this,e.moveTolerance),h.a)Object(c.a)(this.mapBrowserEventHandler_,h.a[u],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=i.keyboardEventTarget,this.keyHandlerKeys_=null,Object(c.a)(this.viewport_,st.a.CONTEXTMENU,this.handleBrowserEvent,this),Object(c.a)(this.viewport_,st.a.WHEEL,this.handleBrowserEvent,this),Object(c.a)(this.viewport_,st.a.MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=i.controls||new r.a,this.interactions=i.interactions||new r.a,this.overlays_=i.overlays,this.overlayIdIndex_={},this.renderer_=this.createRenderer(),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new et.a(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},Object(c.a)(this,Object($.b)(J.LAYERGROUP),this.handleLayerGroupChanged_,this),Object(c.a)(this,Object($.b)(J.VIEW),this.handleViewChanged_,this),Object(c.a)(this,Object($.b)(J.SIZE),this.handleSizeChanged_,this),Object(c.a)(this,Object($.b)(J.TARGET),this.handleTargetChanged_,this),this.setProperties(i.values),this.controls.forEach(function(t){t.setMap(this)}.bind(this)),Object(c.a)(this.controls,o.a.ADD,function(t){t.element.setMap(this)},this),Object(c.a)(this.controls,o.a.REMOVE,function(t){t.element.setMap(null)},this),this.interactions.forEach(function(t){t.setMap(this)}.bind(this)),Object(c.a)(this.interactions,o.a.ADD,function(t){t.element.setMap(this)},this),Object(c.a)(this.interactions,o.a.REMOVE,function(t){t.element.setMap(null)},this),this.overlays_.forEach(this.addOverlayInternal_.bind(this)),Object(c.a)(this.overlays_,o.a.ADD,function(t){this.addOverlayInternal_(t.element)},this),Object(c.a)(this.overlays_,o.a.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)},this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),Object(c.c)(this.viewport_,st.a.CONTEXTMENU,this.handleBrowserEvent,this),Object(c.c)(this.viewport_,st.a.WHEEL,this.handleBrowserEvent,this),Object(c.c)(this.viewport_,st.a.MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(removeEventListener(st.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,i){if(this.frameState_){var n=this.getCoordinateFromPixel(t),r=void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==i.layerFilter?i.layerFilter:ht.b;return this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,r,e,null,o,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var i=null;return this.forEachFeatureAtPixel(t,function(t){i||(i=[]),i.push(t)},e),i},e.prototype.forEachLayerAtPixel=function(t,e,i){if(this.frameState_){var n=i||{},r=void 0!==n.hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,o=n.layerFilter||ht.b;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,r,e,null,o,null)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var i=this.getCoordinateFromPixel(t),n=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:ht.b,r=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,r,n,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),i="changedTouches"in t?t.changedTouches[0]:t;return[i.clientX-e.left,i.clientY-e.top]},e.prototype.getTarget=function(){return this.get(J.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?Object(pt.a)(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(J.LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?Object(pt.a)(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(J.SIZE)},e.prototype.getView=function(){return this.get(J.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,i,n){var r=this.frameState_;if(!(r&&e in r.wantedTiles))return ut.a;if(!r.wantedTiles[e][t.getKey()])return ut.a;var o=i[0]-r.focus[0],s=i[1]-r.focus[1];return 65536*Math.log(n)+Math.sqrt(o*o+s*s)/n},e.prototype.handleBrowserEvent=function(t,e){var i=e||t.type,n=new s.a(i,this,t);this.handleMapBrowserEvent(n)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){this.focus_=t.coordinate,t.frameState=this.frameState_;var e=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var i=e.length-1;i>=0;i--){var n=e[i];if(n.getActive())if(!n.handleEvent(t))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var i=this.maxTilesLoading_,n=i;if(t){var r=t.viewHints;r[nt.a.ANIMATING]&&(i=this.loadTilesWhileAnimating_?8:0,n=2),r[nt.a.INTERACTING]&&(i=this.loadTilesWhileInteracting_?8:0,n=2)}e.getTilesLoading()<i&&(e.reprioritize(),e.loadMoreTiles(i,n))}!t||!this.hasListener(Q.a.RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||function t(e){for(var i=0,n=e.length;i<n;++i){var r=e[i];if("function"==typeof r.getLayers)return t(r.getLayers().getArray());var o=r.getSource();if(o&&o.loading)return!0}return!1}(this.getLayers().getArray())||this.renderer_.dispatchRenderEvent(Q.a.RENDERCOMPLETE,t);for(var o=this.postRenderFunctions_,s=0,a=o.length;s<a;++s)o[s](this,t);o.length=0},e.prototype.handleSizeChanged_=function(){this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,i=this.keyHandlerKeys_.length;e<i;++e)Object(c.e)(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_);var n=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[Object(c.a)(n,st.a.KEYDOWN,this.handleBrowserEvent,this),Object(c.a)(n,st.a.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),addEventListener(st.a.RESIZE,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),Object(ot.c)(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(st.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object(c.e)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(c.e)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",Object(n.c)(t)),this.viewPropertyListenerKey_=Object(c.a)(t,tt.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(c.a)(t,st.a.CHANGE,this.handleViewPropertyChanged_,this)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(c.e),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[Object(c.a)(t,tt.a.PROPERTYCHANGE,this.render,this),Object(c.a)(t,st.a.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e,i=this.getSize(),r=this.getView(),o=Object(at.j)(),s=this.frameState_,a=null;if(void 0!==i&&Object(ct.b)(i)&&r&&r.isDef()){for(var h=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=this.getLayerGroup().getLayerStatesArray(),c={},u=0,p=l.length;u<p;++u)c[Object(n.c)(l[u].layer)]=l[u];e=r.getState(this.pixelRatio_),a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:o,focus:this.focus_?this.focus_:e.center,index:this.frameIndex_++,layerStates:c,layerStatesArray:l,pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:e,viewHints:h,wantedTiles:{}}}if(a&&(a.extent=Object(at.z)(e.center,e.resolution,e.rotation,a.size,o)),this.frameState_=a,this.renderer_.renderFrame(a),a){if(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),s)(!this.previousExtent_||!Object(at.H)(this.previousExtent_)&&!Object(at.p)(a.extent,this.previousExtent_))&&(this.dispatchEvent(new H.a(Z,this,s)),this.previousExtent_=Object(at.l)(this.previousExtent_));this.previousExtent_&&!a.viewHints[nt.a.ANIMATING]&&!a.viewHints[nt.a.INTERACTING]&&!Object(at.p)(a.extent,this.previousExtent_)&&(this.dispatchEvent(new H.a(q,this,a)),Object(at.d)(a.extent,this.previousExtent_))}this.dispatchEvent(new H.a(z,this,a)),setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(J.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(J.SIZE,t)},e.prototype.setTarget=function(t){this.set(J.TARGET,t)},e.prototype.setView=function(t){this.set(J.VIEW,t)},e.prototype.skipFeature=function(t){this.skippedFeatureUids_[Object(n.c)(t)]=!0,this.render()},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},e.prototype.unskipFeature=function(t){delete this.skippedFeatureUids_[Object(n.c)(t)],this.render()},e}($.a);var ft=function(t){function e(e){t.call(this),this.element=e.element?e.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=e.render?e.render:ht.c,e.target&&this.setTarget(e.target)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Object(ot.c)(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Object(ot.c)(this.element);for(var e=0,i=this.listenerKeys.length;e<i;++e)Object(c.e)(this.listenerKeys[e]);(this.listenerKeys.length=0,this.map_=t,this.map_)&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==ht.c&&this.listenerKeys.push(Object(c.a)(t,z,this.render,this)),t.render())},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}($.a),_t=i(55),gt=i(32);function yt(t){this.updateElement_(t.frameState)}var vt=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),render:i.render||yt,target:i.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===i.collapsed||i.collapsed,this.overrideCollapsible_=void 0!==i.collapsible,this.collapsible_=void 0===i.collapsible||i.collapsible,this.collapsible_||(this.collapsed_=!1);var n=void 0!==i.className?i.className:"ol-attribution",r=void 0!==i.tipLabel?i.tipLabel:"Attributions",o=void 0!==i.collapseLabel?i.collapseLabel:"";"string"==typeof o?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o):this.collapseLabel_=o;var s=void 0!==i.label?i.label:"i";"string"==typeof s?(this.label_=document.createElement("span"),this.label_.textContent=s):this.label_=s;var a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,h=document.createElement("button");h.setAttribute("type","button"),h.title=r,h.appendChild(a),Object(c.a)(h,st.a.CLICK,this.handleClick_,this);var l=n+" "+_t.d+" "+_t.b+(this.collapsed_&&this.collapsible_?" "+_t.a:"")+(this.collapsible_?"":" ol-uncollapsible"),u=this.element;u.className=l,u.appendChild(this.ulElement_),u.appendChild(h),this.renderedAttributions_=[],this.renderedVisible_=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.collectSourceAttributions_=function(t){for(var e={},i=[],n=t.layerStatesArray,r=t.viewState.resolution,o=0,s=n.length;o<s;++o){var a=n[o];if(Object(gt.b)(a,r)){var h=a.layer.getSource();if(h){var l=h.getAttributions();if(l){var c=l(t);if(c)if(this.overrideCollapsible_||!1!==h.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(c))for(var u=0,p=c.length;u<p;++u)c[u]in e||(i.push(c[u]),e[c[u]]=!0);else c in e||(i.push(c),e[c]=!0)}}}}return i},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),i=e.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Object(k.b)(e,this.renderedAttributions_)){Object(ot.b)(this.ulElement_);for(var n=0,r=e.length;n<r;++n){var o=document.createElement("li");o.innerHTML=e[n],this.ulElement_.appendChild(o)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(_t.a),this.collapsed_?Object(ot.d)(this.collapseLabel_,this.label_):Object(ot.d)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(ft),mt=i(24);function bt(t){var e=t.frameState;if(e){var i=e.viewState.rotation;if(i!=this.rotation_){var n="rotate("+i+"rad)";if(this.autoHide_){var r=this.element.classList.contains(_t.c);r||0!==i?r&&0!==i&&this.element.classList.remove(_t.c):this.element.classList.add(_t.c)}this.label_.style.msTransform=n,this.label_.style.webkitTransform=n,this.label_.style.transform=n}this.rotation_=i}}var Et=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),render:i.render||bt,target:i.target});var n=void 0!==i.className?i.className:"ol-rotate",r=void 0!==i.label?i.label:"";this.label_=null,"string"==typeof r?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=r):(this.label_=r,this.label_.classList.add("ol-compass"));var o=i.tipLabel?i.tipLabel:"Reset rotation",s=document.createElement("button");s.className=n+"-reset",s.setAttribute("type","button"),s.title=o,s.appendChild(this.label_),Object(c.a)(s,st.a.CLICK,this.handleClick_,this);var a=n+" "+_t.d+" "+_t.b,h=this.element;h.className=a,h.appendChild(s),this.callResetNorth_=i.resetNorth?i.resetNorth:void 0,this.duration_=void 0!==i.duration?i.duration:250,this.autoHide_=void 0===i.autoHide||i.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(_t.c)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:mt.b}):t.setRotation(0))},e}(ft),Ot=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),target:i.target});var n=void 0!==i.className?i.className:"ol-zoom",r=void 0!==i.delta?i.delta:1,o=void 0!==i.zoomInLabel?i.zoomInLabel:"+",s=void 0!==i.zoomOutLabel?i.zoomOutLabel:"",a=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",h=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",l=document.createElement("button");l.className=n+"-in",l.setAttribute("type","button"),l.title=a,l.appendChild("string"==typeof o?document.createTextNode(o):o),Object(c.a)(l,st.a.CLICK,this.handleClick_.bind(this,r));var u=document.createElement("button");u.className=n+"-out",u.setAttribute("type","button"),u.title=h,u.appendChild("string"==typeof s?document.createTextNode(s):s),Object(c.a)(u,st.a.CLICK,this.handleClick_.bind(this,-r));var p=n+" "+_t.d+" "+_t.b,d=this.element;d.className=p,d.appendChild(l),d.appendChild(u),this.duration_=void 0!==i.duration?i.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var i=e.getResolution();if(i){var n=e.constrainResolution(i,t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:n,duration:this.duration_,easing:mt.b})):e.setResolution(n)}}},e}(ft);var xt=i(110),Ct=i(5),Tt=i(101),Rt=i(96),St=i(91),It=i(29),jt=i(62),wt=i.n(jt),Lt=i(38),Ft=i(68),Mt=function(){};Mt.prototype.getReplay=function(t,e){return Object(n.b)()},Mt.prototype.isEmpty=function(){return Object(n.b)()},Mt.prototype.addDeclutter=function(t){return Object(n.b)()};var Pt=Mt,At={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"},Dt=i(69),Nt=i(107),kt=i(10),Gt=i(22),Yt=i(84),Xt=i(6);function Kt(t,e,i,n,r,o,s,a){for(var h,l,c,u=[],p=t[e]>t[i-n],d=r.length,f=t[e],_=t[e+1],g=t[e+=n],y=t[e+1],v=0,m=Math.sqrt(Math.pow(g-f,2)+Math.pow(y-_,2)),b="",E=0,O=0;O<d;++O){l=p?d-O-1:O;var x=r.charAt(l),C=o(b=p?x+b:b+x)-E;E+=C;for(var T=s+C/2;e<i-n&&v+m<T;)f=g,_=y,g=t[e+=n],y=t[e+1],v+=m,m=Math.sqrt(Math.pow(g-f,2)+Math.pow(y-_,2));var R=T-v,S=Math.atan2(y-_,g-f);if(p&&(S+=S>0?-Math.PI:Math.PI),void 0!==c){var I=S-c;if(I+=I>Math.PI?-2*Math.PI:I<-Math.PI?2*Math.PI:0,Math.abs(I)>a)return null}var j=R/m,w=Object(Xt.c)(f,g,j),L=Object(Xt.c)(_,y,j);c==S?(p&&(h[0]=w,h[1]=L,h[2]=C/2),h[4]=b):(E=C,h=[w,L,C/2,S,b=x],p?u.unshift(h):u.push(h),c=S),s+=C}return u}var Bt=i(90),Vt={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Ut=[Vt.FILL],Wt=[Vt.STROKE],Ht=[Vt.BEGIN_PATH],zt=[Vt.CLOSE_PATH],Zt=Vt,qt=[At.POLYGON,At.CIRCLE,At.LINE_STRING,At.IMAGE,At.TEXT,At.DEFAULT],Jt={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Qt=Object(at.j)(),$t=Object(pt.c)(),te=function(t){function e(e,i,n,r,o,s){t.call(this),this.declutterTree=s,this.tolerance=e,this.maxExtent=i,this.overlaps=o,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=n,this.alignFill_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=Object(pt.c)(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replayTextBackground_=function(t,e,i,n,r,o,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},e.prototype.replayImage_=function(t,e,i,n,r,o,s,a,h,l,c,u,p,d,f,_,g,y){var v=g||y;e-=r*=p,i-=o*=p;var m,b,E,O,x=f+l>n.width?n.width-l:f,C=a+c>n.height?n.height-c:a,T=_[3]+x*p+_[1],R=_[0]+C*p+_[2],S=e-_[3],I=i-_[0];(v||0!==u)&&(m=[S,I],b=[S+T,I],E=[S+T,I+R],O=[S,I+R]);var j=null;if(0!==u){var w=e+r,L=i+o;j=Object(pt.b)($t,w,L,1,1,u,-w,-L),Object(at.l)(Qt),Object(at.r)(Qt,Object(pt.a)($t,m)),Object(at.r)(Qt,Object(pt.a)($t,b)),Object(at.r)(Qt,Object(pt.a)($t,E)),Object(at.r)(Qt,Object(pt.a)($t,O))}else Object(at.k)(S,I,S+T,I+R,Qt);var F=t.canvas,M=y?y[2]*p/2:0,P=Qt[0]-M<=F.width&&Qt[2]+M>=0&&Qt[1]-M<=F.height&&Qt[3]+M>=0;if(d&&(e=Math.round(e),i=Math.round(i)),s){if(!P&&1==s[4])return;Object(at.q)(s,Qt);var A=P?[t,j?j.slice(0):null,h,n,l,c,x,C,e,i,p]:null;A&&v&&A.push(g,y,m,b,E,O),s.push(A)}else P&&(v&&this.replayTextBackground_(t,m,b,E,O,g,y),Object(Lt.n)(t,j,h,n,l,c,x,C,e,i,p))},e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},e.prototype.appendFlatCoordinates=function(t,e,i,n,r,o){var s=this.coordinates.length,a=this.getBufferedMaxExtent();o&&(e+=n);var h,l,c,u=[t[e],t[e+1]],p=[NaN,NaN],d=!0;for(h=e+n;h<i;h+=n)p[0]=t[h],p[1]=t[h+1],(c=Object(at.i)(a,p))!==l?(d&&(this.coordinates[s++]=u[0],this.coordinates[s++]=u[1]),this.coordinates[s++]=p[0],this.coordinates[s++]=p[1],d=!1):c===Nt.a.INTERSECTING?(this.coordinates[s++]=p[0],this.coordinates[s++]=p[1],d=!1):d=!0,u[0]=p[0],u[1]=p[1],l=c;return(r&&d||h===e+n)&&(this.coordinates[s++]=u[0],this.coordinates[s++]=u[1]),s},e.prototype.drawCustomCoordinates_=function(t,e,i,n,r){for(var o=0,s=i.length;o<s;++o){var a=i[o],h=this.appendFlatCoordinates(t,e,a,n,!1,!1);r.push(h),e=a}return e},e.prototype.drawCustom=function(t,e,i){this.beginGeometry(t,e);var n,r,o,s,a,h=t.getType(),l=t.getStride(),c=this.coordinates.length;if(h==kt.a.MULTI_POLYGON){n=(t=t).getOrientedFlatCoordinates(),s=[];var u=t.getEndss();a=0;for(var p=0,d=u.length;p<d;++p){var f=[];a=this.drawCustomCoordinates_(n,a,u[p],l,f),s.push(f)}this.instructions.push([Zt.CUSTOM,c,s,t,i,Gt.c])}else h==kt.a.POLYGON||h==kt.a.MULTI_LINE_STRING?(o=[],n=h==kt.a.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),a=this.drawCustomCoordinates_(n,0,t.getEnds(),l,o),this.instructions.push([Zt.CUSTOM,c,o,t,i,Gt.b])):h==kt.a.LINE_STRING||h==kt.a.MULTI_POINT?(n=t.getFlatCoordinates(),r=this.appendFlatCoordinates(n,0,n.length,l,!1,!1),this.instructions.push([Zt.CUSTOM,c,r,t,i,Gt.a])):h==kt.a.POINT&&(n=t.getFlatCoordinates(),this.coordinates.push(n[0],n[1]),r=this.coordinates.length,this.instructions.push([Zt.CUSTOM,c,r,t,i]));this.endGeometry(t,e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[Zt.BEGIN_GEOMETRY,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Zt.BEGIN_GEOMETRY,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){},e.prototype.fill_=function(t){if(this.alignFill_){var e=Object(pt.a)(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.setTransform.apply(t,Lt.r)},e.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],a.a&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},e.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var i=t[4];if(1==i||i==t.length-5){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(n)){this.declutterTree.insert(n);for(var r=5,o=t.length;r<o;++r){var s=t[r];s&&(s.length>11&&this.replayTextBackground_(s[0],s[13],s[14],s[15],s[16],s[11],s[12]),Lt.n.apply(void 0,s))}}t.length=5,Object(at.l)(t)}}},e.prototype.replay_=function(t,e,i,r,o,s,a){var h;this.pixelCoordinates_&&Object(k.b)(e,this.renderedTransform_)?h=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),h=Object(Ft.c)(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),Object(pt.g)(this.renderedTransform_,e));for(var l,c,u,p,d,f,_,g,y,v,m,b,E=!Object(Ct.d)(i),O=0,x=r.length,C=0,T=0,R=0,S=null,I=null,j=this.coordinateCache_,w=this.viewRotation_,L={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:w},F=this.instructions!=r||this.overlaps?0:200;O<x;){var M=r[O];switch(M[0]){case Zt.BEGIN_GEOMETRY:v=M[1],E&&i[Object(n.c)(v)]||!v.getGeometry()?O=M[2]:void 0===a||Object(at.F)(a,v.getGeometry().getExtent())?++O:O=M[2]+1;break;case Zt.BEGIN_PATH:T>F&&(this.fill_(t),T=0),R>F&&(t.stroke(),R=0),T||R||(t.beginPath(),p=d=NaN),++O;break;case Zt.CIRCLE:var P=h[C=M[1]],A=h[C+1],D=h[C+2]-P,N=h[C+3]-A,G=Math.sqrt(D*D+N*N);t.moveTo(P+G,A),t.arc(P,A,G,0,2*Math.PI,!0),++O;break;case Zt.CLOSE_PATH:t.closePath(),++O;break;case Zt.CUSTOM:C=M[1],l=M[2];var Y=M[3],X=M[4],K=6==M.length?M[5]:void 0;L.geometry=Y,L.feature=v,O in j||(j[O]=[]);var B=j[O];K?K(h,C,l,2,B):(B[0]=h[C],B[1]=h[C+1],B.length=2),X(B,L),++O;break;case Zt.DRAW_IMAGE:C=M[1],l=M[2],y=M[3],c=M[4],u=M[5],g=s?null:M[6];var V=M[7],U=M[8],W=M[9],H=M[10],z=M[11],Z=M[12],q=M[13],J=M[14],Q=void 0,$=void 0,tt=void 0;for(M.length>16?(Q=M[15],$=M[16],tt=M[17]):(Q=Lt.j,$=tt=!1),z&&(Z+=w);C<l;C+=2)this.replayImage_(t,h[C],h[C+1],y,c,u,g,V,U,W,H,Z,q,o,J,Q,$?S:null,tt?I:null);this.renderDeclutter_(g,v),++O;break;case Zt.DRAW_CHARS:var et=M[1],it=M[2],nt=M[3];g=s?null:M[4];var rt=M[5],ot=M[6],st=M[7],ht=M[8],lt=M[9],ct=M[10],ut=M[11],dt=M[12],ft=M[13],_t=M[14],gt=Object(Yt.a)(h,et,it,2),yt=ht(dt);if(rt||yt<=gt){var vt=this.textStates[ft].textAlign,mt=Kt(h,et,it,2,dt,ht,(gt-yt)*Jt[vt],st);if(mt){var bt=void 0,Et=void 0,Ot=void 0,xt=void 0,Tt=void 0;if(ct)for(bt=0,Et=mt.length;bt<Et;++bt)Ot=(Tt=mt[bt])[4],xt=this.getImage(Ot,ft,"",ct),c=Tt[2]+ut,u=nt*xt.height+2*(.5-nt)*ut-lt,this.replayImage_(t,Tt[0],Tt[1],xt,c,u,g,xt.height,1,0,0,Tt[3],_t,!1,xt.width,Lt.j,null,null);if(ot)for(bt=0,Et=mt.length;bt<Et;++bt)Ot=(Tt=mt[bt])[4],xt=this.getImage(Ot,ft,ot,""),c=Tt[2],u=nt*xt.height-lt,this.replayImage_(t,Tt[0],Tt[1],xt,c,u,g,xt.height,1,0,0,Tt[3],_t,!1,xt.width,Lt.j,null,null)}}this.renderDeclutter_(g,v),++O;break;case Zt.END_GEOMETRY:if(void 0!==s){var Rt=s(v=M[1]);if(Rt)return Rt}++O;break;case Zt.FILL:F?T++:this.fill_(t),++O;break;case Zt.MOVE_TO_LINE_TO:for(C=M[1],l=M[2],m=h[C],_=(b=h[C+1])+.5|0,(f=m+.5|0)===p&&_===d||(t.moveTo(m,b),p=f,d=_),C+=2;C<l;C+=2)f=(m=h[C])+.5|0,_=(b=h[C+1])+.5|0,C!=l-2&&f===p&&_===d||(t.lineTo(m,b),p=f,d=_);++O;break;case Zt.SET_FILL_STYLE:S=M,this.alignFill_=M[2],T&&(this.fill_(t),T=0,R&&(t.stroke(),R=0)),t.fillStyle=M[1],++O;break;case Zt.SET_STROKE_STYLE:I=M,R&&(t.stroke(),R=0),this.setStrokeStyle_(t,M),++O;break;case Zt.STROKE:F?R++:t.stroke(),++O;break;default:++O}}T&&this.fill_(t),R&&t.stroke()},e.prototype.replay=function(t,e,i,n,r){this.viewRotation_=i,this.replay_(t,e,n,this.instructions,r,void 0,void 0)},e.prototype.replayHitDetection=function(t,e,i,n,r,o){return this.viewRotation_=i,this.replay_(t,e,n,this.hitDetectionInstructions,!0,r,o)},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var i,n,r=e.length,o=-1;for(t=0;t<r;++t)(n=(i=e[t])[0])==Zt.END_GEOMETRY?o=t:n==Zt.BEGIN_GEOMETRY&&(i[2]=t,Object(k.k)(this.hitDetectionInstructions,o,t),o=-1)},e.prototype.setFillStrokeStyle=function(t,e){var i=this.state;if(t){var n=t.getColor();i.fillStyle=Object(Dt.a)(n||Lt.b)}else i.fillStyle=void 0;if(e){var r=e.getColor();i.strokeStyle=Object(Dt.a)(r||Lt.k);var o=e.getLineCap();i.lineCap=void 0!==o?o:Lt.d;var s=e.getLineDash();i.lineDash=s?s.slice():Lt.e;var a=e.getLineDashOffset();i.lineDashOffset=a||Lt.f;var h=e.getLineJoin();i.lineJoin=void 0!==h?h:Lt.g;var l=e.getWidth();i.lineWidth=void 0!==l?l:Lt.h;var c=e.getMiterLimit();i.miterLimit=void 0!==c?c:Lt.i,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},e.prototype.createFill=function(t,e){var i=t.fillStyle,n=[Zt.SET_FILL_STYLE,i];return"string"!=typeof i&&n.push(!0),n},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[Zt.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e,i){var n=t.fillStyle;"string"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t,i)),t.currentFillStyle=n)},e.prototype.updateStrokeStyle=function(t,e){var i=t.strokeStyle,n=t.lineCap,r=t.lineDash,o=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,h=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=n||r!=t.currentLineDash&&!Object(k.b)(t.currentLineDash,r)||t.currentLineDashOffset!=o||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=h)&&(void 0!==i&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=n,t.currentLineDash=r,t.currentLineDashOffset=o,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=h)},e.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var i=[Zt.END_GEOMETRY,e];this.instructions.push(i),this.hitDetectionInstructions.push(i)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(at.d)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Object(at.c)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(Bt.a),ee=function(t){function e(e,i,n,r,o,s){t.call(this,e,i,n,r,o,s),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,i,n){return this.appendFlatCoordinates(t,e,i,n,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),n=t.getStride(),r=this.coordinates.length,o=this.drawCoordinates_(i,0,i.length,n);this.instructions.push([Zt.DRAW_IMAGE,r,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([Zt.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),n=t.getStride(),r=this.coordinates.length,o=this.drawCoordinates_(i,0,i.length,n);this.instructions.push([Zt.DRAW_IMAGE,r,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([Zt.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0},e.prototype.setImageStyle=function(t,e){var i=t.getAnchor(),n=t.getSize(),r=t.getHitDetectionImage(1),o=t.getImage(1),s=t.getOrigin();this.anchorX_=i[0],this.anchorY_=i[1],this.declutterGroup_=e,this.hitDetectionImage_=r,this.image_=o,this.height_=n[1],this.opacity_=t.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=n[0]},e}(te),ie=function(t){function e(e,i,n,r,o,s){t.call(this,e,i,n,r,o,s)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinates_=function(t,e,i,n){var r=this.coordinates.length,o=this.appendFlatCoordinates(t,e,i,n,!1,!1),s=[Zt.MOVE_TO_LINE_TO,r,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),i},e.prototype.drawLineString=function(t,e){var i=this.state,n=i.strokeStyle,r=i.lineWidth;if(void 0!==n&&void 0!==r){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Zt.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],Ht);var o=t.getFlatCoordinates(),s=t.getStride();this.drawFlatCoordinates_(o,0,o.length,s),this.hitDetectionInstructions.push(Wt),this.endGeometry(t,e)}},e.prototype.drawMultiLineString=function(t,e){var i=this.state,n=i.strokeStyle,r=i.lineWidth;if(void 0!==n&&void 0!==r){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Zt.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],Ht);for(var o=t.getEnds(),s=t.getFlatCoordinates(),a=t.getStride(),h=0,l=0,c=o.length;l<c;++l)h=this.drawFlatCoordinates_(s,h,o[l],a);this.hitDetectionInstructions.push(Wt),this.endGeometry(t,e)}},e.prototype.finish=function(){var t=this.state;null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(Wt),this.reverseHitDetectionInstructions(),this.state=null},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Wt),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(Ht)},e}(te),ne=i(44),re=i(27),oe=function(t){function e(e,i,n,r,o,s){t.call(this,e,i,n,r,o,s)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinatess_=function(t,e,i,n){var r=this.state,o=void 0!==r.fillStyle,s=null!=r.strokeStyle,a=i.length;this.instructions.push(Ht),this.hitDetectionInstructions.push(Ht);for(var h=0;h<a;++h){var l=i[h],c=this.coordinates.length,u=this.appendFlatCoordinates(t,e,l,n,!0,!s),p=[Zt.MOVE_TO_LINE_TO,c,u];this.instructions.push(p),this.hitDetectionInstructions.push(p),s&&(this.instructions.push(zt),this.hitDetectionInstructions.push(zt)),e=l}return o&&(this.instructions.push(Ut),this.hitDetectionInstructions.push(Ut)),s&&(this.instructions.push(Wt),this.hitDetectionInstructions.push(Wt)),e},e.prototype.drawCircle=function(t,e){var i=this.state,n=i.fillStyle,r=i.strokeStyle;if(void 0!==n||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Zt.SET_FILL_STYLE,Object(ne.b)(Lt.b)]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Zt.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var o=t.getFlatCoordinates(),s=t.getStride(),a=this.coordinates.length;this.appendFlatCoordinates(o,0,o.length,s,!1,!1);var h=[Zt.CIRCLE,a];this.instructions.push(Ht,h),this.hitDetectionInstructions.push(Ht,h),this.hitDetectionInstructions.push(Ut),void 0!==i.fillStyle&&this.instructions.push(Ut),void 0!==i.strokeStyle&&(this.instructions.push(Wt),this.hitDetectionInstructions.push(Wt)),this.endGeometry(t,e)}},e.prototype.drawPolygon=function(t,e){var i=this.state,n=i.fillStyle,r=i.strokeStyle;if(void 0!==n||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Zt.SET_FILL_STYLE,Object(ne.b)(Lt.b)]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Zt.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var o=t.getEnds(),s=t.getOrientedFlatCoordinates(),a=t.getStride();this.drawFlatCoordinatess_(s,0,o,a),this.endGeometry(t,e)}},e.prototype.drawMultiPolygon=function(t,e){var i=this.state,n=i.fillStyle,r=i.strokeStyle;if(void 0!==n||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Zt.SET_FILL_STYLE,Object(ne.b)(Lt.b)]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Zt.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var o=t.getEndss(),s=t.getOrientedFlatCoordinates(),a=t.getStride(),h=0,l=0,c=o.length;l<c;++l)h=this.drawFlatCoordinatess_(s,h,o[l],a);this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var e=this.coordinates,i=0,n=e.length;i<n;++i)e[i]=Object(re.e)(e[i],t)},e.prototype.setFillStrokeStyles_=function(t){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill,t),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},e}(te);function se(t,e,i,n,r){var o,s,a,h,l,c,u,p,d,f=i,_=i,g=0,y=0,v=i;for(o=i;o<n;o+=r){var m=e[o],b=e[o+1];void 0!==h&&(p=m-h,d=b-l,a=Math.sqrt(p*p+d*d),void 0!==c&&(y+=s,Math.acos((c*p+u*d)/(s*a))>t&&(y>g&&(g=y,f=v,_=o),y=0,v=o-r)),s=a,c=p,u=d),h=m,l=b}return(y+=a)>g?[v,o]:[f,_]}var ae=i(102);var he={Circle:oe,Default:te,Image:ee,LineString:ie,Polygon:oe,Text:function(t){function e(e,i,n,r,o,s){t.call(this,e,i,n,r,o,s),this.declutterGroup_,this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},Lt.o.prune()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawText=function(t,e){var i=this.textFillState_,n=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(i||n)){var o,s,a=this.coordinates.length,h=t.getType(),l=null,c=2,u=2;if(r.placement===ae.a.LINE){if(!Object(at.F)(this.getBufferedMaxExtent(),t.getExtent()))return;var p;if(l=t.getFlatCoordinates(),u=t.getStride(),h==kt.a.LINE_STRING)p=[l.length];else if(h==kt.a.MULTI_LINE_STRING)p=t.getEnds();else if(h==kt.a.POLYGON)p=t.getEnds().slice(0,1);else if(h==kt.a.MULTI_POLYGON){var d=t.getEndss();for(p=[],o=0,s=d.length;o<s;++o)p.push(d[o][0])}this.beginGeometry(t,e);for(var f,_=r.textAlign,g=0,y=0,v=p.length;y<v;++y){if(null==_){var m=se(r.maxAngle,l,g,p[y],u);g=m[0],f=m[1]}else f=p[y];for(o=g;o<f;o+=u)this.coordinates.push(l[o],l[o+1]);c=this.coordinates.length,g=p[y],this.drawChars_(a,c,this.declutterGroup_),a=c}this.endGeometry(t,e)}else{var b=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),E=b.width/this.pixelRatio;switch(h){case kt.a.POINT:case kt.a.MULTI_POINT:c=(l=t.getFlatCoordinates()).length;break;case kt.a.LINE_STRING:l=t.getFlatMidpoint();break;case kt.a.CIRCLE:l=t.getCenter();break;case kt.a.MULTI_LINE_STRING:c=(l=t.getFlatMidpoints()).length;break;case kt.a.POLYGON:if(l=t.getFlatInteriorPoint(),!r.overflow&&l[2]/this.resolution<E)return;u=3;break;case kt.a.MULTI_POLYGON:var O=t.getFlatInteriorPoints();for(l=[],o=0,s=O.length;o<s;o+=3)(r.overflow||O[o+2]/this.resolution>=E)&&l.push(O[o],O[o+1]);if(0==(c=l.length))return}c=this.appendFlatCoordinates(l,0,c,u,!1,!1),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill,t),this.hitDetectionInstructions.push(this.createFill(this.state,t))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e),this.drawTextImage_(b,a,c),this.endGeometry(t,e)}}},e.prototype.getImage=function(t,e,i,n){var r,o=n+e+t+i+this.pixelRatio;if(!Lt.o.containsKey(o)){var s=n?this.strokeStates[n]||this.textStrokeState_:null,h=i?this.fillStates[i]||this.textFillState_:null,l=this.textStates[e]||this.textState_,c=this.pixelRatio,u=l.scale*c,p=Jt[l.textAlign||Lt.l],d=n&&s.lineWidth?s.lineWidth:0,f=t.split("\n"),_=f.length,g=[],y=function(t,e,i){for(var n=e.length,r=0,o=0;o<n;++o){var s=Object(Lt.q)(t,e[o]);r=Math.max(r,s),i.push(s)}return r}(l.font,f,g),v=Object(Lt.p)(l.font),m=v*_,b=y+d,E=Object(ot.a)(Math.ceil(b*u),Math.ceil((m+d)*u));r=E.canvas,Lt.o.set(o,r),1!=u&&E.scale(u,u),E.font=l.font,n&&(E.strokeStyle=s.strokeStyle,E.lineWidth=d,E.lineCap=s.lineCap,E.lineJoin=s.lineJoin,E.miterLimit=s.miterLimit,a.a&&s.lineDash.length&&(E.setLineDash(s.lineDash),E.lineDashOffset=s.lineDashOffset)),i&&(E.fillStyle=h.fillStyle),E.textBaseline="middle",E.textAlign="center";var O,x=.5-p,C=p*r.width/u+x*d;if(n)for(O=0;O<_;++O)E.strokeText(f[O],C+x*g[O],.5*(d+v)+O*v);if(i)for(O=0;O<_;++O)E.fillText(f[O],C+x*g[O],.5*(d+v)+O*v)}return Lt.o.get(o)},e.prototype.drawTextImage_=function(t,e,i){var n=this.textState_,r=this.textStrokeState_,o=this.pixelRatio,s=Jt[n.textAlign||Lt.l],a=Jt[n.textBaseline],h=r&&r.lineWidth?r.lineWidth:0,l=s*t.width/o+2*(.5-s)*h,c=a*t.height/o+2*(.5-a)*h;this.instructions.push([Zt.DRAW_IMAGE,e,i,t,(l-this.textOffsetX_)*o,(c-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,t.width,n.padding==Lt.j?Lt.j:n.padding.map(function(t){return t*o}),!!n.backgroundFill,!!n.backgroundStroke]),this.hitDetectionInstructions.push([Zt.DRAW_IMAGE,e,i,t,(l-this.textOffsetX_)*o,(c-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/o,t.width,n.padding,!!n.backgroundFill,!!n.backgroundStroke])},e.prototype.drawChars_=function(t,e,i){var n=this.textStrokeState_,r=this.textState_,o=this.textFillState_,s=this.strokeKey_;n&&(s in this.strokeStates||(this.strokeStates[s]={strokeStyle:n.strokeStyle,lineCap:n.lineCap,lineDashOffset:n.lineDashOffset,lineWidth:n.lineWidth,lineJoin:n.lineJoin,miterLimit:n.miterLimit,lineDash:n.lineDash}));var a=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:r.font,textAlign:r.textAlign||Lt.l,scale:r.scale});var h=this.fillKey_;o&&(h in this.fillStates||(this.fillStates[h]={fillStyle:o.fillStyle}));var l=this.pixelRatio,c=Jt[r.textBaseline],u=this.textOffsetY_*l,p=this.text_,d=r.font,f=r.scale,_=n?n.lineWidth*f/2:0,g=this.widths_[d];g||(this.widths_[d]=g={}),this.instructions.push([Zt.DRAW_CHARS,t,e,c,i,r.overflow,h,r.maxAngle,function(t){var e=g[t];return e||(e=g[t]=Object(Lt.q)(d,t)),e*f*l},u,s,_*l,p,a,1]),this.hitDetectionInstructions.push([Zt.DRAW_CHARS,t,e,c,i,r.overflow,h,r.maxAngle,function(t){var e=g[t];return e||(e=g[t]=Object(Lt.q)(d,t)),e*f},u,s,_,p,a,1/l])},e.prototype.setTextStyle=function(t,e){var i,r,o;if(t){this.declutterGroup_=e;var s=t.getFill();s?((r=this.textFillState_)||(r=this.textFillState_={}),r.fillStyle=Object(Dt.a)(s.getColor()||Lt.b)):r=this.textFillState_=null;var a=t.getStroke();if(a){(o=this.textStrokeState_)||(o=this.textStrokeState_={});var h=a.getLineDash(),l=a.getLineDashOffset(),c=a.getWidth(),u=a.getMiterLimit();o.lineCap=a.getLineCap()||Lt.d,o.lineDash=h?h.slice():Lt.e,o.lineDashOffset=void 0===l?Lt.f:l,o.lineJoin=a.getLineJoin()||Lt.g,o.lineWidth=void 0===c?Lt.h:c,o.miterLimit=void 0===u?Lt.i:u,o.strokeStyle=Object(Dt.a)(a.getColor()||Lt.k)}else o=this.textStrokeState_=null;i=this.textState_;var p=t.getFont()||Lt.c;Object(Lt.a)(p);var d=t.getScale();i.overflow=t.getOverflow(),i.font=p,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.textBaseline=t.getTextBaseline()||Lt.m,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||Lt.j,i.scale=void 0===d?1:d;var f=t.getOffsetX(),_=t.getOffsetY(),g=t.getRotateWithView(),y=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===f?0:f,this.textOffsetY_=void 0===_?0:_,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0===y?0:y,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:Object(n.c)(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+Object(n.c)(r.fillStyle):""}else this.text_=""},e}(te)},le=function(t){function e(e,i,n,r,o,s,a){t.call(this),this.declutterTree_=s,this.declutterGroup_=null,this.tolerance_=e,this.maxExtent_=i,this.overlaps_=o,this.pixelRatio_=r,this.resolution_=n,this.renderBuffer_=a,this.replaysByZIndex_={},this.hitDetectionContext_=Object(ot.a)(1,1),this.hitDetectionTransform_=Object(pt.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addDeclutter=function(t){var e=null;return this.declutterTree_&&(t?(e=this.declutterGroup_)[4]++:(e=this.declutterGroup_=Object(at.j)()).push(1)),e},e.prototype.clip=function(t,e){var i=this.getClipCoords(e);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()},e.prototype.hasReplays=function(t){for(var e in this.replaysByZIndex_)for(var i=this.replaysByZIndex_[e],n=0,r=t.length;n<r;++n)if(t[n]in i)return!0;return!1},e.prototype.finish=function(){for(var t in this.replaysByZIndex_){var e=this.replaysByZIndex_[t];for(var i in e)e[i].finish()}},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r,o,s){var a,h=2*(n=Math.round(n))+1,l=Object(pt.b)(this.hitDetectionTransform_,n+.5,n+.5,1/e,-1/e,-i,-t[0],-t[1]),c=this.hitDetectionContext_;c.canvas.width!==h||c.canvas.height!==h?(c.canvas.width=h,c.canvas.height=h):c.clearRect(0,0,h,h),void 0!==this.renderBuffer_&&(a=Object(at.j)(),Object(at.r)(a,t),Object(at.c)(a,e*(this.renderBuffer_+n),a));var u,p,d=function(t){if(void 0!==ce[t])return ce[t];for(var e=2*t+1,i=new Array(e),n=0;n<e;n++)i[n]=new Array(e);var r=t,o=0,s=0;for(;r>=o;)ue(i,t+r,t+o),ue(i,t+o,t+r),ue(i,t-o,t+r),ue(i,t-r,t+o),ue(i,t-r,t-o),ue(i,t-o,t-r),ue(i,t+o,t-r),ue(i,t+r,t-o),2*((s+=1+2*++o)-r)+1>0&&(s+=1-2*(r-=1));return ce[t]=i,i}(n);function f(t){for(var e=c.getImageData(0,0,h,h).data,i=0;i<h;i++)for(var n=0;n<h;n++)if(d[i][n]&&e[4*(n*h+i)+3]>0){var r=void 0;return(!u||p!=At.IMAGE&&p!=At.TEXT||-1!==u.indexOf(t))&&(r=o(t)),r||void c.clearRect(0,0,h,h)}}this.declutterTree_&&(u=this.declutterTree_.all().map(function(t){return t.value}));var _,g,y,v,m,b=Object.keys(this.replaysByZIndex_).map(Number);for(b.sort(k.i),_=b.length-1;_>=0;--_){var E=b[_].toString();for(y=this.replaysByZIndex_[E],g=qt.length-1;g>=0;--g)if(void 0!==(v=y[p=qt[g]]))if(!s||p!=At.IMAGE&&p!=At.TEXT){if(m=v.replayHitDetection(c,l,i,r,f,a))return m}else{var O=s[E];O?O.push(v,l.slice(0)):s[E]=[v,l.slice(0)]}}},e.prototype.getClipCoords=function(t){var e=this.maxExtent_,i=e[0],n=e[1],r=e[2],o=e[3],s=[i,n,i,o,r,o,r,n];return Object(Ft.c)(s,0,8,2,t,s),s},e.prototype.getReplay=function(t,e){var i=void 0!==t?t.toString():"0",n=this.replaysByZIndex_[i];void 0===n&&(n={},this.replaysByZIndex_[i]=n);var r=n[e];void 0===r&&(r=new(0,he[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),n[e]=r);return r},e.prototype.getReplays=function(){return this.replaysByZIndex_},e.prototype.isEmpty=function(){return Object(Ct.d)(this.replaysByZIndex_)},e.prototype.replay=function(t,e,i,n,r,o,s){var a=Object.keys(this.replaysByZIndex_).map(Number);a.sort(k.i),t.save(),this.clip(t,e);var h,l,c,u,p,d,f=o||qt;for(h=0,l=a.length;h<l;++h){var _=a[h].toString();for(p=this.replaysByZIndex_[_],c=0,u=f.length;c<u;++c){var g=f[c];if(d=p[g],void 0!==d)if(!s||g!=At.IMAGE&&g!=At.TEXT)d.replay(t,e,i,n,r);else{var y=s[_];y?y.push(d,e.slice(0)):s[_]=[d,e.slice(0)]}}}t.restore()},e}(Pt),ce={0:[[!0]]};function ue(t,e,i){var n,r=Math.floor(t.length/2);if(e>=r)for(n=r;n<e;n++)t[n][i]=!0;else if(e<r)for(n=e+1;n<r;n++)t[n][i]=!0}var pe=le,de=i(97),fe=i(30),_e=.5,ge={Point:function(t,e,i,n){var r=i.getImage();if(r){if(r.getImageState()!=fe.a.LOADED)return;var o=t.getReplay(i.getZIndex(),At.IMAGE);o.setImageStyle(r,t.addDeclutter(!1)),o.drawPoint(e,n)}var s=i.getText();if(s){var a=t.getReplay(i.getZIndex(),At.TEXT);a.setTextStyle(s,t.addDeclutter(!!r)),a.drawText(e,n)}},LineString:function(t,e,i,n){var r=i.getStroke();if(r){var o=t.getReplay(i.getZIndex(),At.LINE_STRING);o.setFillStrokeStyle(null,r),o.drawLineString(e,n)}var s=i.getText();if(s){var a=t.getReplay(i.getZIndex(),At.TEXT);a.setTextStyle(s,t.addDeclutter(!1)),a.drawText(e,n)}},Polygon:function(t,e,i,n){var r=i.getFill(),o=i.getStroke();if(r||o){var s=t.getReplay(i.getZIndex(),At.POLYGON);s.setFillStrokeStyle(r,o),s.drawPolygon(e,n)}var a=i.getText();if(a){var h=t.getReplay(i.getZIndex(),At.TEXT);h.setTextStyle(a,t.addDeclutter(!1)),h.drawText(e,n)}},MultiPoint:function(t,e,i,n){var r=i.getImage();if(r){if(r.getImageState()!=fe.a.LOADED)return;var o=t.getReplay(i.getZIndex(),At.IMAGE);o.setImageStyle(r,t.addDeclutter(!1)),o.drawMultiPoint(e,n)}var s=i.getText();if(s){var a=t.getReplay(i.getZIndex(),At.TEXT);a.setTextStyle(s,t.addDeclutter(!!r)),a.drawText(e,n)}},MultiLineString:function(t,e,i,n){var r=i.getStroke();if(r){var o=t.getReplay(i.getZIndex(),At.LINE_STRING);o.setFillStrokeStyle(null,r),o.drawMultiLineString(e,n)}var s=i.getText();if(s){var a=t.getReplay(i.getZIndex(),At.TEXT);a.setTextStyle(s,t.addDeclutter(!1)),a.drawText(e,n)}},MultiPolygon:function(t,e,i,n){var r=i.getFill(),o=i.getStroke();if(o||r){var s=t.getReplay(i.getZIndex(),At.POLYGON);s.setFillStrokeStyle(r,o),s.drawMultiPolygon(e,n)}var a=i.getText();if(a){var h=t.getReplay(i.getZIndex(),At.TEXT);h.setTextStyle(a,t.addDeclutter(!1)),h.drawText(e,n)}},GeometryCollection:function(t,e,i,n){var r,o,s=e.getGeometriesArray();for(r=0,o=s.length;r<o;++r){var a=ge[s[r].getType()];a(t,s[r],i,n)}},Circle:function(t,e,i,n){var r=i.getFill(),o=i.getStroke();if(r||o){var s=t.getReplay(i.getZIndex(),At.CIRCLE);s.setFillStrokeStyle(r,o),s.drawCircle(e,n)}var a=i.getText();if(a){var h=t.getReplay(i.getZIndex(),At.TEXT);h.setTextStyle(a,t.addDeclutter(!1)),h.drawText(e,n)}}};function ye(t,e){return parseInt(Object(n.c)(t),10)-parseInt(Object(n.c)(e),10)}function ve(t,e){var i=me(t,e);return i*i}function me(t,e){return _e*t/e}function be(t,e,i,n,r,o){var s=!1,a=i.getImage();if(a){var h=a.getImageState();h==fe.a.LOADED||h==fe.a.ERROR?a.unlistenImageChange(r,o):(h==fe.a.IDLE&&a.load(),h=a.getImageState(),a.listenImageChange(r,o),s=!0)}return function(t,e,i,n){var r=i.getGeometryFunction()(e);if(!r)return;var o=r.getSimplifiedGeometry(n);if(i.getRenderer())!function t(e,i,n,r){if(i.getType()==kt.a.GEOMETRY_COLLECTION){for(var o=i.getGeometries(),s=0,a=o.length;s<a;++s)t(e,o[s],n,r);return}var h=e.getReplay(n.getZIndex(),At.DEFAULT);h.drawCustom(i,r,n.getRenderer())}(t,o,i,e);else{var s=ge[o.getType()];s(t,o,i,e)}}(t,e,i,n),s}var Ee=function(t){function e(e){t.call(this,e),this.declutterTree_=e.getDeclutter()?wt()(9,void 0):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Object(at.j)(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=Object(ot.a)(),Object(c.a)(Lt.o,st.a.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Object(c.c)(Lt.o,st.a.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.compose=function(t,e,i){var n=e.extent,r=e.pixelRatio,o=i.managed?e.skippedFeatureUids:{},s=e.viewState,a=s.projection,h=s.rotation,l=a.getExtent(),c=this.getLayer().getSource(),u=this.getTransform(e,0),p=i.extent,d=void 0!==p;d&&this.clip(t,e,p);var f=this.replayGroup_;if(f&&!f.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var _,g=this.getLayer(),y=0,v=0,m=1!==i.opacity,b=g.hasListener(Q.a.RENDER);if(m||b){var E=t.canvas.width,O=t.canvas.height;if(h){var x=Math.round(Math.sqrt(E*E+O*O));y=(x-E)/2,v=(x-O)/2,E=O=x}this.context.canvas.width=E,this.context.canvas.height=O,_=this.context}else _=t;var C=_.globalAlpha;m||(_.globalAlpha=i.opacity),_!=t&&_.translate(y,v);var T=e.viewHints,R=!(T[nt.a.ANIMATING]||T[nt.a.INTERACTING]),S=e.size[0]*r,I=e.size[1]*r;if(Object(Lt.s)(_,-h,S/2,I/2),f.replay(_,u,h,o,R),c.getWrapX()&&a.canWrapX()&&!Object(at.g)(l,n)){for(var j,w=n[0],L=Object(at.E)(l),F=0;w<l[0];)j=L*--F,u=this.getTransform(e,j),f.replay(_,u,h,o,R),w+=L;for(F=0,w=n[2];w>l[2];)j=L*++F,u=this.getTransform(e,j),f.replay(_,u,h,o,R),w-=L}if(Object(Lt.s)(_,h,S/2,I/2),b&&this.dispatchRenderEvent(_,e,u),_!=t){if(m){var M=t.globalAlpha;t.globalAlpha=i.opacity,t.drawImage(_.canvas,-y,-v),t.globalAlpha=M}else t.drawImage(_.canvas,-y,-v);_.translate(-y,-v)}m||(_.globalAlpha=C)}d&&t.restore()},e.prototype.composeFrame=function(t,e,i){var n=this.getTransform(t,0);this.preCompose(i,t,n),this.compose(i,t,e),this.postCompose(i,t,e,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,o){if(this.replayGroup_){var s=e.viewState.resolution,a=e.viewState.rotation,h=this.getLayer(),l={};return this.replayGroup_.forEachFeatureAtCoordinate(t,s,a,i,{},function(t){var e=Object(n.c)(t);if(!(e in l))return l[e]=!0,r.call(o,t,h)},null)}},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t,e){var i=this.getLayer(),n=i.getSource(),r=t.viewHints[nt.a.ANIMATING],o=t.viewHints[nt.a.INTERACTING],s=i.getUpdateWhileAnimating(),a=i.getUpdateWhileInteracting();if(!this.dirty_&&!s&&r||!a&&o)return!0;var h=t.extent,l=t.viewState,c=l.projection,u=l.resolution,p=t.pixelRatio,d=i.getRevision(),f=i.getRenderBuffer(),_=i.getRenderOrder();void 0===_&&(_=ye);var g=Object(at.c)(h,f*u),y=l.projection.getExtent();if(n.getWrapX()&&l.projection.canWrapX()&&!Object(at.g)(y,t.extent)){var v=Object(at.E)(y),m=Math.max(Object(at.E)(g)/2,v);g[0]=y[0]-m,g[2]=y[2]+m}if(!this.dirty_&&this.renderedResolution_==u&&this.renderedRevision_==d&&this.renderedRenderOrder_==_&&Object(at.g)(this.renderedExtent_,g))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var b=new pe(me(u,p),g,u,p,n.getOverlaps(),this.declutterTree_,i.getRenderBuffer());n.loadFeatures(g,u,c);var E=function(t){var e,n=t.getStyleFunction()||i.getStyleFunction();if(n&&(e=n(t,u)),e){var r=this.renderFeature(t,u,p,e,b);this.dirty_=this.dirty_||r}}.bind(this);if(_){var O=[];n.forEachFeatureInExtent(g,function(t){O.push(t)}),O.sort(_);for(var x=0,C=O.length;x<C;++x)E(O[x])}else n.forEachFeatureInExtent(g,E);return b.finish(),this.renderedResolution_=u,this.renderedRevision_=d,this.renderedRenderOrder_=_,this.renderedExtent_=g,this.replayGroup_=b,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,i,n,r){if(!n)return!1;var o=!1;if(Array.isArray(n))for(var s=0,a=n.length;s<a;++s)o=be(r,t,n[s],ve(e,i),this.handleStyleImageChange_,this)||o;else o=be(r,t,n,ve(e,i),this.handleStyleImageChange_,this);return o},e}(de.a);Ee.handles=function(t){return t.getType()===It.a.VECTOR},Ee.create=function(t,e){return new Ee(e)};var Oe=Ee,xe=i(19),Ce=i(103),Te=i(15),Re=i(45),Se={image:[At.POLYGON,At.CIRCLE,At.LINE_STRING,At.IMAGE,At.TEXT],hybrid:[At.POLYGON,At.LINE_STRING]},Ie={image:[At.DEFAULT],hybrid:[At.IMAGE,At.TEXT,At.DEFAULT],vector:qt},je=function(t){function e(e){t.call(this,e,!0),this.declutterTree_=e.getDeclutter()?wt()(9,void 0):null,this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=Object(pt.c)();var i=e.getRenderMode();this.zDirection=i===Ce.a.VECTOR?1:0,i!==Ce.a.VECTOR&&(this.context=Object(ot.a)()),Object(c.a)(Lt.o,st.a.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Object(c.c)(Lt.o,st.a.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.getTile=function(e,i,n,r,o){var s=t.prototype.getTile.call(this,e,i,n,r,o);return s.getState()===xe.a.LOADED&&(this.createReplayGroup_(s,r,o),this.context&&this.renderTileImage_(s,r,o)),s},e.prototype.getTileImage=function(t){var e=this.getLayer();return t.getImage(e)},e.prototype.prepareFrame=function(e,i){var n=this.getLayer().getRevision();return this.renderedLayerRevision_!=n&&(this.renderedTiles.length=0),this.renderedLayerRevision_=n,t.prototype.prepareFrame.call(this,e,i)},e.prototype.createReplayGroup_=function(t,e,i){var n=this,r=this.getLayer(),o=r.getRevision(),s=r.getRenderOrder()||null,a=t.getReplayState(r);if(a.dirty||a.renderedRevision!=o||a.renderedRenderOrder!=s){for(var h=r.getSource(),l=h.getTileGrid(),c=h.getTileGridForProjection(i).getResolution(t.tileCoord[0]),u=t.extent,p=function(o,p){var d=t.getTile(t.tileKeys[o]);if(d.getState()==xe.a.LOADED){var f=d.tileCoord,_=l.getTileCoordExtent(f),g=Object(at.B)(u,_),y=Object(at.p)(_,g)?null:Object(at.c)(g,r.getRenderBuffer()*c,n.tmpExtent),v=d.getProjection(),m=!1;Object(Te.c)(i,v)||(m=!0,d.setProjection(i)),a.dirty=!1;var b=new pe(0,g,c,e,h.getOverlaps(),n.declutterTree_,r.getRenderBuffer()),E=ve(c,e),O=function(t){var e,i=t.getStyleFunction()||r.getStyleFunction();if(i&&(e=i(t,c)),e){var n=this.renderFeature(t,E,e,b);this.dirty_=this.dirty_||n,a.dirty=a.dirty||n}},x=d.getFeatures();s&&s!==a.renderedRenderOrder&&x.sort(s);for(var C=0,T=x.length;C<T;++C){var R=x[C];m&&(v.getUnits()==Re.b.TILE_PIXELS&&(v.setWorldExtent(_),v.setExtent(d.getExtent())),R.getGeometry().transform(v,i)),y&&!Object(at.F)(y,R.getGeometry().getExtent())||O.call(n,R)}b.finish(),d.setReplayGroup(r,t.tileCoord.toString(),b)}},d=0,f=t.tileKeys.length;d<f;++d)p(d);a.renderedRevision=o,a.renderedRenderOrder=s}},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,o){var s=e.viewState.resolution,a=e.viewState.rotation;i=null==i?0:i;var h,l,c,u,p=this.getLayer(),d={},f=this.renderedTiles;for(c=0,u=f.length;c<u;++c){var _=f[c];if(h=Object(at.c)(_.extent,i*s,h),Object(at.f)(h,t))for(var g=0,y=_.tileKeys.length;g<y;++g){var v=_.getTile(_.tileKeys[g]);if(v.getState()==xe.a.LOADED){var m=v.getReplayGroup(p,_.tileCoord.toString());l=l||m.forEachFeatureAtCoordinate(t,s,a,i,{},function(t){var e=Object(n.c)(t);if(!(e in d))return d[e]=!0,r.call(o,t,p)},null)}}}return l},e.prototype.getReplayTransform_=function(t,e){var i=this.getLayer().getSource().getTileGrid(),n=t.tileCoord,r=i.getResolution(n[0]),o=e.viewState,s=e.pixelRatio,a=o.resolution/s,h=i.getTileCoordExtent(n,this.tmpExtent),l=o.center,c=Object(at.C)(h),u=e.size,p=Math.round(s*u[0]/2),d=Math.round(s*u[1]/2);return Object(pt.b)(this.tmpTransform_,p,d,r/a,r/a,o.rotation,(c[0]-l[0])/r,(l[1]-c[1])/r)},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.postCompose=function(e,i,n){var r=this.getLayer(),o=r.getRenderMode();if(o!=Ce.a.IMAGE){var s,a,h=r.getDeclutter()?{}:null,l=r.getSource(),c=Ie[o],u=i.pixelRatio,p=i.viewState.rotation,d=i.size;p&&(s=Math.round(u*d[0]/2),a=Math.round(u*d[1]/2),Object(Lt.s)(e,-p,s,a)),h&&this.declutterTree_.clear();for(var f=i.viewHints,_=!(f[nt.a.ANIMATING]||f[nt.a.INTERACTING]),g=this.renderedTiles,y=l.getTileGridForProjection(i.viewState.projection),v=[],m=[],b=g.length-1;b>=0;--b){var E=g[b];if(E.getState()!=xe.a.ABORT)for(var O=E.tileCoord,x=y.getTileCoordExtent(O,this.tmpExtent)[0]-E.extent[0],C=void 0,T=0,R=E.tileKeys.length;T<R;++T){var S=E.getTile(E.tileKeys[T]);if(S.getState()==xe.a.LOADED){var I=S.getReplayGroup(r,O.toString());if(I&&I.hasReplays(c)){C||(C=this.getTransform(i,x));var j=S.tileCoord[0],w=I.getClipCoords(C);e.save(),e.globalAlpha=n.opacity;for(var L=0,F=v.length;L<F;++L){var M=v[L];j<m[L]&&(e.beginPath(),e.moveTo(w[0],w[1]),e.lineTo(w[2],w[3]),e.lineTo(w[4],w[5]),e.lineTo(w[6],w[7]),e.moveTo(M[6],M[7]),e.lineTo(M[4],M[5]),e.lineTo(M[2],M[3]),e.lineTo(M[0],M[1]),e.clip())}I.replay(e,C,p,{},_,c,h),e.restore(),v.push(w),m.push(j)}}}}h&&function(t,e,i,n){for(var r=Object.keys(t).map(Number).sort(k.i),o={},s=0,a=r.length;s<a;++s)for(var h=t[r[s].toString()],l=0,c=h.length;l<c;){var u=h[l++],p=h[l++];u.replay(e,p,i,o,n)}}(h,e,p,_),p&&Object(Lt.s)(e,p,s,a)}t.prototype.postCompose.call(this,e,i,n)},e.prototype.renderFeature=function(t,e,i,n){if(!i)return!1;var r=!1;if(Array.isArray(i))for(var o=0,s=i.length;o<s;++o)r=be(n,t,i[o],e,this.handleStyleImageChange_,this)||r;else r=be(n,t,i,e,this.handleStyleImageChange_,this);return r},e.prototype.renderTileImage_=function(t,e,i){var n=this.getLayer(),r=t.getReplayState(n),o=n.getRevision(),s=Se[n.getRenderMode()];if(s&&r.renderedTileRevision!==o){r.renderedTileRevision=o;var a=t.wrappedTileCoord,h=a[0],l=n.getSource(),c=l.getTileGridForProjection(i),u=c.getResolution(h),p=t.getContext(n),d=l.getTilePixelSize(h,e,i);p.canvas.width=d[0],p.canvas.height=d[1];for(var f=c.getTileCoordExtent(a,this.tmpExtent),_=0,g=t.tileKeys.length;_<g;++_){var y=t.getTile(t.tileKeys[_]);if(y.getState()==xe.a.LOADED){var v=e/u,m=Object(pt.e)(this.tmpTransform_);Object(pt.f)(m,v,-v),Object(pt.h)(m,-f[0],-f[3]),y.getReplayGroup(n,t.tileCoord.toString()).replay(p,m,0,{},!0,s)}}}},e}(St.a);je.handles=function(t){return t.getType()===It.a.VECTOR_TILE},je.create=function(t,e){return new je(e)};var we=je,Le=function(t){function e(e){(e=Object(Ct.a)({},e)).controls||(e.controls=function(t){var e=t||{},i=new r.a;return(void 0===e.zoom||e.zoom)&&i.push(new Ot(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&i.push(new Et(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&i.push(new vt(e.attributionOptions)),i}()),e.interactions||(e.interactions=Object(xt.defaults)()),t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){var t=new Rt.a(this);return t.registerLayerRenderers([Tt.a,St.a,Oe,we]),t},e}(dt);e.default=Le}]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvYXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL1ZpZXdIaW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvU3RhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2Nvb3JkaW5hdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL1RpbGVTdGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvQ29sbGVjdGlvbkV2ZW50VHlwZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2luZmxhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2Vhc2luZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvQ29sbGVjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvTWFwQnJvd3NlckV2ZW50VHlwZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L3NpbXBsaWZ5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9MYXllclR5cGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vTGluZWFyUmluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9Qb2x5Z29uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9sYXllci9MYXllci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2Nsb3Nlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2xheWVyL1ZlY3Rvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2NvbnRhaW5zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9sb2FkaW5nc3RyYXRlZ3kuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9WZWN0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9FdmVudFR5cGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9pbnRlcnNlY3RzZXh0ZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvYXJlYS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvcm90YXRpb25jb25zdHJhaW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9GZWF0dXJlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9zaXplLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9zdHJpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3N0cnVjdHMvUkJ1c2guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9WZWN0b3JFdmVudFR5cGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9Tb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2xheWVyL1Byb3BlcnR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9sYXllci9CYXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvaW50ZXJpb3Jwb2ludC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L3NlZ21lbnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9sYXllci9WZWN0b3JSZW5kZXJUeXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYnVzaC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvcmVwcm9qL2NvbW1vbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvdGlsZWdyaWQvY29tbW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvcmV2ZXJzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L29yaWVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvcG9pbnRlci9FdmVudFNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvSWNvbkltYWdlQ2FjaGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2Zvcm1hdC9Gb3JtYXRUeXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9mZWF0dXJlbG9hZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWlja3NlbGVjdC9xdWlja3NlbGVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvcG9pbnRlci9Nb3VzZVNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9JbW1lZGlhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9FdmVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvSW1hZ2VDYW52YXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL0ltYWdlQmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyZXIvY2FudmFzL0ludGVybWVkaWF0ZUNhbnZhcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2xlbmd0aC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvTWFwQnJvd3NlclBvaW50ZXJFdmVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvTWFwQnJvd3NlckV2ZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9NYXBFdmVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL1ZlY3RvckNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlcmVyL2NhbnZhcy9UaWxlTGF5ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL1RpbGVSYW5nZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvc3RydWN0cy9Qcmlvcml0eVF1ZXVlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9sYXllci9Hcm91cC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyZXIvTWFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXJlci9jYW52YXMvTWFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXJlci9MYXllci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyZXIvY2FudmFzL0xheWVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXJlci9jYW52YXMvSW1hZ2VMYXllci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvVGV4dFBsYWNlbWVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvbGF5ZXIvVmVjdG9yVGlsZVJlbmRlclR5cGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL1RpbGVRdWV1ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvS2luZXRpYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9pbnRlcmFjdGlvbi9Eb3VibGVDbGlja1pvb20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2V2ZW50cy9jb25kaXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL1BvaW50ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL0RyYWdQYW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL0RyYWdSb3RhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9Cb3guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL0RyYWdCb3guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL0RyYWdab29tLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9ldmVudHMvS2V5Q29kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vS2V5Ym9hcmRQYW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL0tleWJvYXJkWm9vbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vTW91c2VXaGVlbFpvb20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL1BpbmNoUm90YXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9pbnRlcmFjdGlvbi9QaW5jaFpvb20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL0RyYWdBbmREcm9wLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9pbnRlcmFjdGlvbi9EcmFnUm90YXRlQW5kWm9vbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9DaXJjbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9pbnRlcnBvbGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9MaW5lU3RyaW5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL011bHRpTGluZVN0cmluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9NdWx0aVBvaW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL011bHRpUG9seWdvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2NlbnRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vRHJhdy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vRXh0ZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9pbnRlcmFjdGlvbi9Nb2RpZnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL1NlbGVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vU25hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vVHJhbnNsYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9pbnRlcmFjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvY2VudGVyY29uc3RyYWludC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvVmlld1Byb3BlcnR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9WaWV3LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9yZXNvbHV0aW9uY29uc3RyYWludC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvcG9pbnRlci9FdmVudFR5cGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3BvaW50ZXIvTXNTb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3BvaW50ZXIvTmF0aXZlU291cmNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9wb2ludGVyL1BvaW50ZXJFdmVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvcG9pbnRlci9Ub3VjaFNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvcG9pbnRlci9Qb2ludGVyRXZlbnRIYW5kbGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9NYXBCcm93c2VyRXZlbnRIYW5kbGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9NYXBFdmVudFR5cGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL01hcFByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9QbHVnZ2FibGVNYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2NvbnRyb2wvQ29udHJvbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvY29udHJvbC9BdHRyaWJ1dGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvY29udHJvbC9Sb3RhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2NvbnRyb2wvWm9vbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL1JlcGxheUdyb3VwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvUmVwbGF5VHlwZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L3RleHRwYXRoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvY2FudmFzL0luc3RydWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvcmVwbGF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvY2FudmFzL1JlcGxheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9JbWFnZVJlcGxheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9MaW5lU3RyaW5nUmVwbGF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvY2FudmFzL1BvbHlnb25SZXBsYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9zdHJhaWdodGNodW5rLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvY2FudmFzL1RleHRSZXBsYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMvUmVwbGF5R3JvdXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlcmVyL3ZlY3Rvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyZXIvY2FudmFzL1ZlY3RvckxheWVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXJlci9jYW52YXMvVmVjdG9yVGlsZUxheWVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vbC9NYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29sL2NvbnRyb2wvdXRpbC5qcyJdLCJuYW1lcyI6WyJiaW5hcnlTZWFyY2giLCJoYXlzdGFjayIsIm5lZWRsZSIsIm9wdF9jb21wYXJhdG9yIiwibWlkIiwiY21wIiwiY29tcGFyYXRvciIsIm51bWJlclNhZmVDb21wYXJlRnVuY3Rpb24iLCJsb3ciLCJoaWdoIiwibGVuZ3RoIiwiZm91bmQiLCJhIiwiYiIsImluY2x1ZGVzIiwiYXJyIiwib2JqIiwiaW5kZXhPZiIsImxpbmVhckZpbmROZWFyZXN0IiwidGFyZ2V0IiwiZGlyZWN0aW9uIiwiaSIsIm4iLCJyZXZlcnNlU3ViQXJyYXkiLCJiZWdpbiIsImVuZCIsInRtcCIsImV4dGVuZCIsImRhdGEiLCJleHRlbnNpb24iLCJBcnJheSIsImlzQXJyYXkiLCJyZW1vdmUiLCJzcGxpY2UiLCJmaW5kIiwiZnVuYyIsInZhbHVlIiwiZXF1YWxzIiwiYXJyMSIsImFycjIiLCJsZW4xIiwic3RhYmxlU29ydCIsImNvbXBhcmVGbmMiLCJpbmRleCIsInNvcnQiLCJmaW5kSW5kZXgiLCJldmVyeSIsImVsIiwiaWR4IiwiaXNTb3J0ZWQiLCJvcHRfZnVuYyIsIm9wdF9zdHJpY3QiLCJjb21wYXJlIiwiY3VycmVudFZhbCIsInJlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJkIiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsIkFOSU1BVElORyIsIklOVEVSQUNUSU5HIiwiVU5ERUZJTkVEIiwiTE9BRElORyIsIlJFQURZIiwiRVJST1IiLCJhZGQiLCJjbG9zZXN0T25DaXJjbGUiLCJjbG9zZXN0T25TZWdtZW50Iiwicm90YXRlIiwic2NhbGUiLCJzcXVhcmVkRGlzdGFuY2UiLCJkaXN0YW5jZSIsInNxdWFyZWREaXN0YW5jZVRvU2VnbWVudCIsImNvb3JkaW5hdGUiLCJkZWx0YSIsImNpcmNsZSIsInIiLCJnZXRSYWRpdXMiLCJjZW50ZXIiLCJnZXRDZW50ZXIiLCJ4MCIsInkwIiwiZHgiLCJkeSIsIk1hdGgiLCJzcXJ0Iiwic2VnbWVudCIsIngiLCJ5Iiwic3RhcnQiLCJ4MSIsInkxIiwieDIiLCJ5MiIsImFsb25nIiwiY29vcmRpbmF0ZTEiLCJjb29yZGluYXRlMiIsImFuZ2xlIiwiY29zQW5nbGUiLCJjb3MiLCJzaW5BbmdsZSIsInNpbiIsImNvb3JkMSIsImNvb3JkMiIsIklETEUiLCJMT0FERUQiLCJFTVBUWSIsIkFCT1JUIiwiQUREIiwiUkVNT1ZFIiwiaW5mbGF0ZUNvb3JkaW5hdGVzIiwiZmxhdENvb3JkaW5hdGVzIiwib2Zmc2V0Iiwic3RyaWRlIiwib3B0X2Nvb3JkaW5hdGVzIiwiY29vcmRpbmF0ZXMiLCJ1bmRlZmluZWQiLCJqIiwic2xpY2UiLCJpbmZsYXRlQ29vcmRpbmF0ZXNBcnJheSIsImVuZHMiLCJvcHRfY29vcmRpbmF0ZXNzIiwiY29vcmRpbmF0ZXNzIiwiamoiLCJpbmZsYXRlTXVsdGlDb29yZGluYXRlc0FycmF5IiwiZW5kc3MiLCJvcHRfY29vcmRpbmF0ZXNzcyIsImNvb3JkaW5hdGVzc3MiLCJlYXNlSW4iLCJ0IiwicG93IiwiZWFzZU91dCIsImluQW5kT3V0IiwibGluZWFyIiwiX0Fzc2VydGlvbkVycm9yX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfQ29sbGVjdGlvbkV2ZW50VHlwZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwiX09iamVjdF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fIiwiX2V2ZW50c19FdmVudF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fIiwiUHJvcGVydHkiLCJDb2xsZWN0aW9uRXZlbnQiLCJFdmVudCIsInR5cGUiLCJvcHRfZWxlbWVudCIsImNhbGwiLCJ0aGlzIiwiZWxlbWVudCIsIl9fcHJvdG9fXyIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwiQ29sbGVjdGlvbiIsIkJhc2VPYmplY3QiLCJvcHRfYXJyYXkiLCJvcHRfb3B0aW9ucyIsIm9wdGlvbnMiLCJ1bmlxdWVfIiwidW5pcXVlIiwiYXJyYXlfIiwiaWkiLCJhc3NlcnRVbmlxdWVfIiwidXBkYXRlTGVuZ3RoXyIsImNsZWFyIiwiZ2V0TGVuZ3RoIiwicG9wIiwicHVzaCIsImZvckVhY2giLCJmIiwiYXJyYXkiLCJnZXRBcnJheSIsIml0ZW0iLCJnZXQiLCJpbnNlcnRBdCIsImVsZW0iLCJkaXNwYXRjaEV2ZW50IiwicmVtb3ZlQXQiLCJwcmV2Iiwic2V0QXQiLCJzZXQiLCJvcHRfZXhjZXB0IiwiX2V2ZW50c19FdmVudFR5cGVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsIlNJTkdMRUNMSUNLIiwiQ0xJQ0siLCJEQkxDTElDSyIsIlBPSU5URVJEUkFHIiwiUE9JTlRFUk1PVkUiLCJQT0lOVEVSRE9XTiIsIlBPSU5URVJVUCIsIlBPSU5URVJPVkVSIiwiUE9JTlRFUk9VVCIsIlBPSU5URVJFTlRFUiIsIlBPSU5URVJMRUFWRSIsIlBPSU5URVJDQU5DRUwiLCJkb3VnbGFzUGV1Y2tlciIsImRvdWdsYXNQZXVja2VyQXJyYXkiLCJzbmFwIiwicXVhbnRpemVBcnJheSIsInF1YW50aXplTXVsdGlBcnJheSIsIl9tYXRoX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJzcXVhcmVkVG9sZXJhbmNlIiwic2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyIsInNpbXBsaWZpZWRPZmZzZXQiLCJtYXJrZXJzIiwic3RhY2siLCJsYXN0IiwiZmlyc3QiLCJtYXhTcXVhcmVkRGlzdGFuY2UiLCJpJDEiLCJzaW1wbGlmaWVkRW5kcyIsInRvbGVyYW5jZSIsInJvdW5kIiwicXVhbnRpemUiLCJ4MyIsInkzIiwiZHgxIiwiZHkxIiwiZHgyIiwiZHkyIiwic2ltcGxpZmllZEVuZHNzIiwiSU1BR0UiLCJUSUxFIiwiVkVDVE9SX1RJTEUiLCJWRUNUT1IiLCJnZW9tX0xpbmVhclJpbmciLCJTaW1wbGVHZW9tZXRyeSIsIkxpbmVhclJpbmciLCJvcHRfbGF5b3V0IiwibWF4RGVsdGFfIiwibWF4RGVsdGFSZXZpc2lvbl8iLCJzZXRDb29yZGluYXRlcyIsInNldEZsYXRDb29yZGluYXRlcyIsImNsb25lIiwibGF5b3V0IiwiY2xvc2VzdFBvaW50WFkiLCJjbG9zZXN0UG9pbnQiLCJtaW5TcXVhcmVkRGlzdGFuY2UiLCJvbF9leHRlbnQiLCJnZXRFeHRlbnQiLCJnZXRSZXZpc2lvbiIsImNsb3Nlc3QiLCJnZXRBcmVhIiwiZmxhdF9hcmVhIiwiZ2V0Q29vcmRpbmF0ZXMiLCJpbmZsYXRlIiwiZ2V0U2ltcGxpZmllZEdlb21ldHJ5SW50ZXJuYWwiLCJzaW1wbGlmeSIsIkdlb21ldHJ5TGF5b3V0IiwiWFkiLCJnZXRUeXBlIiwiR2VvbWV0cnlUeXBlIiwiTElORUFSX1JJTkciLCJpbnRlcnNlY3RzRXh0ZW50IiwiZXh0ZW50Iiwic2V0TGF5b3V0IiwiZGVmbGF0ZSIsImNoYW5nZWQiLCJnZW9tX1NpbXBsZUdlb21ldHJ5IiwiY2lyY3VsYXIiLCJmcm9tRXh0ZW50IiwiZnJvbUNpcmNsZSIsIm1ha2VSZWd1bGFyIiwiUG9seWdvbl9Qb2x5Z29uIiwiUG9seWdvbiIsIm9wdF9lbmRzIiwiZW5kc18iLCJmbGF0SW50ZXJpb3JQb2ludFJldmlzaW9uXyIsImZsYXRJbnRlcmlvclBvaW50XyIsIm9yaWVudGVkUmV2aXNpb25fIiwib3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXNfIiwiYXBwZW5kTGluZWFyUmluZyIsImxpbmVhclJpbmciLCJnZXRGbGF0Q29vcmRpbmF0ZXMiLCJjb250YWluc1hZIiwiY29udGFpbnMiLCJnZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcyIsIm9wdF9yaWdodCIsIm9yaWVudCIsImdldEVuZHMiLCJnZXRGbGF0SW50ZXJpb3JQb2ludCIsImZsYXRDZW50ZXIiLCJpbnRlcmlvcnBvaW50IiwiZ2V0SW50ZXJpb3JQb2ludCIsIlBvaW50IiwiWFlNIiwiZ2V0TGluZWFyUmluZ0NvdW50IiwiZ2V0TGluZWFyUmluZyIsImdldExpbmVhclJpbmdzIiwibGluZWFyUmluZ3MiLCJQT0xZR09OIiwiaW50ZXJzZWN0c2V4dGVudCIsInJhZGl1cyIsIm9wdF9uIiwib3B0X3NwaGVyZVJhZGl1cyIsInNwaGVyZSIsIlBJIiwibWluWCIsIm1pblkiLCJtYXhYIiwibWF4WSIsIm9wdF9zaWRlcyIsIm9wdF9hbmdsZSIsInNpZGVzIiwiZ2V0U3RyaWRlIiwiZ2V0TGF5b3V0IiwiYXJyYXlMZW5ndGgiLCJwb2x5Z29uIiwic3RhcnRBbmdsZSIsIm1hdGgiLCJ2aXNpYmxlQXRSZXNvbHV0aW9uIiwiX2V2ZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwiX2V2ZW50c19FdmVudFR5cGVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsIl91dGlsX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18iLCJfT2JqZWN0X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18iLCJfQmFzZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fIiwiX1Byb3BlcnR5X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18iLCJfb2JqX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18iLCJfcmVuZGVyX0V2ZW50VHlwZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fIiwiX3NvdXJjZV9TdGF0ZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fIiwiTGF5ZXIiLCJCYXNlTGF5ZXIiLCJiYXNlT3B0aW9ucyIsInNvdXJjZSIsIm1hcFByZWNvbXBvc2VLZXlfIiwibWFwUmVuZGVyS2V5XyIsInNvdXJjZUNoYW5nZUtleV8iLCJtYXAiLCJzZXRNYXAiLCJTT1VSQ0UiLCJoYW5kbGVTb3VyY2VQcm9wZXJ0eUNoYW5nZV8iLCJzZXRTb3VyY2UiLCJnZXRMYXllcnNBcnJheSIsImdldExheWVyU3RhdGVzQXJyYXkiLCJvcHRfc3RhdGVzIiwic3RhdGVzIiwiZ2V0TGF5ZXJTdGF0ZSIsImdldFNvdXJjZSIsImdldFNvdXJjZVN0YXRlIiwiZ2V0U3RhdGUiLCJoYW5kbGVTb3VyY2VDaGFuZ2VfIiwiQ0hBTkdFIiwiUFJFQ09NUE9TRSIsImV2dCIsInJlbmRlckV2ZW50IiwibGF5ZXJTdGF0ZSIsIm1hbmFnZWQiLCJnZXRaSW5kZXgiLCJ6SW5kZXgiLCJJbmZpbml0eSIsImZyYW1lU3RhdGUiLCJsYXllclN0YXRlc0FycmF5IiwibGF5ZXJTdGF0ZXMiLCJyZW5kZXIiLCJyZXNvbHV0aW9uIiwidmlzaWJsZSIsIm1pblJlc29sdXRpb24iLCJtYXhSZXNvbHV0aW9uIiwibWF4U3F1YXJlZERlbHRhIiwiYXJyYXlNYXhTcXVhcmVkRGVsdGEiLCJtdWx0aUFycmF5TWF4U3F1YXJlZERlbHRhIiwiYXNzaWduQ2xvc2VzdFBvaW50IiwiYXNzaWduQ2xvc2VzdEFycmF5UG9pbnQiLCJhc3NpZ25DbG9zZXN0TXVsdGlBcnJheVBvaW50IiwiYXNzaWduQ2xvc2VzdCIsIm9mZnNldDEiLCJvZmZzZXQyIiwibWF4Iiwic3F1YXJlZERlbHRhIiwibWF4RGVsdGEiLCJpc1JpbmciLCJvcHRfdG1wUG9pbnQiLCJ0bXBQb2ludCIsIk5hTiIsIl9MYXllclR5cGVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsIl9MYXllcl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwiX1ZlY3RvclJlbmRlclR5cGVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyIsIl9vYmpfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyIsIl9zdHlsZV9TdHlsZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fIiwiVmVjdG9yTGF5ZXIiLCJzdHlsZSIsInJlbmRlckJ1ZmZlciIsInVwZGF0ZVdoaWxlQW5pbWF0aW5nIiwidXBkYXRlV2hpbGVJbnRlcmFjdGluZyIsImRlY2x1dHRlcl8iLCJkZWNsdXR0ZXIiLCJyZW5kZXJCdWZmZXJfIiwic3R5bGVfIiwic3R5bGVGdW5jdGlvbl8iLCJzZXRTdHlsZSIsInVwZGF0ZVdoaWxlQW5pbWF0aW5nXyIsInVwZGF0ZVdoaWxlSW50ZXJhY3RpbmdfIiwicmVuZGVyTW9kZV8iLCJyZW5kZXJNb2RlIiwiZ2V0RGVjbHV0dGVyIiwic2V0RGVjbHV0dGVyIiwiZ2V0UmVuZGVyQnVmZmVyIiwiZ2V0UmVuZGVyT3JkZXIiLCJnZXRTdHlsZSIsImdldFN0eWxlRnVuY3Rpb24iLCJnZXRVcGRhdGVXaGlsZUFuaW1hdGluZyIsImdldFVwZGF0ZVdoaWxlSW50ZXJhY3RpbmciLCJzZXRSZW5kZXJPcmRlciIsInJlbmRlck9yZGVyIiwiZ2V0UmVuZGVyTW9kZSIsImxpbmVhclJpbmdDb250YWluc0V4dGVudCIsImxpbmVhclJpbmdDb250YWluc1hZIiwibGluZWFyUmluZ3NDb250YWluc1hZIiwibGluZWFyUmluZ3NzQ29udGFpbnNYWSIsIl9leHRlbnRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsInduIiwibG9hZGluZ3N0cmF0ZWd5X2FsbCIsIlZlY3RvclNvdXJjZUV2ZW50Iiwib3B0X2ZlYXR1cmUiLCJmZWF0dXJlIiwiVmVjdG9yX1ZlY3RvclNvdXJjZSIsIlNvdXJjZSIsIlZlY3RvclNvdXJjZSIsImF0dHJpYnV0aW9ucyIsInByb2plY3Rpb24iLCJzdGF0ZSIsIlN0YXRlIiwid3JhcFgiLCJsb2FkZXJfIiwiZnVuY3Rpb25zIiwiZm9ybWF0XyIsImZvcm1hdCIsIm92ZXJsYXBzXyIsIm92ZXJsYXBzIiwidXJsXyIsInVybCIsImxvYWRlciIsImFzc2VydHMiLCJmZWF0dXJlbG9hZGVyIiwic3RyYXRlZ3lfIiwic3RyYXRlZ3kiLCJjb2xsZWN0aW9uIiwiZmVhdHVyZXMiLCJ1c2VTcGF0aWFsSW5kZXgiLCJmZWF0dXJlc1J0cmVlXyIsIlJCdXNoIiwibG9hZGVkRXh0ZW50c1J0cmVlXyIsIm51bGxHZW9tZXRyeUZlYXR1cmVzXyIsImlkSW5kZXhfIiwidW5kZWZJZEluZGV4XyIsImZlYXR1cmVDaGFuZ2VLZXlzXyIsImZlYXR1cmVzQ29sbGVjdGlvbl8iLCJhZGRGZWF0dXJlc0ludGVybmFsIiwiYmluZEZlYXR1cmVzQ29sbGVjdGlvbl8iLCJhZGRGZWF0dXJlIiwiYWRkRmVhdHVyZUludGVybmFsIiwiZmVhdHVyZUtleSIsInV0aWwiLCJhZGRUb0luZGV4XyIsInNldHVwQ2hhbmdlRXZlbnRzXyIsImdlb21ldHJ5IiwiZ2V0R2VvbWV0cnkiLCJpbnNlcnQiLCJWZWN0b3JFdmVudFR5cGUiLCJBRERGRUFUVVJFIiwiZXZlbnRzIiwiRXZlbnRUeXBlIiwiaGFuZGxlRmVhdHVyZUNoYW5nZV8iLCJPYmplY3RFdmVudFR5cGUiLCJQUk9QRVJUWUNIQU5HRSIsInZhbGlkIiwiaWQiLCJnZXRJZCIsInRvU3RyaW5nIiwiYWRkRmVhdHVyZXMiLCJleHRlbnRzIiwibmV3RmVhdHVyZXMiLCJnZW9tZXRyeUZlYXR1cmVzIiwibGVuZ3RoJDEiLCJmZWF0dXJlJDEiLCJmZWF0dXJlS2V5JDEiLCJsb2FkIiwiaSQyIiwibGVuZ3RoJDIiLCJtb2RpZnlpbmdDb2xsZWN0aW9uIiwiUkVNT1ZFRkVBVFVSRSIsIkNvbGxlY3Rpb25FdmVudFR5cGUiLCJyZW1vdmVGZWF0dXJlIiwib3B0X2Zhc3QiLCJmZWF0dXJlSWQiLCJyZW1vdmVGZWF0dXJlSW50ZXJuYWwiLCJjbGVhckV2ZW50IiwiQ0xFQVIiLCJmb3JFYWNoRmVhdHVyZSIsImNhbGxiYWNrIiwiZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGVEaXJlY3QiLCJmb3JFYWNoRmVhdHVyZUluRXh0ZW50IiwiaW50ZXJzZWN0c0Nvb3JkaW5hdGUiLCJmb3JFYWNoSW5FeHRlbnQiLCJmb3JFYWNoRmVhdHVyZUludGVyc2VjdGluZ0V4dGVudCIsInJlc3VsdCIsImdldEZlYXR1cmVzQ29sbGVjdGlvbiIsImdldEZlYXR1cmVzIiwiZ2V0QWxsIiwib2xfb2JqIiwiZ2V0RmVhdHVyZXNBdENvb3JkaW5hdGUiLCJnZXRGZWF0dXJlc0luRXh0ZW50IiwiZ2V0SW5FeHRlbnQiLCJnZXRDbG9zZXN0RmVhdHVyZVRvQ29vcmRpbmF0ZSIsIm9wdF9maWx0ZXIiLCJjbG9zZXN0RmVhdHVyZSIsImZpbHRlciIsInByZXZpb3VzTWluU3F1YXJlZERpc3RhbmNlIiwibWluRGlzdGFuY2UiLCJvcHRfZXh0ZW50IiwiZ2V0RmVhdHVyZUJ5SWQiLCJnZXRGb3JtYXQiLCJnZXRPdmVybGFwcyIsImdldFVybCIsImV2ZW50IiwidXBkYXRlIiwic2lkIiwicmVtb3ZlRnJvbUlkSW5kZXhfIiwiQ0hBTkdFRkVBVFVSRSIsImhhc0ZlYXR1cmUiLCJpc0VtcHR5IiwibG9hZEZlYXR1cmVzIiwidGhpcyQxIiwibG9hZGVkRXh0ZW50c1J0cmVlIiwiZXh0ZW50c1RvTG9hZCIsImxvYWRpbmciLCJsb29wIiwiZXh0ZW50VG9Mb2FkIiwib2JqZWN0IiwicmVtb3ZlTG9hZGVkRXh0ZW50IiwicmVtb3ZlZCIsInNldExvYWRlciIsInNvdXJjZV9Tb3VyY2UiLCJQT1NUQ09NUE9TRSIsIlJFTkRFUiIsIlJFTkRFUkNPTVBMRVRFIiwiaW50ZXJzZWN0c0xpbmVTdHJpbmciLCJpbnRlcnNlY3RzTGluZVN0cmluZ0FycmF5IiwiaW50ZXJzZWN0c0xpbmVhclJpbmdBcnJheSIsImludGVyc2VjdHNMaW5lYXJSaW5nTXVsdGlBcnJheSIsIl9jb250YWluc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwiX3NlZ21lbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18iLCJjb29yZGluYXRlc0V4dGVudCIsInBvaW50MSIsInBvaW50MiIsImludGVyc2VjdHNMaW5lYXJSaW5nIiwidHdpY2VBcmVhIiwiYXJlYSIsImxpbmVhclJpbmdzcyIsImRpc2FibGUiLCJub25lIiwiY3JlYXRlU25hcFRvTiIsImNyZWF0ZVNuYXBUb1plcm8iLCJyb3RhdGlvbiIsInRoZXRhIiwiZmxvb3IiLCJvcHRfdG9sZXJhbmNlIiwiYWJzIiwiY3JlYXRlU3R5bGVGdW5jdGlvbiIsIl9hc3NlcnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfZXZlbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJfZXZlbnRzX0V2ZW50VHlwZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fIiwiRmVhdHVyZSIsIm9wdF9nZW9tZXRyeU9yUHJvcGVydGllcyIsImlkXyIsImdlb21ldHJ5TmFtZV8iLCJnZW9tZXRyeUNoYW5nZUtleV8iLCJoYW5kbGVHZW9tZXRyeUNoYW5nZWRfIiwiZ2V0U2ltcGxpZmllZEdlb21ldHJ5Iiwic2V0R2VvbWV0cnkiLCJwcm9wZXJ0aWVzIiwic2V0UHJvcGVydGllcyIsImdldFByb3BlcnRpZXMiLCJzZXRHZW9tZXRyeU5hbWUiLCJnZXRHZW9tZXRyeU5hbWUiLCJoYW5kbGVHZW9tZXRyeUNoYW5nZV8iLCJzZXRJZCIsIm5hbWUiLCJzdHlsZXMiLCJidWZmZXIiLCJzaXplIiwibnVtIiwib3B0X3NpemUiLCJoYXNBcmVhIiwicmF0aW8iLCJ0b1NpemUiLCJwYWROdW1iZXIiLCJudW1iZXIiLCJ3aWR0aCIsIm9wdF9wcmVjaXNpb24iLCJudW1iZXJTdHJpbmciLCJ0b0ZpeGVkIiwiZGVjaW1hbCIsImpvaW4iLCJjb21wYXJlVmVyc2lvbnMiLCJ2MSIsInYyIiwiczEiLCJzcGxpdCIsInMyIiwibjEiLCJwYXJzZUludCIsIm4yIiwiX3V0aWxfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsInJidXNoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJyYnVzaF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQiLCJfZXh0ZW50X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18iLCJvcHRfbWF4RW50cmllcyIsInJidXNoXyIsIml0ZW1zXyIsInZhbHVlcyIsIml0ZW1zIiwibCIsInVpZCIsImJib3giLCJhbGwiLCJzZWFyY2giLCJvcHRfdGhpcyIsImZvckVhY2hfIiwidG9KU09OIiwiY29uY2F0IiwicmJ1c2giLCJfT2JqZWN0X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJfcHJval9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fIiwiX1N0YXRlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18iLCJwcm9qZWN0aW9uXyIsImF0dHJpYnV0aW9uc18iLCJhZGFwdEF0dHJpYnV0aW9ucyIsImF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlXyIsImF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlIiwic3RhdGVfIiwid3JhcFhfIiwiZ2V0QXR0cmlidXRpb25zIiwiZ2V0QXR0cmlidXRpb25zQ29sbGFwc2libGUiLCJnZXRQcm9qZWN0aW9uIiwiZ2V0UmVzb2x1dGlvbnMiLCJnZXRXcmFwWCIsInJlZnJlc2giLCJzZXRBdHRyaWJ1dGlvbnMiLCJzZXRTdGF0ZSIsImF0dHJpYnV0aW9uTGlrZSIsIk9QQUNJVFkiLCJWSVNJQkxFIiwiRVhURU5UIiwiWl9JTkRFWCIsIk1BWF9SRVNPTFVUSU9OIiwiTUlOX1JFU09MVVRJT04iLCJfUHJvcGVydHlfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyIsIl9tYXRoX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18iLCJfb2JqX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18iLCJvcGFjaXR5IiwibGF5ZXIiLCJnZXRPcGFjaXR5Iiwic291cmNlU3RhdGUiLCJnZXRWaXNpYmxlIiwiZ2V0TWF4UmVzb2x1dGlvbiIsImdldE1pblJlc29sdXRpb24iLCJzZXRFeHRlbnQiLCJzZXRNYXhSZXNvbHV0aW9uIiwic2V0TWluUmVzb2x1dGlvbiIsInNldE9wYWNpdHkiLCJzZXRWaXNpYmxlIiwic2V0WkluZGV4IiwiemluZGV4IiwiZ2V0SW50ZXJpb3JQb2ludE9mQXJyYXkiLCJnZXRJbnRlcmlvclBvaW50c09mTXVsdGlBcnJheSIsIl9hcnJheV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwiZmxhdENlbnRlcnMiLCJmbGF0Q2VudGVyc09mZnNldCIsIm9wdF9kZXN0IiwiaW50ZXJzZWN0aW9ucyIsInJyIiwicG9pbnRYIiwibWF4U2VnbWVudExlbmd0aCIsInNlZ21lbnRMZW5ndGgiLCJpc05hTiIsImludGVyaW9yUG9pbnRzIiwicmV0IiwibW9kdWxlIiwiZXhwb3J0cyIsImRlZmF1bHQiLCJxdWlja3NlbGVjdCIsIm1heEVudHJpZXMiLCJfbWF4RW50cmllcyIsIl9taW5FbnRyaWVzIiwiY2VpbCIsIl9pbml0Rm9ybWF0IiwiZmluZEl0ZW0iLCJlcXVhbHNGbiIsImNhbGNCQm94Iiwibm9kZSIsInRvQkJveCIsImRpc3RCQm94IiwiY2hpbGRyZW4iLCJrIiwicCIsImRlc3ROb2RlIiwiY3JlYXRlTm9kZSIsImNoaWxkIiwibGVhZiIsIm1pbiIsImNvbXBhcmVOb2RlTWluWCIsImNvbXBhcmVOb2RlTWluWSIsImJib3hBcmVhIiwiYmJveE1hcmdpbiIsImludGVyc2VjdHMiLCJoZWlnaHQiLCJtdWx0aVNlbGVjdCIsImxlZnQiLCJyaWdodCIsIl9hbGwiLCJsZW4iLCJjaGlsZEJCb3giLCJub2Rlc1RvU2VhcmNoIiwiY29sbGlkZXMiLCJfYnVpbGQiLCJfc3BsaXRSb290IiwidG1wTm9kZSIsIl9pbnNlcnQiLCJwYXJlbnQiLCJnb2luZ1VwIiwicGF0aCIsImluZGV4ZXMiLCJfY29uZGVuc2UiLCJjb21wYXJlTWluWCIsImNvbXBhcmVNaW5ZIiwiZnJvbUpTT04iLCJhcHBseSIsIk4iLCJNIiwibG9nIiwicmlnaHQyIiwicmlnaHQzIiwiTjIiLCJOMSIsIl9jaG9vc2VTdWJ0cmVlIiwibGV2ZWwiLCJ0YXJnZXROb2RlIiwiZW5sYXJnZW1lbnQiLCJtaW5BcmVhIiwibWluRW5sYXJnZW1lbnQiLCJpc05vZGUiLCJpbnNlcnRQYXRoIiwiX3NwbGl0IiwiX2FkanVzdFBhcmVudEJCb3hlcyIsIm0iLCJfY2hvb3NlU3BsaXRBeGlzIiwic3BsaXRJbmRleCIsIl9jaG9vc2VTcGxpdEluZGV4IiwibmV3Tm9kZSIsImJib3gxIiwiYmJveDIiLCJvdmVybGFwIiwibWluT3ZlcmxhcCIsIl9hbGxEaXN0TWFyZ2luIiwibGVmdEJCb3giLCJyaWdodEJCb3giLCJtYXJnaW4iLCJzaWJsaW5ncyIsImNvbXBhcmVBcnIiLCJGdW5jdGlvbiIsIkVSUk9SX1RIUkVTSE9MRCIsIkVOQUJMRV9SQVNURVJfUkVQUk9KRUNUSU9OIiwiREVGQVVMVF9NQVhfWk9PTSIsIkRFRkFVTFRfVElMRV9TSVpFIiwibGluZWFyUmluZ0lzQ2xvY2t3aXNlIiwiZWRnZSIsImxpbmVhclJpbmdJc09yaWVudGVkIiwiaXNDbG9ja3dpc2UiLCJsaW5lYXJSaW5nc0FyZU9yaWVudGVkIiwib3JpZW50TGluZWFyUmluZ3MiLCJvcmllbnRMaW5lYXJSaW5nc0FycmF5IiwiRXZlbnRTb3VyY2UiLCJkaXNwYXRjaGVyIiwibWFwcGluZyIsIm1hcHBpbmdfIiwiZ2V0RXZlbnRzIiwia2V5cyIsImdldEhhbmRsZXJGb3JFdmVudCIsImV2ZW50VHlwZSIsInNoYXJlZCIsIl9jb2xvcl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwiSWNvbkltYWdlQ2FjaGUiLCJjYWNoZV8iLCJjYWNoZVNpemVfIiwibWF4Q2FjaGVTaXplXyIsImdldEtleSIsInNyYyIsImNyb3NzT3JpZ2luIiwiY29sb3IiLCJleHBpcmUiLCJrZXkiLCJpY29uSW1hZ2UiLCJoYXNMaXN0ZW5lciIsInNldFNpemUiLCJtYXhDYWNoZVNpemUiLCJGb3JtYXRUeXBlIiwiQVJSQVlfQlVGRkVSIiwiSlNPTiIsIlRFWFQiLCJYTUwiLCJsb2FkRmVhdHVyZXNYaHIiLCJzdWNjZXNzIiwiZmFpbHVyZSIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInJlc3BvbnNlVHlwZSIsIm9ubG9hZCIsInN0YXR1cyIsInJlc3BvbnNlVGV4dCIsInJlc3BvbnNlWE1MIiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwicmVhZEZlYXR1cmVzIiwiZmVhdHVyZVByb2plY3Rpb24iLCJyZWFkUHJvamVjdGlvbiIsImdldExhc3RFeHRlbnQiLCJiaW5kIiwib25lcnJvciIsInNlbmQiLCJmZWF0dXJlbG9hZGVyX3hociIsImRhdGFQcm9qZWN0aW9uIiwic3dhcCIsImRlZmF1bHRDb21wYXJlIiwicXVpY2tzZWxlY3RTdGVwIiwieiIsInMiLCJleHAiLCJzZCIsIm5ld0xlZnQiLCJuZXdSaWdodCIsImZhY3RvcnkiLCJQT0lOVEVSX0lEIiwiUE9JTlRFUl9UWVBFIiwicHJlcGFyZUV2ZW50IiwiX0V2ZW50U291cmNlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJtb3VzZWRvd24iLCJpbkV2ZW50IiwiaXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaF8iLCJwb2ludGVyTWFwIiwiY2FuY2VsIiwiZSIsImRvd24iLCJtb3VzZW1vdmUiLCJtb3ZlIiwibW91c2V1cCIsImJ1dHRvbiIsInVwIiwiY2xlYW51cE1vdXNlIiwibW91c2VvdmVyIiwiZW50ZXJPdmVyIiwibW91c2VvdXQiLCJsZWF2ZU91dCIsIk1vdXNlU291cmNlIiwibGFzdFRvdWNoZXMiLCJsdHMiLCJjbGllbnRYIiwiY2xpZW50WSIsImNsb25lRXZlbnQiLCJwZCIsInByZXZlbnREZWZhdWx0IiwicG9pbnRlcklkIiwiaXNQcmltYXJ5IiwicG9pbnRlclR5cGUiLCJfY29sb3JsaWtlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJfZ2VvbV9HZW9tZXRyeVR5cGVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyIsIl9nZW9tX1NpbXBsZUdlb21ldHJ5X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18iLCJfZ2VvbV9mbGF0X3RyYW5zZm9ybV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fIiwiX2hhc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fIiwiX1ZlY3RvckNvbnRleHRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyIsIl9jYW52YXNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfXyIsIl90cmFuc2Zvcm1fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfXyIsIkNhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyIiwiVmVjdG9yQ29udGV4dCIsImNvbnRleHQiLCJwaXhlbFJhdGlvIiwidHJhbnNmb3JtIiwidmlld1JvdGF0aW9uIiwiY29udGV4dF8iLCJwaXhlbFJhdGlvXyIsImV4dGVudF8iLCJ0cmFuc2Zvcm1fIiwidmlld1JvdGF0aW9uXyIsImNvbnRleHRGaWxsU3RhdGVfIiwiY29udGV4dFN0cm9rZVN0YXRlXyIsImNvbnRleHRUZXh0U3RhdGVfIiwiZmlsbFN0YXRlXyIsInN0cm9rZVN0YXRlXyIsImltYWdlXyIsImltYWdlQW5jaG9yWF8iLCJpbWFnZUFuY2hvcllfIiwiaW1hZ2VIZWlnaHRfIiwiaW1hZ2VPcGFjaXR5XyIsImltYWdlT3JpZ2luWF8iLCJpbWFnZU9yaWdpbllfIiwiaW1hZ2VSb3RhdGVXaXRoVmlld18iLCJpbWFnZVJvdGF0aW9uXyIsImltYWdlU2NhbGVfIiwiaW1hZ2VXaWR0aF8iLCJ0ZXh0XyIsInRleHRPZmZzZXRYXyIsInRleHRPZmZzZXRZXyIsInRleHRSb3RhdGVXaXRoVmlld18iLCJ0ZXh0Um90YXRpb25fIiwidGV4dFNjYWxlXyIsInRleHRGaWxsU3RhdGVfIiwidGV4dFN0cm9rZVN0YXRlXyIsInRleHRTdGF0ZV8iLCJwaXhlbENvb3JkaW5hdGVzXyIsInRtcExvY2FsVHJhbnNmb3JtXyIsImRyYXdJbWFnZXNfIiwicGl4ZWxDb29yZGluYXRlcyIsImxvY2FsVHJhbnNmb3JtIiwiYWxwaGEiLCJnbG9iYWxBbHBoYSIsImNlbnRlclgiLCJjZW50ZXJZIiwic2V0VHJhbnNmb3JtIiwiZHJhd0ltYWdlIiwiZHJhd1RleHRfIiwic2V0Q29udGV4dEZpbGxTdGF0ZV8iLCJzZXRDb250ZXh0U3Ryb2tlU3RhdGVfIiwic2V0Q29udGV4dFRleHRTdGF0ZV8iLCJzdHJva2VUZXh0IiwiZmlsbFRleHQiLCJtb3ZlVG9MaW5lVG9fIiwiY2xvc2UiLCJtb3ZlVG8iLCJsaW5lVG8iLCJjbG9zZVBhdGgiLCJkcmF3UmluZ3NfIiwiZHJhd0NpcmNsZSIsImJlZ2luUGF0aCIsImFyYyIsImZpbGwiLCJzdHJva2UiLCJzZXRGaWxsU3Ryb2tlU3R5bGUiLCJnZXRGaWxsIiwiZ2V0U3Ryb2tlIiwic2V0SW1hZ2VTdHlsZSIsImdldEltYWdlIiwic2V0VGV4dFN0eWxlIiwiZ2V0VGV4dCIsImRyYXdHZW9tZXRyeSIsIlBPSU5UIiwiZHJhd1BvaW50IiwiTElORV9TVFJJTkciLCJkcmF3TGluZVN0cmluZyIsImRyYXdQb2x5Z29uIiwiTVVMVElfUE9JTlQiLCJkcmF3TXVsdGlQb2ludCIsIk1VTFRJX0xJTkVfU1RSSU5HIiwiZHJhd011bHRpTGluZVN0cmluZyIsIk1VTFRJX1BPTFlHT04iLCJkcmF3TXVsdGlQb2x5Z29uIiwiR0VPTUVUUllfQ09MTEVDVElPTiIsImRyYXdHZW9tZXRyeUNvbGxlY3Rpb24iLCJDSVJDTEUiLCJkcmF3RmVhdHVyZSIsImdldEdlb21ldHJ5RnVuY3Rpb24iLCJnZW9tZXRyaWVzIiwiZ2V0R2VvbWV0cmllc0FycmF5IiwiZmxhdE1pZHBvaW50IiwiZ2V0RmxhdE1pZHBvaW50IiwiZ2VvbWV0cnlFeHRlbnQiLCJmbGF0TWlkcG9pbnRzIiwiZ2V0RmxhdE1pZHBvaW50cyIsImZsYXRJbnRlcmlvclBvaW50IiwiZ2V0RW5kc3MiLCJmbGF0SW50ZXJpb3JQb2ludHMiLCJnZXRGbGF0SW50ZXJpb3JQb2ludHMiLCJmaWxsU3RhdGUiLCJjb250ZXh0RmlsbFN0YXRlIiwiZmlsbFN0eWxlIiwic3Ryb2tlU3RhdGUiLCJjb250ZXh0U3Ryb2tlU3RhdGUiLCJsaW5lQ2FwIiwibGluZURhc2giLCJzZXRMaW5lRGFzaCIsImxpbmVEYXNoT2Zmc2V0IiwibGluZUpvaW4iLCJsaW5lV2lkdGgiLCJtaXRlckxpbWl0Iiwic3Ryb2tlU3R5bGUiLCJ0ZXh0U3RhdGUiLCJjb250ZXh0VGV4dFN0YXRlIiwidGV4dEFsaWduIiwiZm9udCIsInRleHRCYXNlbGluZSIsImZpbGxTdHlsZUNvbG9yIiwiZ2V0Q29sb3IiLCJzdHJva2VTdHlsZUNvbG9yIiwic3Ryb2tlU3R5bGVMaW5lQ2FwIiwiZ2V0TGluZUNhcCIsInN0cm9rZVN0eWxlTGluZURhc2giLCJnZXRMaW5lRGFzaCIsInN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXQiLCJnZXRMaW5lRGFzaE9mZnNldCIsInN0cm9rZVN0eWxlTGluZUpvaW4iLCJnZXRMaW5lSm9pbiIsInN0cm9rZVN0eWxlV2lkdGgiLCJnZXRXaWR0aCIsInN0cm9rZVN0eWxlTWl0ZXJMaW1pdCIsImdldE1pdGVyTGltaXQiLCJpbWFnZVN0eWxlIiwiaW1hZ2VBbmNob3IiLCJnZXRBbmNob3IiLCJpbWFnZUltYWdlIiwiaW1hZ2VPcmlnaW4iLCJnZXRPcmlnaW4iLCJpbWFnZVNpemUiLCJnZXRTaXplIiwiZ2V0Um90YXRlV2l0aFZpZXciLCJnZXRSb3RhdGlvbiIsImdldFNjYWxlIiwidGV4dFN0eWxlIiwidGV4dEZpbGxTdHlsZSIsInRleHRGaWxsU3R5bGVDb2xvciIsInRleHRTdHJva2VTdHlsZSIsInRleHRTdHJva2VTdHlsZUNvbG9yIiwidGV4dFN0cm9rZVN0eWxlTGluZUNhcCIsInRleHRTdHJva2VTdHlsZUxpbmVEYXNoIiwidGV4dFN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXQiLCJ0ZXh0U3Ryb2tlU3R5bGVMaW5lSm9pbiIsInRleHRTdHJva2VTdHlsZVdpZHRoIiwidGV4dFN0cm9rZVN0eWxlTWl0ZXJMaW1pdCIsInRleHRGb250IiwiZ2V0Rm9udCIsInRleHRPZmZzZXRYIiwiZ2V0T2Zmc2V0WCIsInRleHRPZmZzZXRZIiwiZ2V0T2Zmc2V0WSIsInRleHRSb3RhdGVXaXRoVmlldyIsInRleHRSb3RhdGlvbiIsInRleHRTY2FsZSIsInRleHRUZXh0IiwidGV4dFRleHRBbGlnbiIsImdldFRleHRBbGlnbiIsInRleHRUZXh0QmFzZWxpbmUiLCJnZXRUZXh0QmFzZWxpbmUiLCJSZW5kZXJFdmVudCIsIm9wdF92ZWN0b3JDb250ZXh0Iiwib3B0X2ZyYW1lU3RhdGUiLCJvcHRfY29udGV4dCIsIm9wdF9nbENvbnRleHQiLCJ2ZWN0b3JDb250ZXh0IiwiZ2xDb250ZXh0IiwiX0ltYWdlQmFzZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwiX0ltYWdlU3RhdGVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsIkltYWdlQ2FudmFzIiwiSW1hZ2VCYXNlIiwiY2FudmFzIiwib3B0X2xvYWRlciIsImNhbnZhc18iLCJlcnJvcl8iLCJnZXRFcnJvciIsImhhbmRsZUxvYWRfIiwiZXJyIiwiX2V2ZW50c19UYXJnZXRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsIkV2ZW50VGFyZ2V0IiwiZ2V0UGl4ZWxSYXRpbyIsImdldFJlc29sdXRpb24iLCJfY29vcmRpbmF0ZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwiX2RvbV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fIiwiX2V4dGVudF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fIiwiX0xheWVyX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18iLCJfdHJhbnNmb3JtX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18iLCJJbnRlcm1lZGlhdGVDYW52YXNSZW5kZXJlciIsIkNhbnZhc0xheWVyUmVuZGVyZXIiLCJjb29yZGluYXRlVG9DYW52YXNQaXhlbFRyYW5zZm9ybSIsImhpdENhbnZhc0NvbnRleHRfIiwiY29tcG9zZUZyYW1lIiwicHJlQ29tcG9zZSIsImltYWdlIiwiY2xpcHBlZCIsImNsaXAiLCJpbWFnZVRyYW5zZm9ybSIsImdldEltYWdlVHJhbnNmb3JtIiwiZHciLCJkaCIsInJlc3RvcmUiLCJwb3N0Q29tcG9zZSIsImZvckVhY2hMYXllckF0Q29vcmRpbmF0ZSIsImhpdFRvbGVyYW5jZSIsInRoaXNBcmciLCJwaXhlbCIsInZpZXdTdGF0ZSIsInJlbmRlcmVkUmVzb2x1dGlvbiIsImNsZWFyUmVjdCIsImltYWdlRGF0YSIsImdldEltYWdlRGF0YSIsImdldExheWVyIiwibGluZVN0cmluZ0xlbmd0aCIsIk1hcEJyb3dzZXJQb2ludGVyRXZlbnQiLCJNYXBCcm93c2VyRXZlbnQiLCJwb2ludGVyRXZlbnQiLCJvcHRfZHJhZ2dpbmciLCJvcmlnaW5hbEV2ZW50IiwiTWFwRXZlbnQiLCJicm93c2VyRXZlbnQiLCJnZXRFdmVudFBpeGVsIiwiZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbCIsImRyYWdnaW5nIiwic3RvcFByb3BhZ2F0aW9uIiwiZHJhd0N1c3RvbSIsInJlbmRlcmVyIiwiY2lyY2xlR2VvbWV0cnkiLCJnZW9tZXRyeUNvbGxlY3Rpb25HZW9tZXRyeSIsImxpbmVTdHJpbmdHZW9tZXRyeSIsIm11bHRpTGluZVN0cmluZ0dlb21ldHJ5IiwibXVsdGlQb2ludEdlb21ldHJ5IiwibXVsdGlQb2x5Z29uR2VvbWV0cnkiLCJwb2ludEdlb21ldHJ5IiwicG9seWdvbkdlb21ldHJ5IiwiZHJhd1RleHQiLCJvcHRfZGVjbHV0dGVyR3JvdXAiLCJfTGF5ZXJUeXBlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJfVGlsZVJhbmdlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18iLCJfVGlsZVN0YXRlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18iLCJfVmlld0hpbnRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyIsIl9kb21fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyIsIl9leHRlbnRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyIsIl9JbnRlcm1lZGlhdGVDYW52YXNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyIsIl90cmFuc2Zvcm1fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfXyIsIkNhbnZhc1RpbGVMYXllclJlbmRlcmVyIiwidGlsZUxheWVyIiwib3B0X25vQ29udGV4dCIsIm92ZXJzYW1wbGluZ18iLCJyZW5kZXJlZEV4dGVudF8iLCJyZW5kZXJlZFJldmlzaW9uIiwicmVuZGVyZWRUaWxlcyIsIm5ld1RpbGVzXyIsInRtcEV4dGVudCIsInRtcFRpbGVSYW5nZV8iLCJpbWFnZVRyYW5zZm9ybV8iLCJ6RGlyZWN0aW9uIiwiaXNEcmF3YWJsZVRpbGVfIiwidGlsZSIsInRpbGVTdGF0ZSIsInVzZUludGVyaW1UaWxlc09uRXJyb3IiLCJnZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yIiwiZ2V0VGlsZSIsImdldFByZWxvYWQiLCJnZXRJbnRlcmltVGlsZSIsInByZXBhcmVGcmFtZSIsInZpZXdSZXNvbHV0aW9uIiwidmlld0NlbnRlciIsInRpbGVTb3VyY2UiLCJzb3VyY2VSZXZpc2lvbiIsInRpbGVHcmlkIiwiZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uIiwiZ2V0WkZvclJlc29sdXRpb24iLCJ0aWxlUmVzb2x1dGlvbiIsIm92ZXJzYW1wbGluZyIsInRpbGVSYW5nZSIsImdldFRpbGVSYW5nZUZvckV4dGVudEFuZFoiLCJpbWFnZUV4dGVudCIsImdldFRpbGVSYW5nZUV4dGVudCIsInRpbGVQaXhlbFJhdGlvIiwiZ2V0VGlsZVBpeGVsUmF0aW8iLCJ0aWxlc1RvRHJhd0J5WiIsImZpbmRMb2FkZWRUaWxlcyIsImNyZWF0ZUxvYWRlZFRpbGVGaW5kZXIiLCJoaW50cyIsInZpZXdIaW50cyIsImFuaW1hdGluZ09ySW50ZXJhY3RpbmciLCJ0bXBUaWxlUmFuZ2UiLCJEYXRlIiwibm93IiwidGltZSIsInRpbGVDb29yZCIsImluVHJhbnNpdGlvbiIsImdldEFscGhhIiwiY2hpbGRUaWxlUmFuZ2UiLCJnZXRUaWxlQ29vcmRDaGlsZFRpbGVSYW5nZSIsImNvdmVyZWQiLCJmb3JFYWNoVGlsZUNvb3JkUGFyZW50VGlsZVJhbmdlIiwidGlsZVBpeGVsU2l6ZSIsImdldFRpbGVQaXhlbFNpemUiLCJnZXRIZWlnaHQiLCJjdXJyZW50U2NhbGUiLCJjdXJyZW50VGlsZVBpeGVsU2l6ZSIsImN1cnJlbnRaIiwidGlsZUV4dGVudCIsInRpbGVHdXR0ZXIiLCJ0aWxlc1RvRHJhdyIsInciLCJoIiwienMiLCJOdW1iZXIiLCJ0aWxlQ29vcmRLZXkiLCJnZXRHdXR0ZXJGb3JQcm9qZWN0aW9uIiwiZ2V0VGlsZUNvb3JkRXh0ZW50IiwiZ2V0VGlsZUNvb3JkIiwiZHJhd1RpbGVJbWFnZSIsInVwZGF0ZVVzZWRUaWxlcyIsInVzZWRUaWxlcyIsIm1hbmFnZVRpbGVQeXJhbWlkIiwic2NoZWR1bGVFeHBpcmVDYWNoZSIsImd1dHRlciIsInRyYW5zaXRpb24iLCJnZXRUaWxlSW1hZ2UiLCJnZXRPcGFxdWUiLCJhbHBoYUNoYW5nZWQiLCJzYXZlIiwiYW5pbWF0ZSIsImVuZFRyYW5zaXRpb24iLCJtYXBSZW5kZXJlciIsImNyZWF0ZU9yVXBkYXRlIiwiVGlsZVJhbmdlIiwiY29udGFpbnNUaWxlUmFuZ2UiLCJEUk9QIiwiX29ial9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwiUHJpb3JpdHlRdWV1ZSIsInByaW9yaXR5RnVuY3Rpb24iLCJrZXlGdW5jdGlvbiIsInByaW9yaXR5RnVuY3Rpb25fIiwia2V5RnVuY3Rpb25fIiwiZWxlbWVudHNfIiwicHJpb3JpdGllc18iLCJxdWV1ZWRFbGVtZW50c18iLCJkZXF1ZXVlIiwiZWxlbWVudHMiLCJwcmlvcml0aWVzIiwic2lmdFVwXyIsImVsZW1lbnRLZXkiLCJlbnF1ZXVlIiwicHJpb3JpdHkiLCJzaWZ0RG93bl8iLCJnZXRDb3VudCIsImdldExlZnRDaGlsZEluZGV4XyIsImdldFJpZ2h0Q2hpbGRJbmRleF8iLCJnZXRQYXJlbnRJbmRleF8iLCJoZWFwaWZ5XyIsImlzS2V5UXVldWVkIiwiaXNRdWV1ZWQiLCJjb3VudCIsInN0YXJ0SW5kZXgiLCJsSW5kZXgiLCJySW5kZXgiLCJzbWFsbGVyQ2hpbGRJbmRleCIsInBhcmVudEluZGV4IiwicmVwcmlvcml0aXplIiwiX0NvbGxlY3Rpb25fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsIl9Db2xsZWN0aW9uRXZlbnRUeXBlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18iLCJfT2JqZWN0RXZlbnRUeXBlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18iLCJfYXNzZXJ0c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fIiwiX2V2ZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fIiwiX2V2ZW50c19FdmVudFR5cGVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyIsIl9leHRlbnRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfXyIsIl9CYXNlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X18iLCJfb2JqX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fIiwiX3NvdXJjZV9TdGF0ZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfXyIsIkxBWUVSUyIsIkxheWVyR3JvdXAiLCJsYXllcnMiLCJsYXllcnNMaXN0ZW5lcktleXNfIiwibGlzdGVuZXJLZXlzXyIsImhhbmRsZUxheWVyc0NoYW5nZWRfIiwic2V0TGF5ZXJzIiwiaGFuZGxlTGF5ZXJDaGFuZ2VfIiwiZ2V0TGF5ZXJzIiwiaGFuZGxlTGF5ZXJzQWRkXyIsImhhbmRsZUxheWVyc1JlbW92ZV8iLCJsYXllcnNBcnJheSIsImNvbGxlY3Rpb25FdmVudCIsInBvcyIsIm93bkxheWVyU3RhdGUiLCJleHBpcmVJY29uQ2FjaGUiLCJzb3J0QnlaSW5kZXgiLCJzdGF0ZTEiLCJzdGF0ZTIiLCJNYXAiLCJEaXNwb3NhYmxlIiwiTWFwUmVuZGVyZXIiLCJtYXBfIiwibGF5ZXJSZW5kZXJlcnNfIiwibGF5ZXJSZW5kZXJlckxpc3RlbmVyc18iLCJsYXllclJlbmRlcmVyQ29uc3RydWN0b3JzXyIsImRpc3BhdGNoUmVuZGVyRXZlbnQiLCJyZWdpc3RlckxheWVyUmVuZGVyZXJzIiwiY29uc3RydWN0b3JzIiwiY2FsY3VsYXRlTWF0cmljZXMyRCIsImNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtIiwicGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm0iLCJvbF90cmFuc2Zvcm0iLCJyZW1vdmVMYXllclJlbmRlcmVycyIsInJlbW92ZUxheWVyUmVuZGVyZXJCeUtleV8iLCJkaXNwb3NlIiwiZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUiLCJsYXllckZpbHRlciIsInRoaXNBcmcyIiwic2tpcHBlZEZlYXR1cmVVaWRzIiwidHJhbnNsYXRlZENvb3JkaW5hdGUiLCJjYW5XcmFwWCIsInByb2plY3Rpb25FeHRlbnQiLCJ3b3JsZFdpZHRoIiwibGF5ZXJSZW5kZXJlciIsImdldExheWVyUmVuZGVyZXIiLCJmb3JFYWNoTGF5ZXJBdFBpeGVsIiwiaGFzRmVhdHVyZUF0Q29vcmRpbmF0ZSIsImxheWVyS2V5IiwiY2FuZGlkYXRlIiwiRXJyb3IiLCJldmVudHNfRXZlbnRUeXBlIiwiaGFuZGxlTGF5ZXJSZW5kZXJlckNoYW5nZV8iLCJnZXRMYXllclJlbmRlcmVyQnlLZXkiLCJnZXRMYXllclJlbmRlcmVycyIsImdldE1hcCIsInJlbW92ZVVudXNlZExheWVyUmVuZGVyZXJzXyIsInJlbmRlckZyYW1lIiwic2NoZWR1bGVFeHBpcmVJY29uQ2FjaGUiLCJwb3N0UmVuZGVyRnVuY3Rpb25zIiwic2NoZWR1bGVSZW1vdmVVbnVzZWRMYXllclJlbmRlcmVycyIsIm9sX0Rpc3Bvc2FibGUiLCJsYXllclJlbmRlcmVyQ29uc3RydWN0b3JzIiwiTWFwX0NhbnZhc01hcFJlbmRlcmVyIiwiQ2FudmFzTWFwUmVuZGVyZXIiLCJjb250YWluZXIiLCJnZXRWaWV3cG9ydCIsImRvbSIsImRpc3BsYXkiLCJjbGFzc05hbWUiLCJjc3MiLCJpbnNlcnRCZWZvcmUiLCJjaGlsZE5vZGVzIiwicmVuZGVyZWRWaXNpYmxlXyIsImdldFRyYW5zZm9ybSIsIkltbWVkaWF0ZSIsImNvbXBvc2VFdmVudCIsInN4Iiwic3kiLCJudW1MYXllcnMiLCJjdG9yIiwiT2JzZXJ2YWJsZSIsIkxheWVyUmVuZGVyZXIiLCJsYXllcl8iLCJ0aWxlcyIsInpvb20iLCJmb3JFYWNoTG9hZGVkVGlsZSIsImhhbmRsZUltYWdlQ2hhbmdlXyIsIkltYWdlU3RhdGUiLCJyZW5kZXJJZlJlYWR5QW5kVmlzaWJsZSIsImxvYWRJbWFnZSIsImltYWdlU3RhdGUiLCJjYW5FeHBpcmVDYWNoZSIsInBvc3RSZW5kZXJGdW5jdGlvbiIsInRpbGVTb3VyY2VLZXkiLCJleHBpcmVDYWNoZSIsInpLZXkiLCJwcmVsb2FkIiwib3B0X3RpbGVDYWxsYmFjayIsIndhbnRlZFRpbGVzIiwidGlsZVF1ZXVlIiwiZ2V0TWluWm9vbSIsIlRpbGVTdGF0ZSIsImdldFRpbGVDb29yZENlbnRlciIsInVzZVRpbGUiLCJvbF9PYnNlcnZhYmxlIiwiTGF5ZXJfQ2FudmFzTGF5ZXJSZW5kZXJlciIsInRvcExlZnQiLCJ0b3BSaWdodCIsImJvdHRvbVJpZ2h0IiwiYm90dG9tTGVmdCIsImRpc3BhdGNoQ29tcG9zZUV2ZW50XyIsIm9wdF90cmFuc2Zvcm0iLCJvZmZzZXRYIiwiX3JlcHJval9jb21tb25fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsIl9JbWFnZUNhbnZhc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwiX0xheWVyVHlwZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fIiwiX1ZpZXdIaW50X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18iLCJfYXJyYXlfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyIsIl9leHRlbnRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyIsIl9sYXllcl9WZWN0b3JSZW5kZXJUeXBlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18iLCJfb2JqX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X18iLCJfTWFwX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X18iLCJfSW50ZXJtZWRpYXRlQ2FudmFzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X18iLCJfdHJhbnNmb3JtX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fIiwiQ2FudmFzSW1hZ2VMYXllclJlbmRlcmVyIiwiaW1hZ2VMYXllciIsInNraXBwZWRGZWF0dXJlc18iLCJ2ZWN0b3JSZW5kZXJlcl8iLCJkaXNwb3NlSW50ZXJuYWwiLCJpbWFnZVNvdXJjZSIsInZlY3RvclJlbmRlcmVyIiwicmVuZGVyZWRFeHRlbnQiLCJzb3VyY2VQcm9qZWN0aW9uIiwic2tpcHBlZEZlYXR1cmVzIiwiaW1hZ2VGcmFtZVN0YXRlIiwibmV3U2tpcHBlZEZlYXR1cmVzIiwicmVwbGF5R3JvdXBDaGFuZ2VkIiwiY29tcG9zZSIsImltYWdlUmVzb2x1dGlvbiIsImltYWdlUGl4ZWxSYXRpbyIsIkxJTkUiLCJIWUJSSUQiLCJfVGlsZVN0YXRlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJUaWxlUXVldWUiLCJ0aWxlUHJpb3JpdHlGdW5jdGlvbiIsInRpbGVDaGFuZ2VDYWxsYmFjayIsInRpbGVDaGFuZ2VDYWxsYmFja18iLCJ0aWxlc0xvYWRpbmdfIiwidGlsZXNMb2FkaW5nS2V5c18iLCJhZGRlZCIsImhhbmRsZVRpbGVDaGFuZ2UiLCJnZXRUaWxlc0xvYWRpbmciLCJ0aWxlS2V5IiwibG9hZE1vcmVUaWxlcyIsIm1heFRvdGFsTG9hZGluZyIsIm1heE5ld0xvYWRzIiwibmV3TG9hZHMiLCJhYm9ydGVkVGlsZXMiLCJLaW5ldGljIiwiZGVjYXkiLCJtaW5WZWxvY2l0eSIsImRlbGF5IiwiZGVjYXlfIiwibWluVmVsb2NpdHlfIiwiZGVsYXlfIiwicG9pbnRzXyIsImFuZ2xlXyIsImluaXRpYWxWZWxvY2l0eV8iLCJsYXN0SW5kZXgiLCJmaXJzdEluZGV4IiwiZHVyYXRpb24iLCJhdGFuMiIsImdldERpc3RhbmNlIiwiZ2V0QW5nbGUiLCJvbF9LaW5ldGljIiwiQUNUSVZFIiwidmlldyIsIm9wdF9hbmNob3IiLCJvcHRfZHVyYXRpb24iLCJjb25zdHJhaW5Sb3RhdGlvbiIsInJvdGF0ZVdpdGhvdXRDb25zdHJhaW50cyIsImN1cnJlbnRSb3RhdGlvbiIsImN1cnJlbnRDZW50ZXIiLCJhbmNob3IiLCJlYXNpbmciLCJvcHRfZGlyZWN0aW9uIiwiY29uc3RyYWluUmVzb2x1dGlvbiIsInpvb21XaXRob3V0Q29uc3RyYWludHMiLCJ6b29tQnlEZWx0YSIsImN1cnJlbnRSZXNvbHV0aW9uIiwicmVzb2x1dGlvbnMiLCJjYWxjdWxhdGVDZW50ZXJab29tIiwiY29uc3RyYWluQ2VudGVyIiwic2V0Q2VudGVyIiwic2V0UmVzb2x1dGlvbiIsImludGVyYWN0aW9uX0ludGVyYWN0aW9uIiwiSW50ZXJhY3Rpb24iLCJoYW5kbGVFdmVudCIsInNldEFjdGl2ZSIsImdldEFjdGl2ZSIsIm1hcEJyb3dzZXJFdmVudCIsImFjdGl2ZSIsIm9sX09iamVjdCIsIkRvdWJsZUNsaWNrWm9vbV9oYW5kbGVFdmVudCIsInN0b3BFdmVudCIsIk1hcEJyb3dzZXJFdmVudFR5cGUiLCJzaGlmdEtleSIsImRlbHRhXyIsImdldFZpZXciLCJkdXJhdGlvbl8iLCJpbnRlcmFjdGlvbl9Eb3VibGVDbGlja1pvb20iLCJEb3VibGVDbGlja1pvb20iLCJhbHRLZXlPbmx5IiwiYWx0S2V5IiwibWV0YUtleSIsImN0cmxLZXkiLCJhbHRTaGlmdEtleXNPbmx5IiwiY29uZGl0aW9uX2ZvY3VzIiwiZ2V0VGFyZ2V0RWxlbWVudCIsImRvY3VtZW50IiwiYWN0aXZlRWxlbWVudCIsImFsd2F5cyIsIm1vdXNlQWN0aW9uQnV0dG9uIiwiaGFzIiwibmV2ZXIiLCJwb2ludGVyTW92ZSIsInNpbmdsZUNsaWNrIiwibm9Nb2RpZmllcktleXMiLCJzaGlmdEtleU9ubHkiLCJ0YXJnZXROb3RFZGl0YWJsZSIsInRhZ05hbWUiLCJtb3VzZU9ubHkiLCJwcmltYXJ5QWN0aW9uIiwiUG9pbnRlcl9jZW50cm9pZCIsInBvaW50ZXJFdmVudHMiLCJQb2ludGVyIiwiUG9pbnRlckludGVyYWN0aW9uIiwiaGFuZGxlRG93bkV2ZW50IiwiaGFuZGxlRHJhZ0V2ZW50IiwiaGFuZGxlTW92ZUV2ZW50IiwiaGFuZGxlVXBFdmVudCIsInN0b3BEb3duIiwiaGFuZGxpbmdEb3duVXBTZXF1ZW5jZSIsInRyYWNrZWRQb2ludGVyc18iLCJ0YXJnZXRQb2ludGVycyIsInVwZGF0ZVRyYWNrZWRQb2ludGVyc18iLCJoYW5kbGVkVXAiLCJoYW5kbGVkIiwiaXNQb2ludGVyRHJhZ2dpbmdFdmVudCIsImludGVyYWN0aW9uX0RyYWdQYW4iLCJEcmFnUGFuIiwia2luZXRpY18iLCJraW5ldGljIiwibGFzdENlbnRyb2lkIiwibGFzdFBvaW50ZXJzQ291bnRfIiwicGFubmluZ18iLCJjb25kaXRpb25fIiwiY29uZGl0aW9uIiwibm9LaW5ldGljXyIsInNldEhpbnQiLCJWaWV3SGludCIsImNlbnRyb2lkIiwiZGVsdGFYIiwiZGVsdGFZIiwib2xfY29vcmRpbmF0ZSIsImNlbnRlcnB4IiwiZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZSIsImRlc3QiLCJnZXRBbmltYXRpbmciLCJpbnRlcmFjdGlvbl9EcmFnUm90YXRlIiwiRHJhZ1JvdGF0ZSIsImxhc3RBbmdsZV8iLCJnZXRDb25zdHJhaW50cyIsInJvdGF0aW9uY29uc3RyYWludCIsIkJveCIsIlJlbmRlckJveCIsImdlb21ldHJ5XyIsImVsZW1lbnRfIiwiY3JlYXRlRWxlbWVudCIsInBvc2l0aW9uIiwic3RhcnRQaXhlbF8iLCJlbmRQaXhlbF8iLCJyZW5kZXJfIiwic3RhcnRQaXhlbCIsImVuZFBpeGVsIiwidG9wIiwiZ2V0T3ZlcmxheUNvbnRhaW5lciIsInJlbW92ZUNoaWxkIiwiYXBwZW5kQ2hpbGQiLCJzZXRQaXhlbHMiLCJjcmVhdGVPclVwZGF0ZUdlb21ldHJ5IiwiRHJhZ0JveEV2ZW50VHlwZSIsIkRyYWdCb3hFdmVudCIsImludGVyYWN0aW9uX0RyYWdCb3giLCJEcmFnQm94IiwiYm94XyIsIm1pbkFyZWFfIiwib25Cb3hFbmRfIiwib25Cb3hFbmQiLCJib3hFbmRDb25kaXRpb25fIiwiYm94RW5kQ29uZGl0aW9uIiwiZGVmYXVsdEJveEVuZENvbmRpdGlvbiIsIm91dF8iLCJtYXBFeHRlbnQiLCJjYWxjdWxhdGVFeHRlbnQiLCJib3hQaXhlbEV4dGVudCIsImZhY3RvciIsImdldFJlc29sdXRpb25Gb3JFeHRlbnQiLCJpbnRlcmFjdGlvbl9EcmFnWm9vbSIsIkRyYWdab29tIiwib3V0IiwiS2V5Q29kZSIsIkxFRlQiLCJVUCIsIlJJR0hUIiwiRE9XTiIsIktleWJvYXJkUGFuX2hhbmRsZUV2ZW50IiwiS0VZRE9XTiIsImtleUNvZGUiLCJtYXBVbml0c0RlbHRhIiwicGl4ZWxEZWx0YV8iLCJwYW4iLCJpbnRlcmFjdGlvbl9LZXlib2FyZFBhbiIsIktleWJvYXJkUGFuIiwiZGVmYXVsdENvbmRpdGlvbl8iLCJwaXhlbERlbHRhIiwiS2V5Ym9hcmRab29tX2hhbmRsZUV2ZW50IiwiS0VZUFJFU1MiLCJjaGFyQ29kZSIsImNoYXJDb2RlQXQiLCJpbnRlcmFjdGlvbl9LZXlib2FyZFpvb20iLCJLZXlib2FyZFpvb20iLCJNb2RlIiwiaW50ZXJhY3Rpb25fTW91c2VXaGVlbFpvb20iLCJNb3VzZVdoZWVsWm9vbSIsInRpbWVvdXRfIiwidGltZW91dCIsInVzZUFuY2hvcl8iLCJ1c2VBbmNob3IiLCJjb25zdHJhaW5SZXNvbHV0aW9uXyIsImxhc3RBbmNob3JfIiwic3RhcnRUaW1lXyIsInRpbWVvdXRJZF8iLCJtb2RlXyIsInRyYWNrcGFkRXZlbnRHYXBfIiwidHJhY2twYWRUaW1lb3V0SWRfIiwidHJhY2twYWREZWx0YVBlclpvb21fIiwidHJhY2twYWRab29tQnVmZmVyXyIsImRlY3JlbWVudEludGVyYWN0aW5nSGludF8iLCJXSEVFTCIsIk1PVVNFV0hFRUwiLCJ3aGVlbEV2ZW50IiwiZGVsdGFNb2RlIiwiV2hlZWxFdmVudCIsIkRPTV9ERUxUQV9QSVhFTCIsIkRPTV9ERUxUQV9MSU5FIiwid2hlZWxEZWx0YVkiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwicmVib3VuZCIsInRpbWVMZWZ0IiwiaGFuZGxlV2hlZWxab29tXyIsImNhbmNlbEFuaW1hdGlvbnMiLCJzZXRNb3VzZUFuY2hvciIsImludGVyYWN0aW9uX1BpbmNoUm90YXRlIiwiUGluY2hSb3RhdGUiLCJwb2ludGVyT3B0aW9ucyIsImFuY2hvcl8iLCJyb3RhdGluZ18iLCJyb3RhdGlvbkRlbHRhXyIsInRocmVzaG9sZF8iLCJ0aHJlc2hvbGQiLCJyb3RhdGlvbkRlbHRhIiwidG91Y2gwIiwidG91Y2gxIiwidmlld3BvcnRQb3NpdGlvbiIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImludGVyYWN0aW9uX1BpbmNoWm9vbSIsIlBpbmNoWm9vbSIsImxhc3REaXN0YW5jZV8iLCJsYXN0U2NhbGVEZWx0YV8iLCJzY2FsZURlbHRhIiwibmV3UmVzb2x1dGlvbiIsIkRyYWdBbmREcm9wRXZlbnRUeXBlIiwiRHJhZ0FuZERyb3BFdmVudCIsImZpbGUiLCJvcHRfZmVhdHVyZXMiLCJvcHRfcHJvamVjdGlvbiIsImhhbmRsZURyb3AiLCJmaWxlcyIsImRhdGFUcmFuc2ZlciIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiTE9BRCIsImhhbmRsZVJlc3VsdF8iLCJyZWFkQXNUZXh0IiwiaGFuZGxlU3RvcCIsImRyb3BFZmZlY3QiLCJpbnRlcmFjdGlvbl9EcmFnQW5kRHJvcCIsIkRyYWdBbmREcm9wIiwiZm9ybWF0Q29uc3RydWN0b3JzXyIsImZvcm1hdENvbnN0cnVjdG9ycyIsInByb2oiLCJkcm9wTGlzdGVuS2V5c18iLCJzb3VyY2VfIiwidHJ5UmVhZEZlYXR1cmVzXyIsInJlZ2lzdGVyTGlzdGVuZXJzXyIsImRyb3BBcmVhIiwiRFJBR0VOVEVSIiwiRFJBR09WRVIiLCJ1bnJlZ2lzdGVyTGlzdGVuZXJzXyIsInRleHQiLCJpbnRlcmFjdGlvbl9EcmFnUm90YXRlQW5kWm9vbSIsIkRyYWdSb3RhdGVBbmRab29tIiwibGFzdE1hZ25pdHVkZV8iLCJtYWduaXR1ZGUiLCJhbmdsZURlbHRhIiwiQ2lyY2xlX0NpcmNsZSIsIkNpcmNsZSIsIm9wdF9yYWRpdXMiLCJzZXRDZW50ZXJBbmRSYWRpdXMiLCJnZXRSYWRpdXNTcXVhcmVkXyIsImNvbXB1dGVFeHRlbnQiLCJjaXJjbGVFeHRlbnQiLCJzZXRSYWRpdXMiLCJnZW9tX0NpcmNsZSIsImludGVycG9sYXRlUG9pbnQiLCJmcmFjdGlvbiIsInBvaW50WSIsImN1bXVsYXRpdmVMZW5ndGhzIiwibyIsImxpbmVTdHJpbmdDb29yZGluYXRlQXRNIiwiZXh0cmFwb2xhdGUiLCJsbyIsImhpIiwibTAiLCJnZW9tX0xpbmVTdHJpbmciLCJMaW5lU3RyaW5nIiwiZmxhdE1pZHBvaW50XyIsImZsYXRNaWRwb2ludFJldmlzaW9uXyIsImFwcGVuZENvb3JkaW5hdGUiLCJmb3JFYWNoU2VnbWVudCIsImZsYXRfc2VnbWVudHMiLCJnZXRDb29yZGluYXRlQXRNIiwib3B0X2V4dHJhcG9sYXRlIiwiWFlaTSIsImdldENvb3JkaW5hdGVBdCIsImZsYXRfbGVuZ3RoIiwiZ2VvbV9NdWx0aUxpbmVTdHJpbmciLCJNdWx0aUxpbmVTdHJpbmciLCJsaW5lU3RyaW5ncyIsImxpbmVTdHJpbmciLCJhcHBlbmRMaW5lU3RyaW5nIiwib3B0X2ludGVycG9sYXRlIiwiaW50ZXJwb2xhdGUiLCJsaW5lU3RyaW5nc0Nvb3JkaW5hdGVBdE0iLCJnZXRMaW5lU3RyaW5nIiwiZ2V0TGluZVN0cmluZ3MiLCJtaWRwb2ludHMiLCJtaWRwb2ludCIsImdlb21fTXVsdGlQb2ludCIsIk11bHRpUG9pbnQiLCJhcHBlbmRQb2ludCIsInBvaW50IiwiZ2V0UG9pbnQiLCJnZXRQb2ludHMiLCJwb2ludHMiLCJnZW9tX011bHRpUG9seWdvbiIsIk11bHRpUG9seWdvbiIsIm9wdF9lbmRzcyIsImVuZHNzXyIsImZsYXRJbnRlcmlvclBvaW50c1JldmlzaW9uXyIsImZsYXRJbnRlcmlvclBvaW50c18iLCJwb2x5Z29ucyIsImFwcGVuZFBvbHlnb24iLCJuZXdFbmRzcyIsImdldEludGVyaW9yUG9pbnRzIiwiZ2V0UG9seWdvbiIsInByZXZFbmRzIiwiZ2V0UG9seWdvbnMiLCJsYXN0RW5kcyIsIkRyYXdfTW9kZSIsIkRyYXdFdmVudFR5cGUiLCJEcmF3RXZlbnQiLCJpbnRlcmFjdGlvbl9EcmF3IiwiRHJhdyIsInNob3VsZEhhbmRsZV8iLCJkb3duUHhfIiwiZG93blRpbWVvdXRfIiwibGFzdERyYWdUaW1lXyIsImZyZWVoYW5kXyIsImZlYXR1cmVzXyIsInNuYXBUb2xlcmFuY2VfIiwic25hcFRvbGVyYW5jZSIsInR5cGVfIiwibW9kZSIsImdldE1vZGUiLCJzdG9wQ2xpY2tfIiwic3RvcENsaWNrIiwibWluUG9pbnRzXyIsIm1pblBvaW50cyIsIm1heFBvaW50c18iLCJtYXhQb2ludHMiLCJmaW5pc2hDb25kaXRpb25fIiwiZmluaXNoQ29uZGl0aW9uIiwiZ2VvbWV0cnlGdW5jdGlvbiIsIm9wdF9nZW9tZXRyeSIsInNxdWFyZWRMZW5ndGgiLCJDb25zdHJ1Y3RvciIsImdlb21ldHJ5RnVuY3Rpb25fIiwiZHJhZ1ZlcnRleERlbGF5XyIsImRyYWdWZXJ0ZXhEZWxheSIsImZpbmlzaENvb3JkaW5hdGVfIiwic2tldGNoRmVhdHVyZV8iLCJza2V0Y2hQb2ludF8iLCJza2V0Y2hDb29yZHNfIiwic2tldGNoTGluZV8iLCJza2V0Y2hMaW5lQ29vcmRzXyIsInNxdWFyZWRDbGlja1RvbGVyYW5jZV8iLCJjbGlja1RvbGVyYW5jZSIsIm92ZXJsYXlfIiwiVmVjdG9yIiwic291cmNlX1ZlY3RvciIsIlN0eWxlIiwiZ2VvbWV0cnlOYW1lIiwiZnJlZWhhbmRDb25kaXRpb25fIiwiZnJlZWhhbmQiLCJmcmVlaGFuZENvbmRpdGlvbiIsInVwZGF0ZVN0YXRlXyIsImdldE92ZXJsYXkiLCJDT05URVhUTUVOVSIsInBhc3MiLCJhZGRUb0RyYXdpbmdfIiwiaGFuZGxlUG9pbnRlck1vdmVfIiwic3RhcnREcmF3aW5nXyIsImNpcmNsZU1vZGUiLCJmaW5pc2hEcmF3aW5nIiwiYXRGaW5pc2hfIiwiYWJvcnREcmF3aW5nXyIsImRvd25QeCIsImNsaWNrUHgiLCJtb2RpZnlEcmF3aW5nXyIsImNyZWF0ZU9yVXBkYXRlU2tldGNoUG9pbnRfIiwiYXQiLCJwb3RlbnRpYWxseURvbmUiLCJwb3RlbnRpYWxseUZpbmlzaENvb3JkaW5hdGVzIiwic2tldGNoQ29vcmRzIiwiZmluaXNoQ29vcmRpbmF0ZSIsImZpbmlzaFBpeGVsIiwidXBkYXRlU2tldGNoRmVhdHVyZXNfIiwic2tldGNoTGluZUdlb20iLCJyaW5nIiwiZG9uZSIsInJlbW92ZUxhc3RQb2ludCIsInNrZXRjaEZlYXR1cmUiLCJza2V0Y2hGZWF0dXJlcyIsIm92ZXJsYXlTb3VyY2UiLCJFeHRlbnRFdmVudFR5cGUiLCJFWFRFTlRDSEFOR0VEIiwiRXh0ZW50SW50ZXJhY3Rpb25FdmVudCIsImdldERlZmF1bHRQb2ludGVyU3R5bGVGdW5jdGlvbiIsImdldFBvaW50SGFuZGxlciIsImZpeGVkUG9pbnQiLCJnZXRFZGdlSGFuZGxlciIsImZpeGVkUDEiLCJmaXhlZFAyIiwiRXh0ZW50IiwiRXh0ZW50SW50ZXJhY3Rpb24iLCJwb2ludGVySGFuZGxlcl8iLCJwaXhlbFRvbGVyYW5jZV8iLCJwaXhlbFRvbGVyYW5jZSIsInNuYXBwZWRUb1ZlcnRleF8iLCJleHRlbnRGZWF0dXJlXyIsInZlcnRleEZlYXR1cmVfIiwiZXh0ZW50T3ZlcmxheV8iLCJib3hTdHlsZSIsInZlcnRleE92ZXJsYXlfIiwicG9pbnRlclN0eWxlIiwic25hcFRvVmVydGV4XyIsInBpeGVsQ29vcmRpbmF0ZSIsInNlZ21lbnRzIiwiZ2V0U2VnbWVudHMiLCJjbG9zZXN0U2VnbWVudCIsInZlcnRleCIsInZlcnRleFBpeGVsIiwicGl4ZWwxIiwicGl4ZWwyIiwic3F1YXJlZERpc3QxIiwic3F1YXJlZERpc3QyIiwiZGlzdCIsImNyZWF0ZU9yVXBkYXRlUG9pbnRlckZlYXR1cmVfIiwiY3JlYXRlT3JVcGRhdGVFeHRlbnRGZWF0dXJlXyIsImV4dGVudEZlYXR1cmUiLCJ2ZXJ0ZXhGZWF0dXJlIiwiZ2V0T3Bwb3NpbmdQb2ludCIsInhfIiwieV8iLCJDSVJDTEVfQ0lSQ1VNRkVSRU5DRV9JTkRFWCIsIk1vZGlmeUV2ZW50VHlwZSIsIk1vZGlmeUV2ZW50IiwibWFwQnJvd3NlclBvaW50ZXJFdmVudCIsImNvbXBhcmVJbmRleGVzIiwicG9pbnREaXN0YW5jZVRvU2VnbWVudERhdGFTcXVhcmVkIiwicG9pbnRDb29yZGluYXRlcyIsInNlZ21lbnREYXRhIiwiZGlzdGFuY2VUb0NlbnRlclNxdWFyZWQiLCJkaXN0YW5jZVRvQ2lyY3VtZmVyZW5jZSIsImNsb3Nlc3RPblNlZ21lbnREYXRhIiwiZ2V0Q2xvc2VzdFBvaW50IiwiaW50ZXJhY3Rpb25fTW9kaWZ5IiwiTW9kaWZ5IiwiZGVmYXVsdERlbGV0ZUNvbmRpdGlvbl8iLCJkZWxldGVDb25kaXRpb25fIiwiZGVsZXRlQ29uZGl0aW9uIiwiaW5zZXJ0VmVydGV4Q29uZGl0aW9uXyIsImluc2VydFZlcnRleENvbmRpdGlvbiIsInZlcnRleFNlZ21lbnRzXyIsImxhc3RQaXhlbF8iLCJpZ25vcmVOZXh0U2luZ2xlQ2xpY2tfIiwibW9kaWZpZWRfIiwickJ1c2hfIiwiY2hhbmdpbmdGZWF0dXJlXyIsImRyYWdTZWdtZW50c18iLCJTRUdNRU5UX1dSSVRFUlNfIiwid3JpdGVQb2ludEdlb21ldHJ5XyIsIndyaXRlTGluZVN0cmluZ0dlb21ldHJ5XyIsIndyaXRlUG9seWdvbkdlb21ldHJ5XyIsIndyaXRlTXVsdGlQb2ludEdlb21ldHJ5XyIsIndyaXRlTXVsdGlMaW5lU3RyaW5nR2VvbWV0cnlfIiwid3JpdGVNdWx0aVBvbHlnb25HZW9tZXRyeV8iLCJ3cml0ZUNpcmNsZUdlb21ldHJ5XyIsIkdlb21ldHJ5Q29sbGVjdGlvbiIsIndyaXRlR2VvbWV0cnlDb2xsZWN0aW9uR2VvbWV0cnlfIiwiaGFuZGxlU291cmNlQWRkXyIsImhhbmRsZVNvdXJjZVJlbW92ZV8iLCJhZGRGZWF0dXJlXyIsImhhbmRsZUZlYXR1cmVBZGRfIiwiaGFuZGxlRmVhdHVyZVJlbW92ZV8iLCJsYXN0UG9pbnRlckV2ZW50XyIsImlzUmVuZGVyZWQiLCJoYW5kbGVQb2ludGVyQXRQaXhlbF8iLCJ3aWxsTW9kaWZ5RmVhdHVyZXNfIiwicmVtb3ZlRmVhdHVyZV8iLCJyZW1vdmVGZWF0dXJlU2VnbWVudERhdGFfIiwickJ1c2giLCJub2Rlc1RvUmVtb3ZlIiwiZGVwdGgiLCJsaW5lcyIsInJpbmdzIiwia2siLCJjZW50ZXJTZWdtZW50RGF0YSIsImNpcmN1bWZlcmVuY2VTZWdtZW50RGF0YSIsImZlYXR1cmVTZWdtZW50cyIsImNyZWF0ZU9yVXBkYXRlVmVydGV4RmVhdHVyZV8iLCJnZXRJbnRlcmFjdGluZyIsInJlbW92ZVBvaW50IiwiZHJhZ1NlZ21lbnQiLCJzZXRHZW9tZXRyeUNvb3JkaW5hdGVzXyIsImluc2VydFZlcnRpY2VzIiwidmVydGV4RXh0ZW50Iiwic2VnbWVudERhdGFNYXRjaGVzIiwiY29tcG9uZW50U2VnbWVudHMiLCJzZWdtZW50RGF0YU1hdGNoIiwiY2xvc2VzdFZlcnRleCIsImluc2VydFZlcnRleF8iLCJib3giLCJub2RlcyIsInZlcnRleFNlZ21lbnRzIiwiclRyZWUiLCJ1cGRhdGVTZWdtZW50SW5kaWNlc18iLCJuZXdTZWdtZW50RGF0YSIsIm5ld1NlZ21lbnREYXRhMiIsInJlbW92ZVZlcnRleF8iLCJjb21wb25lbnQiLCJuZXdJbmRleCIsImRyYWdTZWdtZW50cyIsInNlZ21lbnRzQnlGZWF0dXJlIiwiZGVsZXRlZCIsIlNlbGVjdEV2ZW50VHlwZSIsIlNFTEVDVCIsIlNlbGVjdEV2ZW50Iiwic2VsZWN0ZWQiLCJkZXNlbGVjdGVkIiwiU2VsZWN0X2hhbmRsZUV2ZW50IiwiYWRkQ29uZGl0aW9uXyIsInJlbW92ZUNvbmRpdGlvbl8iLCJ0b2dnbGUiLCJ0b2dnbGVDb25kaXRpb25fIiwiZmVhdHVyZUxheWVyQXNzb2NpYXRpb25fIiwiZm9yRWFjaEZlYXR1cmVBdFBpeGVsIiwiZmlsdGVyXyIsImFkZEZlYXR1cmVMYXllckFzc29jaWF0aW9uXyIsIm11bHRpXyIsImxheWVyRmlsdGVyXyIsImhpdFRvbGVyYW5jZV8iLCJyZW1vdmVGZWF0dXJlTGF5ZXJBc3NvY2lhdGlvbl8iLCJTZWxlY3RfZ2V0RGVmYXVsdFN0eWxlRnVuY3Rpb24iLCJpbnRlcmFjdGlvbl9TZWxlY3QiLCJTZWxlY3QiLCJhZGRDb25kaXRpb24iLCJyZW1vdmVDb25kaXRpb24iLCJ0b2dnbGVDb25kaXRpb24iLCJtdWx0aSIsImZlYXR1cmVPdmVybGF5IiwiZmVhdHVyZU92ZXJsYXlfIiwiZ2V0SGl0VG9sZXJhbmNlIiwic2V0SGl0VG9sZXJhbmNlIiwiY3VycmVudE1hcCIsInNlbGVjdGVkRmVhdHVyZXMiLCJ1bnNraXBGZWF0dXJlIiwic2tpcEZlYXR1cmUiLCJnZXRGZWF0dXJlRnJvbUV2ZW50IiwiaW50ZXJhY3Rpb25fU25hcCIsIlNuYXAiLCJ2ZXJ0ZXhfIiwiZWRnZV8iLCJmZWF0dXJlc0xpc3RlbmVyS2V5c18iLCJmZWF0dXJlQ2hhbmdlTGlzdGVuZXJLZXlzXyIsImluZGV4ZWRGZWF0dXJlc0V4dGVudHNfIiwicGVuZGluZ0ZlYXR1cmVzXyIsInBpeGVsQ29vcmRpbmF0ZV8iLCJzb3J0QnlEaXN0YW5jZV8iLCJkZWx0YUEiLCJkZWx0YUIiLCJvcHRfbGlzdGVuIiwicmVnaXN0ZXIiLCJmZWF0dXJlX3VpZCIsInNlZ21lbnRXcml0ZXIiLCJmb3JFYWNoRmVhdHVyZUFkZF8iLCJmb3JFYWNoRmVhdHVyZVJlbW92ZV8iLCJnZXRGZWF0dXJlc18iLCJzbmFwVG8iLCJzbmFwcGVkIiwidXBkYXRlRmVhdHVyZV8iLCJmZWF0dXJlc1RvVXBkYXRlIiwib3B0X3VubGlzdGVuIiwidW5yZWdpc3RlciIsImxvd2VyTGVmdCIsInVwcGVyUmlnaHQiLCJpc0NpcmNsZSIsIlRyYW5zbGF0ZUV2ZW50VHlwZSIsIlRyYW5zbGF0ZUV2ZW50IiwiaW50ZXJhY3Rpb25fVHJhbnNsYXRlIiwiVHJhbnNsYXRlIiwibGFzdENvb3JkaW5hdGVfIiwibGFzdEZlYXR1cmVfIiwiaGFuZGxlQWN0aXZlQ2hhbmdlZF8iLCJmZWF0dXJlc0F0UGl4ZWxfIiwibmV3Q29vcmRpbmF0ZSIsImdlb20iLCJ0cmFuc2xhdGUiLCJjbGFzc0xpc3QiLCJvbGRNYXAiLCJkZWZhdWx0cyIsImludGVyYWN0aW9ucyIsImFsdFNoaWZ0RHJhZ1JvdGF0ZSIsImRvdWJsZUNsaWNrWm9vbSIsInpvb21EZWx0YSIsInpvb21EdXJhdGlvbiIsImRyYWdQYW4iLCJvbkZvY3VzT25seSIsInBpbmNoUm90YXRlIiwicGluY2hab29tIiwia2V5Ym9hcmQiLCJtb3VzZVdoZWVsWm9vbSIsInNoaWZ0RHJhZ1pvb20iLCJWaWV3UHJvcGVydHkiLCJjcmVhdGVDZW50ZXJDb25zdHJhaW50IiwiY3JlYXRlUmVzb2x1dGlvbkNvbnN0cmFpbnQiLCJjcmVhdGVSb3RhdGlvbkNvbnN0cmFpbnQiLCJpc05vb3BBbmltYXRpb24iLCJERUZBVUxUX01JTl9aT09NIiwiVmlld19WaWV3IiwiVmlldyIsImhpbnRzXyIsImFuaW1hdGlvbnNfIiwidXBkYXRlQW5pbWF0aW9uS2V5XyIsInVwZGF0ZUFuaW1hdGlvbnNfIiwiYXBwbHlPcHRpb25zXyIsInJlc29sdXRpb25Db25zdHJhaW50SW5mbyIsIm1heFJlc29sdXRpb25fIiwibWluUmVzb2x1dGlvbl8iLCJ6b29tRmFjdG9yXyIsInpvb21GYWN0b3IiLCJyZXNvbHV0aW9uc18iLCJtaW5ab29tXyIsIm1pblpvb20iLCJjZW50ZXJDb25zdHJhaW50IiwicmVzb2x1dGlvbkNvbnN0cmFpbnQiLCJjb25zdHJhaW50Iiwicm90YXRpb25Db25zdHJhaW50IiwiY29uc3RyYWludHNfIiwib3B0aW9uc18iLCJnZXRVcGRhdGVkT3B0aW9uc18iLCJuZXdPcHRpb25zIiwiZ2V0Wm9vbSIsInZhcl9hcmdzIiwiYXJndW1lbnRzJDEiLCJhcmd1bWVudHMiLCJhbmltYXRpb25Db3VudCIsImlzRGVmIiwic2V0Wm9vbSIsInNldFJvdGF0aW9uIiwiYW5pbWF0aW9uQ2FsbGJhY2siLCJzZXJpZXMiLCJhbmltYXRpb24iLCJjb21wbGV0ZSIsInNvdXJjZUNlbnRlciIsInRhcmdldENlbnRlciIsInNvdXJjZVJlc29sdXRpb24iLCJ0YXJnZXRSZXNvbHV0aW9uIiwic291cmNlUm90YXRpb24iLCJ0YXJnZXRSb3RhdGlvbiIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwibW9yZSIsInNlcmllc0NvbXBsZXRlIiwiZWxhcHNlZCIsInByb2dyZXNzIiwiY2FsY3VsYXRlQ2VudGVyUm90YXRlIiwiQm9vbGVhbiIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImdldFNpemVGcm9tVmlld3BvcnRfIiwic2VsZWN0b3IiLCJxdWVyeVNlbGVjdG9yIiwibWV0cmljcyIsImdldENvbXB1dGVkU3R5bGUiLCJvcHRfZGVsdGEiLCJnZXRIaW50cyIsIm9wdF9oaW50cyIsImdldE1heFpvb20iLCJnZXRab29tRm9yUmVzb2x1dGlvbiIsInNldE1heFpvb20iLCJtYXhab29tIiwic2V0TWluWm9vbSIsInhSZXNvbHV0aW9uIiwieVJlc29sdXRpb24iLCJnZXRSZXNvbHV0aW9uRm9yVmFsdWVGdW5jdGlvbiIsIm9wdF9wb3dlciIsInBvd2VyIiwiZ2V0VmFsdWVGb3JSZXNvbHV0aW9uRnVuY3Rpb24iLCJwaXhlbFJlc29sdXRpb24iLCJuZWFyZXN0IiwiZ2V0UmVzb2x1dGlvbkZvclpvb20iLCJmaXQiLCJnZW9tZXRyeU9yRXh0ZW50IiwicGFkZGluZyIsImNvb3JkcyIsIm1pblJvdFgiLCJtaW5Sb3RZIiwibWF4Um90WCIsIm1heFJvdFkiLCJyb3RYIiwicm90WSIsImNvbnN0cmFpbmVkUmVzb2x1dGlvbiIsImNlbnRlclJvdFgiLCJjZW50ZXJSb3RZIiwiY2VudGVyT24iLCJoaW50IiwicmV0dXJuVmFsdWUiLCJjcmVhdGVTbmFwVG9SZXNvbHV0aW9ucyIsImRlZmF1bHRNYXhSZXNvbHV0aW9uIiwiVW5pdHMiLCJERUdSRUVTIiwiZ2V0TWV0ZXJzUGVyVW5pdCIsImNvbW1vbiIsImRlZmF1bHRNaW5SZXNvbHV0aW9uIiwib3B0X21heExldmVsIiwib2xkTGV2ZWwiLCJuZXdMZXZlbCIsImNyZWF0ZVNuYXBUb1Bvd2VyIiwiZW5hYmxlUm90YXRpb24iLCJQT0lOVEVSX1RZUEVTIiwibXNQb2ludGVyRG93biIsInByZXBhcmVFdmVudF8iLCJtc1BvaW50ZXJNb3ZlIiwibXNQb2ludGVyVXAiLCJjbGVhbnVwIiwibXNQb2ludGVyT3V0IiwibXNQb2ludGVyT3ZlciIsIm1zUG9pbnRlckNhbmNlbCIsIm1zTG9zdFBvaW50ZXJDYXB0dXJlIiwibWFrZUV2ZW50IiwibXNHb3RQb2ludGVyQ2FwdHVyZSIsInBvaW50ZXJfTXNTb3VyY2UiLCJNc1NvdXJjZSIsIk1TUG9pbnRlckRvd24iLCJNU1BvaW50ZXJNb3ZlIiwiTVNQb2ludGVyVXAiLCJNU1BvaW50ZXJPdXQiLCJNU1BvaW50ZXJPdmVyIiwiTVNQb2ludGVyQ2FuY2VsIiwiTVNHb3RQb2ludGVyQ2FwdHVyZSIsIk1TTG9zdFBvaW50ZXJDYXB0dXJlIiwicG9pbnRlcl9FdmVudFNvdXJjZSIsInBvaW50ZXJEb3duIiwiZmlyZU5hdGl2ZUV2ZW50IiwicG9pbnRlclVwIiwicG9pbnRlck91dCIsInBvaW50ZXJPdmVyIiwicG9pbnRlckNhbmNlbCIsImxvc3RQb2ludGVyQ2FwdHVyZSIsImdvdFBvaW50ZXJDYXB0dXJlIiwicG9pbnRlcl9OYXRpdmVTb3VyY2UiLCJOYXRpdmVTb3VyY2UiLCJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwicG9pbnRlcm91dCIsInBvaW50ZXJvdmVyIiwicG9pbnRlcmNhbmNlbCIsImdvdHBvaW50ZXJjYXB0dXJlIiwibG9zdHBvaW50ZXJjYXB0dXJlIiwiSEFTX0JVVFRPTlMiLCJQb2ludGVyRXZlbnQiLCJfRXZlbnQiLCJvcHRfZXZlbnREaWN0IiwiZXZlbnREaWN0IiwiYnV0dG9ucyIsIndoaWNoIiwiZ2V0QnV0dG9ucyIsInByZXNzdXJlIiwiZ2V0UHJlc3N1cmUiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsImRldGFpbCIsInNjcmVlblgiLCJzY3JlZW5ZIiwicmVsYXRlZFRhcmdldCIsInRpbHRYIiwidGlsdFkiLCJod1RpbWVzdGFtcCIsImV2IiwiTW91c2VFdmVudCIsInBvaW50ZXJfUG9pbnRlckV2ZW50IiwidG91Y2hzdGFydCIsInZhY3V1bVRvdWNoZXNfIiwic2V0UHJpbWFyeVRvdWNoXyIsImNoYW5nZWRUb3VjaGVzIiwiZGVkdXBTeW50aE1vdXNlXyIsImNsaWNrQ291bnRfIiwicHJvY2Vzc1RvdWNoZXNfIiwib3ZlckRvd25fIiwidG91Y2htb3ZlIiwibW92ZU92ZXJPdXRfIiwidG91Y2hlbmQiLCJ1cE91dF8iLCJ0b3VjaGNhbmNlbCIsImNhbmNlbE91dF8iLCJwb2ludGVyX1RvdWNoU291cmNlIiwiVG91Y2hTb3VyY2UiLCJtb3VzZVNvdXJjZSIsImZpcnN0VG91Y2hJZF8iLCJyZXNldElkXyIsImRlZHVwVGltZW91dF8iLCJpc1ByaW1hcnlUb3VjaF8iLCJpblRvdWNoIiwiaWRlbnRpZmllciIsImNhbmNlbFJlc2V0Q2xpY2tDb3VudF8iLCJyZW1vdmVQcmltYXJ5UG9pbnRlcl8iLCJpblBvaW50ZXIiLCJyZXNldENsaWNrQ291bnRfIiwicmVzZXRDbGlja0NvdW50SGFuZGxlcl8iLCJ0b3VjaFRvUG9pbnRlcl8iLCJyYWRpdXNYIiwicmFkaXVzWSIsImZvcmNlIiwiaW5GdW5jdGlvbiIsInRvdWNoZXMiLCJwb2ludGVyIiwiZmluZFRvdWNoXyIsInRvdWNoTGlzdCIsInNlYXJjaElkIiwib3V0VGFyZ2V0Iiwib3ZlciIsImVudGVyIiwib3V0RXZlbnQiLCJsZWF2ZSIsImNsZWFuVXBQb2ludGVyXyIsImx0IiwiQ0xPTkVfUFJPUFMiLCJwb2ludGVyX1BvaW50ZXJFdmVudEhhbmRsZXIiLCJQb2ludGVyRXZlbnRIYW5kbGVyIiwiZXZlbnRNYXBfIiwiZXZlbnRTb3VyY2VMaXN0XyIsInJlZ2lzdGVyU291cmNlcyIsInJlZ2lzdGVyU291cmNlIiwicmVnaXN0ZXJfIiwibmV3RXZlbnRzIiwiaGFuZGxlciIsImV2ZW50U291cmNlIiwiYWRkRXZlbnRzXyIsInVucmVnaXN0ZXJfIiwicmVtb3ZlRXZlbnRzXyIsImV2ZW50SGFuZGxlcl8iLCJldmVudE5hbWUiLCJvbF9ldmVudHMiLCJldmVudENvcHkiLCJmaXJlRXZlbnQiLCJjb250YWluc18iLCJjb250YWluZWQiLCJpblR5cGUiLCJ3cmFwTW91c2VFdmVudCIsIlRhcmdldCIsIm9sX01hcEJyb3dzZXJFdmVudEhhbmRsZXIiLCJNYXBCcm93c2VyRXZlbnRIYW5kbGVyIiwibW92ZVRvbGVyYW5jZSIsImNsaWNrVGltZW91dElkXyIsImRyYWdnaW5nXyIsImRyYWdMaXN0ZW5lcktleXNfIiwibW92ZVRvbGVyYW5jZV8iLCJkb3duXyIsImFjdGl2ZVBvaW50ZXJzXyIsInRyYWNrZWRUb3VjaGVzXyIsInBvaW50ZXJFdmVudEhhbmRsZXJfIiwiZG9jdW1lbnRQb2ludGVyRXZlbnRIYW5kbGVyXyIsInBvaW50ZXJkb3duTGlzdGVuZXJLZXlfIiwiaGFuZGxlUG9pbnRlckRvd25fIiwicmVsYXllZExpc3RlbmVyS2V5XyIsInJlbGF5RXZlbnRfIiwiZW11bGF0ZUNsaWNrXyIsIm5ld0V2ZW50IiwidXBkYXRlQWN0aXZlUG9pbnRlcnNfIiwiaGFuZGxlUG9pbnRlclVwXyIsInByb3BhZ2F0aW9uU3RvcHBlZCIsImlzTW91c2VBY3Rpb25CdXR0b25fIiwiaXNNb3ZpbmdfIiwiTWFwRXZlbnRUeXBlIiwiTWFwUHJvcGVydHkiLCJMQVlFUkdST1VQIiwiU0laRSIsIlRBUkdFVCIsIlZJRVciLCJvbF9QbHVnZ2FibGVNYXAiLCJQbHVnZ2FibGVNYXAiLCJvcHRpb25zSW50ZXJuYWwiLCJrZXlib2FyZEV2ZW50VGFyZ2V0IiwiZ2V0RWxlbWVudEJ5SWQiLCJjb250cm9scyIsIm92ZXJsYXlzIiwibGF5ZXJHcm91cCIsIkdyb3VwIiwiY3JlYXRlT3B0aW9uc0ludGVybmFsIiwibWF4VGlsZXNMb2FkaW5nXyIsIm1heFRpbGVzTG9hZGluZyIsImxvYWRUaWxlc1doaWxlQW5pbWF0aW5nXyIsImxvYWRUaWxlc1doaWxlQW5pbWF0aW5nIiwibG9hZFRpbGVzV2hpbGVJbnRlcmFjdGluZ18iLCJsb2FkVGlsZXNXaGlsZUludGVyYWN0aW5nIiwiYW5pbWF0aW9uRGVsYXlLZXlfIiwiYW5pbWF0aW9uRGVsYXlfIiwicmVuZGVyRnJhbWVfIiwiY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm1fIiwicGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm1fIiwiZnJhbWVJbmRleF8iLCJmcmFtZVN0YXRlXyIsInByZXZpb3VzRXh0ZW50XyIsInZpZXdQcm9wZXJ0eUxpc3RlbmVyS2V5XyIsInZpZXdDaGFuZ2VMaXN0ZW5lcktleV8iLCJsYXllckdyb3VwUHJvcGVydHlMaXN0ZW5lcktleXNfIiwidmlld3BvcnRfIiwib3ZlcmZsb3ciLCJtc1RvdWNoQWN0aW9uIiwidG91Y2hBY3Rpb24iLCJvdmVybGF5Q29udGFpbmVyXyIsIm92ZXJsYXlDb250YWluZXJTdG9wRXZlbnRfIiwib3ZlcmxheUV2ZW50cyIsIk1PVVNFRE9XTiIsIlRPVUNIU1RBUlQiLCJNU1BPSU5URVJET1dOIiwibWFwQnJvd3NlckV2ZW50SGFuZGxlcl8iLCJoYW5kbGVNYXBCcm93c2VyRXZlbnQiLCJrZXlib2FyZEV2ZW50VGFyZ2V0XyIsImtleUhhbmRsZXJLZXlzXyIsImhhbmRsZUJyb3dzZXJFdmVudCIsIm92ZXJsYXlzXyIsIm92ZXJsYXlJZEluZGV4XyIsInJlbmRlcmVyXyIsImNyZWF0ZVJlbmRlcmVyIiwiaGFuZGxlUmVzaXplXyIsImZvY3VzXyIsInBvc3RSZW5kZXJGdW5jdGlvbnNfIiwidGlsZVF1ZXVlXyIsImdldFRpbGVQcmlvcml0eSIsImhhbmRsZVRpbGVDaGFuZ2VfIiwic2tpcHBlZEZlYXR1cmVVaWRzXyIsImhhbmRsZUxheWVyR3JvdXBDaGFuZ2VkXyIsImhhbmRsZVZpZXdDaGFuZ2VkXyIsImhhbmRsZVNpemVDaGFuZ2VkXyIsImhhbmRsZVRhcmdldENoYW5nZWRfIiwiY29udHJvbCIsImludGVyYWN0aW9uIiwiYWRkT3ZlcmxheUludGVybmFsXyIsImFkZENvbnRyb2wiLCJnZXRDb250cm9scyIsImFkZEludGVyYWN0aW9uIiwiZ2V0SW50ZXJhY3Rpb25zIiwiYWRkTGF5ZXIiLCJnZXRMYXllckdyb3VwIiwiYWRkT3ZlcmxheSIsIm92ZXJsYXkiLCJnZXRPdmVybGF5cyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJSRVNJWkUiLCJzZXRUYXJnZXQiLCJnZXRGZWF0dXJlc0F0UGl4ZWwiLCJoYXNGZWF0dXJlQXRQaXhlbCIsImdldEV2ZW50Q29vcmRpbmF0ZSIsImV2ZW50UG9zaXRpb24iLCJnZXRUYXJnZXQiLCJnZXRPdmVybGF5QnlJZCIsImdldFJlbmRlcmVyIiwiZ2V0T3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudCIsInRpbGVDZW50ZXIiLCJmb2N1cyIsIm9wdF90eXBlIiwiaW50ZXJhY3Rpb25zQXJyYXkiLCJoYW5kbGVQb3N0UmVuZGVyIiwicmVuZGVyX0V2ZW50VHlwZSIsImdldExvYWRpbmciLCJ0YXJnZXRFbGVtZW50IiwidXBkYXRlU2l6ZSIsImhhbmRsZVZpZXdQcm9wZXJ0eUNoYW5nZWRfIiwic2V0QXR0cmlidXRlIiwicmVuZGVyU3luYyIsInJlbW92ZUNvbnRyb2wiLCJyZW1vdmVJbnRlcmFjdGlvbiIsInJlbW92ZUxheWVyIiwicmVtb3ZlT3ZlcmxheSIsInByZXZpb3VzRnJhbWVTdGF0ZSIsIm9sX3NpemUiLCJzZXRMYXllckdyb3VwIiwic2V0VmlldyIsImNvbXB1dGVkU3R5bGUiLCJvZmZzZXRXaWR0aCIsInBhcnNlRmxvYXQiLCJvZmZzZXRIZWlnaHQiLCJjb250cm9sX0NvbnRyb2wiLCJDb250cm9sIiwidGFyZ2V0XyIsImxpc3RlbmVyS2V5cyIsIkF0dHJpYnV0aW9uX3JlbmRlciIsIm1hcEV2ZW50IiwidXBkYXRlRWxlbWVudF8iLCJjb250cm9sX0F0dHJpYnV0aW9uIiwiQXR0cmlidXRpb24iLCJ1bEVsZW1lbnRfIiwiY29sbGFwc2VkXyIsImNvbGxhcHNlZCIsIm92ZXJyaWRlQ29sbGFwc2libGVfIiwiY29sbGFwc2libGUiLCJjb2xsYXBzaWJsZV8iLCJ0aXBMYWJlbCIsImNvbGxhcHNlTGFiZWwiLCJjb2xsYXBzZUxhYmVsXyIsInRleHRDb250ZW50IiwibGFiZWwiLCJsYWJlbF8iLCJhY3RpdmVMYWJlbCIsInRpdGxlIiwiaGFuZGxlQ2xpY2tfIiwiY3NzQ2xhc3NlcyIsInJlbmRlcmVkQXR0cmlidXRpb25zXyIsImNvbGxlY3RTb3VyY2VBdHRyaWJ1dGlvbnNfIiwibG9va3VwIiwidmlzaWJsZUF0dHJpYnV0aW9ucyIsImF0dHJpYnV0aW9uR2V0dGVyIiwic2V0Q29sbGFwc2libGUiLCJpbm5lckhUTUwiLCJoYW5kbGVUb2dnbGVfIiwiZ2V0Q29sbGFwc2libGUiLCJzZXRDb2xsYXBzZWQiLCJnZXRDb2xsYXBzZWQiLCJSb3RhdGVfcmVuZGVyIiwicm90YXRpb25fIiwiYXV0b0hpZGVfIiwibXNUcmFuc2Zvcm0iLCJ3ZWJraXRUcmFuc2Zvcm0iLCJjb250cm9sX1JvdGF0ZSIsIlJvdGF0ZSIsImNhbGxSZXNldE5vcnRoXyIsInJlc2V0Tm9ydGgiLCJhdXRvSGlkZSIsInJlc2V0Tm9ydGhfIiwiY29udHJvbF9ab29tIiwiWm9vbSIsInpvb21JbkxhYmVsIiwiem9vbU91dExhYmVsIiwiem9vbUluVGlwTGFiZWwiLCJ6b29tT3V0VGlwTGFiZWwiLCJpbkVsZW1lbnQiLCJjcmVhdGVUZXh0Tm9kZSIsIm91dEVsZW1lbnQiLCJ6b29tQnlEZWx0YV8iLCJSZXBsYXlHcm91cF9SZXBsYXlHcm91cCIsImdldFJlcGxheSIsInJlcGxheVR5cGUiLCJhZGREZWNsdXR0ZXIiLCJncm91cCIsInJlbmRlcl9SZXBsYXlHcm91cCIsIlJlcGxheVR5cGUiLCJERUZBVUxUIiwiZHJhd1RleHRPblBhdGgiLCJtZWFzdXJlIiwic3RhcnRNIiwibWF4QW5nbGUiLCJwcmV2aW91c0FuZ2xlIiwicmV2ZXJzZSIsIm51bUNoYXJzIiwic2VnbWVudE0iLCJjaHVuayIsImNodW5rTGVuZ3RoIiwiY2hhciIsImNoYXJBdCIsImNoYXJMZW5ndGgiLCJjaGFyTSIsInNlZ21lbnRQb3MiLCJ1bnNoaWZ0IiwiSW5zdHJ1Y3Rpb24iLCJCRUdJTl9HRU9NRVRSWSIsIkJFR0lOX1BBVEgiLCJDTE9TRV9QQVRIIiwiQ1VTVE9NIiwiRFJBV19DSEFSUyIsIkRSQVdfSU1BR0UiLCJFTkRfR0VPTUVUUlkiLCJGSUxMIiwiTU9WRV9UT19MSU5FX1RPIiwiU0VUX0ZJTExfU1RZTEUiLCJTRVRfU1RST0tFX1NUWUxFIiwiU1RST0tFIiwiSW5zdHJ1Y3Rpb25fZmlsbEluc3RydWN0aW9uIiwiSW5zdHJ1Y3Rpb25fc3Ryb2tlSW5zdHJ1Y3Rpb24iLCJiZWdpblBhdGhJbnN0cnVjdGlvbiIsImNsb3NlUGF0aEluc3RydWN0aW9uIiwiY2FudmFzX0luc3RydWN0aW9uIiwiT1JERVIiLCJURVhUX0FMSUdOIiwibWlkZGxlIiwiaGFuZ2luZyIsImFscGhhYmV0aWMiLCJpZGVvZ3JhcGhpYyIsImJvdHRvbSIsInRtcFRyYW5zZm9ybSIsIlJlcGxheSIsIkNhbnZhc1JlcGxheSIsIm1heEV4dGVudCIsImRlY2x1dHRlclRyZWUiLCJtYXhMaW5lV2lkdGgiLCJhbGlnbkZpbGxfIiwiYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMV8iLCJiZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24yXyIsImJ1ZmZlcmVkTWF4RXh0ZW50XyIsImluc3RydWN0aW9ucyIsImNvb3JkaW5hdGVDYWNoZV8iLCJyZW5kZXJlZFRyYW5zZm9ybV8iLCJoaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMiLCJyZXBsYXlUZXh0QmFja2dyb3VuZF8iLCJwMSIsInAyIiwicDMiLCJwNCIsImZpbGxJbnN0cnVjdGlvbiIsInN0cm9rZUluc3RydWN0aW9uIiwiZmlsbF8iLCJzZXRTdHJva2VTdHlsZV8iLCJyZXBsYXlJbWFnZV8iLCJhbmNob3JYIiwiYW5jaG9yWSIsImRlY2x1dHRlckdyb3VwIiwib3JpZ2luWCIsIm9yaWdpblkiLCJzbmFwVG9QaXhlbCIsImZpbGxTdHJva2UiLCJib3hXIiwiYm94SCIsImJveFgiLCJib3hZIiwic3Ryb2tlUGFkZGluZyIsImRlY2x1dHRlckFyZ3MiLCJyZW5kZXJfY2FudmFzIiwiYXBwbHlQaXhlbFJhdGlvIiwiZGFzaEFycmF5IiwiZGFzaCIsImFwcGVuZEZsYXRDb29yZGluYXRlcyIsImNsb3NlZCIsInNraXBGaXJzdCIsIm15RW5kIiwiZ2V0QnVmZmVyZWRNYXhFeHRlbnQiLCJsYXN0UmVsIiwibmV4dFJlbCIsImxhc3RDb29yZCIsIm5leHRDb29yZCIsInNraXBwZWQiLCJSZWxhdGlvbnNoaXAiLCJJTlRFUlNFQ1RJTkciLCJkcmF3Q3VzdG9tQ29vcmRpbmF0ZXNfIiwicmVwbGF5RW5kcyIsInJlcGxheUVuZCIsImJlZ2luR2VvbWV0cnkiLCJyZXBsYXlFbmRzcyIsInJlcGxheUJlZ2luIiwibXlFbmRzIiwiZW5kR2VvbWV0cnkiLCJmaW5pc2giLCJvcmlnaW4iLCJyZXBlYXRTaXplIiwiaW5zdHJ1Y3Rpb24iLCJyZW5kZXJEZWNsdXR0ZXJfIiwiZ3JvdXBDb3VudCIsImRlY2x1dHRlckRhdGEiLCJyZXBsYXlfIiwic2tpcHBlZEZlYXR1cmVzSGFzaCIsImZlYXR1cmVDYWxsYmFjayIsIm9wdF9oaXRFeHRlbnQiLCJmbGF0X3RyYW5zZm9ybSIsImRkIiwicHJldlgiLCJwcmV2WSIsInJvdW5kWCIsInJvdW5kWSIsInNraXBGZWF0dXJlcyIsInBlbmRpbmdGaWxsIiwicGVuZGluZ1N0cm9rZSIsImxhc3RGaWxsSW5zdHJ1Y3Rpb24iLCJsYXN0U3Ryb2tlSW5zdHJ1Y3Rpb24iLCJjb29yZGluYXRlQ2FjaGUiLCJiYXRjaFNpemUiLCJmbiIsInJvdGF0ZVdpdGhWaWV3IiwiYmFja2dyb3VuZEZpbGwiLCJiYWNrZ3JvdW5kU3Ryb2tlIiwiYmFzZWxpbmUiLCJmaWxsS2V5Iiwib2Zmc2V0WSIsInN0cm9rZUtleSIsInN0cm9rZVdpZHRoIiwidGV4dEtleSIsInBhdGhMZW5ndGgiLCJ0ZXh0TGVuZ3RoIiwidGV4dFN0YXRlcyIsInBhcnRzIiwiYyIsImNjIiwiY2hhcnMiLCJwYXJ0IiwicmVwbGF5IiwicmVwbGF5SGl0RGV0ZWN0aW9uIiwib3B0X2ZlYXR1cmVDYWxsYmFjayIsInJldmVyc2VIaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMiLCJjb2xvcmxpa2UiLCJjcmVhdGVGaWxsIiwiYXBwbHlTdHJva2UiLCJjcmVhdGVTdHJva2UiLCJ1cGRhdGVGaWxsU3R5bGUiLCJjdXJyZW50RmlsbFN0eWxlIiwidXBkYXRlU3Ryb2tlU3R5bGUiLCJjdXJyZW50U3Ryb2tlU3R5bGUiLCJjdXJyZW50TGluZUNhcCIsImN1cnJlbnRMaW5lRGFzaCIsImN1cnJlbnRMaW5lRGFzaE9mZnNldCIsImN1cnJlbnRMaW5lSm9pbiIsImN1cnJlbnRMaW5lV2lkdGgiLCJjdXJyZW50TWl0ZXJMaW1pdCIsImVuZEdlb21ldHJ5SW5zdHJ1Y3Rpb24iLCJyZW5kZXJfVmVjdG9yQ29udGV4dCIsIkltYWdlUmVwbGF5IiwiQ2FudmFzSW1hZ2VSZXBsYXkiLCJkZWNsdXR0ZXJHcm91cF8iLCJoaXREZXRlY3Rpb25JbWFnZV8iLCJhbmNob3JYXyIsImFuY2hvcllfIiwiaGVpZ2h0XyIsIm9wYWNpdHlfIiwib3JpZ2luWF8iLCJvcmlnaW5ZXyIsInJvdGF0ZVdpdGhWaWV3XyIsInNjYWxlXyIsIndpZHRoXyIsImRyYXdDb29yZGluYXRlc18iLCJteUJlZ2luIiwiaGl0RGV0ZWN0aW9uSW1hZ2UiLCJnZXRIaXREZXRlY3Rpb25JbWFnZSIsIkxpbmVTdHJpbmdSZXBsYXkiLCJDYW52YXNMaW5lU3RyaW5nUmVwbGF5IiwiZHJhd0ZsYXRDb29yZGluYXRlc18iLCJtb3ZlVG9MaW5lVG9JbnN0cnVjdGlvbiIsImxhc3RTdHJva2UiLCJQb2x5Z29uUmVwbGF5IiwiQ2FudmFzUG9seWdvblJlcGxheSIsImRyYXdGbGF0Q29vcmRpbmF0ZXNzXyIsIm51bUVuZHMiLCJzZXRGaWxsU3Ryb2tlU3R5bGVzXyIsImNpcmNsZUluc3RydWN0aW9uIiwibWF0Y2hpbmdDaHVuayIsIm0xMiIsIm0yMyIsIngxMiIsInkxMiIsIngyMyIsInkyMyIsImNodW5rU3RhcnQiLCJjaHVua0VuZCIsImNodW5rTSIsImFjb3MiLCJCQVRDSF9DT05TVFJVQ1RPUlMiLCJEZWZhdWx0IiwiSW1hZ2UiLCJUZXh0IiwiQ2FudmFzVGV4dFJlcGxheSIsImxhYmVsc18iLCJmaWxsU3RhdGVzIiwic3Ryb2tlU3RhdGVzIiwidGV4dEtleV8iLCJmaWxsS2V5XyIsInN0cm9rZUtleV8iLCJ3aWR0aHNfIiwicHJ1bmUiLCJnZW9tZXRyeVR5cGUiLCJwbGFjZW1lbnQiLCJUZXh0UGxhY2VtZW50IiwiZmxhdEVuZCIsImZsYXRPZmZzZXQiLCJvbyIsInJhbmdlIiwiZHJhd0NoYXJzXyIsImRyYXdUZXh0SW1hZ2VfIiwiY29udGFpbnNLZXkiLCJhbGlnbiIsIm51bUxpbmVzIiwid2lkdGhzIiwiY3VycmVudFdpZHRoIiwibWVhc3VyZVRleHRXaWR0aHMiLCJsaW5lSGVpZ2h0IiwicmVuZGVyV2lkdGgiLCJsZWZ0UmlnaHQiLCJnZXRPdmVyZmxvdyIsImdldE1heEFuZ2xlIiwiZ2V0UGxhY2VtZW50IiwiZ2V0QmFja2dyb3VuZEZpbGwiLCJnZXRCYWNrZ3JvdW5kU3Ryb2tlIiwiZ2V0UGFkZGluZyIsIlJlcGxheUdyb3VwX0NhbnZhc1JlcGxheUdyb3VwIiwiUmVwbGF5R3JvdXAiLCJDYW52YXNSZXBsYXlHcm91cCIsIm9wdF9yZW5kZXJCdWZmZXIiLCJkZWNsdXR0ZXJUcmVlXyIsInRvbGVyYW5jZV8iLCJtYXhFeHRlbnRfIiwicmVzb2x1dGlvbl8iLCJyZXBsYXlzQnlaSW5kZXhfIiwiaGl0RGV0ZWN0aW9uQ29udGV4dF8iLCJoaXREZXRlY3Rpb25UcmFuc2Zvcm1fIiwiZmxhdENsaXBDb29yZHMiLCJnZXRDbGlwQ29vcmRzIiwiaGFzUmVwbGF5cyIsInJlcGxheXMiLCJjYW5kaWRhdGVzIiwicmVwbGF5S2V5IiwiZGVjbHV0dGVyUmVwbGF5cyIsImhpdEV4dGVudCIsImNvbnRleHRTaXplIiwiZGVjbHV0dGVyZWRGZWF0dXJlcyIsIm1hc2siLCJjaXJjbGVBcnJheUNhY2hlIiwiYXJyYXlTaXplIiwiZXJyb3IiLCJmaWxsQ2lyY2xlQXJyYXlSb3dUb01pZGRsZSIsImdldENpcmNsZUFycmF5IiwiZW50cnkiLCJ6SW5kZXhLZXkiLCJnZXRSZXBsYXlzIiwib3B0X3JlcGxheVR5cGVzIiwib3B0X2RlY2x1dHRlclJlcGxheXMiLCJyZXBsYXlUeXBlcyIsIjAiLCJjYW52YXNfUmVwbGF5R3JvdXAiLCJTSU1QTElGWV9UT0xFUkFOQ0UiLCJHRU9NRVRSWV9SRU5ERVJFUlMiLCJyZXBsYXlHcm91cCIsImdldEltYWdlU3RhdGUiLCJpbWFnZVJlcGxheSIsInRleHRSZXBsYXkiLCJsaW5lU3RyaW5nUmVwbGF5IiwicG9seWdvblJlcGxheSIsImdlb21ldHJ5UmVuZGVyZXIiLCJjaXJjbGVSZXBsYXkiLCJkZWZhdWx0T3JkZXIiLCJmZWF0dXJlMSIsImZlYXR1cmUyIiwiZ2V0U3F1YXJlZFRvbGVyYW5jZSIsImdldFRvbGVyYW5jZSIsInJlbmRlckZlYXR1cmUiLCJsaXN0ZW5lciIsInVubGlzdGVuSW1hZ2VDaGFuZ2UiLCJsaXN0ZW5JbWFnZUNoYW5nZSIsInNpbXBsaWZpZWRHZW9tZXRyeSIsInJlbmRlckdlb21ldHJ5IiwiZ2V0R2VvbWV0cmllcyIsInJlbmRlckZlYXR1cmVJbnRlcm5hbCIsIlZlY3RvckxheWVyX0NhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIiLCJDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyIiwidmVjdG9yTGF5ZXIiLCJyYnVzaF9kZWZhdWx0IiwiZGlydHlfIiwicmVuZGVyZWRSZXZpc2lvbl8iLCJyZW5kZXJlZFJlc29sdXRpb25fIiwicmVuZGVyZWRSZW5kZXJPcmRlcl8iLCJyZXBsYXlHcm91cF8iLCJoYW5kbGVGb250c0NoYW5nZWRfIiwidmVjdG9yU291cmNlIiwiY2xpcEV4dGVudCIsInJlcGxheUNvbnRleHQiLCJkcmF3T2Zmc2V0WCIsImRyYXdPZmZzZXRZIiwidHJhbnNwYXJlbnRMYXllciIsImhhc1JlbmRlckxpc3RlbmVycyIsImRyYXdXaWR0aCIsImRyYXdIZWlnaHQiLCJkcmF3U2l6ZSIsInN0YXJ0WCIsIndvcmxkIiwibWFpbkNvbnRleHRBbHBoYSIsImhhbmRsZVN0eWxlSW1hZ2VDaGFuZ2VfIiwiYW5pbWF0aW5nIiwiaW50ZXJhY3RpbmciLCJmcmFtZVN0YXRlRXh0ZW50IiwidmVjdG9yTGF5ZXJSZXZpc2lvbiIsInZlY3RvckxheWVyUmVuZGVyQnVmZmVyIiwidmVjdG9yTGF5ZXJSZW5kZXJPcmRlciIsInN0eWxlRnVuY3Rpb24iLCJkaXJ0eSIsImNhbnZhc19MYXllciIsIkxheWVyVHlwZSIsIklNQUdFX1JFUExBWVMiLCJoeWJyaWQiLCJWRUNUT1JfUkVQTEFZUyIsInZlY3RvciIsIlZlY3RvclRpbGVMYXllcl9DYW52YXNWZWN0b3JUaWxlTGF5ZXJSZW5kZXJlciIsIkNhbnZhc1ZlY3RvclRpbGVMYXllclJlbmRlcmVyIiwicmVuZGVyZWRMYXllclJldmlzaW9uXyIsInRtcFRyYW5zZm9ybV8iLCJWZWN0b3JUaWxlUmVuZGVyVHlwZSIsImNyZWF0ZVJlcGxheUdyb3VwXyIsInJlbmRlclRpbGVJbWFnZV8iLCJsYXllclJldmlzaW9uIiwicmV2aXNpb24iLCJyZXBsYXlTdGF0ZSIsImdldFJlcGxheVN0YXRlIiwicmVuZGVyZWRSZW5kZXJPcmRlciIsInNvdXJjZVRpbGVHcmlkIiwiZ2V0VGlsZUdyaWQiLCJ0dCIsInNvdXJjZVRpbGUiLCJ0aWxlS2V5cyIsInNvdXJjZVRpbGVDb29yZCIsInNvdXJjZVRpbGVFeHRlbnQiLCJzaGFyZWRFeHRlbnQiLCJidWZmZXJlZEV4dGVudCIsInRpbGVQcm9qZWN0aW9uIiwicmVwcm9qZWN0Iiwic2V0UHJvamVjdGlvbiIsImdldFVuaXRzIiwiVElMRV9QSVhFTFMiLCJzZXRXb3JsZEV4dGVudCIsInNldFJlcGxheUdyb3VwIiwiZ2V0UmVwbGF5R3JvdXAiLCJnZXRSZXBsYXlUcmFuc2Zvcm1fIiwicmVuZGVyUmVzb2x1dGlvbiIsImNsaXBzIiwid29ybGRPZmZzZXQiLCJjdXJyZW50Q2xpcCIsInp6IiwicmVwbGF5RGF0YSIsInJlcGxheURlY2x1dHRlciIsInJlbmRlcmVkVGlsZVJldmlzaW9uIiwid3JhcHBlZFRpbGVDb29yZCIsImdldENvbnRleHQiLCJwaXhlbFNjYWxlIiwiVGlsZUxheWVyIiwiVmVjdG9yVGlsZUxheWVyIiwiTWFwX01hcCIsInpvb21PcHRpb25zIiwicm90YXRlT3B0aW9ucyIsImF0dHJpYnV0aW9uIiwiYXR0cmlidXRpb25PcHRp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QUFBLEVBQWlCdm9GLE1BT3hDLE9BTkFnOEIsRUFBQStLLHVCQUFBLENBQ015aEQsR0FBQSxFQUNBUixHQUFBLEVBQ0F2NUUsR0FDQXc1RSxLQUVOanNELEdBR0F1SyxFQTVCTyxDQTZCTHUvQixJQUdhcHJFLEVBQUEiLCJmaWxlIjoib2wvTWFwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbW9kdWxlIG9sL2FycmF5XG4gKi9cblxuXG4vKipcbiAqIFBlcmZvcm1zIGEgYmluYXJ5IHNlYXJjaCBvbiB0aGUgcHJvdmlkZWQgc29ydGVkIGxpc3QgYW5kIHJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBpdGVtIGlmIGZvdW5kLiBJZiBpdCBjYW4ndCBiZSBmb3VuZCBpdCdsbCByZXR1cm4gLTEuXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZGFya3NreWFwcC9iaW5hcnktc2VhcmNoXG4gKlxuICogQHBhcmFtIHtBcnJheTwqPn0gaGF5c3RhY2sgSXRlbXMgdG8gc2VhcmNoIHRocm91Z2guXG4gKiBAcGFyYW0geyp9IG5lZWRsZSBUaGUgaXRlbSB0byBsb29rIGZvci5cbiAqIEBwYXJhbSB7RnVuY3Rpb249fSBvcHRfY29tcGFyYXRvciBDb21wYXJhdG9yIGZ1bmN0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgaW5kZXggb2YgdGhlIGl0ZW0gaWYgZm91bmQsIC0xIGlmIG5vdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmFyeVNlYXJjaChoYXlzdGFjaywgbmVlZGxlLCBvcHRfY29tcGFyYXRvcikge1xuICB2YXIgbWlkLCBjbXA7XG4gIHZhciBjb21wYXJhdG9yID0gb3B0X2NvbXBhcmF0b3IgfHwgbnVtYmVyU2FmZUNvbXBhcmVGdW5jdGlvbjtcbiAgdmFyIGxvdyA9IDA7XG4gIHZhciBoaWdoID0gaGF5c3RhY2subGVuZ3RoO1xuICB2YXIgZm91bmQgPSBmYWxzZTtcblxuICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgIC8qIE5vdGUgdGhhdCBcIihsb3cgKyBoaWdoKSA+Pj4gMVwiIG1heSBvdmVyZmxvdywgYW5kIHJlc3VsdHMgaW4gYSB0eXBlY2FzdFxuICAgICAqIHRvIGRvdWJsZSAod2hpY2ggZ2l2ZXMgdGhlIHdyb25nIHJlc3VsdHMpLiAqL1xuICAgIG1pZCA9IGxvdyArIChoaWdoIC0gbG93ID4+IDEpO1xuICAgIGNtcCA9ICtjb21wYXJhdG9yKGhheXN0YWNrW21pZF0sIG5lZWRsZSk7XG5cbiAgICBpZiAoY21wIDwgMC4wKSB7IC8qIFRvbyBsb3cuICovXG4gICAgICBsb3cgPSBtaWQgKyAxO1xuXG4gICAgfSBlbHNlIHsgLyogS2V5IGZvdW5kIG9yIHRvbyBoaWdoICovXG4gICAgICBoaWdoID0gbWlkO1xuICAgICAgZm91bmQgPSAhY21wO1xuICAgIH1cbiAgfVxuXG4gIC8qIEtleSBub3QgZm91bmQuICovXG4gIHJldHVybiBmb3VuZCA/IGxvdyA6IH5sb3c7XG59XG5cblxuLyoqXG4gKiBDb21wYXJlIGZ1bmN0aW9uIGZvciBhcnJheSBzb3J0IHRoYXQgaXMgc2FmZSBmb3IgbnVtYmVycy5cbiAqIEBwYXJhbSB7Kn0gYSBUaGUgZmlyc3Qgb2JqZWN0IHRvIGJlIGNvbXBhcmVkLlxuICogQHBhcmFtIHsqfSBiIFRoZSBzZWNvbmQgb2JqZWN0IHRvIGJlIGNvbXBhcmVkLlxuICogQHJldHVybiB7bnVtYmVyfSBBIG5lZ2F0aXZlIG51bWJlciwgemVybywgb3IgYSBwb3NpdGl2ZSBudW1iZXIgYXMgdGhlIGZpcnN0XG4gKiAgICAgYXJndW1lbnQgaXMgbGVzcyB0aGFuLCBlcXVhbCB0bywgb3IgZ3JlYXRlciB0aGFuIHRoZSBzZWNvbmQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBudW1iZXJTYWZlQ29tcGFyZUZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEgPiBiID8gMSA6IGEgPCBiID8gLTEgOiAwO1xufVxuXG5cbi8qKlxuICogV2hldGhlciB0aGUgYXJyYXkgY29udGFpbnMgdGhlIGdpdmVuIG9iamVjdC5cbiAqIEBwYXJhbSB7QXJyYXk8Kj59IGFyciBUaGUgYXJyYXkgdG8gdGVzdCBmb3IgdGhlIHByZXNlbmNlIG9mIHRoZSBlbGVtZW50LlxuICogQHBhcmFtIHsqfSBvYmogVGhlIG9iamVjdCBmb3Igd2hpY2ggdG8gdGVzdC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBvYmplY3QgaXMgaW4gdGhlIGFycmF5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5jbHVkZXMoYXJyLCBvYmopIHtcbiAgcmV0dXJuIGFyci5pbmRleE9mKG9iaikgPj0gMDtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gYXJyIEFycmF5LlxuICogQHBhcmFtIHtudW1iZXJ9IHRhcmdldCBUYXJnZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZGlyZWN0aW9uIDAgbWVhbnMgcmV0dXJuIHRoZSBuZWFyZXN0LCA+IDBcbiAqICAgIG1lYW5zIHJldHVybiB0aGUgbGFyZ2VzdCBuZWFyZXN0LCA8IDAgbWVhbnMgcmV0dXJuIHRoZVxuICogICAgc21hbGxlc3QgbmVhcmVzdC5cbiAqIEByZXR1cm4ge251bWJlcn0gSW5kZXguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJGaW5kTmVhcmVzdChhcnIsIHRhcmdldCwgZGlyZWN0aW9uKSB7XG4gIHZhciBuID0gYXJyLmxlbmd0aDtcbiAgaWYgKGFyclswXSA8PSB0YXJnZXQpIHtcbiAgICByZXR1cm4gMDtcbiAgfSBlbHNlIGlmICh0YXJnZXQgPD0gYXJyW24gLSAxXSkge1xuICAgIHJldHVybiBuIC0gMTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgaTtcbiAgICBpZiAoZGlyZWN0aW9uID4gMCkge1xuICAgICAgZm9yIChpID0gMTsgaSA8IG47ICsraSkge1xuICAgICAgICBpZiAoYXJyW2ldIDwgdGFyZ2V0KSB7XG4gICAgICAgICAgcmV0dXJuIGkgLSAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPCAwKSB7XG4gICAgICBmb3IgKGkgPSAxOyBpIDwgbjsgKytpKSB7XG4gICAgICAgIGlmIChhcnJbaV0gPD0gdGFyZ2V0KSB7XG4gICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChpID0gMTsgaSA8IG47ICsraSkge1xuICAgICAgICBpZiAoYXJyW2ldID09IHRhcmdldCkge1xuICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9IGVsc2UgaWYgKGFycltpXSA8IHRhcmdldCkge1xuICAgICAgICAgIGlmIChhcnJbaSAtIDFdIC0gdGFyZ2V0IDwgdGFyZ2V0IC0gYXJyW2ldKSB7XG4gICAgICAgICAgICByZXR1cm4gaSAtIDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbiAtIDE7XG4gIH1cbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IGFyciBBcnJheS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiZWdpbiBCZWdpbiBpbmRleC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kIGluZGV4LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmV2ZXJzZVN1YkFycmF5KGFyciwgYmVnaW4sIGVuZCkge1xuICB3aGlsZSAoYmVnaW4gPCBlbmQpIHtcbiAgICB2YXIgdG1wID0gYXJyW2JlZ2luXTtcbiAgICBhcnJbYmVnaW5dID0gYXJyW2VuZF07XG4gICAgYXJyW2VuZF0gPSB0bXA7XG4gICAgKytiZWdpbjtcbiAgICAtLWVuZDtcbiAgfVxufVxuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxWQUxVRT59IGFyciBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHshQXJyYXk8VkFMVUU+fFZBTFVFfSBkYXRhIFRoZSBlbGVtZW50cyBvciBhcnJheXMgb2YgZWxlbWVudHMgdG8gYWRkIHRvIGFyci5cbiAqIEB0ZW1wbGF0ZSBWQUxVRVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKGFyciwgZGF0YSkge1xuICB2YXIgZXh0ZW5zaW9uID0gQXJyYXkuaXNBcnJheShkYXRhKSA/IGRhdGEgOiBbZGF0YV07XG4gIHZhciBsZW5ndGggPSBleHRlbnNpb24ubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgYXJyW2Fyci5sZW5ndGhdID0gZXh0ZW5zaW9uW2ldO1xuICB9XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PFZBTFVFPn0gYXJyIFRoZSBhcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge1ZBTFVFfSBvYmogVGhlIGVsZW1lbnQgdG8gcmVtb3ZlLlxuICogQHRlbXBsYXRlIFZBTFVFXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZWxlbWVudCB3YXMgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShhcnIsIG9iaikge1xuICB2YXIgaSA9IGFyci5pbmRleE9mKG9iaik7XG4gIHZhciBmb3VuZCA9IGkgPiAtMTtcbiAgaWYgKGZvdW5kKSB7XG4gICAgYXJyLnNwbGljZShpLCAxKTtcbiAgfVxuICByZXR1cm4gZm91bmQ7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PFZBTFVFPn0gYXJyIFRoZSBhcnJheSB0byBzZWFyY2ggaW4uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKFZBTFVFLCBudW1iZXIsID8pIDogYm9vbGVhbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29tcGFyZS5cbiAqIEB0ZW1wbGF0ZSBWQUxVRVxuICogQHJldHVybiB7VkFMVUV8bnVsbH0gVGhlIGVsZW1lbnQgZm91bmQgb3IgbnVsbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmQoYXJyLCBmdW5jKSB7XG4gIHZhciBsZW5ndGggPSBhcnIubGVuZ3RoID4+PiAwO1xuICB2YXIgdmFsdWU7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIHZhbHVlID0gYXJyW2ldO1xuICAgIGlmIChmdW5jKHZhbHVlLCBpLCBhcnIpKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheXxVaW50OENsYW1wZWRBcnJheX0gYXJyMSBUaGUgZmlyc3QgYXJyYXkgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7QXJyYXl8VWludDhDbGFtcGVkQXJyYXl9IGFycjIgVGhlIHNlY29uZCBhcnJheSB0byBjb21wYXJlLlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgdHdvIGFycmF5cyBhcmUgZXF1YWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYXJyMSwgYXJyMikge1xuICB2YXIgbGVuMSA9IGFycjEubGVuZ3RoO1xuICBpZiAobGVuMSAhPT0gYXJyMi5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW4xOyBpKyspIHtcbiAgICBpZiAoYXJyMVtpXSAhPT0gYXJyMltpXSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuXG4vKipcbiAqIFNvcnQgdGhlIHBhc3NlZCBhcnJheSBzdWNoIHRoYXQgdGhlIHJlbGF0aXZlIG9yZGVyIG9mIGVxdWFsIGVsZW1lbnRzIGlzIHByZXZlcnZlZC5cbiAqIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Tb3J0aW5nX2FsZ29yaXRobSNTdGFiaWxpdHkgZm9yIGRldGFpbHMuXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBhcnIgVGhlIGFycmF5IHRvIHNvcnQgKG1vZGlmaWVzIG9yaWdpbmFsKS5cbiAqIEBwYXJhbSB7IWZ1bmN0aW9uKCosICopOiBudW1iZXJ9IGNvbXBhcmVGbmMgQ29tcGFyaXNvbiBmdW5jdGlvbi5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YWJsZVNvcnQoYXJyLCBjb21wYXJlRm5jKSB7XG4gIHZhciBsZW5ndGggPSBhcnIubGVuZ3RoO1xuICB2YXIgdG1wID0gQXJyYXkoYXJyLmxlbmd0aCk7XG4gIHZhciBpO1xuICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB0bXBbaV0gPSB7aW5kZXg6IGksIHZhbHVlOiBhcnJbaV19O1xuICB9XG4gIHRtcC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gY29tcGFyZUZuYyhhLnZhbHVlLCBiLnZhbHVlKSB8fCBhLmluZGV4IC0gYi5pbmRleDtcbiAgfSk7XG4gIGZvciAoaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBhcnJbaV0gPSB0bXBbaV0udmFsdWU7XG4gIH1cbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IGFyciBUaGUgYXJyYXkgdG8gc2VhcmNoIGluLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBDb21wYXJpc29uIGZ1bmN0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBSZXR1cm4gaW5kZXguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kSW5kZXgoYXJyLCBmdW5jKSB7XG4gIHZhciBpbmRleDtcbiAgdmFyIGZvdW5kID0gIWFyci5ldmVyeShmdW5jdGlvbihlbCwgaWR4KSB7XG4gICAgaW5kZXggPSBpZHg7XG4gICAgcmV0dXJuICFmdW5jKGVsLCBpZHgsIGFycik7XG4gIH0pO1xuICByZXR1cm4gZm91bmQgPyBpbmRleCA6IC0xO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTwqPn0gYXJyIFRoZSBhcnJheSB0byB0ZXN0LlxuICogQHBhcmFtIHtGdW5jdGlvbj19IG9wdF9mdW5jIENvbXBhcmlzb24gZnVuY3Rpb24uXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfc3RyaWN0IFN0cmljdGx5IHNvcnRlZCAoZGVmYXVsdCBmYWxzZSkuXG4gKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm4gaW5kZXguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NvcnRlZChhcnIsIG9wdF9mdW5jLCBvcHRfc3RyaWN0KSB7XG4gIHZhciBjb21wYXJlID0gb3B0X2Z1bmMgfHwgbnVtYmVyU2FmZUNvbXBhcmVGdW5jdGlvbjtcbiAgcmV0dXJuIGFyci5ldmVyeShmdW5jdGlvbihjdXJyZW50VmFsLCBpbmRleCkge1xuICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHZhciByZXMgPSBjb21wYXJlKGFycltpbmRleCAtIDFdLCBjdXJyZW50VmFsKTtcbiAgICByZXR1cm4gIShyZXMgPiAwIHx8IG9wdF9zdHJpY3QgJiYgcmVzID09PSAwKTtcbiAgfSk7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFycmF5LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9WaWV3SGludFxuICovXG5cbi8qKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBBTklNQVRJTkc6IDAsXG4gIElOVEVSQUNUSU5HOiAxXG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1WaWV3SGludC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1N0YXRlXG4gKi9cblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICogU3RhdGUgb2YgdGhlIHNvdXJjZSwgb25lIG9mICd1bmRlZmluZWQnLCAnbG9hZGluZycsICdyZWFkeScgb3IgJ2Vycm9yJy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBVTkRFRklORUQ6ICd1bmRlZmluZWQnLFxuICBMT0FESU5HOiAnbG9hZGluZycsXG4gIFJFQURZOiAncmVhZHknLFxuICBFUlJPUjogJ2Vycm9yJ1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RhdGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2Nvb3JkaW5hdGVcbiAqL1xuaW1wb3J0IHttb2R1bG99IGZyb20gJy4vbWF0aC5qcyc7XG5pbXBvcnQge3BhZE51bWJlcn0gZnJvbSAnLi9zdHJpbmcuanMnO1xuXG5cbi8qKlxuICogQW4gYXJyYXkgb2YgbnVtYmVycyByZXByZXNlbnRpbmcgYW4geHkgY29vcmRpbmF0ZS4gRXhhbXBsZTogYFsxNiwgNDhdYC5cbiAqIEB0eXBlZGVmIHtBcnJheTxudW1iZXI+fSBDb29yZGluYXRlXG4gKiBAYXBpXG4gKi9cblxuXG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIHtAbGluayBtb2R1bGU6b2wvY29vcmRpbmF0ZX5Db29yZGluYXRlfSBhbmRcbiAqIHRyYW5zZm9ybXMgaXQgaW50byBhIGB7c3RyaW5nfWAuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKChDb29yZGluYXRlfHVuZGVmaW5lZCkpOiBzdHJpbmd9IENvb3JkaW5hdGVGb3JtYXRcbiAqIEBhcGlcbiAqL1xuXG5cbi8qKlxuICogQWRkIGBkZWx0YWAgdG8gYGNvb3JkaW5hdGVgLiBgY29vcmRpbmF0ZWAgaXMgbW9kaWZpZWQgaW4gcGxhY2UgYW5kIHJldHVybmVkXG4gKiBieSB0aGUgZnVuY3Rpb24uXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICAgaW1wb3J0IHthZGR9IGZyb20gJ29sL2Nvb3JkaW5hdGUnO1xuICpcbiAqICAgICB2YXIgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICBhZGQoY29vcmQsIFstMiwgNF0pO1xuICogICAgIC8vIGNvb3JkIGlzIG5vdyBbNS44NSwgNTEuOTgzMzMzXVxuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBkZWx0YSBEZWx0YS5cbiAqIEByZXR1cm4ge0Nvb3JkaW5hdGV9IFRoZSBpbnB1dCBjb29yZGluYXRlIGFkanVzdGVkIGJ5XG4gKiB0aGUgZ2l2ZW4gZGVsdGEuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGQoY29vcmRpbmF0ZSwgZGVsdGEpIHtcbiAgY29vcmRpbmF0ZVswXSArPSBkZWx0YVswXTtcbiAgY29vcmRpbmF0ZVsxXSArPSBkZWx0YVsxXTtcbiAgcmV0dXJuIGNvb3JkaW5hdGU7XG59XG5cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBwb2ludCBjbG9zZXN0IHRvIHRoZSBwYXNzZWQgY29vcmRpbmF0ZSBvbiB0aGUgcGFzc2VkIGNpcmNsZS5cbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgVGhlIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZ2VvbS9DaXJjbGUuanNcIikuZGVmYXVsdH0gY2lyY2xlIFRoZSBjaXJjbGUuXG4gKiBAcmV0dXJuIHtDb29yZGluYXRlfSBDbG9zZXN0IHBvaW50IG9uIHRoZSBjaXJjdW1mZXJlbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VzdE9uQ2lyY2xlKGNvb3JkaW5hdGUsIGNpcmNsZSkge1xuICB2YXIgciA9IGNpcmNsZS5nZXRSYWRpdXMoKTtcbiAgdmFyIGNlbnRlciA9IGNpcmNsZS5nZXRDZW50ZXIoKTtcbiAgdmFyIHgwID0gY2VudGVyWzBdO1xuICB2YXIgeTAgPSBjZW50ZXJbMV07XG4gIHZhciB4MSA9IGNvb3JkaW5hdGVbMF07XG4gIHZhciB5MSA9IGNvb3JkaW5hdGVbMV07XG5cbiAgdmFyIGR4ID0geDEgLSB4MDtcbiAgdmFyIGR5ID0geTEgLSB5MDtcbiAgaWYgKGR4ID09PSAwICYmIGR5ID09PSAwKSB7XG4gICAgZHggPSAxO1xuICB9XG4gIHZhciBkID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcblxuICB2YXIgeCA9IHgwICsgciAqIGR4IC8gZDtcbiAgdmFyIHkgPSB5MCArIHIgKiBkeSAvIGQ7XG5cbiAgcmV0dXJuIFt4LCB5XTtcbn1cblxuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHBvaW50IGNsb3Nlc3QgdG8gdGhlIHBhc3NlZCBjb29yZGluYXRlIG9uIHRoZSBwYXNzZWQgc2VnbWVudC5cbiAqIFRoaXMgaXMgdGhlIGZvb3Qgb2YgdGhlIHBlcnBlbmRpY3VsYXIgb2YgdGhlIGNvb3JkaW5hdGUgdG8gdGhlIHNlZ21lbnQgd2hlblxuICogdGhlIGZvb3QgaXMgb24gdGhlIHNlZ21lbnQsIG9yIHRoZSBjbG9zZXN0IHNlZ21lbnQgY29vcmRpbmF0ZSB3aGVuIHRoZSBmb290XG4gKiBpcyBvdXRzaWRlIHRoZSBzZWdtZW50LlxuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBUaGUgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7QXJyYXk8Q29vcmRpbmF0ZT59IHNlZ21lbnQgVGhlIHR3byBjb29yZGluYXRlc1xuICogb2YgdGhlIHNlZ21lbnQuXG4gKiBAcmV0dXJuIHtDb29yZGluYXRlfSBUaGUgZm9vdCBvZiB0aGUgcGVycGVuZGljdWxhciBvZlxuICogdGhlIGNvb3JkaW5hdGUgdG8gdGhlIHNlZ21lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZXN0T25TZWdtZW50KGNvb3JkaW5hdGUsIHNlZ21lbnQpIHtcbiAgdmFyIHgwID0gY29vcmRpbmF0ZVswXTtcbiAgdmFyIHkwID0gY29vcmRpbmF0ZVsxXTtcbiAgdmFyIHN0YXJ0ID0gc2VnbWVudFswXTtcbiAgdmFyIGVuZCA9IHNlZ21lbnRbMV07XG4gIHZhciB4MSA9IHN0YXJ0WzBdO1xuICB2YXIgeTEgPSBzdGFydFsxXTtcbiAgdmFyIHgyID0gZW5kWzBdO1xuICB2YXIgeTIgPSBlbmRbMV07XG4gIHZhciBkeCA9IHgyIC0geDE7XG4gIHZhciBkeSA9IHkyIC0geTE7XG4gIHZhciBhbG9uZyA9IChkeCA9PT0gMCAmJiBkeSA9PT0gMCkgPyAwIDpcbiAgICAoKGR4ICogKHgwIC0geDEpKSArIChkeSAqICh5MCAtIHkxKSkpIC8gKChkeCAqIGR4ICsgZHkgKiBkeSkgfHwgMCk7XG4gIHZhciB4LCB5O1xuICBpZiAoYWxvbmcgPD0gMCkge1xuICAgIHggPSB4MTtcbiAgICB5ID0geTE7XG4gIH0gZWxzZSBpZiAoYWxvbmcgPj0gMSkge1xuICAgIHggPSB4MjtcbiAgICB5ID0geTI7XG4gIH0gZWxzZSB7XG4gICAgeCA9IHgxICsgYWxvbmcgKiBkeDtcbiAgICB5ID0geTEgKyBhbG9uZyAqIGR5O1xuICB9XG4gIHJldHVybiBbeCwgeV07XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIGEge0BsaW5rIG1vZHVsZTpvbC9jb29yZGluYXRlfkNvb3JkaW5hdGVGb3JtYXR9IGZ1bmN0aW9uIHRoYXQgY2FuIGJlXG4gKiB1c2VkIHRvIGZvcm1hdFxuICogYSB7Q29vcmRpbmF0ZX0gdG8gYSBzdHJpbmcuXG4gKlxuICogRXhhbXBsZSB3aXRob3V0IHNwZWNpZnlpbmcgdGhlIGZyYWN0aW9uYWwgZGlnaXRzOlxuICpcbiAqICAgICBpbXBvcnQge2NyZWF0ZVN0cmluZ1hZfSBmcm9tICdvbC9jb29yZGluYXRlJztcbiAqXG4gKiAgICAgdmFyIGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgdmFyIHN0cmluZ2lmeUZ1bmMgPSBjcmVhdGVTdHJpbmdYWSgpO1xuICogICAgIHZhciBvdXQgPSBzdHJpbmdpZnlGdW5jKGNvb3JkKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICc4LCA0OCdcbiAqXG4gKiBFeGFtcGxlIHdpdGggZXhwbGljaXRseSBzcGVjaWZ5aW5nIDIgZnJhY3Rpb25hbCBkaWdpdHM6XG4gKlxuICogICAgIGltcG9ydCB7Y3JlYXRlU3RyaW5nWFl9IGZyb20gJ29sL2Nvb3JkaW5hdGUnO1xuICpcbiAqICAgICB2YXIgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICB2YXIgc3RyaW5naWZ5RnVuYyA9IGNyZWF0ZVN0cmluZ1hZKDIpO1xuICogICAgIHZhciBvdXQgPSBzdHJpbmdpZnlGdW5jKGNvb3JkKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICc3Ljg1LCA0Ny45OCdcbiAqXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9mcmFjdGlvbkRpZ2l0cyBUaGUgbnVtYmVyIG9mIGRpZ2l0cyB0byBpbmNsdWRlXG4gKiAgICBhZnRlciB0aGUgZGVjaW1hbCBwb2ludC4gRGVmYXVsdCBpcyBgMGAuXG4gKiBAcmV0dXJuIHtDb29yZGluYXRlRm9ybWF0fSBDb29yZGluYXRlIGZvcm1hdC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN0cmluZ1hZKG9wdF9mcmFjdGlvbkRpZ2l0cykge1xuICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gU3RyaW5nIFhZLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uKGNvb3JkaW5hdGUpIHtcbiAgICAgIHJldHVybiB0b1N0cmluZ1hZKGNvb3JkaW5hdGUsIG9wdF9mcmFjdGlvbkRpZ2l0cyk7XG4gICAgfVxuICApO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGhlbWlzcGhlcmVzIEhlbWlzcGhlcmVzLlxuICogQHBhcmFtIHtudW1iZXJ9IGRlZ3JlZXMgRGVncmVlcy5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2ZyYWN0aW9uRGlnaXRzIFRoZSBudW1iZXIgb2YgZGlnaXRzIHRvIGluY2x1ZGVcbiAqICAgIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50LiBEZWZhdWx0IGlzIGAwYC5cbiAqIEByZXR1cm4ge3N0cmluZ30gU3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVncmVlc1RvU3RyaW5nSERNUyhoZW1pc3BoZXJlcywgZGVncmVlcywgb3B0X2ZyYWN0aW9uRGlnaXRzKSB7XG4gIHZhciBub3JtYWxpemVkRGVncmVlcyA9IG1vZHVsbyhkZWdyZWVzICsgMTgwLCAzNjApIC0gMTgwO1xuICB2YXIgeCA9IE1hdGguYWJzKDM2MDAgKiBub3JtYWxpemVkRGVncmVlcyk7XG4gIHZhciBkZmxQcmVjaXNpb24gPSBvcHRfZnJhY3Rpb25EaWdpdHMgfHwgMDtcbiAgdmFyIHByZWNpc2lvbiA9IE1hdGgucG93KDEwLCBkZmxQcmVjaXNpb24pO1xuXG4gIHZhciBkZWcgPSBNYXRoLmZsb29yKHggLyAzNjAwKTtcbiAgdmFyIG1pbiA9IE1hdGguZmxvb3IoKHggLSBkZWcgKiAzNjAwKSAvIDYwKTtcbiAgdmFyIHNlYyA9IHggLSAoZGVnICogMzYwMCkgLSAobWluICogNjApO1xuICBzZWMgPSBNYXRoLmNlaWwoc2VjICogcHJlY2lzaW9uKSAvIHByZWNpc2lvbjtcblxuICBpZiAoc2VjID49IDYwKSB7XG4gICAgc2VjID0gMDtcbiAgICBtaW4gKz0gMTtcbiAgfVxuXG4gIGlmIChtaW4gPj0gNjApIHtcbiAgICBtaW4gPSAwO1xuICAgIGRlZyArPSAxO1xuICB9XG5cbiAgcmV0dXJuIGRlZyArICdcXHUwMGIwICcgKyBwYWROdW1iZXIobWluLCAyKSArICdcXHUyMDMyICcgK1xuICAgIHBhZE51bWJlcihzZWMsIDIsIGRmbFByZWNpc2lvbikgKyAnXFx1MjAzMycgK1xuICAgIChub3JtYWxpemVkRGVncmVlcyA9PSAwID8gJycgOiAnICcgKyBoZW1pc3BoZXJlcy5jaGFyQXQobm9ybWFsaXplZERlZ3JlZXMgPCAwID8gMSA6IDApKTtcbn1cblxuXG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIGdpdmVuIHtAbGluayBtb2R1bGU6b2wvY29vcmRpbmF0ZX5Db29yZGluYXRlfSB0byBhIHN0cmluZ1xuICogdXNpbmcgdGhlIGdpdmVuIHN0cmluZyB0ZW1wbGF0ZS4gVGhlIHN0cmluZ3MgYHt4fWAgYW5kIGB7eX1gIGluIHRoZSB0ZW1wbGF0ZVxuICogd2lsbCBiZSByZXBsYWNlZCB3aXRoIHRoZSBmaXJzdCBhbmQgc2Vjb25kIGNvb3JkaW5hdGUgdmFsdWVzIHJlc3BlY3RpdmVseS5cbiAqXG4gKiBFeGFtcGxlIHdpdGhvdXQgc3BlY2lmeWluZyB0aGUgZnJhY3Rpb25hbCBkaWdpdHM6XG4gKlxuICogICAgIGltcG9ydCB7Zm9ybWF0fSBmcm9tICdvbC9jb29yZGluYXRlJztcbiAqXG4gKiAgICAgdmFyIGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgdmFyIHRlbXBsYXRlID0gJ0Nvb3JkaW5hdGUgaXMgKHt4fXx7eX0pLic7XG4gKiAgICAgdmFyIG91dCA9IGZvcm1hdChjb29yZCwgdGVtcGxhdGUpO1xuICogICAgIC8vIG91dCBpcyBub3cgJ0Nvb3JkaW5hdGUgaXMgKDh8NDgpLidcbiAqXG4gKiBFeGFtcGxlIGV4cGxpY2l0bHkgc3BlY2lmeWluZyB0aGUgZnJhY3Rpb25hbCBkaWdpdHM6XG4gKlxuICogICAgIGltcG9ydCB7Zm9ybWF0fSBmcm9tICdvbC9jb29yZGluYXRlJztcbiAqXG4gKiAgICAgdmFyIGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgdmFyIHRlbXBsYXRlID0gJ0Nvb3JkaW5hdGUgaXMgKHt4fXx7eX0pLic7XG4gKiAgICAgdmFyIG91dCA9IGZvcm1hdChjb29yZCwgdGVtcGxhdGUsIDIpO1xuICogICAgIC8vIG91dCBpcyBub3cgJ0Nvb3JkaW5hdGUgaXMgKDcuODV8NDcuOTgpLidcbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZW1wbGF0ZSBBIHRlbXBsYXRlIHN0cmluZyB3aXRoIGB7eH1gIGFuZCBge3l9YCBwbGFjZWhvbGRlcnNcbiAqICAgICB0aGF0IHdpbGwgYmUgcmVwbGFjZWQgYnkgZmlyc3QgYW5kIHNlY29uZCBjb29yZGluYXRlIHZhbHVlcy5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2ZyYWN0aW9uRGlnaXRzIFRoZSBudW1iZXIgb2YgZGlnaXRzIHRvIGluY2x1ZGVcbiAqICAgIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50LiBEZWZhdWx0IGlzIGAwYC5cbiAqIEByZXR1cm4ge3N0cmluZ30gRm9ybWF0dGVkIGNvb3JkaW5hdGUuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXQoY29vcmRpbmF0ZSwgdGVtcGxhdGUsIG9wdF9mcmFjdGlvbkRpZ2l0cykge1xuICBpZiAoY29vcmRpbmF0ZSkge1xuICAgIHJldHVybiB0ZW1wbGF0ZVxuICAgICAgLnJlcGxhY2UoJ3t4fScsIGNvb3JkaW5hdGVbMF0udG9GaXhlZChvcHRfZnJhY3Rpb25EaWdpdHMpKVxuICAgICAgLnJlcGxhY2UoJ3t5fScsIGNvb3JkaW5hdGVbMV0udG9GaXhlZChvcHRfZnJhY3Rpb25EaWdpdHMpKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZTEgRmlyc3QgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZTIgU2Vjb25kIGNvb3JkaW5hdGUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgdHdvIGNvb3JkaW5hdGVzIGFyZSBlcXVhbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhjb29yZGluYXRlMSwgY29vcmRpbmF0ZTIpIHtcbiAgdmFyIGVxdWFscyA9IHRydWU7XG4gIGZvciAodmFyIGkgPSBjb29yZGluYXRlMS5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgIGlmIChjb29yZGluYXRlMVtpXSAhPSBjb29yZGluYXRlMltpXSkge1xuICAgICAgZXF1YWxzID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGVxdWFscztcbn1cblxuXG4vKipcbiAqIFJvdGF0ZSBgY29vcmRpbmF0ZWAgYnkgYGFuZ2xlYC4gYGNvb3JkaW5hdGVgIGlzIG1vZGlmaWVkIGluIHBsYWNlIGFuZFxuICogcmV0dXJuZWQgYnkgdGhlIGZ1bmN0aW9uLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogICAgIGltcG9ydCB7cm90YXRlfSBmcm9tICdvbC9jb29yZGluYXRlJztcbiAqXG4gKiAgICAgdmFyIGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgdmFyIHJvdGF0ZVJhZGlhbnMgPSBNYXRoLlBJIC8gMjsgLy8gOTAgZGVncmVlc1xuICogICAgIHJvdGF0ZShjb29yZCwgcm90YXRlUmFkaWFucyk7XG4gKiAgICAgLy8gY29vcmQgaXMgbm93IFstNDcuOTgzMzMzLCA3Ljg1XVxuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlIEFuZ2xlIGluIHJhZGlhbi5cbiAqIEByZXR1cm4ge0Nvb3JkaW5hdGV9IENvb3JkaW5hdGUuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGUoY29vcmRpbmF0ZSwgYW5nbGUpIHtcbiAgdmFyIGNvc0FuZ2xlID0gTWF0aC5jb3MoYW5nbGUpO1xuICB2YXIgc2luQW5nbGUgPSBNYXRoLnNpbihhbmdsZSk7XG4gIHZhciB4ID0gY29vcmRpbmF0ZVswXSAqIGNvc0FuZ2xlIC0gY29vcmRpbmF0ZVsxXSAqIHNpbkFuZ2xlO1xuICB2YXIgeSA9IGNvb3JkaW5hdGVbMV0gKiBjb3NBbmdsZSArIGNvb3JkaW5hdGVbMF0gKiBzaW5BbmdsZTtcbiAgY29vcmRpbmF0ZVswXSA9IHg7XG4gIGNvb3JkaW5hdGVbMV0gPSB5O1xuICByZXR1cm4gY29vcmRpbmF0ZTtcbn1cblxuXG4vKipcbiAqIFNjYWxlIGBjb29yZGluYXRlYCBieSBgc2NhbGVgLiBgY29vcmRpbmF0ZWAgaXMgbW9kaWZpZWQgaW4gcGxhY2UgYW5kIHJldHVybmVkXG4gKiBieSB0aGUgZnVuY3Rpb24uXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICAgaW1wb3J0IHtzY2FsZSBhcyBzY2FsZUNvb3JkaW5hdGV9IGZyb20gJ29sL2Nvb3JkaW5hdGUnO1xuICpcbiAqICAgICB2YXIgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICB2YXIgc2NhbGUgPSAxLjI7XG4gKiAgICAgc2NhbGVDb29yZGluYXRlKGNvb3JkLCBzY2FsZSk7XG4gKiAgICAgLy8gY29vcmQgaXMgbm93IFs5LjQyLCA1Ny41Nzk5OTk2XVxuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlIFNjYWxlIGZhY3Rvci5cbiAqIEByZXR1cm4ge0Nvb3JkaW5hdGV9IENvb3JkaW5hdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShjb29yZGluYXRlLCBzY2FsZSkge1xuICBjb29yZGluYXRlWzBdICo9IHNjYWxlO1xuICBjb29yZGluYXRlWzFdICo9IHNjYWxlO1xuICByZXR1cm4gY29vcmRpbmF0ZTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmQxIEZpcnN0IGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkMiBTZWNvbmQgY29vcmRpbmF0ZS5cbiAqIEByZXR1cm4ge251bWJlcn0gU3F1YXJlZCBkaXN0YW5jZSBiZXR3ZWVuIGNvb3JkMSBhbmQgY29vcmQyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlKGNvb3JkMSwgY29vcmQyKSB7XG4gIHZhciBkeCA9IGNvb3JkMVswXSAtIGNvb3JkMlswXTtcbiAgdmFyIGR5ID0gY29vcmQxWzFdIC0gY29vcmQyWzFdO1xuICByZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkMSBGaXJzdCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZDIgU2Vjb25kIGNvb3JkaW5hdGUuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IERpc3RhbmNlIGJldHdlZW4gY29vcmQxIGFuZCBjb29yZDIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXN0YW5jZShjb29yZDEsIGNvb3JkMikge1xuICByZXR1cm4gTWF0aC5zcXJ0KHNxdWFyZWREaXN0YW5jZShjb29yZDEsIGNvb3JkMikpO1xufVxuXG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBzcXVhcmVkIGRpc3RhbmNlIGZyb20gYSBjb29yZGluYXRlIHRvIGEgbGluZSBzZWdtZW50LlxuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlIG9mIHRoZSBwb2ludC5cbiAqIEBwYXJhbSB7QXJyYXk8Q29vcmRpbmF0ZT59IHNlZ21lbnQgTGluZSBzZWdtZW50ICgyXG4gKiBjb29yZGluYXRlcykuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNxdWFyZWQgZGlzdGFuY2UgZnJvbSB0aGUgcG9pbnQgdG8gdGhlIGxpbmUgc2VnbWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWREaXN0YW5jZVRvU2VnbWVudChjb29yZGluYXRlLCBzZWdtZW50KSB7XG4gIHJldHVybiBzcXVhcmVkRGlzdGFuY2UoY29vcmRpbmF0ZSxcbiAgICBjbG9zZXN0T25TZWdtZW50KGNvb3JkaW5hdGUsIHNlZ21lbnQpKTtcbn1cblxuXG4vKipcbiAqIEZvcm1hdCBhIGdlb2dyYXBoaWMgY29vcmRpbmF0ZSB3aXRoIHRoZSBoZW1pc3BoZXJlLCBkZWdyZWVzLCBtaW51dGVzLCBhbmRcbiAqIHNlY29uZHMuXG4gKlxuICogRXhhbXBsZSB3aXRob3V0IHNwZWNpZnlpbmcgZnJhY3Rpb25hbCBkaWdpdHM6XG4gKlxuICogICAgIGltcG9ydCB7dG9TdHJpbmdIRE1TfSBmcm9tICdvbC9jb29yZGluYXRlJztcbiAqXG4gKiAgICAgdmFyIGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgdmFyIG91dCA9IHRvU3RyaW5nSERNUyhjb29yZCk7XG4gKiAgICAgLy8gb3V0IGlzIG5vdyAnNDfCsCA1OOKAsiA2MOKAsyBOIDfCsCA1MOKAsiA2MOKAsyBFJ1xuICpcbiAqIEV4YW1wbGUgZXhwbGljaXRseSBzcGVjaWZ5aW5nIDEgZnJhY3Rpb25hbCBkaWdpdDpcbiAqXG4gKiAgICAgaW1wb3J0IHt0b1N0cmluZ0hETVN9IGZyb20gJ29sL2Nvb3JkaW5hdGUnO1xuICpcbiAqICAgICB2YXIgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICB2YXIgb3V0ID0gdG9TdHJpbmdIRE1TKGNvb3JkLCAxKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICc0N8KwIDU44oCyIDYwLjDigLMgTiA3wrAgNTDigLIgNjAuMOKAsyBFJ1xuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfZnJhY3Rpb25EaWdpdHMgVGhlIG51bWJlciBvZiBkaWdpdHMgdG8gaW5jbHVkZVxuICogICAgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQuIERlZmF1bHQgaXMgYDBgLlxuICogQHJldHVybiB7c3RyaW5nfSBIZW1pc3BoZXJlLCBkZWdyZWVzLCBtaW51dGVzIGFuZCBzZWNvbmRzLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9TdHJpbmdIRE1TKGNvb3JkaW5hdGUsIG9wdF9mcmFjdGlvbkRpZ2l0cykge1xuICBpZiAoY29vcmRpbmF0ZSkge1xuICAgIHJldHVybiBkZWdyZWVzVG9TdHJpbmdIRE1TKCdOUycsIGNvb3JkaW5hdGVbMV0sIG9wdF9mcmFjdGlvbkRpZ2l0cykgKyAnICcgK1xuICAgICAgICBkZWdyZWVzVG9TdHJpbmdIRE1TKCdFVycsIGNvb3JkaW5hdGVbMF0sIG9wdF9mcmFjdGlvbkRpZ2l0cyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG59XG5cblxuLyoqXG4gKiBGb3JtYXQgYSBjb29yZGluYXRlIGFzIGEgY29tbWEgZGVsaW1pdGVkIHN0cmluZy5cbiAqXG4gKiBFeGFtcGxlIHdpdGhvdXQgc3BlY2lmeWluZyBmcmFjdGlvbmFsIGRpZ2l0czpcbiAqXG4gKiAgICAgaW1wb3J0IHt0b1N0cmluZ1hZfSBmcm9tICdvbC9jb29yZGluYXRlJztcbiAqXG4gKiAgICAgdmFyIGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgdmFyIG91dCA9IHRvU3RyaW5nWFkoY29vcmQpO1xuICogICAgIC8vIG91dCBpcyBub3cgJzgsIDQ4J1xuICpcbiAqIEV4YW1wbGUgZXhwbGljaXRseSBzcGVjaWZ5aW5nIDEgZnJhY3Rpb25hbCBkaWdpdDpcbiAqXG4gKiAgICAgaW1wb3J0IHt0b1N0cmluZ1hZfSBmcm9tICdvbC9jb29yZGluYXRlJztcbiAqXG4gKiAgICAgdmFyIGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgdmFyIG91dCA9IHRvU3RyaW5nWFkoY29vcmQsIDEpO1xuICogICAgIC8vIG91dCBpcyBub3cgJzcuOCwgNDguMCdcbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2ZyYWN0aW9uRGlnaXRzIFRoZSBudW1iZXIgb2YgZGlnaXRzIHRvIGluY2x1ZGVcbiAqICAgIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50LiBEZWZhdWx0IGlzIGAwYC5cbiAqIEByZXR1cm4ge3N0cmluZ30gWFkuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1N0cmluZ1hZKGNvb3JkaW5hdGUsIG9wdF9mcmFjdGlvbkRpZ2l0cykge1xuICByZXR1cm4gZm9ybWF0KGNvb3JkaW5hdGUsICd7eH0sIHt5fScsIG9wdF9mcmFjdGlvbkRpZ2l0cyk7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvb3JkaW5hdGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL1RpbGVTdGF0ZVxuICovXG5cbi8qKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBJRExFOiAwLFxuICBMT0FESU5HOiAxLFxuICBMT0FERUQ6IDIsXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgdGhhdCB0aWxlIGxvYWRpbmcgZmFpbGVkXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICBFUlJPUjogMyxcbiAgRU1QVFk6IDQsXG4gIEFCT1JUOiA1XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxlU3RhdGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL0NvbGxlY3Rpb25FdmVudFR5cGVcbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB3aGVuIGFuIGl0ZW0gaXMgYWRkZWQgdG8gdGhlIGNvbGxlY3Rpb24uXG4gICAqIEBldmVudCBtb2R1bGU6b2wvQ29sbGVjdGlvbi5Db2xsZWN0aW9uRXZlbnQjYWRkXG4gICAqIEBhcGlcbiAgICovXG4gIEFERDogJ2FkZCcsXG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgd2hlbiBhbiBpdGVtIGlzIHJlbW92ZWQgZnJvbSB0aGUgY29sbGVjdGlvbi5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9Db2xsZWN0aW9uLkNvbGxlY3Rpb25FdmVudCNyZW1vdmVcbiAgICogQGFwaVxuICAgKi9cbiAgUkVNT1ZFOiAncmVtb3ZlJ1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29sbGVjdGlvbkV2ZW50VHlwZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L2luZmxhdGVcbiAqL1xuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj19IG9wdF9jb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59IENvb3JkaW5hdGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5mbGF0ZUNvb3JkaW5hdGVzKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgb3B0X2Nvb3JkaW5hdGVzKSB7XG4gIHZhciBjb29yZGluYXRlcyA9IG9wdF9jb29yZGluYXRlcyAhPT0gdW5kZWZpbmVkID8gb3B0X2Nvb3JkaW5hdGVzIDogW107XG4gIHZhciBpID0gMDtcbiAgZm9yICh2YXIgaiA9IG9mZnNldDsgaiA8IGVuZDsgaiArPSBzdHJpZGUpIHtcbiAgICBjb29yZGluYXRlc1tpKytdID0gZmxhdENvb3JkaW5hdGVzLnNsaWNlKGosIGogKyBzdHJpZGUpO1xuICB9XG4gIGNvb3JkaW5hdGVzLmxlbmd0aCA9IGk7XG4gIHJldHVybiBjb29yZGluYXRlcztcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+PX0gb3B0X2Nvb3JkaW5hdGVzcyBDb29yZGluYXRlc3MuXG4gKiBAcmV0dXJuIHtBcnJheTxBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pn0gQ29vcmRpbmF0ZXNzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgb3B0X2Nvb3JkaW5hdGVzcykge1xuICB2YXIgY29vcmRpbmF0ZXNzID0gb3B0X2Nvb3JkaW5hdGVzcyAhPT0gdW5kZWZpbmVkID8gb3B0X2Nvb3JkaW5hdGVzcyA6IFtdO1xuICB2YXIgaSA9IDA7XG4gIGZvciAodmFyIGogPSAwLCBqaiA9IGVuZHMubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgIHZhciBlbmQgPSBlbmRzW2pdO1xuICAgIGNvb3JkaW5hdGVzc1tpKytdID0gaW5mbGF0ZUNvb3JkaW5hdGVzKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBjb29yZGluYXRlc3NbaV0pO1xuICAgIG9mZnNldCA9IGVuZDtcbiAgfVxuICBjb29yZGluYXRlc3MubGVuZ3RoID0gaTtcbiAgcmV0dXJuIGNvb3JkaW5hdGVzcztcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PEFycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+Pj19IG9wdF9jb29yZGluYXRlc3NzXG4gKiAgICAgQ29vcmRpbmF0ZXNzcy5cbiAqIEByZXR1cm4ge0FycmF5PEFycmF5PEFycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+Pn0gQ29vcmRpbmF0ZXNzcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluZmxhdGVNdWx0aUNvb3JkaW5hdGVzQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzLCBzdHJpZGUsIG9wdF9jb29yZGluYXRlc3NzKSB7XG4gIHZhciBjb29yZGluYXRlc3NzID0gb3B0X2Nvb3JkaW5hdGVzc3MgIT09IHVuZGVmaW5lZCA/IG9wdF9jb29yZGluYXRlc3NzIDogW107XG4gIHZhciBpID0gMDtcbiAgZm9yICh2YXIgaiA9IDAsIGpqID0gZW5kc3MubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgIHZhciBlbmRzID0gZW5kc3Nbal07XG4gICAgY29vcmRpbmF0ZXNzc1tpKytdID0gaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXkoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCBjb29yZGluYXRlc3NzW2ldKTtcbiAgICBvZmZzZXQgPSBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gIH1cbiAgY29vcmRpbmF0ZXNzcy5sZW5ndGggPSBpO1xuICByZXR1cm4gY29vcmRpbmF0ZXNzcztcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5mbGF0ZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZWFzaW5nXG4gKi9cblxuXG4vKipcbiAqIFN0YXJ0IHNsb3cgYW5kIHNwZWVkIHVwLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW5wdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQHJldHVybiB7bnVtYmVyfSBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluKHQpIHtcbiAgcmV0dXJuIE1hdGgucG93KHQsIDMpO1xufVxuXG5cbi8qKlxuICogU3RhcnQgZmFzdCBhbmQgc2xvdyBkb3duLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW5wdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQHJldHVybiB7bnVtYmVyfSBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWFzZU91dCh0KSB7XG4gIHJldHVybiAxIC0gZWFzZUluKDEgLSB0KTtcbn1cblxuXG4vKipcbiAqIFN0YXJ0IHNsb3csIHNwZWVkIHVwLCBhbmQgdGhlbiBzbG93IGRvd24gYWdhaW4uXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbkFuZE91dCh0KSB7XG4gIHJldHVybiAzICogdCAqIHQgLSAyICogdCAqIHQgKiB0O1xufVxuXG5cbi8qKlxuICogTWFpbnRhaW4gYSBjb25zdGFudCBzcGVlZCBvdmVyIHRpbWUuXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXIodCkge1xuICByZXR1cm4gdDtcbn1cblxuXG4vKipcbiAqIFN0YXJ0IHNsb3csIHNwZWVkIHVwLCBhbmQgYXQgdGhlIHZlcnkgZW5kIHNsb3cgZG93biBhZ2Fpbi4gIFRoaXMgaGFzIHRoZVxuICogc2FtZSBnZW5lcmFsIGJlaGF2aW9yIGFzIHtAbGluayBtb2R1bGU6b2wvZWFzaW5nfmluQW5kT3V0fSwgYnV0IHRoZSBmaW5hbFxuICogc2xvd2Rvd24gaXMgZGVsYXllZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0IElucHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEByZXR1cm4ge251bWJlcn0gT3V0cHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwQW5kRG93bih0KSB7XG4gIGlmICh0IDwgMC41KSB7XG4gICAgcmV0dXJuIGluQW5kT3V0KDIgKiB0KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gMSAtIGluQW5kT3V0KDIgKiAodCAtIDAuNSkpO1xuICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVhc2luZy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvQ29sbGVjdGlvblxuICovXG5pbXBvcnQgQXNzZXJ0aW9uRXJyb3IgZnJvbSAnLi9Bc3NlcnRpb25FcnJvci5qcyc7XG5pbXBvcnQgQ29sbGVjdGlvbkV2ZW50VHlwZSBmcm9tICcuL0NvbGxlY3Rpb25FdmVudFR5cGUuanMnO1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi9PYmplY3QuanMnO1xuaW1wb3J0IEV2ZW50IGZyb20gJy4vZXZlbnRzL0V2ZW50LmpzJztcblxuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG52YXIgUHJvcGVydHkgPSB7XG4gIExFTkdUSDogJ2xlbmd0aCdcbn07XG5cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBFdmVudHMgZW1pdHRlZCBieSB7QGxpbmsgbW9kdWxlOm9sL0NvbGxlY3Rpb25+Q29sbGVjdGlvbn0gaW5zdGFuY2VzIGFyZSBpbnN0YW5jZXMgb2YgdGhpc1xuICogdHlwZS5cbiAqL1xuZXhwb3J0IHZhciBDb2xsZWN0aW9uRXZlbnQgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChFdmVudCkge1xuICBmdW5jdGlvbiBDb2xsZWN0aW9uRXZlbnQodHlwZSwgb3B0X2VsZW1lbnQpIHtcbiAgICBFdmVudC5jYWxsKHRoaXMsIHR5cGUpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGVsZW1lbnQgdGhhdCBpcyBhZGRlZCB0byBvciByZW1vdmVkIGZyb20gdGhlIGNvbGxlY3Rpb24uXG4gICAgICogQHR5cGUgeyp9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMuZWxlbWVudCA9IG9wdF9lbGVtZW50O1xuXG4gIH1cblxuICBpZiAoIEV2ZW50ICkgQ29sbGVjdGlvbkV2ZW50Ll9fcHJvdG9fXyA9IEV2ZW50O1xuICBDb2xsZWN0aW9uRXZlbnQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZlbnQgJiYgRXZlbnQucHJvdG90eXBlICk7XG4gIENvbGxlY3Rpb25FdmVudC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDb2xsZWN0aW9uRXZlbnQ7XG5cbiAgcmV0dXJuIENvbGxlY3Rpb25FdmVudDtcbn0oRXZlbnQpKTtcblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VuaXF1ZT1mYWxzZV0gRGlzYWxsb3cgdGhlIHNhbWUgaXRlbSBmcm9tIGJlaW5nIGFkZGVkIHRvXG4gKiB0aGUgY29sbGVjdGlvbiB0d2ljZS5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFuIGV4cGFuZGVkIHZlcnNpb24gb2Ygc3RhbmRhcmQgSlMgQXJyYXksIGFkZGluZyBjb252ZW5pZW5jZSBtZXRob2RzIGZvclxuICogbWFuaXB1bGF0aW9uLiBBZGQgYW5kIHJlbW92ZSBjaGFuZ2VzIHRvIHRoZSBDb2xsZWN0aW9uIHRyaWdnZXIgYSBDb2xsZWN0aW9uXG4gKiBldmVudC4gTm90ZSB0aGF0IHRoaXMgZG9lcyBub3QgY292ZXIgY2hhbmdlcyB0byB0aGUgb2JqZWN0cyBfd2l0aGluXyB0aGVcbiAqIENvbGxlY3Rpb247IHRoZXkgdHJpZ2dlciBldmVudHMgb24gdGhlIGFwcHJvcHJpYXRlIG9iamVjdCwgbm90IG9uIHRoZVxuICogQ29sbGVjdGlvbiBhcyBhIHdob2xlLlxuICpcbiAqIEBmaXJlcyBDb2xsZWN0aW9uRXZlbnRcbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQGFwaVxuICovXG52YXIgQ29sbGVjdGlvbiA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEJhc2VPYmplY3QpIHtcbiAgZnVuY3Rpb24gQ29sbGVjdGlvbihvcHRfYXJyYXksIG9wdF9vcHRpb25zKSB7XG5cbiAgICBCYXNlT2JqZWN0LmNhbGwodGhpcyk7XG5cbiAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnVuaXF1ZV8gPSAhIW9wdGlvbnMudW5pcXVlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7IUFycmF5PFQ+fVxuICAgICAqL1xuICAgIHRoaXMuYXJyYXlfID0gb3B0X2FycmF5ID8gb3B0X2FycmF5IDogW107XG5cbiAgICBpZiAodGhpcy51bmlxdWVfKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSB0aGlzLmFycmF5Xy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHRoaXMuYXNzZXJ0VW5pcXVlXyh0aGlzLmFycmF5X1tpXSwgaSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVMZW5ndGhfKCk7XG5cbiAgfVxuXG4gIGlmICggQmFzZU9iamVjdCApIENvbGxlY3Rpb24uX19wcm90b19fID0gQmFzZU9iamVjdDtcbiAgQ29sbGVjdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBCYXNlT2JqZWN0ICYmIEJhc2VPYmplY3QucHJvdG90eXBlICk7XG4gIENvbGxlY3Rpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ29sbGVjdGlvbjtcblxuICAvKipcbiAgICogUmVtb3ZlIGFsbCBlbGVtZW50cyBmcm9tIHRoZSBjb2xsZWN0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBDb2xsZWN0aW9uLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpIHtcbiAgICB3aGlsZSAodGhpcy5nZXRMZW5ndGgoKSA+IDApIHtcbiAgICAgIHRoaXMucG9wKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBBZGQgZWxlbWVudHMgdG8gdGhlIGNvbGxlY3Rpb24uICBUaGlzIHB1c2hlcyBlYWNoIGl0ZW0gaW4gdGhlIHByb3ZpZGVkIGFycmF5XG4gICAqIHRvIHRoZSBlbmQgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAqIEBwYXJhbSB7IUFycmF5PFQ+fSBhcnIgQXJyYXkuXG4gICAqIEByZXR1cm4ge0NvbGxlY3Rpb248VD59IFRoaXMgY29sbGVjdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZXh0ZW5kID0gZnVuY3Rpb24gZXh0ZW5kIChhcnIpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBhcnIubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgdGhpcy5wdXNoKGFycltpXSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJdGVyYXRlIG92ZXIgZWFjaCBlbGVtZW50LCBjYWxsaW5nIHRoZSBwcm92aWRlZCBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihULCBudW1iZXIsIEFycmF5PFQ+KTogKn0gZiBUaGUgZnVuY3Rpb24gdG8gY2FsbFxuICAgKiAgICAgZm9yIGV2ZXJ5IGVsZW1lbnQuIFRoaXMgZnVuY3Rpb24gdGFrZXMgMyBhcmd1bWVudHMgKHRoZSBlbGVtZW50LCB0aGVcbiAgICogICAgIGluZGV4IGFuZCB0aGUgYXJyYXkpLiBUaGUgcmV0dXJuIHZhbHVlIGlzIGlnbm9yZWQuXG4gICAqIEBhcGlcbiAgICovXG4gIENvbGxlY3Rpb24ucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiBmb3JFYWNoIChmKSB7XG4gICAgdmFyIGFycmF5ID0gdGhpcy5hcnJheV87XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gYXJyYXkubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgZihhcnJheVtpXSwgaSwgYXJyYXkpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogR2V0IGEgcmVmZXJlbmNlIHRvIHRoZSB1bmRlcmx5aW5nIEFycmF5IG9iamVjdC4gV2FybmluZzogaWYgdGhlIGFycmF5XG4gICAqIGlzIG11dGF0ZWQsIG5vIGV2ZW50cyB3aWxsIGJlIGRpc3BhdGNoZWQgYnkgdGhlIGNvbGxlY3Rpb24sIGFuZCB0aGVcbiAgICogY29sbGVjdGlvbidzIFwibGVuZ3RoXCIgcHJvcGVydHkgd29uJ3QgYmUgaW4gc3luYyB3aXRoIHRoZSBhY3R1YWwgbGVuZ3RoXG4gICAqIG9mIHRoZSBhcnJheS5cbiAgICogQHJldHVybiB7IUFycmF5PFQ+fSBBcnJheS5cbiAgICogQGFwaVxuICAgKi9cbiAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0QXJyYXkgPSBmdW5jdGlvbiBnZXRBcnJheSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXJyYXlfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGVsZW1lbnQgYXQgdGhlIHByb3ZpZGVkIGluZGV4LlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXguXG4gICAqIEByZXR1cm4ge1R9IEVsZW1lbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIENvbGxlY3Rpb24ucHJvdG90eXBlLml0ZW0gPSBmdW5jdGlvbiBpdGVtIChpbmRleCkge1xuICAgIHJldHVybiB0aGlzLmFycmF5X1tpbmRleF07XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGVuZ3RoIG9mIHRoaXMgY29sbGVjdGlvbi5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbGVuZ3RoIG9mIHRoZSBhcnJheS5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0TGVuZ3RoID0gZnVuY3Rpb24gZ2V0TGVuZ3RoICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoUHJvcGVydHkuTEVOR1RIKTtcbiAgfTtcblxuICAvKipcbiAgICogSW5zZXJ0IGFuIGVsZW1lbnQgYXQgdGhlIHByb3ZpZGVkIGluZGV4LlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXguXG4gICAqIEBwYXJhbSB7VH0gZWxlbSBFbGVtZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBDb2xsZWN0aW9uLnByb3RvdHlwZS5pbnNlcnRBdCA9IGZ1bmN0aW9uIGluc2VydEF0IChpbmRleCwgZWxlbSkge1xuICAgIGlmICh0aGlzLnVuaXF1ZV8pIHtcbiAgICAgIHRoaXMuYXNzZXJ0VW5pcXVlXyhlbGVtKTtcbiAgICB9XG4gICAgdGhpcy5hcnJheV8uc3BsaWNlKGluZGV4LCAwLCBlbGVtKTtcbiAgICB0aGlzLnVwZGF0ZUxlbmd0aF8oKTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoXG4gICAgICBuZXcgQ29sbGVjdGlvbkV2ZW50KENvbGxlY3Rpb25FdmVudFR5cGUuQURELCBlbGVtKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUgbGFzdCBlbGVtZW50IG9mIHRoZSBjb2xsZWN0aW9uIGFuZCByZXR1cm4gaXQuXG4gICAqIFJldHVybiBgdW5kZWZpbmVkYCBpZiB0aGUgY29sbGVjdGlvbiBpcyBlbXB0eS5cbiAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IEVsZW1lbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIENvbGxlY3Rpb24ucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uIHBvcCAoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVtb3ZlQXQodGhpcy5nZXRMZW5ndGgoKSAtIDEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnNlcnQgdGhlIHByb3ZpZGVkIGVsZW1lbnQgYXQgdGhlIGVuZCBvZiB0aGUgY29sbGVjdGlvbi5cbiAgICogQHBhcmFtIHtUfSBlbGVtIEVsZW1lbnQuXG4gICAqIEByZXR1cm4ge251bWJlcn0gTmV3IGxlbmd0aCBvZiB0aGUgY29sbGVjdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgQ29sbGVjdGlvbi5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIHB1c2ggKGVsZW0pIHtcbiAgICBpZiAodGhpcy51bmlxdWVfKSB7XG4gICAgICB0aGlzLmFzc2VydFVuaXF1ZV8oZWxlbSk7XG4gICAgfVxuICAgIHZhciBuID0gdGhpcy5nZXRMZW5ndGgoKTtcbiAgICB0aGlzLmluc2VydEF0KG4sIGVsZW0pO1xuICAgIHJldHVybiB0aGlzLmdldExlbmd0aCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYW4gZWxlbWVudCBmcm9tIHRoZSBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0ge1R9IGVsZW0gRWxlbWVudC5cbiAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IFRoZSByZW1vdmVkIGVsZW1lbnQgb3IgdW5kZWZpbmVkIGlmIG5vbmUgZm91bmQuXG4gICAqIEBhcGlcbiAgICovXG4gIENvbGxlY3Rpb24ucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSAoZWxlbSkge1xuICAgIHZhciBhcnIgPSB0aGlzLmFycmF5XztcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBhcnIubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgaWYgKGFycltpXSA9PT0gZWxlbSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW1vdmVBdChpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlIHRoZSBlbGVtZW50IGF0IHRoZSBwcm92aWRlZCBpbmRleCBhbmQgcmV0dXJuIGl0LlxuICAgKiBSZXR1cm4gYHVuZGVmaW5lZGAgaWYgdGhlIGNvbGxlY3Rpb24gZG9lcyBub3QgY29udGFpbiB0aGlzIGluZGV4LlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXguXG4gICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBWYWx1ZS5cbiAgICogQGFwaVxuICAgKi9cbiAgQ29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlQXQgPSBmdW5jdGlvbiByZW1vdmVBdCAoaW5kZXgpIHtcbiAgICB2YXIgcHJldiA9IHRoaXMuYXJyYXlfW2luZGV4XTtcbiAgICB0aGlzLmFycmF5Xy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHRoaXMudXBkYXRlTGVuZ3RoXygpO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ29sbGVjdGlvbkV2ZW50KENvbGxlY3Rpb25FdmVudFR5cGUuUkVNT1ZFLCBwcmV2KSk7XG4gICAgcmV0dXJuIHByZXY7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgZWxlbWVudCBhdCB0aGUgcHJvdmlkZWQgaW5kZXguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBJbmRleC5cbiAgICogQHBhcmFtIHtUfSBlbGVtIEVsZW1lbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIENvbGxlY3Rpb24ucHJvdG90eXBlLnNldEF0ID0gZnVuY3Rpb24gc2V0QXQgKGluZGV4LCBlbGVtKSB7XG4gICAgdmFyIG4gPSB0aGlzLmdldExlbmd0aCgpO1xuICAgIGlmIChpbmRleCA8IG4pIHtcbiAgICAgIGlmICh0aGlzLnVuaXF1ZV8pIHtcbiAgICAgICAgdGhpcy5hc3NlcnRVbmlxdWVfKGVsZW0sIGluZGV4KTtcbiAgICAgIH1cbiAgICAgIHZhciBwcmV2ID0gdGhpcy5hcnJheV9baW5kZXhdO1xuICAgICAgdGhpcy5hcnJheV9baW5kZXhdID0gZWxlbTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgbmV3IENvbGxlY3Rpb25FdmVudChDb2xsZWN0aW9uRXZlbnRUeXBlLlJFTU9WRSwgcHJldikpO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgICBuZXcgQ29sbGVjdGlvbkV2ZW50KENvbGxlY3Rpb25FdmVudFR5cGUuQURELCBlbGVtKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAodmFyIGogPSBuOyBqIDwgaW5kZXg7ICsraikge1xuICAgICAgICB0aGlzLmluc2VydEF0KGosIHVuZGVmaW5lZCk7XG4gICAgICB9XG4gICAgICB0aGlzLmluc2VydEF0KGluZGV4LCBlbGVtKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBDb2xsZWN0aW9uLnByb3RvdHlwZS51cGRhdGVMZW5ndGhfID0gZnVuY3Rpb24gdXBkYXRlTGVuZ3RoXyAoKSB7XG4gICAgdGhpcy5zZXQoUHJvcGVydHkuTEVOR1RILCB0aGlzLmFycmF5Xy5sZW5ndGgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1R9IGVsZW0gRWxlbWVudC5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBvcHRfZXhjZXB0IE9wdGlvbmFsIGluZGV4IHRvIGlnbm9yZS5cbiAgICovXG4gIENvbGxlY3Rpb24ucHJvdG90eXBlLmFzc2VydFVuaXF1ZV8gPSBmdW5jdGlvbiBhc3NlcnRVbmlxdWVfIChlbGVtLCBvcHRfZXhjZXB0KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy5hcnJheV8ubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgaWYgKHRoaXMuYXJyYXlfW2ldID09PSBlbGVtICYmIGkgIT09IG9wdF9leGNlcHQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEFzc2VydGlvbkVycm9yKDU4KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIENvbGxlY3Rpb247XG59KEJhc2VPYmplY3QpKTtcblxuXG5leHBvcnQgZGVmYXVsdCBDb2xsZWN0aW9uO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db2xsZWN0aW9uLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9NYXBCcm93c2VyRXZlbnRUeXBlXG4gKi9cbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcblxuLyoqXG4gKiBDb25zdGFudHMgZm9yIGV2ZW50IG5hbWVzLlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuXG4gIC8qKlxuICAgKiBBIHRydWUgc2luZ2xlIGNsaWNrIHdpdGggbm8gZHJhZ2dpbmcgYW5kIG5vIGRvdWJsZSBjbGljay4gTm90ZSB0aGF0IHRoaXNcbiAgICogZXZlbnQgaXMgZGVsYXllZCBieSAyNTAgbXMgdG8gZW5zdXJlIHRoYXQgaXQgaXMgbm90IGEgZG91YmxlIGNsaWNrLlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnQjc2luZ2xlY2xpY2tcbiAgICogQGFwaVxuICAgKi9cbiAgU0lOR0xFQ0xJQ0s6ICdzaW5nbGVjbGljaycsXG5cbiAgLyoqXG4gICAqIEEgY2xpY2sgd2l0aCBubyBkcmFnZ2luZy4gQSBkb3VibGUgY2xpY2sgd2lsbCBmaXJlIHR3byBvZiB0aGlzLlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnQjY2xpY2tcbiAgICogQGFwaVxuICAgKi9cbiAgQ0xJQ0s6IEV2ZW50VHlwZS5DTElDSyxcblxuICAvKipcbiAgICogQSB0cnVlIGRvdWJsZSBjbGljaywgd2l0aCBubyBkcmFnZ2luZy5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50I2RibGNsaWNrXG4gICAqIEBhcGlcbiAgICovXG4gIERCTENMSUNLOiBFdmVudFR5cGUuREJMQ0xJQ0ssXG5cbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB3aGVuIGEgcG9pbnRlciBpcyBkcmFnZ2VkLlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnQjcG9pbnRlcmRyYWdcbiAgICogQGFwaVxuICAgKi9cbiAgUE9JTlRFUkRSQUc6ICdwb2ludGVyZHJhZycsXG5cbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB3aGVuIGEgcG9pbnRlciBpcyBtb3ZlZC4gTm90ZSB0aGF0IG9uIHRvdWNoIGRldmljZXMgdGhpcyBpc1xuICAgKiB0cmlnZ2VyZWQgd2hlbiB0aGUgbWFwIGlzIHBhbm5lZCwgc28gaXMgbm90IHRoZSBzYW1lIGFzIG1vdXNlbW92ZS5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50I3BvaW50ZXJtb3ZlXG4gICAqIEBhcGlcbiAgICovXG4gIFBPSU5URVJNT1ZFOiAncG9pbnRlcm1vdmUnLFxuXG4gIFBPSU5URVJET1dOOiAncG9pbnRlcmRvd24nLFxuICBQT0lOVEVSVVA6ICdwb2ludGVydXAnLFxuICBQT0lOVEVST1ZFUjogJ3BvaW50ZXJvdmVyJyxcbiAgUE9JTlRFUk9VVDogJ3BvaW50ZXJvdXQnLFxuICBQT0lOVEVSRU5URVI6ICdwb2ludGVyZW50ZXInLFxuICBQT0lOVEVSTEVBVkU6ICdwb2ludGVybGVhdmUnLFxuICBQT0lOVEVSQ0FOQ0VMOiAncG9pbnRlcmNhbmNlbCdcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hcEJyb3dzZXJFdmVudFR5cGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9zaW1wbGlmeVxuICovXG4vLyBCYXNlZCBvbiBzaW1wbGlmeS1qcyBodHRwczovL2dpdGh1Yi5jb20vbW91cm5lci9zaW1wbGlmeS1qc1xuLy8gQ29weXJpZ2h0IChjKSAyMDEyLCBWbGFkaW1pciBBZ2Fmb25raW5cbi8vIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vL1xuLy8gUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4vLyBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcbi8vXG4vLyAgICAxLiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4vLyAgICAgICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuLy9cbi8vICAgIDIuIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0XG4vLyAgICAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4vLyAgICAgICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuLy9cbi8vIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiXG4vLyBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFXG4vLyBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRVxuLy8gQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRVxuLy8gTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUlxuLy8gQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0Zcbi8vIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTU1xuLy8gSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU5cbi8vIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpXG4vLyBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRVxuLy8gUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG5cbmltcG9ydCB7c3F1YXJlZFNlZ21lbnREaXN0YW5jZSwgc3F1YXJlZERpc3RhbmNlfSBmcm9tICcuLi8uLi9tYXRoLmpzJztcblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaGlnaFF1YWxpdHkgSGlnaGVzdCBxdWFsaXR5LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+PX0gb3B0X3NpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgU2ltcGxpZmllZCBmbGF0XG4gKiAgICAgY29vcmRpbmF0ZXMuXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBTaW1wbGlmaWVkIGxpbmUgc3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2ltcGxpZnlMaW5lU3RyaW5nKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsXG4gIHN0cmlkZSwgc3F1YXJlZFRvbGVyYW5jZSwgaGlnaFF1YWxpdHksIG9wdF9zaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzKSB7XG4gIHZhciBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzID0gb3B0X3NpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgIT09IHVuZGVmaW5lZCA/XG4gICAgb3B0X3NpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgOiBbXTtcbiAgaWYgKCFoaWdoUXVhbGl0eSkge1xuICAgIGVuZCA9IHJhZGlhbERpc3RhbmNlKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsXG4gICAgICBzdHJpZGUsIHNxdWFyZWRUb2xlcmFuY2UsXG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCAwKTtcbiAgICBmbGF0Q29vcmRpbmF0ZXMgPSBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzO1xuICAgIG9mZnNldCA9IDA7XG4gICAgc3RyaWRlID0gMjtcbiAgfVxuICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLmxlbmd0aCA9IGRvdWdsYXNQZXVja2VyKFxuICAgIGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgc3F1YXJlZFRvbGVyYW5jZSxcbiAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCAwKTtcbiAgcmV0dXJuIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXM7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgU2ltcGxpZmllZCBmbGF0XG4gKiAgICAgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc2ltcGxpZmllZE9mZnNldCBTaW1wbGlmaWVkIG9mZnNldC5cbiAqIEByZXR1cm4ge251bWJlcn0gU2ltcGxpZmllZCBvZmZzZXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkb3VnbGFzUGV1Y2tlcihmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLFxuICBzdHJpZGUsIHNxdWFyZWRUb2xlcmFuY2UsIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIHNpbXBsaWZpZWRPZmZzZXQpIHtcbiAgdmFyIG4gPSAoZW5kIC0gb2Zmc2V0KSAvIHN0cmlkZTtcbiAgaWYgKG4gPCAzKSB7XG4gICAgZm9yICg7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID1cbiAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9XG4gICAgICAgICAgZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgIH1cbiAgICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbiAgfVxuICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovXG4gIHZhciBtYXJrZXJzID0gbmV3IEFycmF5KG4pO1xuICBtYXJrZXJzWzBdID0gMTtcbiAgbWFya2Vyc1tuIC0gMV0gPSAxO1xuICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovXG4gIHZhciBzdGFjayA9IFtvZmZzZXQsIGVuZCAtIHN0cmlkZV07XG4gIHZhciBpbmRleCA9IDA7XG4gIHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgdmFyIGxhc3QgPSBzdGFjay5wb3AoKTtcbiAgICB2YXIgZmlyc3QgPSBzdGFjay5wb3AoKTtcbiAgICB2YXIgbWF4U3F1YXJlZERpc3RhbmNlID0gMDtcbiAgICB2YXIgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbZmlyc3RdO1xuICAgIHZhciB5MSA9IGZsYXRDb29yZGluYXRlc1tmaXJzdCArIDFdO1xuICAgIHZhciB4MiA9IGZsYXRDb29yZGluYXRlc1tsYXN0XTtcbiAgICB2YXIgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbbGFzdCArIDFdO1xuICAgIGZvciAodmFyIGkgPSBmaXJzdCArIHN0cmlkZTsgaSA8IGxhc3Q7IGkgKz0gc3RyaWRlKSB7XG4gICAgICB2YXIgeCA9IGZsYXRDb29yZGluYXRlc1tpXTtcbiAgICAgIHZhciB5ID0gZmxhdENvb3JkaW5hdGVzW2kgKyAxXTtcbiAgICAgIHZhciBzcXVhcmVkRGlzdGFuY2UgPSBzcXVhcmVkU2VnbWVudERpc3RhbmNlKFxuICAgICAgICB4LCB5LCB4MSwgeTEsIHgyLCB5Mik7XG4gICAgICBpZiAoc3F1YXJlZERpc3RhbmNlID4gbWF4U3F1YXJlZERpc3RhbmNlKSB7XG4gICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgbWF4U3F1YXJlZERpc3RhbmNlID0gc3F1YXJlZERpc3RhbmNlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobWF4U3F1YXJlZERpc3RhbmNlID4gc3F1YXJlZFRvbGVyYW5jZSkge1xuICAgICAgbWFya2Vyc1soaW5kZXggLSBvZmZzZXQpIC8gc3RyaWRlXSA9IDE7XG4gICAgICBpZiAoZmlyc3QgKyBzdHJpZGUgPCBpbmRleCkge1xuICAgICAgICBzdGFjay5wdXNoKGZpcnN0LCBpbmRleCk7XG4gICAgICB9XG4gICAgICBpZiAoaW5kZXggKyBzdHJpZGUgPCBsYXN0KSB7XG4gICAgICAgIHN0YWNrLnB1c2goaW5kZXgsIGxhc3QpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBuOyArK2kkMSkge1xuICAgIGlmIChtYXJrZXJzW2kkMV0pIHtcbiAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9XG4gICAgICAgICAgZmxhdENvb3JkaW5hdGVzW29mZnNldCArIGkkMSAqIHN0cmlkZV07XG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPVxuICAgICAgICAgIGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyBpJDEgKiBzdHJpZGUgKyAxXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgU2ltcGxpZmllZCBmbGF0XG4gKiAgICAgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc2ltcGxpZmllZE9mZnNldCBTaW1wbGlmaWVkIG9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEVuZHMgU2ltcGxpZmllZCBlbmRzLlxuICogQHJldHVybiB7bnVtYmVyfSBTaW1wbGlmaWVkIG9mZnNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRvdWdsYXNQZXVja2VyQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsXG4gIGVuZHMsIHN0cmlkZSwgc3F1YXJlZFRvbGVyYW5jZSwgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyxcbiAgc2ltcGxpZmllZE9mZnNldCwgc2ltcGxpZmllZEVuZHMpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgdmFyIGVuZCA9IGVuZHNbaV07XG4gICAgc2ltcGxpZmllZE9mZnNldCA9IGRvdWdsYXNQZXVja2VyKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBzcXVhcmVkVG9sZXJhbmNlLFxuICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcywgc2ltcGxpZmllZE9mZnNldCk7XG4gICAgc2ltcGxpZmllZEVuZHMucHVzaChzaW1wbGlmaWVkT2Zmc2V0KTtcbiAgICBvZmZzZXQgPSBlbmQ7XG4gIH1cbiAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgU2ltcGxpZmllZCBmbGF0XG4gKiAgICAgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc2ltcGxpZmllZE9mZnNldCBTaW1wbGlmaWVkIG9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IHNpbXBsaWZpZWRFbmRzcyBTaW1wbGlmaWVkIGVuZHNzLlxuICogQHJldHVybiB7bnVtYmVyfSBTaW1wbGlmaWVkIG9mZnNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRvdWdsYXNQZXVja2VyTXVsdGlBcnJheShcbiAgZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzLCBzdHJpZGUsIHNxdWFyZWRUb2xlcmFuY2UsXG4gIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIHNpbXBsaWZpZWRPZmZzZXQsIHNpbXBsaWZpZWRFbmRzcykge1xuICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgdmFyIGVuZHMgPSBlbmRzc1tpXTtcbiAgICB2YXIgc2ltcGxpZmllZEVuZHMgPSBbXTtcbiAgICBzaW1wbGlmaWVkT2Zmc2V0ID0gZG91Z2xhc1BldWNrZXJBcnJheShcbiAgICAgIGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIHNxdWFyZWRUb2xlcmFuY2UsXG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0LCBzaW1wbGlmaWVkRW5kcyk7XG4gICAgc2ltcGxpZmllZEVuZHNzLnB1c2goc2ltcGxpZmllZEVuZHMpO1xuICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgfVxuICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyBTaW1wbGlmaWVkIGZsYXRcbiAqICAgICBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzaW1wbGlmaWVkT2Zmc2V0IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICogQHJldHVybiB7bnVtYmVyfSBTaW1wbGlmaWVkIG9mZnNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhZGlhbERpc3RhbmNlKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsXG4gIHN0cmlkZSwgc3F1YXJlZFRvbGVyYW5jZSwgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcywgc2ltcGxpZmllZE9mZnNldCkge1xuICBpZiAoZW5kIDw9IG9mZnNldCArIHN0cmlkZSkge1xuICAgIC8vIHplcm8gb3Igb25lIHBvaW50LCBubyBzaW1wbGlmaWNhdGlvbiBwb3NzaWJsZSwgc28gY29weSBhbmQgcmV0dXJuXG4gICAgZm9yICg7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPVxuICAgICAgICAgIGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICB9XG4gICAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG4gIH1cbiAgdmFyIHgxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gIHZhciB5MSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgLy8gY29weSBmaXJzdCBwb2ludFxuICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB4MTtcbiAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geTE7XG4gIHZhciB4MiA9IHgxO1xuICB2YXIgeTIgPSB5MTtcbiAgZm9yIChvZmZzZXQgKz0gc3RyaWRlOyBvZmZzZXQgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICB4MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgIHkyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgIGlmIChzcXVhcmVkRGlzdGFuY2UoeDEsIHkxLCB4MiwgeTIpID4gc3F1YXJlZFRvbGVyYW5jZSkge1xuICAgICAgLy8gY29weSBwb2ludCBhdCBvZmZzZXRcbiAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHgyO1xuICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geTI7XG4gICAgICB4MSA9IHgyO1xuICAgICAgeTEgPSB5MjtcbiAgICB9XG4gIH1cbiAgaWYgKHgyICE9IHgxIHx8IHkyICE9IHkxKSB7XG4gICAgLy8gY29weSBsYXN0IHBvaW50XG4gICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geDI7XG4gICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geTI7XG4gIH1cbiAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVmFsdWUuXG4gKiBAcGFyYW0ge251bWJlcn0gdG9sZXJhbmNlIFRvbGVyYW5jZS5cbiAqIEByZXR1cm4ge251bWJlcn0gUm91bmRlZCB2YWx1ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNuYXAodmFsdWUsIHRvbGVyYW5jZSkge1xuICByZXR1cm4gdG9sZXJhbmNlICogTWF0aC5yb3VuZCh2YWx1ZSAvIHRvbGVyYW5jZSk7XG59XG5cblxuLyoqXG4gKiBTaW1wbGlmaWVzIGEgbGluZSBzdHJpbmcgdXNpbmcgYW4gYWxnb3JpdGhtIGRlc2lnbmVkIGJ5IFRpbSBTY2hhdWIuXG4gKiBDb29yZGluYXRlcyBhcmUgc25hcHBlZCB0byB0aGUgbmVhcmVzdCB2YWx1ZSBpbiBhIHZpcnR1YWwgZ3JpZCBhbmRcbiAqIGNvbnNlY3V0aXZlIGR1cGxpY2F0ZSBjb29yZGluYXRlcyBhcmUgZGlzY2FyZGVkLiAgVGhpcyBlZmZlY3RpdmVseSBwcmVzZXJ2ZXNcbiAqIHRvcG9sb2d5IGFzIHRoZSBzaW1wbGlmaWNhdGlvbiBvZiBhbnkgc3Vic2VjdGlvbiBvZiBhIGxpbmUgc3RyaW5nIGlzXG4gKiBpbmRlcGVuZGVudCBvZiB0aGUgcmVzdCBvZiB0aGUgbGluZSBzdHJpbmcuICBUaGlzIG1lYW5zIHRoYXQsIGZvciBleGFtcGxlcyxcbiAqIHRoZSBjb21tb24gZWRnZSBiZXR3ZWVuIHR3byBwb2x5Z29ucyB3aWxsIGJlIHNpbXBsaWZpZWQgdG8gdGhlIHNhbWUgbGluZVxuICogc3RyaW5nIGluZGVwZW5kZW50bHkgaW4gYm90aCBwb2x5Z29ucy4gIFRoaXMgaW1wbGVtZW50YXRpb24gdXNlcyBhIHNpbmdsZVxuICogcGFzcyBvdmVyIHRoZSBjb29yZGluYXRlcyBhbmQgZWxpbWluYXRlcyBpbnRlcm1lZGlhdGUgY29sbGluZWFyIHBvaW50cy5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gdG9sZXJhbmNlIFRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyBTaW1wbGlmaWVkIGZsYXRcbiAqICAgICBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzaW1wbGlmaWVkT2Zmc2V0IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICogQHJldHVybiB7bnVtYmVyfSBTaW1wbGlmaWVkIG9mZnNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1YW50aXplKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSxcbiAgdG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0KSB7XG4gIC8vIGRvIG5vdGhpbmcgaWYgdGhlIGxpbmUgaXMgZW1wdHlcbiAgaWYgKG9mZnNldCA9PSBlbmQpIHtcbiAgICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbiAgfVxuICAvLyBzbmFwIHRoZSBmaXJzdCBjb29yZGluYXRlIChQMSlcbiAgdmFyIHgxID0gc25hcChmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XSwgdG9sZXJhbmNlKTtcbiAgdmFyIHkxID0gc25hcChmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV0sIHRvbGVyYW5jZSk7XG4gIG9mZnNldCArPSBzdHJpZGU7XG4gIC8vIGFkZCB0aGUgZmlyc3QgY29vcmRpbmF0ZSB0byB0aGUgb3V0cHV0XG4gIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHgxO1xuICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB5MTtcbiAgLy8gZmluZCB0aGUgbmV4dCBjb29yZGluYXRlIHRoYXQgZG9lcyBub3Qgc25hcCB0byB0aGUgc2FtZSB2YWx1ZSBhcyB0aGUgZmlyc3RcbiAgLy8gY29vcmRpbmF0ZSAoUDIpXG4gIHZhciB4MiwgeTI7XG4gIGRvIHtcbiAgICB4MiA9IHNuYXAoZmxhdENvb3JkaW5hdGVzW29mZnNldF0sIHRvbGVyYW5jZSk7XG4gICAgeTIgPSBzbmFwKGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXSwgdG9sZXJhbmNlKTtcbiAgICBvZmZzZXQgKz0gc3RyaWRlO1xuICAgIGlmIChvZmZzZXQgPT0gZW5kKSB7XG4gICAgICAvLyBhbGwgY29vcmRpbmF0ZXMgc25hcCB0byB0aGUgc2FtZSB2YWx1ZSwgdGhlIGxpbmUgY29sbGFwc2VzIHRvIGEgcG9pbnRcbiAgICAgIC8vIHB1c2ggdGhlIGxhc3Qgc25hcHBlZCB2YWx1ZSBhbnl3YXkgdG8gZW5zdXJlIHRoYXQgdGhlIG91dHB1dCBjb250YWluc1xuICAgICAgLy8gYXQgbGVhc3QgdHdvIHBvaW50c1xuICAgICAgLy8gRklYTUUgc2hvdWxkIHdlIHJlYWxseSByZXR1cm4gYXQgbGVhc3QgdHdvIHBvaW50cyBhbnl3YXk/XG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB4MjtcbiAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHkyO1xuICAgICAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG4gICAgfVxuICB9IHdoaWxlICh4MiA9PSB4MSAmJiB5MiA9PSB5MSk7XG4gIHdoaWxlIChvZmZzZXQgPCBlbmQpIHtcbiAgICAvLyBzbmFwIHRoZSBuZXh0IGNvb3JkaW5hdGUgKFAzKVxuICAgIHZhciB4MyA9IHNuYXAoZmxhdENvb3JkaW5hdGVzW29mZnNldF0sIHRvbGVyYW5jZSk7XG4gICAgdmFyIHkzID0gc25hcChmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV0sIHRvbGVyYW5jZSk7XG4gICAgb2Zmc2V0ICs9IHN0cmlkZTtcbiAgICAvLyBza2lwIFAzIGlmIGl0IGlzIGVxdWFsIHRvIFAyXG4gICAgaWYgKHgzID09IHgyICYmIHkzID09IHkyKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgLy8gY2FsY3VsYXRlIHRoZSBkZWx0YSBiZXR3ZWVuIFAxIGFuZCBQMlxuICAgIHZhciBkeDEgPSB4MiAtIHgxO1xuICAgIHZhciBkeTEgPSB5MiAtIHkxO1xuICAgIC8vIGNhbGN1bGF0ZSB0aGUgZGVsdGEgYmV0d2VlbiBQMyBhbmQgUDFcbiAgICB2YXIgZHgyID0geDMgLSB4MTtcbiAgICB2YXIgZHkyID0geTMgLSB5MTtcbiAgICAvLyBpZiBQMSwgUDIsIGFuZCBQMyBhcmUgY29saW5lYXIgYW5kIFAzIGlzIGZ1cnRoZXIgZnJvbSBQMSB0aGFuIFAyIGlzIGZyb21cbiAgICAvLyBQMSBpbiB0aGUgc2FtZSBkaXJlY3Rpb24gdGhlbiBQMiBpcyBvbiB0aGUgc3RyYWlnaHQgbGluZSBiZXR3ZWVuIFAxIGFuZFxuICAgIC8vIFAzXG4gICAgaWYgKChkeDEgKiBkeTIgPT0gZHkxICogZHgyKSAmJlxuICAgICAgICAoKGR4MSA8IDAgJiYgZHgyIDwgZHgxKSB8fCBkeDEgPT0gZHgyIHx8IChkeDEgPiAwICYmIGR4MiA+IGR4MSkpICYmXG4gICAgICAgICgoZHkxIDwgMCAmJiBkeTIgPCBkeTEpIHx8IGR5MSA9PSBkeTIgfHwgKGR5MSA+IDAgJiYgZHkyID4gZHkxKSkpIHtcbiAgICAgIC8vIGRpc2NhcmQgUDIgYW5kIHNldCBQMiA9IFAzXG4gICAgICB4MiA9IHgzO1xuICAgICAgeTIgPSB5MztcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICAvLyBlaXRoZXIgUDEsIFAyLCBhbmQgUDMgYXJlIG5vdCBjb2xpbmVhciwgb3IgdGhleSBhcmUgY29saW5lYXIgYnV0IFAzIGlzXG4gICAgLy8gYmV0d2VlbiBQMyBhbmQgUDEgb3Igb24gdGhlIG9wcG9zaXRlIGhhbGYgb2YgdGhlIGxpbmUgdG8gUDIuICBhZGQgUDIsXG4gICAgLy8gYW5kIGNvbnRpbnVlIHdpdGggUDEgPSBQMiBhbmQgUDIgPSBQM1xuICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHgyO1xuICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHkyO1xuICAgIHgxID0geDI7XG4gICAgeTEgPSB5MjtcbiAgICB4MiA9IHgzO1xuICAgIHkyID0geTM7XG4gIH1cbiAgLy8gYWRkIHRoZSBsYXN0IHBvaW50IChQMilcbiAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geDI7XG4gIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHkyO1xuICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gdG9sZXJhbmNlIFRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyBTaW1wbGlmaWVkIGZsYXRcbiAqICAgICBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzaW1wbGlmaWVkT2Zmc2V0IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRW5kcyBTaW1wbGlmaWVkIGVuZHMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVhbnRpemVBcnJheShcbiAgZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSxcbiAgdG9sZXJhbmNlLFxuICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0LCBzaW1wbGlmaWVkRW5kcykge1xuICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICB2YXIgZW5kID0gZW5kc1tpXTtcbiAgICBzaW1wbGlmaWVkT2Zmc2V0ID0gcXVhbnRpemUoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsXG4gICAgICB0b2xlcmFuY2UsXG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0KTtcbiAgICBzaW1wbGlmaWVkRW5kcy5wdXNoKHNpbXBsaWZpZWRPZmZzZXQpO1xuICAgIG9mZnNldCA9IGVuZDtcbiAgfVxuICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gdG9sZXJhbmNlIFRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyBTaW1wbGlmaWVkIGZsYXRcbiAqICAgICBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzaW1wbGlmaWVkT2Zmc2V0IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gc2ltcGxpZmllZEVuZHNzIFNpbXBsaWZpZWQgZW5kc3MuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVhbnRpemVNdWx0aUFycmF5KFxuICBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc3MsIHN0cmlkZSxcbiAgdG9sZXJhbmNlLFxuICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0LCBzaW1wbGlmaWVkRW5kc3MpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIHZhciBlbmRzID0gZW5kc3NbaV07XG4gICAgdmFyIHNpbXBsaWZpZWRFbmRzID0gW107XG4gICAgc2ltcGxpZmllZE9mZnNldCA9IHF1YW50aXplQXJyYXkoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLFxuICAgICAgdG9sZXJhbmNlLFxuICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcywgc2ltcGxpZmllZE9mZnNldCwgc2ltcGxpZmllZEVuZHMpO1xuICAgIHNpbXBsaWZpZWRFbmRzcy5wdXNoKHNpbXBsaWZpZWRFbmRzKTtcbiAgICBvZmZzZXQgPSBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gIH1cbiAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNpbXBsaWZ5LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9MYXllclR5cGVcbiAqL1xuXG4vKipcbiAqIEEgbGF5ZXIgdHlwZSB1c2VkIHdoZW4gY3JlYXRpbmcgbGF5ZXIgcmVuZGVyZXJzLlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBJTUFHRTogJ0lNQUdFJyxcbiAgVElMRTogJ1RJTEUnLFxuICBWRUNUT1JfVElMRTogJ1ZFQ1RPUl9USUxFJyxcbiAgVkVDVE9SOiAnVkVDVE9SJ1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGF5ZXJUeXBlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL0xpbmVhclJpbmdcbiAqL1xuaW1wb3J0IHtjbG9zZXN0U3F1YXJlZERpc3RhbmNlWFl9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgR2VvbWV0cnlMYXlvdXQgZnJvbSAnLi9HZW9tZXRyeUxheW91dC5qcyc7XG5pbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJy4vR2VvbWV0cnlUeXBlLmpzJztcbmltcG9ydCBTaW1wbGVHZW9tZXRyeSBmcm9tICcuL1NpbXBsZUdlb21ldHJ5LmpzJztcbmltcG9ydCB7bGluZWFyUmluZyBhcyBsaW5lYXJSaW5nQXJlYX0gZnJvbSAnLi9mbGF0L2FyZWEuanMnO1xuaW1wb3J0IHthc3NpZ25DbG9zZXN0UG9pbnQsIG1heFNxdWFyZWREZWx0YX0gZnJvbSAnLi9mbGF0L2Nsb3Nlc3QuanMnO1xuaW1wb3J0IHtkZWZsYXRlQ29vcmRpbmF0ZXN9IGZyb20gJy4vZmxhdC9kZWZsYXRlLmpzJztcbmltcG9ydCB7aW5mbGF0ZUNvb3JkaW5hdGVzfSBmcm9tICcuL2ZsYXQvaW5mbGF0ZS5qcyc7XG5pbXBvcnQge2RvdWdsYXNQZXVja2VyfSBmcm9tICcuL2ZsYXQvc2ltcGxpZnkuanMnO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIExpbmVhciByaW5nIGdlb21ldHJ5LiBPbmx5IHVzZWQgYXMgcGFydCBvZiBwb2x5Z29uOyBjYW5ub3QgYmUgcmVuZGVyZWRcbiAqIG9uIGl0cyBvd24uXG4gKlxuICogQGFwaVxuICovXG52YXIgTGluZWFyUmluZyA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFNpbXBsZUdlb21ldHJ5KSB7XG4gIGZ1bmN0aW9uIExpbmVhclJpbmcoY29vcmRpbmF0ZXMsIG9wdF9sYXlvdXQpIHtcblxuICAgIFNpbXBsZUdlb21ldHJ5LmNhbGwodGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5tYXhEZWx0YV8gPSAtMTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1heERlbHRhUmV2aXNpb25fID0gLTE7XG5cbiAgICBpZiAob3B0X2xheW91dCAhPT0gdW5kZWZpbmVkICYmICFBcnJheS5pc0FycmF5KGNvb3JkaW5hdGVzWzBdKSkge1xuICAgICAgdGhpcy5zZXRGbGF0Q29vcmRpbmF0ZXMob3B0X2xheW91dCwgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAoY29vcmRpbmF0ZXMpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRDb29yZGluYXRlcygvKiogQHR5cGUge0FycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59ICovIChjb29yZGluYXRlcyksIG9wdF9sYXlvdXQpO1xuICAgIH1cblxuICB9XG5cbiAgaWYgKCBTaW1wbGVHZW9tZXRyeSApIExpbmVhclJpbmcuX19wcm90b19fID0gU2ltcGxlR2VvbWV0cnk7XG4gIExpbmVhclJpbmcucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU2ltcGxlR2VvbWV0cnkgJiYgU2ltcGxlR2VvbWV0cnkucHJvdG90eXBlICk7XG4gIExpbmVhclJpbmcucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGluZWFyUmluZztcblxuICAvKipcbiAgICogTWFrZSBhIGNvbXBsZXRlIGNvcHkgb2YgdGhlIGdlb21ldHJ5LlxuICAgKiBAcmV0dXJuIHshTGluZWFyUmluZ30gQ2xvbmUuXG4gICAqIEBvdmVycmlkZVxuICAgKiBAYXBpXG4gICAqL1xuICBMaW5lYXJSaW5nLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lICgpIHtcbiAgICByZXR1cm4gbmV3IExpbmVhclJpbmcodGhpcy5mbGF0Q29vcmRpbmF0ZXMuc2xpY2UoKSwgdGhpcy5sYXlvdXQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgTGluZWFyUmluZy5wcm90b3R5cGUuY2xvc2VzdFBvaW50WFkgPSBmdW5jdGlvbiBjbG9zZXN0UG9pbnRYWSAoeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICBpZiAobWluU3F1YXJlZERpc3RhbmNlIDwgY2xvc2VzdFNxdWFyZWREaXN0YW5jZVhZKHRoaXMuZ2V0RXh0ZW50KCksIHgsIHkpKSB7XG4gICAgICByZXR1cm4gbWluU3F1YXJlZERpc3RhbmNlO1xuICAgIH1cbiAgICBpZiAodGhpcy5tYXhEZWx0YVJldmlzaW9uXyAhPSB0aGlzLmdldFJldmlzaW9uKCkpIHtcbiAgICAgIHRoaXMubWF4RGVsdGFfID0gTWF0aC5zcXJ0KG1heFNxdWFyZWREZWx0YShcbiAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgdGhpcy5zdHJpZGUsIDApKTtcbiAgICAgIHRoaXMubWF4RGVsdGFSZXZpc2lvbl8gPSB0aGlzLmdldFJldmlzaW9uKCk7XG4gICAgfVxuICAgIHJldHVybiBhc3NpZ25DbG9zZXN0UG9pbnQoXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCB0aGlzLnN0cmlkZSxcbiAgICAgIHRoaXMubWF4RGVsdGFfLCB0cnVlLCB4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgYXJlYSBvZiB0aGUgbGluZWFyIHJpbmcgb24gcHJvamVjdGVkIHBsYW5lLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEFyZWEgKG9uIHByb2plY3RlZCBwbGFuZSkuXG4gICAqIEBhcGlcbiAgICovXG4gIExpbmVhclJpbmcucHJvdG90eXBlLmdldEFyZWEgPSBmdW5jdGlvbiBnZXRBcmVhICgpIHtcbiAgICByZXR1cm4gbGluZWFyUmluZ0FyZWEodGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgdGhpcy5zdHJpZGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBsaW5lYXIgcmluZy5cbiAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gQ29vcmRpbmF0ZXMuXG4gICAqIEBvdmVycmlkZVxuICAgKiBAYXBpXG4gICAqL1xuICBMaW5lYXJSaW5nLnByb3RvdHlwZS5nZXRDb29yZGluYXRlcyA9IGZ1bmN0aW9uIGdldENvb3JkaW5hdGVzICgpIHtcbiAgICByZXR1cm4gaW5mbGF0ZUNvb3JkaW5hdGVzKFxuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgdGhpcy5zdHJpZGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgTGluZWFyUmluZy5wcm90b3R5cGUuZ2V0U2ltcGxpZmllZEdlb21ldHJ5SW50ZXJuYWwgPSBmdW5jdGlvbiBnZXRTaW1wbGlmaWVkR2VvbWV0cnlJbnRlcm5hbCAoc3F1YXJlZFRvbGVyYW5jZSkge1xuICAgIHZhciBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzID0gW107XG4gICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcy5sZW5ndGggPSBkb3VnbGFzUGV1Y2tlcihcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLCAwLCB0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGgsIHRoaXMuc3RyaWRlLFxuICAgICAgc3F1YXJlZFRvbGVyYW5jZSwgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcywgMCk7XG4gICAgcmV0dXJuIG5ldyBMaW5lYXJSaW5nKHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIEdlb21ldHJ5TGF5b3V0LlhZKTtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICogQGFwaVxuICAgKi9cbiAgTGluZWFyUmluZy5wcm90b3R5cGUuZ2V0VHlwZSA9IGZ1bmN0aW9uIGdldFR5cGUgKCkge1xuICAgIHJldHVybiBHZW9tZXRyeVR5cGUuTElORUFSX1JJTkc7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBMaW5lYXJSaW5nLnByb3RvdHlwZS5pbnRlcnNlY3RzRXh0ZW50ID0gZnVuY3Rpb24gaW50ZXJzZWN0c0V4dGVudCAoZXh0ZW50KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBsaW5lYXIgcmluZy5cbiAgICogQHBhcmFtIHshQXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7R2VvbWV0cnlMYXlvdXQ9fSBvcHRfbGF5b3V0IExheW91dC5cbiAgICogQG92ZXJyaWRlXG4gICAqIEBhcGlcbiAgICovXG4gIExpbmVhclJpbmcucHJvdG90eXBlLnNldENvb3JkaW5hdGVzID0gZnVuY3Rpb24gc2V0Q29vcmRpbmF0ZXMgKGNvb3JkaW5hdGVzLCBvcHRfbGF5b3V0KSB7XG4gICAgdGhpcy5zZXRMYXlvdXQob3B0X2xheW91dCwgY29vcmRpbmF0ZXMsIDEpO1xuICAgIGlmICghdGhpcy5mbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzID0gW107XG4gICAgfVxuICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCA9IGRlZmxhdGVDb29yZGluYXRlcyhcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLCAwLCBjb29yZGluYXRlcywgdGhpcy5zdHJpZGUpO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9O1xuXG4gIHJldHVybiBMaW5lYXJSaW5nO1xufShTaW1wbGVHZW9tZXRyeSkpO1xuXG5cbmV4cG9ydCBkZWZhdWx0IExpbmVhclJpbmc7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxpbmVhclJpbmcuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vUG9seWdvblxuICovXG5pbXBvcnQge2V4dGVuZH0gZnJvbSAnLi4vYXJyYXkuanMnO1xuaW1wb3J0IHtjbG9zZXN0U3F1YXJlZERpc3RhbmNlWFksIGdldENlbnRlcn0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCBHZW9tZXRyeUxheW91dCBmcm9tICcuL0dlb21ldHJ5TGF5b3V0LmpzJztcbmltcG9ydCBHZW9tZXRyeVR5cGUgZnJvbSAnLi9HZW9tZXRyeVR5cGUuanMnO1xuaW1wb3J0IExpbmVhclJpbmcgZnJvbSAnLi9MaW5lYXJSaW5nLmpzJztcbmltcG9ydCBQb2ludCBmcm9tICcuL1BvaW50LmpzJztcbmltcG9ydCBTaW1wbGVHZW9tZXRyeSBmcm9tICcuL1NpbXBsZUdlb21ldHJ5LmpzJztcbmltcG9ydCB7b2Zmc2V0IGFzIHNwaGVyZU9mZnNldH0gZnJvbSAnLi4vc3BoZXJlLmpzJztcbmltcG9ydCB7bGluZWFyUmluZ3MgYXMgbGluZWFyUmluZ3NBcmVhfSBmcm9tICcuL2ZsYXQvYXJlYS5qcyc7XG5pbXBvcnQge2Fzc2lnbkNsb3Nlc3RBcnJheVBvaW50LCBhcnJheU1heFNxdWFyZWREZWx0YX0gZnJvbSAnLi9mbGF0L2Nsb3Nlc3QuanMnO1xuaW1wb3J0IHtsaW5lYXJSaW5nc0NvbnRhaW5zWFl9IGZyb20gJy4vZmxhdC9jb250YWlucy5qcyc7XG5pbXBvcnQge2RlZmxhdGVDb29yZGluYXRlc0FycmF5fSBmcm9tICcuL2ZsYXQvZGVmbGF0ZS5qcyc7XG5pbXBvcnQge2luZmxhdGVDb29yZGluYXRlc0FycmF5fSBmcm9tICcuL2ZsYXQvaW5mbGF0ZS5qcyc7XG5pbXBvcnQge2dldEludGVyaW9yUG9pbnRPZkFycmF5fSBmcm9tICcuL2ZsYXQvaW50ZXJpb3Jwb2ludC5qcyc7XG5pbXBvcnQge2ludGVyc2VjdHNMaW5lYXJSaW5nQXJyYXl9IGZyb20gJy4vZmxhdC9pbnRlcnNlY3RzZXh0ZW50LmpzJztcbmltcG9ydCB7bGluZWFyUmluZ0lzT3JpZW50ZWQsIG9yaWVudExpbmVhclJpbmdzfSBmcm9tICcuL2ZsYXQvb3JpZW50LmpzJztcbmltcG9ydCB7cXVhbnRpemVBcnJheX0gZnJvbSAnLi9mbGF0L3NpbXBsaWZ5LmpzJztcbmltcG9ydCB7bW9kdWxvfSBmcm9tICcuLi9tYXRoLmpzJztcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBQb2x5Z29uIGdlb21ldHJ5LlxuICpcbiAqIEBhcGlcbiAqL1xudmFyIFBvbHlnb24gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTaW1wbGVHZW9tZXRyeSkge1xuICBmdW5jdGlvbiBQb2x5Z29uKGNvb3JkaW5hdGVzLCBvcHRfbGF5b3V0LCBvcHRfZW5kcykge1xuXG4gICAgU2ltcGxlR2VvbWV0cnkuY2FsbCh0aGlzKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5lbmRzXyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZmxhdEludGVyaW9yUG9pbnRSZXZpc2lvbl8gPSAtMTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLmZsYXRJbnRlcmlvclBvaW50XyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5tYXhEZWx0YV8gPSAtMTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1heERlbHRhUmV2aXNpb25fID0gLTE7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5vcmllbnRlZFJldmlzaW9uXyA9IC0xO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLm9yaWVudGVkRmxhdENvb3JkaW5hdGVzXyA9IG51bGw7XG5cbiAgICBpZiAob3B0X2xheW91dCAhPT0gdW5kZWZpbmVkICYmIG9wdF9lbmRzKSB7XG4gICAgICB0aGlzLnNldEZsYXRDb29yZGluYXRlcyhvcHRfbGF5b3V0LCAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovIChjb29yZGluYXRlcykpO1xuICAgICAgdGhpcy5lbmRzXyA9IG9wdF9lbmRzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldENvb3JkaW5hdGVzKC8qKiBAdHlwZSB7QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj59ICovIChjb29yZGluYXRlcyksIG9wdF9sYXlvdXQpO1xuICAgIH1cblxuICB9XG5cbiAgaWYgKCBTaW1wbGVHZW9tZXRyeSApIFBvbHlnb24uX19wcm90b19fID0gU2ltcGxlR2VvbWV0cnk7XG4gIFBvbHlnb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU2ltcGxlR2VvbWV0cnkgJiYgU2ltcGxlR2VvbWV0cnkucHJvdG90eXBlICk7XG4gIFBvbHlnb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUG9seWdvbjtcblxuICAvKipcbiAgICogQXBwZW5kIHRoZSBwYXNzZWQgbGluZWFyIHJpbmcgdG8gdGhpcyBwb2x5Z29uLlxuICAgKiBAcGFyYW0ge0xpbmVhclJpbmd9IGxpbmVhclJpbmcgTGluZWFyIHJpbmcuXG4gICAqIEBhcGlcbiAgICovXG4gIFBvbHlnb24ucHJvdG90eXBlLmFwcGVuZExpbmVhclJpbmcgPSBmdW5jdGlvbiBhcHBlbmRMaW5lYXJSaW5nIChsaW5lYXJSaW5nKSB7XG4gICAgaWYgKCF0aGlzLmZsYXRDb29yZGluYXRlcykge1xuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMgPSBsaW5lYXJSaW5nLmdldEZsYXRDb29yZGluYXRlcygpLnNsaWNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4dGVuZCh0aGlzLmZsYXRDb29yZGluYXRlcywgbGluZWFyUmluZy5nZXRGbGF0Q29vcmRpbmF0ZXMoKSk7XG4gICAgfVxuICAgIHRoaXMuZW5kc18ucHVzaCh0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGgpO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBNYWtlIGEgY29tcGxldGUgY29weSBvZiB0aGUgZ2VvbWV0cnkuXG4gICAqIEByZXR1cm4geyFQb2x5Z29ufSBDbG9uZS5cbiAgICogQG92ZXJyaWRlXG4gICAqIEBhcGlcbiAgICovXG4gIFBvbHlnb24ucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUgKCkge1xuICAgIHJldHVybiBuZXcgUG9seWdvbih0aGlzLmZsYXRDb29yZGluYXRlcy5zbGljZSgpLCB0aGlzLmxheW91dCwgdGhpcy5lbmRzXy5zbGljZSgpKTtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIFBvbHlnb24ucHJvdG90eXBlLmNsb3Nlc3RQb2ludFhZID0gZnVuY3Rpb24gY2xvc2VzdFBvaW50WFkgKHgsIHksIGNsb3Nlc3RQb2ludCwgbWluU3F1YXJlZERpc3RhbmNlKSB7XG4gICAgaWYgKG1pblNxdWFyZWREaXN0YW5jZSA8IGNsb3Nlc3RTcXVhcmVkRGlzdGFuY2VYWSh0aGlzLmdldEV4dGVudCgpLCB4LCB5KSkge1xuICAgICAgcmV0dXJuIG1pblNxdWFyZWREaXN0YW5jZTtcbiAgICB9XG4gICAgaWYgKHRoaXMubWF4RGVsdGFSZXZpc2lvbl8gIT0gdGhpcy5nZXRSZXZpc2lvbigpKSB7XG4gICAgICB0aGlzLm1heERlbHRhXyA9IE1hdGguc3FydChhcnJheU1heFNxdWFyZWREZWx0YShcbiAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZW5kc18sIHRoaXMuc3RyaWRlLCAwKSk7XG4gICAgICB0aGlzLm1heERlbHRhUmV2aXNpb25fID0gdGhpcy5nZXRSZXZpc2lvbigpO1xuICAgIH1cbiAgICByZXR1cm4gYXNzaWduQ2xvc2VzdEFycmF5UG9pbnQoXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUsXG4gICAgICB0aGlzLm1heERlbHRhXywgdHJ1ZSwgeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgUG9seWdvbi5wcm90b3R5cGUuY29udGFpbnNYWSA9IGZ1bmN0aW9uIGNvbnRhaW5zWFkgKHgsIHkpIHtcbiAgICByZXR1cm4gbGluZWFyUmluZ3NDb250YWluc1hZKHRoaXMuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKSwgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUsIHgsIHkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGFyZWEgb2YgdGhlIHBvbHlnb24gb24gcHJvamVjdGVkIHBsYW5lLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEFyZWEgKG9uIHByb2plY3RlZCBwbGFuZSkuXG4gICAqIEBhcGlcbiAgICovXG4gIFBvbHlnb24ucHJvdG90eXBlLmdldEFyZWEgPSBmdW5jdGlvbiBnZXRBcmVhICgpIHtcbiAgICByZXR1cm4gbGluZWFyUmluZ3NBcmVhKHRoaXMuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKSwgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGNvb3JkaW5hdGUgYXJyYXkgZm9yIHRoaXMgZ2VvbWV0cnkuICBUaGlzIGFycmF5IGhhcyB0aGUgc3RydWN0dXJlXG4gICAqIG9mIGEgR2VvSlNPTiBjb29yZGluYXRlIGFycmF5IGZvciBwb2x5Z29ucy5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X3JpZ2h0IE9yaWVudCBjb29yZGluYXRlcyBhY2NvcmRpbmcgdG8gdGhlIHJpZ2h0LWhhbmRcbiAgICogICAgIHJ1bGUgKGNvdW50ZXItY2xvY2t3aXNlIGZvciBleHRlcmlvciBhbmQgY2xvY2t3aXNlIGZvciBpbnRlcmlvciByaW5ncykuXG4gICAqICAgICBJZiBgZmFsc2VgLCBjb29yZGluYXRlcyB3aWxsIGJlIG9yaWVudGVkIGFjY29yZGluZyB0byB0aGUgbGVmdC1oYW5kIHJ1bGVcbiAgICogICAgIChjbG9ja3dpc2UgZm9yIGV4dGVyaW9yIGFuZCBjb3VudGVyLWNsb2Nrd2lzZSBmb3IgaW50ZXJpb3IgcmluZ3MpLlxuICAgKiAgICAgQnkgZGVmYXVsdCwgY29vcmRpbmF0ZSBvcmllbnRhdGlvbiB3aWxsIGRlcGVuZCBvbiBob3cgdGhlIGdlb21ldHJ5IHdhc1xuICAgKiAgICAgY29uc3RydWN0ZWQuXG4gICAqIEByZXR1cm4ge0FycmF5PEFycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+fSBDb29yZGluYXRlcy5cbiAgICogQG92ZXJyaWRlXG4gICAqIEBhcGlcbiAgICovXG4gIFBvbHlnb24ucHJvdG90eXBlLmdldENvb3JkaW5hdGVzID0gZnVuY3Rpb24gZ2V0Q29vcmRpbmF0ZXMgKG9wdF9yaWdodCkge1xuICAgIHZhciBmbGF0Q29vcmRpbmF0ZXM7XG4gICAgaWYgKG9wdF9yaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCkuc2xpY2UoKTtcbiAgICAgIG9yaWVudExpbmVhclJpbmdzKFxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZW5kc18sIHRoaXMuc3RyaWRlLCBvcHRfcmlnaHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmZsYXRDb29yZGluYXRlcztcbiAgICB9XG5cbiAgICByZXR1cm4gaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXkoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZW5kc18sIHRoaXMuc3RyaWRlKTtcbiAgfTtcblxuICAvKipcbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gRW5kcy5cbiAgICovXG4gIFBvbHlnb24ucHJvdG90eXBlLmdldEVuZHMgPSBmdW5jdGlvbiBnZXRFbmRzICgpIHtcbiAgICByZXR1cm4gdGhpcy5lbmRzXztcbiAgfTtcblxuICAvKipcbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gSW50ZXJpb3IgcG9pbnQuXG4gICAqL1xuICBQb2x5Z29uLnByb3RvdHlwZS5nZXRGbGF0SW50ZXJpb3JQb2ludCA9IGZ1bmN0aW9uIGdldEZsYXRJbnRlcmlvclBvaW50ICgpIHtcbiAgICBpZiAodGhpcy5mbGF0SW50ZXJpb3JQb2ludFJldmlzaW9uXyAhPSB0aGlzLmdldFJldmlzaW9uKCkpIHtcbiAgICAgIHZhciBmbGF0Q2VudGVyID0gZ2V0Q2VudGVyKHRoaXMuZ2V0RXh0ZW50KCkpO1xuICAgICAgdGhpcy5mbGF0SW50ZXJpb3JQb2ludF8gPSBnZXRJbnRlcmlvclBvaW50T2ZBcnJheShcbiAgICAgICAgdGhpcy5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpLCAwLCB0aGlzLmVuZHNfLCB0aGlzLnN0cmlkZSxcbiAgICAgICAgZmxhdENlbnRlciwgMCk7XG4gICAgICB0aGlzLmZsYXRJbnRlcmlvclBvaW50UmV2aXNpb25fID0gdGhpcy5nZXRSZXZpc2lvbigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5mbGF0SW50ZXJpb3JQb2ludF87XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBhbiBpbnRlcmlvciBwb2ludCBvZiB0aGUgcG9seWdvbi5cbiAgICogQHJldHVybiB7UG9pbnR9IEludGVyaW9yIHBvaW50IGFzIFhZTSBjb29yZGluYXRlLCB3aGVyZSBNIGlzIHRoZVxuICAgKiBsZW5ndGggb2YgdGhlIGhvcml6b250YWwgaW50ZXJzZWN0aW9uIHRoYXQgdGhlIHBvaW50IGJlbG9uZ3MgdG8uXG4gICAqIEBhcGlcbiAgICovXG4gIFBvbHlnb24ucHJvdG90eXBlLmdldEludGVyaW9yUG9pbnQgPSBmdW5jdGlvbiBnZXRJbnRlcmlvclBvaW50ICgpIHtcbiAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMuZ2V0RmxhdEludGVyaW9yUG9pbnQoKSwgR2VvbWV0cnlMYXlvdXQuWFlNKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBudW1iZXIgb2YgcmluZ3Mgb2YgdGhlIHBvbHlnb24sICB0aGlzIGluY2x1ZGVzIHRoZSBleHRlcmlvclxuICAgKiByaW5nIGFuZCBhbnkgaW50ZXJpb3IgcmluZ3MuXG4gICAqXG4gICAqIEByZXR1cm4ge251bWJlcn0gTnVtYmVyIG9mIHJpbmdzLlxuICAgKiBAYXBpXG4gICAqL1xuICBQb2x5Z29uLnByb3RvdHlwZS5nZXRMaW5lYXJSaW5nQ291bnQgPSBmdW5jdGlvbiBnZXRMaW5lYXJSaW5nQ291bnQgKCkge1xuICAgIHJldHVybiB0aGlzLmVuZHNfLmxlbmd0aDtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBOdGggbGluZWFyIHJpbmcgb2YgdGhlIHBvbHlnb24gZ2VvbWV0cnkuIFJldHVybiBgbnVsbGAgaWYgdGhlXG4gICAqIGdpdmVuIGluZGV4IGlzIG91dCBvZiByYW5nZS5cbiAgICogVGhlIGV4dGVyaW9yIGxpbmVhciByaW5nIGlzIGF2YWlsYWJsZSBhdCBpbmRleCBgMGAgYW5kIHRoZSBpbnRlcmlvciByaW5nc1xuICAgKiBhdCBpbmRleCBgMWAgYW5kIGJleW9uZC5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IEluZGV4LlxuICAgKiBAcmV0dXJuIHtMaW5lYXJSaW5nfSBMaW5lYXIgcmluZy5cbiAgICogQGFwaVxuICAgKi9cbiAgUG9seWdvbi5wcm90b3R5cGUuZ2V0TGluZWFyUmluZyA9IGZ1bmN0aW9uIGdldExpbmVhclJpbmcgKGluZGV4KSB7XG4gICAgaWYgKGluZGV4IDwgMCB8fCB0aGlzLmVuZHNfLmxlbmd0aCA8PSBpbmRleCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBuZXcgTGluZWFyUmluZyh0aGlzLmZsYXRDb29yZGluYXRlcy5zbGljZShcbiAgICAgIGluZGV4ID09PSAwID8gMCA6IHRoaXMuZW5kc19baW5kZXggLSAxXSwgdGhpcy5lbmRzX1tpbmRleF0pLCB0aGlzLmxheW91dCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgbGluZWFyIHJpbmdzIG9mIHRoZSBwb2x5Z29uLlxuICAgKiBAcmV0dXJuIHtBcnJheTxMaW5lYXJSaW5nPn0gTGluZWFyIHJpbmdzLlxuICAgKiBAYXBpXG4gICAqL1xuICBQb2x5Z29uLnByb3RvdHlwZS5nZXRMaW5lYXJSaW5ncyA9IGZ1bmN0aW9uIGdldExpbmVhclJpbmdzICgpIHtcbiAgICB2YXIgbGF5b3V0ID0gdGhpcy5sYXlvdXQ7XG4gICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IHRoaXMuZmxhdENvb3JkaW5hdGVzO1xuICAgIHZhciBlbmRzID0gdGhpcy5lbmRzXztcbiAgICB2YXIgbGluZWFyUmluZ3MgPSBbXTtcbiAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIHZhciBlbmQgPSBlbmRzW2ldO1xuICAgICAgdmFyIGxpbmVhclJpbmcgPSBuZXcgTGluZWFyUmluZyhmbGF0Q29vcmRpbmF0ZXMuc2xpY2Uob2Zmc2V0LCBlbmQpLCBsYXlvdXQpO1xuICAgICAgbGluZWFyUmluZ3MucHVzaChsaW5lYXJSaW5nKTtcbiAgICAgIG9mZnNldCA9IGVuZDtcbiAgICB9XG4gICAgcmV0dXJuIGxpbmVhclJpbmdzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBPcmllbnRlZCBmbGF0IGNvb3JkaW5hdGVzLlxuICAgKi9cbiAgUG9seWdvbi5wcm90b3R5cGUuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiBnZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcyAoKSB7XG4gICAgaWYgKHRoaXMub3JpZW50ZWRSZXZpc2lvbl8gIT0gdGhpcy5nZXRSZXZpc2lvbigpKSB7XG4gICAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gdGhpcy5mbGF0Q29vcmRpbmF0ZXM7XG4gICAgICBpZiAobGluZWFyUmluZ0lzT3JpZW50ZWQoXG4gICAgICAgIGZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUpKSB7XG4gICAgICAgIHRoaXMub3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXNfID0gZmxhdENvb3JkaW5hdGVzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vcmllbnRlZEZsYXRDb29yZGluYXRlc18gPSBmbGF0Q29vcmRpbmF0ZXMuc2xpY2UoKTtcbiAgICAgICAgdGhpcy5vcmllbnRlZEZsYXRDb29yZGluYXRlc18ubGVuZ3RoID1cbiAgICAgICAgICAgIG9yaWVudExpbmVhclJpbmdzKFxuICAgICAgICAgICAgICB0aGlzLm9yaWVudGVkRmxhdENvb3JkaW5hdGVzXywgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUpO1xuICAgICAgfVxuICAgICAgdGhpcy5vcmllbnRlZFJldmlzaW9uXyA9IHRoaXMuZ2V0UmV2aXNpb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMub3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXNfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgUG9seWdvbi5wcm90b3R5cGUuZ2V0U2ltcGxpZmllZEdlb21ldHJ5SW50ZXJuYWwgPSBmdW5jdGlvbiBnZXRTaW1wbGlmaWVkR2VvbWV0cnlJbnRlcm5hbCAoc3F1YXJlZFRvbGVyYW5jZSkge1xuICAgIHZhciBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzID0gW107XG4gICAgdmFyIHNpbXBsaWZpZWRFbmRzID0gW107XG4gICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcy5sZW5ndGggPSBxdWFudGl6ZUFycmF5KFxuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZW5kc18sIHRoaXMuc3RyaWRlLFxuICAgICAgTWF0aC5zcXJ0KHNxdWFyZWRUb2xlcmFuY2UpLFxuICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcywgMCwgc2ltcGxpZmllZEVuZHMpO1xuICAgIHJldHVybiBuZXcgUG9seWdvbihzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBHZW9tZXRyeUxheW91dC5YWSwgc2ltcGxpZmllZEVuZHMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKiBAYXBpXG4gICAqL1xuICBQb2x5Z29uLnByb3RvdHlwZS5nZXRUeXBlID0gZnVuY3Rpb24gZ2V0VHlwZSAoKSB7XG4gICAgcmV0dXJuIEdlb21ldHJ5VHlwZS5QT0xZR09OO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKiBAYXBpXG4gICAqL1xuICBQb2x5Z29uLnByb3RvdHlwZS5pbnRlcnNlY3RzRXh0ZW50ID0gZnVuY3Rpb24gaW50ZXJzZWN0c0V4dGVudCAoZXh0ZW50KSB7XG4gICAgcmV0dXJuIGludGVyc2VjdHNMaW5lYXJSaW5nQXJyYXkoXG4gICAgICB0aGlzLmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCksIDAsIHRoaXMuZW5kc18sIHRoaXMuc3RyaWRlLCBleHRlbnQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBwb2x5Z29uLlxuICAgKiBAcGFyYW0geyFBcnJheTxBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7R2VvbWV0cnlMYXlvdXQ9fSBvcHRfbGF5b3V0IExheW91dC5cbiAgICogQG92ZXJyaWRlXG4gICAqIEBhcGlcbiAgICovXG4gIFBvbHlnb24ucHJvdG90eXBlLnNldENvb3JkaW5hdGVzID0gZnVuY3Rpb24gc2V0Q29vcmRpbmF0ZXMgKGNvb3JkaW5hdGVzLCBvcHRfbGF5b3V0KSB7XG4gICAgdGhpcy5zZXRMYXlvdXQob3B0X2xheW91dCwgY29vcmRpbmF0ZXMsIDIpO1xuICAgIGlmICghdGhpcy5mbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzID0gW107XG4gICAgfVxuICAgIHZhciBlbmRzID0gZGVmbGF0ZUNvb3JkaW5hdGVzQXJyYXkoXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgY29vcmRpbmF0ZXMsIHRoaXMuc3RyaWRlLCB0aGlzLmVuZHNfKTtcbiAgICB0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGggPSBlbmRzLmxlbmd0aCA9PT0gMCA/IDAgOiBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH07XG5cbiAgcmV0dXJuIFBvbHlnb247XG59KFNpbXBsZUdlb21ldHJ5KSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgUG9seWdvbjtcblxuXG4vKipcbiAqIENyZWF0ZSBhbiBhcHByb3hpbWF0aW9uIG9mIGEgY2lyY2xlIG9uIHRoZSBzdXJmYWNlIG9mIGEgc3BoZXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNlbnRlciBDZW50ZXIgKGBbbG9uLCBsYXRdYCBpbiBkZWdyZWVzKS5cbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgVGhlIGdyZWF0LWNpcmNsZSBkaXN0YW5jZSBmcm9tIHRoZSBjZW50ZXIgdG9cbiAqICAgICB0aGUgcG9seWdvbiB2ZXJ0aWNlcy5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X24gT3B0aW9uYWwgbnVtYmVyIG9mIHZlcnRpY2VzIGZvciB0aGUgcmVzdWx0aW5nXG4gKiAgICAgcG9seWdvbi4gRGVmYXVsdCBpcyBgMzJgLlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfc3BoZXJlUmFkaXVzIE9wdGlvbmFsIHJhZGl1cyBmb3IgdGhlIHNwaGVyZSAoZGVmYXVsdHMgdG9cbiAqICAgICB0aGUgRWFydGgncyBtZWFuIHJhZGl1cyB1c2luZyB0aGUgV0dTODQgZWxsaXBzb2lkKS5cbiAqIEByZXR1cm4ge1BvbHlnb259IFRoZSBcImNpcmN1bGFyXCIgcG9seWdvbi5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNpcmN1bGFyKGNlbnRlciwgcmFkaXVzLCBvcHRfbiwgb3B0X3NwaGVyZVJhZGl1cykge1xuICB2YXIgbiA9IG9wdF9uID8gb3B0X24gOiAzMjtcbiAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqL1xuICB2YXIgZmxhdENvb3JkaW5hdGVzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgZXh0ZW5kKGZsYXRDb29yZGluYXRlcywgc3BoZXJlT2Zmc2V0KGNlbnRlciwgcmFkaXVzLCAyICogTWF0aC5QSSAqIGkgLyBuLCBvcHRfc3BoZXJlUmFkaXVzKSk7XG4gIH1cbiAgZmxhdENvb3JkaW5hdGVzLnB1c2goZmxhdENvb3JkaW5hdGVzWzBdLCBmbGF0Q29vcmRpbmF0ZXNbMV0pO1xuICByZXR1cm4gbmV3IFBvbHlnb24oZmxhdENvb3JkaW5hdGVzLCBHZW9tZXRyeUxheW91dC5YWSwgW2ZsYXRDb29yZGluYXRlcy5sZW5ndGhdKTtcbn1cblxuXG4vKipcbiAqIENyZWF0ZSBhIHBvbHlnb24gZnJvbSBhbiBleHRlbnQuIFRoZSBsYXlvdXQgdXNlZCBpcyBgWFlgLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgVGhlIGV4dGVudC5cbiAqIEByZXR1cm4ge1BvbHlnb259IFRoZSBwb2x5Z29uLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUV4dGVudChleHRlbnQpIHtcbiAgdmFyIG1pblggPSBleHRlbnRbMF07XG4gIHZhciBtaW5ZID0gZXh0ZW50WzFdO1xuICB2YXIgbWF4WCA9IGV4dGVudFsyXTtcbiAgdmFyIG1heFkgPSBleHRlbnRbM107XG4gIHZhciBmbGF0Q29vcmRpbmF0ZXMgPVxuICAgICAgW21pblgsIG1pblksIG1pblgsIG1heFksIG1heFgsIG1heFksIG1heFgsIG1pblksIG1pblgsIG1pblldO1xuICByZXR1cm4gbmV3IFBvbHlnb24oZmxhdENvb3JkaW5hdGVzLCBHZW9tZXRyeUxheW91dC5YWSwgW2ZsYXRDb29yZGluYXRlcy5sZW5ndGhdKTtcbn1cblxuXG4vKipcbiAqIENyZWF0ZSBhIHJlZ3VsYXIgcG9seWdvbiBmcm9tIGEgY2lyY2xlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL0NpcmNsZS5qc1wiKS5kZWZhdWx0fSBjaXJjbGUgQ2lyY2xlIGdlb21ldHJ5LlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfc2lkZXMgTnVtYmVyIG9mIHNpZGVzIG9mIHRoZSBwb2x5Z29uLiBEZWZhdWx0IGlzIDMyLlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfYW5nbGUgU3RhcnQgYW5nbGUgZm9yIHRoZSBmaXJzdCB2ZXJ0ZXggb2YgdGhlIHBvbHlnb24gaW5cbiAqICAgICByYWRpYW5zLiBEZWZhdWx0IGlzIDAuXG4gKiBAcmV0dXJuIHtQb2x5Z29ufSBQb2x5Z29uIGdlb21ldHJ5LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUNpcmNsZShjaXJjbGUsIG9wdF9zaWRlcywgb3B0X2FuZ2xlKSB7XG4gIHZhciBzaWRlcyA9IG9wdF9zaWRlcyA/IG9wdF9zaWRlcyA6IDMyO1xuICB2YXIgc3RyaWRlID0gY2lyY2xlLmdldFN0cmlkZSgpO1xuICB2YXIgbGF5b3V0ID0gY2lyY2xlLmdldExheW91dCgpO1xuICB2YXIgY2VudGVyID0gY2lyY2xlLmdldENlbnRlcigpO1xuICB2YXIgYXJyYXlMZW5ndGggPSBzdHJpZGUgKiAoc2lkZXMgKyAxKTtcbiAgdmFyIGZsYXRDb29yZGluYXRlcyA9IG5ldyBBcnJheShhcnJheUxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlMZW5ndGg7IGkgKz0gc3RyaWRlKSB7XG4gICAgZmxhdENvb3JkaW5hdGVzW2ldID0gMDtcbiAgICBmbGF0Q29vcmRpbmF0ZXNbaSArIDFdID0gMDtcbiAgICBmb3IgKHZhciBqID0gMjsgaiA8IHN0cmlkZTsgaisrKSB7XG4gICAgICBmbGF0Q29vcmRpbmF0ZXNbaSArIGpdID0gY2VudGVyW2pdO1xuICAgIH1cbiAgfVxuICB2YXIgZW5kcyA9IFtmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoXTtcbiAgdmFyIHBvbHlnb24gPSBuZXcgUG9seWdvbihmbGF0Q29vcmRpbmF0ZXMsIGxheW91dCwgZW5kcyk7XG4gIG1ha2VSZWd1bGFyKHBvbHlnb24sIGNlbnRlciwgY2lyY2xlLmdldFJhZGl1cygpLCBvcHRfYW5nbGUpO1xuICByZXR1cm4gcG9seWdvbjtcbn1cblxuXG4vKipcbiAqIE1vZGlmeSB0aGUgY29vcmRpbmF0ZXMgb2YgYSBwb2x5Z29uIHRvIG1ha2UgaXQgYSByZWd1bGFyIHBvbHlnb24uXG4gKiBAcGFyYW0ge1BvbHlnb259IHBvbHlnb24gUG9seWdvbiBnZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjZW50ZXIgQ2VudGVyIG9mIHRoZSByZWd1bGFyIHBvbHlnb24uXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIFJhZGl1cyBvZiB0aGUgcmVndWxhciBwb2x5Z29uLlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfYW5nbGUgU3RhcnQgYW5nbGUgZm9yIHRoZSBmaXJzdCB2ZXJ0ZXggb2YgdGhlIHBvbHlnb24gaW5cbiAqICAgICByYWRpYW5zLiBEZWZhdWx0IGlzIDAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYWtlUmVndWxhcihwb2x5Z29uLCBjZW50ZXIsIHJhZGl1cywgb3B0X2FuZ2xlKSB7XG4gIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBwb2x5Z29uLmdldEZsYXRDb29yZGluYXRlcygpO1xuICB2YXIgc3RyaWRlID0gcG9seWdvbi5nZXRTdHJpZGUoKTtcbiAgdmFyIHNpZGVzID0gZmxhdENvb3JkaW5hdGVzLmxlbmd0aCAvIHN0cmlkZSAtIDE7XG4gIHZhciBzdGFydEFuZ2xlID0gb3B0X2FuZ2xlID8gb3B0X2FuZ2xlIDogMDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPD0gc2lkZXM7ICsraSkge1xuICAgIHZhciBvZmZzZXQgPSBpICogc3RyaWRlO1xuICAgIHZhciBhbmdsZSA9IHN0YXJ0QW5nbGUgKyAobW9kdWxvKGksIHNpZGVzKSAqIDIgKiBNYXRoLlBJIC8gc2lkZXMpO1xuICAgIGZsYXRDb29yZGluYXRlc1tvZmZzZXRdID0gY2VudGVyWzBdICsgKHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKSk7XG4gICAgZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdID0gY2VudGVyWzFdICsgKHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlKSk7XG4gIH1cbiAgcG9seWdvbi5jaGFuZ2VkKCk7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBvbHlnb24uanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2xheWVyL0xheWVyXG4gKi9cbmltcG9ydCB7bGlzdGVuLCB1bmxpc3RlbkJ5S2V5fSBmcm9tICcuLi9ldmVudHMuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7Z2V0VWlkfSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCB7Z2V0Q2hhbmdlRXZlbnRUeXBlfSBmcm9tICcuLi9PYmplY3QuanMnO1xuaW1wb3J0IEJhc2VMYXllciBmcm9tICcuL0Jhc2UuanMnO1xuaW1wb3J0IExheWVyUHJvcGVydHkgZnJvbSAnLi9Qcm9wZXJ0eS5qcyc7XG5pbXBvcnQge2Fzc2lnbn0gZnJvbSAnLi4vb2JqLmpzJztcbmltcG9ydCBSZW5kZXJFdmVudFR5cGUgZnJvbSAnLi4vcmVuZGVyL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgU291cmNlU3RhdGUgZnJvbSAnLi4vc291cmNlL1N0YXRlLmpzJztcblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbb3BhY2l0eT0xXSBPcGFjaXR5ICgwLCAxKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3Zpc2libGU9dHJ1ZV0gVmlzaWJpbGl0eS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gVGhlIGJvdW5kaW5nIGV4dGVudCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgVGhlIGxheWVyIHdpbGwgbm90IGJlXG4gKiByZW5kZXJlZCBvdXRzaWRlIG9mIHRoaXMgZXh0ZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6SW5kZXhdIFRoZSB6LWluZGV4IGZvciBsYXllciByZW5kZXJpbmcuICBBdCByZW5kZXJpbmcgdGltZSwgdGhlIGxheWVyc1xuICogd2lsbCBiZSBvcmRlcmVkLCBmaXJzdCBieSBaLWluZGV4IGFuZCB0aGVuIGJ5IHBvc2l0aW9uLiBXaGVuIGB1bmRlZmluZWRgLCBhIGB6SW5kZXhgIG9mIDAgaXMgYXNzdW1lZFxuICogZm9yIGxheWVycyB0aGF0IGFyZSBhZGRlZCB0byB0aGUgbWFwJ3MgYGxheWVyc2AgY29sbGVjdGlvbiwgb3IgYEluZmluaXR5YCB3aGVuIHRoZSBsYXllcidzIGBzZXRNYXAoKWBcbiAqIG1ldGhvZCB3YXMgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluUmVzb2x1dGlvbl0gVGhlIG1pbmltdW0gcmVzb2x1dGlvbiAoaW5jbHVzaXZlKSBhdCB3aGljaCB0aGlzIGxheWVyIHdpbGwgYmVcbiAqIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFJlc29sdXRpb25dIFRoZSBtYXhpbXVtIHJlc29sdXRpb24gKGV4Y2x1c2l2ZSkgYmVsb3cgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zb3VyY2UvU291cmNlLmpzXCIpLmRlZmF1bHR9IFtzb3VyY2VdIFNvdXJjZSBmb3IgdGhpcyBsYXllci4gIElmIG5vdCBwcm92aWRlZCB0byB0aGUgY29uc3RydWN0b3IsXG4gKiB0aGUgc291cmNlIGNhbiBiZSBzZXQgYnkgY2FsbGluZyB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0xheWVyI3NldFNvdXJjZSBsYXllci5zZXRTb3VyY2Uoc291cmNlKX0gYWZ0ZXJcbiAqIGNvbnN0cnVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IFttYXBdIE1hcC5cbiAqL1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gU3RhdGVcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9CYXNlLmpzXCIpLmRlZmF1bHR9IGxheWVyXG4gKiBAcHJvcGVydHkge251bWJlcn0gb3BhY2l0eVxuICogQHByb3BlcnR5IHtTb3VyY2VTdGF0ZX0gc291cmNlU3RhdGVcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gdmlzaWJsZVxuICogQHByb3BlcnR5IHtib29sZWFufSBtYW5hZ2VkXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdXG4gKiBAcHJvcGVydHkge251bWJlcn0gekluZGV4XG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4UmVzb2x1dGlvblxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1pblJlc29sdXRpb25cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3M7IG5vcm1hbGx5IG9ubHkgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlcyBhbmQgbm90XG4gKiBpbnN0YW50aWF0ZWQgaW4gYXBwcy5cbiAqIEEgdmlzdWFsIHJlcHJlc2VudGF0aW9uIG9mIHJhc3RlciBvciB2ZWN0b3IgbWFwIGRhdGEuXG4gKiBMYXllcnMgZ3JvdXAgdG9nZXRoZXIgdGhvc2UgcHJvcGVydGllcyB0aGF0IHBlcnRhaW4gdG8gaG93IHRoZSBkYXRhIGlzIHRvIGJlXG4gKiBkaXNwbGF5ZWQsIGlycmVzcGVjdGl2ZSBvZiB0aGUgc291cmNlIG9mIHRoYXQgZGF0YS5cbiAqXG4gKiBMYXllcnMgYXJlIHVzdWFsbHkgYWRkZWQgdG8gYSBtYXAgd2l0aCB7QGxpbmsgbW9kdWxlOm9sL01hcCNhZGRMYXllcn0uIENvbXBvbmVudHNcbiAqIGxpa2Uge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9TZWxlY3R+U2VsZWN0fSB1c2UgdW5tYW5hZ2VkIGxheWVyc1xuICogaW50ZXJuYWxseS4gVGhlc2UgdW5tYW5hZ2VkIGxheWVycyBhcmUgYXNzb2NpYXRlZCB3aXRoIHRoZSBtYXAgdXNpbmdcbiAqIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXJ+TGF5ZXIjc2V0TWFwfSBpbnN0ZWFkLlxuICpcbiAqIEEgZ2VuZXJpYyBgY2hhbmdlYCBldmVudCBpcyBmaXJlZCB3aGVuIHRoZSBzdGF0ZSBvZiB0aGUgc291cmNlIGNoYW5nZXMuXG4gKlxuICogQGZpcmVzIGltcG9ydChcIi4uL3JlbmRlci9FdmVudC5qc1wiKS5SZW5kZXJFdmVudFxuICovXG52YXIgTGF5ZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChCYXNlTGF5ZXIpIHtcbiAgZnVuY3Rpb24gTGF5ZXIob3B0aW9ucykge1xuXG4gICAgdmFyIGJhc2VPcHRpb25zID0gYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICBkZWxldGUgYmFzZU9wdGlvbnMuc291cmNlO1xuXG4gICAgQmFzZUxheWVyLmNhbGwodGhpcywgYmFzZU9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICovXG4gICAgdGhpcy5tYXBQcmVjb21wb3NlS2V5XyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgKi9cbiAgICB0aGlzLm1hcFJlbmRlcktleV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICovXG4gICAgdGhpcy5zb3VyY2VDaGFuZ2VLZXlfID0gbnVsbDtcblxuICAgIGlmIChvcHRpb25zLm1hcCkge1xuICAgICAgdGhpcy5zZXRNYXAob3B0aW9ucy5tYXApO1xuICAgIH1cblxuICAgIGxpc3Rlbih0aGlzLFxuICAgICAgZ2V0Q2hhbmdlRXZlbnRUeXBlKExheWVyUHJvcGVydHkuU09VUkNFKSxcbiAgICAgIHRoaXMuaGFuZGxlU291cmNlUHJvcGVydHlDaGFuZ2VfLCB0aGlzKTtcblxuICAgIHZhciBzb3VyY2UgPSBvcHRpb25zLnNvdXJjZSA/IG9wdGlvbnMuc291cmNlIDogbnVsbDtcbiAgICB0aGlzLnNldFNvdXJjZShzb3VyY2UpO1xuICB9XG5cbiAgaWYgKCBCYXNlTGF5ZXIgKSBMYXllci5fX3Byb3RvX18gPSBCYXNlTGF5ZXI7XG4gIExheWVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEJhc2VMYXllciAmJiBCYXNlTGF5ZXIucHJvdG90eXBlICk7XG4gIExheWVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExheWVyO1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgTGF5ZXIucHJvdG90eXBlLmdldExheWVyc0FycmF5ID0gZnVuY3Rpb24gZ2V0TGF5ZXJzQXJyYXkgKG9wdF9hcnJheSkge1xuICAgIHZhciBhcnJheSA9IG9wdF9hcnJheSA/IG9wdF9hcnJheSA6IFtdO1xuICAgIGFycmF5LnB1c2godGhpcyk7XG4gICAgcmV0dXJuIGFycmF5O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgTGF5ZXIucHJvdG90eXBlLmdldExheWVyU3RhdGVzQXJyYXkgPSBmdW5jdGlvbiBnZXRMYXllclN0YXRlc0FycmF5IChvcHRfc3RhdGVzKSB7XG4gICAgdmFyIHN0YXRlcyA9IG9wdF9zdGF0ZXMgPyBvcHRfc3RhdGVzIDogW107XG4gICAgc3RhdGVzLnB1c2godGhpcy5nZXRMYXllclN0YXRlKCkpO1xuICAgIHJldHVybiBzdGF0ZXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGF5ZXIgc291cmNlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zb3VyY2UvU291cmNlLmpzXCIpLmRlZmF1bHR9IFRoZSBsYXllciBzb3VyY2UgKG9yIGBudWxsYCBpZiBub3QgeWV0IHNldCkuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIExheWVyLnByb3RvdHlwZS5nZXRTb3VyY2UgPSBmdW5jdGlvbiBnZXRTb3VyY2UgKCkge1xuICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldChMYXllclByb3BlcnR5LlNPVVJDRSk7XG4gICAgcmV0dXJuIChcbiAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vc291cmNlL1NvdXJjZS5qc1wiKS5kZWZhdWx0fSAqLyAoc291cmNlKSB8fCBudWxsXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICAqIEBpbmhlcml0RG9jXG4gICAgKi9cbiAgTGF5ZXIucHJvdG90eXBlLmdldFNvdXJjZVN0YXRlID0gZnVuY3Rpb24gZ2V0U291cmNlU3RhdGUgKCkge1xuICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldFNvdXJjZSgpO1xuICAgIHJldHVybiAhc291cmNlID8gU291cmNlU3RhdGUuVU5ERUZJTkVEIDogc291cmNlLmdldFN0YXRlKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBMYXllci5wcm90b3R5cGUuaGFuZGxlU291cmNlQ2hhbmdlXyA9IGZ1bmN0aW9uIGhhbmRsZVNvdXJjZUNoYW5nZV8gKCkge1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTGF5ZXIucHJvdG90eXBlLmhhbmRsZVNvdXJjZVByb3BlcnR5Q2hhbmdlXyA9IGZ1bmN0aW9uIGhhbmRsZVNvdXJjZVByb3BlcnR5Q2hhbmdlXyAoKSB7XG4gICAgaWYgKHRoaXMuc291cmNlQ2hhbmdlS2V5Xykge1xuICAgICAgdW5saXN0ZW5CeUtleSh0aGlzLnNvdXJjZUNoYW5nZUtleV8pO1xuICAgICAgdGhpcy5zb3VyY2VDaGFuZ2VLZXlfID0gbnVsbDtcbiAgICB9XG4gICAgdmFyIHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKCk7XG4gICAgaWYgKHNvdXJjZSkge1xuICAgICAgdGhpcy5zb3VyY2VDaGFuZ2VLZXlfID0gbGlzdGVuKHNvdXJjZSxcbiAgICAgICAgRXZlbnRUeXBlLkNIQU5HRSwgdGhpcy5oYW5kbGVTb3VyY2VDaGFuZ2VfLCB0aGlzKTtcbiAgICB9XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGxheWVyIHRvIGJlIHJlbmRlcmVkIG9uIHRvcCBvZiBvdGhlciBsYXllcnMgb24gYSBtYXAuIFRoZSBtYXAgd2lsbFxuICAgKiBub3QgbWFuYWdlIHRoaXMgbGF5ZXIgaW4gaXRzIGxheWVycyBjb2xsZWN0aW9uLCBhbmQgdGhlIGNhbGxiYWNrIGluXG4gICAqIHtAbGluayBtb2R1bGU6b2wvTWFwI2ZvckVhY2hMYXllckF0UGl4ZWx9IHdpbGwgcmVjZWl2ZSBgbnVsbGAgYXMgbGF5ZXIuIFRoaXNcbiAgICogaXMgdXNlZnVsIGZvciB0ZW1wb3JhcnkgbGF5ZXJzLiBUbyByZW1vdmUgYW4gdW5tYW5hZ2VkIGxheWVyIGZyb20gdGhlIG1hcCxcbiAgICogdXNlIGAjc2V0TWFwKG51bGwpYC5cbiAgICpcbiAgICogVG8gYWRkIHRoZSBsYXllciB0byBhIG1hcCBhbmQgaGF2ZSBpdCBtYW5hZ2VkIGJ5IHRoZSBtYXAsIHVzZVxuICAgKiB7QGxpbmsgbW9kdWxlOm9sL01hcCNhZGRMYXllcn0gaW5zdGVhZC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gbWFwIE1hcC5cbiAgICogQGFwaVxuICAgKi9cbiAgTGF5ZXIucHJvdG90eXBlLnNldE1hcCA9IGZ1bmN0aW9uIHNldE1hcCAobWFwKSB7XG4gICAgaWYgKHRoaXMubWFwUHJlY29tcG9zZUtleV8pIHtcbiAgICAgIHVubGlzdGVuQnlLZXkodGhpcy5tYXBQcmVjb21wb3NlS2V5Xyk7XG4gICAgICB0aGlzLm1hcFByZWNvbXBvc2VLZXlfID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKCFtYXApIHtcbiAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5tYXBSZW5kZXJLZXlfKSB7XG4gICAgICB1bmxpc3RlbkJ5S2V5KHRoaXMubWFwUmVuZGVyS2V5Xyk7XG4gICAgICB0aGlzLm1hcFJlbmRlcktleV8gPSBudWxsO1xuICAgIH1cbiAgICBpZiAobWFwKSB7XG4gICAgICB0aGlzLm1hcFByZWNvbXBvc2VLZXlfID0gbGlzdGVuKG1hcCwgUmVuZGVyRXZlbnRUeXBlLlBSRUNPTVBPU0UsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICB2YXIgcmVuZGVyRXZlbnQgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL3JlbmRlci9FdmVudC5qc1wiKS5kZWZhdWx0fSAqLyAoZXZ0KTtcbiAgICAgICAgdmFyIGxheWVyU3RhdGUgPSB0aGlzLmdldExheWVyU3RhdGUoKTtcbiAgICAgICAgbGF5ZXJTdGF0ZS5tYW5hZ2VkID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLmdldFpJbmRleCgpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBsYXllclN0YXRlLnpJbmRleCA9IEluZmluaXR5O1xuICAgICAgICB9XG4gICAgICAgIHJlbmRlckV2ZW50LmZyYW1lU3RhdGUubGF5ZXJTdGF0ZXNBcnJheS5wdXNoKGxheWVyU3RhdGUpO1xuICAgICAgICByZW5kZXJFdmVudC5mcmFtZVN0YXRlLmxheWVyU3RhdGVzW2dldFVpZCh0aGlzKV0gPSBsYXllclN0YXRlO1xuICAgICAgfSwgdGhpcyk7XG4gICAgICB0aGlzLm1hcFJlbmRlcktleV8gPSBsaXN0ZW4odGhpcywgRXZlbnRUeXBlLkNIQU5HRSwgbWFwLnJlbmRlciwgbWFwKTtcbiAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogU2V0IHRoZSBsYXllciBzb3VyY2UuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc291cmNlL1NvdXJjZS5qc1wiKS5kZWZhdWx0fSBzb3VyY2UgVGhlIGxheWVyIHNvdXJjZS5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgTGF5ZXIucHJvdG90eXBlLnNldFNvdXJjZSA9IGZ1bmN0aW9uIHNldFNvdXJjZSAoc291cmNlKSB7XG4gICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5TT1VSQ0UsIHNvdXJjZSk7XG4gIH07XG5cbiAgcmV0dXJuIExheWVyO1xufShCYXNlTGF5ZXIpKTtcblxuXG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIGxheWVyIGlzIHZpc2libGUsIGFuZCBpZiB0aGUgcGFzc2VkIHJlc29sdXRpb24gaXNcbiAqIGJldHdlZW4gdGhlIGxheWVyJ3MgbWluUmVzb2x1dGlvbiBhbmQgbWF4UmVzb2x1dGlvbi4gVGhlIGNvbXBhcmlzb24gaXNcbiAqIGluY2x1c2l2ZSBmb3IgYG1pblJlc29sdXRpb25gIGFuZCBleGNsdXNpdmUgZm9yIGBtYXhSZXNvbHV0aW9uYC5cbiAqIEBwYXJhbSB7U3RhdGV9IGxheWVyU3RhdGUgTGF5ZXIgc3RhdGUuXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGxheWVyIGlzIHZpc2libGUgYXQgdGhlIGdpdmVuIHJlc29sdXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2aXNpYmxlQXRSZXNvbHV0aW9uKGxheWVyU3RhdGUsIHJlc29sdXRpb24pIHtcbiAgcmV0dXJuIGxheWVyU3RhdGUudmlzaWJsZSAmJiByZXNvbHV0aW9uID49IGxheWVyU3RhdGUubWluUmVzb2x1dGlvbiAmJlxuICAgICAgcmVzb2x1dGlvbiA8IGxheWVyU3RhdGUubWF4UmVzb2x1dGlvbjtcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBMYXllcjtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGF5ZXIuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9jbG9zZXN0XG4gKi9cbmltcG9ydCB7bGVycCwgc3F1YXJlZERpc3RhbmNlIGFzIHNxdWFyZWREeH0gZnJvbSAnLi4vLi4vbWF0aC5qcyc7XG5cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBwb2ludCBvbiB0aGUgMkQgbGluZSBzZWdtZW50IGZsYXRDb29yZGluYXRlc1tvZmZzZXQxXSB0b1xuICogZmxhdENvb3JkaW5hdGVzW29mZnNldDJdIHRoYXQgaXMgY2xvc2VzdCB0byB0aGUgcG9pbnQgKHgsIHkpLiAgRXh0cmFcbiAqIGRpbWVuc2lvbnMgYXJlIGxpbmVhcmx5IGludGVycG9sYXRlZC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0MSBPZmZzZXQgMS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQyIE9mZnNldCAyLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY2xvc2VzdFBvaW50IENsb3Nlc3QgcG9pbnQuXG4gKi9cbmZ1bmN0aW9uIGFzc2lnbkNsb3Nlc3QoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQxLCBvZmZzZXQyLCBzdHJpZGUsIHgsIHksIGNsb3Nlc3RQb2ludCkge1xuICB2YXIgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0MV07XG4gIHZhciB5MSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQxICsgMV07XG4gIHZhciBkeCA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQyXSAtIHgxO1xuICB2YXIgZHkgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0MiArIDFdIC0geTE7XG4gIHZhciBvZmZzZXQ7XG4gIGlmIChkeCA9PT0gMCAmJiBkeSA9PT0gMCkge1xuICAgIG9mZnNldCA9IG9mZnNldDE7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHQgPSAoKHggLSB4MSkgKiBkeCArICh5IC0geTEpICogZHkpIC8gKGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICBpZiAodCA+IDEpIHtcbiAgICAgIG9mZnNldCA9IG9mZnNldDI7XG4gICAgfSBlbHNlIGlmICh0ID4gMCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpZGU7ICsraSkge1xuICAgICAgICBjbG9zZXN0UG9pbnRbaV0gPSBsZXJwKGZsYXRDb29yZGluYXRlc1tvZmZzZXQxICsgaV0sXG4gICAgICAgICAgZmxhdENvb3JkaW5hdGVzW29mZnNldDIgKyBpXSwgdCk7XG4gICAgICB9XG4gICAgICBjbG9zZXN0UG9pbnQubGVuZ3RoID0gc3RyaWRlO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICBvZmZzZXQgPSBvZmZzZXQxO1xuICAgIH1cbiAgfVxuICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBzdHJpZGU7ICsraSQxKSB7XG4gICAgY2xvc2VzdFBvaW50W2kkMV0gPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgaSQxXTtcbiAgfVxuICBjbG9zZXN0UG9pbnQubGVuZ3RoID0gc3RyaWRlO1xufVxuXG5cbi8qKlxuICogUmV0dXJuIHRoZSBzcXVhcmVkIG9mIHRoZSBsYXJnZXN0IGRpc3RhbmNlIGJldHdlZW4gYW55IHBhaXIgb2YgY29uc2VjdXRpdmVcbiAqIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggTWF4IHNxdWFyZWQgZGVsdGEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE1heCBzcXVhcmVkIGRlbHRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWF4U3F1YXJlZERlbHRhKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgbWF4KSB7XG4gIHZhciB4MSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICB2YXIgeTEgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gIGZvciAob2Zmc2V0ICs9IHN0cmlkZTsgb2Zmc2V0IDwgZW5kOyBvZmZzZXQgKz0gc3RyaWRlKSB7XG4gICAgdmFyIHgyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgdmFyIHkyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgIHZhciBzcXVhcmVkRGVsdGEgPSBzcXVhcmVkRHgoeDEsIHkxLCB4MiwgeTIpO1xuICAgIGlmIChzcXVhcmVkRGVsdGEgPiBtYXgpIHtcbiAgICAgIG1heCA9IHNxdWFyZWREZWx0YTtcbiAgICB9XG4gICAgeDEgPSB4MjtcbiAgICB5MSA9IHkyO1xuICB9XG4gIHJldHVybiBtYXg7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heCBNYXggc3F1YXJlZCBkZWx0YS5cbiAqIEByZXR1cm4ge251bWJlcn0gTWF4IHNxdWFyZWQgZGVsdGEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcnJheU1heFNxdWFyZWREZWx0YShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCBtYXgpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgdmFyIGVuZCA9IGVuZHNbaV07XG4gICAgbWF4ID0gbWF4U3F1YXJlZERlbHRhKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBtYXgpO1xuICAgIG9mZnNldCA9IGVuZDtcbiAgfVxuICByZXR1cm4gbWF4O1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgRW5kc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggTWF4IHNxdWFyZWQgZGVsdGEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE1heCBzcXVhcmVkIGRlbHRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlBcnJheU1heFNxdWFyZWREZWx0YShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc3MsIHN0cmlkZSwgbWF4KSB7XG4gIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICB2YXIgZW5kcyA9IGVuZHNzW2ldO1xuICAgIG1heCA9IGFycmF5TWF4U3F1YXJlZERlbHRhKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgbWF4KTtcbiAgICBvZmZzZXQgPSBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gIH1cbiAgcmV0dXJuIG1heDtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4RGVsdGEgTWF4IGRlbHRhLlxuICogQHBhcmFtIHtib29sZWFufSBpc1JpbmcgSXMgcmluZy5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjbG9zZXN0UG9pbnQgQ2xvc2VzdCBwb2ludC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5TcXVhcmVkRGlzdGFuY2UgTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+PX0gb3B0X3RtcFBvaW50IFRlbXBvcmFyeSBwb2ludCBvYmplY3QuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbkNsb3Nlc3RQb2ludChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLFxuICBzdHJpZGUsIG1heERlbHRhLCBpc1JpbmcsIHgsIHksIGNsb3Nlc3RQb2ludCwgbWluU3F1YXJlZERpc3RhbmNlLFxuICBvcHRfdG1wUG9pbnQpIHtcbiAgaWYgKG9mZnNldCA9PSBlbmQpIHtcbiAgICByZXR1cm4gbWluU3F1YXJlZERpc3RhbmNlO1xuICB9XG4gIHZhciBpLCBzcXVhcmVkRGlzdGFuY2U7XG4gIGlmIChtYXhEZWx0YSA9PT0gMCkge1xuICAgIC8vIEFsbCBwb2ludHMgYXJlIGlkZW50aWNhbCwgc28ganVzdCB0ZXN0IHRoZSBmaXJzdCBwb2ludC5cbiAgICBzcXVhcmVkRGlzdGFuY2UgPSBzcXVhcmVkRHgoXG4gICAgICB4LCB5LCBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XSwgZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdKTtcbiAgICBpZiAoc3F1YXJlZERpc3RhbmNlIDwgbWluU3F1YXJlZERpc3RhbmNlKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgc3RyaWRlOyArK2kpIHtcbiAgICAgICAgY2xvc2VzdFBvaW50W2ldID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIGldO1xuICAgICAgfVxuICAgICAgY2xvc2VzdFBvaW50Lmxlbmd0aCA9IHN0cmlkZTtcbiAgICAgIHJldHVybiBzcXVhcmVkRGlzdGFuY2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBtaW5TcXVhcmVkRGlzdGFuY2U7XG4gICAgfVxuICB9XG4gIHZhciB0bXBQb2ludCA9IG9wdF90bXBQb2ludCA/IG9wdF90bXBQb2ludCA6IFtOYU4sIE5hTl07XG4gIHZhciBpbmRleCA9IG9mZnNldCArIHN0cmlkZTtcbiAgd2hpbGUgKGluZGV4IDwgZW5kKSB7XG4gICAgYXNzaWduQ2xvc2VzdChcbiAgICAgIGZsYXRDb29yZGluYXRlcywgaW5kZXggLSBzdHJpZGUsIGluZGV4LCBzdHJpZGUsIHgsIHksIHRtcFBvaW50KTtcbiAgICBzcXVhcmVkRGlzdGFuY2UgPSBzcXVhcmVkRHgoeCwgeSwgdG1wUG9pbnRbMF0sIHRtcFBvaW50WzFdKTtcbiAgICBpZiAoc3F1YXJlZERpc3RhbmNlIDwgbWluU3F1YXJlZERpc3RhbmNlKSB7XG4gICAgICBtaW5TcXVhcmVkRGlzdGFuY2UgPSBzcXVhcmVkRGlzdGFuY2U7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgc3RyaWRlOyArK2kpIHtcbiAgICAgICAgY2xvc2VzdFBvaW50W2ldID0gdG1wUG9pbnRbaV07XG4gICAgICB9XG4gICAgICBjbG9zZXN0UG9pbnQubGVuZ3RoID0gc3RyaWRlO1xuICAgICAgaW5kZXggKz0gc3RyaWRlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTa2lwIGFoZWFkIG11bHRpcGxlIHBvaW50cywgYmVjYXVzZSB3ZSBrbm93IHRoYXQgYWxsIHRoZSBza2lwcGVkXG4gICAgICAvLyBwb2ludHMgY2Fubm90IGJlIGFueSBjbG9zZXIgdGhhbiB0aGUgY2xvc2VzdCBwb2ludCB3ZSBoYXZlIGZvdW5kIHNvXG4gICAgICAvLyBmYXIuICBXZSBrbm93IHRoaXMgYmVjYXVzZSB3ZSBrbm93IGhvdyBjbG9zZSB0aGUgY3VycmVudCBwb2ludCBpcywgaG93XG4gICAgICAvLyBjbG9zZSB0aGUgY2xvc2VzdCBwb2ludCB3ZSBoYXZlIGZvdW5kIHNvIGZhciBpcywgYW5kIHRoZSBtYXhpbXVtXG4gICAgICAvLyBkaXN0YW5jZSBiZXR3ZWVuIGNvbnNlY3V0aXZlIHBvaW50cy4gIEZvciBleGFtcGxlLCBpZiB3ZSdyZSBjdXJyZW50bHlcbiAgICAgIC8vIGF0IGRpc3RhbmNlIDEwLCB0aGUgYmVzdCB3ZSd2ZSBmb3VuZCBzbyBmYXIgaXMgMywgYW5kIHRoYXQgdGhlIG1heGltdW1cbiAgICAgIC8vIGRpc3RhbmNlIGJldHdlZW4gY29uc2VjdXRpdmUgcG9pbnRzIGlzIDIsIHRoZW4gd2UnbGwgbmVlZCB0byBza2lwIGF0XG4gICAgICAvLyBsZWFzdCAoMTAgLSAzKSAvIDIgPT0gMyAocm91bmRlZCBkb3duKSBwb2ludHMgdG8gaGF2ZSBhbnkgY2hhbmNlIG9mXG4gICAgICAvLyBmaW5kaW5nIGEgY2xvc2VyIHBvaW50LiAgV2UgdXNlIE1hdGgubWF4KC4uLiwgMSkgdG8gZW5zdXJlIHRoYXQgd2VcbiAgICAgIC8vIGFsd2F5cyBhZHZhbmNlIGF0IGxlYXN0IG9uZSBwb2ludCwgdG8gYXZvaWQgYW4gaW5maW5pdGUgbG9vcC5cbiAgICAgIGluZGV4ICs9IHN0cmlkZSAqIE1hdGgubWF4KFxuICAgICAgICAoKE1hdGguc3FydChzcXVhcmVkRGlzdGFuY2UpIC1cbiAgICAgICAgICAgIE1hdGguc3FydChtaW5TcXVhcmVkRGlzdGFuY2UpKSAvIG1heERlbHRhKSB8IDAsIDEpO1xuICAgIH1cbiAgfVxuICBpZiAoaXNSaW5nKSB7XG4gICAgLy8gQ2hlY2sgdGhlIGNsb3Npbmcgc2VnbWVudC5cbiAgICBhc3NpZ25DbG9zZXN0KFxuICAgICAgZmxhdENvb3JkaW5hdGVzLCBlbmQgLSBzdHJpZGUsIG9mZnNldCwgc3RyaWRlLCB4LCB5LCB0bXBQb2ludCk7XG4gICAgc3F1YXJlZERpc3RhbmNlID0gc3F1YXJlZER4KHgsIHksIHRtcFBvaW50WzBdLCB0bXBQb2ludFsxXSk7XG4gICAgaWYgKHNxdWFyZWREaXN0YW5jZSA8IG1pblNxdWFyZWREaXN0YW5jZSkge1xuICAgICAgbWluU3F1YXJlZERpc3RhbmNlID0gc3F1YXJlZERpc3RhbmNlO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHN0cmlkZTsgKytpKSB7XG4gICAgICAgIGNsb3Nlc3RQb2ludFtpXSA9IHRtcFBvaW50W2ldO1xuICAgICAgfVxuICAgICAgY2xvc2VzdFBvaW50Lmxlbmd0aCA9IHN0cmlkZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1pblNxdWFyZWREaXN0YW5jZTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4RGVsdGEgTWF4IGRlbHRhLlxuICogQHBhcmFtIHtib29sZWFufSBpc1JpbmcgSXMgcmluZy5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjbG9zZXN0UG9pbnQgQ2xvc2VzdCBwb2ludC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5TcXVhcmVkRGlzdGFuY2UgTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+PX0gb3B0X3RtcFBvaW50IFRlbXBvcmFyeSBwb2ludCBvYmplY3QuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbkNsb3Nlc3RBcnJheVBvaW50KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLFxuICBzdHJpZGUsIG1heERlbHRhLCBpc1JpbmcsIHgsIHksIGNsb3Nlc3RQb2ludCwgbWluU3F1YXJlZERpc3RhbmNlLFxuICBvcHRfdG1wUG9pbnQpIHtcbiAgdmFyIHRtcFBvaW50ID0gb3B0X3RtcFBvaW50ID8gb3B0X3RtcFBvaW50IDogW05hTiwgTmFOXTtcbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgdmFyIGVuZCA9IGVuZHNbaV07XG4gICAgbWluU3F1YXJlZERpc3RhbmNlID0gYXNzaWduQ2xvc2VzdFBvaW50KFxuICAgICAgZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLFxuICAgICAgbWF4RGVsdGEsIGlzUmluZywgeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UsIHRtcFBvaW50KTtcbiAgICBvZmZzZXQgPSBlbmQ7XG4gIH1cbiAgcmV0dXJuIG1pblNxdWFyZWREaXN0YW5jZTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4RGVsdGEgTWF4IGRlbHRhLlxuICogQHBhcmFtIHtib29sZWFufSBpc1JpbmcgSXMgcmluZy5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjbG9zZXN0UG9pbnQgQ2xvc2VzdCBwb2ludC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5TcXVhcmVkRGlzdGFuY2UgTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+PX0gb3B0X3RtcFBvaW50IFRlbXBvcmFyeSBwb2ludCBvYmplY3QuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbkNsb3Nlc3RNdWx0aUFycmF5UG9pbnQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsXG4gIGVuZHNzLCBzdHJpZGUsIG1heERlbHRhLCBpc1JpbmcsIHgsIHksIGNsb3Nlc3RQb2ludCwgbWluU3F1YXJlZERpc3RhbmNlLFxuICBvcHRfdG1wUG9pbnQpIHtcbiAgdmFyIHRtcFBvaW50ID0gb3B0X3RtcFBvaW50ID8gb3B0X3RtcFBvaW50IDogW05hTiwgTmFOXTtcbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIHZhciBlbmRzID0gZW5kc3NbaV07XG4gICAgbWluU3F1YXJlZERpc3RhbmNlID0gYXNzaWduQ2xvc2VzdEFycmF5UG9pbnQoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLFxuICAgICAgbWF4RGVsdGEsIGlzUmluZywgeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UsIHRtcFBvaW50KTtcbiAgICBvZmZzZXQgPSBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gIH1cbiAgcmV0dXJuIG1pblNxdWFyZWREaXN0YW5jZTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xvc2VzdC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvbGF5ZXIvVmVjdG9yXG4gKi9cbmltcG9ydCBMYXllclR5cGUgZnJvbSAnLi4vTGF5ZXJUeXBlLmpzJztcbmltcG9ydCBMYXllciBmcm9tICcuL0xheWVyLmpzJztcbmltcG9ydCBWZWN0b3JSZW5kZXJUeXBlIGZyb20gJy4vVmVjdG9yUmVuZGVyVHlwZS5qcyc7XG5pbXBvcnQge2Fzc2lnbn0gZnJvbSAnLi4vb2JqLmpzJztcbmltcG9ydCB7Y3JlYXRlRGVmYXVsdFN0eWxlLCB0b0Z1bmN0aW9uIGFzIHRvU3R5bGVGdW5jdGlvbn0gZnJvbSAnLi4vc3R5bGUvU3R5bGUuanMnO1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFtvcGFjaXR5PTFdIE9wYWNpdHkgKDAsIDEpLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdmlzaWJsZT10cnVlXSBWaXNpYmlsaXR5LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBUaGUgYm91bmRpbmcgZXh0ZW50IGZvciBsYXllciByZW5kZXJpbmcuICBUaGUgbGF5ZXIgd2lsbCBub3QgYmVcbiAqIHJlbmRlcmVkIG91dHNpZGUgb2YgdGhpcyBleHRlbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pJbmRleF0gVGhlIHotaW5kZXggZm9yIGxheWVyIHJlbmRlcmluZy4gIEF0IHJlbmRlcmluZyB0aW1lLCB0aGUgbGF5ZXJzXG4gKiB3aWxsIGJlIG9yZGVyZWQsIGZpcnN0IGJ5IFotaW5kZXggYW5kIHRoZW4gYnkgcG9zaXRpb24uIFdoZW4gYHVuZGVmaW5lZGAsIGEgYHpJbmRleGAgb2YgMCBpcyBhc3N1bWVkXG4gKiBmb3IgbGF5ZXJzIHRoYXQgYXJlIGFkZGVkIHRvIHRoZSBtYXAncyBgbGF5ZXJzYCBjb2xsZWN0aW9uLCBvciBgSW5maW5pdHlgIHdoZW4gdGhlIGxheWVyJ3MgYHNldE1hcCgpYFxuICogbWV0aG9kIHdhcyB1c2VkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5SZXNvbHV0aW9uXSBUaGUgbWluaW11bSByZXNvbHV0aW9uIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4UmVzb2x1dGlvbl0gVGhlIG1heGltdW0gcmVzb2x1dGlvbiAoZXhjbHVzaXZlKSBiZWxvdyB3aGljaCB0aGlzIGxheWVyIHdpbGxcbiAqIGJlIHZpc2libGUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3JlbmRlci5qc1wiKS5PcmRlckZ1bmN0aW9ufSBbcmVuZGVyT3JkZXJdIFJlbmRlciBvcmRlci4gRnVuY3Rpb24gdG8gYmUgdXNlZCB3aGVuIHNvcnRpbmdcbiAqIGZlYXR1cmVzIGJlZm9yZSByZW5kZXJpbmcuIEJ5IGRlZmF1bHQgZmVhdHVyZXMgYXJlIGRyYXduIGluIHRoZSBvcmRlciB0aGF0IHRoZXkgYXJlIGNyZWF0ZWQuIFVzZVxuICogYG51bGxgIHRvIGF2b2lkIHRoZSBzb3J0LCBidXQgZ2V0IGFuIHVuZGVmaW5lZCBkcmF3IG9yZGVyLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyZW5kZXJCdWZmZXI9MTAwXSBUaGUgYnVmZmVyIGluIHBpeGVscyBhcm91bmQgdGhlIHZpZXdwb3J0IGV4dGVudCB1c2VkIGJ5IHRoZVxuICogcmVuZGVyZXIgd2hlbiBnZXR0aW5nIGZlYXR1cmVzIGZyb20gdGhlIHZlY3RvciBzb3VyY2UgZm9yIHRoZSByZW5kZXJpbmcgb3IgaGl0LWRldGVjdGlvbi5cbiAqIFJlY29tbWVuZGVkIHZhbHVlOiB0aGUgc2l6ZSBvZiB0aGUgbGFyZ2VzdCBzeW1ib2wsIGxpbmUgd2lkdGggb3IgbGFiZWwuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vVmVjdG9yUmVuZGVyVHlwZS5qc1wiKS5kZWZhdWx0fHN0cmluZ30gW3JlbmRlck1vZGU9J3ZlY3RvciddIFJlbmRlciBtb2RlIGZvciB2ZWN0b3IgbGF5ZXJzOlxuICogICogYCdpbWFnZSdgOiBWZWN0b3IgbGF5ZXJzIGFyZSByZW5kZXJlZCBhcyBpbWFnZXMuIEdyZWF0IHBlcmZvcm1hbmNlLCBidXQgcG9pbnQgc3ltYm9scyBhbmRcbiAqICAgIHRleHRzIGFyZSBhbHdheXMgcm90YXRlZCB3aXRoIHRoZSB2aWV3IGFuZCBwaXhlbHMgYXJlIHNjYWxlZCBkdXJpbmcgem9vbSBhbmltYXRpb25zLlxuICogICogYCd2ZWN0b3InYDogVmVjdG9yIGxheWVycyBhcmUgcmVuZGVyZWQgYXMgdmVjdG9ycy4gTW9zdCBhY2N1cmF0ZSByZW5kZXJpbmcgZXZlbiBkdXJpbmdcbiAqICAgIGFuaW1hdGlvbnMsIGJ1dCBzbG93ZXIgcGVyZm9ybWFuY2UuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3NvdXJjZS9WZWN0b3IuanNcIikuZGVmYXVsdH0gW3NvdXJjZV0gU291cmNlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gW21hcF0gU2V0cyB0aGUgbGF5ZXIgYXMgb3ZlcmxheSBvbiBhIG1hcC4gVGhlIG1hcCB3aWxsIG5vdCBtYW5hZ2VcbiAqIHRoaXMgbGF5ZXIgaW4gaXRzIGxheWVycyBjb2xsZWN0aW9uLCBhbmQgdGhlIGxheWVyIHdpbGwgYmUgcmVuZGVyZWQgb24gdG9wLiBUaGlzIGlzIHVzZWZ1bCBmb3JcbiAqIHRlbXBvcmFyeSBsYXllcnMuIFRoZSBzdGFuZGFyZCB3YXkgdG8gYWRkIGEgbGF5ZXIgdG8gYSBtYXAgYW5kIGhhdmUgaXQgbWFuYWdlZCBieSB0aGUgbWFwIGlzIHRvXG4gKiB1c2Uge0BsaW5rIG1vZHVsZTpvbC9NYXAjYWRkTGF5ZXJ9LlxuICogQHByb3BlcnR5IHtib29sZWFufSBbZGVjbHV0dGVyPWZhbHNlXSBEZWNsdXR0ZXIgaW1hZ2VzIGFuZCB0ZXh0LiBEZWNsdXR0ZXJpbmcgaXMgYXBwbGllZCB0byBhbGxcbiAqIGltYWdlIGFuZCB0ZXh0IHN0eWxlcywgYW5kIHRoZSBwcmlvcml0eSBpcyBkZWZpbmVkIGJ5IHRoZSB6LWluZGV4IG9mIHRoZSBzdHlsZS4gTG93ZXIgei1pbmRleFxuICogbWVhbnMgaGlnaGVyIHByaW9yaXR5LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUxpa2V9IFtzdHlsZV0gTGF5ZXIgc3R5bGUuIFNlZVxuICoge0BsaW5rIG1vZHVsZTpvbC9zdHlsZX0gZm9yIGRlZmF1bHQgc3R5bGUgd2hpY2ggd2lsbCBiZSB1c2VkIGlmIHRoaXMgaXMgbm90IGRlZmluZWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt1cGRhdGVXaGlsZUFuaW1hdGluZz1mYWxzZV0gV2hlbiBzZXQgdG8gYHRydWVgIGFuZCBgcmVuZGVyTW9kZWBcbiAqIGlzIGB2ZWN0b3JgLCBmZWF0dXJlIGJhdGNoZXMgd2lsbCBiZSByZWNyZWF0ZWQgZHVyaW5nIGFuaW1hdGlvbnMuIFRoaXMgbWVhbnMgdGhhdCBub1xuICogdmVjdG9ycyB3aWxsIGJlIHNob3duIGNsaXBwZWQsIGJ1dCB0aGUgc2V0dGluZyB3aWxsIGhhdmUgYSBwZXJmb3JtYW5jZSBpbXBhY3QgZm9yIGxhcmdlXG4gKiBhbW91bnRzIG9mIHZlY3RvciBkYXRhLiBXaGVuIHNldCB0byBgZmFsc2VgLCBiYXRjaGVzIHdpbGwgYmUgcmVjcmVhdGVkIHdoZW4gbm8gYW5pbWF0aW9uXG4gKiBpcyBhY3RpdmUuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt1cGRhdGVXaGlsZUludGVyYWN0aW5nPWZhbHNlXSBXaGVuIHNldCB0byBgdHJ1ZWAgYW5kIGByZW5kZXJNb2RlYFxuICogaXMgYHZlY3RvcmAsIGZlYXR1cmUgYmF0Y2hlcyB3aWxsIGJlIHJlY3JlYXRlZCBkdXJpbmcgaW50ZXJhY3Rpb25zLiBTZWUgYWxzb1xuICogYHVwZGF0ZVdoaWxlQW5pbWF0aW5nYC5cbiAqL1xuXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBQcm9wZXJ0eSA9IHtcbiAgUkVOREVSX09SREVSOiAncmVuZGVyT3JkZXInXG59O1xuXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogVmVjdG9yIGRhdGEgdGhhdCBpcyByZW5kZXJlZCBjbGllbnQtc2lkZS5cbiAqIE5vdGUgdGhhdCBhbnkgcHJvcGVydHkgc2V0IGluIHRoZSBvcHRpb25zIGlzIHNldCBhcyBhIHtAbGluayBtb2R1bGU6b2wvT2JqZWN0fkJhc2VPYmplY3R9XG4gKiBwcm9wZXJ0eSBvbiB0aGUgbGF5ZXIgb2JqZWN0OyBmb3IgZXhhbXBsZSwgc2V0dGluZyBgdGl0bGU6ICdNeSBUaXRsZSdgIGluIHRoZVxuICogb3B0aW9ucyBtZWFucyB0aGF0IGB0aXRsZWAgaXMgb2JzZXJ2YWJsZSwgYW5kIGhhcyBnZXQvc2V0IGFjY2Vzc29ycy5cbiAqXG4gKiBAYXBpXG4gKi9cbnZhciBWZWN0b3JMYXllciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKExheWVyKSB7XG4gIGZ1bmN0aW9uIFZlY3RvckxheWVyKG9wdF9vcHRpb25zKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/XG4gICAgICBvcHRfb3B0aW9ucyA6IC8qKiBAdHlwZSB7T3B0aW9uc30gKi8gKHt9KTtcblxuICAgIHZhciBiYXNlT3B0aW9ucyA9IGFzc2lnbih7fSwgb3B0aW9ucyk7XG5cbiAgICBkZWxldGUgYmFzZU9wdGlvbnMuc3R5bGU7XG4gICAgZGVsZXRlIGJhc2VPcHRpb25zLnJlbmRlckJ1ZmZlcjtcbiAgICBkZWxldGUgYmFzZU9wdGlvbnMudXBkYXRlV2hpbGVBbmltYXRpbmc7XG4gICAgZGVsZXRlIGJhc2VPcHRpb25zLnVwZGF0ZVdoaWxlSW50ZXJhY3Rpbmc7XG4gICAgTGF5ZXIuY2FsbCh0aGlzLCBiYXNlT3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAqIEBwcml2YXRlXG4gICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAqL1xuICAgIHRoaXMuZGVjbHV0dGVyXyA9IG9wdGlvbnMuZGVjbHV0dGVyICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmRlY2x1dHRlciA6IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICogQHByaXZhdGVcbiAgICAqL1xuICAgIHRoaXMucmVuZGVyQnVmZmVyXyA9IG9wdGlvbnMucmVuZGVyQnVmZmVyICE9PSB1bmRlZmluZWQgP1xuICAgICAgb3B0aW9ucy5yZW5kZXJCdWZmZXIgOiAxMDA7XG5cbiAgICAvKipcbiAgICAqIFVzZXIgcHJvdmlkZWQgc3R5bGUuXG4gICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVMaWtlfVxuICAgICogQHByaXZhdGVcbiAgICAqL1xuICAgIHRoaXMuc3R5bGVfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICogU3R5bGUgZnVuY3Rpb24gZm9yIHVzZSB3aXRoaW4gdGhlIGxpYnJhcnkuXG4gICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVGdW5jdGlvbnx1bmRlZmluZWR9XG4gICAgKiBAcHJpdmF0ZVxuICAgICovXG4gICAgdGhpcy5zdHlsZUZ1bmN0aW9uXyA9IHVuZGVmaW5lZDtcblxuICAgIHRoaXMuc2V0U3R5bGUob3B0aW9ucy5zdHlsZSk7XG5cbiAgICAvKipcbiAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICogQHByaXZhdGVcbiAgICAqL1xuICAgIHRoaXMudXBkYXRlV2hpbGVBbmltYXRpbmdfID0gb3B0aW9ucy51cGRhdGVXaGlsZUFuaW1hdGluZyAhPT0gdW5kZWZpbmVkID9cbiAgICAgIG9wdGlvbnMudXBkYXRlV2hpbGVBbmltYXRpbmcgOiBmYWxzZTtcblxuICAgIC8qKlxuICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgKiBAcHJpdmF0ZVxuICAgICovXG4gICAgdGhpcy51cGRhdGVXaGlsZUludGVyYWN0aW5nXyA9IG9wdGlvbnMudXBkYXRlV2hpbGVJbnRlcmFjdGluZyAhPT0gdW5kZWZpbmVkID9cbiAgICAgIG9wdGlvbnMudXBkYXRlV2hpbGVJbnRlcmFjdGluZyA6IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgKiBAcHJpdmF0ZVxuICAgICogQHR5cGUge2ltcG9ydChcIi4vVmVjdG9yVGlsZVJlbmRlclR5cGUuanNcIikuZGVmYXVsdHxzdHJpbmd9XG4gICAgKi9cbiAgICB0aGlzLnJlbmRlck1vZGVfID0gb3B0aW9ucy5yZW5kZXJNb2RlIHx8IFZlY3RvclJlbmRlclR5cGUuVkVDVE9SO1xuXG4gICAgLyoqXG4gICAgKiBUaGUgbGF5ZXIgdHlwZS5cbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9MYXllclR5cGUuanNcIikuZGVmYXVsdH1cbiAgICAqL1xuICAgIHRoaXMudHlwZSA9IExheWVyVHlwZS5WRUNUT1I7XG5cbiAgfVxuXG4gIGlmICggTGF5ZXIgKSBWZWN0b3JMYXllci5fX3Byb3RvX18gPSBMYXllcjtcbiAgVmVjdG9yTGF5ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggTGF5ZXIgJiYgTGF5ZXIucHJvdG90eXBlICk7XG4gIFZlY3RvckxheWVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFZlY3RvckxheWVyO1xuXG4gIC8qKlxuICAqIEByZXR1cm4ge2Jvb2xlYW59IERlY2x1dHRlci5cbiAgKi9cbiAgVmVjdG9yTGF5ZXIucHJvdG90eXBlLmdldERlY2x1dHRlciA9IGZ1bmN0aW9uIGdldERlY2x1dHRlciAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVjbHV0dGVyXztcbiAgfTtcblxuICAvKipcbiAgKiBAcGFyYW0ge2Jvb2xlYW59IGRlY2x1dHRlciBEZWNsdXR0ZXIuXG4gICovXG4gIFZlY3RvckxheWVyLnByb3RvdHlwZS5zZXREZWNsdXR0ZXIgPSBmdW5jdGlvbiBzZXREZWNsdXR0ZXIgKGRlY2x1dHRlcikge1xuICAgIHRoaXMuZGVjbHV0dGVyXyA9IGRlY2x1dHRlcjtcbiAgfTtcblxuICAvKipcbiAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBSZW5kZXIgYnVmZmVyLlxuICAqL1xuICBWZWN0b3JMYXllci5wcm90b3R5cGUuZ2V0UmVuZGVyQnVmZmVyID0gZnVuY3Rpb24gZ2V0UmVuZGVyQnVmZmVyICgpIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJCdWZmZXJfO1xuICB9O1xuXG4gIC8qKlxuICAqIEByZXR1cm4ge2Z1bmN0aW9uKGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdCwgaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0KTogbnVtYmVyfG51bGx8dW5kZWZpbmVkfSBSZW5kZXJcbiAgKiAgICAgb3JkZXIuXG4gICovXG4gIFZlY3RvckxheWVyLnByb3RvdHlwZS5nZXRSZW5kZXJPcmRlciA9IGZ1bmN0aW9uIGdldFJlbmRlck9yZGVyICgpIHtcbiAgICByZXR1cm4gKFxuICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vcmVuZGVyLmpzXCIpLk9yZGVyRnVuY3Rpb258bnVsbHx1bmRlZmluZWR9ICovICh0aGlzLmdldChQcm9wZXJ0eS5SRU5ERVJfT1JERVIpKVxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICogR2V0IHRoZSBzdHlsZSBmb3IgZmVhdHVyZXMuICBUaGlzIHJldHVybnMgd2hhdGV2ZXIgd2FzIHBhc3NlZCB0byB0aGUgYHN0eWxlYFxuICAqIG9wdGlvbiBhdCBjb25zdHJ1Y3Rpb24gb3IgdG8gdGhlIGBzZXRTdHlsZWAgbWV0aG9kLlxuICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlTGlrZX1cbiAgKiAgICAgTGF5ZXIgc3R5bGUuXG4gICogQGFwaVxuICAqL1xuICBWZWN0b3JMYXllci5wcm90b3R5cGUuZ2V0U3R5bGUgPSBmdW5jdGlvbiBnZXRTdHlsZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3R5bGVfO1xuICB9O1xuXG4gIC8qKlxuICAqIEdldCB0aGUgc3R5bGUgZnVuY3Rpb24uXG4gICogQHJldHVybiB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVGdW5jdGlvbnx1bmRlZmluZWR9IExheWVyIHN0eWxlIGZ1bmN0aW9uLlxuICAqIEBhcGlcbiAgKi9cbiAgVmVjdG9yTGF5ZXIucHJvdG90eXBlLmdldFN0eWxlRnVuY3Rpb24gPSBmdW5jdGlvbiBnZXRTdHlsZUZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5zdHlsZUZ1bmN0aW9uXztcbiAgfTtcblxuICAvKipcbiAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSByZW5kZXJlZCBsYXllciBzaG91bGQgYmUgdXBkYXRlZCB3aGlsZVxuICAqICAgICBhbmltYXRpbmcuXG4gICovXG4gIFZlY3RvckxheWVyLnByb3RvdHlwZS5nZXRVcGRhdGVXaGlsZUFuaW1hdGluZyA9IGZ1bmN0aW9uIGdldFVwZGF0ZVdoaWxlQW5pbWF0aW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy51cGRhdGVXaGlsZUFuaW1hdGluZ187XG4gIH07XG5cbiAgLyoqXG4gICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgcmVuZGVyZWQgbGF5ZXIgc2hvdWxkIGJlIHVwZGF0ZWQgd2hpbGVcbiAgKiAgICAgaW50ZXJhY3RpbmcuXG4gICovXG4gIFZlY3RvckxheWVyLnByb3RvdHlwZS5nZXRVcGRhdGVXaGlsZUludGVyYWN0aW5nID0gZnVuY3Rpb24gZ2V0VXBkYXRlV2hpbGVJbnRlcmFjdGluZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXBkYXRlV2hpbGVJbnRlcmFjdGluZ187XG4gIH07XG5cbiAgLyoqXG4gICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIuanNcIikuT3JkZXJGdW5jdGlvbnxudWxsfHVuZGVmaW5lZH0gcmVuZGVyT3JkZXJcbiAgKiAgICAgUmVuZGVyIG9yZGVyLlxuICAqL1xuICBWZWN0b3JMYXllci5wcm90b3R5cGUuc2V0UmVuZGVyT3JkZXIgPSBmdW5jdGlvbiBzZXRSZW5kZXJPcmRlciAocmVuZGVyT3JkZXIpIHtcbiAgICB0aGlzLnNldChQcm9wZXJ0eS5SRU5ERVJfT1JERVIsIHJlbmRlck9yZGVyKTtcbiAgfTtcblxuICAvKipcbiAgKiBTZXQgdGhlIHN0eWxlIGZvciBmZWF0dXJlcy4gIFRoaXMgY2FuIGJlIGEgc2luZ2xlIHN0eWxlIG9iamVjdCwgYW4gYXJyYXlcbiAgKiBvZiBzdHlsZXMsIG9yIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIGZlYXR1cmUgYW5kIHJlc29sdXRpb24gYW5kIHJldHVybnNcbiAgKiBhbiBhcnJheSBvZiBzdHlsZXMuIElmIGl0IGlzIGB1bmRlZmluZWRgIHRoZSBkZWZhdWx0IHN0eWxlIGlzIHVzZWQuIElmXG4gICogaXQgaXMgYG51bGxgIHRoZSBsYXllciBoYXMgbm8gc3R5bGUgKGEgYG51bGxgIHN0eWxlKSwgc28gb25seSBmZWF0dXJlc1xuICAqIHRoYXQgaGF2ZSB0aGVpciBvd24gc3R5bGVzIHdpbGwgYmUgcmVuZGVyZWQgaW4gdGhlIGxheWVyLiBTZWVcbiAgKiB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlfSBmb3IgaW5mb3JtYXRpb24gb24gdGhlIGRlZmF1bHQgc3R5bGUuXG4gICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fEFycmF5PGltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHQ+fGltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlRnVuY3Rpb258bnVsbHx1bmRlZmluZWR9IHN0eWxlIExheWVyIHN0eWxlLlxuICAqIEBhcGlcbiAgKi9cbiAgVmVjdG9yTGF5ZXIucHJvdG90eXBlLnNldFN0eWxlID0gZnVuY3Rpb24gc2V0U3R5bGUgKHN0eWxlKSB7XG4gICAgdGhpcy5zdHlsZV8gPSBzdHlsZSAhPT0gdW5kZWZpbmVkID8gc3R5bGUgOiBjcmVhdGVEZWZhdWx0U3R5bGU7XG4gICAgdGhpcy5zdHlsZUZ1bmN0aW9uXyA9IHN0eWxlID09PSBudWxsID9cbiAgICAgIHVuZGVmaW5lZCA6IHRvU3R5bGVGdW5jdGlvbih0aGlzLnN0eWxlXyk7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH07XG5cbiAgLyoqXG4gICogQHJldHVybiB7aW1wb3J0KFwiLi9WZWN0b3JSZW5kZXJUeXBlLmpzXCIpLmRlZmF1bHR8c3RyaW5nfSBUaGUgcmVuZGVyIG1vZGUuXG4gICovXG4gIFZlY3RvckxheWVyLnByb3RvdHlwZS5nZXRSZW5kZXJNb2RlID0gZnVuY3Rpb24gZ2V0UmVuZGVyTW9kZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyTW9kZV87XG4gIH07XG5cbiAgcmV0dXJuIFZlY3RvckxheWVyO1xufShMYXllcikpO1xuXG5cbi8qKlxuICogUmV0dXJuIHRoZSBhc3NvY2lhdGVkIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3RvciB2ZWN0b3Jzb3VyY2V9IG9mIHRoZSBsYXllci5cbiAqIEBmdW5jdGlvblxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vc291cmNlL1ZlY3Rvci5qc1wiKS5kZWZhdWx0fSBTb3VyY2UuXG4gKiBAYXBpXG4gKi9cblZlY3RvckxheWVyLnByb3RvdHlwZS5nZXRTb3VyY2U7XG5cblxuZXhwb3J0IGRlZmF1bHQgVmVjdG9yTGF5ZXI7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZlY3Rvci5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L2NvbnRhaW5zXG4gKi9cbmltcG9ydCB7Zm9yRWFjaENvcm5lcn0gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyBleHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nQ29udGFpbnNFeHRlbnQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBleHRlbnQpIHtcbiAgdmFyIG91dHNpZGUgPSBmb3JFYWNoQ29ybmVyKGV4dGVudCxcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zICh4LCB5KS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbihjb29yZGluYXRlKSB7XG4gICAgICByZXR1cm4gIWxpbmVhclJpbmdDb250YWluc1hZKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgY29vcmRpbmF0ZVswXSwgY29vcmRpbmF0ZVsxXSk7XG4gICAgfSk7XG4gIHJldHVybiAhb3V0c2lkZTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zICh4LCB5KS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdDb250YWluc1hZKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgeCwgeSkge1xuICAvLyBodHRwOi8vZ2VvbWFsZ29yaXRobXMuY29tL2EwMy1faW5jbHVzaW9uLmh0bWxcbiAgLy8gQ29weXJpZ2h0IDIwMDAgc29mdFN1cmZlciwgMjAxMiBEYW4gU3VuZGF5XG4gIC8vIFRoaXMgY29kZSBtYXkgYmUgZnJlZWx5IHVzZWQgYW5kIG1vZGlmaWVkIGZvciBhbnkgcHVycG9zZVxuICAvLyBwcm92aWRpbmcgdGhhdCB0aGlzIGNvcHlyaWdodCBub3RpY2UgaXMgaW5jbHVkZWQgd2l0aCBpdC5cbiAgLy8gU29mdFN1cmZlciBtYWtlcyBubyB3YXJyYW50eSBmb3IgdGhpcyBjb2RlLCBhbmQgY2Fubm90IGJlIGhlbGRcbiAgLy8gbGlhYmxlIGZvciBhbnkgcmVhbCBvciBpbWFnaW5lZCBkYW1hZ2UgcmVzdWx0aW5nIGZyb20gaXRzIHVzZS5cbiAgLy8gVXNlcnMgb2YgdGhpcyBjb2RlIG11c3QgdmVyaWZ5IGNvcnJlY3RuZXNzIGZvciB0aGVpciBhcHBsaWNhdGlvbi5cbiAgdmFyIHduID0gMDtcbiAgdmFyIHgxID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZV07XG4gIHZhciB5MSA9IGZsYXRDb29yZGluYXRlc1tlbmQgLSBzdHJpZGUgKyAxXTtcbiAgZm9yICg7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgIHZhciB4MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgIHZhciB5MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICBpZiAoeTEgPD0geSkge1xuICAgICAgaWYgKHkyID4geSAmJiAoKHgyIC0geDEpICogKHkgLSB5MSkpIC0gKCh4IC0geDEpICogKHkyIC0geTEpKSA+IDApIHtcbiAgICAgICAgd24rKztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHkyIDw9IHkgJiYgKCh4MiAtIHgxKSAqICh5IC0geTEpKSAtICgoeCAtIHgxKSAqICh5MiAtIHkxKSkgPCAwKSB7XG4gICAgICB3bi0tO1xuICAgIH1cbiAgICB4MSA9IHgyO1xuICAgIHkxID0geTI7XG4gIH1cbiAgcmV0dXJuIHduICE9PSAwO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMgKHgsIHkpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ3NDb250YWluc1hZKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIHgsIHkpIHtcbiAgaWYgKGVuZHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICghbGluZWFyUmluZ0NvbnRhaW5zWFkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNbMF0sIHN0cmlkZSwgeCwgeSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yICh2YXIgaSA9IDEsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgaWYgKGxpbmVhclJpbmdDb250YWluc1hZKGZsYXRDb29yZGluYXRlcywgZW5kc1tpIC0gMV0sIGVuZHNbaV0sIHN0cmlkZSwgeCwgeSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyAoeCwgeSkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nc3NDb250YWluc1hZKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlLCB4LCB5KSB7XG4gIGlmIChlbmRzcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIHZhciBlbmRzID0gZW5kc3NbaV07XG4gICAgaWYgKGxpbmVhclJpbmdzQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCB4LCB5KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRhaW5zLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9sb2FkaW5nc3RyYXRlZ3lcbiAqL1xuXG5cbi8qKlxuICogU3RyYXRlZ3kgZnVuY3Rpb24gZm9yIGxvYWRpbmcgYWxsIGZlYXR1cmVzIHdpdGggYSBzaW5nbGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudD59IEV4dGVudHMuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhbGwoZXh0ZW50LCByZXNvbHV0aW9uKSB7XG4gIHJldHVybiBbWy1JbmZpbml0eSwgLUluZmluaXR5LCBJbmZpbml0eSwgSW5maW5pdHldXTtcbn1cblxuXG4vKipcbiAqIFN0cmF0ZWd5IGZ1bmN0aW9uIGZvciBsb2FkaW5nIGZlYXR1cmVzIGJhc2VkIG9uIHRoZSB2aWV3J3MgZXh0ZW50IGFuZFxuICogcmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudD59IEV4dGVudHMuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiYm94KGV4dGVudCwgcmVzb2x1dGlvbikge1xuICByZXR1cm4gW2V4dGVudF07XG59XG5cblxuLyoqXG4gKiBDcmVhdGVzIGEgc3RyYXRlZ3kgZnVuY3Rpb24gZm9yIGxvYWRpbmcgZmVhdHVyZXMgYmFzZWQgb24gYSB0aWxlIGdyaWQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gdGlsZUdyaWQgVGlsZSBncmlkLlxuICogQHJldHVybiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50LCBudW1iZXIpOiBBcnJheTxpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnQ+fSBMb2FkaW5nIHN0cmF0ZWd5LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gdGlsZSh0aWxlR3JpZCkge1xuICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50Pn0gRXh0ZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbihleHRlbnQsIHJlc29sdXRpb24pIHtcbiAgICAgIHZhciB6ID0gdGlsZUdyaWQuZ2V0WkZvclJlc29sdXRpb24ocmVzb2x1dGlvbik7XG4gICAgICB2YXIgdGlsZVJhbmdlID0gdGlsZUdyaWQuZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWihleHRlbnQsIHopO1xuICAgICAgLyoqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnQ+fSAqL1xuICAgICAgdmFyIGV4dGVudHMgPSBbXTtcbiAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSAqL1xuICAgICAgdmFyIHRpbGVDb29yZCA9IFt6LCAwLCAwXTtcbiAgICAgIGZvciAodGlsZUNvb3JkWzFdID0gdGlsZVJhbmdlLm1pblg7IHRpbGVDb29yZFsxXSA8PSB0aWxlUmFuZ2UubWF4WDsgKyt0aWxlQ29vcmRbMV0pIHtcbiAgICAgICAgZm9yICh0aWxlQ29vcmRbMl0gPSB0aWxlUmFuZ2UubWluWTsgdGlsZUNvb3JkWzJdIDw9IHRpbGVSYW5nZS5tYXhZOyArK3RpbGVDb29yZFsyXSkge1xuICAgICAgICAgIGV4dGVudHMucHVzaCh0aWxlR3JpZC5nZXRUaWxlQ29vcmRFeHRlbnQodGlsZUNvb3JkKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBleHRlbnRzO1xuICAgIH1cbiAgKTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9hZGluZ3N0cmF0ZWd5LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvVmVjdG9yXG4gKi9cblxuaW1wb3J0IHtnZXRVaWR9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IENvbGxlY3Rpb24gZnJvbSAnLi4vQ29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgQ29sbGVjdGlvbkV2ZW50VHlwZSBmcm9tICcuLi9Db2xsZWN0aW9uRXZlbnRUeXBlLmpzJztcbmltcG9ydCBPYmplY3RFdmVudFR5cGUgZnJvbSAnLi4vT2JqZWN0RXZlbnRUeXBlLmpzJztcbmltcG9ydCB7ZXh0ZW5kfSBmcm9tICcuLi9hcnJheS5qcyc7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQge2xpc3RlbiwgdW5saXN0ZW5CeUtleX0gZnJvbSAnLi4vZXZlbnRzLmpzJztcbmltcG9ydCBFdmVudCBmcm9tICcuLi9ldmVudHMvRXZlbnQuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7Y29udGFpbnNFeHRlbnQsIGVxdWFsc30gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7eGhyfSBmcm9tICcuLi9mZWF0dXJlbG9hZGVyLmpzJztcbmltcG9ydCB7VFJVRSwgVk9JRH0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7YWxsIGFzIGFsbFN0cmF0ZWd5fSBmcm9tICcuLi9sb2FkaW5nc3RyYXRlZ3kuanMnO1xuaW1wb3J0IHtpc0VtcHR5LCBnZXRWYWx1ZXN9IGZyb20gJy4uL29iai5qcyc7XG5pbXBvcnQgU291cmNlIGZyb20gJy4vU291cmNlLmpzJztcbmltcG9ydCBTb3VyY2VTdGF0ZSBmcm9tICcuL1N0YXRlLmpzJztcbmltcG9ydCBWZWN0b3JFdmVudFR5cGUgZnJvbSAnLi9WZWN0b3JFdmVudFR5cGUuanMnO1xuaW1wb3J0IFJCdXNoIGZyb20gJy4uL3N0cnVjdHMvUkJ1c2guanMnO1xuXG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL2V4dGVudH5FeHRlbnR9IGFuZCBhIHJlc29sdXRpb24gYXMgYXJndW1lbnRzLCBhbmRcbiAqIHJldHVybnMgYW4gYXJyYXkgb2Yge0BsaW5rIG1vZHVsZTpvbC9leHRlbnR+RXh0ZW50fSB3aXRoIHRoZSBleHRlbnRzIHRvIGxvYWQuIFVzdWFsbHkgdGhpc1xuICogaXMgb25lIG9mIHRoZSBzdGFuZGFyZCB7QGxpbmsgbW9kdWxlOm9sL2xvYWRpbmdzdHJhdGVneX0gc3RyYXRlZ2llcy5cbiAqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudCwgbnVtYmVyKTogQXJyYXk8aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudD59IExvYWRpbmdTdHJhdGVneVxuICogQGFwaVxuICovXG5cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBFdmVudHMgZW1pdHRlZCBieSB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J9IGluc3RhbmNlcyBhcmUgaW5zdGFuY2VzIG9mIHRoaXNcbiAqIHR5cGUuXG4gKi9cbmV4cG9ydCB2YXIgVmVjdG9yU291cmNlRXZlbnQgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChFdmVudCkge1xuICBmdW5jdGlvbiBWZWN0b3JTb3VyY2VFdmVudCh0eXBlLCBvcHRfZmVhdHVyZSkge1xuXG4gICAgRXZlbnQuY2FsbCh0aGlzLCB0eXBlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmZWF0dXJlIGJlaW5nIGFkZGVkIG9yIHJlbW92ZWQuXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdHx1bmRlZmluZWR9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMuZmVhdHVyZSA9IG9wdF9mZWF0dXJlO1xuXG4gIH1cblxuICBpZiAoIEV2ZW50ICkgVmVjdG9yU291cmNlRXZlbnQuX19wcm90b19fID0gRXZlbnQ7XG4gIFZlY3RvclNvdXJjZUV2ZW50LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEV2ZW50ICYmIEV2ZW50LnByb3RvdHlwZSApO1xuICBWZWN0b3JTb3VyY2VFdmVudC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBWZWN0b3JTb3VyY2VFdmVudDtcblxuICByZXR1cm4gVmVjdG9yU291cmNlRXZlbnQ7XG59KEV2ZW50KSk7XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLkF0dHJpYnV0aW9uTGlrZX0gW2F0dHJpYnV0aW9uc10gQXR0cmlidXRpb25zLlxuICogQHByb3BlcnR5IHtBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fENvbGxlY3Rpb248aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn0gW2ZlYXR1cmVzXVxuICogRmVhdHVyZXMuIElmIHByb3ZpZGVkIGFzIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn0sIHRoZSBmZWF0dXJlcyBpbiB0aGUgc291cmNlXG4gKiBhbmQgdGhlIGNvbGxlY3Rpb24gd2lsbCBzdGF5IGluIHN5bmMuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2Zvcm1hdC9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IFtmb3JtYXRdIFRoZSBmZWF0dXJlIGZvcm1hdCB1c2VkIGJ5IHRoZSBYSFJcbiAqIGZlYXR1cmUgbG9hZGVyIHdoZW4gYHVybGAgaXMgc2V0LiBSZXF1aXJlZCBpZiBgdXJsYCBpcyBzZXQsIG90aGVyd2lzZSBpZ25vcmVkLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9mZWF0dXJlbG9hZGVyLmpzXCIpLkZlYXR1cmVMb2FkZXJ9IFtsb2FkZXJdXG4gKiBUaGUgbG9hZGVyIGZ1bmN0aW9uIHVzZWQgdG8gbG9hZCBmZWF0dXJlcywgZnJvbSBhIHJlbW90ZSBzb3VyY2UgZm9yIGV4YW1wbGUuXG4gKiBJZiB0aGlzIGlzIG5vdCBzZXQgYW5kIGB1cmxgIGlzIHNldCwgdGhlIHNvdXJjZSB3aWxsIGNyZWF0ZSBhbmQgdXNlIGFuIFhIUlxuICogZmVhdHVyZSBsb2FkZXIuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0IHtWZWN0b3J9IGZyb20gJ29sL3NvdXJjZSc7XG4gKiBpbXBvcnQge0dlb0pTT059IGZyb20gJ29sL2Zvcm1hdCc7XG4gKiBpbXBvcnQge2Jib3h9IGZyb20gJ29sL2xvYWRpbmdzdHJhdGVneSc7XG4gKlxuICogdmFyIHZlY3RvclNvdXJjZSA9IG5ldyBWZWN0b3Ioe1xuICogICBmb3JtYXQ6IG5ldyBHZW9KU09OKCksXG4gKiAgIGxvYWRlcjogZnVuY3Rpb24oZXh0ZW50LCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uKSB7XG4gKiAgICAgIHZhciBwcm9qID0gcHJvamVjdGlvbi5nZXRDb2RlKCk7XG4gKiAgICAgIHZhciB1cmwgPSAnaHR0cHM6Ly9haG9jZXZhci5jb20vZ2Vvc2VydmVyL3dmcz9zZXJ2aWNlPVdGUyYnICtcbiAqICAgICAgICAgICd2ZXJzaW9uPTEuMS4wJnJlcXVlc3Q9R2V0RmVhdHVyZSZ0eXBlbmFtZT1vc206d2F0ZXJfYXJlYXMmJyArXG4gKiAgICAgICAgICAnb3V0cHV0Rm9ybWF0PWFwcGxpY2F0aW9uL2pzb24mc3JzbmFtZT0nICsgcHJvaiArICcmJyArXG4gKiAgICAgICAgICAnYmJveD0nICsgZXh0ZW50LmpvaW4oJywnKSArICcsJyArIHByb2o7XG4gKiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAqICAgICAgeGhyLm9wZW4oJ0dFVCcsIHVybCk7XG4gKiAgICAgIHZhciBvbkVycm9yID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgdmVjdG9yU291cmNlLnJlbW92ZUxvYWRlZEV4dGVudChleHRlbnQpO1xuICogICAgICB9XG4gKiAgICAgIHhoci5vbmVycm9yID0gb25FcnJvcjtcbiAqICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgIGlmICh4aHIuc3RhdHVzID09IDIwMCkge1xuICogICAgICAgICAgdmVjdG9yU291cmNlLmFkZEZlYXR1cmVzKFxuICogICAgICAgICAgICAgIHZlY3RvclNvdXJjZS5nZXRGb3JtYXQoKS5yZWFkRmVhdHVyZXMoeGhyLnJlc3BvbnNlVGV4dCkpO1xuICogICAgICAgIH0gZWxzZSB7XG4gKiAgICAgICAgICBvbkVycm9yKCk7XG4gKiAgICAgICAgfVxuICogICAgICB9XG4gKiAgICAgIHhoci5zZW5kKCk7XG4gKiAgICB9LFxuICogICAgc3RyYXRlZ3k6IGJib3hcbiAqICB9KTtcbiAqIGBgYFxuICogQHByb3BlcnR5IHtib29sZWFufSBbb3ZlcmxhcHM9dHJ1ZV0gVGhpcyBzb3VyY2UgbWF5IGhhdmUgb3ZlcmxhcHBpbmcgZ2VvbWV0cmllcy5cbiAqIFNldHRpbmcgdGhpcyB0byBgZmFsc2VgIChlLmcuIGZvciBzb3VyY2VzIHdpdGggcG9seWdvbnMgdGhhdCByZXByZXNlbnQgYWRtaW5pc3RyYXRpdmVcbiAqIGJvdW5kYXJpZXMgb3IgVG9wb0pTT04gc291cmNlcykgYWxsb3dzIHRoZSByZW5kZXJlciB0byBvcHRpbWlzZSBmaWxsIGFuZFxuICogc3Ryb2tlIG9wZXJhdGlvbnMuXG4gKiBAcHJvcGVydHkge0xvYWRpbmdTdHJhdGVneX0gW3N0cmF0ZWd5XSBUaGUgbG9hZGluZyBzdHJhdGVneSB0byB1c2UuXG4gKiBCeSBkZWZhdWx0IGFuIHtAbGluayBtb2R1bGU6b2wvbG9hZGluZ3N0cmF0ZWd5fmFsbH1cbiAqIHN0cmF0ZWd5IGlzIHVzZWQsIGEgb25lLW9mZiBzdHJhdGVneSB3aGljaCBsb2FkcyBhbGwgZmVhdHVyZXMgYXQgb25jZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfGltcG9ydChcIi4uL2ZlYXR1cmVsb2FkZXIuanNcIikuRmVhdHVyZVVybEZ1bmN0aW9ufSBbdXJsXVxuICogU2V0dGluZyB0aGlzIG9wdGlvbiBpbnN0cnVjdHMgdGhlIHNvdXJjZSB0byBsb2FkIGZlYXR1cmVzIHVzaW5nIGFuIFhIUiBsb2FkZXJcbiAqIChzZWUge0BsaW5rIG1vZHVsZTpvbC9mZWF0dXJlbG9hZGVyfnhocn0pLiBVc2UgYSBgc3RyaW5nYCBhbmQgYW5cbiAqIHtAbGluayBtb2R1bGU6b2wvbG9hZGluZ3N0cmF0ZWd5fmFsbH0gZm9yIGEgb25lLW9mZiBkb3dubG9hZCBvZiBhbGwgZmVhdHVyZXMgZnJvbVxuICogdGhlIGdpdmVuIFVSTC4gVXNlIGEge0BsaW5rIG1vZHVsZTpvbC9mZWF0dXJlbG9hZGVyfkZlYXR1cmVVcmxGdW5jdGlvbn0gdG8gZ2VuZXJhdGUgdGhlIHVybCB3aXRoXG4gKiBvdGhlciBsb2FkaW5nIHN0cmF0ZWdpZXMuXG4gKiBSZXF1aXJlcyBgZm9ybWF0YCB0byBiZSBzZXQgYXMgd2VsbC5cbiAqIFdoZW4gZGVmYXVsdCBYSFIgZmVhdHVyZSBsb2FkZXIgaXMgcHJvdmlkZWQsIHRoZSBmZWF0dXJlcyB3aWxsXG4gKiBiZSB0cmFuc2Zvcm1lZCBmcm9tIHRoZSBkYXRhIHByb2plY3Rpb24gdG8gdGhlIHZpZXcgcHJvamVjdGlvblxuICogZHVyaW5nIHBhcnNpbmcuIElmIHlvdXIgcmVtb3RlIGRhdGEgc291cmNlIGRvZXMgbm90IGFkdmVydGlzZSBpdHMgcHJvamVjdGlvblxuICogcHJvcGVybHksIHRoaXMgdHJhbnNmb3JtYXRpb24gd2lsbCBiZSBpbmNvcnJlY3QuIEZvciBzb21lIGZvcm1hdHMsIHRoZVxuICogZGVmYXVsdCBwcm9qZWN0aW9uICh1c3VhbGx5IEVQU0c6NDMyNikgY2FuIGJlIG92ZXJyaWRkZW4gYnkgc2V0dGluZyB0aGVcbiAqIGRhdGFQcm9qZWN0aW9uIGNvbnN0cnVjdG9yIG9wdGlvbiBvbiB0aGUgZm9ybWF0LlxuICogTm90ZSB0aGF0IGlmIGEgc291cmNlIGNvbnRhaW5zIG5vbi1mZWF0dXJlIGRhdGEsIHN1Y2ggYXMgYSBHZW9KU09OIGdlb21ldHJ5XG4gKiBvciBhIEtNTCBOZXR3b3JrTGluaywgdGhlc2Ugd2lsbCBiZSBpZ25vcmVkLiBVc2UgYSBjdXN0b20gbG9hZGVyIHRvIGxvYWQgdGhlc2UuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt1c2VTcGF0aWFsSW5kZXg9dHJ1ZV1cbiAqIEJ5IGRlZmF1bHQsIGFuIFJUcmVlIGlzIHVzZWQgYXMgc3BhdGlhbCBpbmRleC4gV2hlbiBmZWF0dXJlcyBhcmUgcmVtb3ZlZCBhbmRcbiAqIGFkZGVkIGZyZXF1ZW50bHksIGFuZCB0aGUgdG90YWwgbnVtYmVyIG9mIGZlYXR1cmVzIGlzIGxvdywgc2V0dGluZyB0aGlzIHRvXG4gKiBgZmFsc2VgIG1heSBpbXByb3ZlIHBlcmZvcm1hbmNlLlxuICpcbiAqIE5vdGUgdGhhdFxuICoge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yflZlY3RvclNvdXJjZSNnZXRGZWF0dXJlc0luRXh0ZW50fSxcbiAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2UjZ2V0Q2xvc2VzdEZlYXR1cmVUb0Nvb3JkaW5hdGV9IGFuZFxuICoge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yflZlY3RvclNvdXJjZSNnZXRFeHRlbnR9IGNhbm5vdCBiZSB1c2VkIHdoZW4gYHVzZVNwYXRpYWxJbmRleGAgaXNcbiAqIHNldCB0byBgZmFsc2VgLCBhbmQge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yflZlY3RvclNvdXJjZSNmb3JFYWNoRmVhdHVyZUluRXh0ZW50fSB3aWxsIGxvb3BcbiAqIHRocm91Z2ggYWxsIGZlYXR1cmVzLlxuICpcbiAqIFdoZW4gc2V0IHRvIGBmYWxzZWAsIHRoZSBmZWF0dXJlcyB3aWxsIGJlIG1haW50YWluZWQgaW4gYW5cbiAqIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn0sIHdoaWNoIGNhbiBiZSByZXRyaWV2ZWQgdGhyb3VnaFxuICoge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yflZlY3RvclNvdXJjZSNnZXRGZWF0dXJlc0NvbGxlY3Rpb259LlxuICogQHByb3BlcnR5IHtib29sZWFufSBbd3JhcFg9dHJ1ZV0gV3JhcCB0aGUgd29ybGQgaG9yaXpvbnRhbGx5LiBGb3IgdmVjdG9yIGVkaXRpbmcgYWNyb3NzIHRoZVxuICogLTE4MMKwIGFuZCAxODDCsCBtZXJpZGlhbnMgdG8gd29yayBwcm9wZXJseSwgdGhpcyBzaG91bGQgYmUgc2V0IHRvIGBmYWxzZWAuIFRoZVxuICogcmVzdWx0aW5nIGdlb21ldHJ5IGNvb3JkaW5hdGVzIHdpbGwgdGhlbiBleGNlZWQgdGhlIHdvcmxkIGJvdW5kcy5cbiAqL1xuXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogUHJvdmlkZXMgYSBzb3VyY2Ugb2YgZmVhdHVyZXMgZm9yIHZlY3RvciBsYXllcnMuIFZlY3RvciBmZWF0dXJlcyBwcm92aWRlZFxuICogYnkgdGhpcyBzb3VyY2UgYXJlIHN1aXRhYmxlIGZvciBlZGl0aW5nLiBTZWUge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yVGlsZX5WZWN0b3JUaWxlfSBmb3JcbiAqIHZlY3RvciBkYXRhIHRoYXQgaXMgb3B0aW1pemVkIGZvciByZW5kZXJpbmcuXG4gKlxuICogQGZpcmVzIG9sL3NvdXJjZS9WZWN0b3IuVmVjdG9yU291cmNlRXZlbnRcbiAqIEBhcGlcbiAqL1xudmFyIFZlY3RvclNvdXJjZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFNvdXJjZSkge1xuICBmdW5jdGlvbiBWZWN0b3JTb3VyY2Uob3B0X29wdGlvbnMpIHtcblxuICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XG5cbiAgICBTb3VyY2UuY2FsbCh0aGlzLCB7XG4gICAgICBhdHRyaWJ1dGlvbnM6IG9wdGlvbnMuYXR0cmlidXRpb25zLFxuICAgICAgcHJvamVjdGlvbjogdW5kZWZpbmVkLFxuICAgICAgc3RhdGU6IFNvdXJjZVN0YXRlLlJFQURZLFxuICAgICAgd3JhcFg6IG9wdGlvbnMud3JhcFggIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMud3JhcFggOiB0cnVlXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9mZWF0dXJlbG9hZGVyLmpzXCIpLkZlYXR1cmVMb2FkZXJ9XG4gICAgICovXG4gICAgdGhpcy5sb2FkZXJfID0gVk9JRDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2Zvcm1hdC9GZWF0dXJlLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuZm9ybWF0XyA9IG9wdGlvbnMuZm9ybWF0O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLm92ZXJsYXBzXyA9IG9wdGlvbnMub3ZlcmxhcHMgPT0gdW5kZWZpbmVkID8gdHJ1ZSA6IG9wdGlvbnMub3ZlcmxhcHM7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtzdHJpbmd8aW1wb3J0KFwiLi4vZmVhdHVyZWxvYWRlci5qc1wiKS5GZWF0dXJlVXJsRnVuY3Rpb258dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMudXJsXyA9IG9wdGlvbnMudXJsO1xuXG4gICAgaWYgKG9wdGlvbnMubG9hZGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMubG9hZGVyXyA9IG9wdGlvbnMubG9hZGVyO1xuICAgIH0gZWxzZSBpZiAodGhpcy51cmxfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGFzc2VydCh0aGlzLmZvcm1hdF8sIDcpOyAvLyBgZm9ybWF0YCBtdXN0IGJlIHNldCB3aGVuIGB1cmxgIGlzIHNldFxuICAgICAgLy8gY3JlYXRlIGEgWEhSIGZlYXR1cmUgbG9hZGVyIGZvciBcInVybFwiIGFuZCBcImZvcm1hdFwiXG4gICAgICB0aGlzLmxvYWRlcl8gPSB4aHIodGhpcy51cmxfLCAvKiogQHR5cGUge2ltcG9ydChcIi4uL2Zvcm1hdC9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9ICovICh0aGlzLmZvcm1hdF8pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtMb2FkaW5nU3RyYXRlZ3l9XG4gICAgICovXG4gICAgdGhpcy5zdHJhdGVneV8gPSBvcHRpb25zLnN0cmF0ZWd5ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnN0cmF0ZWd5IDogYWxsU3RyYXRlZ3k7XG5cbiAgICB2YXIgdXNlU3BhdGlhbEluZGV4ID1cbiAgICAgICAgb3B0aW9ucy51c2VTcGF0aWFsSW5kZXggIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudXNlU3BhdGlhbEluZGV4IDogdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1JCdXNoPGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59XG4gICAgICovXG4gICAgdGhpcy5mZWF0dXJlc1J0cmVlXyA9IHVzZVNwYXRpYWxJbmRleCA/IG5ldyBSQnVzaCgpIDogbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1JCdXNoPHtleHRlbnQ6IGltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9Pn1cbiAgICAgKi9cbiAgICB0aGlzLmxvYWRlZEV4dGVudHNSdHJlZV8gPSBuZXcgUkJ1c2goKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAqL1xuICAgIHRoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfID0ge307XG5cbiAgICAvKipcbiAgICAgKiBBIGxvb2t1cCBvZiBmZWF0dXJlcyBieSBpZCAodGhlIHJldHVybiBmcm9tIGZlYXR1cmUuZ2V0SWQoKSkuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59XG4gICAgICovXG4gICAgdGhpcy5pZEluZGV4XyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQSBsb29rdXAgb2YgZmVhdHVyZXMgd2l0aG91dCBpZCAoa2V5ZWQgYnkgZ2V0VWlkKGZlYXR1cmUpKS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgKi9cbiAgICB0aGlzLnVuZGVmSWRJbmRleF8gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIEFycmF5PGltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+Pn1cbiAgICAgKi9cbiAgICB0aGlzLmZlYXR1cmVDaGFuZ2VLZXlzXyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAqL1xuICAgIHRoaXMuZmVhdHVyZXNDb2xsZWN0aW9uXyA9IG51bGw7XG5cbiAgICB2YXIgY29sbGVjdGlvbiwgZmVhdHVyZXM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucy5mZWF0dXJlcykpIHtcbiAgICAgIGZlYXR1cmVzID0gb3B0aW9ucy5mZWF0dXJlcztcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuZmVhdHVyZXMpIHtcbiAgICAgIGNvbGxlY3Rpb24gPSBvcHRpb25zLmZlYXR1cmVzO1xuICAgICAgZmVhdHVyZXMgPSBjb2xsZWN0aW9uLmdldEFycmF5KCk7XG4gICAgfVxuICAgIGlmICghdXNlU3BhdGlhbEluZGV4ICYmIGNvbGxlY3Rpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgY29sbGVjdGlvbiA9IG5ldyBDb2xsZWN0aW9uKGZlYXR1cmVzKTtcbiAgICB9XG4gICAgaWYgKGZlYXR1cmVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuYWRkRmVhdHVyZXNJbnRlcm5hbChmZWF0dXJlcyk7XG4gICAgfVxuICAgIGlmIChjb2xsZWN0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuYmluZEZlYXR1cmVzQ29sbGVjdGlvbl8oY29sbGVjdGlvbik7XG4gICAgfVxuXG4gIH1cblxuICBpZiAoIFNvdXJjZSApIFZlY3RvclNvdXJjZS5fX3Byb3RvX18gPSBTb3VyY2U7XG4gIFZlY3RvclNvdXJjZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTb3VyY2UgJiYgU291cmNlLnByb3RvdHlwZSApO1xuICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVmVjdG9yU291cmNlO1xuXG4gIC8qKlxuICAgKiBBZGQgYSBzaW5nbGUgZmVhdHVyZSB0byB0aGUgc291cmNlLiAgSWYgeW91IHdhbnQgdG8gYWRkIGEgYmF0Y2ggb2YgZmVhdHVyZXNcbiAgICogYXQgb25jZSwgY2FsbCB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J+VmVjdG9yU291cmNlI2FkZEZlYXR1cmVzICNhZGRGZWF0dXJlcygpfVxuICAgKiBpbnN0ZWFkLiBBIGZlYXR1cmUgd2lsbCBub3QgYmUgYWRkZWQgdG8gdGhlIHNvdXJjZSBpZiBmZWF0dXJlIHdpdGhcbiAgICogdGhlIHNhbWUgaWQgaXMgYWxyZWFkeSB0aGVyZS4gVGhlIHJlYXNvbiBmb3IgdGhpcyBiZWhhdmlvciBpcyB0byBhdm9pZFxuICAgKiBmZWF0dXJlIGR1cGxpY2F0aW9uIHdoZW4gdXNpbmcgYmJveCBvciB0aWxlIGxvYWRpbmcgc3RyYXRlZ2llcy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZSB0byBhZGQuXG4gICAqIEBhcGlcbiAgICovXG4gIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuYWRkRmVhdHVyZSA9IGZ1bmN0aW9uIGFkZEZlYXR1cmUgKGZlYXR1cmUpIHtcbiAgICB0aGlzLmFkZEZlYXR1cmVJbnRlcm5hbChmZWF0dXJlKTtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBBZGQgYSBmZWF0dXJlIHdpdGhvdXQgZmlyaW5nIGEgYGNoYW5nZWAgZXZlbnQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuYWRkRmVhdHVyZUludGVybmFsID0gZnVuY3Rpb24gYWRkRmVhdHVyZUludGVybmFsIChmZWF0dXJlKSB7XG4gICAgdmFyIGZlYXR1cmVLZXkgPSBnZXRVaWQoZmVhdHVyZSk7XG5cbiAgICBpZiAoIXRoaXMuYWRkVG9JbmRleF8oZmVhdHVyZUtleSwgZmVhdHVyZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnNldHVwQ2hhbmdlRXZlbnRzXyhmZWF0dXJlS2V5LCBmZWF0dXJlKTtcblxuICAgIHZhciBnZW9tZXRyeSA9IGZlYXR1cmUuZ2V0R2VvbWV0cnkoKTtcbiAgICBpZiAoZ2VvbWV0cnkpIHtcbiAgICAgIHZhciBleHRlbnQgPSBnZW9tZXRyeS5nZXRFeHRlbnQoKTtcbiAgICAgIGlmICh0aGlzLmZlYXR1cmVzUnRyZWVfKSB7XG4gICAgICAgIHRoaXMuZmVhdHVyZXNSdHJlZV8uaW5zZXJ0KGV4dGVudCwgZmVhdHVyZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfW2ZlYXR1cmVLZXldID0gZmVhdHVyZTtcbiAgICB9XG5cbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoXG4gICAgICBuZXcgVmVjdG9yU291cmNlRXZlbnQoVmVjdG9yRXZlbnRUeXBlLkFEREZFQVRVUkUsIGZlYXR1cmUpKTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmVhdHVyZUtleSBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGZlYXR1cmUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIFRoZSBmZWF0dXJlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5zZXR1cENoYW5nZUV2ZW50c18gPSBmdW5jdGlvbiBzZXR1cENoYW5nZUV2ZW50c18gKGZlYXR1cmVLZXksIGZlYXR1cmUpIHtcbiAgICB0aGlzLmZlYXR1cmVDaGFuZ2VLZXlzX1tmZWF0dXJlS2V5XSA9IFtcbiAgICAgIGxpc3RlbihmZWF0dXJlLCBFdmVudFR5cGUuQ0hBTkdFLFxuICAgICAgICB0aGlzLmhhbmRsZUZlYXR1cmVDaGFuZ2VfLCB0aGlzKSxcbiAgICAgIGxpc3RlbihmZWF0dXJlLCBPYmplY3RFdmVudFR5cGUuUFJPUEVSVFlDSEFOR0UsXG4gICAgICAgIHRoaXMuaGFuZGxlRmVhdHVyZUNoYW5nZV8sIHRoaXMpXG4gICAgXTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmVhdHVyZUtleSBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGZlYXR1cmUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIFRoZSBmZWF0dXJlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgZmVhdHVyZSBpcyBcInZhbGlkXCIsIGluIHRoZSBzZW5zZSB0aGF0IGl0IGlzIGFsc28gYVxuICAgKiAgICAgY2FuZGlkYXRlIGZvciBpbnNlcnRpb24gaW50byB0aGUgUnRyZWUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmFkZFRvSW5kZXhfID0gZnVuY3Rpb24gYWRkVG9JbmRleF8gKGZlYXR1cmVLZXksIGZlYXR1cmUpIHtcbiAgICB2YXIgdmFsaWQgPSB0cnVlO1xuICAgIHZhciBpZCA9IGZlYXR1cmUuZ2V0SWQoKTtcbiAgICBpZiAoaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKCEoaWQudG9TdHJpbmcoKSBpbiB0aGlzLmlkSW5kZXhfKSkge1xuICAgICAgICB0aGlzLmlkSW5kZXhfW2lkLnRvU3RyaW5nKCldID0gZmVhdHVyZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2VydCghKGZlYXR1cmVLZXkgaW4gdGhpcy51bmRlZklkSW5kZXhfKSxcbiAgICAgICAgMzApOyAvLyBUaGUgcGFzc2VkIGBmZWF0dXJlYCB3YXMgYWxyZWFkeSBhZGRlZCB0byB0aGUgc291cmNlXG4gICAgICB0aGlzLnVuZGVmSWRJbmRleF9bZmVhdHVyZUtleV0gPSBmZWF0dXJlO1xuICAgIH1cbiAgICByZXR1cm4gdmFsaWQ7XG4gIH07XG5cblxuICAvKipcbiAgICogQWRkIGEgYmF0Y2ggb2YgZmVhdHVyZXMgdG8gdGhlIHNvdXJjZS5cbiAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fSBmZWF0dXJlcyBGZWF0dXJlcyB0byBhZGQuXG4gICAqIEBhcGlcbiAgICovXG4gIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuYWRkRmVhdHVyZXMgPSBmdW5jdGlvbiBhZGRGZWF0dXJlcyAoZmVhdHVyZXMpIHtcbiAgICB0aGlzLmFkZEZlYXR1cmVzSW50ZXJuYWwoZmVhdHVyZXMpO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEFkZCBmZWF0dXJlcyB3aXRob3V0IGZpcmluZyBhIGBjaGFuZ2VgIGV2ZW50LlxuICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59IGZlYXR1cmVzIEZlYXR1cmVzLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmFkZEZlYXR1cmVzSW50ZXJuYWwgPSBmdW5jdGlvbiBhZGRGZWF0dXJlc0ludGVybmFsIChmZWF0dXJlcykge1xuICAgIHZhciBleHRlbnRzID0gW107XG4gICAgdmFyIG5ld0ZlYXR1cmVzID0gW107XG4gICAgdmFyIGdlb21ldHJ5RmVhdHVyZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBmZWF0dXJlcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGZlYXR1cmUgPSBmZWF0dXJlc1tpXTtcbiAgICAgIHZhciBmZWF0dXJlS2V5ID0gZ2V0VWlkKGZlYXR1cmUpO1xuICAgICAgaWYgKHRoaXMuYWRkVG9JbmRleF8oZmVhdHVyZUtleSwgZmVhdHVyZSkpIHtcbiAgICAgICAgbmV3RmVhdHVyZXMucHVzaChmZWF0dXJlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBpJDEgPSAwLCBsZW5ndGgkMSA9IG5ld0ZlYXR1cmVzLmxlbmd0aDsgaSQxIDwgbGVuZ3RoJDE7IGkkMSsrKSB7XG4gICAgICB2YXIgZmVhdHVyZSQxID0gbmV3RmVhdHVyZXNbaSQxXTtcbiAgICAgIHZhciBmZWF0dXJlS2V5JDEgPSBnZXRVaWQoZmVhdHVyZSQxKTtcbiAgICAgIHRoaXMuc2V0dXBDaGFuZ2VFdmVudHNfKGZlYXR1cmVLZXkkMSwgZmVhdHVyZSQxKTtcblxuICAgICAgdmFyIGdlb21ldHJ5ID0gZmVhdHVyZSQxLmdldEdlb21ldHJ5KCk7XG4gICAgICBpZiAoZ2VvbWV0cnkpIHtcbiAgICAgICAgdmFyIGV4dGVudCA9IGdlb21ldHJ5LmdldEV4dGVudCgpO1xuICAgICAgICBleHRlbnRzLnB1c2goZXh0ZW50KTtcbiAgICAgICAgZ2VvbWV0cnlGZWF0dXJlcy5wdXNoKGZlYXR1cmUkMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzX1tmZWF0dXJlS2V5JDFdID0gZmVhdHVyZSQxO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5mZWF0dXJlc1J0cmVlXykge1xuICAgICAgdGhpcy5mZWF0dXJlc1J0cmVlXy5sb2FkKGV4dGVudHMsIGdlb21ldHJ5RmVhdHVyZXMpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkkMiA9IDAsIGxlbmd0aCQyID0gbmV3RmVhdHVyZXMubGVuZ3RoOyBpJDIgPCBsZW5ndGgkMjsgaSQyKyspIHtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgVmVjdG9yU291cmNlRXZlbnQoVmVjdG9yRXZlbnRUeXBlLkFEREZFQVRVUkUsIG5ld0ZlYXR1cmVzW2kkMl0pKTtcbiAgICB9XG4gIH07XG5cblxuICAvKipcbiAgICogQHBhcmFtIHshQ29sbGVjdGlvbjxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fSBjb2xsZWN0aW9uIENvbGxlY3Rpb24uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmJpbmRGZWF0dXJlc0NvbGxlY3Rpb25fID0gZnVuY3Rpb24gYmluZEZlYXR1cmVzQ29sbGVjdGlvbl8gKGNvbGxlY3Rpb24pIHtcbiAgICB2YXIgbW9kaWZ5aW5nQ29sbGVjdGlvbiA9IGZhbHNlO1xuICAgIGxpc3Rlbih0aGlzLCBWZWN0b3JFdmVudFR5cGUuQURERkVBVFVSRSxcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtWZWN0b3JTb3VyY2VFdmVudH0gZXZ0IFRoZSB2ZWN0b3Igc291cmNlIGV2ZW50XG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBpZiAoIW1vZGlmeWluZ0NvbGxlY3Rpb24pIHtcbiAgICAgICAgICBtb2RpZnlpbmdDb2xsZWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgICBjb2xsZWN0aW9uLnB1c2goZXZ0LmZlYXR1cmUpO1xuICAgICAgICAgIG1vZGlmeWluZ0NvbGxlY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgbGlzdGVuKHRoaXMsIFZlY3RvckV2ZW50VHlwZS5SRU1PVkVGRUFUVVJFLFxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge1ZlY3RvclNvdXJjZUV2ZW50fSBldnQgVGhlIHZlY3RvciBzb3VyY2UgZXZlbnRcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIGlmICghbW9kaWZ5aW5nQ29sbGVjdGlvbikge1xuICAgICAgICAgIG1vZGlmeWluZ0NvbGxlY3Rpb24gPSB0cnVlO1xuICAgICAgICAgIGNvbGxlY3Rpb24ucmVtb3ZlKGV2dC5mZWF0dXJlKTtcbiAgICAgICAgICBtb2RpZnlpbmdDb2xsZWN0aW9uID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIGxpc3Rlbihjb2xsZWN0aW9uLCBDb2xsZWN0aW9uRXZlbnRUeXBlLkFERCxcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25FdmVudH0gZXZ0IFRoZSBjb2xsZWN0aW9uIGV2ZW50XG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBpZiAoIW1vZGlmeWluZ0NvbGxlY3Rpb24pIHtcbiAgICAgICAgICBtb2RpZnlpbmdDb2xsZWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLmFkZEZlYXR1cmUoLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9ICovIChldnQuZWxlbWVudCkpO1xuICAgICAgICAgIG1vZGlmeWluZ0NvbGxlY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSwgdGhpcyk7XG4gICAgbGlzdGVuKGNvbGxlY3Rpb24sIENvbGxlY3Rpb25FdmVudFR5cGUuUkVNT1ZFLFxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50fSBldnQgVGhlIGNvbGxlY3Rpb24gZXZlbnRcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIGlmICghbW9kaWZ5aW5nQ29sbGVjdGlvbikge1xuICAgICAgICAgIG1vZGlmeWluZ0NvbGxlY3Rpb24gPSB0cnVlO1xuICAgICAgICAgIHRoaXMucmVtb3ZlRmVhdHVyZSgvKiogQHR5cGUge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gKi8gKGV2dC5lbGVtZW50KSk7XG4gICAgICAgICAgbW9kaWZ5aW5nQ29sbGVjdGlvbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9LCB0aGlzKTtcbiAgICB0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8gPSBjb2xsZWN0aW9uO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbGwgZmVhdHVyZXMgZnJvbSB0aGUgc291cmNlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfZmFzdCBTa2lwIGRpc3BhdGNoaW5nIG9mIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvci5WZWN0b3JTb3VyY2VFdmVudCNyZW1vdmVmZWF0dXJlfSBldmVudHMuXG4gICAqIEBhcGlcbiAgICovXG4gIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhciAob3B0X2Zhc3QpIHtcbiAgICBpZiAob3B0X2Zhc3QpIHtcbiAgICAgIGZvciAodmFyIGZlYXR1cmVJZCBpbiB0aGlzLmZlYXR1cmVDaGFuZ2VLZXlzXykge1xuICAgICAgICB2YXIga2V5cyA9IHRoaXMuZmVhdHVyZUNoYW5nZUtleXNfW2ZlYXR1cmVJZF07XG4gICAgICAgIGtleXMuZm9yRWFjaCh1bmxpc3RlbkJ5S2V5KTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fKSB7XG4gICAgICAgIHRoaXMuZmVhdHVyZUNoYW5nZUtleXNfID0ge307XG4gICAgICAgIHRoaXMuaWRJbmRleF8gPSB7fTtcbiAgICAgICAgdGhpcy51bmRlZklkSW5kZXhfID0ge307XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLmZlYXR1cmVzUnRyZWVfKSB7XG4gICAgICAgIHRoaXMuZmVhdHVyZXNSdHJlZV8uZm9yRWFjaCh0aGlzLnJlbW92ZUZlYXR1cmVJbnRlcm5hbCwgdGhpcyk7XG4gICAgICAgIGZvciAodmFyIGlkIGluIHRoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVGZWF0dXJlSW50ZXJuYWwodGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc19baWRdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fKSB7XG4gICAgICB0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8uY2xlYXIoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5mZWF0dXJlc1J0cmVlXykge1xuICAgICAgdGhpcy5mZWF0dXJlc1J0cmVlXy5jbGVhcigpO1xuICAgIH1cbiAgICB0aGlzLmxvYWRlZEV4dGVudHNSdHJlZV8uY2xlYXIoKTtcbiAgICB0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzXyA9IHt9O1xuXG4gICAgdmFyIGNsZWFyRXZlbnQgPSBuZXcgVmVjdG9yU291cmNlRXZlbnQoVmVjdG9yRXZlbnRUeXBlLkNMRUFSKTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoY2xlYXJFdmVudCk7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH07XG5cblxuICAvKipcbiAgICogSXRlcmF0ZSB0aHJvdWdoIGFsbCBmZWF0dXJlcyBvbiB0aGUgc291cmNlLCBjYWxsaW5nIHRoZSBwcm92aWRlZCBjYWxsYmFja1xuICAgKiB3aXRoIGVhY2ggb25lLiAgSWYgdGhlIGNhbGxiYWNrIHJldHVybnMgYW55IFwidHJ1dGh5XCIgdmFsdWUsIGl0ZXJhdGlvbiB3aWxsXG4gICAqIHN0b3AgYW5kIHRoZSBmdW5jdGlvbiB3aWxsIHJldHVybiB0aGUgc2FtZSB2YWx1ZS5cbiAgICogTm90ZTogdGhpcyBmdW5jdGlvbiBvbmx5IGl0ZXJhdGUgdGhyb3VnaCB0aGUgZmVhdHVyZSB0aGF0IGhhdmUgYSBkZWZpbmVkIGdlb21ldHJ5LlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdCk6IFR9IGNhbGxiYWNrIENhbGxlZCB3aXRoIGVhY2ggZmVhdHVyZVxuICAgKiAgICAgb24gdGhlIHNvdXJjZS4gIFJldHVybiBhIHRydXRoeSB2YWx1ZSB0byBzdG9wIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IFRoZSByZXR1cm4gdmFsdWUgZnJvbSB0aGUgbGFzdCBjYWxsIHRvIHRoZSBjYWxsYmFjay5cbiAgICogQHRlbXBsYXRlIFRcbiAgICogQGFwaVxuICAgKi9cbiAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5mb3JFYWNoRmVhdHVyZSA9IGZ1bmN0aW9uIGZvckVhY2hGZWF0dXJlIChjYWxsYmFjaykge1xuICAgIGlmICh0aGlzLmZlYXR1cmVzUnRyZWVfKSB7XG4gICAgICByZXR1cm4gdGhpcy5mZWF0dXJlc1J0cmVlXy5mb3JFYWNoKGNhbGxiYWNrKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZmVhdHVyZXNDb2xsZWN0aW9uXykge1xuICAgICAgdGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fLmZvckVhY2goY2FsbGJhY2spO1xuICAgIH1cbiAgfTtcblxuXG4gIC8qKlxuICAgKiBJdGVyYXRlIHRocm91Z2ggYWxsIGZlYXR1cmVzIHdob3NlIGdlb21ldHJpZXMgY29udGFpbiB0aGUgcHJvdmlkZWRcbiAgICogY29vcmRpbmF0ZSwgY2FsbGluZyB0aGUgY2FsbGJhY2sgd2l0aCBlYWNoIGZlYXR1cmUuICBJZiB0aGUgY2FsbGJhY2sgcmV0dXJuc1xuICAgKiBhIFwidHJ1dGh5XCIgdmFsdWUsIGl0ZXJhdGlvbiB3aWxsIHN0b3AgYW5kIHRoZSBmdW5jdGlvbiB3aWxsIHJldHVybiB0aGUgc2FtZVxuICAgKiB2YWx1ZS5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQpOiBUfSBjYWxsYmFjayBDYWxsZWQgd2l0aCBlYWNoIGZlYXR1cmVcbiAgICogICAgIHdob3NlIGdvZW1ldHJ5IGNvbnRhaW5zIHRoZSBwcm92aWRlZCBjb29yZGluYXRlLlxuICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gVGhlIHJldHVybiB2YWx1ZSBmcm9tIHRoZSBsYXN0IGNhbGwgdG8gdGhlIGNhbGxiYWNrLlxuICAgKiBAdGVtcGxhdGUgVFxuICAgKi9cbiAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5mb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZURpcmVjdCA9IGZ1bmN0aW9uIGZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlRGlyZWN0IChjb29yZGluYXRlLCBjYWxsYmFjaykge1xuICAgIHZhciBleHRlbnQgPSBbY29vcmRpbmF0ZVswXSwgY29vcmRpbmF0ZVsxXSwgY29vcmRpbmF0ZVswXSwgY29vcmRpbmF0ZVsxXV07XG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaEZlYXR1cmVJbkV4dGVudChleHRlbnQsIGZ1bmN0aW9uKGZlYXR1cmUpIHtcbiAgICAgIHZhciBnZW9tZXRyeSA9IGZlYXR1cmUuZ2V0R2VvbWV0cnkoKTtcbiAgICAgIGlmIChnZW9tZXRyeS5pbnRlcnNlY3RzQ29vcmRpbmF0ZShjb29yZGluYXRlKSkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZmVhdHVyZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEl0ZXJhdGUgdGhyb3VnaCBhbGwgZmVhdHVyZXMgd2hvc2UgYm91bmRpbmcgYm94IGludGVyc2VjdHMgdGhlIHByb3ZpZGVkXG4gICAqIGV4dGVudCAobm90ZSB0aGF0IHRoZSBmZWF0dXJlJ3MgZ2VvbWV0cnkgbWF5IG5vdCBpbnRlcnNlY3QgdGhlIGV4dGVudCksXG4gICAqIGNhbGxpbmcgdGhlIGNhbGxiYWNrIHdpdGggZWFjaCBmZWF0dXJlLiAgSWYgdGhlIGNhbGxiYWNrIHJldHVybnMgYSBcInRydXRoeVwiXG4gICAqIHZhbHVlLCBpdGVyYXRpb24gd2lsbCBzdG9wIGFuZCB0aGUgZnVuY3Rpb24gd2lsbCByZXR1cm4gdGhlIHNhbWUgdmFsdWUuXG4gICAqXG4gICAqIElmIHlvdSBhcmUgaW50ZXJlc3RlZCBpbiBmZWF0dXJlcyB3aG9zZSBnZW9tZXRyeSBpbnRlcnNlY3RzIGFuIGV4dGVudCwgY2FsbFxuICAgKiB0aGUge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yflZlY3RvclNvdXJjZSNmb3JFYWNoRmVhdHVyZUludGVyc2VjdGluZ0V4dGVudCAjZm9yRWFjaEZlYXR1cmVJbnRlcnNlY3RpbmdFeHRlbnQoKX0gbWV0aG9kIGluc3RlYWQuXG4gICAqXG4gICAqIFdoZW4gYHVzZVNwYXRpYWxJbmRleGAgaXMgc2V0IHRvIGZhbHNlLCB0aGlzIG1ldGhvZCB3aWxsIGxvb3AgdGhyb3VnaCBhbGxcbiAgICogZmVhdHVyZXMsIGVxdWl2YWxlbnQgdG8ge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yflZlY3RvclNvdXJjZSNmb3JFYWNoRmVhdHVyZSAjZm9yRWFjaEZlYXR1cmUoKX0uXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQpOiBUfSBjYWxsYmFjayBDYWxsZWQgd2l0aCBlYWNoIGZlYXR1cmVcbiAgICogICAgIHdob3NlIGJvdW5kaW5nIGJveCBpbnRlcnNlY3RzIHRoZSBwcm92aWRlZCBleHRlbnQuXG4gICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBUaGUgcmV0dXJuIHZhbHVlIGZyb20gdGhlIGxhc3QgY2FsbCB0byB0aGUgY2FsbGJhY2suXG4gICAqIEB0ZW1wbGF0ZSBUXG4gICAqIEBhcGlcbiAgICovXG4gIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZm9yRWFjaEZlYXR1cmVJbkV4dGVudCA9IGZ1bmN0aW9uIGZvckVhY2hGZWF0dXJlSW5FeHRlbnQgKGV4dGVudCwgY2FsbGJhY2spIHtcbiAgICBpZiAodGhpcy5mZWF0dXJlc1J0cmVlXykge1xuICAgICAgcmV0dXJuIHRoaXMuZmVhdHVyZXNSdHJlZV8uZm9yRWFjaEluRXh0ZW50KGV4dGVudCwgY2FsbGJhY2spO1xuICAgIH0gZWxzZSBpZiAodGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fKSB7XG4gICAgICB0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8uZm9yRWFjaChjYWxsYmFjayk7XG4gICAgfVxuICB9O1xuXG5cbiAgLyoqXG4gICAqIEl0ZXJhdGUgdGhyb3VnaCBhbGwgZmVhdHVyZXMgd2hvc2UgZ2VvbWV0cnkgaW50ZXJzZWN0cyB0aGUgcHJvdmlkZWQgZXh0ZW50LFxuICAgKiBjYWxsaW5nIHRoZSBjYWxsYmFjayB3aXRoIGVhY2ggZmVhdHVyZS4gIElmIHRoZSBjYWxsYmFjayByZXR1cm5zIGEgXCJ0cnV0aHlcIlxuICAgKiB2YWx1ZSwgaXRlcmF0aW9uIHdpbGwgc3RvcCBhbmQgdGhlIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIHRoZSBzYW1lIHZhbHVlLlxuICAgKlxuICAgKiBJZiB5b3Ugb25seSB3YW50IHRvIHRlc3QgZm9yIGJvdW5kaW5nIGJveCBpbnRlcnNlY3Rpb24sIGNhbGwgdGhlXG4gICAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2UjZm9yRWFjaEZlYXR1cmVJbkV4dGVudCAjZm9yRWFjaEZlYXR1cmVJbkV4dGVudCgpfSBtZXRob2QgaW5zdGVhZC5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdCk6IFR9IGNhbGxiYWNrIENhbGxlZCB3aXRoIGVhY2ggZmVhdHVyZVxuICAgKiAgICAgd2hvc2UgZ2VvbWV0cnkgaW50ZXJzZWN0cyB0aGUgcHJvdmlkZWQgZXh0ZW50LlxuICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gVGhlIHJldHVybiB2YWx1ZSBmcm9tIHRoZSBsYXN0IGNhbGwgdG8gdGhlIGNhbGxiYWNrLlxuICAgKiBAdGVtcGxhdGUgVFxuICAgKiBAYXBpXG4gICAqL1xuICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmZvckVhY2hGZWF0dXJlSW50ZXJzZWN0aW5nRXh0ZW50ID0gZnVuY3Rpb24gZm9yRWFjaEZlYXR1cmVJbnRlcnNlY3RpbmdFeHRlbnQgKGV4dGVudCwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoRmVhdHVyZUluRXh0ZW50KGV4dGVudCxcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBUaGUgcmV0dXJuIHZhbHVlIGZyb20gdGhlIGxhc3QgY2FsbCB0byB0aGUgY2FsbGJhY2suXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uKGZlYXR1cmUpIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gZmVhdHVyZS5nZXRHZW9tZXRyeSgpO1xuICAgICAgICBpZiAoZ2VvbWV0cnkuaW50ZXJzZWN0c0V4dGVudChleHRlbnQpKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGNhbGxiYWNrKGZlYXR1cmUpO1xuICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGZlYXR1cmVzIGNvbGxlY3Rpb24gYXNzb2NpYXRlZCB3aXRoIHRoaXMgc291cmNlLiBXaWxsIGJlIGBudWxsYFxuICAgKiB1bmxlc3MgdGhlIHNvdXJjZSB3YXMgY29uZmlndXJlZCB3aXRoIGB1c2VTcGF0aWFsSW5kZXhgIHNldCB0byBgZmFsc2VgLCBvclxuICAgKiB3aXRoIGFuIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn0gYXMgYGZlYXR1cmVzYC5cbiAgICogQHJldHVybiB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fSBUaGUgY29sbGVjdGlvbiBvZiBmZWF0dXJlcy5cbiAgICogQGFwaVxuICAgKi9cbiAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5nZXRGZWF0dXJlc0NvbGxlY3Rpb24gPSBmdW5jdGlvbiBnZXRGZWF0dXJlc0NvbGxlY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl87XG4gIH07XG5cblxuICAvKipcbiAgICogR2V0IGFsbCBmZWF0dXJlcyBvbiB0aGUgc291cmNlIGluIHJhbmRvbSBvcmRlci5cbiAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn0gRmVhdHVyZXMuXG4gICAqIEBhcGlcbiAgICovXG4gIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZ2V0RmVhdHVyZXMgPSBmdW5jdGlvbiBnZXRGZWF0dXJlcyAoKSB7XG4gICAgdmFyIGZlYXR1cmVzO1xuICAgIGlmICh0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8pIHtcbiAgICAgIGZlYXR1cmVzID0gdGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fLmdldEFycmF5KCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmZlYXR1cmVzUnRyZWVfKSB7XG4gICAgICBmZWF0dXJlcyA9IHRoaXMuZmVhdHVyZXNSdHJlZV8uZ2V0QWxsKCk7XG4gICAgICBpZiAoIWlzRW1wdHkodGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc18pKSB7XG4gICAgICAgIGV4dGVuZChmZWF0dXJlcywgZ2V0VmFsdWVzKHRoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICAvKiogQHR5cGUge0FycmF5PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59ICovIChmZWF0dXJlcylcbiAgICApO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEdldCBhbGwgZmVhdHVyZXMgd2hvc2UgZ2VvbWV0cnkgaW50ZXJzZWN0cyB0aGUgcHJvdmlkZWQgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn0gRmVhdHVyZXMuXG4gICAqIEBhcGlcbiAgICovXG4gIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZ2V0RmVhdHVyZXNBdENvb3JkaW5hdGUgPSBmdW5jdGlvbiBnZXRGZWF0dXJlc0F0Q29vcmRpbmF0ZSAoY29vcmRpbmF0ZSkge1xuICAgIHZhciBmZWF0dXJlcyA9IFtdO1xuICAgIHRoaXMuZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGVEaXJlY3QoY29vcmRpbmF0ZSwgZnVuY3Rpb24oZmVhdHVyZSkge1xuICAgICAgZmVhdHVyZXMucHVzaChmZWF0dXJlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZmVhdHVyZXM7XG4gIH07XG5cblxuICAvKipcbiAgICogR2V0IGFsbCBmZWF0dXJlcyBpbiB0aGUgcHJvdmlkZWQgZXh0ZW50LiAgTm90ZSB0aGF0IHRoaXMgcmV0dXJucyBhbiBhcnJheSBvZlxuICAgKiBhbGwgZmVhdHVyZXMgaW50ZXJzZWN0aW5nIHRoZSBnaXZlbiBleHRlbnQgaW4gcmFuZG9tIG9yZGVyIChzbyBpdCBtYXkgaW5jbHVkZVxuICAgKiBmZWF0dXJlcyB3aG9zZSBnZW9tZXRyaWVzIGRvIG5vdCBpbnRlcnNlY3QgdGhlIGV4dGVudCkuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBhdmFpbGFibGUgd2hlbiB0aGUgc291cmNlIGlzIGNvbmZpZ3VyZWQgd2l0aFxuICAgKiBgdXNlU3BhdGlhbEluZGV4YCBzZXQgdG8gYGZhbHNlYC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fSBGZWF0dXJlcy5cbiAgICogQGFwaVxuICAgKi9cbiAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5nZXRGZWF0dXJlc0luRXh0ZW50ID0gZnVuY3Rpb24gZ2V0RmVhdHVyZXNJbkV4dGVudCAoZXh0ZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuZmVhdHVyZXNSdHJlZV8uZ2V0SW5FeHRlbnQoZXh0ZW50KTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGNsb3Nlc3QgZmVhdHVyZSB0byB0aGUgcHJvdmlkZWQgY29vcmRpbmF0ZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgaXMgbm90IGF2YWlsYWJsZSB3aGVuIHRoZSBzb3VyY2UgaXMgY29uZmlndXJlZCB3aXRoXG4gICAqIGB1c2VTcGF0aWFsSW5kZXhgIHNldCB0byBgZmFsc2VgLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdCk6Ym9vbGVhbj19IG9wdF9maWx0ZXIgRmVhdHVyZSBmaWx0ZXIgZnVuY3Rpb24uXG4gICAqICAgICBUaGUgZmlsdGVyIGZ1bmN0aW9uIHdpbGwgcmVjZWl2ZSBvbmUgYXJndW1lbnQsIHRoZSB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmUgZmVhdHVyZX1cbiAgICogICAgIGFuZCBpdCBzaG91bGQgcmV0dXJuIGEgYm9vbGVhbiB2YWx1ZS4gQnkgZGVmYXVsdCwgbm8gZmlsdGVyaW5nIGlzIG1hZGUuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gQ2xvc2VzdCBmZWF0dXJlLlxuICAgKiBAYXBpXG4gICAqL1xuICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmdldENsb3Nlc3RGZWF0dXJlVG9Db29yZGluYXRlID0gZnVuY3Rpb24gZ2V0Q2xvc2VzdEZlYXR1cmVUb0Nvb3JkaW5hdGUgKGNvb3JkaW5hdGUsIG9wdF9maWx0ZXIpIHtcbiAgICAvLyBGaW5kIHRoZSBjbG9zZXN0IGZlYXR1cmUgdXNpbmcgYnJhbmNoIGFuZCBib3VuZC4gIFdlIHN0YXJ0IHNlYXJjaGluZyBhblxuICAgIC8vIGluZmluaXRlIGV4dGVudCwgYW5kIGZpbmQgdGhlIGRpc3RhbmNlIGZyb20gdGhlIGZpcnN0IGZlYXR1cmUgZm91bmQuICBUaGlzXG4gICAgLy8gYmVjb21lcyB0aGUgY2xvc2VzdCBmZWF0dXJlLiAgV2UgdGhlbiBjb21wdXRlIGEgc21hbGxlciBleHRlbnQgd2hpY2ggYW55XG4gICAgLy8gY2xvc2VyIGZlYXR1cmUgbXVzdCBpbnRlcnNlY3QuICBXZSBjb250aW51ZSBzZWFyY2hpbmcgd2l0aCB0aGlzIHNtYWxsZXJcbiAgICAvLyBleHRlbnQsIHRyeWluZyB0byBmaW5kIGEgY2xvc2VyIGZlYXR1cmUuICBFdmVyeSB0aW1lIHdlIGZpbmQgYSBjbG9zZXJcbiAgICAvLyBmZWF0dXJlLCB3ZSB1cGRhdGUgdGhlIGV4dGVudCBiZWluZyBzZWFyY2hlZCBzbyB0aGF0IGFueSBldmVuIGNsb3NlclxuICAgIC8vIGZlYXR1cmUgbXVzdCBpbnRlcnNlY3QgaXQuICBXZSBjb250aW51ZSB1bnRpbCB3ZSBydW4gb3V0IG9mIGZlYXR1cmVzLlxuICAgIHZhciB4ID0gY29vcmRpbmF0ZVswXTtcbiAgICB2YXIgeSA9IGNvb3JkaW5hdGVbMV07XG4gICAgdmFyIGNsb3Nlc3RGZWF0dXJlID0gbnVsbDtcbiAgICB2YXIgY2xvc2VzdFBvaW50ID0gW05hTiwgTmFOXTtcbiAgICB2YXIgbWluU3F1YXJlZERpc3RhbmNlID0gSW5maW5pdHk7XG4gICAgdmFyIGV4dGVudCA9IFstSW5maW5pdHksIC1JbmZpbml0eSwgSW5maW5pdHksIEluZmluaXR5XTtcbiAgICB2YXIgZmlsdGVyID0gb3B0X2ZpbHRlciA/IG9wdF9maWx0ZXIgOiBUUlVFO1xuICAgIHRoaXMuZmVhdHVyZXNSdHJlZV8uZm9yRWFjaEluRXh0ZW50KGV4dGVudCxcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24oZmVhdHVyZSkge1xuICAgICAgICBpZiAoZmlsdGVyKGZlYXR1cmUpKSB7XG4gICAgICAgICAgdmFyIGdlb21ldHJ5ID0gZmVhdHVyZS5nZXRHZW9tZXRyeSgpO1xuICAgICAgICAgIHZhciBwcmV2aW91c01pblNxdWFyZWREaXN0YW5jZSA9IG1pblNxdWFyZWREaXN0YW5jZTtcbiAgICAgICAgICBtaW5TcXVhcmVkRGlzdGFuY2UgPSBnZW9tZXRyeS5jbG9zZXN0UG9pbnRYWShcbiAgICAgICAgICAgIHgsIHksIGNsb3Nlc3RQb2ludCwgbWluU3F1YXJlZERpc3RhbmNlKTtcbiAgICAgICAgICBpZiAobWluU3F1YXJlZERpc3RhbmNlIDwgcHJldmlvdXNNaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICAgICAgICAgIGNsb3Nlc3RGZWF0dXJlID0gZmVhdHVyZTtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgc25lYWt5LiAgUmVkdWNlIHRoZSBleHRlbnQgdGhhdCBpdCBpcyBjdXJyZW50bHkgYmVpbmdcbiAgICAgICAgICAgIC8vIHNlYXJjaGVkIHdoaWxlIHRoZSBSLVRyZWUgdHJhdmVyc2FsIHVzaW5nIHRoaXMgc2FtZSBleHRlbnQgb2JqZWN0XG4gICAgICAgICAgICAvLyBpcyBzdGlsbCBpbiBwcm9ncmVzcy4gIFRoaXMgaXMgc2FmZSBiZWNhdXNlIHRoZSBuZXcgZXh0ZW50IGlzXG4gICAgICAgICAgICAvLyBzdHJpY3RseSBjb250YWluZWQgYnkgdGhlIG9sZCBleHRlbnQuXG4gICAgICAgICAgICB2YXIgbWluRGlzdGFuY2UgPSBNYXRoLnNxcnQobWluU3F1YXJlZERpc3RhbmNlKTtcbiAgICAgICAgICAgIGV4dGVudFswXSA9IHggLSBtaW5EaXN0YW5jZTtcbiAgICAgICAgICAgIGV4dGVudFsxXSA9IHkgLSBtaW5EaXN0YW5jZTtcbiAgICAgICAgICAgIGV4dGVudFsyXSA9IHggKyBtaW5EaXN0YW5jZTtcbiAgICAgICAgICAgIGV4dGVudFszXSA9IHkgKyBtaW5EaXN0YW5jZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIHJldHVybiBjbG9zZXN0RmVhdHVyZTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGV4dGVudCBvZiB0aGUgZmVhdHVyZXMgY3VycmVudGx5IGluIHRoZSBzb3VyY2UuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBhdmFpbGFibGUgd2hlbiB0aGUgc291cmNlIGlzIGNvbmZpZ3VyZWQgd2l0aFxuICAgKiBgdXNlU3BhdGlhbEluZGV4YCBzZXQgdG8gYGZhbHNlYC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50PX0gb3B0X2V4dGVudCBEZXN0aW5hdGlvbiBleHRlbnQuIElmIHByb3ZpZGVkLCBubyBuZXcgZXh0ZW50XG4gICAqICAgICB3aWxsIGJlIGNyZWF0ZWQuIEluc3RlYWQsIHRoYXQgZXh0ZW50J3MgY29vcmRpbmF0ZXMgd2lsbCBiZSBvdmVyd3JpdHRlbi5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmdldEV4dGVudCA9IGZ1bmN0aW9uIGdldEV4dGVudCAob3B0X2V4dGVudCkge1xuICAgIHJldHVybiB0aGlzLmZlYXR1cmVzUnRyZWVfLmdldEV4dGVudChvcHRfZXh0ZW50KTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBHZXQgYSBmZWF0dXJlIGJ5IGl0cyBpZGVudGlmaWVyICh0aGUgdmFsdWUgcmV0dXJuZWQgYnkgZmVhdHVyZS5nZXRJZCgpKS5cbiAgICogTm90ZSB0aGF0IHRoZSBpbmRleCB0cmVhdHMgc3RyaW5nIGFuZCBudW1lcmljIGlkZW50aWZpZXJzIGFzIHRoZSBzYW1lLiAgU29cbiAgICogYHNvdXJjZS5nZXRGZWF0dXJlQnlJZCgyKWAgd2lsbCByZXR1cm4gYSBmZWF0dXJlIHdpdGggaWQgYCcyJ2Agb3IgYDJgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IGlkIEZlYXR1cmUgaWRlbnRpZmllci5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBUaGUgZmVhdHVyZSAob3IgYG51bGxgIGlmIG5vdCBmb3VuZCkuXG4gICAqIEBhcGlcbiAgICovXG4gIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZ2V0RmVhdHVyZUJ5SWQgPSBmdW5jdGlvbiBnZXRGZWF0dXJlQnlJZCAoaWQpIHtcbiAgICB2YXIgZmVhdHVyZSA9IHRoaXMuaWRJbmRleF9baWQudG9TdHJpbmcoKV07XG4gICAgcmV0dXJuIGZlYXR1cmUgIT09IHVuZGVmaW5lZCA/IGZlYXR1cmUgOiBudWxsO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZm9ybWF0IGFzc29jaWF0ZWQgd2l0aCB0aGlzIHNvdXJjZS5cbiAgICpcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZm9ybWF0L0ZlYXR1cmUuanNcIikuZGVmYXVsdHx1bmRlZmluZWR9IFRoZSBmZWF0dXJlIGZvcm1hdC5cbiAgICogQGFwaVxuICAgKi9cbiAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5nZXRGb3JtYXQgPSBmdW5jdGlvbiBnZXRGb3JtYXQgKCkge1xuICAgIHJldHVybiB0aGlzLmZvcm1hdF87XG4gIH07XG5cblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHNvdXJjZSBjYW4gaGF2ZSBvdmVybGFwcGluZyBnZW9tZXRyaWVzLlxuICAgKi9cbiAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5nZXRPdmVybGFwcyA9IGZ1bmN0aW9uIGdldE92ZXJsYXBzICgpIHtcbiAgICByZXR1cm4gdGhpcy5vdmVybGFwc187XG4gIH07XG5cblxuICAvKipcbiAgICogR2V0IHRoZSB1cmwgYXNzb2NpYXRlZCB3aXRoIHRoaXMgc291cmNlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd8aW1wb3J0KFwiLi4vZmVhdHVyZWxvYWRlci5qc1wiKS5GZWF0dXJlVXJsRnVuY3Rpb258dW5kZWZpbmVkfSBUaGUgdXJsLlxuICAgKiBAYXBpXG4gICAqL1xuICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmdldFVybCA9IGZ1bmN0aW9uIGdldFVybCAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXJsXztcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBFdmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuaGFuZGxlRmVhdHVyZUNoYW5nZV8gPSBmdW5jdGlvbiBoYW5kbGVGZWF0dXJlQ2hhbmdlXyAoZXZlbnQpIHtcbiAgICB2YXIgZmVhdHVyZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSAqLyAoZXZlbnQudGFyZ2V0KTtcbiAgICB2YXIgZmVhdHVyZUtleSA9IGdldFVpZChmZWF0dXJlKTtcbiAgICB2YXIgZ2VvbWV0cnkgPSBmZWF0dXJlLmdldEdlb21ldHJ5KCk7XG4gICAgaWYgKCFnZW9tZXRyeSkge1xuICAgICAgaWYgKCEoZmVhdHVyZUtleSBpbiB0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzXykpIHtcbiAgICAgICAgaWYgKHRoaXMuZmVhdHVyZXNSdHJlZV8pIHtcbiAgICAgICAgICB0aGlzLmZlYXR1cmVzUnRyZWVfLnJlbW92ZShmZWF0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzX1tmZWF0dXJlS2V5XSA9IGZlYXR1cmU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBleHRlbnQgPSBnZW9tZXRyeS5nZXRFeHRlbnQoKTtcbiAgICAgIGlmIChmZWF0dXJlS2V5IGluIHRoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzX1tmZWF0dXJlS2V5XTtcbiAgICAgICAgaWYgKHRoaXMuZmVhdHVyZXNSdHJlZV8pIHtcbiAgICAgICAgICB0aGlzLmZlYXR1cmVzUnRyZWVfLmluc2VydChleHRlbnQsIGZlYXR1cmUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5mZWF0dXJlc1J0cmVlXykge1xuICAgICAgICAgIHRoaXMuZmVhdHVyZXNSdHJlZV8udXBkYXRlKGV4dGVudCwgZmVhdHVyZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGlkID0gZmVhdHVyZS5nZXRJZCgpO1xuICAgIGlmIChpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgc2lkID0gaWQudG9TdHJpbmcoKTtcbiAgICAgIGlmIChmZWF0dXJlS2V5IGluIHRoaXMudW5kZWZJZEluZGV4Xykge1xuICAgICAgICBkZWxldGUgdGhpcy51bmRlZklkSW5kZXhfW2ZlYXR1cmVLZXldO1xuICAgICAgICB0aGlzLmlkSW5kZXhfW3NpZF0gPSBmZWF0dXJlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMuaWRJbmRleF9bc2lkXSAhPT0gZmVhdHVyZSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlRnJvbUlkSW5kZXhfKGZlYXR1cmUpO1xuICAgICAgICAgIHRoaXMuaWRJbmRleF9bc2lkXSA9IGZlYXR1cmU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCEoZmVhdHVyZUtleSBpbiB0aGlzLnVuZGVmSWRJbmRleF8pKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRnJvbUlkSW5kZXhfKGZlYXR1cmUpO1xuICAgICAgICB0aGlzLnVuZGVmSWRJbmRleF9bZmVhdHVyZUtleV0gPSBmZWF0dXJlO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IFZlY3RvclNvdXJjZUV2ZW50KFxuICAgICAgVmVjdG9yRXZlbnRUeXBlLkNIQU5HRUZFQVRVUkUsIGZlYXR1cmUpKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBmZWF0dXJlIGlzIGNvbnRhaW5lZCB3aXRoaW4gdGhlIHNvdXJjZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSGFzIGZlYXR1cmUuXG4gICAqIEBhcGlcbiAgICovXG4gIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuaGFzRmVhdHVyZSA9IGZ1bmN0aW9uIGhhc0ZlYXR1cmUgKGZlYXR1cmUpIHtcbiAgICB2YXIgaWQgPSBmZWF0dXJlLmdldElkKCk7XG4gICAgaWYgKGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBpZCBpbiB0aGlzLmlkSW5kZXhfO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0VWlkKGZlYXR1cmUpIGluIHRoaXMudW5kZWZJZEluZGV4XztcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElzIGVtcHR5LlxuICAgKi9cbiAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gaXNFbXB0eSQxICgpIHtcbiAgICByZXR1cm4gdGhpcy5mZWF0dXJlc1J0cmVlXy5pc0VtcHR5KCkgJiYgaXNFbXB0eSh0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzXyk7XG4gIH07XG5cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqL1xuICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmxvYWRGZWF0dXJlcyA9IGZ1bmN0aW9uIGxvYWRGZWF0dXJlcyAoZXh0ZW50LCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgbG9hZGVkRXh0ZW50c1J0cmVlID0gdGhpcy5sb2FkZWRFeHRlbnRzUnRyZWVfO1xuICAgIHZhciBleHRlbnRzVG9Mb2FkID0gdGhpcy5zdHJhdGVneV8oZXh0ZW50LCByZXNvbHV0aW9uKTtcbiAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcbiAgICB2YXIgbG9vcCA9IGZ1bmN0aW9uICggaSwgaWkgKSB7XG4gICAgICB2YXIgZXh0ZW50VG9Mb2FkID0gZXh0ZW50c1RvTG9hZFtpXTtcbiAgICAgIHZhciBhbHJlYWR5TG9hZGVkID0gbG9hZGVkRXh0ZW50c1J0cmVlLmZvckVhY2hJbkV4dGVudChleHRlbnRUb0xvYWQsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge3tleHRlbnQ6IGltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9fSBvYmplY3QgT2JqZWN0LlxuICAgICAgICAgKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucy5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICAgIHJldHVybiBjb250YWluc0V4dGVudChvYmplY3QuZXh0ZW50LCBleHRlbnRUb0xvYWQpO1xuICAgICAgICB9KTtcbiAgICAgIGlmICghYWxyZWFkeUxvYWRlZCkge1xuICAgICAgICB0aGlzJDEubG9hZGVyXy5jYWxsKHRoaXMkMSwgZXh0ZW50VG9Mb2FkLCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgbG9hZGVkRXh0ZW50c1J0cmVlLmluc2VydChleHRlbnRUb0xvYWQsIHtleHRlbnQ6IGV4dGVudFRvTG9hZC5zbGljZSgpfSk7XG4gICAgICAgIHRoaXMkMS5sb2FkaW5nID0gdGhpcyQxLmxvYWRlcl8gIT09IFZPSUQ7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGV4dGVudHNUb0xvYWQubGVuZ3RoOyBpIDwgaWk7ICsraSkgbG9vcCggaSwgaWkgKTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYW4gZXh0ZW50IGZyb20gdGhlIGxpc3Qgb2YgbG9hZGVkIGV4dGVudHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQGFwaVxuICAgKi9cbiAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5yZW1vdmVMb2FkZWRFeHRlbnQgPSBmdW5jdGlvbiByZW1vdmVMb2FkZWRFeHRlbnQgKGV4dGVudCkge1xuICAgIHZhciBsb2FkZWRFeHRlbnRzUnRyZWUgPSB0aGlzLmxvYWRlZEV4dGVudHNSdHJlZV87XG4gICAgdmFyIG9iajtcbiAgICBsb2FkZWRFeHRlbnRzUnRyZWUuZm9yRWFjaEluRXh0ZW50KGV4dGVudCwgZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICBpZiAoZXF1YWxzKG9iamVjdC5leHRlbnQsIGV4dGVudCkpIHtcbiAgICAgICAgb2JqID0gb2JqZWN0O1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAob2JqKSB7XG4gICAgICBsb2FkZWRFeHRlbnRzUnRyZWUucmVtb3ZlKG9iaik7XG4gICAgfVxuICB9O1xuXG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIHNpbmdsZSBmZWF0dXJlIGZyb20gdGhlIHNvdXJjZS4gIElmIHlvdSB3YW50IHRvIHJlbW92ZSBhbGwgZmVhdHVyZXNcbiAgICogYXQgb25jZSwgdXNlIHRoZSB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J+VmVjdG9yU291cmNlI2NsZWFyICNjbGVhcigpfSBtZXRob2RcbiAgICogaW5zdGVhZC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZSB0byByZW1vdmUuXG4gICAqIEBhcGlcbiAgICovXG4gIFZlY3RvclNvdXJjZS5wcm90b3R5cGUucmVtb3ZlRmVhdHVyZSA9IGZ1bmN0aW9uIHJlbW92ZUZlYXR1cmUgKGZlYXR1cmUpIHtcbiAgICB2YXIgZmVhdHVyZUtleSA9IGdldFVpZChmZWF0dXJlKTtcbiAgICBpZiAoZmVhdHVyZUtleSBpbiB0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzXykge1xuICAgICAgZGVsZXRlIHRoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfW2ZlYXR1cmVLZXldO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5mZWF0dXJlc1J0cmVlXykge1xuICAgICAgICB0aGlzLmZlYXR1cmVzUnRyZWVfLnJlbW92ZShmZWF0dXJlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5yZW1vdmVGZWF0dXJlSW50ZXJuYWwoZmVhdHVyZSk7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH07XG5cblxuICAvKipcbiAgICogUmVtb3ZlIGZlYXR1cmUgd2l0aG91dCBmaXJpbmcgYSBgY2hhbmdlYCBldmVudC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5yZW1vdmVGZWF0dXJlSW50ZXJuYWwgPSBmdW5jdGlvbiByZW1vdmVGZWF0dXJlSW50ZXJuYWwgKGZlYXR1cmUpIHtcbiAgICB2YXIgZmVhdHVyZUtleSA9IGdldFVpZChmZWF0dXJlKTtcbiAgICB0aGlzLmZlYXR1cmVDaGFuZ2VLZXlzX1tmZWF0dXJlS2V5XS5mb3JFYWNoKHVubGlzdGVuQnlLZXkpO1xuICAgIGRlbGV0ZSB0aGlzLmZlYXR1cmVDaGFuZ2VLZXlzX1tmZWF0dXJlS2V5XTtcbiAgICB2YXIgaWQgPSBmZWF0dXJlLmdldElkKCk7XG4gICAgaWYgKGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLmlkSW5kZXhfW2lkLnRvU3RyaW5nKCldO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdGhpcy51bmRlZklkSW5kZXhfW2ZlYXR1cmVLZXldO1xuICAgIH1cbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IFZlY3RvclNvdXJjZUV2ZW50KFxuICAgICAgVmVjdG9yRXZlbnRUeXBlLlJFTU9WRUZFQVRVUkUsIGZlYXR1cmUpKTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSBmZWF0dXJlIGZyb20gdGhlIGlkIGluZGV4LiAgQ2FsbGVkIGludGVybmFsbHkgd2hlbiB0aGUgZmVhdHVyZSBpZFxuICAgKiBtYXkgaGF2ZSBjaGFuZ2VkLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBUaGUgZmVhdHVyZS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gUmVtb3ZlZCB0aGUgZmVhdHVyZSBmcm9tIHRoZSBpbmRleC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIFZlY3RvclNvdXJjZS5wcm90b3R5cGUucmVtb3ZlRnJvbUlkSW5kZXhfID0gZnVuY3Rpb24gcmVtb3ZlRnJvbUlkSW5kZXhfIChmZWF0dXJlKSB7XG4gICAgdmFyIHJlbW92ZWQgPSBmYWxzZTtcbiAgICBmb3IgKHZhciBpZCBpbiB0aGlzLmlkSW5kZXhfKSB7XG4gICAgICBpZiAodGhpcy5pZEluZGV4X1tpZF0gPT09IGZlYXR1cmUpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuaWRJbmRleF9baWRdO1xuICAgICAgICByZW1vdmVkID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZW1vdmVkO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbmV3IGxvYWRlciBvZiB0aGUgc291cmNlLiBUaGUgbmV4dCBsb2FkRmVhdHVyZXMgY2FsbCB3aWxsIHVzZSB0aGVcbiAgICogbmV3IGxvYWRlci5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9mZWF0dXJlbG9hZGVyLmpzXCIpLkZlYXR1cmVMb2FkZXJ9IGxvYWRlciBUaGUgbG9hZGVyIHRvIHNldC5cbiAgICogQGFwaVxuICAgKi9cbiAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5zZXRMb2FkZXIgPSBmdW5jdGlvbiBzZXRMb2FkZXIgKGxvYWRlcikge1xuICAgIHRoaXMubG9hZGVyXyA9IGxvYWRlcjtcbiAgfTtcblxuICByZXR1cm4gVmVjdG9yU291cmNlO1xufShTb3VyY2UpKTtcblxuXG5leHBvcnQgZGVmYXVsdCBWZWN0b3JTb3VyY2U7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZlY3Rvci5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL0V2ZW50VHlwZVxuICovXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAvKipcbiAgICogQGV2ZW50IG1vZHVsZTpvbC9yZW5kZXIvRXZlbnR+UmVuZGVyRXZlbnQjcG9zdGNvbXBvc2VcbiAgICogQGFwaVxuICAgKi9cbiAgUE9TVENPTVBPU0U6ICdwb3N0Y29tcG9zZScsXG4gIC8qKlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL3JlbmRlci9FdmVudH5SZW5kZXJFdmVudCNwcmVjb21wb3NlXG4gICAqIEBhcGlcbiAgICovXG4gIFBSRUNPTVBPU0U6ICdwcmVjb21wb3NlJyxcbiAgLyoqXG4gICAqIEBldmVudCBtb2R1bGU6b2wvcmVuZGVyL0V2ZW50flJlbmRlckV2ZW50I3JlbmRlclxuICAgKiBAYXBpXG4gICAqL1xuICBSRU5ERVI6ICdyZW5kZXInLFxuICAvKipcbiAgICogVHJpZ2dlcmVkIHdoZW4gcmVuZGVyaW5nIGlzIGNvbXBsZXRlLCBpLmUuIGFsbCBzb3VyY2VzIGFuZCB0aWxlcyBoYXZlXG4gICAqIGZpbmlzaGVkIGxvYWRpbmcgZm9yIHRoZSBjdXJyZW50IHZpZXdwb3J0LCBhbmQgYWxsIHRpbGVzIGFyZSBmYWRlZCBpbi5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9yZW5kZXIvRXZlbnR+UmVuZGVyRXZlbnQjcmVuZGVyY29tcGxldGVcbiAgICogQGFwaVxuICAgKi9cbiAgUkVOREVSQ09NUExFVEU6ICdyZW5kZXJjb21wbGV0ZSdcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV2ZW50VHlwZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L2ludGVyc2VjdHNleHRlbnRcbiAqL1xuaW1wb3J0IHtjb250YWluc0V4dGVudCwgY3JlYXRlRW1wdHksIGV4dGVuZEZsYXRDb29yZGluYXRlcywgaW50ZXJzZWN0cywgaW50ZXJzZWN0c1NlZ21lbnR9IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5pbXBvcnQge2xpbmVhclJpbmdDb250YWluc1hZLCBsaW5lYXJSaW5nQ29udGFpbnNFeHRlbnR9IGZyb20gJy4vY29udGFpbnMuanMnO1xuaW1wb3J0IHtmb3JFYWNoIGFzIGZvckVhY2hTZWdtZW50fSBmcm9tICcuL3NlZ21lbnRzLmpzJztcblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIGV4dGVudCBpbnRlcnNlY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RzTGluZVN0cmluZyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGV4dGVudCkge1xuICB2YXIgY29vcmRpbmF0ZXNFeHRlbnQgPSBleHRlbmRGbGF0Q29vcmRpbmF0ZXMoXG4gICAgY3JlYXRlRW1wdHkoKSwgZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKTtcbiAgaWYgKCFpbnRlcnNlY3RzKGV4dGVudCwgY29vcmRpbmF0ZXNFeHRlbnQpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChjb250YWluc0V4dGVudChleHRlbnQsIGNvb3JkaW5hdGVzRXh0ZW50KSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChjb29yZGluYXRlc0V4dGVudFswXSA+PSBleHRlbnRbMF0gJiZcbiAgICAgIGNvb3JkaW5hdGVzRXh0ZW50WzJdIDw9IGV4dGVudFsyXSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChjb29yZGluYXRlc0V4dGVudFsxXSA+PSBleHRlbnRbMV0gJiZcbiAgICAgIGNvb3JkaW5hdGVzRXh0ZW50WzNdIDw9IGV4dGVudFszXSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmb3JFYWNoU2VnbWVudChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHBvaW50MSBTdGFydCBwb2ludC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gcG9pbnQyIEVuZCBwb2ludC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIHNlZ21lbnQgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LFxuICAgICAqICAgICBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbihwb2ludDEsIHBvaW50Mikge1xuICAgICAgcmV0dXJuIGludGVyc2VjdHNTZWdtZW50KGV4dGVudCwgcG9pbnQxLCBwb2ludDIpO1xuICAgIH0pO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgZXh0ZW50IGludGVyc2VjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdHNMaW5lU3RyaW5nQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgZXh0ZW50KSB7XG4gIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGlmIChpbnRlcnNlY3RzTGluZVN0cmluZyhcbiAgICAgIGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzW2ldLCBzdHJpZGUsIGV4dGVudCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBvZmZzZXQgPSBlbmRzW2ldO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIGV4dGVudCBpbnRlcnNlY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RzTGluZWFyUmluZyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGV4dGVudCkge1xuICBpZiAoaW50ZXJzZWN0c0xpbmVTdHJpbmcoXG4gICAgZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBleHRlbnQpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKGxpbmVhclJpbmdDb250YWluc1hZKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgZXh0ZW50WzBdLCBleHRlbnRbMV0pKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKGxpbmVhclJpbmdDb250YWluc1hZKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgZXh0ZW50WzBdLCBleHRlbnRbM10pKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKGxpbmVhclJpbmdDb250YWluc1hZKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgZXh0ZW50WzJdLCBleHRlbnRbMV0pKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKGxpbmVhclJpbmdDb250YWluc1hZKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgZXh0ZW50WzJdLCBleHRlbnRbM10pKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgZXh0ZW50IGludGVyc2VjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdHNMaW5lYXJSaW5nQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgZXh0ZW50KSB7XG4gIGlmICghaW50ZXJzZWN0c0xpbmVhclJpbmcoXG4gICAgZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNbMF0sIHN0cmlkZSwgZXh0ZW50KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoZW5kcy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBmb3IgKHZhciBpID0gMSwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBpZiAobGluZWFyUmluZ0NvbnRhaW5zRXh0ZW50KGZsYXRDb29yZGluYXRlcywgZW5kc1tpIC0gMV0sIGVuZHNbaV0sIHN0cmlkZSwgZXh0ZW50KSkge1xuICAgICAgaWYgKCFpbnRlcnNlY3RzTGluZVN0cmluZyhmbGF0Q29vcmRpbmF0ZXMsIGVuZHNbaSAtIDFdLCBlbmRzW2ldLCBzdHJpZGUsIGV4dGVudCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIGV4dGVudCBpbnRlcnNlY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RzTGluZWFyUmluZ011bHRpQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzLCBzdHJpZGUsIGV4dGVudCkge1xuICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgdmFyIGVuZHMgPSBlbmRzc1tpXTtcbiAgICBpZiAoaW50ZXJzZWN0c0xpbmVhclJpbmdBcnJheShcbiAgICAgIGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIGV4dGVudCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBvZmZzZXQgPSBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcnNlY3RzZXh0ZW50LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvYXJlYVxuICovXG5cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7bnVtYmVyfSBBcmVhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpIHtcbiAgdmFyIHR3aWNlQXJlYSA9IDA7XG4gIHZhciB4MSA9IGZsYXRDb29yZGluYXRlc1tlbmQgLSBzdHJpZGVdO1xuICB2YXIgeTEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlICsgMV07XG4gIGZvciAoOyBvZmZzZXQgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICB2YXIgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICB2YXIgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgdHdpY2VBcmVhICs9IHkxICogeDIgLSB4MSAqIHkyO1xuICAgIHgxID0geDI7XG4gICAgeTEgPSB5MjtcbiAgfVxuICByZXR1cm4gdHdpY2VBcmVhIC8gMjtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEFyZWEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5ncyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlKSB7XG4gIHZhciBhcmVhID0gMDtcbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgdmFyIGVuZCA9IGVuZHNbaV07XG4gICAgYXJlYSArPSBsaW5lYXJSaW5nKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSk7XG4gICAgb2Zmc2V0ID0gZW5kO1xuICB9XG4gIHJldHVybiBhcmVhO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgRW5kc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge251bWJlcn0gQXJlYS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdzcyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc3MsIHN0cmlkZSkge1xuICB2YXIgYXJlYSA9IDA7XG4gIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICB2YXIgZW5kcyA9IGVuZHNzW2ldO1xuICAgIGFyZWEgKz0gbGluZWFyUmluZ3MoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSk7XG4gICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICB9XG4gIHJldHVybiBhcmVhO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcmVhLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yb3RhdGlvbmNvbnN0cmFpbnRcbiAqL1xuaW1wb3J0IHt0b1JhZGlhbnN9IGZyb20gJy4vbWF0aC5qcyc7XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oKG51bWJlcnx1bmRlZmluZWQpLCBudW1iZXIpOiAobnVtYmVyfHVuZGVmaW5lZCl9IFR5cGVcbiAqL1xuXG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBEZWx0YS5cbiAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJvdGF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzYWJsZShyb3RhdGlvbiwgZGVsdGEpIHtcbiAgaWYgKHJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gMDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhIERlbHRhLlxuICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gUm90YXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub25lKHJvdGF0aW9uLCBkZWx0YSkge1xuICBpZiAocm90YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiByb3RhdGlvbiArIGRlbHRhO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIE4uXG4gKiBAcmV0dXJuIHtUeXBlfSBSb3RhdGlvbiBjb25zdHJhaW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU25hcFRvTihuKSB7XG4gIHZhciB0aGV0YSA9IDIgKiBNYXRoLlBJIC8gbjtcbiAgcmV0dXJuIChcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBEZWx0YS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBSb3RhdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbihyb3RhdGlvbiwgZGVsdGEpIHtcbiAgICAgIGlmIChyb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJvdGF0aW9uID0gTWF0aC5mbG9vcigocm90YXRpb24gKyBkZWx0YSkgLyB0aGV0YSArIDAuNSkgKiB0aGV0YTtcbiAgICAgICAgcmV0dXJuIHJvdGF0aW9uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9KTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X3RvbGVyYW5jZSBUb2xlcmFuY2UuXG4gKiBAcmV0dXJuIHtUeXBlfSBSb3RhdGlvbiBjb25zdHJhaW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU25hcFRvWmVybyhvcHRfdG9sZXJhbmNlKSB7XG4gIHZhciB0b2xlcmFuY2UgPSBvcHRfdG9sZXJhbmNlIHx8IHRvUmFkaWFucyg1KTtcbiAgcmV0dXJuIChcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBEZWx0YS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBSb3RhdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbihyb3RhdGlvbiwgZGVsdGEpIHtcbiAgICAgIGlmIChyb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhyb3RhdGlvbiArIGRlbHRhKSA8PSB0b2xlcmFuY2UpIHtcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gcm90YXRpb24gKyBkZWx0YTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9KTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cm90YXRpb25jb25zdHJhaW50LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9GZWF0dXJlXG4gKi9cbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuL2Fzc2VydHMuanMnO1xuaW1wb3J0IHtsaXN0ZW4sIHVubGlzdGVuLCB1bmxpc3RlbkJ5S2V5fSBmcm9tICcuL2V2ZW50cy5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgQmFzZU9iamVjdCwge2dldENoYW5nZUV2ZW50VHlwZX0gZnJvbSAnLi9PYmplY3QuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHt0eXBlb2YgRmVhdHVyZXx0eXBlb2YgaW1wb3J0KFwiLi9yZW5kZXIvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBGZWF0dXJlQ2xhc3NcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtGZWF0dXJlfGltcG9ydChcIi4vcmVuZGVyL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gRmVhdHVyZUxpa2VcbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEEgdmVjdG9yIG9iamVjdCBmb3IgZ2VvZ3JhcGhpYyBmZWF0dXJlcyB3aXRoIGEgZ2VvbWV0cnkgYW5kIG90aGVyXG4gKiBhdHRyaWJ1dGUgcHJvcGVydGllcywgc2ltaWxhciB0byB0aGUgZmVhdHVyZXMgaW4gdmVjdG9yIGZpbGUgZm9ybWF0cyBsaWtlXG4gKiBHZW9KU09OLlxuICpcbiAqIEZlYXR1cmVzIGNhbiBiZSBzdHlsZWQgaW5kaXZpZHVhbGx5IHdpdGggYHNldFN0eWxlYDsgb3RoZXJ3aXNlIHRoZXkgdXNlIHRoZVxuICogc3R5bGUgb2YgdGhlaXIgdmVjdG9yIGxheWVyLlxuICpcbiAqIE5vdGUgdGhhdCBhdHRyaWJ1dGUgcHJvcGVydGllcyBhcmUgc2V0IGFzIHtAbGluayBtb2R1bGU6b2wvT2JqZWN0fSBwcm9wZXJ0aWVzIG9uXG4gKiB0aGUgZmVhdHVyZSBvYmplY3QsIHNvIHRoZXkgYXJlIG9ic2VydmFibGUsIGFuZCBoYXZlIGdldC9zZXQgYWNjZXNzb3JzLlxuICpcbiAqIFR5cGljYWxseSwgYSBmZWF0dXJlIGhhcyBhIHNpbmdsZSBnZW9tZXRyeSBwcm9wZXJ0eS4gWW91IGNhbiBzZXQgdGhlXG4gKiBnZW9tZXRyeSB1c2luZyB0aGUgYHNldEdlb21ldHJ5YCBtZXRob2QgYW5kIGdldCBpdCB3aXRoIGBnZXRHZW9tZXRyeWAuXG4gKiBJdCBpcyBwb3NzaWJsZSB0byBzdG9yZSBtb3JlIHRoYW4gb25lIGdlb21ldHJ5IG9uIGEgZmVhdHVyZSB1c2luZyBhdHRyaWJ1dGVcbiAqIHByb3BlcnRpZXMuIEJ5IGRlZmF1bHQsIHRoZSBnZW9tZXRyeSB1c2VkIGZvciByZW5kZXJpbmcgaXMgaWRlbnRpZmllZCBieVxuICogdGhlIHByb3BlcnR5IG5hbWUgYGdlb21ldHJ5YC4gSWYgeW91IHdhbnQgdG8gdXNlIGFub3RoZXIgZ2VvbWV0cnkgcHJvcGVydHlcbiAqIGZvciByZW5kZXJpbmcsIHVzZSB0aGUgYHNldEdlb21ldHJ5TmFtZWAgbWV0aG9kIHRvIGNoYW5nZSB0aGUgYXR0cmlidXRlXG4gKiBwcm9wZXJ0eSBhc3NvY2lhdGVkIHdpdGggdGhlIGdlb21ldHJ5IGZvciB0aGUgZmVhdHVyZS4gIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKlxuICogaW1wb3J0IEZlYXR1cmUgZnJvbSAnb2wvRmVhdHVyZSc7XG4gKiBpbXBvcnQgUG9seWdvbiBmcm9tICdvbC9nZW9tL1BvbHlnb24nO1xuICogaW1wb3J0IFBvaW50IGZyb20gJ29sL2dlb20vUG9pbnQnO1xuICpcbiAqIHZhciBmZWF0dXJlID0gbmV3IEZlYXR1cmUoe1xuICogICBnZW9tZXRyeTogbmV3IFBvbHlnb24ocG9seUNvb3JkcyksXG4gKiAgIGxhYmVsUG9pbnQ6IG5ldyBQb2ludChsYWJlbENvb3JkcyksXG4gKiAgIG5hbWU6ICdNeSBQb2x5Z29uJ1xuICogfSk7XG4gKlxuICogLy8gZ2V0IHRoZSBwb2x5Z29uIGdlb21ldHJ5XG4gKiB2YXIgcG9seSA9IGZlYXR1cmUuZ2V0R2VvbWV0cnkoKTtcbiAqXG4gKiAvLyBSZW5kZXIgdGhlIGZlYXR1cmUgYXMgYSBwb2ludCB1c2luZyB0aGUgY29vcmRpbmF0ZXMgZnJvbSBsYWJlbFBvaW50XG4gKiBmZWF0dXJlLnNldEdlb21ldHJ5TmFtZSgnbGFiZWxQb2ludCcpO1xuICpcbiAqIC8vIGdldCB0aGUgcG9pbnQgZ2VvbWV0cnlcbiAqIHZhciBwb2ludCA9IGZlYXR1cmUuZ2V0R2VvbWV0cnkoKTtcbiAqIGBgYFxuICpcbiAqIEBhcGlcbiAqL1xudmFyIEZlYXR1cmUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChCYXNlT2JqZWN0KSB7XG4gIGZ1bmN0aW9uIEZlYXR1cmUob3B0X2dlb21ldHJ5T3JQcm9wZXJ0aWVzKSB7XG5cbiAgICBCYXNlT2JqZWN0LmNhbGwodGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8c3RyaW5nfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmlkXyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmdlb21ldHJ5TmFtZV8gPSAnZ2VvbWV0cnknO1xuXG4gICAgLyoqXG4gICAgICogVXNlciBwcm92aWRlZCBzdHlsZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlTGlrZX1cbiAgICAgKi9cbiAgICB0aGlzLnN0eWxlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlRnVuY3Rpb258dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuc3R5bGVGdW5jdGlvbl8gPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5fVxuICAgICAqL1xuICAgIHRoaXMuZ2VvbWV0cnlDaGFuZ2VLZXlfID0gbnVsbDtcblxuICAgIGxpc3RlbihcbiAgICAgIHRoaXMsIGdldENoYW5nZUV2ZW50VHlwZSh0aGlzLmdlb21ldHJ5TmFtZV8pLFxuICAgICAgdGhpcy5oYW5kbGVHZW9tZXRyeUNoYW5nZWRfLCB0aGlzKTtcblxuICAgIGlmIChvcHRfZ2VvbWV0cnlPclByb3BlcnRpZXMpIHtcbiAgICAgIGlmICh0eXBlb2YgLyoqIEB0eXBlIHs/fSAqLyAob3B0X2dlb21ldHJ5T3JQcm9wZXJ0aWVzKS5nZXRTaW1wbGlmaWVkR2VvbWV0cnkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi8gKG9wdF9nZW9tZXRyeU9yUHJvcGVydGllcyk7XG4gICAgICAgIHRoaXMuc2V0R2VvbWV0cnkoZ2VvbWV0cnkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyoqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCAqPn0gKi9cbiAgICAgICAgdmFyIHByb3BlcnRpZXMgPSBvcHRfZ2VvbWV0cnlPclByb3BlcnRpZXM7XG4gICAgICAgIHRoaXMuc2V0UHJvcGVydGllcyhwcm9wZXJ0aWVzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoIEJhc2VPYmplY3QgKSBGZWF0dXJlLl9fcHJvdG9fXyA9IEJhc2VPYmplY3Q7XG4gIEZlYXR1cmUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQmFzZU9iamVjdCAmJiBCYXNlT2JqZWN0LnByb3RvdHlwZSApO1xuICBGZWF0dXJlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEZlYXR1cmU7XG5cbiAgLyoqXG4gICAqIENsb25lIHRoaXMgZmVhdHVyZS4gSWYgdGhlIG9yaWdpbmFsIGZlYXR1cmUgaGFzIGEgZ2VvbWV0cnkgaXRcbiAgICogaXMgYWxzbyBjbG9uZWQuIFRoZSBmZWF0dXJlIGlkIGlzIG5vdCBzZXQgaW4gdGhlIGNsb25lLlxuICAgKiBAcmV0dXJuIHtGZWF0dXJlfSBUaGUgY2xvbmUuXG4gICAqIEBhcGlcbiAgICovXG4gIEZlYXR1cmUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUgKCkge1xuICAgIHZhciBjbG9uZSA9IG5ldyBGZWF0dXJlKHRoaXMuZ2V0UHJvcGVydGllcygpKTtcbiAgICBjbG9uZS5zZXRHZW9tZXRyeU5hbWUodGhpcy5nZXRHZW9tZXRyeU5hbWUoKSk7XG4gICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5nZXRHZW9tZXRyeSgpO1xuICAgIGlmIChnZW9tZXRyeSkge1xuICAgICAgY2xvbmUuc2V0R2VvbWV0cnkoZ2VvbWV0cnkuY2xvbmUoKSk7XG4gICAgfVxuICAgIHZhciBzdHlsZSA9IHRoaXMuZ2V0U3R5bGUoKTtcbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgIGNsb25lLnNldFN0eWxlKHN0eWxlKTtcbiAgICB9XG4gICAgcmV0dXJuIGNsb25lO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGZlYXR1cmUncyBkZWZhdWx0IGdlb21ldHJ5LiAgQSBmZWF0dXJlIG1heSBoYXZlIGFueSBudW1iZXIgb2YgbmFtZWRcbiAgICogZ2VvbWV0cmllcy4gIFRoZSBcImRlZmF1bHRcIiBnZW9tZXRyeSAodGhlIG9uZSB0aGF0IGlzIHJlbmRlcmVkIGJ5IGRlZmF1bHQpIGlzXG4gICAqIHNldCB3aGVuIGNhbGxpbmcge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfkZlYXR1cmUjc2V0R2VvbWV0cnl9LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdHx1bmRlZmluZWR9IFRoZSBkZWZhdWx0IGdlb21ldHJ5IGZvciB0aGUgZmVhdHVyZS5cbiAgICogQGFwaVxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKi9cbiAgRmVhdHVyZS5wcm90b3R5cGUuZ2V0R2VvbWV0cnkgPSBmdW5jdGlvbiBnZXRHZW9tZXRyeSAoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfSAqLyAodGhpcy5nZXQodGhpcy5nZW9tZXRyeU5hbWVfKSlcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGZlYXR1cmUgaWRlbnRpZmllci4gIFRoaXMgaXMgYSBzdGFibGUgaWRlbnRpZmllciBmb3IgdGhlIGZlYXR1cmUgYW5kXG4gICAqIGlzIGVpdGhlciBzZXQgd2hlbiByZWFkaW5nIGRhdGEgZnJvbSBhIHJlbW90ZSBzb3VyY2Ugb3Igc2V0IGV4cGxpY2l0bHkgYnlcbiAgICogY2FsbGluZyB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmV+RmVhdHVyZSNzZXRJZH0uXG4gICAqIEByZXR1cm4ge251bWJlcnxzdHJpbmd8dW5kZWZpbmVkfSBJZC5cbiAgICogQGFwaVxuICAgKi9cbiAgRmVhdHVyZS5wcm90b3R5cGUuZ2V0SWQgPSBmdW5jdGlvbiBnZXRJZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaWRfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG5hbWUgb2YgdGhlIGZlYXR1cmUncyBkZWZhdWx0IGdlb21ldHJ5LiAgQnkgZGVmYXVsdCwgdGhlIGRlZmF1bHRcbiAgICogZ2VvbWV0cnkgaXMgbmFtZWQgYGdlb21ldHJ5YC5cbiAgICogQHJldHVybiB7c3RyaW5nfSBHZXQgdGhlIHByb3BlcnR5IG5hbWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBkZWZhdWx0IGdlb21ldHJ5XG4gICAqICAgICBmb3IgdGhpcyBmZWF0dXJlLlxuICAgKiBAYXBpXG4gICAqL1xuICBGZWF0dXJlLnByb3RvdHlwZS5nZXRHZW9tZXRyeU5hbWUgPSBmdW5jdGlvbiBnZXRHZW9tZXRyeU5hbWUgKCkge1xuICAgIHJldHVybiB0aGlzLmdlb21ldHJ5TmFtZV87XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZmVhdHVyZSdzIHN0eWxlLiBXaWxsIHJldHVybiB3aGF0IHdhcyBwcm92aWRlZCB0byB0aGVcbiAgICoge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfkZlYXR1cmUjc2V0U3R5bGV9IG1ldGhvZC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUxpa2V9IFRoZSBmZWF0dXJlIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBGZWF0dXJlLnByb3RvdHlwZS5nZXRTdHlsZSA9IGZ1bmN0aW9uIGdldFN0eWxlICgpIHtcbiAgICByZXR1cm4gdGhpcy5zdHlsZV87XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZmVhdHVyZSdzIHN0eWxlIGZ1bmN0aW9uLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlRnVuY3Rpb258dW5kZWZpbmVkfSBSZXR1cm4gYSBmdW5jdGlvblxuICAgKiByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgc3R5bGUgb2YgdGhpcyBmZWF0dXJlLlxuICAgKiBAYXBpXG4gICAqL1xuICBGZWF0dXJlLnByb3RvdHlwZS5nZXRTdHlsZUZ1bmN0aW9uID0gZnVuY3Rpb24gZ2V0U3R5bGVGdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3R5bGVGdW5jdGlvbl87XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBGZWF0dXJlLnByb3RvdHlwZS5oYW5kbGVHZW9tZXRyeUNoYW5nZV8gPSBmdW5jdGlvbiBoYW5kbGVHZW9tZXRyeUNoYW5nZV8gKCkge1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgRmVhdHVyZS5wcm90b3R5cGUuaGFuZGxlR2VvbWV0cnlDaGFuZ2VkXyA9IGZ1bmN0aW9uIGhhbmRsZUdlb21ldHJ5Q2hhbmdlZF8gKCkge1xuICAgIGlmICh0aGlzLmdlb21ldHJ5Q2hhbmdlS2V5Xykge1xuICAgICAgdW5saXN0ZW5CeUtleSh0aGlzLmdlb21ldHJ5Q2hhbmdlS2V5Xyk7XG4gICAgICB0aGlzLmdlb21ldHJ5Q2hhbmdlS2V5XyA9IG51bGw7XG4gICAgfVxuICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2V0R2VvbWV0cnkoKTtcbiAgICBpZiAoZ2VvbWV0cnkpIHtcbiAgICAgIHRoaXMuZ2VvbWV0cnlDaGFuZ2VLZXlfID0gbGlzdGVuKGdlb21ldHJ5LFxuICAgICAgICBFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLmhhbmRsZUdlb21ldHJ5Q2hhbmdlXywgdGhpcyk7XG4gICAgfVxuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGRlZmF1bHQgZ2VvbWV0cnkgZm9yIHRoZSBmZWF0dXJlLiAgVGhpcyB3aWxsIHVwZGF0ZSB0aGUgcHJvcGVydHlcbiAgICogd2l0aCB0aGUgbmFtZSByZXR1cm5lZCBieSB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmV+RmVhdHVyZSNnZXRHZW9tZXRyeU5hbWV9LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gZ2VvbWV0cnkgVGhlIG5ldyBnZW9tZXRyeS5cbiAgICogQGFwaVxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKi9cbiAgRmVhdHVyZS5wcm90b3R5cGUuc2V0R2VvbWV0cnkgPSBmdW5jdGlvbiBzZXRHZW9tZXRyeSAoZ2VvbWV0cnkpIHtcbiAgICB0aGlzLnNldCh0aGlzLmdlb21ldHJ5TmFtZV8sIGdlb21ldHJ5KTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IHRoZSBzdHlsZSBmb3IgdGhlIGZlYXR1cmUuICBUaGlzIGNhbiBiZSBhIHNpbmdsZSBzdHlsZSBvYmplY3QsIGFuIGFycmF5XG4gICAqIG9mIHN0eWxlcywgb3IgYSBmdW5jdGlvbiB0aGF0IHRha2VzIGEgcmVzb2x1dGlvbiBhbmQgcmV0dXJucyBhbiBhcnJheSBvZlxuICAgKiBzdHlsZXMuIElmIGl0IGlzIGBudWxsYCB0aGUgZmVhdHVyZSBoYXMgbm8gc3R5bGUgKGEgYG51bGxgIHN0eWxlKS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlTGlrZX0gc3R5bGUgU3R5bGUgZm9yIHRoaXMgZmVhdHVyZS5cbiAgICogQGFwaVxuICAgKiBAZmlyZXMgbW9kdWxlOm9sL2V2ZW50cy9FdmVudH5FdmVudCNldmVudDpjaGFuZ2VcbiAgICovXG4gIEZlYXR1cmUucHJvdG90eXBlLnNldFN0eWxlID0gZnVuY3Rpb24gc2V0U3R5bGUgKHN0eWxlKSB7XG4gICAgdGhpcy5zdHlsZV8gPSBzdHlsZTtcbiAgICB0aGlzLnN0eWxlRnVuY3Rpb25fID0gIXN0eWxlID8gdW5kZWZpbmVkIDogY3JlYXRlU3R5bGVGdW5jdGlvbihzdHlsZSk7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgZmVhdHVyZSBpZC4gIFRoZSBmZWF0dXJlIGlkIGlzIGNvbnNpZGVyZWQgc3RhYmxlIGFuZCBtYXkgYmUgdXNlZCB3aGVuXG4gICAqIHJlcXVlc3RpbmcgZmVhdHVyZXMgb3IgY29tcGFyaW5nIGlkZW50aWZpZXJzIHJldHVybmVkIGZyb20gYSByZW1vdGUgc291cmNlLlxuICAgKiBUaGUgZmVhdHVyZSBpZCBjYW4gYmUgdXNlZCB3aXRoIHRoZVxuICAgKiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J+VmVjdG9yU291cmNlI2dldEZlYXR1cmVCeUlkfSBtZXRob2QuXG4gICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ3x1bmRlZmluZWR9IGlkIFRoZSBmZWF0dXJlIGlkLlxuICAgKiBAYXBpXG4gICAqIEBmaXJlcyBtb2R1bGU6b2wvZXZlbnRzL0V2ZW50fkV2ZW50I2V2ZW50OmNoYW5nZVxuICAgKi9cbiAgRmVhdHVyZS5wcm90b3R5cGUuc2V0SWQgPSBmdW5jdGlvbiBzZXRJZCAoaWQpIHtcbiAgICB0aGlzLmlkXyA9IGlkO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHByb3BlcnR5IG5hbWUgdG8gYmUgdXNlZCB3aGVuIGdldHRpbmcgdGhlIGZlYXR1cmUncyBkZWZhdWx0IGdlb21ldHJ5LlxuICAgKiBXaGVuIGNhbGxpbmcge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfkZlYXR1cmUjZ2V0R2VvbWV0cnl9LCB0aGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5IHdpdGhcbiAgICogdGhpcyBuYW1lIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBwcm9wZXJ0eSBuYW1lIG9mIHRoZSBkZWZhdWx0IGdlb21ldHJ5LlxuICAgKiBAYXBpXG4gICAqL1xuICBGZWF0dXJlLnByb3RvdHlwZS5zZXRHZW9tZXRyeU5hbWUgPSBmdW5jdGlvbiBzZXRHZW9tZXRyeU5hbWUgKG5hbWUpIHtcbiAgICB1bmxpc3RlbihcbiAgICAgIHRoaXMsIGdldENoYW5nZUV2ZW50VHlwZSh0aGlzLmdlb21ldHJ5TmFtZV8pLFxuICAgICAgdGhpcy5oYW5kbGVHZW9tZXRyeUNoYW5nZWRfLCB0aGlzKTtcbiAgICB0aGlzLmdlb21ldHJ5TmFtZV8gPSBuYW1lO1xuICAgIGxpc3RlbihcbiAgICAgIHRoaXMsIGdldENoYW5nZUV2ZW50VHlwZSh0aGlzLmdlb21ldHJ5TmFtZV8pLFxuICAgICAgdGhpcy5oYW5kbGVHZW9tZXRyeUNoYW5nZWRfLCB0aGlzKTtcbiAgICB0aGlzLmhhbmRsZUdlb21ldHJ5Q2hhbmdlZF8oKTtcbiAgfTtcblxuICByZXR1cm4gRmVhdHVyZTtcbn0oQmFzZU9iamVjdCkpO1xuXG5cbi8qKlxuICogQ29udmVydCB0aGUgcHJvdmlkZWQgb2JqZWN0IGludG8gYSBmZWF0dXJlIHN0eWxlIGZ1bmN0aW9uLiAgRnVuY3Rpb25zIHBhc3NlZFxuICogdGhyb3VnaCB1bmNoYW5nZWQuICBBcnJheXMgb2YgU3R5bGUgb3Igc2luZ2xlIHN0eWxlIG9iamVjdHMgd3JhcHBlZFxuICogaW4gYSBuZXcgZmVhdHVyZSBzdHlsZSBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7IWltcG9ydChcIi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVGdW5jdGlvbnwhQXJyYXk8aW1wb3J0KFwiLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0PnwhaW1wb3J0KFwiLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBvYmpcbiAqICAgICBBIGZlYXR1cmUgc3R5bGUgZnVuY3Rpb24sIGEgc2luZ2xlIHN0eWxlLCBvciBhbiBhcnJheSBvZiBzdHlsZXMuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlRnVuY3Rpb259IEEgc3R5bGUgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdHlsZUZ1bmN0aW9uKG9iaikge1xuICBpZiAodHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBvYmo7XG4gIH0gZWxzZSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5PGltcG9ydChcIi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdD59XG4gICAgICovXG4gICAgdmFyIHN0eWxlcztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICBzdHlsZXMgPSBvYmo7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2VydCh0eXBlb2YgLyoqIEB0eXBlIHs/fSAqLyAob2JqKS5nZXRaSW5kZXggPT09ICdmdW5jdGlvbicsXG4gICAgICAgIDQxKTsgLy8gRXhwZWN0ZWQgYW4gYGltcG9ydChcIi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVgIG9yIGFuIGFycmF5IG9mIGBpbXBvcnQoXCIuL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlYFxuICAgICAgdmFyIHN0eWxlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9ICovIChvYmopO1xuICAgICAgc3R5bGVzID0gW3N0eWxlXTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHN0eWxlcztcbiAgICB9O1xuICB9XG59XG5leHBvcnQgZGVmYXVsdCBGZWF0dXJlO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1GZWF0dXJlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zaXplXG4gKi9cblxuXG4vKipcbiAqIEFuIGFycmF5IG9mIG51bWJlcnMgcmVwcmVzZW50aW5nIGEgc2l6ZTogYFt3aWR0aCwgaGVpZ2h0XWAuXG4gKiBAdHlwZWRlZiB7QXJyYXk8bnVtYmVyPn0gU2l6ZVxuICogQGFwaVxuICovXG5cblxuLyoqXG4gKiBSZXR1cm5zIGEgYnVmZmVyZWQgc2l6ZS5cbiAqIEBwYXJhbSB7U2l6ZX0gc2l6ZSBTaXplLlxuICogQHBhcmFtIHtudW1iZXJ9IG51bSBUaGUgYW1vdW50IGJ5IHdoaWNoIHRvIGJ1ZmZlci5cbiAqIEBwYXJhbSB7U2l6ZT19IG9wdF9zaXplIE9wdGlvbmFsIHJldXNhYmxlIHNpemUgYXJyYXkuXG4gKiBAcmV0dXJuIHtTaXplfSBUaGUgYnVmZmVyZWQgc2l6ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ1ZmZlcihzaXplLCBudW0sIG9wdF9zaXplKSB7XG4gIGlmIChvcHRfc2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgb3B0X3NpemUgPSBbMCwgMF07XG4gIH1cbiAgb3B0X3NpemVbMF0gPSBzaXplWzBdICsgMiAqIG51bTtcbiAgb3B0X3NpemVbMV0gPSBzaXplWzFdICsgMiAqIG51bTtcbiAgcmV0dXJuIG9wdF9zaXplO1xufVxuXG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiBhIHNpemUgaGFzIGEgcG9zaXRpdmUgYXJlYS5cbiAqIEBwYXJhbSB7U2l6ZX0gc2l6ZSBUaGUgc2l6ZSB0byB0ZXN0LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHNpemUgaGFzIGEgcG9zaXRpdmUgYXJlYS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0FyZWEoc2l6ZSkge1xuICByZXR1cm4gc2l6ZVswXSA+IDAgJiYgc2l6ZVsxXSA+IDA7XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIGEgc2l6ZSBzY2FsZWQgYnkgYSByYXRpby4gVGhlIHJlc3VsdCB3aWxsIGJlIGFuIGFycmF5IG9mIGludGVnZXJzLlxuICogQHBhcmFtIHtTaXplfSBzaXplIFNpemUuXG4gKiBAcGFyYW0ge251bWJlcn0gcmF0aW8gUmF0aW8uXG4gKiBAcGFyYW0ge1NpemU9fSBvcHRfc2l6ZSBPcHRpb25hbCByZXVzYWJsZSBzaXplIGFycmF5LlxuICogQHJldHVybiB7U2l6ZX0gVGhlIHNjYWxlZCBzaXplLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUoc2l6ZSwgcmF0aW8sIG9wdF9zaXplKSB7XG4gIGlmIChvcHRfc2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgb3B0X3NpemUgPSBbMCwgMF07XG4gIH1cbiAgb3B0X3NpemVbMF0gPSAoc2l6ZVswXSAqIHJhdGlvICsgMC41KSB8IDA7XG4gIG9wdF9zaXplWzFdID0gKHNpemVbMV0gKiByYXRpbyArIDAuNSkgfCAwO1xuICByZXR1cm4gb3B0X3NpemU7XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIGFuIGBTaXplYCBhcnJheSBmb3IgdGhlIHBhc3NlZCBpbiBudW1iZXIgKG1lYW5pbmc6IHNxdWFyZSkgb3JcbiAqIGBTaXplYCBhcnJheS5cbiAqIChtZWFuaW5nOiBub24tc3F1YXJlKSxcbiAqIEBwYXJhbSB7bnVtYmVyfFNpemV9IHNpemUgV2lkdGggYW5kIGhlaWdodC5cbiAqIEBwYXJhbSB7U2l6ZT19IG9wdF9zaXplIE9wdGlvbmFsIHJldXNhYmxlIHNpemUgYXJyYXkuXG4gKiBAcmV0dXJuIHtTaXplfSBTaXplLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9TaXplKHNpemUsIG9wdF9zaXplKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHNpemUpKSB7XG4gICAgcmV0dXJuIHNpemU7XG4gIH0gZWxzZSB7XG4gICAgaWYgKG9wdF9zaXplID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG9wdF9zaXplID0gW3NpemUsIHNpemVdO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRfc2l6ZVswXSA9IG9wdF9zaXplWzFdID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChzaXplKTtcbiAgICB9XG4gICAgcmV0dXJuIG9wdF9zaXplO1xuICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNpemUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0cmluZ1xuICovXG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBOdW1iZXIgdG8gYmUgZm9ybWF0dGVkXG4gKiBAcGFyYW0ge251bWJlcn0gd2lkdGggVGhlIGRlc2lyZWQgd2lkdGhcbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X3ByZWNpc2lvbiBQcmVjaXNpb24gb2YgdGhlIG91dHB1dCBzdHJpbmcgKGkuZS4gbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzKVxuICogQHJldHVybnMge3N0cmluZ30gRm9ybWF0dGVkIHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gcGFkTnVtYmVyKG51bWJlciwgd2lkdGgsIG9wdF9wcmVjaXNpb24pIHtcbiAgdmFyIG51bWJlclN0cmluZyA9IG9wdF9wcmVjaXNpb24gIT09IHVuZGVmaW5lZCA/IG51bWJlci50b0ZpeGVkKG9wdF9wcmVjaXNpb24pIDogJycgKyBudW1iZXI7XG4gIHZhciBkZWNpbWFsID0gbnVtYmVyU3RyaW5nLmluZGV4T2YoJy4nKTtcbiAgZGVjaW1hbCA9IGRlY2ltYWwgPT09IC0xID8gbnVtYmVyU3RyaW5nLmxlbmd0aCA6IGRlY2ltYWw7XG4gIHJldHVybiBkZWNpbWFsID4gd2lkdGggPyBudW1iZXJTdHJpbmcgOiBuZXcgQXJyYXkoMSArIHdpZHRoIC0gZGVjaW1hbCkuam9pbignMCcpICsgbnVtYmVyU3RyaW5nO1xufVxuXG5cbi8qKlxuICogQWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9vbWljaGVsc2VuL2NvbXBhcmUtdmVyc2lvbnMvYmxvYi9tYXN0ZXIvaW5kZXguanNcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gdjEgRmlyc3QgdmVyc2lvblxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSB2MiBTZWNvbmQgdmVyc2lvblxuICogQHJldHVybnMge251bWJlcn0gVmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVWZXJzaW9ucyh2MSwgdjIpIHtcbiAgdmFyIHMxID0gKCcnICsgdjEpLnNwbGl0KCcuJyk7XG4gIHZhciBzMiA9ICgnJyArIHYyKS5zcGxpdCgnLicpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgTWF0aC5tYXgoczEubGVuZ3RoLCBzMi5sZW5ndGgpOyBpKyspIHtcbiAgICB2YXIgbjEgPSBwYXJzZUludChzMVtpXSB8fCAnMCcsIDEwKTtcbiAgICB2YXIgbjIgPSBwYXJzZUludChzMltpXSB8fCAnMCcsIDEwKTtcblxuICAgIGlmIChuMSA+IG4yKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgaWYgKG4yID4gbjEpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RyaW5nLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHJ1Y3RzL1JCdXNoXG4gKi9cbmltcG9ydCB7Z2V0VWlkfSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCByYnVzaCBmcm9tICdyYnVzaCc7XG5pbXBvcnQge2NyZWF0ZU9yVXBkYXRlLCBlcXVhbHN9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQge2lzRW1wdHl9IGZyb20gJy4uL29iai5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRW50cnlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5YXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWluWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heFhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhZXG4gKiBAcHJvcGVydHkge09iamVjdH0gW3ZhbHVlXVxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogV3JhcHBlciBhcm91bmQgdGhlIFJCdXNoIGJ5IFZsYWRpbWlyIEFnYWZvbmtpbi5cbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbW91cm5lci9yYnVzaC5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICovXG52YXIgUkJ1c2ggPSBmdW5jdGlvbiBSQnVzaChvcHRfbWF4RW50cmllcykge1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5yYnVzaF8gPSByYnVzaChvcHRfbWF4RW50cmllcywgdW5kZWZpbmVkKTtcblxuICAvKipcbiAgICogQSBtYXBwaW5nIGJldHdlZW4gdGhlIG9iamVjdHMgYWRkZWQgdG8gdGhpcyByYnVzaCB3cmFwcGVyXG4gICAqIGFuZCB0aGUgb2JqZWN0cyB0aGF0IGFyZSBhY3R1YWxseSBhZGRlZCB0byB0aGUgaW50ZXJuYWwgcmJ1c2guXG4gICAqIEBwcml2YXRlXG4gICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBFbnRyeT59XG4gICAqL1xuICB0aGlzLml0ZW1zXyA9IHt9O1xuXG59O1xuXG4vKipcbiAqIEluc2VydCBhIHZhbHVlIGludG8gdGhlIFJCdXNoLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtUfSB2YWx1ZSBWYWx1ZS5cbiAqL1xuUkJ1c2gucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIGluc2VydCAoZXh0ZW50LCB2YWx1ZSkge1xuICAvKiogQHR5cGUge0VudHJ5fSAqL1xuICB2YXIgaXRlbSA9IHtcbiAgICBtaW5YOiBleHRlbnRbMF0sXG4gICAgbWluWTogZXh0ZW50WzFdLFxuICAgIG1heFg6IGV4dGVudFsyXSxcbiAgICBtYXhZOiBleHRlbnRbM10sXG4gICAgdmFsdWU6IHZhbHVlXG4gIH07XG5cbiAgdGhpcy5yYnVzaF8uaW5zZXJ0KGl0ZW0pO1xuICB0aGlzLml0ZW1zX1tnZXRVaWQodmFsdWUpXSA9IGl0ZW07XG59O1xuXG5cbi8qKlxuICogQnVsay1pbnNlcnQgdmFsdWVzIGludG8gdGhlIFJCdXNoLlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50Pn0gZXh0ZW50cyBFeHRlbnRzLlxuICogQHBhcmFtIHtBcnJheTxUPn0gdmFsdWVzIFZhbHVlcy5cbiAqL1xuUkJ1c2gucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiBsb2FkIChleHRlbnRzLCB2YWx1ZXMpIHtcbiAgdmFyIGl0ZW1zID0gbmV3IEFycmF5KHZhbHVlcy5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMCwgbCA9IHZhbHVlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICB2YXIgZXh0ZW50ID0gZXh0ZW50c1tpXTtcbiAgICB2YXIgdmFsdWUgPSB2YWx1ZXNbaV07XG5cbiAgICAvKiogQHR5cGUge0VudHJ5fSAqL1xuICAgIHZhciBpdGVtID0ge1xuICAgICAgbWluWDogZXh0ZW50WzBdLFxuICAgICAgbWluWTogZXh0ZW50WzFdLFxuICAgICAgbWF4WDogZXh0ZW50WzJdLFxuICAgICAgbWF4WTogZXh0ZW50WzNdLFxuICAgICAgdmFsdWU6IHZhbHVlXG4gICAgfTtcbiAgICBpdGVtc1tpXSA9IGl0ZW07XG4gICAgdGhpcy5pdGVtc19bZ2V0VWlkKHZhbHVlKV0gPSBpdGVtO1xuICB9XG4gIHRoaXMucmJ1c2hfLmxvYWQoaXRlbXMpO1xufTtcblxuXG4vKipcbiAqIFJlbW92ZSBhIHZhbHVlIGZyb20gdGhlIFJCdXNoLlxuICogQHBhcmFtIHtUfSB2YWx1ZSBWYWx1ZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFJlbW92ZWQuXG4gKi9cblJCdXNoLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUgKHZhbHVlKSB7XG4gIHZhciB1aWQgPSBnZXRVaWQodmFsdWUpO1xuXG4gIC8vIGdldCB0aGUgb2JqZWN0IGluIHdoaWNoIHRoZSB2YWx1ZSB3YXMgd3JhcHBlZCB3aGVuIGFkZGluZyB0byB0aGVcbiAgLy8gaW50ZXJuYWwgcmJ1c2guIHRoZW4gdXNlIHRoYXQgb2JqZWN0IHRvIGRvIHRoZSByZW1vdmFsLlxuICB2YXIgaXRlbSA9IHRoaXMuaXRlbXNfW3VpZF07XG4gIGRlbGV0ZSB0aGlzLml0ZW1zX1t1aWRdO1xuICByZXR1cm4gdGhpcy5yYnVzaF8ucmVtb3ZlKGl0ZW0pICE9PSBudWxsO1xufTtcblxuXG4vKipcbiAqIFVwZGF0ZSB0aGUgZXh0ZW50IG9mIGEgdmFsdWUgaW4gdGhlIFJCdXNoLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtUfSB2YWx1ZSBWYWx1ZS5cbiAqL1xuUkJ1c2gucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoZXh0ZW50LCB2YWx1ZSkge1xuICB2YXIgaXRlbSA9IHRoaXMuaXRlbXNfW2dldFVpZCh2YWx1ZSldO1xuICB2YXIgYmJveCA9IFtpdGVtLm1pblgsIGl0ZW0ubWluWSwgaXRlbS5tYXhYLCBpdGVtLm1heFldO1xuICBpZiAoIWVxdWFscyhiYm94LCBleHRlbnQpKSB7XG4gICAgdGhpcy5yZW1vdmUodmFsdWUpO1xuICAgIHRoaXMuaW5zZXJ0KGV4dGVudCwgdmFsdWUpO1xuICB9XG59O1xuXG5cbi8qKlxuICogUmV0dXJuIGFsbCB2YWx1ZXMgaW4gdGhlIFJCdXNoLlxuICogQHJldHVybiB7QXJyYXk8VD59IEFsbC5cbiAqL1xuUkJ1c2gucHJvdG90eXBlLmdldEFsbCA9IGZ1bmN0aW9uIGdldEFsbCAoKSB7XG4gIHZhciBpdGVtcyA9IHRoaXMucmJ1c2hfLmFsbCgpO1xuICByZXR1cm4gaXRlbXMubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbS52YWx1ZTtcbiAgfSk7XG59O1xuXG5cbi8qKlxuICogUmV0dXJuIGFsbCB2YWx1ZXMgaW4gdGhlIGdpdmVuIGV4dGVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge0FycmF5PFQ+fSBBbGwgaW4gZXh0ZW50LlxuICovXG5SQnVzaC5wcm90b3R5cGUuZ2V0SW5FeHRlbnQgPSBmdW5jdGlvbiBnZXRJbkV4dGVudCAoZXh0ZW50KSB7XG4gIC8qKiBAdHlwZSB7RW50cnl9ICovXG4gIHZhciBiYm94ID0ge1xuICAgIG1pblg6IGV4dGVudFswXSxcbiAgICBtaW5ZOiBleHRlbnRbMV0sXG4gICAgbWF4WDogZXh0ZW50WzJdLFxuICAgIG1heFk6IGV4dGVudFszXVxuICB9O1xuICB2YXIgaXRlbXMgPSB0aGlzLnJidXNoXy5zZWFyY2goYmJveCk7XG4gIHJldHVybiBpdGVtcy5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgIHJldHVybiBpdGVtLnZhbHVlO1xuICB9KTtcbn07XG5cblxuLyoqXG4gKiBDYWxscyBhIGNhbGxiYWNrIGZ1bmN0aW9uIHdpdGggZWFjaCB2YWx1ZSBpbiB0aGUgdHJlZS5cbiAqIElmIHRoZSBjYWxsYmFjayByZXR1cm5zIGEgdHJ1dGh5IHZhbHVlLCB0aGlzIHZhbHVlIGlzIHJldHVybmVkIHdpdGhvdXRcbiAqIGNoZWNraW5nIHRoZSByZXN0IG9mIHRoZSB0cmVlLlxuICogQHBhcmFtIHtmdW5jdGlvbih0aGlzOiBTLCBUKTogKn0gY2FsbGJhY2sgQ2FsbGJhY2suXG4gKiBAcGFyYW0ge1M9fSBvcHRfdGhpcyBUaGUgb2JqZWN0IHRvIHVzZSBhcyBgdGhpc2AgaW4gYGNhbGxiYWNrYC5cbiAqIEByZXR1cm4geyp9IENhbGxiYWNrIHJldHVybiB2YWx1ZS5cbiAqIEB0ZW1wbGF0ZSBTXG4gKi9cblJCdXNoLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gZm9yRWFjaCAoY2FsbGJhY2ssIG9wdF90aGlzKSB7XG4gIHJldHVybiB0aGlzLmZvckVhY2hfKHRoaXMuZ2V0QWxsKCksIGNhbGxiYWNrLCBvcHRfdGhpcyk7XG59O1xuXG5cbi8qKlxuICogQ2FsbHMgYSBjYWxsYmFjayBmdW5jdGlvbiB3aXRoIGVhY2ggdmFsdWUgaW4gdGhlIHByb3ZpZGVkIGV4dGVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczogUywgVCk6ICp9IGNhbGxiYWNrIENhbGxiYWNrLlxuICogQHBhcmFtIHtTPX0gb3B0X3RoaXMgVGhlIG9iamVjdCB0byB1c2UgYXMgYHRoaXNgIGluIGBjYWxsYmFja2AuXG4gKiBAcmV0dXJuIHsqfSBDYWxsYmFjayByZXR1cm4gdmFsdWUuXG4gKiBAdGVtcGxhdGUgU1xuICovXG5SQnVzaC5wcm90b3R5cGUuZm9yRWFjaEluRXh0ZW50ID0gZnVuY3Rpb24gZm9yRWFjaEluRXh0ZW50IChleHRlbnQsIGNhbGxiYWNrLCBvcHRfdGhpcykge1xuICByZXR1cm4gdGhpcy5mb3JFYWNoXyh0aGlzLmdldEluRXh0ZW50KGV4dGVudCksIGNhbGxiYWNrLCBvcHRfdGhpcyk7XG59O1xuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxUPn0gdmFsdWVzIFZhbHVlcy5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczogUywgVCk6ICp9IGNhbGxiYWNrIENhbGxiYWNrLlxuICogQHBhcmFtIHtTPX0gb3B0X3RoaXMgVGhlIG9iamVjdCB0byB1c2UgYXMgYHRoaXNgIGluIGBjYWxsYmFja2AuXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybiB7Kn0gQ2FsbGJhY2sgcmV0dXJuIHZhbHVlLlxuICogQHRlbXBsYXRlIFNcbiAqL1xuUkJ1c2gucHJvdG90eXBlLmZvckVhY2hfID0gZnVuY3Rpb24gZm9yRWFjaF8gKHZhbHVlcywgY2FsbGJhY2ssIG9wdF90aGlzKSB7XG4gIHZhciByZXN1bHQ7XG4gIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIHJlc3VsdCA9IGNhbGxiYWNrLmNhbGwob3B0X3RoaXMsIHZhbHVlc1tpXSk7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblxuLyoqXG4gKiBAcmV0dXJuIHtib29sZWFufSBJcyBlbXB0eS5cbiAqL1xuUkJ1c2gucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiBpc0VtcHR5JDEgKCkge1xuICByZXR1cm4gaXNFbXB0eSh0aGlzLml0ZW1zXyk7XG59O1xuXG5cbi8qKlxuICogUmVtb3ZlIGFsbCB2YWx1ZXMgZnJvbSB0aGUgUkJ1c2guXG4gKi9cblJCdXNoLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpIHtcbiAgdGhpcy5yYnVzaF8uY2xlYXIoKTtcbiAgdGhpcy5pdGVtc18gPSB7fTtcbn07XG5cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnQ9fSBvcHRfZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IEV4dGVudC5cbiAqL1xuUkJ1c2gucHJvdG90eXBlLmdldEV4dGVudCA9IGZ1bmN0aW9uIGdldEV4dGVudCAob3B0X2V4dGVudCkge1xuICB2YXIgZGF0YSA9IHRoaXMucmJ1c2hfLnRvSlNPTigpO1xuICByZXR1cm4gY3JlYXRlT3JVcGRhdGUoZGF0YS5taW5YLCBkYXRhLm1pblksIGRhdGEubWF4WCwgZGF0YS5tYXhZLCBvcHRfZXh0ZW50KTtcbn07XG5cblxuLyoqXG4gKiBAcGFyYW0ge1JCdXNofSByYnVzaCBSLVRyZWUuXG4gKi9cblJCdXNoLnByb3RvdHlwZS5jb25jYXQgPSBmdW5jdGlvbiBjb25jYXQgKHJidXNoKSB7XG4gIHRoaXMucmJ1c2hfLmxvYWQocmJ1c2gucmJ1c2hfLmFsbCgpKTtcbiAgZm9yICh2YXIgaSBpbiByYnVzaC5pdGVtc18pIHtcbiAgICB0aGlzLml0ZW1zX1tpXSA9IHJidXNoLml0ZW1zX1tpXTtcbiAgfVxufTtcblxuXG5leHBvcnQgZGVmYXVsdCBSQnVzaDtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UkJ1c2guanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9WZWN0b3JFdmVudFR5cGVcbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB3aGVuIGEgZmVhdHVyZSBpcyBhZGRlZCB0byB0aGUgc291cmNlLlxuICAgKiBAZXZlbnQgb2wvc291cmNlL1ZlY3Rvci5WZWN0b3JTb3VyY2VFdmVudCNhZGRmZWF0dXJlXG4gICAqIEBhcGlcbiAgICovXG4gIEFEREZFQVRVUkU6ICdhZGRmZWF0dXJlJyxcblxuICAvKipcbiAgICogVHJpZ2dlcmVkIHdoZW4gYSBmZWF0dXJlIGlzIHVwZGF0ZWQuXG4gICAqIEBldmVudCBvbC9zb3VyY2UvVmVjdG9yLlZlY3RvclNvdXJjZUV2ZW50I2NoYW5nZWZlYXR1cmVcbiAgICogQGFwaVxuICAgKi9cbiAgQ0hBTkdFRkVBVFVSRTogJ2NoYW5nZWZlYXR1cmUnLFxuXG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgd2hlbiB0aGUgY2xlYXIgbWV0aG9kIGlzIGNhbGxlZCBvbiB0aGUgc291cmNlLlxuICAgKiBAZXZlbnQgb2wvc291cmNlL1ZlY3Rvci5WZWN0b3JTb3VyY2VFdmVudCNjbGVhclxuICAgKiBAYXBpXG4gICAqL1xuICBDTEVBUjogJ2NsZWFyJyxcblxuICAvKipcbiAgICogVHJpZ2dlcmVkIHdoZW4gYSBmZWF0dXJlIGlzIHJlbW92ZWQgZnJvbSB0aGUgc291cmNlLlxuICAgKiBTZWUge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yI2NsZWFyIHNvdXJjZS5jbGVhcigpfSBmb3IgZXhjZXB0aW9ucy5cbiAgICogQGV2ZW50IG9sL3NvdXJjZS9WZWN0b3IuVmVjdG9yU291cmNlRXZlbnQjcmVtb3ZlZmVhdHVyZVxuICAgKiBAYXBpXG4gICAqL1xuICBSRU1PVkVGRUFUVVJFOiAncmVtb3ZlZmVhdHVyZSdcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZlY3RvckV2ZW50VHlwZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1NvdXJjZVxuICovXG5pbXBvcnQge2Fic3RyYWN0fSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCBCYXNlT2JqZWN0IGZyb20gJy4uL09iamVjdC5qcyc7XG5pbXBvcnQge2dldCBhcyBnZXRQcm9qZWN0aW9ufSBmcm9tICcuLi9wcm9qLmpzJztcbmltcG9ydCBTb3VyY2VTdGF0ZSBmcm9tICcuL1N0YXRlLmpzJztcblxuXG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgc3RyaW5nIG9yIGFuIGFycmF5IG9mIHN0cmluZ3MgcmVwcmVzZW50aW5nIHNvdXJjZVxuICogYXR0cmlidXRpb25zLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZSk6IChzdHJpbmd8QXJyYXk8c3RyaW5nPil9IEF0dHJpYnV0aW9uXG4gKi9cblxuXG4vKipcbiAqIEEgdHlwZSB0aGF0IGNhbiBiZSB1c2VkIHRvIHByb3ZpZGUgYXR0cmlidXRpb24gaW5mb3JtYXRpb24gZm9yIGRhdGEgc291cmNlcy5cbiAqXG4gKiBJdCByZXByZXNlbnRzIGVpdGhlclxuICogKiBhIHNpbXBsZSBzdHJpbmcgKGUuZy4gYCfCqSBBY21lIEluYy4nYClcbiAqICogYW4gYXJyYXkgb2Ygc2ltcGxlIHN0cmluZ3MgKGUuZy4gYFsnwqkgQWNtZSBJbmMuJywgJ8KpIEJhY21lIEluYy4nXWApXG4gKiAqIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgc3RyaW5nIG9yIGFycmF5IG9mIHN0cmluZ3MgKGB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9Tb3VyY2V+QXR0cmlidXRpb259YClcbiAqXG4gKiBAdHlwZWRlZiB7c3RyaW5nfEFycmF5PHN0cmluZz58QXR0cmlidXRpb259IEF0dHJpYnV0aW9uTGlrZVxuICovXG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge0F0dHJpYnV0aW9uTGlrZX0gW2F0dHJpYnV0aW9uc11cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F0dHJpYnV0aW9uc0NvbGxhcHNpYmxlPXRydWVdIEF0dHJpYnV0aW9ucyBhcmUgY29sbGFwc2libGUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IHByb2plY3Rpb25cbiAqIEBwcm9wZXJ0eSB7U291cmNlU3RhdGV9IFtzdGF0ZT0ncmVhZHknXVxuICogQHByb3BlcnR5IHtib29sZWFufSBbd3JhcFg9ZmFsc2VdXG4gKi9cblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3M7IG5vcm1hbGx5IG9ubHkgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlcyBhbmQgbm90XG4gKiBpbnN0YW50aWF0ZWQgaW4gYXBwcy5cbiAqIEJhc2UgY2xhc3MgZm9yIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXJ+TGF5ZXJ9IHNvdXJjZXMuXG4gKlxuICogQSBnZW5lcmljIGBjaGFuZ2VgIGV2ZW50IGlzIHRyaWdnZXJlZCB3aGVuIHRoZSBzdGF0ZSBvZiB0aGUgc291cmNlIGNoYW5nZXMuXG4gKiBAYWJzdHJhY3RcbiAqIEBhcGlcbiAqL1xudmFyIFNvdXJjZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEJhc2VPYmplY3QpIHtcbiAgZnVuY3Rpb24gU291cmNlKG9wdGlvbnMpIHtcblxuICAgIEJhc2VPYmplY3QuY2FsbCh0aGlzKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMucHJvamVjdGlvbl8gPSBnZXRQcm9qZWN0aW9uKG9wdGlvbnMucHJvamVjdGlvbik7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/QXR0cmlidXRpb259XG4gICAgICovXG4gICAgdGhpcy5hdHRyaWJ1dGlvbnNfID0gYWRhcHRBdHRyaWJ1dGlvbnMob3B0aW9ucy5hdHRyaWJ1dGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlXyA9IG9wdGlvbnMuYXR0cmlidXRpb25zQ29sbGFwc2libGUgIT09IHVuZGVmaW5lZCA/XG4gICAgICBvcHRpb25zLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlIDogdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgc291cmNlIGlzIGN1cnJlbnRseSBsb2FkaW5nIGRhdGEuIFNvdXJjZXMgdGhhdCBkZWZlciBsb2FkaW5nIHRvIHRoZVxuICAgICAqIG1hcCdzIHRpbGUgcXVldWUgbmV2ZXIgc2V0IHRoaXMgdG8gYHRydWVgLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7U291cmNlU3RhdGV9XG4gICAgICovXG4gICAgdGhpcy5zdGF0ZV8gPSBvcHRpb25zLnN0YXRlICE9PSB1bmRlZmluZWQgP1xuICAgICAgb3B0aW9ucy5zdGF0ZSA6IFNvdXJjZVN0YXRlLlJFQURZO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLndyYXBYXyA9IG9wdGlvbnMud3JhcFggIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMud3JhcFggOiBmYWxzZTtcblxuICB9XG5cbiAgaWYgKCBCYXNlT2JqZWN0ICkgU291cmNlLl9fcHJvdG9fXyA9IEJhc2VPYmplY3Q7XG4gIFNvdXJjZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBCYXNlT2JqZWN0ICYmIEJhc2VPYmplY3QucHJvdG90eXBlICk7XG4gIFNvdXJjZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTb3VyY2U7XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYXR0cmlidXRpb24gZnVuY3Rpb24gZm9yIHRoZSBzb3VyY2UuXG4gICAqIEByZXR1cm4gez9BdHRyaWJ1dGlvbn0gQXR0cmlidXRpb24gZnVuY3Rpb24uXG4gICAqL1xuICBTb3VyY2UucHJvdG90eXBlLmdldEF0dHJpYnV0aW9ucyA9IGZ1bmN0aW9uIGdldEF0dHJpYnV0aW9ucyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXR0cmlidXRpb25zXztcbiAgfTtcblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gQWF0dHJpYnV0aW9ucyBhcmUgY29sbGFwc2libGUuXG4gICAqL1xuICBTb3VyY2UucHJvdG90eXBlLmdldEF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlID0gZnVuY3Rpb24gZ2V0QXR0cmlidXRpb25zQ29sbGFwc2libGUgKCkge1xuICAgIHJldHVybiB0aGlzLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlXztcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSBwcm9qZWN0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBQcm9qZWN0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBTb3VyY2UucHJvdG90eXBlLmdldFByb2plY3Rpb24gPSBmdW5jdGlvbiBnZXRQcm9qZWN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9qZWN0aW9uXztcbiAgfTtcblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj58dW5kZWZpbmVkfSBSZXNvbHV0aW9ucy5cbiAgICovXG4gIFNvdXJjZS5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbnMgPSBmdW5jdGlvbiBnZXRSZXNvbHV0aW9ucyAoKSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc3RhdGUgb2YgdGhlIHNvdXJjZSwgc2VlIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1N0YXRlflN0YXRlfSBmb3IgcG9zc2libGUgc3RhdGVzLlxuICAgKiBAcmV0dXJuIHtTb3VyY2VTdGF0ZX0gU3RhdGUuXG4gICAqIEBhcGlcbiAgICovXG4gIFNvdXJjZS5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbiBnZXRTdGF0ZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGVfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufHVuZGVmaW5lZH0gV3JhcCBYLlxuICAgKi9cbiAgU291cmNlLnByb3RvdHlwZS5nZXRXcmFwWCA9IGZ1bmN0aW9uIGdldFdyYXBYICgpIHtcbiAgICByZXR1cm4gdGhpcy53cmFwWF87XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlZnJlc2hlcyB0aGUgc291cmNlIGFuZCBmaW5hbGx5IGRpc3BhdGNoZXMgYSAnY2hhbmdlJyBldmVudC5cbiAgICogQGFwaVxuICAgKi9cbiAgU291cmNlLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24gcmVmcmVzaCAoKSB7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgYXR0cmlidXRpb25zIG9mIHRoZSBzb3VyY2UuXG4gICAqIEBwYXJhbSB7QXR0cmlidXRpb25MaWtlfHVuZGVmaW5lZH0gYXR0cmlidXRpb25zIEF0dHJpYnV0aW9ucy5cbiAgICogICAgIENhbiBiZSBwYXNzZWQgYXMgYHN0cmluZ2AsIGBBcnJheTxzdHJpbmc+YCwgYHtAbGluayBtb2R1bGU6b2wvc291cmNlL1NvdXJjZX5BdHRyaWJ1dGlvbn1gLFxuICAgKiAgICAgb3IgYHVuZGVmaW5lZGAuXG4gICAqIEBhcGlcbiAgICovXG4gIFNvdXJjZS5wcm90b3R5cGUuc2V0QXR0cmlidXRpb25zID0gZnVuY3Rpb24gc2V0QXR0cmlidXRpb25zIChhdHRyaWJ1dGlvbnMpIHtcbiAgICB0aGlzLmF0dHJpYnV0aW9uc18gPSBhZGFwdEF0dHJpYnV0aW9ucyhhdHRyaWJ1dGlvbnMpO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHN0YXRlIG9mIHRoZSBzb3VyY2UuXG4gICAqIEBwYXJhbSB7U291cmNlU3RhdGV9IHN0YXRlIFN0YXRlLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBTb3VyY2UucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gc2V0U3RhdGUgKHN0YXRlKSB7XG4gICAgdGhpcy5zdGF0ZV8gPSBzdGF0ZTtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfTtcblxuICByZXR1cm4gU291cmNlO1xufShCYXNlT2JqZWN0KSk7XG5cblxuLyoqXG4gKiBUdXJucyB0aGUgYXR0cmlidXRpb25zIG9wdGlvbiBpbnRvIGFuIGF0dHJpYnV0aW9ucyBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7QXR0cmlidXRpb25MaWtlfHVuZGVmaW5lZH0gYXR0cmlidXRpb25MaWtlIFRoZSBhdHRyaWJ1dGlvbiBvcHRpb24uXG4gKiBAcmV0dXJuIHs/QXR0cmlidXRpb259IEFuIGF0dHJpYnV0aW9uIGZ1bmN0aW9uIChvciBudWxsKS5cbiAqL1xuZnVuY3Rpb24gYWRhcHRBdHRyaWJ1dGlvbnMoYXR0cmlidXRpb25MaWtlKSB7XG4gIGlmICghYXR0cmlidXRpb25MaWtlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoYXR0cmlidXRpb25MaWtlKSkge1xuICAgIHJldHVybiBmdW5jdGlvbihmcmFtZVN0YXRlKSB7XG4gICAgICByZXR1cm4gYXR0cmlidXRpb25MaWtlO1xuICAgIH07XG4gIH1cblxuICBpZiAodHlwZW9mIGF0dHJpYnV0aW9uTGlrZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBhdHRyaWJ1dGlvbkxpa2U7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24oZnJhbWVTdGF0ZSkge1xuICAgIHJldHVybiBbYXR0cmlidXRpb25MaWtlXTtcbiAgfTtcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBTb3VyY2U7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNvdXJjZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvbGF5ZXIvUHJvcGVydHlcbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgT1BBQ0lUWTogJ29wYWNpdHknLFxuICBWSVNJQkxFOiAndmlzaWJsZScsXG4gIEVYVEVOVDogJ2V4dGVudCcsXG4gIFpfSU5ERVg6ICd6SW5kZXgnLFxuICBNQVhfUkVTT0xVVElPTjogJ21heFJlc29sdXRpb24nLFxuICBNSU5fUkVTT0xVVElPTjogJ21pblJlc29sdXRpb24nLFxuICBTT1VSQ0U6ICdzb3VyY2UnXG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qcm9wZXJ0eS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvbGF5ZXIvQmFzZVxuICovXG5pbXBvcnQge2Fic3RyYWN0fSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCBCYXNlT2JqZWN0IGZyb20gJy4uL09iamVjdC5qcyc7XG5pbXBvcnQgTGF5ZXJQcm9wZXJ0eSBmcm9tICcuL1Byb3BlcnR5LmpzJztcbmltcG9ydCB7Y2xhbXB9IGZyb20gJy4uL21hdGguanMnO1xuaW1wb3J0IHthc3NpZ259IGZyb20gJy4uL29iai5qcyc7XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gW29wYWNpdHk9MV0gT3BhY2l0eSAoMCwgMSkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt2aXNpYmxlPXRydWVdIFZpc2liaWxpdHkuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIFRoZSBib3VuZGluZyBleHRlbnQgZm9yIGxheWVyIHJlbmRlcmluZy4gIFRoZSBsYXllciB3aWxsIG5vdCBiZVxuICogcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGlzIGV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbekluZGV4XSBUaGUgei1pbmRleCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgQXQgcmVuZGVyaW5nIHRpbWUsIHRoZSBsYXllcnNcbiAqIHdpbGwgYmUgb3JkZXJlZCwgZmlyc3QgYnkgWi1pbmRleCBhbmQgdGhlbiBieSBwb3NpdGlvbi4gV2hlbiBgdW5kZWZpbmVkYCwgYSBgekluZGV4YCBvZiAwIGlzIGFzc3VtZWRcbiAqIGZvciBsYXllcnMgdGhhdCBhcmUgYWRkZWQgdG8gdGhlIG1hcCdzIGBsYXllcnNgIGNvbGxlY3Rpb24sIG9yIGBJbmZpbml0eWAgd2hlbiB0aGUgbGF5ZXIncyBgc2V0TWFwKClgXG4gKiBtZXRob2Qgd2FzIHVzZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblJlc29sdXRpb25dIFRoZSBtaW5pbXVtIHJlc29sdXRpb24gKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhSZXNvbHV0aW9uXSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIChleGNsdXNpdmUpIGJlbG93IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqL1xuXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWJzdHJhY3QgYmFzZSBjbGFzczsgbm9ybWFsbHkgb25seSB1c2VkIGZvciBjcmVhdGluZyBzdWJjbGFzc2VzIGFuZCBub3RcbiAqIGluc3RhbnRpYXRlZCBpbiBhcHBzLlxuICogTm90ZSB0aGF0IHdpdGgge0BsaW5rIG1vZHVsZTpvbC9sYXllci9CYXNlfSBhbmQgYWxsIGl0cyBzdWJjbGFzc2VzLCBhbnkgcHJvcGVydHkgc2V0IGluXG4gKiB0aGUgb3B0aW9ucyBpcyBzZXQgYXMgYSB7QGxpbmsgbW9kdWxlOm9sL09iamVjdH0gcHJvcGVydHkgb24gdGhlIGxheWVyIG9iamVjdCwgc29cbiAqIGlzIG9ic2VydmFibGUsIGFuZCBoYXMgZ2V0L3NldCBhY2Nlc3NvcnMuXG4gKlxuICogQGFwaVxuICovXG52YXIgQmFzZUxheWVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQmFzZU9iamVjdCkge1xuICBmdW5jdGlvbiBCYXNlTGF5ZXIob3B0aW9ucykge1xuXG4gICAgQmFzZU9iamVjdC5jYWxsKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsICo+fVxuICAgICAqL1xuICAgIHZhciBwcm9wZXJ0aWVzID0gYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICBwcm9wZXJ0aWVzW0xheWVyUHJvcGVydHkuT1BBQ0lUWV0gPVxuICAgICAgIG9wdGlvbnMub3BhY2l0eSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5vcGFjaXR5IDogMTtcbiAgICBwcm9wZXJ0aWVzW0xheWVyUHJvcGVydHkuVklTSUJMRV0gPVxuICAgICAgIG9wdGlvbnMudmlzaWJsZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy52aXNpYmxlIDogdHJ1ZTtcbiAgICBwcm9wZXJ0aWVzW0xheWVyUHJvcGVydHkuWl9JTkRFWF0gPSBvcHRpb25zLnpJbmRleDtcbiAgICBwcm9wZXJ0aWVzW0xheWVyUHJvcGVydHkuTUFYX1JFU09MVVRJT05dID1cbiAgICAgICBvcHRpb25zLm1heFJlc29sdXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWF4UmVzb2x1dGlvbiA6IEluZmluaXR5O1xuICAgIHByb3BlcnRpZXNbTGF5ZXJQcm9wZXJ0eS5NSU5fUkVTT0xVVElPTl0gPVxuICAgICAgIG9wdGlvbnMubWluUmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5taW5SZXNvbHV0aW9uIDogMDtcblxuICAgIHRoaXMuc2V0UHJvcGVydGllcyhwcm9wZXJ0aWVzKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0xheWVyLmpzXCIpLlN0YXRlfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5zdGF0ZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGxheWVyIHR5cGUuXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL0xheWVyVHlwZS5qc1wiKS5kZWZhdWx0fVxuICAgICAqIEBwcm90ZWN0ZWQ7XG4gICAgICovXG4gICAgdGhpcy50eXBlO1xuXG4gIH1cblxuICBpZiAoIEJhc2VPYmplY3QgKSBCYXNlTGF5ZXIuX19wcm90b19fID0gQmFzZU9iamVjdDtcbiAgQmFzZUxheWVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEJhc2VPYmplY3QgJiYgQmFzZU9iamVjdC5wcm90b3R5cGUgKTtcbiAgQmFzZUxheWVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJhc2VMYXllcjtcblxuICAvKipcbiAgICogR2V0IHRoZSBsYXllciB0eXBlICh1c2VkIHdoZW4gY3JlYXRpbmcgYSBsYXllciByZW5kZXJlcikuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL0xheWVyVHlwZS5qc1wiKS5kZWZhdWx0fSBUaGUgbGF5ZXIgdHlwZS5cbiAgICovXG4gIEJhc2VMYXllci5wcm90b3R5cGUuZ2V0VHlwZSA9IGZ1bmN0aW9uIGdldFR5cGUgKCkge1xuICAgIHJldHVybiB0aGlzLnR5cGU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vTGF5ZXIuanNcIikuU3RhdGV9IExheWVyIHN0YXRlLlxuICAgKi9cbiAgQmFzZUxheWVyLnByb3RvdHlwZS5nZXRMYXllclN0YXRlID0gZnVuY3Rpb24gZ2V0TGF5ZXJTdGF0ZSAoKSB7XG4gICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuL0xheWVyLmpzXCIpLlN0YXRlfSAqL1xuICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGVfIHx8IC8qKiBAdHlwZSB7P30gKi8gKHtcbiAgICAgIGxheWVyOiB0aGlzLFxuICAgICAgbWFuYWdlZDogdHJ1ZVxuICAgIH0pO1xuICAgIHN0YXRlLm9wYWNpdHkgPSBjbGFtcCh0aGlzLmdldE9wYWNpdHkoKSwgMCwgMSk7XG4gICAgc3RhdGUuc291cmNlU3RhdGUgPSB0aGlzLmdldFNvdXJjZVN0YXRlKCk7XG4gICAgc3RhdGUudmlzaWJsZSA9IHRoaXMuZ2V0VmlzaWJsZSgpO1xuICAgIHN0YXRlLmV4dGVudCA9IHRoaXMuZ2V0RXh0ZW50KCk7XG4gICAgc3RhdGUuekluZGV4ID0gdGhpcy5nZXRaSW5kZXgoKSB8fCAwO1xuICAgIHN0YXRlLm1heFJlc29sdXRpb24gPSB0aGlzLmdldE1heFJlc29sdXRpb24oKTtcbiAgICBzdGF0ZS5taW5SZXNvbHV0aW9uID0gTWF0aC5tYXgodGhpcy5nZXRNaW5SZXNvbHV0aW9uKCksIDApO1xuICAgIHRoaXMuc3RhdGVfID0gc3RhdGU7XG5cbiAgICByZXR1cm4gc3RhdGU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vTGF5ZXIuanNcIikuZGVmYXVsdD49fSBvcHRfYXJyYXkgQXJyYXkgb2YgbGF5ZXJzICh0byBiZVxuICAgKiAgICAgbW9kaWZpZWQgaW4gcGxhY2UpLlxuICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLmRlZmF1bHQ+fSBBcnJheSBvZiBsYXllcnMuXG4gICAqL1xuICBCYXNlTGF5ZXIucHJvdG90eXBlLmdldExheWVyc0FycmF5ID0gZnVuY3Rpb24gZ2V0TGF5ZXJzQXJyYXkgKG9wdF9hcnJheSkge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLlN0YXRlPj19IG9wdF9zdGF0ZXMgT3B0aW9uYWwgbGlzdCBvZiBsYXllclxuICAgKiAgICAgc3RhdGVzICh0byBiZSBtb2RpZmllZCBpbiBwbGFjZSkuXG4gICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vTGF5ZXIuanNcIikuU3RhdGU+fSBMaXN0IG9mIGxheWVyIHN0YXRlcy5cbiAgICovXG4gIEJhc2VMYXllci5wcm90b3R5cGUuZ2V0TGF5ZXJTdGF0ZXNBcnJheSA9IGZ1bmN0aW9uIGdldExheWVyU3RhdGVzQXJyYXkgKG9wdF9zdGF0ZXMpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSB7QGxpbmsgbW9kdWxlOm9sL2V4dGVudH5FeHRlbnQgZXh0ZW50fSBvZiB0aGUgbGF5ZXIgb3IgYHVuZGVmaW5lZGAgaWYgaXRcbiAgICogd2lsbCBiZSB2aXNpYmxlIHJlZ2FyZGxlc3Mgb2YgZXh0ZW50LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fHVuZGVmaW5lZH0gVGhlIGxheWVyIGV4dGVudC5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgQmFzZUxheWVyLnByb3RvdHlwZS5nZXRFeHRlbnQgPSBmdW5jdGlvbiBnZXRFeHRlbnQgKCkge1xuICAgIHJldHVybiAoXG4gICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR8dW5kZWZpbmVkfSAqLyAodGhpcy5nZXQoTGF5ZXJQcm9wZXJ0eS5FWFRFTlQpKVxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgbWF4aW11bSByZXNvbHV0aW9uIG9mIHRoZSBsYXllci5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIG9mIHRoZSBsYXllci5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgQmFzZUxheWVyLnByb3RvdHlwZS5nZXRNYXhSZXNvbHV0aW9uID0gZnVuY3Rpb24gZ2V0TWF4UmVzb2x1dGlvbiAoKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5nZXQoTGF5ZXJQcm9wZXJ0eS5NQVhfUkVTT0xVVElPTikpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIG1pbmltdW0gcmVzb2x1dGlvbiBvZiB0aGUgbGF5ZXIuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG1pbmltdW0gcmVzb2x1dGlvbiBvZiB0aGUgbGF5ZXIuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIEJhc2VMYXllci5wcm90b3R5cGUuZ2V0TWluUmVzb2x1dGlvbiA9IGZ1bmN0aW9uIGdldE1pblJlc29sdXRpb24gKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0KExheWVyUHJvcGVydHkuTUlOX1JFU09MVVRJT04pKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBvcGFjaXR5IG9mIHRoZSBsYXllciAoYmV0d2VlbiAwIGFuZCAxKS5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgb3BhY2l0eSBvZiB0aGUgbGF5ZXIuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIEJhc2VMYXllci5wcm90b3R5cGUuZ2V0T3BhY2l0eSA9IGZ1bmN0aW9uIGdldE9wYWNpdHkgKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0KExheWVyUHJvcGVydHkuT1BBQ0lUWSkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc291cmNlL1N0YXRlLmpzXCIpLmRlZmF1bHR9IFNvdXJjZSBzdGF0ZS5cbiAgICovXG4gIEJhc2VMYXllci5wcm90b3R5cGUuZ2V0U291cmNlU3RhdGUgPSBmdW5jdGlvbiBnZXRTb3VyY2VTdGF0ZSAoKSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgbGF5ZXIgKGB0cnVlYCBvciBgZmFsc2VgKS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHZpc2liaWxpdHkgb2YgdGhlIGxheWVyLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBCYXNlTGF5ZXIucHJvdG90eXBlLmdldFZpc2libGUgPSBmdW5jdGlvbiBnZXRWaXNpYmxlICgpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtib29sZWFufSAqLyAodGhpcy5nZXQoTGF5ZXJQcm9wZXJ0eS5WSVNJQkxFKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgWi1pbmRleCBvZiB0aGUgbGF5ZXIsIHdoaWNoIGlzIHVzZWQgdG8gb3JkZXIgbGF5ZXJzIGJlZm9yZVxuICAgKiByZW5kZXJpbmcuIFRoZSBkZWZhdWx0IFotaW5kZXggaXMgMC5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgWi1pbmRleCBvZiB0aGUgbGF5ZXIuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIEJhc2VMYXllci5wcm90b3R5cGUuZ2V0WkluZGV4ID0gZnVuY3Rpb24gZ2V0WkluZGV4ICgpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldChMYXllclByb3BlcnR5LlpfSU5ERVgpKTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IHRoZSBleHRlbnQgYXQgd2hpY2ggdGhlIGxheWVyIGlzIHZpc2libGUuICBJZiBgdW5kZWZpbmVkYCwgdGhlIGxheWVyXG4gICAqIHdpbGwgYmUgdmlzaWJsZSBhdCBhbGwgZXh0ZW50cy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fHVuZGVmaW5lZH0gZXh0ZW50IFRoZSBleHRlbnQgb2YgdGhlIGxheWVyLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBCYXNlTGF5ZXIucHJvdG90eXBlLnNldEV4dGVudCA9IGZ1bmN0aW9uIHNldEV4dGVudCAoZXh0ZW50KSB7XG4gICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5FWFRFTlQsIGV4dGVudCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbWF4aW11bSByZXNvbHV0aW9uIGF0IHdoaWNoIHRoZSBsYXllciBpcyB2aXNpYmxlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF4UmVzb2x1dGlvbiBUaGUgbWF4aW11bSByZXNvbHV0aW9uIG9mIHRoZSBsYXllci5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgQmFzZUxheWVyLnByb3RvdHlwZS5zZXRNYXhSZXNvbHV0aW9uID0gZnVuY3Rpb24gc2V0TWF4UmVzb2x1dGlvbiAobWF4UmVzb2x1dGlvbikge1xuICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuTUFYX1JFU09MVVRJT04sIG1heFJlc29sdXRpb24pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIG1pbmltdW0gcmVzb2x1dGlvbiBhdCB3aGljaCB0aGUgbGF5ZXIgaXMgdmlzaWJsZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG1pblJlc29sdXRpb24gVGhlIG1pbmltdW0gcmVzb2x1dGlvbiBvZiB0aGUgbGF5ZXIuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIEJhc2VMYXllci5wcm90b3R5cGUuc2V0TWluUmVzb2x1dGlvbiA9IGZ1bmN0aW9uIHNldE1pblJlc29sdXRpb24gKG1pblJlc29sdXRpb24pIHtcbiAgICB0aGlzLnNldChMYXllclByb3BlcnR5Lk1JTl9SRVNPTFVUSU9OLCBtaW5SZXNvbHV0aW9uKTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IHRoZSBvcGFjaXR5IG9mIHRoZSBsYXllciwgYWxsb3dlZCB2YWx1ZXMgcmFuZ2UgZnJvbSAwIHRvIDEuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvcGFjaXR5IFRoZSBvcGFjaXR5IG9mIHRoZSBsYXllci5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgQmFzZUxheWVyLnByb3RvdHlwZS5zZXRPcGFjaXR5ID0gZnVuY3Rpb24gc2V0T3BhY2l0eSAob3BhY2l0eSkge1xuICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuT1BBQ0lUWSwgb3BhY2l0eSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgbGF5ZXIgKGB0cnVlYCBvciBgZmFsc2VgKS5cbiAgICogQHBhcmFtIHtib29sZWFufSB2aXNpYmxlIFRoZSB2aXNpYmlsaXR5IG9mIHRoZSBsYXllci5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgQmFzZUxheWVyLnByb3RvdHlwZS5zZXRWaXNpYmxlID0gZnVuY3Rpb24gc2V0VmlzaWJsZSAodmlzaWJsZSkge1xuICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuVklTSUJMRSwgdmlzaWJsZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCBaLWluZGV4IG9mIHRoZSBsYXllciwgd2hpY2ggaXMgdXNlZCB0byBvcmRlciBsYXllcnMgYmVmb3JlIHJlbmRlcmluZy5cbiAgICogVGhlIGRlZmF1bHQgWi1pbmRleCBpcyAwLlxuICAgKiBAcGFyYW0ge251bWJlcn0gemluZGV4IFRoZSB6LWluZGV4IG9mIHRoZSBsYXllci5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgQmFzZUxheWVyLnByb3RvdHlwZS5zZXRaSW5kZXggPSBmdW5jdGlvbiBzZXRaSW5kZXggKHppbmRleCkge1xuICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuWl9JTkRFWCwgemluZGV4KTtcbiAgfTtcblxuICByZXR1cm4gQmFzZUxheWVyO1xufShCYXNlT2JqZWN0KSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgQmFzZUxheWVyO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXNlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvaW50ZXJpb3Jwb2ludFxuICovXG5pbXBvcnQge251bWJlclNhZmVDb21wYXJlRnVuY3Rpb259IGZyb20gJy4uLy4uL2FycmF5LmpzJztcbmltcG9ydCB7bGluZWFyUmluZ3NDb250YWluc1hZfSBmcm9tICcuL2NvbnRhaW5zLmpzJztcblxuXG4vKipcbiAqIENhbGN1bGF0ZXMgYSBwb2ludCB0aGF0IGlzIGxpa2VseSB0byBsaWUgaW4gdGhlIGludGVyaW9yIG9mIHRoZSBsaW5lYXIgcmluZ3MuXG4gKiBJbnNwaXJlZCBieSBKVFMncyBjb20udml2aWRzb2x1dGlvbnMuanRzLmdlb20uR2VvbWV0cnkjZ2V0SW50ZXJpb3JQb2ludC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDZW50ZXJzIEZsYXQgY2VudGVycy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmbGF0Q2VudGVyc09mZnNldCBGbGF0IGNlbnRlciBvZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj49fSBvcHRfZGVzdCBEZXN0aW5hdGlvbi5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IERlc3RpbmF0aW9uIHBvaW50IGFzIFhZTSBjb29yZGluYXRlLCB3aGVyZSBNIGlzIHRoZVxuICogbGVuZ3RoIG9mIHRoZSBob3Jpem9udGFsIGludGVyc2VjdGlvbiB0aGF0IHRoZSBwb2ludCBiZWxvbmdzIHRvLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW50ZXJpb3JQb2ludE9mQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsXG4gIGVuZHMsIHN0cmlkZSwgZmxhdENlbnRlcnMsIGZsYXRDZW50ZXJzT2Zmc2V0LCBvcHRfZGVzdCkge1xuICB2YXIgaSwgaWksIHgsIHgxLCB4MiwgeTEsIHkyO1xuICB2YXIgeSA9IGZsYXRDZW50ZXJzW2ZsYXRDZW50ZXJzT2Zmc2V0ICsgMV07XG4gIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi9cbiAgdmFyIGludGVyc2VjdGlvbnMgPSBbXTtcbiAgLy8gQ2FsY3VsYXRlIGludGVyc2VjdGlvbnMgd2l0aCB0aGUgaG9yaXpvbnRhbCBsaW5lXG4gIGZvciAodmFyIHIgPSAwLCByciA9IGVuZHMubGVuZ3RoOyByIDwgcnI7ICsrcikge1xuICAgIHZhciBlbmQgPSBlbmRzW3JdO1xuICAgIHgxID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZV07XG4gICAgeTEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlICsgMV07XG4gICAgZm9yIChpID0gb2Zmc2V0OyBpIDwgZW5kOyBpICs9IHN0cmlkZSkge1xuICAgICAgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbaV07XG4gICAgICB5MiA9IGZsYXRDb29yZGluYXRlc1tpICsgMV07XG4gICAgICBpZiAoKHkgPD0geTEgJiYgeTIgPD0geSkgfHwgKHkxIDw9IHkgJiYgeSA8PSB5MikpIHtcbiAgICAgICAgeCA9ICh5IC0geTEpIC8gKHkyIC0geTEpICogKHgyIC0geDEpICsgeDE7XG4gICAgICAgIGludGVyc2VjdGlvbnMucHVzaCh4KTtcbiAgICAgIH1cbiAgICAgIHgxID0geDI7XG4gICAgICB5MSA9IHkyO1xuICAgIH1cbiAgfVxuICAvLyBGaW5kIHRoZSBsb25nZXN0IHNlZ21lbnQgb2YgdGhlIGhvcml6b250YWwgbGluZSB0aGF0IGhhcyBpdHMgY2VudGVyIHBvaW50XG4gIC8vIGluc2lkZSB0aGUgbGluZWFyIHJpbmcuXG4gIHZhciBwb2ludFggPSBOYU47XG4gIHZhciBtYXhTZWdtZW50TGVuZ3RoID0gLUluZmluaXR5O1xuICBpbnRlcnNlY3Rpb25zLnNvcnQobnVtYmVyU2FmZUNvbXBhcmVGdW5jdGlvbik7XG4gIHgxID0gaW50ZXJzZWN0aW9uc1swXTtcbiAgZm9yIChpID0gMSwgaWkgPSBpbnRlcnNlY3Rpb25zLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICB4MiA9IGludGVyc2VjdGlvbnNbaV07XG4gICAgdmFyIHNlZ21lbnRMZW5ndGggPSBNYXRoLmFicyh4MiAtIHgxKTtcbiAgICBpZiAoc2VnbWVudExlbmd0aCA+IG1heFNlZ21lbnRMZW5ndGgpIHtcbiAgICAgIHggPSAoeDEgKyB4MikgLyAyO1xuICAgICAgaWYgKGxpbmVhclJpbmdzQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCB4LCB5KSkge1xuICAgICAgICBwb2ludFggPSB4O1xuICAgICAgICBtYXhTZWdtZW50TGVuZ3RoID0gc2VnbWVudExlbmd0aDtcbiAgICAgIH1cbiAgICB9XG4gICAgeDEgPSB4MjtcbiAgfVxuICBpZiAoaXNOYU4ocG9pbnRYKSkge1xuICAgIC8vIFRoZXJlIGlzIG5vIGhvcml6b250YWwgbGluZSB0aGF0IGhhcyBpdHMgY2VudGVyIHBvaW50IGluc2lkZSB0aGUgbGluZWFyXG4gICAgLy8gcmluZy4gIFVzZSB0aGUgY2VudGVyIG9mIHRoZSB0aGUgbGluZWFyIHJpbmcncyBleHRlbnQuXG4gICAgcG9pbnRYID0gZmxhdENlbnRlcnNbZmxhdENlbnRlcnNPZmZzZXRdO1xuICB9XG4gIGlmIChvcHRfZGVzdCkge1xuICAgIG9wdF9kZXN0LnB1c2gocG9pbnRYLCB5LCBtYXhTZWdtZW50TGVuZ3RoKTtcbiAgICByZXR1cm4gb3B0X2Rlc3Q7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFtwb2ludFgsIHksIG1heFNlZ21lbnRMZW5ndGhdO1xuICB9XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q2VudGVycyBGbGF0IGNlbnRlcnMuXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBJbnRlcmlvciBwb2ludHMgYXMgWFlNIGNvb3JkaW5hdGVzLCB3aGVyZSBNIGlzIHRoZVxuICogbGVuZ3RoIG9mIHRoZSBob3Jpem9udGFsIGludGVyc2VjdGlvbiB0aGF0IHRoZSBwb2ludCBiZWxvbmdzIHRvLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW50ZXJpb3JQb2ludHNPZk11bHRpQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzLCBzdHJpZGUsIGZsYXRDZW50ZXJzKSB7XG4gIHZhciBpbnRlcmlvclBvaW50cyA9IFtdO1xuICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgdmFyIGVuZHMgPSBlbmRzc1tpXTtcbiAgICBpbnRlcmlvclBvaW50cyA9IGdldEludGVyaW9yUG9pbnRPZkFycmF5KGZsYXRDb29yZGluYXRlcyxcbiAgICAgIG9mZnNldCwgZW5kcywgc3RyaWRlLCBmbGF0Q2VudGVycywgMiAqIGksIGludGVyaW9yUG9pbnRzKTtcbiAgICBvZmZzZXQgPSBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gIH1cbiAgcmV0dXJuIGludGVyaW9yUG9pbnRzO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcmlvcnBvaW50LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvc2VnbWVudHNcbiAqL1xuXG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjYWxscyBgY2FsbGJhY2tgIGZvciBlYWNoIHNlZ21lbnQgb2YgdGhlIGZsYXQgY29vcmRpbmF0ZXNcbiAqIGFycmF5LiBJZiB0aGUgY2FsbGJhY2sgcmV0dXJucyBhIHRydXRoeSB2YWx1ZSB0aGUgZnVuY3Rpb24gcmV0dXJucyB0aGF0XG4gKiB2YWx1ZSBpbW1lZGlhdGVseS4gT3RoZXJ3aXNlIHRoZSBmdW5jdGlvbiByZXR1cm5zIGBmYWxzZWAuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtmdW5jdGlvbih0aGlzOiBTLCBpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUsIGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6IFR9IGNhbGxiYWNrIEZ1bmN0aW9uXG4gKiAgICAgY2FsbGVkIGZvciBlYWNoIHNlZ21lbnQuXG4gKiBAcGFyYW0ge1M9fSBvcHRfdGhpcyBUaGUgb2JqZWN0IHRvIGJlIHVzZWQgYXMgdGhlIHZhbHVlIG9mICd0aGlzJ1xuICogICAgIHdpdGhpbiBjYWxsYmFjay5cbiAqIEByZXR1cm4ge1R8Ym9vbGVhbn0gVmFsdWUuXG4gKiBAdGVtcGxhdGUgVCxTXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JFYWNoKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgY2FsbGJhY2ssIG9wdF90aGlzKSB7XG4gIHZhciBwb2ludDEgPSBbZmxhdENvb3JkaW5hdGVzW29mZnNldF0sIGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXV07XG4gIHZhciBwb2ludDIgPSBbXTtcbiAgdmFyIHJldDtcbiAgZm9yICg7IChvZmZzZXQgKyBzdHJpZGUpIDwgZW5kOyBvZmZzZXQgKz0gc3RyaWRlKSB7XG4gICAgcG9pbnQyWzBdID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIHN0cmlkZV07XG4gICAgcG9pbnQyWzFdID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIHN0cmlkZSArIDFdO1xuICAgIHJldCA9IGNhbGxiYWNrLmNhbGwob3B0X3RoaXMsIHBvaW50MSwgcG9pbnQyKTtcbiAgICBpZiAocmV0KSB7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICBwb2ludDFbMF0gPSBwb2ludDJbMF07XG4gICAgcG9pbnQxWzFdID0gcG9pbnQyWzFdO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VnbWVudHMuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2xheWVyL1ZlY3RvclJlbmRlclR5cGVcbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBSZW5kZXIgbW9kZSBmb3IgdmVjdG9yIGxheWVyczpcbiAqICAqIGAnaW1hZ2UnYDogVmVjdG9yIGxheWVycyBhcmUgcmVuZGVyZWQgYXMgaW1hZ2VzLiBHcmVhdCBwZXJmb3JtYW5jZSwgYnV0XG4gKiAgICBwb2ludCBzeW1ib2xzIGFuZCB0ZXh0cyBhcmUgYWx3YXlzIHJvdGF0ZWQgd2l0aCB0aGUgdmlldyBhbmQgcGl4ZWxzIGFyZVxuICogICAgc2NhbGVkIGR1cmluZyB6b29tIGFuaW1hdGlvbnMuXG4gKiAgKiBgJ3ZlY3RvcidgOiBWZWN0b3IgbGF5ZXJzIGFyZSByZW5kZXJlZCBhcyB2ZWN0b3JzLiBNb3N0IGFjY3VyYXRlIHJlbmRlcmluZ1xuICogICAgZXZlbiBkdXJpbmcgYW5pbWF0aW9ucywgYnV0IHNsb3dlciBwZXJmb3JtYW5jZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBJTUFHRTogJ2ltYWdlJyxcbiAgVkVDVE9SOiAndmVjdG9yJ1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VmVjdG9yUmVuZGVyVHlwZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gcmJ1c2g7XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gcmJ1c2g7XG5cbnZhciBxdWlja3NlbGVjdCA9IHJlcXVpcmUoJ3F1aWNrc2VsZWN0Jyk7XG5cbmZ1bmN0aW9uIHJidXNoKG1heEVudHJpZXMsIGZvcm1hdCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiByYnVzaCkpIHJldHVybiBuZXcgcmJ1c2gobWF4RW50cmllcywgZm9ybWF0KTtcblxuICAgIC8vIG1heCBlbnRyaWVzIGluIGEgbm9kZSBpcyA5IGJ5IGRlZmF1bHQ7IG1pbiBub2RlIGZpbGwgaXMgNDAlIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhpcy5fbWF4RW50cmllcyA9IE1hdGgubWF4KDQsIG1heEVudHJpZXMgfHwgOSk7XG4gICAgdGhpcy5fbWluRW50cmllcyA9IE1hdGgubWF4KDIsIE1hdGguY2VpbCh0aGlzLl9tYXhFbnRyaWVzICogMC40KSk7XG5cbiAgICBpZiAoZm9ybWF0KSB7XG4gICAgICAgIHRoaXMuX2luaXRGb3JtYXQoZm9ybWF0KTtcbiAgICB9XG5cbiAgICB0aGlzLmNsZWFyKCk7XG59XG5cbnJidXNoLnByb3RvdHlwZSA9IHtcblxuICAgIGFsbDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWxsKHRoaXMuZGF0YSwgW10pO1xuICAgIH0sXG5cbiAgICBzZWFyY2g6IGZ1bmN0aW9uIChiYm94KSB7XG5cbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLmRhdGEsXG4gICAgICAgICAgICByZXN1bHQgPSBbXSxcbiAgICAgICAgICAgIHRvQkJveCA9IHRoaXMudG9CQm94O1xuXG4gICAgICAgIGlmICghaW50ZXJzZWN0cyhiYm94LCBub2RlKSkgcmV0dXJuIHJlc3VsdDtcblxuICAgICAgICB2YXIgbm9kZXNUb1NlYXJjaCA9IFtdLFxuICAgICAgICAgICAgaSwgbGVuLCBjaGlsZCwgY2hpbGRCQm94O1xuXG4gICAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBsZW4gPSBub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cbiAgICAgICAgICAgICAgICBjaGlsZCA9IG5vZGUuY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgICAgY2hpbGRCQm94ID0gbm9kZS5sZWFmID8gdG9CQm94KGNoaWxkKSA6IGNoaWxkO1xuXG4gICAgICAgICAgICAgICAgaWYgKGludGVyc2VjdHMoYmJveCwgY2hpbGRCQm94KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5sZWFmKSByZXN1bHQucHVzaChjaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvbnRhaW5zKGJib3gsIGNoaWxkQkJveCkpIHRoaXMuX2FsbChjaGlsZCwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBub2Rlc1RvU2VhcmNoLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vZGUgPSBub2Rlc1RvU2VhcmNoLnBvcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuXG4gICAgY29sbGlkZXM6IGZ1bmN0aW9uIChiYm94KSB7XG5cbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLmRhdGEsXG4gICAgICAgICAgICB0b0JCb3ggPSB0aGlzLnRvQkJveDtcblxuICAgICAgICBpZiAoIWludGVyc2VjdHMoYmJveCwgbm9kZSkpIHJldHVybiBmYWxzZTtcblxuICAgICAgICB2YXIgbm9kZXNUb1NlYXJjaCA9IFtdLFxuICAgICAgICAgICAgaSwgbGVuLCBjaGlsZCwgY2hpbGRCQm94O1xuXG4gICAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBsZW4gPSBub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cbiAgICAgICAgICAgICAgICBjaGlsZCA9IG5vZGUuY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgICAgY2hpbGRCQm94ID0gbm9kZS5sZWFmID8gdG9CQm94KGNoaWxkKSA6IGNoaWxkO1xuXG4gICAgICAgICAgICAgICAgaWYgKGludGVyc2VjdHMoYmJveCwgY2hpbGRCQm94KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5sZWFmIHx8IGNvbnRhaW5zKGJib3gsIGNoaWxkQkJveCkpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBub2Rlc1RvU2VhcmNoLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vZGUgPSBub2Rlc1RvU2VhcmNoLnBvcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICBsb2FkOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAoIShkYXRhICYmIGRhdGEubGVuZ3RoKSkgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgaWYgKGRhdGEubGVuZ3RoIDwgdGhpcy5fbWluRW50cmllcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGRhdGEubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluc2VydChkYXRhW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVjdXJzaXZlbHkgYnVpbGQgdGhlIHRyZWUgd2l0aCB0aGUgZ2l2ZW4gZGF0YSBmcm9tIHNjcmF0Y2ggdXNpbmcgT01UIGFsZ29yaXRobVxuICAgICAgICB2YXIgbm9kZSA9IHRoaXMuX2J1aWxkKGRhdGEuc2xpY2UoKSwgMCwgZGF0YS5sZW5ndGggLSAxLCAwKTtcblxuICAgICAgICBpZiAoIXRoaXMuZGF0YS5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIHNhdmUgYXMgaXMgaWYgdHJlZSBpcyBlbXB0eVxuICAgICAgICAgICAgdGhpcy5kYXRhID0gbm9kZTtcblxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YS5oZWlnaHQgPT09IG5vZGUuaGVpZ2h0KSB7XG4gICAgICAgICAgICAvLyBzcGxpdCByb290IGlmIHRyZWVzIGhhdmUgdGhlIHNhbWUgaGVpZ2h0XG4gICAgICAgICAgICB0aGlzLl9zcGxpdFJvb3QodGhpcy5kYXRhLCBub2RlKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YS5oZWlnaHQgPCBub2RlLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIC8vIHN3YXAgdHJlZXMgaWYgaW5zZXJ0ZWQgb25lIGlzIGJpZ2dlclxuICAgICAgICAgICAgICAgIHZhciB0bXBOb2RlID0gdGhpcy5kYXRhO1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IG5vZGU7XG4gICAgICAgICAgICAgICAgbm9kZSA9IHRtcE5vZGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGluc2VydCB0aGUgc21hbGwgdHJlZSBpbnRvIHRoZSBsYXJnZSB0cmVlIGF0IGFwcHJvcHJpYXRlIGxldmVsXG4gICAgICAgICAgICB0aGlzLl9pbnNlcnQobm9kZSwgdGhpcy5kYXRhLmhlaWdodCAtIG5vZGUuaGVpZ2h0IC0gMSwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgaW5zZXJ0OiBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICBpZiAoaXRlbSkgdGhpcy5faW5zZXJ0KGl0ZW0sIHRoaXMuZGF0YS5oZWlnaHQgLSAxKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIGNsZWFyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGNyZWF0ZU5vZGUoW10pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiAoaXRlbSwgZXF1YWxzRm4pIHtcbiAgICAgICAgaWYgKCFpdGVtKSByZXR1cm4gdGhpcztcblxuICAgICAgICB2YXIgbm9kZSA9IHRoaXMuZGF0YSxcbiAgICAgICAgICAgIGJib3ggPSB0aGlzLnRvQkJveChpdGVtKSxcbiAgICAgICAgICAgIHBhdGggPSBbXSxcbiAgICAgICAgICAgIGluZGV4ZXMgPSBbXSxcbiAgICAgICAgICAgIGksIHBhcmVudCwgaW5kZXgsIGdvaW5nVXA7XG5cbiAgICAgICAgLy8gZGVwdGgtZmlyc3QgaXRlcmF0aXZlIHRyZWUgdHJhdmVyc2FsXG4gICAgICAgIHdoaWxlIChub2RlIHx8IHBhdGgubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgIGlmICghbm9kZSkgeyAvLyBnbyB1cFxuICAgICAgICAgICAgICAgIG5vZGUgPSBwYXRoLnBvcCgpO1xuICAgICAgICAgICAgICAgIHBhcmVudCA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICBpID0gaW5kZXhlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICBnb2luZ1VwID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5vZGUubGVhZikgeyAvLyBjaGVjayBjdXJyZW50IG5vZGVcbiAgICAgICAgICAgICAgICBpbmRleCA9IGZpbmRJdGVtKGl0ZW0sIG5vZGUuY2hpbGRyZW4sIGVxdWFsc0ZuKTtcblxuICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaXRlbSBmb3VuZCwgcmVtb3ZlIHRoZSBpdGVtIGFuZCBjb25kZW5zZSB0cmVlIHVwd2FyZHNcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICBwYXRoLnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbmRlbnNlKHBhdGgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghZ29pbmdVcCAmJiAhbm9kZS5sZWFmICYmIGNvbnRhaW5zKG5vZGUsIGJib3gpKSB7IC8vIGdvIGRvd25cbiAgICAgICAgICAgICAgICBwYXRoLnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgaW5kZXhlcy5wdXNoKGkpO1xuICAgICAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICAgICAgICAgIHBhcmVudCA9IG5vZGU7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGRyZW5bMF07XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyZW50KSB7IC8vIGdvIHJpZ2h0XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIG5vZGUgPSBwYXJlbnQuY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgICAgZ29pbmdVcCA9IGZhbHNlO1xuXG4gICAgICAgICAgICB9IGVsc2Ugbm9kZSA9IG51bGw7IC8vIG5vdGhpbmcgZm91bmRcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICB0b0JCb3g6IGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtOyB9LFxuXG4gICAgY29tcGFyZU1pblg6IGNvbXBhcmVOb2RlTWluWCxcbiAgICBjb21wYXJlTWluWTogY29tcGFyZU5vZGVNaW5ZLFxuXG4gICAgdG9KU09OOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmRhdGE7IH0sXG5cbiAgICBmcm9tSlNPTjogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIF9hbGw6IGZ1bmN0aW9uIChub2RlLCByZXN1bHQpIHtcbiAgICAgICAgdmFyIG5vZGVzVG9TZWFyY2ggPSBbXTtcbiAgICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgICAgIGlmIChub2RlLmxlYWYpIHJlc3VsdC5wdXNoLmFwcGx5KHJlc3VsdCwgbm9kZS5jaGlsZHJlbik7XG4gICAgICAgICAgICBlbHNlIG5vZGVzVG9TZWFyY2gucHVzaC5hcHBseShub2Rlc1RvU2VhcmNoLCBub2RlLmNoaWxkcmVuKTtcblxuICAgICAgICAgICAgbm9kZSA9IG5vZGVzVG9TZWFyY2gucG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuXG4gICAgX2J1aWxkOiBmdW5jdGlvbiAoaXRlbXMsIGxlZnQsIHJpZ2h0LCBoZWlnaHQpIHtcblxuICAgICAgICB2YXIgTiA9IHJpZ2h0IC0gbGVmdCArIDEsXG4gICAgICAgICAgICBNID0gdGhpcy5fbWF4RW50cmllcyxcbiAgICAgICAgICAgIG5vZGU7XG5cbiAgICAgICAgaWYgKE4gPD0gTSkge1xuICAgICAgICAgICAgLy8gcmVhY2hlZCBsZWFmIGxldmVsOyByZXR1cm4gbGVhZlxuICAgICAgICAgICAgbm9kZSA9IGNyZWF0ZU5vZGUoaXRlbXMuc2xpY2UobGVmdCwgcmlnaHQgKyAxKSk7XG4gICAgICAgICAgICBjYWxjQkJveChub2RlLCB0aGlzLnRvQkJveCk7XG4gICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaGVpZ2h0KSB7XG4gICAgICAgICAgICAvLyB0YXJnZXQgaGVpZ2h0IG9mIHRoZSBidWxrLWxvYWRlZCB0cmVlXG4gICAgICAgICAgICBoZWlnaHQgPSBNYXRoLmNlaWwoTWF0aC5sb2coTikgLyBNYXRoLmxvZyhNKSk7XG5cbiAgICAgICAgICAgIC8vIHRhcmdldCBudW1iZXIgb2Ygcm9vdCBlbnRyaWVzIHRvIG1heGltaXplIHN0b3JhZ2UgdXRpbGl6YXRpb25cbiAgICAgICAgICAgIE0gPSBNYXRoLmNlaWwoTiAvIE1hdGgucG93KE0sIGhlaWdodCAtIDEpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5vZGUgPSBjcmVhdGVOb2RlKFtdKTtcbiAgICAgICAgbm9kZS5sZWFmID0gZmFsc2U7XG4gICAgICAgIG5vZGUuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIC8vIHNwbGl0IHRoZSBpdGVtcyBpbnRvIE0gbW9zdGx5IHNxdWFyZSB0aWxlc1xuXG4gICAgICAgIHZhciBOMiA9IE1hdGguY2VpbChOIC8gTSksXG4gICAgICAgICAgICBOMSA9IE4yICogTWF0aC5jZWlsKE1hdGguc3FydChNKSksXG4gICAgICAgICAgICBpLCBqLCByaWdodDIsIHJpZ2h0MztcblxuICAgICAgICBtdWx0aVNlbGVjdChpdGVtcywgbGVmdCwgcmlnaHQsIE4xLCB0aGlzLmNvbXBhcmVNaW5YKTtcblxuICAgICAgICBmb3IgKGkgPSBsZWZ0OyBpIDw9IHJpZ2h0OyBpICs9IE4xKSB7XG5cbiAgICAgICAgICAgIHJpZ2h0MiA9IE1hdGgubWluKGkgKyBOMSAtIDEsIHJpZ2h0KTtcblxuICAgICAgICAgICAgbXVsdGlTZWxlY3QoaXRlbXMsIGksIHJpZ2h0MiwgTjIsIHRoaXMuY29tcGFyZU1pblkpO1xuXG4gICAgICAgICAgICBmb3IgKGogPSBpOyBqIDw9IHJpZ2h0MjsgaiArPSBOMikge1xuXG4gICAgICAgICAgICAgICAgcmlnaHQzID0gTWF0aC5taW4oaiArIE4yIC0gMSwgcmlnaHQyKTtcblxuICAgICAgICAgICAgICAgIC8vIHBhY2sgZWFjaCBlbnRyeSByZWN1cnNpdmVseVxuICAgICAgICAgICAgICAgIG5vZGUuY2hpbGRyZW4ucHVzaCh0aGlzLl9idWlsZChpdGVtcywgaiwgcmlnaHQzLCBoZWlnaHQgLSAxKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjYWxjQkJveChub2RlLCB0aGlzLnRvQkJveCk7XG5cbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSxcblxuICAgIF9jaG9vc2VTdWJ0cmVlOiBmdW5jdGlvbiAoYmJveCwgbm9kZSwgbGV2ZWwsIHBhdGgpIHtcblxuICAgICAgICB2YXIgaSwgbGVuLCBjaGlsZCwgdGFyZ2V0Tm9kZSwgYXJlYSwgZW5sYXJnZW1lbnQsIG1pbkFyZWEsIG1pbkVubGFyZ2VtZW50O1xuXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBwYXRoLnB1c2gobm9kZSk7XG5cbiAgICAgICAgICAgIGlmIChub2RlLmxlYWYgfHwgcGF0aC5sZW5ndGggLSAxID09PSBsZXZlbCkgYnJlYWs7XG5cbiAgICAgICAgICAgIG1pbkFyZWEgPSBtaW5FbmxhcmdlbWVudCA9IEluZmluaXR5O1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBsZW4gPSBub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQgPSBub2RlLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgIGFyZWEgPSBiYm94QXJlYShjaGlsZCk7XG4gICAgICAgICAgICAgICAgZW5sYXJnZW1lbnQgPSBlbmxhcmdlZEFyZWEoYmJveCwgY2hpbGQpIC0gYXJlYTtcblxuICAgICAgICAgICAgICAgIC8vIGNob29zZSBlbnRyeSB3aXRoIHRoZSBsZWFzdCBhcmVhIGVubGFyZ2VtZW50XG4gICAgICAgICAgICAgICAgaWYgKGVubGFyZ2VtZW50IDwgbWluRW5sYXJnZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbWluRW5sYXJnZW1lbnQgPSBlbmxhcmdlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgbWluQXJlYSA9IGFyZWEgPCBtaW5BcmVhID8gYXJlYSA6IG1pbkFyZWE7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldE5vZGUgPSBjaGlsZDtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZW5sYXJnZW1lbnQgPT09IG1pbkVubGFyZ2VtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSBjaG9vc2Ugb25lIHdpdGggdGhlIHNtYWxsZXN0IGFyZWFcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZWEgPCBtaW5BcmVhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5BcmVhID0gYXJlYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldE5vZGUgPSBjaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbm9kZSA9IHRhcmdldE5vZGUgfHwgbm9kZS5jaGlsZHJlblswXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH0sXG5cbiAgICBfaW5zZXJ0OiBmdW5jdGlvbiAoaXRlbSwgbGV2ZWwsIGlzTm9kZSkge1xuXG4gICAgICAgIHZhciB0b0JCb3ggPSB0aGlzLnRvQkJveCxcbiAgICAgICAgICAgIGJib3ggPSBpc05vZGUgPyBpdGVtIDogdG9CQm94KGl0ZW0pLFxuICAgICAgICAgICAgaW5zZXJ0UGF0aCA9IFtdO1xuXG4gICAgICAgIC8vIGZpbmQgdGhlIGJlc3Qgbm9kZSBmb3IgYWNjb21tb2RhdGluZyB0aGUgaXRlbSwgc2F2aW5nIGFsbCBub2RlcyBhbG9uZyB0aGUgcGF0aCB0b29cbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLl9jaG9vc2VTdWJ0cmVlKGJib3gsIHRoaXMuZGF0YSwgbGV2ZWwsIGluc2VydFBhdGgpO1xuXG4gICAgICAgIC8vIHB1dCB0aGUgaXRlbSBpbnRvIHRoZSBub2RlXG4gICAgICAgIG5vZGUuY2hpbGRyZW4ucHVzaChpdGVtKTtcbiAgICAgICAgZXh0ZW5kKG5vZGUsIGJib3gpO1xuXG4gICAgICAgIC8vIHNwbGl0IG9uIG5vZGUgb3ZlcmZsb3c7IHByb3BhZ2F0ZSB1cHdhcmRzIGlmIG5lY2Vzc2FyeVxuICAgICAgICB3aGlsZSAobGV2ZWwgPj0gMCkge1xuICAgICAgICAgICAgaWYgKGluc2VydFBhdGhbbGV2ZWxdLmNoaWxkcmVuLmxlbmd0aCA+IHRoaXMuX21heEVudHJpZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zcGxpdChpbnNlcnRQYXRoLCBsZXZlbCk7XG4gICAgICAgICAgICAgICAgbGV2ZWwtLTtcbiAgICAgICAgICAgIH0gZWxzZSBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkanVzdCBiYm94ZXMgYWxvbmcgdGhlIGluc2VydGlvbiBwYXRoXG4gICAgICAgIHRoaXMuX2FkanVzdFBhcmVudEJCb3hlcyhiYm94LCBpbnNlcnRQYXRoLCBsZXZlbCk7XG4gICAgfSxcblxuICAgIC8vIHNwbGl0IG92ZXJmbG93ZWQgbm9kZSBpbnRvIHR3b1xuICAgIF9zcGxpdDogZnVuY3Rpb24gKGluc2VydFBhdGgsIGxldmVsKSB7XG5cbiAgICAgICAgdmFyIG5vZGUgPSBpbnNlcnRQYXRoW2xldmVsXSxcbiAgICAgICAgICAgIE0gPSBub2RlLmNoaWxkcmVuLmxlbmd0aCxcbiAgICAgICAgICAgIG0gPSB0aGlzLl9taW5FbnRyaWVzO1xuXG4gICAgICAgIHRoaXMuX2Nob29zZVNwbGl0QXhpcyhub2RlLCBtLCBNKTtcblxuICAgICAgICB2YXIgc3BsaXRJbmRleCA9IHRoaXMuX2Nob29zZVNwbGl0SW5kZXgobm9kZSwgbSwgTSk7XG5cbiAgICAgICAgdmFyIG5ld05vZGUgPSBjcmVhdGVOb2RlKG5vZGUuY2hpbGRyZW4uc3BsaWNlKHNwbGl0SW5kZXgsIG5vZGUuY2hpbGRyZW4ubGVuZ3RoIC0gc3BsaXRJbmRleCkpO1xuICAgICAgICBuZXdOb2RlLmhlaWdodCA9IG5vZGUuaGVpZ2h0O1xuICAgICAgICBuZXdOb2RlLmxlYWYgPSBub2RlLmxlYWY7XG5cbiAgICAgICAgY2FsY0JCb3gobm9kZSwgdGhpcy50b0JCb3gpO1xuICAgICAgICBjYWxjQkJveChuZXdOb2RlLCB0aGlzLnRvQkJveCk7XG5cbiAgICAgICAgaWYgKGxldmVsKSBpbnNlcnRQYXRoW2xldmVsIC0gMV0uY2hpbGRyZW4ucHVzaChuZXdOb2RlKTtcbiAgICAgICAgZWxzZSB0aGlzLl9zcGxpdFJvb3Qobm9kZSwgbmV3Tm9kZSk7XG4gICAgfSxcblxuICAgIF9zcGxpdFJvb3Q6IGZ1bmN0aW9uIChub2RlLCBuZXdOb2RlKSB7XG4gICAgICAgIC8vIHNwbGl0IHJvb3Qgbm9kZVxuICAgICAgICB0aGlzLmRhdGEgPSBjcmVhdGVOb2RlKFtub2RlLCBuZXdOb2RlXSk7XG4gICAgICAgIHRoaXMuZGF0YS5oZWlnaHQgPSBub2RlLmhlaWdodCArIDE7XG4gICAgICAgIHRoaXMuZGF0YS5sZWFmID0gZmFsc2U7XG4gICAgICAgIGNhbGNCQm94KHRoaXMuZGF0YSwgdGhpcy50b0JCb3gpO1xuICAgIH0sXG5cbiAgICBfY2hvb3NlU3BsaXRJbmRleDogZnVuY3Rpb24gKG5vZGUsIG0sIE0pIHtcblxuICAgICAgICB2YXIgaSwgYmJveDEsIGJib3gyLCBvdmVybGFwLCBhcmVhLCBtaW5PdmVybGFwLCBtaW5BcmVhLCBpbmRleDtcblxuICAgICAgICBtaW5PdmVybGFwID0gbWluQXJlYSA9IEluZmluaXR5O1xuXG4gICAgICAgIGZvciAoaSA9IG07IGkgPD0gTSAtIG07IGkrKykge1xuICAgICAgICAgICAgYmJveDEgPSBkaXN0QkJveChub2RlLCAwLCBpLCB0aGlzLnRvQkJveCk7XG4gICAgICAgICAgICBiYm94MiA9IGRpc3RCQm94KG5vZGUsIGksIE0sIHRoaXMudG9CQm94KTtcblxuICAgICAgICAgICAgb3ZlcmxhcCA9IGludGVyc2VjdGlvbkFyZWEoYmJveDEsIGJib3gyKTtcbiAgICAgICAgICAgIGFyZWEgPSBiYm94QXJlYShiYm94MSkgKyBiYm94QXJlYShiYm94Mik7XG5cbiAgICAgICAgICAgIC8vIGNob29zZSBkaXN0cmlidXRpb24gd2l0aCBtaW5pbXVtIG92ZXJsYXBcbiAgICAgICAgICAgIGlmIChvdmVybGFwIDwgbWluT3ZlcmxhcCkge1xuICAgICAgICAgICAgICAgIG1pbk92ZXJsYXAgPSBvdmVybGFwO1xuICAgICAgICAgICAgICAgIGluZGV4ID0gaTtcblxuICAgICAgICAgICAgICAgIG1pbkFyZWEgPSBhcmVhIDwgbWluQXJlYSA/IGFyZWEgOiBtaW5BcmVhO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG92ZXJsYXAgPT09IG1pbk92ZXJsYXApIHtcbiAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UgY2hvb3NlIGRpc3RyaWJ1dGlvbiB3aXRoIG1pbmltdW0gYXJlYVxuICAgICAgICAgICAgICAgIGlmIChhcmVhIDwgbWluQXJlYSkge1xuICAgICAgICAgICAgICAgICAgICBtaW5BcmVhID0gYXJlYTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9LFxuXG4gICAgLy8gc29ydHMgbm9kZSBjaGlsZHJlbiBieSB0aGUgYmVzdCBheGlzIGZvciBzcGxpdFxuICAgIF9jaG9vc2VTcGxpdEF4aXM6IGZ1bmN0aW9uIChub2RlLCBtLCBNKSB7XG5cbiAgICAgICAgdmFyIGNvbXBhcmVNaW5YID0gbm9kZS5sZWFmID8gdGhpcy5jb21wYXJlTWluWCA6IGNvbXBhcmVOb2RlTWluWCxcbiAgICAgICAgICAgIGNvbXBhcmVNaW5ZID0gbm9kZS5sZWFmID8gdGhpcy5jb21wYXJlTWluWSA6IGNvbXBhcmVOb2RlTWluWSxcbiAgICAgICAgICAgIHhNYXJnaW4gPSB0aGlzLl9hbGxEaXN0TWFyZ2luKG5vZGUsIG0sIE0sIGNvbXBhcmVNaW5YKSxcbiAgICAgICAgICAgIHlNYXJnaW4gPSB0aGlzLl9hbGxEaXN0TWFyZ2luKG5vZGUsIG0sIE0sIGNvbXBhcmVNaW5ZKTtcblxuICAgICAgICAvLyBpZiB0b3RhbCBkaXN0cmlidXRpb25zIG1hcmdpbiB2YWx1ZSBpcyBtaW5pbWFsIGZvciB4LCBzb3J0IGJ5IG1pblgsXG4gICAgICAgIC8vIG90aGVyd2lzZSBpdCdzIGFscmVhZHkgc29ydGVkIGJ5IG1pbllcbiAgICAgICAgaWYgKHhNYXJnaW4gPCB5TWFyZ2luKSBub2RlLmNoaWxkcmVuLnNvcnQoY29tcGFyZU1pblgpO1xuICAgIH0sXG5cbiAgICAvLyB0b3RhbCBtYXJnaW4gb2YgYWxsIHBvc3NpYmxlIHNwbGl0IGRpc3RyaWJ1dGlvbnMgd2hlcmUgZWFjaCBub2RlIGlzIGF0IGxlYXN0IG0gZnVsbFxuICAgIF9hbGxEaXN0TWFyZ2luOiBmdW5jdGlvbiAobm9kZSwgbSwgTSwgY29tcGFyZSkge1xuXG4gICAgICAgIG5vZGUuY2hpbGRyZW4uc29ydChjb21wYXJlKTtcblxuICAgICAgICB2YXIgdG9CQm94ID0gdGhpcy50b0JCb3gsXG4gICAgICAgICAgICBsZWZ0QkJveCA9IGRpc3RCQm94KG5vZGUsIDAsIG0sIHRvQkJveCksXG4gICAgICAgICAgICByaWdodEJCb3ggPSBkaXN0QkJveChub2RlLCBNIC0gbSwgTSwgdG9CQm94KSxcbiAgICAgICAgICAgIG1hcmdpbiA9IGJib3hNYXJnaW4obGVmdEJCb3gpICsgYmJveE1hcmdpbihyaWdodEJCb3gpLFxuICAgICAgICAgICAgaSwgY2hpbGQ7XG5cbiAgICAgICAgZm9yIChpID0gbTsgaSA8IE0gLSBtOyBpKyspIHtcbiAgICAgICAgICAgIGNoaWxkID0gbm9kZS5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGV4dGVuZChsZWZ0QkJveCwgbm9kZS5sZWFmID8gdG9CQm94KGNoaWxkKSA6IGNoaWxkKTtcbiAgICAgICAgICAgIG1hcmdpbiArPSBiYm94TWFyZ2luKGxlZnRCQm94KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IE0gLSBtIC0gMTsgaSA+PSBtOyBpLS0pIHtcbiAgICAgICAgICAgIGNoaWxkID0gbm9kZS5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGV4dGVuZChyaWdodEJCb3gsIG5vZGUubGVhZiA/IHRvQkJveChjaGlsZCkgOiBjaGlsZCk7XG4gICAgICAgICAgICBtYXJnaW4gKz0gYmJveE1hcmdpbihyaWdodEJCb3gpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1hcmdpbjtcbiAgICB9LFxuXG4gICAgX2FkanVzdFBhcmVudEJCb3hlczogZnVuY3Rpb24gKGJib3gsIHBhdGgsIGxldmVsKSB7XG4gICAgICAgIC8vIGFkanVzdCBiYm94ZXMgYWxvbmcgdGhlIGdpdmVuIHRyZWUgcGF0aFxuICAgICAgICBmb3IgKHZhciBpID0gbGV2ZWw7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBleHRlbmQocGF0aFtpXSwgYmJveCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX2NvbmRlbnNlOiBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICAvLyBnbyB0aHJvdWdoIHRoZSBwYXRoLCByZW1vdmluZyBlbXB0eSBub2RlcyBhbmQgdXBkYXRpbmcgYmJveGVzXG4gICAgICAgIGZvciAodmFyIGkgPSBwYXRoLmxlbmd0aCAtIDEsIHNpYmxpbmdzOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgaWYgKHBhdGhbaV0uY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNpYmxpbmdzID0gcGF0aFtpIC0gMV0uY2hpbGRyZW47XG4gICAgICAgICAgICAgICAgICAgIHNpYmxpbmdzLnNwbGljZShzaWJsaW5ncy5pbmRleE9mKHBhdGhbaV0pLCAxKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB0aGlzLmNsZWFyKCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBjYWxjQkJveChwYXRoW2ldLCB0aGlzLnRvQkJveCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX2luaXRGb3JtYXQ6IGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICAgICAgLy8gZGF0YSBmb3JtYXQgKG1pblgsIG1pblksIG1heFgsIG1heFkgYWNjZXNzb3JzKVxuXG4gICAgICAgIC8vIHVzZXMgZXZhbC10eXBlIGZ1bmN0aW9uIGNvbXBpbGF0aW9uIGluc3RlYWQgb2YganVzdCBhY2NlcHRpbmcgYSB0b0JCb3ggZnVuY3Rpb25cbiAgICAgICAgLy8gYmVjYXVzZSB0aGUgYWxnb3JpdGhtcyBhcmUgdmVyeSBzZW5zaXRpdmUgdG8gc29ydGluZyBmdW5jdGlvbnMgcGVyZm9ybWFuY2UsXG4gICAgICAgIC8vIHNvIHRoZXkgc2hvdWxkIGJlIGRlYWQgc2ltcGxlIGFuZCB3aXRob3V0IGlubmVyIGNhbGxzXG5cbiAgICAgICAgdmFyIGNvbXBhcmVBcnIgPSBbJ3JldHVybiBhJywgJyAtIGInLCAnOyddO1xuXG4gICAgICAgIHRoaXMuY29tcGFyZU1pblggPSBuZXcgRnVuY3Rpb24oJ2EnLCAnYicsIGNvbXBhcmVBcnIuam9pbihmb3JtYXRbMF0pKTtcbiAgICAgICAgdGhpcy5jb21wYXJlTWluWSA9IG5ldyBGdW5jdGlvbignYScsICdiJywgY29tcGFyZUFyci5qb2luKGZvcm1hdFsxXSkpO1xuXG4gICAgICAgIHRoaXMudG9CQm94ID0gbmV3IEZ1bmN0aW9uKCdhJyxcbiAgICAgICAgICAgICdyZXR1cm4ge21pblg6IGEnICsgZm9ybWF0WzBdICtcbiAgICAgICAgICAgICcsIG1pblk6IGEnICsgZm9ybWF0WzFdICtcbiAgICAgICAgICAgICcsIG1heFg6IGEnICsgZm9ybWF0WzJdICtcbiAgICAgICAgICAgICcsIG1heFk6IGEnICsgZm9ybWF0WzNdICsgJ307Jyk7XG4gICAgfVxufTtcblxuZnVuY3Rpb24gZmluZEl0ZW0oaXRlbSwgaXRlbXMsIGVxdWFsc0ZuKSB7XG4gICAgaWYgKCFlcXVhbHNGbikgcmV0dXJuIGl0ZW1zLmluZGV4T2YoaXRlbSk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlcXVhbHNGbihpdGVtLCBpdGVtc1tpXSkpIHJldHVybiBpO1xuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG5cbi8vIGNhbGN1bGF0ZSBub2RlJ3MgYmJveCBmcm9tIGJib3hlcyBvZiBpdHMgY2hpbGRyZW5cbmZ1bmN0aW9uIGNhbGNCQm94KG5vZGUsIHRvQkJveCkge1xuICAgIGRpc3RCQm94KG5vZGUsIDAsIG5vZGUuY2hpbGRyZW4ubGVuZ3RoLCB0b0JCb3gsIG5vZGUpO1xufVxuXG4vLyBtaW4gYm91bmRpbmcgcmVjdGFuZ2xlIG9mIG5vZGUgY2hpbGRyZW4gZnJvbSBrIHRvIHAtMVxuZnVuY3Rpb24gZGlzdEJCb3gobm9kZSwgaywgcCwgdG9CQm94LCBkZXN0Tm9kZSkge1xuICAgIGlmICghZGVzdE5vZGUpIGRlc3ROb2RlID0gY3JlYXRlTm9kZShudWxsKTtcbiAgICBkZXN0Tm9kZS5taW5YID0gSW5maW5pdHk7XG4gICAgZGVzdE5vZGUubWluWSA9IEluZmluaXR5O1xuICAgIGRlc3ROb2RlLm1heFggPSAtSW5maW5pdHk7XG4gICAgZGVzdE5vZGUubWF4WSA9IC1JbmZpbml0eTtcblxuICAgIGZvciAodmFyIGkgPSBrLCBjaGlsZDsgaSA8IHA7IGkrKykge1xuICAgICAgICBjaGlsZCA9IG5vZGUuY2hpbGRyZW5baV07XG4gICAgICAgIGV4dGVuZChkZXN0Tm9kZSwgbm9kZS5sZWFmID8gdG9CQm94KGNoaWxkKSA6IGNoaWxkKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVzdE5vZGU7XG59XG5cbmZ1bmN0aW9uIGV4dGVuZChhLCBiKSB7XG4gICAgYS5taW5YID0gTWF0aC5taW4oYS5taW5YLCBiLm1pblgpO1xuICAgIGEubWluWSA9IE1hdGgubWluKGEubWluWSwgYi5taW5ZKTtcbiAgICBhLm1heFggPSBNYXRoLm1heChhLm1heFgsIGIubWF4WCk7XG4gICAgYS5tYXhZID0gTWF0aC5tYXgoYS5tYXhZLCBiLm1heFkpO1xuICAgIHJldHVybiBhO1xufVxuXG5mdW5jdGlvbiBjb21wYXJlTm9kZU1pblgoYSwgYikgeyByZXR1cm4gYS5taW5YIC0gYi5taW5YOyB9XG5mdW5jdGlvbiBjb21wYXJlTm9kZU1pblkoYSwgYikgeyByZXR1cm4gYS5taW5ZIC0gYi5taW5ZOyB9XG5cbmZ1bmN0aW9uIGJib3hBcmVhKGEpICAgeyByZXR1cm4gKGEubWF4WCAtIGEubWluWCkgKiAoYS5tYXhZIC0gYS5taW5ZKTsgfVxuZnVuY3Rpb24gYmJveE1hcmdpbihhKSB7IHJldHVybiAoYS5tYXhYIC0gYS5taW5YKSArIChhLm1heFkgLSBhLm1pblkpOyB9XG5cbmZ1bmN0aW9uIGVubGFyZ2VkQXJlYShhLCBiKSB7XG4gICAgcmV0dXJuIChNYXRoLm1heChiLm1heFgsIGEubWF4WCkgLSBNYXRoLm1pbihiLm1pblgsIGEubWluWCkpICpcbiAgICAgICAgICAgKE1hdGgubWF4KGIubWF4WSwgYS5tYXhZKSAtIE1hdGgubWluKGIubWluWSwgYS5taW5ZKSk7XG59XG5cbmZ1bmN0aW9uIGludGVyc2VjdGlvbkFyZWEoYSwgYikge1xuICAgIHZhciBtaW5YID0gTWF0aC5tYXgoYS5taW5YLCBiLm1pblgpLFxuICAgICAgICBtaW5ZID0gTWF0aC5tYXgoYS5taW5ZLCBiLm1pblkpLFxuICAgICAgICBtYXhYID0gTWF0aC5taW4oYS5tYXhYLCBiLm1heFgpLFxuICAgICAgICBtYXhZID0gTWF0aC5taW4oYS5tYXhZLCBiLm1heFkpO1xuXG4gICAgcmV0dXJuIE1hdGgubWF4KDAsIG1heFggLSBtaW5YKSAqXG4gICAgICAgICAgIE1hdGgubWF4KDAsIG1heFkgLSBtaW5ZKTtcbn1cblxuZnVuY3Rpb24gY29udGFpbnMoYSwgYikge1xuICAgIHJldHVybiBhLm1pblggPD0gYi5taW5YICYmXG4gICAgICAgICAgIGEubWluWSA8PSBiLm1pblkgJiZcbiAgICAgICAgICAgYi5tYXhYIDw9IGEubWF4WCAmJlxuICAgICAgICAgICBiLm1heFkgPD0gYS5tYXhZO1xufVxuXG5mdW5jdGlvbiBpbnRlcnNlY3RzKGEsIGIpIHtcbiAgICByZXR1cm4gYi5taW5YIDw9IGEubWF4WCAmJlxuICAgICAgICAgICBiLm1pblkgPD0gYS5tYXhZICYmXG4gICAgICAgICAgIGIubWF4WCA+PSBhLm1pblggJiZcbiAgICAgICAgICAgYi5tYXhZID49IGEubWluWTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTm9kZShjaGlsZHJlbikge1xuICAgIHJldHVybiB7XG4gICAgICAgIGNoaWxkcmVuOiBjaGlsZHJlbixcbiAgICAgICAgaGVpZ2h0OiAxLFxuICAgICAgICBsZWFmOiB0cnVlLFxuICAgICAgICBtaW5YOiBJbmZpbml0eSxcbiAgICAgICAgbWluWTogSW5maW5pdHksXG4gICAgICAgIG1heFg6IC1JbmZpbml0eSxcbiAgICAgICAgbWF4WTogLUluZmluaXR5XG4gICAgfTtcbn1cblxuLy8gc29ydCBhbiBhcnJheSBzbyB0aGF0IGl0ZW1zIGNvbWUgaW4gZ3JvdXBzIG9mIG4gdW5zb3J0ZWQgaXRlbXMsIHdpdGggZ3JvdXBzIHNvcnRlZCBiZXR3ZWVuIGVhY2ggb3RoZXI7XG4vLyBjb21iaW5lcyBzZWxlY3Rpb24gYWxnb3JpdGhtIHdpdGggYmluYXJ5IGRpdmlkZSAmIGNvbnF1ZXIgYXBwcm9hY2hcblxuZnVuY3Rpb24gbXVsdGlTZWxlY3QoYXJyLCBsZWZ0LCByaWdodCwgbiwgY29tcGFyZSkge1xuICAgIHZhciBzdGFjayA9IFtsZWZ0LCByaWdodF0sXG4gICAgICAgIG1pZDtcblxuICAgIHdoaWxlIChzdGFjay5sZW5ndGgpIHtcbiAgICAgICAgcmlnaHQgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgbGVmdCA9IHN0YWNrLnBvcCgpO1xuXG4gICAgICAgIGlmIChyaWdodCAtIGxlZnQgPD0gbikgY29udGludWU7XG5cbiAgICAgICAgbWlkID0gbGVmdCArIE1hdGguY2VpbCgocmlnaHQgLSBsZWZ0KSAvIG4gLyAyKSAqIG47XG4gICAgICAgIHF1aWNrc2VsZWN0KGFyciwgbWlkLCBsZWZ0LCByaWdodCwgY29tcGFyZSk7XG5cbiAgICAgICAgc3RhY2sucHVzaChsZWZ0LCBtaWQsIG1pZCwgcmlnaHQpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZXByb2ovY29tbW9uXG4gKi9cblxuLyoqXG4gKiBEZWZhdWx0IG1heGltdW0gYWxsb3dlZCB0aHJlc2hvbGQgIChpbiBwaXhlbHMpIGZvciByZXByb2plY3Rpb25cbiAqIHRyaWFuZ3VsYXRpb24uXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgdmFyIEVSUk9SX1RIUkVTSE9MRCA9IDAuNTtcblxuLyoqXG4gKiBFbmFibGUgYXV0b21hdGljIHJlcHJvamVjdGlvbiBvZiByYXN0ZXIgc291cmNlcy4gRGVmYXVsdCBpcyBgdHJ1ZWAuXG4gKiBUT0RPOiBkZWNpZGUgaWYgd2Ugd2FudCB0byBleHBvc2UgdGhpcyBhcyBhIGJ1aWxkIGZsYWcgb3IgcmVtb3ZlIGl0XG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IHZhciBFTkFCTEVfUkFTVEVSX1JFUFJPSkVDVElPTiA9IHRydWU7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbW1vbi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvdGlsZWdyaWQvY29tbW9uXG4gKi9cblxuLyoqXG4gKiBEZWZhdWx0IG1heGltdW0gem9vbSBmb3IgZGVmYXVsdCB0aWxlIGdyaWRzLlxuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IHZhciBERUZBVUxUX01BWF9aT09NID0gNDI7XG5cbi8qKlxuICogRGVmYXVsdCB0aWxlIHNpemUuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgdmFyIERFRkFVTFRfVElMRV9TSVpFID0gMjU2O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21tb24uanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9yZXZlcnNlXG4gKi9cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpIHtcbiAgd2hpbGUgKG9mZnNldCA8IGVuZCAtIHN0cmlkZSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaWRlOyArK2kpIHtcbiAgICAgIHZhciB0bXAgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgaV07XG4gICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgaV0gPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlICsgaV07XG4gICAgICBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlICsgaV0gPSB0bXA7XG4gICAgfVxuICAgIG9mZnNldCArPSBzdHJpZGU7XG4gICAgZW5kIC09IHN0cmlkZTtcbiAgfVxufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXZlcnNlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvb3JpZW50XG4gKi9cbmltcG9ydCB7Y29vcmRpbmF0ZXMgYXMgcmV2ZXJzZUNvb3JkaW5hdGVzfSBmcm9tICcuL3JldmVyc2UuanMnO1xuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IElzIGNsb2Nrd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdJc0Nsb2Nrd2lzZShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpIHtcbiAgLy8gaHR0cDovL3Rpbnl1cmwuY29tL2Nsb2Nrd2lzZS1tZXRob2RcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL09TR2VvL2dkYWwvYmxvYi90cnVuay9nZGFsL29nci9vZ3JsaW5lYXJyaW5nLmNwcFxuICB2YXIgZWRnZSA9IDA7XG4gIHZhciB4MSA9IGZsYXRDb29yZGluYXRlc1tlbmQgLSBzdHJpZGVdO1xuICB2YXIgeTEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlICsgMV07XG4gIGZvciAoOyBvZmZzZXQgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICB2YXIgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICB2YXIgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgZWRnZSArPSAoeDIgLSB4MSkgKiAoeTIgKyB5MSk7XG4gICAgeDEgPSB4MjtcbiAgICB5MSA9IHkyO1xuICB9XG4gIHJldHVybiBlZGdlID4gMDtcbn1cblxuXG4vKipcbiAqIERldGVybWluZXMgaWYgbGluZWFyIHJpbmdzIGFyZSBvcmllbnRlZC4gIEJ5IGRlZmF1bHQsIGxlZnQtaGFuZCBvcmllbnRhdGlvblxuICogaXMgdGVzdGVkIChmaXJzdCByaW5nIG11c3QgYmUgY2xvY2t3aXNlLCByZW1haW5pbmcgcmluZ3MgY291bnRlci1jbG9ja3dpc2UpLlxuICogVG8gdGVzdCBmb3IgcmlnaHQtaGFuZCBvcmllbnRhdGlvbiwgdXNlIHRoZSBgb3B0X3JpZ2h0YCBhcmd1bWVudC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgQXJyYXkgb2YgZW5kIGluZGV4ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9yaWdodCBUZXN0IGZvciByaWdodC1oYW5kIG9yaWVudGF0aW9uXG4gKiAgICAgKGNvdW50ZXItY2xvY2t3aXNlIGV4dGVyaW9yIHJpbmcgYW5kIGNsb2Nrd2lzZSBpbnRlcmlvciByaW5ncykuXG4gKiBAcmV0dXJuIHtib29sZWFufSBSaW5ncyBhcmUgY29ycmVjdGx5IG9yaWVudGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ0lzT3JpZW50ZWQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgb3B0X3JpZ2h0KSB7XG4gIHZhciByaWdodCA9IG9wdF9yaWdodCAhPT0gdW5kZWZpbmVkID8gb3B0X3JpZ2h0IDogZmFsc2U7XG4gIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIHZhciBlbmQgPSBlbmRzW2ldO1xuICAgIHZhciBpc0Nsb2Nrd2lzZSA9IGxpbmVhclJpbmdJc0Nsb2Nrd2lzZShcbiAgICAgIGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSk7XG4gICAgaWYgKGkgPT09IDApIHtcbiAgICAgIGlmICgocmlnaHQgJiYgaXNDbG9ja3dpc2UpIHx8ICghcmlnaHQgJiYgIWlzQ2xvY2t3aXNlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICgocmlnaHQgJiYgIWlzQ2xvY2t3aXNlKSB8fCAoIXJpZ2h0ICYmIGlzQ2xvY2t3aXNlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIG9mZnNldCA9IGVuZDtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuXG4vKipcbiAqIERldGVybWluZXMgaWYgbGluZWFyIHJpbmdzIGFyZSBvcmllbnRlZC4gIEJ5IGRlZmF1bHQsIGxlZnQtaGFuZCBvcmllbnRhdGlvblxuICogaXMgdGVzdGVkIChmaXJzdCByaW5nIG11c3QgYmUgY2xvY2t3aXNlLCByZW1haW5pbmcgcmluZ3MgY291bnRlci1jbG9ja3dpc2UpLlxuICogVG8gdGVzdCBmb3IgcmlnaHQtaGFuZCBvcmllbnRhdGlvbiwgdXNlIHRoZSBgb3B0X3JpZ2h0YCBhcmd1bWVudC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBBcnJheSBvZiBhcnJheSBvZiBlbmQgaW5kZXhlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X3JpZ2h0IFRlc3QgZm9yIHJpZ2h0LWhhbmQgb3JpZW50YXRpb25cbiAqICAgICAoY291bnRlci1jbG9ja3dpc2UgZXh0ZXJpb3IgcmluZyBhbmQgY2xvY2t3aXNlIGludGVyaW9yIHJpbmdzKS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFJpbmdzIGFyZSBjb3JyZWN0bHkgb3JpZW50ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nc0FyZU9yaWVudGVkKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlLCBvcHRfcmlnaHQpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGlmICghbGluZWFyUmluZ0lzT3JpZW50ZWQoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc3NbaV0sIHN0cmlkZSwgb3B0X3JpZ2h0KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuXG4vKipcbiAqIE9yaWVudCBjb29yZGluYXRlcyBpbiBhIGZsYXQgYXJyYXkgb2YgbGluZWFyIHJpbmdzLiAgQnkgZGVmYXVsdCwgcmluZ3NcbiAqIGFyZSBvcmllbnRlZCBmb2xsb3dpbmcgdGhlIGxlZnQtaGFuZCBydWxlIChjbG9ja3dpc2UgZm9yIGV4dGVyaW9yIGFuZFxuICogY291bnRlci1jbG9ja3dpc2UgZm9yIGludGVyaW9yIHJpbmdzKS4gIFRvIG9yaWVudCBhY2NvcmRpbmcgdG8gdGhlXG4gKiByaWdodC1oYW5kIHJ1bGUsIHVzZSB0aGUgYG9wdF9yaWdodGAgYXJndW1lbnQuXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9yaWdodCBGb2xsb3cgdGhlIHJpZ2h0LWhhbmQgcnVsZSBmb3Igb3JpZW50YXRpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEVuZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9yaWVudExpbmVhclJpbmdzKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIG9wdF9yaWdodCkge1xuICB2YXIgcmlnaHQgPSBvcHRfcmlnaHQgIT09IHVuZGVmaW5lZCA/IG9wdF9yaWdodCA6IGZhbHNlO1xuICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICB2YXIgZW5kID0gZW5kc1tpXTtcbiAgICB2YXIgaXNDbG9ja3dpc2UgPSBsaW5lYXJSaW5nSXNDbG9ja3dpc2UoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpO1xuICAgIHZhciByZXZlcnNlID0gaSA9PT0gMCA/XG4gICAgICAocmlnaHQgJiYgaXNDbG9ja3dpc2UpIHx8ICghcmlnaHQgJiYgIWlzQ2xvY2t3aXNlKSA6XG4gICAgICAocmlnaHQgJiYgIWlzQ2xvY2t3aXNlKSB8fCAoIXJpZ2h0ICYmIGlzQ2xvY2t3aXNlKTtcbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgcmV2ZXJzZUNvb3JkaW5hdGVzKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSk7XG4gICAgfVxuICAgIG9mZnNldCA9IGVuZDtcbiAgfVxuICByZXR1cm4gb2Zmc2V0O1xufVxuXG5cbi8qKlxuICogT3JpZW50IGNvb3JkaW5hdGVzIGluIGEgZmxhdCBhcnJheSBvZiBsaW5lYXIgcmluZ3MuICBCeSBkZWZhdWx0LCByaW5nc1xuICogYXJlIG9yaWVudGVkIGZvbGxvd2luZyB0aGUgbGVmdC1oYW5kIHJ1bGUgKGNsb2Nrd2lzZSBmb3IgZXh0ZXJpb3IgYW5kXG4gKiBjb3VudGVyLWNsb2Nrd2lzZSBmb3IgaW50ZXJpb3IgcmluZ3MpLiAgVG8gb3JpZW50IGFjY29yZGluZyB0byB0aGVcbiAqIHJpZ2h0LWhhbmQgcnVsZSwgdXNlIHRoZSBgb3B0X3JpZ2h0YCBhcmd1bWVudC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBBcnJheSBvZiBhcnJheSBvZiBlbmQgaW5kZXhlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X3JpZ2h0IEZvbGxvdyB0aGUgcmlnaHQtaGFuZCBydWxlIGZvciBvcmllbnRhdGlvbi5cbiAqIEByZXR1cm4ge251bWJlcn0gRW5kLlxuICovXG5leHBvcnQgZnVuY3Rpb24gb3JpZW50TGluZWFyUmluZ3NBcnJheShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc3MsIHN0cmlkZSwgb3B0X3JpZ2h0KSB7XG4gIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBvZmZzZXQgPSBvcmllbnRMaW5lYXJSaW5ncyhcbiAgICAgIGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzc1tpXSwgc3RyaWRlLCBvcHRfcmlnaHQpO1xuICB9XG4gIHJldHVybiBvZmZzZXQ7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9yaWVudC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcG9pbnRlci9FdmVudFNvdXJjZVxuICovXG5cbnZhciBFdmVudFNvdXJjZSA9IGZ1bmN0aW9uIEV2ZW50U291cmNlKGRpc3BhdGNoZXIsIG1hcHBpbmcpIHtcblxuICAvKipcbiAgICogQHR5cGUge2ltcG9ydChcIi4vUG9pbnRlckV2ZW50SGFuZGxlci5qc1wiKS5kZWZhdWx0fVxuICAgKi9cbiAgdGhpcy5kaXNwYXRjaGVyID0gZGlzcGF0Y2hlcjtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQGNvbnN0XG4gICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgZnVuY3Rpb24oRXZlbnQpPn1cbiAgICovXG4gIHRoaXMubWFwcGluZ18gPSBtYXBwaW5nO1xufTtcblxuLyoqXG4gKiBMaXN0IG9mIGV2ZW50cyBzdXBwb3J0ZWQgYnkgdGhpcyBzb3VyY2UuXG4gKiBAcmV0dXJuIHtBcnJheTxzdHJpbmc+fSBFdmVudCBuYW1lc1xuICovXG5FdmVudFNvdXJjZS5wcm90b3R5cGUuZ2V0RXZlbnRzID0gZnVuY3Rpb24gZ2V0RXZlbnRzICgpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMubWFwcGluZ18pO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBoYW5kbGVyIHRoYXQgc2hvdWxkIGhhbmRsZSBhIGdpdmVuIGV2ZW50IHR5cGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlIFRoZSBldmVudCB0eXBlLlxuICogQHJldHVybiB7ZnVuY3Rpb24oRXZlbnQpfSBIYW5kbGVyXG4gKi9cbkV2ZW50U291cmNlLnByb3RvdHlwZS5nZXRIYW5kbGVyRm9yRXZlbnQgPSBmdW5jdGlvbiBnZXRIYW5kbGVyRm9yRXZlbnQgKGV2ZW50VHlwZSkge1xuICByZXR1cm4gdGhpcy5tYXBwaW5nX1tldmVudFR5cGVdO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRXZlbnRTb3VyY2U7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV2ZW50U291cmNlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9JY29uSW1hZ2VDYWNoZVxuICovXG5pbXBvcnQge2FzU3RyaW5nfSBmcm9tICcuLi9jb2xvci5qcyc7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogU2luZ2xldG9uIGNsYXNzLiBBdmFpbGFibGUgdGhyb3VnaCB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlL0ljb25JbWFnZUNhY2hlfnNoYXJlZH0uXG4gKi9cbnZhciBJY29uSW1hZ2VDYWNoZSA9IGZ1bmN0aW9uIEljb25JbWFnZUNhY2hlKCkge1xuXG4gIC8qKlxuICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi9JY29uSW1hZ2UuanNcIikuZGVmYXVsdD59XG4gICogQHByaXZhdGVcbiAgKi9cbiAgdGhpcy5jYWNoZV8gPSB7fTtcblxuICAvKipcbiAgKiBAdHlwZSB7bnVtYmVyfVxuICAqIEBwcml2YXRlXG4gICovXG4gIHRoaXMuY2FjaGVTaXplXyA9IDA7XG5cbiAgLyoqXG4gICogQHR5cGUge251bWJlcn1cbiAgKiBAcHJpdmF0ZVxuICAqL1xuICB0aGlzLm1heENhY2hlU2l6ZV8gPSAzMjtcbn07XG5cbi8qKlxuKiBGSVhNRSBlbXB0eSBkZXNjcmlwdGlvbiBmb3IganNkb2NcbiovXG5JY29uSW1hZ2VDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhciAoKSB7XG4gIHRoaXMuY2FjaGVfID0ge307XG4gIHRoaXMuY2FjaGVTaXplXyA9IDA7XG59O1xuXG4vKipcbiogRklYTUUgZW1wdHkgZGVzY3JpcHRpb24gZm9yIGpzZG9jXG4qL1xuSWNvbkltYWdlQ2FjaGUucHJvdG90eXBlLmV4cGlyZSA9IGZ1bmN0aW9uIGV4cGlyZSAoKSB7XG4gIGlmICh0aGlzLmNhY2hlU2l6ZV8gPiB0aGlzLm1heENhY2hlU2l6ZV8pIHtcbiAgICB2YXIgaSA9IDA7XG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMuY2FjaGVfKSB7XG4gICAgICB2YXIgaWNvbkltYWdlID0gdGhpcy5jYWNoZV9ba2V5XTtcbiAgICAgIGlmICgoaSsrICYgMykgPT09IDAgJiYgIWljb25JbWFnZS5oYXNMaXN0ZW5lcigpKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmNhY2hlX1trZXldO1xuICAgICAgICAtLXRoaXMuY2FjaGVTaXplXztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuKiBAcGFyYW0ge3N0cmluZ30gc3JjIFNyYy5cbiogQHBhcmFtIHs/c3RyaW5nfSBjcm9zc09yaWdpbiBDcm9zcyBvcmlnaW4uXG4qIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J9IGNvbG9yIENvbG9yLlxuKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0ljb25JbWFnZS5qc1wiKS5kZWZhdWx0fSBJY29uIGltYWdlLlxuKi9cbkljb25JbWFnZUNhY2hlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKHNyYywgY3Jvc3NPcmlnaW4sIGNvbG9yKSB7XG4gIHZhciBrZXkgPSBnZXRLZXkoc3JjLCBjcm9zc09yaWdpbiwgY29sb3IpO1xuICByZXR1cm4ga2V5IGluIHRoaXMuY2FjaGVfID8gdGhpcy5jYWNoZV9ba2V5XSA6IG51bGw7XG59O1xuXG4vKipcbiogQHBhcmFtIHtzdHJpbmd9IHNyYyBTcmMuXG4qIEBwYXJhbSB7P3N0cmluZ30gY3Jvc3NPcmlnaW4gQ3Jvc3Mgb3JpZ2luLlxuKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfSBjb2xvciBDb2xvci5cbiogQHBhcmFtIHtpbXBvcnQoXCIuL0ljb25JbWFnZS5qc1wiKS5kZWZhdWx0fSBpY29uSW1hZ2UgSWNvbiBpbWFnZS5cbiovXG5JY29uSW1hZ2VDYWNoZS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0IChzcmMsIGNyb3NzT3JpZ2luLCBjb2xvciwgaWNvbkltYWdlKSB7XG4gIHZhciBrZXkgPSBnZXRLZXkoc3JjLCBjcm9zc09yaWdpbiwgY29sb3IpO1xuICB0aGlzLmNhY2hlX1trZXldID0gaWNvbkltYWdlO1xuICArK3RoaXMuY2FjaGVTaXplXztcbn07XG5cbi8qKlxuKiBTZXQgdGhlIGNhY2hlIHNpemUgb2YgdGhlIGljb24gY2FjaGUuIERlZmF1bHQgaXMgYDMyYC4gQ2hhbmdlIHRoaXMgdmFsdWUgd2hlblxuKiB5b3VyIG1hcCB1c2VzIG1vcmUgdGhhbiAzMiBkaWZmZXJlbnQgaWNvbiBpbWFnZXMgYW5kIHlvdSBhcmUgbm90IGNhY2hpbmcgaWNvblxuKiBzdHlsZXMgb24gdGhlIGFwcGxpY2F0aW9uIGxldmVsLlxuKiBAcGFyYW0ge251bWJlcn0gbWF4Q2FjaGVTaXplIENhY2hlIG1heCBzaXplLlxuKiBAYXBpXG4qL1xuSWNvbkltYWdlQ2FjaGUucHJvdG90eXBlLnNldFNpemUgPSBmdW5jdGlvbiBzZXRTaXplIChtYXhDYWNoZVNpemUpIHtcbiAgdGhpcy5tYXhDYWNoZVNpemVfID0gbWF4Q2FjaGVTaXplO1xuICB0aGlzLmV4cGlyZSgpO1xufTtcblxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgU3JjLlxuICogQHBhcmFtIHs/c3RyaW5nfSBjcm9zc09yaWdpbiBDcm9zcyBvcmlnaW4uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfSBjb2xvciBDb2xvci5cbiAqIEByZXR1cm4ge3N0cmluZ30gQ2FjaGUga2V5LlxuICovXG5mdW5jdGlvbiBnZXRLZXkoc3JjLCBjcm9zc09yaWdpbiwgY29sb3IpIHtcbiAgdmFyIGNvbG9yU3RyaW5nID0gY29sb3IgPyBhc1N0cmluZyhjb2xvcikgOiAnbnVsbCc7XG4gIHJldHVybiBjcm9zc09yaWdpbiArICc6JyArIHNyYyArICc6JyArIGNvbG9yU3RyaW5nO1xufVxuXG5cbmV4cG9ydCBkZWZhdWx0IEljb25JbWFnZUNhY2hlO1xuXG5cbi8qKlxuICogVGhlIHtAbGluayBtb2R1bGU6b2wvc3R5bGUvSWNvbkltYWdlQ2FjaGV+SWNvbkltYWdlQ2FjaGV9IGZvclxuICoge0BsaW5rIG1vZHVsZTpvbC9zdHlsZS9JY29ufkljb259IGltYWdlcy5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciBzaGFyZWQgPSBuZXcgSWNvbkltYWdlQ2FjaGUoKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SWNvbkltYWdlQ2FjaGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2Zvcm1hdC9Gb3JtYXRUeXBlXG4gKi9cblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIEFSUkFZX0JVRkZFUjogJ2FycmF5YnVmZmVyJyxcbiAgSlNPTjogJ2pzb24nLFxuICBURVhUOiAndGV4dCcsXG4gIFhNTDogJ3htbCdcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZvcm1hdFR5cGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2ZlYXR1cmVsb2FkZXJcbiAqL1xuaW1wb3J0IHtWT0lEfSBmcm9tICcuL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQgRm9ybWF0VHlwZSBmcm9tICcuL2Zvcm1hdC9Gb3JtYXRUeXBlLmpzJztcblxuLyoqXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J9IHNvdXJjZXMgdXNlIGEgZnVuY3Rpb24gb2YgdGhpcyB0eXBlIHRvXG4gKiBsb2FkIGZlYXR1cmVzLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9leHRlbnR+RXh0ZW50fSByZXByZXNlbnRpbmcgdGhlIGFyZWEgdG8gYmUgbG9hZGVkLFxuICogYSBge251bWJlcn1gIHJlcHJlc2VudGluZyB0aGUgcmVzb2x1dGlvbiAobWFwIHVuaXRzIHBlciBwaXhlbCkgYW5kIGFuXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovUHJvamVjdGlvbn0gZm9yIHRoZSBwcm9qZWN0aW9uICBhc1xuICogYXJndW1lbnRzLiBgdGhpc2Agd2l0aGluIHRoZSBmdW5jdGlvbiBpcyBib3VuZCB0byB0aGVcbiAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn0gaXQncyBjYWxsZWQgZnJvbS5cbiAqXG4gKiBUaGUgZnVuY3Rpb24gaXMgcmVzcG9uc2libGUgZm9yIGxvYWRpbmcgdGhlIGZlYXR1cmVzIGFuZCBhZGRpbmcgdGhlbSB0byB0aGVcbiAqIHNvdXJjZS5cbiAqIEB0eXBlZGVmIHtmdW5jdGlvbih0aGlzOihpbXBvcnQoXCIuL3NvdXJjZS9WZWN0b3JcIikuZGVmYXVsdHxpbXBvcnQoXCIuL1ZlY3RvclRpbGUuanNcIikuZGVmYXVsdCksIGltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudCwgbnVtYmVyLFxuICogICAgICAgICAgICAgICAgICAgIGltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHQpfSBGZWF0dXJlTG9hZGVyXG4gKiBAYXBpXG4gKi9cblxuXG4vKipcbiAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn0gc291cmNlcyB1c2UgYSBmdW5jdGlvbiBvZiB0aGlzIHR5cGUgdG9cbiAqIGdldCB0aGUgdXJsIHRvIGxvYWQgZmVhdHVyZXMgZnJvbS5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvZXh0ZW50fkV4dGVudH0gcmVwcmVzZW50aW5nIHRoZSBhcmVhXG4gKiB0byBiZSBsb2FkZWQsIGEgYHtudW1iZXJ9YCByZXByZXNlbnRpbmcgdGhlIHJlc29sdXRpb24gKG1hcCB1bml0cyBwZXIgcGl4ZWwpXG4gKiBhbmQgYW4ge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb259IGZvciB0aGUgcHJvamVjdGlvbiAgYXNcbiAqIGFyZ3VtZW50cyBhbmQgcmV0dXJucyBhIGB7c3RyaW5nfWAgcmVwcmVzZW50aW5nIHRoZSBVUkwuXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50LCBudW1iZXIsIGltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHQpOiBzdHJpbmd9IEZlYXR1cmVVcmxGdW5jdGlvblxuICogQGFwaVxuICovXG5cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ3xGZWF0dXJlVXJsRnVuY3Rpb259IHVybCBGZWF0dXJlIFVSTCBzZXJ2aWNlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Zvcm1hdC9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZvcm1hdCBGZWF0dXJlIGZvcm1hdC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczppbXBvcnQoXCIuL1ZlY3RvclRpbGUuanNcIikuZGVmYXVsdCwgQXJyYXk8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+LCBpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0LCBpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnQpfGZ1bmN0aW9uKHRoaXM6aW1wb3J0KFwiLi9zb3VyY2UvVmVjdG9yXCIpLmRlZmF1bHQsIEFycmF5PGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pil9IHN1Y2Nlc3NcbiAqICAgICBGdW5jdGlvbiBjYWxsZWQgd2l0aCB0aGUgbG9hZGVkIGZlYXR1cmVzIGFuZCBvcHRpb25hbGx5IHdpdGggdGhlIGRhdGFcbiAqICAgICBwcm9qZWN0aW9uLiBDYWxsZWQgd2l0aCB0aGUgdmVjdG9yIHRpbGUgb3Igc291cmNlIGFzIGB0aGlzYC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczppbXBvcnQoXCIuL1ZlY3RvclRpbGUuanNcIikuZGVmYXVsdCl8ZnVuY3Rpb24odGhpczppbXBvcnQoXCIuL3NvdXJjZS9WZWN0b3JcIikuZGVmYXVsdCl9IGZhaWx1cmVcbiAqICAgICBGdW5jdGlvbiBjYWxsZWQgd2hlbiBsb2FkaW5nIGZhaWxlZC4gQ2FsbGVkIHdpdGggdGhlIHZlY3RvciB0aWxlIG9yXG4gKiAgICAgc291cmNlIGFzIGB0aGlzYC5cbiAqIEByZXR1cm4ge0ZlYXR1cmVMb2FkZXJ9IFRoZSBmZWF0dXJlIGxvYWRlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvYWRGZWF0dXJlc1hocih1cmwsIGZvcm1hdCwgc3VjY2VzcywgZmFpbHVyZSkge1xuICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHRoaXMge2ltcG9ydChcIi4vc291cmNlL1ZlY3RvclwiKS5kZWZhdWx0fGltcG9ydChcIi4vVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIGZ1bmN0aW9uKGV4dGVudCwgcmVzb2x1dGlvbiwgcHJvamVjdGlvbikge1xuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgeGhyLm9wZW4oJ0dFVCcsXG4gICAgICAgIHR5cGVvZiB1cmwgPT09ICdmdW5jdGlvbicgPyB1cmwoZXh0ZW50LCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uKSA6IHVybCxcbiAgICAgICAgdHJ1ZSk7XG4gICAgICBpZiAoZm9ybWF0LmdldFR5cGUoKSA9PSBGb3JtYXRUeXBlLkFSUkFZX0JVRkZFUikge1xuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgRXZlbnQuXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgLy8gc3RhdHVzIHdpbGwgYmUgMCBmb3IgZmlsZTovLyB1cmxzXG4gICAgICAgIGlmICgheGhyLnN0YXR1cyB8fCB4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgICAgdmFyIHR5cGUgPSBmb3JtYXQuZ2V0VHlwZSgpO1xuICAgICAgICAgIC8qKiBAdHlwZSB7RG9jdW1lbnR8Tm9kZXxPYmplY3R8c3RyaW5nfHVuZGVmaW5lZH0gKi9cbiAgICAgICAgICB2YXIgc291cmNlO1xuICAgICAgICAgIGlmICh0eXBlID09IEZvcm1hdFR5cGUuSlNPTiB8fCB0eXBlID09IEZvcm1hdFR5cGUuVEVYVCkge1xuICAgICAgICAgICAgc291cmNlID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gRm9ybWF0VHlwZS5YTUwpIHtcbiAgICAgICAgICAgIHNvdXJjZSA9IHhoci5yZXNwb25zZVhNTDtcbiAgICAgICAgICAgIGlmICghc291cmNlKSB7XG4gICAgICAgICAgICAgIHNvdXJjZSA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoeGhyLnJlc3BvbnNlVGV4dCwgJ2FwcGxpY2F0aW9uL3htbCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSBGb3JtYXRUeXBlLkFSUkFZX0JVRkZFUikge1xuICAgICAgICAgICAgc291cmNlID0gLyoqIEB0eXBlIHtBcnJheUJ1ZmZlcn0gKi8gKHhoci5yZXNwb25zZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIHN1Y2Nlc3MuY2FsbCh0aGlzLCBmb3JtYXQucmVhZEZlYXR1cmVzKHNvdXJjZSxcbiAgICAgICAgICAgICAge2ZlYXR1cmVQcm9qZWN0aW9uOiBwcm9qZWN0aW9ufSksXG4gICAgICAgICAgICBmb3JtYXQucmVhZFByb2plY3Rpb24oc291cmNlKSwgZm9ybWF0LmdldExhc3RFeHRlbnQoKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZhaWx1cmUuY2FsbCh0aGlzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmFpbHVyZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9LmJpbmQodGhpcyk7XG4gICAgICAvKipcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGZhaWx1cmUuY2FsbCh0aGlzKTtcbiAgICAgIH0uYmluZCh0aGlzKTtcbiAgICAgIHhoci5zZW5kKCk7XG4gICAgfVxuICApO1xufVxuXG5cbi8qKlxuICogQ3JlYXRlIGFuIFhIUiBmZWF0dXJlIGxvYWRlciBmb3IgYSBgdXJsYCBhbmQgYGZvcm1hdGAuIFRoZSBmZWF0dXJlIGxvYWRlclxuICogbG9hZHMgZmVhdHVyZXMgKHdpdGggWEhSKSwgcGFyc2VzIHRoZSBmZWF0dXJlcywgYW5kIGFkZHMgdGhlbSB0byB0aGVcbiAqIHZlY3RvciBzb3VyY2UuXG4gKiBAcGFyYW0ge3N0cmluZ3xGZWF0dXJlVXJsRnVuY3Rpb259IHVybCBGZWF0dXJlIFVSTCBzZXJ2aWNlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Zvcm1hdC9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZvcm1hdCBGZWF0dXJlIGZvcm1hdC5cbiAqIEByZXR1cm4ge0ZlYXR1cmVMb2FkZXJ9IFRoZSBmZWF0dXJlIGxvYWRlci5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHhocih1cmwsIGZvcm1hdCkge1xuICByZXR1cm4gbG9hZEZlYXR1cmVzWGhyKHVybCwgZm9ybWF0LFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fSBmZWF0dXJlcyBUaGUgbG9hZGVkIGZlYXR1cmVzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gZGF0YVByb2plY3Rpb24gRGF0YVxuICAgICAqIHByb2plY3Rpb24uXG4gICAgICogQHRoaXMge2ltcG9ydChcIi4vc291cmNlL1ZlY3RvclwiKS5kZWZhdWx0fGltcG9ydChcIi4vVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIGZ1bmN0aW9uKGZlYXR1cmVzLCBkYXRhUHJvamVjdGlvbikge1xuICAgICAgdmFyIHNvdXJjZU9yVGlsZSA9IC8qKiBAdHlwZSB7P30gKi8gKHRoaXMpO1xuICAgICAgaWYgKHR5cGVvZiBzb3VyY2VPclRpbGUuYWRkRmVhdHVyZXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuL3NvdXJjZS9WZWN0b3JcIikuZGVmYXVsdH0gKi8gKHNvdXJjZU9yVGlsZSkuYWRkRmVhdHVyZXMoZmVhdHVyZXMpO1xuICAgICAgfVxuICAgIH0sIC8qIEZJWE1FIGhhbmRsZSBlcnJvciAqLyBWT0lEKTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmVhdHVyZWxvYWRlci5qcy5tYXAiLCIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuXHR0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG5cdHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG5cdChnbG9iYWwucXVpY2tzZWxlY3QgPSBmYWN0b3J5KCkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIHF1aWNrc2VsZWN0KGFyciwgaywgbGVmdCwgcmlnaHQsIGNvbXBhcmUpIHtcbiAgICBxdWlja3NlbGVjdFN0ZXAoYXJyLCBrLCBsZWZ0IHx8IDAsIHJpZ2h0IHx8IChhcnIubGVuZ3RoIC0gMSksIGNvbXBhcmUgfHwgZGVmYXVsdENvbXBhcmUpO1xufVxuXG5mdW5jdGlvbiBxdWlja3NlbGVjdFN0ZXAoYXJyLCBrLCBsZWZ0LCByaWdodCwgY29tcGFyZSkge1xuXG4gICAgd2hpbGUgKHJpZ2h0ID4gbGVmdCkge1xuICAgICAgICBpZiAocmlnaHQgLSBsZWZ0ID4gNjAwKSB7XG4gICAgICAgICAgICB2YXIgbiA9IHJpZ2h0IC0gbGVmdCArIDE7XG4gICAgICAgICAgICB2YXIgbSA9IGsgLSBsZWZ0ICsgMTtcbiAgICAgICAgICAgIHZhciB6ID0gTWF0aC5sb2cobik7XG4gICAgICAgICAgICB2YXIgcyA9IDAuNSAqIE1hdGguZXhwKDIgKiB6IC8gMyk7XG4gICAgICAgICAgICB2YXIgc2QgPSAwLjUgKiBNYXRoLnNxcnQoeiAqIHMgKiAobiAtIHMpIC8gbikgKiAobSAtIG4gLyAyIDwgMCA/IC0xIDogMSk7XG4gICAgICAgICAgICB2YXIgbmV3TGVmdCA9IE1hdGgubWF4KGxlZnQsIE1hdGguZmxvb3IoayAtIG0gKiBzIC8gbiArIHNkKSk7XG4gICAgICAgICAgICB2YXIgbmV3UmlnaHQgPSBNYXRoLm1pbihyaWdodCwgTWF0aC5mbG9vcihrICsgKG4gLSBtKSAqIHMgLyBuICsgc2QpKTtcbiAgICAgICAgICAgIHF1aWNrc2VsZWN0U3RlcChhcnIsIGssIG5ld0xlZnQsIG5ld1JpZ2h0LCBjb21wYXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0ID0gYXJyW2tdO1xuICAgICAgICB2YXIgaSA9IGxlZnQ7XG4gICAgICAgIHZhciBqID0gcmlnaHQ7XG5cbiAgICAgICAgc3dhcChhcnIsIGxlZnQsIGspO1xuICAgICAgICBpZiAoY29tcGFyZShhcnJbcmlnaHRdLCB0KSA+IDApIHN3YXAoYXJyLCBsZWZ0LCByaWdodCk7XG5cbiAgICAgICAgd2hpbGUgKGkgPCBqKSB7XG4gICAgICAgICAgICBzd2FwKGFyciwgaSwgaik7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICBqLS07XG4gICAgICAgICAgICB3aGlsZSAoY29tcGFyZShhcnJbaV0sIHQpIDwgMCkgaSsrO1xuICAgICAgICAgICAgd2hpbGUgKGNvbXBhcmUoYXJyW2pdLCB0KSA+IDApIGotLTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb21wYXJlKGFycltsZWZ0XSwgdCkgPT09IDApIHN3YXAoYXJyLCBsZWZ0LCBqKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBqKys7XG4gICAgICAgICAgICBzd2FwKGFyciwgaiwgcmlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGogPD0gaykgbGVmdCA9IGogKyAxO1xuICAgICAgICBpZiAoayA8PSBqKSByaWdodCA9IGogLSAxO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc3dhcChhcnIsIGksIGopIHtcbiAgICB2YXIgdG1wID0gYXJyW2ldO1xuICAgIGFycltpXSA9IGFycltqXTtcbiAgICBhcnJbal0gPSB0bXA7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRDb21wYXJlKGEsIGIpIHtcbiAgICByZXR1cm4gYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IDA7XG59XG5cbnJldHVybiBxdWlja3NlbGVjdDtcblxufSkpKTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9wb2ludGVyL01vdXNlU291cmNlXG4gKi9cblxuLy8gQmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL1BvbHltZXIvUG9pbnRlckV2ZW50c1xuXG4vLyBDb3B5cmlnaHQgKGMpIDIwMTMgVGhlIFBvbHltZXIgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vXG4vLyBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbi8vIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmVcbi8vIG1ldDpcbi8vXG4vLyAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XG4vLyBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4vLyAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmVcbi8vIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXJcbi8vIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGVcbi8vIGRpc3RyaWJ1dGlvbi5cbi8vICogTmVpdGhlciB0aGUgbmFtZSBvZiBHb29nbGUgSW5jLiBub3IgdGhlIG5hbWVzIG9mIGl0c1xuLy8gY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb21cbi8vIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4vL1xuLy8gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xuLy8gXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxuLy8gTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXG4vLyBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxuLy8gT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXG4vLyBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UXG4vLyBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSxcbi8vIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWVxuLy8gVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxuLy8gKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFXG4vLyBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuXG5pbXBvcnQgRXZlbnRTb3VyY2UgZnJvbSAnLi9FdmVudFNvdXJjZS5qcyc7XG5cblxuLyoqXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgdmFyIFBPSU5URVJfSUQgPSAxO1xuXG5cbi8qKlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IHZhciBQT0lOVEVSX1RZUEUgPSAnbW91c2UnO1xuXG5cbi8qKlxuICogUmFkaXVzIGFyb3VuZCB0b3VjaGVuZCB0aGF0IHN3YWxsb3dzIG1vdXNlIGV2ZW50cy5cbiAqXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG52YXIgREVEVVBfRElTVCA9IDI1O1xuXG4vKipcbiAqIEhhbmRsZXIgZm9yIGBtb3VzZWRvd25gLlxuICpcbiAqIEB0aGlzIHtNb3VzZVNvdXJjZX1cbiAqIEBwYXJhbSB7TW91c2VFdmVudH0gaW5FdmVudCBUaGUgaW4gZXZlbnQuXG4gKi9cbmZ1bmN0aW9uIG1vdXNlZG93bihpbkV2ZW50KSB7XG4gIGlmICghdGhpcy5pc0V2ZW50U2ltdWxhdGVkRnJvbVRvdWNoXyhpbkV2ZW50KSkge1xuICAgIC8vIFRPRE8oZGZyZWVkbWFuKSB3b3JrYXJvdW5kIGZvciBzb21lIGVsZW1lbnRzIG5vdCBzZW5kaW5nIG1vdXNldXBcbiAgICAvLyBodHRwOi8vY3JidWcvMTQ5MDkxXG4gICAgaWYgKFBPSU5URVJfSUQudG9TdHJpbmcoKSBpbiB0aGlzLnBvaW50ZXJNYXApIHtcbiAgICAgIHRoaXMuY2FuY2VsKGluRXZlbnQpO1xuICAgIH1cbiAgICB2YXIgZSA9IHByZXBhcmVFdmVudChpbkV2ZW50LCB0aGlzLmRpc3BhdGNoZXIpO1xuICAgIHRoaXMucG9pbnRlck1hcFtQT0lOVEVSX0lELnRvU3RyaW5nKCldID0gaW5FdmVudDtcbiAgICB0aGlzLmRpc3BhdGNoZXIuZG93bihlLCBpbkV2ZW50KTtcbiAgfVxufVxuXG4vKipcbiAqIEhhbmRsZXIgZm9yIGBtb3VzZW1vdmVgLlxuICpcbiAqIEB0aGlzIHtNb3VzZVNvdXJjZX1cbiAqIEBwYXJhbSB7TW91c2VFdmVudH0gaW5FdmVudCBUaGUgaW4gZXZlbnQuXG4gKi9cbmZ1bmN0aW9uIG1vdXNlbW92ZShpbkV2ZW50KSB7XG4gIGlmICghdGhpcy5pc0V2ZW50U2ltdWxhdGVkRnJvbVRvdWNoXyhpbkV2ZW50KSkge1xuICAgIHZhciBlID0gcHJlcGFyZUV2ZW50KGluRXZlbnQsIHRoaXMuZGlzcGF0Y2hlcik7XG4gICAgdGhpcy5kaXNwYXRjaGVyLm1vdmUoZSwgaW5FdmVudCk7XG4gIH1cbn1cblxuLyoqXG4gKiBIYW5kbGVyIGZvciBgbW91c2V1cGAuXG4gKlxuICogQHRoaXMge01vdXNlU291cmNlfVxuICogQHBhcmFtIHtNb3VzZUV2ZW50fSBpbkV2ZW50IFRoZSBpbiBldmVudC5cbiAqL1xuZnVuY3Rpb24gbW91c2V1cChpbkV2ZW50KSB7XG4gIGlmICghdGhpcy5pc0V2ZW50U2ltdWxhdGVkRnJvbVRvdWNoXyhpbkV2ZW50KSkge1xuICAgIHZhciBwID0gdGhpcy5wb2ludGVyTWFwW1BPSU5URVJfSUQudG9TdHJpbmcoKV07XG5cbiAgICBpZiAocCAmJiBwLmJ1dHRvbiA9PT0gaW5FdmVudC5idXR0b24pIHtcbiAgICAgIHZhciBlID0gcHJlcGFyZUV2ZW50KGluRXZlbnQsIHRoaXMuZGlzcGF0Y2hlcik7XG4gICAgICB0aGlzLmRpc3BhdGNoZXIudXAoZSwgaW5FdmVudCk7XG4gICAgICB0aGlzLmNsZWFudXBNb3VzZSgpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEhhbmRsZXIgZm9yIGBtb3VzZW92ZXJgLlxuICpcbiAqIEB0aGlzIHtNb3VzZVNvdXJjZX1cbiAqIEBwYXJhbSB7TW91c2VFdmVudH0gaW5FdmVudCBUaGUgaW4gZXZlbnQuXG4gKi9cbmZ1bmN0aW9uIG1vdXNlb3ZlcihpbkV2ZW50KSB7XG4gIGlmICghdGhpcy5pc0V2ZW50U2ltdWxhdGVkRnJvbVRvdWNoXyhpbkV2ZW50KSkge1xuICAgIHZhciBlID0gcHJlcGFyZUV2ZW50KGluRXZlbnQsIHRoaXMuZGlzcGF0Y2hlcik7XG4gICAgdGhpcy5kaXNwYXRjaGVyLmVudGVyT3ZlcihlLCBpbkV2ZW50KTtcbiAgfVxufVxuXG4vKipcbiAqIEhhbmRsZXIgZm9yIGBtb3VzZW91dGAuXG4gKlxuICogQHRoaXMge01vdXNlU291cmNlfVxuICogQHBhcmFtIHtNb3VzZUV2ZW50fSBpbkV2ZW50IFRoZSBpbiBldmVudC5cbiAqL1xuZnVuY3Rpb24gbW91c2VvdXQoaW5FdmVudCkge1xuICBpZiAoIXRoaXMuaXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaF8oaW5FdmVudCkpIHtcbiAgICB2YXIgZSA9IHByZXBhcmVFdmVudChpbkV2ZW50LCB0aGlzLmRpc3BhdGNoZXIpO1xuICAgIHRoaXMuZGlzcGF0Y2hlci5sZWF2ZU91dChlLCBpbkV2ZW50KTtcbiAgfVxufVxuXG5cbnZhciBNb3VzZVNvdXJjZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEV2ZW50U291cmNlKSB7XG4gIGZ1bmN0aW9uIE1vdXNlU291cmNlKGRpc3BhdGNoZXIpIHtcbiAgICB2YXIgbWFwcGluZyA9IHtcbiAgICAgICdtb3VzZWRvd24nOiBtb3VzZWRvd24sXG4gICAgICAnbW91c2Vtb3ZlJzogbW91c2Vtb3ZlLFxuICAgICAgJ21vdXNldXAnOiBtb3VzZXVwLFxuICAgICAgJ21vdXNlb3Zlcic6IG1vdXNlb3ZlcixcbiAgICAgICdtb3VzZW91dCc6IG1vdXNlb3V0XG4gICAgfTtcbiAgICBFdmVudFNvdXJjZS5jYWxsKHRoaXMsIGRpc3BhdGNoZXIsIG1hcHBpbmcpO1xuXG4gICAgLyoqXG4gICAgICogQGNvbnN0XG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBFdmVudHxPYmplY3Q+fVxuICAgICAqL1xuICAgIHRoaXMucG9pbnRlck1hcCA9IGRpc3BhdGNoZXIucG9pbnRlck1hcDtcblxuICAgIC8qKlxuICAgICAqIEBjb25zdFxuICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbD59XG4gICAgICovXG4gICAgdGhpcy5sYXN0VG91Y2hlcyA9IFtdO1xuICB9XG5cbiAgaWYgKCBFdmVudFNvdXJjZSApIE1vdXNlU291cmNlLl9fcHJvdG9fXyA9IEV2ZW50U291cmNlO1xuICBNb3VzZVNvdXJjZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBFdmVudFNvdXJjZSAmJiBFdmVudFNvdXJjZS5wcm90b3R5cGUgKTtcbiAgTW91c2VTb3VyY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTW91c2VTb3VyY2U7XG5cbiAgLyoqXG4gICAqIERldGVjdCBpZiBhIG1vdXNlIGV2ZW50IHdhcyBzaW11bGF0ZWQgZnJvbSBhIHRvdWNoIGJ5XG4gICAqIGNoZWNraW5nIGlmIHByZXZpb3VzbHkgdGhlcmUgd2FzIGEgdG91Y2ggZXZlbnQgYXQgdGhlXG4gICAqIHNhbWUgcG9zaXRpb24uXG4gICAqXG4gICAqIEZJWE1FIC0gS25vd24gcHJvYmxlbSB3aXRoIHRoZSBuYXRpdmUgQW5kcm9pZCBicm93c2VyIG9uXG4gICAqIFNhbXN1bmcgR1QtSTkxMDAgKEFuZHJvaWQgNC4xLjIpOlxuICAgKiBJbiBjYXNlIHRoZSBwYWdlIGlzIHNjcm9sbGVkLCB0aGlzIGZ1bmN0aW9uIGRvZXMgbm90IHdvcmtcbiAgICogY29ycmVjdGx5IHdoZW4gYSBjYW52YXMgaXMgdXNlZCAoV2ViR0wgb3IgY2FudmFzIHJlbmRlcmVyKS5cbiAgICogTW91c2UgbGlzdGVuZXJzIG9uIGNhbnZhcyBlbGVtZW50cyAoZm9yIHRoaXMgYnJvd3NlciksIGNyZWF0ZVxuICAgKiB0d28gbW91c2UgZXZlbnRzOiBPbmUgJ2dvb2QnIGFuZCBvbmUgJ2JhZCcgb25lIChvbiBvdGhlciBicm93c2VycyBvclxuICAgKiB3aGVuIGEgZGl2IGlzIHVzZWQsIHRoZXJlIGlzIG9ubHkgb25lIGV2ZW50KS4gRm9yIHRoZSAnYmFkJyBvbmUsXG4gICAqIGNsaWVudFgvY2xpZW50WSBhbmQgYWxzbyBwYWdlWC9wYWdlWSBhcmUgd3Jvbmcgd2hlbiB0aGUgcGFnZVxuICAgKiBpcyBzY3JvbGxlZC4gQmVjYXVzZSBvZiB0aGF0LCB0aGlzIGZ1bmN0aW9uIGNhbiBub3QgZGV0ZWN0IGlmXG4gICAqIHRoZSBldmVudHMgd2VyZSBzaW11bGF0ZWQgZnJvbSBhIHRvdWNoIGV2ZW50LiBBcyByZXN1bHQsIGFcbiAgICogcG9pbnRlciBldmVudCBhdCBhIHdyb25nIHBvc2l0aW9uIGlzIGRpc3BhdGNoZWQsIHdoaWNoIGNvbmZ1c2VzXG4gICAqIHRoZSBtYXAgaW50ZXJhY3Rpb25zLlxuICAgKiBJdCBpcyB1bmNsZWFyLCBob3cgb25lIGNhbiBnZXQgdGhlIGNvcnJlY3QgcG9zaXRpb24gZm9yIHRoZSBldmVudFxuICAgKiBvciBkZXRlY3QgdGhhdCB0aGUgcG9zaXRpb25zIGFyZSBpbnZhbGlkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGluRXZlbnQgVGhlIGluIGV2ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlLCBpZiB0aGUgZXZlbnQgd2FzIGdlbmVyYXRlZCBieSBhIHRvdWNoLlxuICAgKi9cbiAgTW91c2VTb3VyY2UucHJvdG90eXBlLmlzRXZlbnRTaW11bGF0ZWRGcm9tVG91Y2hfID0gZnVuY3Rpb24gaXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaF8gKGluRXZlbnQpIHtcbiAgICB2YXIgbHRzID0gdGhpcy5sYXN0VG91Y2hlcztcbiAgICB2YXIgeCA9IGluRXZlbnQuY2xpZW50WDtcbiAgICB2YXIgeSA9IGluRXZlbnQuY2xpZW50WTtcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGx0cy5sZW5ndGgsIHQgPSAodm9pZCAwKTsgaSA8IGwgJiYgKHQgPSBsdHNbaV0pOyBpKyspIHtcbiAgICAgIC8vIHNpbXVsYXRlZCBtb3VzZSBldmVudHMgd2lsbCBiZSBzd2FsbG93ZWQgbmVhciBhIHByaW1hcnkgdG91Y2hlbmRcbiAgICAgIHZhciBkeCA9IE1hdGguYWJzKHggLSB0WzBdKTtcbiAgICAgIHZhciBkeSA9IE1hdGguYWJzKHkgLSB0WzFdKTtcbiAgICAgIGlmIChkeCA8PSBERURVUF9ESVNUICYmIGR5IDw9IERFRFVQX0RJU1QpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogRGlzcGF0Y2hlcyBhIGBwb2ludGVyY2FuY2VsYCBldmVudC5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gaW5FdmVudCBUaGUgaW4gZXZlbnQuXG4gICAqL1xuICBNb3VzZVNvdXJjZS5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24gY2FuY2VsIChpbkV2ZW50KSB7XG4gICAgdmFyIGUgPSBwcmVwYXJlRXZlbnQoaW5FdmVudCwgdGhpcy5kaXNwYXRjaGVyKTtcbiAgICB0aGlzLmRpc3BhdGNoZXIuY2FuY2VsKGUsIGluRXZlbnQpO1xuICAgIHRoaXMuY2xlYW51cE1vdXNlKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUgbW91c2UgZnJvbSB0aGUgbGlzdCBvZiBhY3RpdmUgcG9pbnRlcnMuXG4gICAqL1xuICBNb3VzZVNvdXJjZS5wcm90b3R5cGUuY2xlYW51cE1vdXNlID0gZnVuY3Rpb24gY2xlYW51cE1vdXNlICgpIHtcbiAgICBkZWxldGUgdGhpcy5wb2ludGVyTWFwW1BPSU5URVJfSUQudG9TdHJpbmcoKV07XG4gIH07XG5cbiAgcmV0dXJuIE1vdXNlU291cmNlO1xufShFdmVudFNvdXJjZSkpO1xuXG5cbi8qKlxuICogQ3JlYXRlcyBhIGNvcHkgb2YgdGhlIG9yaWdpbmFsIGV2ZW50IHRoYXQgd2lsbCBiZSB1c2VkXG4gKiBmb3IgdGhlIGZha2UgcG9pbnRlciBldmVudC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50fSBpbkV2ZW50IFRoZSBpbiBldmVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9Qb2ludGVyRXZlbnRIYW5kbGVyLmpzXCIpLmRlZmF1bHR9IGRpc3BhdGNoZXIgRXZlbnQgaGFuZGxlci5cbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvcGllZCBldmVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVFdmVudChpbkV2ZW50LCBkaXNwYXRjaGVyKSB7XG4gIHZhciBlID0gZGlzcGF0Y2hlci5jbG9uZUV2ZW50KGluRXZlbnQsIGluRXZlbnQpO1xuXG4gIC8vIGZvcndhcmQgbW91c2UgcHJldmVudERlZmF1bHRcbiAgdmFyIHBkID0gZS5wcmV2ZW50RGVmYXVsdDtcbiAgZS5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKCkge1xuICAgIGluRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBwZCgpO1xuICB9O1xuXG4gIGUucG9pbnRlcklkID0gUE9JTlRFUl9JRDtcbiAgZS5pc1ByaW1hcnkgPSB0cnVlO1xuICBlLnBvaW50ZXJUeXBlID0gUE9JTlRFUl9UWVBFO1xuXG4gIHJldHVybiBlO1xufVxuXG5cbmV4cG9ydCBkZWZhdWx0IE1vdXNlU291cmNlO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Nb3VzZVNvdXJjZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9JbW1lZGlhdGVcbiAqL1xuLy8gRklYTUUgdGVzdCwgZXNwZWNpYWxseSBwb2x5Z29ucyB3aXRoIGhvbGVzIGFuZCBtdWx0aXBvbHlnb25zXG4vLyBGSVhNRSBuZWVkIHRvIGhhbmRsZSBsYXJnZSB0aGljayBmZWF0dXJlcyAod2hlcmUgcGl4ZWwgc2l6ZSBtYXR0ZXJzKVxuLy8gRklYTUUgYWRkIG9mZnNldCBhbmQgZW5kIHRvIG9sL2dlb20vZmxhdC90cmFuc2Zvcm1+dHJhbnNmb3JtMkQ/XG5cbmltcG9ydCB7ZXF1YWxzfSBmcm9tICcuLi8uLi9hcnJheS5qcyc7XG5pbXBvcnQge2FzQ29sb3JMaWtlfSBmcm9tICcuLi8uLi9jb2xvcmxpa2UuanMnO1xuaW1wb3J0IHtpbnRlcnNlY3RzfSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuaW1wb3J0IEdlb21ldHJ5VHlwZSBmcm9tICcuLi8uLi9nZW9tL0dlb21ldHJ5VHlwZS5qcyc7XG5pbXBvcnQge3RyYW5zZm9ybUdlb20yRH0gZnJvbSAnLi4vLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qcyc7XG5pbXBvcnQge3RyYW5zZm9ybTJEfSBmcm9tICcuLi8uLi9nZW9tL2ZsYXQvdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7Q0FOVkFTX0xJTkVfREFTSH0gZnJvbSAnLi4vLi4vaGFzLmpzJztcbmltcG9ydCBWZWN0b3JDb250ZXh0IGZyb20gJy4uL1ZlY3RvckNvbnRleHQuanMnO1xuaW1wb3J0IHtkZWZhdWx0VGV4dEFsaWduLCBkZWZhdWx0RmlsbFN0eWxlLCBkZWZhdWx0TGluZUNhcCwgZGVmYXVsdExpbmVEYXNoLCBkZWZhdWx0TGluZURhc2hPZmZzZXQsIGRlZmF1bHRMaW5lSm9pbiwgZGVmYXVsdExpbmVXaWR0aCwgZGVmYXVsdE1pdGVyTGltaXQsIGRlZmF1bHRTdHJva2VTdHlsZSwgZGVmYXVsdFRleHRCYXNlbGluZSwgZGVmYXVsdEZvbnR9IGZyb20gJy4uL2NhbnZhcy5qcyc7XG5pbXBvcnQge2NyZWF0ZSBhcyBjcmVhdGVUcmFuc2Zvcm0sIGNvbXBvc2UgYXMgY29tcG9zZVRyYW5zZm9ybX0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtLmpzJztcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBIGNvbmNyZXRlIHN1YmNsYXNzIG9mIHtAbGluayBtb2R1bGU6b2wvcmVuZGVyL1ZlY3RvckNvbnRleHR9IHRoYXQgaW1wbGVtZW50c1xuICogZGlyZWN0IHJlbmRlcmluZyBvZiBmZWF0dXJlcyBhbmQgZ2VvbWV0cmllcyB0byBhbiBIVE1MNSBDYW52YXMgY29udGV4dC5cbiAqIEluc3RhbmNlcyBvZiB0aGlzIGNsYXNzIGFyZSBjcmVhdGVkIGludGVybmFsbHkgYnkgdGhlIGxpYnJhcnkgYW5kXG4gKiBwcm92aWRlZCB0byBhcHBsaWNhdGlvbiBjb2RlIGFzIHZlY3RvckNvbnRleHQgbWVtYmVyIG9mIHRoZVxuICoge0BsaW5rIG1vZHVsZTpvbC9yZW5kZXIvRXZlbnR+UmVuZGVyRXZlbnR9IG9iamVjdCBhc3NvY2lhdGVkIHdpdGggcG9zdGNvbXBvc2UsIHByZWNvbXBvc2UgYW5kXG4gKiByZW5kZXIgZXZlbnRzIGVtaXR0ZWQgYnkgbGF5ZXJzIGFuZCBtYXBzLlxuICovXG52YXIgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChWZWN0b3JDb250ZXh0KSB7XG4gIGZ1bmN0aW9uIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyKGNvbnRleHQsIHBpeGVsUmF0aW8sIGV4dGVudCwgdHJhbnNmb3JtLCB2aWV3Um90YXRpb24pIHtcbiAgICBWZWN0b3JDb250ZXh0LmNhbGwodGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICovXG4gICAgdGhpcy5jb250ZXh0XyA9IGNvbnRleHQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5waXhlbFJhdGlvXyA9IHBpeGVsUmF0aW87XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqL1xuICAgIHRoaXMuZXh0ZW50XyA9IGV4dGVudDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICovXG4gICAgdGhpcy50cmFuc2Zvcm1fID0gdHJhbnNmb3JtO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudmlld1JvdGF0aW9uXyA9IHZpZXdSb3RhdGlvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0YXRlfVxuICAgICAqL1xuICAgIHRoaXMuY29udGV4dEZpbGxTdGF0ZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLmNvbnRleHRTdHJva2VTdGF0ZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5UZXh0U3RhdGV9XG4gICAgICovXG4gICAgdGhpcy5jb250ZXh0VGV4dFN0YXRlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLmZpbGxTdGF0ZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLnN0cm9rZVN0YXRlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5pbWFnZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VBbmNob3JYXyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbWFnZUFuY2hvcllfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlSGVpZ2h0XyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbWFnZU9wYWNpdHlfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlT3JpZ2luWF8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VPcmlnaW5ZXyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VSb3RhdGVXaXRoVmlld18gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlUm90YXRpb25fID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlU2NhbGVfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlV2lkdGhfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnRleHRfID0gJyc7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50ZXh0T2Zmc2V0WF8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGV4dE9mZnNldFlfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy50ZXh0Um90YXRlV2l0aFZpZXdfID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50ZXh0Um90YXRpb25fID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRTY2FsZV8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3RhdGV9XG4gICAgICovXG4gICAgdGhpcy50ZXh0RmlsbFN0YXRlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlN0cm9rZVN0YXRlfVxuICAgICAqL1xuICAgIHRoaXMudGV4dFN0cm9rZVN0YXRlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlRleHRTdGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRTdGF0ZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICAgICAqL1xuICAgIHRoaXMudG1wTG9jYWxUcmFuc2Zvcm1fID0gY3JlYXRlVHJhbnNmb3JtKCk7XG5cbiAgfVxuXG4gIGlmICggVmVjdG9yQ29udGV4dCApIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLl9fcHJvdG9fXyA9IFZlY3RvckNvbnRleHQ7XG4gIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFZlY3RvckNvbnRleHQgJiYgVmVjdG9yQ29udGV4dC5wcm90b3R5cGUgKTtcbiAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXI7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuZHJhd0ltYWdlc18gPSBmdW5jdGlvbiBkcmF3SW1hZ2VzXyAoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gICAgaWYgKCF0aGlzLmltYWdlXykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcGl4ZWxDb29yZGluYXRlcyA9IHRyYW5zZm9ybTJEKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgMiwgdGhpcy50cmFuc2Zvcm1fLFxuICAgICAgdGhpcy5waXhlbENvb3JkaW5hdGVzXyk7XG4gICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgIHZhciBsb2NhbFRyYW5zZm9ybSA9IHRoaXMudG1wTG9jYWxUcmFuc2Zvcm1fO1xuICAgIHZhciBhbHBoYSA9IGNvbnRleHQuZ2xvYmFsQWxwaGE7XG4gICAgaWYgKHRoaXMuaW1hZ2VPcGFjaXR5XyAhPSAxKSB7XG4gICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gYWxwaGEgKiB0aGlzLmltYWdlT3BhY2l0eV87XG4gICAgfVxuICAgIHZhciByb3RhdGlvbiA9IHRoaXMuaW1hZ2VSb3RhdGlvbl87XG4gICAgaWYgKHRoaXMuaW1hZ2VSb3RhdGVXaXRoVmlld18pIHtcbiAgICAgIHJvdGF0aW9uICs9IHRoaXMudmlld1JvdGF0aW9uXztcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gcGl4ZWxDb29yZGluYXRlcy5sZW5ndGg7IGkgPCBpaTsgaSArPSAyKSB7XG4gICAgICB2YXIgeCA9IHBpeGVsQ29vcmRpbmF0ZXNbaV0gLSB0aGlzLmltYWdlQW5jaG9yWF87XG4gICAgICB2YXIgeSA9IHBpeGVsQ29vcmRpbmF0ZXNbaSArIDFdIC0gdGhpcy5pbWFnZUFuY2hvcllfO1xuICAgICAgaWYgKHJvdGF0aW9uICE9PSAwIHx8IHRoaXMuaW1hZ2VTY2FsZV8gIT0gMSkge1xuICAgICAgICB2YXIgY2VudGVyWCA9IHggKyB0aGlzLmltYWdlQW5jaG9yWF87XG4gICAgICAgIHZhciBjZW50ZXJZID0geSArIHRoaXMuaW1hZ2VBbmNob3JZXztcbiAgICAgICAgY29tcG9zZVRyYW5zZm9ybShsb2NhbFRyYW5zZm9ybSxcbiAgICAgICAgICBjZW50ZXJYLCBjZW50ZXJZLFxuICAgICAgICAgIHRoaXMuaW1hZ2VTY2FsZV8sIHRoaXMuaW1hZ2VTY2FsZV8sXG4gICAgICAgICAgcm90YXRpb24sXG4gICAgICAgICAgLWNlbnRlclgsIC1jZW50ZXJZKTtcbiAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0uYXBwbHkoY29udGV4dCwgbG9jYWxUcmFuc2Zvcm0pO1xuICAgICAgfVxuICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGhpcy5pbWFnZV8sIHRoaXMuaW1hZ2VPcmlnaW5YXywgdGhpcy5pbWFnZU9yaWdpbllfLFxuICAgICAgICB0aGlzLmltYWdlV2lkdGhfLCB0aGlzLmltYWdlSGVpZ2h0XywgeCwgeSxcbiAgICAgICAgdGhpcy5pbWFnZVdpZHRoXywgdGhpcy5pbWFnZUhlaWdodF8pO1xuICAgIH1cbiAgICBpZiAocm90YXRpb24gIT09IDAgfHwgdGhpcy5pbWFnZVNjYWxlXyAhPSAxKSB7XG4gICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaW1hZ2VPcGFjaXR5XyAhPSAxKSB7XG4gICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gYWxwaGE7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdUZXh0XyA9IGZ1bmN0aW9uIGRyYXdUZXh0XyAoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gICAgaWYgKCF0aGlzLnRleHRTdGF0ZV8gfHwgdGhpcy50ZXh0XyA9PT0gJycpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMudGV4dEZpbGxTdGF0ZV8pIHtcbiAgICAgIHRoaXMuc2V0Q29udGV4dEZpbGxTdGF0ZV8odGhpcy50ZXh0RmlsbFN0YXRlXyk7XG4gICAgfVxuICAgIGlmICh0aGlzLnRleHRTdHJva2VTdGF0ZV8pIHtcbiAgICAgIHRoaXMuc2V0Q29udGV4dFN0cm9rZVN0YXRlXyh0aGlzLnRleHRTdHJva2VTdGF0ZV8pO1xuICAgIH1cbiAgICB0aGlzLnNldENvbnRleHRUZXh0U3RhdGVfKHRoaXMudGV4dFN0YXRlXyk7XG4gICAgdmFyIHBpeGVsQ29vcmRpbmF0ZXMgPSB0cmFuc2Zvcm0yRChcbiAgICAgIGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgdGhpcy50cmFuc2Zvcm1fLFxuICAgICAgdGhpcy5waXhlbENvb3JkaW5hdGVzXyk7XG4gICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgIHZhciByb3RhdGlvbiA9IHRoaXMudGV4dFJvdGF0aW9uXztcbiAgICBpZiAodGhpcy50ZXh0Um90YXRlV2l0aFZpZXdfKSB7XG4gICAgICByb3RhdGlvbiArPSB0aGlzLnZpZXdSb3RhdGlvbl87XG4gICAgfVxuICAgIGZvciAoOyBvZmZzZXQgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICAgIHZhciB4ID0gcGl4ZWxDb29yZGluYXRlc1tvZmZzZXRdICsgdGhpcy50ZXh0T2Zmc2V0WF87XG4gICAgICB2YXIgeSA9IHBpeGVsQ29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV0gKyB0aGlzLnRleHRPZmZzZXRZXztcbiAgICAgIGlmIChyb3RhdGlvbiAhPT0gMCB8fCB0aGlzLnRleHRTY2FsZV8gIT0gMSkge1xuICAgICAgICB2YXIgbG9jYWxUcmFuc2Zvcm0gPSBjb21wb3NlVHJhbnNmb3JtKHRoaXMudG1wTG9jYWxUcmFuc2Zvcm1fLFxuICAgICAgICAgIHgsIHksXG4gICAgICAgICAgdGhpcy50ZXh0U2NhbGVfLCB0aGlzLnRleHRTY2FsZV8sXG4gICAgICAgICAgcm90YXRpb24sXG4gICAgICAgICAgLXgsIC15KTtcbiAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0uYXBwbHkoY29udGV4dCwgbG9jYWxUcmFuc2Zvcm0pO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMudGV4dFN0cm9rZVN0YXRlXykge1xuICAgICAgICBjb250ZXh0LnN0cm9rZVRleHQodGhpcy50ZXh0XywgeCwgeSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy50ZXh0RmlsbFN0YXRlXykge1xuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KHRoaXMudGV4dF8sIHgsIHkpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocm90YXRpb24gIT09IDAgfHwgdGhpcy50ZXh0U2NhbGVfICE9IDEpIHtcbiAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBjbG9zZSBDbG9zZS5cbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7bnVtYmVyfSBlbmQgRW5kLlxuICAgKi9cbiAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLm1vdmVUb0xpbmVUb18gPSBmdW5jdGlvbiBtb3ZlVG9MaW5lVG9fIChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGNsb3NlKSB7XG4gICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgIHZhciBwaXhlbENvb3JkaW5hdGVzID0gdHJhbnNmb3JtMkQoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIHRoaXMudHJhbnNmb3JtXyxcbiAgICAgIHRoaXMucGl4ZWxDb29yZGluYXRlc18pO1xuICAgIGNvbnRleHQubW92ZVRvKHBpeGVsQ29vcmRpbmF0ZXNbMF0sIHBpeGVsQ29vcmRpbmF0ZXNbMV0pO1xuICAgIHZhciBsZW5ndGggPSBwaXhlbENvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICBpZiAoY2xvc2UpIHtcbiAgICAgIGxlbmd0aCAtPSAyO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMjsgaSA8IGxlbmd0aDsgaSArPSAyKSB7XG4gICAgICBjb250ZXh0LmxpbmVUbyhwaXhlbENvb3JkaW5hdGVzW2ldLCBwaXhlbENvb3JkaW5hdGVzW2kgKyAxXSk7XG4gICAgfVxuICAgIGlmIChjbG9zZSkge1xuICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICB9XG4gICAgcmV0dXJuIGVuZDtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7bnVtYmVyfSBFbmQuXG4gICAqL1xuICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuZHJhd1JpbmdzXyA9IGZ1bmN0aW9uIGRyYXdSaW5nc18gKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIG9mZnNldCA9IHRoaXMubW92ZVRvTGluZVRvXyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc1tpXSwgc3RyaWRlLCB0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldDtcbiAgfTtcblxuICAvKipcbiAgICogUmVuZGVyIGEgY2lyY2xlIGdlb21ldHJ5IGludG8gdGhlIGNhbnZhcy4gIFJlbmRlcmluZyBpcyBpbW1lZGlhdGUgYW5kIHVzZXNcbiAgICogdGhlIGN1cnJlbnQgZmlsbCBhbmQgc3Ryb2tlIHN0eWxlcy5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0NpcmNsZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBDaXJjbGUgZ2VvbWV0cnkuXG4gICAqIEBvdmVycmlkZVxuICAgKiBAYXBpXG4gICAqL1xuICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuZHJhd0NpcmNsZSA9IGZ1bmN0aW9uIGRyYXdDaXJjbGUgKGdlb21ldHJ5KSB7XG4gICAgaWYgKCFpbnRlcnNlY3RzKHRoaXMuZXh0ZW50XywgZ2VvbWV0cnkuZ2V0RXh0ZW50KCkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLmZpbGxTdGF0ZV8gfHwgdGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgIGlmICh0aGlzLmZpbGxTdGF0ZV8pIHtcbiAgICAgICAgdGhpcy5zZXRDb250ZXh0RmlsbFN0YXRlXyh0aGlzLmZpbGxTdGF0ZV8pO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc3Ryb2tlU3RhdGVfKSB7XG4gICAgICAgIHRoaXMuc2V0Q29udGV4dFN0cm9rZVN0YXRlXyh0aGlzLnN0cm9rZVN0YXRlXyk7XG4gICAgICB9XG4gICAgICB2YXIgcGl4ZWxDb29yZGluYXRlcyA9IHRyYW5zZm9ybUdlb20yRChcbiAgICAgICAgZ2VvbWV0cnksIHRoaXMudHJhbnNmb3JtXywgdGhpcy5waXhlbENvb3JkaW5hdGVzXyk7XG4gICAgICB2YXIgZHggPSBwaXhlbENvb3JkaW5hdGVzWzJdIC0gcGl4ZWxDb29yZGluYXRlc1swXTtcbiAgICAgIHZhciBkeSA9IHBpeGVsQ29vcmRpbmF0ZXNbM10gLSBwaXhlbENvb3JkaW5hdGVzWzFdO1xuICAgICAgdmFyIHJhZGl1cyA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgY29udGV4dC5hcmMoXG4gICAgICAgIHBpeGVsQ29vcmRpbmF0ZXNbMF0sIHBpeGVsQ29vcmRpbmF0ZXNbMV0sIHJhZGl1cywgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgaWYgKHRoaXMuZmlsbFN0YXRlXykge1xuICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy50ZXh0XyAhPT0gJycpIHtcbiAgICAgIHRoaXMuZHJhd1RleHRfKGdlb21ldHJ5LmdldENlbnRlcigpLCAwLCAyLCAyKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgcmVuZGVyaW5nIHN0eWxlLiAgTm90ZSB0aGF0IHNpbmNlIHRoaXMgaXMgYW4gaW1tZWRpYXRlIHJlbmRlcmluZyBBUEksXG4gICAqIGFueSBgekluZGV4YCBvbiB0aGUgcHJvdmlkZWQgc3R5bGUgd2lsbCBiZSBpZ25vcmVkLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFRoZSByZW5kZXJpbmcgc3R5bGUuXG4gICAqIEBvdmVycmlkZVxuICAgKiBAYXBpXG4gICAqL1xuICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuc2V0U3R5bGUgPSBmdW5jdGlvbiBzZXRTdHlsZSAoc3R5bGUpIHtcbiAgICB0aGlzLnNldEZpbGxTdHJva2VTdHlsZShzdHlsZS5nZXRGaWxsKCksIHN0eWxlLmdldFN0cm9rZSgpKTtcbiAgICB0aGlzLnNldEltYWdlU3R5bGUoc3R5bGUuZ2V0SW1hZ2UoKSk7XG4gICAgdGhpcy5zZXRUZXh0U3R5bGUoc3R5bGUuZ2V0VGV4dCgpKTtcbiAgfTtcblxuICAvKipcbiAgICogUmVuZGVyIGEgZ2VvbWV0cnkgaW50byB0aGUgY2FudmFzLiAgQ2FsbFxuICAgKiB7QGxpbmsgbW9kdWxlOm9sL3JlbmRlci9jYW52YXMvSW1tZWRpYXRlI3NldFN0eWxlfSBmaXJzdCB0byBzZXQgdGhlIHJlbmRlcmluZyBzdHlsZS5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBUaGUgZ2VvbWV0cnkgdG8gcmVuZGVyLlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQGFwaVxuICAgKi9cbiAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdHZW9tZXRyeSA9IGZ1bmN0aW9uIGRyYXdHZW9tZXRyeSAoZ2VvbWV0cnkpIHtcbiAgICB2YXIgdHlwZSA9IGdlb21ldHJ5LmdldFR5cGUoKTtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLlBPSU5UOlxuICAgICAgICB0aGlzLmRyYXdQb2ludCgvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vUG9pbnQuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTElORV9TVFJJTkc6XG4gICAgICAgIHRoaXMuZHJhd0xpbmVTdHJpbmcoLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0xpbmVTdHJpbmcuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuUE9MWUdPTjpcbiAgICAgICAgdGhpcy5kcmF3UG9seWdvbigvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEdlb21ldHJ5VHlwZS5NVUxUSV9QT0lOVDpcbiAgICAgICAgdGhpcy5kcmF3TXVsdGlQb2ludCgvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2ludC5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEdlb21ldHJ5VHlwZS5NVUxUSV9MSU5FX1NUUklORzpcbiAgICAgICAgdGhpcy5kcmF3TXVsdGlMaW5lU3RyaW5nKC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aUxpbmVTdHJpbmcuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTVVMVElfUE9MWUdPTjpcbiAgICAgICAgdGhpcy5kcmF3TXVsdGlQb2x5Z29uKC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuR0VPTUVUUllfQ09MTEVDVElPTjpcbiAgICAgICAgdGhpcy5kcmF3R2VvbWV0cnlDb2xsZWN0aW9uKC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9HZW9tZXRyeUNvbGxlY3Rpb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuQ0lSQ0xFOlxuICAgICAgICB0aGlzLmRyYXdDaXJjbGUoLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0NpcmNsZS5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmVuZGVyIGEgZmVhdHVyZSBpbnRvIHRoZSBjYW52YXMuICBOb3RlIHRoYXQgYW55IGB6SW5kZXhgIG9uIHRoZSBwcm92aWRlZFxuICAgKiBzdHlsZSB3aWxsIGJlIGlnbm9yZWQgLSBmZWF0dXJlcyBhcmUgcmVuZGVyZWQgaW1tZWRpYXRlbHkgaW4gdGhlIG9yZGVyIHRoYXRcbiAgICogdGhpcyBtZXRob2QgaXMgY2FsbGVkLiAgSWYgeW91IG5lZWQgYHpJbmRleGAgc3VwcG9ydCwgeW91IHNob3VsZCBiZSB1c2luZyBhblxuICAgKiB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL1ZlY3Rvcn5WZWN0b3JMYXllcn0gaW5zdGVhZC5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAgICogQG92ZXJyaWRlXG4gICAqIEBhcGlcbiAgICovXG4gIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3RmVhdHVyZSA9IGZ1bmN0aW9uIGRyYXdGZWF0dXJlIChmZWF0dXJlLCBzdHlsZSkge1xuICAgIHZhciBnZW9tZXRyeSA9IHN0eWxlLmdldEdlb21ldHJ5RnVuY3Rpb24oKShmZWF0dXJlKTtcbiAgICBpZiAoIWdlb21ldHJ5IHx8ICFpbnRlcnNlY3RzKHRoaXMuZXh0ZW50XywgZ2VvbWV0cnkuZ2V0RXh0ZW50KCkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2V0U3R5bGUoc3R5bGUpO1xuICAgIHRoaXMuZHJhd0dlb21ldHJ5KGdlb21ldHJ5KTtcbiAgfTtcblxuICAvKipcbiAgICogUmVuZGVyIGEgR2VvbWV0cnlDb2xsZWN0aW9uIHRvIHRoZSBjYW52YXMuICBSZW5kZXJpbmcgaXMgaW1tZWRpYXRlIGFuZFxuICAgKiB1c2VzIHRoZSBjdXJyZW50IHN0eWxlcyBhcHByb3ByaWF0ZSBmb3IgZWFjaCBnZW9tZXRyeSBpbiB0aGUgY29sbGVjdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0dlb21ldHJ5Q29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeSBjb2xsZWN0aW9uLlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3R2VvbWV0cnlDb2xsZWN0aW9uID0gZnVuY3Rpb24gZHJhd0dlb21ldHJ5Q29sbGVjdGlvbiAoZ2VvbWV0cnkpIHtcbiAgICB2YXIgZ2VvbWV0cmllcyA9IGdlb21ldHJ5LmdldEdlb21ldHJpZXNBcnJheSgpO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGdlb21ldHJpZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgdGhpcy5kcmF3R2VvbWV0cnkoZ2VvbWV0cmllc1tpXSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZW5kZXIgYSBQb2ludCBnZW9tZXRyeSBpbnRvIHRoZSBjYW52YXMuICBSZW5kZXJpbmcgaXMgaW1tZWRpYXRlIGFuZCB1c2VzXG4gICAqIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vUG9pbnQuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IFBvaW50IGdlb21ldHJ5LlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3UG9pbnQgPSBmdW5jdGlvbiBkcmF3UG9pbnQgKGdlb21ldHJ5KSB7XG4gICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgIHZhciBzdHJpZGUgPSBnZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICBpZiAodGhpcy5pbWFnZV8pIHtcbiAgICAgIHRoaXMuZHJhd0ltYWdlc18oZmxhdENvb3JkaW5hdGVzLCAwLCBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCBzdHJpZGUpO1xuICAgIH1cbiAgICBpZiAodGhpcy50ZXh0XyAhPT0gJycpIHtcbiAgICAgIHRoaXMuZHJhd1RleHRfKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbmRlciBhIE11bHRpUG9pbnQgZ2VvbWV0cnkgIGludG8gdGhlIGNhbnZhcy4gIFJlbmRlcmluZyBpcyBpbW1lZGlhdGUgYW5kXG4gICAqIHVzZXMgdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvaW50LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBNdWx0aVBvaW50IGdlb21ldHJ5LlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3TXVsdGlQb2ludCA9IGZ1bmN0aW9uIGRyYXdNdWx0aVBvaW50IChnZW9tZXRyeSkge1xuICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICB2YXIgc3RyaWRlID0gZ2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgaWYgKHRoaXMuaW1hZ2VfKSB7XG4gICAgICB0aGlzLmRyYXdJbWFnZXNfKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMudGV4dF8gIT09ICcnKSB7XG4gICAgICB0aGlzLmRyYXdUZXh0XyhmbGF0Q29vcmRpbmF0ZXMsIDAsIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsIHN0cmlkZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZW5kZXIgYSBMaW5lU3RyaW5nIGludG8gdGhlIGNhbnZhcy4gIFJlbmRlcmluZyBpcyBpbW1lZGlhdGUgYW5kIHVzZXNcbiAgICogdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9MaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBMaW5lU3RyaW5nIGdlb21ldHJ5LlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3TGluZVN0cmluZyA9IGZ1bmN0aW9uIGRyYXdMaW5lU3RyaW5nIChnZW9tZXRyeSkge1xuICAgIGlmICghaW50ZXJzZWN0cyh0aGlzLmV4dGVudF8sIGdlb21ldHJ5LmdldEV4dGVudCgpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgIHRoaXMuc2V0Q29udGV4dFN0cm9rZVN0YXRlXyh0aGlzLnN0cm9rZVN0YXRlXyk7XG4gICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgdGhpcy5tb3ZlVG9MaW5lVG9fKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCxcbiAgICAgICAgZ2VvbWV0cnkuZ2V0U3RyaWRlKCksIGZhbHNlKTtcbiAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnRleHRfICE9PSAnJykge1xuICAgICAgdmFyIGZsYXRNaWRwb2ludCA9IGdlb21ldHJ5LmdldEZsYXRNaWRwb2ludCgpO1xuICAgICAgdGhpcy5kcmF3VGV4dF8oZmxhdE1pZHBvaW50LCAwLCAyLCAyKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbmRlciBhIE11bHRpTGluZVN0cmluZyBnZW9tZXRyeSBpbnRvIHRoZSBjYW52YXMuICBSZW5kZXJpbmcgaXMgaW1tZWRpYXRlXG4gICAqIGFuZCB1c2VzIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlMaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBNdWx0aUxpbmVTdHJpbmcgZ2VvbWV0cnkuXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdNdWx0aUxpbmVTdHJpbmcgPSBmdW5jdGlvbiBkcmF3TXVsdGlMaW5lU3RyaW5nIChnZW9tZXRyeSkge1xuICAgIHZhciBnZW9tZXRyeUV4dGVudCA9IGdlb21ldHJ5LmdldEV4dGVudCgpO1xuICAgIGlmICghaW50ZXJzZWN0cyh0aGlzLmV4dGVudF8sIGdlb21ldHJ5RXh0ZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgIHRoaXMuc2V0Q29udGV4dFN0cm9rZVN0YXRlXyh0aGlzLnN0cm9rZVN0YXRlXyk7XG4gICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgIHZhciBlbmRzID0gLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAoZ2VvbWV0cnkuZ2V0RW5kcygpKTtcbiAgICAgIHZhciBzdHJpZGUgPSBnZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgb2Zmc2V0ID0gdGhpcy5tb3ZlVG9MaW5lVG9fKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzW2ldLCBzdHJpZGUsIGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnRleHRfICE9PSAnJykge1xuICAgICAgdmFyIGZsYXRNaWRwb2ludHMgPSBnZW9tZXRyeS5nZXRGbGF0TWlkcG9pbnRzKCk7XG4gICAgICB0aGlzLmRyYXdUZXh0XyhmbGF0TWlkcG9pbnRzLCAwLCBmbGF0TWlkcG9pbnRzLmxlbmd0aCwgMik7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZW5kZXIgYSBQb2x5Z29uIGdlb21ldHJ5IGludG8gdGhlIGNhbnZhcy4gIFJlbmRlcmluZyBpcyBpbW1lZGlhdGUgYW5kIHVzZXNcbiAgICogdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBQb2x5Z29uIGdlb21ldHJ5LlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3UG9seWdvbiA9IGZ1bmN0aW9uIGRyYXdQb2x5Z29uIChnZW9tZXRyeSkge1xuICAgIGlmICghaW50ZXJzZWN0cyh0aGlzLmV4dGVudF8sIGdlb21ldHJ5LmdldEV4dGVudCgpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8gfHwgdGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICBpZiAodGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICAgIHRoaXMuc2V0Q29udGV4dEZpbGxTdGF0ZV8odGhpcy5maWxsU3RhdGVfKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgICB0aGlzLnNldENvbnRleHRTdHJva2VTdGF0ZV8odGhpcy5zdHJva2VTdGF0ZV8pO1xuICAgICAgfVxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgIHRoaXMuZHJhd1JpbmdzXyhnZW9tZXRyeS5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpLFxuICAgICAgICAwLCAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovIChnZW9tZXRyeS5nZXRFbmRzKCkpLCBnZW9tZXRyeS5nZXRTdHJpZGUoKSk7XG4gICAgICBpZiAodGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc3Ryb2tlU3RhdGVfKSB7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnRleHRfICE9PSAnJykge1xuICAgICAgdmFyIGZsYXRJbnRlcmlvclBvaW50ID0gZ2VvbWV0cnkuZ2V0RmxhdEludGVyaW9yUG9pbnQoKTtcbiAgICAgIHRoaXMuZHJhd1RleHRfKGZsYXRJbnRlcmlvclBvaW50LCAwLCAyLCAyKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbmRlciBNdWx0aVBvbHlnb24gZ2VvbWV0cnkgaW50byB0aGUgY2FudmFzLiAgUmVuZGVyaW5nIGlzIGltbWVkaWF0ZSBhbmRcbiAgICogdXNlcyB0aGUgY3VycmVudCBzdHlsZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBNdWx0aVBvbHlnb24gZ2VvbWV0cnkuXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdNdWx0aVBvbHlnb24gPSBmdW5jdGlvbiBkcmF3TXVsdGlQb2x5Z29uIChnZW9tZXRyeSkge1xuICAgIGlmICghaW50ZXJzZWN0cyh0aGlzLmV4dGVudF8sIGdlb21ldHJ5LmdldEV4dGVudCgpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8gfHwgdGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICBpZiAodGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICAgIHRoaXMuc2V0Q29udGV4dEZpbGxTdGF0ZV8odGhpcy5maWxsU3RhdGVfKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgICB0aGlzLnNldENvbnRleHRTdHJva2VTdGF0ZV8odGhpcy5zdHJva2VTdGF0ZV8pO1xuICAgICAgfVxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgIHZhciBlbmRzcyA9IGdlb21ldHJ5LmdldEVuZHNzKCk7XG4gICAgICB2YXIgc3RyaWRlID0gZ2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgZW5kcyA9IGVuZHNzW2ldO1xuICAgICAgICBvZmZzZXQgPSB0aGlzLmRyYXdSaW5nc18oZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc3Ryb2tlU3RhdGVfKSB7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnRleHRfICE9PSAnJykge1xuICAgICAgdmFyIGZsYXRJbnRlcmlvclBvaW50cyA9IGdlb21ldHJ5LmdldEZsYXRJbnRlcmlvclBvaW50cygpO1xuICAgICAgdGhpcy5kcmF3VGV4dF8oZmxhdEludGVyaW9yUG9pbnRzLCAwLCBmbGF0SW50ZXJpb3JQb2ludHMubGVuZ3RoLCAyKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdGF0ZX0gZmlsbFN0YXRlIEZpbGwgc3RhdGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuc2V0Q29udGV4dEZpbGxTdGF0ZV8gPSBmdW5jdGlvbiBzZXRDb250ZXh0RmlsbFN0YXRlXyAoZmlsbFN0YXRlKSB7XG4gICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgIHZhciBjb250ZXh0RmlsbFN0YXRlID0gdGhpcy5jb250ZXh0RmlsbFN0YXRlXztcbiAgICBpZiAoIWNvbnRleHRGaWxsU3RhdGUpIHtcbiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZmlsbFN0YXRlLmZpbGxTdHlsZTtcbiAgICAgIHRoaXMuY29udGV4dEZpbGxTdGF0ZV8gPSB7XG4gICAgICAgIGZpbGxTdHlsZTogZmlsbFN0YXRlLmZpbGxTdHlsZVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGNvbnRleHRGaWxsU3RhdGUuZmlsbFN0eWxlICE9IGZpbGxTdGF0ZS5maWxsU3R5bGUpIHtcbiAgICAgICAgY29udGV4dEZpbGxTdGF0ZS5maWxsU3R5bGUgPSBjb250ZXh0LmZpbGxTdHlsZSA9IGZpbGxTdGF0ZS5maWxsU3R5bGU7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZX0gc3Ryb2tlU3RhdGUgU3Ryb2tlIHN0YXRlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLnNldENvbnRleHRTdHJva2VTdGF0ZV8gPSBmdW5jdGlvbiBzZXRDb250ZXh0U3Ryb2tlU3RhdGVfIChzdHJva2VTdGF0ZSkge1xuICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0XztcbiAgICB2YXIgY29udGV4dFN0cm9rZVN0YXRlID0gdGhpcy5jb250ZXh0U3Ryb2tlU3RhdGVfO1xuICAgIGlmICghY29udGV4dFN0cm9rZVN0YXRlKSB7XG4gICAgICBjb250ZXh0LmxpbmVDYXAgPSAvKiogQHR5cGUge0NhbnZhc0xpbmVDYXB9ICovIChzdHJva2VTdGF0ZS5saW5lQ2FwKTtcbiAgICAgIGlmIChDQU5WQVNfTElORV9EQVNIKSB7XG4gICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goc3Ryb2tlU3RhdGUubGluZURhc2gpO1xuICAgICAgICBjb250ZXh0LmxpbmVEYXNoT2Zmc2V0ID0gc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQ7XG4gICAgICB9XG4gICAgICBjb250ZXh0LmxpbmVKb2luID0gLyoqIEB0eXBlIHtDYW52YXNMaW5lSm9pbn0gKi8gKHN0cm9rZVN0YXRlLmxpbmVKb2luKTtcbiAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3Ryb2tlU3RhdGUubGluZVdpZHRoO1xuICAgICAgY29udGV4dC5taXRlckxpbWl0ID0gc3Ryb2tlU3RhdGUubWl0ZXJMaW1pdDtcbiAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VTdGF0ZS5zdHJva2VTdHlsZTtcbiAgICAgIHRoaXMuY29udGV4dFN0cm9rZVN0YXRlXyA9IHtcbiAgICAgICAgbGluZUNhcDogc3Ryb2tlU3RhdGUubGluZUNhcCxcbiAgICAgICAgbGluZURhc2g6IHN0cm9rZVN0YXRlLmxpbmVEYXNoLFxuICAgICAgICBsaW5lRGFzaE9mZnNldDogc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQsXG4gICAgICAgIGxpbmVKb2luOiBzdHJva2VTdGF0ZS5saW5lSm9pbixcbiAgICAgICAgbGluZVdpZHRoOiBzdHJva2VTdGF0ZS5saW5lV2lkdGgsXG4gICAgICAgIG1pdGVyTGltaXQ6IHN0cm9rZVN0YXRlLm1pdGVyTGltaXQsXG4gICAgICAgIHN0cm9rZVN0eWxlOiBzdHJva2VTdGF0ZS5zdHJva2VTdHlsZVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGNvbnRleHRTdHJva2VTdGF0ZS5saW5lQ2FwICE9IHN0cm9rZVN0YXRlLmxpbmVDYXApIHtcbiAgICAgICAgY29udGV4dFN0cm9rZVN0YXRlLmxpbmVDYXAgPSBjb250ZXh0LmxpbmVDYXAgPSAvKiogQHR5cGUge0NhbnZhc0xpbmVDYXB9ICovIChzdHJva2VTdGF0ZS5saW5lQ2FwKTtcbiAgICAgIH1cbiAgICAgIGlmIChDQU5WQVNfTElORV9EQVNIKSB7XG4gICAgICAgIGlmICghZXF1YWxzKGNvbnRleHRTdHJva2VTdGF0ZS5saW5lRGFzaCwgc3Ryb2tlU3RhdGUubGluZURhc2gpKSB7XG4gICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChjb250ZXh0U3Ryb2tlU3RhdGUubGluZURhc2ggPSBzdHJva2VTdGF0ZS5saW5lRGFzaCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRleHRTdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldCAhPSBzdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldCkge1xuICAgICAgICAgIGNvbnRleHRTdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldCA9IGNvbnRleHQubGluZURhc2hPZmZzZXQgPVxuICAgICAgICAgICAgICBzdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGNvbnRleHRTdHJva2VTdGF0ZS5saW5lSm9pbiAhPSBzdHJva2VTdGF0ZS5saW5lSm9pbikge1xuICAgICAgICBjb250ZXh0U3Ryb2tlU3RhdGUubGluZUpvaW4gPSBjb250ZXh0LmxpbmVKb2luID0gLyoqIEB0eXBlIHtDYW52YXNMaW5lSm9pbn0gKi8gKHN0cm9rZVN0YXRlLmxpbmVKb2luKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb250ZXh0U3Ryb2tlU3RhdGUubGluZVdpZHRoICE9IHN0cm9rZVN0YXRlLmxpbmVXaWR0aCkge1xuICAgICAgICBjb250ZXh0U3Ryb2tlU3RhdGUubGluZVdpZHRoID0gY29udGV4dC5saW5lV2lkdGggPSBzdHJva2VTdGF0ZS5saW5lV2lkdGg7XG4gICAgICB9XG4gICAgICBpZiAoY29udGV4dFN0cm9rZVN0YXRlLm1pdGVyTGltaXQgIT0gc3Ryb2tlU3RhdGUubWl0ZXJMaW1pdCkge1xuICAgICAgICBjb250ZXh0U3Ryb2tlU3RhdGUubWl0ZXJMaW1pdCA9IGNvbnRleHQubWl0ZXJMaW1pdCA9XG4gICAgICAgICAgICBzdHJva2VTdGF0ZS5taXRlckxpbWl0O1xuICAgICAgfVxuICAgICAgaWYgKGNvbnRleHRTdHJva2VTdGF0ZS5zdHJva2VTdHlsZSAhPSBzdHJva2VTdGF0ZS5zdHJva2VTdHlsZSkge1xuICAgICAgICBjb250ZXh0U3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGUgPSBjb250ZXh0LnN0cm9rZVN0eWxlID1cbiAgICAgICAgICAgIHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuVGV4dFN0YXRlfSB0ZXh0U3RhdGUgVGV4dCBzdGF0ZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5zZXRDb250ZXh0VGV4dFN0YXRlXyA9IGZ1bmN0aW9uIHNldENvbnRleHRUZXh0U3RhdGVfICh0ZXh0U3RhdGUpIHtcbiAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgdmFyIGNvbnRleHRUZXh0U3RhdGUgPSB0aGlzLmNvbnRleHRUZXh0U3RhdGVfO1xuICAgIHZhciB0ZXh0QWxpZ24gPSB0ZXh0U3RhdGUudGV4dEFsaWduID9cbiAgICAgIHRleHRTdGF0ZS50ZXh0QWxpZ24gOiBkZWZhdWx0VGV4dEFsaWduO1xuICAgIGlmICghY29udGV4dFRleHRTdGF0ZSkge1xuICAgICAgY29udGV4dC5mb250ID0gdGV4dFN0YXRlLmZvbnQ7XG4gICAgICBjb250ZXh0LnRleHRBbGlnbiA9IC8qKiBAdHlwZSB7Q2FudmFzVGV4dEFsaWdufSAqLyAodGV4dEFsaWduKTtcbiAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gLyoqIEB0eXBlIHtDYW52YXNUZXh0QmFzZWxpbmV9ICovICh0ZXh0U3RhdGUudGV4dEJhc2VsaW5lKTtcbiAgICAgIHRoaXMuY29udGV4dFRleHRTdGF0ZV8gPSB7XG4gICAgICAgIGZvbnQ6IHRleHRTdGF0ZS5mb250LFxuICAgICAgICB0ZXh0QWxpZ246IHRleHRBbGlnbixcbiAgICAgICAgdGV4dEJhc2VsaW5lOiB0ZXh0U3RhdGUudGV4dEJhc2VsaW5lXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoY29udGV4dFRleHRTdGF0ZS5mb250ICE9IHRleHRTdGF0ZS5mb250KSB7XG4gICAgICAgIGNvbnRleHRUZXh0U3RhdGUuZm9udCA9IGNvbnRleHQuZm9udCA9IHRleHRTdGF0ZS5mb250O1xuICAgICAgfVxuICAgICAgaWYgKGNvbnRleHRUZXh0U3RhdGUudGV4dEFsaWduICE9IHRleHRBbGlnbikge1xuICAgICAgICBjb250ZXh0VGV4dFN0YXRlLnRleHRBbGlnbiA9IGNvbnRleHQudGV4dEFsaWduID0gLyoqIEB0eXBlIHtDYW52YXNUZXh0QWxpZ259ICovICh0ZXh0QWxpZ24pO1xuICAgICAgfVxuICAgICAgaWYgKGNvbnRleHRUZXh0U3RhdGUudGV4dEJhc2VsaW5lICE9IHRleHRTdGF0ZS50ZXh0QmFzZWxpbmUpIHtcbiAgICAgICAgY29udGV4dFRleHRTdGF0ZS50ZXh0QmFzZWxpbmUgPSBjb250ZXh0LnRleHRCYXNlbGluZSA9XG4gICAgICAgICAgLyoqIEB0eXBlIHtDYW52YXNUZXh0QmFzZWxpbmV9ICovICh0ZXh0U3RhdGUudGV4dEJhc2VsaW5lKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgZmlsbCBhbmQgc3Ryb2tlIHN0eWxlIGZvciBzdWJzZXF1ZW50IGRyYXcgb3BlcmF0aW9ucy4gIFRvIGNsZWFyXG4gICAqIGVpdGhlciBmaWxsIG9yIHN0cm9rZSBzdHlsZXMsIHBhc3MgbnVsbCBmb3IgdGhlIGFwcHJvcHJpYXRlIHBhcmFtZXRlci5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9GaWxsLmpzXCIpLmRlZmF1bHR9IGZpbGxTdHlsZSBGaWxsIHN0eWxlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3N0eWxlL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBzdHJva2VTdHlsZSBTdHJva2Ugc3R5bGUuXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLnNldEZpbGxTdHJva2VTdHlsZSA9IGZ1bmN0aW9uIHNldEZpbGxTdHJva2VTdHlsZSAoZmlsbFN0eWxlLCBzdHJva2VTdHlsZSkge1xuICAgIGlmICghZmlsbFN0eWxlKSB7XG4gICAgICB0aGlzLmZpbGxTdGF0ZV8gPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZmlsbFN0eWxlQ29sb3IgPSBmaWxsU3R5bGUuZ2V0Q29sb3IoKTtcbiAgICAgIHRoaXMuZmlsbFN0YXRlXyA9IHtcbiAgICAgICAgZmlsbFN0eWxlOiBhc0NvbG9yTGlrZShmaWxsU3R5bGVDb2xvciA/XG4gICAgICAgICAgZmlsbFN0eWxlQ29sb3IgOiBkZWZhdWx0RmlsbFN0eWxlKVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKCFzdHJva2VTdHlsZSkge1xuICAgICAgdGhpcy5zdHJva2VTdGF0ZV8gPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgc3Ryb2tlU3R5bGVDb2xvciA9IHN0cm9rZVN0eWxlLmdldENvbG9yKCk7XG4gICAgICB2YXIgc3Ryb2tlU3R5bGVMaW5lQ2FwID0gc3Ryb2tlU3R5bGUuZ2V0TGluZUNhcCgpO1xuICAgICAgdmFyIHN0cm9rZVN0eWxlTGluZURhc2ggPSBzdHJva2VTdHlsZS5nZXRMaW5lRGFzaCgpO1xuICAgICAgdmFyIHN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXQgPSBzdHJva2VTdHlsZS5nZXRMaW5lRGFzaE9mZnNldCgpO1xuICAgICAgdmFyIHN0cm9rZVN0eWxlTGluZUpvaW4gPSBzdHJva2VTdHlsZS5nZXRMaW5lSm9pbigpO1xuICAgICAgdmFyIHN0cm9rZVN0eWxlV2lkdGggPSBzdHJva2VTdHlsZS5nZXRXaWR0aCgpO1xuICAgICAgdmFyIHN0cm9rZVN0eWxlTWl0ZXJMaW1pdCA9IHN0cm9rZVN0eWxlLmdldE1pdGVyTGltaXQoKTtcbiAgICAgIHRoaXMuc3Ryb2tlU3RhdGVfID0ge1xuICAgICAgICBsaW5lQ2FwOiBzdHJva2VTdHlsZUxpbmVDYXAgIT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgc3Ryb2tlU3R5bGVMaW5lQ2FwIDogZGVmYXVsdExpbmVDYXAsXG4gICAgICAgIGxpbmVEYXNoOiBzdHJva2VTdHlsZUxpbmVEYXNoID9cbiAgICAgICAgICBzdHJva2VTdHlsZUxpbmVEYXNoIDogZGVmYXVsdExpbmVEYXNoLFxuICAgICAgICBsaW5lRGFzaE9mZnNldDogc3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldCA/XG4gICAgICAgICAgc3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldCA6IGRlZmF1bHRMaW5lRGFzaE9mZnNldCxcbiAgICAgICAgbGluZUpvaW46IHN0cm9rZVN0eWxlTGluZUpvaW4gIT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgc3Ryb2tlU3R5bGVMaW5lSm9pbiA6IGRlZmF1bHRMaW5lSm9pbixcbiAgICAgICAgbGluZVdpZHRoOiB0aGlzLnBpeGVsUmF0aW9fICogKHN0cm9rZVN0eWxlV2lkdGggIT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgc3Ryb2tlU3R5bGVXaWR0aCA6IGRlZmF1bHRMaW5lV2lkdGgpLFxuICAgICAgICBtaXRlckxpbWl0OiBzdHJva2VTdHlsZU1pdGVyTGltaXQgIT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgc3Ryb2tlU3R5bGVNaXRlckxpbWl0IDogZGVmYXVsdE1pdGVyTGltaXQsXG4gICAgICAgIHN0cm9rZVN0eWxlOiBhc0NvbG9yTGlrZShzdHJva2VTdHlsZUNvbG9yID9cbiAgICAgICAgICBzdHJva2VTdHlsZUNvbG9yIDogZGVmYXVsdFN0cm9rZVN0eWxlKVxuICAgICAgfTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgaW1hZ2Ugc3R5bGUgZm9yIHN1YnNlcXVlbnQgZHJhdyBvcGVyYXRpb25zLiAgUGFzcyBudWxsIHRvIHJlbW92ZVxuICAgKiB0aGUgaW1hZ2Ugc3R5bGUuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvSW1hZ2UuanNcIikuZGVmYXVsdH0gaW1hZ2VTdHlsZSBJbWFnZSBzdHlsZS5cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuc2V0SW1hZ2VTdHlsZSA9IGZ1bmN0aW9uIHNldEltYWdlU3R5bGUgKGltYWdlU3R5bGUpIHtcbiAgICBpZiAoIWltYWdlU3R5bGUpIHtcbiAgICAgIHRoaXMuaW1hZ2VfID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGltYWdlQW5jaG9yID0gaW1hZ2VTdHlsZS5nZXRBbmNob3IoKTtcbiAgICAgIC8vIEZJWE1FIHBpeGVsIHJhdGlvXG4gICAgICB2YXIgaW1hZ2VJbWFnZSA9IGltYWdlU3R5bGUuZ2V0SW1hZ2UoMSk7XG4gICAgICB2YXIgaW1hZ2VPcmlnaW4gPSBpbWFnZVN0eWxlLmdldE9yaWdpbigpO1xuICAgICAgdmFyIGltYWdlU2l6ZSA9IGltYWdlU3R5bGUuZ2V0U2l6ZSgpO1xuICAgICAgdGhpcy5pbWFnZUFuY2hvclhfID0gaW1hZ2VBbmNob3JbMF07XG4gICAgICB0aGlzLmltYWdlQW5jaG9yWV8gPSBpbWFnZUFuY2hvclsxXTtcbiAgICAgIHRoaXMuaW1hZ2VIZWlnaHRfID0gaW1hZ2VTaXplWzFdO1xuICAgICAgdGhpcy5pbWFnZV8gPSBpbWFnZUltYWdlO1xuICAgICAgdGhpcy5pbWFnZU9wYWNpdHlfID0gaW1hZ2VTdHlsZS5nZXRPcGFjaXR5KCk7XG4gICAgICB0aGlzLmltYWdlT3JpZ2luWF8gPSBpbWFnZU9yaWdpblswXTtcbiAgICAgIHRoaXMuaW1hZ2VPcmlnaW5ZXyA9IGltYWdlT3JpZ2luWzFdO1xuICAgICAgdGhpcy5pbWFnZVJvdGF0ZVdpdGhWaWV3XyA9IGltYWdlU3R5bGUuZ2V0Um90YXRlV2l0aFZpZXcoKTtcbiAgICAgIHRoaXMuaW1hZ2VSb3RhdGlvbl8gPSBpbWFnZVN0eWxlLmdldFJvdGF0aW9uKCk7XG4gICAgICB0aGlzLmltYWdlU2NhbGVfID0gaW1hZ2VTdHlsZS5nZXRTY2FsZSgpICogdGhpcy5waXhlbFJhdGlvXztcbiAgICAgIHRoaXMuaW1hZ2VXaWR0aF8gPSBpbWFnZVNpemVbMF07XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHRleHQgc3R5bGUgZm9yIHN1YnNlcXVlbnQgZHJhdyBvcGVyYXRpb25zLiAgUGFzcyBudWxsIHRvXG4gICAqIHJlbW92ZSB0aGUgdGV4dCBzdHlsZS5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9UZXh0LmpzXCIpLmRlZmF1bHR9IHRleHRTdHlsZSBUZXh0IHN0eWxlLlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5zZXRUZXh0U3R5bGUgPSBmdW5jdGlvbiBzZXRUZXh0U3R5bGUgKHRleHRTdHlsZSkge1xuICAgIGlmICghdGV4dFN0eWxlKSB7XG4gICAgICB0aGlzLnRleHRfID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB0ZXh0RmlsbFN0eWxlID0gdGV4dFN0eWxlLmdldEZpbGwoKTtcbiAgICAgIGlmICghdGV4dEZpbGxTdHlsZSkge1xuICAgICAgICB0aGlzLnRleHRGaWxsU3RhdGVfID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0ZXh0RmlsbFN0eWxlQ29sb3IgPSB0ZXh0RmlsbFN0eWxlLmdldENvbG9yKCk7XG4gICAgICAgIHRoaXMudGV4dEZpbGxTdGF0ZV8gPSB7XG4gICAgICAgICAgZmlsbFN0eWxlOiBhc0NvbG9yTGlrZSh0ZXh0RmlsbFN0eWxlQ29sb3IgP1xuICAgICAgICAgICAgdGV4dEZpbGxTdHlsZUNvbG9yIDogZGVmYXVsdEZpbGxTdHlsZSlcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHZhciB0ZXh0U3Ryb2tlU3R5bGUgPSB0ZXh0U3R5bGUuZ2V0U3Ryb2tlKCk7XG4gICAgICBpZiAoIXRleHRTdHJva2VTdHlsZSkge1xuICAgICAgICB0aGlzLnRleHRTdHJva2VTdGF0ZV8gPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHRleHRTdHJva2VTdHlsZUNvbG9yID0gdGV4dFN0cm9rZVN0eWxlLmdldENvbG9yKCk7XG4gICAgICAgIHZhciB0ZXh0U3Ryb2tlU3R5bGVMaW5lQ2FwID0gdGV4dFN0cm9rZVN0eWxlLmdldExpbmVDYXAoKTtcbiAgICAgICAgdmFyIHRleHRTdHJva2VTdHlsZUxpbmVEYXNoID0gdGV4dFN0cm9rZVN0eWxlLmdldExpbmVEYXNoKCk7XG4gICAgICAgIHZhciB0ZXh0U3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldCA9IHRleHRTdHJva2VTdHlsZS5nZXRMaW5lRGFzaE9mZnNldCgpO1xuICAgICAgICB2YXIgdGV4dFN0cm9rZVN0eWxlTGluZUpvaW4gPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0TGluZUpvaW4oKTtcbiAgICAgICAgdmFyIHRleHRTdHJva2VTdHlsZVdpZHRoID0gdGV4dFN0cm9rZVN0eWxlLmdldFdpZHRoKCk7XG4gICAgICAgIHZhciB0ZXh0U3Ryb2tlU3R5bGVNaXRlckxpbWl0ID0gdGV4dFN0cm9rZVN0eWxlLmdldE1pdGVyTGltaXQoKTtcbiAgICAgICAgdGhpcy50ZXh0U3Ryb2tlU3RhdGVfID0ge1xuICAgICAgICAgIGxpbmVDYXA6IHRleHRTdHJva2VTdHlsZUxpbmVDYXAgIT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICB0ZXh0U3Ryb2tlU3R5bGVMaW5lQ2FwIDogZGVmYXVsdExpbmVDYXAsXG4gICAgICAgICAgbGluZURhc2g6IHRleHRTdHJva2VTdHlsZUxpbmVEYXNoID9cbiAgICAgICAgICAgIHRleHRTdHJva2VTdHlsZUxpbmVEYXNoIDogZGVmYXVsdExpbmVEYXNoLFxuICAgICAgICAgIGxpbmVEYXNoT2Zmc2V0OiB0ZXh0U3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldCA/XG4gICAgICAgICAgICB0ZXh0U3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldCA6IGRlZmF1bHRMaW5lRGFzaE9mZnNldCxcbiAgICAgICAgICBsaW5lSm9pbjogdGV4dFN0cm9rZVN0eWxlTGluZUpvaW4gIT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICB0ZXh0U3Ryb2tlU3R5bGVMaW5lSm9pbiA6IGRlZmF1bHRMaW5lSm9pbixcbiAgICAgICAgICBsaW5lV2lkdGg6IHRleHRTdHJva2VTdHlsZVdpZHRoICE9PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgdGV4dFN0cm9rZVN0eWxlV2lkdGggOiBkZWZhdWx0TGluZVdpZHRoLFxuICAgICAgICAgIG1pdGVyTGltaXQ6IHRleHRTdHJva2VTdHlsZU1pdGVyTGltaXQgIT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICB0ZXh0U3Ryb2tlU3R5bGVNaXRlckxpbWl0IDogZGVmYXVsdE1pdGVyTGltaXQsXG4gICAgICAgICAgc3Ryb2tlU3R5bGU6IGFzQ29sb3JMaWtlKHRleHRTdHJva2VTdHlsZUNvbG9yID9cbiAgICAgICAgICAgIHRleHRTdHJva2VTdHlsZUNvbG9yIDogZGVmYXVsdFN0cm9rZVN0eWxlKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgdmFyIHRleHRGb250ID0gdGV4dFN0eWxlLmdldEZvbnQoKTtcbiAgICAgIHZhciB0ZXh0T2Zmc2V0WCA9IHRleHRTdHlsZS5nZXRPZmZzZXRYKCk7XG4gICAgICB2YXIgdGV4dE9mZnNldFkgPSB0ZXh0U3R5bGUuZ2V0T2Zmc2V0WSgpO1xuICAgICAgdmFyIHRleHRSb3RhdGVXaXRoVmlldyA9IHRleHRTdHlsZS5nZXRSb3RhdGVXaXRoVmlldygpO1xuICAgICAgdmFyIHRleHRSb3RhdGlvbiA9IHRleHRTdHlsZS5nZXRSb3RhdGlvbigpO1xuICAgICAgdmFyIHRleHRTY2FsZSA9IHRleHRTdHlsZS5nZXRTY2FsZSgpO1xuICAgICAgdmFyIHRleHRUZXh0ID0gdGV4dFN0eWxlLmdldFRleHQoKTtcbiAgICAgIHZhciB0ZXh0VGV4dEFsaWduID0gdGV4dFN0eWxlLmdldFRleHRBbGlnbigpO1xuICAgICAgdmFyIHRleHRUZXh0QmFzZWxpbmUgPSB0ZXh0U3R5bGUuZ2V0VGV4dEJhc2VsaW5lKCk7XG4gICAgICB0aGlzLnRleHRTdGF0ZV8gPSB7XG4gICAgICAgIGZvbnQ6IHRleHRGb250ICE9PSB1bmRlZmluZWQgP1xuICAgICAgICAgIHRleHRGb250IDogZGVmYXVsdEZvbnQsXG4gICAgICAgIHRleHRBbGlnbjogdGV4dFRleHRBbGlnbiAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgICB0ZXh0VGV4dEFsaWduIDogZGVmYXVsdFRleHRBbGlnbixcbiAgICAgICAgdGV4dEJhc2VsaW5lOiB0ZXh0VGV4dEJhc2VsaW5lICE9PSB1bmRlZmluZWQgP1xuICAgICAgICAgIHRleHRUZXh0QmFzZWxpbmUgOiBkZWZhdWx0VGV4dEJhc2VsaW5lXG4gICAgICB9O1xuICAgICAgdGhpcy50ZXh0XyA9IHRleHRUZXh0ICE9PSB1bmRlZmluZWQgPyB0ZXh0VGV4dCA6ICcnO1xuICAgICAgdGhpcy50ZXh0T2Zmc2V0WF8gPVxuICAgICAgICAgIHRleHRPZmZzZXRYICE9PSB1bmRlZmluZWQgPyAodGhpcy5waXhlbFJhdGlvXyAqIHRleHRPZmZzZXRYKSA6IDA7XG4gICAgICB0aGlzLnRleHRPZmZzZXRZXyA9XG4gICAgICAgICAgdGV4dE9mZnNldFkgIT09IHVuZGVmaW5lZCA/ICh0aGlzLnBpeGVsUmF0aW9fICogdGV4dE9mZnNldFkpIDogMDtcbiAgICAgIHRoaXMudGV4dFJvdGF0ZVdpdGhWaWV3XyA9IHRleHRSb3RhdGVXaXRoVmlldyAhPT0gdW5kZWZpbmVkID8gdGV4dFJvdGF0ZVdpdGhWaWV3IDogZmFsc2U7XG4gICAgICB0aGlzLnRleHRSb3RhdGlvbl8gPSB0ZXh0Um90YXRpb24gIT09IHVuZGVmaW5lZCA/IHRleHRSb3RhdGlvbiA6IDA7XG4gICAgICB0aGlzLnRleHRTY2FsZV8gPSB0aGlzLnBpeGVsUmF0aW9fICogKHRleHRTY2FsZSAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgdGV4dFNjYWxlIDogMSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBDYW52YXNJbW1lZGlhdGVSZW5kZXJlcjtcbn0oVmVjdG9yQ29udGV4dCkpO1xuXG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbW1lZGlhdGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9FdmVudFxuICovXG5cbmltcG9ydCBFdmVudCBmcm9tICcuLi9ldmVudHMvRXZlbnQuanMnO1xuXG52YXIgUmVuZGVyRXZlbnQgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChFdmVudCkge1xuICBmdW5jdGlvbiBSZW5kZXJFdmVudCh0eXBlLCBvcHRfdmVjdG9yQ29udGV4dCwgb3B0X2ZyYW1lU3RhdGUsIG9wdF9jb250ZXh0LCBvcHRfZ2xDb250ZXh0KSB7XG5cbiAgICBFdmVudC5jYWxsKHRoaXMsIHR5cGUpO1xuXG4gICAgLyoqXG4gICAgICogRm9yIGNhbnZhcywgdGhpcyBpcyBhbiBpbnN0YW5jZSBvZiB7QGxpbmsgbW9kdWxlOm9sL3JlbmRlci9jYW52YXMvSW1tZWRpYXRlfS5cbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9WZWN0b3JDb250ZXh0LmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLnZlY3RvckNvbnRleHQgPSBvcHRfdmVjdG9yQ29udGV4dDtcblxuICAgIC8qKlxuICAgICAqIEFuIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgcmVuZGVyIGZyYW1lIHN0YXRlLlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZXx1bmRlZmluZWR9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMuZnJhbWVTdGF0ZSA9IG9wdF9mcmFtZVN0YXRlO1xuXG4gICAgLyoqXG4gICAgICogQ2FudmFzIGNvbnRleHQuIE9ubHkgYXZhaWxhYmxlIHdoZW4gYSBDYW52YXMgcmVuZGVyZXIgaXMgdXNlZCwgbnVsbFxuICAgICAqIG90aGVyd2lzZS5cbiAgICAgKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfG51bGx8dW5kZWZpbmVkfVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLmNvbnRleHQgPSBvcHRfY29udGV4dDtcblxuICAgIC8qKlxuICAgICAqIFdlYkdMIGNvbnRleHQuIE9ubHkgYXZhaWxhYmxlIHdoZW4gYSBXZWJHTCByZW5kZXJlciBpcyB1c2VkLCBudWxsXG4gICAgICogb3RoZXJ3aXNlLlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi93ZWJnbC9Db250ZXh0LmpzXCIpLmRlZmF1bHR8bnVsbHx1bmRlZmluZWR9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMuZ2xDb250ZXh0ID0gb3B0X2dsQ29udGV4dDtcblxuICB9XG5cbiAgaWYgKCBFdmVudCApIFJlbmRlckV2ZW50Ll9fcHJvdG9fXyA9IEV2ZW50O1xuICBSZW5kZXJFdmVudC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBFdmVudCAmJiBFdmVudC5wcm90b3R5cGUgKTtcbiAgUmVuZGVyRXZlbnQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUmVuZGVyRXZlbnQ7XG5cbiAgcmV0dXJuIFJlbmRlckV2ZW50O1xufShFdmVudCkpO1xuXG5leHBvcnQgZGVmYXVsdCBSZW5kZXJFdmVudDtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXZlbnQuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL0ltYWdlQ2FudmFzXG4gKi9cbmltcG9ydCBJbWFnZUJhc2UgZnJvbSAnLi9JbWFnZUJhc2UuanMnO1xuaW1wb3J0IEltYWdlU3RhdGUgZnJvbSAnLi9JbWFnZVN0YXRlLmpzJztcblxuXG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgdG8gdHJpZ2dlciBhc3luY2hyb25vdXMgY2FudmFzIGRyYXdpbmcuICBJdCBpc1xuICogY2FsbGVkIHdpdGggYSBcImRvbmVcIiBjYWxsYmFjayB0aGF0IHNob3VsZCBiZSBjYWxsZWQgd2hlbiBkcmF3aW5nIGlzIGRvbmUuXG4gKiBJZiBhbnkgZXJyb3Igb2NjdXJzIGR1cmluZyBkcmF3aW5nLCB0aGUgXCJkb25lXCIgY2FsbGJhY2sgc2hvdWxkIGJlIGNhbGxlZCB3aXRoXG4gKiB0aGF0IGVycm9yLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihmdW5jdGlvbihFcnJvcj0pKX0gTG9hZGVyXG4gKi9cblxuXG52YXIgSW1hZ2VDYW52YXMgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChJbWFnZUJhc2UpIHtcbiAgZnVuY3Rpb24gSW1hZ2VDYW52YXMoZXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvLCBjYW52YXMsIG9wdF9sb2FkZXIpIHtcblxuICAgIHZhciBzdGF0ZSA9IG9wdF9sb2FkZXIgIT09IHVuZGVmaW5lZCA/IEltYWdlU3RhdGUuSURMRSA6IEltYWdlU3RhdGUuTE9BREVEO1xuXG4gICAgSW1hZ2VCYXNlLmNhbGwodGhpcywgZXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvLCBzdGF0ZSk7XG5cbiAgICAvKipcbiAgICAgKiBPcHRpb25hbCBjYW52YXMgbG9hZGVyIGZ1bmN0aW9uLlxuICAgICAqIEB0eXBlIHs/TG9hZGVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5sb2FkZXJfID0gb3B0X2xvYWRlciAhPT0gdW5kZWZpbmVkID8gb3B0X2xvYWRlciA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmNhbnZhc18gPSBjYW52YXM7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtFcnJvcn1cbiAgICAgKi9cbiAgICB0aGlzLmVycm9yXyA9IG51bGw7XG5cbiAgfVxuXG4gIGlmICggSW1hZ2VCYXNlICkgSW1hZ2VDYW52YXMuX19wcm90b19fID0gSW1hZ2VCYXNlO1xuICBJbWFnZUNhbnZhcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBJbWFnZUJhc2UgJiYgSW1hZ2VCYXNlLnByb3RvdHlwZSApO1xuICBJbWFnZUNhbnZhcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBJbWFnZUNhbnZhcztcblxuICAvKipcbiAgICogR2V0IGFueSBlcnJvciBhc3NvY2lhdGVkIHdpdGggYXN5bmNocm9ub3VzIHJlbmRlcmluZy5cbiAgICogQHJldHVybiB7RXJyb3J9IEFueSBlcnJvciB0aGF0IG9jY3VycmVkIGR1cmluZyByZW5kZXJpbmcuXG4gICAqL1xuICBJbWFnZUNhbnZhcy5wcm90b3R5cGUuZ2V0RXJyb3IgPSBmdW5jdGlvbiBnZXRFcnJvciAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXJyb3JfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgYXN5bmMgZHJhd2luZyBjb21wbGV0ZS5cbiAgICogQHBhcmFtIHtFcnJvcj19IGVyciBBbnkgZXJyb3IgZHVyaW5nIGRyYXdpbmcuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBJbWFnZUNhbnZhcy5wcm90b3R5cGUuaGFuZGxlTG9hZF8gPSBmdW5jdGlvbiBoYW5kbGVMb2FkXyAoZXJyKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgdGhpcy5lcnJvcl8gPSBlcnI7XG4gICAgICB0aGlzLnN0YXRlID0gSW1hZ2VTdGF0ZS5FUlJPUjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdGF0ZSA9IEltYWdlU3RhdGUuTE9BREVEO1xuICAgIH1cbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIEltYWdlQ2FudmFzLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gbG9hZCAoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT0gSW1hZ2VTdGF0ZS5JRExFKSB7XG4gICAgICB0aGlzLnN0YXRlID0gSW1hZ2VTdGF0ZS5MT0FESU5HO1xuICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgICB0aGlzLmxvYWRlcl8odGhpcy5oYW5kbGVMb2FkXy5iaW5kKHRoaXMpKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fSBDYW52YXMgZWxlbWVudC5cbiAgICovXG4gIEltYWdlQ2FudmFzLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uIGdldEltYWdlICgpIHtcbiAgICByZXR1cm4gdGhpcy5jYW52YXNfO1xuICB9O1xuXG4gIHJldHVybiBJbWFnZUNhbnZhcztcbn0oSW1hZ2VCYXNlKSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VDYW52YXM7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUltYWdlQ2FudmFzLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9JbWFnZUJhc2VcbiAqL1xuaW1wb3J0IHthYnN0cmFjdH0gZnJvbSAnLi91dGlsLmpzJztcbmltcG9ydCBFdmVudFRhcmdldCBmcm9tICcuL2V2ZW50cy9UYXJnZXQuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuXG4vKipcbiAqIEBhYnN0cmFjdFxuICovXG52YXIgSW1hZ2VCYXNlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRXZlbnRUYXJnZXQpIHtcbiAgZnVuY3Rpb24gSW1hZ2VCYXNlKGV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbywgc3RhdGUpIHtcblxuICAgIEV2ZW50VGFyZ2V0LmNhbGwodGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgKi9cbiAgICB0aGlzLmV4dGVudCA9IGV4dGVudDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnBpeGVsUmF0aW9fID0gcGl4ZWxSYXRpbztcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG5cbiAgfVxuXG4gIGlmICggRXZlbnRUYXJnZXQgKSBJbWFnZUJhc2UuX19wcm90b19fID0gRXZlbnRUYXJnZXQ7XG4gIEltYWdlQmFzZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBFdmVudFRhcmdldCAmJiBFdmVudFRhcmdldC5wcm90b3R5cGUgKTtcbiAgSW1hZ2VCYXNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEltYWdlQmFzZTtcblxuICAvKipcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgSW1hZ2VCYXNlLnByb3RvdHlwZS5jaGFuZ2VkID0gZnVuY3Rpb24gY2hhbmdlZCAoKSB7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KEV2ZW50VHlwZS5DSEFOR0UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IEV4dGVudC5cbiAgICovXG4gIEltYWdlQmFzZS5wcm90b3R5cGUuZ2V0RXh0ZW50ID0gZnVuY3Rpb24gZ2V0RXh0ZW50ICgpIHtcbiAgICByZXR1cm4gdGhpcy5leHRlbnQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IEltYWdlLlxuICAgKi9cbiAgSW1hZ2VCYXNlLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uIGdldEltYWdlICgpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfTtcblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfSBQaXhlbFJhdGlvLlxuICAgKi9cbiAgSW1hZ2VCYXNlLnByb3RvdHlwZS5nZXRQaXhlbFJhdGlvID0gZnVuY3Rpb24gZ2V0UGl4ZWxSYXRpbyAoKSB7XG4gICAgcmV0dXJuIHRoaXMucGl4ZWxSYXRpb187XG4gIH07XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn0gUmVzb2x1dGlvbi5cbiAgICovXG4gIEltYWdlQmFzZS5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbiA9IGZ1bmN0aW9uIGdldFJlc29sdXRpb24gKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMucmVzb2x1dGlvbik7XG4gIH07XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vSW1hZ2VTdGF0ZS5qc1wiKS5kZWZhdWx0fSBTdGF0ZS5cbiAgICovXG4gIEltYWdlQmFzZS5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbiBnZXRTdGF0ZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gIH07XG5cbiAgLyoqXG4gICAqIExvYWQgbm90IHlldCBsb2FkZWQgVVJJLlxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIEltYWdlQmFzZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQgKCkge1xuICAgIGFic3RyYWN0KCk7XG4gIH07XG5cbiAgcmV0dXJuIEltYWdlQmFzZTtcbn0oRXZlbnRUYXJnZXQpKTtcblxuXG5leHBvcnQgZGVmYXVsdCBJbWFnZUJhc2U7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUltYWdlQmFzZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyZXIvY2FudmFzL0ludGVybWVkaWF0ZUNhbnZhc1xuICovXG5pbXBvcnQge2Fic3RyYWN0fSBmcm9tICcuLi8uLi91dGlsLmpzJztcbmltcG9ydCB7c2NhbGUgYXMgc2NhbGVDb29yZGluYXRlfSBmcm9tICcuLi8uLi9jb29yZGluYXRlLmpzJztcbmltcG9ydCB7Y3JlYXRlQ2FudmFzQ29udGV4dDJEfSBmcm9tICcuLi8uLi9kb20uanMnO1xuaW1wb3J0IHtjb250YWluc0V4dGVudCwgaW50ZXJzZWN0c30gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCBDYW52YXNMYXllclJlbmRlcmVyIGZyb20gJy4vTGF5ZXIuanMnO1xuaW1wb3J0IHtjcmVhdGUgYXMgY3JlYXRlVHJhbnNmb3JtLCBhcHBseSBhcyBhcHBseVRyYW5zZm9ybX0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtLmpzJztcblxuLyoqXG4gKiBAYWJzdHJhY3RcbiAqL1xudmFyIEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQ2FudmFzTGF5ZXJSZW5kZXJlcikge1xuICBmdW5jdGlvbiBJbnRlcm1lZGlhdGVDYW52YXNSZW5kZXJlcihsYXllcikge1xuXG4gICAgQ2FudmFzTGF5ZXJSZW5kZXJlci5jYWxsKHRoaXMsIGxheWVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgKi9cbiAgICB0aGlzLmNvb3JkaW5hdGVUb0NhbnZhc1BpeGVsVHJhbnNmb3JtID0gY3JlYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICovXG4gICAgdGhpcy5oaXRDYW52YXNDb250ZXh0XyA9IG51bGw7XG5cbiAgfVxuXG4gIGlmICggQ2FudmFzTGF5ZXJSZW5kZXJlciApIEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyLl9fcHJvdG9fXyA9IENhbnZhc0xheWVyUmVuZGVyZXI7XG4gIEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIENhbnZhc0xheWVyUmVuZGVyZXIgJiYgQ2FudmFzTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUgKTtcbiAgSW50ZXJtZWRpYXRlQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSW50ZXJtZWRpYXRlQ2FudmFzUmVuZGVyZXI7XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBJbnRlcm1lZGlhdGVDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuY29tcG9zZUZyYW1lID0gZnVuY3Rpb24gY29tcG9zZUZyYW1lIChmcmFtZVN0YXRlLCBsYXllclN0YXRlLCBjb250ZXh0KSB7XG5cbiAgICB0aGlzLnByZUNvbXBvc2UoY29udGV4dCwgZnJhbWVTdGF0ZSk7XG5cbiAgICB2YXIgaW1hZ2UgPSB0aGlzLmdldEltYWdlKCk7XG4gICAgaWYgKGltYWdlKSB7XG5cbiAgICAgIC8vIGNsaXBwZWQgcmVuZGVyaW5nIGlmIGxheWVyIGV4dGVudCBpcyBzZXRcbiAgICAgIHZhciBleHRlbnQgPSBsYXllclN0YXRlLmV4dGVudDtcbiAgICAgIHZhciBjbGlwcGVkID0gZXh0ZW50ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAhY29udGFpbnNFeHRlbnQoZXh0ZW50LCBmcmFtZVN0YXRlLmV4dGVudCkgJiZcbiAgICAgICAgICBpbnRlcnNlY3RzKGV4dGVudCwgZnJhbWVTdGF0ZS5leHRlbnQpO1xuICAgICAgaWYgKGNsaXBwZWQpIHtcbiAgICAgICAgdGhpcy5jbGlwKGNvbnRleHQsIGZyYW1lU3RhdGUsIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gKi8gKGV4dGVudCkpO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW1hZ2VUcmFuc2Zvcm0gPSB0aGlzLmdldEltYWdlVHJhbnNmb3JtKCk7XG4gICAgICAvLyBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucywgY29udGV4dC5zYXZlIC8gY29udGV4dC5yZXN0b3JlIGlzIG5vdCB1c2VkXG4gICAgICAvLyB0byBzYXZlIGFuZCByZXN0b3JlIHRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggYW5kIHRoZSBvcGFjaXR5LlxuICAgICAgLy8gc2VlIGh0dHA6Ly9qc3BlcmYuY29tL2NvbnRleHQtc2F2ZS1yZXN0b3JlLXZlcnN1cy12YXJpYWJsZVxuICAgICAgdmFyIGFscGhhID0gY29udGV4dC5nbG9iYWxBbHBoYTtcbiAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBsYXllclN0YXRlLm9wYWNpdHk7XG5cbiAgICAgIC8vIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLCBjb250ZXh0LnNldFRyYW5zZm9ybSBpcyBvbmx5IHVzZWRcbiAgICAgIC8vIHdoZW4gdGhlIHZpZXcgaXMgcm90YXRlZC4gc2VlIGh0dHA6Ly9qc3BlcmYuY29tL2NhbnZhcy10cmFuc2Zvcm1cbiAgICAgIHZhciBkeCA9IGltYWdlVHJhbnNmb3JtWzRdO1xuICAgICAgdmFyIGR5ID0gaW1hZ2VUcmFuc2Zvcm1bNV07XG4gICAgICB2YXIgZHcgPSBpbWFnZS53aWR0aCAqIGltYWdlVHJhbnNmb3JtWzBdO1xuICAgICAgdmFyIGRoID0gaW1hZ2UuaGVpZ2h0ICogaW1hZ2VUcmFuc2Zvcm1bM107XG4gICAgICBpZiAoZHcgPj0gMC41ICYmIGRoID49IDAuNSkge1xuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgMCwgMCwgK2ltYWdlLndpZHRoLCAraW1hZ2UuaGVpZ2h0LFxuICAgICAgICAgIE1hdGgucm91bmQoZHgpLCBNYXRoLnJvdW5kKGR5KSwgTWF0aC5yb3VuZChkdyksIE1hdGgucm91bmQoZGgpKTtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBhbHBoYTtcblxuICAgICAgaWYgKGNsaXBwZWQpIHtcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5wb3N0Q29tcG9zZShjb250ZXh0LCBmcmFtZVN0YXRlLCBsYXllclN0YXRlKTtcbiAgfTtcblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudH0gQ2FudmFzLlxuICAgKi9cbiAgSW50ZXJtZWRpYXRlQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gZ2V0SW1hZ2UgKCkge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHJldHVybiB7IWltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IEltYWdlIHRyYW5zZm9ybS5cbiAgICovXG4gIEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5nZXRJbWFnZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIGdldEltYWdlVHJhbnNmb3JtICgpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5mb3JFYWNoTGF5ZXJBdENvb3JkaW5hdGUgPSBmdW5jdGlvbiBmb3JFYWNoTGF5ZXJBdENvb3JkaW5hdGUgKGNvb3JkaW5hdGUsIGZyYW1lU3RhdGUsIGhpdFRvbGVyYW5jZSwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICBpZiAoIXRoaXMuZ2V0SW1hZ2UoKSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB2YXIgcGl4ZWwgPSBhcHBseVRyYW5zZm9ybSh0aGlzLmNvb3JkaW5hdGVUb0NhbnZhc1BpeGVsVHJhbnNmb3JtLCBjb29yZGluYXRlLnNsaWNlKCkpO1xuICAgIHNjYWxlQ29vcmRpbmF0ZShwaXhlbCwgZnJhbWVTdGF0ZS52aWV3U3RhdGUucmVzb2x1dGlvbiAvIHRoaXMucmVuZGVyZWRSZXNvbHV0aW9uKTtcblxuICAgIGlmICghdGhpcy5oaXRDYW52YXNDb250ZXh0Xykge1xuICAgICAgdGhpcy5oaXRDYW52YXNDb250ZXh0XyA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCgxLCAxKTtcbiAgICB9XG5cbiAgICB0aGlzLmhpdENhbnZhc0NvbnRleHRfLmNsZWFyUmVjdCgwLCAwLCAxLCAxKTtcbiAgICB0aGlzLmhpdENhbnZhc0NvbnRleHRfLmRyYXdJbWFnZSh0aGlzLmdldEltYWdlKCksIHBpeGVsWzBdLCBwaXhlbFsxXSwgMSwgMSwgMCwgMCwgMSwgMSk7XG5cbiAgICB2YXIgaW1hZ2VEYXRhID0gdGhpcy5oaXRDYW52YXNDb250ZXh0Xy5nZXRJbWFnZURhdGEoMCwgMCwgMSwgMSkuZGF0YTtcbiAgICBpZiAoaW1hZ2VEYXRhWzNdID4gMCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpcy5nZXRMYXllcigpLCBpbWFnZURhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gSW50ZXJtZWRpYXRlQ2FudmFzUmVuZGVyZXI7XG59KENhbnZhc0xheWVyUmVuZGVyZXIpKTtcblxuXG5leHBvcnQgZGVmYXVsdCBJbnRlcm1lZGlhdGVDYW52YXNSZW5kZXJlcjtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW50ZXJtZWRpYXRlQ2FudmFzLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvbGVuZ3RoXG4gKi9cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IExlbmd0aC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVTdHJpbmdMZW5ndGgoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gIHZhciB4MSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICB2YXIgeTEgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gIHZhciBsZW5ndGggPSAwO1xuICBmb3IgKHZhciBpID0gb2Zmc2V0ICsgc3RyaWRlOyBpIDwgZW5kOyBpICs9IHN0cmlkZSkge1xuICAgIHZhciB4MiA9IGZsYXRDb29yZGluYXRlc1tpXTtcbiAgICB2YXIgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbaSArIDFdO1xuICAgIGxlbmd0aCArPSBNYXRoLnNxcnQoKHgyIC0geDEpICogKHgyIC0geDEpICsgKHkyIC0geTEpICogKHkyIC0geTEpKTtcbiAgICB4MSA9IHgyO1xuICAgIHkxID0geTI7XG4gIH1cbiAgcmV0dXJuIGxlbmd0aDtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFBlcmltZXRlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdMZW5ndGgoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gIHZhciBwZXJpbWV0ZXIgPSBsaW5lU3RyaW5nTGVuZ3RoKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSk7XG4gIHZhciBkeCA9IGZsYXRDb29yZGluYXRlc1tlbmQgLSBzdHJpZGVdIC0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gIHZhciBkeSA9IGZsYXRDb29yZGluYXRlc1tlbmQgLSBzdHJpZGUgKyAxXSAtIGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgcGVyaW1ldGVyICs9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gIHJldHVybiBwZXJpbWV0ZXI7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxlbmd0aC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvTWFwQnJvd3NlclBvaW50ZXJFdmVudFxuICovXG5pbXBvcnQgTWFwQnJvd3NlckV2ZW50IGZyb20gJy4vTWFwQnJvd3NlckV2ZW50LmpzJztcblxudmFyIE1hcEJyb3dzZXJQb2ludGVyRXZlbnQgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChNYXBCcm93c2VyRXZlbnQpIHtcbiAgZnVuY3Rpb24gTWFwQnJvd3NlclBvaW50ZXJFdmVudCh0eXBlLCBtYXAsIHBvaW50ZXJFdmVudCwgb3B0X2RyYWdnaW5nLCBvcHRfZnJhbWVTdGF0ZSkge1xuXG4gICAgTWFwQnJvd3NlckV2ZW50LmNhbGwodGhpcywgdHlwZSwgbWFwLCBwb2ludGVyRXZlbnQub3JpZ2luYWxFdmVudCwgb3B0X2RyYWdnaW5nLCBvcHRfZnJhbWVTdGF0ZSk7XG5cbiAgICAvKipcbiAgICAgKiBAY29uc3RcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9wb2ludGVyL1BvaW50ZXJFdmVudC5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMucG9pbnRlckV2ZW50ID0gcG9pbnRlckV2ZW50O1xuXG4gIH1cblxuICBpZiAoIE1hcEJyb3dzZXJFdmVudCApIE1hcEJyb3dzZXJQb2ludGVyRXZlbnQuX19wcm90b19fID0gTWFwQnJvd3NlckV2ZW50O1xuICBNYXBCcm93c2VyUG9pbnRlckV2ZW50LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIE1hcEJyb3dzZXJFdmVudCAmJiBNYXBCcm93c2VyRXZlbnQucHJvdG90eXBlICk7XG4gIE1hcEJyb3dzZXJQb2ludGVyRXZlbnQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTWFwQnJvd3NlclBvaW50ZXJFdmVudDtcblxuICByZXR1cm4gTWFwQnJvd3NlclBvaW50ZXJFdmVudDtcbn0oTWFwQnJvd3NlckV2ZW50KSk7XG5cbmV4cG9ydCBkZWZhdWx0IE1hcEJyb3dzZXJQb2ludGVyRXZlbnQ7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hcEJyb3dzZXJQb2ludGVyRXZlbnQuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL01hcEJyb3dzZXJFdmVudFxuICovXG5pbXBvcnQgTWFwRXZlbnQgZnJvbSAnLi9NYXBFdmVudC5qcyc7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogRXZlbnRzIGVtaXR0ZWQgYXMgbWFwIGJyb3dzZXIgZXZlbnRzIGFyZSBpbnN0YW5jZXMgb2YgdGhpcyB0eXBlLlxuICogU2VlIHtAbGluayBtb2R1bGU6b2wvUGx1Z2dhYmxlTWFwflBsdWdnYWJsZU1hcH0gZm9yIHdoaWNoIGV2ZW50cyB0cmlnZ2VyIGEgbWFwIGJyb3dzZXIgZXZlbnQuXG4gKi9cbnZhciBNYXBCcm93c2VyRXZlbnQgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChNYXBFdmVudCkge1xuICBmdW5jdGlvbiBNYXBCcm93c2VyRXZlbnQodHlwZSwgbWFwLCBicm93c2VyRXZlbnQsIG9wdF9kcmFnZ2luZywgb3B0X2ZyYW1lU3RhdGUpIHtcblxuICAgIE1hcEV2ZW50LmNhbGwodGhpcywgdHlwZSwgbWFwLCBvcHRfZnJhbWVTdGF0ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3JpZ2luYWwgYnJvd3NlciBldmVudC5cbiAgICAgKiBAY29uc3RcbiAgICAgKiBAdHlwZSB7RXZlbnR9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMub3JpZ2luYWxFdmVudCA9IGJyb3dzZXJFdmVudDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXAgcGl4ZWwgcmVsYXRpdmUgdG8gdGhlIHZpZXdwb3J0IGNvcnJlc3BvbmRpbmcgdG8gdGhlIG9yaWdpbmFsIGJyb3dzZXIgZXZlbnQuXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMucGl4ZWwgPSBtYXAuZ2V0RXZlbnRQaXhlbChicm93c2VyRXZlbnQpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNvb3JkaW5hdGUgaW4gdmlldyBwcm9qZWN0aW9uIGNvcnJlc3BvbmRpbmcgdG8gdGhlIG9yaWdpbmFsIGJyb3dzZXIgZXZlbnQuXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLmNvb3JkaW5hdGUgPSBtYXAuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbCh0aGlzLnBpeGVsKTtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyBpZiB0aGUgbWFwIGlzIGN1cnJlbnRseSBiZWluZyBkcmFnZ2VkLiBPbmx5IHNldCBmb3JcbiAgICAgKiBgUE9JTlRFUkRSQUdgIGFuZCBgUE9JTlRFUk1PVkVgIGV2ZW50cy4gRGVmYXVsdCBpcyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMuZHJhZ2dpbmcgPSBvcHRfZHJhZ2dpbmcgIT09IHVuZGVmaW5lZCA/IG9wdF9kcmFnZ2luZyA6IGZhbHNlO1xuXG4gIH1cblxuICBpZiAoIE1hcEV2ZW50ICkgTWFwQnJvd3NlckV2ZW50Ll9fcHJvdG9fXyA9IE1hcEV2ZW50O1xuICBNYXBCcm93c2VyRXZlbnQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggTWFwRXZlbnQgJiYgTWFwRXZlbnQucHJvdG90eXBlICk7XG4gIE1hcEJyb3dzZXJFdmVudC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNYXBCcm93c2VyRXZlbnQ7XG5cbiAgLyoqXG4gICAqIFByZXZlbnRzIHRoZSBkZWZhdWx0IGJyb3dzZXIgYWN0aW9uLlxuICAgKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL2V2ZW50LnByZXZlbnREZWZhdWx0LlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQGFwaVxuICAgKi9cbiAgTWFwQnJvd3NlckV2ZW50LnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0ICgpIHtcbiAgICBNYXBFdmVudC5wcm90b3R5cGUucHJldmVudERlZmF1bHQuY2FsbCh0aGlzKTtcbiAgICB0aGlzLm9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfTtcblxuICAvKipcbiAgICogUHJldmVudHMgZnVydGhlciBwcm9wYWdhdGlvbiBvZiB0aGUgY3VycmVudCBldmVudC5cbiAgICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9ldmVudC5zdG9wUHJvcGFnYXRpb24uXG4gICAqIEBvdmVycmlkZVxuICAgKiBAYXBpXG4gICAqL1xuICBNYXBCcm93c2VyRXZlbnQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbiAoKSB7XG4gICAgTWFwRXZlbnQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbi5jYWxsKHRoaXMpO1xuICAgIHRoaXMub3JpZ2luYWxFdmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfTtcblxuICByZXR1cm4gTWFwQnJvd3NlckV2ZW50O1xufShNYXBFdmVudCkpO1xuXG5cbmV4cG9ydCBkZWZhdWx0IE1hcEJyb3dzZXJFdmVudDtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWFwQnJvd3NlckV2ZW50LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9NYXBFdmVudFxuICovXG5pbXBvcnQgRXZlbnQgZnJvbSAnLi9ldmVudHMvRXZlbnQuanMnO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEV2ZW50cyBlbWl0dGVkIGFzIG1hcCBldmVudHMgYXJlIGluc3RhbmNlcyBvZiB0aGlzIHR5cGUuXG4gKiBTZWUge0BsaW5rIG1vZHVsZTpvbC9QbHVnZ2FibGVNYXB+UGx1Z2dhYmxlTWFwfSBmb3Igd2hpY2ggZXZlbnRzIHRyaWdnZXIgYSBtYXAgZXZlbnQuXG4gKi9cbnZhciBNYXBFdmVudCA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEV2ZW50KSB7XG4gIGZ1bmN0aW9uIE1hcEV2ZW50KHR5cGUsIG1hcCwgb3B0X2ZyYW1lU3RhdGUpIHtcblxuICAgIEV2ZW50LmNhbGwodGhpcywgdHlwZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWFwIHdoZXJlIHRoZSBldmVudCBvY2N1cnJlZC5cbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH1cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgdGhpcy5tYXAgPSBtYXA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnJhbWUgc3RhdGUgYXQgdGhlIHRpbWUgb2YgdGhlIGV2ZW50LlxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX1cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgdGhpcy5mcmFtZVN0YXRlID0gb3B0X2ZyYW1lU3RhdGUgIT09IHVuZGVmaW5lZCA/IG9wdF9mcmFtZVN0YXRlIDogbnVsbDtcblxuICB9XG5cbiAgaWYgKCBFdmVudCApIE1hcEV2ZW50Ll9fcHJvdG9fXyA9IEV2ZW50O1xuICBNYXBFdmVudC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBFdmVudCAmJiBFdmVudC5wcm90b3R5cGUgKTtcbiAgTWFwRXZlbnQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTWFwRXZlbnQ7XG5cbiAgcmV0dXJuIE1hcEV2ZW50O1xufShFdmVudCkpO1xuXG5leHBvcnQgZGVmYXVsdCBNYXBFdmVudDtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWFwRXZlbnQuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9WZWN0b3JDb250ZXh0XG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDb250ZXh0IGZvciBkcmF3aW5nIGdlb21ldHJpZXMuICBBIHZlY3RvciBjb250ZXh0IGlzIGF2YWlsYWJsZSBvbiByZW5kZXJcbiAqIGV2ZW50cyBhbmQgZG9lcyBub3QgbmVlZCB0byBiZSBjb25zdHJ1Y3RlZCBkaXJlY3RseS5cbiAqIEBhcGlcbiAqL1xudmFyIFZlY3RvckNvbnRleHQgPSBmdW5jdGlvbiBWZWN0b3JDb250ZXh0ICgpIHt9O1xuXG5WZWN0b3JDb250ZXh0LnByb3RvdHlwZS5kcmF3Q3VzdG9tID0gZnVuY3Rpb24gZHJhd0N1c3RvbSAoZ2VvbWV0cnksIGZlYXR1cmUsIHJlbmRlcmVyKSB7fTtcblxuLyoqXG4gKiBSZW5kZXIgYSBnZW9tZXRyeS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgVGhlIGdlb21ldHJ5IHRvIHJlbmRlci5cbiAqL1xuVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuZHJhd0dlb21ldHJ5ID0gZnVuY3Rpb24gZHJhd0dlb21ldHJ5IChnZW9tZXRyeSkge307XG5cbi8qKlxuICogU2V0IHRoZSByZW5kZXJpbmcgc3R5bGUuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBUaGUgcmVuZGVyaW5nIHN0eWxlLlxuICovXG5WZWN0b3JDb250ZXh0LnByb3RvdHlwZS5zZXRTdHlsZSA9IGZ1bmN0aW9uIHNldFN0eWxlIChzdHlsZSkge307XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0NpcmNsZS5qc1wiKS5kZWZhdWx0fSBjaXJjbGVHZW9tZXRyeSBDaXJjbGUgZ2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICovXG5WZWN0b3JDb250ZXh0LnByb3RvdHlwZS5kcmF3Q2lyY2xlID0gZnVuY3Rpb24gZHJhd0NpcmNsZSAoY2lyY2xlR2VvbWV0cnksIGZlYXR1cmUpIHt9O1xuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICovXG5WZWN0b3JDb250ZXh0LnByb3RvdHlwZS5kcmF3RmVhdHVyZSA9IGZ1bmN0aW9uIGRyYXdGZWF0dXJlIChmZWF0dXJlLCBzdHlsZSkge307XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5Q29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeUNvbGxlY3Rpb25HZW9tZXRyeSBHZW9tZXRyeSBjb2xsZWN0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAqL1xuVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuZHJhd0dlb21ldHJ5Q29sbGVjdGlvbiA9IGZ1bmN0aW9uIGRyYXdHZW9tZXRyeUNvbGxlY3Rpb24gKGdlb21ldHJ5Q29sbGVjdGlvbkdlb21ldHJ5LCBmZWF0dXJlKSB7fTtcblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBsaW5lU3RyaW5nR2VvbWV0cnkgTGluZSBzdHJpbmcgZ2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICovXG5WZWN0b3JDb250ZXh0LnByb3RvdHlwZS5kcmF3TGluZVN0cmluZyA9IGZ1bmN0aW9uIGRyYXdMaW5lU3RyaW5nIChsaW5lU3RyaW5nR2VvbWV0cnksIGZlYXR1cmUpIHt9O1xuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9NdWx0aUxpbmVTdHJpbmcuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gbXVsdGlMaW5lU3RyaW5nR2VvbWV0cnkgTXVsdGlMaW5lU3RyaW5nIGdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAqL1xuVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuZHJhd011bHRpTGluZVN0cmluZyA9IGZ1bmN0aW9uIGRyYXdNdWx0aUxpbmVTdHJpbmcgKG11bHRpTGluZVN0cmluZ0dlb21ldHJ5LCBmZWF0dXJlKSB7fTtcblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vTXVsdGlQb2ludC5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBtdWx0aVBvaW50R2VvbWV0cnkgTXVsdGlQb2ludCBnZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gKi9cblZlY3RvckNvbnRleHQucHJvdG90eXBlLmRyYXdNdWx0aVBvaW50ID0gZnVuY3Rpb24gZHJhd011bHRpUG9pbnQgKG11bHRpUG9pbnRHZW9tZXRyeSwgZmVhdHVyZSkge307XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSBtdWx0aVBvbHlnb25HZW9tZXRyeSBNdWx0aVBvbHlnb24gZ2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICovXG5WZWN0b3JDb250ZXh0LnByb3RvdHlwZS5kcmF3TXVsdGlQb2x5Z29uID0gZnVuY3Rpb24gZHJhd011bHRpUG9seWdvbiAobXVsdGlQb2x5Z29uR2VvbWV0cnksIGZlYXR1cmUpIHt9O1xuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9Qb2ludC5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBwb2ludEdlb21ldHJ5IFBvaW50IGdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAqL1xuVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuZHJhd1BvaW50ID0gZnVuY3Rpb24gZHJhd1BvaW50IChwb2ludEdlb21ldHJ5LCBmZWF0dXJlKSB7fTtcblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBwb2x5Z29uR2VvbWV0cnkgUG9seWdvbiBnZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gKi9cblZlY3RvckNvbnRleHQucHJvdG90eXBlLmRyYXdQb2x5Z29uID0gZnVuY3Rpb24gZHJhd1BvbHlnb24gKHBvbHlnb25HZW9tZXRyeSwgZmVhdHVyZSkge307XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAqL1xuVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuZHJhd1RleHQgPSBmdW5jdGlvbiBkcmF3VGV4dCAoZ2VvbWV0cnksIGZlYXR1cmUpIHt9O1xuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvRmlsbC5qc1wiKS5kZWZhdWx0fSBmaWxsU3R5bGUgRmlsbCBzdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IHN0cm9rZVN0eWxlIFN0cm9rZSBzdHlsZS5cbiAqL1xuVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuc2V0RmlsbFN0cm9rZVN0eWxlID0gZnVuY3Rpb24gc2V0RmlsbFN0cm9rZVN0eWxlIChmaWxsU3R5bGUsIHN0cm9rZVN0eWxlKSB7fTtcblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL0ltYWdlLmpzXCIpLmRlZmF1bHR9IGltYWdlU3R5bGUgSW1hZ2Ugc3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY2FudmFzLmpzXCIpLkRlY2x1dHRlckdyb3VwPX0gb3B0X2RlY2x1dHRlckdyb3VwIERlY2x1dHRlci5cbiAqL1xuVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuc2V0SW1hZ2VTdHlsZSA9IGZ1bmN0aW9uIHNldEltYWdlU3R5bGUgKGltYWdlU3R5bGUsIG9wdF9kZWNsdXR0ZXJHcm91cCkge307XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9UZXh0LmpzXCIpLmRlZmF1bHR9IHRleHRTdHlsZSBUZXh0IHN0eWxlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2NhbnZhcy5qc1wiKS5EZWNsdXR0ZXJHcm91cD19IG9wdF9kZWNsdXR0ZXJHcm91cCBEZWNsdXR0ZXIuXG4gKi9cblZlY3RvckNvbnRleHQucHJvdG90eXBlLnNldFRleHRTdHlsZSA9IGZ1bmN0aW9uIHNldFRleHRTdHlsZSAodGV4dFN0eWxlLCBvcHRfZGVjbHV0dGVyR3JvdXApIHt9O1xuXG5leHBvcnQgZGVmYXVsdCBWZWN0b3JDb250ZXh0O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1WZWN0b3JDb250ZXh0LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXJlci9jYW52YXMvVGlsZUxheWVyXG4gKi9cbmltcG9ydCB7Z2V0VWlkfSBmcm9tICcuLi8uLi91dGlsLmpzJztcbmltcG9ydCBMYXllclR5cGUgZnJvbSAnLi4vLi4vTGF5ZXJUeXBlLmpzJztcbmltcG9ydCBUaWxlUmFuZ2UgZnJvbSAnLi4vLi4vVGlsZVJhbmdlLmpzJztcbmltcG9ydCBUaWxlU3RhdGUgZnJvbSAnLi4vLi4vVGlsZVN0YXRlLmpzJztcbmltcG9ydCBWaWV3SGludCBmcm9tICcuLi8uLi9WaWV3SGludC5qcyc7XG5pbXBvcnQge2NyZWF0ZUNhbnZhc0NvbnRleHQyRH0gZnJvbSAnLi4vLi4vZG9tLmpzJztcbmltcG9ydCB7Y29udGFpbnNFeHRlbnQsIGNyZWF0ZUVtcHR5LCBlcXVhbHMsIGdldEludGVyc2VjdGlvbiwgaXNFbXB0eX0gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCBJbnRlcm1lZGlhdGVDYW52YXNSZW5kZXJlciBmcm9tICcuL0ludGVybWVkaWF0ZUNhbnZhcy5qcyc7XG5pbXBvcnQge2NyZWF0ZSBhcyBjcmVhdGVUcmFuc2Zvcm0sIGNvbXBvc2UgYXMgY29tcG9zZVRyYW5zZm9ybX0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtLmpzJztcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDYW52YXMgcmVuZGVyZXIgZm9yIHRpbGUgbGF5ZXJzLlxuICogQGFwaVxuICovXG52YXIgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChJbnRlcm1lZGlhdGVDYW52YXNSZW5kZXJlcikge1xuICBmdW5jdGlvbiBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlcih0aWxlTGF5ZXIsIG9wdF9ub0NvbnRleHQpIHtcblxuICAgIEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyLmNhbGwodGhpcywgdGlsZUxheWVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAqL1xuICAgIHRoaXMuY29udGV4dCA9IG9wdF9ub0NvbnRleHQgPyBudWxsIDogY3JlYXRlQ2FudmFzQ29udGV4dDJEKCk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5vdmVyc2FtcGxpbmdfO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVkRXh0ZW50XyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVkUmV2aXNpb247XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUgeyFBcnJheTxpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZWRUaWxlcyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLm5ld1RpbGVzXyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqL1xuICAgIHRoaXMudG1wRXh0ZW50ID0gY3JlYXRlRW1wdHkoKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMudG1wVGlsZVJhbmdlXyA9IG5ldyBUaWxlUmFuZ2UoMCwgMCwgMCwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VUcmFuc2Zvcm1fID0gY3JlYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnpEaXJlY3Rpb24gPSAwO1xuXG4gIH1cblxuICBpZiAoIEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyICkgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIuX19wcm90b19fID0gSW50ZXJtZWRpYXRlQ2FudmFzUmVuZGVyZXI7XG4gIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyICYmIEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZSApO1xuICBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlcjtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVGlsZS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVGlsZSBpcyBkcmF3YWJsZS5cbiAgICovXG4gIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5pc0RyYXdhYmxlVGlsZV8gPSBmdW5jdGlvbiBpc0RyYXdhYmxlVGlsZV8gKHRpbGUpIHtcbiAgICB2YXIgdGlsZUxheWVyID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9sYXllci9UaWxlLmpzXCIpLmRlZmF1bHR9ICovICh0aGlzLmdldExheWVyKCkpO1xuICAgIHZhciB0aWxlU3RhdGUgPSB0aWxlLmdldFN0YXRlKCk7XG4gICAgdmFyIHVzZUludGVyaW1UaWxlc09uRXJyb3IgPSB0aWxlTGF5ZXIuZ2V0VXNlSW50ZXJpbVRpbGVzT25FcnJvcigpO1xuICAgIHJldHVybiB0aWxlU3RhdGUgPT0gVGlsZVN0YXRlLkxPQURFRCB8fFxuICAgICAgICB0aWxlU3RhdGUgPT0gVGlsZVN0YXRlLkVNUFRZIHx8XG4gICAgICAgIHRpbGVTdGF0ZSA9PSBUaWxlU3RhdGUuRVJST1IgJiYgIXVzZUludGVyaW1UaWxlc09uRXJyb3I7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6IFRpbGUgY29vcmRpbmF0ZSB6LlxuICAgKiBAcGFyYW0ge251bWJlcn0geCBUaWxlIGNvb3JkaW5hdGUgeC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGlsZSBjb29yZGluYXRlIHkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEByZXR1cm4geyFpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHR9IFRpbGUuXG4gICAqL1xuICBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZ2V0VGlsZSA9IGZ1bmN0aW9uIGdldFRpbGUgKHosIHgsIHksIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICB2YXIgdGlsZUxheWVyID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9sYXllci9UaWxlLmpzXCIpLmRlZmF1bHR9ICovICh0aGlzLmdldExheWVyKCkpO1xuICAgIHZhciB0aWxlU291cmNlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9zb3VyY2UvVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAodGlsZUxheWVyLmdldFNvdXJjZSgpKTtcbiAgICB2YXIgdGlsZSA9IHRpbGVTb3VyY2UuZ2V0VGlsZSh6LCB4LCB5LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKTtcbiAgICBpZiAodGlsZS5nZXRTdGF0ZSgpID09IFRpbGVTdGF0ZS5FUlJPUikge1xuICAgICAgaWYgKCF0aWxlTGF5ZXIuZ2V0VXNlSW50ZXJpbVRpbGVzT25FcnJvcigpKSB7XG4gICAgICAgIC8vIFdoZW4gdXNlSW50ZXJpbVRpbGVzT25FcnJvciBpcyBmYWxzZSwgd2UgY29uc2lkZXIgdGhlIGVycm9yIHRpbGUgYXMgbG9hZGVkLlxuICAgICAgICB0aWxlLnNldFN0YXRlKFRpbGVTdGF0ZS5MT0FERUQpO1xuICAgICAgfSBlbHNlIGlmICh0aWxlTGF5ZXIuZ2V0UHJlbG9hZCgpID4gMCkge1xuICAgICAgICAvLyBQcmVsb2FkZWQgdGlsZXMgZm9yIGxvd2VyIHJlc29sdXRpb25zIG1pZ2h0IGhhdmUgZmluaXNoZWQgbG9hZGluZy5cbiAgICAgICAgdGhpcy5uZXdUaWxlc18gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXRoaXMuaXNEcmF3YWJsZVRpbGVfKHRpbGUpKSB7XG4gICAgICB0aWxlID0gdGlsZS5nZXRJbnRlcmltVGlsZSgpO1xuICAgIH1cbiAgICByZXR1cm4gdGlsZTtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5wcmVwYXJlRnJhbWUgPSBmdW5jdGlvbiBwcmVwYXJlRnJhbWUgKGZyYW1lU3RhdGUsIGxheWVyU3RhdGUpIHtcblxuICAgIHZhciBwaXhlbFJhdGlvID0gZnJhbWVTdGF0ZS5waXhlbFJhdGlvO1xuICAgIHZhciBzaXplID0gZnJhbWVTdGF0ZS5zaXplO1xuICAgIHZhciB2aWV3U3RhdGUgPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZTtcbiAgICB2YXIgcHJvamVjdGlvbiA9IHZpZXdTdGF0ZS5wcm9qZWN0aW9uO1xuICAgIHZhciB2aWV3UmVzb2x1dGlvbiA9IHZpZXdTdGF0ZS5yZXNvbHV0aW9uO1xuICAgIHZhciB2aWV3Q2VudGVyID0gdmlld1N0YXRlLmNlbnRlcjtcblxuICAgIHZhciB0aWxlTGF5ZXIgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2xheWVyL1RpbGUuanNcIikuZGVmYXVsdH0gKi8gKHRoaXMuZ2V0TGF5ZXIoKSk7XG4gICAgdmFyIHRpbGVTb3VyY2UgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9ICovICh0aWxlTGF5ZXIuZ2V0U291cmNlKCkpO1xuICAgIHZhciBzb3VyY2VSZXZpc2lvbiA9IHRpbGVTb3VyY2UuZ2V0UmV2aXNpb24oKTtcbiAgICB2YXIgdGlsZUdyaWQgPSB0aWxlU291cmNlLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICB2YXIgeiA9IHRpbGVHcmlkLmdldFpGb3JSZXNvbHV0aW9uKHZpZXdSZXNvbHV0aW9uLCB0aGlzLnpEaXJlY3Rpb24pO1xuICAgIHZhciB0aWxlUmVzb2x1dGlvbiA9IHRpbGVHcmlkLmdldFJlc29sdXRpb24oeik7XG4gICAgdmFyIG92ZXJzYW1wbGluZyA9IE1hdGgucm91bmQodmlld1Jlc29sdXRpb24gLyB0aWxlUmVzb2x1dGlvbikgfHwgMTtcbiAgICB2YXIgZXh0ZW50ID0gZnJhbWVTdGF0ZS5leHRlbnQ7XG5cbiAgICBpZiAobGF5ZXJTdGF0ZS5leHRlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZXh0ZW50ID0gZ2V0SW50ZXJzZWN0aW9uKGV4dGVudCwgbGF5ZXJTdGF0ZS5leHRlbnQpO1xuICAgIH1cbiAgICBpZiAoaXNFbXB0eShleHRlbnQpKSB7XG4gICAgICAvLyBSZXR1cm4gZmFsc2UgdG8gcHJldmVudCB0aGUgcmVuZGVyaW5nIG9mIHRoZSBsYXllci5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgdGlsZVJhbmdlID0gdGlsZUdyaWQuZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWihleHRlbnQsIHopO1xuICAgIHZhciBpbWFnZUV4dGVudCA9IHRpbGVHcmlkLmdldFRpbGVSYW5nZUV4dGVudCh6LCB0aWxlUmFuZ2UpO1xuXG4gICAgdmFyIHRpbGVQaXhlbFJhdGlvID0gdGlsZVNvdXJjZS5nZXRUaWxlUGl4ZWxSYXRpbyhwaXhlbFJhdGlvKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtPYmplY3Q8bnVtYmVyLCBPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHQ+Pn1cbiAgICAgKi9cbiAgICB2YXIgdGlsZXNUb0RyYXdCeVogPSB7fTtcbiAgICB0aWxlc1RvRHJhd0J5Wlt6XSA9IHt9O1xuXG4gICAgdmFyIGZpbmRMb2FkZWRUaWxlcyA9IHRoaXMuY3JlYXRlTG9hZGVkVGlsZUZpbmRlcihcbiAgICAgIHRpbGVTb3VyY2UsIHByb2plY3Rpb24sIHRpbGVzVG9EcmF3QnlaKTtcblxuICAgIHZhciBoaW50cyA9IGZyYW1lU3RhdGUudmlld0hpbnRzO1xuICAgIHZhciBhbmltYXRpbmdPckludGVyYWN0aW5nID0gaGludHNbVmlld0hpbnQuQU5JTUFUSU5HXSB8fCBoaW50c1tWaWV3SGludC5JTlRFUkFDVElOR107XG5cbiAgICB2YXIgdG1wRXh0ZW50ID0gdGhpcy50bXBFeHRlbnQ7XG4gICAgdmFyIHRtcFRpbGVSYW5nZSA9IHRoaXMudG1wVGlsZVJhbmdlXztcbiAgICB0aGlzLm5ld1RpbGVzXyA9IGZhbHNlO1xuICAgIHZhciB0aWxlLCB4LCB5O1xuICAgIGZvciAoeCA9IHRpbGVSYW5nZS5taW5YOyB4IDw9IHRpbGVSYW5nZS5tYXhYOyArK3gpIHtcbiAgICAgIGZvciAoeSA9IHRpbGVSYW5nZS5taW5ZOyB5IDw9IHRpbGVSYW5nZS5tYXhZOyArK3kpIHtcbiAgICAgICAgaWYgKERhdGUubm93KCkgLSBmcmFtZVN0YXRlLnRpbWUgPiAxNiAmJiBhbmltYXRpbmdPckludGVyYWN0aW5nKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdGlsZSA9IHRoaXMuZ2V0VGlsZSh6LCB4LCB5LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgaWYgKHRoaXMuaXNEcmF3YWJsZVRpbGVfKHRpbGUpKSB7XG4gICAgICAgICAgdmFyIHVpZCA9IGdldFVpZCh0aGlzKTtcbiAgICAgICAgICBpZiAodGlsZS5nZXRTdGF0ZSgpID09IFRpbGVTdGF0ZS5MT0FERUQpIHtcbiAgICAgICAgICAgIHRpbGVzVG9EcmF3QnlaW3pdW3RpbGUudGlsZUNvb3JkLnRvU3RyaW5nKCldID0gdGlsZTtcbiAgICAgICAgICAgIHZhciBpblRyYW5zaXRpb24gPSB0aWxlLmluVHJhbnNpdGlvbih1aWQpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLm5ld1RpbGVzXyAmJiAoaW5UcmFuc2l0aW9uIHx8IHRoaXMucmVuZGVyZWRUaWxlcy5pbmRleE9mKHRpbGUpID09PSAtMSkpIHtcbiAgICAgICAgICAgICAgdGhpcy5uZXdUaWxlc18gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGlsZS5nZXRBbHBoYSh1aWQsIGZyYW1lU3RhdGUudGltZSkgPT09IDEpIHtcbiAgICAgICAgICAgIC8vIGRvbid0IGxvb2sgZm9yIGFsdCB0aWxlcyBpZiBhbHBoYSBpcyAxXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2hpbGRUaWxlUmFuZ2UgPSB0aWxlR3JpZC5nZXRUaWxlQ29vcmRDaGlsZFRpbGVSYW5nZShcbiAgICAgICAgICB0aWxlLnRpbGVDb29yZCwgdG1wVGlsZVJhbmdlLCB0bXBFeHRlbnQpO1xuICAgICAgICB2YXIgY292ZXJlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoY2hpbGRUaWxlUmFuZ2UpIHtcbiAgICAgICAgICBjb3ZlcmVkID0gZmluZExvYWRlZFRpbGVzKHogKyAxLCBjaGlsZFRpbGVSYW5nZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb3ZlcmVkKSB7XG4gICAgICAgICAgdGlsZUdyaWQuZm9yRWFjaFRpbGVDb29yZFBhcmVudFRpbGVSYW5nZShcbiAgICAgICAgICAgIHRpbGUudGlsZUNvb3JkLCBmaW5kTG9hZGVkVGlsZXMsIG51bGwsIHRtcFRpbGVSYW5nZSwgdG1wRXh0ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHJlbmRlcmVkUmVzb2x1dGlvbiA9IHRpbGVSZXNvbHV0aW9uICogcGl4ZWxSYXRpbyAvIHRpbGVQaXhlbFJhdGlvICogb3ZlcnNhbXBsaW5nO1xuICAgIGlmICghKHRoaXMucmVuZGVyZWRSZXNvbHV0aW9uICYmIERhdGUubm93KCkgLSBmcmFtZVN0YXRlLnRpbWUgPiAxNiAmJiBhbmltYXRpbmdPckludGVyYWN0aW5nKSAmJiAoXG4gICAgICB0aGlzLm5ld1RpbGVzXyB8fFxuICAgICAgICAgICEodGhpcy5yZW5kZXJlZEV4dGVudF8gJiYgY29udGFpbnNFeHRlbnQodGhpcy5yZW5kZXJlZEV4dGVudF8sIGV4dGVudCkpIHx8XG4gICAgICAgICAgdGhpcy5yZW5kZXJlZFJldmlzaW9uICE9IHNvdXJjZVJldmlzaW9uIHx8XG4gICAgICAgICAgb3ZlcnNhbXBsaW5nICE9IHRoaXMub3ZlcnNhbXBsaW5nXyB8fFxuICAgICAgICAgICFhbmltYXRpbmdPckludGVyYWN0aW5nICYmIHJlbmRlcmVkUmVzb2x1dGlvbiAhPSB0aGlzLnJlbmRlcmVkUmVzb2x1dGlvblxuICAgICkpIHtcblxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICBpZiAoY29udGV4dCkge1xuICAgICAgICB2YXIgdGlsZVBpeGVsU2l6ZSA9IHRpbGVTb3VyY2UuZ2V0VGlsZVBpeGVsU2l6ZSh6LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5yb3VuZCh0aWxlUmFuZ2UuZ2V0V2lkdGgoKSAqIHRpbGVQaXhlbFNpemVbMF0gLyBvdmVyc2FtcGxpbmcpO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5yb3VuZCh0aWxlUmFuZ2UuZ2V0SGVpZ2h0KCkgKiB0aWxlUGl4ZWxTaXplWzFdIC8gb3ZlcnNhbXBsaW5nKTtcbiAgICAgICAgdmFyIGNhbnZhcyA9IGNvbnRleHQuY2FudmFzO1xuICAgICAgICBpZiAoY2FudmFzLndpZHRoICE9IHdpZHRoIHx8IGNhbnZhcy5oZWlnaHQgIT0gaGVpZ2h0KSB7XG4gICAgICAgICAgdGhpcy5vdmVyc2FtcGxpbmdfID0gb3ZlcnNhbXBsaW5nO1xuICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHRoaXMucmVuZGVyZWRFeHRlbnRfICYmICFlcXVhbHMoaW1hZ2VFeHRlbnQsIHRoaXMucmVuZGVyZWRFeHRlbnRfKSkge1xuICAgICAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG92ZXJzYW1wbGluZyA9IHRoaXMub3ZlcnNhbXBsaW5nXztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnJlbmRlcmVkVGlsZXMubGVuZ3RoID0gMDtcbiAgICAgIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi9cbiAgICAgIHZhciB6cyA9IE9iamVjdC5rZXlzKHRpbGVzVG9EcmF3QnlaKS5tYXAoTnVtYmVyKTtcbiAgICAgIHpzLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICBpZiAoYSA9PT0geikge1xuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9IGVsc2UgaWYgKGIgPT09IHopIHtcbiAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGEgPiBiID8gMSA6IGEgPCBiID8gLTEgOiAwO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHZhciBjdXJyZW50UmVzb2x1dGlvbiwgY3VycmVudFNjYWxlLCBjdXJyZW50VGlsZVBpeGVsU2l6ZSwgY3VycmVudFosIGksIGlpO1xuICAgICAgdmFyIHRpbGVFeHRlbnQsIHRpbGVHdXR0ZXIsIHRpbGVzVG9EcmF3LCB3LCBoO1xuICAgICAgZm9yIChpID0gMCwgaWkgPSB6cy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGN1cnJlbnRaID0genNbaV07XG4gICAgICAgIGN1cnJlbnRUaWxlUGl4ZWxTaXplID0gdGlsZVNvdXJjZS5nZXRUaWxlUGl4ZWxTaXplKGN1cnJlbnRaLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgY3VycmVudFJlc29sdXRpb24gPSB0aWxlR3JpZC5nZXRSZXNvbHV0aW9uKGN1cnJlbnRaKTtcbiAgICAgICAgY3VycmVudFNjYWxlID0gY3VycmVudFJlc29sdXRpb24gLyB0aWxlUmVzb2x1dGlvbjtcbiAgICAgICAgdGlsZUd1dHRlciA9IHRpbGVQaXhlbFJhdGlvICogdGlsZVNvdXJjZS5nZXRHdXR0ZXJGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgICAgICB0aWxlc1RvRHJhdyA9IHRpbGVzVG9EcmF3QnlaW2N1cnJlbnRaXTtcbiAgICAgICAgZm9yICh2YXIgdGlsZUNvb3JkS2V5IGluIHRpbGVzVG9EcmF3KSB7XG4gICAgICAgICAgdGlsZSA9IHRpbGVzVG9EcmF3W3RpbGVDb29yZEtleV07XG4gICAgICAgICAgdGlsZUV4dGVudCA9IHRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudCh0aWxlLmdldFRpbGVDb29yZCgpLCB0bXBFeHRlbnQpO1xuICAgICAgICAgIHggPSAodGlsZUV4dGVudFswXSAtIGltYWdlRXh0ZW50WzBdKSAvIHRpbGVSZXNvbHV0aW9uICogdGlsZVBpeGVsUmF0aW8gLyBvdmVyc2FtcGxpbmc7XG4gICAgICAgICAgeSA9IChpbWFnZUV4dGVudFszXSAtIHRpbGVFeHRlbnRbM10pIC8gdGlsZVJlc29sdXRpb24gKiB0aWxlUGl4ZWxSYXRpbyAvIG92ZXJzYW1wbGluZztcbiAgICAgICAgICB3ID0gY3VycmVudFRpbGVQaXhlbFNpemVbMF0gKiBjdXJyZW50U2NhbGUgLyBvdmVyc2FtcGxpbmc7XG4gICAgICAgICAgaCA9IGN1cnJlbnRUaWxlUGl4ZWxTaXplWzFdICogY3VycmVudFNjYWxlIC8gb3ZlcnNhbXBsaW5nO1xuICAgICAgICAgIHRoaXMuZHJhd1RpbGVJbWFnZSh0aWxlLCBmcmFtZVN0YXRlLCBsYXllclN0YXRlLCB4LCB5LCB3LCBoLCB0aWxlR3V0dGVyLCB6ID09PSBjdXJyZW50Wik7XG4gICAgICAgICAgdGhpcy5yZW5kZXJlZFRpbGVzLnB1c2godGlsZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5yZW5kZXJlZFJldmlzaW9uID0gc291cmNlUmV2aXNpb247XG4gICAgICB0aGlzLnJlbmRlcmVkUmVzb2x1dGlvbiA9IHRpbGVSZXNvbHV0aW9uICogcGl4ZWxSYXRpbyAvIHRpbGVQaXhlbFJhdGlvICogb3ZlcnNhbXBsaW5nO1xuICAgICAgdGhpcy5yZW5kZXJlZEV4dGVudF8gPSBpbWFnZUV4dGVudDtcbiAgICB9XG5cbiAgICB2YXIgc2NhbGUgPSB0aGlzLnJlbmRlcmVkUmVzb2x1dGlvbiAvIHZpZXdSZXNvbHV0aW9uO1xuICAgIHZhciB0cmFuc2Zvcm0gPSBjb21wb3NlVHJhbnNmb3JtKHRoaXMuaW1hZ2VUcmFuc2Zvcm1fLFxuICAgICAgcGl4ZWxSYXRpbyAqIHNpemVbMF0gLyAyLCBwaXhlbFJhdGlvICogc2l6ZVsxXSAvIDIsXG4gICAgICBzY2FsZSwgc2NhbGUsXG4gICAgICAwLFxuICAgICAgKHRoaXMucmVuZGVyZWRFeHRlbnRfWzBdIC0gdmlld0NlbnRlclswXSkgLyB0aGlzLnJlbmRlcmVkUmVzb2x1dGlvbiAqIHBpeGVsUmF0aW8sXG4gICAgICAodmlld0NlbnRlclsxXSAtIHRoaXMucmVuZGVyZWRFeHRlbnRfWzNdKSAvIHRoaXMucmVuZGVyZWRSZXNvbHV0aW9uICogcGl4ZWxSYXRpbyk7XG4gICAgY29tcG9zZVRyYW5zZm9ybSh0aGlzLmNvb3JkaW5hdGVUb0NhbnZhc1BpeGVsVHJhbnNmb3JtLFxuICAgICAgcGl4ZWxSYXRpbyAqIHNpemVbMF0gLyAyIC0gdHJhbnNmb3JtWzRdLCBwaXhlbFJhdGlvICogc2l6ZVsxXSAvIDIgLSB0cmFuc2Zvcm1bNV0sXG4gICAgICBwaXhlbFJhdGlvIC8gdmlld1Jlc29sdXRpb24sIC1waXhlbFJhdGlvIC8gdmlld1Jlc29sdXRpb24sXG4gICAgICAwLFxuICAgICAgLXZpZXdDZW50ZXJbMF0sIC12aWV3Q2VudGVyWzFdKTtcblxuXG4gICAgdGhpcy51cGRhdGVVc2VkVGlsZXMoZnJhbWVTdGF0ZS51c2VkVGlsZXMsIHRpbGVTb3VyY2UsIHosIHRpbGVSYW5nZSk7XG4gICAgdGhpcy5tYW5hZ2VUaWxlUHlyYW1pZChmcmFtZVN0YXRlLCB0aWxlU291cmNlLCB0aWxlR3JpZCwgcGl4ZWxSYXRpbyxcbiAgICAgIHByb2plY3Rpb24sIGV4dGVudCwgeiwgdGlsZUxheWVyLmdldFByZWxvYWQoKSk7XG4gICAgdGhpcy5zY2hlZHVsZUV4cGlyZUNhY2hlKGZyYW1lU3RhdGUsIHRpbGVTb3VyY2UpO1xuXG4gICAgcmV0dXJuIHRoaXMucmVuZGVyZWRUaWxlcy5sZW5ndGggPiAwO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1RpbGUuanNcIikuZGVmYXVsdH0gdGlsZSBUaWxlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2xheWVyL0xheWVyLmpzXCIpLlN0YXRlfSBsYXllclN0YXRlIExheWVyIHN0YXRlLlxuICAgKiBAcGFyYW0ge251bWJlcn0geCBMZWZ0IG9mIHRoZSB0aWxlLlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBUb3Agb2YgdGhlIHRpbGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB3IFdpZHRoIG9mIHRoZSB0aWxlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gaCBIZWlnaHQgb2YgdGhlIHRpbGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBndXR0ZXIgVGlsZSBndXR0ZXIuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdHJhbnNpdGlvbiBBcHBseSBhbiBhbHBoYSB0cmFuc2l0aW9uLlxuICAgKi9cbiAgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLmRyYXdUaWxlSW1hZ2UgPSBmdW5jdGlvbiBkcmF3VGlsZUltYWdlICh0aWxlLCBmcmFtZVN0YXRlLCBsYXllclN0YXRlLCB4LCB5LCB3LCBoLCBndXR0ZXIsIHRyYW5zaXRpb24pIHtcbiAgICB2YXIgaW1hZ2UgPSB0aGlzLmdldFRpbGVJbWFnZSh0aWxlKTtcbiAgICBpZiAoIWltYWdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB1aWQgPSBnZXRVaWQodGhpcyk7XG4gICAgdmFyIGFscGhhID0gdHJhbnNpdGlvbiA/IHRpbGUuZ2V0QWxwaGEodWlkLCBmcmFtZVN0YXRlLnRpbWUpIDogMTtcbiAgICB2YXIgdGlsZUxheWVyID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9sYXllci9UaWxlLmpzXCIpLmRlZmF1bHR9ICovICh0aGlzLmdldExheWVyKCkpO1xuICAgIHZhciB0aWxlU291cmNlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9zb3VyY2UvVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAodGlsZUxheWVyLmdldFNvdXJjZSgpKTtcbiAgICBpZiAoYWxwaGEgPT09IDEgJiYgIXRpbGVTb3VyY2UuZ2V0T3BhcXVlKGZyYW1lU3RhdGUudmlld1N0YXRlLnByb2plY3Rpb24pKSB7XG4gICAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KHgsIHksIHcsIGgpO1xuICAgIH1cbiAgICB2YXIgYWxwaGFDaGFuZ2VkID0gYWxwaGEgIT09IHRoaXMuY29udGV4dC5nbG9iYWxBbHBoYTtcbiAgICBpZiAoYWxwaGFDaGFuZ2VkKSB7XG4gICAgICB0aGlzLmNvbnRleHQuc2F2ZSgpO1xuICAgICAgdGhpcy5jb250ZXh0Lmdsb2JhbEFscGhhID0gYWxwaGE7XG4gICAgfVxuICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIGd1dHRlciwgZ3V0dGVyLFxuICAgICAgaW1hZ2Uud2lkdGggLSAyICogZ3V0dGVyLCBpbWFnZS5oZWlnaHQgLSAyICogZ3V0dGVyLCB4LCB5LCB3LCBoKTtcblxuICAgIGlmIChhbHBoYUNoYW5nZWQpIHtcbiAgICAgIHRoaXMuY29udGV4dC5yZXN0b3JlKCk7XG4gICAgfVxuICAgIGlmIChhbHBoYSAhPT0gMSkge1xuICAgICAgZnJhbWVTdGF0ZS5hbmltYXRlID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgIHRpbGUuZW5kVHJhbnNpdGlvbih1aWQpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uIGdldEltYWdlICgpIHtcbiAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICByZXR1cm4gY29udGV4dCA/IGNvbnRleHQuY2FudmFzIDogbnVsbDtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5nZXRJbWFnZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIGdldEltYWdlVHJhbnNmb3JtICgpIHtcbiAgICByZXR1cm4gdGhpcy5pbWFnZVRyYW5zZm9ybV87XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgaW1hZ2UgZnJvbSBhIHRpbGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlIFRpbGUuXG4gICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gSW1hZ2UuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5nZXRUaWxlSW1hZ2UgPSBmdW5jdGlvbiBnZXRUaWxlSW1hZ2UgKHRpbGUpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9JbWFnZVRpbGUuanNcIikuZGVmYXVsdH0gKi8gKHRpbGUpLmdldEltYWdlKCk7XG4gIH07XG5cbiAgcmV0dXJuIENhbnZhc1RpbGVMYXllclJlbmRlcmVyO1xufShJbnRlcm1lZGlhdGVDYW52YXNSZW5kZXJlcikpO1xuXG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHRoaXMgcmVuZGVyZXIgaGFuZGxlcyB0aGUgcHJvdmlkZWQgbGF5ZXIuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IGxheWVyIFRoZSBjYW5kaWRhdGUgbGF5ZXIuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgcmVuZGVyZXIgY2FuIHJlbmRlciB0aGUgbGF5ZXIuXG4gKi9cbkNhbnZhc1RpbGVMYXllclJlbmRlcmVyWydoYW5kbGVzJ10gPSBmdW5jdGlvbihsYXllcikge1xuICByZXR1cm4gbGF5ZXIuZ2V0VHlwZSgpID09PSBMYXllclR5cGUuVElMRTtcbn07XG5cblxuLyoqXG4gKiBDcmVhdGUgYSBsYXllciByZW5kZXJlci5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHR9IG1hcFJlbmRlcmVyIFRoZSBtYXAgcmVuZGVyZXIuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IGxheWVyIFRoZSBsYXllciB0byBiZSByZW5kZXJlcmQuXG4gKiBAcmV0dXJuIHtDYW52YXNUaWxlTGF5ZXJSZW5kZXJlcn0gVGhlIGxheWVyIHJlbmRlcmVyLlxuICovXG5DYW52YXNUaWxlTGF5ZXJSZW5kZXJlclsnY3JlYXRlJ10gPSBmdW5jdGlvbihtYXBSZW5kZXJlciwgbGF5ZXIpIHtcbiAgcmV0dXJuIG5ldyBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlcigvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2xheWVyL1RpbGUuanNcIikuZGVmYXVsdH0gKi8gKGxheWVyKSk7XG59O1xuXG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi8uLi9sYXllci9UaWxlLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vLi4vbGF5ZXIvVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0fVxuICovXG5DYW52YXNUaWxlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZ2V0TGF5ZXI7XG5cblxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXI7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGVMYXllci5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvVGlsZVJhbmdlXG4gKi9cblxuLyoqXG4gKiBBIHJlcHJlc2VudGF0aW9uIG9mIGEgY29udGlndW91cyBibG9jayBvZiB0aWxlcy4gIEEgdGlsZSByYW5nZSBpcyBzcGVjaWZpZWRcbiAqIGJ5IGl0cyBtaW4vbWF4IHRpbGUgY29vcmRpbmF0ZXMgYW5kIGlzIGluY2x1c2l2ZSBvZiBjb29yZGluYXRlcy5cbiAqL1xudmFyIFRpbGVSYW5nZSA9IGZ1bmN0aW9uIFRpbGVSYW5nZShtaW5YLCBtYXhYLCBtaW5ZLCBtYXhZKSB7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICB0aGlzLm1pblggPSBtaW5YO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgdGhpcy5tYXhYID0gbWF4WDtcblxuICAvKipcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHRoaXMubWluWSA9IG1pblk7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICB0aGlzLm1heFkgPSBtYXhZO1xuXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMgdGlsZSBjb29yZGluYXRlLlxuICovXG5UaWxlUmFuZ2UucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gY29udGFpbnMgKHRpbGVDb29yZCkge1xuICByZXR1cm4gdGhpcy5jb250YWluc1hZKHRpbGVDb29yZFsxXSwgdGlsZUNvb3JkWzJdKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtUaWxlUmFuZ2V9IHRpbGVSYW5nZSBUaWxlIHJhbmdlLlxuICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMuXG4gKi9cblRpbGVSYW5nZS5wcm90b3R5cGUuY29udGFpbnNUaWxlUmFuZ2UgPSBmdW5jdGlvbiBjb250YWluc1RpbGVSYW5nZSAodGlsZVJhbmdlKSB7XG4gIHJldHVybiB0aGlzLm1pblggPD0gdGlsZVJhbmdlLm1pblggJiYgdGlsZVJhbmdlLm1heFggPD0gdGhpcy5tYXhYICYmXG4gICAgIHRoaXMubWluWSA8PSB0aWxlUmFuZ2UubWluWSAmJiB0aWxlUmFuZ2UubWF4WSA8PSB0aGlzLm1heFk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFRpbGUgY29vcmRpbmF0ZSB4LlxuICogQHBhcmFtIHtudW1iZXJ9IHkgVGlsZSBjb29yZGluYXRlIHkuXG4gKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyBjb29yZGluYXRlLlxuICovXG5UaWxlUmFuZ2UucHJvdG90eXBlLmNvbnRhaW5zWFkgPSBmdW5jdGlvbiBjb250YWluc1hZICh4LCB5KSB7XG4gIHJldHVybiB0aGlzLm1pblggPD0geCAmJiB4IDw9IHRoaXMubWF4WCAmJiB0aGlzLm1pblkgPD0geSAmJiB5IDw9IHRoaXMubWF4WTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtUaWxlUmFuZ2V9IHRpbGVSYW5nZSBUaWxlIHJhbmdlLlxuICogQHJldHVybiB7Ym9vbGVhbn0gRXF1YWxzLlxuICovXG5UaWxlUmFuZ2UucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAodGlsZVJhbmdlKSB7XG4gIHJldHVybiB0aGlzLm1pblggPT0gdGlsZVJhbmdlLm1pblggJiYgdGhpcy5taW5ZID09IHRpbGVSYW5nZS5taW5ZICYmXG4gICAgIHRoaXMubWF4WCA9PSB0aWxlUmFuZ2UubWF4WCAmJiB0aGlzLm1heFkgPT0gdGlsZVJhbmdlLm1heFk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7VGlsZVJhbmdlfSB0aWxlUmFuZ2UgVGlsZSByYW5nZS5cbiAqL1xuVGlsZVJhbmdlLnByb3RvdHlwZS5leHRlbmQgPSBmdW5jdGlvbiBleHRlbmQgKHRpbGVSYW5nZSkge1xuICBpZiAodGlsZVJhbmdlLm1pblggPCB0aGlzLm1pblgpIHtcbiAgICB0aGlzLm1pblggPSB0aWxlUmFuZ2UubWluWDtcbiAgfVxuICBpZiAodGlsZVJhbmdlLm1heFggPiB0aGlzLm1heFgpIHtcbiAgICB0aGlzLm1heFggPSB0aWxlUmFuZ2UubWF4WDtcbiAgfVxuICBpZiAodGlsZVJhbmdlLm1pblkgPCB0aGlzLm1pblkpIHtcbiAgICB0aGlzLm1pblkgPSB0aWxlUmFuZ2UubWluWTtcbiAgfVxuICBpZiAodGlsZVJhbmdlLm1heFkgPiB0aGlzLm1heFkpIHtcbiAgICB0aGlzLm1heFkgPSB0aWxlUmFuZ2UubWF4WTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEhlaWdodC5cbiAqL1xuVGlsZVJhbmdlLnByb3RvdHlwZS5nZXRIZWlnaHQgPSBmdW5jdGlvbiBnZXRIZWlnaHQgKCkge1xuICByZXR1cm4gdGhpcy5tYXhZIC0gdGhpcy5taW5ZICsgMTtcbn07XG5cbi8qKlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFNpemUuXG4gKi9cblRpbGVSYW5nZS5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uIGdldFNpemUgKCkge1xuICByZXR1cm4gW3RoaXMuZ2V0V2lkdGgoKSwgdGhpcy5nZXRIZWlnaHQoKV07XG59O1xuXG4vKipcbiAqIEByZXR1cm4ge251bWJlcn0gV2lkdGguXG4gKi9cblRpbGVSYW5nZS5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbiBnZXRXaWR0aCAoKSB7XG4gIHJldHVybiB0aGlzLm1heFggLSB0aGlzLm1pblggKyAxO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge1RpbGVSYW5nZX0gdGlsZVJhbmdlIFRpbGUgcmFuZ2UuXG4gKiBAcmV0dXJuIHtib29sZWFufSBJbnRlcnNlY3RzLlxuICovXG5UaWxlUmFuZ2UucHJvdG90eXBlLmludGVyc2VjdHMgPSBmdW5jdGlvbiBpbnRlcnNlY3RzICh0aWxlUmFuZ2UpIHtcbiAgcmV0dXJuIHRoaXMubWluWCA8PSB0aWxlUmFuZ2UubWF4WCAmJlxuICAgICB0aGlzLm1heFggPj0gdGlsZVJhbmdlLm1pblggJiZcbiAgICAgdGhpcy5taW5ZIDw9IHRpbGVSYW5nZS5tYXhZICYmXG4gICAgIHRoaXMubWF4WSA+PSB0aWxlUmFuZ2UubWluWTtcbn07XG5cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gbWluWCBNaW5pbXVtIFguXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4WCBNYXhpbXVtIFguXG4gKiBAcGFyYW0ge251bWJlcn0gbWluWSBNaW5pbXVtIFkuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4WSBNYXhpbXVtIFkuXG4gKiBAcGFyYW0ge1RpbGVSYW5nZT19IHRpbGVSYW5nZSBUaWxlUmFuZ2UuXG4gKiBAcmV0dXJuIHtUaWxlUmFuZ2V9IFRpbGUgcmFuZ2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZShtaW5YLCBtYXhYLCBtaW5ZLCBtYXhZLCB0aWxlUmFuZ2UpIHtcbiAgaWYgKHRpbGVSYW5nZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGlsZVJhbmdlLm1pblggPSBtaW5YO1xuICAgIHRpbGVSYW5nZS5tYXhYID0gbWF4WDtcbiAgICB0aWxlUmFuZ2UubWluWSA9IG1pblk7XG4gICAgdGlsZVJhbmdlLm1heFkgPSBtYXhZO1xuICAgIHJldHVybiB0aWxlUmFuZ2U7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBUaWxlUmFuZ2UobWluWCwgbWF4WCwgbWluWSwgbWF4WSk7XG4gIH1cbn1cblxuXG5leHBvcnQgZGVmYXVsdCBUaWxlUmFuZ2U7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGVSYW5nZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc3RydWN0cy9Qcmlvcml0eVF1ZXVlXG4gKi9cbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7Y2xlYXJ9IGZyb20gJy4uL29iai5qcyc7XG5cblxuLyoqXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgdmFyIERST1AgPSBJbmZpbml0eTtcblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFByaW9yaXR5IHF1ZXVlLlxuICpcbiAqIFRoZSBpbXBsZW1lbnRhdGlvbiBpcyBpbnNwaXJlZCBmcm9tIHRoZSBDbG9zdXJlIExpYnJhcnkncyBIZWFwIGNsYXNzIGFuZFxuICogUHl0aG9uJ3MgaGVhcHEgbW9kdWxlLlxuICpcbiAqIFNlZSBodHRwOi8vY2xvc3VyZS1saWJyYXJ5Lmdvb2dsZWNvZGUuY29tL3N2bi9kb2NzL2Nsb3N1cmVfZ29vZ19zdHJ1Y3RzX2hlYXAuanMuc291cmNlLmh0bWxcbiAqIGFuZCBodHRwOi8vaGcucHl0aG9uLm9yZy9jcHl0aG9uL2ZpbGUvMi43L0xpYi9oZWFwcS5weS5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICovXG52YXIgUHJpb3JpdHlRdWV1ZSA9IGZ1bmN0aW9uIFByaW9yaXR5UXVldWUocHJpb3JpdHlGdW5jdGlvbiwga2V5RnVuY3Rpb24pIHtcblxuICAvKipcbiAgICogQHR5cGUge2Z1bmN0aW9uKFQpOiBudW1iZXJ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnByaW9yaXR5RnVuY3Rpb25fID0gcHJpb3JpdHlGdW5jdGlvbjtcblxuICAvKipcbiAgICogQHR5cGUge2Z1bmN0aW9uKFQpOiBzdHJpbmd9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLmtleUZ1bmN0aW9uXyA9IGtleUZ1bmN0aW9uO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7QXJyYXk8VD59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLmVsZW1lbnRzXyA9IFtdO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMucHJpb3JpdGllc18gPSBbXTtcblxuICAvKipcbiAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBib29sZWFuPn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMucXVldWVkRWxlbWVudHNfID0ge307XG5cbn07XG5cbi8qKlxuICogRklYTUUgZW1wdHkgZGVzY3JpcHRpb24gZm9yIGpzZG9jXG4gKi9cblByaW9yaXR5UXVldWUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIkMSAoKSB7XG4gIHRoaXMuZWxlbWVudHNfLmxlbmd0aCA9IDA7XG4gIHRoaXMucHJpb3JpdGllc18ubGVuZ3RoID0gMDtcbiAgY2xlYXIodGhpcy5xdWV1ZWRFbGVtZW50c18pO1xufTtcblxuXG4vKipcbiAqIFJlbW92ZSBhbmQgcmV0dXJuIHRoZSBoaWdoZXN0LXByaW9yaXR5IGVsZW1lbnQuIE8obG9nIE4pLlxuICogQHJldHVybiB7VH0gRWxlbWVudC5cbiAqL1xuUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuZGVxdWV1ZSA9IGZ1bmN0aW9uIGRlcXVldWUgKCkge1xuICB2YXIgZWxlbWVudHMgPSB0aGlzLmVsZW1lbnRzXztcbiAgdmFyIHByaW9yaXRpZXMgPSB0aGlzLnByaW9yaXRpZXNfO1xuICB2YXIgZWxlbWVudCA9IGVsZW1lbnRzWzBdO1xuICBpZiAoZWxlbWVudHMubGVuZ3RoID09IDEpIHtcbiAgICBlbGVtZW50cy5sZW5ndGggPSAwO1xuICAgIHByaW9yaXRpZXMubGVuZ3RoID0gMDtcbiAgfSBlbHNlIHtcbiAgICBlbGVtZW50c1swXSA9IGVsZW1lbnRzLnBvcCgpO1xuICAgIHByaW9yaXRpZXNbMF0gPSBwcmlvcml0aWVzLnBvcCgpO1xuICAgIHRoaXMuc2lmdFVwXygwKTtcbiAgfVxuICB2YXIgZWxlbWVudEtleSA9IHRoaXMua2V5RnVuY3Rpb25fKGVsZW1lbnQpO1xuICBkZWxldGUgdGhpcy5xdWV1ZWRFbGVtZW50c19bZWxlbWVudEtleV07XG4gIHJldHVybiBlbGVtZW50O1xufTtcblxuXG4vKipcbiAqIEVucXVldWUgYW4gZWxlbWVudC4gTyhsb2cgTikuXG4gKiBAcGFyYW0ge1R9IGVsZW1lbnQgRWxlbWVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBlbGVtZW50IHdhcyBhZGRlZCB0byB0aGUgcXVldWUuXG4gKi9cblByaW9yaXR5UXVldWUucHJvdG90eXBlLmVucXVldWUgPSBmdW5jdGlvbiBlbnF1ZXVlIChlbGVtZW50KSB7XG4gIGFzc2VydCghKHRoaXMua2V5RnVuY3Rpb25fKGVsZW1lbnQpIGluIHRoaXMucXVldWVkRWxlbWVudHNfKSxcbiAgICAzMSk7IC8vIFRyaWVkIHRvIGVucXVldWUgYW4gYGVsZW1lbnRgIHRoYXQgd2FzIGFscmVhZHkgYWRkZWQgdG8gdGhlIHF1ZXVlXG4gIHZhciBwcmlvcml0eSA9IHRoaXMucHJpb3JpdHlGdW5jdGlvbl8oZWxlbWVudCk7XG4gIGlmIChwcmlvcml0eSAhPSBEUk9QKSB7XG4gICAgdGhpcy5lbGVtZW50c18ucHVzaChlbGVtZW50KTtcbiAgICB0aGlzLnByaW9yaXRpZXNfLnB1c2gocHJpb3JpdHkpO1xuICAgIHRoaXMucXVldWVkRWxlbWVudHNfW3RoaXMua2V5RnVuY3Rpb25fKGVsZW1lbnQpXSA9IHRydWU7XG4gICAgdGhpcy5zaWZ0RG93bl8oMCwgdGhpcy5lbGVtZW50c18ubGVuZ3RoIC0gMSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuXG4vKipcbiAqIEByZXR1cm4ge251bWJlcn0gQ291bnQuXG4gKi9cblByaW9yaXR5UXVldWUucHJvdG90eXBlLmdldENvdW50ID0gZnVuY3Rpb24gZ2V0Q291bnQgKCkge1xuICByZXR1cm4gdGhpcy5lbGVtZW50c18ubGVuZ3RoO1xufTtcblxuXG4vKipcbiAqIEdldHMgdGhlIGluZGV4IG9mIHRoZSBsZWZ0IGNoaWxkIG9mIHRoZSBub2RlIGF0IHRoZSBnaXZlbiBpbmRleC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIG5vZGUgdG8gZ2V0IHRoZSBsZWZ0IGNoaWxkIGZvci5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGluZGV4IG9mIHRoZSBsZWZ0IGNoaWxkLlxuICogQHByaXZhdGVcbiAqL1xuUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuZ2V0TGVmdENoaWxkSW5kZXhfID0gZnVuY3Rpb24gZ2V0TGVmdENoaWxkSW5kZXhfIChpbmRleCkge1xuICByZXR1cm4gaW5kZXggKiAyICsgMTtcbn07XG5cblxuLyoqXG4gKiBHZXRzIHRoZSBpbmRleCBvZiB0aGUgcmlnaHQgY2hpbGQgb2YgdGhlIG5vZGUgYXQgdGhlIGdpdmVuIGluZGV4LlxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgbm9kZSB0byBnZXQgdGhlIHJpZ2h0IGNoaWxkIGZvci5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGluZGV4IG9mIHRoZSByaWdodCBjaGlsZC5cbiAqIEBwcml2YXRlXG4gKi9cblByaW9yaXR5UXVldWUucHJvdG90eXBlLmdldFJpZ2h0Q2hpbGRJbmRleF8gPSBmdW5jdGlvbiBnZXRSaWdodENoaWxkSW5kZXhfIChpbmRleCkge1xuICByZXR1cm4gaW5kZXggKiAyICsgMjtcbn07XG5cblxuLyoqXG4gKiBHZXRzIHRoZSBpbmRleCBvZiB0aGUgcGFyZW50IG9mIHRoZSBub2RlIGF0IHRoZSBnaXZlbiBpbmRleC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIG5vZGUgdG8gZ2V0IHRoZSBwYXJlbnQgZm9yLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgaW5kZXggb2YgdGhlIHBhcmVudC5cbiAqIEBwcml2YXRlXG4gKi9cblByaW9yaXR5UXVldWUucHJvdG90eXBlLmdldFBhcmVudEluZGV4XyA9IGZ1bmN0aW9uIGdldFBhcmVudEluZGV4XyAoaW5kZXgpIHtcbiAgcmV0dXJuIChpbmRleCAtIDEpID4+IDE7XG59O1xuXG5cbi8qKlxuICogTWFrZSB0aGlzIGEgaGVhcC4gTyhOKS5cbiAqIEBwcml2YXRlXG4gKi9cblByaW9yaXR5UXVldWUucHJvdG90eXBlLmhlYXBpZnlfID0gZnVuY3Rpb24gaGVhcGlmeV8gKCkge1xuICB2YXIgaTtcbiAgZm9yIChpID0gKHRoaXMuZWxlbWVudHNfLmxlbmd0aCA+PiAxKSAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgdGhpcy5zaWZ0VXBfKGkpO1xuICB9XG59O1xuXG5cbi8qKlxuICogQHJldHVybiB7Ym9vbGVhbn0gSXMgZW1wdHkuXG4gKi9cblByaW9yaXR5UXVldWUucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiBpc0VtcHR5ICgpIHtcbiAgcmV0dXJuIHRoaXMuZWxlbWVudHNfLmxlbmd0aCA9PT0gMDtcbn07XG5cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IElzIGtleSBxdWV1ZWQuXG4gKi9cblByaW9yaXR5UXVldWUucHJvdG90eXBlLmlzS2V5UXVldWVkID0gZnVuY3Rpb24gaXNLZXlRdWV1ZWQgKGtleSkge1xuICByZXR1cm4ga2V5IGluIHRoaXMucXVldWVkRWxlbWVudHNfO1xufTtcblxuXG4vKipcbiAqIEBwYXJhbSB7VH0gZWxlbWVudCBFbGVtZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gSXMgcXVldWVkLlxuICovXG5Qcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5pc1F1ZXVlZCA9IGZ1bmN0aW9uIGlzUXVldWVkIChlbGVtZW50KSB7XG4gIHJldHVybiB0aGlzLmlzS2V5UXVldWVkKHRoaXMua2V5RnVuY3Rpb25fKGVsZW1lbnQpKTtcbn07XG5cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBub2RlIHRvIG1vdmUgZG93bi5cbiAqIEBwcml2YXRlXG4gKi9cblByaW9yaXR5UXVldWUucHJvdG90eXBlLnNpZnRVcF8gPSBmdW5jdGlvbiBzaWZ0VXBfIChpbmRleCkge1xuICB2YXIgZWxlbWVudHMgPSB0aGlzLmVsZW1lbnRzXztcbiAgdmFyIHByaW9yaXRpZXMgPSB0aGlzLnByaW9yaXRpZXNfO1xuICB2YXIgY291bnQgPSBlbGVtZW50cy5sZW5ndGg7XG4gIHZhciBlbGVtZW50ID0gZWxlbWVudHNbaW5kZXhdO1xuICB2YXIgcHJpb3JpdHkgPSBwcmlvcml0aWVzW2luZGV4XTtcbiAgdmFyIHN0YXJ0SW5kZXggPSBpbmRleDtcblxuICB3aGlsZSAoaW5kZXggPCAoY291bnQgPj4gMSkpIHtcbiAgICB2YXIgbEluZGV4ID0gdGhpcy5nZXRMZWZ0Q2hpbGRJbmRleF8oaW5kZXgpO1xuICAgIHZhciBySW5kZXggPSB0aGlzLmdldFJpZ2h0Q2hpbGRJbmRleF8oaW5kZXgpO1xuXG4gICAgdmFyIHNtYWxsZXJDaGlsZEluZGV4ID0gckluZGV4IDwgY291bnQgJiZcbiAgICAgICAgcHJpb3JpdGllc1tySW5kZXhdIDwgcHJpb3JpdGllc1tsSW5kZXhdID9cbiAgICAgIHJJbmRleCA6IGxJbmRleDtcblxuICAgIGVsZW1lbnRzW2luZGV4XSA9IGVsZW1lbnRzW3NtYWxsZXJDaGlsZEluZGV4XTtcbiAgICBwcmlvcml0aWVzW2luZGV4XSA9IHByaW9yaXRpZXNbc21hbGxlckNoaWxkSW5kZXhdO1xuICAgIGluZGV4ID0gc21hbGxlckNoaWxkSW5kZXg7XG4gIH1cblxuICBlbGVtZW50c1tpbmRleF0gPSBlbGVtZW50O1xuICBwcmlvcml0aWVzW2luZGV4XSA9IHByaW9yaXR5O1xuICB0aGlzLnNpZnREb3duXyhzdGFydEluZGV4LCBpbmRleCk7XG59O1xuXG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggVGhlIGluZGV4IG9mIHRoZSByb290LlxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgbm9kZSB0byBtb3ZlIHVwLlxuICogQHByaXZhdGVcbiAqL1xuUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuc2lmdERvd25fID0gZnVuY3Rpb24gc2lmdERvd25fIChzdGFydEluZGV4LCBpbmRleCkge1xuICB2YXIgZWxlbWVudHMgPSB0aGlzLmVsZW1lbnRzXztcbiAgdmFyIHByaW9yaXRpZXMgPSB0aGlzLnByaW9yaXRpZXNfO1xuICB2YXIgZWxlbWVudCA9IGVsZW1lbnRzW2luZGV4XTtcbiAgdmFyIHByaW9yaXR5ID0gcHJpb3JpdGllc1tpbmRleF07XG5cbiAgd2hpbGUgKGluZGV4ID4gc3RhcnRJbmRleCkge1xuICAgIHZhciBwYXJlbnRJbmRleCA9IHRoaXMuZ2V0UGFyZW50SW5kZXhfKGluZGV4KTtcbiAgICBpZiAocHJpb3JpdGllc1twYXJlbnRJbmRleF0gPiBwcmlvcml0eSkge1xuICAgICAgZWxlbWVudHNbaW5kZXhdID0gZWxlbWVudHNbcGFyZW50SW5kZXhdO1xuICAgICAgcHJpb3JpdGllc1tpbmRleF0gPSBwcmlvcml0aWVzW3BhcmVudEluZGV4XTtcbiAgICAgIGluZGV4ID0gcGFyZW50SW5kZXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBlbGVtZW50c1tpbmRleF0gPSBlbGVtZW50O1xuICBwcmlvcml0aWVzW2luZGV4XSA9IHByaW9yaXR5O1xufTtcblxuXG4vKipcbiAqIEZJWE1FIGVtcHR5IGRlc2NyaXB0aW9uIGZvciBqc2RvY1xuICovXG5Qcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5yZXByaW9yaXRpemUgPSBmdW5jdGlvbiByZXByaW9yaXRpemUgKCkge1xuICB2YXIgcHJpb3JpdHlGdW5jdGlvbiA9IHRoaXMucHJpb3JpdHlGdW5jdGlvbl87XG4gIHZhciBlbGVtZW50cyA9IHRoaXMuZWxlbWVudHNfO1xuICB2YXIgcHJpb3JpdGllcyA9IHRoaXMucHJpb3JpdGllc187XG4gIHZhciBpbmRleCA9IDA7XG4gIHZhciBuID0gZWxlbWVudHMubGVuZ3RoO1xuICB2YXIgZWxlbWVudCwgaSwgcHJpb3JpdHk7XG4gIGZvciAoaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICBlbGVtZW50ID0gZWxlbWVudHNbaV07XG4gICAgcHJpb3JpdHkgPSBwcmlvcml0eUZ1bmN0aW9uKGVsZW1lbnQpO1xuICAgIGlmIChwcmlvcml0eSA9PSBEUk9QKSB7XG4gICAgICBkZWxldGUgdGhpcy5xdWV1ZWRFbGVtZW50c19bdGhpcy5rZXlGdW5jdGlvbl8oZWxlbWVudCldO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcmlvcml0aWVzW2luZGV4XSA9IHByaW9yaXR5O1xuICAgICAgZWxlbWVudHNbaW5kZXgrK10gPSBlbGVtZW50O1xuICAgIH1cbiAgfVxuICBlbGVtZW50cy5sZW5ndGggPSBpbmRleDtcbiAgcHJpb3JpdGllcy5sZW5ndGggPSBpbmRleDtcbiAgdGhpcy5oZWFwaWZ5XygpO1xufTtcblxuXG5leHBvcnQgZGVmYXVsdCBQcmlvcml0eVF1ZXVlO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qcmlvcml0eVF1ZXVlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9Hcm91cFxuICovXG5pbXBvcnQge2dldFVpZH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQgQ29sbGVjdGlvbiBmcm9tICcuLi9Db2xsZWN0aW9uLmpzJztcbmltcG9ydCBDb2xsZWN0aW9uRXZlbnRUeXBlIGZyb20gJy4uL0NvbGxlY3Rpb25FdmVudFR5cGUuanMnO1xuaW1wb3J0IHtnZXRDaGFuZ2VFdmVudFR5cGV9IGZyb20gJy4uL09iamVjdC5qcyc7XG5pbXBvcnQgT2JqZWN0RXZlbnRUeXBlIGZyb20gJy4uL09iamVjdEV2ZW50VHlwZS5qcyc7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQge2xpc3RlbiwgdW5saXN0ZW5CeUtleX0gZnJvbSAnLi4vZXZlbnRzLmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQge2dldEludGVyc2VjdGlvbn0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCBCYXNlTGF5ZXIgZnJvbSAnLi9CYXNlLmpzJztcbmltcG9ydCB7YXNzaWduLCBjbGVhcn0gZnJvbSAnLi4vb2JqLmpzJztcbmltcG9ydCBTb3VyY2VTdGF0ZSBmcm9tICcuLi9zb3VyY2UvU3RhdGUuanMnO1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFtvcGFjaXR5PTFdIE9wYWNpdHkgKDAsIDEpLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdmlzaWJsZT10cnVlXSBWaXNpYmlsaXR5LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBUaGUgYm91bmRpbmcgZXh0ZW50IGZvciBsYXllciByZW5kZXJpbmcuICBUaGUgbGF5ZXIgd2lsbCBub3QgYmVcbiAqIHJlbmRlcmVkIG91dHNpZGUgb2YgdGhpcyBleHRlbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pJbmRleF0gVGhlIHotaW5kZXggZm9yIGxheWVyIHJlbmRlcmluZy4gIEF0IHJlbmRlcmluZyB0aW1lLCB0aGUgbGF5ZXJzXG4gKiB3aWxsIGJlIG9yZGVyZWQsIGZpcnN0IGJ5IFotaW5kZXggYW5kIHRoZW4gYnkgcG9zaXRpb24uIFdoZW4gYHVuZGVmaW5lZGAsIGEgYHpJbmRleGAgb2YgMCBpcyBhc3N1bWVkXG4gKiBmb3IgbGF5ZXJzIHRoYXQgYXJlIGFkZGVkIHRvIHRoZSBtYXAncyBgbGF5ZXJzYCBjb2xsZWN0aW9uLCBvciBgSW5maW5pdHlgIHdoZW4gdGhlIGxheWVyJ3MgYHNldE1hcCgpYFxuICogbWV0aG9kIHdhcyB1c2VkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5SZXNvbHV0aW9uXSBUaGUgbWluaW11bSByZXNvbHV0aW9uIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4UmVzb2x1dGlvbl0gVGhlIG1heGltdW0gcmVzb2x1dGlvbiAoZXhjbHVzaXZlKSBiZWxvdyB3aGljaCB0aGlzIGxheWVyIHdpbGxcbiAqIGJlIHZpc2libGUuXG4gKiBAcHJvcGVydHkge0FycmF5PGltcG9ydChcIi4vQmFzZS5qc1wiKS5kZWZhdWx0PnxpbXBvcnQoXCIuLi9Db2xsZWN0aW9uLmpzXCIpLmRlZmF1bHQ8aW1wb3J0KFwiLi9CYXNlLmpzXCIpLmRlZmF1bHQ+fSBbbGF5ZXJzXSBDaGlsZCBsYXllcnMuXG4gKi9cblxuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG52YXIgUHJvcGVydHkgPSB7XG4gIExBWUVSUzogJ2xheWVycydcbn07XG5cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn5Db2xsZWN0aW9ufSBvZiBsYXllcnMgdGhhdCBhcmUgaGFuZGxlZCB0b2dldGhlci5cbiAqXG4gKiBBIGdlbmVyaWMgYGNoYW5nZWAgZXZlbnQgaXMgdHJpZ2dlcmVkIHdoZW4gdGhlIGdyb3VwL0NvbGxlY3Rpb24gY2hhbmdlcy5cbiAqXG4gKiBAYXBpXG4gKi9cbnZhciBMYXllckdyb3VwID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQmFzZUxheWVyKSB7XG4gIGZ1bmN0aW9uIExheWVyR3JvdXAob3B0X29wdGlvbnMpIHtcblxuICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XG4gICAgdmFyIGJhc2VPcHRpb25zID0gLyoqIEB0eXBlIHtPcHRpb25zfSAqLyAoYXNzaWduKHt9LCBvcHRpb25zKSk7XG4gICAgZGVsZXRlIGJhc2VPcHRpb25zLmxheWVycztcblxuICAgIHZhciBsYXllcnMgPSBvcHRpb25zLmxheWVycztcblxuICAgIEJhc2VMYXllci5jYWxsKHRoaXMsIGJhc2VPcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PGltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMubGF5ZXJzTGlzdGVuZXJLZXlzXyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgQXJyYXk8aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT4+fVxuICAgICAqL1xuICAgIHRoaXMubGlzdGVuZXJLZXlzXyA9IHt9O1xuXG4gICAgbGlzdGVuKHRoaXMsXG4gICAgICBnZXRDaGFuZ2VFdmVudFR5cGUoUHJvcGVydHkuTEFZRVJTKSxcbiAgICAgIHRoaXMuaGFuZGxlTGF5ZXJzQ2hhbmdlZF8sIHRoaXMpO1xuXG4gICAgaWYgKGxheWVycykge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkobGF5ZXJzKSkge1xuICAgICAgICBsYXllcnMgPSBuZXcgQ29sbGVjdGlvbihsYXllcnMuc2xpY2UoKSwge3VuaXF1ZTogdHJ1ZX0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXNzZXJ0KHR5cGVvZiAvKiogQHR5cGUgez99ICovIChsYXllcnMpLmdldEFycmF5ID09PSAnZnVuY3Rpb24nLFxuICAgICAgICAgIDQzKTsgLy8gRXhwZWN0ZWQgYGxheWVyc2AgdG8gYmUgYW4gYXJyYXkgb3IgYSBgQ29sbGVjdGlvbmBcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbGF5ZXJzID0gbmV3IENvbGxlY3Rpb24odW5kZWZpbmVkLCB7dW5pcXVlOiB0cnVlfSk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRMYXllcnMobGF5ZXJzKTtcblxuICB9XG5cbiAgaWYgKCBCYXNlTGF5ZXIgKSBMYXllckdyb3VwLl9fcHJvdG9fXyA9IEJhc2VMYXllcjtcbiAgTGF5ZXJHcm91cC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBCYXNlTGF5ZXIgJiYgQmFzZUxheWVyLnByb3RvdHlwZSApO1xuICBMYXllckdyb3VwLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExheWVyR3JvdXA7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBMYXllckdyb3VwLnByb3RvdHlwZS5oYW5kbGVMYXllckNoYW5nZV8gPSBmdW5jdGlvbiBoYW5kbGVMYXllckNoYW5nZV8gKCkge1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTGF5ZXJHcm91cC5wcm90b3R5cGUuaGFuZGxlTGF5ZXJzQ2hhbmdlZF8gPSBmdW5jdGlvbiBoYW5kbGVMYXllcnNDaGFuZ2VkXyAoKSB7XG4gICAgdGhpcy5sYXllcnNMaXN0ZW5lcktleXNfLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgdGhpcy5sYXllcnNMaXN0ZW5lcktleXNfLmxlbmd0aCA9IDA7XG5cbiAgICB2YXIgbGF5ZXJzID0gdGhpcy5nZXRMYXllcnMoKTtcbiAgICB0aGlzLmxheWVyc0xpc3RlbmVyS2V5c18ucHVzaChcbiAgICAgIGxpc3RlbihsYXllcnMsIENvbGxlY3Rpb25FdmVudFR5cGUuQURELCB0aGlzLmhhbmRsZUxheWVyc0FkZF8sIHRoaXMpLFxuICAgICAgbGlzdGVuKGxheWVycywgQ29sbGVjdGlvbkV2ZW50VHlwZS5SRU1PVkUsIHRoaXMuaGFuZGxlTGF5ZXJzUmVtb3ZlXywgdGhpcylcbiAgICApO1xuXG4gICAgZm9yICh2YXIgaWQgaW4gdGhpcy5saXN0ZW5lcktleXNfKSB7XG4gICAgICB0aGlzLmxpc3RlbmVyS2V5c19baWRdLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgfVxuICAgIGNsZWFyKHRoaXMubGlzdGVuZXJLZXlzXyk7XG5cbiAgICB2YXIgbGF5ZXJzQXJyYXkgPSBsYXllcnMuZ2V0QXJyYXkoKTtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBsYXllcnNBcnJheS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICB2YXIgbGF5ZXIgPSBsYXllcnNBcnJheVtpXTtcbiAgICAgIHRoaXMubGlzdGVuZXJLZXlzX1tnZXRVaWQobGF5ZXIpXSA9IFtcbiAgICAgICAgbGlzdGVuKGxheWVyLCBPYmplY3RFdmVudFR5cGUuUFJPUEVSVFlDSEFOR0UsIHRoaXMuaGFuZGxlTGF5ZXJDaGFuZ2VfLCB0aGlzKSxcbiAgICAgICAgbGlzdGVuKGxheWVyLCBFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLmhhbmRsZUxheWVyQ2hhbmdlXywgdGhpcylcbiAgICAgIF07XG4gICAgfVxuXG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnR9IGNvbGxlY3Rpb25FdmVudCBDb2xsZWN0aW9uRXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBMYXllckdyb3VwLnByb3RvdHlwZS5oYW5kbGVMYXllcnNBZGRfID0gZnVuY3Rpb24gaGFuZGxlTGF5ZXJzQWRkXyAoY29sbGVjdGlvbkV2ZW50KSB7XG4gICAgdmFyIGxheWVyID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL0Jhc2UuanNcIikuZGVmYXVsdH0gKi8gKGNvbGxlY3Rpb25FdmVudC5lbGVtZW50KTtcbiAgICB0aGlzLmxpc3RlbmVyS2V5c19bZ2V0VWlkKGxheWVyKV0gPSBbXG4gICAgICBsaXN0ZW4obGF5ZXIsIE9iamVjdEV2ZW50VHlwZS5QUk9QRVJUWUNIQU5HRSwgdGhpcy5oYW5kbGVMYXllckNoYW5nZV8sIHRoaXMpLFxuICAgICAgbGlzdGVuKGxheWVyLCBFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLmhhbmRsZUxheWVyQ2hhbmdlXywgdGhpcylcbiAgICBdO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50fSBjb2xsZWN0aW9uRXZlbnQgQ29sbGVjdGlvbkV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTGF5ZXJHcm91cC5wcm90b3R5cGUuaGFuZGxlTGF5ZXJzUmVtb3ZlXyA9IGZ1bmN0aW9uIGhhbmRsZUxheWVyc1JlbW92ZV8gKGNvbGxlY3Rpb25FdmVudCkge1xuICAgIHZhciBsYXllciA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9CYXNlLmpzXCIpLmRlZmF1bHR9ICovIChjb2xsZWN0aW9uRXZlbnQuZWxlbWVudCk7XG4gICAgdmFyIGtleSA9IGdldFVpZChsYXllcik7XG4gICAgdGhpcy5saXN0ZW5lcktleXNfW2tleV0uZm9yRWFjaCh1bmxpc3RlbkJ5S2V5KTtcbiAgICBkZWxldGUgdGhpcy5saXN0ZW5lcktleXNfW2tleV07XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbiBjb2xsZWN0aW9ufSBvZiB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0xheWVyfkxheWVyIGxheWVyc31cbiAgICogaW4gdGhpcyBncm91cC5cbiAgICogQHJldHVybiB7IWltcG9ydChcIi4uL0NvbGxlY3Rpb24uanNcIikuZGVmYXVsdDxpbXBvcnQoXCIuL0Jhc2UuanNcIikuZGVmYXVsdD59IENvbGxlY3Rpb24gb2ZcbiAgICogICB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0Jhc2UgbGF5ZXJzfSB0aGF0IGFyZSBwYXJ0IG9mIHRoaXMgZ3JvdXAuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIExheWVyR3JvdXAucHJvdG90eXBlLmdldExheWVycyA9IGZ1bmN0aW9uIGdldExheWVycyAoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIC8qKiBAdHlwZSB7IWltcG9ydChcIi4uL0NvbGxlY3Rpb24uanNcIikuZGVmYXVsdDxpbXBvcnQoXCIuL0Jhc2UuanNcIikuZGVmYXVsdD59ICovICh0aGlzLmdldChQcm9wZXJ0eS5MQVlFUlMpKVxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUge0BsaW5rIG1vZHVsZTpvbC9Db2xsZWN0aW9uIGNvbGxlY3Rpb259IG9mIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXJ+TGF5ZXIgbGF5ZXJzfVxuICAgKiBpbiB0aGlzIGdyb3VwLlxuICAgKiBAcGFyYW0geyFpbXBvcnQoXCIuLi9Db2xsZWN0aW9uLmpzXCIpLmRlZmF1bHQ8aW1wb3J0KFwiLi9CYXNlLmpzXCIpLmRlZmF1bHQ+fSBsYXllcnMgQ29sbGVjdGlvbiBvZlxuICAgKiAgIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvQmFzZSBsYXllcnN9IHRoYXQgYXJlIHBhcnQgb2YgdGhpcyBncm91cC5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgTGF5ZXJHcm91cC5wcm90b3R5cGUuc2V0TGF5ZXJzID0gZnVuY3Rpb24gc2V0TGF5ZXJzIChsYXllcnMpIHtcbiAgICB0aGlzLnNldChQcm9wZXJ0eS5MQVlFUlMsIGxheWVycyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBMYXllckdyb3VwLnByb3RvdHlwZS5nZXRMYXllcnNBcnJheSA9IGZ1bmN0aW9uIGdldExheWVyc0FycmF5IChvcHRfYXJyYXkpIHtcbiAgICB2YXIgYXJyYXkgPSBvcHRfYXJyYXkgIT09IHVuZGVmaW5lZCA/IG9wdF9hcnJheSA6IFtdO1xuICAgIHRoaXMuZ2V0TGF5ZXJzKCkuZm9yRWFjaChmdW5jdGlvbihsYXllcikge1xuICAgICAgbGF5ZXIuZ2V0TGF5ZXJzQXJyYXkoYXJyYXkpO1xuICAgIH0pO1xuICAgIHJldHVybiBhcnJheTtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIExheWVyR3JvdXAucHJvdG90eXBlLmdldExheWVyU3RhdGVzQXJyYXkgPSBmdW5jdGlvbiBnZXRMYXllclN0YXRlc0FycmF5IChvcHRfc3RhdGVzKSB7XG4gICAgdmFyIHN0YXRlcyA9IG9wdF9zdGF0ZXMgIT09IHVuZGVmaW5lZCA/IG9wdF9zdGF0ZXMgOiBbXTtcblxuICAgIHZhciBwb3MgPSBzdGF0ZXMubGVuZ3RoO1xuXG4gICAgdGhpcy5nZXRMYXllcnMoKS5mb3JFYWNoKGZ1bmN0aW9uKGxheWVyKSB7XG4gICAgICBsYXllci5nZXRMYXllclN0YXRlc0FycmF5KHN0YXRlcyk7XG4gICAgfSk7XG5cbiAgICB2YXIgb3duTGF5ZXJTdGF0ZSA9IHRoaXMuZ2V0TGF5ZXJTdGF0ZSgpO1xuICAgIGZvciAodmFyIGkgPSBwb3MsIGlpID0gc3RhdGVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIHZhciBsYXllclN0YXRlID0gc3RhdGVzW2ldO1xuICAgICAgbGF5ZXJTdGF0ZS5vcGFjaXR5ICo9IG93bkxheWVyU3RhdGUub3BhY2l0eTtcbiAgICAgIGxheWVyU3RhdGUudmlzaWJsZSA9IGxheWVyU3RhdGUudmlzaWJsZSAmJiBvd25MYXllclN0YXRlLnZpc2libGU7XG4gICAgICBsYXllclN0YXRlLm1heFJlc29sdXRpb24gPSBNYXRoLm1pbihcbiAgICAgICAgbGF5ZXJTdGF0ZS5tYXhSZXNvbHV0aW9uLCBvd25MYXllclN0YXRlLm1heFJlc29sdXRpb24pO1xuICAgICAgbGF5ZXJTdGF0ZS5taW5SZXNvbHV0aW9uID0gTWF0aC5tYXgoXG4gICAgICAgIGxheWVyU3RhdGUubWluUmVzb2x1dGlvbiwgb3duTGF5ZXJTdGF0ZS5taW5SZXNvbHV0aW9uKTtcbiAgICAgIGlmIChvd25MYXllclN0YXRlLmV4dGVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChsYXllclN0YXRlLmV4dGVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbGF5ZXJTdGF0ZS5leHRlbnQgPSBnZXRJbnRlcnNlY3Rpb24obGF5ZXJTdGF0ZS5leHRlbnQsIG93bkxheWVyU3RhdGUuZXh0ZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsYXllclN0YXRlLmV4dGVudCA9IG93bkxheWVyU3RhdGUuZXh0ZW50O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YXRlcztcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIExheWVyR3JvdXAucHJvdG90eXBlLmdldFNvdXJjZVN0YXRlID0gZnVuY3Rpb24gZ2V0U291cmNlU3RhdGUgKCkge1xuICAgIHJldHVybiBTb3VyY2VTdGF0ZS5SRUFEWTtcbiAgfTtcblxuICByZXR1cm4gTGF5ZXJHcm91cDtcbn0oQmFzZUxheWVyKSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgTGF5ZXJHcm91cDtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3JvdXAuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlcmVyL01hcFxuICovXG5pbXBvcnQge2Fic3RyYWN0LCBnZXRVaWR9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IERpc3Bvc2FibGUgZnJvbSAnLi4vRGlzcG9zYWJsZS5qcyc7XG5pbXBvcnQge2xpc3RlbiwgdW5saXN0ZW5CeUtleX0gZnJvbSAnLi4vZXZlbnRzLmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQge2dldFdpZHRofSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHtUUlVFfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHt2aXNpYmxlQXRSZXNvbHV0aW9ufSBmcm9tICcuLi9sYXllci9MYXllci5qcyc7XG5pbXBvcnQge3NoYXJlZCBhcyBpY29uSW1hZ2VDYWNoZX0gZnJvbSAnLi4vc3R5bGUvSWNvbkltYWdlQ2FjaGUuanMnO1xuaW1wb3J0IHtjb21wb3NlIGFzIGNvbXBvc2VUcmFuc2Zvcm0sIGludmVydCBhcyBpbnZlcnRUcmFuc2Zvcm0sIHNldEZyb21BcnJheSBhcyB0cmFuc2Zvcm1TZXRGcm9tQXJyYXl9IGZyb20gJy4uL3RyYW5zZm9ybS5qcyc7XG5cbi8qKlxuICogQGFic3RyYWN0XG4gKi9cbnZhciBNYXBSZW5kZXJlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKERpc3Bvc2FibGUpIHtcbiAgZnVuY3Rpb24gTWFwUmVuZGVyZXIobWFwKSB7XG4gICAgRGlzcG9zYWJsZS5jYWxsKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5tYXBfID0gbWFwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4vTGF5ZXIuanNcIikuZGVmYXVsdD59XG4gICAgICovXG4gICAgdGhpcy5sYXllclJlbmRlcmVyc18gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMubGF5ZXJSZW5kZXJlckxpc3RlbmVyc18gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PHR5cGVvZiBpbXBvcnQoXCIuL0xheWVyLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAqL1xuICAgIHRoaXMubGF5ZXJSZW5kZXJlckNvbnN0cnVjdG9yc18gPSBbXTtcblxuICB9XG5cbiAgaWYgKCBEaXNwb3NhYmxlICkgTWFwUmVuZGVyZXIuX19wcm90b19fID0gRGlzcG9zYWJsZTtcbiAgTWFwUmVuZGVyZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRGlzcG9zYWJsZSAmJiBEaXNwb3NhYmxlLnByb3RvdHlwZSApO1xuICBNYXBSZW5kZXJlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNYXBSZW5kZXJlcjtcblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL0V2ZW50VHlwZS5qc1wiKS5kZWZhdWx0fSB0eXBlIEV2ZW50IHR5cGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqL1xuICBNYXBSZW5kZXJlci5wcm90b3R5cGUuZGlzcGF0Y2hSZW5kZXJFdmVudCA9IGZ1bmN0aW9uIGRpc3BhdGNoUmVuZGVyRXZlbnQgKHR5cGUsIGZyYW1lU3RhdGUpIHtcbiAgICBhYnN0cmFjdCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZWdpc3RlciBsYXllciByZW5kZXJlciBjb25zdHJ1Y3RvcnMuXG4gICAqIEBwYXJhbSB7QXJyYXk8dHlwZW9mIGltcG9ydChcIi4vTGF5ZXIuanNcIikuZGVmYXVsdD59IGNvbnN0cnVjdG9ycyBMYXllciByZW5kZXJlcnMuXG4gICAqL1xuICBNYXBSZW5kZXJlci5wcm90b3R5cGUucmVnaXN0ZXJMYXllclJlbmRlcmVycyA9IGZ1bmN0aW9uIHJlZ2lzdGVyTGF5ZXJSZW5kZXJlcnMgKGNvbnN0cnVjdG9ycykge1xuICAgIHRoaXMubGF5ZXJSZW5kZXJlckNvbnN0cnVjdG9yc18ucHVzaC5hcHBseSh0aGlzLmxheWVyUmVuZGVyZXJDb25zdHJ1Y3RvcnNfLCBjb25zdHJ1Y3RvcnMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lU3RhdGUuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIE1hcFJlbmRlcmVyLnByb3RvdHlwZS5jYWxjdWxhdGVNYXRyaWNlczJEID0gZnVuY3Rpb24gY2FsY3VsYXRlTWF0cmljZXMyRCAoZnJhbWVTdGF0ZSkge1xuICAgIHZhciB2aWV3U3RhdGUgPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZTtcbiAgICB2YXIgY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0gPSBmcmFtZVN0YXRlLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtO1xuICAgIHZhciBwaXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybSA9IGZyYW1lU3RhdGUucGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm07XG5cbiAgICBjb21wb3NlVHJhbnNmb3JtKGNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtLFxuICAgICAgZnJhbWVTdGF0ZS5zaXplWzBdIC8gMiwgZnJhbWVTdGF0ZS5zaXplWzFdIC8gMixcbiAgICAgIDEgLyB2aWV3U3RhdGUucmVzb2x1dGlvbiwgLTEgLyB2aWV3U3RhdGUucmVzb2x1dGlvbixcbiAgICAgIC12aWV3U3RhdGUucm90YXRpb24sXG4gICAgICAtdmlld1N0YXRlLmNlbnRlclswXSwgLXZpZXdTdGF0ZS5jZW50ZXJbMV0pO1xuXG4gICAgaW52ZXJ0VHJhbnNmb3JtKFxuICAgICAgdHJhbnNmb3JtU2V0RnJvbUFycmF5KHBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtLCBjb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybSkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCBsYXllciByZW5kZXJlcnMuXG4gICAqL1xuICBNYXBSZW5kZXJlci5wcm90b3R5cGUucmVtb3ZlTGF5ZXJSZW5kZXJlcnMgPSBmdW5jdGlvbiByZW1vdmVMYXllclJlbmRlcmVycyAoKSB7XG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMubGF5ZXJSZW5kZXJlcnNfKSB7XG4gICAgICB0aGlzLnJlbW92ZUxheWVyUmVuZGVyZXJCeUtleV8oa2V5KS5kaXNwb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lU3RhdGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoaXRUb2xlcmFuY2UgSGl0IHRvbGVyYW5jZSBpbiBwaXhlbHMuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczogUywgaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZSxcbiAgICogICAgIGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQpOiBUfSBjYWxsYmFjayBGZWF0dXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge1N9IHRoaXNBcmcgVmFsdWUgdG8gdXNlIGFzIGB0aGlzYCB3aGVuIGV4ZWN1dGluZyBgY2FsbGJhY2tgLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6IFUsIGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQpOiBib29sZWFufSBsYXllckZpbHRlciBMYXllciBmaWx0ZXJcbiAgICogICAgIGZ1bmN0aW9uLCBvbmx5IGxheWVycyB3aGljaCBhcmUgdmlzaWJsZSBhbmQgZm9yIHdoaWNoIHRoaXMgZnVuY3Rpb25cbiAgICogICAgIHJldHVybnMgYHRydWVgIHdpbGwgYmUgdGVzdGVkIGZvciBmZWF0dXJlcy4gIEJ5IGRlZmF1bHQsIGFsbCB2aXNpYmxlXG4gICAqICAgICBsYXllcnMgd2lsbCBiZSB0ZXN0ZWQuXG4gICAqIEBwYXJhbSB7VX0gdGhpc0FyZzIgVmFsdWUgdG8gdXNlIGFzIGB0aGlzYCB3aGVuIGV4ZWN1dGluZyBgbGF5ZXJGaWx0ZXJgLlxuICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgKiBAdGVtcGxhdGUgUyxULFVcbiAgICovXG4gIE1hcFJlbmRlcmVyLnByb3RvdHlwZS5mb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZSA9IGZ1bmN0aW9uIGZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlIChcbiAgICBjb29yZGluYXRlLFxuICAgIGZyYW1lU3RhdGUsXG4gICAgaGl0VG9sZXJhbmNlLFxuICAgIGNhbGxiYWNrLFxuICAgIHRoaXNBcmcsXG4gICAgbGF5ZXJGaWx0ZXIsXG4gICAgdGhpc0FyZzJcbiAgKSB7XG4gICAgdmFyIHJlc3VsdDtcbiAgICB2YXIgdmlld1N0YXRlID0gZnJhbWVTdGF0ZS52aWV3U3RhdGU7XG4gICAgdmFyIHZpZXdSZXNvbHV0aW9uID0gdmlld1N0YXRlLnJlc29sdXRpb247XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICAgICAqIEByZXR1cm4gez99IENhbGxiYWNrIHJlc3VsdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZShmZWF0dXJlLCBsYXllcikge1xuICAgICAgdmFyIG1hbmFnZWQgPSBmcmFtZVN0YXRlLmxheWVyU3RhdGVzW2dldFVpZChsYXllcildLm1hbmFnZWQ7XG4gICAgICBpZiAoIShnZXRVaWQoZmVhdHVyZSkgaW4gZnJhbWVTdGF0ZS5za2lwcGVkRmVhdHVyZVVpZHMgJiYgIW1hbmFnZWQpKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIGZlYXR1cmUsIG1hbmFnZWQgPyBsYXllciA6IG51bGwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwcm9qZWN0aW9uID0gdmlld1N0YXRlLnByb2plY3Rpb247XG5cbiAgICB2YXIgdHJhbnNsYXRlZENvb3JkaW5hdGUgPSBjb29yZGluYXRlO1xuICAgIGlmIChwcm9qZWN0aW9uLmNhbldyYXBYKCkpIHtcbiAgICAgIHZhciBwcm9qZWN0aW9uRXh0ZW50ID0gcHJvamVjdGlvbi5nZXRFeHRlbnQoKTtcbiAgICAgIHZhciB3b3JsZFdpZHRoID0gZ2V0V2lkdGgocHJvamVjdGlvbkV4dGVudCk7XG4gICAgICB2YXIgeCA9IGNvb3JkaW5hdGVbMF07XG4gICAgICBpZiAoeCA8IHByb2plY3Rpb25FeHRlbnRbMF0gfHwgeCA+IHByb2plY3Rpb25FeHRlbnRbMl0pIHtcbiAgICAgICAgdmFyIHdvcmxkc0F3YXkgPSBNYXRoLmNlaWwoKHByb2plY3Rpb25FeHRlbnRbMF0gLSB4KSAvIHdvcmxkV2lkdGgpO1xuICAgICAgICB0cmFuc2xhdGVkQ29vcmRpbmF0ZSA9IFt4ICsgd29ybGRXaWR0aCAqIHdvcmxkc0F3YXksIGNvb3JkaW5hdGVbMV1dO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBsYXllclN0YXRlcyA9IGZyYW1lU3RhdGUubGF5ZXJTdGF0ZXNBcnJheTtcbiAgICB2YXIgbnVtTGF5ZXJzID0gbGF5ZXJTdGF0ZXMubGVuZ3RoO1xuICAgIHZhciBpO1xuICAgIGZvciAoaSA9IG51bUxheWVycyAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICB2YXIgbGF5ZXJTdGF0ZSA9IGxheWVyU3RhdGVzW2ldO1xuICAgICAgdmFyIGxheWVyID0gbGF5ZXJTdGF0ZS5sYXllcjtcbiAgICAgIGlmICh2aXNpYmxlQXRSZXNvbHV0aW9uKGxheWVyU3RhdGUsIHZpZXdSZXNvbHV0aW9uKSAmJiBsYXllckZpbHRlci5jYWxsKHRoaXNBcmcyLCBsYXllcikpIHtcbiAgICAgICAgdmFyIGxheWVyUmVuZGVyZXIgPSB0aGlzLmdldExheWVyUmVuZGVyZXIobGF5ZXIpO1xuICAgICAgICB2YXIgc291cmNlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0fSAqLyAobGF5ZXIpLmdldFNvdXJjZSgpO1xuICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgcmVzdWx0ID0gbGF5ZXJSZW5kZXJlci5mb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZShcbiAgICAgICAgICAgIHNvdXJjZS5nZXRXcmFwWCgpID8gdHJhbnNsYXRlZENvb3JkaW5hdGUgOiBjb29yZGluYXRlLFxuICAgICAgICAgICAgZnJhbWVTdGF0ZSwgaGl0VG9sZXJhbmNlLCBmb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfTtcblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lU3RhdGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoaXRUb2xlcmFuY2UgSGl0IHRvbGVyYW5jZSBpbiBwaXhlbHMuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczogUywgaW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdCwgKFVpbnQ4Q2xhbXBlZEFycmF5fFVpbnQ4QXJyYXkpKTogVH0gY2FsbGJhY2sgTGF5ZXJcbiAgICogICAgIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge1N9IHRoaXNBcmcgVmFsdWUgdG8gdXNlIGFzIGB0aGlzYCB3aGVuIGV4ZWN1dGluZyBgY2FsbGJhY2tgLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6IFUsIGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQpOiBib29sZWFufSBsYXllckZpbHRlciBMYXllciBmaWx0ZXJcbiAgICogICAgIGZ1bmN0aW9uLCBvbmx5IGxheWVycyB3aGljaCBhcmUgdmlzaWJsZSBhbmQgZm9yIHdoaWNoIHRoaXMgZnVuY3Rpb25cbiAgICogICAgIHJldHVybnMgYHRydWVgIHdpbGwgYmUgdGVzdGVkIGZvciBmZWF0dXJlcy4gIEJ5IGRlZmF1bHQsIGFsbCB2aXNpYmxlXG4gICAqICAgICBsYXllcnMgd2lsbCBiZSB0ZXN0ZWQuXG4gICAqIEBwYXJhbSB7VX0gdGhpc0FyZzIgVmFsdWUgdG8gdXNlIGFzIGB0aGlzYCB3aGVuIGV4ZWN1dGluZyBgbGF5ZXJGaWx0ZXJgLlxuICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgKiBAdGVtcGxhdGUgUyxULFVcbiAgICovXG4gIE1hcFJlbmRlcmVyLnByb3RvdHlwZS5mb3JFYWNoTGF5ZXJBdFBpeGVsID0gZnVuY3Rpb24gZm9yRWFjaExheWVyQXRQaXhlbCAocGl4ZWwsIGZyYW1lU3RhdGUsIGhpdFRvbGVyYW5jZSwgY2FsbGJhY2ssIHRoaXNBcmcsIGxheWVyRmlsdGVyLCB0aGlzQXJnMikge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lU3RhdGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoaXRUb2xlcmFuY2UgSGl0IHRvbGVyYW5jZSBpbiBwaXhlbHMuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczogVSwgaW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdCk6IGJvb2xlYW59IGxheWVyRmlsdGVyIExheWVyIGZpbHRlclxuICAgKiAgICAgZnVuY3Rpb24sIG9ubHkgbGF5ZXJzIHdoaWNoIGFyZSB2aXNpYmxlIGFuZCBmb3Igd2hpY2ggdGhpcyBmdW5jdGlvblxuICAgKiAgICAgcmV0dXJucyBgdHJ1ZWAgd2lsbCBiZSB0ZXN0ZWQgZm9yIGZlYXR1cmVzLiAgQnkgZGVmYXVsdCwgYWxsIHZpc2libGVcbiAgICogICAgIGxheWVycyB3aWxsIGJlIHRlc3RlZC5cbiAgICogQHBhcmFtIHtVfSB0aGlzQXJnIFZhbHVlIHRvIHVzZSBhcyBgdGhpc2Agd2hlbiBleGVjdXRpbmcgYGxheWVyRmlsdGVyYC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSXMgdGhlcmUgYSBmZWF0dXJlIGF0IHRoZSBnaXZlbiBjb29yZGluYXRlP1xuICAgKiBAdGVtcGxhdGUgVVxuICAgKi9cbiAgTWFwUmVuZGVyZXIucHJvdG90eXBlLmhhc0ZlYXR1cmVBdENvb3JkaW5hdGUgPSBmdW5jdGlvbiBoYXNGZWF0dXJlQXRDb29yZGluYXRlIChjb29yZGluYXRlLCBmcmFtZVN0YXRlLCBoaXRUb2xlcmFuY2UsIGxheWVyRmlsdGVyLCB0aGlzQXJnKSB7XG4gICAgdmFyIGhhc0ZlYXR1cmUgPSB0aGlzLmZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlKFxuICAgICAgY29vcmRpbmF0ZSwgZnJhbWVTdGF0ZSwgaGl0VG9sZXJhbmNlLCBUUlVFLCB0aGlzLCBsYXllckZpbHRlciwgdGhpc0FyZyk7XG5cbiAgICByZXR1cm4gaGFzRmVhdHVyZSAhPT0gdW5kZWZpbmVkO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdH0gbGF5ZXIgTGF5ZXIuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9MYXllci5qc1wiKS5kZWZhdWx0fSBMYXllciByZW5kZXJlci5cbiAgICovXG4gIE1hcFJlbmRlcmVyLnByb3RvdHlwZS5nZXRMYXllclJlbmRlcmVyID0gZnVuY3Rpb24gZ2V0TGF5ZXJSZW5kZXJlciAobGF5ZXIpIHtcbiAgICB2YXIgbGF5ZXJLZXkgPSBnZXRVaWQobGF5ZXIpO1xuICAgIGlmIChsYXllcktleSBpbiB0aGlzLmxheWVyUmVuZGVyZXJzXykge1xuICAgICAgcmV0dXJuIHRoaXMubGF5ZXJSZW5kZXJlcnNfW2xheWVyS2V5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHJlbmRlcmVyO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy5sYXllclJlbmRlcmVyQ29uc3RydWN0b3JzXy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBjYW5kaWRhdGUgPSB0aGlzLmxheWVyUmVuZGVyZXJDb25zdHJ1Y3RvcnNfW2ldO1xuICAgICAgICBpZiAoY2FuZGlkYXRlWydoYW5kbGVzJ10obGF5ZXIpKSB7XG4gICAgICAgICAgcmVuZGVyZXIgPSBjYW5kaWRhdGVbJ2NyZWF0ZSddKHRoaXMsIGxheWVyKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMubGF5ZXJSZW5kZXJlcnNfW2xheWVyS2V5XSA9IHJlbmRlcmVyO1xuICAgICAgICB0aGlzLmxheWVyUmVuZGVyZXJMaXN0ZW5lcnNfW2xheWVyS2V5XSA9IGxpc3RlbihyZW5kZXJlcixcbiAgICAgICAgICBFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLmhhbmRsZUxheWVyUmVuZGVyZXJDaGFuZ2VfLCB0aGlzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSByZW5kZXJlciBmb3IgbGF5ZXI6ICcgKyBsYXllci5nZXRUeXBlKCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlbmRlcmVyO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVyS2V5IExheWVyIGtleS5cbiAgICogQHByb3RlY3RlZFxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0xheWVyLmpzXCIpLmRlZmF1bHR9IExheWVyIHJlbmRlcmVyLlxuICAgKi9cbiAgTWFwUmVuZGVyZXIucHJvdG90eXBlLmdldExheWVyUmVuZGVyZXJCeUtleSA9IGZ1bmN0aW9uIGdldExheWVyUmVuZGVyZXJCeUtleSAobGF5ZXJLZXkpIHtcbiAgICByZXR1cm4gdGhpcy5sYXllclJlbmRlcmVyc19bbGF5ZXJLZXldO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEByZXR1cm4ge09iamVjdDxzdHJpbmcsIGltcG9ydChcIi4vTGF5ZXIuanNcIikuZGVmYXVsdD59IExheWVyIHJlbmRlcmVycy5cbiAgICovXG4gIE1hcFJlbmRlcmVyLnByb3RvdHlwZS5nZXRMYXllclJlbmRlcmVycyA9IGZ1bmN0aW9uIGdldExheWVyUmVuZGVyZXJzICgpIHtcbiAgICByZXR1cm4gdGhpcy5sYXllclJlbmRlcmVyc187XG4gIH07XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fSBNYXAuXG4gICAqL1xuICBNYXBSZW5kZXJlci5wcm90b3R5cGUuZ2V0TWFwID0gZnVuY3Rpb24gZ2V0TWFwICgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXBfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgY2hhbmdlcyBpbiBhIGxheWVyIHJlbmRlcmVyLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTWFwUmVuZGVyZXIucHJvdG90eXBlLmhhbmRsZUxheWVyUmVuZGVyZXJDaGFuZ2VfID0gZnVuY3Rpb24gaGFuZGxlTGF5ZXJSZW5kZXJlckNoYW5nZV8gKCkge1xuICAgIHRoaXMubWFwXy5yZW5kZXIoKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVyS2V5IExheWVyIGtleS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9MYXllci5qc1wiKS5kZWZhdWx0fSBMYXllciByZW5kZXJlci5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIE1hcFJlbmRlcmVyLnByb3RvdHlwZS5yZW1vdmVMYXllclJlbmRlcmVyQnlLZXlfID0gZnVuY3Rpb24gcmVtb3ZlTGF5ZXJSZW5kZXJlckJ5S2V5XyAobGF5ZXJLZXkpIHtcbiAgICB2YXIgbGF5ZXJSZW5kZXJlciA9IHRoaXMubGF5ZXJSZW5kZXJlcnNfW2xheWVyS2V5XTtcbiAgICBkZWxldGUgdGhpcy5sYXllclJlbmRlcmVyc19bbGF5ZXJLZXldO1xuXG4gICAgdW5saXN0ZW5CeUtleSh0aGlzLmxheWVyUmVuZGVyZXJMaXN0ZW5lcnNfW2xheWVyS2V5XSk7XG4gICAgZGVsZXRlIHRoaXMubGF5ZXJSZW5kZXJlckxpc3RlbmVyc19bbGF5ZXJLZXldO1xuXG4gICAgcmV0dXJuIGxheWVyUmVuZGVyZXI7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBNYXBSZW5kZXJlci5wcm90b3R5cGUucmVtb3ZlVW51c2VkTGF5ZXJSZW5kZXJlcnNfID0gZnVuY3Rpb24gcmVtb3ZlVW51c2VkTGF5ZXJSZW5kZXJlcnNfIChtYXAsIGZyYW1lU3RhdGUpIHtcbiAgICBmb3IgKHZhciBsYXllcktleSBpbiB0aGlzLmxheWVyUmVuZGVyZXJzXykge1xuICAgICAgaWYgKCFmcmFtZVN0YXRlIHx8ICEobGF5ZXJLZXkgaW4gZnJhbWVTdGF0ZS5sYXllclN0YXRlcykpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMYXllclJlbmRlcmVyQnlLZXlfKGxheWVyS2V5KS5kaXNwb3NlKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZW5kZXIuXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0gez9pbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICovXG4gIE1hcFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJGcmFtZSA9IGZ1bmN0aW9uIHJlbmRlckZyYW1lIChmcmFtZVN0YXRlKSB7XG4gICAgYWJzdHJhY3QoKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgTWFwUmVuZGVyZXIucHJvdG90eXBlLnNjaGVkdWxlRXhwaXJlSWNvbkNhY2hlID0gZnVuY3Rpb24gc2NoZWR1bGVFeHBpcmVJY29uQ2FjaGUgKGZyYW1lU3RhdGUpIHtcbiAgICBmcmFtZVN0YXRlLnBvc3RSZW5kZXJGdW5jdGlvbnMucHVzaCgvKiogQHR5cGUge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5Qb3N0UmVuZGVyRnVuY3Rpb259ICovIChleHBpcmVJY29uQ2FjaGUpKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHshaW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIE1hcFJlbmRlcmVyLnByb3RvdHlwZS5zY2hlZHVsZVJlbW92ZVVudXNlZExheWVyUmVuZGVyZXJzID0gZnVuY3Rpb24gc2NoZWR1bGVSZW1vdmVVbnVzZWRMYXllclJlbmRlcmVycyAoZnJhbWVTdGF0ZSkge1xuICAgIGZvciAodmFyIGxheWVyS2V5IGluIHRoaXMubGF5ZXJSZW5kZXJlcnNfKSB7XG4gICAgICBpZiAoIShsYXllcktleSBpbiBmcmFtZVN0YXRlLmxheWVyU3RhdGVzKSkge1xuICAgICAgICBmcmFtZVN0YXRlLnBvc3RSZW5kZXJGdW5jdGlvbnMucHVzaChcbiAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5Qb3N0UmVuZGVyRnVuY3Rpb259ICovICh0aGlzLnJlbW92ZVVudXNlZExheWVyUmVuZGVyZXJzXy5iaW5kKHRoaXMpKVxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBNYXBSZW5kZXJlcjtcbn0oRGlzcG9zYWJsZSkpO1xuXG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gbWFwIE1hcC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gKi9cbmZ1bmN0aW9uIGV4cGlyZUljb25DYWNoZShtYXAsIGZyYW1lU3RhdGUpIHtcbiAgaWNvbkltYWdlQ2FjaGUuZXhwaXJlKCk7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLlN0YXRlfSBzdGF0ZTEgRmlyc3QgbGF5ZXIgc3RhdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLlN0YXRlfSBzdGF0ZTIgU2Vjb25kIGxheWVyIHN0YXRlLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgekluZGV4IGRpZmZlcmVuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzb3J0QnlaSW5kZXgoc3RhdGUxLCBzdGF0ZTIpIHtcbiAgcmV0dXJuIHN0YXRlMS56SW5kZXggLSBzdGF0ZTIuekluZGV4O1xufVxuZXhwb3J0IGRlZmF1bHQgTWFwUmVuZGVyZXI7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hcC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyZXIvY2FudmFzL01hcFxuICovXG5pbXBvcnQge2NyZWF0ZSBhcyBjcmVhdGVUcmFuc2Zvcm0sIGFwcGx5IGFzIGFwcGx5VHJhbnNmb3JtLCBjb21wb3NlIGFzIGNvbXBvc2VUcmFuc2Zvcm19IGZyb20gJy4uLy4uL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQge2luY2x1ZGVzLCBzdGFibGVTb3J0fSBmcm9tICcuLi8uLi9hcnJheS5qcyc7XG5pbXBvcnQge0NMQVNTX1VOU0VMRUNUQUJMRX0gZnJvbSAnLi4vLi4vY3NzLmpzJztcbmltcG9ydCB7Y3JlYXRlQ2FudmFzQ29udGV4dDJEfSBmcm9tICcuLi8uLi9kb20uanMnO1xuaW1wb3J0IHt2aXNpYmxlQXRSZXNvbHV0aW9ufSBmcm9tICcuLi8uLi9sYXllci9MYXllci5qcyc7XG5pbXBvcnQgUmVuZGVyRXZlbnQgZnJvbSAnLi4vLi4vcmVuZGVyL0V2ZW50LmpzJztcbmltcG9ydCBSZW5kZXJFdmVudFR5cGUgZnJvbSAnLi4vLi4vcmVuZGVyL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQge3JvdGF0ZUF0T2Zmc2V0fSBmcm9tICcuLi8uLi9yZW5kZXIvY2FudmFzLmpzJztcbmltcG9ydCBDYW52YXNJbW1lZGlhdGVSZW5kZXJlciBmcm9tICcuLi8uLi9yZW5kZXIvY2FudmFzL0ltbWVkaWF0ZS5qcyc7XG5pbXBvcnQgTWFwUmVuZGVyZXIsIHtzb3J0QnlaSW5kZXh9IGZyb20gJy4uL01hcC5qcyc7XG5pbXBvcnQgU291cmNlU3RhdGUgZnJvbSAnLi4vLi4vc291cmNlL1N0YXRlLmpzJztcblxuXG4vKipcbiAqIEB0eXBlIHtBcnJheTx0eXBlb2YgaW1wb3J0KFwiLi4vTGF5ZXIuanNcIikuZGVmYXVsdD59XG4gKi9cbmV4cG9ydCB2YXIgbGF5ZXJSZW5kZXJlckNvbnN0cnVjdG9ycyA9IFtdO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIENhbnZhcyBtYXAgcmVuZGVyZXIuXG4gKiBAYXBpXG4gKi9cbnZhciBDYW52YXNNYXBSZW5kZXJlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKE1hcFJlbmRlcmVyKSB7XG4gIGZ1bmN0aW9uIENhbnZhc01hcFJlbmRlcmVyKG1hcCkge1xuICAgIE1hcFJlbmRlcmVyLmNhbGwodGhpcywgbWFwKTtcblxuICAgIHZhciBjb250YWluZXIgPSBtYXAuZ2V0Vmlld3BvcnQoKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAgICAgKi9cbiAgICB0aGlzLmNvbnRleHRfID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKCk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmNhbnZhc18gPSB0aGlzLmNvbnRleHRfLmNhbnZhcztcblxuICAgIHRoaXMuY2FudmFzXy5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLmNhbnZhc18uc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIHRoaXMuY2FudmFzXy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB0aGlzLmNhbnZhc18uY2xhc3NOYW1lID0gQ0xBU1NfVU5TRUxFQ1RBQkxFO1xuICAgIGNvbnRhaW5lci5pbnNlcnRCZWZvcmUodGhpcy5jYW52YXNfLCBjb250YWluZXIuY2hpbGROb2Rlc1swXSB8fCBudWxsKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlZFZpc2libGVfID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICovXG4gICAgdGhpcy50cmFuc2Zvcm1fID0gY3JlYXRlVHJhbnNmb3JtKCk7XG5cbiAgfVxuXG4gIGlmICggTWFwUmVuZGVyZXIgKSBDYW52YXNNYXBSZW5kZXJlci5fX3Byb3RvX18gPSBNYXBSZW5kZXJlcjtcbiAgQ2FudmFzTWFwUmVuZGVyZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggTWFwUmVuZGVyZXIgJiYgTWFwUmVuZGVyZXIucHJvdG90eXBlICk7XG4gIENhbnZhc01hcFJlbmRlcmVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENhbnZhc01hcFJlbmRlcmVyO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3JlbmRlci9FdmVudFR5cGUuanNcIikuZGVmYXVsdH0gdHlwZSBFdmVudCB0eXBlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKi9cbiAgQ2FudmFzTWFwUmVuZGVyZXIucHJvdG90eXBlLmRpc3BhdGNoUmVuZGVyRXZlbnQgPSBmdW5jdGlvbiBkaXNwYXRjaFJlbmRlckV2ZW50ICh0eXBlLCBmcmFtZVN0YXRlKSB7XG4gICAgdmFyIG1hcCA9IHRoaXMuZ2V0TWFwKCk7XG4gICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgIGlmIChtYXAuaGFzTGlzdGVuZXIodHlwZSkpIHtcbiAgICAgIHZhciBleHRlbnQgPSBmcmFtZVN0YXRlLmV4dGVudDtcbiAgICAgIHZhciBwaXhlbFJhdGlvID0gZnJhbWVTdGF0ZS5waXhlbFJhdGlvO1xuICAgICAgdmFyIHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgICAgdmFyIHJvdGF0aW9uID0gdmlld1N0YXRlLnJvdGF0aW9uO1xuXG4gICAgICB2YXIgdHJhbnNmb3JtID0gdGhpcy5nZXRUcmFuc2Zvcm0oZnJhbWVTdGF0ZSk7XG5cbiAgICAgIHZhciB2ZWN0b3JDb250ZXh0ID0gbmV3IENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyKGNvbnRleHQsIHBpeGVsUmF0aW8sXG4gICAgICAgIGV4dGVudCwgdHJhbnNmb3JtLCByb3RhdGlvbik7XG4gICAgICB2YXIgY29tcG9zZUV2ZW50ID0gbmV3IFJlbmRlckV2ZW50KHR5cGUsIHZlY3RvckNvbnRleHQsXG4gICAgICAgIGZyYW1lU3RhdGUsIGNvbnRleHQsIG51bGwpO1xuICAgICAgbWFwLmRpc3BhdGNoRXZlbnQoY29tcG9zZUV2ZW50KTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQHJldHVybiB7IWltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IFRyYW5zZm9ybS5cbiAgICovXG4gIENhbnZhc01hcFJlbmRlcmVyLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiBnZXRUcmFuc2Zvcm0gKGZyYW1lU3RhdGUpIHtcbiAgICB2YXIgdmlld1N0YXRlID0gZnJhbWVTdGF0ZS52aWV3U3RhdGU7XG4gICAgdmFyIGR4MSA9IHRoaXMuY2FudmFzXy53aWR0aCAvIDI7XG4gICAgdmFyIGR5MSA9IHRoaXMuY2FudmFzXy5oZWlnaHQgLyAyO1xuICAgIHZhciBzeCA9IGZyYW1lU3RhdGUucGl4ZWxSYXRpbyAvIHZpZXdTdGF0ZS5yZXNvbHV0aW9uO1xuICAgIHZhciBzeSA9IC1zeDtcbiAgICB2YXIgYW5nbGUgPSAtdmlld1N0YXRlLnJvdGF0aW9uO1xuICAgIHZhciBkeDIgPSAtdmlld1N0YXRlLmNlbnRlclswXTtcbiAgICB2YXIgZHkyID0gLXZpZXdTdGF0ZS5jZW50ZXJbMV07XG4gICAgcmV0dXJuIGNvbXBvc2VUcmFuc2Zvcm0odGhpcy50cmFuc2Zvcm1fLCBkeDEsIGR5MSwgc3gsIHN5LCBhbmdsZSwgZHgyLCBkeTIpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgQ2FudmFzTWFwUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlckZyYW1lID0gZnVuY3Rpb24gcmVuZGVyRnJhbWUgKGZyYW1lU3RhdGUpIHtcblxuICAgIGlmICghZnJhbWVTdGF0ZSkge1xuICAgICAgaWYgKHRoaXMucmVuZGVyZWRWaXNpYmxlXykge1xuICAgICAgICB0aGlzLmNhbnZhc18uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgdGhpcy5yZW5kZXJlZFZpc2libGVfID0gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgIHZhciBwaXhlbFJhdGlvID0gZnJhbWVTdGF0ZS5waXhlbFJhdGlvO1xuICAgIHZhciB3aWR0aCA9IE1hdGgucm91bmQoZnJhbWVTdGF0ZS5zaXplWzBdICogcGl4ZWxSYXRpbyk7XG4gICAgdmFyIGhlaWdodCA9IE1hdGgucm91bmQoZnJhbWVTdGF0ZS5zaXplWzFdICogcGl4ZWxSYXRpbyk7XG4gICAgaWYgKHRoaXMuY2FudmFzXy53aWR0aCAhPSB3aWR0aCB8fCB0aGlzLmNhbnZhc18uaGVpZ2h0ICE9IGhlaWdodCkge1xuICAgICAgdGhpcy5jYW52YXNfLndpZHRoID0gd2lkdGg7XG4gICAgICB0aGlzLmNhbnZhc18uaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG5cbiAgICB2YXIgcm90YXRpb24gPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5yb3RhdGlvbjtcblxuICAgIHRoaXMuY2FsY3VsYXRlTWF0cmljZXMyRChmcmFtZVN0YXRlKTtcblxuICAgIHRoaXMuZGlzcGF0Y2hSZW5kZXJFdmVudChSZW5kZXJFdmVudFR5cGUuUFJFQ09NUE9TRSwgZnJhbWVTdGF0ZSk7XG5cbiAgICB2YXIgbGF5ZXJTdGF0ZXNBcnJheSA9IGZyYW1lU3RhdGUubGF5ZXJTdGF0ZXNBcnJheTtcbiAgICBzdGFibGVTb3J0KGxheWVyU3RhdGVzQXJyYXksIHNvcnRCeVpJbmRleCk7XG5cbiAgICBpZiAocm90YXRpb24pIHtcbiAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgcm90YXRlQXRPZmZzZXQoY29udGV4dCwgcm90YXRpb24sIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAgfVxuXG4gICAgdmFyIHZpZXdSZXNvbHV0aW9uID0gZnJhbWVTdGF0ZS52aWV3U3RhdGUucmVzb2x1dGlvbjtcbiAgICB2YXIgaSwgaWk7XG4gICAgZm9yIChpID0gMCwgaWkgPSBsYXllclN0YXRlc0FycmF5Lmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIHZhciBsYXllclN0YXRlID0gbGF5ZXJTdGF0ZXNBcnJheVtpXTtcbiAgICAgIHZhciBsYXllciA9IGxheWVyU3RhdGUubGF5ZXI7XG4gICAgICB2YXIgbGF5ZXJSZW5kZXJlciA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9MYXllci5qc1wiKS5kZWZhdWx0fSAqLyAodGhpcy5nZXRMYXllclJlbmRlcmVyKGxheWVyKSk7XG4gICAgICBpZiAoIXZpc2libGVBdFJlc29sdXRpb24obGF5ZXJTdGF0ZSwgdmlld1Jlc29sdXRpb24pIHx8XG4gICAgICAgICAgbGF5ZXJTdGF0ZS5zb3VyY2VTdGF0ZSAhPSBTb3VyY2VTdGF0ZS5SRUFEWSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChsYXllclJlbmRlcmVyLnByZXBhcmVGcmFtZShmcmFtZVN0YXRlLCBsYXllclN0YXRlKSkge1xuICAgICAgICBsYXllclJlbmRlcmVyLmNvbXBvc2VGcmFtZShmcmFtZVN0YXRlLCBsYXllclN0YXRlLCBjb250ZXh0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocm90YXRpb24pIHtcbiAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgIH1cblxuICAgIHRoaXMuZGlzcGF0Y2hSZW5kZXJFdmVudChSZW5kZXJFdmVudFR5cGUuUE9TVENPTVBPU0UsIGZyYW1lU3RhdGUpO1xuXG4gICAgaWYgKCF0aGlzLnJlbmRlcmVkVmlzaWJsZV8pIHtcbiAgICAgIHRoaXMuY2FudmFzXy5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICB0aGlzLnJlbmRlcmVkVmlzaWJsZV8gPSB0cnVlO1xuICAgIH1cblxuICAgIHRoaXMuc2NoZWR1bGVSZW1vdmVVbnVzZWRMYXllclJlbmRlcmVycyhmcmFtZVN0YXRlKTtcbiAgICB0aGlzLnNjaGVkdWxlRXhwaXJlSWNvbkNhY2hlKGZyYW1lU3RhdGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgQ2FudmFzTWFwUmVuZGVyZXIucHJvdG90eXBlLmZvckVhY2hMYXllckF0UGl4ZWwgPSBmdW5jdGlvbiBmb3JFYWNoTGF5ZXJBdFBpeGVsIChwaXhlbCwgZnJhbWVTdGF0ZSwgaGl0VG9sZXJhbmNlLCBjYWxsYmFjaywgdGhpc0FyZywgbGF5ZXJGaWx0ZXIsIHRoaXNBcmcyKSB7XG4gICAgdmFyIHJlc3VsdDtcbiAgICB2YXIgdmlld1N0YXRlID0gZnJhbWVTdGF0ZS52aWV3U3RhdGU7XG4gICAgdmFyIHZpZXdSZXNvbHV0aW9uID0gdmlld1N0YXRlLnJlc29sdXRpb247XG5cbiAgICB2YXIgbGF5ZXJTdGF0ZXMgPSBmcmFtZVN0YXRlLmxheWVyU3RhdGVzQXJyYXk7XG4gICAgdmFyIG51bUxheWVycyA9IGxheWVyU3RhdGVzLmxlbmd0aDtcblxuICAgIHZhciBjb29yZGluYXRlID0gYXBwbHlUcmFuc2Zvcm0oXG4gICAgICBmcmFtZVN0YXRlLnBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtLCBwaXhlbC5zbGljZSgpKTtcblxuICAgIHZhciBpO1xuICAgIGZvciAoaSA9IG51bUxheWVycyAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICB2YXIgbGF5ZXJTdGF0ZSA9IGxheWVyU3RhdGVzW2ldO1xuICAgICAgdmFyIGxheWVyID0gbGF5ZXJTdGF0ZS5sYXllcjtcbiAgICAgIGlmICh2aXNpYmxlQXRSZXNvbHV0aW9uKGxheWVyU3RhdGUsIHZpZXdSZXNvbHV0aW9uKSAmJiBsYXllckZpbHRlci5jYWxsKHRoaXNBcmcyLCBsYXllcikpIHtcbiAgICAgICAgdmFyIGxheWVyUmVuZGVyZXIgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vTGF5ZXIuanNcIikuZGVmYXVsdH0gKi8gKHRoaXMuZ2V0TGF5ZXJSZW5kZXJlcihsYXllcikpO1xuICAgICAgICByZXN1bHQgPSBsYXllclJlbmRlcmVyLmZvckVhY2hMYXllckF0Q29vcmRpbmF0ZShcbiAgICAgICAgICBjb29yZGluYXRlLCBmcmFtZVN0YXRlLCBoaXRUb2xlcmFuY2UsIGNhbGxiYWNrLCB0aGlzQXJnKTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIENhbnZhc01hcFJlbmRlcmVyLnByb3RvdHlwZS5yZWdpc3RlckxheWVyUmVuZGVyZXJzID0gZnVuY3Rpb24gcmVnaXN0ZXJMYXllclJlbmRlcmVycyAoY29uc3RydWN0b3JzKSB7XG4gICAgTWFwUmVuZGVyZXIucHJvdG90eXBlLnJlZ2lzdGVyTGF5ZXJSZW5kZXJlcnMuY2FsbCh0aGlzLCBjb25zdHJ1Y3RvcnMpO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGNvbnN0cnVjdG9ycy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICB2YXIgY3RvciA9IGNvbnN0cnVjdG9yc1tpXTtcbiAgICAgIGlmICghaW5jbHVkZXMobGF5ZXJSZW5kZXJlckNvbnN0cnVjdG9ycywgY3RvcikpIHtcbiAgICAgICAgbGF5ZXJSZW5kZXJlckNvbnN0cnVjdG9ycy5wdXNoKGN0b3IpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gQ2FudmFzTWFwUmVuZGVyZXI7XG59KE1hcFJlbmRlcmVyKSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzTWFwUmVuZGVyZXI7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hcC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyZXIvTGF5ZXJcbiAqL1xuaW1wb3J0IHtnZXRVaWR9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IEltYWdlU3RhdGUgZnJvbSAnLi4vSW1hZ2VTdGF0ZS5qcyc7XG5pbXBvcnQgT2JzZXJ2YWJsZSBmcm9tICcuLi9PYnNlcnZhYmxlLmpzJztcbmltcG9ydCBUaWxlU3RhdGUgZnJvbSAnLi4vVGlsZVN0YXRlLmpzJztcbmltcG9ydCB7bGlzdGVufSBmcm9tICcuLi9ldmVudHMuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBTb3VyY2VTdGF0ZSBmcm9tICcuLi9zb3VyY2UvU3RhdGUuanMnO1xuXG52YXIgTGF5ZXJSZW5kZXJlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKE9ic2VydmFibGUpIHtcbiAgZnVuY3Rpb24gTGF5ZXJSZW5kZXJlcihsYXllcikge1xuXG4gICAgT2JzZXJ2YWJsZS5jYWxsKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLmxheWVyXyA9IGxheWVyO1xuXG4gIH1cblxuICBpZiAoIE9ic2VydmFibGUgKSBMYXllclJlbmRlcmVyLl9fcHJvdG9fXyA9IE9ic2VydmFibGU7XG4gIExheWVyUmVuZGVyZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggT2JzZXJ2YWJsZSAmJiBPYnNlcnZhYmxlLnByb3RvdHlwZSApO1xuICBMYXllclJlbmRlcmVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExheWVyUmVuZGVyZXI7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIGZ1bmN0aW9uIHRoYXQgYWRkcyBsb2FkZWQgdGlsZXMgdG8gdGhlIHRpbGUgbG9va3VwLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9IHNvdXJjZSBUaWxlIHNvdXJjZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uIG9mIHRoZSB0aWxlcy5cbiAgICogQHBhcmFtIHtPYmplY3Q8bnVtYmVyLCBPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLmRlZmF1bHQ+Pn0gdGlsZXMgTG9va3VwIG9mIGxvYWRlZCB0aWxlcyBieSB6b29tIGxldmVsLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbihudW1iZXIsIGltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0KTpib29sZWFufSBBIGZ1bmN0aW9uIHRoYXQgY2FuIGJlXG4gICAqICAgICBjYWxsZWQgd2l0aCBhIHpvb20gbGV2ZWwgYW5kIGEgdGlsZSByYW5nZSB0byBhZGQgbG9hZGVkIHRpbGVzIHRvIHRoZSBsb29rdXAuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIExheWVyUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZUxvYWRlZFRpbGVGaW5kZXIgPSBmdW5jdGlvbiBjcmVhdGVMb2FkZWRUaWxlRmluZGVyIChzb3VyY2UsIHByb2plY3Rpb24sIHRpbGVzKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHpvb20gWm9vbSBsZXZlbC5cbiAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR9IHRpbGVSYW5nZSBUaWxlIHJhbmdlLlxuICAgICAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHRpbGUgcmFuZ2UgaXMgZnVsbHkgbG9hZGVkLlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbih6b29tLCB0aWxlUmFuZ2UpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlIFRpbGUuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBjYWxsYmFjayh0aWxlKSB7XG4gICAgICAgICAgaWYgKCF0aWxlc1t6b29tXSkge1xuICAgICAgICAgICAgdGlsZXNbem9vbV0gPSB7fTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGlsZXNbem9vbV1bdGlsZS50aWxlQ29vcmQudG9TdHJpbmcoKV0gPSB0aWxlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzb3VyY2UuZm9yRWFjaExvYWRlZFRpbGUocHJvamVjdGlvbiwgem9vbSwgdGlsZVJhbmdlLCBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoaXRUb2xlcmFuY2UgSGl0IHRvbGVyYW5jZSBpbiBwaXhlbHMuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZSwgaW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdCk6IFR9IGNhbGxiYWNrIEZlYXR1cmUgY2FsbGJhY2suXG4gICAqIEByZXR1cm4ge1R8dm9pZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgKiBAdGVtcGxhdGUgVFxuICAgKi9cbiAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUgPSBmdW5jdGlvbiBmb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZSAoY29vcmRpbmF0ZSwgZnJhbWVTdGF0ZSwgaGl0VG9sZXJhbmNlLCBjYWxsYmFjaykge307XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IExheWVyLlxuICAgKi9cbiAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZ2V0TGF5ZXIgPSBmdW5jdGlvbiBnZXRMYXllciAoKSB7XG4gICAgcmV0dXJuIHRoaXMubGF5ZXJfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgY2hhbmdlcyBpbiBpbWFnZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgSW1hZ2UgY2hhbmdlIGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuaGFuZGxlSW1hZ2VDaGFuZ2VfID0gZnVuY3Rpb24gaGFuZGxlSW1hZ2VDaGFuZ2VfIChldmVudCkge1xuICAgIHZhciBpbWFnZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vSW1hZ2UuanNcIikuZGVmYXVsdH0gKi8gKGV2ZW50LnRhcmdldCk7XG4gICAgaWYgKGltYWdlLmdldFN0YXRlKCkgPT09IEltYWdlU3RhdGUuTE9BREVEKSB7XG4gICAgICB0aGlzLnJlbmRlcklmUmVhZHlBbmRWaXNpYmxlKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyB0aGVyZSBhIGZlYXR1cmUgYXQgdGhlIGdpdmVuIGNvb3JkaW5hdGU/XG4gICAqL1xuICBMYXllclJlbmRlcmVyLnByb3RvdHlwZS5oYXNGZWF0dXJlQXRDb29yZGluYXRlID0gZnVuY3Rpb24gaGFzRmVhdHVyZUF0Q29vcmRpbmF0ZSAoY29vcmRpbmF0ZSwgZnJhbWVTdGF0ZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogTG9hZCB0aGUgaW1hZ2UgaWYgbm90IGFscmVhZHkgbG9hZGVkLCBhbmQgcmVnaXN0ZXIgdGhlIGltYWdlIGNoYW5nZVxuICAgKiBsaXN0ZW5lciBpZiBuZWVkZWQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vSW1hZ2VCYXNlLmpzXCIpLmRlZmF1bHR9IGltYWdlIEltYWdlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGltYWdlIGlzIGFscmVhZHkgbG9hZGVkLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUubG9hZEltYWdlID0gZnVuY3Rpb24gbG9hZEltYWdlIChpbWFnZSkge1xuICAgIHZhciBpbWFnZVN0YXRlID0gaW1hZ2UuZ2V0U3RhdGUoKTtcbiAgICBpZiAoaW1hZ2VTdGF0ZSAhPSBJbWFnZVN0YXRlLkxPQURFRCAmJiBpbWFnZVN0YXRlICE9IEltYWdlU3RhdGUuRVJST1IpIHtcbiAgICAgIGxpc3RlbihpbWFnZSwgRXZlbnRUeXBlLkNIQU5HRSwgdGhpcy5oYW5kbGVJbWFnZUNoYW5nZV8sIHRoaXMpO1xuICAgIH1cbiAgICBpZiAoaW1hZ2VTdGF0ZSA9PSBJbWFnZVN0YXRlLklETEUpIHtcbiAgICAgIGltYWdlLmxvYWQoKTtcbiAgICAgIGltYWdlU3RhdGUgPSBpbWFnZS5nZXRTdGF0ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gaW1hZ2VTdGF0ZSA9PSBJbWFnZVN0YXRlLkxPQURFRDtcbiAgfTtcblxuICAvKipcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucmVuZGVySWZSZWFkeUFuZFZpc2libGUgPSBmdW5jdGlvbiByZW5kZXJJZlJlYWR5QW5kVmlzaWJsZSAoKSB7XG4gICAgdmFyIGxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgIGlmIChsYXllci5nZXRWaXNpYmxlKCkgJiYgbGF5ZXIuZ2V0U291cmNlU3RhdGUoKSA9PSBTb3VyY2VTdGF0ZS5SRUFEWSkge1xuICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGVTb3VyY2UgVGlsZSBzb3VyY2UuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIExheWVyUmVuZGVyZXIucHJvdG90eXBlLnNjaGVkdWxlRXhwaXJlQ2FjaGUgPSBmdW5jdGlvbiBzY2hlZHVsZUV4cGlyZUNhY2hlIChmcmFtZVN0YXRlLCB0aWxlU291cmNlKSB7XG4gICAgaWYgKHRpbGVTb3VyY2UuY2FuRXhwaXJlQ2FjaGUoKSkge1xuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGVTb3VyY2UgVGlsZSBzb3VyY2UuXG4gICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fSBtYXAgTWFwLlxuICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgICAqL1xuICAgICAgdmFyIHBvc3RSZW5kZXJGdW5jdGlvbiA9IGZ1bmN0aW9uKHRpbGVTb3VyY2UsIG1hcCwgZnJhbWVTdGF0ZSkge1xuICAgICAgICB2YXIgdGlsZVNvdXJjZUtleSA9IGdldFVpZCh0aWxlU291cmNlKTtcbiAgICAgICAgaWYgKHRpbGVTb3VyY2VLZXkgaW4gZnJhbWVTdGF0ZS51c2VkVGlsZXMpIHtcbiAgICAgICAgICB0aWxlU291cmNlLmV4cGlyZUNhY2hlKGZyYW1lU3RhdGUudmlld1N0YXRlLnByb2plY3Rpb24sXG4gICAgICAgICAgICBmcmFtZVN0YXRlLnVzZWRUaWxlc1t0aWxlU291cmNlS2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH0uYmluZChudWxsLCB0aWxlU291cmNlKTtcblxuICAgICAgZnJhbWVTdGF0ZS5wb3N0UmVuZGVyRnVuY3Rpb25zLnB1c2goXG4gICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLlBvc3RSZW5kZXJGdW5jdGlvbn0gKi8gKHBvc3RSZW5kZXJGdW5jdGlvbilcbiAgICAgICk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCAhT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHQ+Pn0gdXNlZFRpbGVzIFVzZWQgdGlsZXMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc291cmNlL1RpbGUuanNcIikuZGVmYXVsdH0gdGlsZVNvdXJjZSBUaWxlIHNvdXJjZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHogWi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdH0gdGlsZVJhbmdlIFRpbGUgcmFuZ2UuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIExheWVyUmVuZGVyZXIucHJvdG90eXBlLnVwZGF0ZVVzZWRUaWxlcyA9IGZ1bmN0aW9uIHVwZGF0ZVVzZWRUaWxlcyAodXNlZFRpbGVzLCB0aWxlU291cmNlLCB6LCB0aWxlUmFuZ2UpIHtcbiAgICAvLyBGSVhNRSBzaG91bGQgd2UgdXNlIHRpbGVzVG9EcmF3QnlaIGluc3RlYWQ/XG4gICAgdmFyIHRpbGVTb3VyY2VLZXkgPSBnZXRVaWQodGlsZVNvdXJjZSk7XG4gICAgdmFyIHpLZXkgPSB6LnRvU3RyaW5nKCk7XG4gICAgaWYgKHRpbGVTb3VyY2VLZXkgaW4gdXNlZFRpbGVzKSB7XG4gICAgICBpZiAoektleSBpbiB1c2VkVGlsZXNbdGlsZVNvdXJjZUtleV0pIHtcbiAgICAgICAgdXNlZFRpbGVzW3RpbGVTb3VyY2VLZXldW3pLZXldLmV4dGVuZCh0aWxlUmFuZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXNlZFRpbGVzW3RpbGVTb3VyY2VLZXldW3pLZXldID0gdGlsZVJhbmdlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB1c2VkVGlsZXNbdGlsZVNvdXJjZUtleV0gPSB7fTtcbiAgICAgIHVzZWRUaWxlc1t0aWxlU291cmNlS2V5XVt6S2V5XSA9IHRpbGVSYW5nZTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIE1hbmFnZSB0aWxlIHB5cmFtaWQuXG4gICAqIFRoaXMgZnVuY3Rpb24gcGVyZm9ybXMgYSBudW1iZXIgb2YgZnVuY3Rpb25zIHJlbGF0ZWQgdG8gdGhlIHRpbGVzIGF0IHRoZVxuICAgKiBjdXJyZW50IHpvb20gYW5kIGxvd2VyIHpvb20gbGV2ZWxzOlxuICAgKiAtIHJlZ2lzdGVycyBpZGxlIHRpbGVzIGluIGZyYW1lU3RhdGUud2FudGVkVGlsZXMgc28gdGhhdCB0aGV5IGFyZSBub3RcbiAgICogICBkaXNjYXJkZWQgYnkgdGhlIHRpbGUgcXVldWVcbiAgICogLSBlbnF1ZXVlcyBtaXNzaW5nIHRpbGVzXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc291cmNlL1RpbGUuanNcIikuZGVmYXVsdH0gdGlsZVNvdXJjZSBUaWxlIHNvdXJjZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSB0aWxlR3JpZCBUaWxlIGdyaWQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGN1cnJlbnRaIEN1cnJlbnQgWi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHByZWxvYWQgTG9hZCBsb3cgcmVzb2x1dGlvbiB0aWxlcyB1cCB0byAncHJlbG9hZCcgbGV2ZWxzLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6IFQsIGltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdCk9fSBvcHRfdGlsZUNhbGxiYWNrIFRpbGUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7VD19IG9wdF90aGlzIE9iamVjdCB0byB1c2UgYXMgYHRoaXNgIGluIGBvcHRfdGlsZUNhbGxiYWNrYC5cbiAgICogQHByb3RlY3RlZFxuICAgKiBAdGVtcGxhdGUgVFxuICAgKi9cbiAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUubWFuYWdlVGlsZVB5cmFtaWQgPSBmdW5jdGlvbiBtYW5hZ2VUaWxlUHlyYW1pZCAoXG4gICAgZnJhbWVTdGF0ZSxcbiAgICB0aWxlU291cmNlLFxuICAgIHRpbGVHcmlkLFxuICAgIHBpeGVsUmF0aW8sXG4gICAgcHJvamVjdGlvbixcbiAgICBleHRlbnQsXG4gICAgY3VycmVudFosXG4gICAgcHJlbG9hZCxcbiAgICBvcHRfdGlsZUNhbGxiYWNrLFxuICAgIG9wdF90aGlzXG4gICkge1xuICAgIHZhciB0aWxlU291cmNlS2V5ID0gZ2V0VWlkKHRpbGVTb3VyY2UpO1xuICAgIGlmICghKHRpbGVTb3VyY2VLZXkgaW4gZnJhbWVTdGF0ZS53YW50ZWRUaWxlcykpIHtcbiAgICAgIGZyYW1lU3RhdGUud2FudGVkVGlsZXNbdGlsZVNvdXJjZUtleV0gPSB7fTtcbiAgICB9XG4gICAgdmFyIHdhbnRlZFRpbGVzID0gZnJhbWVTdGF0ZS53YW50ZWRUaWxlc1t0aWxlU291cmNlS2V5XTtcbiAgICB2YXIgdGlsZVF1ZXVlID0gZnJhbWVTdGF0ZS50aWxlUXVldWU7XG4gICAgdmFyIG1pblpvb20gPSB0aWxlR3JpZC5nZXRNaW5ab29tKCk7XG4gICAgdmFyIHRpbGUsIHRpbGVSYW5nZSwgdGlsZVJlc29sdXRpb24sIHgsIHksIHo7XG4gICAgZm9yICh6ID0gbWluWm9vbTsgeiA8PSBjdXJyZW50WjsgKyt6KSB7XG4gICAgICB0aWxlUmFuZ2UgPSB0aWxlR3JpZC5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKGV4dGVudCwgeiwgdGlsZVJhbmdlKTtcbiAgICAgIHRpbGVSZXNvbHV0aW9uID0gdGlsZUdyaWQuZ2V0UmVzb2x1dGlvbih6KTtcbiAgICAgIGZvciAoeCA9IHRpbGVSYW5nZS5taW5YOyB4IDw9IHRpbGVSYW5nZS5tYXhYOyArK3gpIHtcbiAgICAgICAgZm9yICh5ID0gdGlsZVJhbmdlLm1pblk7IHkgPD0gdGlsZVJhbmdlLm1heFk7ICsreSkge1xuICAgICAgICAgIGlmIChjdXJyZW50WiAtIHogPD0gcHJlbG9hZCkge1xuICAgICAgICAgICAgdGlsZSA9IHRpbGVTb3VyY2UuZ2V0VGlsZSh6LCB4LCB5LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgIGlmICh0aWxlLmdldFN0YXRlKCkgPT0gVGlsZVN0YXRlLklETEUpIHtcbiAgICAgICAgICAgICAgd2FudGVkVGlsZXNbdGlsZS5nZXRLZXkoKV0gPSB0cnVlO1xuICAgICAgICAgICAgICBpZiAoIXRpbGVRdWV1ZS5pc0tleVF1ZXVlZCh0aWxlLmdldEtleSgpKSkge1xuICAgICAgICAgICAgICAgIHRpbGVRdWV1ZS5lbnF1ZXVlKFt0aWxlLCB0aWxlU291cmNlS2V5LFxuICAgICAgICAgICAgICAgICAgdGlsZUdyaWQuZ2V0VGlsZUNvb3JkQ2VudGVyKHRpbGUudGlsZUNvb3JkKSwgdGlsZVJlc29sdXRpb25dKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdF90aWxlQ2FsbGJhY2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBvcHRfdGlsZUNhbGxiYWNrLmNhbGwob3B0X3RoaXMsIHRpbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aWxlU291cmNlLnVzZVRpbGUoeiwgeCwgeSwgcHJvamVjdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBMYXllclJlbmRlcmVyO1xufShPYnNlcnZhYmxlKSk7XG5cbmV4cG9ydCBkZWZhdWx0IExheWVyUmVuZGVyZXI7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxheWVyLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXJlci9jYW52YXMvTGF5ZXJcbiAqL1xuaW1wb3J0IHthYnN0cmFjdH0gZnJvbSAnLi4vLi4vdXRpbC5qcyc7XG5pbXBvcnQge2dldEJvdHRvbUxlZnQsIGdldEJvdHRvbVJpZ2h0LCBnZXRUb3BMZWZ0LCBnZXRUb3BSaWdodH0gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7VFJVRX0gZnJvbSAnLi4vLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCBSZW5kZXJFdmVudCBmcm9tICcuLi8uLi9yZW5kZXIvRXZlbnQuanMnO1xuaW1wb3J0IFJlbmRlckV2ZW50VHlwZSBmcm9tICcuLi8uLi9yZW5kZXIvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7cm90YXRlQXRPZmZzZXR9IGZyb20gJy4uLy4uL3JlbmRlci9jYW52YXMuanMnO1xuaW1wb3J0IENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyIGZyb20gJy4uLy4uL3JlbmRlci9jYW52YXMvSW1tZWRpYXRlLmpzJztcbmltcG9ydCBMYXllclJlbmRlcmVyIGZyb20gJy4uL0xheWVyLmpzJztcbmltcG9ydCB7Y3JlYXRlIGFzIGNyZWF0ZVRyYW5zZm9ybSwgYXBwbHkgYXMgYXBwbHlUcmFuc2Zvcm0sIGNvbXBvc2UgYXMgY29tcG9zZVRyYW5zZm9ybX0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtLmpzJztcblxuLyoqXG4gKiBAYWJzdHJhY3RcbiAqL1xudmFyIENhbnZhc0xheWVyUmVuZGVyZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChMYXllclJlbmRlcmVyKSB7XG4gIGZ1bmN0aW9uIENhbnZhc0xheWVyUmVuZGVyZXIobGF5ZXIpIHtcblxuICAgIExheWVyUmVuZGVyZXIuY2FsbCh0aGlzLCBsYXllcik7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVkUmVzb2x1dGlvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICovXG4gICAgdGhpcy50cmFuc2Zvcm1fID0gY3JlYXRlVHJhbnNmb3JtKCk7XG5cbiAgfVxuXG4gIGlmICggTGF5ZXJSZW5kZXJlciApIENhbnZhc0xheWVyUmVuZGVyZXIuX19wcm90b19fID0gTGF5ZXJSZW5kZXJlcjtcbiAgQ2FudmFzTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBMYXllclJlbmRlcmVyICYmIExheWVyUmVuZGVyZXIucHJvdG90eXBlICk7XG4gIENhbnZhc0xheWVyUmVuZGVyZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ2FudmFzTGF5ZXJSZW5kZXJlcjtcblxuICAvKipcbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgQ2xpcCBleHRlbnQuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIENhbnZhc0xheWVyUmVuZGVyZXIucHJvdG90eXBlLmNsaXAgPSBmdW5jdGlvbiBjbGlwIChjb250ZXh0LCBmcmFtZVN0YXRlLCBleHRlbnQpIHtcbiAgICB2YXIgcGl4ZWxSYXRpbyA9IGZyYW1lU3RhdGUucGl4ZWxSYXRpbztcbiAgICB2YXIgd2lkdGggPSBmcmFtZVN0YXRlLnNpemVbMF0gKiBwaXhlbFJhdGlvO1xuICAgIHZhciBoZWlnaHQgPSBmcmFtZVN0YXRlLnNpemVbMV0gKiBwaXhlbFJhdGlvO1xuICAgIHZhciByb3RhdGlvbiA9IGZyYW1lU3RhdGUudmlld1N0YXRlLnJvdGF0aW9uO1xuICAgIHZhciB0b3BMZWZ0ID0gZ2V0VG9wTGVmdChleHRlbnQpO1xuICAgIHZhciB0b3BSaWdodCA9IGdldFRvcFJpZ2h0KGV4dGVudCk7XG4gICAgdmFyIGJvdHRvbVJpZ2h0ID0gZ2V0Qm90dG9tUmlnaHQoZXh0ZW50KTtcbiAgICB2YXIgYm90dG9tTGVmdCA9IGdldEJvdHRvbUxlZnQoZXh0ZW50KTtcblxuICAgIGFwcGx5VHJhbnNmb3JtKGZyYW1lU3RhdGUuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0sIHRvcExlZnQpO1xuICAgIGFwcGx5VHJhbnNmb3JtKGZyYW1lU3RhdGUuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0sIHRvcFJpZ2h0KTtcbiAgICBhcHBseVRyYW5zZm9ybShmcmFtZVN0YXRlLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtLCBib3R0b21SaWdodCk7XG4gICAgYXBwbHlUcmFuc2Zvcm0oZnJhbWVTdGF0ZS5jb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybSwgYm90dG9tTGVmdCk7XG5cbiAgICBjb250ZXh0LnNhdmUoKTtcbiAgICByb3RhdGVBdE9mZnNldChjb250ZXh0LCAtcm90YXRpb24sIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICBjb250ZXh0Lm1vdmVUbyh0b3BMZWZ0WzBdICogcGl4ZWxSYXRpbywgdG9wTGVmdFsxXSAqIHBpeGVsUmF0aW8pO1xuICAgIGNvbnRleHQubGluZVRvKHRvcFJpZ2h0WzBdICogcGl4ZWxSYXRpbywgdG9wUmlnaHRbMV0gKiBwaXhlbFJhdGlvKTtcbiAgICBjb250ZXh0LmxpbmVUbyhib3R0b21SaWdodFswXSAqIHBpeGVsUmF0aW8sIGJvdHRvbVJpZ2h0WzFdICogcGl4ZWxSYXRpbyk7XG4gICAgY29udGV4dC5saW5lVG8oYm90dG9tTGVmdFswXSAqIHBpeGVsUmF0aW8sIGJvdHRvbUxlZnRbMV0gKiBwaXhlbFJhdGlvKTtcbiAgICBjb250ZXh0LmNsaXAoKTtcbiAgICByb3RhdGVBdE9mZnNldChjb250ZXh0LCByb3RhdGlvbiwgd2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9yZW5kZXIvRXZlbnRUeXBlLmpzXCIpLmRlZmF1bHR9IHR5cGUgRXZlbnQgdHlwZS5cbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtPX0gb3B0X3RyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBDYW52YXNMYXllclJlbmRlcmVyLnByb3RvdHlwZS5kaXNwYXRjaENvbXBvc2VFdmVudF8gPSBmdW5jdGlvbiBkaXNwYXRjaENvbXBvc2VFdmVudF8gKHR5cGUsIGNvbnRleHQsIGZyYW1lU3RhdGUsIG9wdF90cmFuc2Zvcm0pIHtcbiAgICB2YXIgbGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XG4gICAgaWYgKGxheWVyLmhhc0xpc3RlbmVyKHR5cGUpKSB7XG4gICAgICB2YXIgd2lkdGggPSBmcmFtZVN0YXRlLnNpemVbMF0gKiBmcmFtZVN0YXRlLnBpeGVsUmF0aW87XG4gICAgICB2YXIgaGVpZ2h0ID0gZnJhbWVTdGF0ZS5zaXplWzFdICogZnJhbWVTdGF0ZS5waXhlbFJhdGlvO1xuICAgICAgdmFyIHJvdGF0aW9uID0gZnJhbWVTdGF0ZS52aWV3U3RhdGUucm90YXRpb247XG4gICAgICByb3RhdGVBdE9mZnNldChjb250ZXh0LCAtcm90YXRpb24sIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAgICB2YXIgdHJhbnNmb3JtID0gb3B0X3RyYW5zZm9ybSAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgb3B0X3RyYW5zZm9ybSA6IHRoaXMuZ2V0VHJhbnNmb3JtKGZyYW1lU3RhdGUsIDApO1xuICAgICAgdmFyIHJlbmRlciA9IG5ldyBDYW52YXNJbW1lZGlhdGVSZW5kZXJlcihcbiAgICAgICAgY29udGV4dCwgZnJhbWVTdGF0ZS5waXhlbFJhdGlvLCBmcmFtZVN0YXRlLmV4dGVudCwgdHJhbnNmb3JtLFxuICAgICAgICBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5yb3RhdGlvbik7XG4gICAgICB2YXIgY29tcG9zZUV2ZW50ID0gbmV3IFJlbmRlckV2ZW50KHR5cGUsIHJlbmRlciwgZnJhbWVTdGF0ZSxcbiAgICAgICAgY29udGV4dCwgbnVsbCk7XG4gICAgICBsYXllci5kaXNwYXRjaEV2ZW50KGNvbXBvc2VFdmVudCk7XG4gICAgICByb3RhdGVBdE9mZnNldChjb250ZXh0LCByb3RhdGlvbiwgd2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWVTdGF0ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGhpdFRvbGVyYW5jZSBIaXQgdG9sZXJhbmNlIGluIHBpeGVscy5cbiAgICogQHBhcmFtIHtmdW5jdGlvbih0aGlzOiBTLCBpbXBvcnQoXCIuLi8uLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0LCAoVWludDhDbGFtcGVkQXJyYXl8VWludDhBcnJheSkpOiBUfSBjYWxsYmFjayBMYXllclxuICAgKiAgICAgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7U30gdGhpc0FyZyBWYWx1ZSB0byB1c2UgYXMgYHRoaXNgIHdoZW4gZXhlY3V0aW5nIGBjYWxsYmFja2AuXG4gICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQuXG4gICAqIEB0ZW1wbGF0ZSBTLFQsVVxuICAgKi9cbiAgQ2FudmFzTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZm9yRWFjaExheWVyQXRDb29yZGluYXRlID0gZnVuY3Rpb24gZm9yRWFjaExheWVyQXRDb29yZGluYXRlIChjb29yZGluYXRlLCBmcmFtZVN0YXRlLCBoaXRUb2xlcmFuY2UsIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgdmFyIGhhc0ZlYXR1cmUgPSB0aGlzLmZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlKGNvb3JkaW5hdGUsIGZyYW1lU3RhdGUsIGhpdFRvbGVyYW5jZSwgVFJVRSk7XG5cbiAgICBpZiAoaGFzRmVhdHVyZSkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpcy5nZXRMYXllcigpLCBudWxsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vbGF5ZXIvTGF5ZXIuanNcIikuU3RhdGV9IGxheWVyU3RhdGUgTGF5ZXIgc3RhdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybT19IG9wdF90cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBDYW52YXNMYXllclJlbmRlcmVyLnByb3RvdHlwZS5wb3N0Q29tcG9zZSA9IGZ1bmN0aW9uIHBvc3RDb21wb3NlIChjb250ZXh0LCBmcmFtZVN0YXRlLCBsYXllclN0YXRlLCBvcHRfdHJhbnNmb3JtKSB7XG4gICAgdGhpcy5kaXNwYXRjaENvbXBvc2VFdmVudF8oUmVuZGVyRXZlbnRUeXBlLlBPU1RDT01QT1NFLCBjb250ZXh0LCBmcmFtZVN0YXRlLCBvcHRfdHJhbnNmb3JtKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtPX0gb3B0X3RyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIENhbnZhc0xheWVyUmVuZGVyZXIucHJvdG90eXBlLnByZUNvbXBvc2UgPSBmdW5jdGlvbiBwcmVDb21wb3NlIChjb250ZXh0LCBmcmFtZVN0YXRlLCBvcHRfdHJhbnNmb3JtKSB7XG4gICAgdGhpcy5kaXNwYXRjaENvbXBvc2VFdmVudF8oUmVuZGVyRXZlbnRUeXBlLlBSRUNPTVBPU0UsIGNvbnRleHQsIGZyYW1lU3RhdGUsIG9wdF90cmFuc2Zvcm0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm09fSBvcHRfdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgQ2FudmFzTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZGlzcGF0Y2hSZW5kZXJFdmVudCA9IGZ1bmN0aW9uIGRpc3BhdGNoUmVuZGVyRXZlbnQgKGNvbnRleHQsIGZyYW1lU3RhdGUsIG9wdF90cmFuc2Zvcm0pIHtcbiAgICB0aGlzLmRpc3BhdGNoQ29tcG9zZUV2ZW50XyhSZW5kZXJFdmVudFR5cGUuUkVOREVSLCBjb250ZXh0LCBmcmFtZVN0YXRlLCBvcHRfdHJhbnNmb3JtKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldFggT2Zmc2V0IG9uIHRoZSB4LWF4aXMgaW4gdmlldyBjb29yZGluYXRlcy5cbiAgICogQHByb3RlY3RlZFxuICAgKiBAcmV0dXJuIHshaW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gVHJhbnNmb3JtLlxuICAgKi9cbiAgQ2FudmFzTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gZ2V0VHJhbnNmb3JtIChmcmFtZVN0YXRlLCBvZmZzZXRYKSB7XG4gICAgdmFyIHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgIHZhciBwaXhlbFJhdGlvID0gZnJhbWVTdGF0ZS5waXhlbFJhdGlvO1xuICAgIHZhciBkeDEgPSBwaXhlbFJhdGlvICogZnJhbWVTdGF0ZS5zaXplWzBdIC8gMjtcbiAgICB2YXIgZHkxID0gcGl4ZWxSYXRpbyAqIGZyYW1lU3RhdGUuc2l6ZVsxXSAvIDI7XG4gICAgdmFyIHN4ID0gcGl4ZWxSYXRpbyAvIHZpZXdTdGF0ZS5yZXNvbHV0aW9uO1xuICAgIHZhciBzeSA9IC1zeDtcbiAgICB2YXIgYW5nbGUgPSAtdmlld1N0YXRlLnJvdGF0aW9uO1xuICAgIHZhciBkeDIgPSAtdmlld1N0YXRlLmNlbnRlclswXSArIG9mZnNldFg7XG4gICAgdmFyIGR5MiA9IC12aWV3U3RhdGUuY2VudGVyWzFdO1xuICAgIHJldHVybiBjb21wb3NlVHJhbnNmb3JtKHRoaXMudHJhbnNmb3JtXywgZHgxLCBkeTEsIHN4LCBzeSwgYW5nbGUsIGR4MiwgZHkyKTtcbiAgfTtcblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vbGF5ZXIvTGF5ZXIuanNcIikuU3RhdGV9IGxheWVyU3RhdGUgTGF5ZXIgc3RhdGUuXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAqL1xuICBDYW52YXNMYXllclJlbmRlcmVyLnByb3RvdHlwZS5jb21wb3NlRnJhbWUgPSBmdW5jdGlvbiBjb21wb3NlRnJhbWUgKGZyYW1lU3RhdGUsIGxheWVyU3RhdGUsIGNvbnRleHQpIHtcbiAgICBhYnN0cmFjdCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9sYXllci9MYXllci5qc1wiKS5TdGF0ZX0gbGF5ZXJTdGF0ZSBMYXllciBzdGF0ZS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciBjb21wb3NlRnJhbWUgc2hvdWxkIGJlIGNhbGxlZC5cbiAgICovXG4gIENhbnZhc0xheWVyUmVuZGVyZXIucHJvdG90eXBlLnByZXBhcmVGcmFtZSA9IGZ1bmN0aW9uIHByZXBhcmVGcmFtZSAoZnJhbWVTdGF0ZSwgbGF5ZXJTdGF0ZSkge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9O1xuXG4gIHJldHVybiBDYW52YXNMYXllclJlbmRlcmVyO1xufShMYXllclJlbmRlcmVyKSk7XG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhc0xheWVyUmVuZGVyZXI7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxheWVyLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXJlci9jYW52YXMvSW1hZ2VMYXllclxuICovXG5pbXBvcnQge0VOQUJMRV9SQVNURVJfUkVQUk9KRUNUSU9OfSBmcm9tICcuLi8uLi9yZXByb2ovY29tbW9uLmpzJztcbmltcG9ydCBJbWFnZUNhbnZhcyBmcm9tICcuLi8uLi9JbWFnZUNhbnZhcy5qcyc7XG5pbXBvcnQgTGF5ZXJUeXBlIGZyb20gJy4uLy4uL0xheWVyVHlwZS5qcyc7XG5pbXBvcnQgVmlld0hpbnQgZnJvbSAnLi4vLi4vVmlld0hpbnQuanMnO1xuaW1wb3J0IHtlcXVhbHN9IGZyb20gJy4uLy4uL2FycmF5LmpzJztcbmltcG9ydCB7Z2V0SGVpZ2h0LCBnZXRJbnRlcnNlY3Rpb24sIGdldFdpZHRoLCBpc0VtcHR5fSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuaW1wb3J0IFZlY3RvclJlbmRlclR5cGUgZnJvbSAnLi4vLi4vbGF5ZXIvVmVjdG9yUmVuZGVyVHlwZS5qcyc7XG5pbXBvcnQge2Fzc2lnbn0gZnJvbSAnLi4vLi4vb2JqLmpzJztcbmltcG9ydCB7bGF5ZXJSZW5kZXJlckNvbnN0cnVjdG9yc30gZnJvbSAnLi9NYXAuanMnO1xuaW1wb3J0IEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyIGZyb20gJy4vSW50ZXJtZWRpYXRlQ2FudmFzLmpzJztcbmltcG9ydCB7Y3JlYXRlIGFzIGNyZWF0ZVRyYW5zZm9ybSwgY29tcG9zZSBhcyBjb21wb3NlVHJhbnNmb3JtfSBmcm9tICcuLi8uLi90cmFuc2Zvcm0uanMnO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIENhbnZhcyByZW5kZXJlciBmb3IgaW1hZ2UgbGF5ZXJzLlxuICogQGFwaVxuICovXG52YXIgQ2FudmFzSW1hZ2VMYXllclJlbmRlcmVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoSW50ZXJtZWRpYXRlQ2FudmFzUmVuZGVyZXIpIHtcbiAgZnVuY3Rpb24gQ2FudmFzSW1hZ2VMYXllclJlbmRlcmVyKGltYWdlTGF5ZXIpIHtcblxuICAgIEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyLmNhbGwodGhpcywgaW1hZ2VMYXllcik7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vLi4vSW1hZ2VCYXNlLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5pbWFnZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlVHJhbnNmb3JtXyA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgeyFBcnJheTxzdHJpbmc+fVxuICAgICAqL1xuICAgIHRoaXMuc2tpcHBlZEZlYXR1cmVzXyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9WZWN0b3JMYXllci5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMudmVjdG9yUmVuZGVyZXJfID0gbnVsbDtcblxuICAgIGlmIChpbWFnZUxheWVyLmdldFR5cGUoKSA9PT0gTGF5ZXJUeXBlLlZFQ1RPUikge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbGF5ZXJSZW5kZXJlckNvbnN0cnVjdG9ycy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBjdG9yID0gbGF5ZXJSZW5kZXJlckNvbnN0cnVjdG9yc1tpXTtcbiAgICAgICAgaWYgKGN0b3IgIT09IENhbnZhc0ltYWdlTGF5ZXJSZW5kZXJlciAmJiBjdG9yWydoYW5kbGVzJ10oaW1hZ2VMYXllcikpIHtcbiAgICAgICAgICB0aGlzLnZlY3RvclJlbmRlcmVyXyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9WZWN0b3JMYXllci5qc1wiKS5kZWZhdWx0fSAqLyAobmV3IGN0b3IoaW1hZ2VMYXllcikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICBpZiAoIEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyICkgQ2FudmFzSW1hZ2VMYXllclJlbmRlcmVyLl9fcHJvdG9fXyA9IEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyO1xuICBDYW52YXNJbWFnZUxheWVyUmVuZGVyZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggSW50ZXJtZWRpYXRlQ2FudmFzUmVuZGVyZXIgJiYgSW50ZXJtZWRpYXRlQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlICk7XG4gIENhbnZhc0ltYWdlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDYW52YXNJbWFnZUxheWVyUmVuZGVyZXI7XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBDYW52YXNJbWFnZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uIGRpc3Bvc2VJbnRlcm5hbCAoKSB7XG4gICAgaWYgKHRoaXMudmVjdG9yUmVuZGVyZXJfKSB7XG4gICAgICB0aGlzLnZlY3RvclJlbmRlcmVyXy5kaXNwb3NlKCk7XG4gICAgfVxuICAgIEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIENhbnZhc0ltYWdlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiBnZXRJbWFnZSAoKSB7XG4gICAgcmV0dXJuICF0aGlzLmltYWdlXyA/IG51bGwgOiB0aGlzLmltYWdlXy5nZXRJbWFnZSgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgQ2FudmFzSW1hZ2VMYXllclJlbmRlcmVyLnByb3RvdHlwZS5nZXRJbWFnZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIGdldEltYWdlVHJhbnNmb3JtICgpIHtcbiAgICByZXR1cm4gdGhpcy5pbWFnZVRyYW5zZm9ybV87XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBDYW52YXNJbWFnZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLnByZXBhcmVGcmFtZSA9IGZ1bmN0aW9uIHByZXBhcmVGcmFtZSAoZnJhbWVTdGF0ZSwgbGF5ZXJTdGF0ZSkge1xuXG4gICAgdmFyIHBpeGVsUmF0aW8gPSBmcmFtZVN0YXRlLnBpeGVsUmF0aW87XG4gICAgdmFyIHNpemUgPSBmcmFtZVN0YXRlLnNpemU7XG4gICAgdmFyIHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgIHZhciB2aWV3Q2VudGVyID0gdmlld1N0YXRlLmNlbnRlcjtcbiAgICB2YXIgdmlld1Jlc29sdXRpb24gPSB2aWV3U3RhdGUucmVzb2x1dGlvbjtcblxuICAgIHZhciBpbWFnZTtcbiAgICB2YXIgaW1hZ2VMYXllciA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vbGF5ZXIvSW1hZ2UuanNcIikuZGVmYXVsdH0gKi8gKHRoaXMuZ2V0TGF5ZXIoKSk7XG4gICAgdmFyIGltYWdlU291cmNlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9zb3VyY2UvSW1hZ2UuanNcIikuZGVmYXVsdH0gKi8gKGltYWdlTGF5ZXIuZ2V0U291cmNlKCkpO1xuXG4gICAgdmFyIGhpbnRzID0gZnJhbWVTdGF0ZS52aWV3SGludHM7XG5cbiAgICB2YXIgdmVjdG9yUmVuZGVyZXIgPSB0aGlzLnZlY3RvclJlbmRlcmVyXztcbiAgICB2YXIgcmVuZGVyZWRFeHRlbnQgPSBmcmFtZVN0YXRlLmV4dGVudDtcbiAgICBpZiAoIXZlY3RvclJlbmRlcmVyICYmIGxheWVyU3RhdGUuZXh0ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJlbmRlcmVkRXh0ZW50ID0gZ2V0SW50ZXJzZWN0aW9uKHJlbmRlcmVkRXh0ZW50LCBsYXllclN0YXRlLmV4dGVudCk7XG4gICAgfVxuXG4gICAgaWYgKCFoaW50c1tWaWV3SGludC5BTklNQVRJTkddICYmICFoaW50c1tWaWV3SGludC5JTlRFUkFDVElOR10gJiZcbiAgICAgICAgIWlzRW1wdHkocmVuZGVyZWRFeHRlbnQpKSB7XG4gICAgICB2YXIgcHJvamVjdGlvbiA9IHZpZXdTdGF0ZS5wcm9qZWN0aW9uO1xuICAgICAgaWYgKCFFTkFCTEVfUkFTVEVSX1JFUFJPSkVDVElPTikge1xuICAgICAgICB2YXIgc291cmNlUHJvamVjdGlvbiA9IGltYWdlU291cmNlLmdldFByb2plY3Rpb24oKTtcbiAgICAgICAgaWYgKHNvdXJjZVByb2plY3Rpb24pIHtcbiAgICAgICAgICBwcm9qZWN0aW9uID0gc291cmNlUHJvamVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIHNraXBwZWRGZWF0dXJlcyA9IHRoaXMuc2tpcHBlZEZlYXR1cmVzXztcbiAgICAgIGlmICh2ZWN0b3JSZW5kZXJlcikge1xuICAgICAgICB2YXIgY29udGV4dCA9IHZlY3RvclJlbmRlcmVyLmNvbnRleHQ7XG4gICAgICAgIHZhciBpbWFnZUZyYW1lU3RhdGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSAqLyAoYXNzaWduKHt9LCBmcmFtZVN0YXRlLCB7XG4gICAgICAgICAgc2l6ZTogW1xuICAgICAgICAgICAgZ2V0V2lkdGgocmVuZGVyZWRFeHRlbnQpIC8gdmlld1Jlc29sdXRpb24sXG4gICAgICAgICAgICBnZXRIZWlnaHQocmVuZGVyZWRFeHRlbnQpIC8gdmlld1Jlc29sdXRpb25cbiAgICAgICAgICBdLFxuICAgICAgICAgIHZpZXdTdGF0ZTogLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9WaWV3LmpzXCIpLlN0YXRlfSAqLyAoYXNzaWduKHt9LCBmcmFtZVN0YXRlLnZpZXdTdGF0ZSwge1xuICAgICAgICAgICAgcm90YXRpb246IDBcbiAgICAgICAgICB9KSlcbiAgICAgICAgfSkpO1xuICAgICAgICB2YXIgbmV3U2tpcHBlZEZlYXR1cmVzID0gT2JqZWN0LmtleXMoaW1hZ2VGcmFtZVN0YXRlLnNraXBwZWRGZWF0dXJlVWlkcykuc29ydCgpO1xuICAgICAgICBpbWFnZSA9IG5ldyBJbWFnZUNhbnZhcyhyZW5kZXJlZEV4dGVudCwgdmlld1Jlc29sdXRpb24sIHBpeGVsUmF0aW8sIGNvbnRleHQuY2FudmFzLCBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICAgIGlmICh2ZWN0b3JSZW5kZXJlci5wcmVwYXJlRnJhbWUoaW1hZ2VGcmFtZVN0YXRlLCBsYXllclN0YXRlKSAmJlxuICAgICAgICAgICAgICAodmVjdG9yUmVuZGVyZXIucmVwbGF5R3JvdXBDaGFuZ2VkIHx8XG4gICAgICAgICAgICAgICFlcXVhbHMoc2tpcHBlZEZlYXR1cmVzLCBuZXdTa2lwcGVkRmVhdHVyZXMpKSkge1xuICAgICAgICAgICAgY29udGV4dC5jYW52YXMud2lkdGggPSBpbWFnZUZyYW1lU3RhdGUuc2l6ZVswXSAqIHBpeGVsUmF0aW87XG4gICAgICAgICAgICBjb250ZXh0LmNhbnZhcy5oZWlnaHQgPSBpbWFnZUZyYW1lU3RhdGUuc2l6ZVsxXSAqIHBpeGVsUmF0aW87XG4gICAgICAgICAgICB2ZWN0b3JSZW5kZXJlci5jb21wb3NlKGNvbnRleHQsIGltYWdlRnJhbWVTdGF0ZSwgbGF5ZXJTdGF0ZSk7XG4gICAgICAgICAgICBza2lwcGVkRmVhdHVyZXMgPSBuZXdTa2lwcGVkRmVhdHVyZXM7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbWFnZSA9IGltYWdlU291cmNlLmdldEltYWdlKFxuICAgICAgICAgIHJlbmRlcmVkRXh0ZW50LCB2aWV3UmVzb2x1dGlvbiwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbik7XG4gICAgICB9XG4gICAgICBpZiAoaW1hZ2UgJiYgdGhpcy5sb2FkSW1hZ2UoaW1hZ2UpKSB7XG4gICAgICAgIHRoaXMuaW1hZ2VfID0gaW1hZ2U7XG4gICAgICAgIHRoaXMuc2tpcHBlZEZlYXR1cmVzXyA9IHNraXBwZWRGZWF0dXJlcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5pbWFnZV8pIHtcbiAgICAgIGltYWdlID0gdGhpcy5pbWFnZV87XG4gICAgICB2YXIgaW1hZ2VFeHRlbnQgPSBpbWFnZS5nZXRFeHRlbnQoKTtcbiAgICAgIHZhciBpbWFnZVJlc29sdXRpb24gPSBpbWFnZS5nZXRSZXNvbHV0aW9uKCk7XG4gICAgICB2YXIgaW1hZ2VQaXhlbFJhdGlvID0gaW1hZ2UuZ2V0UGl4ZWxSYXRpbygpO1xuICAgICAgdmFyIHNjYWxlID0gcGl4ZWxSYXRpbyAqIGltYWdlUmVzb2x1dGlvbiAvXG4gICAgICAgICAgKHZpZXdSZXNvbHV0aW9uICogaW1hZ2VQaXhlbFJhdGlvKTtcbiAgICAgIHZhciB0cmFuc2Zvcm0gPSBjb21wb3NlVHJhbnNmb3JtKHRoaXMuaW1hZ2VUcmFuc2Zvcm1fLFxuICAgICAgICBwaXhlbFJhdGlvICogc2l6ZVswXSAvIDIsIHBpeGVsUmF0aW8gKiBzaXplWzFdIC8gMixcbiAgICAgICAgc2NhbGUsIHNjYWxlLFxuICAgICAgICAwLFxuICAgICAgICBpbWFnZVBpeGVsUmF0aW8gKiAoaW1hZ2VFeHRlbnRbMF0gLSB2aWV3Q2VudGVyWzBdKSAvIGltYWdlUmVzb2x1dGlvbixcbiAgICAgICAgaW1hZ2VQaXhlbFJhdGlvICogKHZpZXdDZW50ZXJbMV0gLSBpbWFnZUV4dGVudFszXSkgLyBpbWFnZVJlc29sdXRpb24pO1xuICAgICAgY29tcG9zZVRyYW5zZm9ybSh0aGlzLmNvb3JkaW5hdGVUb0NhbnZhc1BpeGVsVHJhbnNmb3JtLFxuICAgICAgICBwaXhlbFJhdGlvICogc2l6ZVswXSAvIDIgLSB0cmFuc2Zvcm1bNF0sIHBpeGVsUmF0aW8gKiBzaXplWzFdIC8gMiAtIHRyYW5zZm9ybVs1XSxcbiAgICAgICAgcGl4ZWxSYXRpbyAvIHZpZXdSZXNvbHV0aW9uLCAtcGl4ZWxSYXRpbyAvIHZpZXdSZXNvbHV0aW9uLFxuICAgICAgICAwLFxuICAgICAgICAtdmlld0NlbnRlclswXSwgLXZpZXdDZW50ZXJbMV0pO1xuXG4gICAgICB0aGlzLnJlbmRlcmVkUmVzb2x1dGlvbiA9IGltYWdlUmVzb2x1dGlvbiAqIHBpeGVsUmF0aW8gLyBpbWFnZVBpeGVsUmF0aW87XG4gICAgfVxuXG4gICAgcmV0dXJuICEhdGhpcy5pbWFnZV87XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBDYW52YXNJbWFnZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLmZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlID0gZnVuY3Rpb24gZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUgKGNvb3JkaW5hdGUsIGZyYW1lU3RhdGUsIGhpdFRvbGVyYW5jZSwgY2FsbGJhY2spIHtcbiAgICBpZiAodGhpcy52ZWN0b3JSZW5kZXJlcl8pIHtcbiAgICAgIHJldHVybiB0aGlzLnZlY3RvclJlbmRlcmVyXy5mb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZShjb29yZGluYXRlLCBmcmFtZVN0YXRlLCBoaXRUb2xlcmFuY2UsIGNhbGxiYWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIEludGVybWVkaWF0ZUNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5mb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZS5jYWxsKHRoaXMsIGNvb3JkaW5hdGUsIGZyYW1lU3RhdGUsIGhpdFRvbGVyYW5jZSwgY2FsbGJhY2spO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gQ2FudmFzSW1hZ2VMYXllclJlbmRlcmVyO1xufShJbnRlcm1lZGlhdGVDYW52YXNSZW5kZXJlcikpO1xuXG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHRoaXMgcmVuZGVyZXIgaGFuZGxlcyB0aGUgcHJvdmlkZWQgbGF5ZXIuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IGxheWVyIFRoZSBjYW5kaWRhdGUgbGF5ZXIuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgcmVuZGVyZXIgY2FuIHJlbmRlciB0aGUgbGF5ZXIuXG4gKi9cbkNhbnZhc0ltYWdlTGF5ZXJSZW5kZXJlclsnaGFuZGxlcyddID0gZnVuY3Rpb24obGF5ZXIpIHtcbiAgcmV0dXJuIGxheWVyLmdldFR5cGUoKSA9PT0gTGF5ZXJUeXBlLklNQUdFIHx8XG4gICAgbGF5ZXIuZ2V0VHlwZSgpID09PSBMYXllclR5cGUuVkVDVE9SICYmXG4gICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9sYXllci9WZWN0b3IuanNcIikuZGVmYXVsdH0gKi8gKGxheWVyKS5nZXRSZW5kZXJNb2RlKCkgPT09IFZlY3RvclJlbmRlclR5cGUuSU1BR0U7XG59O1xuXG5cbi8qKlxuICogQ3JlYXRlIGEgbGF5ZXIgcmVuZGVyZXIuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0fSBtYXBSZW5kZXJlciBUaGUgbWFwIHJlbmRlcmVyLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0fSBsYXllciBUaGUgbGF5ZXIgdG8gYmUgcmVuZGVyZXJkLlxuICogQHJldHVybiB7Q2FudmFzSW1hZ2VMYXllclJlbmRlcmVyfSBUaGUgbGF5ZXIgcmVuZGVyZXIuXG4gKi9cbkNhbnZhc0ltYWdlTGF5ZXJSZW5kZXJlclsnY3JlYXRlJ10gPSBmdW5jdGlvbihtYXBSZW5kZXJlciwgbGF5ZXIpIHtcbiAgcmV0dXJuIG5ldyBDYW52YXNJbWFnZUxheWVyUmVuZGVyZXIoLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9sYXllci9JbWFnZS5qc1wiKS5kZWZhdWx0fSAqLyAobGF5ZXIpKTtcbn07XG5cblxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzSW1hZ2VMYXllclJlbmRlcmVyO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbWFnZUxheWVyLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9UZXh0UGxhY2VtZW50XG4gKi9cblxuLyoqXG4gKiBUZXh0IHBsYWNlbWVudC4gT25lIG9mIGAncG9pbnQnYCwgYCdsaW5lJ2AuIERlZmF1bHQgaXMgYCdwb2ludCdgLiBOb3RlIHRoYXRcbiAqIGAnbGluZSdgIHJlcXVpcmVzIHRoZSB1bmRlcmx5aW5nIGdlb21ldHJ5IHRvIGJlIGEge0BsaW5rIG1vZHVsZTpvbC9nZW9tL0xpbmVTdHJpbmd+TGluZVN0cmluZ30sXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2dlb20vUG9seWdvbn5Qb2x5Z29ufSwge0BsaW5rIG1vZHVsZTpvbC9nZW9tL011bHRpTGluZVN0cmluZ35NdWx0aUxpbmVTdHJpbmd9IG9yXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2dlb20vTXVsdGlQb2x5Z29ufk11bHRpUG9seWdvbn0uXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIFBPSU5UOiAncG9pbnQnLFxuICBMSU5FOiAnbGluZSdcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRleHRQbGFjZW1lbnQuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2xheWVyL1ZlY3RvclRpbGVSZW5kZXJUeXBlXG4gKi9cblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICogUmVuZGVyIG1vZGUgZm9yIHZlY3RvciB0aWxlczpcbiAqICAqIGAnaW1hZ2UnYDogVmVjdG9yIHRpbGVzIGFyZSByZW5kZXJlZCBhcyBpbWFnZXMuIEdyZWF0IHBlcmZvcm1hbmNlLCBidXRcbiAqICAgIHBvaW50IHN5bWJvbHMgYW5kIHRleHRzIGFyZSBhbHdheXMgcm90YXRlZCB3aXRoIHRoZSB2aWV3IGFuZCBwaXhlbHMgYXJlXG4gKiAgICBzY2FsZWQgZHVyaW5nIHpvb20gYW5pbWF0aW9ucy5cbiAqICAqIGAnaHlicmlkJ2A6IFBvbHlnb24gYW5kIGxpbmUgZWxlbWVudHMgYXJlIHJlbmRlcmVkIGFzIGltYWdlcywgc28gcGl4ZWxzXG4gKiAgICBhcmUgc2NhbGVkIGR1cmluZyB6b29tIGFuaW1hdGlvbnMuIFBvaW50IHN5bWJvbHMgYW5kIHRleHRzIGFyZSBhY2N1cmF0ZWx5XG4gKiAgICByZW5kZXJlZCBhcyB2ZWN0b3JzIGFuZCBjYW4gc3RheSB1cHJpZ2h0IG9uIHJvdGF0ZWQgdmlld3MuXG4gKiAgKiBgJ3ZlY3RvcidgOiBWZWN0b3IgdGlsZXMgYXJlIHJlbmRlcmVkIGFzIHZlY3RvcnMuIE1vc3QgYWNjdXJhdGUgcmVuZGVyaW5nXG4gKiAgICBldmVuIGR1cmluZyBhbmltYXRpb25zLCBidXQgc2xvd2VyIHBlcmZvcm1hbmNlIHRoYW4gdGhlIG90aGVyIG9wdGlvbnMuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgSU1BR0U6ICdpbWFnZScsXG4gIEhZQlJJRDogJ2h5YnJpZCcsXG4gIFZFQ1RPUjogJ3ZlY3Rvcidcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZlY3RvclRpbGVSZW5kZXJUeXBlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9UaWxlUXVldWVcbiAqL1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuL1RpbGVTdGF0ZS5qcyc7XG5pbXBvcnQge2xpc3RlbiwgdW5saXN0ZW59IGZyb20gJy4vZXZlbnRzLmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBQcmlvcml0eVF1ZXVlIGZyb20gJy4vc3RydWN0cy9Qcmlvcml0eVF1ZXVlLmpzJztcblxuXG4vKipcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihpbXBvcnQoXCIuL1RpbGUuanNcIikuZGVmYXVsdCwgc3RyaW5nLCBpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSwgbnVtYmVyKTogbnVtYmVyfSBQcmlvcml0eUZ1bmN0aW9uXG4gKi9cblxuXG52YXIgVGlsZVF1ZXVlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoUHJpb3JpdHlRdWV1ZSkge1xuICBmdW5jdGlvbiBUaWxlUXVldWUodGlsZVByaW9yaXR5RnVuY3Rpb24sIHRpbGVDaGFuZ2VDYWxsYmFjaykge1xuXG4gICAgUHJpb3JpdHlRdWV1ZS5jYWxsKFxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge0FycmF5fSBlbGVtZW50IEVsZW1lbnQuXG4gICAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFByaW9yaXR5LlxuICAgICAgICovXG4gICAgICB0aGlzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aWxlUHJpb3JpdHlGdW5jdGlvbi5hcHBseShudWxsLCBlbGVtZW50KTtcbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7QXJyYXl9IGVsZW1lbnQgRWxlbWVudC5cbiAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gS2V5LlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiAoLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuZGVmYXVsdH0gKi8gKGVsZW1lbnRbMF0pLmdldEtleSgpKTtcbiAgICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oKTogP31cbiAgICAgKi9cbiAgICB0aGlzLnRpbGVDaGFuZ2VDYWxsYmFja18gPSB0aWxlQ2hhbmdlQ2FsbGJhY2s7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50aWxlc0xvYWRpbmdfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLGJvb2xlYW4+fVxuICAgICAqL1xuICAgIHRoaXMudGlsZXNMb2FkaW5nS2V5c18gPSB7fTtcblxuICB9XG5cbiAgaWYgKCBQcmlvcml0eVF1ZXVlICkgVGlsZVF1ZXVlLl9fcHJvdG9fXyA9IFByaW9yaXR5UXVldWU7XG4gIFRpbGVRdWV1ZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBQcmlvcml0eVF1ZXVlICYmIFByaW9yaXR5UXVldWUucHJvdG90eXBlICk7XG4gIFRpbGVRdWV1ZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUaWxlUXVldWU7XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBUaWxlUXVldWUucHJvdG90eXBlLmVucXVldWUgPSBmdW5jdGlvbiBlbnF1ZXVlIChlbGVtZW50KSB7XG4gICAgdmFyIGFkZGVkID0gUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuZW5xdWV1ZS5jYWxsKHRoaXMsIGVsZW1lbnQpO1xuICAgIGlmIChhZGRlZCkge1xuICAgICAgdmFyIHRpbGUgPSBlbGVtZW50WzBdO1xuICAgICAgbGlzdGVuKHRpbGUsIEV2ZW50VHlwZS5DSEFOR0UsIHRoaXMuaGFuZGxlVGlsZUNoYW5nZSwgdGhpcyk7XG4gICAgfVxuICAgIHJldHVybiBhZGRlZDtcbiAgfTtcblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfSBOdW1iZXIgb2YgdGlsZXMgbG9hZGluZy5cbiAgICovXG4gIFRpbGVRdWV1ZS5wcm90b3R5cGUuZ2V0VGlsZXNMb2FkaW5nID0gZnVuY3Rpb24gZ2V0VGlsZXNMb2FkaW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy50aWxlc0xvYWRpbmdfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHR9IGV2ZW50IEV2ZW50LlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBUaWxlUXVldWUucHJvdG90eXBlLmhhbmRsZVRpbGVDaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVUaWxlQ2hhbmdlIChldmVudCkge1xuICAgIHZhciB0aWxlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuZGVmYXVsdH0gKi8gKGV2ZW50LnRhcmdldCk7XG4gICAgdmFyIHN0YXRlID0gdGlsZS5nZXRTdGF0ZSgpO1xuICAgIGlmIChzdGF0ZSA9PT0gVGlsZVN0YXRlLkxPQURFRCB8fCBzdGF0ZSA9PT0gVGlsZVN0YXRlLkVSUk9SIHx8XG4gICAgICAgIHN0YXRlID09PSBUaWxlU3RhdGUuRU1QVFkgfHwgc3RhdGUgPT09IFRpbGVTdGF0ZS5BQk9SVCkge1xuICAgICAgdW5saXN0ZW4odGlsZSwgRXZlbnRUeXBlLkNIQU5HRSwgdGhpcy5oYW5kbGVUaWxlQ2hhbmdlLCB0aGlzKTtcbiAgICAgIHZhciB0aWxlS2V5ID0gdGlsZS5nZXRLZXkoKTtcbiAgICAgIGlmICh0aWxlS2V5IGluIHRoaXMudGlsZXNMb2FkaW5nS2V5c18pIHtcbiAgICAgICAgZGVsZXRlIHRoaXMudGlsZXNMb2FkaW5nS2V5c19bdGlsZUtleV07XG4gICAgICAgIC0tdGhpcy50aWxlc0xvYWRpbmdfO1xuICAgICAgfVxuICAgICAgdGhpcy50aWxlQ2hhbmdlQ2FsbGJhY2tfKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF4VG90YWxMb2FkaW5nIE1heGltdW0gbnVtYmVyIHRpbGVzIHRvIGxvYWQgc2ltdWx0YW5lb3VzbHkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhOZXdMb2FkcyBNYXhpbXVtIG51bWJlciBvZiBuZXcgdGlsZXMgdG8gbG9hZC5cbiAgICovXG4gIFRpbGVRdWV1ZS5wcm90b3R5cGUubG9hZE1vcmVUaWxlcyA9IGZ1bmN0aW9uIGxvYWRNb3JlVGlsZXMgKG1heFRvdGFsTG9hZGluZywgbWF4TmV3TG9hZHMpIHtcbiAgICB2YXIgbmV3TG9hZHMgPSAwO1xuICAgIHZhciBhYm9ydGVkVGlsZXMgPSBmYWxzZTtcbiAgICB2YXIgc3RhdGUsIHRpbGUsIHRpbGVLZXk7XG4gICAgd2hpbGUgKHRoaXMudGlsZXNMb2FkaW5nXyA8IG1heFRvdGFsTG9hZGluZyAmJiBuZXdMb2FkcyA8IG1heE5ld0xvYWRzICYmXG4gICAgICAgICAgIHRoaXMuZ2V0Q291bnQoKSA+IDApIHtcbiAgICAgIHRpbGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAodGhpcy5kZXF1ZXVlKClbMF0pO1xuICAgICAgdGlsZUtleSA9IHRpbGUuZ2V0S2V5KCk7XG4gICAgICBzdGF0ZSA9IHRpbGUuZ2V0U3RhdGUoKTtcbiAgICAgIGlmIChzdGF0ZSA9PT0gVGlsZVN0YXRlLkFCT1JUKSB7XG4gICAgICAgIGFib3J0ZWRUaWxlcyA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBUaWxlU3RhdGUuSURMRSAmJiAhKHRpbGVLZXkgaW4gdGhpcy50aWxlc0xvYWRpbmdLZXlzXykpIHtcbiAgICAgICAgdGhpcy50aWxlc0xvYWRpbmdLZXlzX1t0aWxlS2V5XSA9IHRydWU7XG4gICAgICAgICsrdGhpcy50aWxlc0xvYWRpbmdfO1xuICAgICAgICArK25ld0xvYWRzO1xuICAgICAgICB0aWxlLmxvYWQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5ld0xvYWRzID09PSAwICYmIGFib3J0ZWRUaWxlcykge1xuICAgICAgLy8gRG8gbm90IHN0b3AgdGhlIHJlbmRlciBsb29wIHdoZW4gYWxsIHdhbnRlZCB0aWxlcyB3ZXJlIGFib3J0ZWQgZHVlIHRvXG4gICAgICAvLyBhIHNtYWxsLCBzYXR1cmF0ZWQgdGlsZSBjYWNoZS5cbiAgICAgIHRoaXMudGlsZUNoYW5nZUNhbGxiYWNrXygpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gVGlsZVF1ZXVlO1xufShQcmlvcml0eVF1ZXVlKSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgVGlsZVF1ZXVlO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxlUXVldWUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL0tpbmV0aWNcbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEltcGxlbWVudGF0aW9uIG9mIGluZXJ0aWFsIGRlY2VsZXJhdGlvbiBmb3IgbWFwIG1vdmVtZW50LlxuICpcbiAqIEBhcGlcbiAqL1xudmFyIEtpbmV0aWMgPSBmdW5jdGlvbiBLaW5ldGljKGRlY2F5LCBtaW5WZWxvY2l0eSwgZGVsYXkpIHtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHRoaXMuZGVjYXlfID0gZGVjYXk7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICB0aGlzLm1pblZlbG9jaXR5XyA9IG1pblZlbG9jaXR5O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgdGhpcy5kZWxheV8gPSBkZWxheTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAqL1xuICB0aGlzLnBvaW50c18gPSBbXTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHRoaXMuYW5nbGVfID0gMDtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHRoaXMuaW5pdGlhbFZlbG9jaXR5XyA9IDA7XG59O1xuXG4vKipcbiAqIEZJWE1FIGVtcHR5IGRlc2NyaXB0aW9uIGZvciBqc2RvY1xuICovXG5LaW5ldGljLnByb3RvdHlwZS5iZWdpbiA9IGZ1bmN0aW9uIGJlZ2luICgpIHtcbiAgdGhpcy5wb2ludHNfLmxlbmd0aCA9IDA7XG4gIHRoaXMuYW5nbGVfID0gMDtcbiAgdGhpcy5pbml0aWFsVmVsb2NpdHlfID0gMDtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKi9cbktpbmV0aWMucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoeCwgeSkge1xuICB0aGlzLnBvaW50c18ucHVzaCh4LCB5LCBEYXRlLm5vdygpKTtcbn07XG5cbi8qKlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB3ZSBzaG91bGQgZG8ga2luZXRpYyBhbmltYXRpb24uXG4gKi9cbktpbmV0aWMucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIGVuZCAoKSB7XG4gIGlmICh0aGlzLnBvaW50c18ubGVuZ3RoIDwgNikge1xuICAgIC8vIGF0IGxlYXN0IDIgcG9pbnRzIGFyZSByZXF1aXJlZCAoaS5lLiB0aGVyZSBtdXN0IGJlIGF0IGxlYXN0IDYgZWxlbWVudHNcbiAgICAvLyBpbiB0aGUgYXJyYXkpXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBkZWxheSA9IERhdGUubm93KCkgLSB0aGlzLmRlbGF5XztcbiAgdmFyIGxhc3RJbmRleCA9IHRoaXMucG9pbnRzXy5sZW5ndGggLSAzO1xuICBpZiAodGhpcy5wb2ludHNfW2xhc3RJbmRleCArIDJdIDwgZGVsYXkpIHtcbiAgICAvLyB0aGUgbGFzdCB0cmFja2VkIHBvaW50IGlzIHRvbyBvbGQsIHdoaWNoIG1lYW5zIHRoYXQgdGhlIHVzZXIgc3RvcHBlZFxuICAgIC8vIHBhbm5pbmcgYmVmb3JlIHJlbGVhc2luZyB0aGUgbWFwXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gZ2V0IHRoZSBmaXJzdCBwb2ludCB3aGljaCBzdGlsbCBmYWxscyBpbnRvIHRoZSBkZWxheSB0aW1lXG4gIHZhciBmaXJzdEluZGV4ID0gbGFzdEluZGV4IC0gMztcbiAgd2hpbGUgKGZpcnN0SW5kZXggPiAwICYmIHRoaXMucG9pbnRzX1tmaXJzdEluZGV4ICsgMl0gPiBkZWxheSkge1xuICAgIGZpcnN0SW5kZXggLT0gMztcbiAgfVxuXG4gIHZhciBkdXJhdGlvbiA9IHRoaXMucG9pbnRzX1tsYXN0SW5kZXggKyAyXSAtIHRoaXMucG9pbnRzX1tmaXJzdEluZGV4ICsgMl07XG4gIC8vIHdlIGRvbid0IHdhbnQgYSBkdXJhdGlvbiBvZiAwIChkaXZpZGUgYnkgemVybylcbiAgLy8gd2UgYWxzbyBtYWtlIHN1cmUgdGhlIHVzZXIgcGFubmVkIGZvciBhIGR1cmF0aW9uIG9mIGF0IGxlYXN0IG9uZSBmcmFtZVxuICAvLyAoMS82MHMpIHRvIGNvbXB1dGUgc2FuZSBkaXNwbGFjZW1lbnQgdmFsdWVzXG4gIGlmIChkdXJhdGlvbiA8IDEwMDAgLyA2MCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBkeCA9IHRoaXMucG9pbnRzX1tsYXN0SW5kZXhdIC0gdGhpcy5wb2ludHNfW2ZpcnN0SW5kZXhdO1xuICB2YXIgZHkgPSB0aGlzLnBvaW50c19bbGFzdEluZGV4ICsgMV0gLSB0aGlzLnBvaW50c19bZmlyc3RJbmRleCArIDFdO1xuICB0aGlzLmFuZ2xlXyA9IE1hdGguYXRhbjIoZHksIGR4KTtcbiAgdGhpcy5pbml0aWFsVmVsb2NpdHlfID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KSAvIGR1cmF0aW9uO1xuICByZXR1cm4gdGhpcy5pbml0aWFsVmVsb2NpdHlfID4gdGhpcy5taW5WZWxvY2l0eV87XG59O1xuXG4vKipcbiAqIEByZXR1cm4ge251bWJlcn0gVG90YWwgZGlzdGFuY2UgdHJhdmVsbGVkIChwaXhlbHMpLlxuICovXG5LaW5ldGljLnByb3RvdHlwZS5nZXREaXN0YW5jZSA9IGZ1bmN0aW9uIGdldERpc3RhbmNlICgpIHtcbiAgcmV0dXJuICh0aGlzLm1pblZlbG9jaXR5XyAtIHRoaXMuaW5pdGlhbFZlbG9jaXR5XykgLyB0aGlzLmRlY2F5Xztcbn07XG5cbi8qKlxuICogQHJldHVybiB7bnVtYmVyfSBBbmdsZSBvZiB0aGUga2luZXRpYyBwYW5uaW5nIGFuaW1hdGlvbiAocmFkaWFucykuXG4gKi9cbktpbmV0aWMucHJvdG90eXBlLmdldEFuZ2xlID0gZnVuY3Rpb24gZ2V0QW5nbGUgKCkge1xuICByZXR1cm4gdGhpcy5hbmdsZV87XG59O1xuXG5leHBvcnQgZGVmYXVsdCBLaW5ldGljO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1LaW5ldGljLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9Qcm9wZXJ0eVxuICovXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBBQ1RJVkU6ICdhY3RpdmUnXG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qcm9wZXJ0eS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb25cbiAqL1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi4vT2JqZWN0LmpzJztcbmltcG9ydCB7ZWFzZU91dCwgbGluZWFyfSBmcm9tICcuLi9lYXNpbmcuanMnO1xuaW1wb3J0IEludGVyYWN0aW9uUHJvcGVydHkgZnJvbSAnLi9Qcm9wZXJ0eS5qcyc7XG5pbXBvcnQge2NsYW1wfSBmcm9tICcuLi9tYXRoLmpzJztcblxuXG4vKipcbiAqIE9iamVjdCBsaXRlcmFsIHdpdGggY29uZmlnIG9wdGlvbnMgZm9yIGludGVyYWN0aW9ucy5cbiAqIEB0eXBlZGVmIHtPYmplY3R9IEludGVyYWN0aW9uT3B0aW9uc1xuICogQHByb3BlcnR5IHtmdW5jdGlvbihpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdCk6Ym9vbGVhbn0gaGFuZGxlRXZlbnRcbiAqIE1ldGhvZCBjYWxsZWQgYnkgdGhlIG1hcCB0byBub3RpZnkgdGhlIGludGVyYWN0aW9uIHRoYXQgYSBicm93c2VyIGV2ZW50IHdhc1xuICogZGlzcGF0Y2hlZCB0byB0aGUgbWFwLiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBwcm9wYWdhdGlvbiBvZlxuICogdGhlIGV2ZW50IHRvIG90aGVyIGludGVyYWN0aW9ucyBpbiB0aGUgbWFwJ3MgaW50ZXJhY3Rpb25zIGNoYWluIHdpbGwgYmVcbiAqIHByZXZlbnRlZCAodGhpcyBpbmNsdWRlcyBmdW5jdGlvbnMgd2l0aCBubyBleHBsaWNpdCByZXR1cm4pLlxuICovXG5cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBYnN0cmFjdCBiYXNlIGNsYXNzOyBub3JtYWxseSBvbmx5IHVzZWQgZm9yIGNyZWF0aW5nIHN1YmNsYXNzZXMgYW5kIG5vdFxuICogaW5zdGFudGlhdGVkIGluIGFwcHMuXG4gKiBVc2VyIGFjdGlvbnMgdGhhdCBjaGFuZ2UgdGhlIHN0YXRlIG9mIHRoZSBtYXAuIFNvbWUgYXJlIHNpbWlsYXIgdG8gY29udHJvbHMsXG4gKiBidXQgYXJlIG5vdCBhc3NvY2lhdGVkIHdpdGggYSBET00gZWxlbWVudC5cbiAqIEZvciBleGFtcGxlLCB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0tleWJvYXJkWm9vbX5LZXlib2FyZFpvb219IGlzXG4gKiBmdW5jdGlvbmFsbHkgdGhlIHNhbWUgYXMge0BsaW5rIG1vZHVsZTpvbC9jb250cm9sL1pvb21+Wm9vbX0sIGJ1dCB0cmlnZ2VyZWRcbiAqIGJ5IGEga2V5Ym9hcmQgZXZlbnQgbm90IGEgYnV0dG9uIGVsZW1lbnQgZXZlbnQuXG4gKiBBbHRob3VnaCBpbnRlcmFjdGlvbnMgZG8gbm90IGhhdmUgYSBET00gZWxlbWVudCwgc29tZSBvZiB0aGVtIGRvIHJlbmRlclxuICogdmVjdG9ycyBhbmQgc28gYXJlIHZpc2libGUgb24gdGhlIHNjcmVlbi5cbiAqIEBhcGlcbiAqL1xudmFyIEludGVyYWN0aW9uID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQmFzZU9iamVjdCkge1xuICBmdW5jdGlvbiBJbnRlcmFjdGlvbihvcHRpb25zKSB7XG4gICAgQmFzZU9iamVjdC5jYWxsKHRoaXMpO1xuXG4gICAgaWYgKG9wdGlvbnMuaGFuZGxlRXZlbnQpIHtcbiAgICAgIHRoaXMuaGFuZGxlRXZlbnQgPSBvcHRpb25zLmhhbmRsZUV2ZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMubWFwXyA9IG51bGw7XG5cbiAgICB0aGlzLnNldEFjdGl2ZSh0cnVlKTtcbiAgfVxuXG4gIGlmICggQmFzZU9iamVjdCApIEludGVyYWN0aW9uLl9fcHJvdG9fXyA9IEJhc2VPYmplY3Q7XG4gIEludGVyYWN0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEJhc2VPYmplY3QgJiYgQmFzZU9iamVjdC5wcm90b3R5cGUgKTtcbiAgSW50ZXJhY3Rpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSW50ZXJhY3Rpb247XG5cbiAgLyoqXG4gICAqIFJldHVybiB3aGV0aGVyIHRoZSBpbnRlcmFjdGlvbiBpcyBjdXJyZW50bHkgYWN0aXZlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGludGVyYWN0aW9uIGlzIGFjdGl2ZSwgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIEludGVyYWN0aW9uLnByb3RvdHlwZS5nZXRBY3RpdmUgPSBmdW5jdGlvbiBnZXRBY3RpdmUgKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge2Jvb2xlYW59ICovICh0aGlzLmdldChJbnRlcmFjdGlvblByb3BlcnR5LkFDVElWRSkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1hcCBhc3NvY2lhdGVkIHdpdGggdGhpcyBpbnRlcmFjdGlvbi5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IE1hcC5cbiAgICogQGFwaVxuICAgKi9cbiAgSW50ZXJhY3Rpb24ucHJvdG90eXBlLmdldE1hcCA9IGZ1bmN0aW9uIGdldE1hcCAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwXztcbiAgfTtcblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnQgbWFwIGJyb3dzZXIgZXZlbnR9LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IGBmYWxzZWAgdG8gc3RvcCBldmVudCBwcm9wYWdhdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgSW50ZXJhY3Rpb24ucHJvdG90eXBlLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24gaGFuZGxlRXZlbnQgKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBY3RpdmF0ZSBvciBkZWFjdGl2YXRlIHRoZSBpbnRlcmFjdGlvbi5cbiAgICogQHBhcmFtIHtib29sZWFufSBhY3RpdmUgQWN0aXZlLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBJbnRlcmFjdGlvbi5wcm90b3R5cGUuc2V0QWN0aXZlID0gZnVuY3Rpb24gc2V0QWN0aXZlIChhY3RpdmUpIHtcbiAgICB0aGlzLnNldChJbnRlcmFjdGlvblByb3BlcnR5LkFDVElWRSwgYWN0aXZlKTtcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlIHRoZSBpbnRlcmFjdGlvbiBmcm9tIGl0cyBjdXJyZW50IG1hcCBhbmQgYXR0YWNoIGl0IHRvIHRoZSBuZXcgbWFwLlxuICAgKiBTdWJjbGFzc2VzIG1heSBzZXQgdXAgZXZlbnQgaGFuZGxlcnMgdG8gZ2V0IG5vdGlmaWVkIGFib3V0IGNoYW5nZXMgdG9cbiAgICogdGhlIG1hcCBoZXJlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fSBtYXAgTWFwLlxuICAgKi9cbiAgSW50ZXJhY3Rpb24ucHJvdG90eXBlLnNldE1hcCA9IGZ1bmN0aW9uIHNldE1hcCAobWFwKSB7XG4gICAgdGhpcy5tYXBfID0gbWFwO1xuICB9O1xuXG4gIHJldHVybiBJbnRlcmFjdGlvbjtcbn0oQmFzZU9iamVjdCkpO1xuXG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9WaWV3LmpzXCIpLmRlZmF1bHR9IHZpZXcgVmlldy5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBkZWx0YSBEZWx0YS5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2R1cmF0aW9uIER1cmF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFuKHZpZXcsIGRlbHRhLCBvcHRfZHVyYXRpb24pIHtcbiAgdmFyIGN1cnJlbnRDZW50ZXIgPSB2aWV3LmdldENlbnRlcigpO1xuICBpZiAoY3VycmVudENlbnRlcikge1xuICAgIHZhciBjZW50ZXIgPSB2aWV3LmNvbnN0cmFpbkNlbnRlcihcbiAgICAgIFtjdXJyZW50Q2VudGVyWzBdICsgZGVsdGFbMF0sIGN1cnJlbnRDZW50ZXJbMV0gKyBkZWx0YVsxXV0pO1xuICAgIGlmIChvcHRfZHVyYXRpb24pIHtcbiAgICAgIHZpZXcuYW5pbWF0ZSh7XG4gICAgICAgIGR1cmF0aW9uOiBvcHRfZHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogbGluZWFyLFxuICAgICAgICBjZW50ZXI6IGNlbnRlclxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZpZXcuc2V0Q2VudGVyKGNlbnRlcik7XG4gICAgfVxuICB9XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL1ZpZXcuanNcIikuZGVmYXVsdH0gdmlldyBWaWV3LlxuICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPX0gb3B0X2FuY2hvciBBbmNob3IgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2R1cmF0aW9uIER1cmF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKHZpZXcsIHJvdGF0aW9uLCBvcHRfYW5jaG9yLCBvcHRfZHVyYXRpb24pIHtcbiAgcm90YXRpb24gPSB2aWV3LmNvbnN0cmFpblJvdGF0aW9uKHJvdGF0aW9uLCAwKTtcbiAgcm90YXRlV2l0aG91dENvbnN0cmFpbnRzKHZpZXcsIHJvdGF0aW9uLCBvcHRfYW5jaG9yLCBvcHRfZHVyYXRpb24pO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9WaWV3LmpzXCIpLmRlZmF1bHR9IHZpZXcgVmlldy5cbiAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcm90YXRpb24gUm90YXRpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT19IG9wdF9hbmNob3IgQW5jaG9yIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9kdXJhdGlvbiBEdXJhdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVdpdGhvdXRDb25zdHJhaW50cyh2aWV3LCByb3RhdGlvbiwgb3B0X2FuY2hvciwgb3B0X2R1cmF0aW9uKSB7XG4gIGlmIChyb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIGN1cnJlbnRSb3RhdGlvbiA9IHZpZXcuZ2V0Um90YXRpb24oKTtcbiAgICB2YXIgY3VycmVudENlbnRlciA9IHZpZXcuZ2V0Q2VudGVyKCk7XG4gICAgaWYgKGN1cnJlbnRSb3RhdGlvbiAhPT0gdW5kZWZpbmVkICYmIGN1cnJlbnRDZW50ZXIgJiYgb3B0X2R1cmF0aW9uID4gMCkge1xuICAgICAgdmlldy5hbmltYXRlKHtcbiAgICAgICAgcm90YXRpb246IHJvdGF0aW9uLFxuICAgICAgICBhbmNob3I6IG9wdF9hbmNob3IsXG4gICAgICAgIGR1cmF0aW9uOiBvcHRfZHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogZWFzZU91dFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZpZXcucm90YXRlKHJvdGF0aW9uLCBvcHRfYW5jaG9yKTtcbiAgICB9XG4gIH1cbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVmlldy5qc1wiKS5kZWZhdWx0fSB2aWV3IFZpZXcuXG4gKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHJlc29sdXRpb24gUmVzb2x1dGlvbiB0byBnbyB0by5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPX0gb3B0X2FuY2hvciBBbmNob3IgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2R1cmF0aW9uIER1cmF0aW9uLlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfZGlyZWN0aW9uIFpvb21pbmcgZGlyZWN0aW9uOyA+IDAgaW5kaWNhdGVzXG4gKiAgICAgem9vbWluZyBvdXQsIGluIHdoaWNoIGNhc2UgdGhlIGNvbnN0cmFpbnRzIHN5c3RlbSB3aWxsIHNlbGVjdFxuICogICAgIHRoZSBsYXJnZXN0IG5lYXJlc3QgcmVzb2x1dGlvbjsgPCAwIGluZGljYXRlcyB6b29taW5nIGluLCBpblxuICogICAgIHdoaWNoIGNhc2UgdGhlIGNvbnN0cmFpbnRzIHN5c3RlbSB3aWxsIHNlbGVjdCB0aGUgc21hbGxlc3RcbiAqICAgICBuZWFyZXN0IHJlc29sdXRpb247ID09IDAgaW5kaWNhdGVzIHRoYXQgdGhlIHpvb21pbmcgZGlyZWN0aW9uXG4gKiAgICAgaXMgdW5rbm93bi9ub3QgcmVsZXZhbnQsIGluIHdoaWNoIGNhc2UgdGhlIGNvbnN0cmFpbnRzIHN5c3RlbVxuICogICAgIHdpbGwgc2VsZWN0IHRoZSBuZWFyZXN0IHJlc29sdXRpb24uIElmIG5vdCBkZWZpbmVkIDAgaXNcbiAqICAgICBhc3N1bWVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gem9vbSh2aWV3LCByZXNvbHV0aW9uLCBvcHRfYW5jaG9yLCBvcHRfZHVyYXRpb24sIG9wdF9kaXJlY3Rpb24pIHtcbiAgcmVzb2x1dGlvbiA9IHZpZXcuY29uc3RyYWluUmVzb2x1dGlvbihyZXNvbHV0aW9uLCAwLCBvcHRfZGlyZWN0aW9uKTtcbiAgem9vbVdpdGhvdXRDb25zdHJhaW50cyh2aWV3LCByZXNvbHV0aW9uLCBvcHRfYW5jaG9yLCBvcHRfZHVyYXRpb24pO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9WaWV3LmpzXCIpLmRlZmF1bHR9IHZpZXcgVmlldy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBEZWx0YSBmcm9tIHByZXZpb3VzIHpvb20gbGV2ZWwuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT19IG9wdF9hbmNob3IgQW5jaG9yIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9kdXJhdGlvbiBEdXJhdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHpvb21CeURlbHRhKHZpZXcsIGRlbHRhLCBvcHRfYW5jaG9yLCBvcHRfZHVyYXRpb24pIHtcbiAgdmFyIGN1cnJlbnRSZXNvbHV0aW9uID0gdmlldy5nZXRSZXNvbHV0aW9uKCk7XG4gIHZhciByZXNvbHV0aW9uID0gdmlldy5jb25zdHJhaW5SZXNvbHV0aW9uKGN1cnJlbnRSZXNvbHV0aW9uLCBkZWx0YSwgMCk7XG5cbiAgaWYgKHJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciByZXNvbHV0aW9ucyA9IHZpZXcuZ2V0UmVzb2x1dGlvbnMoKTtcbiAgICByZXNvbHV0aW9uID0gY2xhbXAoXG4gICAgICByZXNvbHV0aW9uLFxuICAgICAgdmlldy5nZXRNaW5SZXNvbHV0aW9uKCkgfHwgcmVzb2x1dGlvbnNbcmVzb2x1dGlvbnMubGVuZ3RoIC0gMV0sXG4gICAgICB2aWV3LmdldE1heFJlc29sdXRpb24oKSB8fCByZXNvbHV0aW9uc1swXSk7XG4gIH1cblxuICAvLyBJZiB3ZSBoYXZlIGEgY29uc3RyYWludCBvbiBjZW50ZXIsIHdlIG5lZWQgdG8gY2hhbmdlIHRoZSBhbmNob3Igc28gdGhhdCB0aGVcbiAgLy8gbmV3IGNlbnRlciBpcyB3aXRoaW4gdGhlIGV4dGVudC4gV2UgZmlyc3QgY2FsY3VsYXRlIHRoZSBuZXcgY2VudGVyLCBhcHBseVxuICAvLyB0aGUgY29uc3RyYWludCB0byBpdCwgYW5kIHRoZW4gY2FsY3VsYXRlIGJhY2sgdGhlIGFuY2hvclxuICBpZiAob3B0X2FuY2hvciAmJiByZXNvbHV0aW9uICE9PSB1bmRlZmluZWQgJiYgcmVzb2x1dGlvbiAhPT0gY3VycmVudFJlc29sdXRpb24pIHtcbiAgICB2YXIgY3VycmVudENlbnRlciA9IHZpZXcuZ2V0Q2VudGVyKCk7XG4gICAgdmFyIGNlbnRlciA9IHZpZXcuY2FsY3VsYXRlQ2VudGVyWm9vbShyZXNvbHV0aW9uLCBvcHRfYW5jaG9yKTtcbiAgICBjZW50ZXIgPSB2aWV3LmNvbnN0cmFpbkNlbnRlcihjZW50ZXIpO1xuXG4gICAgb3B0X2FuY2hvciA9IFtcbiAgICAgIChyZXNvbHV0aW9uICogY3VycmVudENlbnRlclswXSAtIGN1cnJlbnRSZXNvbHV0aW9uICogY2VudGVyWzBdKSAvXG4gICAgICAgICAgKHJlc29sdXRpb24gLSBjdXJyZW50UmVzb2x1dGlvbiksXG4gICAgICAocmVzb2x1dGlvbiAqIGN1cnJlbnRDZW50ZXJbMV0gLSBjdXJyZW50UmVzb2x1dGlvbiAqIGNlbnRlclsxXSkgL1xuICAgICAgICAgIChyZXNvbHV0aW9uIC0gY3VycmVudFJlc29sdXRpb24pXG4gICAgXTtcbiAgfVxuXG4gIHpvb21XaXRob3V0Q29uc3RyYWludHModmlldywgcmVzb2x1dGlvbiwgb3B0X2FuY2hvciwgb3B0X2R1cmF0aW9uKTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVmlldy5qc1wiKS5kZWZhdWx0fSB2aWV3IFZpZXcuXG4gKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHJlc29sdXRpb24gUmVzb2x1dGlvbiB0byBnbyB0by5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPX0gb3B0X2FuY2hvciBBbmNob3IgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2R1cmF0aW9uIER1cmF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gem9vbVdpdGhvdXRDb25zdHJhaW50cyh2aWV3LCByZXNvbHV0aW9uLCBvcHRfYW5jaG9yLCBvcHRfZHVyYXRpb24pIHtcbiAgaWYgKHJlc29sdXRpb24pIHtcbiAgICB2YXIgY3VycmVudFJlc29sdXRpb24gPSB2aWV3LmdldFJlc29sdXRpb24oKTtcbiAgICB2YXIgY3VycmVudENlbnRlciA9IHZpZXcuZ2V0Q2VudGVyKCk7XG4gICAgaWYgKGN1cnJlbnRSZXNvbHV0aW9uICE9PSB1bmRlZmluZWQgJiYgY3VycmVudENlbnRlciAmJlxuICAgICAgICByZXNvbHV0aW9uICE9PSBjdXJyZW50UmVzb2x1dGlvbiAmJiBvcHRfZHVyYXRpb24pIHtcbiAgICAgIHZpZXcuYW5pbWF0ZSh7XG4gICAgICAgIHJlc29sdXRpb246IHJlc29sdXRpb24sXG4gICAgICAgIGFuY2hvcjogb3B0X2FuY2hvcixcbiAgICAgICAgZHVyYXRpb246IG9wdF9kdXJhdGlvbixcbiAgICAgICAgZWFzaW5nOiBlYXNlT3V0XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG9wdF9hbmNob3IpIHtcbiAgICAgICAgdmFyIGNlbnRlciA9IHZpZXcuY2FsY3VsYXRlQ2VudGVyWm9vbShyZXNvbHV0aW9uLCBvcHRfYW5jaG9yKTtcbiAgICAgICAgdmlldy5zZXRDZW50ZXIoY2VudGVyKTtcbiAgICAgIH1cbiAgICAgIHZpZXcuc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW50ZXJhY3Rpb247XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUludGVyYWN0aW9uLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9Eb3VibGVDbGlja1pvb21cbiAqL1xuaW1wb3J0IE1hcEJyb3dzZXJFdmVudFR5cGUgZnJvbSAnLi4vTWFwQnJvd3NlckV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgSW50ZXJhY3Rpb24sIHt6b29tQnlEZWx0YX0gZnJvbSAnLi9JbnRlcmFjdGlvbi5qcyc7XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uPTI1MF0gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZGVsdGE9MV0gVGhlIHpvb20gZGVsdGEgYXBwbGllZCBvbiBlYWNoIGRvdWJsZSBjbGljay5cbiAqL1xuXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIHpvb20gYnkgZG91YmxlLWNsaWNraW5nIG9uIHRoZSBtYXAuXG4gKiBAYXBpXG4gKi9cbnZhciBEb3VibGVDbGlja1pvb20gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChJbnRlcmFjdGlvbikge1xuICBmdW5jdGlvbiBEb3VibGVDbGlja1pvb20ob3B0X29wdGlvbnMpIHtcbiAgICBJbnRlcmFjdGlvbi5jYWxsKHRoaXMsIHtcbiAgICAgIGhhbmRsZUV2ZW50OiBoYW5kbGVFdmVudFxuICAgIH0pO1xuXG4gICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kZWx0YV8gPSBvcHRpb25zLmRlbHRhID8gb3B0aW9ucy5kZWx0YSA6IDE7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMjUwO1xuXG4gIH1cblxuICBpZiAoIEludGVyYWN0aW9uICkgRG91YmxlQ2xpY2tab29tLl9fcHJvdG9fXyA9IEludGVyYWN0aW9uO1xuICBEb3VibGVDbGlja1pvb20ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggSW50ZXJhY3Rpb24gJiYgSW50ZXJhY3Rpb24ucHJvdG90eXBlICk7XG4gIERvdWJsZUNsaWNrWm9vbS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBEb3VibGVDbGlja1pvb207XG5cbiAgcmV0dXJuIERvdWJsZUNsaWNrWm9vbTtcbn0oSW50ZXJhY3Rpb24pKTtcblxuXG4vKipcbiAqIEhhbmRsZXMgdGhlIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50IG1hcCBicm93c2VyIGV2ZW50fSAoaWYgaXQgd2FzIGFcbiAqIGRvdWJsZWNsaWNrKSBhbmQgZXZlbnR1YWxseSB6b29tcyB0aGUgbWFwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gYGZhbHNlYCB0byBzdG9wIGV2ZW50IHByb3BhZ2F0aW9uLlxuICogQHRoaXMge0RvdWJsZUNsaWNrWm9vbX1cbiAqL1xuZnVuY3Rpb24gaGFuZGxlRXZlbnQobWFwQnJvd3NlckV2ZW50KSB7XG4gIHZhciBzdG9wRXZlbnQgPSBmYWxzZTtcbiAgaWYgKG1hcEJyb3dzZXJFdmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuREJMQ0xJQ0spIHtcbiAgICB2YXIgYnJvd3NlckV2ZW50ID0gLyoqIEB0eXBlIHtNb3VzZUV2ZW50fSAqLyAobWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQpO1xuICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgIHZhciBhbmNob3IgPSBtYXBCcm93c2VyRXZlbnQuY29vcmRpbmF0ZTtcbiAgICB2YXIgZGVsdGEgPSBicm93c2VyRXZlbnQuc2hpZnRLZXkgPyAtdGhpcy5kZWx0YV8gOiB0aGlzLmRlbHRhXztcbiAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgem9vbUJ5RGVsdGEodmlldywgZGVsdGEsIGFuY2hvciwgdGhpcy5kdXJhdGlvbl8pO1xuICAgIG1hcEJyb3dzZXJFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHN0b3BFdmVudCA9IHRydWU7XG4gIH1cbiAgcmV0dXJuICFzdG9wRXZlbnQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IERvdWJsZUNsaWNrWm9vbTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RG91YmxlQ2xpY2tab29tLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9ldmVudHMvY29uZGl0aW9uXG4gKi9cbmltcG9ydCBNYXBCcm93c2VyRXZlbnRUeXBlIGZyb20gJy4uL01hcEJyb3dzZXJFdmVudFR5cGUuanMnO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuaW1wb3J0IHtUUlVFLCBGQUxTRX0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7V0VCS0lULCBNQUN9IGZyb20gJy4uL2hhcy5qcyc7XG5cblxuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGFcbiAqIGB7Ym9vbGVhbn1gLiBJZiB0aGUgY29uZGl0aW9uIGlzIG1ldCwgdHJ1ZSBzaG91bGQgYmUgcmV0dXJuZWQuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKHRoaXM6ID8sIGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0KTogYm9vbGVhbn0gQ29uZGl0aW9uXG4gKi9cblxuXG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgb25seSB0aGUgYWx0LWtleSBpcyBwcmVzc2VkLCBgZmFsc2VgIG90aGVyd2lzZSAoZS5nLiB3aGVuXG4gKiBhZGRpdGlvbmFsbHkgdGhlIHNoaWZ0LWtleSBpcyBwcmVzc2VkKS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIG9ubHkgdGhlIGFsdCBrZXkgaXMgcHJlc3NlZC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciBhbHRLZXlPbmx5ID0gZnVuY3Rpb24obWFwQnJvd3NlckV2ZW50KSB7XG4gIHZhciBvcmlnaW5hbEV2ZW50ID0gLyoqIEB0eXBlIHtLZXlib2FyZEV2ZW50fE1vdXNlRXZlbnR8VG91Y2hFdmVudH0gKi8gKG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50KTtcbiAgcmV0dXJuIChcbiAgICBvcmlnaW5hbEV2ZW50LmFsdEtleSAmJlxuICAgICAgIShvcmlnaW5hbEV2ZW50Lm1ldGFLZXkgfHwgb3JpZ2luYWxFdmVudC5jdHJsS2V5KSAmJlxuICAgICAgIW9yaWdpbmFsRXZlbnQuc2hpZnRLZXkpO1xufTtcblxuXG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgb25seSB0aGUgYWx0LWtleSBhbmQgc2hpZnQta2V5IGlzIHByZXNzZWQsIGBmYWxzZWAgb3RoZXJ3aXNlXG4gKiAoZS5nLiB3aGVuIGFkZGl0aW9uYWxseSB0aGUgcGxhdGZvcm0tbW9kaWZpZXIta2V5IGlzIHByZXNzZWQpLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgb25seSB0aGUgYWx0IGFuZCBzaGlmdCBrZXlzIGFyZSBwcmVzc2VkLlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIGFsdFNoaWZ0S2V5c09ubHkgPSBmdW5jdGlvbihtYXBCcm93c2VyRXZlbnQpIHtcbiAgdmFyIG9yaWdpbmFsRXZlbnQgPSAvKiogQHR5cGUge0tleWJvYXJkRXZlbnR8TW91c2VFdmVudHxUb3VjaEV2ZW50fSAqLyAobWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQpO1xuICByZXR1cm4gKFxuICAgIG9yaWdpbmFsRXZlbnQuYWx0S2V5ICYmXG4gICAgICAhKG9yaWdpbmFsRXZlbnQubWV0YUtleSB8fCBvcmlnaW5hbEV2ZW50LmN0cmxLZXkpICYmXG4gICAgICBvcmlnaW5hbEV2ZW50LnNoaWZ0S2V5KTtcbn07XG5cblxuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBtYXAgaGFzIHRoZSBmb2N1cy4gVGhpcyBjb25kaXRpb24gcmVxdWlyZXMgYSBtYXAgdGFyZ2V0XG4gKiBlbGVtZW50IHdpdGggYSBgdGFiaW5kZXhgIGF0dHJpYnV0ZSwgZS5nLiBgPGRpdiBpZD1cIm1hcFwiIHRhYmluZGV4PVwiMVwiPmAuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgbWFwIGhhcyB0aGUgZm9jdXMuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgZm9jdXMgPSBmdW5jdGlvbihldmVudCkge1xuICByZXR1cm4gZXZlbnQudGFyZ2V0LmdldFRhcmdldEVsZW1lbnQoKSA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbn07XG5cblxuLyoqXG4gKiBSZXR1cm4gYWx3YXlzIHRydWUuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciBhbHdheXMgPSBUUlVFO1xuXG5cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgZXZlbnQgaXMgYSBgY2xpY2tgIGV2ZW50LCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBldmVudCBpcyBhIG1hcCBgY2xpY2tgIGV2ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIGNsaWNrID0gZnVuY3Rpb24obWFwQnJvd3NlckV2ZW50KSB7XG4gIHJldHVybiBtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLkNMSUNLO1xufTtcblxuXG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIGV2ZW50IGhhcyBhbiBcImFjdGlvblwiLXByb2R1Y2luZyBtb3VzZSBidXR0b24uXG4gKlxuICogQnkgZGVmaW5pdGlvbiwgdGhpcyBpbmNsdWRlcyBsZWZ0LWNsaWNrIG9uIHdpbmRvd3MvbGludXgsIGFuZCBsZWZ0LWNsaWNrXG4gKiB3aXRob3V0IHRoZSBjdHJsIGtleSBvbiBNYWNzLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSByZXN1bHQuXG4gKi9cbmV4cG9ydCB2YXIgbW91c2VBY3Rpb25CdXR0b24gPSBmdW5jdGlvbihtYXBCcm93c2VyRXZlbnQpIHtcbiAgdmFyIG9yaWdpbmFsRXZlbnQgPSAvKiogQHR5cGUge01vdXNlRXZlbnR9ICovIChtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudCk7XG4gIHJldHVybiBvcmlnaW5hbEV2ZW50LmJ1dHRvbiA9PSAwICYmXG4gICAgICAhKFdFQktJVCAmJiBNQUMgJiYgb3JpZ2luYWxFdmVudC5jdHJsS2V5KTtcbn07XG5cblxuLyoqXG4gKiBSZXR1cm4gYWx3YXlzIGZhbHNlLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IEZhbHNlLlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIG5ldmVyID0gRkFMU0U7XG5cblxuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBicm93c2VyIGV2ZW50IGlzIGEgYHBvaW50ZXJtb3ZlYCBldmVudCwgYGZhbHNlYFxuICogb3RoZXJ3aXNlLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGJyb3dzZXIgZXZlbnQgaXMgYSBgcG9pbnRlcm1vdmVgIGV2ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIHBvaW50ZXJNb3ZlID0gZnVuY3Rpb24obWFwQnJvd3NlckV2ZW50KSB7XG4gIHJldHVybiBtYXBCcm93c2VyRXZlbnQudHlwZSA9PSAncG9pbnRlcm1vdmUnO1xufTtcblxuXG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIGV2ZW50IGlzIGEgbWFwIGBzaW5nbGVjbGlja2AgZXZlbnQsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IGlzIGEgbWFwIGBzaW5nbGVjbGlja2AgZXZlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgc2luZ2xlQ2xpY2sgPSBmdW5jdGlvbihtYXBCcm93c2VyRXZlbnQpIHtcbiAgcmV0dXJuIG1hcEJyb3dzZXJFdmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuU0lOR0xFQ0xJQ0s7XG59O1xuXG5cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgZXZlbnQgaXMgYSBtYXAgYGRibGNsaWNrYCBldmVudCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZXZlbnQgaXMgYSBtYXAgYGRibGNsaWNrYCBldmVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciBkb3VibGVDbGljayA9IGZ1bmN0aW9uKG1hcEJyb3dzZXJFdmVudCkge1xuICByZXR1cm4gbWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5EQkxDTElDSztcbn07XG5cblxuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIG5vIG1vZGlmaWVyIGtleSAoYWx0LSwgc2hpZnQtIG9yIHBsYXRmb3JtLW1vZGlmaWVyLWtleSkgaXNcbiAqIHByZXNzZWQuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBvbmx5IGlmIHRoZXJlIG5vIG1vZGlmaWVyIGtleXMgYXJlIHByZXNzZWQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgbm9Nb2RpZmllcktleXMgPSBmdW5jdGlvbihtYXBCcm93c2VyRXZlbnQpIHtcbiAgdmFyIG9yaWdpbmFsRXZlbnQgPSAvKiogQHR5cGUge0tleWJvYXJkRXZlbnR8TW91c2VFdmVudHxUb3VjaEV2ZW50fSAqLyAobWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQpO1xuICByZXR1cm4gKFxuICAgICFvcmlnaW5hbEV2ZW50LmFsdEtleSAmJlxuICAgICAgIShvcmlnaW5hbEV2ZW50Lm1ldGFLZXkgfHwgb3JpZ2luYWxFdmVudC5jdHJsS2V5KSAmJlxuICAgICAgIW9yaWdpbmFsRXZlbnQuc2hpZnRLZXkpO1xufTtcblxuXG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgb25seSB0aGUgcGxhdGZvcm0tbW9kaWZpZXIta2V5ICh0aGUgbWV0YS1rZXkgb24gTWFjLFxuICogY3RybC1rZXkgb3RoZXJ3aXNlKSBpcyBwcmVzc2VkLCBgZmFsc2VgIG90aGVyd2lzZSAoZS5nLiB3aGVuIGFkZGl0aW9uYWxseVxuICogdGhlIHNoaWZ0LWtleSBpcyBwcmVzc2VkKS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIG9ubHkgdGhlIHBsYXRmb3JtIG1vZGlmaWVyIGtleSBpcyBwcmVzc2VkLlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIHBsYXRmb3JtTW9kaWZpZXJLZXlPbmx5ID0gZnVuY3Rpb24obWFwQnJvd3NlckV2ZW50KSB7XG4gIHZhciBvcmlnaW5hbEV2ZW50ID0gLyoqIEB0eXBlIHtLZXlib2FyZEV2ZW50fE1vdXNlRXZlbnR8VG91Y2hFdmVudH0gKi8gKG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50KTtcbiAgcmV0dXJuICFvcmlnaW5hbEV2ZW50LmFsdEtleSAmJlxuICAgIChNQUMgPyBvcmlnaW5hbEV2ZW50Lm1ldGFLZXkgOiBvcmlnaW5hbEV2ZW50LmN0cmxLZXkpICYmXG4gICAgIW9yaWdpbmFsRXZlbnQuc2hpZnRLZXk7XG59O1xuXG5cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiBvbmx5IHRoZSBzaGlmdC1rZXkgaXMgcHJlc3NlZCwgYGZhbHNlYCBvdGhlcndpc2UgKGUuZy4gd2hlblxuICogYWRkaXRpb25hbGx5IHRoZSBhbHQta2V5IGlzIHByZXNzZWQpLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgb25seSB0aGUgc2hpZnQga2V5IGlzIHByZXNzZWQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgc2hpZnRLZXlPbmx5ID0gZnVuY3Rpb24obWFwQnJvd3NlckV2ZW50KSB7XG4gIHZhciBvcmlnaW5hbEV2ZW50ID0gLyoqIEB0eXBlIHtLZXlib2FyZEV2ZW50fE1vdXNlRXZlbnR8VG91Y2hFdmVudH0gKi8gKG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50KTtcbiAgcmV0dXJuIChcbiAgICAhb3JpZ2luYWxFdmVudC5hbHRLZXkgJiZcbiAgICAgICEob3JpZ2luYWxFdmVudC5tZXRhS2V5IHx8IG9yaWdpbmFsRXZlbnQuY3RybEtleSkgJiZcbiAgICAgIG9yaWdpbmFsRXZlbnQuc2hpZnRLZXkpO1xufTtcblxuXG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIHRhcmdldCBlbGVtZW50IGlzIG5vdCBlZGl0YWJsZSwgaS5lLiBub3QgYSBgPGlucHV0PmAtLFxuICogYDxzZWxlY3Q+YC0gb3IgYDx0ZXh0YXJlYT5gLWVsZW1lbnQsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgb25seSBpZiB0aGUgdGFyZ2V0IGVsZW1lbnQgaXMgbm90IGVkaXRhYmxlLlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIHRhcmdldE5vdEVkaXRhYmxlID0gZnVuY3Rpb24obWFwQnJvd3NlckV2ZW50KSB7XG4gIHZhciB0YXJnZXQgPSBtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudC50YXJnZXQ7XG4gIHZhciB0YWdOYW1lID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAodGFyZ2V0KS50YWdOYW1lO1xuICByZXR1cm4gKFxuICAgIHRhZ05hbWUgIT09ICdJTlBVVCcgJiZcbiAgICAgIHRhZ05hbWUgIT09ICdTRUxFQ1QnICYmXG4gICAgICB0YWdOYW1lICE9PSAnVEVYVEFSRUEnKTtcbn07XG5cblxuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBldmVudCBvcmlnaW5hdGVzIGZyb20gYSBtb3VzZSBkZXZpY2UuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZXZlbnQgb3JpZ2luYXRlcyBmcm9tIGEgbW91c2UgZGV2aWNlLlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIG1vdXNlT25seSA9IGZ1bmN0aW9uKG1hcEJyb3dzZXJFdmVudCkge1xuICB2YXIgcG9pbnRlckV2ZW50ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyUG9pbnRlckV2ZW50XCIpLmRlZmF1bHR9ICovIChtYXBCcm93c2VyRXZlbnQpLnBvaW50ZXJFdmVudDtcbiAgYXNzZXJ0KHBvaW50ZXJFdmVudCAhPT0gdW5kZWZpbmVkLCA1Nik7IC8vIG1hcEJyb3dzZXJFdmVudCBtdXN0IG9yaWdpbmF0ZSBmcm9tIGEgcG9pbnRlciBldmVudFxuICAvLyBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvcG9pbnRlcmV2ZW50cy8jd2lkbC1Qb2ludGVyRXZlbnQtcG9pbnRlclR5cGVcbiAgcmV0dXJuIHBvaW50ZXJFdmVudC5wb2ludGVyVHlwZSA9PSAnbW91c2UnO1xufTtcblxuXG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIHByaW1hcnkgcG9pbnRlciBpblxuICogY29udGFjdCB3aXRoIHRoZSBzdXJmYWNlIG9yIGlmIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiBpcyBwcmVzc2VkLlxuICogU2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL3BvaW50ZXJldmVudHMvI2J1dHRvbi1zdGF0ZXMuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZXZlbnQgb3JpZ2luYXRlcyBmcm9tIGEgcHJpbWFyeSBwb2ludGVyLlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIHByaW1hcnlBY3Rpb24gPSBmdW5jdGlvbihtYXBCcm93c2VyRXZlbnQpIHtcbiAgdmFyIHBvaW50ZXJFdmVudCA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlclBvaW50ZXJFdmVudFwiKS5kZWZhdWx0fSAqLyAobWFwQnJvd3NlckV2ZW50KS5wb2ludGVyRXZlbnQ7XG4gIGFzc2VydChwb2ludGVyRXZlbnQgIT09IHVuZGVmaW5lZCwgNTYpOyAvLyBtYXBCcm93c2VyRXZlbnQgbXVzdCBvcmlnaW5hdGUgZnJvbSBhIHBvaW50ZXIgZXZlbnRcbiAgcmV0dXJuIHBvaW50ZXJFdmVudC5pc1ByaW1hcnkgJiYgcG9pbnRlckV2ZW50LmJ1dHRvbiA9PT0gMDtcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmRpdGlvbi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vUG9pbnRlclxuICovXG5pbXBvcnQgTWFwQnJvd3NlckV2ZW50VHlwZSBmcm9tICcuLi9NYXBCcm93c2VyRXZlbnRUeXBlLmpzJztcbmltcG9ydCBJbnRlcmFjdGlvbiBmcm9tICcuL0ludGVyYWN0aW9uLmpzJztcbmltcG9ydCB7Z2V0VmFsdWVzfSBmcm9tICcuLi9vYmouanMnO1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtmdW5jdGlvbihpbXBvcnQoXCIuLi9NYXBCcm93c2VyUG9pbnRlckV2ZW50LmpzXCIpLmRlZmF1bHQpOmJvb2xlYW59IFtoYW5kbGVEb3duRXZlbnRdXG4gKiBGdW5jdGlvbiBoYW5kbGluZyBcImRvd25cIiBldmVudHMuIElmIHRoZSBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYCB0aGVuIGEgZHJhZ1xuICogc2VxdWVuY2UgaXMgc3RhcnRlZC5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vTWFwQnJvd3NlclBvaW50ZXJFdmVudC5qc1wiKS5kZWZhdWx0KX0gW2hhbmRsZURyYWdFdmVudF1cbiAqIEZ1bmN0aW9uIGhhbmRsaW5nIFwiZHJhZ1wiIGV2ZW50cy4gVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgb24gXCJtb3ZlXCIgZXZlbnRzXG4gKiBkdXJpbmcgYSBkcmFnIHNlcXVlbmNlLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdCk6Ym9vbGVhbn0gW2hhbmRsZUV2ZW50XVxuICogTWV0aG9kIGNhbGxlZCBieSB0aGUgbWFwIHRvIG5vdGlmeSB0aGUgaW50ZXJhY3Rpb24gdGhhdCBhIGJyb3dzZXIgZXZlbnQgd2FzXG4gKiBkaXNwYXRjaGVkIHRvIHRoZSBtYXAuIFRoZSBmdW5jdGlvbiBtYXkgcmV0dXJuIGBmYWxzZWAgdG8gcHJldmVudCB0aGVcbiAqIHByb3BhZ2F0aW9uIG9mIHRoZSBldmVudCB0byBvdGhlciBpbnRlcmFjdGlvbnMgaW4gdGhlIG1hcCdzIGludGVyYWN0aW9uc1xuICogY2hhaW4uXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcEJyb3dzZXJQb2ludGVyRXZlbnQuanNcIikuZGVmYXVsdCl9IFtoYW5kbGVNb3ZlRXZlbnRdXG4gKiBGdW5jdGlvbiBoYW5kbGluZyBcIm1vdmVcIiBldmVudHMuIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIFwibW92ZVwiIGV2ZW50cyxcbiAqIGFsc28gZHVyaW5nIGEgZHJhZyBzZXF1ZW5jZSAoc28gZHVyaW5nIGEgZHJhZyBzZXF1ZW5jZSBib3RoIHRoZVxuICogYGhhbmRsZURyYWdFdmVudGAgZnVuY3Rpb24gYW5kIHRoaXMgZnVuY3Rpb24gYXJlIGNhbGxlZCkuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcEJyb3dzZXJQb2ludGVyRXZlbnQuanNcIikuZGVmYXVsdCk6Ym9vbGVhbn0gW2hhbmRsZVVwRXZlbnRdXG4gKiAgRnVuY3Rpb24gaGFuZGxpbmcgXCJ1cFwiIGV2ZW50cy4gSWYgdGhlIGZ1bmN0aW9uIHJldHVybnMgYGZhbHNlYCB0aGVuIHRoZVxuICogY3VycmVudCBkcmFnIHNlcXVlbmNlIGlzIHN0b3BwZWQuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGJvb2xlYW4pOmJvb2xlYW59IFtzdG9wRG93bl1cbiAqIFNob3VsZCB0aGUgZG93biBldmVudCBiZSBwcm9wYWdhdGVkIHRvIG90aGVyIGludGVyYWN0aW9ucywgb3Igc2hvdWxkIGJlXG4gKiBzdG9wcGVkP1xuICovXG5cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBCYXNlIGNsYXNzIHRoYXQgY2FsbHMgdXNlci1kZWZpbmVkIGZ1bmN0aW9ucyBvbiBgZG93bmAsIGBtb3ZlYCBhbmQgYHVwYFxuICogZXZlbnRzLiBUaGlzIGNsYXNzIGFsc28gbWFuYWdlcyBcImRyYWcgc2VxdWVuY2VzXCIuXG4gKlxuICogV2hlbiB0aGUgYGhhbmRsZURvd25FdmVudGAgdXNlciBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYCBhIGRyYWcgc2VxdWVuY2UgaXNcbiAqIHN0YXJ0ZWQuIER1cmluZyBhIGRyYWcgc2VxdWVuY2UgdGhlIGBoYW5kbGVEcmFnRXZlbnRgIHVzZXIgZnVuY3Rpb24gaXNcbiAqIGNhbGxlZCBvbiBgbW92ZWAgZXZlbnRzLiBUaGUgZHJhZyBzZXF1ZW5jZSBlbmRzIHdoZW4gdGhlIGBoYW5kbGVVcEV2ZW50YFxuICogdXNlciBmdW5jdGlvbiBpcyBjYWxsZWQgYW5kIHJldHVybnMgYGZhbHNlYC5cbiAqIEBhcGlcbiAqL1xudmFyIFBvaW50ZXJJbnRlcmFjdGlvbiA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEludGVyYWN0aW9uKSB7XG4gIGZ1bmN0aW9uIFBvaW50ZXJJbnRlcmFjdGlvbihvcHRfb3B0aW9ucykge1xuXG4gICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG5cbiAgICBJbnRlcmFjdGlvbi5jYWxsKC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9JbnRlcmFjdGlvbi5qc1wiKS5JbnRlcmFjdGlvbk9wdGlvbnN9ICovIHRoaXMsIChvcHRpb25zKSk7XG5cbiAgICBpZiAob3B0aW9ucy5oYW5kbGVEb3duRXZlbnQpIHtcbiAgICAgIHRoaXMuaGFuZGxlRG93bkV2ZW50ID0gb3B0aW9ucy5oYW5kbGVEb3duRXZlbnQ7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuaGFuZGxlRHJhZ0V2ZW50KSB7XG4gICAgICB0aGlzLmhhbmRsZURyYWdFdmVudCA9IG9wdGlvbnMuaGFuZGxlRHJhZ0V2ZW50O1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmhhbmRsZU1vdmVFdmVudCkge1xuICAgICAgdGhpcy5oYW5kbGVNb3ZlRXZlbnQgPSBvcHRpb25zLmhhbmRsZU1vdmVFdmVudDtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5oYW5kbGVVcEV2ZW50KSB7XG4gICAgICB0aGlzLmhhbmRsZVVwRXZlbnQgPSBvcHRpb25zLmhhbmRsZVVwRXZlbnQ7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuc3RvcERvd24pIHtcbiAgICAgIHRoaXMuc3RvcERvd24gPSBvcHRpb25zLnN0b3BEb3duO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICB0aGlzLmhhbmRsaW5nRG93blVwU2VxdWVuY2UgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vcG9pbnRlci9Qb2ludGVyRXZlbnQuanNcIikuZGVmYXVsdD59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnRyYWNrZWRQb2ludGVyc18gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9wb2ludGVyL1BvaW50ZXJFdmVudC5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgdGhpcy50YXJnZXRQb2ludGVycyA9IFtdO1xuXG4gIH1cblxuICBpZiAoIEludGVyYWN0aW9uICkgUG9pbnRlckludGVyYWN0aW9uLl9fcHJvdG9fXyA9IEludGVyYWN0aW9uO1xuICBQb2ludGVySW50ZXJhY3Rpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggSW50ZXJhY3Rpb24gJiYgSW50ZXJhY3Rpb24ucHJvdG90eXBlICk7XG4gIFBvaW50ZXJJbnRlcmFjdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQb2ludGVySW50ZXJhY3Rpb247XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBwb2ludGVyIGRvd24gZXZlbnRzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJQb2ludGVyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBQb2ludGVySW50ZXJhY3Rpb24ucHJvdG90eXBlLmhhbmRsZURvd25FdmVudCA9IGZ1bmN0aW9uIGhhbmRsZURvd25FdmVudCAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgcG9pbnRlciBkcmFnIGV2ZW50cy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyUG9pbnRlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgUG9pbnRlckludGVyYWN0aW9uLnByb3RvdHlwZS5oYW5kbGVEcmFnRXZlbnQgPSBmdW5jdGlvbiBoYW5kbGVEcmFnRXZlbnQgKG1hcEJyb3dzZXJFdmVudCkge307XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50IG1hcCBicm93c2VyIGV2ZW50fSBhbmQgbWF5IGNhbGwgaW50b1xuICAgKiBvdGhlciBmdW5jdGlvbnMsIGlmIGV2ZW50IHNlcXVlbmNlcyBsaWtlIGUuZy4gJ2RyYWcnIG9yICdkb3duLXVwJyBldGMuIGFyZVxuICAgKiBkZXRlY3RlZC5cbiAgICogQG92ZXJyaWRlXG4gICAqIEBhcGlcbiAgICovXG4gIFBvaW50ZXJJbnRlcmFjdGlvbi5wcm90b3R5cGUuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiBoYW5kbGVFdmVudCAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgaWYgKCEoLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyUG9pbnRlckV2ZW50LmpzXCIpLmRlZmF1bHR9ICovIChtYXBCcm93c2VyRXZlbnQpLnBvaW50ZXJFdmVudCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBzdG9wRXZlbnQgPSBmYWxzZTtcbiAgICB0aGlzLnVwZGF0ZVRyYWNrZWRQb2ludGVyc18obWFwQnJvd3NlckV2ZW50KTtcbiAgICBpZiAodGhpcy5oYW5kbGluZ0Rvd25VcFNlcXVlbmNlKSB7XG4gICAgICBpZiAobWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSRFJBRykge1xuICAgICAgICB0aGlzLmhhbmRsZURyYWdFdmVudChtYXBCcm93c2VyRXZlbnQpO1xuICAgICAgfSBlbHNlIGlmIChtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJVUCkge1xuICAgICAgICB2YXIgaGFuZGxlZFVwID0gdGhpcy5oYW5kbGVVcEV2ZW50KG1hcEJyb3dzZXJFdmVudCk7XG4gICAgICAgIHRoaXMuaGFuZGxpbmdEb3duVXBTZXF1ZW5jZSA9IGhhbmRsZWRVcCAmJiB0aGlzLnRhcmdldFBvaW50ZXJzLmxlbmd0aCA+IDA7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJET1dOKSB7XG4gICAgICAgIHZhciBoYW5kbGVkID0gdGhpcy5oYW5kbGVEb3duRXZlbnQobWFwQnJvd3NlckV2ZW50KTtcbiAgICAgICAgaWYgKGhhbmRsZWQpIHtcbiAgICAgICAgICBtYXBCcm93c2VyRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhhbmRsaW5nRG93blVwU2VxdWVuY2UgPSBoYW5kbGVkO1xuICAgICAgICBzdG9wRXZlbnQgPSB0aGlzLnN0b3BEb3duKGhhbmRsZWQpO1xuICAgICAgfSBlbHNlIGlmIChtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJNT1ZFKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlTW92ZUV2ZW50KG1hcEJyb3dzZXJFdmVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAhc3RvcEV2ZW50O1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgcG9pbnRlciBtb3ZlIGV2ZW50cy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyUG9pbnRlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgUG9pbnRlckludGVyYWN0aW9uLnByb3RvdHlwZS5oYW5kbGVNb3ZlRXZlbnQgPSBmdW5jdGlvbiBoYW5kbGVNb3ZlRXZlbnQgKG1hcEJyb3dzZXJFdmVudCkge307XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBwb2ludGVyIHVwIGV2ZW50cy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyUG9pbnRlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgUG9pbnRlckludGVyYWN0aW9uLnByb3RvdHlwZS5oYW5kbGVVcEV2ZW50ID0gZnVuY3Rpb24gaGFuZGxlVXBFdmVudCAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIGlmIFwiZG93blwiIGV2ZW50cyBzaG91bGQgYmUgcHJvcGFnYXRlZFxuICAgKiB0byBvdGhlciBpbnRlcmFjdGlvbnMgb3Igc2hvdWxkIGJlIHN0b3BwZWQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGFuZGxlZCBXYXMgdGhlIGV2ZW50IGhhbmRsZWQgYnkgdGhlIGludGVyYWN0aW9uP1xuICAgKiBAcmV0dXJuIHtib29sZWFufSBTaG91bGQgdGhlIGBkb3duYCBldmVudCBiZSBzdG9wcGVkP1xuICAgKi9cbiAgUG9pbnRlckludGVyYWN0aW9uLnByb3RvdHlwZS5zdG9wRG93biA9IGZ1bmN0aW9uIHN0b3BEb3duIChoYW5kbGVkKSB7XG4gICAgcmV0dXJuIGhhbmRsZWQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlclBvaW50ZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBQb2ludGVySW50ZXJhY3Rpb24ucHJvdG90eXBlLnVwZGF0ZVRyYWNrZWRQb2ludGVyc18gPSBmdW5jdGlvbiB1cGRhdGVUcmFja2VkUG9pbnRlcnNfIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBpZiAoaXNQb2ludGVyRHJhZ2dpbmdFdmVudChtYXBCcm93c2VyRXZlbnQpKSB7XG4gICAgICB2YXIgZXZlbnQgPSBtYXBCcm93c2VyRXZlbnQucG9pbnRlckV2ZW50O1xuXG4gICAgICB2YXIgaWQgPSBldmVudC5wb2ludGVySWQudG9TdHJpbmcoKTtcbiAgICAgIGlmIChtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJVUCkge1xuICAgICAgICBkZWxldGUgdGhpcy50cmFja2VkUG9pbnRlcnNfW2lkXTtcbiAgICAgIH0gZWxzZSBpZiAobWFwQnJvd3NlckV2ZW50LnR5cGUgPT1cbiAgICAgICAgICBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJET1dOKSB7XG4gICAgICAgIHRoaXMudHJhY2tlZFBvaW50ZXJzX1tpZF0gPSBldmVudDtcbiAgICAgIH0gZWxzZSBpZiAoaWQgaW4gdGhpcy50cmFja2VkUG9pbnRlcnNfKSB7XG4gICAgICAgIC8vIHVwZGF0ZSBvbmx5IHdoZW4gdGhlcmUgd2FzIGEgcG9pbnRlcmRvd24gZXZlbnQgZm9yIHRoaXMgcG9pbnRlclxuICAgICAgICB0aGlzLnRyYWNrZWRQb2ludGVyc19baWRdID0gZXZlbnQ7XG4gICAgICB9XG4gICAgICB0aGlzLnRhcmdldFBvaW50ZXJzID0gZ2V0VmFsdWVzKHRoaXMudHJhY2tlZFBvaW50ZXJzXyk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBQb2ludGVySW50ZXJhY3Rpb247XG59KEludGVyYWN0aW9uKSk7XG5cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uL3BvaW50ZXIvUG9pbnRlckV2ZW50LmpzXCIpLmRlZmF1bHQ+fSBwb2ludGVyRXZlbnRzIExpc3Qgb2YgZXZlbnRzLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9IENlbnRyb2lkIHBpeGVsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2VudHJvaWQocG9pbnRlckV2ZW50cykge1xuICB2YXIgbGVuZ3RoID0gcG9pbnRlckV2ZW50cy5sZW5ndGg7XG4gIHZhciBjbGllbnRYID0gMDtcbiAgdmFyIGNsaWVudFkgPSAwO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgY2xpZW50WCArPSBwb2ludGVyRXZlbnRzW2ldLmNsaWVudFg7XG4gICAgY2xpZW50WSArPSBwb2ludGVyRXZlbnRzW2ldLmNsaWVudFk7XG4gIH1cbiAgcmV0dXJuIFtjbGllbnRYIC8gbGVuZ3RoLCBjbGllbnRZIC8gbGVuZ3RoXTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlclBvaW50ZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBldmVudCBpcyBhIHBvaW50ZXJkb3duLCBwb2ludGVyZHJhZ1xuICogICAgIG9yIHBvaW50ZXJ1cCBldmVudC5cbiAqL1xuZnVuY3Rpb24gaXNQb2ludGVyRHJhZ2dpbmdFdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgdmFyIHR5cGUgPSBtYXBCcm93c2VyRXZlbnQudHlwZTtcbiAgcmV0dXJuIHR5cGUgPT09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkRPV04gfHxcbiAgICB0eXBlID09PSBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJEUkFHIHx8XG4gICAgdHlwZSA9PT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSVVA7XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgUG9pbnRlckludGVyYWN0aW9uO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qb2ludGVyLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9EcmFnUGFuXG4gKi9cbmltcG9ydCBWaWV3SGludCBmcm9tICcuLi9WaWV3SGludC5qcyc7XG5pbXBvcnQge3NjYWxlIGFzIHNjYWxlQ29vcmRpbmF0ZSwgcm90YXRlIGFzIHJvdGF0ZUNvb3JkaW5hdGUsIGFkZCBhcyBhZGRDb29yZGluYXRlfSBmcm9tICcuLi9jb29yZGluYXRlLmpzJztcbmltcG9ydCB7ZWFzZU91dH0gZnJvbSAnLi4vZWFzaW5nLmpzJztcbmltcG9ydCB7bm9Nb2RpZmllcktleXN9IGZyb20gJy4uL2V2ZW50cy9jb25kaXRpb24uanMnO1xuaW1wb3J0IHtGQUxTRX0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCBQb2ludGVySW50ZXJhY3Rpb24sIHtjZW50cm9pZCBhcyBjZW50cm9pZEZyb21Qb2ludGVyc30gZnJvbSAnLi9Qb2ludGVyLmpzJztcblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFtjb25kaXRpb25dIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGEgYm9vbGVhblxuICogdG8gaW5kaWNhdGUgd2hldGhlciB0aGF0IGV2ZW50IHNob3VsZCBiZSBoYW5kbGVkLlxuICogRGVmYXVsdCBpcyB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb25+bm9Nb2RpZmllcktleXN9LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9LaW5ldGljLmpzXCIpLmRlZmF1bHR9IFtraW5ldGljXSBLaW5ldGljIGluZXJ0aWEgdG8gYXBwbHkgdG8gdGhlIHBhbi5cbiAqL1xuXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIHBhbiB0aGUgbWFwIGJ5IGRyYWdnaW5nIHRoZSBtYXAuXG4gKiBAYXBpXG4gKi9cbnZhciBEcmFnUGFuID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoUG9pbnRlckludGVyYWN0aW9uKSB7XG4gIGZ1bmN0aW9uIERyYWdQYW4ob3B0X29wdGlvbnMpIHtcblxuICAgIFBvaW50ZXJJbnRlcmFjdGlvbi5jYWxsKHRoaXMsIHtcbiAgICAgIHN0b3BEb3duOiBGQUxTRVxuICAgIH0pO1xuXG4gICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9LaW5ldGljLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMua2luZXRpY18gPSBvcHRpb25zLmtpbmV0aWM7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9XG4gICAgICovXG4gICAgdGhpcy5sYXN0Q2VudHJvaWQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxhc3RQb2ludGVyc0NvdW50XztcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMucGFubmluZ18gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuY29uZGl0aW9uXyA9IG9wdGlvbnMuY29uZGl0aW9uID8gb3B0aW9ucy5jb25kaXRpb24gOiBub01vZGlmaWVyS2V5cztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5ub0tpbmV0aWNfID0gZmFsc2U7XG5cbiAgfVxuXG4gIGlmICggUG9pbnRlckludGVyYWN0aW9uICkgRHJhZ1Bhbi5fX3Byb3RvX18gPSBQb2ludGVySW50ZXJhY3Rpb247XG4gIERyYWdQYW4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggUG9pbnRlckludGVyYWN0aW9uICYmIFBvaW50ZXJJbnRlcmFjdGlvbi5wcm90b3R5cGUgKTtcbiAgRHJhZ1Bhbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBEcmFnUGFuO1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgRHJhZ1Bhbi5wcm90b3R5cGUuaGFuZGxlRHJhZ0V2ZW50ID0gZnVuY3Rpb24gaGFuZGxlRHJhZ0V2ZW50IChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBpZiAoIXRoaXMucGFubmluZ18pIHtcbiAgICAgIHRoaXMucGFubmluZ18gPSB0cnVlO1xuICAgICAgdGhpcy5nZXRNYXAoKS5nZXRWaWV3KCkuc2V0SGludChWaWV3SGludC5JTlRFUkFDVElORywgMSk7XG4gICAgfVxuICAgIHZhciB0YXJnZXRQb2ludGVycyA9IHRoaXMudGFyZ2V0UG9pbnRlcnM7XG4gICAgdmFyIGNlbnRyb2lkID0gY2VudHJvaWRGcm9tUG9pbnRlcnModGFyZ2V0UG9pbnRlcnMpO1xuICAgIGlmICh0YXJnZXRQb2ludGVycy5sZW5ndGggPT0gdGhpcy5sYXN0UG9pbnRlcnNDb3VudF8pIHtcbiAgICAgIGlmICh0aGlzLmtpbmV0aWNfKSB7XG4gICAgICAgIHRoaXMua2luZXRpY18udXBkYXRlKGNlbnRyb2lkWzBdLCBjZW50cm9pZFsxXSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5sYXN0Q2VudHJvaWQpIHtcbiAgICAgICAgdmFyIGRlbHRhWCA9IHRoaXMubGFzdENlbnRyb2lkWzBdIC0gY2VudHJvaWRbMF07XG4gICAgICAgIHZhciBkZWx0YVkgPSBjZW50cm9pZFsxXSAtIHRoaXMubGFzdENlbnRyb2lkWzFdO1xuICAgICAgICB2YXIgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgICAgdmFyIHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgICAgICB2YXIgY2VudGVyID0gW2RlbHRhWCwgZGVsdGFZXTtcbiAgICAgICAgc2NhbGVDb29yZGluYXRlKGNlbnRlciwgdmlldy5nZXRSZXNvbHV0aW9uKCkpO1xuICAgICAgICByb3RhdGVDb29yZGluYXRlKGNlbnRlciwgdmlldy5nZXRSb3RhdGlvbigpKTtcbiAgICAgICAgYWRkQ29vcmRpbmF0ZShjZW50ZXIsIHZpZXcuZ2V0Q2VudGVyKCkpO1xuICAgICAgICBjZW50ZXIgPSB2aWV3LmNvbnN0cmFpbkNlbnRlcihjZW50ZXIpO1xuICAgICAgICB2aWV3LnNldENlbnRlcihjZW50ZXIpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5raW5ldGljXykge1xuICAgICAgLy8gcmVzZXQgc28gd2UgZG9uJ3Qgb3ZlcmVzdGltYXRlIHRoZSBraW5ldGljIGVuZXJneSBhZnRlclxuICAgICAgLy8gYWZ0ZXIgb25lIGZpbmdlciBkb3duLCB0aW55IGRyYWcsIHNlY29uZCBmaW5nZXIgZG93blxuICAgICAgdGhpcy5raW5ldGljXy5iZWdpbigpO1xuICAgIH1cbiAgICB0aGlzLmxhc3RDZW50cm9pZCA9IGNlbnRyb2lkO1xuICAgIHRoaXMubGFzdFBvaW50ZXJzQ291bnRfID0gdGFyZ2V0UG9pbnRlcnMubGVuZ3RoO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgRHJhZ1Bhbi5wcm90b3R5cGUuaGFuZGxlVXBFdmVudCA9IGZ1bmN0aW9uIGhhbmRsZVVwRXZlbnQgKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICBpZiAodGhpcy50YXJnZXRQb2ludGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIGlmICghdGhpcy5ub0tpbmV0aWNfICYmIHRoaXMua2luZXRpY18gJiYgdGhpcy5raW5ldGljXy5lbmQoKSkge1xuICAgICAgICB2YXIgZGlzdGFuY2UgPSB0aGlzLmtpbmV0aWNfLmdldERpc3RhbmNlKCk7XG4gICAgICAgIHZhciBhbmdsZSA9IHRoaXMua2luZXRpY18uZ2V0QW5nbGUoKTtcbiAgICAgICAgdmFyIGNlbnRlciA9IC8qKiBAdHlwZSB7IWltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gKi8gKHZpZXcuZ2V0Q2VudGVyKCkpO1xuICAgICAgICB2YXIgY2VudGVycHggPSBtYXAuZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZShjZW50ZXIpO1xuICAgICAgICB2YXIgZGVzdCA9IG1hcC5nZXRDb29yZGluYXRlRnJvbVBpeGVsKFtcbiAgICAgICAgICBjZW50ZXJweFswXSAtIGRpc3RhbmNlICogTWF0aC5jb3MoYW5nbGUpLFxuICAgICAgICAgIGNlbnRlcnB4WzFdIC0gZGlzdGFuY2UgKiBNYXRoLnNpbihhbmdsZSlcbiAgICAgICAgXSk7XG4gICAgICAgIHZpZXcuYW5pbWF0ZSh7XG4gICAgICAgICAgY2VudGVyOiB2aWV3LmNvbnN0cmFpbkNlbnRlcihkZXN0KSxcbiAgICAgICAgICBkdXJhdGlvbjogNTAwLFxuICAgICAgICAgIGVhc2luZzogZWFzZU91dFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnBhbm5pbmdfKSB7XG4gICAgICAgIHRoaXMucGFubmluZ18gPSBmYWxzZTtcbiAgICAgICAgdmlldy5zZXRIaW50KFZpZXdIaW50LklOVEVSQUNUSU5HLCAtMSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLmtpbmV0aWNfKSB7XG4gICAgICAgIC8vIHJlc2V0IHNvIHdlIGRvbid0IG92ZXJlc3RpbWF0ZSB0aGUga2luZXRpYyBlbmVyZ3kgYWZ0ZXJcbiAgICAgICAgLy8gYWZ0ZXIgb25lIGZpbmdlciB1cCwgdGlueSBkcmFnLCBzZWNvbmQgZmluZ2VyIHVwXG4gICAgICAgIHRoaXMua2luZXRpY18uYmVnaW4oKTtcbiAgICAgIH1cbiAgICAgIHRoaXMubGFzdENlbnRyb2lkID0gbnVsbDtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIERyYWdQYW4ucHJvdG90eXBlLmhhbmRsZURvd25FdmVudCA9IGZ1bmN0aW9uIGhhbmRsZURvd25FdmVudCAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgaWYgKHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoID4gMCAmJiB0aGlzLmNvbmRpdGlvbl8obWFwQnJvd3NlckV2ZW50KSkge1xuICAgICAgdmFyIG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICB0aGlzLmxhc3RDZW50cm9pZCA9IG51bGw7XG4gICAgICAvLyBzdG9wIGFueSBjdXJyZW50IGFuaW1hdGlvblxuICAgICAgaWYgKHZpZXcuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgdmlldy5zZXRDZW50ZXIobWFwQnJvd3NlckV2ZW50LmZyYW1lU3RhdGUudmlld1N0YXRlLmNlbnRlcik7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5raW5ldGljXykge1xuICAgICAgICB0aGlzLmtpbmV0aWNfLmJlZ2luKCk7XG4gICAgICB9XG4gICAgICAvLyBObyBraW5ldGljIGFzIHNvb24gYXMgbW9yZSB0aGFuIG9uZSBwb2ludGVyIG9uIHRoZSBzY3JlZW4gaXNcbiAgICAgIC8vIGRldGVjdGVkLiBUaGlzIGlzIHRvIHByZXZlbnQgbmFzdHkgcGFucyBhZnRlciBwaW5jaC5cbiAgICAgIHRoaXMubm9LaW5ldGljXyA9IHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoID4gMTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBEcmFnUGFuO1xufShQb2ludGVySW50ZXJhY3Rpb24pKTtcblxuZXhwb3J0IGRlZmF1bHQgRHJhZ1BhbjtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RHJhZ1Bhbi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vRHJhZ1JvdGF0ZVxuICovXG5pbXBvcnQge2Rpc2FibGV9IGZyb20gJy4uL3JvdGF0aW9uY29uc3RyYWludC5qcyc7XG5pbXBvcnQgVmlld0hpbnQgZnJvbSAnLi4vVmlld0hpbnQuanMnO1xuaW1wb3J0IHthbHRTaGlmdEtleXNPbmx5LCBtb3VzZU9ubHksIG1vdXNlQWN0aW9uQnV0dG9ufSBmcm9tICcuLi9ldmVudHMvY29uZGl0aW9uLmpzJztcbmltcG9ydCB7RkFMU0V9IGZyb20gJy4uL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQge3JvdGF0ZSwgcm90YXRlV2l0aG91dENvbnN0cmFpbnRzfSBmcm9tICcuL0ludGVyYWN0aW9uLmpzJztcbmltcG9ydCBQb2ludGVySW50ZXJhY3Rpb24gZnJvbSAnLi9Qb2ludGVyLmpzJztcblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFtjb25kaXRpb25dIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhblxuICoge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fSBhbmQgcmV0dXJucyBhIGJvb2xlYW5cbiAqIHRvIGluZGljYXRlIHdoZXRoZXIgdGhhdCBldmVudCBzaG91bGQgYmUgaGFuZGxlZC5cbiAqIERlZmF1bHQgaXMge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9ufmFsdFNoaWZ0S2V5c09ubHl9LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkdXJhdGlvbj0yNTBdIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKi9cblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFsbG93cyB0aGUgdXNlciB0byByb3RhdGUgdGhlIG1hcCBieSBjbGlja2luZyBhbmQgZHJhZ2dpbmcgb24gdGhlIG1hcCxcbiAqIG5vcm1hbGx5IGNvbWJpbmVkIHdpdGggYW4ge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9ufSB0aGF0IGxpbWl0c1xuICogaXQgdG8gd2hlbiB0aGUgYWx0IGFuZCBzaGlmdCBrZXlzIGFyZSBoZWxkIGRvd24uXG4gKlxuICogVGhpcyBpbnRlcmFjdGlvbiBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgbW91c2UgZGV2aWNlcy5cbiAqIEBhcGlcbiAqL1xudmFyIERyYWdSb3RhdGUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChQb2ludGVySW50ZXJhY3Rpb24pIHtcbiAgZnVuY3Rpb24gRHJhZ1JvdGF0ZShvcHRfb3B0aW9ucykge1xuXG4gICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG5cbiAgICBQb2ludGVySW50ZXJhY3Rpb24uY2FsbCh0aGlzLCB7XG4gICAgICBzdG9wRG93bjogRkFMU0VcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuY29uZGl0aW9uXyA9IG9wdGlvbnMuY29uZGl0aW9uID8gb3B0aW9ucy5jb25kaXRpb24gOiBhbHRTaGlmdEtleXNPbmx5O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmxhc3RBbmdsZV8gPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMjUwO1xuXG4gIH1cblxuICBpZiAoIFBvaW50ZXJJbnRlcmFjdGlvbiApIERyYWdSb3RhdGUuX19wcm90b19fID0gUG9pbnRlckludGVyYWN0aW9uO1xuICBEcmFnUm90YXRlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFBvaW50ZXJJbnRlcmFjdGlvbiAmJiBQb2ludGVySW50ZXJhY3Rpb24ucHJvdG90eXBlICk7XG4gIERyYWdSb3RhdGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRHJhZ1JvdGF0ZTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIERyYWdSb3RhdGUucHJvdG90eXBlLmhhbmRsZURyYWdFdmVudCA9IGZ1bmN0aW9uIGhhbmRsZURyYWdFdmVudCAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgaWYgKCFtb3VzZU9ubHkobWFwQnJvd3NlckV2ZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICBpZiAodmlldy5nZXRDb25zdHJhaW50cygpLnJvdGF0aW9uID09PSBkaXNhYmxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBzaXplID0gbWFwLmdldFNpemUoKTtcbiAgICB2YXIgb2Zmc2V0ID0gbWFwQnJvd3NlckV2ZW50LnBpeGVsO1xuICAgIHZhciB0aGV0YSA9XG4gICAgICAgIE1hdGguYXRhbjIoc2l6ZVsxXSAvIDIgLSBvZmZzZXRbMV0sIG9mZnNldFswXSAtIHNpemVbMF0gLyAyKTtcbiAgICBpZiAodGhpcy5sYXN0QW5nbGVfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBkZWx0YSA9IHRoZXRhIC0gdGhpcy5sYXN0QW5nbGVfO1xuICAgICAgdmFyIHJvdGF0aW9uID0gdmlldy5nZXRSb3RhdGlvbigpO1xuICAgICAgcm90YXRlV2l0aG91dENvbnN0cmFpbnRzKHZpZXcsIHJvdGF0aW9uIC0gZGVsdGEpO1xuICAgIH1cbiAgICB0aGlzLmxhc3RBbmdsZV8gPSB0aGV0YTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgRHJhZ1JvdGF0ZS5wcm90b3R5cGUuaGFuZGxlVXBFdmVudCA9IGZ1bmN0aW9uIGhhbmRsZVVwRXZlbnQgKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIGlmICghbW91c2VPbmx5KG1hcEJyb3dzZXJFdmVudCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICB2aWV3LnNldEhpbnQoVmlld0hpbnQuSU5URVJBQ1RJTkcsIC0xKTtcbiAgICB2YXIgcm90YXRpb24gPSB2aWV3LmdldFJvdGF0aW9uKCk7XG4gICAgcm90YXRlKHZpZXcsIHJvdGF0aW9uLCB1bmRlZmluZWQsIHRoaXMuZHVyYXRpb25fKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIERyYWdSb3RhdGUucHJvdG90eXBlLmhhbmRsZURvd25FdmVudCA9IGZ1bmN0aW9uIGhhbmRsZURvd25FdmVudCAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgaWYgKCFtb3VzZU9ubHkobWFwQnJvd3NlckV2ZW50KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChtb3VzZUFjdGlvbkJ1dHRvbihtYXBCcm93c2VyRXZlbnQpICYmIHRoaXMuY29uZGl0aW9uXyhtYXBCcm93c2VyRXZlbnQpKSB7XG4gICAgICB2YXIgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgIG1hcC5nZXRWaWV3KCkuc2V0SGludChWaWV3SGludC5JTlRFUkFDVElORywgMSk7XG4gICAgICB0aGlzLmxhc3RBbmdsZV8gPSB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gRHJhZ1JvdGF0ZTtcbn0oUG9pbnRlckludGVyYWN0aW9uKSk7XG5cbmV4cG9ydCBkZWZhdWx0IERyYWdSb3RhdGU7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURyYWdSb3RhdGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9Cb3hcbiAqL1xuXG5pbXBvcnQgRGlzcG9zYWJsZSBmcm9tICcuLi9EaXNwb3NhYmxlLmpzJztcbmltcG9ydCBQb2x5Z29uIGZyb20gJy4uL2dlb20vUG9seWdvbi5qcyc7XG5cbnZhciBSZW5kZXJCb3ggPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChEaXNwb3NhYmxlKSB7XG4gIGZ1bmN0aW9uIFJlbmRlckJveChjbGFzc05hbWUpIHtcbiAgICBEaXNwb3NhYmxlLmNhbGwodGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmdlb21ldHJ5XyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7SFRNTERpdkVsZW1lbnR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmVsZW1lbnRfID0gLyoqIEB0eXBlIHtIVE1MRGl2RWxlbWVudH0gKi8gKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKTtcbiAgICB0aGlzLmVsZW1lbnRfLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICB0aGlzLmVsZW1lbnRfLmNsYXNzTmFtZSA9ICdvbC1ib3ggJyArIGNsYXNzTmFtZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMubWFwXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH1cbiAgICAgKi9cbiAgICB0aGlzLnN0YXJ0UGl4ZWxfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfVxuICAgICAqL1xuICAgIHRoaXMuZW5kUGl4ZWxfID0gbnVsbDtcblxuICB9XG5cbiAgaWYgKCBEaXNwb3NhYmxlICkgUmVuZGVyQm94Ll9fcHJvdG9fXyA9IERpc3Bvc2FibGU7XG4gIFJlbmRlckJveC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBEaXNwb3NhYmxlICYmIERpc3Bvc2FibGUucHJvdG90eXBlICk7XG4gIFJlbmRlckJveC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBSZW5kZXJCb3g7XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBSZW5kZXJCb3gucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uIGRpc3Bvc2VJbnRlcm5hbCAoKSB7XG4gICAgdGhpcy5zZXRNYXAobnVsbCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBSZW5kZXJCb3gucHJvdG90eXBlLnJlbmRlcl8gPSBmdW5jdGlvbiByZW5kZXJfICgpIHtcbiAgICB2YXIgc3RhcnRQaXhlbCA9IHRoaXMuc3RhcnRQaXhlbF87XG4gICAgdmFyIGVuZFBpeGVsID0gdGhpcy5lbmRQaXhlbF87XG4gICAgdmFyIHB4ID0gJ3B4JztcbiAgICB2YXIgc3R5bGUgPSB0aGlzLmVsZW1lbnRfLnN0eWxlO1xuICAgIHN0eWxlLmxlZnQgPSBNYXRoLm1pbihzdGFydFBpeGVsWzBdLCBlbmRQaXhlbFswXSkgKyBweDtcbiAgICBzdHlsZS50b3AgPSBNYXRoLm1pbihzdGFydFBpeGVsWzFdLCBlbmRQaXhlbFsxXSkgKyBweDtcbiAgICBzdHlsZS53aWR0aCA9IE1hdGguYWJzKGVuZFBpeGVsWzBdIC0gc3RhcnRQaXhlbFswXSkgKyBweDtcbiAgICBzdHlsZS5oZWlnaHQgPSBNYXRoLmFicyhlbmRQaXhlbFsxXSAtIHN0YXJ0UGl4ZWxbMV0pICsgcHg7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAqL1xuICBSZW5kZXJCb3gucHJvdG90eXBlLnNldE1hcCA9IGZ1bmN0aW9uIHNldE1hcCAobWFwKSB7XG4gICAgaWYgKHRoaXMubWFwXykge1xuICAgICAgdGhpcy5tYXBfLmdldE92ZXJsYXlDb250YWluZXIoKS5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnRfKTtcbiAgICAgIHZhciBzdHlsZSA9IHRoaXMuZWxlbWVudF8uc3R5bGU7XG4gICAgICBzdHlsZS5sZWZ0ID0gc3R5bGUudG9wID0gc3R5bGUud2lkdGggPSBzdHlsZS5oZWlnaHQgPSAnaW5oZXJpdCc7XG4gICAgfVxuICAgIHRoaXMubWFwXyA9IG1hcDtcbiAgICBpZiAodGhpcy5tYXBfKSB7XG4gICAgICB0aGlzLm1hcF8uZ2V0T3ZlcmxheUNvbnRhaW5lcigpLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudF8pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gc3RhcnRQaXhlbCBTdGFydCBwaXhlbC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gZW5kUGl4ZWwgRW5kIHBpeGVsLlxuICAgKi9cbiAgUmVuZGVyQm94LnByb3RvdHlwZS5zZXRQaXhlbHMgPSBmdW5jdGlvbiBzZXRQaXhlbHMgKHN0YXJ0UGl4ZWwsIGVuZFBpeGVsKSB7XG4gICAgdGhpcy5zdGFydFBpeGVsXyA9IHN0YXJ0UGl4ZWw7XG4gICAgdGhpcy5lbmRQaXhlbF8gPSBlbmRQaXhlbDtcbiAgICB0aGlzLmNyZWF0ZU9yVXBkYXRlR2VvbWV0cnkoKTtcbiAgICB0aGlzLnJlbmRlcl8oKTtcbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBvciB1cGRhdGVzIHRoZSBjYWNoZWQgZ2VvbWV0cnkuXG4gICAqL1xuICBSZW5kZXJCb3gucHJvdG90eXBlLmNyZWF0ZU9yVXBkYXRlR2VvbWV0cnkgPSBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZUdlb21ldHJ5ICgpIHtcbiAgICB2YXIgc3RhcnRQaXhlbCA9IHRoaXMuc3RhcnRQaXhlbF87XG4gICAgdmFyIGVuZFBpeGVsID0gdGhpcy5lbmRQaXhlbF87XG4gICAgdmFyIHBpeGVscyA9IFtcbiAgICAgIHN0YXJ0UGl4ZWwsXG4gICAgICBbc3RhcnRQaXhlbFswXSwgZW5kUGl4ZWxbMV1dLFxuICAgICAgZW5kUGl4ZWwsXG4gICAgICBbZW5kUGl4ZWxbMF0sIHN0YXJ0UGl4ZWxbMV1dXG4gICAgXTtcbiAgICB2YXIgY29vcmRpbmF0ZXMgPSBwaXhlbHMubWFwKHRoaXMubWFwXy5nZXRDb29yZGluYXRlRnJvbVBpeGVsLCB0aGlzLm1hcF8pO1xuICAgIC8vIGNsb3NlIHRoZSBwb2x5Z29uXG4gICAgY29vcmRpbmF0ZXNbNF0gPSBjb29yZGluYXRlc1swXS5zbGljZSgpO1xuICAgIGlmICghdGhpcy5nZW9tZXRyeV8pIHtcbiAgICAgIHRoaXMuZ2VvbWV0cnlfID0gbmV3IFBvbHlnb24oW2Nvb3JkaW5hdGVzXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZ2VvbWV0cnlfLnNldENvb3JkaW5hdGVzKFtjb29yZGluYXRlc10pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR9IEdlb21ldHJ5LlxuICAgKi9cbiAgUmVuZGVyQm94LnByb3RvdHlwZS5nZXRHZW9tZXRyeSA9IGZ1bmN0aW9uIGdldEdlb21ldHJ5ICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZW9tZXRyeV87XG4gIH07XG5cbiAgcmV0dXJuIFJlbmRlckJveDtcbn0oRGlzcG9zYWJsZSkpO1xuXG5cbmV4cG9ydCBkZWZhdWx0IFJlbmRlckJveDtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qm94LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9EcmFnQm94XG4gKi9cbi8vIEZJWE1FIGRyYXcgZHJhZyBib3hcbmltcG9ydCBFdmVudCBmcm9tICcuLi9ldmVudHMvRXZlbnQuanMnO1xuaW1wb3J0IHthbHdheXMsIG1vdXNlT25seSwgbW91c2VBY3Rpb25CdXR0b259IGZyb20gJy4uL2V2ZW50cy9jb25kaXRpb24uanMnO1xuaW1wb3J0IHtWT0lEfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IFBvaW50ZXJJbnRlcmFjdGlvbiBmcm9tICcuL1BvaW50ZXIuanMnO1xuaW1wb3J0IFJlbmRlckJveCBmcm9tICcuLi9yZW5kZXIvQm94LmpzJztcblxuXG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fSBhbmQgdHdvXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3BpeGVsflBpeGVsfXMgYW5kIHJldHVybnMgYSBge2Jvb2xlYW59YC4gSWYgdGhlIGNvbmRpdGlvbiBpcyBtZXQsXG4gKiB0cnVlIHNob3VsZCBiZSByZXR1cm5lZC5cbiAqIEB0eXBlZGVmIHtmdW5jdGlvbih0aGlzOiA/LCBpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdCwgaW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWwsIGltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsKTpib29sZWFufSBFbmRDb25kaXRpb25cbiAqL1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLWRyYWdib3gnXSBDU1MgY2xhc3MgbmFtZSBmb3Igc3R5bGluZyB0aGUgYm94LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn0gW2NvbmRpdGlvbl0gQSBmdW5jdGlvbiB0aGF0IHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHJldHVybnMgYSBib29sZWFuXG4gKiB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoYXQgZXZlbnQgc2hvdWxkIGJlIGhhbmRsZWQuXG4gKiBEZWZhdWx0IGlzIHtAbGluayBvbC9ldmVudHMvY29uZGl0aW9ufmFsd2F5c30uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pbkFyZWE9NjRdIFRoZSBtaW5pbXVtIGFyZWEgb2YgdGhlIGJveCBpbiBwaXhlbCwgdGhpcyB2YWx1ZSBpcyB1c2VkIGJ5IHRoZSBkZWZhdWx0XG4gKiBgYm94RW5kQ29uZGl0aW9uYCBmdW5jdGlvbi5cbiAqIEBwcm9wZXJ0eSB7RW5kQ29uZGl0aW9ufSBbYm94RW5kQ29uZGl0aW9uXSBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCB0d29cbiAqIHtAbGluayBtb2R1bGU6b2wvcGl4ZWx+UGl4ZWx9cyB0byBpbmRpY2F0ZSB3aGV0aGVyIGEgYGJveGVuZGAgZXZlbnQgc2hvdWxkIGJlIGZpcmVkLlxuICogRGVmYXVsdCBpcyBgdHJ1ZWAgaWYgdGhlIGFyZWEgb2YgdGhlIGJveCBpcyBiaWdnZXIgdGhhbiB0aGUgYG1pbkFyZWFgIG9wdGlvbi5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24odGhpczpEcmFnQm94LCBpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdCl9IG9uQm94RW5kIENvZGUgdG8gZXhlY3V0ZSBqdXN0XG4gKiBiZWZvcmUgYGJveGVuZGAgaXMgZmlyZWQuXG4gKi9cblxuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbnZhciBEcmFnQm94RXZlbnRUeXBlID0ge1xuICAvKipcbiAgICogVHJpZ2dlcmVkIHVwb24gZHJhZyBib3ggc3RhcnQuXG4gICAqIEBldmVudCBEcmFnQm94RXZlbnQjYm94c3RhcnRcbiAgICogQGFwaVxuICAgKi9cbiAgQk9YU1RBUlQ6ICdib3hzdGFydCcsXG5cbiAgLyoqXG4gICAqIFRyaWdnZXJlZCBvbiBkcmFnIHdoZW4gYm94IGlzIGFjdGl2ZS5cbiAgICogQGV2ZW50IERyYWdCb3hFdmVudCNib3hkcmFnXG4gICAqIEBhcGlcbiAgICovXG4gIEJPWERSQUc6ICdib3hkcmFnJyxcblxuICAvKipcbiAgICogVHJpZ2dlcmVkIHVwb24gZHJhZyBib3ggZW5kLlxuICAgKiBAZXZlbnQgRHJhZ0JveEV2ZW50I2JveGVuZFxuICAgKiBAYXBpXG4gICAqL1xuICBCT1hFTkQ6ICdib3hlbmQnXG59O1xuXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogRXZlbnRzIGVtaXR0ZWQgYnkge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9EcmFnQm94fkRyYWdCb3h9IGluc3RhbmNlcyBhcmUgaW5zdGFuY2VzIG9mXG4gKiB0aGlzIHR5cGUuXG4gKi9cbnZhciBEcmFnQm94RXZlbnQgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChFdmVudCkge1xuICBmdW5jdGlvbiBEcmFnQm94RXZlbnQodHlwZSwgY29vcmRpbmF0ZSwgbWFwQnJvd3NlckV2ZW50KSB7XG4gICAgRXZlbnQuY2FsbCh0aGlzLCB0eXBlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjb29yZGluYXRlIG9mIHRoZSBkcmFnIGV2ZW50LlxuICAgICAqIEBjb25zdFxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMuY29vcmRpbmF0ZSA9IGNvb3JkaW5hdGU7XG5cbiAgICAvKipcbiAgICAgKiBAY29uc3RcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMubWFwQnJvd3NlckV2ZW50ID0gbWFwQnJvd3NlckV2ZW50O1xuXG4gIH1cblxuICBpZiAoIEV2ZW50ICkgRHJhZ0JveEV2ZW50Ll9fcHJvdG9fXyA9IEV2ZW50O1xuICBEcmFnQm94RXZlbnQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZlbnQgJiYgRXZlbnQucHJvdG90eXBlICk7XG4gIERyYWdCb3hFdmVudC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBEcmFnQm94RXZlbnQ7XG5cbiAgcmV0dXJuIERyYWdCb3hFdmVudDtcbn0oRXZlbnQpKTtcblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFsbG93cyB0aGUgdXNlciB0byBkcmF3IGEgdmVjdG9yIGJveCBieSBjbGlja2luZyBhbmQgZHJhZ2dpbmcgb24gdGhlIG1hcCxcbiAqIG5vcm1hbGx5IGNvbWJpbmVkIHdpdGggYW4ge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9ufSB0aGF0IGxpbWl0c1xuICogaXQgdG8gd2hlbiB0aGUgc2hpZnQgb3Igb3RoZXIga2V5IGlzIGhlbGQgZG93bi4gVGhpcyBpcyB1c2VkLCBmb3IgZXhhbXBsZSxcbiAqIGZvciB6b29taW5nIHRvIGEgc3BlY2lmaWMgYXJlYSBvZiB0aGUgbWFwXG4gKiAoc2VlIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vRHJhZ1pvb21+RHJhZ1pvb219IGFuZFxuICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9EcmFnUm90YXRlQW5kWm9vbX0pLlxuICpcbiAqIFRoaXMgaW50ZXJhY3Rpb24gaXMgb25seSBzdXBwb3J0ZWQgZm9yIG1vdXNlIGRldmljZXMuXG4gKlxuICogQGZpcmVzIERyYWdCb3hFdmVudFxuICogQGFwaVxuICovXG52YXIgRHJhZ0JveCA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFBvaW50ZXJJbnRlcmFjdGlvbikge1xuICBmdW5jdGlvbiBEcmFnQm94KG9wdF9vcHRpb25zKSB7XG5cbiAgICBQb2ludGVySW50ZXJhY3Rpb24uY2FsbCh0aGlzKTtcblxuICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuXG4gICAgLyoqXG4gICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcmVuZGVyL0JveC5qc1wiKS5kZWZhdWx0fVxuICAgICogQHByaXZhdGVcbiAgICAqL1xuICAgIHRoaXMuYm94XyA9IG5ldyBSZW5kZXJCb3gob3B0aW9ucy5jbGFzc05hbWUgfHwgJ29sLWRyYWdib3gnKTtcblxuICAgIC8qKlxuICAgICogQHR5cGUge251bWJlcn1cbiAgICAqIEBwcml2YXRlXG4gICAgKi9cbiAgICB0aGlzLm1pbkFyZWFfID0gb3B0aW9ucy5taW5BcmVhICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1pbkFyZWEgOiA2NDtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHRvIGV4ZWN1dGUganVzdCBiZWZvcmUgYG9uYm94ZW5kYCBpcyBmaXJlZFxuICAgICAqIEB0eXBlIHtmdW5jdGlvbih0aGlzOkRyYWdCb3gsIGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0KX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMub25Cb3hFbmRfID0gb3B0aW9ucy5vbkJveEVuZCA/IG9wdGlvbnMub25Cb3hFbmQgOiBWT0lEO1xuXG4gICAgLyoqXG4gICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9XG4gICAgKiBAcHJpdmF0ZVxuICAgICovXG4gICAgdGhpcy5zdGFydFBpeGVsXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAqIEBwcml2YXRlXG4gICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259XG4gICAgKi9cbiAgICB0aGlzLmNvbmRpdGlvbl8gPSBvcHRpb25zLmNvbmRpdGlvbiA/IG9wdGlvbnMuY29uZGl0aW9uIDogYWx3YXlzO1xuXG4gICAgLyoqXG4gICAgKiBAcHJpdmF0ZVxuICAgICogQHR5cGUge0VuZENvbmRpdGlvbn1cbiAgICAqL1xuICAgIHRoaXMuYm94RW5kQ29uZGl0aW9uXyA9IG9wdGlvbnMuYm94RW5kQ29uZGl0aW9uID9cbiAgICAgIG9wdGlvbnMuYm94RW5kQ29uZGl0aW9uIDogdGhpcy5kZWZhdWx0Qm94RW5kQ29uZGl0aW9uO1xuICB9XG5cbiAgaWYgKCBQb2ludGVySW50ZXJhY3Rpb24gKSBEcmFnQm94Ll9fcHJvdG9fXyA9IFBvaW50ZXJJbnRlcmFjdGlvbjtcbiAgRHJhZ0JveC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBQb2ludGVySW50ZXJhY3Rpb24gJiYgUG9pbnRlckludGVyYWN0aW9uLnByb3RvdHlwZSApO1xuICBEcmFnQm94LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IERyYWdCb3g7XG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IGNvbmRpdGlvbiBmb3IgZGV0ZXJtaW5pbmcgd2hldGhlciB0aGUgYm94ZW5kIGV2ZW50XG4gICAqIHNob3VsZCBmaXJlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgVGhlIG9yaWdpbmF0aW5nIE1hcEJyb3dzZXJFdmVudFxuICAgKiAgICAgbGVhZGluZyB0byB0aGUgYm94IGVuZC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gc3RhcnRQaXhlbCBUaGUgc3RhcnRpbmcgcGl4ZWwgb2YgdGhlIGJveC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gZW5kUGl4ZWwgVGhlIGVuZCBwaXhlbCBvZiB0aGUgYm94LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgYm94ZW5kIGNvbmRpdGlvbiBzaG91bGQgYmUgZmlyZWQuXG4gICAqL1xuICBEcmFnQm94LnByb3RvdHlwZS5kZWZhdWx0Qm94RW5kQ29uZGl0aW9uID0gZnVuY3Rpb24gZGVmYXVsdEJveEVuZENvbmRpdGlvbiAobWFwQnJvd3NlckV2ZW50LCBzdGFydFBpeGVsLCBlbmRQaXhlbCkge1xuICAgIHZhciB3aWR0aCA9IGVuZFBpeGVsWzBdIC0gc3RhcnRQaXhlbFswXTtcbiAgICB2YXIgaGVpZ2h0ID0gZW5kUGl4ZWxbMV0gLSBzdGFydFBpeGVsWzFdO1xuICAgIHJldHVybiB3aWR0aCAqIHdpZHRoICsgaGVpZ2h0ICogaGVpZ2h0ID49IHRoaXMubWluQXJlYV87XG4gIH07XG5cbiAgLyoqXG4gICogUmV0dXJucyBnZW9tZXRyeSBvZiBsYXN0IGRyYXduIGJveC5cbiAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdH0gR2VvbWV0cnkuXG4gICogQGFwaVxuICAqL1xuICBEcmFnQm94LnByb3RvdHlwZS5nZXRHZW9tZXRyeSA9IGZ1bmN0aW9uIGdldEdlb21ldHJ5ICgpIHtcbiAgICByZXR1cm4gdGhpcy5ib3hfLmdldEdlb21ldHJ5KCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBEcmFnQm94LnByb3RvdHlwZS5oYW5kbGVEcmFnRXZlbnQgPSBmdW5jdGlvbiBoYW5kbGVEcmFnRXZlbnQgKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIGlmICghbW91c2VPbmx5KG1hcEJyb3dzZXJFdmVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmJveF8uc2V0UGl4ZWxzKHRoaXMuc3RhcnRQaXhlbF8sIG1hcEJyb3dzZXJFdmVudC5waXhlbCk7XG5cbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IERyYWdCb3hFdmVudChEcmFnQm94RXZlbnRUeXBlLkJPWERSQUcsXG4gICAgICBtYXBCcm93c2VyRXZlbnQuY29vcmRpbmF0ZSwgbWFwQnJvd3NlckV2ZW50KSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBEcmFnQm94LnByb3RvdHlwZS5oYW5kbGVVcEV2ZW50ID0gZnVuY3Rpb24gaGFuZGxlVXBFdmVudCAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgaWYgKCFtb3VzZU9ubHkobWFwQnJvd3NlckV2ZW50KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy5ib3hfLnNldE1hcChudWxsKTtcblxuICAgIGlmICh0aGlzLmJveEVuZENvbmRpdGlvbl8obWFwQnJvd3NlckV2ZW50LCB0aGlzLnN0YXJ0UGl4ZWxfLCBtYXBCcm93c2VyRXZlbnQucGl4ZWwpKSB7XG4gICAgICB0aGlzLm9uQm94RW5kXyhtYXBCcm93c2VyRXZlbnQpO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBEcmFnQm94RXZlbnQoRHJhZ0JveEV2ZW50VHlwZS5CT1hFTkQsXG4gICAgICAgIG1hcEJyb3dzZXJFdmVudC5jb29yZGluYXRlLCBtYXBCcm93c2VyRXZlbnQpKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgRHJhZ0JveC5wcm90b3R5cGUuaGFuZGxlRG93bkV2ZW50ID0gZnVuY3Rpb24gaGFuZGxlRG93bkV2ZW50IChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBpZiAoIW1vdXNlT25seShtYXBCcm93c2VyRXZlbnQpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKG1vdXNlQWN0aW9uQnV0dG9uKG1hcEJyb3dzZXJFdmVudCkgJiZcbiAgICAgICAgdGhpcy5jb25kaXRpb25fKG1hcEJyb3dzZXJFdmVudCkpIHtcbiAgICAgIHRoaXMuc3RhcnRQaXhlbF8gPSBtYXBCcm93c2VyRXZlbnQucGl4ZWw7XG4gICAgICB0aGlzLmJveF8uc2V0TWFwKG1hcEJyb3dzZXJFdmVudC5tYXApO1xuICAgICAgdGhpcy5ib3hfLnNldFBpeGVscyh0aGlzLnN0YXJ0UGl4ZWxfLCB0aGlzLnN0YXJ0UGl4ZWxfKTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgRHJhZ0JveEV2ZW50KERyYWdCb3hFdmVudFR5cGUuQk9YU1RBUlQsXG4gICAgICAgIG1hcEJyb3dzZXJFdmVudC5jb29yZGluYXRlLCBtYXBCcm93c2VyRXZlbnQpKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBEcmFnQm94O1xufShQb2ludGVySW50ZXJhY3Rpb24pKTtcblxuXG5leHBvcnQgZGVmYXVsdCBEcmFnQm94O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1EcmFnQm94LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9EcmFnWm9vbVxuICovXG5pbXBvcnQge2Vhc2VPdXR9IGZyb20gJy4uL2Vhc2luZy5qcyc7XG5pbXBvcnQge3NoaWZ0S2V5T25seX0gZnJvbSAnLi4vZXZlbnRzL2NvbmRpdGlvbi5qcyc7XG5pbXBvcnQge2NyZWF0ZU9yVXBkYXRlRnJvbUNvb3JkaW5hdGVzLCBnZXRCb3R0b21MZWZ0LCBnZXRDZW50ZXIsIGdldFRvcFJpZ2h0LCBzY2FsZUZyb21DZW50ZXJ9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgRHJhZ0JveCBmcm9tICcuL0RyYWdCb3guanMnO1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLWRyYWd6b29tJ10gQ1NTIGNsYXNzIG5hbWUgZm9yIHN0eWxpbmcgdGhlXG4gKiBib3guXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufSBbY29uZGl0aW9uXSBBIGZ1bmN0aW9uIHRoYXRcbiAqIHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHJldHVybnMgYVxuICogYm9vbGVhbiB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoYXQgZXZlbnQgc2hvdWxkIGJlIGhhbmRsZWQuXG4gKiBEZWZhdWx0IGlzIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbn5zaGlmdEtleU9ubHl9LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkdXJhdGlvbj0yMDBdIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvdXQ9ZmFsc2VdIFVzZSBpbnRlcmFjdGlvbiBmb3Igem9vbWluZyBvdXQuXG4gKi9cblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFsbG93cyB0aGUgdXNlciB0byB6b29tIHRoZSBtYXAgYnkgY2xpY2tpbmcgYW5kIGRyYWdnaW5nIG9uIHRoZSBtYXAsXG4gKiBub3JtYWxseSBjb21iaW5lZCB3aXRoIGFuIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbn0gdGhhdCBsaW1pdHNcbiAqIGl0IHRvIHdoZW4gYSBrZXksIHNoaWZ0IGJ5IGRlZmF1bHQsIGlzIGhlbGQgZG93bi5cbiAqXG4gKiBUbyBjaGFuZ2UgdGhlIHN0eWxlIG9mIHRoZSBib3gsIHVzZSBDU1MgYW5kIHRoZSBgLm9sLWRyYWd6b29tYCBzZWxlY3Rvciwgb3JcbiAqIHlvdXIgY3VzdG9tIG9uZSBjb25maWd1cmVkIHdpdGggYGNsYXNzTmFtZWAuXG4gKiBAYXBpXG4gKi9cbnZhciBEcmFnWm9vbSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKERyYWdCb3gpIHtcbiAgZnVuY3Rpb24gRHJhZ1pvb20ob3B0X29wdGlvbnMpIHtcbiAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcblxuICAgIHZhciBjb25kaXRpb24gPSBvcHRpb25zLmNvbmRpdGlvbiA/IG9wdGlvbnMuY29uZGl0aW9uIDogc2hpZnRLZXlPbmx5O1xuXG4gICAgRHJhZ0JveC5jYWxsKHRoaXMsIHtcbiAgICAgIGNvbmRpdGlvbjogY29uZGl0aW9uLFxuICAgICAgY2xhc3NOYW1lOiBvcHRpb25zLmNsYXNzTmFtZSB8fCAnb2wtZHJhZ3pvb20nLFxuICAgICAgb25Cb3hFbmQ6IG9uQm94RW5kXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMjAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLm91dF8gPSBvcHRpb25zLm91dCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5vdXQgOiBmYWxzZTtcbiAgfVxuXG4gIGlmICggRHJhZ0JveCApIERyYWdab29tLl9fcHJvdG9fXyA9IERyYWdCb3g7XG4gIERyYWdab29tLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIERyYWdCb3ggJiYgRHJhZ0JveC5wcm90b3R5cGUgKTtcbiAgRHJhZ1pvb20ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRHJhZ1pvb207XG5cbiAgcmV0dXJuIERyYWdab29tO1xufShEcmFnQm94KSk7XG5cblxuLyoqXG4gKiBAdGhpcyB7RHJhZ1pvb219XG4gKi9cbmZ1bmN0aW9uIG9uQm94RW5kKCkge1xuICB2YXIgbWFwID0gdGhpcy5nZXRNYXAoKTtcbiAgdmFyIHZpZXcgPSAvKiogQHR5cGUgeyFpbXBvcnQoXCIuLi9WaWV3LmpzXCIpLmRlZmF1bHR9ICovIChtYXAuZ2V0VmlldygpKTtcbiAgdmFyIHNpemUgPSAvKiogQHR5cGUgeyFpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9ICovIChtYXAuZ2V0U2l6ZSgpKTtcbiAgdmFyIGV4dGVudCA9IHRoaXMuZ2V0R2VvbWV0cnkoKS5nZXRFeHRlbnQoKTtcblxuICBpZiAodGhpcy5vdXRfKSB7XG4gICAgdmFyIG1hcEV4dGVudCA9IHZpZXcuY2FsY3VsYXRlRXh0ZW50KHNpemUpO1xuICAgIHZhciBib3hQaXhlbEV4dGVudCA9IGNyZWF0ZU9yVXBkYXRlRnJvbUNvb3JkaW5hdGVzKFtcbiAgICAgIG1hcC5nZXRQaXhlbEZyb21Db29yZGluYXRlKGdldEJvdHRvbUxlZnQoZXh0ZW50KSksXG4gICAgICBtYXAuZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZShnZXRUb3BSaWdodChleHRlbnQpKV0pO1xuICAgIHZhciBmYWN0b3IgPSB2aWV3LmdldFJlc29sdXRpb25Gb3JFeHRlbnQoYm94UGl4ZWxFeHRlbnQsIHNpemUpO1xuXG4gICAgc2NhbGVGcm9tQ2VudGVyKG1hcEV4dGVudCwgMSAvIGZhY3Rvcik7XG4gICAgZXh0ZW50ID0gbWFwRXh0ZW50O1xuICB9XG5cbiAgdmFyIHJlc29sdXRpb24gPSB2aWV3LmNvbnN0cmFpblJlc29sdXRpb24oXG4gICAgdmlldy5nZXRSZXNvbHV0aW9uRm9yRXh0ZW50KGV4dGVudCwgc2l6ZSkpO1xuXG4gIHZhciBjZW50ZXIgPSBnZXRDZW50ZXIoZXh0ZW50KTtcbiAgY2VudGVyID0gdmlldy5jb25zdHJhaW5DZW50ZXIoY2VudGVyKTtcblxuICB2aWV3LmFuaW1hdGUoe1xuICAgIHJlc29sdXRpb246IHJlc29sdXRpb24sXG4gICAgY2VudGVyOiBjZW50ZXIsXG4gICAgZHVyYXRpb246IHRoaXMuZHVyYXRpb25fLFxuICAgIGVhc2luZzogZWFzZU91dFxuICB9KTtcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBEcmFnWm9vbTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RHJhZ1pvb20uanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2V2ZW50cy9LZXlDb2RlXG4gKi9cblxuLyoqXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQGNvbnN0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgTEVGVDogMzcsXG4gIFVQOiAzOCxcbiAgUklHSFQ6IDM5LFxuICBET1dOOiA0MFxufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9S2V5Q29kZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vS2V5Ym9hcmRQYW5cbiAqL1xuaW1wb3J0IHtyb3RhdGUgYXMgcm90YXRlQ29vcmRpbmF0ZX0gZnJvbSAnLi4vY29vcmRpbmF0ZS5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IEtleUNvZGUgZnJvbSAnLi4vZXZlbnRzL0tleUNvZGUuanMnO1xuaW1wb3J0IHtub01vZGlmaWVyS2V5cywgdGFyZ2V0Tm90RWRpdGFibGV9IGZyb20gJy4uL2V2ZW50cy9jb25kaXRpb24uanMnO1xuaW1wb3J0IEludGVyYWN0aW9uLCB7cGFufSBmcm9tICcuL0ludGVyYWN0aW9uLmpzJztcblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFtjb25kaXRpb25dIEEgZnVuY3Rpb24gdGhhdFxuICogdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fSBhbmQgcmV0dXJucyBhXG4gKiBib29sZWFuIHRvIGluZGljYXRlIHdoZXRoZXIgdGhhdCBldmVudCBzaG91bGQgYmUgaGFuZGxlZC4gRGVmYXVsdCBpc1xuICoge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9ufm5vTW9kaWZpZXJLZXlzfSBhbmRcbiAqIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbn50YXJnZXROb3RFZGl0YWJsZX0uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uPTEwMF0gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcGl4ZWxEZWx0YT0xMjhdIFRoZSBhbW91bnQgb2YgcGl4ZWxzIHRvIHBhbiBvbiBlYWNoIGtleVxuICogcHJlc3MuXG4gKi9cblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFsbG93cyB0aGUgdXNlciB0byBwYW4gdGhlIG1hcCB1c2luZyBrZXlib2FyZCBhcnJvd3MuXG4gKiBOb3RlIHRoYXQsIGFsdGhvdWdoIHRoaXMgaW50ZXJhY3Rpb24gaXMgYnkgZGVmYXVsdCBpbmNsdWRlZCBpbiBtYXBzLFxuICogdGhlIGtleXMgY2FuIG9ubHkgYmUgdXNlZCB3aGVuIGJyb3dzZXIgZm9jdXMgaXMgb24gdGhlIGVsZW1lbnQgdG8gd2hpY2hcbiAqIHRoZSBrZXlib2FyZCBldmVudHMgYXJlIGF0dGFjaGVkLiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRoZSBtYXAgZGl2LFxuICogdGhvdWdoIHlvdSBjYW4gY2hhbmdlIHRoaXMgd2l0aCB0aGUgYGtleWJvYXJkRXZlbnRUYXJnZXRgIGluXG4gKiB7QGxpbmsgbW9kdWxlOm9sL01hcH5NYXB9LiBgZG9jdW1lbnRgIG5ldmVyIGxvc2VzIGZvY3VzIGJ1dCwgZm9yIGFueSBvdGhlclxuICogZWxlbWVudCwgZm9jdXMgd2lsbCBoYXZlIHRvIGJlIG9uLCBhbmQgcmV0dXJuZWQgdG8sIHRoaXMgZWxlbWVudCBpZiB0aGUga2V5c1xuICogYXJlIHRvIGZ1bmN0aW9uLlxuICogU2VlIGFsc28ge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9LZXlib2FyZFpvb21+S2V5Ym9hcmRab29tfS5cbiAqIEBhcGlcbiAqL1xudmFyIEtleWJvYXJkUGFuID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoSW50ZXJhY3Rpb24pIHtcbiAgZnVuY3Rpb24gS2V5Ym9hcmRQYW4ob3B0X29wdGlvbnMpIHtcblxuICAgIEludGVyYWN0aW9uLmNhbGwodGhpcywge1xuICAgICAgaGFuZGxlRXZlbnQ6IGhhbmRsZUV2ZW50XG4gICAgfSk7XG5cbiAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgQnJvd3NlciBldmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBDb21iaW5lZCBjb25kaXRpb24gcmVzdWx0LlxuICAgICAqL1xuICAgIHRoaXMuZGVmYXVsdENvbmRpdGlvbl8gPSBmdW5jdGlvbihtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgIHJldHVybiBub01vZGlmaWVyS2V5cyhtYXBCcm93c2VyRXZlbnQpICYmXG4gICAgICAgIHRhcmdldE5vdEVkaXRhYmxlKG1hcEJyb3dzZXJFdmVudCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuY29uZGl0aW9uXyA9IG9wdGlvbnMuY29uZGl0aW9uICE9PSB1bmRlZmluZWQgP1xuICAgICAgb3B0aW9ucy5jb25kaXRpb24gOiB0aGlzLmRlZmF1bHRDb25kaXRpb25fO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZHVyYXRpb25fID0gb3B0aW9ucy5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kdXJhdGlvbiA6IDEwMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnBpeGVsRGVsdGFfID0gb3B0aW9ucy5waXhlbERlbHRhICE9PSB1bmRlZmluZWQgP1xuICAgICAgb3B0aW9ucy5waXhlbERlbHRhIDogMTI4O1xuXG4gIH1cblxuICBpZiAoIEludGVyYWN0aW9uICkgS2V5Ym9hcmRQYW4uX19wcm90b19fID0gSW50ZXJhY3Rpb247XG4gIEtleWJvYXJkUGFuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEludGVyYWN0aW9uICYmIEludGVyYWN0aW9uLnByb3RvdHlwZSApO1xuICBLZXlib2FyZFBhbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBLZXlib2FyZFBhbjtcblxuICByZXR1cm4gS2V5Ym9hcmRQYW47XG59KEludGVyYWN0aW9uKSk7XG5cblxuLyoqXG4gKiBIYW5kbGVzIHRoZSB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudCBtYXAgYnJvd3NlciBldmVudH0gaWYgaXQgd2FzIGFcbiAqIGBLZXlFdmVudGAsIGFuZCBkZWNpZGVzIHRoZSBkaXJlY3Rpb24gdG8gcGFuIHRvIChpZiBhbiBhcnJvdyBrZXkgd2FzXG4gKiBwcmVzc2VkKS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IGBmYWxzZWAgdG8gc3RvcCBldmVudCBwcm9wYWdhdGlvbi5cbiAqIEB0aGlzIHtLZXlib2FyZFBhbn1cbiAqL1xuZnVuY3Rpb24gaGFuZGxlRXZlbnQobWFwQnJvd3NlckV2ZW50KSB7XG4gIHZhciBzdG9wRXZlbnQgPSBmYWxzZTtcbiAgaWYgKG1hcEJyb3dzZXJFdmVudC50eXBlID09IEV2ZW50VHlwZS5LRVlET1dOKSB7XG4gICAgdmFyIGtleUV2ZW50ID0gLyoqIEB0eXBlIHtLZXlib2FyZEV2ZW50fSAqLyAobWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQpO1xuICAgIHZhciBrZXlDb2RlID0ga2V5RXZlbnQua2V5Q29kZTtcbiAgICBpZiAodGhpcy5jb25kaXRpb25fKG1hcEJyb3dzZXJFdmVudCkgJiZcbiAgICAgICAgKGtleUNvZGUgPT0gS2V5Q29kZS5ET1dOIHx8XG4gICAgICAgIGtleUNvZGUgPT0gS2V5Q29kZS5MRUZUIHx8XG4gICAgICAgIGtleUNvZGUgPT0gS2V5Q29kZS5SSUdIVCB8fFxuICAgICAgICBrZXlDb2RlID09IEtleUNvZGUuVVApKSB7XG4gICAgICB2YXIgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgIHZhciBtYXBVbml0c0RlbHRhID0gdmlldy5nZXRSZXNvbHV0aW9uKCkgKiB0aGlzLnBpeGVsRGVsdGFfO1xuICAgICAgdmFyIGRlbHRhWCA9IDAsIGRlbHRhWSA9IDA7XG4gICAgICBpZiAoa2V5Q29kZSA9PSBLZXlDb2RlLkRPV04pIHtcbiAgICAgICAgZGVsdGFZID0gLW1hcFVuaXRzRGVsdGE7XG4gICAgICB9IGVsc2UgaWYgKGtleUNvZGUgPT0gS2V5Q29kZS5MRUZUKSB7XG4gICAgICAgIGRlbHRhWCA9IC1tYXBVbml0c0RlbHRhO1xuICAgICAgfSBlbHNlIGlmIChrZXlDb2RlID09IEtleUNvZGUuUklHSFQpIHtcbiAgICAgICAgZGVsdGFYID0gbWFwVW5pdHNEZWx0YTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbHRhWSA9IG1hcFVuaXRzRGVsdGE7XG4gICAgICB9XG4gICAgICB2YXIgZGVsdGEgPSBbZGVsdGFYLCBkZWx0YVldO1xuICAgICAgcm90YXRlQ29vcmRpbmF0ZShkZWx0YSwgdmlldy5nZXRSb3RhdGlvbigpKTtcbiAgICAgIHBhbih2aWV3LCBkZWx0YSwgdGhpcy5kdXJhdGlvbl8pO1xuICAgICAgbWFwQnJvd3NlckV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBzdG9wRXZlbnQgPSB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gIXN0b3BFdmVudDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgS2V5Ym9hcmRQYW47XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUtleWJvYXJkUGFuLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9LZXlib2FyZFpvb21cbiAqL1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7dGFyZ2V0Tm90RWRpdGFibGV9IGZyb20gJy4uL2V2ZW50cy9jb25kaXRpb24uanMnO1xuaW1wb3J0IEludGVyYWN0aW9uLCB7em9vbUJ5RGVsdGF9IGZyb20gJy4vSW50ZXJhY3Rpb24uanMnO1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkdXJhdGlvbj0xMDBdIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufSBbY29uZGl0aW9uXSBBIGZ1bmN0aW9uIHRoYXRcbiAqIHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHJldHVybnMgYVxuICogYm9vbGVhbiB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoYXQgZXZlbnQgc2hvdWxkIGJlIGhhbmRsZWQuIERlZmF1bHQgaXNcbiAqIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbn50YXJnZXROb3RFZGl0YWJsZX0uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2RlbHRhPTFdIFRoZSB6b29tIGxldmVsIGRlbHRhIG9uIGVhY2gga2V5IHByZXNzLlxuICovXG5cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gem9vbSB0aGUgbWFwIHVzaW5nIGtleWJvYXJkICsgYW5kIC0uXG4gKiBOb3RlIHRoYXQsIGFsdGhvdWdoIHRoaXMgaW50ZXJhY3Rpb24gaXMgYnkgZGVmYXVsdCBpbmNsdWRlZCBpbiBtYXBzLFxuICogdGhlIGtleXMgY2FuIG9ubHkgYmUgdXNlZCB3aGVuIGJyb3dzZXIgZm9jdXMgaXMgb24gdGhlIGVsZW1lbnQgdG8gd2hpY2hcbiAqIHRoZSBrZXlib2FyZCBldmVudHMgYXJlIGF0dGFjaGVkLiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRoZSBtYXAgZGl2LFxuICogdGhvdWdoIHlvdSBjYW4gY2hhbmdlIHRoaXMgd2l0aCB0aGUgYGtleWJvYXJkRXZlbnRUYXJnZXRgIGluXG4gKiB7QGxpbmsgbW9kdWxlOm9sL01hcH5NYXB9LiBgZG9jdW1lbnRgIG5ldmVyIGxvc2VzIGZvY3VzIGJ1dCwgZm9yIGFueSBvdGhlclxuICogZWxlbWVudCwgZm9jdXMgd2lsbCBoYXZlIHRvIGJlIG9uLCBhbmQgcmV0dXJuZWQgdG8sIHRoaXMgZWxlbWVudCBpZiB0aGUga2V5c1xuICogYXJlIHRvIGZ1bmN0aW9uLlxuICogU2VlIGFsc28ge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9LZXlib2FyZFBhbn5LZXlib2FyZFBhbn0uXG4gKiBAYXBpXG4gKi9cbnZhciBLZXlib2FyZFpvb20gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChJbnRlcmFjdGlvbikge1xuICBmdW5jdGlvbiBLZXlib2FyZFpvb20ob3B0X29wdGlvbnMpIHtcblxuICAgIEludGVyYWN0aW9uLmNhbGwodGhpcywge1xuICAgICAgaGFuZGxlRXZlbnQ6IGhhbmRsZUV2ZW50XG4gICAgfSk7XG5cbiAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuY29uZGl0aW9uXyA9IG9wdGlvbnMuY29uZGl0aW9uID8gb3B0aW9ucy5jb25kaXRpb24gOiB0YXJnZXROb3RFZGl0YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmRlbHRhXyA9IG9wdGlvbnMuZGVsdGEgPyBvcHRpb25zLmRlbHRhIDogMTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmR1cmF0aW9uXyA9IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAxMDA7XG5cbiAgfVxuXG4gIGlmICggSW50ZXJhY3Rpb24gKSBLZXlib2FyZFpvb20uX19wcm90b19fID0gSW50ZXJhY3Rpb247XG4gIEtleWJvYXJkWm9vbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBJbnRlcmFjdGlvbiAmJiBJbnRlcmFjdGlvbi5wcm90b3R5cGUgKTtcbiAgS2V5Ym9hcmRab29tLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEtleWJvYXJkWm9vbTtcblxuICByZXR1cm4gS2V5Ym9hcmRab29tO1xufShJbnRlcmFjdGlvbikpO1xuXG5cbi8qKlxuICogSGFuZGxlcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnQgbWFwIGJyb3dzZXIgZXZlbnR9IGlmIGl0IHdhcyBhXG4gKiBgS2V5RXZlbnRgLCBhbmQgZGVjaWRlcyB3aGV0aGVyIHRvIHpvb20gaW4gb3Igb3V0IChkZXBlbmRpbmcgb24gd2hldGhlciB0aGVcbiAqIGtleSBwcmVzc2VkIHdhcyAnKycgb3IgJy0nKS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IGBmYWxzZWAgdG8gc3RvcCBldmVudCBwcm9wYWdhdGlvbi5cbiAqIEB0aGlzIHtLZXlib2FyZFpvb219XG4gKi9cbmZ1bmN0aW9uIGhhbmRsZUV2ZW50KG1hcEJyb3dzZXJFdmVudCkge1xuICB2YXIgc3RvcEV2ZW50ID0gZmFsc2U7XG4gIGlmIChtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBFdmVudFR5cGUuS0VZRE9XTiB8fFxuICAgICAgbWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gRXZlbnRUeXBlLktFWVBSRVNTKSB7XG4gICAgdmFyIGtleUV2ZW50ID0gLyoqIEB0eXBlIHtLZXlib2FyZEV2ZW50fSAqLyAobWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQpO1xuICAgIHZhciBjaGFyQ29kZSA9IGtleUV2ZW50LmNoYXJDb2RlO1xuICAgIGlmICh0aGlzLmNvbmRpdGlvbl8obWFwQnJvd3NlckV2ZW50KSAmJlxuICAgICAgICAoY2hhckNvZGUgPT0gJysnLmNoYXJDb2RlQXQoMCkgfHwgY2hhckNvZGUgPT0gJy0nLmNoYXJDb2RlQXQoMCkpKSB7XG4gICAgICB2YXIgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgIHZhciBkZWx0YSA9IChjaGFyQ29kZSA9PSAnKycuY2hhckNvZGVBdCgwKSkgPyB0aGlzLmRlbHRhXyA6IC10aGlzLmRlbHRhXztcbiAgICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgIHpvb21CeURlbHRhKHZpZXcsIGRlbHRhLCB1bmRlZmluZWQsIHRoaXMuZHVyYXRpb25fKTtcbiAgICAgIG1hcEJyb3dzZXJFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgc3RvcEV2ZW50ID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICFzdG9wRXZlbnQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEtleWJvYXJkWm9vbTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9S2V5Ym9hcmRab29tLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9Nb3VzZVdoZWVsWm9vbVxuICovXG5pbXBvcnQgVmlld0hpbnQgZnJvbSAnLi4vVmlld0hpbnQuanMnO1xuaW1wb3J0IHthbHdheXN9IGZyb20gJy4uL2V2ZW50cy9jb25kaXRpb24uanMnO1xuaW1wb3J0IHtlYXNlT3V0fSBmcm9tICcuLi9lYXNpbmcuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7REVWSUNFX1BJWEVMX1JBVElPLCBGSVJFRk9YLCBTQUZBUkl9IGZyb20gJy4uL2hhcy5qcyc7XG5pbXBvcnQgSW50ZXJhY3Rpb24sIHt6b29tQnlEZWx0YX0gZnJvbSAnLi9JbnRlcmFjdGlvbi5qcyc7XG5pbXBvcnQge2NsYW1wfSBmcm9tICcuLi9tYXRoLmpzJztcblxuXG4vKipcbiAqIE1heGltdW0gbW91c2Ugd2hlZWwgZGVsdGEuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG52YXIgTUFYX0RFTFRBID0gMTtcblxuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCB2YXIgTW9kZSA9IHtcbiAgVFJBQ0tQQUQ6ICd0cmFja3BhZCcsXG4gIFdIRUVMOiAnd2hlZWwnXG59O1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn0gW2NvbmRpdGlvbl0gQSBmdW5jdGlvbiB0aGF0XG4gKiB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGFcbiAqIGJvb2xlYW4gdG8gaW5kaWNhdGUgd2hldGhlciB0aGF0IGV2ZW50IHNob3VsZCBiZSBoYW5kbGVkLiBEZWZhdWx0IGlzXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb25+YWx3YXlzfS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MjUwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aW1lb3V0PTgwXSBNb3VzZSB3aGVlbCB0aW1lb3V0IGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2NvbnN0cmFpblJlc29sdXRpb249ZmFsc2VdIFdoZW4gdXNpbmcgYSB0cmFja3BhZCBvclxuICogbWFnaWMgbW91c2UsIHpvb20gdG8gdGhlIGNsb3Nlc3QgaW50ZWdlciB6b29tIGxldmVsIGFmdGVyIHRoZSBzY3JvbGwgZ2VzdHVyZVxuICogZW5kcy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VzZUFuY2hvcj10cnVlXSBFbmFibGUgem9vbWluZyB1c2luZyB0aGUgbW91c2Unc1xuICogbG9jYXRpb24gYXMgdGhlIGFuY2hvci4gV2hlbiBzZXQgdG8gYGZhbHNlYCwgem9vbWluZyBpbiBhbmQgb3V0IHdpbGwgem9vbSB0b1xuICogdGhlIGNlbnRlciBvZiB0aGUgc2NyZWVuIGluc3RlYWQgb2Ygem9vbWluZyBvbiB0aGUgbW91c2UncyBsb2NhdGlvbi5cbiAqL1xuXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIHpvb20gdGhlIG1hcCBieSBzY3JvbGxpbmcgdGhlIG1vdXNlIHdoZWVsLlxuICogQGFwaVxuICovXG52YXIgTW91c2VXaGVlbFpvb20gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChJbnRlcmFjdGlvbikge1xuICBmdW5jdGlvbiBNb3VzZVdoZWVsWm9vbShvcHRfb3B0aW9ucykge1xuXG4gICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG5cbiAgICBJbnRlcmFjdGlvbi5jYWxsKC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9JbnRlcmFjdGlvbi5qc1wiKS5JbnRlcmFjdGlvbk9wdGlvbnN9ICovIHRoaXMsIChvcHRpb25zKSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kZWx0YV8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZHVyYXRpb25fID0gb3B0aW9ucy5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kdXJhdGlvbiA6IDI1MDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbWVvdXRfID0gb3B0aW9ucy50aW1lb3V0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnRpbWVvdXQgOiA4MDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy51c2VBbmNob3JfID0gb3B0aW9ucy51c2VBbmNob3IgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudXNlQW5jaG9yIDogdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5jb25zdHJhaW5SZXNvbHV0aW9uXyA9IG9wdGlvbnMuY29uc3RyYWluUmVzb2x1dGlvbiB8fCBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuY29uZGl0aW9uXyA9IG9wdGlvbnMuY29uZGl0aW9uID8gb3B0aW9ucy5jb25kaXRpb24gOiBhbHdheXM7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAqL1xuICAgIHRoaXMubGFzdEFuY2hvcl8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnN0YXJ0VGltZV8gPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/fVxuICAgICAqL1xuICAgIHRoaXMudGltZW91dElkXztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge01vZGV8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMubW9kZV8gPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBUcmFja3BhZCBldmVudHMgc2VwYXJhdGVkIGJ5IHRoaXMgZGVsYXkgd2lsbCBiZSBjb25zaWRlcmVkIHNlcGFyYXRlXG4gICAgICogaW50ZXJhY3Rpb25zLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50cmFja3BhZEV2ZW50R2FwXyA9IDQwMDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHs/fVxuICAgICAqL1xuICAgIHRoaXMudHJhY2twYWRUaW1lb3V0SWRfO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBkZWx0YSB2YWx1ZXMgcGVyIHpvb20gbGV2ZWxcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50cmFja3BhZERlbHRhUGVyWm9vbV8gPSAzMDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgem9vbSBmYWN0b3IgYnkgd2hpY2ggc2Nyb2xsIHpvb21pbmcgaXMgYWxsb3dlZCB0byBleGNlZWQgdGhlIGxpbWl0cy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50cmFja3BhZFpvb21CdWZmZXJfID0gMS41O1xuXG4gIH1cblxuICBpZiAoIEludGVyYWN0aW9uICkgTW91c2VXaGVlbFpvb20uX19wcm90b19fID0gSW50ZXJhY3Rpb247XG4gIE1vdXNlV2hlZWxab29tLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEludGVyYWN0aW9uICYmIEludGVyYWN0aW9uLnByb3RvdHlwZSApO1xuICBNb3VzZVdoZWVsWm9vbS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNb3VzZVdoZWVsWm9vbTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIE1vdXNlV2hlZWxab29tLnByb3RvdHlwZS5kZWNyZW1lbnRJbnRlcmFjdGluZ0hpbnRfID0gZnVuY3Rpb24gZGVjcmVtZW50SW50ZXJhY3RpbmdIaW50XyAoKSB7XG4gICAgdGhpcy50cmFja3BhZFRpbWVvdXRJZF8gPSB1bmRlZmluZWQ7XG4gICAgdmFyIHZpZXcgPSB0aGlzLmdldE1hcCgpLmdldFZpZXcoKTtcbiAgICB2aWV3LnNldEhpbnQoVmlld0hpbnQuSU5URVJBQ1RJTkcsIC0xKTtcbiAgfTtcblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnQgbWFwIGJyb3dzZXIgZXZlbnR9IChpZiBpdCB3YXMgYSBtb3VzZXdoZWVsLWV2ZW50KSBhbmQgZXZlbnR1YWxseVxuICAgKiB6b29tcyB0aGUgbWFwLlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIE1vdXNlV2hlZWxab29tLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uIGhhbmRsZUV2ZW50IChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuY29uZGl0aW9uXyhtYXBCcm93c2VyRXZlbnQpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIHR5cGUgPSBtYXBCcm93c2VyRXZlbnQudHlwZTtcbiAgICBpZiAodHlwZSAhPT0gRXZlbnRUeXBlLldIRUVMICYmIHR5cGUgIT09IEV2ZW50VHlwZS5NT1VTRVdIRUVMKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBtYXBCcm93c2VyRXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgIHZhciB3aGVlbEV2ZW50ID0gLyoqIEB0eXBlIHtXaGVlbEV2ZW50fSAqLyAobWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQpO1xuXG4gICAgaWYgKHRoaXMudXNlQW5jaG9yXykge1xuICAgICAgdGhpcy5sYXN0QW5jaG9yXyA9IG1hcEJyb3dzZXJFdmVudC5jb29yZGluYXRlO1xuICAgIH1cblxuICAgIC8vIERlbHRhIG5vcm1hbGlzYXRpb24gaW5zcGlyZWQgYnlcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9ibG9iLzAwMWM3YjkvanMvdWkvaGFuZGxlci9zY3JvbGxfem9vbS5qc1xuICAgIHZhciBkZWx0YTtcbiAgICBpZiAobWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gRXZlbnRUeXBlLldIRUVMKSB7XG4gICAgICBkZWx0YSA9IHdoZWVsRXZlbnQuZGVsdGFZO1xuICAgICAgaWYgKEZJUkVGT1ggJiZcbiAgICAgICAgICB3aGVlbEV2ZW50LmRlbHRhTW9kZSA9PT0gV2hlZWxFdmVudC5ET01fREVMVEFfUElYRUwpIHtcbiAgICAgICAgZGVsdGEgLz0gREVWSUNFX1BJWEVMX1JBVElPO1xuICAgICAgfVxuICAgICAgaWYgKHdoZWVsRXZlbnQuZGVsdGFNb2RlID09PSBXaGVlbEV2ZW50LkRPTV9ERUxUQV9MSU5FKSB7XG4gICAgICAgIGRlbHRhICo9IDQwO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gRXZlbnRUeXBlLk1PVVNFV0hFRUwpIHtcbiAgICAgIGRlbHRhID0gLXdoZWVsRXZlbnQud2hlZWxEZWx0YVk7XG4gICAgICBpZiAoU0FGQVJJKSB7XG4gICAgICAgIGRlbHRhIC89IDM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRlbHRhID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIG5vdyA9IERhdGUubm93KCk7XG5cbiAgICBpZiAodGhpcy5zdGFydFRpbWVfID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc3RhcnRUaW1lXyA9IG5vdztcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMubW9kZV8gfHwgbm93IC0gdGhpcy5zdGFydFRpbWVfID4gdGhpcy50cmFja3BhZEV2ZW50R2FwXykge1xuICAgICAgdGhpcy5tb2RlXyA9IE1hdGguYWJzKGRlbHRhKSA8IDQgP1xuICAgICAgICBNb2RlLlRSQUNLUEFEIDpcbiAgICAgICAgTW9kZS5XSEVFTDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5tb2RlXyA9PT0gTW9kZS5UUkFDS1BBRCkge1xuICAgICAgdmFyIHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgICAgaWYgKHRoaXMudHJhY2twYWRUaW1lb3V0SWRfKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRyYWNrcGFkVGltZW91dElkXyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2aWV3LnNldEhpbnQoVmlld0hpbnQuSU5URVJBQ1RJTkcsIDEpO1xuICAgICAgfVxuICAgICAgdGhpcy50cmFja3BhZFRpbWVvdXRJZF8gPSBzZXRUaW1lb3V0KHRoaXMuZGVjcmVtZW50SW50ZXJhY3RpbmdIaW50Xy5iaW5kKHRoaXMpLCB0aGlzLnRyYWNrcGFkRXZlbnRHYXBfKTtcbiAgICAgIHZhciByZXNvbHV0aW9uID0gdmlldy5nZXRSZXNvbHV0aW9uKCkgKiBNYXRoLnBvdygyLCBkZWx0YSAvIHRoaXMudHJhY2twYWREZWx0YVBlclpvb21fKTtcbiAgICAgIHZhciBtaW5SZXNvbHV0aW9uID0gdmlldy5nZXRNaW5SZXNvbHV0aW9uKCk7XG4gICAgICB2YXIgbWF4UmVzb2x1dGlvbiA9IHZpZXcuZ2V0TWF4UmVzb2x1dGlvbigpO1xuICAgICAgdmFyIHJlYm91bmQgPSAwO1xuICAgICAgaWYgKHJlc29sdXRpb24gPCBtaW5SZXNvbHV0aW9uKSB7XG4gICAgICAgIHJlc29sdXRpb24gPSBNYXRoLm1heChyZXNvbHV0aW9uLCBtaW5SZXNvbHV0aW9uIC8gdGhpcy50cmFja3BhZFpvb21CdWZmZXJfKTtcbiAgICAgICAgcmVib3VuZCA9IDE7XG4gICAgICB9IGVsc2UgaWYgKHJlc29sdXRpb24gPiBtYXhSZXNvbHV0aW9uKSB7XG4gICAgICAgIHJlc29sdXRpb24gPSBNYXRoLm1pbihyZXNvbHV0aW9uLCBtYXhSZXNvbHV0aW9uICogdGhpcy50cmFja3BhZFpvb21CdWZmZXJfKTtcbiAgICAgICAgcmVib3VuZCA9IC0xO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMubGFzdEFuY2hvcl8pIHtcbiAgICAgICAgdmFyIGNlbnRlciA9IHZpZXcuY2FsY3VsYXRlQ2VudGVyWm9vbShyZXNvbHV0aW9uLCB0aGlzLmxhc3RBbmNob3JfKTtcbiAgICAgICAgdmlldy5zZXRDZW50ZXIodmlldy5jb25zdHJhaW5DZW50ZXIoY2VudGVyKSk7XG4gICAgICB9XG4gICAgICB2aWV3LnNldFJlc29sdXRpb24ocmVzb2x1dGlvbik7XG5cbiAgICAgIGlmIChyZWJvdW5kID09PSAwICYmIHRoaXMuY29uc3RyYWluUmVzb2x1dGlvbl8pIHtcbiAgICAgICAgdmlldy5hbmltYXRlKHtcbiAgICAgICAgICByZXNvbHV0aW9uOiB2aWV3LmNvbnN0cmFpblJlc29sdXRpb24ocmVzb2x1dGlvbiwgZGVsdGEgPiAwID8gLTEgOiAxKSxcbiAgICAgICAgICBlYXNpbmc6IGVhc2VPdXQsXG4gICAgICAgICAgYW5jaG9yOiB0aGlzLmxhc3RBbmNob3JfLFxuICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLmR1cmF0aW9uX1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlYm91bmQgPiAwKSB7XG4gICAgICAgIHZpZXcuYW5pbWF0ZSh7XG4gICAgICAgICAgcmVzb2x1dGlvbjogbWluUmVzb2x1dGlvbixcbiAgICAgICAgICBlYXNpbmc6IGVhc2VPdXQsXG4gICAgICAgICAgYW5jaG9yOiB0aGlzLmxhc3RBbmNob3JfLFxuICAgICAgICAgIGR1cmF0aW9uOiA1MDBcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHJlYm91bmQgPCAwKSB7XG4gICAgICAgIHZpZXcuYW5pbWF0ZSh7XG4gICAgICAgICAgcmVzb2x1dGlvbjogbWF4UmVzb2x1dGlvbixcbiAgICAgICAgICBlYXNpbmc6IGVhc2VPdXQsXG4gICAgICAgICAgYW5jaG9yOiB0aGlzLmxhc3RBbmNob3JfLFxuICAgICAgICAgIGR1cmF0aW9uOiA1MDBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLnN0YXJ0VGltZV8gPSBub3c7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5kZWx0YV8gKz0gZGVsdGE7XG5cbiAgICB2YXIgdGltZUxlZnQgPSBNYXRoLm1heCh0aGlzLnRpbWVvdXRfIC0gKG5vdyAtIHRoaXMuc3RhcnRUaW1lXyksIDApO1xuXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dElkXyk7XG4gICAgdGhpcy50aW1lb3V0SWRfID0gc2V0VGltZW91dCh0aGlzLmhhbmRsZVdoZWVsWm9vbV8uYmluZCh0aGlzLCBtYXApLCB0aW1lTGVmdCk7XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAqL1xuICBNb3VzZVdoZWVsWm9vbS5wcm90b3R5cGUuaGFuZGxlV2hlZWxab29tXyA9IGZ1bmN0aW9uIGhhbmRsZVdoZWVsWm9vbV8gKG1hcCkge1xuICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICBpZiAodmlldy5nZXRBbmltYXRpbmcoKSkge1xuICAgICAgdmlldy5jYW5jZWxBbmltYXRpb25zKCk7XG4gICAgfVxuICAgIHZhciBtYXhEZWx0YSA9IE1BWF9ERUxUQTtcbiAgICB2YXIgZGVsdGEgPSBjbGFtcCh0aGlzLmRlbHRhXywgLW1heERlbHRhLCBtYXhEZWx0YSk7XG4gICAgem9vbUJ5RGVsdGEodmlldywgLWRlbHRhLCB0aGlzLmxhc3RBbmNob3JfLCB0aGlzLmR1cmF0aW9uXyk7XG4gICAgdGhpcy5tb2RlXyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmRlbHRhXyA9IDA7XG4gICAgdGhpcy5sYXN0QW5jaG9yXyA9IG51bGw7XG4gICAgdGhpcy5zdGFydFRpbWVfID0gdW5kZWZpbmVkO1xuICAgIHRoaXMudGltZW91dElkXyA9IHVuZGVmaW5lZDtcbiAgfTtcblxuICAvKipcbiAgICogRW5hYmxlIG9yIGRpc2FibGUgdXNpbmcgdGhlIG1vdXNlJ3MgbG9jYXRpb24gYXMgYW4gYW5jaG9yIHdoZW4gem9vbWluZ1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHVzZUFuY2hvciB0cnVlIHRvIHpvb20gdG8gdGhlIG1vdXNlJ3MgbG9jYXRpb24sIGZhbHNlXG4gICAqIHRvIHpvb20gdG8gdGhlIGNlbnRlciBvZiB0aGUgbWFwXG4gICAqIEBhcGlcbiAgICovXG4gIE1vdXNlV2hlZWxab29tLnByb3RvdHlwZS5zZXRNb3VzZUFuY2hvciA9IGZ1bmN0aW9uIHNldE1vdXNlQW5jaG9yICh1c2VBbmNob3IpIHtcbiAgICB0aGlzLnVzZUFuY2hvcl8gPSB1c2VBbmNob3I7XG4gICAgaWYgKCF1c2VBbmNob3IpIHtcbiAgICAgIHRoaXMubGFzdEFuY2hvcl8gPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gTW91c2VXaGVlbFpvb207XG59KEludGVyYWN0aW9uKSk7XG5cbmV4cG9ydCBkZWZhdWx0IE1vdXNlV2hlZWxab29tO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Nb3VzZVdoZWVsWm9vbS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vUGluY2hSb3RhdGVcbiAqL1xuaW1wb3J0IFZpZXdIaW50IGZyb20gJy4uL1ZpZXdIaW50LmpzJztcbmltcG9ydCB7RkFMU0V9IGZyb20gJy4uL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQge3JvdGF0ZSwgcm90YXRlV2l0aG91dENvbnN0cmFpbnRzfSBmcm9tICcuL0ludGVyYWN0aW9uLmpzJztcbmltcG9ydCBQb2ludGVySW50ZXJhY3Rpb24sIHtjZW50cm9pZCBhcyBjZW50cm9pZEZyb21Qb2ludGVyc30gZnJvbSAnLi9Qb2ludGVyLmpzJztcbmltcG9ydCB7ZGlzYWJsZX0gZnJvbSAnLi4vcm90YXRpb25jb25zdHJhaW50LmpzJztcblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MjUwXSBUaGUgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbiBpblxuICogbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aHJlc2hvbGQ9MC4zXSBNaW5pbWFsIGFuZ2xlIGluIHJhZGlhbnMgdG8gc3RhcnQgYSByb3RhdGlvbi5cbiAqL1xuXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIHJvdGF0ZSB0aGUgbWFwIGJ5IHR3aXN0aW5nIHdpdGggdHdvIGZpbmdlcnNcbiAqIG9uIGEgdG91Y2ggc2NyZWVuLlxuICogQGFwaVxuICovXG52YXIgUGluY2hSb3RhdGUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChQb2ludGVySW50ZXJhY3Rpb24pIHtcbiAgZnVuY3Rpb24gUGluY2hSb3RhdGUob3B0X29wdGlvbnMpIHtcblxuICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuXG4gICAgdmFyIHBvaW50ZXJPcHRpb25zID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1BvaW50ZXIuanNcIikuT3B0aW9uc30gKi8gKG9wdGlvbnMpO1xuXG4gICAgaWYgKCFwb2ludGVyT3B0aW9ucy5zdG9wRG93bikge1xuICAgICAgcG9pbnRlck9wdGlvbnMuc3RvcERvd24gPSBGQUxTRTtcbiAgICB9XG5cbiAgICBQb2ludGVySW50ZXJhY3Rpb24uY2FsbCh0aGlzLCBwb2ludGVyT3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9XG4gICAgICovXG4gICAgdGhpcy5hbmNob3JfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5sYXN0QW5nbGVfID0gdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnJvdGF0aW5nXyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucm90YXRpb25EZWx0YV8gPSAwLjA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50aHJlc2hvbGRfID0gb3B0aW9ucy50aHJlc2hvbGQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudGhyZXNob2xkIDogMC4zO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZHVyYXRpb25fID0gb3B0aW9ucy5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kdXJhdGlvbiA6IDI1MDtcblxuICB9XG5cbiAgaWYgKCBQb2ludGVySW50ZXJhY3Rpb24gKSBQaW5jaFJvdGF0ZS5fX3Byb3RvX18gPSBQb2ludGVySW50ZXJhY3Rpb247XG4gIFBpbmNoUm90YXRlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFBvaW50ZXJJbnRlcmFjdGlvbiAmJiBQb2ludGVySW50ZXJhY3Rpb24ucHJvdG90eXBlICk7XG4gIFBpbmNoUm90YXRlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFBpbmNoUm90YXRlO1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgUGluY2hSb3RhdGUucHJvdG90eXBlLmhhbmRsZURyYWdFdmVudCA9IGZ1bmN0aW9uIGhhbmRsZURyYWdFdmVudCAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgdmFyIHJvdGF0aW9uRGVsdGEgPSAwLjA7XG5cbiAgICB2YXIgdG91Y2gwID0gdGhpcy50YXJnZXRQb2ludGVyc1swXTtcbiAgICB2YXIgdG91Y2gxID0gdGhpcy50YXJnZXRQb2ludGVyc1sxXTtcblxuICAgIC8vIGFuZ2xlIGJldHdlZW4gdG91Y2hlc1xuICAgIHZhciBhbmdsZSA9IE1hdGguYXRhbjIoXG4gICAgICB0b3VjaDEuY2xpZW50WSAtIHRvdWNoMC5jbGllbnRZLFxuICAgICAgdG91Y2gxLmNsaWVudFggLSB0b3VjaDAuY2xpZW50WCk7XG5cbiAgICBpZiAodGhpcy5sYXN0QW5nbGVfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBkZWx0YSA9IGFuZ2xlIC0gdGhpcy5sYXN0QW5nbGVfO1xuICAgICAgdGhpcy5yb3RhdGlvbkRlbHRhXyArPSBkZWx0YTtcbiAgICAgIGlmICghdGhpcy5yb3RhdGluZ18gJiZcbiAgICAgICAgICBNYXRoLmFicyh0aGlzLnJvdGF0aW9uRGVsdGFfKSA+IHRoaXMudGhyZXNob2xkXykge1xuICAgICAgICB0aGlzLnJvdGF0aW5nXyA9IHRydWU7XG4gICAgICB9XG4gICAgICByb3RhdGlvbkRlbHRhID0gZGVsdGE7XG4gICAgfVxuICAgIHRoaXMubGFzdEFuZ2xlXyA9IGFuZ2xlO1xuXG4gICAgdmFyIG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgdmFyIHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgIGlmICh2aWV3LmdldENvbnN0cmFpbnRzKCkucm90YXRpb24gPT09IGRpc2FibGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyByb3RhdGUgYW5jaG9yIHBvaW50LlxuICAgIC8vIEZJWE1FOiBzaG91bGQgYmUgdGhlIGludGVyc2VjdGlvbiBwb2ludCBiZXR3ZWVuIHRoZSBsaW5lczpcbiAgICAvLyAgICAgdG91Y2gwLHRvdWNoMSBhbmQgcHJldmlvdXNUb3VjaDAscHJldmlvdXNUb3VjaDFcbiAgICB2YXIgdmlld3BvcnRQb3NpdGlvbiA9IG1hcC5nZXRWaWV3cG9ydCgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHZhciBjZW50cm9pZCA9IGNlbnRyb2lkRnJvbVBvaW50ZXJzKHRoaXMudGFyZ2V0UG9pbnRlcnMpO1xuICAgIGNlbnRyb2lkWzBdIC09IHZpZXdwb3J0UG9zaXRpb24ubGVmdDtcbiAgICBjZW50cm9pZFsxXSAtPSB2aWV3cG9ydFBvc2l0aW9uLnRvcDtcbiAgICB0aGlzLmFuY2hvcl8gPSBtYXAuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbChjZW50cm9pZCk7XG5cbiAgICAvLyByb3RhdGVcbiAgICBpZiAodGhpcy5yb3RhdGluZ18pIHtcbiAgICAgIHZhciByb3RhdGlvbiA9IHZpZXcuZ2V0Um90YXRpb24oKTtcbiAgICAgIG1hcC5yZW5kZXIoKTtcbiAgICAgIHJvdGF0ZVdpdGhvdXRDb25zdHJhaW50cyh2aWV3LCByb3RhdGlvbiArIHJvdGF0aW9uRGVsdGEsIHRoaXMuYW5jaG9yXyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgUGluY2hSb3RhdGUucHJvdG90eXBlLmhhbmRsZVVwRXZlbnQgPSBmdW5jdGlvbiBoYW5kbGVVcEV2ZW50IChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBpZiAodGhpcy50YXJnZXRQb2ludGVycy5sZW5ndGggPCAyKSB7XG4gICAgICB2YXIgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgIHZpZXcuc2V0SGludChWaWV3SGludC5JTlRFUkFDVElORywgLTEpO1xuICAgICAgaWYgKHRoaXMucm90YXRpbmdfKSB7XG4gICAgICAgIHZhciByb3RhdGlvbiA9IHZpZXcuZ2V0Um90YXRpb24oKTtcbiAgICAgICAgcm90YXRlKHZpZXcsIHJvdGF0aW9uLCB0aGlzLmFuY2hvcl8sIHRoaXMuZHVyYXRpb25fKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgUGluY2hSb3RhdGUucHJvdG90eXBlLmhhbmRsZURvd25FdmVudCA9IGZ1bmN0aW9uIGhhbmRsZURvd25FdmVudCAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgaWYgKHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoID49IDIpIHtcbiAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgdGhpcy5hbmNob3JfID0gbnVsbDtcbiAgICAgIHRoaXMubGFzdEFuZ2xlXyA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMucm90YXRpbmdfID0gZmFsc2U7XG4gICAgICB0aGlzLnJvdGF0aW9uRGVsdGFfID0gMC4wO1xuICAgICAgaWYgKCF0aGlzLmhhbmRsaW5nRG93blVwU2VxdWVuY2UpIHtcbiAgICAgICAgbWFwLmdldFZpZXcoKS5zZXRIaW50KFZpZXdIaW50LklOVEVSQUNUSU5HLCAxKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBQaW5jaFJvdGF0ZTtcbn0oUG9pbnRlckludGVyYWN0aW9uKSk7XG5cbmV4cG9ydCBkZWZhdWx0IFBpbmNoUm90YXRlO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1QaW5jaFJvdGF0ZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vUGluY2hab29tXG4gKi9cbmltcG9ydCBWaWV3SGludCBmcm9tICcuLi9WaWV3SGludC5qcyc7XG5pbXBvcnQge0ZBTFNFfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHt6b29tLCB6b29tV2l0aG91dENvbnN0cmFpbnRzfSBmcm9tICcuL0ludGVyYWN0aW9uLmpzJztcbmltcG9ydCBQb2ludGVySW50ZXJhY3Rpb24sIHtjZW50cm9pZCBhcyBjZW50cm9pZEZyb21Qb2ludGVyc30gZnJvbSAnLi9Qb2ludGVyLmpzJztcblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249NDAwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbY29uc3RyYWluUmVzb2x1dGlvbj1mYWxzZV0gWm9vbSB0byB0aGUgY2xvc2VzdCBpbnRlZ2VyXG4gKiB6b29tIGxldmVsIGFmdGVyIHRoZSBwaW5jaCBnZXN0dXJlIGVuZHMuXG4gKi9cblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFsbG93cyB0aGUgdXNlciB0byB6b29tIHRoZSBtYXAgYnkgcGluY2hpbmcgd2l0aCB0d28gZmluZ2Vyc1xuICogb24gYSB0b3VjaCBzY3JlZW4uXG4gKiBAYXBpXG4gKi9cbnZhciBQaW5jaFpvb20gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChQb2ludGVySW50ZXJhY3Rpb24pIHtcbiAgZnVuY3Rpb24gUGluY2hab29tKG9wdF9vcHRpb25zKSB7XG5cbiAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcblxuICAgIHZhciBwb2ludGVyT3B0aW9ucyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9Qb2ludGVyLmpzXCIpLk9wdGlvbnN9ICovIChvcHRpb25zKTtcblxuICAgIGlmICghcG9pbnRlck9wdGlvbnMuc3RvcERvd24pIHtcbiAgICAgIHBvaW50ZXJPcHRpb25zLnN0b3BEb3duID0gRkFMU0U7XG4gICAgfVxuXG4gICAgUG9pbnRlckludGVyYWN0aW9uLmNhbGwodGhpcywgcG9pbnRlck9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmNvbnN0cmFpblJlc29sdXRpb25fID0gb3B0aW9ucy5jb25zdHJhaW5SZXNvbHV0aW9uIHx8IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAqL1xuICAgIHRoaXMuYW5jaG9yXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogNDAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmxhc3REaXN0YW5jZV8gPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5sYXN0U2NhbGVEZWx0YV8gPSAxO1xuXG4gIH1cblxuICBpZiAoIFBvaW50ZXJJbnRlcmFjdGlvbiApIFBpbmNoWm9vbS5fX3Byb3RvX18gPSBQb2ludGVySW50ZXJhY3Rpb247XG4gIFBpbmNoWm9vbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBQb2ludGVySW50ZXJhY3Rpb24gJiYgUG9pbnRlckludGVyYWN0aW9uLnByb3RvdHlwZSApO1xuICBQaW5jaFpvb20ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUGluY2hab29tO1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgUGluY2hab29tLnByb3RvdHlwZS5oYW5kbGVEcmFnRXZlbnQgPSBmdW5jdGlvbiBoYW5kbGVEcmFnRXZlbnQgKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHZhciBzY2FsZURlbHRhID0gMS4wO1xuXG4gICAgdmFyIHRvdWNoMCA9IHRoaXMudGFyZ2V0UG9pbnRlcnNbMF07XG4gICAgdmFyIHRvdWNoMSA9IHRoaXMudGFyZ2V0UG9pbnRlcnNbMV07XG4gICAgdmFyIGR4ID0gdG91Y2gwLmNsaWVudFggLSB0b3VjaDEuY2xpZW50WDtcbiAgICB2YXIgZHkgPSB0b3VjaDAuY2xpZW50WSAtIHRvdWNoMS5jbGllbnRZO1xuXG4gICAgLy8gZGlzdGFuY2UgYmV0d2VlbiB0b3VjaGVzXG4gICAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcblxuICAgIGlmICh0aGlzLmxhc3REaXN0YW5jZV8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgc2NhbGVEZWx0YSA9IHRoaXMubGFzdERpc3RhbmNlXyAvIGRpc3RhbmNlO1xuICAgIH1cbiAgICB0aGlzLmxhc3REaXN0YW5jZV8gPSBkaXN0YW5jZTtcblxuXG4gICAgdmFyIG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgdmFyIHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgIHZhciByZXNvbHV0aW9uID0gdmlldy5nZXRSZXNvbHV0aW9uKCk7XG4gICAgdmFyIG1heFJlc29sdXRpb24gPSB2aWV3LmdldE1heFJlc29sdXRpb24oKTtcbiAgICB2YXIgbWluUmVzb2x1dGlvbiA9IHZpZXcuZ2V0TWluUmVzb2x1dGlvbigpO1xuICAgIHZhciBuZXdSZXNvbHV0aW9uID0gcmVzb2x1dGlvbiAqIHNjYWxlRGVsdGE7XG4gICAgaWYgKG5ld1Jlc29sdXRpb24gPiBtYXhSZXNvbHV0aW9uKSB7XG4gICAgICBzY2FsZURlbHRhID0gbWF4UmVzb2x1dGlvbiAvIHJlc29sdXRpb247XG4gICAgICBuZXdSZXNvbHV0aW9uID0gbWF4UmVzb2x1dGlvbjtcbiAgICB9IGVsc2UgaWYgKG5ld1Jlc29sdXRpb24gPCBtaW5SZXNvbHV0aW9uKSB7XG4gICAgICBzY2FsZURlbHRhID0gbWluUmVzb2x1dGlvbiAvIHJlc29sdXRpb247XG4gICAgICBuZXdSZXNvbHV0aW9uID0gbWluUmVzb2x1dGlvbjtcbiAgICB9XG5cbiAgICBpZiAoc2NhbGVEZWx0YSAhPSAxLjApIHtcbiAgICAgIHRoaXMubGFzdFNjYWxlRGVsdGFfID0gc2NhbGVEZWx0YTtcbiAgICB9XG5cbiAgICAvLyBzY2FsZSBhbmNob3IgcG9pbnQuXG4gICAgdmFyIHZpZXdwb3J0UG9zaXRpb24gPSBtYXAuZ2V0Vmlld3BvcnQoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB2YXIgY2VudHJvaWQgPSBjZW50cm9pZEZyb21Qb2ludGVycyh0aGlzLnRhcmdldFBvaW50ZXJzKTtcbiAgICBjZW50cm9pZFswXSAtPSB2aWV3cG9ydFBvc2l0aW9uLmxlZnQ7XG4gICAgY2VudHJvaWRbMV0gLT0gdmlld3BvcnRQb3NpdGlvbi50b3A7XG4gICAgdGhpcy5hbmNob3JfID0gbWFwLmdldENvb3JkaW5hdGVGcm9tUGl4ZWwoY2VudHJvaWQpO1xuXG4gICAgLy8gc2NhbGUsIGJ5cGFzcyB0aGUgcmVzb2x1dGlvbiBjb25zdHJhaW50XG4gICAgbWFwLnJlbmRlcigpO1xuICAgIHpvb21XaXRob3V0Q29uc3RyYWludHModmlldywgbmV3UmVzb2x1dGlvbiwgdGhpcy5hbmNob3JfKTtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIFBpbmNoWm9vbS5wcm90b3R5cGUuaGFuZGxlVXBFdmVudCA9IGZ1bmN0aW9uIGhhbmRsZVVwRXZlbnQgKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIGlmICh0aGlzLnRhcmdldFBvaW50ZXJzLmxlbmd0aCA8IDIpIHtcbiAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgdmFyIHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgICAgdmlldy5zZXRIaW50KFZpZXdIaW50LklOVEVSQUNUSU5HLCAtMSk7XG4gICAgICB2YXIgcmVzb2x1dGlvbiA9IHZpZXcuZ2V0UmVzb2x1dGlvbigpO1xuICAgICAgaWYgKHRoaXMuY29uc3RyYWluUmVzb2x1dGlvbl8gfHxcbiAgICAgICAgICByZXNvbHV0aW9uIDwgdmlldy5nZXRNaW5SZXNvbHV0aW9uKCkgfHxcbiAgICAgICAgICByZXNvbHV0aW9uID4gdmlldy5nZXRNYXhSZXNvbHV0aW9uKCkpIHtcbiAgICAgICAgLy8gWm9vbSB0byBmaW5hbCByZXNvbHV0aW9uLCB3aXRoIGFuIGFuaW1hdGlvbiwgYW5kIHByb3ZpZGUgYVxuICAgICAgICAvLyBkaXJlY3Rpb24gbm90IHRvIHpvb20gb3V0L2luIGlmIHVzZXIgd2FzIHBpbmNoaW5nIGluL291dC5cbiAgICAgICAgLy8gRGlyZWN0aW9uIGlzID4gMCBpZiBwaW5jaGluZyBvdXQsIGFuZCA8IDAgaWYgcGluY2hpbmcgaW4uXG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSB0aGlzLmxhc3RTY2FsZURlbHRhXyAtIDE7XG4gICAgICAgIHpvb20odmlldywgcmVzb2x1dGlvbiwgdGhpcy5hbmNob3JfLCB0aGlzLmR1cmF0aW9uXywgZGlyZWN0aW9uKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgUGluY2hab29tLnByb3RvdHlwZS5oYW5kbGVEb3duRXZlbnQgPSBmdW5jdGlvbiBoYW5kbGVEb3duRXZlbnQgKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIGlmICh0aGlzLnRhcmdldFBvaW50ZXJzLmxlbmd0aCA+PSAyKSB7XG4gICAgICB2YXIgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgIHRoaXMuYW5jaG9yXyA9IG51bGw7XG4gICAgICB0aGlzLmxhc3REaXN0YW5jZV8gPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmxhc3RTY2FsZURlbHRhXyA9IDE7XG4gICAgICBpZiAoIXRoaXMuaGFuZGxpbmdEb3duVXBTZXF1ZW5jZSkge1xuICAgICAgICBtYXAuZ2V0VmlldygpLnNldEhpbnQoVmlld0hpbnQuSU5URVJBQ1RJTkcsIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFBpbmNoWm9vbTtcbn0oUG9pbnRlckludGVyYWN0aW9uKSk7XG5cbmV4cG9ydCBkZWZhdWx0IFBpbmNoWm9vbTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGluY2hab29tLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9EcmFnQW5kRHJvcFxuICovXG4vLyBGSVhNRSBzaG91bGQgaGFuZGxlIGFsbCBnZW8tcmVmZXJlbmNlZCBkYXRhLCBub3QganVzdCB2ZWN0b3IgZGF0YVxuXG5pbXBvcnQge1RSVUV9IGZyb20gJy4uL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQge2xpc3RlbiwgdW5saXN0ZW5CeUtleX0gZnJvbSAnLi4vZXZlbnRzLmpzJztcbmltcG9ydCBFdmVudCBmcm9tICcuLi9ldmVudHMvRXZlbnQuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBJbnRlcmFjdGlvbiBmcm9tICcuL0ludGVyYWN0aW9uLmpzJztcbmltcG9ydCB7Z2V0IGFzIGdldFByb2plY3Rpb259IGZyb20gJy4uL3Byb2ouanMnO1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtBcnJheTx0eXBlb2YgaW1wb3J0KFwiLi4vZm9ybWF0L0ZlYXR1cmUuanNcIikuZGVmYXVsdD59IFtmb3JtYXRDb25zdHJ1Y3RvcnNdIEZvcm1hdCBjb25zdHJ1Y3RvcnMuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3NvdXJjZS9WZWN0b3IuanNcIikuZGVmYXVsdH0gW3NvdXJjZV0gT3B0aW9uYWwgdmVjdG9yIHNvdXJjZSB3aGVyZSBmZWF0dXJlcyB3aWxsIGJlIGFkZGVkLiAgSWYgYSBzb3VyY2UgaXMgcHJvdmlkZWRcbiAqIGFsbCBleGlzdGluZyBmZWF0dXJlcyB3aWxsIGJlIHJlbW92ZWQgYW5kIG5ldyBmZWF0dXJlcyB3aWxsIGJlIGFkZGVkIHdoZW5cbiAqIHRoZXkgYXJlIGRyb3BwZWQgb24gdGhlIHRhcmdldC4gIElmIHlvdSB3YW50IHRvIGFkZCBmZWF0dXJlcyB0byBhIHZlY3RvclxuICogc291cmNlIHdpdGhvdXQgcmVtb3ZpbmcgdGhlIGV4aXN0aW5nIGZlYXR1cmVzIChhcHBlbmQgb25seSksIGluc3RlYWQgb2ZcbiAqIHByb3ZpZGluZyB0aGUgc291cmNlIG9wdGlvbiBsaXN0ZW4gZm9yIHRoZSBcImFkZGZlYXR1cmVzXCIgZXZlbnQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IFtwcm9qZWN0aW9uXSBUYXJnZXQgcHJvamVjdGlvbi4gQnkgZGVmYXVsdCwgdGhlIG1hcCdzIHZpZXcncyBwcm9qZWN0aW9uIGlzIHVzZWQuXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fSBbdGFyZ2V0XSBUaGUgZWxlbWVudCB0aGF0IGlzIHVzZWQgYXMgdGhlIGRyb3AgdGFyZ2V0LCBkZWZhdWx0IGlzIHRoZSB2aWV3cG9ydCBlbGVtZW50LlxuICovXG5cblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG52YXIgRHJhZ0FuZERyb3BFdmVudFR5cGUgPSB7XG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgd2hlbiBmZWF0dXJlcyBhcmUgYWRkZWRcbiAgICogQGV2ZW50IERyYWdBbmREcm9wRXZlbnQjYWRkZmVhdHVyZXNcbiAgICogQGFwaVxuICAgKi9cbiAgQUREX0ZFQVRVUkVTOiAnYWRkZmVhdHVyZXMnXG59O1xuXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogRXZlbnRzIGVtaXR0ZWQgYnkge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9EcmFnQW5kRHJvcH5EcmFnQW5kRHJvcH0gaW5zdGFuY2VzIGFyZSBpbnN0YW5jZXNcbiAqIG9mIHRoaXMgdHlwZS5cbiAqL1xudmFyIERyYWdBbmREcm9wRXZlbnQgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChFdmVudCkge1xuICBmdW5jdGlvbiBEcmFnQW5kRHJvcEV2ZW50KHR5cGUsIGZpbGUsIG9wdF9mZWF0dXJlcywgb3B0X3Byb2plY3Rpb24pIHtcblxuICAgIEV2ZW50LmNhbGwodGhpcywgdHlwZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZmVhdHVyZXMgcGFyc2VkIGZyb20gZHJvcHBlZCBkYXRhLlxuICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlPnx1bmRlZmluZWR9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMuZmVhdHVyZXMgPSBvcHRfZmVhdHVyZXM7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZHJvcHBlZCBmaWxlLlxuICAgICAqIEB0eXBlIHtGaWxlfVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLmZpbGUgPSBmaWxlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZlYXR1cmUgcHJvamVjdGlvbi5cbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLnByb2plY3Rpb24gPSBvcHRfcHJvamVjdGlvbjtcblxuICB9XG5cbiAgaWYgKCBFdmVudCApIERyYWdBbmREcm9wRXZlbnQuX19wcm90b19fID0gRXZlbnQ7XG4gIERyYWdBbmREcm9wRXZlbnQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZlbnQgJiYgRXZlbnQucHJvdG90eXBlICk7XG4gIERyYWdBbmREcm9wRXZlbnQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRHJhZ0FuZERyb3BFdmVudDtcblxuICByZXR1cm4gRHJhZ0FuZERyb3BFdmVudDtcbn0oRXZlbnQpKTtcblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEhhbmRsZXMgaW5wdXQgb2YgdmVjdG9yIGRhdGEgYnkgZHJhZyBhbmQgZHJvcC5cbiAqIEBhcGlcbiAqXG4gKiBAZmlyZXMgRHJhZ0FuZERyb3BFdmVudFxuICovXG52YXIgRHJhZ0FuZERyb3AgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChJbnRlcmFjdGlvbikge1xuICBmdW5jdGlvbiBEcmFnQW5kRHJvcChvcHRfb3B0aW9ucykge1xuXG4gICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG5cbiAgICBJbnRlcmFjdGlvbi5jYWxsKHRoaXMsIHtcbiAgICAgIGhhbmRsZUV2ZW50OiBUUlVFXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTx0eXBlb2YgaW1wb3J0KFwiLi4vZm9ybWF0L0ZlYXR1cmUuanNcIikuZGVmYXVsdD59XG4gICAgICovXG4gICAgdGhpcy5mb3JtYXRDb25zdHJ1Y3RvcnNfID0gb3B0aW9ucy5mb3JtYXRDb25zdHJ1Y3RvcnMgP1xuICAgICAgb3B0aW9ucy5mb3JtYXRDb25zdHJ1Y3RvcnMgOiBbXTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMucHJvamVjdGlvbl8gPSBvcHRpb25zLnByb2plY3Rpb24gP1xuICAgICAgZ2V0UHJvamVjdGlvbihvcHRpb25zLnByb2plY3Rpb24pIDogbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PGltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMuZHJvcExpc3RlbktleXNfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3NvdXJjZS9WZWN0b3IuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLnNvdXJjZV8gPSBvcHRpb25zLnNvdXJjZSB8fCBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy50YXJnZXQgPSBvcHRpb25zLnRhcmdldCA/IG9wdGlvbnMudGFyZ2V0IDogbnVsbDtcblxuICB9XG5cbiAgaWYgKCBJbnRlcmFjdGlvbiApIERyYWdBbmREcm9wLl9fcHJvdG9fXyA9IEludGVyYWN0aW9uO1xuICBEcmFnQW5kRHJvcC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBJbnRlcmFjdGlvbiAmJiBJbnRlcmFjdGlvbi5wcm90b3R5cGUgKTtcbiAgRHJhZ0FuZERyb3AucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRHJhZ0FuZERyb3A7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RmlsZX0gZmlsZSBGaWxlLlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBMb2FkIGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgRHJhZ0FuZERyb3AucHJvdG90eXBlLmhhbmRsZVJlc3VsdF8gPSBmdW5jdGlvbiBoYW5kbGVSZXN1bHRfIChmaWxlLCBldmVudCkge1xuICAgIHZhciByZXN1bHQgPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgIHZhciBtYXAgPSB0aGlzLmdldE1hcCgpO1xuICAgIHZhciBwcm9qZWN0aW9uID0gdGhpcy5wcm9qZWN0aW9uXztcbiAgICBpZiAoIXByb2plY3Rpb24pIHtcbiAgICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgIHByb2plY3Rpb24gPSB2aWV3LmdldFByb2plY3Rpb24oKTtcbiAgICB9XG5cbiAgICB2YXIgZm9ybWF0Q29uc3RydWN0b3JzID0gdGhpcy5mb3JtYXRDb25zdHJ1Y3RvcnNfO1xuICAgIHZhciBmZWF0dXJlcyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGZvcm1hdENvbnN0cnVjdG9ycy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICB2YXIgZm9ybWF0ID0gbmV3IGZvcm1hdENvbnN0cnVjdG9yc1tpXSgpO1xuICAgICAgZmVhdHVyZXMgPSB0aGlzLnRyeVJlYWRGZWF0dXJlc18oZm9ybWF0LCByZXN1bHQsIHtcbiAgICAgICAgZmVhdHVyZVByb2plY3Rpb246IHByb2plY3Rpb25cbiAgICAgIH0pO1xuICAgICAgaWYgKGZlYXR1cmVzICYmIGZlYXR1cmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnNvdXJjZV8pIHtcbiAgICAgIHRoaXMuc291cmNlXy5jbGVhcigpO1xuICAgICAgdGhpcy5zb3VyY2VfLmFkZEZlYXR1cmVzKGZlYXR1cmVzKTtcbiAgICB9XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgbmV3IERyYWdBbmREcm9wRXZlbnQoXG4gICAgICAgIERyYWdBbmREcm9wRXZlbnRUeXBlLkFERF9GRUFUVVJFUywgZmlsZSxcbiAgICAgICAgZmVhdHVyZXMsIHByb2plY3Rpb24pKTtcbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIERyYWdBbmREcm9wLnByb3RvdHlwZS5yZWdpc3Rlckxpc3RlbmVyc18gPSBmdW5jdGlvbiByZWdpc3Rlckxpc3RlbmVyc18gKCkge1xuICAgIHZhciBtYXAgPSB0aGlzLmdldE1hcCgpO1xuICAgIGlmIChtYXApIHtcbiAgICAgIHZhciBkcm9wQXJlYSA9IHRoaXMudGFyZ2V0ID8gdGhpcy50YXJnZXQgOiBtYXAuZ2V0Vmlld3BvcnQoKTtcbiAgICAgIHRoaXMuZHJvcExpc3RlbktleXNfID0gW1xuICAgICAgICBsaXN0ZW4oZHJvcEFyZWEsIEV2ZW50VHlwZS5EUk9QLCBoYW5kbGVEcm9wLCB0aGlzKSxcbiAgICAgICAgbGlzdGVuKGRyb3BBcmVhLCBFdmVudFR5cGUuRFJBR0VOVEVSLCBoYW5kbGVTdG9wLCB0aGlzKSxcbiAgICAgICAgbGlzdGVuKGRyb3BBcmVhLCBFdmVudFR5cGUuRFJBR09WRVIsIGhhbmRsZVN0b3AsIHRoaXMpLFxuICAgICAgICBsaXN0ZW4oZHJvcEFyZWEsIEV2ZW50VHlwZS5EUk9QLCBoYW5kbGVTdG9wLCB0aGlzKVxuICAgICAgXTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBEcmFnQW5kRHJvcC5wcm90b3R5cGUuc2V0QWN0aXZlID0gZnVuY3Rpb24gc2V0QWN0aXZlIChhY3RpdmUpIHtcbiAgICBJbnRlcmFjdGlvbi5wcm90b3R5cGUuc2V0QWN0aXZlLmNhbGwodGhpcywgYWN0aXZlKTtcbiAgICBpZiAoYWN0aXZlKSB7XG4gICAgICB0aGlzLnJlZ2lzdGVyTGlzdGVuZXJzXygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVucmVnaXN0ZXJMaXN0ZW5lcnNfKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgRHJhZ0FuZERyb3AucHJvdG90eXBlLnNldE1hcCA9IGZ1bmN0aW9uIHNldE1hcCAobWFwKSB7XG4gICAgdGhpcy51bnJlZ2lzdGVyTGlzdGVuZXJzXygpO1xuICAgIEludGVyYWN0aW9uLnByb3RvdHlwZS5zZXRNYXAuY2FsbCh0aGlzLCBtYXApO1xuICAgIGlmICh0aGlzLmdldEFjdGl2ZSgpKSB7XG4gICAgICB0aGlzLnJlZ2lzdGVyTGlzdGVuZXJzXygpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9mb3JtYXQvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmb3JtYXQgRm9ybWF0LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUZXh0LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Zvcm1hdC9GZWF0dXJlLmpzXCIpLlJlYWRPcHRpb25zfSBvcHRpb25zIFJlYWQgb3B0aW9ucy5cbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZT59IEZlYXR1cmVzLlxuICAgKi9cbiAgRHJhZ0FuZERyb3AucHJvdG90eXBlLnRyeVJlYWRGZWF0dXJlc18gPSBmdW5jdGlvbiB0cnlSZWFkRmVhdHVyZXNfIChmb3JtYXQsIHRleHQsIG9wdGlvbnMpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZvcm1hdC5yZWFkRmVhdHVyZXModGV4dCwgb3B0aW9ucyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgRHJhZ0FuZERyb3AucHJvdG90eXBlLnVucmVnaXN0ZXJMaXN0ZW5lcnNfID0gZnVuY3Rpb24gdW5yZWdpc3Rlckxpc3RlbmVyc18gKCkge1xuICAgIGlmICh0aGlzLmRyb3BMaXN0ZW5LZXlzXykge1xuICAgICAgdGhpcy5kcm9wTGlzdGVuS2V5c18uZm9yRWFjaCh1bmxpc3RlbkJ5S2V5KTtcbiAgICAgIHRoaXMuZHJvcExpc3RlbktleXNfID0gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIERyYWdBbmREcm9wO1xufShJbnRlcmFjdGlvbikpO1xuXG5cbi8qKlxuICogQHBhcmFtIHtEcmFnRXZlbnR9IGV2ZW50IEV2ZW50LlxuICogQHRoaXMge0RyYWdBbmREcm9wfVxuICovXG5mdW5jdGlvbiBoYW5kbGVEcm9wKGV2ZW50KSB7XG4gIHZhciBmaWxlcyA9IGV2ZW50LmRhdGFUcmFuc2Zlci5maWxlcztcbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gZmlsZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIHZhciBmaWxlID0gZmlsZXMuaXRlbShpKTtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICByZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuTE9BRCwgdGhpcy5oYW5kbGVSZXN1bHRfLmJpbmQodGhpcywgZmlsZSkpO1xuICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUpO1xuICB9XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0RyYWdFdmVudH0gZXZlbnQgRXZlbnQuXG4gKi9cbmZ1bmN0aW9uIGhhbmRsZVN0b3AoZXZlbnQpIHtcbiAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIGV2ZW50LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gJ2NvcHknO1xufVxuXG5cbmV4cG9ydCBkZWZhdWx0IERyYWdBbmREcm9wO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1EcmFnQW5kRHJvcC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vRHJhZ1JvdGF0ZUFuZFpvb21cbiAqL1xuaW1wb3J0IHtkaXNhYmxlfSBmcm9tICcuLi9yb3RhdGlvbmNvbnN0cmFpbnQuanMnO1xuaW1wb3J0IFZpZXdIaW50IGZyb20gJy4uL1ZpZXdIaW50LmpzJztcbmltcG9ydCB7c2hpZnRLZXlPbmx5LCBtb3VzZU9ubHl9IGZyb20gJy4uL2V2ZW50cy9jb25kaXRpb24uanMnO1xuaW1wb3J0IHtyb3RhdGUsIHJvdGF0ZVdpdGhvdXRDb25zdHJhaW50cywgem9vbSwgem9vbVdpdGhvdXRDb25zdHJhaW50c30gZnJvbSAnLi9JbnRlcmFjdGlvbi5qcyc7XG5pbXBvcnQgUG9pbnRlckludGVyYWN0aW9uIGZyb20gJy4vUG9pbnRlci5qcyc7XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufSBbY29uZGl0aW9uXSBBIGZ1bmN0aW9uIHRoYXRcbiAqIHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHJldHVybnMgYVxuICogYm9vbGVhbiB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoYXQgZXZlbnQgc2hvdWxkIGJlIGhhbmRsZWQuXG4gKiBEZWZhdWx0IGlzIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbn5zaGlmdEtleU9ubHl9LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkdXJhdGlvbj00MDBdIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKi9cblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFsbG93cyB0aGUgdXNlciB0byB6b29tIGFuZCByb3RhdGUgdGhlIG1hcCBieSBjbGlja2luZyBhbmQgZHJhZ2dpbmdcbiAqIG9uIHRoZSBtYXAuICBCeSBkZWZhdWx0LCB0aGlzIGludGVyYWN0aW9uIGlzIGxpbWl0ZWQgdG8gd2hlbiB0aGUgc2hpZnRcbiAqIGtleSBpcyBoZWxkIGRvd24uXG4gKlxuICogVGhpcyBpbnRlcmFjdGlvbiBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgbW91c2UgZGV2aWNlcy5cbiAqXG4gKiBBbmQgdGhpcyBpbnRlcmFjdGlvbiBpcyBub3QgaW5jbHVkZWQgaW4gdGhlIGRlZmF1bHQgaW50ZXJhY3Rpb25zLlxuICogQGFwaVxuICovXG52YXIgRHJhZ1JvdGF0ZUFuZFpvb20gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChQb2ludGVySW50ZXJhY3Rpb24pIHtcbiAgZnVuY3Rpb24gRHJhZ1JvdGF0ZUFuZFpvb20ob3B0X29wdGlvbnMpIHtcblxuICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuXG4gICAgUG9pbnRlckludGVyYWN0aW9uLmNhbGwoLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1BvaW50ZXIuanNcIikuT3B0aW9uc30gKi8gdGhpcywgKG9wdGlvbnMpKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuY29uZGl0aW9uXyA9IG9wdGlvbnMuY29uZGl0aW9uID8gb3B0aW9ucy5jb25kaXRpb24gOiBzaGlmdEtleU9ubHk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMubGFzdEFuZ2xlXyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5sYXN0TWFnbml0dWRlXyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxhc3RTY2FsZURlbHRhXyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogNDAwO1xuXG4gIH1cblxuICBpZiAoIFBvaW50ZXJJbnRlcmFjdGlvbiApIERyYWdSb3RhdGVBbmRab29tLl9fcHJvdG9fXyA9IFBvaW50ZXJJbnRlcmFjdGlvbjtcbiAgRHJhZ1JvdGF0ZUFuZFpvb20ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggUG9pbnRlckludGVyYWN0aW9uICYmIFBvaW50ZXJJbnRlcmFjdGlvbi5wcm90b3R5cGUgKTtcbiAgRHJhZ1JvdGF0ZUFuZFpvb20ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRHJhZ1JvdGF0ZUFuZFpvb207XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBEcmFnUm90YXRlQW5kWm9vbS5wcm90b3R5cGUuaGFuZGxlRHJhZ0V2ZW50ID0gZnVuY3Rpb24gaGFuZGxlRHJhZ0V2ZW50IChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBpZiAoIW1vdXNlT25seShtYXBCcm93c2VyRXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgdmFyIHNpemUgPSBtYXAuZ2V0U2l6ZSgpO1xuICAgIHZhciBvZmZzZXQgPSBtYXBCcm93c2VyRXZlbnQucGl4ZWw7XG4gICAgdmFyIGRlbHRhWCA9IG9mZnNldFswXSAtIHNpemVbMF0gLyAyO1xuICAgIHZhciBkZWx0YVkgPSBzaXplWzFdIC8gMiAtIG9mZnNldFsxXTtcbiAgICB2YXIgdGhldGEgPSBNYXRoLmF0YW4yKGRlbHRhWSwgZGVsdGFYKTtcbiAgICB2YXIgbWFnbml0dWRlID0gTWF0aC5zcXJ0KGRlbHRhWCAqIGRlbHRhWCArIGRlbHRhWSAqIGRlbHRhWSk7XG4gICAgdmFyIHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgIGlmICh2aWV3LmdldENvbnN0cmFpbnRzKCkucm90YXRpb24gIT09IGRpc2FibGUgJiYgdGhpcy5sYXN0QW5nbGVfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBhbmdsZURlbHRhID0gdGhldGEgLSB0aGlzLmxhc3RBbmdsZV87XG4gICAgICByb3RhdGVXaXRob3V0Q29uc3RyYWludHModmlldywgdmlldy5nZXRSb3RhdGlvbigpIC0gYW5nbGVEZWx0YSk7XG4gICAgfVxuICAgIHRoaXMubGFzdEFuZ2xlXyA9IHRoZXRhO1xuICAgIGlmICh0aGlzLmxhc3RNYWduaXR1ZGVfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciByZXNvbHV0aW9uID0gdGhpcy5sYXN0TWFnbml0dWRlXyAqICh2aWV3LmdldFJlc29sdXRpb24oKSAvIG1hZ25pdHVkZSk7XG4gICAgICB6b29tV2l0aG91dENvbnN0cmFpbnRzKHZpZXcsIHJlc29sdXRpb24pO1xuICAgIH1cbiAgICBpZiAodGhpcy5sYXN0TWFnbml0dWRlXyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmxhc3RTY2FsZURlbHRhXyA9IHRoaXMubGFzdE1hZ25pdHVkZV8gLyBtYWduaXR1ZGU7XG4gICAgfVxuICAgIHRoaXMubGFzdE1hZ25pdHVkZV8gPSBtYWduaXR1ZGU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBEcmFnUm90YXRlQW5kWm9vbS5wcm90b3R5cGUuaGFuZGxlVXBFdmVudCA9IGZ1bmN0aW9uIGhhbmRsZVVwRXZlbnQgKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIGlmICghbW91c2VPbmx5KG1hcEJyb3dzZXJFdmVudCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICB2aWV3LnNldEhpbnQoVmlld0hpbnQuSU5URVJBQ1RJTkcsIC0xKTtcbiAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5sYXN0U2NhbGVEZWx0YV8gLSAxO1xuICAgIHJvdGF0ZSh2aWV3LCB2aWV3LmdldFJvdGF0aW9uKCkpO1xuICAgIHpvb20odmlldywgdmlldy5nZXRSZXNvbHV0aW9uKCksIHVuZGVmaW5lZCwgdGhpcy5kdXJhdGlvbl8sIGRpcmVjdGlvbik7XG4gICAgdGhpcy5sYXN0U2NhbGVEZWx0YV8gPSAwO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIERyYWdSb3RhdGVBbmRab29tLnByb3RvdHlwZS5oYW5kbGVEb3duRXZlbnQgPSBmdW5jdGlvbiBoYW5kbGVEb3duRXZlbnQgKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIGlmICghbW91c2VPbmx5KG1hcEJyb3dzZXJFdmVudCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jb25kaXRpb25fKG1hcEJyb3dzZXJFdmVudCkpIHtcbiAgICAgIG1hcEJyb3dzZXJFdmVudC5tYXAuZ2V0VmlldygpLnNldEhpbnQoVmlld0hpbnQuSU5URVJBQ1RJTkcsIDEpO1xuICAgICAgdGhpcy5sYXN0QW5nbGVfID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5sYXN0TWFnbml0dWRlXyA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBEcmFnUm90YXRlQW5kWm9vbTtcbn0oUG9pbnRlckludGVyYWN0aW9uKSk7XG5cbmV4cG9ydCBkZWZhdWx0IERyYWdSb3RhdGVBbmRab29tO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1EcmFnUm90YXRlQW5kWm9vbS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9DaXJjbGVcbiAqL1xuaW1wb3J0IHtjcmVhdGVPclVwZGF0ZSwgZm9yRWFjaENvcm5lciwgaW50ZXJzZWN0c30gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCBHZW9tZXRyeVR5cGUgZnJvbSAnLi9HZW9tZXRyeVR5cGUuanMnO1xuaW1wb3J0IFNpbXBsZUdlb21ldHJ5IGZyb20gJy4vU2ltcGxlR2VvbWV0cnkuanMnO1xuaW1wb3J0IHtkZWZsYXRlQ29vcmRpbmF0ZX0gZnJvbSAnLi9mbGF0L2RlZmxhdGUuanMnO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIENpcmNsZSBnZW9tZXRyeS5cbiAqXG4gKiBAYXBpXG4gKi9cbnZhciBDaXJjbGUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTaW1wbGVHZW9tZXRyeSkge1xuICBmdW5jdGlvbiBDaXJjbGUoY2VudGVyLCBvcHRfcmFkaXVzLCBvcHRfbGF5b3V0KSB7XG4gICAgU2ltcGxlR2VvbWV0cnkuY2FsbCh0aGlzKTtcbiAgICBpZiAob3B0X2xheW91dCAhPT0gdW5kZWZpbmVkICYmIG9wdF9yYWRpdXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5zZXRGbGF0Q29vcmRpbmF0ZXMob3B0X2xheW91dCwgY2VudGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHJhZGl1cyA9IG9wdF9yYWRpdXMgPyBvcHRfcmFkaXVzIDogMDtcbiAgICAgIHRoaXMuc2V0Q2VudGVyQW5kUmFkaXVzKGNlbnRlciwgcmFkaXVzLCBvcHRfbGF5b3V0KTtcbiAgICB9XG4gIH1cblxuICBpZiAoIFNpbXBsZUdlb21ldHJ5ICkgQ2lyY2xlLl9fcHJvdG9fXyA9IFNpbXBsZUdlb21ldHJ5O1xuICBDaXJjbGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU2ltcGxlR2VvbWV0cnkgJiYgU2ltcGxlR2VvbWV0cnkucHJvdG90eXBlICk7XG4gIENpcmNsZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDaXJjbGU7XG5cbiAgLyoqXG4gICAqIE1ha2UgYSBjb21wbGV0ZSBjb3B5IG9mIHRoZSBnZW9tZXRyeS5cbiAgICogQHJldHVybiB7IUNpcmNsZX0gQ2xvbmUuXG4gICAqIEBvdmVycmlkZVxuICAgKiBAYXBpXG4gICAqL1xuICBDaXJjbGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUgKCkge1xuICAgIHJldHVybiBuZXcgQ2lyY2xlKHRoaXMuZmxhdENvb3JkaW5hdGVzLnNsaWNlKCksIHVuZGVmaW5lZCwgdGhpcy5sYXlvdXQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgQ2lyY2xlLnByb3RvdHlwZS5jbG9zZXN0UG9pbnRYWSA9IGZ1bmN0aW9uIGNsb3Nlc3RQb2ludFhZICh4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSkge1xuICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmZsYXRDb29yZGluYXRlcztcbiAgICB2YXIgZHggPSB4IC0gZmxhdENvb3JkaW5hdGVzWzBdO1xuICAgIHZhciBkeSA9IHkgLSBmbGF0Q29vcmRpbmF0ZXNbMV07XG4gICAgdmFyIHNxdWFyZWREaXN0YW5jZSA9IGR4ICogZHggKyBkeSAqIGR5O1xuICAgIGlmIChzcXVhcmVkRGlzdGFuY2UgPCBtaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICAgIGlmIChzcXVhcmVkRGlzdGFuY2UgPT09IDApIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0cmlkZTsgKytpKSB7XG4gICAgICAgICAgY2xvc2VzdFBvaW50W2ldID0gZmxhdENvb3JkaW5hdGVzW2ldO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZGVsdGEgPSB0aGlzLmdldFJhZGl1cygpIC8gTWF0aC5zcXJ0KHNxdWFyZWREaXN0YW5jZSk7XG4gICAgICAgIGNsb3Nlc3RQb2ludFswXSA9IGZsYXRDb29yZGluYXRlc1swXSArIGRlbHRhICogZHg7XG4gICAgICAgIGNsb3Nlc3RQb2ludFsxXSA9IGZsYXRDb29yZGluYXRlc1sxXSArIGRlbHRhICogZHk7XG4gICAgICAgIGZvciAodmFyIGkkMSA9IDI7IGkkMSA8IHRoaXMuc3RyaWRlOyArK2kkMSkge1xuICAgICAgICAgIGNsb3Nlc3RQb2ludFtpJDFdID0gZmxhdENvb3JkaW5hdGVzW2kkMV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNsb3Nlc3RQb2ludC5sZW5ndGggPSB0aGlzLnN0cmlkZTtcbiAgICAgIHJldHVybiBzcXVhcmVkRGlzdGFuY2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBtaW5TcXVhcmVkRGlzdGFuY2U7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgQ2lyY2xlLnByb3RvdHlwZS5jb250YWluc1hZID0gZnVuY3Rpb24gY29udGFpbnNYWSAoeCwgeSkge1xuICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmZsYXRDb29yZGluYXRlcztcbiAgICB2YXIgZHggPSB4IC0gZmxhdENvb3JkaW5hdGVzWzBdO1xuICAgIHZhciBkeSA9IHkgLSBmbGF0Q29vcmRpbmF0ZXNbMV07XG4gICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5IDw9IHRoaXMuZ2V0UmFkaXVzU3F1YXJlZF8oKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZSBhcyB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZSBjb29yZGluYXRlfS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBDZW50ZXIuXG4gICAqIEBhcGlcbiAgICovXG4gIENpcmNsZS5wcm90b3R5cGUuZ2V0Q2VudGVyID0gZnVuY3Rpb24gZ2V0Q2VudGVyICgpIHtcbiAgICByZXR1cm4gdGhpcy5mbGF0Q29vcmRpbmF0ZXMuc2xpY2UoMCwgdGhpcy5zdHJpZGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgQ2lyY2xlLnByb3RvdHlwZS5jb21wdXRlRXh0ZW50ID0gZnVuY3Rpb24gY29tcHV0ZUV4dGVudCAoZXh0ZW50KSB7XG4gICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IHRoaXMuZmxhdENvb3JkaW5hdGVzO1xuICAgIHZhciByYWRpdXMgPSBmbGF0Q29vcmRpbmF0ZXNbdGhpcy5zdHJpZGVdIC0gZmxhdENvb3JkaW5hdGVzWzBdO1xuICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZShcbiAgICAgIGZsYXRDb29yZGluYXRlc1swXSAtIHJhZGl1cywgZmxhdENvb3JkaW5hdGVzWzFdIC0gcmFkaXVzLFxuICAgICAgZmxhdENvb3JkaW5hdGVzWzBdICsgcmFkaXVzLCBmbGF0Q29vcmRpbmF0ZXNbMV0gKyByYWRpdXMsXG4gICAgICBleHRlbnQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFJhZGl1cy5cbiAgICogQGFwaVxuICAgKi9cbiAgQ2lyY2xlLnByb3RvdHlwZS5nZXRSYWRpdXMgPSBmdW5jdGlvbiBnZXRSYWRpdXMgKCkge1xuICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy5nZXRSYWRpdXNTcXVhcmVkXygpKTtcbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7bnVtYmVyfSBSYWRpdXMgc3F1YXJlZC5cbiAgICovXG4gIENpcmNsZS5wcm90b3R5cGUuZ2V0UmFkaXVzU3F1YXJlZF8gPSBmdW5jdGlvbiBnZXRSYWRpdXNTcXVhcmVkXyAoKSB7XG4gICAgdmFyIGR4ID0gdGhpcy5mbGF0Q29vcmRpbmF0ZXNbdGhpcy5zdHJpZGVdIC0gdGhpcy5mbGF0Q29vcmRpbmF0ZXNbMF07XG4gICAgdmFyIGR5ID0gdGhpcy5mbGF0Q29vcmRpbmF0ZXNbdGhpcy5zdHJpZGUgKyAxXSAtIHRoaXMuZmxhdENvb3JkaW5hdGVzWzFdO1xuICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICogQGFwaVxuICAgKi9cbiAgQ2lyY2xlLnByb3RvdHlwZS5nZXRUeXBlID0gZnVuY3Rpb24gZ2V0VHlwZSAoKSB7XG4gICAgcmV0dXJuIEdlb21ldHJ5VHlwZS5DSVJDTEU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqIEBhcGlcbiAgICovXG4gIENpcmNsZS5wcm90b3R5cGUuaW50ZXJzZWN0c0V4dGVudCA9IGZ1bmN0aW9uIGludGVyc2VjdHNFeHRlbnQgKGV4dGVudCkge1xuICAgIHZhciBjaXJjbGVFeHRlbnQgPSB0aGlzLmdldEV4dGVudCgpO1xuICAgIGlmIChpbnRlcnNlY3RzKGV4dGVudCwgY2lyY2xlRXh0ZW50KSkge1xuICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyKCk7XG5cbiAgICAgIGlmIChleHRlbnRbMF0gPD0gY2VudGVyWzBdICYmIGV4dGVudFsyXSA+PSBjZW50ZXJbMF0pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoZXh0ZW50WzFdIDw9IGNlbnRlclsxXSAmJiBleHRlbnRbM10gPj0gY2VudGVyWzFdKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZm9yRWFjaENvcm5lcihleHRlbnQsIHRoaXMuaW50ZXJzZWN0c0Nvb3JkaW5hdGUsIHRoaXMpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgfTtcblxuICAvKipcbiAgICogU2V0IHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZSBhcyB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZSBjb29yZGluYXRlfS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNlbnRlciBDZW50ZXIuXG4gICAqIEBhcGlcbiAgICovXG4gIENpcmNsZS5wcm90b3R5cGUuc2V0Q2VudGVyID0gZnVuY3Rpb24gc2V0Q2VudGVyIChjZW50ZXIpIHtcbiAgICB2YXIgc3RyaWRlID0gdGhpcy5zdHJpZGU7XG4gICAgdmFyIHJhZGl1cyA9IHRoaXMuZmxhdENvb3JkaW5hdGVzW3N0cmlkZV0gLSB0aGlzLmZsYXRDb29yZGluYXRlc1swXTtcbiAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gY2VudGVyLnNsaWNlKCk7XG4gICAgZmxhdENvb3JkaW5hdGVzW3N0cmlkZV0gPSBmbGF0Q29vcmRpbmF0ZXNbMF0gKyByYWRpdXM7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBzdHJpZGU7ICsraSkge1xuICAgICAgZmxhdENvb3JkaW5hdGVzW3N0cmlkZSArIGldID0gY2VudGVyW2ldO1xuICAgIH1cbiAgICB0aGlzLnNldEZsYXRDb29yZGluYXRlcyh0aGlzLmxheW91dCwgZmxhdENvb3JkaW5hdGVzKTtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IHRoZSBjZW50ZXIgKGFzIHtAbGluayBtb2R1bGU6b2wvY29vcmRpbmF0ZX5Db29yZGluYXRlIGNvb3JkaW5hdGV9KSBhbmQgdGhlIHJhZGl1cyAoYXNcbiAgICogbnVtYmVyKSBvZiB0aGUgY2lyY2xlLlxuICAgKiBAcGFyYW0geyFpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNlbnRlciBDZW50ZXIuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgUmFkaXVzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vR2VvbWV0cnlMYXlvdXQuanNcIikuZGVmYXVsdD19IG9wdF9sYXlvdXQgTGF5b3V0LlxuICAgKiBAYXBpXG4gICAqL1xuICBDaXJjbGUucHJvdG90eXBlLnNldENlbnRlckFuZFJhZGl1cyA9IGZ1bmN0aW9uIHNldENlbnRlckFuZFJhZGl1cyAoY2VudGVyLCByYWRpdXMsIG9wdF9sYXlvdXQpIHtcbiAgICB0aGlzLnNldExheW91dChvcHRfbGF5b3V0LCBjZW50ZXIsIDApO1xuICAgIGlmICghdGhpcy5mbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzID0gW107XG4gICAgfVxuICAgIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi9cbiAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gdGhpcy5mbGF0Q29vcmRpbmF0ZXM7XG4gICAgdmFyIG9mZnNldCA9IGRlZmxhdGVDb29yZGluYXRlKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLCAwLCBjZW50ZXIsIHRoaXMuc3RyaWRlKTtcbiAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0KytdID0gZmxhdENvb3JkaW5hdGVzWzBdICsgcmFkaXVzO1xuICAgIGZvciAodmFyIGkgPSAxLCBpaSA9IHRoaXMuc3RyaWRlOyBpIDwgaWk7ICsraSkge1xuICAgICAgZmxhdENvb3JkaW5hdGVzW29mZnNldCsrXSA9IGZsYXRDb29yZGluYXRlc1tpXTtcbiAgICB9XG4gICAgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCA9IG9mZnNldDtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIENpcmNsZS5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiBnZXRDb29yZGluYXRlcyAoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBDaXJjbGUucHJvdG90eXBlLnNldENvb3JkaW5hdGVzID0gZnVuY3Rpb24gc2V0Q29vcmRpbmF0ZXMgKGNvb3JkaW5hdGVzLCBvcHRfbGF5b3V0KSB7fTtcblxuICAvKipcbiAgICogU2V0IHRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZS4gVGhlIHJhZGl1cyBpcyBpbiB0aGUgdW5pdHMgb2YgdGhlIHByb2plY3Rpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgUmFkaXVzLlxuICAgKiBAYXBpXG4gICAqL1xuICBDaXJjbGUucHJvdG90eXBlLnNldFJhZGl1cyA9IGZ1bmN0aW9uIHNldFJhZGl1cyAocmFkaXVzKSB7XG4gICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXNbdGhpcy5zdHJpZGVdID0gdGhpcy5mbGF0Q29vcmRpbmF0ZXNbMF0gKyByYWRpdXM7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH07XG5cbiAgcmV0dXJuIENpcmNsZTtcbn0oU2ltcGxlR2VvbWV0cnkpKTtcblxuXG4vKipcbiAqIFRyYW5zZm9ybSBlYWNoIGNvb3JkaW5hdGUgb2YgdGhlIGNpcmNsZSBmcm9tIG9uZSBjb29yZGluYXRlIHJlZmVyZW5jZSBzeXN0ZW1cbiAqIHRvIGFub3RoZXIuIFRoZSBnZW9tZXRyeSBpcyBtb2RpZmllZCBpbiBwbGFjZS5cbiAqIElmIHlvdSBkbyBub3Qgd2FudCB0aGUgZ2VvbWV0cnkgbW9kaWZpZWQgaW4gcGxhY2UsIGZpcnN0IGNsb25lKCkgaXQgYW5kXG4gKiB0aGVuIHVzZSB0aGlzIGZ1bmN0aW9uIG9uIHRoZSBjbG9uZS5cbiAqXG4gKiBJbnRlcm5hbGx5IGEgY2lyY2xlIGlzIGN1cnJlbnRseSByZXByZXNlbnRlZCBieSB0d28gcG9pbnRzOiB0aGUgY2VudGVyIG9mXG4gKiB0aGUgY2lyY2xlIGBbY3gsIGN5XWAsIGFuZCB0aGUgcG9pbnQgdG8gdGhlIHJpZ2h0IG9mIHRoZSBjaXJjbGVcbiAqIGBbY3ggKyByLCBjeV1gLiBUaGlzIGB0cmFuc2Zvcm1gIGZ1bmN0aW9uIGp1c3QgdHJhbnNmb3JtcyB0aGVzZSB0d28gcG9pbnRzLlxuICogU28gdGhlIHJlc3VsdGluZyBnZW9tZXRyeSBpcyBhbHNvIGEgY2lyY2xlLCBhbmQgdGhhdCBjaXJjbGUgZG9lcyBub3RcbiAqIGNvcnJlc3BvbmQgdG8gdGhlIHNoYXBlIHRoYXQgd291bGQgYmUgb2J0YWluZWQgYnkgdHJhbnNmb3JtaW5nIGV2ZXJ5IHBvaW50XG4gKiBvZiB0aGUgb3JpZ2luYWwgY2lyY2xlLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gc291cmNlIFRoZSBjdXJyZW50IHByb2plY3Rpb24uICBDYW4gYmUgYVxuICogICAgIHN0cmluZyBpZGVudGlmaWVyIG9yIGEge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb25+UHJvamVjdGlvbn0gb2JqZWN0LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBkZXN0aW5hdGlvbiBUaGUgZGVzaXJlZCBwcm9qZWN0aW9uLiAgQ2FuIGJlIGFcbiAqICAgICBzdHJpbmcgaWRlbnRpZmllciBvciBhIHtAbGluayBtb2R1bGU6b2wvcHJvai9Qcm9qZWN0aW9uflByb2plY3Rpb259IG9iamVjdC5cbiAqIEByZXR1cm4ge0NpcmNsZX0gVGhpcyBnZW9tZXRyeS4gIE5vdGUgdGhhdCBvcmlnaW5hbCBnZW9tZXRyeSBpc1xuICogICAgIG1vZGlmaWVkIGluIHBsYWNlLlxuICogQGZ1bmN0aW9uXG4gKiBAYXBpXG4gKi9cbkNpcmNsZS5wcm90b3R5cGUudHJhbnNmb3JtO1xuZXhwb3J0IGRlZmF1bHQgQ2lyY2xlO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1DaXJjbGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9pbnRlcnBvbGF0ZVxuICovXG5pbXBvcnQge2JpbmFyeVNlYXJjaH0gZnJvbSAnLi4vLi4vYXJyYXkuanMnO1xuaW1wb3J0IHtsZXJwfSBmcm9tICcuLi8uLi9tYXRoLmpzJztcblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gZnJhY3Rpb24gRnJhY3Rpb24uXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj49fSBvcHRfZGVzdCBEZXN0aW5hdGlvbi5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IERlc3RpbmF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJwb2xhdGVQb2ludChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGZyYWN0aW9uLCBvcHRfZGVzdCkge1xuICB2YXIgcG9pbnRYID0gTmFOO1xuICB2YXIgcG9pbnRZID0gTmFOO1xuICB2YXIgbiA9IChlbmQgLSBvZmZzZXQpIC8gc3RyaWRlO1xuICBpZiAobiA9PT0gMSkge1xuICAgIHBvaW50WCA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgIHBvaW50WSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgfSBlbHNlIGlmIChuID09IDIpIHtcbiAgICBwb2ludFggPSAoMSAtIGZyYWN0aW9uKSAqIGZsYXRDb29yZGluYXRlc1tvZmZzZXRdICtcbiAgICAgICAgZnJhY3Rpb24gKiBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgc3RyaWRlXTtcbiAgICBwb2ludFkgPSAoMSAtIGZyYWN0aW9uKSAqIGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXSArXG4gICAgICAgIGZyYWN0aW9uICogZmxhdENvb3JkaW5hdGVzW29mZnNldCArIHN0cmlkZSArIDFdO1xuICB9IGVsc2UgaWYgKG4gIT09IDApIHtcbiAgICB2YXIgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICB2YXIgeTEgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgdmFyIGxlbmd0aCA9IDA7XG4gICAgdmFyIGN1bXVsYXRpdmVMZW5ndGhzID0gWzBdO1xuICAgIGZvciAodmFyIGkgPSBvZmZzZXQgKyBzdHJpZGU7IGkgPCBlbmQ7IGkgKz0gc3RyaWRlKSB7XG4gICAgICB2YXIgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbaV07XG4gICAgICB2YXIgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbaSArIDFdO1xuICAgICAgbGVuZ3RoICs9IE1hdGguc3FydCgoeDIgLSB4MSkgKiAoeDIgLSB4MSkgKyAoeTIgLSB5MSkgKiAoeTIgLSB5MSkpO1xuICAgICAgY3VtdWxhdGl2ZUxlbmd0aHMucHVzaChsZW5ndGgpO1xuICAgICAgeDEgPSB4MjtcbiAgICAgIHkxID0geTI7XG4gICAgfVxuICAgIHZhciB0YXJnZXQgPSBmcmFjdGlvbiAqIGxlbmd0aDtcbiAgICB2YXIgaW5kZXggPSBiaW5hcnlTZWFyY2goY3VtdWxhdGl2ZUxlbmd0aHMsIHRhcmdldCk7XG4gICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgdmFyIHQgPSAodGFyZ2V0IC0gY3VtdWxhdGl2ZUxlbmd0aHNbLWluZGV4IC0gMl0pIC9cbiAgICAgICAgICAoY3VtdWxhdGl2ZUxlbmd0aHNbLWluZGV4IC0gMV0gLSBjdW11bGF0aXZlTGVuZ3Roc1staW5kZXggLSAyXSk7XG4gICAgICB2YXIgbyA9IG9mZnNldCArICgtaW5kZXggLSAyKSAqIHN0cmlkZTtcbiAgICAgIHBvaW50WCA9IGxlcnAoXG4gICAgICAgIGZsYXRDb29yZGluYXRlc1tvXSwgZmxhdENvb3JkaW5hdGVzW28gKyBzdHJpZGVdLCB0KTtcbiAgICAgIHBvaW50WSA9IGxlcnAoXG4gICAgICAgIGZsYXRDb29yZGluYXRlc1tvICsgMV0sIGZsYXRDb29yZGluYXRlc1tvICsgc3RyaWRlICsgMV0sIHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwb2ludFggPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgaW5kZXggKiBzdHJpZGVdO1xuICAgICAgcG9pbnRZID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIGluZGV4ICogc3RyaWRlICsgMV07XG4gICAgfVxuICB9XG4gIGlmIChvcHRfZGVzdCkge1xuICAgIG9wdF9kZXN0WzBdID0gcG9pbnRYO1xuICAgIG9wdF9kZXN0WzFdID0gcG9pbnRZO1xuICAgIHJldHVybiBvcHRfZGVzdDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gW3BvaW50WCwgcG9pbnRZXTtcbiAgfVxufVxuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtIE0uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGV4dHJhcG9sYXRlIEV4dHJhcG9sYXRlLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBDb29yZGluYXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZVN0cmluZ0Nvb3JkaW5hdGVBdE0oZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBtLCBleHRyYXBvbGF0ZSkge1xuICBpZiAoZW5kID09IG9mZnNldCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBjb29yZGluYXRlO1xuICBpZiAobSA8IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyBzdHJpZGUgLSAxXSkge1xuICAgIGlmIChleHRyYXBvbGF0ZSkge1xuICAgICAgY29vcmRpbmF0ZSA9IGZsYXRDb29yZGluYXRlcy5zbGljZShvZmZzZXQsIG9mZnNldCArIHN0cmlkZSk7XG4gICAgICBjb29yZGluYXRlW3N0cmlkZSAtIDFdID0gbTtcbiAgICAgIHJldHVybiBjb29yZGluYXRlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZmxhdENvb3JkaW5hdGVzW2VuZCAtIDFdIDwgbSkge1xuICAgIGlmIChleHRyYXBvbGF0ZSkge1xuICAgICAgY29vcmRpbmF0ZSA9IGZsYXRDb29yZGluYXRlcy5zbGljZShlbmQgLSBzdHJpZGUsIGVuZCk7XG4gICAgICBjb29yZGluYXRlW3N0cmlkZSAtIDFdID0gbTtcbiAgICAgIHJldHVybiBjb29yZGluYXRlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbiAgLy8gRklYTUUgdXNlIE8oMSkgc2VhcmNoXG4gIGlmIChtID09IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyBzdHJpZGUgLSAxXSkge1xuICAgIHJldHVybiBmbGF0Q29vcmRpbmF0ZXMuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBzdHJpZGUpO1xuICB9XG4gIHZhciBsbyA9IG9mZnNldCAvIHN0cmlkZTtcbiAgdmFyIGhpID0gZW5kIC8gc3RyaWRlO1xuICB3aGlsZSAobG8gPCBoaSkge1xuICAgIHZhciBtaWQgPSAobG8gKyBoaSkgPj4gMTtcbiAgICBpZiAobSA8IGZsYXRDb29yZGluYXRlc1sobWlkICsgMSkgKiBzdHJpZGUgLSAxXSkge1xuICAgICAgaGkgPSBtaWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvID0gbWlkICsgMTtcbiAgICB9XG4gIH1cbiAgdmFyIG0wID0gZmxhdENvb3JkaW5hdGVzW2xvICogc3RyaWRlIC0gMV07XG4gIGlmIChtID09IG0wKSB7XG4gICAgcmV0dXJuIGZsYXRDb29yZGluYXRlcy5zbGljZSgobG8gLSAxKSAqIHN0cmlkZSwgKGxvIC0gMSkgKiBzdHJpZGUgKyBzdHJpZGUpO1xuICB9XG4gIHZhciBtMSA9IGZsYXRDb29yZGluYXRlc1sobG8gKyAxKSAqIHN0cmlkZSAtIDFdO1xuICB2YXIgdCA9IChtIC0gbTApIC8gKG0xIC0gbTApO1xuICBjb29yZGluYXRlID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaWRlIC0gMTsgKytpKSB7XG4gICAgY29vcmRpbmF0ZS5wdXNoKGxlcnAoZmxhdENvb3JkaW5hdGVzWyhsbyAtIDEpICogc3RyaWRlICsgaV0sXG4gICAgICBmbGF0Q29vcmRpbmF0ZXNbbG8gKiBzdHJpZGUgKyBpXSwgdCkpO1xuICB9XG4gIGNvb3JkaW5hdGUucHVzaChtKTtcbiAgcmV0dXJuIGNvb3JkaW5hdGU7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IG0gTS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gZXh0cmFwb2xhdGUgRXh0cmFwb2xhdGUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGludGVycG9sYXRlIEludGVycG9sYXRlLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBDb29yZGluYXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZVN0cmluZ3NDb29yZGluYXRlQXRNKFxuICBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCBtLCBleHRyYXBvbGF0ZSwgaW50ZXJwb2xhdGUpIHtcbiAgaWYgKGludGVycG9sYXRlKSB7XG4gICAgcmV0dXJuIGxpbmVTdHJpbmdDb29yZGluYXRlQXRNKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNbZW5kcy5sZW5ndGggLSAxXSwgc3RyaWRlLCBtLCBleHRyYXBvbGF0ZSk7XG4gIH1cbiAgdmFyIGNvb3JkaW5hdGU7XG4gIGlmIChtIDwgZmxhdENvb3JkaW5hdGVzW3N0cmlkZSAtIDFdKSB7XG4gICAgaWYgKGV4dHJhcG9sYXRlKSB7XG4gICAgICBjb29yZGluYXRlID0gZmxhdENvb3JkaW5hdGVzLnNsaWNlKDAsIHN0cmlkZSk7XG4gICAgICBjb29yZGluYXRlW3N0cmlkZSAtIDFdID0gbTtcbiAgICAgIHJldHVybiBjb29yZGluYXRlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbiAgaWYgKGZsYXRDb29yZGluYXRlc1tmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoIC0gMV0gPCBtKSB7XG4gICAgaWYgKGV4dHJhcG9sYXRlKSB7XG4gICAgICBjb29yZGluYXRlID0gZmxhdENvb3JkaW5hdGVzLnNsaWNlKGZsYXRDb29yZGluYXRlcy5sZW5ndGggLSBzdHJpZGUpO1xuICAgICAgY29vcmRpbmF0ZVtzdHJpZGUgLSAxXSA9IG07XG4gICAgICByZXR1cm4gY29vcmRpbmF0ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG4gIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIHZhciBlbmQgPSBlbmRzW2ldO1xuICAgIGlmIChvZmZzZXQgPT0gZW5kKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKG0gPCBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgc3RyaWRlIC0gMV0pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSBpZiAobSA8PSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gMV0pIHtcbiAgICAgIHJldHVybiBsaW5lU3RyaW5nQ29vcmRpbmF0ZUF0TShcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBtLCBmYWxzZSk7XG4gICAgfVxuICAgIG9mZnNldCA9IGVuZDtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJwb2xhdGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vTGluZVN0cmluZ1xuICovXG5pbXBvcnQge2V4dGVuZH0gZnJvbSAnLi4vYXJyYXkuanMnO1xuaW1wb3J0IHtjbG9zZXN0U3F1YXJlZERpc3RhbmNlWFl9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgR2VvbWV0cnlMYXlvdXQgZnJvbSAnLi9HZW9tZXRyeUxheW91dC5qcyc7XG5pbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJy4vR2VvbWV0cnlUeXBlLmpzJztcbmltcG9ydCBTaW1wbGVHZW9tZXRyeSBmcm9tICcuL1NpbXBsZUdlb21ldHJ5LmpzJztcbmltcG9ydCB7YXNzaWduQ2xvc2VzdFBvaW50LCBtYXhTcXVhcmVkRGVsdGF9IGZyb20gJy4vZmxhdC9jbG9zZXN0LmpzJztcbmltcG9ydCB7ZGVmbGF0ZUNvb3JkaW5hdGVzfSBmcm9tICcuL2ZsYXQvZGVmbGF0ZS5qcyc7XG5pbXBvcnQge2luZmxhdGVDb29yZGluYXRlc30gZnJvbSAnLi9mbGF0L2luZmxhdGUuanMnO1xuaW1wb3J0IHtpbnRlcnBvbGF0ZVBvaW50LCBsaW5lU3RyaW5nQ29vcmRpbmF0ZUF0TX0gZnJvbSAnLi9mbGF0L2ludGVycG9sYXRlLmpzJztcbmltcG9ydCB7aW50ZXJzZWN0c0xpbmVTdHJpbmd9IGZyb20gJy4vZmxhdC9pbnRlcnNlY3RzZXh0ZW50LmpzJztcbmltcG9ydCB7bGluZVN0cmluZ0xlbmd0aH0gZnJvbSAnLi9mbGF0L2xlbmd0aC5qcyc7XG5pbXBvcnQge2ZvckVhY2ggYXMgZm9yRWFjaFNlZ21lbnR9IGZyb20gJy4vZmxhdC9zZWdtZW50cy5qcyc7XG5pbXBvcnQge2RvdWdsYXNQZXVja2VyfSBmcm9tICcuL2ZsYXQvc2ltcGxpZnkuanMnO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIExpbmVzdHJpbmcgZ2VvbWV0cnkuXG4gKlxuICogQGFwaVxuICovXG52YXIgTGluZVN0cmluZyA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFNpbXBsZUdlb21ldHJ5KSB7XG4gIGZ1bmN0aW9uIExpbmVTdHJpbmcoY29vcmRpbmF0ZXMsIG9wdF9sYXlvdXQpIHtcblxuICAgIFNpbXBsZUdlb21ldHJ5LmNhbGwodGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9XG4gICAgICovXG4gICAgdGhpcy5mbGF0TWlkcG9pbnRfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmZsYXRNaWRwb2ludFJldmlzaW9uXyA9IC0xO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWF4RGVsdGFfID0gLTE7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5tYXhEZWx0YVJldmlzaW9uXyA9IC0xO1xuXG4gICAgaWYgKG9wdF9sYXlvdXQgIT09IHVuZGVmaW5lZCAmJiAhQXJyYXkuaXNBcnJheShjb29yZGluYXRlc1swXSkpIHtcbiAgICAgIHRoaXMuc2V0RmxhdENvb3JkaW5hdGVzKG9wdF9sYXlvdXQsIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi8gKGNvb3JkaW5hdGVzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0Q29vcmRpbmF0ZXMoLyoqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSAqLyAoY29vcmRpbmF0ZXMpLCBvcHRfbGF5b3V0KTtcbiAgICB9XG5cbiAgfVxuXG4gIGlmICggU2ltcGxlR2VvbWV0cnkgKSBMaW5lU3RyaW5nLl9fcHJvdG9fXyA9IFNpbXBsZUdlb21ldHJ5O1xuICBMaW5lU3RyaW5nLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFNpbXBsZUdlb21ldHJ5ICYmIFNpbXBsZUdlb21ldHJ5LnByb3RvdHlwZSApO1xuICBMaW5lU3RyaW5nLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExpbmVTdHJpbmc7XG5cbiAgLyoqXG4gICAqIEFwcGVuZCB0aGUgcGFzc2VkIGNvb3JkaW5hdGUgdG8gdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBsaW5lc3RyaW5nLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgKiBAYXBpXG4gICAqL1xuICBMaW5lU3RyaW5nLnByb3RvdHlwZS5hcHBlbmRDb29yZGluYXRlID0gZnVuY3Rpb24gYXBwZW5kQ29vcmRpbmF0ZSAoY29vcmRpbmF0ZSkge1xuICAgIGlmICghdGhpcy5mbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzID0gY29vcmRpbmF0ZS5zbGljZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleHRlbmQodGhpcy5mbGF0Q29vcmRpbmF0ZXMsIGNvb3JkaW5hdGUpO1xuICAgIH1cbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfTtcblxuICAvKipcbiAgICogTWFrZSBhIGNvbXBsZXRlIGNvcHkgb2YgdGhlIGdlb21ldHJ5LlxuICAgKiBAcmV0dXJuIHshTGluZVN0cmluZ30gQ2xvbmUuXG4gICAqIEBvdmVycmlkZVxuICAgKiBAYXBpXG4gICAqL1xuICBMaW5lU3RyaW5nLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lICgpIHtcbiAgICByZXR1cm4gbmV3IExpbmVTdHJpbmcodGhpcy5mbGF0Q29vcmRpbmF0ZXMuc2xpY2UoKSwgdGhpcy5sYXlvdXQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgTGluZVN0cmluZy5wcm90b3R5cGUuY2xvc2VzdFBvaW50WFkgPSBmdW5jdGlvbiBjbG9zZXN0UG9pbnRYWSAoeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICBpZiAobWluU3F1YXJlZERpc3RhbmNlIDwgY2xvc2VzdFNxdWFyZWREaXN0YW5jZVhZKHRoaXMuZ2V0RXh0ZW50KCksIHgsIHkpKSB7XG4gICAgICByZXR1cm4gbWluU3F1YXJlZERpc3RhbmNlO1xuICAgIH1cbiAgICBpZiAodGhpcy5tYXhEZWx0YVJldmlzaW9uXyAhPSB0aGlzLmdldFJldmlzaW9uKCkpIHtcbiAgICAgIHRoaXMubWF4RGVsdGFfID0gTWF0aC5zcXJ0KG1heFNxdWFyZWREZWx0YShcbiAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgdGhpcy5zdHJpZGUsIDApKTtcbiAgICAgIHRoaXMubWF4RGVsdGFSZXZpc2lvbl8gPSB0aGlzLmdldFJldmlzaW9uKCk7XG4gICAgfVxuICAgIHJldHVybiBhc3NpZ25DbG9zZXN0UG9pbnQoXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCB0aGlzLnN0cmlkZSxcbiAgICAgIHRoaXMubWF4RGVsdGFfLCBmYWxzZSwgeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJdGVyYXRlIG92ZXIgZWFjaCBzZWdtZW50LCBjYWxsaW5nIHRoZSBwcm92aWRlZCBjYWxsYmFjay5cbiAgICogSWYgdGhlIGNhbGxiYWNrIHJldHVybnMgYSB0cnV0aHkgdmFsdWUgdGhlIGZ1bmN0aW9uIHJldHVybnMgdGhhdFxuICAgKiB2YWx1ZSBpbW1lZGlhdGVseS4gT3RoZXJ3aXNlIHRoZSBmdW5jdGlvbiByZXR1cm5zIGBmYWxzZWAuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczogUywgaW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlLCBpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUpOiBUfSBjYWxsYmFjayBGdW5jdGlvblxuICAgKiAgICAgY2FsbGVkIGZvciBlYWNoIHNlZ21lbnQuXG4gICAqIEByZXR1cm4ge1R8Ym9vbGVhbn0gVmFsdWUuXG4gICAqIEB0ZW1wbGF0ZSBULFNcbiAgICogQGFwaVxuICAgKi9cbiAgTGluZVN0cmluZy5wcm90b3R5cGUuZm9yRWFjaFNlZ21lbnQgPSBmdW5jdGlvbiBmb3JFYWNoU2VnbWVudCQxIChjYWxsYmFjaykge1xuICAgIHJldHVybiBmb3JFYWNoU2VnbWVudCh0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCB0aGlzLnN0cmlkZSwgY2FsbGJhY2spO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjb29yZGluYXRlIGF0IGBtYCB1c2luZyBsaW5lYXIgaW50ZXJwb2xhdGlvbiwgb3IgYG51bGxgIGlmIG5vXG4gICAqIHN1Y2ggY29vcmRpbmF0ZSBleGlzdHMuXG4gICAqXG4gICAqIGBvcHRfZXh0cmFwb2xhdGVgIGNvbnRyb2xzIGV4dHJhcG9sYXRpb24gYmV5b25kIHRoZSByYW5nZSBvZiBNcyBpbiB0aGVcbiAgICogTXVsdGlMaW5lU3RyaW5nLiBJZiBgb3B0X2V4dHJhcG9sYXRlYCBpcyBgdHJ1ZWAgdGhlbiBNcyBsZXNzIHRoYW4gdGhlIGZpcnN0XG4gICAqIE0gd2lsbCByZXR1cm4gdGhlIGZpcnN0IGNvb3JkaW5hdGUgYW5kIE1zIGdyZWF0ZXIgdGhhbiB0aGUgbGFzdCBNIHdpbGxcbiAgICogcmV0dXJuIHRoZSBsYXN0IGNvb3JkaW5hdGUuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtIE0uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9leHRyYXBvbGF0ZSBFeHRyYXBvbGF0ZS4gRGVmYXVsdCBpcyBgZmFsc2VgLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IENvb3JkaW5hdGUuXG4gICAqIEBhcGlcbiAgICovXG4gIExpbmVTdHJpbmcucHJvdG90eXBlLmdldENvb3JkaW5hdGVBdE0gPSBmdW5jdGlvbiBnZXRDb29yZGluYXRlQXRNIChtLCBvcHRfZXh0cmFwb2xhdGUpIHtcbiAgICBpZiAodGhpcy5sYXlvdXQgIT0gR2VvbWV0cnlMYXlvdXQuWFlNICYmXG4gICAgICAgIHRoaXMubGF5b3V0ICE9IEdlb21ldHJ5TGF5b3V0LlhZWk0pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgZXh0cmFwb2xhdGUgPSBvcHRfZXh0cmFwb2xhdGUgIT09IHVuZGVmaW5lZCA/IG9wdF9leHRyYXBvbGF0ZSA6IGZhbHNlO1xuICAgIHJldHVybiBsaW5lU3RyaW5nQ29vcmRpbmF0ZUF0TSh0aGlzLmZsYXRDb29yZGluYXRlcywgMCxcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgdGhpcy5zdHJpZGUsIG0sIGV4dHJhcG9sYXRlKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgbGluZXN0cmluZy5cbiAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gQ29vcmRpbmF0ZXMuXG4gICAqIEBvdmVycmlkZVxuICAgKiBAYXBpXG4gICAqL1xuICBMaW5lU3RyaW5nLnByb3RvdHlwZS5nZXRDb29yZGluYXRlcyA9IGZ1bmN0aW9uIGdldENvb3JkaW5hdGVzICgpIHtcbiAgICByZXR1cm4gaW5mbGF0ZUNvb3JkaW5hdGVzKFxuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgdGhpcy5zdHJpZGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGNvb3JkaW5hdGUgYXQgdGhlIHByb3ZpZGVkIGZyYWN0aW9uIGFsb25nIHRoZSBsaW5lc3RyaW5nLlxuICAgKiBUaGUgYGZyYWN0aW9uYCBpcyBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEsIHdoZXJlIDAgaXMgdGhlIHN0YXJ0IG9mIHRoZVxuICAgKiBsaW5lc3RyaW5nIGFuZCAxIGlzIHRoZSBlbmQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcmFjdGlvbiBGcmFjdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU9fSBvcHRfZGVzdCBPcHRpb25hbCBjb29yZGluYXRlIHdob3NlIHZhbHVlcyB3aWxsXG4gICAqICAgICBiZSBtb2RpZmllZC4gSWYgbm90IHByb3ZpZGVkLCBhIG5ldyBjb29yZGluYXRlIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gQ29vcmRpbmF0ZSBvZiB0aGUgaW50ZXJwb2xhdGVkIHBvaW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBMaW5lU3RyaW5nLnByb3RvdHlwZS5nZXRDb29yZGluYXRlQXQgPSBmdW5jdGlvbiBnZXRDb29yZGluYXRlQXQgKGZyYWN0aW9uLCBvcHRfZGVzdCkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZVBvaW50KFxuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgdGhpcy5zdHJpZGUsXG4gICAgICBmcmFjdGlvbiwgb3B0X2Rlc3QpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGxlbmd0aCBvZiB0aGUgbGluZXN0cmluZyBvbiBwcm9qZWN0ZWQgcGxhbmUuXG4gICAqIEByZXR1cm4ge251bWJlcn0gTGVuZ3RoIChvbiBwcm9qZWN0ZWQgcGxhbmUpLlxuICAgKiBAYXBpXG4gICAqL1xuICBMaW5lU3RyaW5nLnByb3RvdHlwZS5nZXRMZW5ndGggPSBmdW5jdGlvbiBnZXRMZW5ndGggKCkge1xuICAgIHJldHVybiBsaW5lU3RyaW5nTGVuZ3RoKFxuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgdGhpcy5zdHJpZGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBGbGF0IG1pZHBvaW50LlxuICAgKi9cbiAgTGluZVN0cmluZy5wcm90b3R5cGUuZ2V0RmxhdE1pZHBvaW50ID0gZnVuY3Rpb24gZ2V0RmxhdE1pZHBvaW50ICgpIHtcbiAgICBpZiAodGhpcy5mbGF0TWlkcG9pbnRSZXZpc2lvbl8gIT0gdGhpcy5nZXRSZXZpc2lvbigpKSB7XG4gICAgICB0aGlzLmZsYXRNaWRwb2ludF8gPSB0aGlzLmdldENvb3JkaW5hdGVBdCgwLjUsIHRoaXMuZmxhdE1pZHBvaW50Xyk7XG4gICAgICB0aGlzLmZsYXRNaWRwb2ludFJldmlzaW9uXyA9IHRoaXMuZ2V0UmV2aXNpb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZmxhdE1pZHBvaW50XztcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIExpbmVTdHJpbmcucHJvdG90eXBlLmdldFNpbXBsaWZpZWRHZW9tZXRyeUludGVybmFsID0gZnVuY3Rpb24gZ2V0U2ltcGxpZmllZEdlb21ldHJ5SW50ZXJuYWwgKHNxdWFyZWRUb2xlcmFuY2UpIHtcbiAgICB2YXIgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyA9IFtdO1xuICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMubGVuZ3RoID0gZG91Z2xhc1BldWNrZXIoXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCB0aGlzLnN0cmlkZSxcbiAgICAgIHNxdWFyZWRUb2xlcmFuY2UsIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIDApO1xuICAgIHJldHVybiBuZXcgTGluZVN0cmluZyhzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBHZW9tZXRyeUxheW91dC5YWSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqIEBhcGlcbiAgICovXG4gIExpbmVTdHJpbmcucHJvdG90eXBlLmdldFR5cGUgPSBmdW5jdGlvbiBnZXRUeXBlICgpIHtcbiAgICByZXR1cm4gR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKiBAYXBpXG4gICAqL1xuICBMaW5lU3RyaW5nLnByb3RvdHlwZS5pbnRlcnNlY3RzRXh0ZW50ID0gZnVuY3Rpb24gaW50ZXJzZWN0c0V4dGVudCAoZXh0ZW50KSB7XG4gICAgcmV0dXJuIGludGVyc2VjdHNMaW5lU3RyaW5nKFxuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgdGhpcy5zdHJpZGUsXG4gICAgICBleHRlbnQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBsaW5lc3RyaW5nLlxuICAgKiBAcGFyYW0geyFBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBjb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAgICogQHBhcmFtIHtHZW9tZXRyeUxheW91dD19IG9wdF9sYXlvdXQgTGF5b3V0LlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQGFwaVxuICAgKi9cbiAgTGluZVN0cmluZy5wcm90b3R5cGUuc2V0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiBzZXRDb29yZGluYXRlcyAoY29vcmRpbmF0ZXMsIG9wdF9sYXlvdXQpIHtcbiAgICB0aGlzLnNldExheW91dChvcHRfbGF5b3V0LCBjb29yZGluYXRlcywgMSk7XG4gICAgaWYgKCF0aGlzLmZsYXRDb29yZGluYXRlcykge1xuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMgPSBbXTtcbiAgICB9XG4gICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoID0gZGVmbGF0ZUNvb3JkaW5hdGVzKFxuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIGNvb3JkaW5hdGVzLCB0aGlzLnN0cmlkZSk7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH07XG5cbiAgcmV0dXJuIExpbmVTdHJpbmc7XG59KFNpbXBsZUdlb21ldHJ5KSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgTGluZVN0cmluZztcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGluZVN0cmluZy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9NdWx0aUxpbmVTdHJpbmdcbiAqL1xuaW1wb3J0IHtleHRlbmR9IGZyb20gJy4uL2FycmF5LmpzJztcbmltcG9ydCB7Y2xvc2VzdFNxdWFyZWREaXN0YW5jZVhZfSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IEdlb21ldHJ5TGF5b3V0IGZyb20gJy4vR2VvbWV0cnlMYXlvdXQuanMnO1xuaW1wb3J0IEdlb21ldHJ5VHlwZSBmcm9tICcuL0dlb21ldHJ5VHlwZS5qcyc7XG5pbXBvcnQgTGluZVN0cmluZyBmcm9tICcuL0xpbmVTdHJpbmcuanMnO1xuaW1wb3J0IFNpbXBsZUdlb21ldHJ5IGZyb20gJy4vU2ltcGxlR2VvbWV0cnkuanMnO1xuaW1wb3J0IHthc3NpZ25DbG9zZXN0QXJyYXlQb2ludCwgYXJyYXlNYXhTcXVhcmVkRGVsdGF9IGZyb20gJy4vZmxhdC9jbG9zZXN0LmpzJztcbmltcG9ydCB7ZGVmbGF0ZUNvb3JkaW5hdGVzQXJyYXl9IGZyb20gJy4vZmxhdC9kZWZsYXRlLmpzJztcbmltcG9ydCB7aW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXl9IGZyb20gJy4vZmxhdC9pbmZsYXRlLmpzJztcbmltcG9ydCB7aW50ZXJwb2xhdGVQb2ludCwgbGluZVN0cmluZ3NDb29yZGluYXRlQXRNfSBmcm9tICcuL2ZsYXQvaW50ZXJwb2xhdGUuanMnO1xuaW1wb3J0IHtpbnRlcnNlY3RzTGluZVN0cmluZ0FycmF5fSBmcm9tICcuL2ZsYXQvaW50ZXJzZWN0c2V4dGVudC5qcyc7XG5pbXBvcnQge2RvdWdsYXNQZXVja2VyQXJyYXl9IGZyb20gJy4vZmxhdC9zaW1wbGlmeS5qcyc7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogTXVsdGktbGluZXN0cmluZyBnZW9tZXRyeS5cbiAqXG4gKiBAYXBpXG4gKi9cbnZhciBNdWx0aUxpbmVTdHJpbmcgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTaW1wbGVHZW9tZXRyeSkge1xuICBmdW5jdGlvbiBNdWx0aUxpbmVTdHJpbmcoY29vcmRpbmF0ZXMsIG9wdF9sYXlvdXQsIG9wdF9lbmRzKSB7XG5cbiAgICBTaW1wbGVHZW9tZXRyeS5jYWxsKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmVuZHNfID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5tYXhEZWx0YV8gPSAtMTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1heERlbHRhUmV2aXNpb25fID0gLTE7XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShjb29yZGluYXRlc1swXSkpIHtcbiAgICAgIHRoaXMuc2V0Q29vcmRpbmF0ZXMoLyoqIEB0eXBlIHtBcnJheTxBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pn0gKi8gKGNvb3JkaW5hdGVzKSwgb3B0X2xheW91dCk7XG4gICAgfSBlbHNlIGlmIChvcHRfbGF5b3V0ICE9PSB1bmRlZmluZWQgJiYgb3B0X2VuZHMpIHtcbiAgICAgIHRoaXMuc2V0RmxhdENvb3JkaW5hdGVzKG9wdF9sYXlvdXQsIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi8gKGNvb3JkaW5hdGVzKSk7XG4gICAgICB0aGlzLmVuZHNfID0gb3B0X2VuZHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBsYXlvdXQgPSB0aGlzLmdldExheW91dCgpO1xuICAgICAgdmFyIGxpbmVTdHJpbmdzID0gLyoqIEB0eXBlIHtBcnJheTxMaW5lU3RyaW5nPn0gKi8gKGNvb3JkaW5hdGVzKTtcbiAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBbXTtcbiAgICAgIHZhciBlbmRzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBsaW5lU3RyaW5ncy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBsaW5lU3RyaW5nID0gbGluZVN0cmluZ3NbaV07XG4gICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgbGF5b3V0ID0gbGluZVN0cmluZy5nZXRMYXlvdXQoKTtcbiAgICAgICAgfVxuICAgICAgICBleHRlbmQoZmxhdENvb3JkaW5hdGVzLCBsaW5lU3RyaW5nLmdldEZsYXRDb29yZGluYXRlcygpKTtcbiAgICAgICAgZW5kcy5wdXNoKGZsYXRDb29yZGluYXRlcy5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXRGbGF0Q29vcmRpbmF0ZXMobGF5b3V0LCBmbGF0Q29vcmRpbmF0ZXMpO1xuICAgICAgdGhpcy5lbmRzXyA9IGVuZHM7XG4gICAgfVxuXG4gIH1cblxuICBpZiAoIFNpbXBsZUdlb21ldHJ5ICkgTXVsdGlMaW5lU3RyaW5nLl9fcHJvdG9fXyA9IFNpbXBsZUdlb21ldHJ5O1xuICBNdWx0aUxpbmVTdHJpbmcucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU2ltcGxlR2VvbWV0cnkgJiYgU2ltcGxlR2VvbWV0cnkucHJvdG90eXBlICk7XG4gIE11bHRpTGluZVN0cmluZy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNdWx0aUxpbmVTdHJpbmc7XG5cbiAgLyoqXG4gICAqIEFwcGVuZCB0aGUgcGFzc2VkIGxpbmVzdHJpbmcgdG8gdGhlIG11bHRpbGluZXN0cmluZy5cbiAgICogQHBhcmFtIHtMaW5lU3RyaW5nfSBsaW5lU3RyaW5nIExpbmVTdHJpbmcuXG4gICAqIEBhcGlcbiAgICovXG4gIE11bHRpTGluZVN0cmluZy5wcm90b3R5cGUuYXBwZW5kTGluZVN0cmluZyA9IGZ1bmN0aW9uIGFwcGVuZExpbmVTdHJpbmcgKGxpbmVTdHJpbmcpIHtcbiAgICBpZiAoIXRoaXMuZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcyA9IGxpbmVTdHJpbmcuZ2V0RmxhdENvb3JkaW5hdGVzKCkuc2xpY2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXh0ZW5kKHRoaXMuZmxhdENvb3JkaW5hdGVzLCBsaW5lU3RyaW5nLmdldEZsYXRDb29yZGluYXRlcygpLnNsaWNlKCkpO1xuICAgIH1cbiAgICB0aGlzLmVuZHNfLnB1c2godGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoKTtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfTtcblxuICAvKipcbiAgICogTWFrZSBhIGNvbXBsZXRlIGNvcHkgb2YgdGhlIGdlb21ldHJ5LlxuICAgKiBAcmV0dXJuIHshTXVsdGlMaW5lU3RyaW5nfSBDbG9uZS5cbiAgICogQG92ZXJyaWRlXG4gICAqIEBhcGlcbiAgICovXG4gIE11bHRpTGluZVN0cmluZy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSAoKSB7XG4gICAgcmV0dXJuIG5ldyBNdWx0aUxpbmVTdHJpbmcodGhpcy5mbGF0Q29vcmRpbmF0ZXMuc2xpY2UoKSwgdGhpcy5sYXlvdXQsIHRoaXMuZW5kc18uc2xpY2UoKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBNdWx0aUxpbmVTdHJpbmcucHJvdG90eXBlLmNsb3Nlc3RQb2ludFhZID0gZnVuY3Rpb24gY2xvc2VzdFBvaW50WFkgKHgsIHksIGNsb3Nlc3RQb2ludCwgbWluU3F1YXJlZERpc3RhbmNlKSB7XG4gICAgaWYgKG1pblNxdWFyZWREaXN0YW5jZSA8IGNsb3Nlc3RTcXVhcmVkRGlzdGFuY2VYWSh0aGlzLmdldEV4dGVudCgpLCB4LCB5KSkge1xuICAgICAgcmV0dXJuIG1pblNxdWFyZWREaXN0YW5jZTtcbiAgICB9XG4gICAgaWYgKHRoaXMubWF4RGVsdGFSZXZpc2lvbl8gIT0gdGhpcy5nZXRSZXZpc2lvbigpKSB7XG4gICAgICB0aGlzLm1heERlbHRhXyA9IE1hdGguc3FydChhcnJheU1heFNxdWFyZWREZWx0YShcbiAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZW5kc18sIHRoaXMuc3RyaWRlLCAwKSk7XG4gICAgICB0aGlzLm1heERlbHRhUmV2aXNpb25fID0gdGhpcy5nZXRSZXZpc2lvbigpO1xuICAgIH1cbiAgICByZXR1cm4gYXNzaWduQ2xvc2VzdEFycmF5UG9pbnQoXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUsXG4gICAgICB0aGlzLm1heERlbHRhXywgZmFsc2UsIHgsIHksIGNsb3Nlc3RQb2ludCwgbWluU3F1YXJlZERpc3RhbmNlKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY29vcmRpbmF0ZSBhdCBgbWAgdXNpbmcgbGluZWFyIGludGVycG9sYXRpb24sIG9yIGBudWxsYCBpZiBub1xuICAgKiBzdWNoIGNvb3JkaW5hdGUgZXhpc3RzLlxuICAgKlxuICAgKiBgb3B0X2V4dHJhcG9sYXRlYCBjb250cm9scyBleHRyYXBvbGF0aW9uIGJleW9uZCB0aGUgcmFuZ2Ugb2YgTXMgaW4gdGhlXG4gICAqIE11bHRpTGluZVN0cmluZy4gSWYgYG9wdF9leHRyYXBvbGF0ZWAgaXMgYHRydWVgIHRoZW4gTXMgbGVzcyB0aGFuIHRoZSBmaXJzdFxuICAgKiBNIHdpbGwgcmV0dXJuIHRoZSBmaXJzdCBjb29yZGluYXRlIGFuZCBNcyBncmVhdGVyIHRoYW4gdGhlIGxhc3QgTSB3aWxsXG4gICAqIHJldHVybiB0aGUgbGFzdCBjb29yZGluYXRlLlxuICAgKlxuICAgKiBgb3B0X2ludGVycG9sYXRlYCBjb250cm9scyBpbnRlcnBvbGF0aW9uIGJldHdlZW4gY29uc2VjdXRpdmUgTGluZVN0cmluZ3NcbiAgICogd2l0aGluIHRoZSBNdWx0aUxpbmVTdHJpbmcuIElmIGBvcHRfaW50ZXJwb2xhdGVgIGlzIGB0cnVlYCB0aGUgY29vcmRpbmF0ZXNcbiAgICogd2lsbCBiZSBsaW5lYXJseSBpbnRlcnBvbGF0ZWQgYmV0d2VlbiB0aGUgbGFzdCBjb29yZGluYXRlIG9mIG9uZSBMaW5lU3RyaW5nXG4gICAqIGFuZCB0aGUgZmlyc3QgY29vcmRpbmF0ZSBvZiB0aGUgbmV4dCBMaW5lU3RyaW5nLiAgSWYgYG9wdF9pbnRlcnBvbGF0ZWAgaXNcbiAgICogYGZhbHNlYCB0aGVuIHRoZSBmdW5jdGlvbiB3aWxsIHJldHVybiBgbnVsbGAgZm9yIE1zIGZhbGxpbmcgYmV0d2VlblxuICAgKiBMaW5lU3RyaW5ncy5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IG0gTS5cbiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2V4dHJhcG9sYXRlIEV4dHJhcG9sYXRlLiBEZWZhdWx0IGlzIGBmYWxzZWAuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9pbnRlcnBvbGF0ZSBJbnRlcnBvbGF0ZS4gRGVmYXVsdCBpcyBgZmFsc2VgLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IENvb3JkaW5hdGUuXG4gICAqIEBhcGlcbiAgICovXG4gIE11bHRpTGluZVN0cmluZy5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZUF0TSA9IGZ1bmN0aW9uIGdldENvb3JkaW5hdGVBdE0gKG0sIG9wdF9leHRyYXBvbGF0ZSwgb3B0X2ludGVycG9sYXRlKSB7XG4gICAgaWYgKCh0aGlzLmxheW91dCAhPSBHZW9tZXRyeUxheW91dC5YWU0gJiZcbiAgICAgICAgIHRoaXMubGF5b3V0ICE9IEdlb21ldHJ5TGF5b3V0LlhZWk0pIHx8XG4gICAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBleHRyYXBvbGF0ZSA9IG9wdF9leHRyYXBvbGF0ZSAhPT0gdW5kZWZpbmVkID8gb3B0X2V4dHJhcG9sYXRlIDogZmFsc2U7XG4gICAgdmFyIGludGVycG9sYXRlID0gb3B0X2ludGVycG9sYXRlICE9PSB1bmRlZmluZWQgPyBvcHRfaW50ZXJwb2xhdGUgOiBmYWxzZTtcbiAgICByZXR1cm4gbGluZVN0cmluZ3NDb29yZGluYXRlQXRNKHRoaXMuZmxhdENvb3JkaW5hdGVzLCAwLFxuICAgICAgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUsIG0sIGV4dHJhcG9sYXRlLCBpbnRlcnBvbGF0ZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIG11bHRpbGluZXN0cmluZy5cbiAgICogQHJldHVybiB7QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj59IENvb3JkaW5hdGVzLlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQGFwaVxuICAgKi9cbiAgTXVsdGlMaW5lU3RyaW5nLnByb3RvdHlwZS5nZXRDb29yZGluYXRlcyA9IGZ1bmN0aW9uIGdldENvb3JkaW5hdGVzICgpIHtcbiAgICByZXR1cm4gaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXkoXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBFbmRzLlxuICAgKi9cbiAgTXVsdGlMaW5lU3RyaW5nLnByb3RvdHlwZS5nZXRFbmRzID0gZnVuY3Rpb24gZ2V0RW5kcyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZW5kc187XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgbGluZXN0cmluZyBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXguXG4gICAqIEByZXR1cm4ge0xpbmVTdHJpbmd9IExpbmVTdHJpbmcuXG4gICAqIEBhcGlcbiAgICovXG4gIE11bHRpTGluZVN0cmluZy5wcm90b3R5cGUuZ2V0TGluZVN0cmluZyA9IGZ1bmN0aW9uIGdldExpbmVTdHJpbmcgKGluZGV4KSB7XG4gICAgaWYgKGluZGV4IDwgMCB8fCB0aGlzLmVuZHNfLmxlbmd0aCA8PSBpbmRleCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBuZXcgTGluZVN0cmluZyh0aGlzLmZsYXRDb29yZGluYXRlcy5zbGljZShcbiAgICAgIGluZGV4ID09PSAwID8gMCA6IHRoaXMuZW5kc19baW5kZXggLSAxXSwgdGhpcy5lbmRzX1tpbmRleF0pLCB0aGlzLmxheW91dCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgbGluZXN0cmluZ3Mgb2YgdGhpcyBtdWx0aWxpbmVzdHJpbmcuXG4gICAqIEByZXR1cm4ge0FycmF5PExpbmVTdHJpbmc+fSBMaW5lU3RyaW5ncy5cbiAgICogQGFwaVxuICAgKi9cbiAgTXVsdGlMaW5lU3RyaW5nLnByb3RvdHlwZS5nZXRMaW5lU3RyaW5ncyA9IGZ1bmN0aW9uIGdldExpbmVTdHJpbmdzICgpIHtcbiAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gdGhpcy5mbGF0Q29vcmRpbmF0ZXM7XG4gICAgdmFyIGVuZHMgPSB0aGlzLmVuZHNfO1xuICAgIHZhciBsYXlvdXQgPSB0aGlzLmxheW91dDtcbiAgICAvKiogQHR5cGUge0FycmF5PExpbmVTdHJpbmc+fSAqL1xuICAgIHZhciBsaW5lU3RyaW5ncyA9IFtdO1xuICAgIHZhciBvZmZzZXQgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgdmFyIGVuZCA9IGVuZHNbaV07XG4gICAgICB2YXIgbGluZVN0cmluZyA9IG5ldyBMaW5lU3RyaW5nKGZsYXRDb29yZGluYXRlcy5zbGljZShvZmZzZXQsIGVuZCksIGxheW91dCk7XG4gICAgICBsaW5lU3RyaW5ncy5wdXNoKGxpbmVTdHJpbmcpO1xuICAgICAgb2Zmc2V0ID0gZW5kO1xuICAgIH1cbiAgICByZXR1cm4gbGluZVN0cmluZ3M7XG4gIH07XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEZsYXQgbWlkcG9pbnRzLlxuICAgKi9cbiAgTXVsdGlMaW5lU3RyaW5nLnByb3RvdHlwZS5nZXRGbGF0TWlkcG9pbnRzID0gZnVuY3Rpb24gZ2V0RmxhdE1pZHBvaW50cyAoKSB7XG4gICAgdmFyIG1pZHBvaW50cyA9IFtdO1xuICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmZsYXRDb29yZGluYXRlcztcbiAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICB2YXIgZW5kcyA9IHRoaXMuZW5kc187XG4gICAgdmFyIHN0cmlkZSA9IHRoaXMuc3RyaWRlO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgdmFyIGVuZCA9IGVuZHNbaV07XG4gICAgICB2YXIgbWlkcG9pbnQgPSBpbnRlcnBvbGF0ZVBvaW50KFxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIDAuNSk7XG4gICAgICBleHRlbmQobWlkcG9pbnRzLCBtaWRwb2ludCk7XG4gICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgfVxuICAgIHJldHVybiBtaWRwb2ludHM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBNdWx0aUxpbmVTdHJpbmcucHJvdG90eXBlLmdldFNpbXBsaWZpZWRHZW9tZXRyeUludGVybmFsID0gZnVuY3Rpb24gZ2V0U2ltcGxpZmllZEdlb21ldHJ5SW50ZXJuYWwgKHNxdWFyZWRUb2xlcmFuY2UpIHtcbiAgICB2YXIgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyA9IFtdO1xuICAgIHZhciBzaW1wbGlmaWVkRW5kcyA9IFtdO1xuICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMubGVuZ3RoID0gZG91Z2xhc1BldWNrZXJBcnJheShcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLCAwLCB0aGlzLmVuZHNfLCB0aGlzLnN0cmlkZSwgc3F1YXJlZFRvbGVyYW5jZSxcbiAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIDAsIHNpbXBsaWZpZWRFbmRzKTtcbiAgICByZXR1cm4gbmV3IE11bHRpTGluZVN0cmluZyhzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBHZW9tZXRyeUxheW91dC5YWSwgc2ltcGxpZmllZEVuZHMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKiBAYXBpXG4gICAqL1xuICBNdWx0aUxpbmVTdHJpbmcucHJvdG90eXBlLmdldFR5cGUgPSBmdW5jdGlvbiBnZXRUeXBlICgpIHtcbiAgICByZXR1cm4gR2VvbWV0cnlUeXBlLk1VTFRJX0xJTkVfU1RSSU5HO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKiBAYXBpXG4gICAqL1xuICBNdWx0aUxpbmVTdHJpbmcucHJvdG90eXBlLmludGVyc2VjdHNFeHRlbnQgPSBmdW5jdGlvbiBpbnRlcnNlY3RzRXh0ZW50IChleHRlbnQpIHtcbiAgICByZXR1cm4gaW50ZXJzZWN0c0xpbmVTdHJpbmdBcnJheShcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLCAwLCB0aGlzLmVuZHNfLCB0aGlzLnN0cmlkZSwgZXh0ZW50KTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IHRoZSBjb29yZGluYXRlcyBvZiB0aGUgbXVsdGlsaW5lc3RyaW5nLlxuICAgKiBAcGFyYW0geyFBcnJheTxBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7R2VvbWV0cnlMYXlvdXQ9fSBvcHRfbGF5b3V0IExheW91dC5cbiAgICogQG92ZXJyaWRlXG4gICAqIEBhcGlcbiAgICovXG4gIE11bHRpTGluZVN0cmluZy5wcm90b3R5cGUuc2V0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiBzZXRDb29yZGluYXRlcyAoY29vcmRpbmF0ZXMsIG9wdF9sYXlvdXQpIHtcbiAgICB0aGlzLnNldExheW91dChvcHRfbGF5b3V0LCBjb29yZGluYXRlcywgMik7XG4gICAgaWYgKCF0aGlzLmZsYXRDb29yZGluYXRlcykge1xuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMgPSBbXTtcbiAgICB9XG4gICAgdmFyIGVuZHMgPSBkZWZsYXRlQ29vcmRpbmF0ZXNBcnJheShcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLCAwLCBjb29yZGluYXRlcywgdGhpcy5zdHJpZGUsIHRoaXMuZW5kc18pO1xuICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCA9IGVuZHMubGVuZ3RoID09PSAwID8gMCA6IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfTtcblxuICByZXR1cm4gTXVsdGlMaW5lU3RyaW5nO1xufShTaW1wbGVHZW9tZXRyeSkpO1xuXG5cbmV4cG9ydCBkZWZhdWx0IE11bHRpTGluZVN0cmluZztcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TXVsdGlMaW5lU3RyaW5nLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL011bHRpUG9pbnRcbiAqL1xuaW1wb3J0IHtleHRlbmR9IGZyb20gJy4uL2FycmF5LmpzJztcbmltcG9ydCB7Y2xvc2VzdFNxdWFyZWREaXN0YW5jZVhZLCBjb250YWluc1hZfSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IEdlb21ldHJ5VHlwZSBmcm9tICcuL0dlb21ldHJ5VHlwZS5qcyc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnLi9Qb2ludC5qcyc7XG5pbXBvcnQgU2ltcGxlR2VvbWV0cnkgZnJvbSAnLi9TaW1wbGVHZW9tZXRyeS5qcyc7XG5pbXBvcnQge2RlZmxhdGVDb29yZGluYXRlc30gZnJvbSAnLi9mbGF0L2RlZmxhdGUuanMnO1xuaW1wb3J0IHtpbmZsYXRlQ29vcmRpbmF0ZXN9IGZyb20gJy4vZmxhdC9pbmZsYXRlLmpzJztcbmltcG9ydCB7c3F1YXJlZERpc3RhbmNlIGFzIHNxdWFyZWREeH0gZnJvbSAnLi4vbWF0aC5qcyc7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogTXVsdGktcG9pbnQgZ2VvbWV0cnkuXG4gKlxuICogQGFwaVxuICovXG52YXIgTXVsdGlQb2ludCA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFNpbXBsZUdlb21ldHJ5KSB7XG4gIGZ1bmN0aW9uIE11bHRpUG9pbnQoY29vcmRpbmF0ZXMsIG9wdF9sYXlvdXQpIHtcbiAgICBTaW1wbGVHZW9tZXRyeS5jYWxsKHRoaXMpO1xuICAgIGlmIChvcHRfbGF5b3V0ICYmICFBcnJheS5pc0FycmF5KGNvb3JkaW5hdGVzWzBdKSkge1xuICAgICAgdGhpcy5zZXRGbGF0Q29vcmRpbmF0ZXMob3B0X2xheW91dCwgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAoY29vcmRpbmF0ZXMpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRDb29yZGluYXRlcygvKiogQHR5cGUge0FycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59ICovIChjb29yZGluYXRlcyksIG9wdF9sYXlvdXQpO1xuICAgIH1cbiAgfVxuXG4gIGlmICggU2ltcGxlR2VvbWV0cnkgKSBNdWx0aVBvaW50Ll9fcHJvdG9fXyA9IFNpbXBsZUdlb21ldHJ5O1xuICBNdWx0aVBvaW50LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFNpbXBsZUdlb21ldHJ5ICYmIFNpbXBsZUdlb21ldHJ5LnByb3RvdHlwZSApO1xuICBNdWx0aVBvaW50LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE11bHRpUG9pbnQ7XG5cbiAgLyoqXG4gICAqIEFwcGVuZCB0aGUgcGFzc2VkIHBvaW50IHRvIHRoaXMgbXVsdGlwb2ludC5cbiAgICogQHBhcmFtIHtQb2ludH0gcG9pbnQgUG9pbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIE11bHRpUG9pbnQucHJvdG90eXBlLmFwcGVuZFBvaW50ID0gZnVuY3Rpb24gYXBwZW5kUG9pbnQgKHBvaW50KSB7XG4gICAgaWYgKCF0aGlzLmZsYXRDb29yZGluYXRlcykge1xuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMgPSBwb2ludC5nZXRGbGF0Q29vcmRpbmF0ZXMoKS5zbGljZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleHRlbmQodGhpcy5mbGF0Q29vcmRpbmF0ZXMsIHBvaW50LmdldEZsYXRDb29yZGluYXRlcygpKTtcbiAgICB9XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1ha2UgYSBjb21wbGV0ZSBjb3B5IG9mIHRoZSBnZW9tZXRyeS5cbiAgICogQHJldHVybiB7IU11bHRpUG9pbnR9IENsb25lLlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQGFwaVxuICAgKi9cbiAgTXVsdGlQb2ludC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSAoKSB7XG4gICAgdmFyIG11bHRpUG9pbnQgPSBuZXcgTXVsdGlQb2ludCh0aGlzLmZsYXRDb29yZGluYXRlcy5zbGljZSgpLCB0aGlzLmxheW91dCk7XG4gICAgcmV0dXJuIG11bHRpUG9pbnQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBNdWx0aVBvaW50LnByb3RvdHlwZS5jbG9zZXN0UG9pbnRYWSA9IGZ1bmN0aW9uIGNsb3Nlc3RQb2ludFhZICh4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSkge1xuICAgIGlmIChtaW5TcXVhcmVkRGlzdGFuY2UgPCBjbG9zZXN0U3F1YXJlZERpc3RhbmNlWFkodGhpcy5nZXRFeHRlbnQoKSwgeCwgeSkpIHtcbiAgICAgIHJldHVybiBtaW5TcXVhcmVkRGlzdGFuY2U7XG4gICAgfVxuICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmZsYXRDb29yZGluYXRlcztcbiAgICB2YXIgc3RyaWRlID0gdGhpcy5zdHJpZGU7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZmxhdENvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGlpOyBpICs9IHN0cmlkZSkge1xuICAgICAgdmFyIHNxdWFyZWREaXN0YW5jZSA9IHNxdWFyZWREeChcbiAgICAgICAgeCwgeSwgZmxhdENvb3JkaW5hdGVzW2ldLCBmbGF0Q29vcmRpbmF0ZXNbaSArIDFdKTtcbiAgICAgIGlmIChzcXVhcmVkRGlzdGFuY2UgPCBtaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICAgICAgbWluU3F1YXJlZERpc3RhbmNlID0gc3F1YXJlZERpc3RhbmNlO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHN0cmlkZTsgKytqKSB7XG4gICAgICAgICAgY2xvc2VzdFBvaW50W2pdID0gZmxhdENvb3JkaW5hdGVzW2kgKyBqXTtcbiAgICAgICAgfVxuICAgICAgICBjbG9zZXN0UG9pbnQubGVuZ3RoID0gc3RyaWRlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWluU3F1YXJlZERpc3RhbmNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBtdWx0aXBvaW50LlxuICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBDb29yZGluYXRlcy5cbiAgICogQG92ZXJyaWRlXG4gICAqIEBhcGlcbiAgICovXG4gIE11bHRpUG9pbnQucHJvdG90eXBlLmdldENvb3JkaW5hdGVzID0gZnVuY3Rpb24gZ2V0Q29vcmRpbmF0ZXMgKCkge1xuICAgIHJldHVybiBpbmZsYXRlQ29vcmRpbmF0ZXMoXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCB0aGlzLnN0cmlkZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgcG9pbnQgYXQgdGhlIHNwZWNpZmllZCBpbmRleC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IEluZGV4LlxuICAgKiBAcmV0dXJuIHtQb2ludH0gUG9pbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIE11bHRpUG9pbnQucHJvdG90eXBlLmdldFBvaW50ID0gZnVuY3Rpb24gZ2V0UG9pbnQgKGluZGV4KSB7XG4gICAgdmFyIG4gPSAhdGhpcy5mbGF0Q29vcmRpbmF0ZXMgPyAwIDogdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoIC8gdGhpcy5zdHJpZGU7XG4gICAgaWYgKGluZGV4IDwgMCB8fCBuIDw9IGluZGV4KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLmZsYXRDb29yZGluYXRlcy5zbGljZShcbiAgICAgIGluZGV4ICogdGhpcy5zdHJpZGUsIChpbmRleCArIDEpICogdGhpcy5zdHJpZGUpLCB0aGlzLmxheW91dCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgcG9pbnRzIG9mIHRoaXMgbXVsdGlwb2ludC5cbiAgICogQHJldHVybiB7QXJyYXk8UG9pbnQ+fSBQb2ludHMuXG4gICAqIEBhcGlcbiAgICovXG4gIE11bHRpUG9pbnQucHJvdG90eXBlLmdldFBvaW50cyA9IGZ1bmN0aW9uIGdldFBvaW50cyAoKSB7XG4gICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IHRoaXMuZmxhdENvb3JkaW5hdGVzO1xuICAgIHZhciBsYXlvdXQgPSB0aGlzLmxheW91dDtcbiAgICB2YXIgc3RyaWRlID0gdGhpcy5zdHJpZGU7XG4gICAgLyoqIEB0eXBlIHtBcnJheTxQb2ludD59ICovXG4gICAgdmFyIHBvaW50cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGZsYXRDb29yZGluYXRlcy5sZW5ndGg7IGkgPCBpaTsgaSArPSBzdHJpZGUpIHtcbiAgICAgIHZhciBwb2ludCA9IG5ldyBQb2ludChmbGF0Q29vcmRpbmF0ZXMuc2xpY2UoaSwgaSArIHN0cmlkZSksIGxheW91dCk7XG4gICAgICBwb2ludHMucHVzaChwb2ludCk7XG4gICAgfVxuICAgIHJldHVybiBwb2ludHM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqIEBhcGlcbiAgICovXG4gIE11bHRpUG9pbnQucHJvdG90eXBlLmdldFR5cGUgPSBmdW5jdGlvbiBnZXRUeXBlICgpIHtcbiAgICByZXR1cm4gR2VvbWV0cnlUeXBlLk1VTFRJX1BPSU5UO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKiBAYXBpXG4gICAqL1xuICBNdWx0aVBvaW50LnByb3RvdHlwZS5pbnRlcnNlY3RzRXh0ZW50ID0gZnVuY3Rpb24gaW50ZXJzZWN0c0V4dGVudCAoZXh0ZW50KSB7XG4gICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IHRoaXMuZmxhdENvb3JkaW5hdGVzO1xuICAgIHZhciBzdHJpZGUgPSB0aGlzLnN0cmlkZTtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7IGkgKz0gc3RyaWRlKSB7XG4gICAgICB2YXIgeCA9IGZsYXRDb29yZGluYXRlc1tpXTtcbiAgICAgIHZhciB5ID0gZmxhdENvb3JkaW5hdGVzW2kgKyAxXTtcbiAgICAgIGlmIChjb250YWluc1hZKGV4dGVudCwgeCwgeSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IHRoZSBjb29yZGluYXRlcyBvZiB0aGUgbXVsdGlwb2ludC5cbiAgICogQHBhcmFtIHshQXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9HZW9tZXRyeUxheW91dC5qc1wiKS5kZWZhdWx0PX0gb3B0X2xheW91dCBMYXlvdXQuXG4gICAqIEBvdmVycmlkZVxuICAgKiBAYXBpXG4gICAqL1xuICBNdWx0aVBvaW50LnByb3RvdHlwZS5zZXRDb29yZGluYXRlcyA9IGZ1bmN0aW9uIHNldENvb3JkaW5hdGVzIChjb29yZGluYXRlcywgb3B0X2xheW91dCkge1xuICAgIHRoaXMuc2V0TGF5b3V0KG9wdF9sYXlvdXQsIGNvb3JkaW5hdGVzLCAxKTtcbiAgICBpZiAoIXRoaXMuZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcyA9IFtdO1xuICAgIH1cbiAgICB0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGggPSBkZWZsYXRlQ29vcmRpbmF0ZXMoXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgY29vcmRpbmF0ZXMsIHRoaXMuc3RyaWRlKTtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfTtcblxuICByZXR1cm4gTXVsdGlQb2ludDtcbn0oU2ltcGxlR2VvbWV0cnkpKTtcblxuXG5leHBvcnQgZGVmYXVsdCBNdWx0aVBvaW50O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1NdWx0aVBvaW50LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL011bHRpUG9seWdvblxuICovXG5pbXBvcnQge2V4dGVuZH0gZnJvbSAnLi4vYXJyYXkuanMnO1xuaW1wb3J0IHtjbG9zZXN0U3F1YXJlZERpc3RhbmNlWFl9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgR2VvbWV0cnlMYXlvdXQgZnJvbSAnLi9HZW9tZXRyeUxheW91dC5qcyc7XG5pbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJy4vR2VvbWV0cnlUeXBlLmpzJztcbmltcG9ydCBNdWx0aVBvaW50IGZyb20gJy4vTXVsdGlQb2ludC5qcyc7XG5pbXBvcnQgUG9seWdvbiBmcm9tICcuL1BvbHlnb24uanMnO1xuaW1wb3J0IFNpbXBsZUdlb21ldHJ5IGZyb20gJy4vU2ltcGxlR2VvbWV0cnkuanMnO1xuaW1wb3J0IHtsaW5lYXJSaW5nc3MgYXMgbGluZWFyUmluZ3NzQXJlYX0gZnJvbSAnLi9mbGF0L2FyZWEuanMnO1xuaW1wb3J0IHtsaW5lYXJSaW5nc3MgYXMgbGluZWFyUmluZ3NzQ2VudGVyfSBmcm9tICcuL2ZsYXQvY2VudGVyLmpzJztcbmltcG9ydCB7YXNzaWduQ2xvc2VzdE11bHRpQXJyYXlQb2ludCwgbXVsdGlBcnJheU1heFNxdWFyZWREZWx0YX0gZnJvbSAnLi9mbGF0L2Nsb3Nlc3QuanMnO1xuaW1wb3J0IHtsaW5lYXJSaW5nc3NDb250YWluc1hZfSBmcm9tICcuL2ZsYXQvY29udGFpbnMuanMnO1xuaW1wb3J0IHtkZWZsYXRlTXVsdGlDb29yZGluYXRlc0FycmF5fSBmcm9tICcuL2ZsYXQvZGVmbGF0ZS5qcyc7XG5pbXBvcnQge2luZmxhdGVNdWx0aUNvb3JkaW5hdGVzQXJyYXl9IGZyb20gJy4vZmxhdC9pbmZsYXRlLmpzJztcbmltcG9ydCB7Z2V0SW50ZXJpb3JQb2ludHNPZk11bHRpQXJyYXl9IGZyb20gJy4vZmxhdC9pbnRlcmlvcnBvaW50LmpzJztcbmltcG9ydCB7aW50ZXJzZWN0c0xpbmVhclJpbmdNdWx0aUFycmF5fSBmcm9tICcuL2ZsYXQvaW50ZXJzZWN0c2V4dGVudC5qcyc7XG5pbXBvcnQge2xpbmVhclJpbmdzQXJlT3JpZW50ZWQsIG9yaWVudExpbmVhclJpbmdzQXJyYXl9IGZyb20gJy4vZmxhdC9vcmllbnQuanMnO1xuaW1wb3J0IHtxdWFudGl6ZU11bHRpQXJyYXl9IGZyb20gJy4vZmxhdC9zaW1wbGlmeS5qcyc7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogTXVsdGktcG9seWdvbiBnZW9tZXRyeS5cbiAqXG4gKiBAYXBpXG4gKi9cbnZhciBNdWx0aVBvbHlnb24gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTaW1wbGVHZW9tZXRyeSkge1xuICBmdW5jdGlvbiBNdWx0aVBvbHlnb24oY29vcmRpbmF0ZXMsIG9wdF9sYXlvdXQsIG9wdF9lbmRzcykge1xuXG4gICAgU2ltcGxlR2VvbWV0cnkuY2FsbCh0aGlzKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheTxBcnJheTxudW1iZXI+Pn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZW5kc3NfID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5mbGF0SW50ZXJpb3JQb2ludHNSZXZpc2lvbl8gPSAtMTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICovXG4gICAgdGhpcy5mbGF0SW50ZXJpb3JQb2ludHNfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1heERlbHRhXyA9IC0xO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWF4RGVsdGFSZXZpc2lvbl8gPSAtMTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm9yaWVudGVkUmV2aXNpb25fID0gLTE7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMub3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXNfID0gbnVsbDtcblxuICAgIGlmICghb3B0X2VuZHNzICYmICFBcnJheS5pc0FycmF5KGNvb3JkaW5hdGVzWzBdKSkge1xuICAgICAgdmFyIGxheW91dCA9IHRoaXMuZ2V0TGF5b3V0KCk7XG4gICAgICB2YXIgcG9seWdvbnMgPSAvKiogQHR5cGUge0FycmF5PFBvbHlnb24+fSAqLyAoY29vcmRpbmF0ZXMpO1xuICAgICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IFtdO1xuICAgICAgdmFyIGVuZHNzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBwb2x5Z29ucy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBwb2x5Z29uID0gcG9seWdvbnNbaV07XG4gICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgbGF5b3V0ID0gcG9seWdvbi5nZXRMYXlvdXQoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb2Zmc2V0ID0gZmxhdENvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICAgICAgdmFyIGVuZHMgPSBwb2x5Z29uLmdldEVuZHMoKTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpqID0gZW5kcy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgICAgZW5kc1tqXSArPSBvZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgZXh0ZW5kKGZsYXRDb29yZGluYXRlcywgcG9seWdvbi5nZXRGbGF0Q29vcmRpbmF0ZXMoKSk7XG4gICAgICAgIGVuZHNzLnB1c2goZW5kcyk7XG4gICAgICB9XG4gICAgICBvcHRfbGF5b3V0ID0gbGF5b3V0O1xuICAgICAgY29vcmRpbmF0ZXMgPSBmbGF0Q29vcmRpbmF0ZXM7XG4gICAgICBvcHRfZW5kc3MgPSBlbmRzcztcbiAgICB9XG4gICAgaWYgKG9wdF9sYXlvdXQgIT09IHVuZGVmaW5lZCAmJiBvcHRfZW5kc3MpIHtcbiAgICAgIHRoaXMuc2V0RmxhdENvb3JkaW5hdGVzKG9wdF9sYXlvdXQsIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi8gKGNvb3JkaW5hdGVzKSk7XG4gICAgICB0aGlzLmVuZHNzXyA9IG9wdF9lbmRzcztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRDb29yZGluYXRlcygvKiogQHR5cGUge0FycmF5PEFycmF5PEFycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+Pn0gKi8gKGNvb3JkaW5hdGVzKSxcbiAgICAgICAgb3B0X2xheW91dCk7XG4gICAgfVxuXG4gIH1cblxuICBpZiAoIFNpbXBsZUdlb21ldHJ5ICkgTXVsdGlQb2x5Z29uLl9fcHJvdG9fXyA9IFNpbXBsZUdlb21ldHJ5O1xuICBNdWx0aVBvbHlnb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU2ltcGxlR2VvbWV0cnkgJiYgU2ltcGxlR2VvbWV0cnkucHJvdG90eXBlICk7XG4gIE11bHRpUG9seWdvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNdWx0aVBvbHlnb247XG5cbiAgLyoqXG4gICAqIEFwcGVuZCB0aGUgcGFzc2VkIHBvbHlnb24gdG8gdGhpcyBtdWx0aXBvbHlnb24uXG4gICAqIEBwYXJhbSB7UG9seWdvbn0gcG9seWdvbiBQb2x5Z29uLlxuICAgKiBAYXBpXG4gICAqL1xuICBNdWx0aVBvbHlnb24ucHJvdG90eXBlLmFwcGVuZFBvbHlnb24gPSBmdW5jdGlvbiBhcHBlbmRQb2x5Z29uIChwb2x5Z29uKSB7XG4gICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqL1xuICAgIHZhciBlbmRzO1xuICAgIGlmICghdGhpcy5mbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzID0gcG9seWdvbi5nZXRGbGF0Q29vcmRpbmF0ZXMoKS5zbGljZSgpO1xuICAgICAgZW5kcyA9IHBvbHlnb24uZ2V0RW5kcygpLnNsaWNlKCk7XG4gICAgICB0aGlzLmVuZHNzXy5wdXNoKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBvZmZzZXQgPSB0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGg7XG4gICAgICBleHRlbmQodGhpcy5mbGF0Q29vcmRpbmF0ZXMsIHBvbHlnb24uZ2V0RmxhdENvb3JkaW5hdGVzKCkpO1xuICAgICAgZW5kcyA9IHBvbHlnb24uZ2V0RW5kcygpLnNsaWNlKCk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgZW5kc1tpXSArPSBvZmZzZXQ7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZW5kc3NfLnB1c2goZW5kcyk7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1ha2UgYSBjb21wbGV0ZSBjb3B5IG9mIHRoZSBnZW9tZXRyeS5cbiAgICogQHJldHVybiB7IU11bHRpUG9seWdvbn0gQ2xvbmUuXG4gICAqIEBvdmVycmlkZVxuICAgKiBAYXBpXG4gICAqL1xuICBNdWx0aVBvbHlnb24ucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUgKCkge1xuICAgIHZhciBsZW4gPSB0aGlzLmVuZHNzXy5sZW5ndGg7XG4gICAgdmFyIG5ld0VuZHNzID0gbmV3IEFycmF5KGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgbmV3RW5kc3NbaV0gPSB0aGlzLmVuZHNzX1tpXS5zbGljZSgpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgTXVsdGlQb2x5Z29uKFxuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMuc2xpY2UoKSwgdGhpcy5sYXlvdXQsIG5ld0VuZHNzKTtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIE11bHRpUG9seWdvbi5wcm90b3R5cGUuY2xvc2VzdFBvaW50WFkgPSBmdW5jdGlvbiBjbG9zZXN0UG9pbnRYWSAoeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICBpZiAobWluU3F1YXJlZERpc3RhbmNlIDwgY2xvc2VzdFNxdWFyZWREaXN0YW5jZVhZKHRoaXMuZ2V0RXh0ZW50KCksIHgsIHkpKSB7XG4gICAgICByZXR1cm4gbWluU3F1YXJlZERpc3RhbmNlO1xuICAgIH1cbiAgICBpZiAodGhpcy5tYXhEZWx0YVJldmlzaW9uXyAhPSB0aGlzLmdldFJldmlzaW9uKCkpIHtcbiAgICAgIHRoaXMubWF4RGVsdGFfID0gTWF0aC5zcXJ0KG11bHRpQXJyYXlNYXhTcXVhcmVkRGVsdGEoXG4gICAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLCAwLCB0aGlzLmVuZHNzXywgdGhpcy5zdHJpZGUsIDApKTtcbiAgICAgIHRoaXMubWF4RGVsdGFSZXZpc2lvbl8gPSB0aGlzLmdldFJldmlzaW9uKCk7XG4gICAgfVxuICAgIHJldHVybiBhc3NpZ25DbG9zZXN0TXVsdGlBcnJheVBvaW50KFxuICAgICAgdGhpcy5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpLCAwLCB0aGlzLmVuZHNzXywgdGhpcy5zdHJpZGUsXG4gICAgICB0aGlzLm1heERlbHRhXywgdHJ1ZSwgeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgTXVsdGlQb2x5Z29uLnByb3RvdHlwZS5jb250YWluc1hZID0gZnVuY3Rpb24gY29udGFpbnNYWSAoeCwgeSkge1xuICAgIHJldHVybiBsaW5lYXJSaW5nc3NDb250YWluc1hZKHRoaXMuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKSwgMCwgdGhpcy5lbmRzc18sIHRoaXMuc3RyaWRlLCB4LCB5KTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBhcmVhIG9mIHRoZSBtdWx0aXBvbHlnb24gb24gcHJvamVjdGVkIHBsYW5lLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEFyZWEgKG9uIHByb2plY3RlZCBwbGFuZSkuXG4gICAqIEBhcGlcbiAgICovXG4gIE11bHRpUG9seWdvbi5wcm90b3R5cGUuZ2V0QXJlYSA9IGZ1bmN0aW9uIGdldEFyZWEgKCkge1xuICAgIHJldHVybiBsaW5lYXJSaW5nc3NBcmVhKHRoaXMuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKSwgMCwgdGhpcy5lbmRzc18sIHRoaXMuc3RyaWRlKTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSBjb29yZGluYXRlIGFycmF5IGZvciB0aGlzIGdlb21ldHJ5LiAgVGhpcyBhcnJheSBoYXMgdGhlIHN0cnVjdHVyZVxuICAgKiBvZiBhIEdlb0pTT04gY29vcmRpbmF0ZSBhcnJheSBmb3IgbXVsdGktcG9seWdvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9yaWdodCBPcmllbnQgY29vcmRpbmF0ZXMgYWNjb3JkaW5nIHRvIHRoZSByaWdodC1oYW5kXG4gICAqICAgICBydWxlIChjb3VudGVyLWNsb2Nrd2lzZSBmb3IgZXh0ZXJpb3IgYW5kIGNsb2Nrd2lzZSBmb3IgaW50ZXJpb3IgcmluZ3MpLlxuICAgKiAgICAgSWYgYGZhbHNlYCwgY29vcmRpbmF0ZXMgd2lsbCBiZSBvcmllbnRlZCBhY2NvcmRpbmcgdG8gdGhlIGxlZnQtaGFuZCBydWxlXG4gICAqICAgICAoY2xvY2t3aXNlIGZvciBleHRlcmlvciBhbmQgY291bnRlci1jbG9ja3dpc2UgZm9yIGludGVyaW9yIHJpbmdzKS5cbiAgICogICAgIEJ5IGRlZmF1bHQsIGNvb3JkaW5hdGUgb3JpZW50YXRpb24gd2lsbCBkZXBlbmQgb24gaG93IHRoZSBnZW9tZXRyeSB3YXNcbiAgICogICAgIGNvbnN0cnVjdGVkLlxuICAgKiBAcmV0dXJuIHtBcnJheTxBcnJheTxBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pj59IENvb3JkaW5hdGVzLlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQGFwaVxuICAgKi9cbiAgTXVsdGlQb2x5Z29uLnByb3RvdHlwZS5nZXRDb29yZGluYXRlcyA9IGZ1bmN0aW9uIGdldENvb3JkaW5hdGVzIChvcHRfcmlnaHQpIHtcbiAgICB2YXIgZmxhdENvb3JkaW5hdGVzO1xuICAgIGlmIChvcHRfcmlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZmxhdENvb3JkaW5hdGVzID0gdGhpcy5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpLnNsaWNlKCk7XG4gICAgICBvcmllbnRMaW5lYXJSaW5nc0FycmF5KFxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZW5kc3NfLCB0aGlzLnN0cmlkZSwgb3B0X3JpZ2h0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmxhdENvb3JkaW5hdGVzID0gdGhpcy5mbGF0Q29vcmRpbmF0ZXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIGluZmxhdGVNdWx0aUNvb3JkaW5hdGVzQXJyYXkoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZW5kc3NfLCB0aGlzLnN0cmlkZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0FycmF5PEFycmF5PG51bWJlcj4+fSBFbmRzcy5cbiAgICovXG4gIE11bHRpUG9seWdvbi5wcm90b3R5cGUuZ2V0RW5kc3MgPSBmdW5jdGlvbiBnZXRFbmRzcyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZW5kc3NfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBGbGF0IGludGVyaW9yIHBvaW50cy5cbiAgICovXG4gIE11bHRpUG9seWdvbi5wcm90b3R5cGUuZ2V0RmxhdEludGVyaW9yUG9pbnRzID0gZnVuY3Rpb24gZ2V0RmxhdEludGVyaW9yUG9pbnRzICgpIHtcbiAgICBpZiAodGhpcy5mbGF0SW50ZXJpb3JQb2ludHNSZXZpc2lvbl8gIT0gdGhpcy5nZXRSZXZpc2lvbigpKSB7XG4gICAgICB2YXIgZmxhdENlbnRlcnMgPSBsaW5lYXJSaW5nc3NDZW50ZXIoXG4gICAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLCAwLCB0aGlzLmVuZHNzXywgdGhpcy5zdHJpZGUpO1xuICAgICAgdGhpcy5mbGF0SW50ZXJpb3JQb2ludHNfID0gZ2V0SW50ZXJpb3JQb2ludHNPZk11bHRpQXJyYXkoXG4gICAgICAgIHRoaXMuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKSwgMCwgdGhpcy5lbmRzc18sIHRoaXMuc3RyaWRlLFxuICAgICAgICBmbGF0Q2VudGVycyk7XG4gICAgICB0aGlzLmZsYXRJbnRlcmlvclBvaW50c1JldmlzaW9uXyA9IHRoaXMuZ2V0UmV2aXNpb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZmxhdEludGVyaW9yUG9pbnRzXztcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBpbnRlcmlvciBwb2ludHMgYXMge0BsaW5rIG1vZHVsZTpvbC9nZW9tL011bHRpUG9pbnQgbXVsdGlwb2ludH0uXG4gICAqIEByZXR1cm4ge011bHRpUG9pbnR9IEludGVyaW9yIHBvaW50cyBhcyBYWU0gY29vcmRpbmF0ZXMsIHdoZXJlIE0gaXNcbiAgICogdGhlIGxlbmd0aCBvZiB0aGUgaG9yaXpvbnRhbCBpbnRlcnNlY3Rpb24gdGhhdCB0aGUgcG9pbnQgYmVsb25ncyB0by5cbiAgICogQGFwaVxuICAgKi9cbiAgTXVsdGlQb2x5Z29uLnByb3RvdHlwZS5nZXRJbnRlcmlvclBvaW50cyA9IGZ1bmN0aW9uIGdldEludGVyaW9yUG9pbnRzICgpIHtcbiAgICByZXR1cm4gbmV3IE11bHRpUG9pbnQodGhpcy5nZXRGbGF0SW50ZXJpb3JQb2ludHMoKS5zbGljZSgpLCBHZW9tZXRyeUxheW91dC5YWU0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBPcmllbnRlZCBmbGF0IGNvb3JkaW5hdGVzLlxuICAgKi9cbiAgTXVsdGlQb2x5Z29uLnByb3RvdHlwZS5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcyA9IGZ1bmN0aW9uIGdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzICgpIHtcbiAgICBpZiAodGhpcy5vcmllbnRlZFJldmlzaW9uXyAhPSB0aGlzLmdldFJldmlzaW9uKCkpIHtcbiAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmZsYXRDb29yZGluYXRlcztcbiAgICAgIGlmIChsaW5lYXJSaW5nc0FyZU9yaWVudGVkKFxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZW5kc3NfLCB0aGlzLnN0cmlkZSkpIHtcbiAgICAgICAgdGhpcy5vcmllbnRlZEZsYXRDb29yZGluYXRlc18gPSBmbGF0Q29vcmRpbmF0ZXM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9yaWVudGVkRmxhdENvb3JkaW5hdGVzXyA9IGZsYXRDb29yZGluYXRlcy5zbGljZSgpO1xuICAgICAgICB0aGlzLm9yaWVudGVkRmxhdENvb3JkaW5hdGVzXy5sZW5ndGggPVxuICAgICAgICAgICAgb3JpZW50TGluZWFyUmluZ3NBcnJheShcbiAgICAgICAgICAgICAgdGhpcy5vcmllbnRlZEZsYXRDb29yZGluYXRlc18sIDAsIHRoaXMuZW5kc3NfLCB0aGlzLnN0cmlkZSk7XG4gICAgICB9XG4gICAgICB0aGlzLm9yaWVudGVkUmV2aXNpb25fID0gdGhpcy5nZXRSZXZpc2lvbigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5vcmllbnRlZEZsYXRDb29yZGluYXRlc187XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBNdWx0aVBvbHlnb24ucHJvdG90eXBlLmdldFNpbXBsaWZpZWRHZW9tZXRyeUludGVybmFsID0gZnVuY3Rpb24gZ2V0U2ltcGxpZmllZEdlb21ldHJ5SW50ZXJuYWwgKHNxdWFyZWRUb2xlcmFuY2UpIHtcbiAgICB2YXIgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyA9IFtdO1xuICAgIHZhciBzaW1wbGlmaWVkRW5kc3MgPSBbXTtcbiAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLmxlbmd0aCA9IHF1YW50aXplTXVsdGlBcnJheShcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLCAwLCB0aGlzLmVuZHNzXywgdGhpcy5zdHJpZGUsXG4gICAgICBNYXRoLnNxcnQoc3F1YXJlZFRvbGVyYW5jZSksXG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCAwLCBzaW1wbGlmaWVkRW5kc3MpO1xuICAgIHJldHVybiBuZXcgTXVsdGlQb2x5Z29uKHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIEdlb21ldHJ5TGF5b3V0LlhZLCBzaW1wbGlmaWVkRW5kc3MpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIHBvbHlnb24gYXQgdGhlIHNwZWNpZmllZCBpbmRleC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IEluZGV4LlxuICAgKiBAcmV0dXJuIHtQb2x5Z29ufSBQb2x5Z29uLlxuICAgKiBAYXBpXG4gICAqL1xuICBNdWx0aVBvbHlnb24ucHJvdG90eXBlLmdldFBvbHlnb24gPSBmdW5jdGlvbiBnZXRQb2x5Z29uIChpbmRleCkge1xuICAgIGlmIChpbmRleCA8IDAgfHwgdGhpcy5lbmRzc18ubGVuZ3RoIDw9IGluZGV4KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIG9mZnNldDtcbiAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgIG9mZnNldCA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBwcmV2RW5kcyA9IHRoaXMuZW5kc3NfW2luZGV4IC0gMV07XG4gICAgICBvZmZzZXQgPSBwcmV2RW5kc1twcmV2RW5kcy5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgdmFyIGVuZHMgPSB0aGlzLmVuZHNzX1tpbmRleF0uc2xpY2UoKTtcbiAgICB2YXIgZW5kID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChvZmZzZXQgIT09IDApIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBlbmRzW2ldIC09IG9mZnNldDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQb2x5Z29uKHRoaXMuZmxhdENvb3JkaW5hdGVzLnNsaWNlKG9mZnNldCwgZW5kKSwgdGhpcy5sYXlvdXQsIGVuZHMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIHBvbHlnb25zIG9mIHRoaXMgbXVsdGlwb2x5Z29uLlxuICAgKiBAcmV0dXJuIHtBcnJheTxQb2x5Z29uPn0gUG9seWdvbnMuXG4gICAqIEBhcGlcbiAgICovXG4gIE11bHRpUG9seWdvbi5wcm90b3R5cGUuZ2V0UG9seWdvbnMgPSBmdW5jdGlvbiBnZXRQb2x5Z29ucyAoKSB7XG4gICAgdmFyIGxheW91dCA9IHRoaXMubGF5b3V0O1xuICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmZsYXRDb29yZGluYXRlcztcbiAgICB2YXIgZW5kc3MgPSB0aGlzLmVuZHNzXztcbiAgICB2YXIgcG9seWdvbnMgPSBbXTtcbiAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICB2YXIgZW5kcyA9IGVuZHNzW2ldLnNsaWNlKCk7XG4gICAgICB2YXIgZW5kID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICAgICAgaWYgKG9mZnNldCAhPT0gMCkge1xuICAgICAgICBmb3IgKHZhciBqID0gMCwgamogPSBlbmRzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgICBlbmRzW2pdIC09IG9mZnNldDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIHBvbHlnb24gPSBuZXcgUG9seWdvbihmbGF0Q29vcmRpbmF0ZXMuc2xpY2Uob2Zmc2V0LCBlbmQpLCBsYXlvdXQsIGVuZHMpO1xuICAgICAgcG9seWdvbnMucHVzaChwb2x5Z29uKTtcbiAgICAgIG9mZnNldCA9IGVuZDtcbiAgICB9XG4gICAgcmV0dXJuIHBvbHlnb25zO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKiBAYXBpXG4gICAqL1xuICBNdWx0aVBvbHlnb24ucHJvdG90eXBlLmdldFR5cGUgPSBmdW5jdGlvbiBnZXRUeXBlICgpIHtcbiAgICByZXR1cm4gR2VvbWV0cnlUeXBlLk1VTFRJX1BPTFlHT047XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqIEBhcGlcbiAgICovXG4gIE11bHRpUG9seWdvbi5wcm90b3R5cGUuaW50ZXJzZWN0c0V4dGVudCA9IGZ1bmN0aW9uIGludGVyc2VjdHNFeHRlbnQgKGV4dGVudCkge1xuICAgIHJldHVybiBpbnRlcnNlY3RzTGluZWFyUmluZ011bHRpQXJyYXkoXG4gICAgICB0aGlzLmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCksIDAsIHRoaXMuZW5kc3NfLCB0aGlzLnN0cmlkZSwgZXh0ZW50KTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IHRoZSBjb29yZGluYXRlcyBvZiB0aGUgbXVsdGlwb2x5Z29uLlxuICAgKiBAcGFyYW0geyFBcnJheTxBcnJheTxBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pj59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICAgKiBAcGFyYW0ge0dlb21ldHJ5TGF5b3V0PX0gb3B0X2xheW91dCBMYXlvdXQuXG4gICAqIEBvdmVycmlkZVxuICAgKiBAYXBpXG4gICAqL1xuICBNdWx0aVBvbHlnb24ucHJvdG90eXBlLnNldENvb3JkaW5hdGVzID0gZnVuY3Rpb24gc2V0Q29vcmRpbmF0ZXMgKGNvb3JkaW5hdGVzLCBvcHRfbGF5b3V0KSB7XG4gICAgdGhpcy5zZXRMYXlvdXQob3B0X2xheW91dCwgY29vcmRpbmF0ZXMsIDMpO1xuICAgIGlmICghdGhpcy5mbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzID0gW107XG4gICAgfVxuICAgIHZhciBlbmRzcyA9IGRlZmxhdGVNdWx0aUNvb3JkaW5hdGVzQXJyYXkoXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgY29vcmRpbmF0ZXMsIHRoaXMuc3RyaWRlLCB0aGlzLmVuZHNzXyk7XG4gICAgaWYgKGVuZHNzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGxhc3RFbmRzID0gZW5kc3NbZW5kc3MubGVuZ3RoIC0gMV07XG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGggPSBsYXN0RW5kcy5sZW5ndGggPT09IDAgP1xuICAgICAgICAwIDogbGFzdEVuZHNbbGFzdEVuZHMubGVuZ3RoIC0gMV07XG4gICAgfVxuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9O1xuXG4gIHJldHVybiBNdWx0aVBvbHlnb247XG59KFNpbXBsZUdlb21ldHJ5KSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgTXVsdGlQb2x5Z29uO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1NdWx0aVBvbHlnb24uanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9jZW50ZXJcbiAqL1xuaW1wb3J0IHtjcmVhdGVFbXB0eSwgY3JlYXRlT3JVcGRhdGVGcm9tRmxhdENvb3JkaW5hdGVzfSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgRW5kc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEZsYXQgY2VudGVycy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdzcyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc3MsIHN0cmlkZSkge1xuICB2YXIgZmxhdENlbnRlcnMgPSBbXTtcbiAgdmFyIGV4dGVudCA9IGNyZWF0ZUVtcHR5KCk7XG4gIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICB2YXIgZW5kcyA9IGVuZHNzW2ldO1xuICAgIGV4dGVudCA9IGNyZWF0ZU9yVXBkYXRlRnJvbUZsYXRDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc1swXSwgc3RyaWRlKTtcbiAgICBmbGF0Q2VudGVycy5wdXNoKChleHRlbnRbMF0gKyBleHRlbnRbMl0pIC8gMiwgKGV4dGVudFsxXSArIGV4dGVudFszXSkgLyAyKTtcbiAgICBvZmZzZXQgPSBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gIH1cbiAgcmV0dXJuIGZsYXRDZW50ZXJzO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jZW50ZXIuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL0RyYXdcbiAqL1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBGZWF0dXJlIGZyb20gJy4uL0ZlYXR1cmUuanMnO1xuaW1wb3J0IE1hcEJyb3dzZXJFdmVudFR5cGUgZnJvbSAnLi4vTWFwQnJvd3NlckV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgTWFwQnJvd3NlclBvaW50ZXJFdmVudCBmcm9tICcuLi9NYXBCcm93c2VyUG9pbnRlckV2ZW50LmpzJztcbmltcG9ydCB7Z2V0Q2hhbmdlRXZlbnRUeXBlfSBmcm9tICcuLi9PYmplY3QuanMnO1xuaW1wb3J0IHtzcXVhcmVkRGlzdGFuY2UgYXMgc3F1YXJlZENvb3JkaW5hdGVEaXN0YW5jZX0gZnJvbSAnLi4vY29vcmRpbmF0ZS5qcyc7XG5pbXBvcnQge2xpc3Rlbn0gZnJvbSAnLi4vZXZlbnRzLmpzJztcbmltcG9ydCBFdmVudCBmcm9tICcuLi9ldmVudHMvRXZlbnQuanMnO1xuaW1wb3J0IHtub01vZGlmaWVyS2V5cywgYWx3YXlzLCBzaGlmdEtleU9ubHl9IGZyb20gJy4uL2V2ZW50cy9jb25kaXRpb24uanMnO1xuaW1wb3J0IHtib3VuZGluZ0V4dGVudCwgZ2V0Qm90dG9tTGVmdCwgZ2V0Qm90dG9tUmlnaHQsIGdldFRvcExlZnQsIGdldFRvcFJpZ2h0fSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHtUUlVFLCBGQUxTRX0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCBDaXJjbGUgZnJvbSAnLi4vZ2VvbS9DaXJjbGUuanMnO1xuaW1wb3J0IEdlb21ldHJ5VHlwZSBmcm9tICcuLi9nZW9tL0dlb21ldHJ5VHlwZS5qcyc7XG5pbXBvcnQgTGluZVN0cmluZyBmcm9tICcuLi9nZW9tL0xpbmVTdHJpbmcuanMnO1xuaW1wb3J0IE11bHRpTGluZVN0cmluZyBmcm9tICcuLi9nZW9tL011bHRpTGluZVN0cmluZy5qcyc7XG5pbXBvcnQgTXVsdGlQb2ludCBmcm9tICcuLi9nZW9tL011bHRpUG9pbnQuanMnO1xuaW1wb3J0IE11bHRpUG9seWdvbiBmcm9tICcuLi9nZW9tL011bHRpUG9seWdvbi5qcyc7XG5pbXBvcnQge1BPSU5URVJfVFlQRX0gZnJvbSAnLi4vcG9pbnRlci9Nb3VzZVNvdXJjZS5qcyc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnLi4vZ2VvbS9Qb2ludC5qcyc7XG5pbXBvcnQgUG9seWdvbiwge2Zyb21DaXJjbGUsIG1ha2VSZWd1bGFyfSBmcm9tICcuLi9nZW9tL1BvbHlnb24uanMnO1xuaW1wb3J0IFBvaW50ZXJJbnRlcmFjdGlvbiBmcm9tICcuL1BvaW50ZXIuanMnO1xuaW1wb3J0IEludGVyYWN0aW9uUHJvcGVydHkgZnJvbSAnLi9Qcm9wZXJ0eS5qcyc7XG5pbXBvcnQgVmVjdG9yTGF5ZXIgZnJvbSAnLi4vbGF5ZXIvVmVjdG9yLmpzJztcbmltcG9ydCBWZWN0b3JTb3VyY2UgZnJvbSAnLi4vc291cmNlL1ZlY3Rvci5qcyc7XG5pbXBvcnQge2NyZWF0ZUVkaXRpbmdTdHlsZX0gZnJvbSAnLi4vc3R5bGUvU3R5bGUuanMnO1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtHZW9tZXRyeVR5cGV9IHR5cGUgR2VvbWV0cnkgdHlwZSBvZlxuICogdGhlIGdlb21ldHJpZXMgYmVpbmcgZHJhd24gd2l0aCB0aGlzIGluc3RhbmNlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtjbGlja1RvbGVyYW5jZT02XSBUaGUgbWF4aW11bSBkaXN0YW5jZSBpbiBwaXhlbHMgYmV0d2VlblxuICogXCJkb3duXCIgYW5kIFwidXBcIiBmb3IgYSBcInVwXCIgZXZlbnQgdG8gYmUgY29uc2lkZXJlZCBhIFwiY2xpY2tcIiBldmVudCBhbmRcbiAqIGFjdHVhbGx5IGFkZCBhIHBvaW50L3ZlcnRleCB0byB0aGUgZ2VvbWV0cnkgYmVpbmcgZHJhd24uICBUaGUgZGVmYXVsdCBvZiBgNmBcbiAqIHdhcyBjaG9zZW4gZm9yIHRoZSBkcmF3IGludGVyYWN0aW9uIHRvIGJlaGF2ZSBjb3JyZWN0bHkgb24gbW91c2UgYXMgd2VsbCBhc1xuICogb24gdG91Y2ggZGV2aWNlcy5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vQ29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0PEZlYXR1cmU+fSBbZmVhdHVyZXNdXG4gKiBEZXN0aW5hdGlvbiBjb2xsZWN0aW9uIGZvciB0aGUgZHJhd24gZmVhdHVyZXMuXG4gKiBAcHJvcGVydHkge1ZlY3RvclNvdXJjZX0gW3NvdXJjZV0gRGVzdGluYXRpb24gc291cmNlIGZvclxuICogdGhlIGRyYXduIGZlYXR1cmVzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkcmFnVmVydGV4RGVsYXk9NTAwXSBEZWxheSBpbiBtaWxsaXNlY29uZHMgYWZ0ZXIgcG9pbnRlcmRvd25cbiAqIGJlZm9yZSB0aGUgY3VycmVudCB2ZXJ0ZXggY2FuIGJlIGRyYWdnZWQgdG8gaXRzIGV4YWN0IHBvc2l0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtzbmFwVG9sZXJhbmNlPTEyXSBQaXhlbCBkaXN0YW5jZSBmb3Igc25hcHBpbmcgdG8gdGhlXG4gKiBkcmF3aW5nIGZpbmlzaC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3N0b3BDbGljaz1mYWxzZV0gU3RvcCBjbGljaywgc2luZ2xlY2xpY2ssIGFuZFxuICogZG91YmxlY2xpY2sgZXZlbnRzIGZyb20gZmlyaW5nIGR1cmluZyBkcmF3aW5nLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhQb2ludHNdIFRoZSBudW1iZXIgb2YgcG9pbnRzIHRoYXQgY2FuIGJlIGRyYXduIGJlZm9yZVxuICogYSBwb2x5Z29uIHJpbmcgb3IgbGluZSBzdHJpbmcgaXMgZmluaXNoZWQuIEJ5IGRlZmF1bHQgdGhlcmUgaXMgbm9cbiAqIHJlc3RyaWN0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5Qb2ludHNdIFRoZSBudW1iZXIgb2YgcG9pbnRzIHRoYXQgbXVzdCBiZSBkcmF3blxuICogYmVmb3JlIGEgcG9seWdvbiByaW5nIG9yIGxpbmUgc3RyaW5nIGNhbiBiZSBmaW5pc2hlZC4gRGVmYXVsdCBpcyBgM2AgZm9yXG4gKiBwb2x5Z29uIHJpbmdzIGFuZCBgMmAgZm9yIGxpbmUgc3RyaW5ncy5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFtmaW5pc2hDb25kaXRpb25dIEEgZnVuY3Rpb25cbiAqIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fSBhbmQgcmV0dXJucyBhXG4gKiBib29sZWFuIHRvIGluZGljYXRlIHdoZXRoZXIgdGhlIGRyYXdpbmcgY2FuIGJlIGZpbmlzaGVkLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUxpa2V9IFtzdHlsZV1cbiAqIFN0eWxlIGZvciBza2V0Y2ggZmVhdHVyZXMuXG4gKiBAcHJvcGVydHkge0dlb21ldHJ5RnVuY3Rpb259IFtnZW9tZXRyeUZ1bmN0aW9uXVxuICogRnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2hlbiBhIGdlb21ldHJ5J3MgY29vcmRpbmF0ZXMgYXJlIHVwZGF0ZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2dlb21ldHJ5TmFtZV0gR2VvbWV0cnkgbmFtZSB0byB1c2UgZm9yIGZlYXR1cmVzIGNyZWF0ZWRcbiAqIGJ5IHRoZSBkcmF3IGludGVyYWN0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn0gW2NvbmRpdGlvbl0gQSBmdW5jdGlvbiB0aGF0XG4gKiB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGFcbiAqIGJvb2xlYW4gdG8gaW5kaWNhdGUgd2hldGhlciB0aGF0IGV2ZW50IHNob3VsZCBiZSBoYW5kbGVkLlxuICogQnkgZGVmYXVsdCB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb25+bm9Nb2RpZmllcktleXN9LCBpLmUuIGEgY2xpY2ssXG4gKiBhZGRzIGEgdmVydGV4IG9yIGRlYWN0aXZhdGVzIGZyZWVoYW5kIGRyYXdpbmcuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtmcmVlaGFuZD1mYWxzZV0gT3BlcmF0ZSBpbiBmcmVlaGFuZCBtb2RlIGZvciBsaW5lcyxcbiAqIHBvbHlnb25zLCBhbmQgY2lyY2xlcy4gIFRoaXMgbWFrZXMgdGhlIGludGVyYWN0aW9uIGFsd2F5cyBvcGVyYXRlIGluIGZyZWVoYW5kXG4gKiBtb2RlIGFuZCB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgYW55IGBmcmVlaGFuZENvbmRpdGlvbmAgb3B0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn0gW2ZyZWVoYW5kQ29uZGl0aW9uXVxuICogQ29uZGl0aW9uIHRoYXQgYWN0aXZhdGVzIGZyZWVoYW5kIGRyYXdpbmcgZm9yIGxpbmVzIGFuZCBwb2x5Z29ucy4gVGhpc1xuICogZnVuY3Rpb24gdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fSBhbmRcbiAqIHJldHVybnMgYSBib29sZWFuIHRvIGluZGljYXRlIHdoZXRoZXIgdGhhdCBldmVudCBzaG91bGQgYmUgaGFuZGxlZC4gVGhlXG4gKiBkZWZhdWx0IGlzIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbn5zaGlmdEtleU9ubHl9LCBtZWFuaW5nIHRoYXQgdGhlXG4gKiBTaGlmdCBrZXkgYWN0aXZhdGVzIGZyZWVoYW5kIGRyYXdpbmcuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3cmFwWD1mYWxzZV0gV3JhcCB0aGUgd29ybGQgaG9yaXpvbnRhbGx5IG9uIHRoZSBza2V0Y2hcbiAqIG92ZXJsYXkuXG4gKi9cblxuXG4vKipcbiAqIENvb3JkaW5hdGUgdHlwZSB3aGVuIGRyYXdpbmcgcG9pbnRzLlxuICogQHR5cGVkZWYge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gUG9pbnRDb29yZFR5cGVcbiAqL1xuXG5cbi8qKlxuICogQ29vcmRpbmF0ZSB0eXBlIHdoZW4gZHJhd2luZyBsaW5lcy5cbiAqIEB0eXBlZGVmIHtBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBMaW5lQ29vcmRUeXBlXG4gKi9cblxuXG4vKipcbiAqIENvb3JkaW5hdGUgdHlwZSB3aGVuIGRyYXdpbmcgcG9seWdvbnMuXG4gKiBAdHlwZWRlZiB7QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj59IFBvbHlDb29yZFR5cGVcbiAqL1xuXG5cbi8qKlxuICogVHlwZXMgdXNlZCBmb3IgZHJhd2luZyBjb29yZGluYXRlcy5cbiAqIEB0eXBlZGVmIHtQb2ludENvb3JkVHlwZXxMaW5lQ29vcmRUeXBlfFBvbHlDb29yZFR5cGV9IFNrZXRjaENvb3JkVHlwZVxuICovXG5cblxuLyoqXG4gKiBGdW5jdGlvbiB0aGF0IHRha2VzIGFuIGFycmF5IG9mIGNvb3JkaW5hdGVzIGFuZCBhbiBvcHRpb25hbCBleGlzdGluZyBnZW9tZXRyeSBhc1xuICogYXJndW1lbnRzLCBhbmQgcmV0dXJucyBhIGdlb21ldHJ5LiBUaGUgb3B0aW9uYWwgZXhpc3RpbmcgZ2VvbWV0cnkgaXMgdGhlXG4gKiBnZW9tZXRyeSB0aGF0IGlzIHJldHVybmVkIHdoZW4gdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRob3V0IGEgc2Vjb25kXG4gKiBhcmd1bWVudC5cbiAqIEB0eXBlZGVmIHtmdW5jdGlvbighU2tldGNoQ29vcmRUeXBlLCBpbXBvcnQoXCIuLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHQ9KTpcbiAqICAgICBpbXBvcnQoXCIuLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IEdlb21ldHJ5RnVuY3Rpb25cbiAqL1xuXG5cbi8qKlxuICogRHJhdyBtb2RlLiAgVGhpcyBjb2xsYXBzZXMgbXVsdGktcGFydCBnZW9tZXRyeSB0eXBlcyB3aXRoIHRoZWlyIHNpbmdsZS1wYXJ0XG4gKiBjb3VzaW5zLlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xudmFyIE1vZGUgPSB7XG4gIFBPSU5UOiAnUG9pbnQnLFxuICBMSU5FX1NUUklORzogJ0xpbmVTdHJpbmcnLFxuICBQT0xZR09OOiAnUG9seWdvbicsXG4gIENJUkNMRTogJ0NpcmNsZSdcbn07XG5cblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG52YXIgRHJhd0V2ZW50VHlwZSA9IHtcbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB1cG9uIGZlYXR1cmUgZHJhdyBzdGFydFxuICAgKiBAZXZlbnQgRHJhd0V2ZW50I2RyYXdzdGFydFxuICAgKiBAYXBpXG4gICAqL1xuICBEUkFXU1RBUlQ6ICdkcmF3c3RhcnQnLFxuICAvKipcbiAgICogVHJpZ2dlcmVkIHVwb24gZmVhdHVyZSBkcmF3IGVuZFxuICAgKiBAZXZlbnQgRHJhd0V2ZW50I2RyYXdlbmRcbiAgICogQGFwaVxuICAgKi9cbiAgRFJBV0VORDogJ2RyYXdlbmQnXG59O1xuXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogRXZlbnRzIGVtaXR0ZWQgYnkge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9EcmF3fkRyYXd9IGluc3RhbmNlcyBhcmVcbiAqIGluc3RhbmNlcyBvZiB0aGlzIHR5cGUuXG4gKi9cbnZhciBEcmF3RXZlbnQgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChFdmVudCkge1xuICBmdW5jdGlvbiBEcmF3RXZlbnQodHlwZSwgZmVhdHVyZSkge1xuXG4gICAgRXZlbnQuY2FsbCh0aGlzLCB0eXBlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmZWF0dXJlIGJlaW5nIGRyYXduLlxuICAgICAqIEB0eXBlIHtGZWF0dXJlfVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLmZlYXR1cmUgPSBmZWF0dXJlO1xuXG4gIH1cblxuICBpZiAoIEV2ZW50ICkgRHJhd0V2ZW50Ll9fcHJvdG9fXyA9IEV2ZW50O1xuICBEcmF3RXZlbnQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZlbnQgJiYgRXZlbnQucHJvdG90eXBlICk7XG4gIERyYXdFdmVudC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBEcmF3RXZlbnQ7XG5cbiAgcmV0dXJuIERyYXdFdmVudDtcbn0oRXZlbnQpKTtcblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEludGVyYWN0aW9uIGZvciBkcmF3aW5nIGZlYXR1cmUgZ2VvbWV0cmllcy5cbiAqXG4gKiBAZmlyZXMgRHJhd0V2ZW50XG4gKiBAYXBpXG4gKi9cbnZhciBEcmF3ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoUG9pbnRlckludGVyYWN0aW9uKSB7XG4gIGZ1bmN0aW9uIERyYXcob3B0aW9ucykge1xuXG4gICAgdmFyIHBvaW50ZXJPcHRpb25zID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1BvaW50ZXIuanNcIikuT3B0aW9uc30gKi8gKG9wdGlvbnMpO1xuICAgIGlmICghcG9pbnRlck9wdGlvbnMuc3RvcERvd24pIHtcbiAgICAgIHBvaW50ZXJPcHRpb25zLnN0b3BEb3duID0gRkFMU0U7XG4gICAgfVxuXG4gICAgUG9pbnRlckludGVyYWN0aW9uLmNhbGwodGhpcywgcG9pbnRlck9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnNob3VsZEhhbmRsZV8gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZG93blB4XyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7P31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZG93blRpbWVvdXRfO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmxhc3REcmFnVGltZV87XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZnJlZWhhbmRfID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBUYXJnZXQgc291cmNlIGZvciBkcmF3biBmZWF0dXJlcy5cbiAgICAgKiBAdHlwZSB7VmVjdG9yU291cmNlfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5zb3VyY2VfID0gb3B0aW9ucy5zb3VyY2UgPyBvcHRpb25zLnNvdXJjZSA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUYXJnZXQgY29sbGVjdGlvbiBmb3IgZHJhd24gZmVhdHVyZXMuXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL0NvbGxlY3Rpb24uanNcIikuZGVmYXVsdDxGZWF0dXJlPn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZmVhdHVyZXNfID0gb3B0aW9ucy5mZWF0dXJlcyA/IG9wdGlvbnMuZmVhdHVyZXMgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogUGl4ZWwgZGlzdGFuY2UgZm9yIHNuYXBwaW5nLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnNuYXBUb2xlcmFuY2VfID0gb3B0aW9ucy5zbmFwVG9sZXJhbmNlID8gb3B0aW9ucy5zbmFwVG9sZXJhbmNlIDogMTI7XG5cbiAgICAvKipcbiAgICAgKiBHZW9tZXRyeSB0eXBlLlxuICAgICAqIEB0eXBlIHtHZW9tZXRyeVR5cGV9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnR5cGVfID0gLyoqIEB0eXBlIHtHZW9tZXRyeVR5cGV9ICovIChvcHRpb25zLnR5cGUpO1xuXG4gICAgLyoqXG4gICAgICogRHJhd2luZyBtb2RlIChkZXJpdmVkIGZyb20gZ2VvbWV0cnkgdHlwZS5cbiAgICAgKiBAdHlwZSB7TW9kZX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMubW9kZV8gPSBnZXRNb2RlKHRoaXMudHlwZV8pO1xuXG4gICAgLyoqXG4gICAgICogU3RvcCBjbGljaywgc2luZ2xlY2xpY2ssIGFuZCBkb3VibGVjbGljayBldmVudHMgZnJvbSBmaXJpbmcgZHVyaW5nIGRyYXdpbmcuXG4gICAgICogRGVmYXVsdCBpcyBgZmFsc2VgLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5zdG9wQ2xpY2tfID0gISFvcHRpb25zLnN0b3BDbGljaztcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgcG9pbnRzIHRoYXQgbXVzdCBiZSBkcmF3biBiZWZvcmUgYSBwb2x5Z29uIHJpbmcgb3IgbGluZVxuICAgICAqIHN0cmluZyBjYW4gYmUgZmluaXNoZWQuICBUaGUgZGVmYXVsdCBpcyAzIGZvciBwb2x5Z29uIHJpbmdzIGFuZCAyIGZvclxuICAgICAqIGxpbmUgc3RyaW5ncy5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5taW5Qb2ludHNfID0gb3B0aW9ucy5taW5Qb2ludHMgP1xuICAgICAgb3B0aW9ucy5taW5Qb2ludHMgOlxuICAgICAgKHRoaXMubW9kZV8gPT09IE1vZGUuUE9MWUdPTiA/IDMgOiAyKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgcG9pbnRzIHRoYXQgY2FuIGJlIGRyYXduIGJlZm9yZSBhIHBvbHlnb24gcmluZyBvciBsaW5lIHN0cmluZ1xuICAgICAqIGlzIGZpbmlzaGVkLiBUaGUgZGVmYXVsdCBpcyBubyByZXN0cmljdGlvbi5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5tYXhQb2ludHNfID0gb3B0aW9ucy5tYXhQb2ludHMgPyBvcHRpb25zLm1heFBvaW50cyA6IEluZmluaXR5O1xuXG4gICAgLyoqXG4gICAgICogQSBmdW5jdGlvbiB0byBkZWNpZGUgaWYgYSBwb3RlbnRpYWwgZmluaXNoIGNvb3JkaW5hdGUgaXMgcGVybWlzc2libGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn1cbiAgICAgKi9cbiAgICB0aGlzLmZpbmlzaENvbmRpdGlvbl8gPSBvcHRpb25zLmZpbmlzaENvbmRpdGlvbiA/IG9wdGlvbnMuZmluaXNoQ29uZGl0aW9uIDogVFJVRTtcblxuICAgIHZhciBnZW9tZXRyeUZ1bmN0aW9uID0gb3B0aW9ucy5nZW9tZXRyeUZ1bmN0aW9uO1xuICAgIGlmICghZ2VvbWV0cnlGdW5jdGlvbikge1xuICAgICAgaWYgKHRoaXMudHlwZV8gPT09IEdlb21ldHJ5VHlwZS5DSVJDTEUpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7IUxpbmVDb29yZFR5cGV9IGNvb3JkaW5hdGVzIFRoZSBjb29yZGluYXRlcy5cbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHQ9fSBvcHRfZ2VvbWV0cnkgT3B0aW9uYWwgZ2VvbWV0cnkuXG4gICAgICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gQSBnZW9tZXRyeS5cbiAgICAgICAgICovXG4gICAgICAgIGdlb21ldHJ5RnVuY3Rpb24gPSBmdW5jdGlvbihjb29yZGluYXRlcywgb3B0X2dlb21ldHJ5KSB7XG4gICAgICAgICAgdmFyIGNpcmNsZSA9IG9wdF9nZW9tZXRyeSA/IC8qKiBAdHlwZSB7Q2lyY2xlfSAqLyAob3B0X2dlb21ldHJ5KSA6XG4gICAgICAgICAgICBuZXcgQ2lyY2xlKFtOYU4sIE5hTl0pO1xuICAgICAgICAgIHZhciBzcXVhcmVkTGVuZ3RoID0gc3F1YXJlZENvb3JkaW5hdGVEaXN0YW5jZShcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzWzBdLCBjb29yZGluYXRlc1sxXSk7XG4gICAgICAgICAgY2lyY2xlLnNldENlbnRlckFuZFJhZGl1cyhjb29yZGluYXRlc1swXSwgTWF0aC5zcXJ0KHNxdWFyZWRMZW5ndGgpKTtcbiAgICAgICAgICByZXR1cm4gY2lyY2xlO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIENvbnN0cnVjdG9yO1xuICAgICAgICB2YXIgbW9kZSA9IHRoaXMubW9kZV87XG4gICAgICAgIGlmIChtb2RlID09PSBNb2RlLlBPSU5UKSB7XG4gICAgICAgICAgQ29uc3RydWN0b3IgPSBQb2ludDtcbiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSBNb2RlLkxJTkVfU1RSSU5HKSB7XG4gICAgICAgICAgQ29uc3RydWN0b3IgPSBMaW5lU3RyaW5nO1xuICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09IE1vZGUuUE9MWUdPTikge1xuICAgICAgICAgIENvbnN0cnVjdG9yID0gUG9seWdvbjtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHshTGluZUNvb3JkVHlwZX0gY29vcmRpbmF0ZXMgVGhlIGNvb3JkaW5hdGVzLlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdD19IG9wdF9nZW9tZXRyeSBPcHRpb25hbCBnZW9tZXRyeS5cbiAgICAgICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBBIGdlb21ldHJ5LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2VvbWV0cnlGdW5jdGlvbiA9IGZ1bmN0aW9uKGNvb3JkaW5hdGVzLCBvcHRfZ2VvbWV0cnkpIHtcbiAgICAgICAgICB2YXIgZ2VvbWV0cnkgPSBvcHRfZ2VvbWV0cnk7XG4gICAgICAgICAgaWYgKGdlb21ldHJ5KSB7XG4gICAgICAgICAgICBpZiAobW9kZSA9PT0gTW9kZS5QT0xZR09OKSB7XG4gICAgICAgICAgICAgIGlmIChjb29yZGluYXRlc1swXS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyBBZGQgYSBjbG9zaW5nIGNvb3JkaW5hdGUgdG8gbWF0Y2ggdGhlIGZpcnN0XG4gICAgICAgICAgICAgICAgZ2VvbWV0cnkuc2V0Q29vcmRpbmF0ZXMoW2Nvb3JkaW5hdGVzWzBdLmNvbmNhdChbY29vcmRpbmF0ZXNbMF1bMF1dKV0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdlb21ldHJ5LnNldENvb3JkaW5hdGVzKFtdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZ2VvbWV0cnkuc2V0Q29vcmRpbmF0ZXMoY29vcmRpbmF0ZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnZW9tZXRyeSA9IG5ldyBDb25zdHJ1Y3Rvcihjb29yZGluYXRlcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBnZW9tZXRyeTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7R2VvbWV0cnlGdW5jdGlvbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZ2VvbWV0cnlGdW5jdGlvbl8gPSBnZW9tZXRyeUZ1bmN0aW9uO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZHJhZ1ZlcnRleERlbGF5XyA9IG9wdGlvbnMuZHJhZ1ZlcnRleERlbGF5ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmRyYWdWZXJ0ZXhEZWxheSA6IDUwMDtcblxuICAgIC8qKlxuICAgICAqIEZpbmlzaCBjb29yZGluYXRlIGZvciB0aGUgZmVhdHVyZSAoZmlyc3QgcG9pbnQgZm9yIHBvbHlnb25zLCBsYXN0IHBvaW50IGZvclxuICAgICAqIGxpbmVzdHJpbmdzKS5cbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5maW5pc2hDb29yZGluYXRlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBTa2V0Y2ggZmVhdHVyZS5cbiAgICAgKiBAdHlwZSB7RmVhdHVyZX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuc2tldGNoRmVhdHVyZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogU2tldGNoIHBvaW50LlxuICAgICAqIEB0eXBlIHtGZWF0dXJlfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5za2V0Y2hQb2ludF8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogU2tldGNoIGNvb3JkaW5hdGVzLiBVc2VkIHdoZW4gZHJhd2luZyBhIGxpbmUgb3IgcG9seWdvbi5cbiAgICAgKiBAdHlwZSB7U2tldGNoQ29vcmRUeXBlfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5za2V0Y2hDb29yZHNfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFNrZXRjaCBsaW5lLiBVc2VkIHdoZW4gZHJhd2luZyBwb2x5Z29uLlxuICAgICAqIEB0eXBlIHtGZWF0dXJlfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5za2V0Y2hMaW5lXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBTa2V0Y2ggbGluZSBjb29yZGluYXRlcy4gVXNlZCB3aGVuIGRyYXdpbmcgYSBwb2x5Z29uIG9yIGNpcmNsZS5cbiAgICAgKiBAdHlwZSB7TGluZUNvb3JkVHlwZX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuc2tldGNoTGluZUNvb3Jkc18gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogU3F1YXJlZCB0b2xlcmFuY2UgZm9yIGhhbmRsaW5nIHVwIGV2ZW50cy4gIElmIHRoZSBzcXVhcmVkIGRpc3RhbmNlXG4gICAgICogYmV0d2VlbiBhIGRvd24gYW5kIHVwIGV2ZW50IGlzIGdyZWF0ZXIgdGhhbiB0aGlzIHRvbGVyYW5jZSwgdXAgZXZlbnRzXG4gICAgICogd2lsbCBub3QgYmUgaGFuZGxlZC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5zcXVhcmVkQ2xpY2tUb2xlcmFuY2VfID0gb3B0aW9ucy5jbGlja1RvbGVyYW5jZSA/XG4gICAgICBvcHRpb25zLmNsaWNrVG9sZXJhbmNlICogb3B0aW9ucy5jbGlja1RvbGVyYW5jZSA6IDM2O1xuXG4gICAgLyoqXG4gICAgICogRHJhdyBvdmVybGF5IHdoZXJlIG91ciBza2V0Y2ggZmVhdHVyZXMgYXJlIGRyYXduLlxuICAgICAqIEB0eXBlIHtWZWN0b3JMYXllcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMub3ZlcmxheV8gPSBuZXcgVmVjdG9yTGF5ZXIoe1xuICAgICAgc291cmNlOiBuZXcgVmVjdG9yU291cmNlKHtcbiAgICAgICAgdXNlU3BhdGlhbEluZGV4OiBmYWxzZSxcbiAgICAgICAgd3JhcFg6IG9wdGlvbnMud3JhcFggPyBvcHRpb25zLndyYXBYIDogZmFsc2VcbiAgICAgIH0pLFxuICAgICAgc3R5bGU6IG9wdGlvbnMuc3R5bGUgPyBvcHRpb25zLnN0eWxlIDpcbiAgICAgICAgZ2V0RGVmYXVsdFN0eWxlRnVuY3Rpb24oKSxcbiAgICAgIHVwZGF0ZVdoaWxlSW50ZXJhY3Rpbmc6IHRydWVcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIE5hbWUgb2YgdGhlIGdlb21ldHJ5IGF0dHJpYnV0ZSBmb3IgbmV3bHkgY3JlYXRlZCBmZWF0dXJlcy5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfHVuZGVmaW5lZH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZ2VvbWV0cnlOYW1lXyA9IG9wdGlvbnMuZ2VvbWV0cnlOYW1lO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259XG4gICAgICovXG4gICAgdGhpcy5jb25kaXRpb25fID0gb3B0aW9ucy5jb25kaXRpb24gPyBvcHRpb25zLmNvbmRpdGlvbiA6IG5vTW9kaWZpZXJLZXlzO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259XG4gICAgICovXG4gICAgdGhpcy5mcmVlaGFuZENvbmRpdGlvbl87XG4gICAgaWYgKG9wdGlvbnMuZnJlZWhhbmQpIHtcbiAgICAgIHRoaXMuZnJlZWhhbmRDb25kaXRpb25fID0gYWx3YXlzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmZyZWVoYW5kQ29uZGl0aW9uXyA9IG9wdGlvbnMuZnJlZWhhbmRDb25kaXRpb24gP1xuICAgICAgICBvcHRpb25zLmZyZWVoYW5kQ29uZGl0aW9uIDogc2hpZnRLZXlPbmx5O1xuICAgIH1cblxuICAgIGxpc3Rlbih0aGlzLFxuICAgICAgZ2V0Q2hhbmdlRXZlbnRUeXBlKEludGVyYWN0aW9uUHJvcGVydHkuQUNUSVZFKSxcbiAgICAgIHRoaXMudXBkYXRlU3RhdGVfLCB0aGlzKTtcblxuICB9XG5cbiAgaWYgKCBQb2ludGVySW50ZXJhY3Rpb24gKSBEcmF3Ll9fcHJvdG9fXyA9IFBvaW50ZXJJbnRlcmFjdGlvbjtcbiAgRHJhdy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBQb2ludGVySW50ZXJhY3Rpb24gJiYgUG9pbnRlckludGVyYWN0aW9uLnByb3RvdHlwZSApO1xuICBEcmF3LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IERyYXc7XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBEcmF3LnByb3RvdHlwZS5zZXRNYXAgPSBmdW5jdGlvbiBzZXRNYXAgKG1hcCkge1xuICAgIFBvaW50ZXJJbnRlcmFjdGlvbi5wcm90b3R5cGUuc2V0TWFwLmNhbGwodGhpcywgbWFwKTtcbiAgICB0aGlzLnVwZGF0ZVN0YXRlXygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG92ZXJsYXkgbGF5ZXIgdGhhdCB0aGlzIGludGVyYWN0aW9uIHJlbmRlcnMgc2tldGNoIGZlYXR1cmVzIHRvLlxuICAgKiBAcmV0dXJuIHtWZWN0b3JMYXllcn0gT3ZlcmxheSBsYXllci5cbiAgICogQGFwaVxuICAgKi9cbiAgRHJhdy5wcm90b3R5cGUuZ2V0T3ZlcmxheSA9IGZ1bmN0aW9uIGdldE92ZXJsYXkgKCkge1xuICAgIHJldHVybiB0aGlzLm92ZXJsYXlfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudCBtYXAgYnJvd3NlciBldmVudH0gYW5kIG1heSBhY3R1YWxseSBkcmF3IG9yIGZpbmlzaCB0aGUgZHJhd2luZy5cbiAgICogQG92ZXJyaWRlXG4gICAqIEBhcGlcbiAgICovXG4gIERyYXcucHJvdG90eXBlLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24gaGFuZGxlRXZlbnQgKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50Lm9yaWdpbmFsRXZlbnQudHlwZSA9PT0gRXZlbnRUeXBlLkNPTlRFWFRNRU5VKSB7XG4gICAgICAvLyBBdm9pZCBjb250ZXh0IG1lbnUgZm9yIGxvbmcgdGFwcyB3aGVuIGRyYXdpbmcgb24gbW9iaWxlXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICB0aGlzLmZyZWVoYW5kXyA9IHRoaXMubW9kZV8gIT09IE1vZGUuUE9JTlQgJiYgdGhpcy5mcmVlaGFuZENvbmRpdGlvbl8oZXZlbnQpO1xuICAgIHZhciBtb3ZlID0gZXZlbnQudHlwZSA9PT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSTU9WRTtcbiAgICB2YXIgcGFzcyA9IHRydWU7XG4gICAgaWYgKCF0aGlzLmZyZWVoYW5kXyAmJiB0aGlzLmxhc3REcmFnVGltZV8gJiYgZXZlbnQudHlwZSA9PT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSRFJBRykge1xuICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XG4gICAgICBpZiAobm93IC0gdGhpcy5sYXN0RHJhZ1RpbWVfID49IHRoaXMuZHJhZ1ZlcnRleERlbGF5Xykge1xuICAgICAgICB0aGlzLmRvd25QeF8gPSBldmVudC5waXhlbDtcbiAgICAgICAgdGhpcy5zaG91bGRIYW5kbGVfID0gIXRoaXMuZnJlZWhhbmRfO1xuICAgICAgICBtb3ZlID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubGFzdERyYWdUaW1lXyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnNob3VsZEhhbmRsZV8gJiYgdGhpcy5kb3duVGltZW91dF8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5kb3duVGltZW91dF8pO1xuICAgICAgICB0aGlzLmRvd25UaW1lb3V0XyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuZnJlZWhhbmRfICYmXG4gICAgICAgIGV2ZW50LnR5cGUgPT09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkRSQUcgJiZcbiAgICAgICAgdGhpcy5za2V0Y2hGZWF0dXJlXyAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5hZGRUb0RyYXdpbmdfKGV2ZW50KTtcbiAgICAgIHBhc3MgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZnJlZWhhbmRfICYmXG4gICAgICAgIGV2ZW50LnR5cGUgPT09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkRPV04pIHtcbiAgICAgIHBhc3MgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKG1vdmUpIHtcbiAgICAgIHBhc3MgPSBldmVudC50eXBlID09PSBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJNT1ZFO1xuICAgICAgaWYgKHBhc3MgJiYgdGhpcy5mcmVlaGFuZF8pIHtcbiAgICAgICAgcGFzcyA9IHRoaXMuaGFuZGxlUG9pbnRlck1vdmVfKGV2ZW50KTtcbiAgICAgIH0gZWxzZSBpZiAoLyoqIEB0eXBlIHtNYXBCcm93c2VyUG9pbnRlckV2ZW50fSAqLyAoZXZlbnQpLnBvaW50ZXJFdmVudC5wb2ludGVyVHlwZSA9PSBQT0lOVEVSX1RZUEUgfHxcbiAgICAgICAgICAoZXZlbnQudHlwZSA9PT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSRFJBRyAmJiB0aGlzLmRvd25UaW1lb3V0XyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICB0aGlzLmhhbmRsZVBvaW50ZXJNb3ZlXyhldmVudCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChldmVudC50eXBlID09PSBNYXBCcm93c2VyRXZlbnRUeXBlLkRCTENMSUNLKSB7XG4gICAgICBwYXNzID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIFBvaW50ZXJJbnRlcmFjdGlvbi5wcm90b3R5cGUuaGFuZGxlRXZlbnQuY2FsbCh0aGlzLCBldmVudCkgJiYgcGFzcztcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIERyYXcucHJvdG90eXBlLmhhbmRsZURvd25FdmVudCA9IGZ1bmN0aW9uIGhhbmRsZURvd25FdmVudCAoZXZlbnQpIHtcbiAgICB0aGlzLnNob3VsZEhhbmRsZV8gPSAhdGhpcy5mcmVlaGFuZF87XG5cbiAgICBpZiAodGhpcy5mcmVlaGFuZF8pIHtcbiAgICAgIHRoaXMuZG93blB4XyA9IGV2ZW50LnBpeGVsO1xuICAgICAgaWYgKCF0aGlzLmZpbmlzaENvb3JkaW5hdGVfKSB7XG4gICAgICAgIHRoaXMuc3RhcnREcmF3aW5nXyhldmVudCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuY29uZGl0aW9uXyhldmVudCkpIHtcbiAgICAgIHRoaXMubGFzdERyYWdUaW1lXyA9IERhdGUubm93KCk7XG4gICAgICB0aGlzLmRvd25UaW1lb3V0XyA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlUG9pbnRlck1vdmVfKG5ldyBNYXBCcm93c2VyUG9pbnRlckV2ZW50KFxuICAgICAgICAgIE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUk1PVkUsIGV2ZW50Lm1hcCwgZXZlbnQucG9pbnRlckV2ZW50LCBmYWxzZSwgZXZlbnQuZnJhbWVTdGF0ZSkpO1xuICAgICAgfS5iaW5kKHRoaXMpLCB0aGlzLmRyYWdWZXJ0ZXhEZWxheV8pO1xuICAgICAgdGhpcy5kb3duUHhfID0gZXZlbnQucGl4ZWw7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgRHJhdy5wcm90b3R5cGUuaGFuZGxlVXBFdmVudCA9IGZ1bmN0aW9uIGhhbmRsZVVwRXZlbnQgKGV2ZW50KSB7XG4gICAgdmFyIHBhc3MgPSB0cnVlO1xuXG4gICAgaWYgKHRoaXMuZG93blRpbWVvdXRfKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5kb3duVGltZW91dF8pO1xuICAgICAgdGhpcy5kb3duVGltZW91dF8gPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgdGhpcy5oYW5kbGVQb2ludGVyTW92ZV8oZXZlbnQpO1xuXG4gICAgdmFyIGNpcmNsZU1vZGUgPSB0aGlzLm1vZGVfID09PSBNb2RlLkNJUkNMRTtcblxuICAgIGlmICh0aGlzLnNob3VsZEhhbmRsZV8pIHtcbiAgICAgIGlmICghdGhpcy5maW5pc2hDb29yZGluYXRlXykge1xuICAgICAgICB0aGlzLnN0YXJ0RHJhd2luZ18oZXZlbnQpO1xuICAgICAgICBpZiAodGhpcy5tb2RlXyA9PT0gTW9kZS5QT0lOVCkge1xuICAgICAgICAgIHRoaXMuZmluaXNoRHJhd2luZygpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZnJlZWhhbmRfIHx8IGNpcmNsZU1vZGUpIHtcbiAgICAgICAgdGhpcy5maW5pc2hEcmF3aW5nKCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuYXRGaW5pc2hfKGV2ZW50KSkge1xuICAgICAgICBpZiAodGhpcy5maW5pc2hDb25kaXRpb25fKGV2ZW50KSkge1xuICAgICAgICAgIHRoaXMuZmluaXNoRHJhd2luZygpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmFkZFRvRHJhd2luZ18oZXZlbnQpO1xuICAgICAgfVxuICAgICAgcGFzcyA9IGZhbHNlO1xuICAgIH0gZWxzZSBpZiAodGhpcy5mcmVlaGFuZF8pIHtcbiAgICAgIHRoaXMuZmluaXNoQ29vcmRpbmF0ZV8gPSBudWxsO1xuICAgICAgdGhpcy5hYm9ydERyYXdpbmdfKCk7XG4gICAgfVxuICAgIGlmICghcGFzcyAmJiB0aGlzLnN0b3BDbGlja18pIHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cbiAgICByZXR1cm4gcGFzcztcbiAgfTtcblxuICAvKipcbiAgICogSGFuZGxlIG1vdmUgZXZlbnRzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBldmVudCBBIG1vdmUgZXZlbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFBhc3MgdGhlIGV2ZW50IHRvIG90aGVyIGludGVyYWN0aW9ucy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIERyYXcucHJvdG90eXBlLmhhbmRsZVBvaW50ZXJNb3ZlXyA9IGZ1bmN0aW9uIGhhbmRsZVBvaW50ZXJNb3ZlXyAoZXZlbnQpIHtcbiAgICBpZiAodGhpcy5kb3duUHhfICYmXG4gICAgICAgICgoIXRoaXMuZnJlZWhhbmRfICYmIHRoaXMuc2hvdWxkSGFuZGxlXykgfHxcbiAgICAgICAgKHRoaXMuZnJlZWhhbmRfICYmICF0aGlzLnNob3VsZEhhbmRsZV8pKSkge1xuICAgICAgdmFyIGRvd25QeCA9IHRoaXMuZG93blB4XztcbiAgICAgIHZhciBjbGlja1B4ID0gZXZlbnQucGl4ZWw7XG4gICAgICB2YXIgZHggPSBkb3duUHhbMF0gLSBjbGlja1B4WzBdO1xuICAgICAgdmFyIGR5ID0gZG93blB4WzFdIC0gY2xpY2tQeFsxXTtcbiAgICAgIHZhciBzcXVhcmVkRGlzdGFuY2UgPSBkeCAqIGR4ICsgZHkgKiBkeTtcbiAgICAgIHRoaXMuc2hvdWxkSGFuZGxlXyA9IHRoaXMuZnJlZWhhbmRfID9cbiAgICAgICAgc3F1YXJlZERpc3RhbmNlID4gdGhpcy5zcXVhcmVkQ2xpY2tUb2xlcmFuY2VfIDpcbiAgICAgICAgc3F1YXJlZERpc3RhbmNlIDw9IHRoaXMuc3F1YXJlZENsaWNrVG9sZXJhbmNlXztcbiAgICAgIGlmICghdGhpcy5zaG91bGRIYW5kbGVfKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmZpbmlzaENvb3JkaW5hdGVfKSB7XG4gICAgICB0aGlzLm1vZGlmeURyYXdpbmdfKGV2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jcmVhdGVPclVwZGF0ZVNrZXRjaFBvaW50XyhldmVudCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgaWYgYW4gZXZlbnQgaXMgd2l0aGluIHRoZSBzbmFwcGluZyB0b2xlcmFuY2Ugb2YgdGhlIHN0YXJ0IGNvb3JkLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBldmVudCBFdmVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGV2ZW50IGlzIHdpdGhpbiB0aGUgc25hcHBpbmcgdG9sZXJhbmNlIG9mIHRoZSBzdGFydC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIERyYXcucHJvdG90eXBlLmF0RmluaXNoXyA9IGZ1bmN0aW9uIGF0RmluaXNoXyAoZXZlbnQpIHtcbiAgICB2YXIgYXQgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5za2V0Y2hGZWF0dXJlXykge1xuICAgICAgdmFyIHBvdGVudGlhbGx5RG9uZSA9IGZhbHNlO1xuICAgICAgdmFyIHBvdGVudGlhbGx5RmluaXNoQ29vcmRpbmF0ZXMgPSBbdGhpcy5maW5pc2hDb29yZGluYXRlX107XG4gICAgICBpZiAodGhpcy5tb2RlXyA9PT0gTW9kZS5MSU5FX1NUUklORykge1xuICAgICAgICBwb3RlbnRpYWxseURvbmUgPSB0aGlzLnNrZXRjaENvb3Jkc18ubGVuZ3RoID4gdGhpcy5taW5Qb2ludHNfO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLm1vZGVfID09PSBNb2RlLlBPTFlHT04pIHtcbiAgICAgICAgdmFyIHNrZXRjaENvb3JkcyA9IC8qKiBAdHlwZSB7UG9seUNvb3JkVHlwZX0gKi8gKHRoaXMuc2tldGNoQ29vcmRzXyk7XG4gICAgICAgIHBvdGVudGlhbGx5RG9uZSA9IHNrZXRjaENvb3Jkc1swXS5sZW5ndGggPiB0aGlzLm1pblBvaW50c187XG4gICAgICAgIHBvdGVudGlhbGx5RmluaXNoQ29vcmRpbmF0ZXMgPSBbc2tldGNoQ29vcmRzWzBdWzBdLCBza2V0Y2hDb29yZHNbMF1bc2tldGNoQ29vcmRzWzBdLmxlbmd0aCAtIDJdXTtcbiAgICAgIH1cbiAgICAgIGlmIChwb3RlbnRpYWxseURvbmUpIHtcbiAgICAgICAgdmFyIG1hcCA9IGV2ZW50Lm1hcDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gcG90ZW50aWFsbHlGaW5pc2hDb29yZGluYXRlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgdmFyIGZpbmlzaENvb3JkaW5hdGUgPSBwb3RlbnRpYWxseUZpbmlzaENvb3JkaW5hdGVzW2ldO1xuICAgICAgICAgIHZhciBmaW5pc2hQaXhlbCA9IG1hcC5nZXRQaXhlbEZyb21Db29yZGluYXRlKGZpbmlzaENvb3JkaW5hdGUpO1xuICAgICAgICAgIHZhciBwaXhlbCA9IGV2ZW50LnBpeGVsO1xuICAgICAgICAgIHZhciBkeCA9IHBpeGVsWzBdIC0gZmluaXNoUGl4ZWxbMF07XG4gICAgICAgICAgdmFyIGR5ID0gcGl4ZWxbMV0gLSBmaW5pc2hQaXhlbFsxXTtcbiAgICAgICAgICB2YXIgc25hcFRvbGVyYW5jZSA9IHRoaXMuZnJlZWhhbmRfID8gMSA6IHRoaXMuc25hcFRvbGVyYW5jZV87XG4gICAgICAgICAgYXQgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpIDw9IHNuYXBUb2xlcmFuY2U7XG4gICAgICAgICAgaWYgKGF0KSB7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaENvb3JkaW5hdGVfID0gZmluaXNoQ29vcmRpbmF0ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IGV2ZW50IEV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgRHJhdy5wcm90b3R5cGUuY3JlYXRlT3JVcGRhdGVTa2V0Y2hQb2ludF8gPSBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZVNrZXRjaFBvaW50XyAoZXZlbnQpIHtcbiAgICB2YXIgY29vcmRpbmF0ZXMgPSBldmVudC5jb29yZGluYXRlLnNsaWNlKCk7XG4gICAgaWYgKCF0aGlzLnNrZXRjaFBvaW50Xykge1xuICAgICAgdGhpcy5za2V0Y2hQb2ludF8gPSBuZXcgRmVhdHVyZShuZXcgUG9pbnQoY29vcmRpbmF0ZXMpKTtcbiAgICAgIHRoaXMudXBkYXRlU2tldGNoRmVhdHVyZXNfKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBza2V0Y2hQb2ludEdlb20gPSAvKiogQHR5cGUge1BvaW50fSAqLyAodGhpcy5za2V0Y2hQb2ludF8uZ2V0R2VvbWV0cnkoKSk7XG4gICAgICBza2V0Y2hQb2ludEdlb20uc2V0Q29vcmRpbmF0ZXMoY29vcmRpbmF0ZXMpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogU3RhcnQgdGhlIGRyYXdpbmcuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IGV2ZW50IEV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgRHJhdy5wcm90b3R5cGUuc3RhcnREcmF3aW5nXyA9IGZ1bmN0aW9uIHN0YXJ0RHJhd2luZ18gKGV2ZW50KSB7XG4gICAgdmFyIHN0YXJ0ID0gZXZlbnQuY29vcmRpbmF0ZTtcbiAgICB0aGlzLmZpbmlzaENvb3JkaW5hdGVfID0gc3RhcnQ7XG4gICAgaWYgKHRoaXMubW9kZV8gPT09IE1vZGUuUE9JTlQpIHtcbiAgICAgIHRoaXMuc2tldGNoQ29vcmRzXyA9IHN0YXJ0LnNsaWNlKCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLm1vZGVfID09PSBNb2RlLlBPTFlHT04pIHtcbiAgICAgIHRoaXMuc2tldGNoQ29vcmRzXyA9IFtbc3RhcnQuc2xpY2UoKSwgc3RhcnQuc2xpY2UoKV1dO1xuICAgICAgdGhpcy5za2V0Y2hMaW5lQ29vcmRzXyA9IHRoaXMuc2tldGNoQ29vcmRzX1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5za2V0Y2hDb29yZHNfID0gW3N0YXJ0LnNsaWNlKCksIHN0YXJ0LnNsaWNlKCldO1xuICAgIH1cbiAgICBpZiAodGhpcy5za2V0Y2hMaW5lQ29vcmRzXykge1xuICAgICAgdGhpcy5za2V0Y2hMaW5lXyA9IG5ldyBGZWF0dXJlKFxuICAgICAgICBuZXcgTGluZVN0cmluZyh0aGlzLnNrZXRjaExpbmVDb29yZHNfKSk7XG4gICAgfVxuICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnlGdW5jdGlvbl8odGhpcy5za2V0Y2hDb29yZHNfKTtcbiAgICB0aGlzLnNrZXRjaEZlYXR1cmVfID0gbmV3IEZlYXR1cmUoKTtcbiAgICBpZiAodGhpcy5nZW9tZXRyeU5hbWVfKSB7XG4gICAgICB0aGlzLnNrZXRjaEZlYXR1cmVfLnNldEdlb21ldHJ5TmFtZSh0aGlzLmdlb21ldHJ5TmFtZV8pO1xuICAgIH1cbiAgICB0aGlzLnNrZXRjaEZlYXR1cmVfLnNldEdlb21ldHJ5KGdlb21ldHJ5KTtcbiAgICB0aGlzLnVwZGF0ZVNrZXRjaEZlYXR1cmVzXygpO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgRHJhd0V2ZW50KERyYXdFdmVudFR5cGUuRFJBV1NUQVJULCB0aGlzLnNrZXRjaEZlYXR1cmVfKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1vZGlmeSB0aGUgZHJhd2luZy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgRXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBEcmF3LnByb3RvdHlwZS5tb2RpZnlEcmF3aW5nXyA9IGZ1bmN0aW9uIG1vZGlmeURyYXdpbmdfIChldmVudCkge1xuICAgIHZhciBjb29yZGluYXRlID0gZXZlbnQuY29vcmRpbmF0ZTtcbiAgICB2YXIgZ2VvbWV0cnkgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi8gKHRoaXMuc2tldGNoRmVhdHVyZV8uZ2V0R2VvbWV0cnkoKSk7XG4gICAgdmFyIGNvb3JkaW5hdGVzLCBsYXN0O1xuICAgIGlmICh0aGlzLm1vZGVfID09PSBNb2RlLlBPSU5UKSB7XG4gICAgICBsYXN0ID0gdGhpcy5za2V0Y2hDb29yZHNfO1xuICAgIH0gZWxzZSBpZiAodGhpcy5tb2RlXyA9PT0gTW9kZS5QT0xZR09OKSB7XG4gICAgICBjb29yZGluYXRlcyA9IC8qKiBAdHlwZSB7UG9seUNvb3JkVHlwZX0gKi8gKHRoaXMuc2tldGNoQ29vcmRzXylbMF07XG4gICAgICBsYXN0ID0gY29vcmRpbmF0ZXNbY29vcmRpbmF0ZXMubGVuZ3RoIC0gMV07XG4gICAgICBpZiAodGhpcy5hdEZpbmlzaF8oZXZlbnQpKSB7XG4gICAgICAgIC8vIHNuYXAgdG8gZmluaXNoXG4gICAgICAgIGNvb3JkaW5hdGUgPSB0aGlzLmZpbmlzaENvb3JkaW5hdGVfLnNsaWNlKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvb3JkaW5hdGVzID0gdGhpcy5za2V0Y2hDb29yZHNfO1xuICAgICAgbGFzdCA9IGNvb3JkaW5hdGVzW2Nvb3JkaW5hdGVzLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICBsYXN0WzBdID0gY29vcmRpbmF0ZVswXTtcbiAgICBsYXN0WzFdID0gY29vcmRpbmF0ZVsxXTtcbiAgICB0aGlzLmdlb21ldHJ5RnVuY3Rpb25fKC8qKiBAdHlwZSB7IUxpbmVDb29yZFR5cGV9ICovICh0aGlzLnNrZXRjaENvb3Jkc18pLCBnZW9tZXRyeSk7XG4gICAgaWYgKHRoaXMuc2tldGNoUG9pbnRfKSB7XG4gICAgICB2YXIgc2tldGNoUG9pbnRHZW9tID0gLyoqIEB0eXBlIHtQb2ludH0gKi8gKHRoaXMuc2tldGNoUG9pbnRfLmdldEdlb21ldHJ5KCkpO1xuICAgICAgc2tldGNoUG9pbnRHZW9tLnNldENvb3JkaW5hdGVzKGNvb3JkaW5hdGUpO1xuICAgIH1cbiAgICAvKiogQHR5cGUge0xpbmVTdHJpbmd9ICovXG4gICAgdmFyIHNrZXRjaExpbmVHZW9tO1xuICAgIGlmIChnZW9tZXRyeS5nZXRUeXBlKCkgPT0gR2VvbWV0cnlUeXBlLlBPTFlHT04gJiZcbiAgICAgICAgdGhpcy5tb2RlXyAhPT0gTW9kZS5QT0xZR09OKSB7XG4gICAgICBpZiAoIXRoaXMuc2tldGNoTGluZV8pIHtcbiAgICAgICAgdGhpcy5za2V0Y2hMaW5lXyA9IG5ldyBGZWF0dXJlKCk7XG4gICAgICB9XG4gICAgICB2YXIgcmluZyA9IC8qKiBAdHlwZSB7UG9seWdvbn0gKi8gKGdlb21ldHJ5KS5nZXRMaW5lYXJSaW5nKDApO1xuICAgICAgc2tldGNoTGluZUdlb20gPSAvKiogQHR5cGUge0xpbmVTdHJpbmd9ICovICh0aGlzLnNrZXRjaExpbmVfLmdldEdlb21ldHJ5KCkpO1xuICAgICAgaWYgKCFza2V0Y2hMaW5lR2VvbSkge1xuICAgICAgICBza2V0Y2hMaW5lR2VvbSA9IG5ldyBMaW5lU3RyaW5nKHJpbmcuZ2V0RmxhdENvb3JkaW5hdGVzKCksIHJpbmcuZ2V0TGF5b3V0KCkpO1xuICAgICAgICB0aGlzLnNrZXRjaExpbmVfLnNldEdlb21ldHJ5KHNrZXRjaExpbmVHZW9tKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNrZXRjaExpbmVHZW9tLnNldEZsYXRDb29yZGluYXRlcyhcbiAgICAgICAgICByaW5nLmdldExheW91dCgpLCByaW5nLmdldEZsYXRDb29yZGluYXRlcygpKTtcbiAgICAgICAgc2tldGNoTGluZUdlb20uY2hhbmdlZCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5za2V0Y2hMaW5lQ29vcmRzXykge1xuICAgICAgc2tldGNoTGluZUdlb20gPSAvKiogQHR5cGUge0xpbmVTdHJpbmd9ICovICh0aGlzLnNrZXRjaExpbmVfLmdldEdlb21ldHJ5KCkpO1xuICAgICAgc2tldGNoTGluZUdlb20uc2V0Q29vcmRpbmF0ZXModGhpcy5za2V0Y2hMaW5lQ29vcmRzXyk7XG4gICAgfVxuICAgIHRoaXMudXBkYXRlU2tldGNoRmVhdHVyZXNfKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFkZCBhIG5ldyBjb29yZGluYXRlIHRvIHRoZSBkcmF3aW5nLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBldmVudCBFdmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIERyYXcucHJvdG90eXBlLmFkZFRvRHJhd2luZ18gPSBmdW5jdGlvbiBhZGRUb0RyYXdpbmdfIChldmVudCkge1xuICAgIHZhciBjb29yZGluYXRlID0gZXZlbnQuY29vcmRpbmF0ZTtcbiAgICB2YXIgZ2VvbWV0cnkgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi8gKHRoaXMuc2tldGNoRmVhdHVyZV8uZ2V0R2VvbWV0cnkoKSk7XG4gICAgdmFyIGRvbmU7XG4gICAgdmFyIGNvb3JkaW5hdGVzO1xuICAgIGlmICh0aGlzLm1vZGVfID09PSBNb2RlLkxJTkVfU1RSSU5HKSB7XG4gICAgICB0aGlzLmZpbmlzaENvb3JkaW5hdGVfID0gY29vcmRpbmF0ZS5zbGljZSgpO1xuICAgICAgY29vcmRpbmF0ZXMgPSAvKiogQHR5cGUge0xpbmVDb29yZFR5cGV9ICovICh0aGlzLnNrZXRjaENvb3Jkc18pO1xuICAgICAgaWYgKGNvb3JkaW5hdGVzLmxlbmd0aCA+PSB0aGlzLm1heFBvaW50c18pIHtcbiAgICAgICAgaWYgKHRoaXMuZnJlZWhhbmRfKSB7XG4gICAgICAgICAgY29vcmRpbmF0ZXMucG9wKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvb3JkaW5hdGVzLnB1c2goY29vcmRpbmF0ZS5zbGljZSgpKTtcbiAgICAgIHRoaXMuZ2VvbWV0cnlGdW5jdGlvbl8oY29vcmRpbmF0ZXMsIGdlb21ldHJ5KTtcbiAgICB9IGVsc2UgaWYgKHRoaXMubW9kZV8gPT09IE1vZGUuUE9MWUdPTikge1xuICAgICAgY29vcmRpbmF0ZXMgPSAvKiogQHR5cGUge1BvbHlDb29yZFR5cGV9ICovICh0aGlzLnNrZXRjaENvb3Jkc18pWzBdO1xuICAgICAgaWYgKGNvb3JkaW5hdGVzLmxlbmd0aCA+PSB0aGlzLm1heFBvaW50c18pIHtcbiAgICAgICAgaWYgKHRoaXMuZnJlZWhhbmRfKSB7XG4gICAgICAgICAgY29vcmRpbmF0ZXMucG9wKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvb3JkaW5hdGVzLnB1c2goY29vcmRpbmF0ZS5zbGljZSgpKTtcbiAgICAgIGlmIChkb25lKSB7XG4gICAgICAgIHRoaXMuZmluaXNoQ29vcmRpbmF0ZV8gPSBjb29yZGluYXRlc1swXTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZ2VvbWV0cnlGdW5jdGlvbl8odGhpcy5za2V0Y2hDb29yZHNfLCBnZW9tZXRyeSk7XG4gICAgfVxuICAgIHRoaXMudXBkYXRlU2tldGNoRmVhdHVyZXNfKCk7XG4gICAgaWYgKGRvbmUpIHtcbiAgICAgIHRoaXMuZmluaXNoRHJhd2luZygpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlIGxhc3QgcG9pbnQgb2YgdGhlIGZlYXR1cmUgY3VycmVudGx5IGJlaW5nIGRyYXduLlxuICAgKiBAYXBpXG4gICAqL1xuICBEcmF3LnByb3RvdHlwZS5yZW1vdmVMYXN0UG9pbnQgPSBmdW5jdGlvbiByZW1vdmVMYXN0UG9pbnQgKCkge1xuICAgIGlmICghdGhpcy5za2V0Y2hGZWF0dXJlXykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZ2VvbWV0cnkgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi8gKHRoaXMuc2tldGNoRmVhdHVyZV8uZ2V0R2VvbWV0cnkoKSk7XG4gICAgdmFyIGNvb3JkaW5hdGVzO1xuICAgIC8qKiBAdHlwZSB7TGluZVN0cmluZ30gKi9cbiAgICB2YXIgc2tldGNoTGluZUdlb207XG4gICAgaWYgKHRoaXMubW9kZV8gPT09IE1vZGUuTElORV9TVFJJTkcpIHtcbiAgICAgIGNvb3JkaW5hdGVzID0gLyoqIEB0eXBlIHtMaW5lQ29vcmRUeXBlfSAqLyAodGhpcy5za2V0Y2hDb29yZHNfKTtcbiAgICAgIGNvb3JkaW5hdGVzLnNwbGljZSgtMiwgMSk7XG4gICAgICB0aGlzLmdlb21ldHJ5RnVuY3Rpb25fKGNvb3JkaW5hdGVzLCBnZW9tZXRyeSk7XG4gICAgICBpZiAoY29vcmRpbmF0ZXMubGVuZ3RoID49IDIpIHtcbiAgICAgICAgdGhpcy5maW5pc2hDb29yZGluYXRlXyA9IGNvb3JkaW5hdGVzW2Nvb3JkaW5hdGVzLmxlbmd0aCAtIDJdLnNsaWNlKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLm1vZGVfID09PSBNb2RlLlBPTFlHT04pIHtcbiAgICAgIGNvb3JkaW5hdGVzID0gLyoqIEB0eXBlIHtQb2x5Q29vcmRUeXBlfSAqLyAodGhpcy5za2V0Y2hDb29yZHNfKVswXTtcbiAgICAgIGNvb3JkaW5hdGVzLnNwbGljZSgtMiwgMSk7XG4gICAgICBza2V0Y2hMaW5lR2VvbSA9IC8qKiBAdHlwZSB7TGluZVN0cmluZ30gKi8gKHRoaXMuc2tldGNoTGluZV8uZ2V0R2VvbWV0cnkoKSk7XG4gICAgICBza2V0Y2hMaW5lR2VvbS5zZXRDb29yZGluYXRlcyhjb29yZGluYXRlcyk7XG4gICAgICB0aGlzLmdlb21ldHJ5RnVuY3Rpb25fKHRoaXMuc2tldGNoQ29vcmRzXywgZ2VvbWV0cnkpO1xuICAgIH1cblxuICAgIGlmIChjb29yZGluYXRlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuZmluaXNoQ29vcmRpbmF0ZV8gPSBudWxsO1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlU2tldGNoRmVhdHVyZXNfKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0b3AgZHJhd2luZyBhbmQgYWRkIHRoZSBza2V0Y2ggZmVhdHVyZSB0byB0aGUgdGFyZ2V0IGxheWVyLlxuICAgKiBUaGUge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9EcmF3fkRyYXdFdmVudFR5cGUuRFJBV0VORH0gZXZlbnQgaXNcbiAgICogZGlzcGF0Y2hlZCBiZWZvcmUgaW5zZXJ0aW5nIHRoZSBmZWF0dXJlLlxuICAgKiBAYXBpXG4gICAqL1xuICBEcmF3LnByb3RvdHlwZS5maW5pc2hEcmF3aW5nID0gZnVuY3Rpb24gZmluaXNoRHJhd2luZyAoKSB7XG4gICAgdmFyIHNrZXRjaEZlYXR1cmUgPSB0aGlzLmFib3J0RHJhd2luZ18oKTtcbiAgICBpZiAoIXNrZXRjaEZlYXR1cmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGNvb3JkaW5hdGVzID0gdGhpcy5za2V0Y2hDb29yZHNfO1xuICAgIHZhciBnZW9tZXRyeSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoc2tldGNoRmVhdHVyZS5nZXRHZW9tZXRyeSgpKTtcbiAgICBpZiAodGhpcy5tb2RlXyA9PT0gTW9kZS5MSU5FX1NUUklORykge1xuICAgICAgLy8gcmVtb3ZlIHRoZSByZWR1bmRhbnQgbGFzdCBwb2ludFxuICAgICAgY29vcmRpbmF0ZXMucG9wKCk7XG4gICAgICB0aGlzLmdlb21ldHJ5RnVuY3Rpb25fKGNvb3JkaW5hdGVzLCBnZW9tZXRyeSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLm1vZGVfID09PSBNb2RlLlBPTFlHT04pIHtcbiAgICAgIC8vIHJlbW92ZSB0aGUgcmVkdW5kYW50IGxhc3QgcG9pbnQgaW4gcmluZ1xuICAgICAgLyoqIEB0eXBlIHtQb2x5Q29vcmRUeXBlfSAqLyAoY29vcmRpbmF0ZXMpWzBdLnBvcCgpO1xuICAgICAgdGhpcy5nZW9tZXRyeUZ1bmN0aW9uXyhjb29yZGluYXRlcywgZ2VvbWV0cnkpO1xuICAgICAgY29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRDb29yZGluYXRlcygpO1xuICAgIH1cblxuICAgIC8vIGNhc3QgbXVsdGktcGFydCBnZW9tZXRyaWVzXG4gICAgaWYgKHRoaXMudHlwZV8gPT09IEdlb21ldHJ5VHlwZS5NVUxUSV9QT0lOVCkge1xuICAgICAgc2tldGNoRmVhdHVyZS5zZXRHZW9tZXRyeShuZXcgTXVsdGlQb2ludChbLyoqIEB0eXBlIHtQb2ludENvb3JkVHlwZX0gKi8oY29vcmRpbmF0ZXMpXSkpO1xuICAgIH0gZWxzZSBpZiAodGhpcy50eXBlXyA9PT0gR2VvbWV0cnlUeXBlLk1VTFRJX0xJTkVfU1RSSU5HKSB7XG4gICAgICBza2V0Y2hGZWF0dXJlLnNldEdlb21ldHJ5KG5ldyBNdWx0aUxpbmVTdHJpbmcoWy8qKiBAdHlwZSB7TGluZUNvb3JkVHlwZX0gKi8oY29vcmRpbmF0ZXMpXSkpO1xuICAgIH0gZWxzZSBpZiAodGhpcy50eXBlXyA9PT0gR2VvbWV0cnlUeXBlLk1VTFRJX1BPTFlHT04pIHtcbiAgICAgIHNrZXRjaEZlYXR1cmUuc2V0R2VvbWV0cnkobmV3IE11bHRpUG9seWdvbihbLyoqIEB0eXBlIHtQb2x5Q29vcmRUeXBlfSAqLyhjb29yZGluYXRlcyldKSk7XG4gICAgfVxuXG4gICAgLy8gRmlyc3QgZGlzcGF0Y2ggZXZlbnQgdG8gYWxsb3cgZnVsbCBzZXQgdXAgb2YgZmVhdHVyZVxuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgRHJhd0V2ZW50KERyYXdFdmVudFR5cGUuRFJBV0VORCwgc2tldGNoRmVhdHVyZSkpO1xuXG4gICAgLy8gVGhlbiBpbnNlcnQgZmVhdHVyZVxuICAgIGlmICh0aGlzLmZlYXR1cmVzXykge1xuICAgICAgdGhpcy5mZWF0dXJlc18ucHVzaChza2V0Y2hGZWF0dXJlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc291cmNlXykge1xuICAgICAgdGhpcy5zb3VyY2VfLmFkZEZlYXR1cmUoc2tldGNoRmVhdHVyZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBTdG9wIGRyYXdpbmcgd2l0aG91dCBhZGRpbmcgdGhlIHNrZXRjaCBmZWF0dXJlIHRvIHRoZSB0YXJnZXQgbGF5ZXIuXG4gICAqIEByZXR1cm4ge0ZlYXR1cmV9IFRoZSBza2V0Y2ggZmVhdHVyZSAob3IgbnVsbCBpZiBub25lKS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIERyYXcucHJvdG90eXBlLmFib3J0RHJhd2luZ18gPSBmdW5jdGlvbiBhYm9ydERyYXdpbmdfICgpIHtcbiAgICB0aGlzLmZpbmlzaENvb3JkaW5hdGVfID0gbnVsbDtcbiAgICB2YXIgc2tldGNoRmVhdHVyZSA9IHRoaXMuc2tldGNoRmVhdHVyZV87XG4gICAgaWYgKHNrZXRjaEZlYXR1cmUpIHtcbiAgICAgIHRoaXMuc2tldGNoRmVhdHVyZV8gPSBudWxsO1xuICAgICAgdGhpcy5za2V0Y2hQb2ludF8gPSBudWxsO1xuICAgICAgdGhpcy5za2V0Y2hMaW5lXyA9IG51bGw7XG4gICAgICAvKiogQHR5cGUge1ZlY3RvclNvdXJjZX0gKi8gKHRoaXMub3ZlcmxheV8uZ2V0U291cmNlKCkpLmNsZWFyKHRydWUpO1xuICAgIH1cbiAgICByZXR1cm4gc2tldGNoRmVhdHVyZTtcbiAgfTtcblxuICAvKipcbiAgICogRXh0ZW5kIGFuIGV4aXN0aW5nIGdlb21ldHJ5IGJ5IGFkZGluZyBhZGRpdGlvbmFsIHBvaW50cy4gVGhpcyBvbmx5IHdvcmtzXG4gICAqIG9uIGZlYXR1cmVzIHdpdGggYExpbmVTdHJpbmdgIGdlb21ldHJpZXMsIHdoZXJlIHRoZSBpbnRlcmFjdGlvbiB3aWxsXG4gICAqIGV4dGVuZCBsaW5lcyBieSBhZGRpbmcgcG9pbnRzIHRvIHRoZSBlbmQgb2YgdGhlIGNvb3JkaW5hdGVzIGFycmF5LlxuICAgKiBAcGFyYW0geyFGZWF0dXJlfSBmZWF0dXJlIEZlYXR1cmUgdG8gYmUgZXh0ZW5kZWQuXG4gICAqIEBhcGlcbiAgICovXG4gIERyYXcucHJvdG90eXBlLmV4dGVuZCA9IGZ1bmN0aW9uIGV4dGVuZCAoZmVhdHVyZSkge1xuICAgIHZhciBnZW9tZXRyeSA9IGZlYXR1cmUuZ2V0R2VvbWV0cnkoKTtcbiAgICB2YXIgbGluZVN0cmluZyA9IC8qKiBAdHlwZSB7TGluZVN0cmluZ30gKi8gKGdlb21ldHJ5KTtcbiAgICB0aGlzLnNrZXRjaEZlYXR1cmVfID0gZmVhdHVyZTtcbiAgICB0aGlzLnNrZXRjaENvb3Jkc18gPSBsaW5lU3RyaW5nLmdldENvb3JkaW5hdGVzKCk7XG4gICAgdmFyIGxhc3QgPSB0aGlzLnNrZXRjaENvb3Jkc19bdGhpcy5za2V0Y2hDb29yZHNfLmxlbmd0aCAtIDFdO1xuICAgIHRoaXMuZmluaXNoQ29vcmRpbmF0ZV8gPSBsYXN0LnNsaWNlKCk7XG4gICAgdGhpcy5za2V0Y2hDb29yZHNfLnB1c2gobGFzdC5zbGljZSgpKTtcbiAgICB0aGlzLnVwZGF0ZVNrZXRjaEZlYXR1cmVzXygpO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgRHJhd0V2ZW50KERyYXdFdmVudFR5cGUuRFJBV1NUQVJULCB0aGlzLnNrZXRjaEZlYXR1cmVfKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlZHJhdyB0aGUgc2tldGNoIGZlYXR1cmVzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgRHJhdy5wcm90b3R5cGUudXBkYXRlU2tldGNoRmVhdHVyZXNfID0gZnVuY3Rpb24gdXBkYXRlU2tldGNoRmVhdHVyZXNfICgpIHtcbiAgICB2YXIgc2tldGNoRmVhdHVyZXMgPSBbXTtcbiAgICBpZiAodGhpcy5za2V0Y2hGZWF0dXJlXykge1xuICAgICAgc2tldGNoRmVhdHVyZXMucHVzaCh0aGlzLnNrZXRjaEZlYXR1cmVfKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc2tldGNoTGluZV8pIHtcbiAgICAgIHNrZXRjaEZlYXR1cmVzLnB1c2godGhpcy5za2V0Y2hMaW5lXyk7XG4gICAgfVxuICAgIGlmICh0aGlzLnNrZXRjaFBvaW50Xykge1xuICAgICAgc2tldGNoRmVhdHVyZXMucHVzaCh0aGlzLnNrZXRjaFBvaW50Xyk7XG4gICAgfVxuICAgIHZhciBvdmVybGF5U291cmNlID0gLyoqIEB0eXBlIHtWZWN0b3JTb3VyY2V9ICovICh0aGlzLm92ZXJsYXlfLmdldFNvdXJjZSgpKTtcbiAgICBvdmVybGF5U291cmNlLmNsZWFyKHRydWUpO1xuICAgIG92ZXJsYXlTb3VyY2UuYWRkRmVhdHVyZXMoc2tldGNoRmVhdHVyZXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgRHJhdy5wcm90b3R5cGUudXBkYXRlU3RhdGVfID0gZnVuY3Rpb24gdXBkYXRlU3RhdGVfICgpIHtcbiAgICB2YXIgbWFwID0gdGhpcy5nZXRNYXAoKTtcbiAgICB2YXIgYWN0aXZlID0gdGhpcy5nZXRBY3RpdmUoKTtcbiAgICBpZiAoIW1hcCB8fCAhYWN0aXZlKSB7XG4gICAgICB0aGlzLmFib3J0RHJhd2luZ18oKTtcbiAgICB9XG4gICAgdGhpcy5vdmVybGF5Xy5zZXRNYXAoYWN0aXZlID8gbWFwIDogbnVsbCk7XG4gIH07XG5cbiAgcmV0dXJuIERyYXc7XG59KFBvaW50ZXJJbnRlcmFjdGlvbikpO1xuXG5cbi8qKlxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVGdW5jdGlvbn0gU3R5bGVzLlxuICovXG5mdW5jdGlvbiBnZXREZWZhdWx0U3R5bGVGdW5jdGlvbigpIHtcbiAgdmFyIHN0eWxlcyA9IGNyZWF0ZUVkaXRpbmdTdHlsZSgpO1xuICByZXR1cm4gZnVuY3Rpb24oZmVhdHVyZSwgcmVzb2x1dGlvbikge1xuICAgIHJldHVybiBzdHlsZXNbZmVhdHVyZS5nZXRHZW9tZXRyeSgpLmdldFR5cGUoKV07XG4gIH07XG59XG5cblxuLyoqXG4gKiBDcmVhdGUgYSBgZ2VvbWV0cnlGdW5jdGlvbmAgZm9yIGB0eXBlOiAnQ2lyY2xlJ2AgdGhhdCB3aWxsIGNyZWF0ZSBhIHJlZ3VsYXJcbiAqIHBvbHlnb24gd2l0aCBhIHVzZXIgc3BlY2lmaWVkIG51bWJlciBvZiBzaWRlcyBhbmQgc3RhcnQgYW5nbGUgaW5zdGVhZCBvZiBhblxuICogYGltcG9ydChcIi4uL2dlb20vQ2lyY2xlLmpzXCIpLkNpcmNsZWAgZ2VvbWV0cnkuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9zaWRlcyBOdW1iZXIgb2Ygc2lkZXMgb2YgdGhlIHJlZ3VsYXIgcG9seWdvbi4gRGVmYXVsdCBpc1xuICogICAgIDMyLlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfYW5nbGUgQW5nbGUgb2YgdGhlIGZpcnN0IHBvaW50IGluIHJhZGlhbnMuIDAgbWVhbnMgRWFzdC5cbiAqICAgICBEZWZhdWx0IGlzIHRoZSBhbmdsZSBkZWZpbmVkIGJ5IHRoZSBoZWFkaW5nIGZyb20gdGhlIGNlbnRlciBvZiB0aGVcbiAqICAgICByZWd1bGFyIHBvbHlnb24gdG8gdGhlIGN1cnJlbnQgcG9pbnRlciBwb3NpdGlvbi5cbiAqIEByZXR1cm4ge0dlb21ldHJ5RnVuY3Rpb259IEZ1bmN0aW9uIHRoYXQgZHJhd3MgYVxuICogICAgIHBvbHlnb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZWd1bGFyUG9seWdvbihvcHRfc2lkZXMsIG9wdF9hbmdsZSkge1xuICByZXR1cm4gZnVuY3Rpb24oY29vcmRpbmF0ZXMsIG9wdF9nZW9tZXRyeSkge1xuICAgIHZhciBjZW50ZXIgPSAvKiogQHR5cGUge0xpbmVDb29yZFR5cGV9ICovIChjb29yZGluYXRlcylbMF07XG4gICAgdmFyIGVuZCA9IC8qKiBAdHlwZSB7TGluZUNvb3JkVHlwZX0gKi8gKGNvb3JkaW5hdGVzKVsxXTtcbiAgICB2YXIgcmFkaXVzID0gTWF0aC5zcXJ0KFxuICAgICAgc3F1YXJlZENvb3JkaW5hdGVEaXN0YW5jZShjZW50ZXIsIGVuZCkpO1xuICAgIHZhciBnZW9tZXRyeSA9IG9wdF9nZW9tZXRyeSA/IC8qKiBAdHlwZSB7UG9seWdvbn0gKi8gKG9wdF9nZW9tZXRyeSkgOlxuICAgICAgZnJvbUNpcmNsZShuZXcgQ2lyY2xlKGNlbnRlciksIG9wdF9zaWRlcyk7XG4gICAgdmFyIGFuZ2xlID0gb3B0X2FuZ2xlO1xuICAgIGlmICghb3B0X2FuZ2xlKSB7XG4gICAgICB2YXIgeCA9IGVuZFswXSAtIGNlbnRlclswXTtcbiAgICAgIHZhciB5ID0gZW5kWzFdIC0gY2VudGVyWzFdO1xuICAgICAgYW5nbGUgPSBNYXRoLmF0YW4oeSAvIHgpIC0gKHggPCAwID8gTWF0aC5QSSA6IDApO1xuICAgIH1cbiAgICBtYWtlUmVndWxhcihnZW9tZXRyeSwgY2VudGVyLCByYWRpdXMsIGFuZ2xlKTtcbiAgICByZXR1cm4gZ2VvbWV0cnk7XG4gIH07XG59XG5cblxuLyoqXG4gKiBDcmVhdGUgYSBgZ2VvbWV0cnlGdW5jdGlvbmAgdGhhdCB3aWxsIGNyZWF0ZSBhIGJveC1zaGFwZWQgcG9seWdvbiAoYWxpZ25lZFxuICogd2l0aCB0aGUgY29vcmRpbmF0ZSBzeXN0ZW0gYXhlcykuICBVc2UgdGhpcyB3aXRoIHRoZSBkcmF3IGludGVyYWN0aW9uIGFuZFxuICogYHR5cGU6ICdDaXJjbGUnYCB0byByZXR1cm4gYSBib3ggaW5zdGVhZCBvZiBhIGNpcmNsZSBnZW9tZXRyeS5cbiAqIEByZXR1cm4ge0dlb21ldHJ5RnVuY3Rpb259IEZ1bmN0aW9uIHRoYXQgZHJhd3MgYSBib3gtc2hhcGVkIHBvbHlnb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVCb3goKSB7XG4gIHJldHVybiAoXG4gICAgZnVuY3Rpb24oY29vcmRpbmF0ZXMsIG9wdF9nZW9tZXRyeSkge1xuICAgICAgdmFyIGV4dGVudCA9IGJvdW5kaW5nRXh0ZW50KC8qKiBAdHlwZSB7TGluZUNvb3JkVHlwZX0gKi8gKGNvb3JkaW5hdGVzKSk7XG4gICAgICB2YXIgYm94Q29vcmRpbmF0ZXMgPSBbW1xuICAgICAgICBnZXRCb3R0b21MZWZ0KGV4dGVudCksXG4gICAgICAgIGdldEJvdHRvbVJpZ2h0KGV4dGVudCksXG4gICAgICAgIGdldFRvcFJpZ2h0KGV4dGVudCksXG4gICAgICAgIGdldFRvcExlZnQoZXh0ZW50KSxcbiAgICAgICAgZ2V0Qm90dG9tTGVmdChleHRlbnQpXG4gICAgICBdXTtcbiAgICAgIHZhciBnZW9tZXRyeSA9IG9wdF9nZW9tZXRyeTtcbiAgICAgIGlmIChnZW9tZXRyeSkge1xuICAgICAgICBnZW9tZXRyeS5zZXRDb29yZGluYXRlcyhib3hDb29yZGluYXRlcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnZW9tZXRyeSA9IG5ldyBQb2x5Z29uKGJveENvb3JkaW5hdGVzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBnZW9tZXRyeTtcbiAgICB9XG4gICk7XG59XG5cblxuLyoqXG4gKiBHZXQgdGhlIGRyYXdpbmcgbW9kZS4gIFRoZSBtb2RlIGZvciBtdWx0LXBhcnQgZ2VvbWV0cmllcyBpcyB0aGUgc2FtZSBhcyBmb3JcbiAqIHRoZWlyIHNpbmdsZS1wYXJ0IGNvdXNpbnMuXG4gKiBAcGFyYW0ge0dlb21ldHJ5VHlwZX0gdHlwZSBHZW9tZXRyeSB0eXBlLlxuICogQHJldHVybiB7TW9kZX0gRHJhd2luZyBtb2RlLlxuICovXG5mdW5jdGlvbiBnZXRNb2RlKHR5cGUpIHtcbiAgdmFyIG1vZGU7XG4gIGlmICh0eXBlID09PSBHZW9tZXRyeVR5cGUuUE9JTlQgfHxcbiAgICAgIHR5cGUgPT09IEdlb21ldHJ5VHlwZS5NVUxUSV9QT0lOVCkge1xuICAgIG1vZGUgPSBNb2RlLlBPSU5UO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09IEdlb21ldHJ5VHlwZS5MSU5FX1NUUklORyB8fFxuICAgICAgdHlwZSA9PT0gR2VvbWV0cnlUeXBlLk1VTFRJX0xJTkVfU1RSSU5HKSB7XG4gICAgbW9kZSA9IE1vZGUuTElORV9TVFJJTkc7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gR2VvbWV0cnlUeXBlLlBPTFlHT04gfHxcbiAgICAgIHR5cGUgPT09IEdlb21ldHJ5VHlwZS5NVUxUSV9QT0xZR09OKSB7XG4gICAgbW9kZSA9IE1vZGUuUE9MWUdPTjtcbiAgfSBlbHNlIGlmICh0eXBlID09PSBHZW9tZXRyeVR5cGUuQ0lSQ0xFKSB7XG4gICAgbW9kZSA9IE1vZGUuQ0lSQ0xFO1xuICB9XG4gIHJldHVybiAoXG4gICAgLyoqIEB0eXBlIHshTW9kZX0gKi8gKG1vZGUpXG4gICk7XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgRHJhdztcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RHJhdy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vRXh0ZW50XG4gKi9cbmltcG9ydCBGZWF0dXJlIGZyb20gJy4uL0ZlYXR1cmUuanMnO1xuaW1wb3J0IE1hcEJyb3dzZXJFdmVudFR5cGUgZnJvbSAnLi4vTWFwQnJvd3NlckV2ZW50VHlwZS5qcyc7XG5pbXBvcnQge3NxdWFyZWREaXN0YW5jZVRvU2VnbWVudCwgY2xvc2VzdE9uU2VnbWVudCwgZGlzdGFuY2UgYXMgY29vcmRpbmF0ZURpc3RhbmNlLCBzcXVhcmVkRGlzdGFuY2UgYXMgc3F1YXJlZENvb3JkaW5hdGVEaXN0YW5jZX0gZnJvbSAnLi4vY29vcmRpbmF0ZS5qcyc7XG5pbXBvcnQgRXZlbnQgZnJvbSAnLi4vZXZlbnRzL0V2ZW50LmpzJztcbmltcG9ydCB7Ym91bmRpbmdFeHRlbnQsIGdldEFyZWF9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJy4uL2dlb20vR2VvbWV0cnlUeXBlLmpzJztcbmltcG9ydCBQb2ludCBmcm9tICcuLi9nZW9tL1BvaW50LmpzJztcbmltcG9ydCB7ZnJvbUV4dGVudCBhcyBwb2x5Z29uRnJvbUV4dGVudH0gZnJvbSAnLi4vZ2VvbS9Qb2x5Z29uLmpzJztcbmltcG9ydCBQb2ludGVySW50ZXJhY3Rpb24gZnJvbSAnLi9Qb2ludGVyLmpzJztcbmltcG9ydCBWZWN0b3JMYXllciBmcm9tICcuLi9sYXllci9WZWN0b3IuanMnO1xuaW1wb3J0IFZlY3RvclNvdXJjZSBmcm9tICcuLi9zb3VyY2UvVmVjdG9yLmpzJztcbmltcG9ydCB7Y3JlYXRlRWRpdGluZ1N0eWxlfSBmcm9tICcuLi9zdHlsZS9TdHlsZS5qcyc7XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIEluaXRpYWwgZXh0ZW50LiBEZWZhdWx0cyB0byBub1xuICogaW5pdGlhbCBleHRlbnQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlTGlrZX0gW2JveFN0eWxlXVxuICogU3R5bGUgZm9yIHRoZSBkcmF3biBleHRlbnQgYm94LiBEZWZhdWx0cyB0b1xuICoge0BsaW5rIG1vZHVsZTpvbC9zdHlsZS9TdHlsZX5jcmVhdGVFZGl0aW5nKClbJ1BvbHlnb24nXX1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcGl4ZWxUb2xlcmFuY2U9MTBdIFBpeGVsIHRvbGVyYW5jZSBmb3IgY29uc2lkZXJpbmcgdGhlXG4gKiBwb2ludGVyIGNsb3NlIGVub3VnaCB0byBhIHNlZ21lbnQgb3IgdmVydGV4IGZvciBlZGl0aW5nLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUxpa2V9IFtwb2ludGVyU3R5bGVdXG4gKiBTdHlsZSBmb3IgdGhlIGN1cnNvciB1c2VkIHRvIGRyYXcgdGhlIGV4dGVudC4gRGVmYXVsdHMgdG9cbiAqIHtAbGluayBtb2R1bGU6b2wvc3R5bGUvU3R5bGV+Y3JlYXRlRWRpdGluZygpWydQb2ludCddfVxuICogQHByb3BlcnR5IHtib29sZWFufSBbd3JhcFg9ZmFsc2VdIFdyYXAgdGhlIGRyYXduIGV4dGVudCBhY3Jvc3MgbXVsdGlwbGUgbWFwc1xuICogaW4gdGhlIFggZGlyZWN0aW9uPyBPbmx5IGFmZmVjdHMgdmlzdWFscywgbm90IGZ1bmN0aW9uYWxpdHkuXG4gKi9cblxuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbnZhciBFeHRlbnRFdmVudFR5cGUgPSB7XG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgdGhlIGV4dGVudCBpcyBjaGFuZ2VkXG4gICAqIEBldmVudCBFeHRlbnRFdmVudFR5cGUjZXh0ZW50Y2hhbmdlZFxuICAgKiBAYXBpXG4gICAqL1xuICBFWFRFTlRDSEFOR0VEOiAnZXh0ZW50Y2hhbmdlZCdcbn07XG5cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBFdmVudHMgZW1pdHRlZCBieSB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0V4dGVudH5FeHRlbnRJbnRlcmFjdGlvbn0gaW5zdGFuY2VzIGFyZVxuICogaW5zdGFuY2VzIG9mIHRoaXMgdHlwZS5cbiAqL1xudmFyIEV4dGVudEludGVyYWN0aW9uRXZlbnQgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChFdmVudCkge1xuICBmdW5jdGlvbiBFeHRlbnRJbnRlcmFjdGlvbkV2ZW50KGV4dGVudCkge1xuICAgIEV2ZW50LmNhbGwodGhpcywgRXh0ZW50RXZlbnRUeXBlLkVYVEVOVENIQU5HRUQpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgZXh0ZW50LlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLmV4dGVudCA9IGV4dGVudDtcbiAgfVxuXG4gIGlmICggRXZlbnQgKSBFeHRlbnRJbnRlcmFjdGlvbkV2ZW50Ll9fcHJvdG9fXyA9IEV2ZW50O1xuICBFeHRlbnRJbnRlcmFjdGlvbkV2ZW50LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEV2ZW50ICYmIEV2ZW50LnByb3RvdHlwZSApO1xuICBFeHRlbnRJbnRlcmFjdGlvbkV2ZW50LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEV4dGVudEludGVyYWN0aW9uRXZlbnQ7XG5cbiAgcmV0dXJuIEV4dGVudEludGVyYWN0aW9uRXZlbnQ7XG59KEV2ZW50KSk7XG5cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gZHJhdyBhIHZlY3RvciBib3ggYnkgY2xpY2tpbmcgYW5kIGRyYWdnaW5nIG9uIHRoZSBtYXAuXG4gKiBPbmNlIGRyYXduLCB0aGUgdmVjdG9yIGJveCBjYW4gYmUgbW9kaWZpZWQgYnkgZHJhZ2dpbmcgaXRzIHZlcnRpY2VzIG9yIGVkZ2VzLlxuICogVGhpcyBpbnRlcmFjdGlvbiBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgbW91c2UgZGV2aWNlcy5cbiAqXG4gKiBAZmlyZXMgRXZlbnRcbiAqIEBhcGlcbiAqL1xudmFyIEV4dGVudEludGVyYWN0aW9uID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoUG9pbnRlckludGVyYWN0aW9uKSB7XG4gIGZ1bmN0aW9uIEV4dGVudEludGVyYWN0aW9uKG9wdF9vcHRpb25zKSB7XG5cbiAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuXG4gICAgUG9pbnRlckludGVyYWN0aW9uLmNhbGwoLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1BvaW50ZXIuanNcIikuT3B0aW9uc30gKi8gdGhpcywgKG9wdGlvbnMpKTtcblxuICAgIC8qKlxuICAgICAqIEV4dGVudCBvZiB0aGUgZHJhd24gYm94XG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmV4dGVudF8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlciBmb3IgcG9pbnRlciBtb3ZlIGV2ZW50c1xuICAgICAqIEB0eXBlIHtmdW5jdGlvbiAoaW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTogaW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudHxudWxsfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5wb2ludGVySGFuZGxlcl8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogUGl4ZWwgdGhyZXNob2xkIHRvIHNuYXAgdG8gZXh0ZW50XG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMucGl4ZWxUb2xlcmFuY2VfID0gb3B0aW9ucy5waXhlbFRvbGVyYW5jZSAhPT0gdW5kZWZpbmVkID9cbiAgICAgIG9wdGlvbnMucGl4ZWxUb2xlcmFuY2UgOiAxMDtcblxuICAgIC8qKlxuICAgICAqIElzIHRoZSBwb2ludGVyIHNuYXBwZWQgdG8gYW4gZXh0ZW50IHZlcnRleFxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5zbmFwcGVkVG9WZXJ0ZXhfID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBGZWF0dXJlIGZvciBkaXNwbGF5aW5nIHRoZSB2aXNpYmxlIGV4dGVudFxuICAgICAqIEB0eXBlIHtGZWF0dXJlfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5leHRlbnRGZWF0dXJlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBGZWF0dXJlIGZvciBkaXNwbGF5aW5nIHRoZSB2aXNpYmxlIHBvaW50ZXJcbiAgICAgKiBAdHlwZSB7RmVhdHVyZX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMudmVydGV4RmVhdHVyZV8gPSBudWxsO1xuXG4gICAgaWYgKCFvcHRfb3B0aW9ucykge1xuICAgICAgb3B0X29wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMYXllciBmb3IgdGhlIGV4dGVudEZlYXR1cmVcbiAgICAgKiBAdHlwZSB7VmVjdG9yTGF5ZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmV4dGVudE92ZXJsYXlfID0gbmV3IFZlY3RvckxheWVyKHtcbiAgICAgIHNvdXJjZTogbmV3IFZlY3RvclNvdXJjZSh7XG4gICAgICAgIHVzZVNwYXRpYWxJbmRleDogZmFsc2UsXG4gICAgICAgIHdyYXBYOiAhIW9wdF9vcHRpb25zLndyYXBYXG4gICAgICB9KSxcbiAgICAgIHN0eWxlOiBvcHRfb3B0aW9ucy5ib3hTdHlsZSA/IG9wdF9vcHRpb25zLmJveFN0eWxlIDogZ2V0RGVmYXVsdEV4dGVudFN0eWxlRnVuY3Rpb24oKSxcbiAgICAgIHVwZGF0ZVdoaWxlQW5pbWF0aW5nOiB0cnVlLFxuICAgICAgdXBkYXRlV2hpbGVJbnRlcmFjdGluZzogdHJ1ZVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogTGF5ZXIgZm9yIHRoZSB2ZXJ0ZXhGZWF0dXJlXG4gICAgICogQHR5cGUge1ZlY3RvckxheWVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy52ZXJ0ZXhPdmVybGF5XyA9IG5ldyBWZWN0b3JMYXllcih7XG4gICAgICBzb3VyY2U6IG5ldyBWZWN0b3JTb3VyY2Uoe1xuICAgICAgICB1c2VTcGF0aWFsSW5kZXg6IGZhbHNlLFxuICAgICAgICB3cmFwWDogISFvcHRfb3B0aW9ucy53cmFwWFxuICAgICAgfSksXG4gICAgICBzdHlsZTogb3B0X29wdGlvbnMucG9pbnRlclN0eWxlID8gb3B0X29wdGlvbnMucG9pbnRlclN0eWxlIDogZ2V0RGVmYXVsdFBvaW50ZXJTdHlsZUZ1bmN0aW9uKCksXG4gICAgICB1cGRhdGVXaGlsZUFuaW1hdGluZzogdHJ1ZSxcbiAgICAgIHVwZGF0ZVdoaWxlSW50ZXJhY3Rpbmc6IHRydWVcbiAgICB9KTtcblxuICAgIGlmIChvcHRfb3B0aW9ucy5leHRlbnQpIHtcbiAgICAgIHRoaXMuc2V0RXh0ZW50KG9wdF9vcHRpb25zLmV4dGVudCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCBQb2ludGVySW50ZXJhY3Rpb24gKSBFeHRlbnRJbnRlcmFjdGlvbi5fX3Byb3RvX18gPSBQb2ludGVySW50ZXJhY3Rpb247XG4gIEV4dGVudEludGVyYWN0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFBvaW50ZXJJbnRlcmFjdGlvbiAmJiBQb2ludGVySW50ZXJhY3Rpb24ucHJvdG90eXBlICk7XG4gIEV4dGVudEludGVyYWN0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEV4dGVudEludGVyYWN0aW9uO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBjdXJzb3IgbG9jYXRpb25cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gbWFwIG1hcFxuICAgKiBAcmV0dXJucyB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfG51bGx9IHNuYXBwZWQgdmVydGV4IG9uIGV4dGVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgRXh0ZW50SW50ZXJhY3Rpb24ucHJvdG90eXBlLnNuYXBUb1ZlcnRleF8gPSBmdW5jdGlvbiBzbmFwVG9WZXJ0ZXhfIChwaXhlbCwgbWFwKSB7XG4gICAgdmFyIHBpeGVsQ29vcmRpbmF0ZSA9IG1hcC5nZXRDb29yZGluYXRlRnJvbVBpeGVsKHBpeGVsKTtcbiAgICB2YXIgc29ydEJ5RGlzdGFuY2UgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgICByZXR1cm4gc3F1YXJlZERpc3RhbmNlVG9TZWdtZW50KHBpeGVsQ29vcmRpbmF0ZSwgYSkgLVxuICAgICAgICAgIHNxdWFyZWREaXN0YW5jZVRvU2VnbWVudChwaXhlbENvb3JkaW5hdGUsIGIpO1xuICAgIH07XG4gICAgdmFyIGV4dGVudCA9IHRoaXMuZ2V0RXh0ZW50KCk7XG4gICAgaWYgKGV4dGVudCkge1xuICAgICAgLy9jb252ZXJ0IGV4dGVudHMgdG8gbGluZSBzZWdtZW50cyBhbmQgZmluZCB0aGUgc2VnbWVudCBjbG9zZXN0IHRvIHBpeGVsQ29vcmRpbmF0ZVxuICAgICAgdmFyIHNlZ21lbnRzID0gZ2V0U2VnbWVudHMoZXh0ZW50KTtcbiAgICAgIHNlZ21lbnRzLnNvcnQoc29ydEJ5RGlzdGFuY2UpO1xuICAgICAgdmFyIGNsb3Nlc3RTZWdtZW50ID0gc2VnbWVudHNbMF07XG5cbiAgICAgIHZhciB2ZXJ0ZXggPSAoY2xvc2VzdE9uU2VnbWVudChwaXhlbENvb3JkaW5hdGUsXG4gICAgICAgIGNsb3Nlc3RTZWdtZW50KSk7XG4gICAgICB2YXIgdmVydGV4UGl4ZWwgPSBtYXAuZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZSh2ZXJ0ZXgpO1xuXG4gICAgICAvL2lmIHRoZSBkaXN0YW5jZSBpcyB3aXRoaW4gdG9sZXJhbmNlLCBzbmFwIHRvIHRoZSBzZWdtZW50XG4gICAgICBpZiAoY29vcmRpbmF0ZURpc3RhbmNlKHBpeGVsLCB2ZXJ0ZXhQaXhlbCkgPD0gdGhpcy5waXhlbFRvbGVyYW5jZV8pIHtcbiAgICAgICAgLy90ZXN0IGlmIHdlIHNob3VsZCBmdXJ0aGVyIHNuYXAgdG8gYSB2ZXJ0ZXhcbiAgICAgICAgdmFyIHBpeGVsMSA9IG1hcC5nZXRQaXhlbEZyb21Db29yZGluYXRlKGNsb3Nlc3RTZWdtZW50WzBdKTtcbiAgICAgICAgdmFyIHBpeGVsMiA9IG1hcC5nZXRQaXhlbEZyb21Db29yZGluYXRlKGNsb3Nlc3RTZWdtZW50WzFdKTtcbiAgICAgICAgdmFyIHNxdWFyZWREaXN0MSA9IHNxdWFyZWRDb29yZGluYXRlRGlzdGFuY2UodmVydGV4UGl4ZWwsIHBpeGVsMSk7XG4gICAgICAgIHZhciBzcXVhcmVkRGlzdDIgPSBzcXVhcmVkQ29vcmRpbmF0ZURpc3RhbmNlKHZlcnRleFBpeGVsLCBwaXhlbDIpO1xuICAgICAgICB2YXIgZGlzdCA9IE1hdGguc3FydChNYXRoLm1pbihzcXVhcmVkRGlzdDEsIHNxdWFyZWREaXN0MikpO1xuICAgICAgICB0aGlzLnNuYXBwZWRUb1ZlcnRleF8gPSBkaXN0IDw9IHRoaXMucGl4ZWxUb2xlcmFuY2VfO1xuICAgICAgICBpZiAodGhpcy5zbmFwcGVkVG9WZXJ0ZXhfKSB7XG4gICAgICAgICAgdmVydGV4ID0gc3F1YXJlZERpc3QxID4gc3F1YXJlZERpc3QyID9cbiAgICAgICAgICAgIGNsb3Nlc3RTZWdtZW50WzFdIDogY2xvc2VzdFNlZ21lbnRbMF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZlcnRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBwb2ludGVyIG1vdmUgZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIEV4dGVudEludGVyYWN0aW9uLnByb3RvdHlwZS5oYW5kbGVQb2ludGVyTW92ZV8gPSBmdW5jdGlvbiBoYW5kbGVQb2ludGVyTW92ZV8gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHZhciBwaXhlbCA9IG1hcEJyb3dzZXJFdmVudC5waXhlbDtcbiAgICB2YXIgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcblxuICAgIHZhciB2ZXJ0ZXggPSB0aGlzLnNuYXBUb1ZlcnRleF8ocGl4ZWwsIG1hcCk7XG4gICAgaWYgKCF2ZXJ0ZXgpIHtcbiAgICAgIHZlcnRleCA9IG1hcC5nZXRDb29yZGluYXRlRnJvbVBpeGVsKHBpeGVsKTtcbiAgICB9XG4gICAgdGhpcy5jcmVhdGVPclVwZGF0ZVBvaW50ZXJGZWF0dXJlXyh2ZXJ0ZXgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBleHRlbnRcbiAgICogQHJldHVybnMge0ZlYXR1cmV9IGV4dGVudCBhcyBmZWF0cnVlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBFeHRlbnRJbnRlcmFjdGlvbi5wcm90b3R5cGUuY3JlYXRlT3JVcGRhdGVFeHRlbnRGZWF0dXJlXyA9IGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlRXh0ZW50RmVhdHVyZV8gKGV4dGVudCkge1xuICAgIHZhciBleHRlbnRGZWF0dXJlID0gdGhpcy5leHRlbnRGZWF0dXJlXztcblxuICAgIGlmICghZXh0ZW50RmVhdHVyZSkge1xuICAgICAgaWYgKCFleHRlbnQpIHtcbiAgICAgICAgZXh0ZW50RmVhdHVyZSA9IG5ldyBGZWF0dXJlKHt9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV4dGVudEZlYXR1cmUgPSBuZXcgRmVhdHVyZShwb2x5Z29uRnJvbUV4dGVudChleHRlbnQpKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZXh0ZW50RmVhdHVyZV8gPSBleHRlbnRGZWF0dXJlO1xuICAgICAgLyoqIEB0eXBlIHtWZWN0b3JTb3VyY2V9ICovICh0aGlzLmV4dGVudE92ZXJsYXlfLmdldFNvdXJjZSgpKS5hZGRGZWF0dXJlKGV4dGVudEZlYXR1cmUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWV4dGVudCkge1xuICAgICAgICBleHRlbnRGZWF0dXJlLnNldEdlb21ldHJ5KHVuZGVmaW5lZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBleHRlbnRGZWF0dXJlLnNldEdlb21ldHJ5KHBvbHlnb25Gcm9tRXh0ZW50KGV4dGVudCkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZXh0ZW50RmVhdHVyZTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHZlcnRleCBsb2NhdGlvbiBvZiBmZWF0dXJlXG4gICAqIEByZXR1cm5zIHtGZWF0dXJlfSB2ZXJ0ZXggYXMgZmVhdHVyZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgRXh0ZW50SW50ZXJhY3Rpb24ucHJvdG90eXBlLmNyZWF0ZU9yVXBkYXRlUG9pbnRlckZlYXR1cmVfID0gZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGVQb2ludGVyRmVhdHVyZV8gKHZlcnRleCkge1xuICAgIHZhciB2ZXJ0ZXhGZWF0dXJlID0gdGhpcy52ZXJ0ZXhGZWF0dXJlXztcbiAgICBpZiAoIXZlcnRleEZlYXR1cmUpIHtcbiAgICAgIHZlcnRleEZlYXR1cmUgPSBuZXcgRmVhdHVyZShuZXcgUG9pbnQodmVydGV4KSk7XG4gICAgICB0aGlzLnZlcnRleEZlYXR1cmVfID0gdmVydGV4RmVhdHVyZTtcbiAgICAgIC8qKiBAdHlwZSB7VmVjdG9yU291cmNlfSAqLyAodGhpcy52ZXJ0ZXhPdmVybGF5Xy5nZXRTb3VyY2UoKSkuYWRkRmVhdHVyZSh2ZXJ0ZXhGZWF0dXJlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGdlb21ldHJ5ID0gLyoqIEB0eXBlIHtQb2ludH0gKi8gKHZlcnRleEZlYXR1cmUuZ2V0R2VvbWV0cnkoKSk7XG4gICAgICBnZW9tZXRyeS5zZXRDb29yZGluYXRlcyh2ZXJ0ZXgpO1xuICAgIH1cbiAgICByZXR1cm4gdmVydGV4RmVhdHVyZTtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIEV4dGVudEludGVyYWN0aW9uLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uIGhhbmRsZUV2ZW50IChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBpZiAoISgvKiogQHR5cGUge2ltcG9ydChcIi4uL01hcEJyb3dzZXJQb2ludGVyRXZlbnQuanNcIikuZGVmYXVsdH0gKi8gKG1hcEJyb3dzZXJFdmVudCkucG9pbnRlckV2ZW50KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vZGlzcGxheSBwb2ludGVyIChpZiBub3QgZHJhZ2dpbmcpXG4gICAgaWYgKG1hcEJyb3dzZXJFdmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUk1PVkUgJiYgIXRoaXMuaGFuZGxpbmdEb3duVXBTZXF1ZW5jZSkge1xuICAgICAgdGhpcy5oYW5kbGVQb2ludGVyTW92ZV8obWFwQnJvd3NlckV2ZW50KTtcbiAgICB9XG4gICAgLy9jYWxsIHBvaW50ZXIgdG8gZGV0ZXJtaW5lIHVwL2Rvd24vZHJhZ1xuICAgIFBvaW50ZXJJbnRlcmFjdGlvbi5wcm90b3R5cGUuaGFuZGxlRXZlbnQuY2FsbCh0aGlzLCBtYXBCcm93c2VyRXZlbnQpO1xuICAgIC8vcmV0dXJuIGZhbHNlIHRvIHN0b3AgcHJvcGFnYXRpb25cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBFeHRlbnRJbnRlcmFjdGlvbi5wcm90b3R5cGUuaGFuZGxlRG93bkV2ZW50ID0gZnVuY3Rpb24gaGFuZGxlRG93bkV2ZW50IChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICB2YXIgcGl4ZWwgPSBtYXBCcm93c2VyRXZlbnQucGl4ZWw7XG4gICAgdmFyIG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG5cbiAgICB2YXIgZXh0ZW50ID0gdGhpcy5nZXRFeHRlbnQoKTtcbiAgICB2YXIgdmVydGV4ID0gdGhpcy5zbmFwVG9WZXJ0ZXhfKHBpeGVsLCBtYXApO1xuXG4gICAgLy9maW5kIHRoZSBleHRlbnQgY29ybmVyIG9wcG9zaXRlIHRoZSBwYXNzZWQgY29ybmVyXG4gICAgdmFyIGdldE9wcG9zaW5nUG9pbnQgPSBmdW5jdGlvbihwb2ludCkge1xuICAgICAgdmFyIHhfID0gbnVsbDtcbiAgICAgIHZhciB5XyA9IG51bGw7XG4gICAgICBpZiAocG9pbnRbMF0gPT0gZXh0ZW50WzBdKSB7XG4gICAgICAgIHhfID0gZXh0ZW50WzJdO1xuICAgICAgfSBlbHNlIGlmIChwb2ludFswXSA9PSBleHRlbnRbMl0pIHtcbiAgICAgICAgeF8gPSBleHRlbnRbMF07XG4gICAgICB9XG4gICAgICBpZiAocG9pbnRbMV0gPT0gZXh0ZW50WzFdKSB7XG4gICAgICAgIHlfID0gZXh0ZW50WzNdO1xuICAgICAgfSBlbHNlIGlmIChwb2ludFsxXSA9PSBleHRlbnRbM10pIHtcbiAgICAgICAgeV8gPSBleHRlbnRbMV07XG4gICAgICB9XG4gICAgICBpZiAoeF8gIT09IG51bGwgJiYgeV8gIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFt4XywgeV9dO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBpZiAodmVydGV4ICYmIGV4dGVudCkge1xuICAgICAgdmFyIHggPSAodmVydGV4WzBdID09IGV4dGVudFswXSB8fCB2ZXJ0ZXhbMF0gPT0gZXh0ZW50WzJdKSA/IHZlcnRleFswXSA6IG51bGw7XG4gICAgICB2YXIgeSA9ICh2ZXJ0ZXhbMV0gPT0gZXh0ZW50WzFdIHx8IHZlcnRleFsxXSA9PSBleHRlbnRbM10pID8gdmVydGV4WzFdIDogbnVsbDtcblxuICAgICAgLy9zbmFwIHRvIHBvaW50XG4gICAgICBpZiAoeCAhPT0gbnVsbCAmJiB5ICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMucG9pbnRlckhhbmRsZXJfID0gZ2V0UG9pbnRIYW5kbGVyKGdldE9wcG9zaW5nUG9pbnQodmVydGV4KSk7XG4gICAgICAvL3NuYXAgdG8gZWRnZVxuICAgICAgfSBlbHNlIGlmICh4ICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMucG9pbnRlckhhbmRsZXJfID0gZ2V0RWRnZUhhbmRsZXIoXG4gICAgICAgICAgZ2V0T3Bwb3NpbmdQb2ludChbeCwgZXh0ZW50WzFdXSksXG4gICAgICAgICAgZ2V0T3Bwb3NpbmdQb2ludChbeCwgZXh0ZW50WzNdXSlcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoeSAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLnBvaW50ZXJIYW5kbGVyXyA9IGdldEVkZ2VIYW5kbGVyKFxuICAgICAgICAgIGdldE9wcG9zaW5nUG9pbnQoW2V4dGVudFswXSwgeV0pLFxuICAgICAgICAgIGdldE9wcG9zaW5nUG9pbnQoW2V4dGVudFsyXSwgeV0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgLy9ubyBzbmFwIC0gbmV3IGJib3hcbiAgICB9IGVsc2Uge1xuICAgICAgdmVydGV4ID0gbWFwLmdldENvb3JkaW5hdGVGcm9tUGl4ZWwocGl4ZWwpO1xuICAgICAgdGhpcy5zZXRFeHRlbnQoW3ZlcnRleFswXSwgdmVydGV4WzFdLCB2ZXJ0ZXhbMF0sIHZlcnRleFsxXV0pO1xuICAgICAgdGhpcy5wb2ludGVySGFuZGxlcl8gPSBnZXRQb2ludEhhbmRsZXIodmVydGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7IC8vZXZlbnQgaGFuZGxlZDsgc3RhcnQgZG93bnVwIHNlcXVlbmNlXG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBFeHRlbnRJbnRlcmFjdGlvbi5wcm90b3R5cGUuaGFuZGxlRHJhZ0V2ZW50ID0gZnVuY3Rpb24gaGFuZGxlRHJhZ0V2ZW50IChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBpZiAodGhpcy5wb2ludGVySGFuZGxlcl8pIHtcbiAgICAgIHZhciBwaXhlbENvb3JkaW5hdGUgPSBtYXBCcm93c2VyRXZlbnQuY29vcmRpbmF0ZTtcbiAgICAgIHRoaXMuc2V0RXh0ZW50KHRoaXMucG9pbnRlckhhbmRsZXJfKHBpeGVsQ29vcmRpbmF0ZSkpO1xuICAgICAgdGhpcy5jcmVhdGVPclVwZGF0ZVBvaW50ZXJGZWF0dXJlXyhwaXhlbENvb3JkaW5hdGUpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIEV4dGVudEludGVyYWN0aW9uLnByb3RvdHlwZS5oYW5kbGVVcEV2ZW50ID0gZnVuY3Rpb24gaGFuZGxlVXBFdmVudCAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgdGhpcy5wb2ludGVySGFuZGxlcl8gPSBudWxsO1xuICAgIC8vSWYgYmJveCBpcyB6ZXJvIGFyZWEsIHNldCB0byBudWxsO1xuICAgIHZhciBleHRlbnQgPSB0aGlzLmdldEV4dGVudCgpO1xuICAgIGlmICghZXh0ZW50IHx8IGdldEFyZWEoZXh0ZW50KSA9PT0gMCkge1xuICAgICAgdGhpcy5zZXRFeHRlbnQobnVsbCk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTsgLy9TdG9wIGhhbmRsaW5nIGRvd251cCBzZXF1ZW5jZVxuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgRXh0ZW50SW50ZXJhY3Rpb24ucHJvdG90eXBlLnNldE1hcCA9IGZ1bmN0aW9uIHNldE1hcCAobWFwKSB7XG4gICAgdGhpcy5leHRlbnRPdmVybGF5Xy5zZXRNYXAobWFwKTtcbiAgICB0aGlzLnZlcnRleE92ZXJsYXlfLnNldE1hcChtYXApO1xuICAgIFBvaW50ZXJJbnRlcmFjdGlvbi5wcm90b3R5cGUuc2V0TWFwLmNhbGwodGhpcywgbWFwKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY3VycmVudCBkcmF3biBleHRlbnQgaW4gdGhlIHZpZXcgcHJvamVjdGlvblxuICAgKlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBEcmF3biBleHRlbnQgaW4gdGhlIHZpZXcgcHJvamVjdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgRXh0ZW50SW50ZXJhY3Rpb24ucHJvdG90eXBlLmdldEV4dGVudCA9IGZ1bmN0aW9uIGdldEV4dGVudCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXh0ZW50XztcbiAgfTtcblxuICAvKipcbiAgICogTWFudWFsbHkgc2V0cyB0aGUgZHJhd24gZXh0ZW50LCB1c2luZyB0aGUgdmlldyBwcm9qZWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnRcbiAgICogQGFwaVxuICAgKi9cbiAgRXh0ZW50SW50ZXJhY3Rpb24ucHJvdG90eXBlLnNldEV4dGVudCA9IGZ1bmN0aW9uIHNldEV4dGVudCAoZXh0ZW50KSB7XG4gICAgLy9OdWxsIGV4dGVudCBtZWFucyBubyBiYm94XG4gICAgdGhpcy5leHRlbnRfID0gZXh0ZW50ID8gZXh0ZW50IDogbnVsbDtcbiAgICB0aGlzLmNyZWF0ZU9yVXBkYXRlRXh0ZW50RmVhdHVyZV8oZXh0ZW50KTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEV4dGVudEludGVyYWN0aW9uRXZlbnQodGhpcy5leHRlbnRfKSk7XG4gIH07XG5cbiAgcmV0dXJuIEV4dGVudEludGVyYWN0aW9uO1xufShQb2ludGVySW50ZXJhY3Rpb24pKTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkZWZhdWx0IHN0eWxlIGZvciB0aGUgZHJhd24gYmJveFxuICpcbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlRnVuY3Rpb259IERlZmF1bHQgRXh0ZW50IHN0eWxlXG4gKi9cbmZ1bmN0aW9uIGdldERlZmF1bHRFeHRlbnRTdHlsZUZ1bmN0aW9uKCkge1xuICB2YXIgc3R5bGUgPSBjcmVhdGVFZGl0aW5nU3R5bGUoKTtcbiAgcmV0dXJuIGZ1bmN0aW9uKGZlYXR1cmUsIHJlc29sdXRpb24pIHtcbiAgICByZXR1cm4gc3R5bGVbR2VvbWV0cnlUeXBlLlBPTFlHT05dO1xuICB9O1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGRlZmF1bHQgc3R5bGUgZm9yIHRoZSBwb2ludGVyXG4gKlxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVGdW5jdGlvbn0gRGVmYXVsdCBwb2ludGVyIHN0eWxlXG4gKi9cbmZ1bmN0aW9uIGdldERlZmF1bHRQb2ludGVyU3R5bGVGdW5jdGlvbigpIHtcbiAgdmFyIHN0eWxlID0gY3JlYXRlRWRpdGluZ1N0eWxlKCk7XG4gIHJldHVybiBmdW5jdGlvbihmZWF0dXJlLCByZXNvbHV0aW9uKSB7XG4gICAgcmV0dXJuIHN0eWxlW0dlb21ldHJ5VHlwZS5QT0lOVF07XG4gIH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGZpeGVkUG9pbnQgY29ybmVyIHRoYXQgd2lsbCBiZSB1bmNoYW5nZWQgaW4gdGhlIG5ldyBleHRlbnRcbiAqIEByZXR1cm5zIHtmdW5jdGlvbiAoaW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTogaW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXZlbnQgaGFuZGxlclxuICovXG5mdW5jdGlvbiBnZXRQb2ludEhhbmRsZXIoZml4ZWRQb2ludCkge1xuICByZXR1cm4gZnVuY3Rpb24ocG9pbnQpIHtcbiAgICByZXR1cm4gYm91bmRpbmdFeHRlbnQoW2ZpeGVkUG9pbnQsIHBvaW50XSk7XG4gIH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGZpeGVkUDEgZmlyc3QgY29ybmVyIHRoYXQgd2lsbCBiZSB1bmNoYW5nZWQgaW4gdGhlIG5ldyBleHRlbnRcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBmaXhlZFAyIHNlY29uZCBjb3JuZXIgdGhhdCB3aWxsIGJlIHVuY2hhbmdlZCBpbiB0aGUgbmV3IGV4dGVudFxuICogQHJldHVybnMge2Z1bmN0aW9uIChpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUpOiBpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fG51bGx9IGV2ZW50IGhhbmRsZXJcbiAqL1xuZnVuY3Rpb24gZ2V0RWRnZUhhbmRsZXIoZml4ZWRQMSwgZml4ZWRQMikge1xuICBpZiAoZml4ZWRQMVswXSA9PSBmaXhlZFAyWzBdKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgICByZXR1cm4gYm91bmRpbmdFeHRlbnQoW2ZpeGVkUDEsIFtwb2ludFswXSwgZml4ZWRQMlsxXV1dKTtcbiAgICB9O1xuICB9IGVsc2UgaWYgKGZpeGVkUDFbMV0gPT0gZml4ZWRQMlsxXSkge1xuICAgIHJldHVybiBmdW5jdGlvbihwb2ludCkge1xuICAgICAgcmV0dXJuIGJvdW5kaW5nRXh0ZW50KFtmaXhlZFAxLCBbZml4ZWRQMlswXSwgcG9pbnRbMV1dXSk7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IGV4dGVudFxuICogQHJldHVybnMge0FycmF5PEFycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+fSBleHRlbnQgbGluZSBzZWdtZW50c1xuICovXG5mdW5jdGlvbiBnZXRTZWdtZW50cyhleHRlbnQpIHtcbiAgcmV0dXJuIFtcbiAgICBbW2V4dGVudFswXSwgZXh0ZW50WzFdXSwgW2V4dGVudFswXSwgZXh0ZW50WzNdXV0sXG4gICAgW1tleHRlbnRbMF0sIGV4dGVudFszXV0sIFtleHRlbnRbMl0sIGV4dGVudFszXV1dLFxuICAgIFtbZXh0ZW50WzJdLCBleHRlbnRbM11dLCBbZXh0ZW50WzJdLCBleHRlbnRbMV1dXSxcbiAgICBbW2V4dGVudFsyXSwgZXh0ZW50WzFdXSwgW2V4dGVudFswXSwgZXh0ZW50WzFdXV1cbiAgXTtcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBFeHRlbnRJbnRlcmFjdGlvbjtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXh0ZW50LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9Nb2RpZnlcbiAqL1xuaW1wb3J0IHtnZXRVaWR9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IENvbGxlY3Rpb24gZnJvbSAnLi4vQ29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgQ29sbGVjdGlvbkV2ZW50VHlwZSBmcm9tICcuLi9Db2xsZWN0aW9uRXZlbnRUeXBlLmpzJztcbmltcG9ydCBGZWF0dXJlIGZyb20gJy4uL0ZlYXR1cmUuanMnO1xuaW1wb3J0IE1hcEJyb3dzZXJFdmVudFR5cGUgZnJvbSAnLi4vTWFwQnJvd3NlckV2ZW50VHlwZS5qcyc7XG5pbXBvcnQge2VxdWFsc30gZnJvbSAnLi4vYXJyYXkuanMnO1xuaW1wb3J0IHtlcXVhbHMgYXMgY29vcmRpbmF0ZXNFcXVhbCwgZGlzdGFuY2UgYXMgY29vcmRpbmF0ZURpc3RhbmNlLCBzcXVhcmVkRGlzdGFuY2UgYXMgc3F1YXJlZENvb3JkaW5hdGVEaXN0YW5jZSwgc3F1YXJlZERpc3RhbmNlVG9TZWdtZW50LCBjbG9zZXN0T25TZWdtZW50fSBmcm9tICcuLi9jb29yZGluYXRlLmpzJztcbmltcG9ydCB7bGlzdGVuLCB1bmxpc3Rlbn0gZnJvbSAnLi4vZXZlbnRzLmpzJztcbmltcG9ydCBFdmVudCBmcm9tICcuLi9ldmVudHMvRXZlbnQuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7YWx3YXlzLCBwcmltYXJ5QWN0aW9uLCBhbHRLZXlPbmx5LCBzaW5nbGVDbGlja30gZnJvbSAnLi4vZXZlbnRzL2NvbmRpdGlvbi5qcyc7XG5pbXBvcnQge2JvdW5kaW5nRXh0ZW50LCBidWZmZXIsIGNyZWF0ZU9yVXBkYXRlRnJvbUNvb3JkaW5hdGV9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJy4uL2dlb20vR2VvbWV0cnlUeXBlLmpzJztcbmltcG9ydCBQb2ludCBmcm9tICcuLi9nZW9tL1BvaW50LmpzJztcbmltcG9ydCBQb2ludGVySW50ZXJhY3Rpb24gZnJvbSAnLi9Qb2ludGVyLmpzJztcbmltcG9ydCBWZWN0b3JMYXllciBmcm9tICcuLi9sYXllci9WZWN0b3IuanMnO1xuaW1wb3J0IFZlY3RvclNvdXJjZSBmcm9tICcuLi9zb3VyY2UvVmVjdG9yLmpzJztcbmltcG9ydCBWZWN0b3JFdmVudFR5cGUgZnJvbSAnLi4vc291cmNlL1ZlY3RvckV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgUkJ1c2ggZnJvbSAnLi4vc3RydWN0cy9SQnVzaC5qcyc7XG5pbXBvcnQge2NyZWF0ZUVkaXRpbmdTdHlsZX0gZnJvbSAnLi4vc3R5bGUvU3R5bGUuanMnO1xuXG5cbi8qKlxuICogVGhlIHNlZ21lbnQgaW5kZXggYXNzaWduZWQgdG8gYSBjaXJjbGUncyBjZW50ZXIgd2hlblxuICogYnJlYWtpbmcgdXAgYSBjaXJjbGUgaW50byBNb2RpZnlTZWdtZW50RGF0YVR5cGUgc2VnbWVudHMuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG52YXIgQ0lSQ0xFX0NFTlRFUl9JTkRFWCA9IDA7XG5cbi8qKlxuICogVGhlIHNlZ21lbnQgaW5kZXggYXNzaWduZWQgdG8gYSBjaXJjbGUncyBjaXJjdW1mZXJlbmNlIHdoZW5cbiAqIGJyZWFraW5nIHVwIGEgY2lyY2xlIGludG8gTW9kaWZ5U2VnbWVudERhdGFUeXBlIHNlZ21lbnRzLlxuICogQHR5cGUge251bWJlcn1cbiAqL1xudmFyIENJUkNMRV9DSVJDVU1GRVJFTkNFX0lOREVYID0gMTtcblxuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbnZhciBNb2RpZnlFdmVudFR5cGUgPSB7XG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgdXBvbiBmZWF0dXJlIG1vZGlmaWNhdGlvbiBzdGFydFxuICAgKiBAZXZlbnQgTW9kaWZ5RXZlbnQjbW9kaWZ5c3RhcnRcbiAgICogQGFwaVxuICAgKi9cbiAgTU9ESUZZU1RBUlQ6ICdtb2RpZnlzdGFydCcsXG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgdXBvbiBmZWF0dXJlIG1vZGlmaWNhdGlvbiBlbmRcbiAgICogQGV2ZW50IE1vZGlmeUV2ZW50I21vZGlmeWVuZFxuICAgKiBAYXBpXG4gICAqL1xuICBNT0RJRllFTkQ6ICdtb2RpZnllbmQnXG59O1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gU2VnbWVudERhdGFcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW2RlcHRoXVxuICogQHByb3BlcnR5IHtGZWF0dXJlfSBmZWF0dXJlXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbaW5kZXhdXG4gKiBAcHJvcGVydHkge0FycmF5PGltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnQ+fSBzZWdtZW50XG4gKiBAcHJvcGVydHkge0FycmF5PFNlZ21lbnREYXRhPn0gW2ZlYXR1cmVTZWdtZW50c11cbiAqL1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn0gW2NvbmRpdGlvbl0gQSBmdW5jdGlvbiB0aGF0XG4gKiB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGFcbiAqIGJvb2xlYW4gdG8gaW5kaWNhdGUgd2hldGhlciB0aGF0IGV2ZW50IHdpbGwgYmUgY29uc2lkZXJlZCB0byBhZGQgb3IgbW92ZSBhXG4gKiB2ZXJ0ZXggdG8gdGhlIHNrZXRjaC4gRGVmYXVsdCBpc1xuICoge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9ufnByaW1hcnlBY3Rpb259LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn0gW2RlbGV0ZUNvbmRpdGlvbl0gQSBmdW5jdGlvblxuICogdGhhdCB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGFcbiAqIGJvb2xlYW4gdG8gaW5kaWNhdGUgd2hldGhlciB0aGF0IGV2ZW50IHNob3VsZCBiZSBoYW5kbGVkLiBCeSBkZWZhdWx0LFxuICoge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9ufnNpbmdsZUNsaWNrfSB3aXRoXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb25+YWx0S2V5T25seX0gcmVzdWx0cyBpbiBhIHZlcnRleCBkZWxldGlvbi5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFtpbnNlcnRWZXJ0ZXhDb25kaXRpb25dIEFcbiAqIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fSBhbmRcbiAqIHJldHVybnMgYSBib29sZWFuIHRvIGluZGljYXRlIHdoZXRoZXIgYSBuZXcgdmVydGV4IGNhbiBiZSBhZGRlZCB0byB0aGUgc2tldGNoXG4gKiBmZWF0dXJlcy4gRGVmYXVsdCBpcyB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb25+YWx3YXlzfS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcGl4ZWxUb2xlcmFuY2U9MTBdIFBpeGVsIHRvbGVyYW5jZSBmb3IgY29uc2lkZXJpbmcgdGhlXG4gKiBwb2ludGVyIGNsb3NlIGVub3VnaCB0byBhIHNlZ21lbnQgb3IgdmVydGV4IGZvciBlZGl0aW5nLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUxpa2V9IFtzdHlsZV1cbiAqIFN0eWxlIHVzZWQgZm9yIHRoZSBmZWF0dXJlcyBiZWluZyBtb2RpZmllZC4gQnkgZGVmYXVsdCB0aGUgZGVmYXVsdCBlZGl0XG4gKiBzdHlsZSBpcyB1c2VkIChzZWUge0BsaW5rIG1vZHVsZTpvbC9zdHlsZX0pLlxuICogQHByb3BlcnR5IHtWZWN0b3JTb3VyY2V9IFtzb3VyY2VdIFRoZSB2ZWN0b3Igc291cmNlIHdpdGhcbiAqIGZlYXR1cmVzIHRvIG1vZGlmeS4gIElmIGEgdmVjdG9yIHNvdXJjZSBpcyBub3QgcHJvdmlkZWQsIGEgZmVhdHVyZSBjb2xsZWN0aW9uXG4gKiBtdXN0IGJlIHByb3ZpZGVkIHdpdGggdGhlIGZlYXR1cmVzIG9wdGlvbi5cbiAqIEBwcm9wZXJ0eSB7Q29sbGVjdGlvbjxGZWF0dXJlPn0gW2ZlYXR1cmVzXVxuICogVGhlIGZlYXR1cmVzIHRoZSBpbnRlcmFjdGlvbiB3b3JrcyBvbi4gIElmIGEgZmVhdHVyZSBjb2xsZWN0aW9uIGlzIG5vdFxuICogcHJvdmlkZWQsIGEgdmVjdG9yIHNvdXJjZSBtdXN0IGJlIHByb3ZpZGVkIHdpdGggdGhlIHNvdXJjZSBvcHRpb24uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3cmFwWD1mYWxzZV0gV3JhcCB0aGUgd29ybGQgaG9yaXpvbnRhbGx5IG9uIHRoZSBza2V0Y2hcbiAqIG92ZXJsYXkuXG4gKi9cblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEV2ZW50cyBlbWl0dGVkIGJ5IHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vTW9kaWZ5fk1vZGlmeX0gaW5zdGFuY2VzIGFyZVxuICogaW5zdGFuY2VzIG9mIHRoaXMgdHlwZS5cbiAqL1xuZXhwb3J0IHZhciBNb2RpZnlFdmVudCA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEV2ZW50KSB7XG4gIGZ1bmN0aW9uIE1vZGlmeUV2ZW50KHR5cGUsIGZlYXR1cmVzLCBtYXBCcm93c2VyUG9pbnRlckV2ZW50KSB7XG4gICAgRXZlbnQuY2FsbCh0aGlzLCB0eXBlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmZWF0dXJlcyBiZWluZyBtb2RpZmllZC5cbiAgICAgKiBAdHlwZSB7Q29sbGVjdGlvbjxGZWF0dXJlPn1cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgdGhpcy5mZWF0dXJlcyA9IGZlYXR1cmVzO1xuXG4gICAgLyoqXG4gICAgICogQXNzb2NpYXRlZCB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH0uXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLm1hcEJyb3dzZXJFdmVudCA9IG1hcEJyb3dzZXJQb2ludGVyRXZlbnQ7XG5cbiAgfVxuXG4gIGlmICggRXZlbnQgKSBNb2RpZnlFdmVudC5fX3Byb3RvX18gPSBFdmVudDtcbiAgTW9kaWZ5RXZlbnQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZlbnQgJiYgRXZlbnQucHJvdG90eXBlICk7XG4gIE1vZGlmeUV2ZW50LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE1vZGlmeUV2ZW50O1xuXG4gIHJldHVybiBNb2RpZnlFdmVudDtcbn0oRXZlbnQpKTtcblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEludGVyYWN0aW9uIGZvciBtb2RpZnlpbmcgZmVhdHVyZSBnZW9tZXRyaWVzLiAgVG8gbW9kaWZ5IGZlYXR1cmVzIHRoYXQgaGF2ZVxuICogYmVlbiBhZGRlZCB0byBhbiBleGlzdGluZyBzb3VyY2UsIGNvbnN0cnVjdCB0aGUgbW9kaWZ5IGludGVyYWN0aW9uIHdpdGggdGhlXG4gKiBgc291cmNlYCBvcHRpb24uICBJZiB5b3Ugd2FudCB0byBtb2RpZnkgZmVhdHVyZXMgaW4gYSBjb2xsZWN0aW9uIChmb3IgZXhhbXBsZSxcbiAqIHRoZSBjb2xsZWN0aW9uIHVzZWQgYnkgYSBzZWxlY3QgaW50ZXJhY3Rpb24pLCBjb25zdHJ1Y3QgdGhlIGludGVyYWN0aW9uIHdpdGhcbiAqIHRoZSBgZmVhdHVyZXNgIG9wdGlvbi4gIFRoZSBpbnRlcmFjdGlvbiBtdXN0IGJlIGNvbnN0cnVjdGVkIHdpdGggZWl0aGVyIGFcbiAqIGBzb3VyY2VgIG9yIGBmZWF0dXJlc2Agb3B0aW9uLlxuICpcbiAqIEJ5IGRlZmF1bHQsIHRoZSBpbnRlcmFjdGlvbiB3aWxsIGFsbG93IGRlbGV0aW9uIG9mIHZlcnRpY2VzIHdoZW4gdGhlIGBhbHRgXG4gKiBrZXkgaXMgcHJlc3NlZC4gIFRvIGNvbmZpZ3VyZSB0aGUgaW50ZXJhY3Rpb24gd2l0aCBhIGRpZmZlcmVudCBjb25kaXRpb25cbiAqIGZvciBkZWxldGlvbiwgdXNlIHRoZSBgZGVsZXRlQ29uZGl0aW9uYCBvcHRpb24uXG4gKiBAZmlyZXMgTW9kaWZ5RXZlbnRcbiAqIEBhcGlcbiAqL1xudmFyIE1vZGlmeSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFBvaW50ZXJJbnRlcmFjdGlvbikge1xuICBmdW5jdGlvbiBNb2RpZnkob3B0aW9ucykge1xuXG4gICAgUG9pbnRlckludGVyYWN0aW9uLmNhbGwoLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1BvaW50ZXIuanNcIikuT3B0aW9uc30gKi8gdGhpcywgKG9wdGlvbnMpKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuY29uZGl0aW9uXyA9IG9wdGlvbnMuY29uZGl0aW9uID8gb3B0aW9ucy5jb25kaXRpb24gOiBwcmltYXJ5QWN0aW9uO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgQnJvd3NlciBldmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBDb21iaW5lZCBjb25kaXRpb24gcmVzdWx0LlxuICAgICAqL1xuICAgIHRoaXMuZGVmYXVsdERlbGV0ZUNvbmRpdGlvbl8gPSBmdW5jdGlvbihtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgIHJldHVybiBhbHRLZXlPbmx5KG1hcEJyb3dzZXJFdmVudCkgJiYgc2luZ2xlQ2xpY2sobWFwQnJvd3NlckV2ZW50KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5kZWxldGVDb25kaXRpb25fID0gb3B0aW9ucy5kZWxldGVDb25kaXRpb24gP1xuICAgICAgb3B0aW9ucy5kZWxldGVDb25kaXRpb24gOiB0aGlzLmRlZmF1bHREZWxldGVDb25kaXRpb25fO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5pbnNlcnRWZXJ0ZXhDb25kaXRpb25fID0gb3B0aW9ucy5pbnNlcnRWZXJ0ZXhDb25kaXRpb24gP1xuICAgICAgb3B0aW9ucy5pbnNlcnRWZXJ0ZXhDb25kaXRpb24gOiBhbHdheXM7XG5cbiAgICAvKipcbiAgICAgKiBFZGl0aW5nIHZlcnRleC5cbiAgICAgKiBAdHlwZSB7RmVhdHVyZX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMudmVydGV4RmVhdHVyZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogU2VnbWVudHMgaW50ZXJzZWN0aW5nIHtAbGluayB0aGlzLnZlcnRleEZlYXR1cmVffSBieSBzZWdtZW50IHVpZC5cbiAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgYm9vbGVhbj59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnZlcnRleFNlZ21lbnRzXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmxhc3RQaXhlbF8gPSBbMCwgMF07XG5cbiAgICAvKipcbiAgICAgKiBUcmFja3MgaWYgdGhlIG5leHQgYHNpbmdsZWNsaWNrYCBldmVudCBzaG91bGQgYmUgaWdub3JlZCB0byBwcmV2ZW50XG4gICAgICogYWNjaWRlbnRhbCBkZWxldGlvbiByaWdodCBhZnRlciB2ZXJ0ZXggY3JlYXRpb24uXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmlnbm9yZU5leHRTaW5nbGVDbGlja18gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5tb2RpZmllZF8gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFNlZ21lbnQgUlRyZWUgZm9yIGVhY2ggbGF5ZXJcbiAgICAgKiBAdHlwZSB7UkJ1c2g8U2VnbWVudERhdGE+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5yQnVzaF8gPSBuZXcgUkJ1c2goKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnBpeGVsVG9sZXJhbmNlXyA9IG9wdGlvbnMucGl4ZWxUb2xlcmFuY2UgIT09IHVuZGVmaW5lZCA/XG4gICAgICBvcHRpb25zLnBpeGVsVG9sZXJhbmNlIDogMTA7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuc25hcHBlZFRvVmVydGV4XyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGUgd2hldGhlciB0aGUgaW50ZXJhY3Rpb24gaXMgY3VycmVudGx5IGNoYW5naW5nIGEgZmVhdHVyZSdzXG4gICAgICogY29vcmRpbmF0ZXMuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmNoYW5naW5nRmVhdHVyZV8gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZHJhZ1NlZ21lbnRzXyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogRHJhdyBvdmVybGF5IHdoZXJlIHNrZXRjaCBmZWF0dXJlcyBhcmUgZHJhd24uXG4gICAgICogQHR5cGUge1ZlY3RvckxheWVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5vdmVybGF5XyA9IG5ldyBWZWN0b3JMYXllcih7XG4gICAgICBzb3VyY2U6IG5ldyBWZWN0b3JTb3VyY2Uoe1xuICAgICAgICB1c2VTcGF0aWFsSW5kZXg6IGZhbHNlLFxuICAgICAgICB3cmFwWDogISFvcHRpb25zLndyYXBYXG4gICAgICB9KSxcbiAgICAgIHN0eWxlOiBvcHRpb25zLnN0eWxlID8gb3B0aW9ucy5zdHlsZSA6XG4gICAgICAgIGdldERlZmF1bHRTdHlsZUZ1bmN0aW9uKCksXG4gICAgICB1cGRhdGVXaGlsZUFuaW1hdGluZzogdHJ1ZSxcbiAgICAgIHVwZGF0ZVdoaWxlSW50ZXJhY3Rpbmc6IHRydWVcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBjb25zdFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBmdW5jdGlvbihGZWF0dXJlLCBpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHQpPn1cbiAgICAgKi9cbiAgICB0aGlzLlNFR01FTlRfV1JJVEVSU18gPSB7XG4gICAgICAnUG9pbnQnOiB0aGlzLndyaXRlUG9pbnRHZW9tZXRyeV8sXG4gICAgICAnTGluZVN0cmluZyc6IHRoaXMud3JpdGVMaW5lU3RyaW5nR2VvbWV0cnlfLFxuICAgICAgJ0xpbmVhclJpbmcnOiB0aGlzLndyaXRlTGluZVN0cmluZ0dlb21ldHJ5XyxcbiAgICAgICdQb2x5Z29uJzogdGhpcy53cml0ZVBvbHlnb25HZW9tZXRyeV8sXG4gICAgICAnTXVsdGlQb2ludCc6IHRoaXMud3JpdGVNdWx0aVBvaW50R2VvbWV0cnlfLFxuICAgICAgJ011bHRpTGluZVN0cmluZyc6IHRoaXMud3JpdGVNdWx0aUxpbmVTdHJpbmdHZW9tZXRyeV8sXG4gICAgICAnTXVsdGlQb2x5Z29uJzogdGhpcy53cml0ZU11bHRpUG9seWdvbkdlb21ldHJ5XyxcbiAgICAgICdDaXJjbGUnOiB0aGlzLndyaXRlQ2lyY2xlR2VvbWV0cnlfLFxuICAgICAgJ0dlb21ldHJ5Q29sbGVjdGlvbic6IHRoaXMud3JpdGVHZW9tZXRyeUNvbGxlY3Rpb25HZW9tZXRyeV9cbiAgICB9O1xuXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7VmVjdG9yU291cmNlfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5zb3VyY2VfID0gbnVsbDtcblxuICAgIHZhciBmZWF0dXJlcztcbiAgICBpZiAob3B0aW9ucy5zb3VyY2UpIHtcbiAgICAgIHRoaXMuc291cmNlXyA9IG9wdGlvbnMuc291cmNlO1xuICAgICAgZmVhdHVyZXMgPSBuZXcgQ29sbGVjdGlvbih0aGlzLnNvdXJjZV8uZ2V0RmVhdHVyZXMoKSk7XG4gICAgICBsaXN0ZW4odGhpcy5zb3VyY2VfLCBWZWN0b3JFdmVudFR5cGUuQURERkVBVFVSRSxcbiAgICAgICAgdGhpcy5oYW5kbGVTb3VyY2VBZGRfLCB0aGlzKTtcbiAgICAgIGxpc3Rlbih0aGlzLnNvdXJjZV8sIFZlY3RvckV2ZW50VHlwZS5SRU1PVkVGRUFUVVJFLFxuICAgICAgICB0aGlzLmhhbmRsZVNvdXJjZVJlbW92ZV8sIHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmZWF0dXJlcyA9IG9wdGlvbnMuZmVhdHVyZXM7XG4gICAgfVxuICAgIGlmICghZmVhdHVyZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIG1vZGlmeSBpbnRlcmFjdGlvbiByZXF1aXJlcyBmZWF0dXJlcyBvciBhIHNvdXJjZScpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtDb2xsZWN0aW9uPEZlYXR1cmU+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5mZWF0dXJlc18gPSBmZWF0dXJlcztcblxuICAgIHRoaXMuZmVhdHVyZXNfLmZvckVhY2godGhpcy5hZGRGZWF0dXJlXy5iaW5kKHRoaXMpKTtcbiAgICBsaXN0ZW4odGhpcy5mZWF0dXJlc18sIENvbGxlY3Rpb25FdmVudFR5cGUuQURELFxuICAgICAgdGhpcy5oYW5kbGVGZWF0dXJlQWRkXywgdGhpcyk7XG4gICAgbGlzdGVuKHRoaXMuZmVhdHVyZXNfLCBDb2xsZWN0aW9uRXZlbnRUeXBlLlJFTU9WRSxcbiAgICAgIHRoaXMuaGFuZGxlRmVhdHVyZVJlbW92ZV8sIHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL01hcEJyb3dzZXJQb2ludGVyRXZlbnQuanNcIikuZGVmYXVsdH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMubGFzdFBvaW50ZXJFdmVudF8gPSBudWxsO1xuXG4gIH1cblxuICBpZiAoIFBvaW50ZXJJbnRlcmFjdGlvbiApIE1vZGlmeS5fX3Byb3RvX18gPSBQb2ludGVySW50ZXJhY3Rpb247XG4gIE1vZGlmeS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBQb2ludGVySW50ZXJhY3Rpb24gJiYgUG9pbnRlckludGVyYWN0aW9uLnByb3RvdHlwZSApO1xuICBNb2RpZnkucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTW9kaWZ5O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0ZlYXR1cmV9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIE1vZGlmeS5wcm90b3R5cGUuYWRkRmVhdHVyZV8gPSBmdW5jdGlvbiBhZGRGZWF0dXJlXyAoZmVhdHVyZSkge1xuICAgIHZhciBnZW9tZXRyeSA9IGZlYXR1cmUuZ2V0R2VvbWV0cnkoKTtcbiAgICBpZiAoZ2VvbWV0cnkgJiYgZ2VvbWV0cnkuZ2V0VHlwZSgpIGluIHRoaXMuU0VHTUVOVF9XUklURVJTXykge1xuICAgICAgdGhpcy5TRUdNRU5UX1dSSVRFUlNfW2dlb21ldHJ5LmdldFR5cGUoKV0uY2FsbCh0aGlzLCBmZWF0dXJlLCBnZW9tZXRyeSk7XG4gICAgfVxuICAgIHZhciBtYXAgPSB0aGlzLmdldE1hcCgpO1xuICAgIGlmIChtYXAgJiYgbWFwLmlzUmVuZGVyZWQoKSAmJiB0aGlzLmdldEFjdGl2ZSgpKSB7XG4gICAgICB0aGlzLmhhbmRsZVBvaW50ZXJBdFBpeGVsXyh0aGlzLmxhc3RQaXhlbF8sIG1hcCk7XG4gICAgfVxuICAgIGxpc3RlbihmZWF0dXJlLCBFdmVudFR5cGUuQ0hBTkdFLFxuICAgICAgdGhpcy5oYW5kbGVGZWF0dXJlQ2hhbmdlXywgdGhpcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlclBvaW50ZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBldnQgTWFwIGJyb3dzZXIgZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIE1vZGlmeS5wcm90b3R5cGUud2lsbE1vZGlmeUZlYXR1cmVzXyA9IGZ1bmN0aW9uIHdpbGxNb2RpZnlGZWF0dXJlc18gKGV2dCkge1xuICAgIGlmICghdGhpcy5tb2RpZmllZF8pIHtcbiAgICAgIHRoaXMubW9kaWZpZWRfID0gdHJ1ZTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgTW9kaWZ5RXZlbnQoXG4gICAgICAgIE1vZGlmeUV2ZW50VHlwZS5NT0RJRllTVEFSVCwgdGhpcy5mZWF0dXJlc18sIGV2dCkpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtGZWF0dXJlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBNb2RpZnkucHJvdG90eXBlLnJlbW92ZUZlYXR1cmVfID0gZnVuY3Rpb24gcmVtb3ZlRmVhdHVyZV8gKGZlYXR1cmUpIHtcbiAgICB0aGlzLnJlbW92ZUZlYXR1cmVTZWdtZW50RGF0YV8oZmVhdHVyZSk7XG4gICAgLy8gUmVtb3ZlIHRoZSB2ZXJ0ZXggZmVhdHVyZSBpZiB0aGUgY29sbGVjdGlvbiBvZiBjYW5kaXRhdGUgZmVhdHVyZXNcbiAgICAvLyBpcyBlbXB0eS5cbiAgICBpZiAodGhpcy52ZXJ0ZXhGZWF0dXJlXyAmJiB0aGlzLmZlYXR1cmVzXy5nZXRMZW5ndGgoKSA9PT0gMCkge1xuICAgICAgLyoqIEB0eXBlIHtWZWN0b3JTb3VyY2V9ICovICh0aGlzLm92ZXJsYXlfLmdldFNvdXJjZSgpKS5yZW1vdmVGZWF0dXJlKHRoaXMudmVydGV4RmVhdHVyZV8pO1xuICAgICAgdGhpcy52ZXJ0ZXhGZWF0dXJlXyA9IG51bGw7XG4gICAgfVxuICAgIHVubGlzdGVuKGZlYXR1cmUsIEV2ZW50VHlwZS5DSEFOR0UsXG4gICAgICB0aGlzLmhhbmRsZUZlYXR1cmVDaGFuZ2VfLCB0aGlzKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtGZWF0dXJlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBNb2RpZnkucHJvdG90eXBlLnJlbW92ZUZlYXR1cmVTZWdtZW50RGF0YV8gPSBmdW5jdGlvbiByZW1vdmVGZWF0dXJlU2VnbWVudERhdGFfIChmZWF0dXJlKSB7XG4gICAgdmFyIHJCdXNoID0gdGhpcy5yQnVzaF87XG4gICAgdmFyIC8qKiBAdHlwZSB7QXJyYXk8U2VnbWVudERhdGE+fSAqLyBub2Rlc1RvUmVtb3ZlID0gW107XG4gICAgckJ1c2guZm9yRWFjaChcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtTZWdtZW50RGF0YX0gbm9kZSBSVHJlZSBub2RlLlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgIGlmIChmZWF0dXJlID09PSBub2RlLmZlYXR1cmUpIHtcbiAgICAgICAgICBub2Rlc1RvUmVtb3ZlLnB1c2gobm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIGZvciAodmFyIGkgPSBub2Rlc1RvUmVtb3ZlLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICByQnVzaC5yZW1vdmUobm9kZXNUb1JlbW92ZVtpXSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgTW9kaWZ5LnByb3RvdHlwZS5zZXRBY3RpdmUgPSBmdW5jdGlvbiBzZXRBY3RpdmUgKGFjdGl2ZSkge1xuICAgIGlmICh0aGlzLnZlcnRleEZlYXR1cmVfICYmICFhY3RpdmUpIHtcbiAgICAgIC8qKiBAdHlwZSB7VmVjdG9yU291cmNlfSAqLyAodGhpcy5vdmVybGF5Xy5nZXRTb3VyY2UoKSkucmVtb3ZlRmVhdHVyZSh0aGlzLnZlcnRleEZlYXR1cmVfKTtcbiAgICAgIHRoaXMudmVydGV4RmVhdHVyZV8gPSBudWxsO1xuICAgIH1cbiAgICBQb2ludGVySW50ZXJhY3Rpb24ucHJvdG90eXBlLnNldEFjdGl2ZS5jYWxsKHRoaXMsIGFjdGl2ZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBNb2RpZnkucHJvdG90eXBlLnNldE1hcCA9IGZ1bmN0aW9uIHNldE1hcCAobWFwKSB7XG4gICAgdGhpcy5vdmVybGF5Xy5zZXRNYXAobWFwKTtcbiAgICBQb2ludGVySW50ZXJhY3Rpb24ucHJvdG90eXBlLnNldE1hcC5jYWxsKHRoaXMsIG1hcCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgb3ZlcmxheSBsYXllciB0aGF0IHRoaXMgaW50ZXJhY3Rpb24gcmVuZGVycyBza2V0Y2ggZmVhdHVyZXMgdG8uXG4gICAqIEByZXR1cm4ge1ZlY3RvckxheWVyfSBPdmVybGF5IGxheWVyLlxuICAgKiBAYXBpXG4gICAqL1xuICBNb2RpZnkucHJvdG90eXBlLmdldE92ZXJsYXkgPSBmdW5jdGlvbiBnZXRPdmVybGF5ICgpIHtcbiAgICByZXR1cm4gdGhpcy5vdmVybGF5XztcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zb3VyY2UvVmVjdG9yLmpzXCIpLlZlY3RvclNvdXJjZUV2ZW50fSBldmVudCBFdmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIE1vZGlmeS5wcm90b3R5cGUuaGFuZGxlU291cmNlQWRkXyA9IGZ1bmN0aW9uIGhhbmRsZVNvdXJjZUFkZF8gKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmZlYXR1cmUpIHtcbiAgICAgIHRoaXMuZmVhdHVyZXNfLnB1c2goZXZlbnQuZmVhdHVyZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3NvdXJjZS9WZWN0b3IuanNcIikuVmVjdG9yU291cmNlRXZlbnR9IGV2ZW50IEV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTW9kaWZ5LnByb3RvdHlwZS5oYW5kbGVTb3VyY2VSZW1vdmVfID0gZnVuY3Rpb24gaGFuZGxlU291cmNlUmVtb3ZlXyAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQuZmVhdHVyZSkge1xuICAgICAgdGhpcy5mZWF0dXJlc18ucmVtb3ZlKGV2ZW50LmZlYXR1cmUpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25FdmVudH0gZXZ0IEV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTW9kaWZ5LnByb3RvdHlwZS5oYW5kbGVGZWF0dXJlQWRkXyA9IGZ1bmN0aW9uIGhhbmRsZUZlYXR1cmVBZGRfIChldnQpIHtcbiAgICB0aGlzLmFkZEZlYXR1cmVfKC8qKiBAdHlwZSB7RmVhdHVyZX0gKi8gKGV2dC5lbGVtZW50KSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHR9IGV2dCBFdmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIE1vZGlmeS5wcm90b3R5cGUuaGFuZGxlRmVhdHVyZUNoYW5nZV8gPSBmdW5jdGlvbiBoYW5kbGVGZWF0dXJlQ2hhbmdlXyAoZXZ0KSB7XG4gICAgaWYgKCF0aGlzLmNoYW5naW5nRmVhdHVyZV8pIHtcbiAgICAgIHZhciBmZWF0dXJlID0gLyoqIEB0eXBlIHtGZWF0dXJlfSAqLyAoZXZ0LnRhcmdldCk7XG4gICAgICB0aGlzLnJlbW92ZUZlYXR1cmVfKGZlYXR1cmUpO1xuICAgICAgdGhpcy5hZGRGZWF0dXJlXyhmZWF0dXJlKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnR9IGV2dCBFdmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIE1vZGlmeS5wcm90b3R5cGUuaGFuZGxlRmVhdHVyZVJlbW92ZV8gPSBmdW5jdGlvbiBoYW5kbGVGZWF0dXJlUmVtb3ZlXyAoZXZ0KSB7XG4gICAgdmFyIGZlYXR1cmUgPSAvKiogQHR5cGUge0ZlYXR1cmV9ICovIChldnQuZWxlbWVudCk7XG4gICAgdGhpcy5yZW1vdmVGZWF0dXJlXyhmZWF0dXJlKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtGZWF0dXJlfSBmZWF0dXJlIEZlYXR1cmVcbiAgICogQHBhcmFtIHtQb2ludH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBNb2RpZnkucHJvdG90eXBlLndyaXRlUG9pbnRHZW9tZXRyeV8gPSBmdW5jdGlvbiB3cml0ZVBvaW50R2VvbWV0cnlfIChmZWF0dXJlLCBnZW9tZXRyeSkge1xuICAgIHZhciBjb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldENvb3JkaW5hdGVzKCk7XG4gICAgdmFyIHNlZ21lbnREYXRhID0gLyoqIEB0eXBlIHtTZWdtZW50RGF0YX0gKi8gKHtcbiAgICAgIGZlYXR1cmU6IGZlYXR1cmUsXG4gICAgICBnZW9tZXRyeTogZ2VvbWV0cnksXG4gICAgICBzZWdtZW50OiBbY29vcmRpbmF0ZXMsIGNvb3JkaW5hdGVzXVxuICAgIH0pO1xuICAgIHRoaXMuckJ1c2hfLmluc2VydChnZW9tZXRyeS5nZXRFeHRlbnQoKSwgc2VnbWVudERhdGEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0ZlYXR1cmV9IGZlYXR1cmUgRmVhdHVyZVxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vTXVsdGlQb2ludC5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIE1vZGlmeS5wcm90b3R5cGUud3JpdGVNdWx0aVBvaW50R2VvbWV0cnlfID0gZnVuY3Rpb24gd3JpdGVNdWx0aVBvaW50R2VvbWV0cnlfIChmZWF0dXJlLCBnZW9tZXRyeSkge1xuICAgIHZhciBwb2ludHMgPSBnZW9tZXRyeS5nZXRDb29yZGluYXRlcygpO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHBvaW50cy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICB2YXIgY29vcmRpbmF0ZXMgPSBwb2ludHNbaV07XG4gICAgICB2YXIgc2VnbWVudERhdGEgPSAvKiogQHR5cGUge1NlZ21lbnREYXRhfSAqLyAoe1xuICAgICAgICBmZWF0dXJlOiBmZWF0dXJlLFxuICAgICAgICBnZW9tZXRyeTogZ2VvbWV0cnksXG4gICAgICAgIGRlcHRoOiBbaV0sXG4gICAgICAgIGluZGV4OiBpLFxuICAgICAgICBzZWdtZW50OiBbY29vcmRpbmF0ZXMsIGNvb3JkaW5hdGVzXVxuICAgICAgfSk7XG4gICAgICB0aGlzLnJCdXNoXy5pbnNlcnQoZ2VvbWV0cnkuZ2V0RXh0ZW50KCksIHNlZ21lbnREYXRhKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RmVhdHVyZX0gZmVhdHVyZSBGZWF0dXJlXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9MaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTW9kaWZ5LnByb3RvdHlwZS53cml0ZUxpbmVTdHJpbmdHZW9tZXRyeV8gPSBmdW5jdGlvbiB3cml0ZUxpbmVTdHJpbmdHZW9tZXRyeV8gKGZlYXR1cmUsIGdlb21ldHJ5KSB7XG4gICAgdmFyIGNvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0Q29vcmRpbmF0ZXMoKTtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBjb29yZGluYXRlcy5sZW5ndGggLSAxOyBpIDwgaWk7ICsraSkge1xuICAgICAgdmFyIHNlZ21lbnQgPSBjb29yZGluYXRlcy5zbGljZShpLCBpICsgMik7XG4gICAgICB2YXIgc2VnbWVudERhdGEgPSAvKiogQHR5cGUge1NlZ21lbnREYXRhfSAqLyAoe1xuICAgICAgICBmZWF0dXJlOiBmZWF0dXJlLFxuICAgICAgICBnZW9tZXRyeTogZ2VvbWV0cnksXG4gICAgICAgIGluZGV4OiBpLFxuICAgICAgICBzZWdtZW50OiBzZWdtZW50XG4gICAgICB9KTtcbiAgICAgIHRoaXMuckJ1c2hfLmluc2VydChib3VuZGluZ0V4dGVudChzZWdtZW50KSwgc2VnbWVudERhdGEpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtGZWF0dXJlfSBmZWF0dXJlIEZlYXR1cmVcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL011bHRpTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIE1vZGlmeS5wcm90b3R5cGUud3JpdGVNdWx0aUxpbmVTdHJpbmdHZW9tZXRyeV8gPSBmdW5jdGlvbiB3cml0ZU11bHRpTGluZVN0cmluZ0dlb21ldHJ5XyAoZmVhdHVyZSwgZ2VvbWV0cnkpIHtcbiAgICB2YXIgbGluZXMgPSBnZW9tZXRyeS5nZXRDb29yZGluYXRlcygpO1xuICAgIGZvciAodmFyIGogPSAwLCBqaiA9IGxpbmVzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgIHZhciBjb29yZGluYXRlcyA9IGxpbmVzW2pdO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoIC0gMTsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIHNlZ21lbnQgPSBjb29yZGluYXRlcy5zbGljZShpLCBpICsgMik7XG4gICAgICAgIHZhciBzZWdtZW50RGF0YSA9IC8qKiBAdHlwZSB7U2VnbWVudERhdGF9ICovICh7XG4gICAgICAgICAgZmVhdHVyZTogZmVhdHVyZSxcbiAgICAgICAgICBnZW9tZXRyeTogZ2VvbWV0cnksXG4gICAgICAgICAgZGVwdGg6IFtqXSxcbiAgICAgICAgICBpbmRleDogaSxcbiAgICAgICAgICBzZWdtZW50OiBzZWdtZW50XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJCdXNoXy5pbnNlcnQoYm91bmRpbmdFeHRlbnQoc2VnbWVudCksIHNlZ21lbnREYXRhKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RmVhdHVyZX0gZmVhdHVyZSBGZWF0dXJlXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTW9kaWZ5LnByb3RvdHlwZS53cml0ZVBvbHlnb25HZW9tZXRyeV8gPSBmdW5jdGlvbiB3cml0ZVBvbHlnb25HZW9tZXRyeV8gKGZlYXR1cmUsIGdlb21ldHJ5KSB7XG4gICAgdmFyIHJpbmdzID0gZ2VvbWV0cnkuZ2V0Q29vcmRpbmF0ZXMoKTtcbiAgICBmb3IgKHZhciBqID0gMCwgamogPSByaW5ncy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICB2YXIgY29vcmRpbmF0ZXMgPSByaW5nc1tqXTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGNvb3JkaW5hdGVzLmxlbmd0aCAtIDE7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBzZWdtZW50ID0gY29vcmRpbmF0ZXMuc2xpY2UoaSwgaSArIDIpO1xuICAgICAgICB2YXIgc2VnbWVudERhdGEgPSAvKiogQHR5cGUge1NlZ21lbnREYXRhfSAqLyAoe1xuICAgICAgICAgIGZlYXR1cmU6IGZlYXR1cmUsXG4gICAgICAgICAgZ2VvbWV0cnk6IGdlb21ldHJ5LFxuICAgICAgICAgIGRlcHRoOiBbal0sXG4gICAgICAgICAgaW5kZXg6IGksXG4gICAgICAgICAgc2VnbWVudDogc2VnbWVudFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yQnVzaF8uaW5zZXJ0KGJvdW5kaW5nRXh0ZW50KHNlZ21lbnQpLCBzZWdtZW50RGF0YSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0ZlYXR1cmV9IGZlYXR1cmUgRmVhdHVyZVxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vTXVsdGlQb2x5Z29uLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTW9kaWZ5LnByb3RvdHlwZS53cml0ZU11bHRpUG9seWdvbkdlb21ldHJ5XyA9IGZ1bmN0aW9uIHdyaXRlTXVsdGlQb2x5Z29uR2VvbWV0cnlfIChmZWF0dXJlLCBnZW9tZXRyeSkge1xuICAgIHZhciBwb2x5Z29ucyA9IGdlb21ldHJ5LmdldENvb3JkaW5hdGVzKCk7XG4gICAgZm9yICh2YXIgayA9IDAsIGtrID0gcG9seWdvbnMubGVuZ3RoOyBrIDwga2s7ICsraykge1xuICAgICAgdmFyIHJpbmdzID0gcG9seWdvbnNba107XG4gICAgICBmb3IgKHZhciBqID0gMCwgamogPSByaW5ncy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgIHZhciBjb29yZGluYXRlcyA9IHJpbmdzW2pdO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBjb29yZGluYXRlcy5sZW5ndGggLSAxOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgIHZhciBzZWdtZW50ID0gY29vcmRpbmF0ZXMuc2xpY2UoaSwgaSArIDIpO1xuICAgICAgICAgIHZhciBzZWdtZW50RGF0YSA9IC8qKiBAdHlwZSB7U2VnbWVudERhdGF9ICovICh7XG4gICAgICAgICAgICBmZWF0dXJlOiBmZWF0dXJlLFxuICAgICAgICAgICAgZ2VvbWV0cnk6IGdlb21ldHJ5LFxuICAgICAgICAgICAgZGVwdGg6IFtqLCBrXSxcbiAgICAgICAgICAgIGluZGV4OiBpLFxuICAgICAgICAgICAgc2VnbWVudDogc2VnbWVudFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuckJ1c2hfLmluc2VydChib3VuZGluZ0V4dGVudChzZWdtZW50KSwgc2VnbWVudERhdGEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBXZSBjb252ZXJ0IGEgY2lyY2xlIGludG8gdHdvIHNlZ21lbnRzLiAgVGhlIHNlZ21lbnQgYXQgaW5kZXhcbiAgICoge0BsaW5rIENJUkNMRV9DRU5URVJfSU5ERVh9IGlzIHRoZVxuICAgKiBjaXJjbGUncyBjZW50ZXIgKGEgcG9pbnQpLiAgVGhlIHNlZ21lbnQgYXQgaW5kZXhcbiAgICoge0BsaW5rIENJUkNMRV9DSVJDVU1GRVJFTkNFX0lOREVYfSBpc1xuICAgKiB0aGUgY2lyY3VtZmVyZW5jZSwgYW5kIGlzIG5vdCBhIGxpbmUgc2VnbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtGZWF0dXJlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9DaXJjbGUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBNb2RpZnkucHJvdG90eXBlLndyaXRlQ2lyY2xlR2VvbWV0cnlfID0gZnVuY3Rpb24gd3JpdGVDaXJjbGVHZW9tZXRyeV8gKGZlYXR1cmUsIGdlb21ldHJ5KSB7XG4gICAgdmFyIGNvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0Q2VudGVyKCk7XG4gICAgdmFyIGNlbnRlclNlZ21lbnREYXRhID0gLyoqIEB0eXBlIHtTZWdtZW50RGF0YX0gKi8gKHtcbiAgICAgIGZlYXR1cmU6IGZlYXR1cmUsXG4gICAgICBnZW9tZXRyeTogZ2VvbWV0cnksXG4gICAgICBpbmRleDogQ0lSQ0xFX0NFTlRFUl9JTkRFWCxcbiAgICAgIHNlZ21lbnQ6IFtjb29yZGluYXRlcywgY29vcmRpbmF0ZXNdXG4gICAgfSk7XG4gICAgdmFyIGNpcmN1bWZlcmVuY2VTZWdtZW50RGF0YSA9IC8qKiBAdHlwZSB7U2VnbWVudERhdGF9ICovICh7XG4gICAgICBmZWF0dXJlOiBmZWF0dXJlLFxuICAgICAgZ2VvbWV0cnk6IGdlb21ldHJ5LFxuICAgICAgaW5kZXg6IENJUkNMRV9DSVJDVU1GRVJFTkNFX0lOREVYLFxuICAgICAgc2VnbWVudDogW2Nvb3JkaW5hdGVzLCBjb29yZGluYXRlc11cbiAgICB9KTtcbiAgICB2YXIgZmVhdHVyZVNlZ21lbnRzID0gW2NlbnRlclNlZ21lbnREYXRhLCBjaXJjdW1mZXJlbmNlU2VnbWVudERhdGFdO1xuICAgIGNlbnRlclNlZ21lbnREYXRhLmZlYXR1cmVTZWdtZW50cyA9IGNpcmN1bWZlcmVuY2VTZWdtZW50RGF0YS5mZWF0dXJlU2VnbWVudHMgPSBmZWF0dXJlU2VnbWVudHM7XG4gICAgdGhpcy5yQnVzaF8uaW5zZXJ0KGNyZWF0ZU9yVXBkYXRlRnJvbUNvb3JkaW5hdGUoY29vcmRpbmF0ZXMpLCBjZW50ZXJTZWdtZW50RGF0YSk7XG4gICAgdGhpcy5yQnVzaF8uaW5zZXJ0KGdlb21ldHJ5LmdldEV4dGVudCgpLCBjaXJjdW1mZXJlbmNlU2VnbWVudERhdGEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0ZlYXR1cmV9IGZlYXR1cmUgRmVhdHVyZVxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnlDb2xsZWN0aW9uLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTW9kaWZ5LnByb3RvdHlwZS53cml0ZUdlb21ldHJ5Q29sbGVjdGlvbkdlb21ldHJ5XyA9IGZ1bmN0aW9uIHdyaXRlR2VvbWV0cnlDb2xsZWN0aW9uR2VvbWV0cnlfIChmZWF0dXJlLCBnZW9tZXRyeSkge1xuICAgIHZhciBnZW9tZXRyaWVzID0gZ2VvbWV0cnkuZ2V0R2VvbWV0cmllc0FycmF5KCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9tZXRyaWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICB0aGlzLlNFR01FTlRfV1JJVEVSU19bZ2VvbWV0cmllc1tpXS5nZXRUeXBlKCldLmNhbGwodGhpcywgZmVhdHVyZSwgZ2VvbWV0cmllc1tpXSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gICAqIEByZXR1cm4ge0ZlYXR1cmV9IFZlcnRleCBmZWF0dXJlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTW9kaWZ5LnByb3RvdHlwZS5jcmVhdGVPclVwZGF0ZVZlcnRleEZlYXR1cmVfID0gZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGVWZXJ0ZXhGZWF0dXJlXyAoY29vcmRpbmF0ZXMpIHtcbiAgICB2YXIgdmVydGV4RmVhdHVyZSA9IHRoaXMudmVydGV4RmVhdHVyZV87XG4gICAgaWYgKCF2ZXJ0ZXhGZWF0dXJlKSB7XG4gICAgICB2ZXJ0ZXhGZWF0dXJlID0gbmV3IEZlYXR1cmUobmV3IFBvaW50KGNvb3JkaW5hdGVzKSk7XG4gICAgICB0aGlzLnZlcnRleEZlYXR1cmVfID0gdmVydGV4RmVhdHVyZTtcbiAgICAgIC8qKiBAdHlwZSB7VmVjdG9yU291cmNlfSAqLyAodGhpcy5vdmVybGF5Xy5nZXRTb3VyY2UoKSkuYWRkRmVhdHVyZSh2ZXJ0ZXhGZWF0dXJlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGdlb21ldHJ5ID0gLyoqIEB0eXBlIHtQb2ludH0gKi8gKHZlcnRleEZlYXR1cmUuZ2V0R2VvbWV0cnkoKSk7XG4gICAgICBnZW9tZXRyeS5zZXRDb29yZGluYXRlcyhjb29yZGluYXRlcyk7XG4gICAgfVxuICAgIHJldHVybiB2ZXJ0ZXhGZWF0dXJlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudCBtYXAgYnJvd3NlciBldmVudH0gYW5kIG1heSBtb2RpZnkgdGhlIGdlb21ldHJ5LlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIE1vZGlmeS5wcm90b3R5cGUuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiBoYW5kbGVFdmVudCAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgaWYgKCEoLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyUG9pbnRlckV2ZW50LmpzXCIpLmRlZmF1bHR9ICovIChtYXBCcm93c2VyRXZlbnQpLnBvaW50ZXJFdmVudCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB0aGlzLmxhc3RQb2ludGVyRXZlbnRfID0gbWFwQnJvd3NlckV2ZW50O1xuXG4gICAgdmFyIGhhbmRsZWQ7XG4gICAgaWYgKCFtYXBCcm93c2VyRXZlbnQubWFwLmdldFZpZXcoKS5nZXRJbnRlcmFjdGluZygpICYmXG4gICAgICAgIG1hcEJyb3dzZXJFdmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUk1PVkUgJiZcbiAgICAgICAgIXRoaXMuaGFuZGxpbmdEb3duVXBTZXF1ZW5jZSkge1xuICAgICAgdGhpcy5oYW5kbGVQb2ludGVyTW92ZV8obWFwQnJvd3NlckV2ZW50KTtcbiAgICB9XG4gICAgaWYgKHRoaXMudmVydGV4RmVhdHVyZV8gJiYgdGhpcy5kZWxldGVDb25kaXRpb25fKG1hcEJyb3dzZXJFdmVudCkpIHtcbiAgICAgIGlmIChtYXBCcm93c2VyRXZlbnQudHlwZSAhPSBNYXBCcm93c2VyRXZlbnRUeXBlLlNJTkdMRUNMSUNLIHx8ICF0aGlzLmlnbm9yZU5leHRTaW5nbGVDbGlja18pIHtcbiAgICAgICAgaGFuZGxlZCA9IHRoaXMucmVtb3ZlUG9pbnQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhhbmRsZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLlNJTkdMRUNMSUNLKSB7XG4gICAgICB0aGlzLmlnbm9yZU5leHRTaW5nbGVDbGlja18gPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gUG9pbnRlckludGVyYWN0aW9uLnByb3RvdHlwZS5oYW5kbGVFdmVudC5jYWxsKHRoaXMsIG1hcEJyb3dzZXJFdmVudCkgJiYgIWhhbmRsZWQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBNb2RpZnkucHJvdG90eXBlLmhhbmRsZURyYWdFdmVudCA9IGZ1bmN0aW9uIGhhbmRsZURyYWdFdmVudCAoZXZ0KSB7XG4gICAgdGhpcy5pZ25vcmVOZXh0U2luZ2xlQ2xpY2tfID0gZmFsc2U7XG4gICAgdGhpcy53aWxsTW9kaWZ5RmVhdHVyZXNfKGV2dCk7XG5cbiAgICB2YXIgdmVydGV4ID0gZXZ0LmNvb3JkaW5hdGU7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy5kcmFnU2VnbWVudHNfLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIHZhciBkcmFnU2VnbWVudCA9IHRoaXMuZHJhZ1NlZ21lbnRzX1tpXTtcbiAgICAgIHZhciBzZWdtZW50RGF0YSA9IGRyYWdTZWdtZW50WzBdO1xuICAgICAgdmFyIGRlcHRoID0gc2VnbWVudERhdGEuZGVwdGg7XG4gICAgICB2YXIgZ2VvbWV0cnkgPSBzZWdtZW50RGF0YS5nZW9tZXRyeTtcbiAgICAgIHZhciBjb29yZGluYXRlcyA9ICh2b2lkIDApO1xuICAgICAgdmFyIHNlZ21lbnQgPSBzZWdtZW50RGF0YS5zZWdtZW50O1xuICAgICAgdmFyIGluZGV4ID0gZHJhZ1NlZ21lbnRbMV07XG5cbiAgICAgIHdoaWxlICh2ZXJ0ZXgubGVuZ3RoIDwgZ2VvbWV0cnkuZ2V0U3RyaWRlKCkpIHtcbiAgICAgICAgdmVydGV4LnB1c2goc2VnbWVudFtpbmRleF1bdmVydGV4Lmxlbmd0aF0pO1xuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKGdlb21ldHJ5LmdldFR5cGUoKSkge1xuICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5QT0lOVDpcbiAgICAgICAgICBjb29yZGluYXRlcyA9IHZlcnRleDtcbiAgICAgICAgICBzZWdtZW50WzBdID0gc2VnbWVudFsxXSA9IHZlcnRleDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTVVMVElfUE9JTlQ6XG4gICAgICAgICAgY29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRDb29yZGluYXRlcygpO1xuICAgICAgICAgIGNvb3JkaW5hdGVzW3NlZ21lbnREYXRhLmluZGV4XSA9IHZlcnRleDtcbiAgICAgICAgICBzZWdtZW50WzBdID0gc2VnbWVudFsxXSA9IHZlcnRleDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTElORV9TVFJJTkc6XG4gICAgICAgICAgY29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRDb29yZGluYXRlcygpO1xuICAgICAgICAgIGNvb3JkaW5hdGVzW3NlZ21lbnREYXRhLmluZGV4ICsgaW5kZXhdID0gdmVydGV4O1xuICAgICAgICAgIHNlZ21lbnRbaW5kZXhdID0gdmVydGV4O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5NVUxUSV9MSU5FX1NUUklORzpcbiAgICAgICAgICBjb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldENvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgY29vcmRpbmF0ZXNbZGVwdGhbMF1dW3NlZ21lbnREYXRhLmluZGV4ICsgaW5kZXhdID0gdmVydGV4O1xuICAgICAgICAgIHNlZ21lbnRbaW5kZXhdID0gdmVydGV4O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5QT0xZR09OOlxuICAgICAgICAgIGNvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICBjb29yZGluYXRlc1tkZXB0aFswXV1bc2VnbWVudERhdGEuaW5kZXggKyBpbmRleF0gPSB2ZXJ0ZXg7XG4gICAgICAgICAgc2VnbWVudFtpbmRleF0gPSB2ZXJ0ZXg7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLk1VTFRJX1BPTFlHT046XG4gICAgICAgICAgY29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRDb29yZGluYXRlcygpO1xuICAgICAgICAgIGNvb3JkaW5hdGVzW2RlcHRoWzFdXVtkZXB0aFswXV1bc2VnbWVudERhdGEuaW5kZXggKyBpbmRleF0gPSB2ZXJ0ZXg7XG4gICAgICAgICAgc2VnbWVudFtpbmRleF0gPSB2ZXJ0ZXg7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLkNJUkNMRTpcbiAgICAgICAgICBzZWdtZW50WzBdID0gc2VnbWVudFsxXSA9IHZlcnRleDtcbiAgICAgICAgICBpZiAoc2VnbWVudERhdGEuaW5kZXggPT09IENJUkNMRV9DRU5URVJfSU5ERVgpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdpbmdGZWF0dXJlXyA9IHRydWU7XG4gICAgICAgICAgICBnZW9tZXRyeS5zZXRDZW50ZXIodmVydGV4KTtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdpbmdGZWF0dXJlXyA9IGZhbHNlO1xuICAgICAgICAgIH0gZWxzZSB7IC8vIFdlJ3JlIGRyYWdnaW5nIHRoZSBjaXJjbGUncyBjaXJjdW1mZXJlbmNlOlxuICAgICAgICAgICAgdGhpcy5jaGFuZ2luZ0ZlYXR1cmVfID0gdHJ1ZTtcbiAgICAgICAgICAgIGdlb21ldHJ5LnNldFJhZGl1cyhjb29yZGluYXRlRGlzdGFuY2UoZ2VvbWV0cnkuZ2V0Q2VudGVyKCksIHZlcnRleCkpO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2luZ0ZlYXR1cmVfID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIHBhc3NcbiAgICAgIH1cblxuICAgICAgaWYgKGNvb3JkaW5hdGVzKSB7XG4gICAgICAgIHRoaXMuc2V0R2VvbWV0cnlDb29yZGluYXRlc18oZ2VvbWV0cnksIGNvb3JkaW5hdGVzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5jcmVhdGVPclVwZGF0ZVZlcnRleEZlYXR1cmVfKHZlcnRleCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBNb2RpZnkucHJvdG90eXBlLmhhbmRsZURvd25FdmVudCA9IGZ1bmN0aW9uIGhhbmRsZURvd25FdmVudCAoZXZ0KSB7XG4gICAgaWYgKCF0aGlzLmNvbmRpdGlvbl8oZXZ0KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLmhhbmRsZVBvaW50ZXJBdFBpeGVsXyhldnQucGl4ZWwsIGV2dC5tYXApO1xuICAgIHZhciBwaXhlbENvb3JkaW5hdGUgPSBldnQubWFwLmdldENvb3JkaW5hdGVGcm9tUGl4ZWwoZXZ0LnBpeGVsKTtcbiAgICB0aGlzLmRyYWdTZWdtZW50c18ubGVuZ3RoID0gMDtcbiAgICB0aGlzLm1vZGlmaWVkXyA9IGZhbHNlO1xuICAgIHZhciB2ZXJ0ZXhGZWF0dXJlID0gdGhpcy52ZXJ0ZXhGZWF0dXJlXztcbiAgICBpZiAodmVydGV4RmVhdHVyZSkge1xuICAgICAgdmFyIGluc2VydFZlcnRpY2VzID0gW107XG4gICAgICB2YXIgZ2VvbWV0cnkgPSAvKiogQHR5cGUge1BvaW50fSAqLyAodmVydGV4RmVhdHVyZS5nZXRHZW9tZXRyeSgpKTtcbiAgICAgIHZhciB2ZXJ0ZXggPSBnZW9tZXRyeS5nZXRDb29yZGluYXRlcygpO1xuICAgICAgdmFyIHZlcnRleEV4dGVudCA9IGJvdW5kaW5nRXh0ZW50KFt2ZXJ0ZXhdKTtcbiAgICAgIHZhciBzZWdtZW50RGF0YU1hdGNoZXMgPSB0aGlzLnJCdXNoXy5nZXRJbkV4dGVudCh2ZXJ0ZXhFeHRlbnQpO1xuICAgICAgdmFyIGNvbXBvbmVudFNlZ21lbnRzID0ge307XG4gICAgICBzZWdtZW50RGF0YU1hdGNoZXMuc29ydChjb21wYXJlSW5kZXhlcyk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBzZWdtZW50RGF0YU1hdGNoZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgc2VnbWVudERhdGFNYXRjaCA9IHNlZ21lbnREYXRhTWF0Y2hlc1tpXTtcbiAgICAgICAgdmFyIHNlZ21lbnQgPSBzZWdtZW50RGF0YU1hdGNoLnNlZ21lbnQ7XG4gICAgICAgIHZhciB1aWQgPSBnZXRVaWQoc2VnbWVudERhdGFNYXRjaC5mZWF0dXJlKTtcbiAgICAgICAgdmFyIGRlcHRoID0gc2VnbWVudERhdGFNYXRjaC5kZXB0aDtcbiAgICAgICAgaWYgKGRlcHRoKSB7XG4gICAgICAgICAgdWlkICs9ICctJyArIGRlcHRoLmpvaW4oJy0nKTsgLy8gc2VwYXJhdGUgZmVhdHVyZSBjb21wb25lbnRzXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb21wb25lbnRTZWdtZW50c1t1aWRdKSB7XG4gICAgICAgICAgY29tcG9uZW50U2VnbWVudHNbdWlkXSA9IG5ldyBBcnJheSgyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VnbWVudERhdGFNYXRjaC5nZW9tZXRyeS5nZXRUeXBlKCkgPT09IEdlb21ldHJ5VHlwZS5DSVJDTEUgJiZcbiAgICAgICAgc2VnbWVudERhdGFNYXRjaC5pbmRleCA9PT0gQ0lSQ0xFX0NJUkNVTUZFUkVOQ0VfSU5ERVgpIHtcblxuICAgICAgICAgIHZhciBjbG9zZXN0VmVydGV4ID0gY2xvc2VzdE9uU2VnbWVudERhdGEocGl4ZWxDb29yZGluYXRlLCBzZWdtZW50RGF0YU1hdGNoKTtcbiAgICAgICAgICBpZiAoY29vcmRpbmF0ZXNFcXVhbChjbG9zZXN0VmVydGV4LCB2ZXJ0ZXgpICYmICFjb21wb25lbnRTZWdtZW50c1t1aWRdWzBdKSB7XG4gICAgICAgICAgICB0aGlzLmRyYWdTZWdtZW50c18ucHVzaChbc2VnbWVudERhdGFNYXRjaCwgMF0pO1xuICAgICAgICAgICAgY29tcG9uZW50U2VnbWVudHNbdWlkXVswXSA9IHNlZ21lbnREYXRhTWF0Y2g7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNvb3JkaW5hdGVzRXF1YWwoc2VnbWVudFswXSwgdmVydGV4KSAmJlxuICAgICAgICAgICAgIWNvbXBvbmVudFNlZ21lbnRzW3VpZF1bMF0pIHtcbiAgICAgICAgICB0aGlzLmRyYWdTZWdtZW50c18ucHVzaChbc2VnbWVudERhdGFNYXRjaCwgMF0pO1xuICAgICAgICAgIGNvbXBvbmVudFNlZ21lbnRzW3VpZF1bMF0gPSBzZWdtZW50RGF0YU1hdGNoO1xuICAgICAgICB9IGVsc2UgaWYgKGNvb3JkaW5hdGVzRXF1YWwoc2VnbWVudFsxXSwgdmVydGV4KSAmJlxuICAgICAgICAgICAgIWNvbXBvbmVudFNlZ21lbnRzW3VpZF1bMV0pIHtcblxuICAgICAgICAgIC8vIHByZXZlbnQgZHJhZ2dpbmcgY2xvc2VkIGxpbmVzdHJpbmdzIGJ5IHRoZSBjb25uZWN0aW5nIG5vZGVcbiAgICAgICAgICBpZiAoKHNlZ21lbnREYXRhTWF0Y2guZ2VvbWV0cnkuZ2V0VHlwZSgpID09PVxuICAgICAgICAgICAgICBHZW9tZXRyeVR5cGUuTElORV9TVFJJTkcgfHxcbiAgICAgICAgICAgICAgc2VnbWVudERhdGFNYXRjaC5nZW9tZXRyeS5nZXRUeXBlKCkgPT09XG4gICAgICAgICAgICAgIEdlb21ldHJ5VHlwZS5NVUxUSV9MSU5FX1NUUklORykgJiZcbiAgICAgICAgICAgICAgY29tcG9uZW50U2VnbWVudHNbdWlkXVswXSAmJlxuICAgICAgICAgICAgICBjb21wb25lbnRTZWdtZW50c1t1aWRdWzBdLmluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLmRyYWdTZWdtZW50c18ucHVzaChbc2VnbWVudERhdGFNYXRjaCwgMV0pO1xuICAgICAgICAgIGNvbXBvbmVudFNlZ21lbnRzW3VpZF1bMV0gPSBzZWdtZW50RGF0YU1hdGNoO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaW5zZXJ0VmVydGV4Q29uZGl0aW9uXyhldnQpICYmIGdldFVpZChzZWdtZW50KSBpbiB0aGlzLnZlcnRleFNlZ21lbnRzXyAmJlxuICAgICAgICAgICAgKCFjb21wb25lbnRTZWdtZW50c1t1aWRdWzBdICYmICFjb21wb25lbnRTZWdtZW50c1t1aWRdWzFdKSkge1xuICAgICAgICAgIGluc2VydFZlcnRpY2VzLnB1c2goW3NlZ21lbnREYXRhTWF0Y2gsIHZlcnRleF0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaW5zZXJ0VmVydGljZXMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMud2lsbE1vZGlmeUZlYXR1cmVzXyhldnQpO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaiA9IGluc2VydFZlcnRpY2VzLmxlbmd0aCAtIDE7IGogPj0gMDsgLS1qKSB7XG4gICAgICAgIHRoaXMuaW5zZXJ0VmVydGV4Xy5hcHBseSh0aGlzLCBpbnNlcnRWZXJ0aWNlc1tqXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAhIXRoaXMudmVydGV4RmVhdHVyZV87XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBNb2RpZnkucHJvdG90eXBlLmhhbmRsZVVwRXZlbnQgPSBmdW5jdGlvbiBoYW5kbGVVcEV2ZW50IChldnQpIHtcbiAgICBmb3IgKHZhciBpID0gdGhpcy5kcmFnU2VnbWVudHNfLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICB2YXIgc2VnbWVudERhdGEgPSB0aGlzLmRyYWdTZWdtZW50c19baV1bMF07XG4gICAgICB2YXIgZ2VvbWV0cnkgPSBzZWdtZW50RGF0YS5nZW9tZXRyeTtcbiAgICAgIGlmIChnZW9tZXRyeS5nZXRUeXBlKCkgPT09IEdlb21ldHJ5VHlwZS5DSVJDTEUpIHtcbiAgICAgICAgLy8gVXBkYXRlIGEgY2lyY2xlIG9iamVjdCBpbiB0aGUgUiogYnVzaDpcbiAgICAgICAgdmFyIGNvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0Q2VudGVyKCk7XG4gICAgICAgIHZhciBjZW50ZXJTZWdtZW50RGF0YSA9IHNlZ21lbnREYXRhLmZlYXR1cmVTZWdtZW50c1swXTtcbiAgICAgICAgdmFyIGNpcmN1bWZlcmVuY2VTZWdtZW50RGF0YSA9IHNlZ21lbnREYXRhLmZlYXR1cmVTZWdtZW50c1sxXTtcbiAgICAgICAgY2VudGVyU2VnbWVudERhdGEuc2VnbWVudFswXSA9IGNlbnRlclNlZ21lbnREYXRhLnNlZ21lbnRbMV0gPSBjb29yZGluYXRlcztcbiAgICAgICAgY2lyY3VtZmVyZW5jZVNlZ21lbnREYXRhLnNlZ21lbnRbMF0gPSBjaXJjdW1mZXJlbmNlU2VnbWVudERhdGEuc2VnbWVudFsxXSA9IGNvb3JkaW5hdGVzO1xuICAgICAgICB0aGlzLnJCdXNoXy51cGRhdGUoY3JlYXRlT3JVcGRhdGVGcm9tQ29vcmRpbmF0ZShjb29yZGluYXRlcyksIGNlbnRlclNlZ21lbnREYXRhKTtcbiAgICAgICAgdGhpcy5yQnVzaF8udXBkYXRlKGdlb21ldHJ5LmdldEV4dGVudCgpLCBjaXJjdW1mZXJlbmNlU2VnbWVudERhdGEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yQnVzaF8udXBkYXRlKGJvdW5kaW5nRXh0ZW50KHNlZ21lbnREYXRhLnNlZ21lbnQpLCBzZWdtZW50RGF0YSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLm1vZGlmaWVkXykge1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBNb2RpZnlFdmVudChNb2RpZnlFdmVudFR5cGUuTU9ESUZZRU5ELCB0aGlzLmZlYXR1cmVzXywgZXZ0KSk7XG4gICAgICB0aGlzLm1vZGlmaWVkXyA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IGV2dCBFdmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIE1vZGlmeS5wcm90b3R5cGUuaGFuZGxlUG9pbnRlck1vdmVfID0gZnVuY3Rpb24gaGFuZGxlUG9pbnRlck1vdmVfIChldnQpIHtcbiAgICB0aGlzLmxhc3RQaXhlbF8gPSBldnQucGl4ZWw7XG4gICAgdGhpcy5oYW5kbGVQb2ludGVyQXRQaXhlbF8oZXZ0LnBpeGVsLCBldnQubWFwKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWxcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gbWFwIE1hcC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIE1vZGlmeS5wcm90b3R5cGUuaGFuZGxlUG9pbnRlckF0UGl4ZWxfID0gZnVuY3Rpb24gaGFuZGxlUG9pbnRlckF0UGl4ZWxfIChwaXhlbCwgbWFwKSB7XG4gICAgdmFyIHBpeGVsQ29vcmRpbmF0ZSA9IG1hcC5nZXRDb29yZGluYXRlRnJvbVBpeGVsKHBpeGVsKTtcbiAgICB2YXIgc29ydEJ5RGlzdGFuY2UgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgICByZXR1cm4gcG9pbnREaXN0YW5jZVRvU2VnbWVudERhdGFTcXVhcmVkKHBpeGVsQ29vcmRpbmF0ZSwgYSkgLVxuICAgICAgICAgIHBvaW50RGlzdGFuY2VUb1NlZ21lbnREYXRhU3F1YXJlZChwaXhlbENvb3JkaW5hdGUsIGIpO1xuICAgIH07XG5cbiAgICB2YXIgYm94ID0gYnVmZmVyKGNyZWF0ZU9yVXBkYXRlRnJvbUNvb3JkaW5hdGUocGl4ZWxDb29yZGluYXRlKSxcbiAgICAgIG1hcC5nZXRWaWV3KCkuZ2V0UmVzb2x1dGlvbigpICogdGhpcy5waXhlbFRvbGVyYW5jZV8pO1xuXG4gICAgdmFyIHJCdXNoID0gdGhpcy5yQnVzaF87XG4gICAgdmFyIG5vZGVzID0gckJ1c2guZ2V0SW5FeHRlbnQoYm94KTtcbiAgICBpZiAobm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgbm9kZXMuc29ydChzb3J0QnlEaXN0YW5jZSk7XG4gICAgICB2YXIgbm9kZSA9IG5vZGVzWzBdO1xuICAgICAgdmFyIGNsb3Nlc3RTZWdtZW50ID0gbm9kZS5zZWdtZW50O1xuICAgICAgdmFyIHZlcnRleCA9IGNsb3Nlc3RPblNlZ21lbnREYXRhKHBpeGVsQ29vcmRpbmF0ZSwgbm9kZSk7XG4gICAgICB2YXIgdmVydGV4UGl4ZWwgPSBtYXAuZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZSh2ZXJ0ZXgpO1xuICAgICAgdmFyIGRpc3QgPSBjb29yZGluYXRlRGlzdGFuY2UocGl4ZWwsIHZlcnRleFBpeGVsKTtcbiAgICAgIGlmIChkaXN0IDw9IHRoaXMucGl4ZWxUb2xlcmFuY2VfKSB7XG4gICAgICAgIC8qKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgYm9vbGVhbj59ICovXG4gICAgICAgIHZhciB2ZXJ0ZXhTZWdtZW50cyA9IHt9O1xuXG4gICAgICAgIGlmIChub2RlLmdlb21ldHJ5LmdldFR5cGUoKSA9PT0gR2VvbWV0cnlUeXBlLkNJUkNMRSAmJlxuICAgICAgICBub2RlLmluZGV4ID09PSBDSVJDTEVfQ0lSQ1VNRkVSRU5DRV9JTkRFWCkge1xuXG4gICAgICAgICAgdGhpcy5zbmFwcGVkVG9WZXJ0ZXhfID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLmNyZWF0ZU9yVXBkYXRlVmVydGV4RmVhdHVyZV8odmVydGV4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcGl4ZWwxID0gbWFwLmdldFBpeGVsRnJvbUNvb3JkaW5hdGUoY2xvc2VzdFNlZ21lbnRbMF0pO1xuICAgICAgICAgIHZhciBwaXhlbDIgPSBtYXAuZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZShjbG9zZXN0U2VnbWVudFsxXSk7XG4gICAgICAgICAgdmFyIHNxdWFyZWREaXN0MSA9IHNxdWFyZWRDb29yZGluYXRlRGlzdGFuY2UodmVydGV4UGl4ZWwsIHBpeGVsMSk7XG4gICAgICAgICAgdmFyIHNxdWFyZWREaXN0MiA9IHNxdWFyZWRDb29yZGluYXRlRGlzdGFuY2UodmVydGV4UGl4ZWwsIHBpeGVsMik7XG4gICAgICAgICAgZGlzdCA9IE1hdGguc3FydChNYXRoLm1pbihzcXVhcmVkRGlzdDEsIHNxdWFyZWREaXN0MikpO1xuICAgICAgICAgIHRoaXMuc25hcHBlZFRvVmVydGV4XyA9IGRpc3QgPD0gdGhpcy5waXhlbFRvbGVyYW5jZV87XG4gICAgICAgICAgaWYgKHRoaXMuc25hcHBlZFRvVmVydGV4Xykge1xuICAgICAgICAgICAgdmVydGV4ID0gc3F1YXJlZERpc3QxID4gc3F1YXJlZERpc3QyID8gY2xvc2VzdFNlZ21lbnRbMV0gOiBjbG9zZXN0U2VnbWVudFswXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5jcmVhdGVPclVwZGF0ZVZlcnRleEZlYXR1cmVfKHZlcnRleCk7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDEsIGlpID0gbm9kZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgdmFyIHNlZ21lbnQgPSBub2Rlc1tpXS5zZWdtZW50O1xuICAgICAgICAgICAgaWYgKChjb29yZGluYXRlc0VxdWFsKGNsb3Nlc3RTZWdtZW50WzBdLCBzZWdtZW50WzBdKSAmJlxuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzRXF1YWwoY2xvc2VzdFNlZ21lbnRbMV0sIHNlZ21lbnRbMV0pIHx8XG4gICAgICAgICAgICAgICAgKGNvb3JkaW5hdGVzRXF1YWwoY2xvc2VzdFNlZ21lbnRbMF0sIHNlZ21lbnRbMV0pICYmXG4gICAgICAgICAgICAgICAgY29vcmRpbmF0ZXNFcXVhbChjbG9zZXN0U2VnbWVudFsxXSwgc2VnbWVudFswXSkpKSkge1xuICAgICAgICAgICAgICB2ZXJ0ZXhTZWdtZW50c1tnZXRVaWQoc2VnbWVudCldID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZlcnRleFNlZ21lbnRzW2dldFVpZChjbG9zZXN0U2VnbWVudCldID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52ZXJ0ZXhTZWdtZW50c18gPSB2ZXJ0ZXhTZWdtZW50cztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy52ZXJ0ZXhGZWF0dXJlXykge1xuICAgICAgLyoqIEB0eXBlIHtWZWN0b3JTb3VyY2V9ICovICh0aGlzLm92ZXJsYXlfLmdldFNvdXJjZSgpKS5yZW1vdmVGZWF0dXJlKHRoaXMudmVydGV4RmVhdHVyZV8pO1xuICAgICAgdGhpcy52ZXJ0ZXhGZWF0dXJlXyA9IG51bGw7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1NlZ21lbnREYXRhfSBzZWdtZW50RGF0YSBTZWdtZW50IGRhdGEuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSB2ZXJ0ZXggVmVydGV4LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTW9kaWZ5LnByb3RvdHlwZS5pbnNlcnRWZXJ0ZXhfID0gZnVuY3Rpb24gaW5zZXJ0VmVydGV4XyAoc2VnbWVudERhdGEsIHZlcnRleCkge1xuICAgIHZhciBzZWdtZW50ID0gc2VnbWVudERhdGEuc2VnbWVudDtcbiAgICB2YXIgZmVhdHVyZSA9IHNlZ21lbnREYXRhLmZlYXR1cmU7XG4gICAgdmFyIGdlb21ldHJ5ID0gc2VnbWVudERhdGEuZ2VvbWV0cnk7XG4gICAgdmFyIGRlcHRoID0gc2VnbWVudERhdGEuZGVwdGg7XG4gICAgdmFyIGluZGV4ID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChzZWdtZW50RGF0YS5pbmRleCk7XG4gICAgdmFyIGNvb3JkaW5hdGVzO1xuXG4gICAgd2hpbGUgKHZlcnRleC5sZW5ndGggPCBnZW9tZXRyeS5nZXRTdHJpZGUoKSkge1xuICAgICAgdmVydGV4LnB1c2goMCk7XG4gICAgfVxuXG4gICAgc3dpdGNoIChnZW9tZXRyeS5nZXRUeXBlKCkpIHtcbiAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLk1VTFRJX0xJTkVfU1RSSU5HOlxuICAgICAgICBjb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldENvb3JkaW5hdGVzKCk7XG4gICAgICAgIGNvb3JkaW5hdGVzW2RlcHRoWzBdXS5zcGxpY2UoaW5kZXggKyAxLCAwLCB2ZXJ0ZXgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLlBPTFlHT046XG4gICAgICAgIGNvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgY29vcmRpbmF0ZXNbZGVwdGhbMF1dLnNwbGljZShpbmRleCArIDEsIDAsIHZlcnRleCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTVVMVElfUE9MWUdPTjpcbiAgICAgICAgY29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRDb29yZGluYXRlcygpO1xuICAgICAgICBjb29yZGluYXRlc1tkZXB0aFsxXV1bZGVwdGhbMF1dLnNwbGljZShpbmRleCArIDEsIDAsIHZlcnRleCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTElORV9TVFJJTkc6XG4gICAgICAgIGNvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgY29vcmRpbmF0ZXMuc3BsaWNlKGluZGV4ICsgMSwgMCwgdmVydGV4KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zZXRHZW9tZXRyeUNvb3JkaW5hdGVzXyhnZW9tZXRyeSwgY29vcmRpbmF0ZXMpO1xuICAgIHZhciByVHJlZSA9IHRoaXMuckJ1c2hfO1xuICAgIHJUcmVlLnJlbW92ZShzZWdtZW50RGF0YSk7XG4gICAgdGhpcy51cGRhdGVTZWdtZW50SW5kaWNlc18oZ2VvbWV0cnksIGluZGV4LCBkZXB0aCwgMSk7XG4gICAgdmFyIG5ld1NlZ21lbnREYXRhID0gLyoqIEB0eXBlIHtTZWdtZW50RGF0YX0gKi8gKHtcbiAgICAgIHNlZ21lbnQ6IFtzZWdtZW50WzBdLCB2ZXJ0ZXhdLFxuICAgICAgZmVhdHVyZTogZmVhdHVyZSxcbiAgICAgIGdlb21ldHJ5OiBnZW9tZXRyeSxcbiAgICAgIGRlcHRoOiBkZXB0aCxcbiAgICAgIGluZGV4OiBpbmRleFxuICAgIH0pO1xuICAgIHJUcmVlLmluc2VydChib3VuZGluZ0V4dGVudChuZXdTZWdtZW50RGF0YS5zZWdtZW50KSxcbiAgICAgIG5ld1NlZ21lbnREYXRhKTtcbiAgICB0aGlzLmRyYWdTZWdtZW50c18ucHVzaChbbmV3U2VnbWVudERhdGEsIDFdKTtcblxuICAgIHZhciBuZXdTZWdtZW50RGF0YTIgPSAvKiogQHR5cGUge1NlZ21lbnREYXRhfSAqLyAoe1xuICAgICAgc2VnbWVudDogW3ZlcnRleCwgc2VnbWVudFsxXV0sXG4gICAgICBmZWF0dXJlOiBmZWF0dXJlLFxuICAgICAgZ2VvbWV0cnk6IGdlb21ldHJ5LFxuICAgICAgZGVwdGg6IGRlcHRoLFxuICAgICAgaW5kZXg6IGluZGV4ICsgMVxuICAgIH0pO1xuICAgIHJUcmVlLmluc2VydChib3VuZGluZ0V4dGVudChuZXdTZWdtZW50RGF0YTIuc2VnbWVudCksIG5ld1NlZ21lbnREYXRhMik7XG4gICAgdGhpcy5kcmFnU2VnbWVudHNfLnB1c2goW25ld1NlZ21lbnREYXRhMiwgMF0pO1xuICAgIHRoaXMuaWdub3JlTmV4dFNpbmdsZUNsaWNrXyA9IHRydWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIHZlcnRleCBjdXJyZW50bHkgYmVpbmcgcG9pbnRlZC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSB3aGVuIGEgdmVydGV4IHdhcyByZW1vdmVkLlxuICAgKiBAYXBpXG4gICAqL1xuICBNb2RpZnkucHJvdG90eXBlLnJlbW92ZVBvaW50ID0gZnVuY3Rpb24gcmVtb3ZlUG9pbnQgKCkge1xuICAgIGlmICh0aGlzLmxhc3RQb2ludGVyRXZlbnRfICYmIHRoaXMubGFzdFBvaW50ZXJFdmVudF8udHlwZSAhPSBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJEUkFHKSB7XG4gICAgICB2YXIgZXZ0ID0gdGhpcy5sYXN0UG9pbnRlckV2ZW50XztcbiAgICAgIHRoaXMud2lsbE1vZGlmeUZlYXR1cmVzXyhldnQpO1xuICAgICAgdGhpcy5yZW1vdmVWZXJ0ZXhfKCk7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IE1vZGlmeUV2ZW50KE1vZGlmeUV2ZW50VHlwZS5NT0RJRllFTkQsIHRoaXMuZmVhdHVyZXNfLCBldnQpKTtcbiAgICAgIHRoaXMubW9kaWZpZWRfID0gZmFsc2U7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgdmVydGV4IGZyb20gYWxsIG1hdGNoaW5nIGZlYXR1cmVzLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIHdoZW4gYSB2ZXJ0ZXggd2FzIHJlbW92ZWQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBNb2RpZnkucHJvdG90eXBlLnJlbW92ZVZlcnRleF8gPSBmdW5jdGlvbiByZW1vdmVWZXJ0ZXhfICgpIHtcbiAgICB2YXIgZHJhZ1NlZ21lbnRzID0gdGhpcy5kcmFnU2VnbWVudHNfO1xuICAgIHZhciBzZWdtZW50c0J5RmVhdHVyZSA9IHt9O1xuICAgIHZhciBkZWxldGVkID0gZmFsc2U7XG4gICAgdmFyIGNvbXBvbmVudCwgY29vcmRpbmF0ZXMsIGRyYWdTZWdtZW50LCBnZW9tZXRyeSwgaSwgaW5kZXgsIGxlZnQ7XG4gICAgdmFyIG5ld0luZGV4LCByaWdodCwgc2VnbWVudERhdGEsIHVpZDtcbiAgICBmb3IgKGkgPSBkcmFnU2VnbWVudHMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIGRyYWdTZWdtZW50ID0gZHJhZ1NlZ21lbnRzW2ldO1xuICAgICAgc2VnbWVudERhdGEgPSBkcmFnU2VnbWVudFswXTtcbiAgICAgIHVpZCA9IGdldFVpZChzZWdtZW50RGF0YS5mZWF0dXJlKTtcbiAgICAgIGlmIChzZWdtZW50RGF0YS5kZXB0aCkge1xuICAgICAgICAvLyBzZXBhcmF0ZSBmZWF0dXJlIGNvbXBvbmVudHNcbiAgICAgICAgdWlkICs9ICctJyArIHNlZ21lbnREYXRhLmRlcHRoLmpvaW4oJy0nKTtcbiAgICAgIH1cbiAgICAgIGlmICghKHVpZCBpbiBzZWdtZW50c0J5RmVhdHVyZSkpIHtcbiAgICAgICAgc2VnbWVudHNCeUZlYXR1cmVbdWlkXSA9IHt9O1xuICAgICAgfVxuICAgICAgaWYgKGRyYWdTZWdtZW50WzFdID09PSAwKSB7XG4gICAgICAgIHNlZ21lbnRzQnlGZWF0dXJlW3VpZF0ucmlnaHQgPSBzZWdtZW50RGF0YTtcbiAgICAgICAgc2VnbWVudHNCeUZlYXR1cmVbdWlkXS5pbmRleCA9IHNlZ21lbnREYXRhLmluZGV4O1xuICAgICAgfSBlbHNlIGlmIChkcmFnU2VnbWVudFsxXSA9PSAxKSB7XG4gICAgICAgIHNlZ21lbnRzQnlGZWF0dXJlW3VpZF0ubGVmdCA9IHNlZ21lbnREYXRhO1xuICAgICAgICBzZWdtZW50c0J5RmVhdHVyZVt1aWRdLmluZGV4ID0gc2VnbWVudERhdGEuaW5kZXggKyAxO1xuICAgICAgfVxuXG4gICAgfVxuICAgIGZvciAodWlkIGluIHNlZ21lbnRzQnlGZWF0dXJlKSB7XG4gICAgICByaWdodCA9IHNlZ21lbnRzQnlGZWF0dXJlW3VpZF0ucmlnaHQ7XG4gICAgICBsZWZ0ID0gc2VnbWVudHNCeUZlYXR1cmVbdWlkXS5sZWZ0O1xuICAgICAgaW5kZXggPSBzZWdtZW50c0J5RmVhdHVyZVt1aWRdLmluZGV4O1xuICAgICAgbmV3SW5kZXggPSBpbmRleCAtIDE7XG4gICAgICBpZiAobGVmdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNlZ21lbnREYXRhID0gbGVmdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlZ21lbnREYXRhID0gcmlnaHQ7XG4gICAgICB9XG4gICAgICBpZiAobmV3SW5kZXggPCAwKSB7XG4gICAgICAgIG5ld0luZGV4ID0gMDtcbiAgICAgIH1cbiAgICAgIGdlb21ldHJ5ID0gc2VnbWVudERhdGEuZ2VvbWV0cnk7XG4gICAgICBjb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldENvb3JkaW5hdGVzKCk7XG4gICAgICBjb21wb25lbnQgPSBjb29yZGluYXRlcztcbiAgICAgIGRlbGV0ZWQgPSBmYWxzZTtcbiAgICAgIHN3aXRjaCAoZ2VvbWV0cnkuZ2V0VHlwZSgpKSB7XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLk1VTFRJX0xJTkVfU1RSSU5HOlxuICAgICAgICAgIGlmIChjb29yZGluYXRlc1tzZWdtZW50RGF0YS5kZXB0aFswXV0ubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgY29vcmRpbmF0ZXNbc2VnbWVudERhdGEuZGVwdGhbMF1dLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICBkZWxldGVkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HOlxuICAgICAgICAgIGlmIChjb29yZGluYXRlcy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICBjb29yZGluYXRlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgZGVsZXRlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5NVUxUSV9QT0xZR09OOlxuICAgICAgICAgIGNvbXBvbmVudCA9IGNvbXBvbmVudFtzZWdtZW50RGF0YS5kZXB0aFsxXV07XG4gICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5QT0xZR09OOlxuICAgICAgICAgIGNvbXBvbmVudCA9IGNvbXBvbmVudFtzZWdtZW50RGF0YS5kZXB0aFswXV07XG4gICAgICAgICAgaWYgKGNvbXBvbmVudC5sZW5ndGggPiA0KSB7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT0gY29tcG9uZW50Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tcG9uZW50LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICBkZWxldGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICAvLyBjbG9zZSB0aGUgcmluZyBhZ2FpblxuICAgICAgICAgICAgICBjb21wb25lbnQucG9wKCk7XG4gICAgICAgICAgICAgIGNvbXBvbmVudC5wdXNoKGNvbXBvbmVudFswXSk7XG4gICAgICAgICAgICAgIG5ld0luZGV4ID0gY29tcG9uZW50Lmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIHBhc3NcbiAgICAgIH1cblxuICAgICAgaWYgKGRlbGV0ZWQpIHtcbiAgICAgICAgdGhpcy5zZXRHZW9tZXRyeUNvb3JkaW5hdGVzXyhnZW9tZXRyeSwgY29vcmRpbmF0ZXMpO1xuICAgICAgICB2YXIgc2VnbWVudHMgPSBbXTtcbiAgICAgICAgaWYgKGxlZnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRoaXMuckJ1c2hfLnJlbW92ZShsZWZ0KTtcbiAgICAgICAgICBzZWdtZW50cy5wdXNoKGxlZnQuc2VnbWVudFswXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aGlzLnJCdXNoXy5yZW1vdmUocmlnaHQpO1xuICAgICAgICAgIHNlZ21lbnRzLnB1c2gocmlnaHQuc2VnbWVudFsxXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxlZnQgIT09IHVuZGVmaW5lZCAmJiByaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdmFyIG5ld1NlZ21lbnREYXRhID0gLyoqIEB0eXBlIHtTZWdtZW50RGF0YX0gKi8gKHtcbiAgICAgICAgICAgIGRlcHRoOiBzZWdtZW50RGF0YS5kZXB0aCxcbiAgICAgICAgICAgIGZlYXR1cmU6IHNlZ21lbnREYXRhLmZlYXR1cmUsXG4gICAgICAgICAgICBnZW9tZXRyeTogc2VnbWVudERhdGEuZ2VvbWV0cnksXG4gICAgICAgICAgICBpbmRleDogbmV3SW5kZXgsXG4gICAgICAgICAgICBzZWdtZW50OiBzZWdtZW50c1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuckJ1c2hfLmluc2VydChib3VuZGluZ0V4dGVudChuZXdTZWdtZW50RGF0YS5zZWdtZW50KSxcbiAgICAgICAgICAgIG5ld1NlZ21lbnREYXRhKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVNlZ21lbnRJbmRpY2VzXyhnZW9tZXRyeSwgaW5kZXgsIHNlZ21lbnREYXRhLmRlcHRoLCAtMSk7XG4gICAgICAgIGlmICh0aGlzLnZlcnRleEZlYXR1cmVfKSB7XG4gICAgICAgICAgLyoqIEB0eXBlIHtWZWN0b3JTb3VyY2V9ICovICh0aGlzLm92ZXJsYXlfLmdldFNvdXJjZSgpKS5yZW1vdmVGZWF0dXJlKHRoaXMudmVydGV4RmVhdHVyZV8pO1xuICAgICAgICAgIHRoaXMudmVydGV4RmVhdHVyZV8gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGRyYWdTZWdtZW50cy5sZW5ndGggPSAwO1xuICAgICAgfVxuXG4gICAgfVxuICAgIHJldHVybiBkZWxldGVkO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTW9kaWZ5LnByb3RvdHlwZS5zZXRHZW9tZXRyeUNvb3JkaW5hdGVzXyA9IGZ1bmN0aW9uIHNldEdlb21ldHJ5Q29vcmRpbmF0ZXNfIChnZW9tZXRyeSwgY29vcmRpbmF0ZXMpIHtcbiAgICB0aGlzLmNoYW5naW5nRmVhdHVyZV8gPSB0cnVlO1xuICAgIGdlb21ldHJ5LnNldENvb3JkaW5hdGVzKGNvb3JkaW5hdGVzKTtcbiAgICB0aGlzLmNoYW5naW5nRmVhdHVyZV8gPSBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXguXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPnx1bmRlZmluZWR9IGRlcHRoIERlcHRoLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGEgRGVsdGEgKDEgb3IgLTEpLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTW9kaWZ5LnByb3RvdHlwZS51cGRhdGVTZWdtZW50SW5kaWNlc18gPSBmdW5jdGlvbiB1cGRhdGVTZWdtZW50SW5kaWNlc18gKGdlb21ldHJ5LCBpbmRleCwgZGVwdGgsIGRlbHRhKSB7XG4gICAgdGhpcy5yQnVzaF8uZm9yRWFjaEluRXh0ZW50KGdlb21ldHJ5LmdldEV4dGVudCgpLCBmdW5jdGlvbihzZWdtZW50RGF0YU1hdGNoKSB7XG4gICAgICBpZiAoc2VnbWVudERhdGFNYXRjaC5nZW9tZXRyeSA9PT0gZ2VvbWV0cnkgJiZcbiAgICAgICAgICAoZGVwdGggPT09IHVuZGVmaW5lZCB8fCBzZWdtZW50RGF0YU1hdGNoLmRlcHRoID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICBlcXVhbHMoc2VnbWVudERhdGFNYXRjaC5kZXB0aCwgZGVwdGgpKSAmJlxuICAgICAgICAgIHNlZ21lbnREYXRhTWF0Y2guaW5kZXggPiBpbmRleCkge1xuICAgICAgICBzZWdtZW50RGF0YU1hdGNoLmluZGV4ICs9IGRlbHRhO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBNb2RpZnk7XG59KFBvaW50ZXJJbnRlcmFjdGlvbikpO1xuXG5cbi8qKlxuICogQHBhcmFtIHtTZWdtZW50RGF0YX0gYSBUaGUgZmlyc3Qgc2VnbWVudCBkYXRhLlxuICogQHBhcmFtIHtTZWdtZW50RGF0YX0gYiBUaGUgc2Vjb25kIHNlZ21lbnQgZGF0YS5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGRpZmZlcmVuY2UgaW4gaW5kZXhlcy5cbiAqL1xuZnVuY3Rpb24gY29tcGFyZUluZGV4ZXMoYSwgYikge1xuICByZXR1cm4gYS5pbmRleCAtIGIuaW5kZXg7XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkaXN0YW5jZSBmcm9tIGEgcG9pbnQgdG8gYSBsaW5lIHNlZ21lbnQuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHBvaW50Q29vcmRpbmF0ZXMgVGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBwb2ludCBmcm9tXG4gKiAgICAgICAgd2hpY2ggdG8gY2FsY3VsYXRlIHRoZSBkaXN0YW5jZS5cbiAqIEBwYXJhbSB7U2VnbWVudERhdGF9IHNlZ21lbnREYXRhIFRoZSBvYmplY3QgZGVzY3JpYmluZyB0aGUgbGluZVxuICogICAgICAgIHNlZ21lbnQgd2UgYXJlIGNhbGN1bGF0aW5nIHRoZSBkaXN0YW5jZSB0by5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIHNxdWFyZSBvZiB0aGUgZGlzdGFuY2UgYmV0d2VlbiBhIHBvaW50IGFuZCBhIGxpbmUgc2VnbWVudC5cbiAqL1xuZnVuY3Rpb24gcG9pbnREaXN0YW5jZVRvU2VnbWVudERhdGFTcXVhcmVkKHBvaW50Q29vcmRpbmF0ZXMsIHNlZ21lbnREYXRhKSB7XG4gIHZhciBnZW9tZXRyeSA9IHNlZ21lbnREYXRhLmdlb21ldHJ5O1xuXG4gIGlmIChnZW9tZXRyeS5nZXRUeXBlKCkgPT09IEdlb21ldHJ5VHlwZS5DSVJDTEUpIHtcbiAgICB2YXIgY2lyY2xlR2VvbWV0cnkgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2dlb20vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSk7XG5cbiAgICBpZiAoc2VnbWVudERhdGEuaW5kZXggPT09IENJUkNMRV9DSVJDVU1GRVJFTkNFX0lOREVYKSB7XG4gICAgICB2YXIgZGlzdGFuY2VUb0NlbnRlclNxdWFyZWQgPVxuICAgICAgICAgICAgc3F1YXJlZENvb3JkaW5hdGVEaXN0YW5jZShjaXJjbGVHZW9tZXRyeS5nZXRDZW50ZXIoKSwgcG9pbnRDb29yZGluYXRlcyk7XG4gICAgICB2YXIgZGlzdGFuY2VUb0NpcmN1bWZlcmVuY2UgPVxuICAgICAgICAgICAgTWF0aC5zcXJ0KGRpc3RhbmNlVG9DZW50ZXJTcXVhcmVkKSAtIGNpcmNsZUdlb21ldHJ5LmdldFJhZGl1cygpO1xuICAgICAgcmV0dXJuIGRpc3RhbmNlVG9DaXJjdW1mZXJlbmNlICogZGlzdGFuY2VUb0NpcmN1bWZlcmVuY2U7XG4gICAgfVxuICB9XG4gIHJldHVybiBzcXVhcmVkRGlzdGFuY2VUb1NlZ21lbnQocG9pbnRDb29yZGluYXRlcywgc2VnbWVudERhdGEuc2VnbWVudCk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgcG9pbnQgY2xvc2VzdCB0byBhIGdpdmVuIGxpbmUgc2VnbWVudC5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gcG9pbnRDb29yZGluYXRlcyBUaGUgcG9pbnQgdG8gd2hpY2ggYSBjbG9zZXN0IHBvaW50XG4gKiAgICAgICAgc2hvdWxkIGJlIGZvdW5kLlxuICogQHBhcmFtIHtTZWdtZW50RGF0YX0gc2VnbWVudERhdGEgVGhlIG9iamVjdCBkZXNjcmliaW5nIHRoZSBsaW5lXG4gKiAgICAgICAgc2VnbWVudCB3aGljaCBzaG91bGQgY29udGFpbiB0aGUgY2xvc2VzdCBwb2ludC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gVGhlIHBvaW50IGNsb3Nlc3QgdG8gdGhlIHNwZWNpZmllZCBsaW5lIHNlZ21lbnQuXG4gKi9cbmZ1bmN0aW9uIGNsb3Nlc3RPblNlZ21lbnREYXRhKHBvaW50Q29vcmRpbmF0ZXMsIHNlZ21lbnREYXRhKSB7XG4gIHZhciBnZW9tZXRyeSA9IHNlZ21lbnREYXRhLmdlb21ldHJ5O1xuXG4gIGlmIChnZW9tZXRyeS5nZXRUeXBlKCkgPT09IEdlb21ldHJ5VHlwZS5DSVJDTEUgJiZcbiAgc2VnbWVudERhdGEuaW5kZXggPT09IENJUkNMRV9DSVJDVU1GRVJFTkNFX0lOREVYKSB7XG4gICAgcmV0dXJuIGdlb21ldHJ5LmdldENsb3Nlc3RQb2ludChwb2ludENvb3JkaW5hdGVzKTtcbiAgfVxuICByZXR1cm4gY2xvc2VzdE9uU2VnbWVudChwb2ludENvb3JkaW5hdGVzLCBzZWdtZW50RGF0YS5zZWdtZW50KTtcbn1cblxuXG4vKipcbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlRnVuY3Rpb259IFN0eWxlcy5cbiAqL1xuZnVuY3Rpb24gZ2V0RGVmYXVsdFN0eWxlRnVuY3Rpb24oKSB7XG4gIHZhciBzdHlsZSA9IGNyZWF0ZUVkaXRpbmdTdHlsZSgpO1xuICByZXR1cm4gZnVuY3Rpb24oZmVhdHVyZSwgcmVzb2x1dGlvbikge1xuICAgIHJldHVybiBzdHlsZVtHZW9tZXRyeVR5cGUuUE9JTlRdO1xuICB9O1xufVxuXG5cbmV4cG9ydCBkZWZhdWx0IE1vZGlmeTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TW9kaWZ5LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9TZWxlY3RcbiAqL1xuaW1wb3J0IHtnZXRVaWR9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IENvbGxlY3Rpb25FdmVudFR5cGUgZnJvbSAnLi4vQ29sbGVjdGlvbkV2ZW50VHlwZS5qcyc7XG5pbXBvcnQge2V4dGVuZCwgaW5jbHVkZXN9IGZyb20gJy4uL2FycmF5LmpzJztcbmltcG9ydCB7bGlzdGVufSBmcm9tICcuLi9ldmVudHMuanMnO1xuaW1wb3J0IEV2ZW50IGZyb20gJy4uL2V2ZW50cy9FdmVudC5qcyc7XG5pbXBvcnQge3NpbmdsZUNsaWNrLCBuZXZlciwgc2hpZnRLZXlPbmx5LCBwb2ludGVyTW92ZX0gZnJvbSAnLi4vZXZlbnRzL2NvbmRpdGlvbi5qcyc7XG5pbXBvcnQge1RSVUV9IGZyb20gJy4uL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJy4uL2dlb20vR2VvbWV0cnlUeXBlLmpzJztcbmltcG9ydCBJbnRlcmFjdGlvbiBmcm9tICcuL0ludGVyYWN0aW9uLmpzJztcbmltcG9ydCBWZWN0b3JMYXllciBmcm9tICcuLi9sYXllci9WZWN0b3IuanMnO1xuaW1wb3J0IHtjbGVhcn0gZnJvbSAnLi4vb2JqLmpzJztcbmltcG9ydCBWZWN0b3JTb3VyY2UgZnJvbSAnLi4vc291cmNlL1ZlY3Rvci5qcyc7XG5pbXBvcnQge2NyZWF0ZUVkaXRpbmdTdHlsZX0gZnJvbSAnLi4vc3R5bGUvU3R5bGUuanMnO1xuXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xudmFyIFNlbGVjdEV2ZW50VHlwZSA9IHtcbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB3aGVuIGZlYXR1cmUocykgaGFzIGJlZW4gKGRlKXNlbGVjdGVkLlxuICAgKiBAZXZlbnQgU2VsZWN0RXZlbnQjc2VsZWN0XG4gICAqIEBhcGlcbiAgICovXG4gIFNFTEVDVDogJ3NlbGVjdCdcbn07XG5cblxuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfSBvclxuICoge0BsaW5rIG1vZHVsZTpvbC9yZW5kZXIvRmVhdHVyZX0gYW5kIGFuXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0xheWVyfSBhbmQgcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGZlYXR1cmUgbWF5IGJlXG4gKiBzZWxlY3RlZCBvciBgZmFsc2VgIG90aGVyd2lzZS5cbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlLCBpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0KTpib29sZWFufSBGaWx0ZXJGdW5jdGlvblxuICovXG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufSBbYWRkQ29uZGl0aW9uXSBBIGZ1bmN0aW9uXG4gKiB0aGF0IHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHJldHVybnMgYVxuICogYm9vbGVhbiB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoYXQgZXZlbnQgc2hvdWxkIGJlIGhhbmRsZWQuXG4gKiBCeSBkZWZhdWx0LCB0aGlzIGlzIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbn5uZXZlcn0uIFVzZSB0aGlzIGlmIHlvdVxuICogd2FudCB0byB1c2UgZGlmZmVyZW50IGV2ZW50cyBmb3IgYWRkIGFuZCByZW1vdmUgaW5zdGVhZCBvZiBgdG9nZ2xlYC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFtjb25kaXRpb25dIEEgZnVuY3Rpb24gdGhhdFxuICogdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fSBhbmQgcmV0dXJucyBhXG4gKiBib29sZWFuIHRvIGluZGljYXRlIHdoZXRoZXIgdGhhdCBldmVudCBzaG91bGQgYmUgaGFuZGxlZC4gVGhpcyBpcyB0aGUgZXZlbnRcbiAqIGZvciB0aGUgc2VsZWN0ZWQgZmVhdHVyZXMgYXMgYSB3aG9sZS4gQnkgZGVmYXVsdCwgdGhpcyBpc1xuICoge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9ufnNpbmdsZUNsaWNrfS4gQ2xpY2tpbmcgb24gYSBmZWF0dXJlIHNlbGVjdHMgdGhhdFxuICogZmVhdHVyZSBhbmQgcmVtb3ZlcyBhbnkgdGhhdCB3ZXJlIGluIHRoZSBzZWxlY3Rpb24uIENsaWNraW5nIG91dHNpZGUgYW55XG4gKiBmZWF0dXJlIHJlbW92ZXMgYWxsIGZyb20gdGhlIHNlbGVjdGlvbi5cbiAqIFNlZSBgdG9nZ2xlYCwgYGFkZGAsIGByZW1vdmVgIG9wdGlvbnMgZm9yIGFkZGluZy9yZW1vdmluZyBleHRyYSBmZWF0dXJlcyB0by9cbiAqIGZyb20gdGhlIHNlbGVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdD58ZnVuY3Rpb24oaW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdCk6IGJvb2xlYW59IFtsYXllcnNdXG4gKiBBIGxpc3Qgb2YgbGF5ZXJzIGZyb20gd2hpY2ggZmVhdHVyZXMgc2hvdWxkIGJlIHNlbGVjdGVkLiBBbHRlcm5hdGl2ZWx5LCBhXG4gKiBmaWx0ZXIgZnVuY3Rpb24gY2FuIGJlIHByb3ZpZGVkLiBUaGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgZm9yIGVhY2ggbGF5ZXJcbiAqIGluIHRoZSBtYXAgYW5kIHNob3VsZCByZXR1cm4gYHRydWVgIGZvciBsYXllcnMgdGhhdCB5b3Ugd2FudCB0byBiZVxuICogc2VsZWN0YWJsZS4gSWYgdGhlIG9wdGlvbiBpcyBhYnNlbnQsIGFsbCB2aXNpYmxlIGxheWVycyB3aWxsIGJlIGNvbnNpZGVyZWRcbiAqIHNlbGVjdGFibGUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlTGlrZX0gW3N0eWxlXVxuICogU3R5bGUgZm9yIHRoZSBzZWxlY3RlZCBmZWF0dXJlcy4gQnkgZGVmYXVsdCB0aGUgZGVmYXVsdCBlZGl0IHN0eWxlIGlzIHVzZWRcbiAqIChzZWUge0BsaW5rIG1vZHVsZTpvbC9zdHlsZX0pLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn0gW3JlbW92ZUNvbmRpdGlvbl0gQSBmdW5jdGlvblxuICogdGhhdCB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGFcbiAqIGJvb2xlYW4gdG8gaW5kaWNhdGUgd2hldGhlciB0aGF0IGV2ZW50IHNob3VsZCBiZSBoYW5kbGVkLlxuICogQnkgZGVmYXVsdCwgdGhpcyBpcyB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb25+bmV2ZXJ9LiBVc2UgdGhpcyBpZiB5b3VcbiAqIHdhbnQgdG8gdXNlIGRpZmZlcmVudCBldmVudHMgZm9yIGFkZCBhbmQgcmVtb3ZlIGluc3RlYWQgb2YgYHRvZ2dsZWAuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufSBbdG9nZ2xlQ29uZGl0aW9uXSBBIGZ1bmN0aW9uXG4gKiB0aGF0IHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHJldHVybnMgYVxuICogYm9vbGVhbiB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoYXQgZXZlbnQgc2hvdWxkIGJlIGhhbmRsZWQuIFRoaXMgaXMgaW4gYWRkaXRpb25cbiAqIHRvIHRoZSBgY29uZGl0aW9uYCBldmVudC4gQnkgZGVmYXVsdCxcbiAqIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbn5zaGlmdEtleU9ubHl9LCBpLmUuIHByZXNzaW5nIGBzaGlmdGAgYXNcbiAqIHdlbGwgYXMgdGhlIGBjb25kaXRpb25gIGV2ZW50LCBhZGRzIHRoYXQgZmVhdHVyZSB0byB0aGUgY3VycmVudCBzZWxlY3Rpb24gaWZcbiAqIGl0IGlzIG5vdCBjdXJyZW50bHkgc2VsZWN0ZWQsIGFuZCByZW1vdmVzIGl0IGlmIGl0IGlzLiBTZWUgYGFkZGAgYW5kIGByZW1vdmVgXG4gKiBpZiB5b3Ugd2FudCB0byB1c2UgZGlmZmVyZW50IGV2ZW50cyBpbnN0ZWFkIG9mIGEgdG9nZ2xlLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbbXVsdGk9ZmFsc2VdIEEgYm9vbGVhbiB0aGF0IGRldGVybWluZXMgaWYgdGhlIGRlZmF1bHRcbiAqIGJlaGF2aW91ciBzaG91bGQgc2VsZWN0IG9ubHkgc2luZ2xlIGZlYXR1cmVzIG9yIGFsbCAob3ZlcmxhcHBpbmcpIGZlYXR1cmVzIGF0XG4gKiB0aGUgY2xpY2tlZCBtYXAgcG9zaXRpb24uIFRoZSBkZWZhdWx0IG9mIGBmYWxzZWAgbWVhbnMgc2luZ2xlIHNlbGVjdC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vQ29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59IFtmZWF0dXJlc11cbiAqIENvbGxlY3Rpb24gd2hlcmUgdGhlIGludGVyYWN0aW9uIHdpbGwgcGxhY2Ugc2VsZWN0ZWQgZmVhdHVyZXMuIE9wdGlvbmFsLiBJZlxuICogbm90IHNldCB0aGUgaW50ZXJhY3Rpb24gd2lsbCBjcmVhdGUgYSBjb2xsZWN0aW9uLiBJbiBhbnkgY2FzZSB0aGUgY29sbGVjdGlvblxuICogdXNlZCBieSB0aGUgaW50ZXJhY3Rpb24gaXMgcmV0dXJuZWQgYnlcbiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vU2VsZWN0flNlbGVjdCNnZXRGZWF0dXJlc30uXG4gKiBAcHJvcGVydHkge0ZpbHRlckZ1bmN0aW9ufSBbZmlsdGVyXSBBIGZ1bmN0aW9uXG4gKiB0aGF0IHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvRmVhdHVyZX0gYW5kIGFuXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0xheWVyfSBhbmQgcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGZlYXR1cmUgbWF5IGJlXG4gKiBzZWxlY3RlZCBvciBgZmFsc2VgIG90aGVyd2lzZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3dyYXBYPXRydWVdIFdyYXAgdGhlIHdvcmxkIGhvcml6b250YWxseSBvbiB0aGUgc2VsZWN0aW9uXG4gKiBvdmVybGF5LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtoaXRUb2xlcmFuY2U9MF0gSGl0LWRldGVjdGlvbiB0b2xlcmFuY2UuIFBpeGVscyBpbnNpZGVcbiAqIHRoZSByYWRpdXMgYXJvdW5kIHRoZSBnaXZlbiBwb3NpdGlvbiB3aWxsIGJlIGNoZWNrZWQgZm9yIGZlYXR1cmVzLiBUaGlzIG9ubHlcbiAqIHdvcmtzIGZvciB0aGUgY2FudmFzIHJlbmRlcmVyIGFuZCBub3QgZm9yIFdlYkdMLlxuICovXG5cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBFdmVudHMgZW1pdHRlZCBieSB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL1NlbGVjdH5TZWxlY3R9IGluc3RhbmNlcyBhcmUgaW5zdGFuY2VzIG9mXG4gKiB0aGlzIHR5cGUuXG4gKi9cbnZhciBTZWxlY3RFdmVudCA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEV2ZW50KSB7XG4gIGZ1bmN0aW9uIFNlbGVjdEV2ZW50KHR5cGUsIHNlbGVjdGVkLCBkZXNlbGVjdGVkLCBtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBFdmVudC5jYWxsKHRoaXMsIHR5cGUpO1xuXG4gICAgLyoqXG4gICAgICogU2VsZWN0ZWQgZmVhdHVyZXMgYXJyYXkuXG4gICAgICogQHR5cGUge0FycmF5PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMuc2VsZWN0ZWQgPSBzZWxlY3RlZDtcblxuICAgIC8qKlxuICAgICAqIERlc2VsZWN0ZWQgZmVhdHVyZXMgYXJyYXkuXG4gICAgICogQHR5cGUge0FycmF5PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMuZGVzZWxlY3RlZCA9IGRlc2VsZWN0ZWQ7XG5cbiAgICAvKipcbiAgICAgKiBBc3NvY2lhdGVkIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fS5cbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMubWFwQnJvd3NlckV2ZW50ID0gbWFwQnJvd3NlckV2ZW50O1xuXG4gIH1cblxuICBpZiAoIEV2ZW50ICkgU2VsZWN0RXZlbnQuX19wcm90b19fID0gRXZlbnQ7XG4gIFNlbGVjdEV2ZW50LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEV2ZW50ICYmIEV2ZW50LnByb3RvdHlwZSApO1xuICBTZWxlY3RFdmVudC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTZWxlY3RFdmVudDtcblxuICByZXR1cm4gU2VsZWN0RXZlbnQ7XG59KEV2ZW50KSk7XG5cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBJbnRlcmFjdGlvbiBmb3Igc2VsZWN0aW5nIHZlY3RvciBmZWF0dXJlcy4gQnkgZGVmYXVsdCwgc2VsZWN0ZWQgZmVhdHVyZXMgYXJlXG4gKiBzdHlsZWQgZGlmZmVyZW50bHksIHNvIHRoaXMgaW50ZXJhY3Rpb24gY2FuIGJlIHVzZWQgZm9yIHZpc3VhbCBoaWdobGlnaHRpbmcsXG4gKiBhcyB3ZWxsIGFzIHNlbGVjdGluZyBmZWF0dXJlcyBmb3Igb3RoZXIgYWN0aW9ucywgc3VjaCBhcyBtb2RpZmljYXRpb24gb3JcbiAqIG91dHB1dC4gVGhlcmUgYXJlIHRocmVlIHdheXMgb2YgY29udHJvbGxpbmcgd2hpY2ggZmVhdHVyZXMgYXJlIHNlbGVjdGVkOlxuICogdXNpbmcgdGhlIGJyb3dzZXIgZXZlbnQgYXMgZGVmaW5lZCBieSB0aGUgYGNvbmRpdGlvbmAgYW5kIG9wdGlvbmFsbHkgdGhlXG4gKiBgdG9nZ2xlYCwgYGFkZGAvYHJlbW92ZWAsIGFuZCBgbXVsdGlgIG9wdGlvbnM7IGEgYGxheWVyc2AgZmlsdGVyOyBhbmQgYVxuICogZnVydGhlciBmZWF0dXJlIGZpbHRlciB1c2luZyB0aGUgYGZpbHRlcmAgb3B0aW9uLlxuICpcbiAqIFNlbGVjdGVkIGZlYXR1cmVzIGFyZSBhZGRlZCB0byBhbiBpbnRlcm5hbCB1bm1hbmFnZWQgbGF5ZXIuXG4gKlxuICogQGZpcmVzIFNlbGVjdEV2ZW50XG4gKiBAYXBpXG4gKi9cbnZhciBTZWxlY3QgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChJbnRlcmFjdGlvbikge1xuICBmdW5jdGlvbiBTZWxlY3Qob3B0X29wdGlvbnMpIHtcblxuICAgIEludGVyYWN0aW9uLmNhbGwodGhpcywge1xuICAgICAgaGFuZGxlRXZlbnQ6IGhhbmRsZUV2ZW50XG4gICAgfSk7XG5cbiAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuY29uZGl0aW9uXyA9IG9wdGlvbnMuY29uZGl0aW9uID8gb3B0aW9ucy5jb25kaXRpb24gOiBzaW5nbGVDbGljaztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuYWRkQ29uZGl0aW9uXyA9IG9wdGlvbnMuYWRkQ29uZGl0aW9uID8gb3B0aW9ucy5hZGRDb25kaXRpb24gOiBuZXZlcjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufVxuICAgICAqL1xuICAgIHRoaXMucmVtb3ZlQ29uZGl0aW9uXyA9IG9wdGlvbnMucmVtb3ZlQ29uZGl0aW9uID8gb3B0aW9ucy5yZW1vdmVDb25kaXRpb24gOiBuZXZlcjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufVxuICAgICAqL1xuICAgIHRoaXMudG9nZ2xlQ29uZGl0aW9uXyA9IG9wdGlvbnMudG9nZ2xlQ29uZGl0aW9uID8gb3B0aW9ucy50b2dnbGVDb25kaXRpb24gOiBzaGlmdEtleU9ubHk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMubXVsdGlfID0gb3B0aW9ucy5tdWx0aSA/IG9wdGlvbnMubXVsdGkgOiBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0ZpbHRlckZ1bmN0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuZmlsdGVyXyA9IG9wdGlvbnMuZmlsdGVyID8gb3B0aW9ucy5maWx0ZXIgOiBUUlVFO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaGl0VG9sZXJhbmNlXyA9IG9wdGlvbnMuaGl0VG9sZXJhbmNlID8gb3B0aW9ucy5oaXRUb2xlcmFuY2UgOiAwO1xuXG4gICAgdmFyIGZlYXR1cmVPdmVybGF5ID0gbmV3IFZlY3RvckxheWVyKHtcbiAgICAgIHNvdXJjZTogbmV3IFZlY3RvclNvdXJjZSh7XG4gICAgICAgIHVzZVNwYXRpYWxJbmRleDogZmFsc2UsXG4gICAgICAgIGZlYXR1cmVzOiBvcHRpb25zLmZlYXR1cmVzLFxuICAgICAgICB3cmFwWDogb3B0aW9ucy53cmFwWFxuICAgICAgfSksXG4gICAgICBzdHlsZTogb3B0aW9ucy5zdHlsZSA/IG9wdGlvbnMuc3R5bGUgOlxuICAgICAgICBnZXREZWZhdWx0U3R5bGVGdW5jdGlvbigpLFxuICAgICAgdXBkYXRlV2hpbGVBbmltYXRpbmc6IHRydWUsXG4gICAgICB1cGRhdGVXaGlsZUludGVyYWN0aW5nOiB0cnVlXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtWZWN0b3JMYXllcn1cbiAgICAgKi9cbiAgICB0aGlzLmZlYXR1cmVPdmVybGF5XyA9IGZlYXR1cmVPdmVybGF5O1xuXG4gICAgLyoqIEB0eXBlIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0KTogYm9vbGVhbn0gKi9cbiAgICB2YXIgbGF5ZXJGaWx0ZXI7XG4gICAgaWYgKG9wdGlvbnMubGF5ZXJzKSB7XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMubGF5ZXJzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGxheWVyRmlsdGVyID0gb3B0aW9ucy5sYXllcnM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbGF5ZXJzID0gb3B0aW9ucy5sYXllcnM7XG4gICAgICAgIGxheWVyRmlsdGVyID0gZnVuY3Rpb24obGF5ZXIpIHtcbiAgICAgICAgICByZXR1cm4gaW5jbHVkZXMobGF5ZXJzLCBsYXllcik7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxheWVyRmlsdGVyID0gVFJVRTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0KTogYm9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmxheWVyRmlsdGVyXyA9IGxheWVyRmlsdGVyO1xuXG4gICAgLyoqXG4gICAgICogQW4gYXNzb2NpYXRpb24gYmV0d2VlbiBzZWxlY3RlZCBmZWF0dXJlIChrZXkpXG4gICAgICogYW5kIGxheWVyICh2YWx1ZSlcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgKi9cbiAgICB0aGlzLmZlYXR1cmVMYXllckFzc29jaWF0aW9uXyA9IHt9O1xuXG4gICAgdmFyIGZlYXR1cmVzID0gdGhpcy5nZXRGZWF0dXJlcygpO1xuICAgIGxpc3RlbihmZWF0dXJlcywgQ29sbGVjdGlvbkV2ZW50VHlwZS5BREQsXG4gICAgICB0aGlzLmFkZEZlYXR1cmVfLCB0aGlzKTtcbiAgICBsaXN0ZW4oZmVhdHVyZXMsIENvbGxlY3Rpb25FdmVudFR5cGUuUkVNT1ZFLFxuICAgICAgdGhpcy5yZW1vdmVGZWF0dXJlXywgdGhpcyk7XG4gIH1cblxuICBpZiAoIEludGVyYWN0aW9uICkgU2VsZWN0Ll9fcHJvdG9fXyA9IEludGVyYWN0aW9uO1xuICBTZWxlY3QucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggSW50ZXJhY3Rpb24gJiYgSW50ZXJhY3Rpb24ucHJvdG90eXBlICk7XG4gIFNlbGVjdC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTZWxlY3Q7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgU2VsZWN0LnByb3RvdHlwZS5hZGRGZWF0dXJlTGF5ZXJBc3NvY2lhdGlvbl8gPSBmdW5jdGlvbiBhZGRGZWF0dXJlTGF5ZXJBc3NvY2lhdGlvbl8gKGZlYXR1cmUsIGxheWVyKSB7XG4gICAgdGhpcy5mZWF0dXJlTGF5ZXJBc3NvY2lhdGlvbl9bZ2V0VWlkKGZlYXR1cmUpXSA9IGxheWVyO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHNlbGVjdGVkIGZlYXR1cmVzLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9Db2xsZWN0aW9uLmpzXCIpLmRlZmF1bHQ8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn0gRmVhdHVyZXMgY29sbGVjdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgU2VsZWN0LnByb3RvdHlwZS5nZXRGZWF0dXJlcyA9IGZ1bmN0aW9uIGdldEZlYXR1cmVzICgpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtWZWN0b3JTb3VyY2V9ICovICh0aGlzLmZlYXR1cmVPdmVybGF5Xy5nZXRTb3VyY2UoKSkuZ2V0RmVhdHVyZXNDb2xsZWN0aW9uKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIEhpdC1kZXRlY3Rpb24gdG9sZXJhbmNlLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBIaXQgdG9sZXJhbmNlIGluIHBpeGVscy5cbiAgICogQGFwaVxuICAgKi9cbiAgU2VsZWN0LnByb3RvdHlwZS5nZXRIaXRUb2xlcmFuY2UgPSBmdW5jdGlvbiBnZXRIaXRUb2xlcmFuY2UgKCkge1xuICAgIHJldHVybiB0aGlzLmhpdFRvbGVyYW5jZV87XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGFzc29jaWF0ZWQge0BsaW5rIG1vZHVsZTpvbC9sYXllci9WZWN0b3J+VmVjdG9yIHZlY3RvcmxheWVyfSBvZlxuICAgKiB0aGUgKGxhc3QpIHNlbGVjdGVkIGZlYXR1cmUuIE5vdGUgdGhhdCB0aGlzIHdpbGwgbm90IHdvcmsgd2l0aCBhbnlcbiAgICogcHJvZ3JhbW1hdGljIG1ldGhvZCBsaWtlIHB1c2hpbmcgZmVhdHVyZXMgdG9cbiAgICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9TZWxlY3R+U2VsZWN0I2dldEZlYXR1cmVzIGNvbGxlY3Rpb259LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZVxuICAgKiBAcmV0dXJuIHtWZWN0b3JMYXllcn0gTGF5ZXIuXG4gICAqIEBhcGlcbiAgICovXG4gIFNlbGVjdC5wcm90b3R5cGUuZ2V0TGF5ZXIgPSBmdW5jdGlvbiBnZXRMYXllciAoZmVhdHVyZSkge1xuICAgIHJldHVybiAoXG4gICAgICAvKiogQHR5cGUge1ZlY3RvckxheWVyfSAqLyAodGhpcy5mZWF0dXJlTGF5ZXJBc3NvY2lhdGlvbl9bZ2V0VWlkKGZlYXR1cmUpXSlcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG92ZXJsYXkgbGF5ZXIgdGhhdCB0aGlzIGludGVyYWN0aW9uIHJlbmRlcnMgc2VsZWN0ZWQgZmVhdHVyZXMgdG8uXG4gICAqIEByZXR1cm4ge1ZlY3RvckxheWVyfSBPdmVybGF5IGxheWVyLlxuICAgKiBAYXBpXG4gICAqL1xuICBTZWxlY3QucHJvdG90eXBlLmdldE92ZXJsYXkgPSBmdW5jdGlvbiBnZXRPdmVybGF5ICgpIHtcbiAgICByZXR1cm4gdGhpcy5mZWF0dXJlT3ZlcmxheV87XG4gIH07XG5cbiAgLyoqXG4gICAqIEhpdC1kZXRlY3Rpb24gdG9sZXJhbmNlLiBQaXhlbHMgaW5zaWRlIHRoZSByYWRpdXMgYXJvdW5kIHRoZSBnaXZlbiBwb3NpdGlvblxuICAgKiB3aWxsIGJlIGNoZWNrZWQgZm9yIGZlYXR1cmVzLiBUaGlzIG9ubHkgd29ya3MgZm9yIHRoZSBjYW52YXMgcmVuZGVyZXIgYW5kXG4gICAqIG5vdCBmb3IgV2ViR0wuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoaXRUb2xlcmFuY2UgSGl0IHRvbGVyYW5jZSBpbiBwaXhlbHMuXG4gICAqIEBhcGlcbiAgICovXG4gIFNlbGVjdC5wcm90b3R5cGUuc2V0SGl0VG9sZXJhbmNlID0gZnVuY3Rpb24gc2V0SGl0VG9sZXJhbmNlIChoaXRUb2xlcmFuY2UpIHtcbiAgICB0aGlzLmhpdFRvbGVyYW5jZV8gPSBoaXRUb2xlcmFuY2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUgaW50ZXJhY3Rpb24gZnJvbSBpdHMgY3VycmVudCBtYXAsIGlmIGFueSwgIGFuZCBhdHRhY2ggaXQgdG8gYSBuZXdcbiAgICogbWFwLCBpZiBhbnkuIFBhc3MgYG51bGxgIHRvIGp1c3QgcmVtb3ZlIHRoZSBpbnRlcmFjdGlvbiBmcm9tIHRoZSBjdXJyZW50IG1hcC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gbWFwIE1hcC5cbiAgICogQG92ZXJyaWRlXG4gICAqIEBhcGlcbiAgICovXG4gIFNlbGVjdC5wcm90b3R5cGUuc2V0TWFwID0gZnVuY3Rpb24gc2V0TWFwIChtYXApIHtcbiAgICB2YXIgY3VycmVudE1hcCA9IHRoaXMuZ2V0TWFwKCk7XG4gICAgdmFyIHNlbGVjdGVkRmVhdHVyZXMgPSB0aGlzLmdldEZlYXR1cmVzKCk7XG4gICAgaWYgKGN1cnJlbnRNYXApIHtcbiAgICAgIHNlbGVjdGVkRmVhdHVyZXMuZm9yRWFjaChjdXJyZW50TWFwLnVuc2tpcEZlYXR1cmUuYmluZChjdXJyZW50TWFwKSk7XG4gICAgfVxuICAgIEludGVyYWN0aW9uLnByb3RvdHlwZS5zZXRNYXAuY2FsbCh0aGlzLCBtYXApO1xuICAgIHRoaXMuZmVhdHVyZU92ZXJsYXlfLnNldE1hcChtYXApO1xuICAgIGlmIChtYXApIHtcbiAgICAgIHNlbGVjdGVkRmVhdHVyZXMuZm9yRWFjaChtYXAuc2tpcEZlYXR1cmUuYmluZChtYXApKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnR9IGV2dCBFdmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIFNlbGVjdC5wcm90b3R5cGUuYWRkRmVhdHVyZV8gPSBmdW5jdGlvbiBhZGRGZWF0dXJlXyAoZXZ0KSB7XG4gICAgdmFyIG1hcCA9IHRoaXMuZ2V0TWFwKCk7XG4gICAgaWYgKG1hcCkge1xuICAgICAgbWFwLnNraXBGZWF0dXJlKC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSAqLyAoZXZ0LmVsZW1lbnQpKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnR9IGV2dCBFdmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIFNlbGVjdC5wcm90b3R5cGUucmVtb3ZlRmVhdHVyZV8gPSBmdW5jdGlvbiByZW1vdmVGZWF0dXJlXyAoZXZ0KSB7XG4gICAgdmFyIG1hcCA9IHRoaXMuZ2V0TWFwKCk7XG4gICAgaWYgKG1hcCkge1xuICAgICAgbWFwLnVuc2tpcEZlYXR1cmUoLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9ICovIChldnQuZWxlbWVudCkpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBTZWxlY3QucHJvdG90eXBlLnJlbW92ZUZlYXR1cmVMYXllckFzc29jaWF0aW9uXyA9IGZ1bmN0aW9uIHJlbW92ZUZlYXR1cmVMYXllckFzc29jaWF0aW9uXyAoZmVhdHVyZSkge1xuICAgIGRlbGV0ZSB0aGlzLmZlYXR1cmVMYXllckFzc29jaWF0aW9uX1tnZXRVaWQoZmVhdHVyZSldO1xuICB9O1xuXG4gIHJldHVybiBTZWxlY3Q7XG59KEludGVyYWN0aW9uKSk7XG5cblxuLyoqXG4gKiBIYW5kbGVzIHRoZSB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudCBtYXAgYnJvd3NlciBldmVudH0gYW5kIG1heSBjaGFuZ2UgdGhlXG4gKiBzZWxlY3RlZCBzdGF0ZSBvZiBmZWF0dXJlcy5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IGBmYWxzZWAgdG8gc3RvcCBldmVudCBwcm9wYWdhdGlvbi5cbiAqIEB0aGlzIHtTZWxlY3R9XG4gKi9cbmZ1bmN0aW9uIGhhbmRsZUV2ZW50KG1hcEJyb3dzZXJFdmVudCkge1xuICBpZiAoIXRoaXMuY29uZGl0aW9uXyhtYXBCcm93c2VyRXZlbnQpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdmFyIGFkZCA9IHRoaXMuYWRkQ29uZGl0aW9uXyhtYXBCcm93c2VyRXZlbnQpO1xuICB2YXIgcmVtb3ZlID0gdGhpcy5yZW1vdmVDb25kaXRpb25fKG1hcEJyb3dzZXJFdmVudCk7XG4gIHZhciB0b2dnbGUgPSB0aGlzLnRvZ2dsZUNvbmRpdGlvbl8obWFwQnJvd3NlckV2ZW50KTtcbiAgdmFyIHNldCA9ICFhZGQgJiYgIXJlbW92ZSAmJiAhdG9nZ2xlO1xuICB2YXIgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgdmFyIGZlYXR1cmVzID0gdGhpcy5nZXRGZWF0dXJlcygpO1xuICB2YXIgZGVzZWxlY3RlZCA9IFtdO1xuICB2YXIgc2VsZWN0ZWQgPSBbXTtcbiAgaWYgKHNldCkge1xuICAgIC8vIFJlcGxhY2UgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBmZWF0dXJlKHMpIHdpdGggdGhlIGZlYXR1cmUocykgYXQgdGhlXG4gICAgLy8gcGl4ZWwsIG9yIGNsZWFyIHRoZSBzZWxlY3RlZCBmZWF0dXJlKHMpIGlmIHRoZXJlIGlzIG5vIGZlYXR1cmUgYXRcbiAgICAvLyB0aGUgcGl4ZWwuXG4gICAgY2xlYXIodGhpcy5mZWF0dXJlTGF5ZXJBc3NvY2lhdGlvbl8pO1xuICAgIG1hcC5mb3JFYWNoRmVhdHVyZUF0UGl4ZWwobWFwQnJvd3NlckV2ZW50LnBpeGVsLFxuICAgICAgKFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdH0gbGF5ZXIgTGF5ZXIuXG4gICAgICAgICAqIEByZXR1cm4ge2Jvb2xlYW58dW5kZWZpbmVkfSBDb250aW51ZSB0byBpdGVyYXRlIG92ZXIgdGhlIGZlYXR1cmVzLlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24oZmVhdHVyZSwgbGF5ZXIpIHtcbiAgICAgICAgICBpZiAodGhpcy5maWx0ZXJfKGZlYXR1cmUsIGxheWVyKSkge1xuICAgICAgICAgICAgc2VsZWN0ZWQucHVzaChmZWF0dXJlKTtcbiAgICAgICAgICAgIHRoaXMuYWRkRmVhdHVyZUxheWVyQXNzb2NpYXRpb25fKGZlYXR1cmUsIGxheWVyKTtcbiAgICAgICAgICAgIHJldHVybiAhdGhpcy5tdWx0aV87XG4gICAgICAgICAgfVxuICAgICAgICB9KS5iaW5kKHRoaXMpLCB7XG4gICAgICAgIGxheWVyRmlsdGVyOiB0aGlzLmxheWVyRmlsdGVyXyxcbiAgICAgICAgaGl0VG9sZXJhbmNlOiB0aGlzLmhpdFRvbGVyYW5jZV9cbiAgICAgIH0pO1xuICAgIGZvciAodmFyIGkgPSBmZWF0dXJlcy5nZXRMZW5ndGgoKSAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICB2YXIgZmVhdHVyZSA9IGZlYXR1cmVzLml0ZW0oaSk7XG4gICAgICB2YXIgaW5kZXggPSBzZWxlY3RlZC5pbmRleE9mKGZlYXR1cmUpO1xuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgLy8gZmVhdHVyZSBpcyBhbHJlYWR5IHNlbGVjdGVkXG4gICAgICAgIHNlbGVjdGVkLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmZWF0dXJlcy5yZW1vdmUoZmVhdHVyZSk7XG4gICAgICAgIGRlc2VsZWN0ZWQucHVzaChmZWF0dXJlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNlbGVjdGVkLmxlbmd0aCAhPT0gMCkge1xuICAgICAgZmVhdHVyZXMuZXh0ZW5kKHNlbGVjdGVkKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gTW9kaWZ5IHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgZmVhdHVyZShzKS5cbiAgICBtYXAuZm9yRWFjaEZlYXR1cmVBdFBpeGVsKG1hcEJyb3dzZXJFdmVudC5waXhlbCxcbiAgICAgIChcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICAgICAgICAgKiBAcmV0dXJuIHtib29sZWFufHVuZGVmaW5lZH0gQ29udGludWUgdG8gaXRlcmF0ZSBvdmVyIHRoZSBmZWF0dXJlcy5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uKGZlYXR1cmUsIGxheWVyKSB7XG4gICAgICAgICAgaWYgKHRoaXMuZmlsdGVyXyhmZWF0dXJlLCBsYXllcikpIHtcbiAgICAgICAgICAgIGlmICgoYWRkIHx8IHRvZ2dsZSkgJiYgIWluY2x1ZGVzKGZlYXR1cmVzLmdldEFycmF5KCksIGZlYXR1cmUpKSB7XG4gICAgICAgICAgICAgIHNlbGVjdGVkLnB1c2goZmVhdHVyZSk7XG4gICAgICAgICAgICAgIHRoaXMuYWRkRmVhdHVyZUxheWVyQXNzb2NpYXRpb25fKGZlYXR1cmUsIGxheWVyKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKHJlbW92ZSB8fCB0b2dnbGUpICYmIGluY2x1ZGVzKGZlYXR1cmVzLmdldEFycmF5KCksIGZlYXR1cmUpKSB7XG4gICAgICAgICAgICAgIGRlc2VsZWN0ZWQucHVzaChmZWF0dXJlKTtcbiAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGZWF0dXJlTGF5ZXJBc3NvY2lhdGlvbl8oZmVhdHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gIXRoaXMubXVsdGlfO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkuYmluZCh0aGlzKSwge1xuICAgICAgICBsYXllckZpbHRlcjogdGhpcy5sYXllckZpbHRlcl8sXG4gICAgICAgIGhpdFRvbGVyYW5jZTogdGhpcy5oaXRUb2xlcmFuY2VfXG4gICAgICB9KTtcbiAgICBmb3IgKHZhciBqID0gZGVzZWxlY3RlZC5sZW5ndGggLSAxOyBqID49IDA7IC0taikge1xuICAgICAgZmVhdHVyZXMucmVtb3ZlKGRlc2VsZWN0ZWRbal0pO1xuICAgIH1cbiAgICBmZWF0dXJlcy5leHRlbmQoc2VsZWN0ZWQpO1xuICB9XG4gIGlmIChzZWxlY3RlZC5sZW5ndGggPiAwIHx8IGRlc2VsZWN0ZWQubGVuZ3RoID4gMCkge1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcbiAgICAgIG5ldyBTZWxlY3RFdmVudChTZWxlY3RFdmVudFR5cGUuU0VMRUNULFxuICAgICAgICBzZWxlY3RlZCwgZGVzZWxlY3RlZCwgbWFwQnJvd3NlckV2ZW50KSk7XG4gIH1cbiAgcmV0dXJuIHBvaW50ZXJNb3ZlKG1hcEJyb3dzZXJFdmVudCk7XG59XG5cblxuLyoqXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUZ1bmN0aW9ufSBTdHlsZXMuXG4gKi9cbmZ1bmN0aW9uIGdldERlZmF1bHRTdHlsZUZ1bmN0aW9uKCkge1xuICB2YXIgc3R5bGVzID0gY3JlYXRlRWRpdGluZ1N0eWxlKCk7XG4gIGV4dGVuZChzdHlsZXNbR2VvbWV0cnlUeXBlLlBPTFlHT05dLCBzdHlsZXNbR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HXSk7XG4gIGV4dGVuZChzdHlsZXNbR2VvbWV0cnlUeXBlLkdFT01FVFJZX0NPTExFQ1RJT05dLCBzdHlsZXNbR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HXSk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGZlYXR1cmUsIHJlc29sdXRpb24pIHtcbiAgICBpZiAoIWZlYXR1cmUuZ2V0R2VvbWV0cnkoKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBzdHlsZXNbZmVhdHVyZS5nZXRHZW9tZXRyeSgpLmdldFR5cGUoKV07XG4gIH07XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgU2VsZWN0O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1TZWxlY3QuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL1NuYXBcbiAqL1xuaW1wb3J0IHtnZXRVaWR9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IENvbGxlY3Rpb25FdmVudFR5cGUgZnJvbSAnLi4vQ29sbGVjdGlvbkV2ZW50VHlwZS5qcyc7XG5pbXBvcnQge2Rpc3RhbmNlIGFzIGNvb3JkaW5hdGVEaXN0YW5jZSwgc3F1YXJlZERpc3RhbmNlIGFzIHNxdWFyZWRDb29yZGluYXRlRGlzdGFuY2UsIGNsb3Nlc3RPbkNpcmNsZSwgY2xvc2VzdE9uU2VnbWVudCwgc3F1YXJlZERpc3RhbmNlVG9TZWdtZW50fSBmcm9tICcuLi9jb29yZGluYXRlLmpzJztcbmltcG9ydCB7bGlzdGVuLCB1bmxpc3RlbkJ5S2V5fSBmcm9tICcuLi9ldmVudHMuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7Ym91bmRpbmdFeHRlbnQsIGNyZWF0ZUVtcHR5fSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHtUUlVFLCBGQUxTRX0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCBHZW9tZXRyeVR5cGUgZnJvbSAnLi4vZ2VvbS9HZW9tZXRyeVR5cGUuanMnO1xuaW1wb3J0IHtmcm9tQ2lyY2xlfSBmcm9tICcuLi9nZW9tL1BvbHlnb24uanMnO1xuaW1wb3J0IFBvaW50ZXJJbnRlcmFjdGlvbiBmcm9tICcuL1BvaW50ZXIuanMnO1xuaW1wb3J0IHtnZXRWYWx1ZXN9IGZyb20gJy4uL29iai5qcyc7XG5pbXBvcnQgVmVjdG9yRXZlbnRUeXBlIGZyb20gJy4uL3NvdXJjZS9WZWN0b3JFdmVudFR5cGUuanMnO1xuaW1wb3J0IFJCdXNoIGZyb20gJy4uL3N0cnVjdHMvUkJ1c2guanMnO1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUmVzdWx0XG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHNuYXBwZWRcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfG51bGx9IHZlcnRleFxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbHxudWxsfSB2ZXJ0ZXhQaXhlbFxuICovXG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBTZWdtZW50RGF0YVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmVcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gc2VnbWVudFxuICovXG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL0NvbGxlY3Rpb24uanNcIikuZGVmYXVsdDxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fSBbZmVhdHVyZXNdIFNuYXAgdG8gdGhlc2UgZmVhdHVyZXMuIEVpdGhlciB0aGlzIG9wdGlvbiBvciBzb3VyY2Ugc2hvdWxkIGJlIHByb3ZpZGVkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbZWRnZT10cnVlXSBTbmFwIHRvIGVkZ2VzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdmVydGV4PXRydWVdIFNuYXAgdG8gdmVydGljZXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3BpeGVsVG9sZXJhbmNlPTEwXSBQaXhlbCB0b2xlcmFuY2UgZm9yIGNvbnNpZGVyaW5nIHRoZSBwb2ludGVyIGNsb3NlIGVub3VnaCB0byBhIHNlZ21lbnQgb3JcbiAqIHZlcnRleCBmb3Igc25hcHBpbmcuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3NvdXJjZS9WZWN0b3IuanNcIikuZGVmYXVsdH0gW3NvdXJjZV0gU25hcCB0byBmZWF0dXJlcyBmcm9tIHRoaXMgc291cmNlLiBFaXRoZXIgdGhpcyBvcHRpb24gb3IgZmVhdHVyZXMgc2hvdWxkIGJlIHByb3ZpZGVkXG4gKi9cblxuXG4vKipcbiAqIEBwYXJhbSAge2ltcG9ydChcIi4uL3NvdXJjZS9WZWN0b3IuanNcIikuVmVjdG9yU291cmNlRXZlbnR8aW1wb3J0KFwiLi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnR9IGV2dCBFdmVudC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gRmVhdHVyZS5cbiAqL1xuZnVuY3Rpb24gZ2V0RmVhdHVyZUZyb21FdmVudChldnQpIHtcbiAgaWYgKC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vc291cmNlL1ZlY3Rvci5qc1wiKS5WZWN0b3JTb3VyY2VFdmVudH0gKi8gKGV2dCkuZmVhdHVyZSkge1xuICAgIHJldHVybiAvKiogQHR5cGUge2ltcG9ydChcIi4uL3NvdXJjZS9WZWN0b3IuanNcIikuVmVjdG9yU291cmNlRXZlbnR9ICovIChldnQpLmZlYXR1cmU7XG4gIH0gZWxzZSBpZiAoLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25FdmVudH0gKi8gKGV2dCkuZWxlbWVudCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gKi8gKC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnR9ICovIChldnQpLmVsZW1lbnQpO1xuICB9XG5cbn1cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBIYW5kbGVzIHNuYXBwaW5nIG9mIHZlY3RvciBmZWF0dXJlcyB3aGlsZSBtb2RpZnlpbmcgb3IgZHJhd2luZyB0aGVtLiAgVGhlXG4gKiBmZWF0dXJlcyBjYW4gY29tZSBmcm9tIGEge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yfSBvciB7QGxpbmsgbW9kdWxlOm9sL0NvbGxlY3Rpb25+Q29sbGVjdGlvbn1cbiAqIEFueSBpbnRlcmFjdGlvbiBvYmplY3QgdGhhdCBhbGxvd3MgdGhlIHVzZXIgdG8gaW50ZXJhY3RcbiAqIHdpdGggdGhlIGZlYXR1cmVzIHVzaW5nIHRoZSBtb3VzZSBjYW4gYmVuZWZpdCBmcm9tIHRoZSBzbmFwcGluZywgYXMgbG9uZ1xuICogYXMgaXQgaXMgYWRkZWQgYmVmb3JlLlxuICpcbiAqIFRoZSBzbmFwIGludGVyYWN0aW9uIG1vZGlmaWVzIG1hcCBicm93c2VyIGV2ZW50IGBjb29yZGluYXRlYCBhbmQgYHBpeGVsYFxuICogcHJvcGVydGllcyB0byBmb3JjZSB0aGUgc25hcCB0byBvY2N1ciB0byBhbnkgaW50ZXJhY3Rpb24gdGhhdCB0aGVtLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogICAgIGltcG9ydCBTbmFwIGZyb20gJ29sL2ludGVyYWN0aW9uL1NuYXAnO1xuICpcbiAqICAgICB2YXIgc25hcCA9IG5ldyBTbmFwKHtcbiAqICAgICAgIHNvdXJjZTogc291cmNlXG4gKiAgICAgfSk7XG4gKlxuICogQGFwaVxuICovXG52YXIgU25hcCA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFBvaW50ZXJJbnRlcmFjdGlvbikge1xuICBmdW5jdGlvbiBTbmFwKG9wdF9vcHRpb25zKSB7XG5cbiAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcblxuICAgIHZhciBwb2ludGVyT3B0aW9ucyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9Qb2ludGVyLmpzXCIpLk9wdGlvbnN9ICovIChvcHRpb25zKTtcblxuICAgIGlmICghcG9pbnRlck9wdGlvbnMuaGFuZGxlRG93bkV2ZW50KSB7XG4gICAgICBwb2ludGVyT3B0aW9ucy5oYW5kbGVEb3duRXZlbnQgPSBUUlVFO1xuICAgIH1cblxuICAgIGlmICghcG9pbnRlck9wdGlvbnMuc3RvcERvd24pIHtcbiAgICAgIHBvaW50ZXJPcHRpb25zLnN0b3BEb3duID0gRkFMU0U7XG4gICAgfVxuXG4gICAgUG9pbnRlckludGVyYWN0aW9uLmNhbGwodGhpcywgcG9pbnRlck9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3NvdXJjZS9WZWN0b3IuanNcIikuZGVmYXVsdH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuc291cmNlXyA9IG9wdGlvbnMuc291cmNlID8gb3B0aW9ucy5zb3VyY2UgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnZlcnRleF8gPSBvcHRpb25zLnZlcnRleCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy52ZXJ0ZXggOiB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmVkZ2VfID0gb3B0aW9ucy5lZGdlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmVkZ2UgOiB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL0NvbGxlY3Rpb24uanNcIikuZGVmYXVsdDxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5mZWF0dXJlc18gPSBvcHRpb25zLmZlYXR1cmVzID8gb3B0aW9ucy5mZWF0dXJlcyA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmZlYXR1cmVzTGlzdGVuZXJLZXlzXyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5mZWF0dXJlQ2hhbmdlTGlzdGVuZXJLZXlzXyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogRXh0ZW50cyBhcmUgcHJlc2VydmVkIHNvIGluZGV4ZWQgc2VnbWVudCBjYW4gYmUgcXVpY2tseSByZW1vdmVkXG4gICAgICogd2hlbiBpdHMgZmVhdHVyZSBnZW9tZXRyeSBjaGFuZ2VzXG4gICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnQ+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5pbmRleGVkRmVhdHVyZXNFeHRlbnRzXyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogSWYgYSBmZWF0dXJlIGdlb21ldHJ5IGNoYW5nZXMgd2hpbGUgYSBwb2ludGVyIGRyYWd8bW92ZSBldmVudCBvY2N1cnMsIHRoZVxuICAgICAqIGZlYXR1cmUgZG9lc24ndCBnZXQgdXBkYXRlZCByaWdodCBhd2F5LiAgSXQgd2lsbCBiZSBhdCB0aGUgbmV4dCAncG9pbnRlcnVwJ1xuICAgICAqIGV2ZW50IGZpcmVkLlxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMucGVuZGluZ0ZlYXR1cmVzXyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogVXNlZCBmb3IgZGlzdGFuY2Ugc29ydGluZyBpbiBzb3J0QnlEaXN0YW5jZV9cbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5waXhlbENvb3JkaW5hdGVfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnBpeGVsVG9sZXJhbmNlXyA9IG9wdGlvbnMucGl4ZWxUb2xlcmFuY2UgIT09IHVuZGVmaW5lZCA/XG4gICAgICBvcHRpb25zLnBpeGVsVG9sZXJhbmNlIDogMTA7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oU2VnbWVudERhdGEsIFNlZ21lbnREYXRhKTogbnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5zb3J0QnlEaXN0YW5jZV8gPSBzb3J0QnlEaXN0YW5jZS5iaW5kKHRoaXMpO1xuXG5cbiAgICAvKipcbiAgICAqIFNlZ21lbnQgUlRyZWUgZm9yIGVhY2ggbGF5ZXJcbiAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zdHJ1Y3RzL1JCdXNoLmpzXCIpLmRlZmF1bHQ8U2VnbWVudERhdGE+fVxuICAgICogQHByaXZhdGVcbiAgICAqL1xuICAgIHRoaXMuckJ1c2hfID0gbmV3IFJCdXNoKCk7XG5cblxuICAgIC8qKlxuICAgICogQGNvbnN0XG4gICAgKiBAcHJpdmF0ZVxuICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIGZ1bmN0aW9uKGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdCwgaW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0KT59XG4gICAgKi9cbiAgICB0aGlzLlNFR01FTlRfV1JJVEVSU18gPSB7XG4gICAgICAnUG9pbnQnOiB0aGlzLndyaXRlUG9pbnRHZW9tZXRyeV8sXG4gICAgICAnTGluZVN0cmluZyc6IHRoaXMud3JpdGVMaW5lU3RyaW5nR2VvbWV0cnlfLFxuICAgICAgJ0xpbmVhclJpbmcnOiB0aGlzLndyaXRlTGluZVN0cmluZ0dlb21ldHJ5XyxcbiAgICAgICdQb2x5Z29uJzogdGhpcy53cml0ZVBvbHlnb25HZW9tZXRyeV8sXG4gICAgICAnTXVsdGlQb2ludCc6IHRoaXMud3JpdGVNdWx0aVBvaW50R2VvbWV0cnlfLFxuICAgICAgJ011bHRpTGluZVN0cmluZyc6IHRoaXMud3JpdGVNdWx0aUxpbmVTdHJpbmdHZW9tZXRyeV8sXG4gICAgICAnTXVsdGlQb2x5Z29uJzogdGhpcy53cml0ZU11bHRpUG9seWdvbkdlb21ldHJ5XyxcbiAgICAgICdHZW9tZXRyeUNvbGxlY3Rpb24nOiB0aGlzLndyaXRlR2VvbWV0cnlDb2xsZWN0aW9uR2VvbWV0cnlfLFxuICAgICAgJ0NpcmNsZSc6IHRoaXMud3JpdGVDaXJjbGVHZW9tZXRyeV9cbiAgICB9O1xuICB9XG5cbiAgaWYgKCBQb2ludGVySW50ZXJhY3Rpb24gKSBTbmFwLl9fcHJvdG9fXyA9IFBvaW50ZXJJbnRlcmFjdGlvbjtcbiAgU25hcC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBQb2ludGVySW50ZXJhY3Rpb24gJiYgUG9pbnRlckludGVyYWN0aW9uLnByb3RvdHlwZSApO1xuICBTbmFwLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNuYXA7XG5cbiAgLyoqXG4gICAqIEFkZCBhIGZlYXR1cmUgdG8gdGhlIGNvbGxlY3Rpb24gb2YgZmVhdHVyZXMgdGhhdCB3ZSBtYXkgc25hcCB0by5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2xpc3RlbiBXaGV0aGVyIHRvIGxpc3RlbiB0byB0aGUgZmVhdHVyZSBjaGFuZ2Ugb3Igbm90XG4gICAqICAgICBEZWZhdWx0cyB0byBgdHJ1ZWAuXG4gICAqIEBhcGlcbiAgICovXG4gIFNuYXAucHJvdG90eXBlLmFkZEZlYXR1cmUgPSBmdW5jdGlvbiBhZGRGZWF0dXJlIChmZWF0dXJlLCBvcHRfbGlzdGVuKSB7XG4gICAgdmFyIHJlZ2lzdGVyID0gb3B0X2xpc3RlbiAhPT0gdW5kZWZpbmVkID8gb3B0X2xpc3RlbiA6IHRydWU7XG4gICAgdmFyIGZlYXR1cmVfdWlkID0gZ2V0VWlkKGZlYXR1cmUpO1xuICAgIHZhciBnZW9tZXRyeSA9IGZlYXR1cmUuZ2V0R2VvbWV0cnkoKTtcbiAgICBpZiAoZ2VvbWV0cnkpIHtcbiAgICAgIHZhciBzZWdtZW50V3JpdGVyID0gdGhpcy5TRUdNRU5UX1dSSVRFUlNfW2dlb21ldHJ5LmdldFR5cGUoKV07XG4gICAgICBpZiAoc2VnbWVudFdyaXRlcikge1xuICAgICAgICB0aGlzLmluZGV4ZWRGZWF0dXJlc0V4dGVudHNfW2ZlYXR1cmVfdWlkXSA9IGdlb21ldHJ5LmdldEV4dGVudChjcmVhdGVFbXB0eSgpKTtcbiAgICAgICAgc2VnbWVudFdyaXRlci5jYWxsKHRoaXMsIGZlYXR1cmUsIGdlb21ldHJ5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocmVnaXN0ZXIpIHtcbiAgICAgIHRoaXMuZmVhdHVyZUNoYW5nZUxpc3RlbmVyS2V5c19bZmVhdHVyZV91aWRdID0gbGlzdGVuKFxuICAgICAgICBmZWF0dXJlLFxuICAgICAgICBFdmVudFR5cGUuQ0hBTkdFLFxuICAgICAgICB0aGlzLmhhbmRsZUZlYXR1cmVDaGFuZ2VfLCB0aGlzKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBTbmFwLnByb3RvdHlwZS5mb3JFYWNoRmVhdHVyZUFkZF8gPSBmdW5jdGlvbiBmb3JFYWNoRmVhdHVyZUFkZF8gKGZlYXR1cmUpIHtcbiAgICB0aGlzLmFkZEZlYXR1cmUoZmVhdHVyZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBTbmFwLnByb3RvdHlwZS5mb3JFYWNoRmVhdHVyZVJlbW92ZV8gPSBmdW5jdGlvbiBmb3JFYWNoRmVhdHVyZVJlbW92ZV8gKGZlYXR1cmUpIHtcbiAgICB0aGlzLnJlbW92ZUZlYXR1cmUoZmVhdHVyZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL0NvbGxlY3Rpb24uanNcIikuZGVmYXVsdDxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fEFycmF5PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59IEZlYXR1cmVzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgU25hcC5wcm90b3R5cGUuZ2V0RmVhdHVyZXNfID0gZnVuY3Rpb24gZ2V0RmVhdHVyZXNfICgpIHtcbiAgICB2YXIgZmVhdHVyZXM7XG4gICAgaWYgKHRoaXMuZmVhdHVyZXNfKSB7XG4gICAgICBmZWF0dXJlcyA9IHRoaXMuZmVhdHVyZXNfO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zb3VyY2VfKSB7XG4gICAgICBmZWF0dXJlcyA9IHRoaXMuc291cmNlXy5nZXRGZWF0dXJlcygpO1xuICAgIH1cbiAgICByZXR1cm4gZmVhdHVyZXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBTbmFwLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uIGhhbmRsZUV2ZW50IChldnQpIHtcbiAgICB2YXIgcmVzdWx0ID0gdGhpcy5zbmFwVG8oZXZ0LnBpeGVsLCBldnQuY29vcmRpbmF0ZSwgZXZ0Lm1hcCk7XG4gICAgaWYgKHJlc3VsdC5zbmFwcGVkKSB7XG4gICAgICBldnQuY29vcmRpbmF0ZSA9IHJlc3VsdC52ZXJ0ZXguc2xpY2UoMCwgMik7XG4gICAgICBldnQucGl4ZWwgPSByZXN1bHQudmVydGV4UGl4ZWw7XG4gICAgfVxuICAgIHJldHVybiBQb2ludGVySW50ZXJhY3Rpb24ucHJvdG90eXBlLmhhbmRsZUV2ZW50LmNhbGwodGhpcywgZXZ0KTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zb3VyY2UvVmVjdG9yLmpzXCIpLlZlY3RvclNvdXJjZUV2ZW50fGltcG9ydChcIi4uL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50fSBldnQgRXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBTbmFwLnByb3RvdHlwZS5oYW5kbGVGZWF0dXJlQWRkXyA9IGZ1bmN0aW9uIGhhbmRsZUZlYXR1cmVBZGRfIChldnQpIHtcbiAgICB2YXIgZmVhdHVyZSA9IGdldEZlYXR1cmVGcm9tRXZlbnQoZXZ0KTtcbiAgICB0aGlzLmFkZEZlYXR1cmUoZmVhdHVyZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc291cmNlL1ZlY3Rvci5qc1wiKS5WZWN0b3JTb3VyY2VFdmVudHxpbXBvcnQoXCIuLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25FdmVudH0gZXZ0IEV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgU25hcC5wcm90b3R5cGUuaGFuZGxlRmVhdHVyZVJlbW92ZV8gPSBmdW5jdGlvbiBoYW5kbGVGZWF0dXJlUmVtb3ZlXyAoZXZ0KSB7XG4gICAgdmFyIGZlYXR1cmUgPSBnZXRGZWF0dXJlRnJvbUV2ZW50KGV2dCk7XG4gICAgdGhpcy5yZW1vdmVGZWF0dXJlKGZlYXR1cmUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0fSBldnQgRXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBTbmFwLnByb3RvdHlwZS5oYW5kbGVGZWF0dXJlQ2hhbmdlXyA9IGZ1bmN0aW9uIGhhbmRsZUZlYXR1cmVDaGFuZ2VfIChldnQpIHtcbiAgICB2YXIgZmVhdHVyZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSAqLyAoZXZ0LnRhcmdldCk7XG4gICAgaWYgKHRoaXMuaGFuZGxpbmdEb3duVXBTZXF1ZW5jZSkge1xuICAgICAgdmFyIHVpZCA9IGdldFVpZChmZWF0dXJlKTtcbiAgICAgIGlmICghKHVpZCBpbiB0aGlzLnBlbmRpbmdGZWF0dXJlc18pKSB7XG4gICAgICAgIHRoaXMucGVuZGluZ0ZlYXR1cmVzX1t1aWRdID0gZmVhdHVyZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51cGRhdGVGZWF0dXJlXyhmZWF0dXJlKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBTbmFwLnByb3RvdHlwZS5oYW5kbGVVcEV2ZW50ID0gZnVuY3Rpb24gaGFuZGxlVXBFdmVudCAoZXZ0KSB7XG4gICAgdmFyIGZlYXR1cmVzVG9VcGRhdGUgPSBnZXRWYWx1ZXModGhpcy5wZW5kaW5nRmVhdHVyZXNfKTtcbiAgICBpZiAoZmVhdHVyZXNUb1VwZGF0ZS5sZW5ndGgpIHtcbiAgICAgIGZlYXR1cmVzVG9VcGRhdGUuZm9yRWFjaCh0aGlzLnVwZGF0ZUZlYXR1cmVfLmJpbmQodGhpcykpO1xuICAgICAgdGhpcy5wZW5kaW5nRmVhdHVyZXNfID0ge307XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlIGEgZmVhdHVyZSBmcm9tIHRoZSBjb2xsZWN0aW9uIG9mIGZlYXR1cmVzIHRoYXQgd2UgbWF5IHNuYXAgdG8uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmVcbiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X3VubGlzdGVuIFdoZXRoZXIgdG8gdW5saXN0ZW4gdG8gdGhlIGZlYXR1cmUgY2hhbmdlXG4gICAqICAgICBvciBub3QuIERlZmF1bHRzIHRvIGB0cnVlYC5cbiAgICogQGFwaVxuICAgKi9cbiAgU25hcC5wcm90b3R5cGUucmVtb3ZlRmVhdHVyZSA9IGZ1bmN0aW9uIHJlbW92ZUZlYXR1cmUgKGZlYXR1cmUsIG9wdF91bmxpc3Rlbikge1xuICAgIHZhciB1bnJlZ2lzdGVyID0gb3B0X3VubGlzdGVuICE9PSB1bmRlZmluZWQgPyBvcHRfdW5saXN0ZW4gOiB0cnVlO1xuICAgIHZhciBmZWF0dXJlX3VpZCA9IGdldFVpZChmZWF0dXJlKTtcbiAgICB2YXIgZXh0ZW50ID0gdGhpcy5pbmRleGVkRmVhdHVyZXNFeHRlbnRzX1tmZWF0dXJlX3VpZF07XG4gICAgaWYgKGV4dGVudCkge1xuICAgICAgdmFyIHJCdXNoID0gdGhpcy5yQnVzaF87XG4gICAgICB2YXIgbm9kZXNUb1JlbW92ZSA9IFtdO1xuICAgICAgckJ1c2guZm9yRWFjaEluRXh0ZW50KGV4dGVudCwgZnVuY3Rpb24obm9kZSkge1xuICAgICAgICBpZiAoZmVhdHVyZSA9PT0gbm9kZS5mZWF0dXJlKSB7XG4gICAgICAgICAgbm9kZXNUb1JlbW92ZS5wdXNoKG5vZGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGZvciAodmFyIGkgPSBub2Rlc1RvUmVtb3ZlLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHJCdXNoLnJlbW92ZShub2Rlc1RvUmVtb3ZlW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodW5yZWdpc3Rlcikge1xuICAgICAgdW5saXN0ZW5CeUtleSh0aGlzLmZlYXR1cmVDaGFuZ2VMaXN0ZW5lcktleXNfW2ZlYXR1cmVfdWlkXSk7XG4gICAgICBkZWxldGUgdGhpcy5mZWF0dXJlQ2hhbmdlTGlzdGVuZXJLZXlzX1tmZWF0dXJlX3VpZF07XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgU25hcC5wcm90b3R5cGUuc2V0TWFwID0gZnVuY3Rpb24gc2V0TWFwIChtYXApIHtcbiAgICB2YXIgY3VycmVudE1hcCA9IHRoaXMuZ2V0TWFwKCk7XG4gICAgdmFyIGtleXMgPSB0aGlzLmZlYXR1cmVzTGlzdGVuZXJLZXlzXztcbiAgICB2YXIgZmVhdHVyZXMgPSAvKiogQHR5cGUge0FycmF5PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59ICovICh0aGlzLmdldEZlYXR1cmVzXygpKTtcblxuICAgIGlmIChjdXJyZW50TWFwKSB7XG4gICAgICBrZXlzLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgICBrZXlzLmxlbmd0aCA9IDA7XG4gICAgICBmZWF0dXJlcy5mb3JFYWNoKHRoaXMuZm9yRWFjaEZlYXR1cmVSZW1vdmVfLmJpbmQodGhpcykpO1xuICAgIH1cbiAgICBQb2ludGVySW50ZXJhY3Rpb24ucHJvdG90eXBlLnNldE1hcC5jYWxsKHRoaXMsIG1hcCk7XG5cbiAgICBpZiAobWFwKSB7XG4gICAgICBpZiAodGhpcy5mZWF0dXJlc18pIHtcbiAgICAgICAga2V5cy5wdXNoKFxuICAgICAgICAgIGxpc3Rlbih0aGlzLmZlYXR1cmVzXywgQ29sbGVjdGlvbkV2ZW50VHlwZS5BREQsXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUZlYXR1cmVBZGRfLCB0aGlzKSxcbiAgICAgICAgICBsaXN0ZW4odGhpcy5mZWF0dXJlc18sIENvbGxlY3Rpb25FdmVudFR5cGUuUkVNT1ZFLFxuICAgICAgICAgICAgdGhpcy5oYW5kbGVGZWF0dXJlUmVtb3ZlXywgdGhpcylcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zb3VyY2VfKSB7XG4gICAgICAgIGtleXMucHVzaChcbiAgICAgICAgICBsaXN0ZW4odGhpcy5zb3VyY2VfLCBWZWN0b3JFdmVudFR5cGUuQURERkVBVFVSRSxcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRmVhdHVyZUFkZF8sIHRoaXMpLFxuICAgICAgICAgIGxpc3Rlbih0aGlzLnNvdXJjZV8sIFZlY3RvckV2ZW50VHlwZS5SRU1PVkVGRUFUVVJFLFxuICAgICAgICAgICAgdGhpcy5oYW5kbGVGZWF0dXJlUmVtb3ZlXywgdGhpcylcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGZlYXR1cmVzLmZvckVhY2godGhpcy5mb3JFYWNoRmVhdHVyZUFkZF8uYmluZCh0aGlzKSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbFxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gcGl4ZWxDb29yZGluYXRlIENvb3JkaW5hdGVcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gbWFwIE1hcC5cbiAgICogQHJldHVybiB7UmVzdWx0fSBTbmFwIHJlc3VsdFxuICAgKi9cbiAgU25hcC5wcm90b3R5cGUuc25hcFRvID0gZnVuY3Rpb24gc25hcFRvIChwaXhlbCwgcGl4ZWxDb29yZGluYXRlLCBtYXApIHtcblxuICAgIHZhciBsb3dlckxlZnQgPSBtYXAuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbChcbiAgICAgIFtwaXhlbFswXSAtIHRoaXMucGl4ZWxUb2xlcmFuY2VfLCBwaXhlbFsxXSArIHRoaXMucGl4ZWxUb2xlcmFuY2VfXSk7XG4gICAgdmFyIHVwcGVyUmlnaHQgPSBtYXAuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbChcbiAgICAgIFtwaXhlbFswXSArIHRoaXMucGl4ZWxUb2xlcmFuY2VfLCBwaXhlbFsxXSAtIHRoaXMucGl4ZWxUb2xlcmFuY2VfXSk7XG4gICAgdmFyIGJveCA9IGJvdW5kaW5nRXh0ZW50KFtsb3dlckxlZnQsIHVwcGVyUmlnaHRdKTtcblxuICAgIHZhciBzZWdtZW50cyA9IHRoaXMuckJ1c2hfLmdldEluRXh0ZW50KGJveCk7XG5cbiAgICAvLyBJZiBzbmFwcGluZyBvbiB2ZXJ0aWNlcyBvbmx5LCBkb24ndCBjb25zaWRlciBjaXJjbGVzXG4gICAgaWYgKHRoaXMudmVydGV4XyAmJiAhdGhpcy5lZGdlXykge1xuICAgICAgc2VnbWVudHMgPSBzZWdtZW50cy5maWx0ZXIoZnVuY3Rpb24oc2VnbWVudCkge1xuICAgICAgICByZXR1cm4gc2VnbWVudC5mZWF0dXJlLmdldEdlb21ldHJ5KCkuZ2V0VHlwZSgpICE9PVxuICAgICAgICAgICAgR2VvbWV0cnlUeXBlLkNJUkNMRTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBzbmFwcGVkVG9WZXJ0ZXggPSBmYWxzZTtcbiAgICB2YXIgc25hcHBlZCA9IGZhbHNlO1xuICAgIHZhciB2ZXJ0ZXggPSBudWxsO1xuICAgIHZhciB2ZXJ0ZXhQaXhlbCA9IG51bGw7XG4gICAgdmFyIGRpc3QsIHBpeGVsMSwgcGl4ZWwyLCBzcXVhcmVkRGlzdDEsIHNxdWFyZWREaXN0MjtcbiAgICBpZiAoc2VnbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5waXhlbENvb3JkaW5hdGVfID0gcGl4ZWxDb29yZGluYXRlO1xuICAgICAgc2VnbWVudHMuc29ydCh0aGlzLnNvcnRCeURpc3RhbmNlXyk7XG4gICAgICB2YXIgY2xvc2VzdFNlZ21lbnQgPSBzZWdtZW50c1swXS5zZWdtZW50O1xuICAgICAgdmFyIGlzQ2lyY2xlID0gc2VnbWVudHNbMF0uZmVhdHVyZS5nZXRHZW9tZXRyeSgpLmdldFR5cGUoKSA9PT1cbiAgICAgICAgICBHZW9tZXRyeVR5cGUuQ0lSQ0xFO1xuICAgICAgaWYgKHRoaXMudmVydGV4XyAmJiAhdGhpcy5lZGdlXykge1xuICAgICAgICBwaXhlbDEgPSBtYXAuZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZShjbG9zZXN0U2VnbWVudFswXSk7XG4gICAgICAgIHBpeGVsMiA9IG1hcC5nZXRQaXhlbEZyb21Db29yZGluYXRlKGNsb3Nlc3RTZWdtZW50WzFdKTtcbiAgICAgICAgc3F1YXJlZERpc3QxID0gc3F1YXJlZENvb3JkaW5hdGVEaXN0YW5jZShwaXhlbCwgcGl4ZWwxKTtcbiAgICAgICAgc3F1YXJlZERpc3QyID0gc3F1YXJlZENvb3JkaW5hdGVEaXN0YW5jZShwaXhlbCwgcGl4ZWwyKTtcbiAgICAgICAgZGlzdCA9IE1hdGguc3FydChNYXRoLm1pbihzcXVhcmVkRGlzdDEsIHNxdWFyZWREaXN0MikpO1xuICAgICAgICBzbmFwcGVkVG9WZXJ0ZXggPSBkaXN0IDw9IHRoaXMucGl4ZWxUb2xlcmFuY2VfO1xuICAgICAgICBpZiAoc25hcHBlZFRvVmVydGV4KSB7XG4gICAgICAgICAgc25hcHBlZCA9IHRydWU7XG4gICAgICAgICAgdmVydGV4ID0gc3F1YXJlZERpc3QxID4gc3F1YXJlZERpc3QyID8gY2xvc2VzdFNlZ21lbnRbMV0gOiBjbG9zZXN0U2VnbWVudFswXTtcbiAgICAgICAgICB2ZXJ0ZXhQaXhlbCA9IG1hcC5nZXRQaXhlbEZyb21Db29yZGluYXRlKHZlcnRleCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5lZGdlXykge1xuICAgICAgICBpZiAoaXNDaXJjbGUpIHtcbiAgICAgICAgICB2ZXJ0ZXggPSBjbG9zZXN0T25DaXJjbGUocGl4ZWxDb29yZGluYXRlLFxuICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9nZW9tL0NpcmNsZS5qc1wiKS5kZWZhdWx0fSAqLyAoc2VnbWVudHNbMF0uZmVhdHVyZS5nZXRHZW9tZXRyeSgpKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmVydGV4ID0gY2xvc2VzdE9uU2VnbWVudChwaXhlbENvb3JkaW5hdGUsIGNsb3Nlc3RTZWdtZW50KTtcbiAgICAgICAgfVxuICAgICAgICB2ZXJ0ZXhQaXhlbCA9IG1hcC5nZXRQaXhlbEZyb21Db29yZGluYXRlKHZlcnRleCk7XG4gICAgICAgIGlmIChjb29yZGluYXRlRGlzdGFuY2UocGl4ZWwsIHZlcnRleFBpeGVsKSA8PSB0aGlzLnBpeGVsVG9sZXJhbmNlXykge1xuICAgICAgICAgIHNuYXBwZWQgPSB0cnVlO1xuICAgICAgICAgIGlmICh0aGlzLnZlcnRleF8gJiYgIWlzQ2lyY2xlKSB7XG4gICAgICAgICAgICBwaXhlbDEgPSBtYXAuZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZShjbG9zZXN0U2VnbWVudFswXSk7XG4gICAgICAgICAgICBwaXhlbDIgPSBtYXAuZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZShjbG9zZXN0U2VnbWVudFsxXSk7XG4gICAgICAgICAgICBzcXVhcmVkRGlzdDEgPSBzcXVhcmVkQ29vcmRpbmF0ZURpc3RhbmNlKHZlcnRleFBpeGVsLCBwaXhlbDEpO1xuICAgICAgICAgICAgc3F1YXJlZERpc3QyID0gc3F1YXJlZENvb3JkaW5hdGVEaXN0YW5jZSh2ZXJ0ZXhQaXhlbCwgcGl4ZWwyKTtcbiAgICAgICAgICAgIGRpc3QgPSBNYXRoLnNxcnQoTWF0aC5taW4oc3F1YXJlZERpc3QxLCBzcXVhcmVkRGlzdDIpKTtcbiAgICAgICAgICAgIHNuYXBwZWRUb1ZlcnRleCA9IGRpc3QgPD0gdGhpcy5waXhlbFRvbGVyYW5jZV87XG4gICAgICAgICAgICBpZiAoc25hcHBlZFRvVmVydGV4KSB7XG4gICAgICAgICAgICAgIHZlcnRleCA9IHNxdWFyZWREaXN0MSA+IHNxdWFyZWREaXN0MiA/IGNsb3Nlc3RTZWdtZW50WzFdIDogY2xvc2VzdFNlZ21lbnRbMF07XG4gICAgICAgICAgICAgIHZlcnRleFBpeGVsID0gbWFwLmdldFBpeGVsRnJvbUNvb3JkaW5hdGUodmVydGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzbmFwcGVkKSB7XG4gICAgICAgIHZlcnRleFBpeGVsID0gW01hdGgucm91bmQodmVydGV4UGl4ZWxbMF0pLCBNYXRoLnJvdW5kKHZlcnRleFBpeGVsWzFdKV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICAvKiogQHR5cGUge1Jlc3VsdH0gKi8gKHtcbiAgICAgICAgc25hcHBlZDogc25hcHBlZCxcbiAgICAgICAgdmVydGV4OiB2ZXJ0ZXgsXG4gICAgICAgIHZlcnRleFBpeGVsOiB2ZXJ0ZXhQaXhlbFxuICAgICAgfSlcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBTbmFwLnByb3RvdHlwZS51cGRhdGVGZWF0dXJlXyA9IGZ1bmN0aW9uIHVwZGF0ZUZlYXR1cmVfIChmZWF0dXJlKSB7XG4gICAgdGhpcy5yZW1vdmVGZWF0dXJlKGZlYXR1cmUsIGZhbHNlKTtcbiAgICB0aGlzLmFkZEZlYXR1cmUoZmVhdHVyZSwgZmFsc2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9DaXJjbGUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBTbmFwLnByb3RvdHlwZS53cml0ZUNpcmNsZUdlb21ldHJ5XyA9IGZ1bmN0aW9uIHdyaXRlQ2lyY2xlR2VvbWV0cnlfIChmZWF0dXJlLCBnZW9tZXRyeSkge1xuICAgIHZhciBwb2x5Z29uID0gZnJvbUNpcmNsZShnZW9tZXRyeSk7XG4gICAgdmFyIGNvb3JkaW5hdGVzID0gcG9seWdvbi5nZXRDb29yZGluYXRlcygpWzBdO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGNvb3JkaW5hdGVzLmxlbmd0aCAtIDE7IGkgPCBpaTsgKytpKSB7XG4gICAgICB2YXIgc2VnbWVudCA9IGNvb3JkaW5hdGVzLnNsaWNlKGksIGkgKyAyKTtcbiAgICAgIHZhciBzZWdtZW50RGF0YSA9IC8qKiBAdHlwZSB7U2VnbWVudERhdGF9ICovICh7XG4gICAgICAgIGZlYXR1cmU6IGZlYXR1cmUsXG4gICAgICAgIHNlZ21lbnQ6IHNlZ21lbnRcbiAgICAgIH0pO1xuICAgICAgdGhpcy5yQnVzaF8uaW5zZXJ0KGJvdW5kaW5nRXh0ZW50KHNlZ21lbnQpLCBzZWdtZW50RGF0YSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeUNvbGxlY3Rpb24uanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBTbmFwLnByb3RvdHlwZS53cml0ZUdlb21ldHJ5Q29sbGVjdGlvbkdlb21ldHJ5XyA9IGZ1bmN0aW9uIHdyaXRlR2VvbWV0cnlDb2xsZWN0aW9uR2VvbWV0cnlfIChmZWF0dXJlLCBnZW9tZXRyeSkge1xuICAgIHZhciBnZW9tZXRyaWVzID0gZ2VvbWV0cnkuZ2V0R2VvbWV0cmllc0FycmF5KCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9tZXRyaWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgc2VnbWVudFdyaXRlciA9IHRoaXMuU0VHTUVOVF9XUklURVJTX1tnZW9tZXRyaWVzW2ldLmdldFR5cGUoKV07XG4gICAgICBpZiAoc2VnbWVudFdyaXRlcikge1xuICAgICAgICBzZWdtZW50V3JpdGVyLmNhbGwodGhpcywgZmVhdHVyZSwgZ2VvbWV0cmllc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9MaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgU25hcC5wcm90b3R5cGUud3JpdGVMaW5lU3RyaW5nR2VvbWV0cnlfID0gZnVuY3Rpb24gd3JpdGVMaW5lU3RyaW5nR2VvbWV0cnlfIChmZWF0dXJlLCBnZW9tZXRyeSkge1xuICAgIHZhciBjb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldENvb3JkaW5hdGVzKCk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoIC0gMTsgaSA8IGlpOyArK2kpIHtcbiAgICAgIHZhciBzZWdtZW50ID0gY29vcmRpbmF0ZXMuc2xpY2UoaSwgaSArIDIpO1xuICAgICAgdmFyIHNlZ21lbnREYXRhID0gLyoqIEB0eXBlIHtTZWdtZW50RGF0YX0gKi8gKHtcbiAgICAgICAgZmVhdHVyZTogZmVhdHVyZSxcbiAgICAgICAgc2VnbWVudDogc2VnbWVudFxuICAgICAgfSk7XG4gICAgICB0aGlzLnJCdXNoXy5pbnNlcnQoYm91bmRpbmdFeHRlbnQoc2VnbWVudCksIHNlZ21lbnREYXRhKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmVcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL011bHRpTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIFNuYXAucHJvdG90eXBlLndyaXRlTXVsdGlMaW5lU3RyaW5nR2VvbWV0cnlfID0gZnVuY3Rpb24gd3JpdGVNdWx0aUxpbmVTdHJpbmdHZW9tZXRyeV8gKGZlYXR1cmUsIGdlb21ldHJ5KSB7XG4gICAgdmFyIGxpbmVzID0gZ2VvbWV0cnkuZ2V0Q29vcmRpbmF0ZXMoKTtcbiAgICBmb3IgKHZhciBqID0gMCwgamogPSBsaW5lcy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICB2YXIgY29vcmRpbmF0ZXMgPSBsaW5lc1tqXTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGNvb3JkaW5hdGVzLmxlbmd0aCAtIDE7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBzZWdtZW50ID0gY29vcmRpbmF0ZXMuc2xpY2UoaSwgaSArIDIpO1xuICAgICAgICB2YXIgc2VnbWVudERhdGEgPSAvKiogQHR5cGUge1NlZ21lbnREYXRhfSAqLyAoe1xuICAgICAgICAgIGZlYXR1cmU6IGZlYXR1cmUsXG4gICAgICAgICAgc2VnbWVudDogc2VnbWVudFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yQnVzaF8uaW5zZXJ0KGJvdW5kaW5nRXh0ZW50KHNlZ21lbnQpLCBzZWdtZW50RGF0YSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9NdWx0aVBvaW50LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgU25hcC5wcm90b3R5cGUud3JpdGVNdWx0aVBvaW50R2VvbWV0cnlfID0gZnVuY3Rpb24gd3JpdGVNdWx0aVBvaW50R2VvbWV0cnlfIChmZWF0dXJlLCBnZW9tZXRyeSkge1xuICAgIHZhciBwb2ludHMgPSBnZW9tZXRyeS5nZXRDb29yZGluYXRlcygpO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHBvaW50cy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICB2YXIgY29vcmRpbmF0ZXMgPSBwb2ludHNbaV07XG4gICAgICB2YXIgc2VnbWVudERhdGEgPSAvKiogQHR5cGUge1NlZ21lbnREYXRhfSAqLyAoe1xuICAgICAgICBmZWF0dXJlOiBmZWF0dXJlLFxuICAgICAgICBzZWdtZW50OiBbY29vcmRpbmF0ZXMsIGNvb3JkaW5hdGVzXVxuICAgICAgfSk7XG4gICAgICB0aGlzLnJCdXNoXy5pbnNlcnQoZ2VvbWV0cnkuZ2V0RXh0ZW50KCksIHNlZ21lbnREYXRhKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmVcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIFNuYXAucHJvdG90eXBlLndyaXRlTXVsdGlQb2x5Z29uR2VvbWV0cnlfID0gZnVuY3Rpb24gd3JpdGVNdWx0aVBvbHlnb25HZW9tZXRyeV8gKGZlYXR1cmUsIGdlb21ldHJ5KSB7XG4gICAgdmFyIHBvbHlnb25zID0gZ2VvbWV0cnkuZ2V0Q29vcmRpbmF0ZXMoKTtcbiAgICBmb3IgKHZhciBrID0gMCwga2sgPSBwb2x5Z29ucy5sZW5ndGg7IGsgPCBrazsgKytrKSB7XG4gICAgICB2YXIgcmluZ3MgPSBwb2x5Z29uc1trXTtcbiAgICAgIGZvciAodmFyIGogPSAwLCBqaiA9IHJpbmdzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgdmFyIGNvb3JkaW5hdGVzID0gcmluZ3Nbal07XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGNvb3JkaW5hdGVzLmxlbmd0aCAtIDE7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgdmFyIHNlZ21lbnQgPSBjb29yZGluYXRlcy5zbGljZShpLCBpICsgMik7XG4gICAgICAgICAgdmFyIHNlZ21lbnREYXRhID0gLyoqIEB0eXBlIHtTZWdtZW50RGF0YX0gKi8gKHtcbiAgICAgICAgICAgIGZlYXR1cmU6IGZlYXR1cmUsXG4gICAgICAgICAgICBzZWdtZW50OiBzZWdtZW50XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5yQnVzaF8uaW5zZXJ0KGJvdW5kaW5nRXh0ZW50KHNlZ21lbnQpLCBzZWdtZW50RGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmVcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL1BvaW50LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgU25hcC5wcm90b3R5cGUud3JpdGVQb2ludEdlb21ldHJ5XyA9IGZ1bmN0aW9uIHdyaXRlUG9pbnRHZW9tZXRyeV8gKGZlYXR1cmUsIGdlb21ldHJ5KSB7XG4gICAgdmFyIGNvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0Q29vcmRpbmF0ZXMoKTtcbiAgICB2YXIgc2VnbWVudERhdGEgPSAvKiogQHR5cGUge1NlZ21lbnREYXRhfSAqLyAoe1xuICAgICAgZmVhdHVyZTogZmVhdHVyZSxcbiAgICAgIHNlZ21lbnQ6IFtjb29yZGluYXRlcywgY29vcmRpbmF0ZXNdXG4gICAgfSk7XG4gICAgdGhpcy5yQnVzaF8uaW5zZXJ0KGdlb21ldHJ5LmdldEV4dGVudCgpLCBzZWdtZW50RGF0YSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmVcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBTbmFwLnByb3RvdHlwZS53cml0ZVBvbHlnb25HZW9tZXRyeV8gPSBmdW5jdGlvbiB3cml0ZVBvbHlnb25HZW9tZXRyeV8gKGZlYXR1cmUsIGdlb21ldHJ5KSB7XG4gICAgdmFyIHJpbmdzID0gZ2VvbWV0cnkuZ2V0Q29vcmRpbmF0ZXMoKTtcbiAgICBmb3IgKHZhciBqID0gMCwgamogPSByaW5ncy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICB2YXIgY29vcmRpbmF0ZXMgPSByaW5nc1tqXTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGNvb3JkaW5hdGVzLmxlbmd0aCAtIDE7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBzZWdtZW50ID0gY29vcmRpbmF0ZXMuc2xpY2UoaSwgaSArIDIpO1xuICAgICAgICB2YXIgc2VnbWVudERhdGEgPSAvKiogQHR5cGUge1NlZ21lbnREYXRhfSAqLyAoe1xuICAgICAgICAgIGZlYXR1cmU6IGZlYXR1cmUsXG4gICAgICAgICAgc2VnbWVudDogc2VnbWVudFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yQnVzaF8uaW5zZXJ0KGJvdW5kaW5nRXh0ZW50KHNlZ21lbnQpLCBzZWdtZW50RGF0YSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBTbmFwO1xufShQb2ludGVySW50ZXJhY3Rpb24pKTtcblxuXG4vKipcbiAqIFNvcnQgc2VnbWVudHMgYnkgZGlzdGFuY2UsIGhlbHBlciBmdW5jdGlvblxuICogQHBhcmFtIHtTZWdtZW50RGF0YX0gYSBUaGUgZmlyc3Qgc2VnbWVudCBkYXRhLlxuICogQHBhcmFtIHtTZWdtZW50RGF0YX0gYiBUaGUgc2Vjb25kIHNlZ21lbnQgZGF0YS5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGRpZmZlcmVuY2UgaW4gZGlzdGFuY2UuXG4gKiBAdGhpcyB7U25hcH1cbiAqL1xuZnVuY3Rpb24gc29ydEJ5RGlzdGFuY2UoYSwgYikge1xuICB2YXIgZGVsdGFBID0gc3F1YXJlZERpc3RhbmNlVG9TZWdtZW50KHRoaXMucGl4ZWxDb29yZGluYXRlXywgYS5zZWdtZW50KTtcbiAgdmFyIGRlbHRhQiA9IHNxdWFyZWREaXN0YW5jZVRvU2VnbWVudCh0aGlzLnBpeGVsQ29vcmRpbmF0ZV8sIGIuc2VnbWVudCk7XG4gIHJldHVybiBkZWx0YUEgLSBkZWx0YUI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNuYXA7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNuYXAuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL1RyYW5zbGF0ZVxuICovXG5pbXBvcnQgQ29sbGVjdGlvbiBmcm9tICcuLi9Db2xsZWN0aW9uLmpzJztcbmltcG9ydCB7Z2V0Q2hhbmdlRXZlbnRUeXBlfSBmcm9tICcuLi9PYmplY3QuanMnO1xuaW1wb3J0IHtsaXN0ZW59IGZyb20gJy4uL2V2ZW50cy5qcyc7XG5pbXBvcnQgRXZlbnQgZnJvbSAnLi4vZXZlbnRzL0V2ZW50LmpzJztcbmltcG9ydCB7VFJVRX0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7aW5jbHVkZXN9IGZyb20gJy4uL2FycmF5LmpzJztcbmltcG9ydCBQb2ludGVySW50ZXJhY3Rpb24gZnJvbSAnLi9Qb2ludGVyLmpzJztcbmltcG9ydCBJbnRlcmFjdGlvblByb3BlcnR5IGZyb20gJy4vUHJvcGVydHkuanMnO1xuXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xudmFyIFRyYW5zbGF0ZUV2ZW50VHlwZSA9IHtcbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB1cG9uIGZlYXR1cmUgdHJhbnNsYXRpb24gc3RhcnQuXG4gICAqIEBldmVudCBUcmFuc2xhdGVFdmVudCN0cmFuc2xhdGVzdGFydFxuICAgKiBAYXBpXG4gICAqL1xuICBUUkFOU0xBVEVTVEFSVDogJ3RyYW5zbGF0ZXN0YXJ0JyxcbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB1cG9uIGZlYXR1cmUgdHJhbnNsYXRpb24uXG4gICAqIEBldmVudCBUcmFuc2xhdGVFdmVudCN0cmFuc2xhdGluZ1xuICAgKiBAYXBpXG4gICAqL1xuICBUUkFOU0xBVElORzogJ3RyYW5zbGF0aW5nJyxcbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB1cG9uIGZlYXR1cmUgdHJhbnNsYXRpb24gZW5kLlxuICAgKiBAZXZlbnQgVHJhbnNsYXRlRXZlbnQjdHJhbnNsYXRlZW5kXG4gICAqIEBhcGlcbiAgICovXG4gIFRSQU5TTEFURUVORDogJ3RyYW5zbGF0ZWVuZCdcbn07XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge0NvbGxlY3Rpb248aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn0gW2ZlYXR1cmVzXSBPbmx5IGZlYXR1cmVzIGNvbnRhaW5lZCBpbiB0aGlzIGNvbGxlY3Rpb24gd2lsbCBiZSBhYmxlIHRvIGJlIHRyYW5zbGF0ZWQuIElmXG4gKiBub3Qgc3BlY2lmaWVkLCBhbGwgZmVhdHVyZXMgb24gdGhlIG1hcCB3aWxsIGJlIGFibGUgdG8gYmUgdHJhbnNsYXRlZC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdD58ZnVuY3Rpb24oaW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdCk6IGJvb2xlYW59IFtsYXllcnNdIEEgbGlzdCBvZiBsYXllcnMgZnJvbSB3aGljaCBmZWF0dXJlcyBzaG91bGQgYmVcbiAqIHRyYW5zbGF0ZWQuIEFsdGVybmF0aXZlbHksIGEgZmlsdGVyIGZ1bmN0aW9uIGNhbiBiZSBwcm92aWRlZC4gVGhlXG4gKiBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBmb3IgZWFjaCBsYXllciBpbiB0aGUgbWFwIGFuZCBzaG91bGQgcmV0dXJuXG4gKiBgdHJ1ZWAgZm9yIGxheWVycyB0aGF0IHlvdSB3YW50IHRvIGJlIHRyYW5zbGF0YWJsZS4gSWYgdGhlIG9wdGlvbiBpc1xuICogYWJzZW50LCBhbGwgdmlzaWJsZSBsYXllcnMgd2lsbCBiZSBjb25zaWRlcmVkIHRyYW5zbGF0YWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbaGl0VG9sZXJhbmNlPTBdIEhpdC1kZXRlY3Rpb24gdG9sZXJhbmNlLiBQaXhlbHMgaW5zaWRlIHRoZSByYWRpdXMgYXJvdW5kIHRoZSBnaXZlbiBwb3NpdGlvblxuICogd2lsbCBiZSBjaGVja2VkIGZvciBmZWF0dXJlcy4gVGhpcyBvbmx5IHdvcmtzIGZvciB0aGUgY2FudmFzIHJlbmRlcmVyIGFuZFxuICogbm90IGZvciBXZWJHTC5cbiAqL1xuXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogRXZlbnRzIGVtaXR0ZWQgYnkge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9UcmFuc2xhdGV+VHJhbnNsYXRlfSBpbnN0YW5jZXNcbiAqIGFyZSBpbnN0YW5jZXMgb2YgdGhpcyB0eXBlLlxuICovXG5leHBvcnQgdmFyIFRyYW5zbGF0ZUV2ZW50ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRXZlbnQpIHtcbiAgZnVuY3Rpb24gVHJhbnNsYXRlRXZlbnQodHlwZSwgZmVhdHVyZXMsIGNvb3JkaW5hdGUpIHtcblxuICAgIEV2ZW50LmNhbGwodGhpcywgdHlwZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZmVhdHVyZXMgYmVpbmcgdHJhbnNsYXRlZC5cbiAgICAgKiBAdHlwZSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLmZlYXR1cmVzID0gZmVhdHVyZXM7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY29vcmRpbmF0ZSBvZiB0aGUgZHJhZyBldmVudC5cbiAgICAgKiBAY29uc3RcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLmNvb3JkaW5hdGUgPSBjb29yZGluYXRlO1xuXG4gIH1cblxuICBpZiAoIEV2ZW50ICkgVHJhbnNsYXRlRXZlbnQuX19wcm90b19fID0gRXZlbnQ7XG4gIFRyYW5zbGF0ZUV2ZW50LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEV2ZW50ICYmIEV2ZW50LnByb3RvdHlwZSApO1xuICBUcmFuc2xhdGVFdmVudC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUcmFuc2xhdGVFdmVudDtcblxuICByZXR1cm4gVHJhbnNsYXRlRXZlbnQ7XG59KEV2ZW50KSk7XG5cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBJbnRlcmFjdGlvbiBmb3IgdHJhbnNsYXRpbmcgKG1vdmluZykgZmVhdHVyZXMuXG4gKlxuICogQGZpcmVzIFRyYW5zbGF0ZUV2ZW50XG4gKiBAYXBpXG4gKi9cbnZhciBUcmFuc2xhdGUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChQb2ludGVySW50ZXJhY3Rpb24pIHtcbiAgZnVuY3Rpb24gVHJhbnNsYXRlKG9wdF9vcHRpb25zKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG5cbiAgICBQb2ludGVySW50ZXJhY3Rpb24uY2FsbCgvKiogQHR5cGUge2ltcG9ydChcIi4vUG9pbnRlci5qc1wiKS5PcHRpb25zfSAqLyB0aGlzLCAob3B0aW9ucykpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGxhc3QgcG9zaXRpb24gd2UgdHJhbnNsYXRlZCB0by5cbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5sYXN0Q29vcmRpbmF0ZV8gPSBudWxsO1xuXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5mZWF0dXJlc18gPSBvcHRpb25zLmZlYXR1cmVzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmZlYXR1cmVzIDogbnVsbDtcblxuICAgIC8qKiBAdHlwZSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdCk6IGJvb2xlYW59ICovXG4gICAgdmFyIGxheWVyRmlsdGVyO1xuICAgIGlmIChvcHRpb25zLmxheWVycykge1xuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmxheWVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBsYXllckZpbHRlciA9IG9wdGlvbnMubGF5ZXJzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGxheWVycyA9IG9wdGlvbnMubGF5ZXJzO1xuICAgICAgICBsYXllckZpbHRlciA9IGZ1bmN0aW9uKGxheWVyKSB7XG4gICAgICAgICAgcmV0dXJuIGluY2x1ZGVzKGxheWVycywgbGF5ZXIpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsYXllckZpbHRlciA9IFRSVUU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdCk6IGJvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5sYXllckZpbHRlcl8gPSBsYXllckZpbHRlcjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmhpdFRvbGVyYW5jZV8gPSBvcHRpb25zLmhpdFRvbGVyYW5jZSA/IG9wdGlvbnMuaGl0VG9sZXJhbmNlIDogMDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmxhc3RGZWF0dXJlXyA9IG51bGw7XG5cbiAgICBsaXN0ZW4odGhpcyxcbiAgICAgIGdldENoYW5nZUV2ZW50VHlwZShJbnRlcmFjdGlvblByb3BlcnR5LkFDVElWRSksXG4gICAgICB0aGlzLmhhbmRsZUFjdGl2ZUNoYW5nZWRfLCB0aGlzKTtcblxuICB9XG5cbiAgaWYgKCBQb2ludGVySW50ZXJhY3Rpb24gKSBUcmFuc2xhdGUuX19wcm90b19fID0gUG9pbnRlckludGVyYWN0aW9uO1xuICBUcmFuc2xhdGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggUG9pbnRlckludGVyYWN0aW9uICYmIFBvaW50ZXJJbnRlcmFjdGlvbi5wcm90b3R5cGUgKTtcbiAgVHJhbnNsYXRlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRyYW5zbGF0ZTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIFRyYW5zbGF0ZS5wcm90b3R5cGUuaGFuZGxlRG93bkV2ZW50ID0gZnVuY3Rpb24gaGFuZGxlRG93bkV2ZW50IChldmVudCkge1xuICAgIHRoaXMubGFzdEZlYXR1cmVfID0gdGhpcy5mZWF0dXJlc0F0UGl4ZWxfKGV2ZW50LnBpeGVsLCBldmVudC5tYXApO1xuICAgIGlmICghdGhpcy5sYXN0Q29vcmRpbmF0ZV8gJiYgdGhpcy5sYXN0RmVhdHVyZV8pIHtcbiAgICAgIHRoaXMubGFzdENvb3JkaW5hdGVfID0gZXZlbnQuY29vcmRpbmF0ZTtcbiAgICAgIHRoaXMuaGFuZGxlTW92ZUV2ZW50KGV2ZW50KTtcblxuICAgICAgdmFyIGZlYXR1cmVzID0gdGhpcy5mZWF0dXJlc18gfHwgbmV3IENvbGxlY3Rpb24oW3RoaXMubGFzdEZlYXR1cmVfXSk7XG5cbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgbmV3IFRyYW5zbGF0ZUV2ZW50KFxuICAgICAgICAgIFRyYW5zbGF0ZUV2ZW50VHlwZS5UUkFOU0xBVEVTVEFSVCwgZmVhdHVyZXMsXG4gICAgICAgICAgZXZlbnQuY29vcmRpbmF0ZSkpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIFRyYW5zbGF0ZS5wcm90b3R5cGUuaGFuZGxlVXBFdmVudCA9IGZ1bmN0aW9uIGhhbmRsZVVwRXZlbnQgKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMubGFzdENvb3JkaW5hdGVfKSB7XG4gICAgICB0aGlzLmxhc3RDb29yZGluYXRlXyA9IG51bGw7XG4gICAgICB0aGlzLmhhbmRsZU1vdmVFdmVudChldmVudCk7XG5cbiAgICAgIHZhciBmZWF0dXJlcyA9IHRoaXMuZmVhdHVyZXNfIHx8IG5ldyBDb2xsZWN0aW9uKFt0aGlzLmxhc3RGZWF0dXJlX10pO1xuXG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoXG4gICAgICAgIG5ldyBUcmFuc2xhdGVFdmVudChcbiAgICAgICAgICBUcmFuc2xhdGVFdmVudFR5cGUuVFJBTlNMQVRFRU5ELCBmZWF0dXJlcyxcbiAgICAgICAgICBldmVudC5jb29yZGluYXRlKSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgVHJhbnNsYXRlLnByb3RvdHlwZS5oYW5kbGVEcmFnRXZlbnQgPSBmdW5jdGlvbiBoYW5kbGVEcmFnRXZlbnQgKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMubGFzdENvb3JkaW5hdGVfKSB7XG4gICAgICB2YXIgbmV3Q29vcmRpbmF0ZSA9IGV2ZW50LmNvb3JkaW5hdGU7XG4gICAgICB2YXIgZGVsdGFYID0gbmV3Q29vcmRpbmF0ZVswXSAtIHRoaXMubGFzdENvb3JkaW5hdGVfWzBdO1xuICAgICAgdmFyIGRlbHRhWSA9IG5ld0Nvb3JkaW5hdGVbMV0gLSB0aGlzLmxhc3RDb29yZGluYXRlX1sxXTtcblxuICAgICAgdmFyIGZlYXR1cmVzID0gdGhpcy5mZWF0dXJlc18gfHwgbmV3IENvbGxlY3Rpb24oW3RoaXMubGFzdEZlYXR1cmVfXSk7XG5cbiAgICAgIGZlYXR1cmVzLmZvckVhY2goZnVuY3Rpb24oZmVhdHVyZSkge1xuICAgICAgICB2YXIgZ2VvbSA9IGZlYXR1cmUuZ2V0R2VvbWV0cnkoKTtcbiAgICAgICAgZ2VvbS50cmFuc2xhdGUoZGVsdGFYLCBkZWx0YVkpO1xuICAgICAgICBmZWF0dXJlLnNldEdlb21ldHJ5KGdlb20pO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMubGFzdENvb3JkaW5hdGVfID0gbmV3Q29vcmRpbmF0ZTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgbmV3IFRyYW5zbGF0ZUV2ZW50KFxuICAgICAgICAgIFRyYW5zbGF0ZUV2ZW50VHlwZS5UUkFOU0xBVElORywgZmVhdHVyZXMsXG4gICAgICAgICAgbmV3Q29vcmRpbmF0ZSkpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIFRyYW5zbGF0ZS5wcm90b3R5cGUuaGFuZGxlTW92ZUV2ZW50ID0gZnVuY3Rpb24gaGFuZGxlTW92ZUV2ZW50IChldmVudCkge1xuICAgIHZhciBlbGVtID0gZXZlbnQubWFwLmdldFZpZXdwb3J0KCk7XG5cbiAgICAvLyBDaGFuZ2UgdGhlIGN1cnNvciB0byBncmFiL2dyYWJiaW5nIGlmIGhvdmVyaW5nIGFueSBvZiB0aGUgZmVhdHVyZXMgbWFuYWdlZFxuICAgIC8vIGJ5IHRoZSBpbnRlcmFjdGlvblxuICAgIGlmICh0aGlzLmZlYXR1cmVzQXRQaXhlbF8oZXZlbnQucGl4ZWwsIGV2ZW50Lm1hcCkpIHtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmxhc3RDb29yZGluYXRlXyA/ICdvbC1ncmFiJyA6ICdvbC1ncmFiYmluZycpO1xuICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKHRoaXMubGFzdENvb3JkaW5hdGVfID8gJ29sLWdyYWJiaW5nJyA6ICdvbC1ncmFiJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnb2wtZ3JhYicsICdvbC1ncmFiYmluZycpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogVGVzdHMgdG8gc2VlIGlmIHRoZSBnaXZlbiBjb29yZGluYXRlcyBpbnRlcnNlY3RzIGFueSBvZiBvdXIgc2VsZWN0ZWRcbiAgICogZmVhdHVyZXMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsIGNvb3JkaW5hdGUgdG8gdGVzdCBmb3IgaW50ZXJzZWN0aW9uLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fSBtYXAgTWFwIHRvIHRlc3QgdGhlIGludGVyc2VjdGlvbiBvbi5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBSZXR1cm5zIHRoZSBmZWF0dXJlIGZvdW5kIGF0IHRoZSBzcGVjaWZpZWQgcGl4ZWxcbiAgICogY29vcmRpbmF0ZXMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBUcmFuc2xhdGUucHJvdG90eXBlLmZlYXR1cmVzQXRQaXhlbF8gPSBmdW5jdGlvbiBmZWF0dXJlc0F0UGl4ZWxfIChwaXhlbCwgbWFwKSB7XG4gICAgcmV0dXJuIG1hcC5mb3JFYWNoRmVhdHVyZUF0UGl4ZWwocGl4ZWwsXG4gICAgICBmdW5jdGlvbihmZWF0dXJlKSB7XG4gICAgICAgIGlmICghdGhpcy5mZWF0dXJlc18gfHwgaW5jbHVkZXModGhpcy5mZWF0dXJlc18uZ2V0QXJyYXkoKSwgZmVhdHVyZSkpIHtcbiAgICAgICAgICByZXR1cm4gZmVhdHVyZTtcbiAgICAgICAgfVxuICAgICAgfS5iaW5kKHRoaXMpLCB7XG4gICAgICAgIGxheWVyRmlsdGVyOiB0aGlzLmxheWVyRmlsdGVyXyxcbiAgICAgICAgaGl0VG9sZXJhbmNlOiB0aGlzLmhpdFRvbGVyYW5jZV9cbiAgICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBIaXQtZGV0ZWN0aW9uIHRvbGVyYW5jZS5cbiAgICogQHJldHVybnMge251bWJlcn0gSGl0IHRvbGVyYW5jZSBpbiBwaXhlbHMuXG4gICAqIEBhcGlcbiAgICovXG4gIFRyYW5zbGF0ZS5wcm90b3R5cGUuZ2V0SGl0VG9sZXJhbmNlID0gZnVuY3Rpb24gZ2V0SGl0VG9sZXJhbmNlICgpIHtcbiAgICByZXR1cm4gdGhpcy5oaXRUb2xlcmFuY2VfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIaXQtZGV0ZWN0aW9uIHRvbGVyYW5jZS4gUGl4ZWxzIGluc2lkZSB0aGUgcmFkaXVzIGFyb3VuZCB0aGUgZ2l2ZW4gcG9zaXRpb25cbiAgICogd2lsbCBiZSBjaGVja2VkIGZvciBmZWF0dXJlcy4gVGhpcyBvbmx5IHdvcmtzIGZvciB0aGUgY2FudmFzIHJlbmRlcmVyIGFuZFxuICAgKiBub3QgZm9yIFdlYkdMLlxuICAgKiBAcGFyYW0ge251bWJlcn0gaGl0VG9sZXJhbmNlIEhpdCB0b2xlcmFuY2UgaW4gcGl4ZWxzLlxuICAgKiBAYXBpXG4gICAqL1xuICBUcmFuc2xhdGUucHJvdG90eXBlLnNldEhpdFRvbGVyYW5jZSA9IGZ1bmN0aW9uIHNldEhpdFRvbGVyYW5jZSAoaGl0VG9sZXJhbmNlKSB7XG4gICAgdGhpcy5oaXRUb2xlcmFuY2VfID0gaGl0VG9sZXJhbmNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgVHJhbnNsYXRlLnByb3RvdHlwZS5zZXRNYXAgPSBmdW5jdGlvbiBzZXRNYXAgKG1hcCkge1xuICAgIHZhciBvbGRNYXAgPSB0aGlzLmdldE1hcCgpO1xuICAgIFBvaW50ZXJJbnRlcmFjdGlvbi5wcm90b3R5cGUuc2V0TWFwLmNhbGwodGhpcywgbWFwKTtcbiAgICB0aGlzLnVwZGF0ZVN0YXRlXyhvbGRNYXApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgVHJhbnNsYXRlLnByb3RvdHlwZS5oYW5kbGVBY3RpdmVDaGFuZ2VkXyA9IGZ1bmN0aW9uIGhhbmRsZUFjdGl2ZUNoYW5nZWRfICgpIHtcbiAgICB0aGlzLnVwZGF0ZVN0YXRlXyhudWxsKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gb2xkTWFwIE9sZCBtYXAuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBUcmFuc2xhdGUucHJvdG90eXBlLnVwZGF0ZVN0YXRlXyA9IGZ1bmN0aW9uIHVwZGF0ZVN0YXRlXyAob2xkTWFwKSB7XG4gICAgdmFyIG1hcCA9IHRoaXMuZ2V0TWFwKCk7XG4gICAgdmFyIGFjdGl2ZSA9IHRoaXMuZ2V0QWN0aXZlKCk7XG4gICAgaWYgKCFtYXAgfHwgIWFjdGl2ZSkge1xuICAgICAgbWFwID0gbWFwIHx8IG9sZE1hcDtcbiAgICAgIGlmIChtYXApIHtcbiAgICAgICAgdmFyIGVsZW0gPSBtYXAuZ2V0Vmlld3BvcnQoKTtcbiAgICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdvbC1ncmFiJywgJ29sLWdyYWJiaW5nJyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBUcmFuc2xhdGU7XG59KFBvaW50ZXJJbnRlcmFjdGlvbikpO1xuXG5leHBvcnQgZGVmYXVsdCBUcmFuc2xhdGU7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRyYW5zbGF0ZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb25cbiAqL1xuaW1wb3J0IENvbGxlY3Rpb24gZnJvbSAnLi9Db2xsZWN0aW9uLmpzJztcbmltcG9ydCBLaW5ldGljIGZyb20gJy4vS2luZXRpYy5qcyc7XG5pbXBvcnQgRG91YmxlQ2xpY2tab29tIGZyb20gJy4vaW50ZXJhY3Rpb24vRG91YmxlQ2xpY2tab29tLmpzJztcbmltcG9ydCBEcmFnUGFuIGZyb20gJy4vaW50ZXJhY3Rpb24vRHJhZ1Bhbi5qcyc7XG5pbXBvcnQgRHJhZ1JvdGF0ZSBmcm9tICcuL2ludGVyYWN0aW9uL0RyYWdSb3RhdGUuanMnO1xuaW1wb3J0IERyYWdab29tIGZyb20gJy4vaW50ZXJhY3Rpb24vRHJhZ1pvb20uanMnO1xuaW1wb3J0IEtleWJvYXJkUGFuIGZyb20gJy4vaW50ZXJhY3Rpb24vS2V5Ym9hcmRQYW4uanMnO1xuaW1wb3J0IEtleWJvYXJkWm9vbSBmcm9tICcuL2ludGVyYWN0aW9uL0tleWJvYXJkWm9vbS5qcyc7XG5pbXBvcnQgTW91c2VXaGVlbFpvb20gZnJvbSAnLi9pbnRlcmFjdGlvbi9Nb3VzZVdoZWVsWm9vbS5qcyc7XG5pbXBvcnQgUGluY2hSb3RhdGUgZnJvbSAnLi9pbnRlcmFjdGlvbi9QaW5jaFJvdGF0ZS5qcyc7XG5pbXBvcnQgUGluY2hab29tIGZyb20gJy4vaW50ZXJhY3Rpb24vUGluY2hab29tLmpzJztcbmltcG9ydCB7Zm9jdXN9IGZyb20gJy4vZXZlbnRzL2NvbmRpdGlvbi5qcyc7XG5cbmV4cG9ydCB7ZGVmYXVsdCBhcyBEb3VibGVDbGlja1pvb219IGZyb20gJy4vaW50ZXJhY3Rpb24vRG91YmxlQ2xpY2tab29tLmpzJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBEcmFnQW5kRHJvcH0gZnJvbSAnLi9pbnRlcmFjdGlvbi9EcmFnQW5kRHJvcC5qcyc7XG5leHBvcnQge2RlZmF1bHQgYXMgRHJhZ0JveH0gZnJvbSAnLi9pbnRlcmFjdGlvbi9EcmFnQm94LmpzJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBEcmFnUGFufSBmcm9tICcuL2ludGVyYWN0aW9uL0RyYWdQYW4uanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIERyYWdSb3RhdGV9IGZyb20gJy4vaW50ZXJhY3Rpb24vRHJhZ1JvdGF0ZS5qcyc7XG5leHBvcnQge2RlZmF1bHQgYXMgRHJhZ1JvdGF0ZUFuZFpvb219IGZyb20gJy4vaW50ZXJhY3Rpb24vRHJhZ1JvdGF0ZUFuZFpvb20uanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIERyYWdab29tfSBmcm9tICcuL2ludGVyYWN0aW9uL0RyYWdab29tLmpzJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBEcmF3fSBmcm9tICcuL2ludGVyYWN0aW9uL0RyYXcuanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEV4dGVudH0gZnJvbSAnLi9pbnRlcmFjdGlvbi9FeHRlbnQuanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEludGVyYWN0aW9ufSBmcm9tICcuL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uLmpzJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBLZXlib2FyZFBhbn0gZnJvbSAnLi9pbnRlcmFjdGlvbi9LZXlib2FyZFBhbi5qcyc7XG5leHBvcnQge2RlZmF1bHQgYXMgS2V5Ym9hcmRab29tfSBmcm9tICcuL2ludGVyYWN0aW9uL0tleWJvYXJkWm9vbS5qcyc7XG5leHBvcnQge2RlZmF1bHQgYXMgTW9kaWZ5fSBmcm9tICcuL2ludGVyYWN0aW9uL01vZGlmeS5qcyc7XG5leHBvcnQge2RlZmF1bHQgYXMgTW91c2VXaGVlbFpvb219IGZyb20gJy4vaW50ZXJhY3Rpb24vTW91c2VXaGVlbFpvb20uanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIFBpbmNoUm90YXRlfSBmcm9tICcuL2ludGVyYWN0aW9uL1BpbmNoUm90YXRlLmpzJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBQaW5jaFpvb219IGZyb20gJy4vaW50ZXJhY3Rpb24vUGluY2hab29tLmpzJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBQb2ludGVyfSBmcm9tICcuL2ludGVyYWN0aW9uL1BvaW50ZXIuanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIFNlbGVjdH0gZnJvbSAnLi9pbnRlcmFjdGlvbi9TZWxlY3QuanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIFNuYXB9IGZyb20gJy4vaW50ZXJhY3Rpb24vU25hcC5qcyc7XG5leHBvcnQge2RlZmF1bHQgYXMgVHJhbnNsYXRlfSBmcm9tICcuL2ludGVyYWN0aW9uL1RyYW5zbGF0ZS5qcyc7XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBEZWZhdWx0c09wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2FsdFNoaWZ0RHJhZ1JvdGF0ZT10cnVlXSBXaGV0aGVyIEFsdC1TaGlmdC1kcmFnIHJvdGF0ZSBpc1xuICogZGVzaXJlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW29uRm9jdXNPbmx5PWZhbHNlXSBJbnRlcmFjdCBvbmx5IHdoZW4gdGhlIG1hcCBoYXMgdGhlXG4gKiBmb2N1cy4gVGhpcyBhZmZlY3RzIHRoZSBgTW91c2VXaGVlbFpvb21gIGFuZCBgRHJhZ1BhbmAgaW50ZXJhY3Rpb25zIGFuZCBpc1xuICogdXNlZnVsIHdoZW4gcGFnZSBzY3JvbGwgaXMgZGVzaXJlZCBmb3IgbWFwcyB0aGF0IGRvIG5vdCBoYXZlIHRoZSBicm93c2VyJ3NcbiAqIGZvY3VzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbY29uc3RyYWluUmVzb2x1dGlvbj1mYWxzZV0gWm9vbSB0byB0aGUgY2xvc2VzdCBpbnRlZ2VyXG4gKiB6b29tIGxldmVsIGFmdGVyIHRoZSB3aGVlbC90cmFja3BhZCBvciBwaW5jaCBnZXN0dXJlIGVuZHMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtkb3VibGVDbGlja1pvb209dHJ1ZV0gV2hldGhlciBkb3VibGUgY2xpY2sgem9vbSBpc1xuICogZGVzaXJlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2tleWJvYXJkPXRydWVdIFdoZXRoZXIga2V5Ym9hcmQgaW50ZXJhY3Rpb24gaXMgZGVzaXJlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW21vdXNlV2hlZWxab29tPXRydWVdIFdoZXRoZXIgbW91c2V3aGVlbCB6b29tIGlzIGRlc2lyZWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtzaGlmdERyYWdab29tPXRydWVdIFdoZXRoZXIgU2hpZnQtZHJhZyB6b29tIGlzIGRlc2lyZWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtkcmFnUGFuPXRydWVdIFdoZXRoZXIgZHJhZyBwYW4gaXMgZGVzaXJlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3BpbmNoUm90YXRlPXRydWVdIFdoZXRoZXIgcGluY2ggcm90YXRlIGlzIGRlc2lyZWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtwaW5jaFpvb209dHJ1ZV0gV2hldGhlciBwaW5jaCB6b29tIGlzIGRlc2lyZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pvb21EZWx0YV0gWm9vbSBsZXZlbCBkZWx0YSB3aGVuIHVzaW5nIGtleWJvYXJkIG9yXG4gKiBtb3VzZXdoZWVsIHpvb20uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pvb21EdXJhdGlvbl0gRHVyYXRpb24gb2YgdGhlIHpvb20gYW5pbWF0aW9uIGluXG4gKiBtaWxsaXNlY29uZHMuXG4gKi9cblxuXG4vKipcbiAqIFNldCBvZiBpbnRlcmFjdGlvbnMgaW5jbHVkZWQgaW4gbWFwcyBieSBkZWZhdWx0LiBTcGVjaWZpYyBpbnRlcmFjdGlvbnMgY2FuIGJlXG4gKiBleGNsdWRlZCBieSBzZXR0aW5nIHRoZSBhcHByb3ByaWF0ZSBvcHRpb24gdG8gZmFsc2UgaW4gdGhlIGNvbnN0cnVjdG9yXG4gKiBvcHRpb25zLCBidXQgdGhlIG9yZGVyIG9mIHRoZSBpbnRlcmFjdGlvbnMgaXMgZml4ZWQuICBJZiB5b3Ugd2FudCB0byBzcGVjaWZ5XG4gKiBhIGRpZmZlcmVudCBvcmRlciBmb3IgaW50ZXJhY3Rpb25zLCB5b3Ugd2lsbCBuZWVkIHRvIGNyZWF0ZSB5b3VyIG93blxuICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbn0gaW5zdGFuY2VzIGFuZCBpbnNlcnRcbiAqIHRoZW0gaW50byBhIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn0gaW4gdGhlIG9yZGVyIHlvdSB3YW50XG4gKiBiZWZvcmUgY3JlYXRpbmcgeW91ciB7QGxpbmsgbW9kdWxlOm9sL01hcH5NYXB9IGluc3RhbmNlLiBUaGUgZGVmYXVsdCBzZXQgb2ZcbiAqIGludGVyYWN0aW9ucywgaW4gc2VxdWVuY2UsIGlzOlxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0RyYWdSb3RhdGV+RHJhZ1JvdGF0ZX1cbiAqICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9Eb3VibGVDbGlja1pvb21+RG91YmxlQ2xpY2tab29tfVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0RyYWdQYW5+RHJhZ1Bhbn1cbiAqICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9QaW5jaFJvdGF0ZX5QaW5jaFJvdGF0ZX1cbiAqICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9QaW5jaFpvb21+UGluY2hab29tfVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0tleWJvYXJkUGFufktleWJvYXJkUGFufVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0tleWJvYXJkWm9vbX5LZXlib2FyZFpvb219XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vTW91c2VXaGVlbFpvb21+TW91c2VXaGVlbFpvb219XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vRHJhZ1pvb21+RHJhZ1pvb219XG4gKlxuICogQHBhcmFtIHtEZWZhdWx0c09wdGlvbnM9fSBvcHRfb3B0aW9ucyBEZWZhdWx0cyBvcHRpb25zLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9Db2xsZWN0aW9uLmpzXCIpLmRlZmF1bHQ8aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0Pn1cbiAqIEEgY29sbGVjdGlvbiBvZiBpbnRlcmFjdGlvbnMgdG8gYmUgdXNlZCB3aXRoIHRoZSB7QGxpbmsgbW9kdWxlOm9sL01hcH5NYXB9XG4gKiBjb25zdHJ1Y3RvcidzIGBpbnRlcmFjdGlvbnNgIG9wdGlvbi5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRzKG9wdF9vcHRpb25zKSB7XG5cbiAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG5cbiAgdmFyIGludGVyYWN0aW9ucyA9IG5ldyBDb2xsZWN0aW9uKCk7XG5cbiAgdmFyIGtpbmV0aWMgPSBuZXcgS2luZXRpYygtMC4wMDUsIDAuMDUsIDEwMCk7XG5cbiAgdmFyIGFsdFNoaWZ0RHJhZ1JvdGF0ZSA9IG9wdGlvbnMuYWx0U2hpZnREcmFnUm90YXRlICE9PSB1bmRlZmluZWQgP1xuICAgIG9wdGlvbnMuYWx0U2hpZnREcmFnUm90YXRlIDogdHJ1ZTtcbiAgaWYgKGFsdFNoaWZ0RHJhZ1JvdGF0ZSkge1xuICAgIGludGVyYWN0aW9ucy5wdXNoKG5ldyBEcmFnUm90YXRlKCkpO1xuICB9XG5cbiAgdmFyIGRvdWJsZUNsaWNrWm9vbSA9IG9wdGlvbnMuZG91YmxlQ2xpY2tab29tICE9PSB1bmRlZmluZWQgP1xuICAgIG9wdGlvbnMuZG91YmxlQ2xpY2tab29tIDogdHJ1ZTtcbiAgaWYgKGRvdWJsZUNsaWNrWm9vbSkge1xuICAgIGludGVyYWN0aW9ucy5wdXNoKG5ldyBEb3VibGVDbGlja1pvb20oe1xuICAgICAgZGVsdGE6IG9wdGlvbnMuem9vbURlbHRhLFxuICAgICAgZHVyYXRpb246IG9wdGlvbnMuem9vbUR1cmF0aW9uXG4gICAgfSkpO1xuICB9XG5cbiAgdmFyIGRyYWdQYW4gPSBvcHRpb25zLmRyYWdQYW4gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHJhZ1BhbiA6IHRydWU7XG4gIGlmIChkcmFnUGFuKSB7XG4gICAgaW50ZXJhY3Rpb25zLnB1c2gobmV3IERyYWdQYW4oe1xuICAgICAgY29uZGl0aW9uOiBvcHRpb25zLm9uRm9jdXNPbmx5ID8gZm9jdXMgOiB1bmRlZmluZWQsXG4gICAgICBraW5ldGljOiBraW5ldGljXG4gICAgfSkpO1xuICB9XG5cbiAgdmFyIHBpbmNoUm90YXRlID0gb3B0aW9ucy5waW5jaFJvdGF0ZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5waW5jaFJvdGF0ZSA6XG4gICAgdHJ1ZTtcbiAgaWYgKHBpbmNoUm90YXRlKSB7XG4gICAgaW50ZXJhY3Rpb25zLnB1c2gobmV3IFBpbmNoUm90YXRlKCkpO1xuICB9XG5cbiAgdmFyIHBpbmNoWm9vbSA9IG9wdGlvbnMucGluY2hab29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnBpbmNoWm9vbSA6IHRydWU7XG4gIGlmIChwaW5jaFpvb20pIHtcbiAgICBpbnRlcmFjdGlvbnMucHVzaChuZXcgUGluY2hab29tKHtcbiAgICAgIGNvbnN0cmFpblJlc29sdXRpb246IG9wdGlvbnMuY29uc3RyYWluUmVzb2x1dGlvbixcbiAgICAgIGR1cmF0aW9uOiBvcHRpb25zLnpvb21EdXJhdGlvblxuICAgIH0pKTtcbiAgfVxuXG4gIHZhciBrZXlib2FyZCA9IG9wdGlvbnMua2V5Ym9hcmQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMua2V5Ym9hcmQgOiB0cnVlO1xuICBpZiAoa2V5Ym9hcmQpIHtcbiAgICBpbnRlcmFjdGlvbnMucHVzaChuZXcgS2V5Ym9hcmRQYW4oKSk7XG4gICAgaW50ZXJhY3Rpb25zLnB1c2gobmV3IEtleWJvYXJkWm9vbSh7XG4gICAgICBkZWx0YTogb3B0aW9ucy56b29tRGVsdGEsXG4gICAgICBkdXJhdGlvbjogb3B0aW9ucy56b29tRHVyYXRpb25cbiAgICB9KSk7XG4gIH1cblxuICB2YXIgbW91c2VXaGVlbFpvb20gPSBvcHRpb25zLm1vdXNlV2hlZWxab29tICE9PSB1bmRlZmluZWQgP1xuICAgIG9wdGlvbnMubW91c2VXaGVlbFpvb20gOiB0cnVlO1xuICBpZiAobW91c2VXaGVlbFpvb20pIHtcbiAgICBpbnRlcmFjdGlvbnMucHVzaChuZXcgTW91c2VXaGVlbFpvb20oe1xuICAgICAgY29uZGl0aW9uOiBvcHRpb25zLm9uRm9jdXNPbmx5ID8gZm9jdXMgOiB1bmRlZmluZWQsXG4gICAgICBjb25zdHJhaW5SZXNvbHV0aW9uOiBvcHRpb25zLmNvbnN0cmFpblJlc29sdXRpb24sXG4gICAgICBkdXJhdGlvbjogb3B0aW9ucy56b29tRHVyYXRpb25cbiAgICB9KSk7XG4gIH1cblxuICB2YXIgc2hpZnREcmFnWm9vbSA9IG9wdGlvbnMuc2hpZnREcmFnWm9vbSAhPT0gdW5kZWZpbmVkID9cbiAgICBvcHRpb25zLnNoaWZ0RHJhZ1pvb20gOiB0cnVlO1xuICBpZiAoc2hpZnREcmFnWm9vbSkge1xuICAgIGludGVyYWN0aW9ucy5wdXNoKG5ldyBEcmFnWm9vbSh7XG4gICAgICBkdXJhdGlvbjogb3B0aW9ucy56b29tRHVyYXRpb25cbiAgICB9KSk7XG4gIH1cblxuICByZXR1cm4gaW50ZXJhY3Rpb25zO1xuXG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVyYWN0aW9uLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9jZW50ZXJjb25zdHJhaW50XG4gKi9cbmltcG9ydCB7Y2xhbXB9IGZyb20gJy4vbWF0aC5qcyc7XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oKGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZCkpOiAoaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkKX0gVHlwZVxuICovXG5cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge1R5cGV9IFRoZSBjb25zdHJhaW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXh0ZW50KGV4dGVudCkge1xuICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU9fSBjZW50ZXIgQ2VudGVyLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gQ2VudGVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uKGNlbnRlcikge1xuICAgICAgaWYgKGNlbnRlcikge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIGNsYW1wKGNlbnRlclswXSwgZXh0ZW50WzBdLCBleHRlbnRbMl0pLFxuICAgICAgICAgIGNsYW1wKGNlbnRlclsxXSwgZXh0ZW50WzFdLCBleHRlbnRbM10pXG4gICAgICAgIF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU9fSBjZW50ZXIgQ2VudGVyLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfSBDZW50ZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub25lKGNlbnRlcikge1xuICByZXR1cm4gY2VudGVyO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jZW50ZXJjb25zdHJhaW50LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9WaWV3UHJvcGVydHlcbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgQ0VOVEVSOiAnY2VudGVyJyxcbiAgUkVTT0xVVElPTjogJ3Jlc29sdXRpb24nLFxuICBST1RBVElPTjogJ3JvdGF0aW9uJ1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Vmlld1Byb3BlcnR5LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9WaWV3XG4gKi9cbmltcG9ydCB7REVGQVVMVF9USUxFX1NJWkV9IGZyb20gJy4vdGlsZWdyaWQvY29tbW9uLmpzJztcbmltcG9ydCB7Z2V0VWlkfSBmcm9tICcuL3V0aWwuanMnO1xuaW1wb3J0IHtWT0lEfSBmcm9tICcuL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQge2NyZWF0ZUV4dGVudCwgbm9uZSBhcyBjZW50ZXJOb25lfSBmcm9tICcuL2NlbnRlcmNvbnN0cmFpbnQuanMnO1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi9PYmplY3QuanMnO1xuaW1wb3J0IHtjcmVhdGVTbmFwVG9SZXNvbHV0aW9ucywgY3JlYXRlU25hcFRvUG93ZXJ9IGZyb20gJy4vcmVzb2x1dGlvbmNvbnN0cmFpbnQuanMnO1xuaW1wb3J0IHtjcmVhdGVTbmFwVG9aZXJvLCBjcmVhdGVTbmFwVG9OLCBub25lIGFzIHJvdGF0aW9uTm9uZSwgZGlzYWJsZX0gZnJvbSAnLi9yb3RhdGlvbmNvbnN0cmFpbnQuanMnO1xuaW1wb3J0IFZpZXdIaW50IGZyb20gJy4vVmlld0hpbnQuanMnO1xuaW1wb3J0IFZpZXdQcm9wZXJ0eSBmcm9tICcuL1ZpZXdQcm9wZXJ0eS5qcyc7XG5pbXBvcnQge2xpbmVhckZpbmROZWFyZXN0fSBmcm9tICcuL2FycmF5LmpzJztcbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuL2Fzc2VydHMuanMnO1xuaW1wb3J0IHthZGQgYXMgYWRkQ29vcmRpbmF0ZSwgcm90YXRlIGFzIHJvdGF0ZUNvb3JkaW5hdGUsIGVxdWFscyBhcyBjb29yZGluYXRlc0VxdWFsfSBmcm9tICcuL2Nvb3JkaW5hdGUuanMnO1xuaW1wb3J0IHtpbkFuZE91dH0gZnJvbSAnLi9lYXNpbmcuanMnO1xuaW1wb3J0IHtnZXRGb3JWaWV3QW5kU2l6ZSwgZ2V0Q2VudGVyLCBnZXRIZWlnaHQsIGdldFdpZHRoLCBpc0VtcHR5fSBmcm9tICcuL2V4dGVudC5qcyc7XG5pbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJy4vZ2VvbS9HZW9tZXRyeVR5cGUuanMnO1xuaW1wb3J0IHtmcm9tRXh0ZW50IGFzIHBvbHlnb25Gcm9tRXh0ZW50fSBmcm9tICcuL2dlb20vUG9seWdvbi5qcyc7XG5pbXBvcnQge2NsYW1wLCBtb2R1bG99IGZyb20gJy4vbWF0aC5qcyc7XG5pbXBvcnQge2Fzc2lnbn0gZnJvbSAnLi9vYmouanMnO1xuaW1wb3J0IHtjcmVhdGVQcm9qZWN0aW9uLCBNRVRFUlNfUEVSX1VOSVR9IGZyb20gJy4vcHJvai5qcyc7XG5pbXBvcnQgVW5pdHMgZnJvbSAnLi9wcm9qL1VuaXRzLmpzJztcblxuXG4vKipcbiAqIEFuIGFuaW1hdGlvbiBjb25maWd1cmF0aW9uXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gQW5pbWF0aW9uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbc291cmNlQ2VudGVyXVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW3RhcmdldENlbnRlcl1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbc291cmNlUmVzb2x1dGlvbl1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGFyZ2V0UmVzb2x1dGlvbl1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbc291cmNlUm90YXRpb25dXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RhcmdldFJvdGF0aW9uXVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW2FuY2hvcl1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzdGFydFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGR1cmF0aW9uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGNvbXBsZXRlXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKG51bWJlcik6bnVtYmVyfSBlYXNpbmdcbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oYm9vbGVhbil9IGNhbGxiYWNrXG4gKi9cblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IENvbnN0cmFpbnRzXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY2VudGVyY29uc3RyYWludC5qc1wiKS5UeXBlfSBjZW50ZXJcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9yZXNvbHV0aW9uY29uc3RyYWludC5qc1wiKS5UeXBlfSByZXNvbHV0aW9uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vcm90YXRpb25jb25zdHJhaW50LmpzXCIpLlR5cGV9IHJvdGF0aW9uXG4gKi9cblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZpdE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFtzaXplXSBUaGUgc2l6ZSBpbiBwaXhlbHMgb2YgdGhlIGJveCB0byBmaXRcbiAqIHRoZSBleHRlbnQgaW50by4gRGVmYXVsdCBpcyB0aGUgY3VycmVudCBzaXplIG9mIHRoZSBmaXJzdCBtYXAgaW4gdGhlIERPTSB0aGF0XG4gKiB1c2VzIHRoaXMgdmlldywgb3IgYFsxMDAsIDEwMF1gIGlmIG5vIHN1Y2ggbWFwIGlzIGZvdW5kLlxuICogQHByb3BlcnR5IHshQXJyYXk8bnVtYmVyPn0gW3BhZGRpbmc9WzAsIDAsIDAsIDBdXSBQYWRkaW5nIChpbiBwaXhlbHMpIHRvIGJlXG4gKiBjbGVhcmVkIGluc2lkZSB0aGUgdmlldy4gVmFsdWVzIGluIHRoZSBhcnJheSBhcmUgdG9wLCByaWdodCwgYm90dG9tIGFuZCBsZWZ0XG4gKiBwYWRkaW5nLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbY29uc3RyYWluUmVzb2x1dGlvbj10cnVlXSBDb25zdHJhaW4gdGhlIHJlc29sdXRpb24uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtuZWFyZXN0PWZhbHNlXSBJZiBgY29uc3RyYWluUmVzb2x1dGlvbmAgaXMgYHRydWVgLCBnZXRcbiAqIHRoZSBuZWFyZXN0IGV4dGVudCBpbnN0ZWFkIG9mIHRoZSBjbG9zZXN0IHRoYXQgYWN0dWFsbHkgZml0cyB0aGUgdmlldy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluUmVzb2x1dGlvbj0wXSBNaW5pbXVtIHJlc29sdXRpb24gdGhhdCB3ZSB6b29tIHRvLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhab29tXSBNYXhpbXVtIHpvb20gbGV2ZWwgdGhhdCB3ZSB6b29tIHRvLiBJZlxuICogYG1pblJlc29sdXRpb25gIGlzIGdpdmVuLCB0aGlzIHByb3BlcnR5IGlzIGlnbm9yZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uXSBUaGUgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKiBCeSBkZWZhdWx0LCB0aGVyZSBpcyBubyBhbmltYXRpb24gdG8gdGhlIHRhcmdldCBleHRlbnQuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKG51bWJlcik6bnVtYmVyfSBbZWFzaW5nXSBUaGUgZWFzaW5nIGZ1bmN0aW9uIHVzZWQgZHVyaW5nXG4gKiB0aGUgYW5pbWF0aW9uIChkZWZhdWx0cyB0byB7QGxpbmsgbW9kdWxlOm9sL2Vhc2luZ35pbkFuZE91dH0pLlxuICogVGhlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGZvciBlYWNoIGZyYW1lIHdpdGggYSBudW1iZXIgcmVwcmVzZW50aW5nIGFcbiAqIGZyYWN0aW9uIG9mIHRoZSBhbmltYXRpb24ncyBkdXJhdGlvbi4gIFRoZSBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIGEgbnVtYmVyXG4gKiBiZXR3ZWVuIDAgYW5kIDEgcmVwcmVzZW50aW5nIHRoZSBwcm9ncmVzcyB0b3dhcmQgdGhlIGRlc3RpbmF0aW9uIHN0YXRlLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihib29sZWFuKX0gW2NhbGxiYWNrXSBGdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgdmlldyBpcyBpblxuICogaXRzIGZpbmFsIHBvc2l0aW9uLiBUaGUgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgd2l0aCBgdHJ1ZWAgaWYgdGhlIGFuaW1hdGlvblxuICogc2VyaWVzIGNvbXBsZXRlZCBvbiBpdHMgb3duIG9yIGBmYWxzZWAgaWYgaXQgd2FzIGNhbmNlbGxlZC5cbiAqL1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gVmlld09wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFtjZW50ZXJdIFRoZSBpbml0aWFsIGNlbnRlciBmb3JcbiAqIHRoZSB2aWV3LiBUaGUgY29vcmRpbmF0ZSBzeXN0ZW0gZm9yIHRoZSBjZW50ZXIgaXMgc3BlY2lmaWVkIHdpdGggdGhlXG4gKiBgcHJvamVjdGlvbmAgb3B0aW9uLiBMYXllciBzb3VyY2VzIHdpbGwgbm90IGJlIGZldGNoZWQgaWYgdGhpcyBpcyBub3Qgc2V0LFxuICogYnV0IHRoZSBjZW50ZXIgY2FuIGJlIHNldCBsYXRlciB3aXRoIHtAbGluayAjc2V0Q2VudGVyfS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbnxudW1iZXJ9IFtjb25zdHJhaW5Sb3RhdGlvbj10cnVlXSBSb3RhdGlvbiBjb25zdHJhaW50LlxuICogYGZhbHNlYCBtZWFucyBubyBjb25zdHJhaW50LiBgdHJ1ZWAgbWVhbnMgbm8gY29uc3RyYWludCwgYnV0IHNuYXAgdG8gemVyb1xuICogbmVhciB6ZXJvLiBBIG51bWJlciBjb25zdHJhaW5zIHRoZSByb3RhdGlvbiB0byB0aGF0IG51bWJlciBvZiB2YWx1ZXMuIEZvclxuICogZXhhbXBsZSwgYDRgIHdpbGwgY29uc3RyYWluIHRoZSByb3RhdGlvbiB0byAwLCA5MCwgMTgwLCBhbmQgMjcwIGRlZ3JlZXMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtlbmFibGVSb3RhdGlvbj10cnVlXSBFbmFibGUgcm90YXRpb24uXG4gKiBJZiBgZmFsc2VgLCBhIHJvdGF0aW9uIGNvbnN0cmFpbnQgdGhhdCBhbHdheXMgc2V0cyB0aGUgcm90YXRpb24gdG8gemVybyBpc1xuICogdXNlZC4gVGhlIGBjb25zdHJhaW5Sb3RhdGlvbmAgb3B0aW9uIGhhcyBubyBlZmZlY3QgaWYgYGVuYWJsZVJvdGF0aW9uYCBpc1xuICogYGZhbHNlYC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBUaGUgZXh0ZW50IHRoYXQgY29uc3RyYWlucyB0aGVcbiAqIGNlbnRlciwgaW4gb3RoZXIgd29yZHMsIGNlbnRlciBjYW5ub3QgYmUgc2V0IG91dHNpZGUgdGhpcyBleHRlbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFJlc29sdXRpb25dIFRoZSBtYXhpbXVtIHJlc29sdXRpb24gdXNlZCB0byBkZXRlcm1pbmVcbiAqIHRoZSByZXNvbHV0aW9uIGNvbnN0cmFpbnQuIEl0IGlzIHVzZWQgdG9nZXRoZXIgd2l0aCBgbWluUmVzb2x1dGlvbmAgKG9yXG4gKiBgbWF4Wm9vbWApIGFuZCBgem9vbUZhY3RvcmAuIElmIHVuc3BlY2lmaWVkIGl0IGlzIGNhbGN1bGF0ZWQgaW4gc3VjaCBhIHdheVxuICogdGhhdCB0aGUgcHJvamVjdGlvbidzIHZhbGlkaXR5IGV4dGVudCBmaXRzIGluIGEgMjU2eDI1NiBweCB0aWxlLiBJZiB0aGVcbiAqIHByb2plY3Rpb24gaXMgU3BoZXJpY2FsIE1lcmNhdG9yICh0aGUgZGVmYXVsdCkgdGhlbiBgbWF4UmVzb2x1dGlvbmAgZGVmYXVsdHNcbiAqIHRvIGA0MDA3NTAxNi42ODU1Nzg0OSAvIDI1NiA9IDE1NjU0My4wMzM5MjgwNDA5N2AuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblJlc29sdXRpb25dIFRoZSBtaW5pbXVtIHJlc29sdXRpb24gdXNlZCB0byBkZXRlcm1pbmVcbiAqIHRoZSByZXNvbHV0aW9uIGNvbnN0cmFpbnQuICBJdCBpcyB1c2VkIHRvZ2V0aGVyIHdpdGggYG1heFJlc29sdXRpb25gIChvclxuICogYG1pblpvb21gKSBhbmQgYHpvb21GYWN0b3JgLiAgSWYgdW5zcGVjaWZpZWQgaXQgaXMgY2FsY3VsYXRlZCBhc3N1bWluZyAyOVxuICogem9vbSBsZXZlbHMgKHdpdGggYSBmYWN0b3Igb2YgMikuIElmIHRoZSBwcm9qZWN0aW9uIGlzIFNwaGVyaWNhbCBNZXJjYXRvclxuICogKHRoZSBkZWZhdWx0KSB0aGVuIGBtaW5SZXNvbHV0aW9uYCBkZWZhdWx0cyB0b1xuICogYDQwMDc1MDE2LjY4NTU3ODQ5IC8gMjU2IC8gTWF0aC5wb3coMiwgMjgpID0gMC4wMDA1ODMxNjgyNDU1ODM5MjUzYC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbT0yOF0gVGhlIG1heGltdW0gem9vbSBsZXZlbCB1c2VkIHRvIGRldGVybWluZSB0aGVcbiAqIHJlc29sdXRpb24gY29uc3RyYWludC4gSXQgaXMgdXNlZCB0b2dldGhlciB3aXRoIGBtaW5ab29tYCAob3JcbiAqIGBtYXhSZXNvbHV0aW9uYCkgYW5kIGB6b29tRmFjdG9yYC4gIE5vdGUgdGhhdCBpZiBgbWluUmVzb2x1dGlvbmAgaXMgYWxzb1xuICogcHJvdmlkZWQsIGl0IGlzIGdpdmVuIHByZWNlZGVuY2Ugb3ZlciBgbWF4Wm9vbWAuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblpvb209MF0gVGhlIG1pbmltdW0gem9vbSBsZXZlbCB1c2VkIHRvIGRldGVybWluZSB0aGVcbiAqIHJlc29sdXRpb24gY29uc3RyYWludC4gSXQgaXMgdXNlZCB0b2dldGhlciB3aXRoIGBtYXhab29tYCAob3JcbiAqIGBtaW5SZXNvbHV0aW9uYCkgYW5kIGB6b29tRmFjdG9yYC4gIE5vdGUgdGhhdCBpZiBgbWF4UmVzb2x1dGlvbmAgaXMgYWxzb1xuICogcHJvdmlkZWQsIGl0IGlzIGdpdmVuIHByZWNlZGVuY2Ugb3ZlciBgbWluWm9vbWAuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gW3Byb2plY3Rpb249J0VQU0c6Mzg1NyddIFRoZVxuICogcHJvamVjdGlvbi4gVGhlIGRlZmF1bHQgaXMgU3BoZXJpY2FsIE1lcmNhdG9yLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyZXNvbHV0aW9uXSBUaGUgaW5pdGlhbCByZXNvbHV0aW9uIGZvciB0aGUgdmlldy4gVGhlXG4gKiB1bml0cyBhcmUgYHByb2plY3Rpb25gIHVuaXRzIHBlciBwaXhlbCAoZS5nLiBtZXRlcnMgcGVyIHBpeGVsKS4gQW5cbiAqIGFsdGVybmF0aXZlIHRvIHNldHRpbmcgdGhpcyBpcyB0byBzZXQgYHpvb21gLiBMYXllciBzb3VyY2VzIHdpbGwgbm90IGJlXG4gKiBmZXRjaGVkIGlmIG5laXRoZXIgdGhpcyBub3IgYHpvb21gIGFyZSBkZWZpbmVkLCBidXQgdGhleSBjYW4gYmUgc2V0IGxhdGVyXG4gKiB3aXRoIHtAbGluayAjc2V0Wm9vbX0gb3Ige0BsaW5rICNzZXRSZXNvbHV0aW9ufS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW3Jlc29sdXRpb25zXSBSZXNvbHV0aW9ucyB0byBkZXRlcm1pbmUgdGhlXG4gKiByZXNvbHV0aW9uIGNvbnN0cmFpbnQuIElmIHNldCB0aGUgYG1heFJlc29sdXRpb25gLCBgbWluUmVzb2x1dGlvbmAsXG4gKiBgbWluWm9vbWAsIGBtYXhab29tYCwgYW5kIGB6b29tRmFjdG9yYCBvcHRpb25zIGFyZSBpZ25vcmVkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyb3RhdGlvbj0wXSBUaGUgaW5pdGlhbCByb3RhdGlvbiBmb3IgdGhlIHZpZXcgaW4gcmFkaWFuc1xuICogKHBvc2l0aXZlIHJvdGF0aW9uIGNsb2Nrd2lzZSwgMCBtZWFucyBOb3J0aCkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pvb21dIE9ubHkgdXNlZCBpZiBgcmVzb2x1dGlvbmAgaXMgbm90IGRlZmluZWQuIFpvb21cbiAqIGxldmVsIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBpbml0aWFsIHJlc29sdXRpb24gZm9yIHRoZSB2aWV3LiBUaGUgaW5pdGlhbFxuICogcmVzb2x1dGlvbiBpcyBkZXRlcm1pbmVkIHVzaW5nIHRoZSB7QGxpbmsgI2NvbnN0cmFpblJlc29sdXRpb259IG1ldGhvZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbem9vbUZhY3Rvcj0yXSBUaGUgem9vbSBmYWN0b3IgdXNlZCB0byBkZXRlcm1pbmUgdGhlXG4gKiByZXNvbHV0aW9uIGNvbnN0cmFpbnQuXG4gKi9cblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEFuaW1hdGlvbk9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFtjZW50ZXJdIFRoZSBjZW50ZXIgb2YgdGhlIHZpZXcgYXQgdGhlIGVuZCBvZlxuICogdGhlIGFuaW1hdGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbem9vbV0gVGhlIHpvb20gbGV2ZWwgb2YgdGhlIHZpZXcgYXQgdGhlIGVuZCBvZiB0aGVcbiAqIGFuaW1hdGlvbi4gVGhpcyB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgYHJlc29sdXRpb25gLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyZXNvbHV0aW9uXSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgdmlldyBhdCB0aGUgZW5kXG4gKiBvZiB0aGUgYW5pbWF0aW9uLiAgSWYgYHpvb21gIGlzIGFsc28gcHJvdmlkZWQsIHRoaXMgb3B0aW9uIHdpbGwgYmUgaWdub3JlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcm90YXRpb25dIFRoZSByb3RhdGlvbiBvZiB0aGUgdmlldyBhdCB0aGUgZW5kIG9mXG4gKiB0aGUgYW5pbWF0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW2FuY2hvcl0gT3B0aW9uYWwgYW5jaG9yIHRvIHJlbWFpbmVkIGZpeGVkXG4gKiBkdXJpbmcgYSByb3RhdGlvbiBvciByZXNvbHV0aW9uIGFuaW1hdGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MTAwMF0gVGhlIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihudW1iZXIpOm51bWJlcn0gW2Vhc2luZ10gVGhlIGVhc2luZyBmdW5jdGlvbiB1c2VkXG4gKiBkdXJpbmcgdGhlIGFuaW1hdGlvbiAoZGVmYXVsdHMgdG8ge0BsaW5rIG1vZHVsZTpvbC9lYXNpbmd+aW5BbmRPdXR9KS5cbiAqIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBmb3IgZWFjaCBmcmFtZSB3aXRoIGEgbnVtYmVyIHJlcHJlc2VudGluZyBhXG4gKiBmcmFjdGlvbiBvZiB0aGUgYW5pbWF0aW9uJ3MgZHVyYXRpb24uICBUaGUgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBhIG51bWJlclxuICogYmV0d2VlbiAwIGFuZCAxIHJlcHJlc2VudGluZyB0aGUgcHJvZ3Jlc3MgdG93YXJkIHRoZSBkZXN0aW5hdGlvbiBzdGF0ZS5cbiAqL1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gU3RhdGVcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNlbnRlclxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uXG4gKiBAcHJvcGVydHkge251bWJlcn0gcmVzb2x1dGlvblxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJvdGF0aW9uXG4gKiBAcHJvcGVydHkge251bWJlcn0gem9vbVxuICovXG5cblxuLyoqXG4gKiBEZWZhdWx0IG1pbiB6b29tIGxldmVsIGZvciB0aGUgbWFwIHZpZXcuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG52YXIgREVGQVVMVF9NSU5fWk9PTSA9IDA7XG5cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBIFZpZXcgb2JqZWN0IHJlcHJlc2VudHMgYSBzaW1wbGUgMkQgdmlldyBvZiB0aGUgbWFwLlxuICpcbiAqIFRoaXMgaXMgdGhlIG9iamVjdCB0byBhY3QgdXBvbiB0byBjaGFuZ2UgdGhlIGNlbnRlciwgcmVzb2x1dGlvbixcbiAqIGFuZCByb3RhdGlvbiBvZiB0aGUgbWFwLlxuICpcbiAqICMjIyBUaGUgdmlldyBzdGF0ZXNcbiAqXG4gKiBBbiBWaWV3IGlzIGRldGVybWluZWQgYnkgdGhyZWUgc3RhdGVzOiBgY2VudGVyYCwgYHJlc29sdXRpb25gLFxuICogYW5kIGByb3RhdGlvbmAuIEVhY2ggc3RhdGUgaGFzIGEgY29ycmVzcG9uZGluZyBnZXR0ZXIgYW5kIHNldHRlciwgZS5nLlxuICogYGdldENlbnRlcmAgYW5kIGBzZXRDZW50ZXJgIGZvciB0aGUgYGNlbnRlcmAgc3RhdGUuXG4gKlxuICogQW4gVmlldyBoYXMgYSBgcHJvamVjdGlvbmAuIFRoZSBwcm9qZWN0aW9uIGRldGVybWluZXMgdGhlXG4gKiBjb29yZGluYXRlIHN5c3RlbSBvZiB0aGUgY2VudGVyLCBhbmQgaXRzIHVuaXRzIGRldGVybWluZSB0aGUgdW5pdHMgb2YgdGhlXG4gKiByZXNvbHV0aW9uIChwcm9qZWN0aW9uIHVuaXRzIHBlciBwaXhlbCkuIFRoZSBkZWZhdWx0IHByb2plY3Rpb24gaXNcbiAqIFNwaGVyaWNhbCBNZXJjYXRvciAoRVBTRzozODU3KS5cbiAqXG4gKiAjIyMgVGhlIGNvbnN0cmFpbnRzXG4gKlxuICogYHNldENlbnRlcmAsIGBzZXRSZXNvbHV0aW9uYCBhbmQgYHNldFJvdGF0aW9uYCBjYW4gYmUgdXNlZCB0byBjaGFuZ2UgdGhlXG4gKiBzdGF0ZXMgb2YgdGhlIHZpZXcuIEFueSB2YWx1ZSBjYW4gYmUgcGFzc2VkIHRvIHRoZSBzZXR0ZXJzLiBBbmQgdGhlIHZhbHVlXG4gKiB0aGF0IGlzIHBhc3NlZCB0byBhIHNldHRlciB3aWxsIGVmZmVjdGl2ZWx5IGJlIHRoZSB2YWx1ZSBzZXQgaW4gdGhlIHZpZXcsXG4gKiBhbmQgcmV0dXJuZWQgYnkgdGhlIGNvcnJlc3BvbmRpbmcgZ2V0dGVyLlxuICpcbiAqIEJ1dCBhIFZpZXcgb2JqZWN0IGFsc28gaGFzIGEgKnJlc29sdXRpb24gY29uc3RyYWludCosIGFcbiAqICpyb3RhdGlvbiBjb25zdHJhaW50KiBhbmQgYSAqY2VudGVyIGNvbnN0cmFpbnQqLlxuICpcbiAqIEFzIHNhaWQgYWJvdmUsIG5vIGNvbnN0cmFpbnRzIGFyZSBhcHBsaWVkIHdoZW4gdGhlIHNldHRlcnMgYXJlIHVzZWQgdG8gc2V0XG4gKiBuZXcgc3RhdGVzIGZvciB0aGUgdmlldy4gQXBwbHlpbmcgY29uc3RyYWludHMgaXMgZG9uZSBleHBsaWNpdGx5IHRocm91Z2hcbiAqIHRoZSB1c2Ugb2YgdGhlIGBjb25zdHJhaW4qYCBmdW5jdGlvbnMgKGBjb25zdHJhaW5SZXNvbHV0aW9uYCBhbmRcbiAqIGBjb25zdHJhaW5Sb3RhdGlvbmAgYW5kIGBjb25zdHJhaW5DZW50ZXJgKS5cbiAqXG4gKiBUaGUgbWFpbiB1c2VycyBvZiB0aGUgY29uc3RyYWludHMgYXJlIHRoZSBpbnRlcmFjdGlvbnMgYW5kIHRoZVxuICogY29udHJvbHMuIEZvciBleGFtcGxlLCBkb3VibGUtY2xpY2tpbmcgb24gdGhlIG1hcCBjaGFuZ2VzIHRoZSB2aWV3IHRvXG4gKiB0aGUgXCJuZXh0XCIgcmVzb2x1dGlvbi4gQW5kIHJlbGVhc2luZyB0aGUgZmluZ2VycyBhZnRlciBwaW5jaC16b29taW5nXG4gKiBzbmFwcyB0byB0aGUgY2xvc2VzdCByZXNvbHV0aW9uICh3aXRoIGFuIGFuaW1hdGlvbikuXG4gKlxuICogVGhlICpyZXNvbHV0aW9uIGNvbnN0cmFpbnQqIHNuYXBzIHRvIHNwZWNpZmljIHJlc29sdXRpb25zLiBJdCBpc1xuICogZGV0ZXJtaW5lZCBieSB0aGUgZm9sbG93aW5nIG9wdGlvbnM6IGByZXNvbHV0aW9uc2AsIGBtYXhSZXNvbHV0aW9uYCxcbiAqIGBtYXhab29tYCwgYW5kIGB6b29tRmFjdG9yYC4gSWYgYHJlc29sdXRpb25zYCBpcyBzZXQsIHRoZSBvdGhlciB0aHJlZVxuICogb3B0aW9ucyBhcmUgaWdub3JlZC4gU2VlIGRvY3VtZW50YXRpb24gZm9yIGVhY2ggb3B0aW9uIGZvciBtb3JlXG4gKiBpbmZvcm1hdGlvbi5cbiAqXG4gKiBUaGUgKnJvdGF0aW9uIGNvbnN0cmFpbnQqIHNuYXBzIHRvIHNwZWNpZmljIGFuZ2xlcy4gSXQgaXMgZGV0ZXJtaW5lZFxuICogYnkgdGhlIGZvbGxvd2luZyBvcHRpb25zOiBgZW5hYmxlUm90YXRpb25gIGFuZCBgY29uc3RyYWluUm90YXRpb25gLlxuICogQnkgZGVmYXVsdCB0aGUgcm90YXRpb24gdmFsdWUgaXMgc25hcHBlZCB0byB6ZXJvIHdoZW4gYXBwcm9hY2hpbmcgdGhlXG4gKiBob3Jpem9udGFsLlxuICpcbiAqIFRoZSAqY2VudGVyIGNvbnN0cmFpbnQqIGlzIGRldGVybWluZWQgYnkgdGhlIGBleHRlbnRgIG9wdGlvbi4gQnlcbiAqIGRlZmF1bHQgdGhlIGNlbnRlciBpcyBub3QgY29uc3RyYWluZWQgYXQgYWxsLlxuICpcbiAgKiBAYXBpXG4gKi9cbnZhciBWaWV3ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQmFzZU9iamVjdCkge1xuICBmdW5jdGlvbiBWaWV3KG9wdF9vcHRpb25zKSB7XG4gICAgQmFzZU9iamVjdC5jYWxsKHRoaXMpO1xuXG4gICAgdmFyIG9wdGlvbnMgPSBhc3NpZ24oe30sIG9wdF9vcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICovXG4gICAgdGhpcy5oaW50c18gPSBbMCwgMF07XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxBcnJheTxBbmltYXRpb24+Pn1cbiAgICAgKi9cbiAgICB0aGlzLmFuaW1hdGlvbnNfID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMudXBkYXRlQW5pbWF0aW9uS2V5XztcblxuICAgIHRoaXMudXBkYXRlQW5pbWF0aW9uc18gPSB0aGlzLnVwZGF0ZUFuaW1hdGlvbnNfLmJpbmQodGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdFxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMucHJvamVjdGlvbl8gPSBjcmVhdGVQcm9qZWN0aW9uKG9wdGlvbnMucHJvamVjdGlvbiwgJ0VQU0c6Mzg1NycpO1xuXG4gICAgdGhpcy5hcHBseU9wdGlvbnNfKG9wdGlvbnMpO1xuICB9XG5cbiAgaWYgKCBCYXNlT2JqZWN0ICkgVmlldy5fX3Byb3RvX18gPSBCYXNlT2JqZWN0O1xuICBWaWV3LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEJhc2VPYmplY3QgJiYgQmFzZU9iamVjdC5wcm90b3R5cGUgKTtcbiAgVmlldy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBWaWV3O1xuXG4gIC8qKlxuICAgKiBTZXQgdXAgdGhlIHZpZXcgd2l0aCB0aGUgZ2l2ZW4gb3B0aW9ucy5cbiAgICogQHBhcmFtIHtWaWV3T3B0aW9uc30gb3B0aW9ucyBWaWV3IG9wdGlvbnMuXG4gICAqL1xuICBWaWV3LnByb3RvdHlwZS5hcHBseU9wdGlvbnNfID0gZnVuY3Rpb24gYXBwbHlPcHRpb25zXyAob3B0aW9ucykge1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsICo+fVxuICAgICAqL1xuICAgIHZhciBwcm9wZXJ0aWVzID0ge307XG4gICAgcHJvcGVydGllc1tWaWV3UHJvcGVydHkuQ0VOVEVSXSA9IG9wdGlvbnMuY2VudGVyICE9PSB1bmRlZmluZWQgP1xuICAgICAgb3B0aW9ucy5jZW50ZXIgOiBudWxsO1xuXG4gICAgdmFyIHJlc29sdXRpb25Db25zdHJhaW50SW5mbyA9IGNyZWF0ZVJlc29sdXRpb25Db25zdHJhaW50KG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWF4UmVzb2x1dGlvbl8gPSByZXNvbHV0aW9uQ29uc3RyYWludEluZm8ubWF4UmVzb2x1dGlvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1pblJlc29sdXRpb25fID0gcmVzb2x1dGlvbkNvbnN0cmFpbnRJbmZvLm1pblJlc29sdXRpb247XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy56b29tRmFjdG9yXyA9IHJlc29sdXRpb25Db25zdHJhaW50SW5mby56b29tRmFjdG9yO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5yZXNvbHV0aW9uc18gPSBvcHRpb25zLnJlc29sdXRpb25zO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWluWm9vbV8gPSByZXNvbHV0aW9uQ29uc3RyYWludEluZm8ubWluWm9vbTtcblxuICAgIHZhciBjZW50ZXJDb25zdHJhaW50ID0gY3JlYXRlQ2VudGVyQ29uc3RyYWludChvcHRpb25zKTtcbiAgICB2YXIgcmVzb2x1dGlvbkNvbnN0cmFpbnQgPSByZXNvbHV0aW9uQ29uc3RyYWludEluZm8uY29uc3RyYWludDtcbiAgICB2YXIgcm90YXRpb25Db25zdHJhaW50ID0gY3JlYXRlUm90YXRpb25Db25zdHJhaW50KG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Q29uc3RyYWludHN9XG4gICAgICovXG4gICAgdGhpcy5jb25zdHJhaW50c18gPSB7XG4gICAgICBjZW50ZXI6IGNlbnRlckNvbnN0cmFpbnQsXG4gICAgICByZXNvbHV0aW9uOiByZXNvbHV0aW9uQ29uc3RyYWludCxcbiAgICAgIHJvdGF0aW9uOiByb3RhdGlvbkNvbnN0cmFpbnRcbiAgICB9O1xuXG4gICAgaWYgKG9wdGlvbnMucmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBwcm9wZXJ0aWVzW1ZpZXdQcm9wZXJ0eS5SRVNPTFVUSU9OXSA9IG9wdGlvbnMucmVzb2x1dGlvbjtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuem9vbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBwcm9wZXJ0aWVzW1ZpZXdQcm9wZXJ0eS5SRVNPTFVUSU9OXSA9IHRoaXMuY29uc3RyYWluUmVzb2x1dGlvbihcbiAgICAgICAgdGhpcy5tYXhSZXNvbHV0aW9uXywgb3B0aW9ucy56b29tIC0gdGhpcy5taW5ab29tXyk7XG5cbiAgICAgIGlmICh0aGlzLnJlc29sdXRpb25zXykgeyAvLyBpbiBjYXNlIG1hcCB6b29tIGlzIG91dCBvZiBtaW4vbWF4IHpvb20gcmFuZ2VcbiAgICAgICAgcHJvcGVydGllc1tWaWV3UHJvcGVydHkuUkVTT0xVVElPTl0gPSBjbGFtcChcbiAgICAgICAgICBOdW1iZXIodGhpcy5nZXRSZXNvbHV0aW9uKCkgfHwgcHJvcGVydGllc1tWaWV3UHJvcGVydHkuUkVTT0xVVElPTl0pLFxuICAgICAgICAgIHRoaXMubWluUmVzb2x1dGlvbl8sIHRoaXMubWF4UmVzb2x1dGlvbl8pO1xuICAgICAgfVxuICAgIH1cbiAgICBwcm9wZXJ0aWVzW1ZpZXdQcm9wZXJ0eS5ST1RBVElPTl0gPSBvcHRpb25zLnJvdGF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJvdGF0aW9uIDogMDtcbiAgICB0aGlzLnNldFByb3BlcnRpZXMocHJvcGVydGllcyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtWaWV3T3B0aW9uc31cbiAgICAgKi9cbiAgICB0aGlzLm9wdGlvbnNfID0gb3B0aW9ucztcblxuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgYW4gdXBkYXRlZCB2ZXJzaW9uIG9mIHRoZSB2aWV3IG9wdGlvbnMgdXNlZCB0byBjb25zdHJ1Y3QgdGhlIHZpZXcuICBUaGVcbiAgICogY3VycmVudCByZXNvbHV0aW9uIChvciB6b29tKSwgY2VudGVyLCBhbmQgcm90YXRpb24gYXJlIGFwcGxpZWQgdG8gYW55IHN0b3JlZFxuICAgKiBvcHRpb25zLiAgVGhlIHByb3ZpZGVkIG9wdGlvbnMgY2FuIGJlIHVzZWQgdG8gYXBwbHkgbmV3IG1pbi9tYXggem9vbSBvclxuICAgKiByZXNvbHV0aW9uIGxpbWl0cy5cbiAgICogQHBhcmFtIHtWaWV3T3B0aW9uc30gbmV3T3B0aW9ucyBOZXcgb3B0aW9ucyB0byBiZSBhcHBsaWVkLlxuICAgKiBAcmV0dXJuIHtWaWV3T3B0aW9uc30gTmV3IG9wdGlvbnMgdXBkYXRlZCB3aXRoIHRoZSBjdXJyZW50IHZpZXcgc3RhdGUuXG4gICAqL1xuICBWaWV3LnByb3RvdHlwZS5nZXRVcGRhdGVkT3B0aW9uc18gPSBmdW5jdGlvbiBnZXRVcGRhdGVkT3B0aW9uc18gKG5ld09wdGlvbnMpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFzc2lnbih7fSwgdGhpcy5vcHRpb25zXyk7XG5cbiAgICAvLyBwcmVzZXJ2ZSByZXNvbHV0aW9uIChvciB6b29tKVxuICAgIGlmIChvcHRpb25zLnJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgb3B0aW9ucy5yZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdGlvbnMuem9vbSA9IHRoaXMuZ2V0Wm9vbSgpO1xuICAgIH1cblxuICAgIC8vIHByZXNlcnZlIGNlbnRlclxuICAgIG9wdGlvbnMuY2VudGVyID0gdGhpcy5nZXRDZW50ZXIoKTtcblxuICAgIC8vIHByZXNlcnZlIHJvdGF0aW9uXG4gICAgb3B0aW9ucy5yb3RhdGlvbiA9IHRoaXMuZ2V0Um90YXRpb24oKTtcblxuICAgIHJldHVybiBhc3NpZ24oe30sIG9wdGlvbnMsIG5ld09wdGlvbnMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBbmltYXRlIHRoZSB2aWV3LiAgVGhlIHZpZXcncyBjZW50ZXIsIHpvb20gKG9yIHJlc29sdXRpb24pLCBhbmQgcm90YXRpb25cbiAgICogY2FuIGJlIGFuaW1hdGVkIGZvciBzbW9vdGggdHJhbnNpdGlvbnMgYmV0d2VlbiB2aWV3IHN0YXRlcy4gIEZvciBleGFtcGxlLFxuICAgKiB0byBhbmltYXRlIHRoZSB2aWV3IHRvIGEgbmV3IHpvb20gbGV2ZWw6XG4gICAqXG4gICAqICAgICB2aWV3LmFuaW1hdGUoe3pvb206IHZpZXcuZ2V0Wm9vbSgpICsgMX0pO1xuICAgKlxuICAgKiBCeSBkZWZhdWx0LCB0aGUgYW5pbWF0aW9uIGxhc3RzIG9uZSBzZWNvbmQgYW5kIHVzZXMgaW4tYW5kLW91dCBlYXNpbmcuICBZb3VcbiAgICogY2FuIGN1c3RvbWl6ZSB0aGlzIGJlaGF2aW9yIGJ5IGluY2x1ZGluZyBgZHVyYXRpb25gIChpbiBtaWxsaXNlY29uZHMpIGFuZFxuICAgKiBgZWFzaW5nYCBvcHRpb25zIChzZWUge0BsaW5rIG1vZHVsZTpvbC9lYXNpbmd9KS5cbiAgICpcbiAgICogVG8gY2hhaW4gdG9nZXRoZXIgbXVsdGlwbGUgYW5pbWF0aW9ucywgY2FsbCB0aGUgbWV0aG9kIHdpdGggbXVsdGlwbGVcbiAgICogYW5pbWF0aW9uIG9iamVjdHMuICBGb3IgZXhhbXBsZSwgdG8gZmlyc3Qgem9vbSBhbmQgdGhlbiBwYW46XG4gICAqXG4gICAqICAgICB2aWV3LmFuaW1hdGUoe3pvb206IDEwfSwge2NlbnRlcjogWzAsIDBdfSk7XG4gICAqXG4gICAqIElmIHlvdSBwcm92aWRlIGEgZnVuY3Rpb24gYXMgdGhlIGxhc3QgYXJndW1lbnQgdG8gdGhlIGFuaW1hdGUgbWV0aG9kLCBpdFxuICAgKiB3aWxsIGdldCBjYWxsZWQgYXQgdGhlIGVuZCBvZiBhbiBhbmltYXRpb24gc2VyaWVzLiAgVGhlIGNhbGxiYWNrIHdpbGwgYmVcbiAgICogY2FsbGVkIHdpdGggYHRydWVgIGlmIHRoZSBhbmltYXRpb24gc2VyaWVzIGNvbXBsZXRlZCBvbiBpdHMgb3duIG9yIGBmYWxzZWBcbiAgICogaWYgaXQgd2FzIGNhbmNlbGxlZC5cbiAgICpcbiAgICogQW5pbWF0aW9ucyBhcmUgY2FuY2VsbGVkIGJ5IHVzZXIgaW50ZXJhY3Rpb25zIChlLmcuIGRyYWdnaW5nIHRoZSBtYXApIG9yIGJ5XG4gICAqIGNhbGxpbmcgYHZpZXcuc2V0Q2VudGVyKClgLCBgdmlldy5zZXRSZXNvbHV0aW9uKClgLCBvciBgdmlldy5zZXRSb3RhdGlvbigpYFxuICAgKiAob3IgYW5vdGhlciBtZXRob2QgdGhhdCBjYWxscyBvbmUgb2YgdGhlc2UpLlxuICAgKlxuICAgKiBAcGFyYW0gey4uLihBbmltYXRpb25PcHRpb25zfGZ1bmN0aW9uKGJvb2xlYW4pKX0gdmFyX2FyZ3MgQW5pbWF0aW9uXG4gICAqICAgICBvcHRpb25zLiAgTXVsdGlwbGUgYW5pbWF0aW9ucyBjYW4gYmUgcnVuIGluIHNlcmllcyBieSBwYXNzaW5nIG11bHRpcGxlXG4gICAqICAgICBvcHRpb25zIG9iamVjdHMuICBUbyBydW4gbXVsdGlwbGUgYW5pbWF0aW9ucyBpbiBwYXJhbGxlbCwgY2FsbCB0aGUgbWV0aG9kXG4gICAqICAgICBtdWx0aXBsZSB0aW1lcy4gIEFuIG9wdGlvbmFsIGNhbGxiYWNrIGNhbiBiZSBwcm92aWRlZCBhcyBhIGZpbmFsXG4gICAqICAgICBhcmd1bWVudC4gIFRoZSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCB3aXRoIGEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXJcbiAgICogICAgIHRoZSBhbmltYXRpb24gY29tcGxldGVkIHdpdGhvdXQgYmVpbmcgY2FuY2VsbGVkLlxuICAgKiBAYXBpXG4gICAqL1xuICBWaWV3LnByb3RvdHlwZS5hbmltYXRlID0gZnVuY3Rpb24gYW5pbWF0ZSAodmFyX2FyZ3MpIHtcbiAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cbiAgICB2YXIgYW5pbWF0aW9uQ291bnQgPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHZhciBjYWxsYmFjaztcbiAgICBpZiAoYW5pbWF0aW9uQ291bnQgPiAxICYmIHR5cGVvZiBhcmd1bWVudHNbYW5pbWF0aW9uQ291bnQgLSAxXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBhcmd1bWVudHNbYW5pbWF0aW9uQ291bnQgLSAxXTtcbiAgICAgIC0tYW5pbWF0aW9uQ291bnQ7XG4gICAgfVxuICAgIGlmICghdGhpcy5pc0RlZigpKSB7XG4gICAgICAvLyBpZiB2aWV3IHByb3BlcnRpZXMgYXJlIG5vdCB5ZXQgc2V0LCBzaG9ydGN1dCB0byB0aGUgZmluYWwgc3RhdGVcbiAgICAgIHZhciBzdGF0ZSA9IGFyZ3VtZW50c1thbmltYXRpb25Db3VudCAtIDFdO1xuICAgICAgaWYgKHN0YXRlLmNlbnRlcikge1xuICAgICAgICB0aGlzLnNldENlbnRlcihzdGF0ZS5jZW50ZXIpO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXRlLnpvb20gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnNldFpvb20oc3RhdGUuem9vbSk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUucm90YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnNldFJvdGF0aW9uKHN0YXRlLnJvdGF0aW9uKTtcbiAgICAgIH1cbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBhbmltYXRpb25DYWxsYmFjayhjYWxsYmFjaywgdHJ1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBzdGFydCA9IERhdGUubm93KCk7XG4gICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyKCkuc2xpY2UoKTtcbiAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbigpO1xuICAgIHZhciByb3RhdGlvbiA9IHRoaXMuZ2V0Um90YXRpb24oKTtcbiAgICB2YXIgc2VyaWVzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmltYXRpb25Db3VudDsgKytpKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IC8qKiBAdHlwZSB7QW5pbWF0aW9uT3B0aW9uc30gKi8gKGFyZ3VtZW50cyQxW2ldKTtcblxuICAgICAgdmFyIGFuaW1hdGlvbiA9IC8qKiBAdHlwZSB7QW5pbWF0aW9ufSAqLyAoe1xuICAgICAgICBzdGFydDogc3RhcnQsXG4gICAgICAgIGNvbXBsZXRlOiBmYWxzZSxcbiAgICAgICAgYW5jaG9yOiBvcHRpb25zLmFuY2hvcixcbiAgICAgICAgZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAxMDAwLFxuICAgICAgICBlYXNpbmc6IG9wdGlvbnMuZWFzaW5nIHx8IGluQW5kT3V0XG4gICAgICB9KTtcblxuICAgICAgaWYgKG9wdGlvbnMuY2VudGVyKSB7XG4gICAgICAgIGFuaW1hdGlvbi5zb3VyY2VDZW50ZXIgPSBjZW50ZXI7XG4gICAgICAgIGFuaW1hdGlvbi50YXJnZXRDZW50ZXIgPSBvcHRpb25zLmNlbnRlcjtcbiAgICAgICAgY2VudGVyID0gYW5pbWF0aW9uLnRhcmdldENlbnRlcjtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMuem9vbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFuaW1hdGlvbi5zb3VyY2VSZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgYW5pbWF0aW9uLnRhcmdldFJlc29sdXRpb24gPSB0aGlzLmNvbnN0cmFpblJlc29sdXRpb24oXG4gICAgICAgICAgdGhpcy5tYXhSZXNvbHV0aW9uXywgb3B0aW9ucy56b29tIC0gdGhpcy5taW5ab29tXywgMCk7XG4gICAgICAgIHJlc29sdXRpb24gPSBhbmltYXRpb24udGFyZ2V0UmVzb2x1dGlvbjtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5yZXNvbHV0aW9uKSB7XG4gICAgICAgIGFuaW1hdGlvbi5zb3VyY2VSZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgYW5pbWF0aW9uLnRhcmdldFJlc29sdXRpb24gPSBvcHRpb25zLnJlc29sdXRpb247XG4gICAgICAgIHJlc29sdXRpb24gPSBhbmltYXRpb24udGFyZ2V0UmVzb2x1dGlvbjtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMucm90YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhbmltYXRpb24uc291cmNlUm90YXRpb24gPSByb3RhdGlvbjtcbiAgICAgICAgdmFyIGRlbHRhID0gbW9kdWxvKG9wdGlvbnMucm90YXRpb24gLSByb3RhdGlvbiArIE1hdGguUEksIDIgKiBNYXRoLlBJKSAtIE1hdGguUEk7XG4gICAgICAgIGFuaW1hdGlvbi50YXJnZXRSb3RhdGlvbiA9IHJvdGF0aW9uICsgZGVsdGE7XG4gICAgICAgIHJvdGF0aW9uID0gYW5pbWF0aW9uLnRhcmdldFJvdGF0aW9uO1xuICAgICAgfVxuXG4gICAgICBhbmltYXRpb24uY2FsbGJhY2sgPSBjYWxsYmFjaztcblxuICAgICAgLy8gY2hlY2sgaWYgYW5pbWF0aW9uIGlzIGEgbm8tb3BcbiAgICAgIGlmIChpc05vb3BBbmltYXRpb24oYW5pbWF0aW9uKSkge1xuICAgICAgICBhbmltYXRpb24uY29tcGxldGUgPSB0cnVlO1xuICAgICAgICAvLyB3ZSBzdGlsbCBwdXNoIGl0IG9udG8gdGhlIHNlcmllcyBmb3IgY2FsbGJhY2sgaGFuZGxpbmdcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXJ0ICs9IGFuaW1hdGlvbi5kdXJhdGlvbjtcbiAgICAgIH1cbiAgICAgIHNlcmllcy5wdXNoKGFuaW1hdGlvbik7XG4gICAgfVxuICAgIHRoaXMuYW5pbWF0aW9uc18ucHVzaChzZXJpZXMpO1xuICAgIHRoaXMuc2V0SGludChWaWV3SGludC5BTklNQVRJTkcsIDEpO1xuICAgIHRoaXMudXBkYXRlQW5pbWF0aW9uc18oKTtcbiAgfTtcblxuICAvKipcbiAgICogRGV0ZXJtaW5lIGlmIHRoZSB2aWV3IGlzIGJlaW5nIGFuaW1hdGVkLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgdmlldyBpcyBiZWluZyBhbmltYXRlZC5cbiAgICogQGFwaVxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuZ2V0QW5pbWF0aW5nID0gZnVuY3Rpb24gZ2V0QW5pbWF0aW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy5oaW50c19bVmlld0hpbnQuQU5JTUFUSU5HXSA+IDA7XG4gIH07XG5cbiAgLyoqXG4gICAqIERldGVybWluZSBpZiB0aGUgdXNlciBpcyBpbnRlcmFjdGluZyB3aXRoIHRoZSB2aWV3LCBzdWNoIGFzIHBhbm5pbmcgb3Igem9vbWluZy5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHZpZXcgaXMgYmVpbmcgaW50ZXJhY3RlZCB3aXRoLlxuICAgKiBAYXBpXG4gICAqL1xuICBWaWV3LnByb3RvdHlwZS5nZXRJbnRlcmFjdGluZyA9IGZ1bmN0aW9uIGdldEludGVyYWN0aW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy5oaW50c19bVmlld0hpbnQuSU5URVJBQ1RJTkddID4gMDtcbiAgfTtcblxuICAvKipcbiAgICogQ2FuY2VsIGFueSBvbmdvaW5nIGFuaW1hdGlvbnMuXG4gICAqIEBhcGlcbiAgICovXG4gIFZpZXcucHJvdG90eXBlLmNhbmNlbEFuaW1hdGlvbnMgPSBmdW5jdGlvbiBjYW5jZWxBbmltYXRpb25zICgpIHtcbiAgICB0aGlzLnNldEhpbnQoVmlld0hpbnQuQU5JTUFUSU5HLCAtdGhpcy5oaW50c19bVmlld0hpbnQuQU5JTUFUSU5HXSk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy5hbmltYXRpb25zXy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICB2YXIgc2VyaWVzID0gdGhpcy5hbmltYXRpb25zX1tpXTtcbiAgICAgIGlmIChzZXJpZXNbMF0uY2FsbGJhY2spIHtcbiAgICAgICAgYW5pbWF0aW9uQ2FsbGJhY2soc2VyaWVzWzBdLmNhbGxiYWNrLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuYW5pbWF0aW9uc18ubGVuZ3RoID0gMDtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlIGFsbCBhbmltYXRpb25zLlxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUudXBkYXRlQW5pbWF0aW9uc18gPSBmdW5jdGlvbiB1cGRhdGVBbmltYXRpb25zXyAoKSB7XG4gICAgaWYgKHRoaXMudXBkYXRlQW5pbWF0aW9uS2V5XyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZUFuaW1hdGlvbktleV8pO1xuICAgICAgdGhpcy51cGRhdGVBbmltYXRpb25LZXlfID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG5vdyA9IERhdGUubm93KCk7XG4gICAgdmFyIG1vcmUgPSBmYWxzZTtcbiAgICBmb3IgKHZhciBpID0gdGhpcy5hbmltYXRpb25zXy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgdmFyIHNlcmllcyA9IHRoaXMuYW5pbWF0aW9uc19baV07XG4gICAgICB2YXIgc2VyaWVzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgZm9yICh2YXIgaiA9IDAsIGpqID0gc2VyaWVzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgdmFyIGFuaW1hdGlvbiA9IHNlcmllc1tqXTtcbiAgICAgICAgaWYgKGFuaW1hdGlvbi5jb21wbGV0ZSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbGFwc2VkID0gbm93IC0gYW5pbWF0aW9uLnN0YXJ0O1xuICAgICAgICB2YXIgZnJhY3Rpb24gPSBhbmltYXRpb24uZHVyYXRpb24gPiAwID8gZWxhcHNlZCAvIGFuaW1hdGlvbi5kdXJhdGlvbiA6IDE7XG4gICAgICAgIGlmIChmcmFjdGlvbiA+PSAxKSB7XG4gICAgICAgICAgYW5pbWF0aW9uLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICBmcmFjdGlvbiA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VyaWVzQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJvZ3Jlc3MgPSBhbmltYXRpb24uZWFzaW5nKGZyYWN0aW9uKTtcbiAgICAgICAgaWYgKGFuaW1hdGlvbi5zb3VyY2VDZW50ZXIpIHtcbiAgICAgICAgICB2YXIgeDAgPSBhbmltYXRpb24uc291cmNlQ2VudGVyWzBdO1xuICAgICAgICAgIHZhciB5MCA9IGFuaW1hdGlvbi5zb3VyY2VDZW50ZXJbMV07XG4gICAgICAgICAgdmFyIHgxID0gYW5pbWF0aW9uLnRhcmdldENlbnRlclswXTtcbiAgICAgICAgICB2YXIgeTEgPSBhbmltYXRpb24udGFyZ2V0Q2VudGVyWzFdO1xuICAgICAgICAgIHZhciB4ID0geDAgKyBwcm9ncmVzcyAqICh4MSAtIHgwKTtcbiAgICAgICAgICB2YXIgeSA9IHkwICsgcHJvZ3Jlc3MgKiAoeTEgLSB5MCk7XG4gICAgICAgICAgdGhpcy5zZXQoVmlld1Byb3BlcnR5LkNFTlRFUiwgW3gsIHldKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYW5pbWF0aW9uLnNvdXJjZVJlc29sdXRpb24gJiYgYW5pbWF0aW9uLnRhcmdldFJlc29sdXRpb24pIHtcbiAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHByb2dyZXNzID09PSAxID9cbiAgICAgICAgICAgIGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uIDpcbiAgICAgICAgICAgIGFuaW1hdGlvbi5zb3VyY2VSZXNvbHV0aW9uICsgcHJvZ3Jlc3MgKiAoYW5pbWF0aW9uLnRhcmdldFJlc29sdXRpb24gLSBhbmltYXRpb24uc291cmNlUmVzb2x1dGlvbik7XG4gICAgICAgICAgaWYgKGFuaW1hdGlvbi5hbmNob3IpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KFZpZXdQcm9wZXJ0eS5DRU5URVIsXG4gICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQ2VudGVyWm9vbShyZXNvbHV0aW9uLCBhbmltYXRpb24uYW5jaG9yKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuc2V0KFZpZXdQcm9wZXJ0eS5SRVNPTFVUSU9OLCByZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYW5pbWF0aW9uLnNvdXJjZVJvdGF0aW9uICE9PSB1bmRlZmluZWQgJiYgYW5pbWF0aW9uLnRhcmdldFJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB2YXIgcm90YXRpb24gPSBwcm9ncmVzcyA9PT0gMSA/XG4gICAgICAgICAgICBtb2R1bG8oYW5pbWF0aW9uLnRhcmdldFJvdGF0aW9uICsgTWF0aC5QSSwgMiAqIE1hdGguUEkpIC0gTWF0aC5QSSA6XG4gICAgICAgICAgICBhbmltYXRpb24uc291cmNlUm90YXRpb24gKyBwcm9ncmVzcyAqIChhbmltYXRpb24udGFyZ2V0Um90YXRpb24gLSBhbmltYXRpb24uc291cmNlUm90YXRpb24pO1xuICAgICAgICAgIGlmIChhbmltYXRpb24uYW5jaG9yKSB7XG4gICAgICAgICAgICB0aGlzLnNldChWaWV3UHJvcGVydHkuQ0VOVEVSLFxuICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUNlbnRlclJvdGF0ZShyb3RhdGlvbiwgYW5pbWF0aW9uLmFuY2hvcikpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnNldChWaWV3UHJvcGVydHkuUk9UQVRJT04sIHJvdGF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBtb3JlID0gdHJ1ZTtcbiAgICAgICAgaWYgKCFhbmltYXRpb24uY29tcGxldGUpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHNlcmllc0NvbXBsZXRlKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uc19baV0gPSBudWxsO1xuICAgICAgICB0aGlzLnNldEhpbnQoVmlld0hpbnQuQU5JTUFUSU5HLCAtMSk7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IHNlcmllc1swXS5jYWxsYmFjaztcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgYW5pbWF0aW9uQ2FsbGJhY2soY2FsbGJhY2ssIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vIHBydW5lIGNvbXBsZXRlZCBzZXJpZXNcbiAgICB0aGlzLmFuaW1hdGlvbnNfID0gdGhpcy5hbmltYXRpb25zXy5maWx0ZXIoQm9vbGVhbik7XG4gICAgaWYgKG1vcmUgJiYgdGhpcy51cGRhdGVBbmltYXRpb25LZXlfID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMudXBkYXRlQW5pbWF0aW9uS2V5XyA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZUFuaW1hdGlvbnNfKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBUYXJnZXQgcm90YXRpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGFuY2hvciBSb3RhdGlvbiBhbmNob3IuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gQ2VudGVyIGZvciByb3RhdGlvbiBhbmQgYW5jaG9yLlxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuY2FsY3VsYXRlQ2VudGVyUm90YXRlID0gZnVuY3Rpb24gY2FsY3VsYXRlQ2VudGVyUm90YXRlIChyb3RhdGlvbiwgYW5jaG9yKSB7XG4gICAgdmFyIGNlbnRlcjtcbiAgICB2YXIgY3VycmVudENlbnRlciA9IHRoaXMuZ2V0Q2VudGVyKCk7XG4gICAgaWYgKGN1cnJlbnRDZW50ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY2VudGVyID0gW2N1cnJlbnRDZW50ZXJbMF0gLSBhbmNob3JbMF0sIGN1cnJlbnRDZW50ZXJbMV0gLSBhbmNob3JbMV1dO1xuICAgICAgcm90YXRlQ29vcmRpbmF0ZShjZW50ZXIsIHJvdGF0aW9uIC0gdGhpcy5nZXRSb3RhdGlvbigpKTtcbiAgICAgIGFkZENvb3JkaW5hdGUoY2VudGVyLCBhbmNob3IpO1xuICAgIH1cbiAgICByZXR1cm4gY2VudGVyO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBUYXJnZXQgcmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYW5jaG9yIFpvb20gYW5jaG9yLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IENlbnRlciBmb3IgcmVzb2x1dGlvbiBhbmQgYW5jaG9yLlxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuY2FsY3VsYXRlQ2VudGVyWm9vbSA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUNlbnRlclpvb20gKHJlc29sdXRpb24sIGFuY2hvcikge1xuICAgIHZhciBjZW50ZXI7XG4gICAgdmFyIGN1cnJlbnRDZW50ZXIgPSB0aGlzLmdldENlbnRlcigpO1xuICAgIHZhciBjdXJyZW50UmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbigpO1xuICAgIGlmIChjdXJyZW50Q2VudGVyICE9PSB1bmRlZmluZWQgJiYgY3VycmVudFJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHggPSBhbmNob3JbMF0gLSByZXNvbHV0aW9uICogKGFuY2hvclswXSAtIGN1cnJlbnRDZW50ZXJbMF0pIC8gY3VycmVudFJlc29sdXRpb247XG4gICAgICB2YXIgeSA9IGFuY2hvclsxXSAtIHJlc29sdXRpb24gKiAoYW5jaG9yWzFdIC0gY3VycmVudENlbnRlclsxXSkgLyBjdXJyZW50UmVzb2x1dGlvbjtcbiAgICAgIGNlbnRlciA9IFt4LCB5XTtcbiAgICB9XG4gICAgcmV0dXJuIGNlbnRlcjtcbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFZpZXdwb3J0IHNpemUgb3IgYFsxMDAsIDEwMF1gIHdoZW4gbm8gdmlld3BvcnQgaXMgZm91bmQuXG4gICAqL1xuICBWaWV3LnByb3RvdHlwZS5nZXRTaXplRnJvbVZpZXdwb3J0XyA9IGZ1bmN0aW9uIGdldFNpemVGcm9tVmlld3BvcnRfICgpIHtcbiAgICB2YXIgc2l6ZSA9IFsxMDAsIDEwMF07XG4gICAgdmFyIHNlbGVjdG9yID0gJy5vbC12aWV3cG9ydFtkYXRhLXZpZXc9XCInICsgZ2V0VWlkKHRoaXMpICsgJ1wiXSc7XG4gICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgdmFyIG1ldHJpY3MgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgICAgc2l6ZVswXSA9IHBhcnNlSW50KG1ldHJpY3Mud2lkdGgsIDEwKTtcbiAgICAgIHNpemVbMV0gPSBwYXJzZUludChtZXRyaWNzLmhlaWdodCwgMTApO1xuICAgIH1cbiAgICByZXR1cm4gc2l6ZTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSBjb25zdHJhaW5lZCBjZW50ZXIgb2YgdGhpcyB2aWV3LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gY2VudGVyIENlbnRlci5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfSBDb25zdHJhaW5lZCBjZW50ZXIuXG4gICAqIEBhcGlcbiAgICovXG4gIFZpZXcucHJvdG90eXBlLmNvbnN0cmFpbkNlbnRlciA9IGZ1bmN0aW9uIGNvbnN0cmFpbkNlbnRlciAoY2VudGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RyYWludHNfLmNlbnRlcihjZW50ZXIpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGNvbnN0cmFpbmVkIHJlc29sdXRpb24gb2YgdGhpcyB2aWV3LlxuICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBvcHRfZGVsdGEgRGVsdGEuIERlZmF1bHQgaXMgYDBgLlxuICAgKiBAcGFyYW0ge251bWJlcj19IG9wdF9kaXJlY3Rpb24gRGlyZWN0aW9uLiBEZWZhdWx0IGlzIGAwYC5cbiAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gQ29uc3RyYWluZWQgcmVzb2x1dGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuY29uc3RyYWluUmVzb2x1dGlvbiA9IGZ1bmN0aW9uIGNvbnN0cmFpblJlc29sdXRpb24gKHJlc29sdXRpb24sIG9wdF9kZWx0YSwgb3B0X2RpcmVjdGlvbikge1xuICAgIHZhciBkZWx0YSA9IG9wdF9kZWx0YSB8fCAwO1xuICAgIHZhciBkaXJlY3Rpb24gPSBvcHRfZGlyZWN0aW9uIHx8IDA7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RyYWludHNfLnJlc29sdXRpb24ocmVzb2x1dGlvbiwgZGVsdGEsIGRpcmVjdGlvbik7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY29uc3RyYWluZWQgcm90YXRpb24gb2YgdGhpcyB2aWV3LlxuICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcj19IG9wdF9kZWx0YSBEZWx0YS4gRGVmYXVsdCBpcyBgMGAuXG4gICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IENvbnN0cmFpbmVkIHJvdGF0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBWaWV3LnByb3RvdHlwZS5jb25zdHJhaW5Sb3RhdGlvbiA9IGZ1bmN0aW9uIGNvbnN0cmFpblJvdGF0aW9uIChyb3RhdGlvbiwgb3B0X2RlbHRhKSB7XG4gICAgdmFyIGRlbHRhID0gb3B0X2RlbHRhIHx8IDA7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RyYWludHNfLnJvdGF0aW9uKHJvdGF0aW9uLCBkZWx0YSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmlldyBjZW50ZXIuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gVGhlIGNlbnRlciBvZiB0aGUgdmlldy5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuZ2V0Q2VudGVyID0gZnVuY3Rpb24gZ2V0Q2VudGVyICgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9ICovICh0aGlzLmdldChWaWV3UHJvcGVydHkuQ0VOVEVSKSlcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtDb25zdHJhaW50c30gQ29uc3RyYWludHMuXG4gICAqL1xuICBWaWV3LnByb3RvdHlwZS5nZXRDb25zdHJhaW50cyA9IGZ1bmN0aW9uIGdldENvbnN0cmFpbnRzICgpIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50c187XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPj19IG9wdF9oaW50cyBEZXN0aW5hdGlvbiBhcnJheS5cbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gSGludC5cbiAgICovXG4gIFZpZXcucHJvdG90eXBlLmdldEhpbnRzID0gZnVuY3Rpb24gZ2V0SGludHMgKG9wdF9oaW50cykge1xuICAgIGlmIChvcHRfaGludHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgb3B0X2hpbnRzWzBdID0gdGhpcy5oaW50c19bMF07XG4gICAgICBvcHRfaGludHNbMV0gPSB0aGlzLmhpbnRzX1sxXTtcbiAgICAgIHJldHVybiBvcHRfaGludHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmhpbnRzXy5zbGljZSgpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBleHRlbnQgZm9yIHRoZSBjdXJyZW50IHZpZXcgc3RhdGUgYW5kIHRoZSBwYXNzZWQgc2l6ZS5cbiAgICogVGhlIHNpemUgaXMgdGhlIHBpeGVsIGRpbWVuc2lvbnMgb2YgdGhlIGJveCBpbnRvIHdoaWNoIHRoZSBjYWxjdWxhdGVkIGV4dGVudFxuICAgKiBzaG91bGQgZml0LiBJbiBtb3N0IGNhc2VzIHlvdSB3YW50IHRvIGdldCB0aGUgZXh0ZW50IG9mIHRoZSBlbnRpcmUgbWFwLFxuICAgKiB0aGF0IGlzIGBtYXAuZ2V0U2l6ZSgpYC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZT19IG9wdF9zaXplIEJveCBwaXhlbCBzaXplLiBJZiBub3QgcHJvdmlkZWQsIHRoZSBzaXplIG9mIHRoZVxuICAgKiBmaXJzdCBtYXAgdGhhdCB1c2VzIHRoaXMgdmlldyB3aWxsIGJlIHVzZWQuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBWaWV3LnByb3RvdHlwZS5jYWxjdWxhdGVFeHRlbnQgPSBmdW5jdGlvbiBjYWxjdWxhdGVFeHRlbnQgKG9wdF9zaXplKSB7XG4gICAgdmFyIHNpemUgPSBvcHRfc2l6ZSB8fCB0aGlzLmdldFNpemVGcm9tVmlld3BvcnRfKCk7XG4gICAgdmFyIGNlbnRlciA9IC8qKiBAdHlwZSB7IWltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSAqLyAodGhpcy5nZXRDZW50ZXIoKSk7XG4gICAgYXNzZXJ0KGNlbnRlciwgMSk7IC8vIFRoZSB2aWV3IGNlbnRlciBpcyBub3QgZGVmaW5lZFxuICAgIHZhciByZXNvbHV0aW9uID0gLyoqIEB0eXBlIHshbnVtYmVyfSAqLyAodGhpcy5nZXRSZXNvbHV0aW9uKCkpO1xuICAgIGFzc2VydChyZXNvbHV0aW9uICE9PSB1bmRlZmluZWQsIDIpOyAvLyBUaGUgdmlldyByZXNvbHV0aW9uIGlzIG5vdCBkZWZpbmVkXG4gICAgdmFyIHJvdGF0aW9uID0gLyoqIEB0eXBlIHshbnVtYmVyfSAqLyAodGhpcy5nZXRSb3RhdGlvbigpKTtcbiAgICBhc3NlcnQocm90YXRpb24gIT09IHVuZGVmaW5lZCwgMyk7IC8vIFRoZSB2aWV3IHJvdGF0aW9uIGlzIG5vdCBkZWZpbmVkXG5cbiAgICByZXR1cm4gZ2V0Rm9yVmlld0FuZFNpemUoY2VudGVyLCByZXNvbHV0aW9uLCByb3RhdGlvbiwgc2l6ZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbWF4aW11bSByZXNvbHV0aW9uIG9mIHRoZSB2aWV3LlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtYXhpbXVtIHJlc29sdXRpb24gb2YgdGhlIHZpZXcuXG4gICAqIEBhcGlcbiAgICovXG4gIFZpZXcucHJvdG90eXBlLmdldE1heFJlc29sdXRpb24gPSBmdW5jdGlvbiBnZXRNYXhSZXNvbHV0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXhSZXNvbHV0aW9uXztcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSBtaW5pbXVtIHJlc29sdXRpb24gb2YgdGhlIHZpZXcuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG1pbmltdW0gcmVzb2x1dGlvbiBvZiB0aGUgdmlldy5cbiAgICogQGFwaVxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuZ2V0TWluUmVzb2x1dGlvbiA9IGZ1bmN0aW9uIGdldE1pblJlc29sdXRpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1pblJlc29sdXRpb25fO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1heGltdW0gem9vbSBsZXZlbCBmb3IgdGhlIHZpZXcuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG1heGltdW0gem9vbSBsZXZlbC5cbiAgICogQGFwaVxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuZ2V0TWF4Wm9vbSA9IGZ1bmN0aW9uIGdldE1heFpvb20gKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0Wm9vbUZvclJlc29sdXRpb24odGhpcy5taW5SZXNvbHV0aW9uXykpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgYSBuZXcgbWF4aW11bSB6b29tIGxldmVsIGZvciB0aGUgdmlldy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHpvb20gVGhlIG1heGltdW0gem9vbSBsZXZlbC5cbiAgICogQGFwaVxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuc2V0TWF4Wm9vbSA9IGZ1bmN0aW9uIHNldE1heFpvb20gKHpvb20pIHtcbiAgICB0aGlzLmFwcGx5T3B0aW9uc18odGhpcy5nZXRVcGRhdGVkT3B0aW9uc18oe21heFpvb206IHpvb219KSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbWluaW11bSB6b29tIGxldmVsIGZvciB0aGUgdmlldy5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWluaW11bSB6b29tIGxldmVsLlxuICAgKiBAYXBpXG4gICAqL1xuICBWaWV3LnByb3RvdHlwZS5nZXRNaW5ab29tID0gZnVuY3Rpb24gZ2V0TWluWm9vbSAoKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5nZXRab29tRm9yUmVzb2x1dGlvbih0aGlzLm1heFJlc29sdXRpb25fKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCBhIG5ldyBtaW5pbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSB2aWV3LlxuICAgKiBAcGFyYW0ge251bWJlcn0gem9vbSBUaGUgbWluaW11bSB6b29tIGxldmVsLlxuICAgKiBAYXBpXG4gICAqL1xuICBWaWV3LnByb3RvdHlwZS5zZXRNaW5ab29tID0gZnVuY3Rpb24gc2V0TWluWm9vbSAoem9vbSkge1xuICAgIHRoaXMuYXBwbHlPcHRpb25zXyh0aGlzLmdldFVwZGF0ZWRPcHRpb25zXyh7bWluWm9vbTogem9vbX0pKTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSB2aWV3IHByb2plY3Rpb24uXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IFRoZSBwcm9qZWN0aW9uIG9mIHRoZSB2aWV3LlxuICAgKiBAYXBpXG4gICAqL1xuICBWaWV3LnByb3RvdHlwZS5nZXRQcm9qZWN0aW9uID0gZnVuY3Rpb24gZ2V0UHJvamVjdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvamVjdGlvbl87XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmlldyByZXNvbHV0aW9uLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgdmlldy5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbiA9IGZ1bmN0aW9uIGdldFJlc29sdXRpb24gKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcnx1bmRlZmluZWR9ICovICh0aGlzLmdldChWaWV3UHJvcGVydHkuUkVTT0xVVElPTikpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHJlc29sdXRpb25zIGZvciB0aGUgdmlldy4gVGhpcyByZXR1cm5zIHRoZSBhcnJheSBvZiByZXNvbHV0aW9uc1xuICAgKiBwYXNzZWQgdG8gdGhlIGNvbnN0cnVjdG9yIG9mIHRoZSBWaWV3LCBvciB1bmRlZmluZWQgaWYgbm9uZSB3ZXJlIGdpdmVuLlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fHVuZGVmaW5lZH0gVGhlIHJlc29sdXRpb25zIG9mIHRoZSB2aWV3LlxuICAgKiBAYXBpXG4gICAqL1xuICBWaWV3LnByb3RvdHlwZS5nZXRSZXNvbHV0aW9ucyA9IGZ1bmN0aW9uIGdldFJlc29sdXRpb25zICgpIHtcbiAgICByZXR1cm4gdGhpcy5yZXNvbHV0aW9uc187XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcmVzb2x1dGlvbiBmb3IgYSBwcm92aWRlZCBleHRlbnQgKGluIG1hcCB1bml0cykgYW5kIHNpemUgKGluIHBpeGVscykuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplPX0gb3B0X3NpemUgQm94IHBpeGVsIHNpemUuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIHJlc29sdXRpb24gYXQgd2hpY2ggdGhlIHByb3ZpZGVkIGV4dGVudCB3aWxsIHJlbmRlciBhdFxuICAgKiAgICAgdGhlIGdpdmVuIHNpemUuXG4gICAqIEBhcGlcbiAgICovXG4gIFZpZXcucHJvdG90eXBlLmdldFJlc29sdXRpb25Gb3JFeHRlbnQgPSBmdW5jdGlvbiBnZXRSZXNvbHV0aW9uRm9yRXh0ZW50IChleHRlbnQsIG9wdF9zaXplKSB7XG4gICAgdmFyIHNpemUgPSBvcHRfc2l6ZSB8fCB0aGlzLmdldFNpemVGcm9tVmlld3BvcnRfKCk7XG4gICAgdmFyIHhSZXNvbHV0aW9uID0gZ2V0V2lkdGgoZXh0ZW50KSAvIHNpemVbMF07XG4gICAgdmFyIHlSZXNvbHV0aW9uID0gZ2V0SGVpZ2h0KGV4dGVudCkgLyBzaXplWzFdO1xuICAgIHJldHVybiBNYXRoLm1heCh4UmVzb2x1dGlvbiwgeVJlc29sdXRpb24pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDEgZm9yIGFcbiAgICogcmVzb2x1dGlvbi4gRXhwb25lbnRpYWwgc2NhbGluZyBpcyBhc3N1bWVkLlxuICAgKiBAcGFyYW0ge251bWJlcj19IG9wdF9wb3dlciBQb3dlci5cbiAgICogQHJldHVybiB7ZnVuY3Rpb24obnVtYmVyKTogbnVtYmVyfSBSZXNvbHV0aW9uIGZvciB2YWx1ZSBmdW5jdGlvbi5cbiAgICovXG4gIFZpZXcucHJvdG90eXBlLmdldFJlc29sdXRpb25Gb3JWYWx1ZUZ1bmN0aW9uID0gZnVuY3Rpb24gZ2V0UmVzb2x1dGlvbkZvclZhbHVlRnVuY3Rpb24gKG9wdF9wb3dlcikge1xuICAgIHZhciBwb3dlciA9IG9wdF9wb3dlciB8fCAyO1xuICAgIHZhciBtYXhSZXNvbHV0aW9uID0gdGhpcy5tYXhSZXNvbHV0aW9uXztcbiAgICB2YXIgbWluUmVzb2x1dGlvbiA9IHRoaXMubWluUmVzb2x1dGlvbl87XG4gICAgdmFyIG1heCA9IE1hdGgubG9nKG1heFJlc29sdXRpb24gLyBtaW5SZXNvbHV0aW9uKSAvIE1hdGgubG9nKHBvd2VyKTtcbiAgICByZXR1cm4gKFxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVmFsdWUuXG4gICAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFJlc29sdXRpb24uXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gbWF4UmVzb2x1dGlvbiAvIE1hdGgucG93KHBvd2VyLCB2YWx1ZSAqIG1heCk7XG4gICAgICAgIHJldHVybiByZXNvbHV0aW9uO1xuICAgICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmlldyByb3RhdGlvbi5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgcm90YXRpb24gb2YgdGhlIHZpZXcgaW4gcmFkaWFucy5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuZ2V0Um90YXRpb24gPSBmdW5jdGlvbiBnZXRSb3RhdGlvbiAoKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5nZXQoVmlld1Byb3BlcnR5LlJPVEFUSU9OKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHJlc29sdXRpb24gZm9yIGEgdmFsdWUgYmV0d2VlblxuICAgKiAwIGFuZCAxLiBFeHBvbmVudGlhbCBzY2FsaW5nIGlzIGFzc3VtZWQuXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X3Bvd2VyIFBvd2VyLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbihudW1iZXIpOiBudW1iZXJ9IFZhbHVlIGZvciByZXNvbHV0aW9uIGZ1bmN0aW9uLlxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuZ2V0VmFsdWVGb3JSZXNvbHV0aW9uRnVuY3Rpb24gPSBmdW5jdGlvbiBnZXRWYWx1ZUZvclJlc29sdXRpb25GdW5jdGlvbiAob3B0X3Bvd2VyKSB7XG4gICAgdmFyIHBvd2VyID0gb3B0X3Bvd2VyIHx8IDI7XG4gICAgdmFyIG1heFJlc29sdXRpb24gPSB0aGlzLm1heFJlc29sdXRpb25fO1xuICAgIHZhciBtaW5SZXNvbHV0aW9uID0gdGhpcy5taW5SZXNvbHV0aW9uXztcbiAgICB2YXIgbWF4ID0gTWF0aC5sb2cobWF4UmVzb2x1dGlvbiAvIG1pblJlc29sdXRpb24pIC8gTWF0aC5sb2cocG93ZXIpO1xuICAgIHJldHVybiAoXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFZhbHVlLlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbihyZXNvbHV0aW9uKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IChNYXRoLmxvZyhtYXhSZXNvbHV0aW9uIC8gcmVzb2x1dGlvbikgLyBNYXRoLmxvZyhwb3dlcikpIC8gbWF4O1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8gZm9yIGNlbnRlciByb3VuZGluZy5cbiAgICogQHJldHVybiB7U3RhdGV9IFZpZXcgc3RhdGUuXG4gICAqL1xuICBWaWV3LnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uIGdldFN0YXRlIChwaXhlbFJhdGlvKSB7XG4gICAgdmFyIGNlbnRlciA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9ICovICh0aGlzLmdldENlbnRlcigpKTtcbiAgICB2YXIgcHJvamVjdGlvbiA9IHRoaXMuZ2V0UHJvamVjdGlvbigpO1xuICAgIHZhciByZXNvbHV0aW9uID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldFJlc29sdXRpb24oKSk7XG4gICAgdmFyIHBpeGVsUmVzb2x1dGlvbiA9IHJlc29sdXRpb24gLyBwaXhlbFJhdGlvO1xuICAgIHZhciByb3RhdGlvbiA9IHRoaXMuZ2V0Um90YXRpb24oKTtcbiAgICByZXR1cm4gKFxuICAgICAgLyoqIEB0eXBlIHtTdGF0ZX0gKi8gKHtcbiAgICAgICAgY2VudGVyOiBbXG4gICAgICAgICAgTWF0aC5yb3VuZChjZW50ZXJbMF0gLyBwaXhlbFJlc29sdXRpb24pICogcGl4ZWxSZXNvbHV0aW9uLFxuICAgICAgICAgIE1hdGgucm91bmQoY2VudGVyWzFdIC8gcGl4ZWxSZXNvbHV0aW9uKSAqIHBpeGVsUmVzb2x1dGlvblxuICAgICAgICBdLFxuICAgICAgICBwcm9qZWN0aW9uOiBwcm9qZWN0aW9uICE9PSB1bmRlZmluZWQgPyBwcm9qZWN0aW9uIDogbnVsbCxcbiAgICAgICAgcmVzb2x1dGlvbjogcmVzb2x1dGlvbixcbiAgICAgICAgcm90YXRpb246IHJvdGF0aW9uLFxuICAgICAgICB6b29tOiB0aGlzLmdldFpvb20oKVxuICAgICAgfSlcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQgem9vbSBsZXZlbC4gIElmIHlvdSBjb25maWd1cmVkIHlvdXIgdmlldyB3aXRoIGEgcmVzb2x1dGlvbnNcbiAgICogYXJyYXkgKHRoaXMgaXMgcmFyZSksIHRoaXMgbWV0aG9kIG1heSByZXR1cm4gbm9uLWludGVnZXIgem9vbSBsZXZlbHMgKHNvXG4gICAqIHRoZSB6b29tIGxldmVsIGlzIG5vdCBzYWZlIHRvIHVzZSBhcyBhbiBpbmRleCBpbnRvIGEgcmVzb2x1dGlvbnMgYXJyYXkpLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBab29tLlxuICAgKiBAYXBpXG4gICAqL1xuICBWaWV3LnByb3RvdHlwZS5nZXRab29tID0gZnVuY3Rpb24gZ2V0Wm9vbSAoKSB7XG4gICAgdmFyIHpvb207XG4gICAgdmFyIHJlc29sdXRpb24gPSB0aGlzLmdldFJlc29sdXRpb24oKTtcbiAgICBpZiAocmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB6b29tID0gdGhpcy5nZXRab29tRm9yUmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIHpvb207XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgem9vbSBsZXZlbCBmb3IgYSByZXNvbHV0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBUaGUgcmVzb2x1dGlvbi5cbiAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gVGhlIHpvb20gbGV2ZWwgZm9yIHRoZSBwcm92aWRlZCByZXNvbHV0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBWaWV3LnByb3RvdHlwZS5nZXRab29tRm9yUmVzb2x1dGlvbiA9IGZ1bmN0aW9uIGdldFpvb21Gb3JSZXNvbHV0aW9uIChyZXNvbHV0aW9uKSB7XG4gICAgdmFyIG9mZnNldCA9IHRoaXMubWluWm9vbV8gfHwgMDtcbiAgICB2YXIgbWF4LCB6b29tRmFjdG9yO1xuICAgIGlmICh0aGlzLnJlc29sdXRpb25zXykge1xuICAgICAgdmFyIG5lYXJlc3QgPSBsaW5lYXJGaW5kTmVhcmVzdCh0aGlzLnJlc29sdXRpb25zXywgcmVzb2x1dGlvbiwgMSk7XG4gICAgICBvZmZzZXQgPSBuZWFyZXN0O1xuICAgICAgbWF4ID0gdGhpcy5yZXNvbHV0aW9uc19bbmVhcmVzdF07XG4gICAgICBpZiAobmVhcmVzdCA9PSB0aGlzLnJlc29sdXRpb25zXy5sZW5ndGggLSAxKSB7XG4gICAgICAgIHpvb21GYWN0b3IgPSAyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgem9vbUZhY3RvciA9IG1heCAvIHRoaXMucmVzb2x1dGlvbnNfW25lYXJlc3QgKyAxXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbWF4ID0gdGhpcy5tYXhSZXNvbHV0aW9uXztcbiAgICAgIHpvb21GYWN0b3IgPSB0aGlzLnpvb21GYWN0b3JfO1xuICAgIH1cbiAgICByZXR1cm4gb2Zmc2V0ICsgTWF0aC5sb2cobWF4IC8gcmVzb2x1dGlvbikgLyBNYXRoLmxvZyh6b29tRmFjdG9yKTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSByZXNvbHV0aW9uIGZvciBhIHpvb20gbGV2ZWwuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6b29tIFpvb20gbGV2ZWwuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIHZpZXcgcmVzb2x1dGlvbiBmb3IgdGhlIHByb3ZpZGVkIHpvb20gbGV2ZWwuXG4gICAqIEBhcGlcbiAgICovXG4gIFZpZXcucHJvdG90eXBlLmdldFJlc29sdXRpb25Gb3Jab29tID0gZnVuY3Rpb24gZ2V0UmVzb2x1dGlvbkZvclpvb20gKHpvb20pIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmNvbnN0cmFpblJlc29sdXRpb24oXG4gICAgICB0aGlzLm1heFJlc29sdXRpb25fLCB6b29tIC0gdGhpcy5taW5ab29tXywgMCkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBGaXQgdGhlIGdpdmVuIGdlb21ldHJ5IG9yIGV4dGVudCBiYXNlZCBvbiB0aGUgZ2l2ZW4gbWFwIHNpemUgYW5kIGJvcmRlci5cbiAgICogVGhlIHNpemUgaXMgcGl4ZWwgZGltZW5zaW9ucyBvZiB0aGUgYm94IHRvIGZpdCB0aGUgZXh0ZW50IGludG8uXG4gICAqIEluIG1vc3QgY2FzZXMgeW91IHdpbGwgd2FudCB0byB1c2UgdGhlIG1hcCBzaXplLCB0aGF0IGlzIGBtYXAuZ2V0U2l6ZSgpYC5cbiAgICogVGFrZXMgY2FyZSBvZiB0aGUgbWFwIGFuZ2xlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZ2VvbWV0cnlPckV4dGVudCBUaGUgZ2VvbWV0cnkgb3JcbiAgICogICAgIGV4dGVudCB0byBmaXQgdGhlIHZpZXcgdG8uXG4gICAqIEBwYXJhbSB7Rml0T3B0aW9ucz19IG9wdF9vcHRpb25zIE9wdGlvbnMuXG4gICAqIEBhcGlcbiAgICovXG4gIFZpZXcucHJvdG90eXBlLmZpdCA9IGZ1bmN0aW9uIGZpdCAoZ2VvbWV0cnlPckV4dGVudCwgb3B0X29wdGlvbnMpIHtcbiAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuICAgIHZhciBzaXplID0gb3B0aW9ucy5zaXplO1xuICAgIGlmICghc2l6ZSkge1xuICAgICAgc2l6ZSA9IHRoaXMuZ2V0U2l6ZUZyb21WaWV3cG9ydF8oKTtcbiAgICB9XG4gICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi9cbiAgICB2YXIgZ2VvbWV0cnk7XG4gICAgYXNzZXJ0KEFycmF5LmlzQXJyYXkoZ2VvbWV0cnlPckV4dGVudCkgfHwgdHlwZW9mIC8qKiBAdHlwZSB7P30gKi8gKGdlb21ldHJ5T3JFeHRlbnQpLmdldFNpbXBsaWZpZWRHZW9tZXRyeSA9PT0gJ2Z1bmN0aW9uJyxcbiAgICAgIDI0KTsgLy8gSW52YWxpZCBleHRlbnQgb3IgZ2VvbWV0cnkgcHJvdmlkZWQgYXMgYGdlb21ldHJ5YFxuICAgIGlmIChBcnJheS5pc0FycmF5KGdlb21ldHJ5T3JFeHRlbnQpKSB7XG4gICAgICBhc3NlcnQoIWlzRW1wdHkoZ2VvbWV0cnlPckV4dGVudCksXG4gICAgICAgIDI1KTsgLy8gQ2Fubm90IGZpdCBlbXB0eSBleHRlbnQgcHJvdmlkZWQgYXMgYGdlb21ldHJ5YFxuICAgICAgZ2VvbWV0cnkgPSBwb2x5Z29uRnJvbUV4dGVudChnZW9tZXRyeU9yRXh0ZW50KTtcbiAgICB9IGVsc2UgaWYgKGdlb21ldHJ5T3JFeHRlbnQuZ2V0VHlwZSgpID09PSBHZW9tZXRyeVR5cGUuQ0lSQ0xFKSB7XG4gICAgICBnZW9tZXRyeU9yRXh0ZW50ID0gZ2VvbWV0cnlPckV4dGVudC5nZXRFeHRlbnQoKTtcbiAgICAgIGdlb21ldHJ5ID0gcG9seWdvbkZyb21FeHRlbnQoZ2VvbWV0cnlPckV4dGVudCk7XG4gICAgICBnZW9tZXRyeS5yb3RhdGUodGhpcy5nZXRSb3RhdGlvbigpLCBnZXRDZW50ZXIoZ2VvbWV0cnlPckV4dGVudCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW9tZXRyeSA9IGdlb21ldHJ5T3JFeHRlbnQ7XG4gICAgfVxuXG4gICAgdmFyIHBhZGRpbmcgPSBvcHRpb25zLnBhZGRpbmcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucGFkZGluZyA6IFswLCAwLCAwLCAwXTtcbiAgICB2YXIgY29uc3RyYWluUmVzb2x1dGlvbiA9IG9wdGlvbnMuY29uc3RyYWluUmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkID9cbiAgICAgIG9wdGlvbnMuY29uc3RyYWluUmVzb2x1dGlvbiA6IHRydWU7XG4gICAgdmFyIG5lYXJlc3QgPSBvcHRpb25zLm5lYXJlc3QgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubmVhcmVzdCA6IGZhbHNlO1xuICAgIHZhciBtaW5SZXNvbHV0aW9uO1xuICAgIGlmIChvcHRpb25zLm1pblJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgbWluUmVzb2x1dGlvbiA9IG9wdGlvbnMubWluUmVzb2x1dGlvbjtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMubWF4Wm9vbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBtaW5SZXNvbHV0aW9uID0gdGhpcy5jb25zdHJhaW5SZXNvbHV0aW9uKFxuICAgICAgICB0aGlzLm1heFJlc29sdXRpb25fLCBvcHRpb25zLm1heFpvb20gLSB0aGlzLm1pblpvb21fLCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWluUmVzb2x1dGlvbiA9IDA7XG4gICAgfVxuICAgIHZhciBjb29yZHMgPSBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcblxuICAgIC8vIGNhbGN1bGF0ZSByb3RhdGVkIGV4dGVudFxuICAgIHZhciByb3RhdGlvbiA9IHRoaXMuZ2V0Um90YXRpb24oKTtcbiAgICB2YXIgY29zQW5nbGUgPSBNYXRoLmNvcygtcm90YXRpb24pO1xuICAgIHZhciBzaW5BbmdsZSA9IE1hdGguc2luKC1yb3RhdGlvbik7XG4gICAgdmFyIG1pblJvdFggPSArSW5maW5pdHk7XG4gICAgdmFyIG1pblJvdFkgPSArSW5maW5pdHk7XG4gICAgdmFyIG1heFJvdFggPSAtSW5maW5pdHk7XG4gICAgdmFyIG1heFJvdFkgPSAtSW5maW5pdHk7XG4gICAgdmFyIHN0cmlkZSA9IGdlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGNvb3Jkcy5sZW5ndGg7IGkgPCBpaTsgaSArPSBzdHJpZGUpIHtcbiAgICAgIHZhciByb3RYID0gY29vcmRzW2ldICogY29zQW5nbGUgLSBjb29yZHNbaSArIDFdICogc2luQW5nbGU7XG4gICAgICB2YXIgcm90WSA9IGNvb3Jkc1tpXSAqIHNpbkFuZ2xlICsgY29vcmRzW2kgKyAxXSAqIGNvc0FuZ2xlO1xuICAgICAgbWluUm90WCA9IE1hdGgubWluKG1pblJvdFgsIHJvdFgpO1xuICAgICAgbWluUm90WSA9IE1hdGgubWluKG1pblJvdFksIHJvdFkpO1xuICAgICAgbWF4Um90WCA9IE1hdGgubWF4KG1heFJvdFgsIHJvdFgpO1xuICAgICAgbWF4Um90WSA9IE1hdGgubWF4KG1heFJvdFksIHJvdFkpO1xuICAgIH1cblxuICAgIC8vIGNhbGN1bGF0ZSByZXNvbHV0aW9uXG4gICAgdmFyIHJlc29sdXRpb24gPSB0aGlzLmdldFJlc29sdXRpb25Gb3JFeHRlbnQoXG4gICAgICBbbWluUm90WCwgbWluUm90WSwgbWF4Um90WCwgbWF4Um90WV0sXG4gICAgICBbc2l6ZVswXSAtIHBhZGRpbmdbMV0gLSBwYWRkaW5nWzNdLCBzaXplWzFdIC0gcGFkZGluZ1swXSAtIHBhZGRpbmdbMl1dKTtcbiAgICByZXNvbHV0aW9uID0gaXNOYU4ocmVzb2x1dGlvbikgPyBtaW5SZXNvbHV0aW9uIDpcbiAgICAgIE1hdGgubWF4KHJlc29sdXRpb24sIG1pblJlc29sdXRpb24pO1xuICAgIGlmIChjb25zdHJhaW5SZXNvbHV0aW9uKSB7XG4gICAgICB2YXIgY29uc3RyYWluZWRSZXNvbHV0aW9uID0gdGhpcy5jb25zdHJhaW5SZXNvbHV0aW9uKHJlc29sdXRpb24sIDAsIDApO1xuICAgICAgaWYgKCFuZWFyZXN0ICYmIGNvbnN0cmFpbmVkUmVzb2x1dGlvbiA8IHJlc29sdXRpb24pIHtcbiAgICAgICAgY29uc3RyYWluZWRSZXNvbHV0aW9uID0gdGhpcy5jb25zdHJhaW5SZXNvbHV0aW9uKFxuICAgICAgICAgIGNvbnN0cmFpbmVkUmVzb2x1dGlvbiwgLTEsIDApO1xuICAgICAgfVxuICAgICAgcmVzb2x1dGlvbiA9IGNvbnN0cmFpbmVkUmVzb2x1dGlvbjtcbiAgICB9XG5cbiAgICAvLyBjYWxjdWxhdGUgY2VudGVyXG4gICAgc2luQW5nbGUgPSAtc2luQW5nbGU7IC8vIGdvIGJhY2sgdG8gb3JpZ2luYWwgcm90YXRpb25cbiAgICB2YXIgY2VudGVyUm90WCA9IChtaW5Sb3RYICsgbWF4Um90WCkgLyAyO1xuICAgIHZhciBjZW50ZXJSb3RZID0gKG1pblJvdFkgKyBtYXhSb3RZKSAvIDI7XG4gICAgY2VudGVyUm90WCArPSAocGFkZGluZ1sxXSAtIHBhZGRpbmdbM10pIC8gMiAqIHJlc29sdXRpb247XG4gICAgY2VudGVyUm90WSArPSAocGFkZGluZ1swXSAtIHBhZGRpbmdbMl0pIC8gMiAqIHJlc29sdXRpb247XG4gICAgdmFyIGNlbnRlclggPSBjZW50ZXJSb3RYICogY29zQW5nbGUgLSBjZW50ZXJSb3RZICogc2luQW5nbGU7XG4gICAgdmFyIGNlbnRlclkgPSBjZW50ZXJSb3RZICogY29zQW5nbGUgKyBjZW50ZXJSb3RYICogc2luQW5nbGU7XG4gICAgdmFyIGNlbnRlciA9IFtjZW50ZXJYLCBjZW50ZXJZXTtcbiAgICB2YXIgY2FsbGJhY2sgPSBvcHRpb25zLmNhbGxiYWNrID8gb3B0aW9ucy5jYWxsYmFjayA6IFZPSUQ7XG5cbiAgICBpZiAob3B0aW9ucy5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmFuaW1hdGUoe1xuICAgICAgICByZXNvbHV0aW9uOiByZXNvbHV0aW9uLFxuICAgICAgICBjZW50ZXI6IGNlbnRlcixcbiAgICAgICAgZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogb3B0aW9ucy5lYXNpbmdcbiAgICAgIH0sIGNhbGxiYWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRSZXNvbHV0aW9uKHJlc29sdXRpb24pO1xuICAgICAgdGhpcy5zZXRDZW50ZXIoY2VudGVyKTtcbiAgICAgIGFuaW1hdGlvbkNhbGxiYWNrKGNhbGxiYWNrLCB0cnVlKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIENlbnRlciBvbiBjb29yZGluYXRlIGFuZCB2aWV3IHBvc2l0aW9uLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgQm94IHBpeGVsIHNpemUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH0gcG9zaXRpb24gUG9zaXRpb24gb24gdGhlIHZpZXcgdG8gY2VudGVyIG9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBWaWV3LnByb3RvdHlwZS5jZW50ZXJPbiA9IGZ1bmN0aW9uIGNlbnRlck9uIChjb29yZGluYXRlLCBzaXplLCBwb3NpdGlvbikge1xuICAgIC8vIGNhbGN1bGF0ZSByb3RhdGVkIHBvc2l0aW9uXG4gICAgdmFyIHJvdGF0aW9uID0gdGhpcy5nZXRSb3RhdGlvbigpO1xuICAgIHZhciBjb3NBbmdsZSA9IE1hdGguY29zKC1yb3RhdGlvbik7XG4gICAgdmFyIHNpbkFuZ2xlID0gTWF0aC5zaW4oLXJvdGF0aW9uKTtcbiAgICB2YXIgcm90WCA9IGNvb3JkaW5hdGVbMF0gKiBjb3NBbmdsZSAtIGNvb3JkaW5hdGVbMV0gKiBzaW5BbmdsZTtcbiAgICB2YXIgcm90WSA9IGNvb3JkaW5hdGVbMV0gKiBjb3NBbmdsZSArIGNvb3JkaW5hdGVbMF0gKiBzaW5BbmdsZTtcbiAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbigpO1xuICAgIHJvdFggKz0gKHNpemVbMF0gLyAyIC0gcG9zaXRpb25bMF0pICogcmVzb2x1dGlvbjtcbiAgICByb3RZICs9IChwb3NpdGlvblsxXSAtIHNpemVbMV0gLyAyKSAqIHJlc29sdXRpb247XG5cbiAgICAvLyBnbyBiYWNrIHRvIG9yaWdpbmFsIGFuZ2xlXG4gICAgc2luQW5nbGUgPSAtc2luQW5nbGU7IC8vIGdvIGJhY2sgdG8gb3JpZ2luYWwgcm90YXRpb25cbiAgICB2YXIgY2VudGVyWCA9IHJvdFggKiBjb3NBbmdsZSAtIHJvdFkgKiBzaW5BbmdsZTtcbiAgICB2YXIgY2VudGVyWSA9IHJvdFkgKiBjb3NBbmdsZSArIHJvdFggKiBzaW5BbmdsZTtcblxuICAgIHRoaXMuc2V0Q2VudGVyKFtjZW50ZXJYLCBjZW50ZXJZXSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElzIGRlZmluZWQuXG4gICAqL1xuICBWaWV3LnByb3RvdHlwZS5pc0RlZiA9IGZ1bmN0aW9uIGlzRGVmICgpIHtcbiAgICByZXR1cm4gISF0aGlzLmdldENlbnRlcigpICYmIHRoaXMuZ2V0UmVzb2x1dGlvbigpICE9PSB1bmRlZmluZWQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJvdGF0ZSB0aGUgdmlldyBhcm91bmQgYSBnaXZlbiBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gTmV3IHJvdGF0aW9uIHZhbHVlIGZvciB0aGUgdmlldy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT19IG9wdF9hbmNob3IgVGhlIHJvdGF0aW9uIGNlbnRlci5cbiAgICogQGFwaVxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUucm90YXRlID0gZnVuY3Rpb24gcm90YXRlIChyb3RhdGlvbiwgb3B0X2FuY2hvcikge1xuICAgIGlmIChvcHRfYW5jaG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBjZW50ZXIgPSB0aGlzLmNhbGN1bGF0ZUNlbnRlclJvdGF0ZShyb3RhdGlvbiwgb3B0X2FuY2hvcik7XG4gICAgICB0aGlzLnNldENlbnRlcihjZW50ZXIpO1xuICAgIH1cbiAgICB0aGlzLnNldFJvdGF0aW9uKHJvdGF0aW9uKTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IHRoZSBjZW50ZXIgb2YgdGhlIGN1cnJlbnQgdmlldy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IGNlbnRlciBUaGUgY2VudGVyIG9mIHRoZSB2aWV3LlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBWaWV3LnByb3RvdHlwZS5zZXRDZW50ZXIgPSBmdW5jdGlvbiBzZXRDZW50ZXIgKGNlbnRlcikge1xuICAgIHRoaXMuc2V0KFZpZXdQcm9wZXJ0eS5DRU5URVIsIGNlbnRlcik7XG4gICAgaWYgKHRoaXMuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgIHRoaXMuY2FuY2VsQW5pbWF0aW9ucygpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtWaWV3SGludH0gaGludCBIaW50LlxuICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGEgRGVsdGEuXG4gICAqIEByZXR1cm4ge251bWJlcn0gTmV3IHZhbHVlLlxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuc2V0SGludCA9IGZ1bmN0aW9uIHNldEhpbnQgKGhpbnQsIGRlbHRhKSB7XG4gICAgdGhpcy5oaW50c19baGludF0gKz0gZGVsdGE7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgcmV0dXJuIHRoaXMuaGludHNfW2hpbnRdO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHJlc29sdXRpb24gZm9yIHRoaXMgdmlldy5cbiAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByZXNvbHV0aW9uIFRoZSByZXNvbHV0aW9uIG9mIHRoZSB2aWV3LlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBWaWV3LnByb3RvdHlwZS5zZXRSZXNvbHV0aW9uID0gZnVuY3Rpb24gc2V0UmVzb2x1dGlvbiAocmVzb2x1dGlvbikge1xuICAgIHRoaXMuc2V0KFZpZXdQcm9wZXJ0eS5SRVNPTFVUSU9OLCByZXNvbHV0aW9uKTtcbiAgICBpZiAodGhpcy5nZXRBbmltYXRpbmcoKSkge1xuICAgICAgdGhpcy5jYW5jZWxBbmltYXRpb25zKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHJvdGF0aW9uIGZvciB0aGlzIHZpZXcuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBUaGUgcm90YXRpb24gb2YgdGhlIHZpZXcgaW4gcmFkaWFucy5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuc2V0Um90YXRpb24gPSBmdW5jdGlvbiBzZXRSb3RhdGlvbiAocm90YXRpb24pIHtcbiAgICB0aGlzLnNldChWaWV3UHJvcGVydHkuUk9UQVRJT04sIHJvdGF0aW9uKTtcbiAgICBpZiAodGhpcy5nZXRBbmltYXRpbmcoKSkge1xuICAgICAgdGhpcy5jYW5jZWxBbmltYXRpb25zKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBab29tIHRvIGEgc3BlY2lmaWMgem9vbSBsZXZlbC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHpvb20gWm9vbSBsZXZlbC5cbiAgICogQGFwaVxuICAgKi9cbiAgVmlldy5wcm90b3R5cGUuc2V0Wm9vbSA9IGZ1bmN0aW9uIHNldFpvb20gKHpvb20pIHtcbiAgICB0aGlzLnNldFJlc29sdXRpb24odGhpcy5nZXRSZXNvbHV0aW9uRm9yWm9vbSh6b29tKSk7XG4gIH07XG5cbiAgcmV0dXJuIFZpZXc7XG59KEJhc2VPYmplY3QpKTtcblxuXG4vKipcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrLlxuICogQHBhcmFtIHsqfSByZXR1cm5WYWx1ZSBSZXR1cm4gdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGFuaW1hdGlvbkNhbGxiYWNrKGNhbGxiYWNrLCByZXR1cm5WYWx1ZSkge1xuICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIGNhbGxiYWNrKHJldHVyblZhbHVlKTtcbiAgfSwgMCk7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge1ZpZXdPcHRpb25zfSBvcHRpb25zIFZpZXcgb3B0aW9ucy5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY2VudGVyY29uc3RyYWludC5qc1wiKS5UeXBlfSBUaGUgY29uc3RyYWludC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNlbnRlckNvbnN0cmFpbnQob3B0aW9ucykge1xuICBpZiAob3B0aW9ucy5leHRlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBjcmVhdGVFeHRlbnQob3B0aW9ucy5leHRlbnQpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjZW50ZXJOb25lO1xuICB9XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge1ZpZXdPcHRpb25zfSBvcHRpb25zIFZpZXcgb3B0aW9ucy5cbiAqIEByZXR1cm4ge3tjb25zdHJhaW50OiBpbXBvcnQoXCIuL3Jlc29sdXRpb25jb25zdHJhaW50LmpzXCIpLlR5cGUsIG1heFJlc29sdXRpb246IG51bWJlcixcbiAqICAgICBtaW5SZXNvbHV0aW9uOiBudW1iZXIsIG1pblpvb206IG51bWJlciwgem9vbUZhY3RvcjogbnVtYmVyfX0gVGhlIGNvbnN0cmFpbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZXNvbHV0aW9uQ29uc3RyYWludChvcHRpb25zKSB7XG4gIHZhciByZXNvbHV0aW9uQ29uc3RyYWludDtcbiAgdmFyIG1heFJlc29sdXRpb247XG4gIHZhciBtaW5SZXNvbHV0aW9uO1xuXG4gIC8vIFRPRE86IG1vdmUgdGhlc2UgdG8gYmUgb2wgY29uc3RhbnRzXG4gIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vb3BlbmxheWVycy9vcGVubGF5ZXJzL2lzc3Vlcy8yMDc2XG4gIHZhciBkZWZhdWx0TWF4Wm9vbSA9IDI4O1xuICB2YXIgZGVmYXVsdFpvb21GYWN0b3IgPSAyO1xuXG4gIHZhciBtaW5ab29tID0gb3B0aW9ucy5taW5ab29tICE9PSB1bmRlZmluZWQgP1xuICAgIG9wdGlvbnMubWluWm9vbSA6IERFRkFVTFRfTUlOX1pPT007XG5cbiAgdmFyIG1heFpvb20gPSBvcHRpb25zLm1heFpvb20gIT09IHVuZGVmaW5lZCA/XG4gICAgb3B0aW9ucy5tYXhab29tIDogZGVmYXVsdE1heFpvb207XG5cbiAgdmFyIHpvb21GYWN0b3IgPSBvcHRpb25zLnpvb21GYWN0b3IgIT09IHVuZGVmaW5lZCA/XG4gICAgb3B0aW9ucy56b29tRmFjdG9yIDogZGVmYXVsdFpvb21GYWN0b3I7XG5cbiAgaWYgKG9wdGlvbnMucmVzb2x1dGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciByZXNvbHV0aW9ucyA9IG9wdGlvbnMucmVzb2x1dGlvbnM7XG4gICAgbWF4UmVzb2x1dGlvbiA9IHJlc29sdXRpb25zW21pblpvb21dO1xuICAgIG1pblJlc29sdXRpb24gPSByZXNvbHV0aW9uc1ttYXhab29tXSAhPT0gdW5kZWZpbmVkID9cbiAgICAgIHJlc29sdXRpb25zW21heFpvb21dIDogcmVzb2x1dGlvbnNbcmVzb2x1dGlvbnMubGVuZ3RoIC0gMV07XG4gICAgcmVzb2x1dGlvbkNvbnN0cmFpbnQgPSBjcmVhdGVTbmFwVG9SZXNvbHV0aW9ucyhcbiAgICAgIHJlc29sdXRpb25zKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBjYWxjdWxhdGUgdGhlIGRlZmF1bHQgbWluIGFuZCBtYXggcmVzb2x1dGlvblxuICAgIHZhciBwcm9qZWN0aW9uID0gY3JlYXRlUHJvamVjdGlvbihvcHRpb25zLnByb2plY3Rpb24sICdFUFNHOjM4NTcnKTtcbiAgICB2YXIgZXh0ZW50ID0gcHJvamVjdGlvbi5nZXRFeHRlbnQoKTtcbiAgICB2YXIgc2l6ZSA9ICFleHRlbnQgP1xuICAgICAgLy8gdXNlIGFuIGV4dGVudCB0aGF0IGNhbiBmaXQgdGhlIHdob2xlIHdvcmxkIGlmIG5lZWQgYmVcbiAgICAgIDM2MCAqIE1FVEVSU19QRVJfVU5JVFtVbml0cy5ERUdSRUVTXSAvXG4gICAgICAgICAgICBwcm9qZWN0aW9uLmdldE1ldGVyc1BlclVuaXQoKSA6XG4gICAgICBNYXRoLm1heChnZXRXaWR0aChleHRlbnQpLCBnZXRIZWlnaHQoZXh0ZW50KSk7XG5cbiAgICB2YXIgZGVmYXVsdE1heFJlc29sdXRpb24gPSBzaXplIC8gREVGQVVMVF9USUxFX1NJWkUgLyBNYXRoLnBvdyhcbiAgICAgIGRlZmF1bHRab29tRmFjdG9yLCBERUZBVUxUX01JTl9aT09NKTtcblxuICAgIHZhciBkZWZhdWx0TWluUmVzb2x1dGlvbiA9IGRlZmF1bHRNYXhSZXNvbHV0aW9uIC8gTWF0aC5wb3coXG4gICAgICBkZWZhdWx0Wm9vbUZhY3RvciwgZGVmYXVsdE1heFpvb20gLSBERUZBVUxUX01JTl9aT09NKTtcblxuICAgIC8vIHVzZXIgcHJvdmlkZWQgbWF4UmVzb2x1dGlvbiB0YWtlcyBwcmVjZWRlbmNlXG4gICAgbWF4UmVzb2x1dGlvbiA9IG9wdGlvbnMubWF4UmVzb2x1dGlvbjtcbiAgICBpZiAobWF4UmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBtaW5ab29tID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgbWF4UmVzb2x1dGlvbiA9IGRlZmF1bHRNYXhSZXNvbHV0aW9uIC8gTWF0aC5wb3coem9vbUZhY3RvciwgbWluWm9vbSk7XG4gICAgfVxuXG4gICAgLy8gdXNlciBwcm92aWRlZCBtaW5SZXNvbHV0aW9uIHRha2VzIHByZWNlZGVuY2VcbiAgICBtaW5SZXNvbHV0aW9uID0gb3B0aW9ucy5taW5SZXNvbHV0aW9uO1xuICAgIGlmIChtaW5SZXNvbHV0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChvcHRpb25zLm1heFpvb20gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAob3B0aW9ucy5tYXhSZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBtaW5SZXNvbHV0aW9uID0gbWF4UmVzb2x1dGlvbiAvIE1hdGgucG93KHpvb21GYWN0b3IsIG1heFpvb20pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1pblJlc29sdXRpb24gPSBkZWZhdWx0TWF4UmVzb2x1dGlvbiAvIE1hdGgucG93KHpvb21GYWN0b3IsIG1heFpvb20pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtaW5SZXNvbHV0aW9uID0gZGVmYXVsdE1pblJlc29sdXRpb247XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZ2l2ZW4gZGlzY3JldGUgem9vbSBsZXZlbHMsIG1pblJlc29sdXRpb24gbWF5IGJlIGRpZmZlcmVudCB0aGFuIHByb3ZpZGVkXG4gICAgbWF4Wm9vbSA9IG1pblpvb20gKyBNYXRoLmZsb29yKFxuICAgICAgTWF0aC5sb2cobWF4UmVzb2x1dGlvbiAvIG1pblJlc29sdXRpb24pIC8gTWF0aC5sb2coem9vbUZhY3RvcikpO1xuICAgIG1pblJlc29sdXRpb24gPSBtYXhSZXNvbHV0aW9uIC8gTWF0aC5wb3coem9vbUZhY3RvciwgbWF4Wm9vbSAtIG1pblpvb20pO1xuXG4gICAgcmVzb2x1dGlvbkNvbnN0cmFpbnQgPSBjcmVhdGVTbmFwVG9Qb3dlcihcbiAgICAgIHpvb21GYWN0b3IsIG1heFJlc29sdXRpb24sIG1heFpvb20gLSBtaW5ab29tKTtcbiAgfVxuICByZXR1cm4ge2NvbnN0cmFpbnQ6IHJlc29sdXRpb25Db25zdHJhaW50LCBtYXhSZXNvbHV0aW9uOiBtYXhSZXNvbHV0aW9uLFxuICAgIG1pblJlc29sdXRpb246IG1pblJlc29sdXRpb24sIG1pblpvb206IG1pblpvb20sIHpvb21GYWN0b3I6IHpvb21GYWN0b3J9O1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtWaWV3T3B0aW9uc30gb3B0aW9ucyBWaWV3IG9wdGlvbnMuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3JvdGF0aW9uY29uc3RyYWludC5qc1wiKS5UeXBlfSBSb3RhdGlvbiBjb25zdHJhaW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUm90YXRpb25Db25zdHJhaW50KG9wdGlvbnMpIHtcbiAgdmFyIGVuYWJsZVJvdGF0aW9uID0gb3B0aW9ucy5lbmFibGVSb3RhdGlvbiAhPT0gdW5kZWZpbmVkID9cbiAgICBvcHRpb25zLmVuYWJsZVJvdGF0aW9uIDogdHJ1ZTtcbiAgaWYgKGVuYWJsZVJvdGF0aW9uKSB7XG4gICAgdmFyIGNvbnN0cmFpblJvdGF0aW9uID0gb3B0aW9ucy5jb25zdHJhaW5Sb3RhdGlvbjtcbiAgICBpZiAoY29uc3RyYWluUm90YXRpb24gPT09IHVuZGVmaW5lZCB8fCBjb25zdHJhaW5Sb3RhdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZVNuYXBUb1plcm8oKTtcbiAgICB9IGVsc2UgaWYgKGNvbnN0cmFpblJvdGF0aW9uID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIHJvdGF0aW9uTm9uZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb25zdHJhaW5Sb3RhdGlvbiA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiBjcmVhdGVTbmFwVG9OKGNvbnN0cmFpblJvdGF0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJvdGF0aW9uTm9uZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGRpc2FibGU7XG4gIH1cbn1cblxuXG4vKipcbiAqIERldGVybWluZSBpZiBhbiBhbmltYXRpb24gaW52b2x2ZXMgbm8gdmlldyBjaGFuZ2UuXG4gKiBAcGFyYW0ge0FuaW1hdGlvbn0gYW5pbWF0aW9uIFRoZSBhbmltYXRpb24uXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgYW5pbWF0aW9uIGludm9sdmVzIG5vIHZpZXcgY2hhbmdlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNOb29wQW5pbWF0aW9uKGFuaW1hdGlvbikge1xuICBpZiAoYW5pbWF0aW9uLnNvdXJjZUNlbnRlciAmJiBhbmltYXRpb24udGFyZ2V0Q2VudGVyKSB7XG4gICAgaWYgKCFjb29yZGluYXRlc0VxdWFsKGFuaW1hdGlvbi5zb3VyY2VDZW50ZXIsIGFuaW1hdGlvbi50YXJnZXRDZW50ZXIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIGlmIChhbmltYXRpb24uc291cmNlUmVzb2x1dGlvbiAhPT0gYW5pbWF0aW9uLnRhcmdldFJlc29sdXRpb24pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGFuaW1hdGlvbi5zb3VyY2VSb3RhdGlvbiAhPT0gYW5pbWF0aW9uLnRhcmdldFJvdGF0aW9uKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBWaWV3O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1WaWV3LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZXNvbHV0aW9uY29uc3RyYWludFxuICovXG5pbXBvcnQge2xpbmVhckZpbmROZWFyZXN0fSBmcm9tICcuL2FycmF5LmpzJztcbmltcG9ydCB7Y2xhbXB9IGZyb20gJy4vbWF0aC5qcyc7XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oKG51bWJlcnx1bmRlZmluZWQpLCBudW1iZXIsIG51bWJlcik6IChudW1iZXJ8dW5kZWZpbmVkKX0gVHlwZVxuICovXG5cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHJlc29sdXRpb25zIFJlc29sdXRpb25zLlxuICogQHJldHVybiB7VHlwZX0gWm9vbSBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNuYXBUb1Jlc29sdXRpb25zKHJlc29sdXRpb25zKSB7XG4gIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhIERlbHRhLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXJlY3Rpb24gRGlyZWN0aW9uLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJlc29sdXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24ocmVzb2x1dGlvbiwgZGVsdGEsIGRpcmVjdGlvbikge1xuICAgICAgaWYgKHJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgeiA9IGxpbmVhckZpbmROZWFyZXN0KHJlc29sdXRpb25zLCByZXNvbHV0aW9uLCBkaXJlY3Rpb24pO1xuICAgICAgICB6ID0gY2xhbXAoeiArIGRlbHRhLCAwLCByZXNvbHV0aW9ucy5sZW5ndGggLSAxKTtcbiAgICAgICAgdmFyIGluZGV4ID0gTWF0aC5mbG9vcih6KTtcbiAgICAgICAgaWYgKHogIT0gaW5kZXggJiYgaW5kZXggPCByZXNvbHV0aW9ucy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgdmFyIHBvd2VyID0gcmVzb2x1dGlvbnNbaW5kZXhdIC8gcmVzb2x1dGlvbnNbaW5kZXggKyAxXTtcbiAgICAgICAgICByZXR1cm4gcmVzb2x1dGlvbnNbaW5kZXhdIC8gTWF0aC5wb3cocG93ZXIsIHogLSBpbmRleCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdXRpb25zW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG4gICk7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gcG93ZXIgUG93ZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4UmVzb2x1dGlvbiBNYXhpbXVtIHJlc29sdXRpb24uXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9tYXhMZXZlbCBNYXhpbXVtIGxldmVsLlxuICogQHJldHVybiB7VHlwZX0gWm9vbSBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNuYXBUb1Bvd2VyKHBvd2VyLCBtYXhSZXNvbHV0aW9uLCBvcHRfbWF4TGV2ZWwpIHtcbiAgcmV0dXJuIChcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGEgRGVsdGEuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpcmVjdGlvbiBEaXJlY3Rpb24uXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gUmVzb2x1dGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbihyZXNvbHV0aW9uLCBkZWx0YSwgZGlyZWN0aW9uKSB7XG4gICAgICBpZiAocmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciBvZmZzZXQgPSAtZGlyZWN0aW9uIC8gMiArIDAuNTtcbiAgICAgICAgdmFyIG9sZExldmVsID0gTWF0aC5mbG9vcihcbiAgICAgICAgICBNYXRoLmxvZyhtYXhSZXNvbHV0aW9uIC8gcmVzb2x1dGlvbikgLyBNYXRoLmxvZyhwb3dlcikgKyBvZmZzZXQpO1xuICAgICAgICB2YXIgbmV3TGV2ZWwgPSBNYXRoLm1heChvbGRMZXZlbCArIGRlbHRhLCAwKTtcbiAgICAgICAgaWYgKG9wdF9tYXhMZXZlbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbmV3TGV2ZWwgPSBNYXRoLm1pbihuZXdMZXZlbCwgb3B0X21heExldmVsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4UmVzb2x1dGlvbiAvIE1hdGgucG93KHBvd2VyLCBuZXdMZXZlbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0pO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNvbHV0aW9uY29uc3RyYWludC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcG9pbnRlci9FdmVudFR5cGVcbiAqL1xuXG4vKipcbiAqIENvbnN0YW50cyBmb3IgZXZlbnQgbmFtZXMuXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIFBPSU5URVJNT1ZFOiAncG9pbnRlcm1vdmUnLFxuICBQT0lOVEVSRE9XTjogJ3BvaW50ZXJkb3duJyxcbiAgUE9JTlRFUlVQOiAncG9pbnRlcnVwJyxcbiAgUE9JTlRFUk9WRVI6ICdwb2ludGVyb3ZlcicsXG4gIFBPSU5URVJPVVQ6ICdwb2ludGVyb3V0JyxcbiAgUE9JTlRFUkVOVEVSOiAncG9pbnRlcmVudGVyJyxcbiAgUE9JTlRFUkxFQVZFOiAncG9pbnRlcmxlYXZlJyxcbiAgUE9JTlRFUkNBTkNFTDogJ3BvaW50ZXJjYW5jZWwnXG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1FdmVudFR5cGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3BvaW50ZXIvTXNTb3VyY2VcbiAqL1xuLy8gQmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL1BvbHltZXIvUG9pbnRlckV2ZW50c1xuXG4vLyBDb3B5cmlnaHQgKGMpIDIwMTMgVGhlIFBvbHltZXIgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vXG4vLyBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbi8vIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmVcbi8vIG1ldDpcbi8vXG4vLyAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XG4vLyBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4vLyAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmVcbi8vIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXJcbi8vIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGVcbi8vIGRpc3RyaWJ1dGlvbi5cbi8vICogTmVpdGhlciB0aGUgbmFtZSBvZiBHb29nbGUgSW5jLiBub3IgdGhlIG5hbWVzIG9mIGl0c1xuLy8gY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb21cbi8vIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4vL1xuLy8gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xuLy8gXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxuLy8gTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXG4vLyBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxuLy8gT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXG4vLyBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UXG4vLyBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSxcbi8vIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWVxuLy8gVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxuLy8gKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFXG4vLyBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuXG5pbXBvcnQgRXZlbnRTb3VyY2UgZnJvbSAnLi9FdmVudFNvdXJjZS5qcyc7XG5cblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICovXG52YXIgUE9JTlRFUl9UWVBFUyA9IFtcbiAgJycsXG4gICd1bmF2YWlsYWJsZScsXG4gICd0b3VjaCcsXG4gICdwZW4nLFxuICAnbW91c2UnXG5dO1xuXG4vKipcbiAqIEhhbmRsZXIgZm9yIGBtc1BvaW50ZXJEb3duYC5cbiAqXG4gKiBAdGhpcyB7TXNTb3VyY2V9XG4gKiBAcGFyYW0ge01TUG9pbnRlckV2ZW50fSBpbkV2ZW50IFRoZSBpbiBldmVudC5cbiAqL1xuZnVuY3Rpb24gbXNQb2ludGVyRG93bihpbkV2ZW50KSB7XG4gIHRoaXMucG9pbnRlck1hcFtpbkV2ZW50LnBvaW50ZXJJZC50b1N0cmluZygpXSA9IGluRXZlbnQ7XG4gIHZhciBlID0gdGhpcy5wcmVwYXJlRXZlbnRfKGluRXZlbnQpO1xuICB0aGlzLmRpc3BhdGNoZXIuZG93bihlLCBpbkV2ZW50KTtcbn1cblxuLyoqXG4gKiBIYW5kbGVyIGZvciBgbXNQb2ludGVyTW92ZWAuXG4gKlxuICogQHRoaXMge01zU291cmNlfVxuICogQHBhcmFtIHtNU1BvaW50ZXJFdmVudH0gaW5FdmVudCBUaGUgaW4gZXZlbnQuXG4gKi9cbmZ1bmN0aW9uIG1zUG9pbnRlck1vdmUoaW5FdmVudCkge1xuICB2YXIgZSA9IHRoaXMucHJlcGFyZUV2ZW50XyhpbkV2ZW50KTtcbiAgdGhpcy5kaXNwYXRjaGVyLm1vdmUoZSwgaW5FdmVudCk7XG59XG5cbi8qKlxuICogSGFuZGxlciBmb3IgYG1zUG9pbnRlclVwYC5cbiAqXG4gKiBAdGhpcyB7TXNTb3VyY2V9XG4gKiBAcGFyYW0ge01TUG9pbnRlckV2ZW50fSBpbkV2ZW50IFRoZSBpbiBldmVudC5cbiAqL1xuZnVuY3Rpb24gbXNQb2ludGVyVXAoaW5FdmVudCkge1xuICB2YXIgZSA9IHRoaXMucHJlcGFyZUV2ZW50XyhpbkV2ZW50KTtcbiAgdGhpcy5kaXNwYXRjaGVyLnVwKGUsIGluRXZlbnQpO1xuICB0aGlzLmNsZWFudXAoaW5FdmVudC5wb2ludGVySWQpO1xufVxuXG4vKipcbiAqIEhhbmRsZXIgZm9yIGBtc1BvaW50ZXJPdXRgLlxuICpcbiAqIEB0aGlzIHtNc1NvdXJjZX1cbiAqIEBwYXJhbSB7TVNQb2ludGVyRXZlbnR9IGluRXZlbnQgVGhlIGluIGV2ZW50LlxuICovXG5mdW5jdGlvbiBtc1BvaW50ZXJPdXQoaW5FdmVudCkge1xuICB2YXIgZSA9IHRoaXMucHJlcGFyZUV2ZW50XyhpbkV2ZW50KTtcbiAgdGhpcy5kaXNwYXRjaGVyLmxlYXZlT3V0KGUsIGluRXZlbnQpO1xufVxuXG4vKipcbiAqIEhhbmRsZXIgZm9yIGBtc1BvaW50ZXJPdmVyYC5cbiAqXG4gKiBAdGhpcyB7TXNTb3VyY2V9XG4gKiBAcGFyYW0ge01TUG9pbnRlckV2ZW50fSBpbkV2ZW50IFRoZSBpbiBldmVudC5cbiAqL1xuZnVuY3Rpb24gbXNQb2ludGVyT3ZlcihpbkV2ZW50KSB7XG4gIHZhciBlID0gdGhpcy5wcmVwYXJlRXZlbnRfKGluRXZlbnQpO1xuICB0aGlzLmRpc3BhdGNoZXIuZW50ZXJPdmVyKGUsIGluRXZlbnQpO1xufVxuXG4vKipcbiAqIEhhbmRsZXIgZm9yIGBtc1BvaW50ZXJDYW5jZWxgLlxuICpcbiAqIEB0aGlzIHtNc1NvdXJjZX1cbiAqIEBwYXJhbSB7TVNQb2ludGVyRXZlbnR9IGluRXZlbnQgVGhlIGluIGV2ZW50LlxuICovXG5mdW5jdGlvbiBtc1BvaW50ZXJDYW5jZWwoaW5FdmVudCkge1xuICB2YXIgZSA9IHRoaXMucHJlcGFyZUV2ZW50XyhpbkV2ZW50KTtcbiAgdGhpcy5kaXNwYXRjaGVyLmNhbmNlbChlLCBpbkV2ZW50KTtcbiAgdGhpcy5jbGVhbnVwKGluRXZlbnQucG9pbnRlcklkKTtcbn1cblxuLyoqXG4gKiBIYW5kbGVyIGZvciBgbXNMb3N0UG9pbnRlckNhcHR1cmVgLlxuICpcbiAqIEB0aGlzIHtNc1NvdXJjZX1cbiAqIEBwYXJhbSB7TVNQb2ludGVyRXZlbnR9IGluRXZlbnQgVGhlIGluIGV2ZW50LlxuICovXG5mdW5jdGlvbiBtc0xvc3RQb2ludGVyQ2FwdHVyZShpbkV2ZW50KSB7XG4gIHZhciBlID0gdGhpcy5kaXNwYXRjaGVyLm1ha2VFdmVudCgnbG9zdHBvaW50ZXJjYXB0dXJlJywgaW5FdmVudCwgaW5FdmVudCk7XG4gIHRoaXMuZGlzcGF0Y2hlci5kaXNwYXRjaEV2ZW50KGUpO1xufVxuXG4vKipcbiAqIEhhbmRsZXIgZm9yIGBtc0dvdFBvaW50ZXJDYXB0dXJlYC5cbiAqXG4gKiBAdGhpcyB7TXNTb3VyY2V9XG4gKiBAcGFyYW0ge01TUG9pbnRlckV2ZW50fSBpbkV2ZW50IFRoZSBpbiBldmVudC5cbiAqL1xuZnVuY3Rpb24gbXNHb3RQb2ludGVyQ2FwdHVyZShpbkV2ZW50KSB7XG4gIHZhciBlID0gdGhpcy5kaXNwYXRjaGVyLm1ha2VFdmVudCgnZ290cG9pbnRlcmNhcHR1cmUnLCBpbkV2ZW50LCBpbkV2ZW50KTtcbiAgdGhpcy5kaXNwYXRjaGVyLmRpc3BhdGNoRXZlbnQoZSk7XG59XG5cbnZhciBNc1NvdXJjZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEV2ZW50U291cmNlKSB7XG4gIGZ1bmN0aW9uIE1zU291cmNlKGRpc3BhdGNoZXIpIHtcbiAgICB2YXIgbWFwcGluZyA9IHtcbiAgICAgICdNU1BvaW50ZXJEb3duJzogbXNQb2ludGVyRG93bixcbiAgICAgICdNU1BvaW50ZXJNb3ZlJzogbXNQb2ludGVyTW92ZSxcbiAgICAgICdNU1BvaW50ZXJVcCc6IG1zUG9pbnRlclVwLFxuICAgICAgJ01TUG9pbnRlck91dCc6IG1zUG9pbnRlck91dCxcbiAgICAgICdNU1BvaW50ZXJPdmVyJzogbXNQb2ludGVyT3ZlcixcbiAgICAgICdNU1BvaW50ZXJDYW5jZWwnOiBtc1BvaW50ZXJDYW5jZWwsXG4gICAgICAnTVNHb3RQb2ludGVyQ2FwdHVyZSc6IG1zR290UG9pbnRlckNhcHR1cmUsXG4gICAgICAnTVNMb3N0UG9pbnRlckNhcHR1cmUnOiBtc0xvc3RQb2ludGVyQ2FwdHVyZVxuICAgIH07XG4gICAgRXZlbnRTb3VyY2UuY2FsbCh0aGlzLCBkaXNwYXRjaGVyLCBtYXBwaW5nKTtcblxuICAgIC8qKlxuICAgICAqIEBjb25zdFxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgTVNQb2ludGVyRXZlbnR8T2JqZWN0Pn1cbiAgICAgKi9cbiAgICB0aGlzLnBvaW50ZXJNYXAgPSBkaXNwYXRjaGVyLnBvaW50ZXJNYXA7XG4gIH1cblxuICBpZiAoIEV2ZW50U291cmNlICkgTXNTb3VyY2UuX19wcm90b19fID0gRXZlbnRTb3VyY2U7XG4gIE1zU291cmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEV2ZW50U291cmNlICYmIEV2ZW50U291cmNlLnByb3RvdHlwZSApO1xuICBNc1NvdXJjZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNc1NvdXJjZTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGNvcHkgb2YgdGhlIG9yaWdpbmFsIGV2ZW50IHRoYXQgd2lsbCBiZSB1c2VkXG4gICAqIGZvciB0aGUgZmFrZSBwb2ludGVyIGV2ZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge01TUG9pbnRlckV2ZW50fSBpbkV2ZW50IFRoZSBpbiBldmVudC5cbiAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29waWVkIGV2ZW50LlxuICAgKi9cbiAgTXNTb3VyY2UucHJvdG90eXBlLnByZXBhcmVFdmVudF8gPSBmdW5jdGlvbiBwcmVwYXJlRXZlbnRfIChpbkV2ZW50KSB7XG4gICAgLyoqIEB0eXBlIHtNU1BvaW50ZXJFdmVudHxPYmplY3R9ICovXG4gICAgdmFyIGUgPSBpbkV2ZW50O1xuICAgIGlmICh0eXBlb2YgaW5FdmVudC5wb2ludGVyVHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIGUgPSB0aGlzLmRpc3BhdGNoZXIuY2xvbmVFdmVudChpbkV2ZW50LCBpbkV2ZW50KTtcbiAgICAgIGUucG9pbnRlclR5cGUgPSBQT0lOVEVSX1RZUEVTW2luRXZlbnQucG9pbnRlclR5cGVdO1xuICAgIH1cblxuICAgIHJldHVybiBlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhpcyBwb2ludGVyIGZyb20gdGhlIGxpc3Qgb2YgYWN0aXZlIHBvaW50ZXJzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcG9pbnRlcklkIFBvaW50ZXIgaWRlbnRpZmllci5cbiAgICovXG4gIE1zU291cmNlLnByb3RvdHlwZS5jbGVhbnVwID0gZnVuY3Rpb24gY2xlYW51cCAocG9pbnRlcklkKSB7XG4gICAgZGVsZXRlIHRoaXMucG9pbnRlck1hcFtwb2ludGVySWQudG9TdHJpbmcoKV07XG4gIH07XG5cbiAgcmV0dXJuIE1zU291cmNlO1xufShFdmVudFNvdXJjZSkpO1xuXG5leHBvcnQgZGVmYXVsdCBNc1NvdXJjZTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TXNTb3VyY2UuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3BvaW50ZXIvTmF0aXZlU291cmNlXG4gKi9cblxuLy8gQmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL1BvbHltZXIvUG9pbnRlckV2ZW50c1xuXG4vLyBDb3B5cmlnaHQgKGMpIDIwMTMgVGhlIFBvbHltZXIgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vXG4vLyBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbi8vIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmVcbi8vIG1ldDpcbi8vXG4vLyAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XG4vLyBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4vLyAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmVcbi8vIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXJcbi8vIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGVcbi8vIGRpc3RyaWJ1dGlvbi5cbi8vICogTmVpdGhlciB0aGUgbmFtZSBvZiBHb29nbGUgSW5jLiBub3IgdGhlIG5hbWVzIG9mIGl0c1xuLy8gY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb21cbi8vIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4vL1xuLy8gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xuLy8gXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxuLy8gTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXG4vLyBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxuLy8gT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXG4vLyBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UXG4vLyBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSxcbi8vIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWVxuLy8gVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxuLy8gKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFXG4vLyBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuXG5pbXBvcnQgRXZlbnRTb3VyY2UgZnJvbSAnLi9FdmVudFNvdXJjZS5qcyc7XG5cbi8qKlxuICogSGFuZGxlciBmb3IgYHBvaW50ZXJkb3duYC5cbiAqXG4gKiBAdGhpcyB7TmF0aXZlU291cmNlfVxuICogQHBhcmFtIHtFdmVudH0gaW5FdmVudCBUaGUgaW4gZXZlbnQuXG4gKi9cbmZ1bmN0aW9uIHBvaW50ZXJEb3duKGluRXZlbnQpIHtcbiAgdGhpcy5kaXNwYXRjaGVyLmZpcmVOYXRpdmVFdmVudChpbkV2ZW50KTtcbn1cblxuLyoqXG4gKiBIYW5kbGVyIGZvciBgcG9pbnRlcm1vdmVgLlxuICpcbiAqIEB0aGlzIHtOYXRpdmVTb3VyY2V9XG4gKiBAcGFyYW0ge0V2ZW50fSBpbkV2ZW50IFRoZSBpbiBldmVudC5cbiAqL1xuZnVuY3Rpb24gcG9pbnRlck1vdmUoaW5FdmVudCkge1xuICB0aGlzLmRpc3BhdGNoZXIuZmlyZU5hdGl2ZUV2ZW50KGluRXZlbnQpO1xufVxuXG4vKipcbiAqIEhhbmRsZXIgZm9yIGBwb2ludGVydXBgLlxuICpcbiAqIEB0aGlzIHtOYXRpdmVTb3VyY2V9XG4gKiBAcGFyYW0ge0V2ZW50fSBpbkV2ZW50IFRoZSBpbiBldmVudC5cbiAqL1xuZnVuY3Rpb24gcG9pbnRlclVwKGluRXZlbnQpIHtcbiAgdGhpcy5kaXNwYXRjaGVyLmZpcmVOYXRpdmVFdmVudChpbkV2ZW50KTtcbn1cblxuLyoqXG4gKiBIYW5kbGVyIGZvciBgcG9pbnRlcm91dGAuXG4gKlxuICogQHRoaXMge05hdGl2ZVNvdXJjZX1cbiAqIEBwYXJhbSB7RXZlbnR9IGluRXZlbnQgVGhlIGluIGV2ZW50LlxuICovXG5mdW5jdGlvbiBwb2ludGVyT3V0KGluRXZlbnQpIHtcbiAgdGhpcy5kaXNwYXRjaGVyLmZpcmVOYXRpdmVFdmVudChpbkV2ZW50KTtcbn1cblxuLyoqXG4gKiBIYW5kbGVyIGZvciBgcG9pbnRlcm92ZXJgLlxuICpcbiAqIEB0aGlzIHtOYXRpdmVTb3VyY2V9XG4gKiBAcGFyYW0ge0V2ZW50fSBpbkV2ZW50IFRoZSBpbiBldmVudC5cbiAqL1xuZnVuY3Rpb24gcG9pbnRlck92ZXIoaW5FdmVudCkge1xuICB0aGlzLmRpc3BhdGNoZXIuZmlyZU5hdGl2ZUV2ZW50KGluRXZlbnQpO1xufVxuXG4vKipcbiAqIEhhbmRsZXIgZm9yIGBwb2ludGVyY2FuY2VsYC5cbiAqXG4gKiBAdGhpcyB7TmF0aXZlU291cmNlfVxuICogQHBhcmFtIHtFdmVudH0gaW5FdmVudCBUaGUgaW4gZXZlbnQuXG4gKi9cbmZ1bmN0aW9uIHBvaW50ZXJDYW5jZWwoaW5FdmVudCkge1xuICB0aGlzLmRpc3BhdGNoZXIuZmlyZU5hdGl2ZUV2ZW50KGluRXZlbnQpO1xufVxuXG4vKipcbiAqIEhhbmRsZXIgZm9yIGBsb3N0cG9pbnRlcmNhcHR1cmVgLlxuICpcbiAqIEB0aGlzIHtOYXRpdmVTb3VyY2V9XG4gKiBAcGFyYW0ge0V2ZW50fSBpbkV2ZW50IFRoZSBpbiBldmVudC5cbiAqL1xuZnVuY3Rpb24gbG9zdFBvaW50ZXJDYXB0dXJlKGluRXZlbnQpIHtcbiAgdGhpcy5kaXNwYXRjaGVyLmZpcmVOYXRpdmVFdmVudChpbkV2ZW50KTtcbn1cblxuLyoqXG4gKiBIYW5kbGVyIGZvciBgZ290cG9pbnRlcmNhcHR1cmVgLlxuICpcbiAqIEB0aGlzIHtOYXRpdmVTb3VyY2V9XG4gKiBAcGFyYW0ge0V2ZW50fSBpbkV2ZW50IFRoZSBpbiBldmVudC5cbiAqL1xuZnVuY3Rpb24gZ290UG9pbnRlckNhcHR1cmUoaW5FdmVudCkge1xuICB0aGlzLmRpc3BhdGNoZXIuZmlyZU5hdGl2ZUV2ZW50KGluRXZlbnQpO1xufVxuXG52YXIgTmF0aXZlU291cmNlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRXZlbnRTb3VyY2UpIHtcbiAgZnVuY3Rpb24gTmF0aXZlU291cmNlKGRpc3BhdGNoZXIpIHtcbiAgICB2YXIgbWFwcGluZyA9IHtcbiAgICAgICdwb2ludGVyZG93bic6IHBvaW50ZXJEb3duLFxuICAgICAgJ3BvaW50ZXJtb3ZlJzogcG9pbnRlck1vdmUsXG4gICAgICAncG9pbnRlcnVwJzogcG9pbnRlclVwLFxuICAgICAgJ3BvaW50ZXJvdXQnOiBwb2ludGVyT3V0LFxuICAgICAgJ3BvaW50ZXJvdmVyJzogcG9pbnRlck92ZXIsXG4gICAgICAncG9pbnRlcmNhbmNlbCc6IHBvaW50ZXJDYW5jZWwsXG4gICAgICAnZ290cG9pbnRlcmNhcHR1cmUnOiBnb3RQb2ludGVyQ2FwdHVyZSxcbiAgICAgICdsb3N0cG9pbnRlcmNhcHR1cmUnOiBsb3N0UG9pbnRlckNhcHR1cmVcbiAgICB9O1xuICAgIEV2ZW50U291cmNlLmNhbGwodGhpcywgZGlzcGF0Y2hlciwgbWFwcGluZyk7XG4gIH1cblxuICBpZiAoIEV2ZW50U291cmNlICkgTmF0aXZlU291cmNlLl9fcHJvdG9fXyA9IEV2ZW50U291cmNlO1xuICBOYXRpdmVTb3VyY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZlbnRTb3VyY2UgJiYgRXZlbnRTb3VyY2UucHJvdG90eXBlICk7XG4gIE5hdGl2ZVNvdXJjZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBOYXRpdmVTb3VyY2U7XG5cbiAgcmV0dXJuIE5hdGl2ZVNvdXJjZTtcbn0oRXZlbnRTb3VyY2UpKTtcblxuZXhwb3J0IGRlZmF1bHQgTmF0aXZlU291cmNlO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1OYXRpdmVTb3VyY2UuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3BvaW50ZXIvUG9pbnRlckV2ZW50XG4gKi9cblxuLy8gQmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL1BvbHltZXIvUG9pbnRlckV2ZW50c1xuXG4vLyBDb3B5cmlnaHQgKGMpIDIwMTMgVGhlIFBvbHltZXIgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vXG4vLyBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbi8vIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmVcbi8vIG1ldDpcbi8vXG4vLyAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XG4vLyBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4vLyAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmVcbi8vIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXJcbi8vIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGVcbi8vIGRpc3RyaWJ1dGlvbi5cbi8vICogTmVpdGhlciB0aGUgbmFtZSBvZiBHb29nbGUgSW5jLiBub3IgdGhlIG5hbWVzIG9mIGl0c1xuLy8gY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb21cbi8vIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4vL1xuLy8gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xuLy8gXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxuLy8gTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXG4vLyBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxuLy8gT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXG4vLyBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UXG4vLyBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSxcbi8vIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWVxuLy8gVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxuLy8gKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFXG4vLyBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuXG5pbXBvcnQgX0V2ZW50IGZyb20gJy4uL2V2ZW50cy9FdmVudC5qcyc7XG5cblxuLyoqXG4gKiBJcyB0aGUgYGJ1dHRvbnNgIHByb3BlcnR5IHN1cHBvcnRlZD9cbiAqIEB0eXBlIHtib29sZWFufVxuICovXG52YXIgSEFTX0JVVFRPTlMgPSBmYWxzZTtcblxuXG52YXIgUG9pbnRlckV2ZW50ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoX0V2ZW50KSB7XG4gIGZ1bmN0aW9uIFBvaW50ZXJFdmVudCh0eXBlLCBvcmlnaW5hbEV2ZW50LCBvcHRfZXZlbnREaWN0KSB7XG4gICAgX0V2ZW50LmNhbGwodGhpcywgdHlwZSk7XG5cbiAgICAvKipcbiAgICAgKiBAY29uc3RcbiAgICAgKiBAdHlwZSB7RXZlbnR9XG4gICAgICovXG4gICAgdGhpcy5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcblxuICAgIHZhciBldmVudERpY3QgPSBvcHRfZXZlbnREaWN0ID8gb3B0X2V2ZW50RGljdCA6IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmJ1dHRvbnMgPSBnZXRCdXR0b25zKGV2ZW50RGljdCk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucHJlc3N1cmUgPSBnZXRQcmVzc3VyZShldmVudERpY3QsIHRoaXMuYnV0dG9ucyk7XG5cbiAgICAvLyBNb3VzZUV2ZW50IHJlbGF0ZWQgcHJvcGVydGllc1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5idWJibGVzID0gJ2J1YmJsZXMnIGluIGV2ZW50RGljdCA/IGV2ZW50RGljdFsnYnViYmxlcyddIDogZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmNhbmNlbGFibGUgPSAnY2FuY2VsYWJsZScgaW4gZXZlbnREaWN0ID8gZXZlbnREaWN0WydjYW5jZWxhYmxlJ10gOiBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy52aWV3ID0gJ3ZpZXcnIGluIGV2ZW50RGljdCA/IGV2ZW50RGljdFsndmlldyddIDogbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kZXRhaWwgPSAnZGV0YWlsJyBpbiBldmVudERpY3QgPyBldmVudERpY3RbJ2RldGFpbCddIDogbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5zY3JlZW5YID0gJ3NjcmVlblgnIGluIGV2ZW50RGljdCA/IGV2ZW50RGljdFsnc2NyZWVuWCddIDogMDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5zY3JlZW5ZID0gJ3NjcmVlblknIGluIGV2ZW50RGljdCA/IGV2ZW50RGljdFsnc2NyZWVuWSddIDogMDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5jbGllbnRYID0gJ2NsaWVudFgnIGluIGV2ZW50RGljdCA/IGV2ZW50RGljdFsnY2xpZW50WCddIDogMDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5jbGllbnRZID0gJ2NsaWVudFknIGluIGV2ZW50RGljdCA/IGV2ZW50RGljdFsnY2xpZW50WSddIDogMDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuY3RybEtleSA9ICdjdHJsS2V5JyBpbiBldmVudERpY3QgPyBldmVudERpY3RbJ2N0cmxLZXknXSA6IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5hbHRLZXkgPSAnYWx0S2V5JyBpbiBldmVudERpY3QgPyBldmVudERpY3RbJ2FsdEtleSddIDogZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnNoaWZ0S2V5ID0gJ3NoaWZ0S2V5JyBpbiBldmVudERpY3QgPyBldmVudERpY3RbJ3NoaWZ0S2V5J10gOiBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMubWV0YUtleSA9ICdtZXRhS2V5JyBpbiBldmVudERpY3QgPyBldmVudERpY3RbJ21ldGFLZXknXSA6IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmJ1dHRvbiA9ICdidXR0b24nIGluIGV2ZW50RGljdCA/IGV2ZW50RGljdFsnYnV0dG9uJ10gOiAwO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge05vZGV9XG4gICAgICovXG4gICAgdGhpcy5yZWxhdGVkVGFyZ2V0ID0gJ3JlbGF0ZWRUYXJnZXQnIGluIGV2ZW50RGljdCA/XG4gICAgICBldmVudERpY3RbJ3JlbGF0ZWRUYXJnZXQnXSA6IG51bGw7XG5cbiAgICAvLyBQb2ludGVyRXZlbnQgcmVsYXRlZCBwcm9wZXJ0aWVzXG5cbiAgICAvKipcbiAgICAgKiBAY29uc3RcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucG9pbnRlcklkID0gJ3BvaW50ZXJJZCcgaW4gZXZlbnREaWN0ID8gZXZlbnREaWN0Wydwb2ludGVySWQnXSA6IDA7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMud2lkdGggPSAnd2lkdGgnIGluIGV2ZW50RGljdCA/IGV2ZW50RGljdFsnd2lkdGgnXSA6IDA7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0ID0gJ2hlaWdodCcgaW4gZXZlbnREaWN0ID8gZXZlbnREaWN0WydoZWlnaHQnXSA6IDA7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGlsdFggPSAndGlsdFgnIGluIGV2ZW50RGljdCA/IGV2ZW50RGljdFsndGlsdFgnXSA6IDA7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGlsdFkgPSAndGlsdFknIGluIGV2ZW50RGljdCA/IGV2ZW50RGljdFsndGlsdFknXSA6IDA7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMucG9pbnRlclR5cGUgPSAncG9pbnRlclR5cGUnIGluIGV2ZW50RGljdCA/IGV2ZW50RGljdFsncG9pbnRlclR5cGUnXSA6ICcnO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmh3VGltZXN0YW1wID0gJ2h3VGltZXN0YW1wJyBpbiBldmVudERpY3QgPyBldmVudERpY3RbJ2h3VGltZXN0YW1wJ10gOiAwO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5pc1ByaW1hcnkgPSAnaXNQcmltYXJ5JyBpbiBldmVudERpY3QgPyBldmVudERpY3RbJ2lzUHJpbWFyeSddIDogZmFsc2U7XG5cbiAgICAvLyBrZWVwIHRoZSBzZW1hbnRpY3Mgb2YgcHJldmVudERlZmF1bHRcbiAgICBpZiAob3JpZ2luYWxFdmVudC5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgdGhpcy5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBvcmlnaW5hbEV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGlmICggX0V2ZW50ICkgUG9pbnRlckV2ZW50Ll9fcHJvdG9fXyA9IF9FdmVudDtcbiAgUG9pbnRlckV2ZW50LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIF9FdmVudCAmJiBfRXZlbnQucHJvdG90eXBlICk7XG4gIFBvaW50ZXJFdmVudC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQb2ludGVyRXZlbnQ7XG5cbiAgcmV0dXJuIFBvaW50ZXJFdmVudDtcbn0oX0V2ZW50KSk7XG5cblxuLyoqXG4gKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsID8+fSBldmVudERpY3QgVGhlIGV2ZW50IGRpY3Rpb25hcnkuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEJ1dHRvbiBpbmRpY2F0b3IuXG4gKi9cbmZ1bmN0aW9uIGdldEJ1dHRvbnMoZXZlbnREaWN0KSB7XG4gIC8vIEFjY29yZGluZyB0byB0aGUgdzNjIHNwZWMsXG4gIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy8jZXZlbnRzLU1vdXNlRXZlbnQtYnV0dG9uXG4gIC8vIE1vdXNlRXZlbnQuYnV0dG9uID09IDAgY2FuIG1lYW4gZWl0aGVyIG5vIG1vdXNlIGJ1dHRvbiBkZXByZXNzZWQsIG9yIHRoZVxuICAvLyBsZWZ0IG1vdXNlIGJ1dHRvbiBkZXByZXNzZWQuXG4gIC8vXG4gIC8vIEFzIG9mIG5vdywgdGhlIG9ubHkgd2F5IHRvIGRpc3Rpbmd1aXNoIGJldHdlZW4gdGhlIHR3byBzdGF0ZXMgb2ZcbiAgLy8gTW91c2VFdmVudC5idXR0b24gaXMgYnkgdXNpbmcgdGhlIGRlcHJlY2F0ZWQgTW91c2VFdmVudC53aGljaCBwcm9wZXJ0eSwgYXNcbiAgLy8gdGhpcyBtYXBzIG1vdXNlIGJ1dHRvbnMgdG8gcG9zaXRpdmUgaW50ZWdlcnMgPiAwLCBhbmQgdXNlcyAwIHRvIG1lYW4gdGhhdFxuICAvLyBubyBtb3VzZSBidXR0b24gaXMgaGVsZC5cbiAgLy9cbiAgLy8gTW91c2VFdmVudC53aGljaCBpcyBkZXJpdmVkIGZyb20gTW91c2VFdmVudC5idXR0b24gYXQgTW91c2VFdmVudCBjcmVhdGlvbixcbiAgLy8gYnV0IGluaXRNb3VzZUV2ZW50IGRvZXMgbm90IGV4cG9zZSBhbiBhcmd1bWVudCB3aXRoIHdoaWNoIHRvIHNldFxuICAvLyBNb3VzZUV2ZW50LndoaWNoLiBDYWxsaW5nIGluaXRNb3VzZUV2ZW50IHdpdGggYSBidXR0b25Bcmcgb2YgMCB3aWxsIHNldFxuICAvLyBNb3VzZUV2ZW50LmJ1dHRvbiA9PSAwIGFuZCBNb3VzZUV2ZW50LndoaWNoID09IDEsIGJyZWFraW5nIHRoZSBleHBlY3RhdGlvbnNcbiAgLy8gb2YgYXBwIGRldmVsb3BlcnMuXG4gIC8vXG4gIC8vIFRoZSBvbmx5IHdheSB0byBwcm9wYWdhdGUgdGhlIGNvcnJlY3Qgc3RhdGUgb2YgTW91c2VFdmVudC53aGljaCBhbmRcbiAgLy8gTW91c2VFdmVudC5idXR0b24gdG8gYSBuZXcgTW91c2VFdmVudC5idXR0b24gPT0gMCBhbmQgTW91c2VFdmVudC53aGljaCA9PSAwXG4gIC8vIGlzIHRvIGNhbGwgaW5pdE1vdXNlRXZlbnQgd2l0aCBhIGJ1dHRvbkFyZyB2YWx1ZSBvZiAtMS5cbiAgLy9cbiAgLy8gVGhpcyBpcyBmaXhlZCB3aXRoIERPTSBMZXZlbCA0J3MgdXNlIG9mIGJ1dHRvbnNcbiAgdmFyIGJ1dHRvbnM7XG4gIGlmIChldmVudERpY3QuYnV0dG9ucyB8fCBIQVNfQlVUVE9OUykge1xuICAgIGJ1dHRvbnMgPSBldmVudERpY3QuYnV0dG9ucztcbiAgfSBlbHNlIHtcbiAgICBzd2l0Y2ggKGV2ZW50RGljdC53aGljaCkge1xuICAgICAgY2FzZSAxOiBidXR0b25zID0gMTsgYnJlYWs7XG4gICAgICBjYXNlIDI6IGJ1dHRvbnMgPSA0OyBicmVhaztcbiAgICAgIGNhc2UgMzogYnV0dG9ucyA9IDI7IGJyZWFrO1xuICAgICAgZGVmYXVsdDogYnV0dG9ucyA9IDA7XG4gICAgfVxuICB9XG4gIHJldHVybiBidXR0b25zO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCA/Pn0gZXZlbnREaWN0IFRoZSBldmVudCBkaWN0aW9uYXJ5LlxuICogQHBhcmFtIHtudW1iZXJ9IGJ1dHRvbnMgQnV0dG9uIGluZGljYXRvci5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIHByZXNzdXJlLlxuICovXG5mdW5jdGlvbiBnZXRQcmVzc3VyZShldmVudERpY3QsIGJ1dHRvbnMpIHtcbiAgLy8gU3BlYyByZXF1aXJlcyB0aGF0IHBvaW50ZXJzIHdpdGhvdXQgcHJlc3N1cmUgc3BlY2lmaWVkIHVzZSAwLjUgZm9yIGRvd25cbiAgLy8gc3RhdGUgYW5kIDAgZm9yIHVwIHN0YXRlLlxuICB2YXIgcHJlc3N1cmUgPSAwO1xuICBpZiAoZXZlbnREaWN0LnByZXNzdXJlKSB7XG4gICAgcHJlc3N1cmUgPSBldmVudERpY3QucHJlc3N1cmU7XG4gIH0gZWxzZSB7XG4gICAgcHJlc3N1cmUgPSBidXR0b25zID8gMC41IDogMDtcbiAgfVxuICByZXR1cm4gcHJlc3N1cmU7XG59XG5cblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGBidXR0b25zYCBwcm9wZXJ0eSBpcyBzdXBwb3J0ZWQuXG4gKi9cbihmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICB2YXIgZXYgPSBuZXcgTW91c2VFdmVudCgnY2xpY2snLCB7YnV0dG9uczogMX0pO1xuICAgIEhBU19CVVRUT05TID0gZXYuYnV0dG9ucyA9PT0gMTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIHBhc3NcbiAgfVxufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgUG9pbnRlckV2ZW50O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qb2ludGVyRXZlbnQuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3BvaW50ZXIvVG91Y2hTb3VyY2VcbiAqL1xuXG4vLyBCYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vUG9seW1lci9Qb2ludGVyRXZlbnRzXG5cbi8vIENvcHlyaWdodCAoYykgMjAxMyBUaGUgUG9seW1lciBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy9cbi8vIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuLy8gbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxuLy8gbWV0OlxuLy9cbi8vICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcbi8vIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbi8vICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZVxuLy8gY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lclxuLy8gaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZVxuLy8gZGlzdHJpYnV0aW9uLlxuLy8gKiBOZWl0aGVyIHRoZSBuYW1lIG9mIEdvb2dsZSBJbmMuIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4vLyBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbVxuLy8gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbi8vXG4vLyBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXG4vLyBcIkFTIElTXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UXG4vLyBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1Jcbi8vIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUXG4vLyBPV05FUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCxcbi8vIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1Rcbi8vIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxuLy8gREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZXG4vLyBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUXG4vLyAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0Vcbi8vIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG5cbmltcG9ydCB7cmVtb3ZlfSBmcm9tICcuLi9hcnJheS5qcyc7XG5pbXBvcnQgRXZlbnRTb3VyY2UgZnJvbSAnLi9FdmVudFNvdXJjZS5qcyc7XG5pbXBvcnQge1BPSU5URVJfSUR9IGZyb20gJy4vTW91c2VTb3VyY2UuanMnO1xuXG5cbi8qKlxuICogQHR5cGUge251bWJlcn1cbiAqL1xudmFyIENMSUNLX0NPVU5UX1RJTUVPVVQgPSAyMDA7XG5cbi8qKlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xudmFyIFBPSU5URVJfVFlQRSA9ICd0b3VjaCc7XG5cbi8qKlxuICogSGFuZGxlciBmb3IgYHRvdWNoc3RhcnRgLCB0cmlnZ2VycyBgcG9pbnRlcm92ZXJgLFxuICogYHBvaW50ZXJlbnRlcmAgYW5kIGBwb2ludGVyZG93bmAgZXZlbnRzLlxuICpcbiAqIEB0aGlzIHtUb3VjaFNvdXJjZX1cbiAqIEBwYXJhbSB7VG91Y2hFdmVudH0gaW5FdmVudCBUaGUgaW4gZXZlbnQuXG4gKi9cbmZ1bmN0aW9uIHRvdWNoc3RhcnQoaW5FdmVudCkge1xuICB0aGlzLnZhY3V1bVRvdWNoZXNfKGluRXZlbnQpO1xuICB0aGlzLnNldFByaW1hcnlUb3VjaF8oaW5FdmVudC5jaGFuZ2VkVG91Y2hlc1swXSk7XG4gIHRoaXMuZGVkdXBTeW50aE1vdXNlXyhpbkV2ZW50KTtcbiAgdGhpcy5jbGlja0NvdW50XysrO1xuICB0aGlzLnByb2Nlc3NUb3VjaGVzXyhpbkV2ZW50LCB0aGlzLm92ZXJEb3duXyk7XG59XG5cbi8qKlxuICogSGFuZGxlciBmb3IgYHRvdWNobW92ZWAuXG4gKlxuICogQHRoaXMge1RvdWNoU291cmNlfVxuICogQHBhcmFtIHtUb3VjaEV2ZW50fSBpbkV2ZW50IFRoZSBpbiBldmVudC5cbiAqL1xuZnVuY3Rpb24gdG91Y2htb3ZlKGluRXZlbnQpIHtcbiAgdGhpcy5wcm9jZXNzVG91Y2hlc18oaW5FdmVudCwgdGhpcy5tb3ZlT3Zlck91dF8pO1xufVxuXG4vKipcbiAqIEhhbmRsZXIgZm9yIGB0b3VjaGVuZGAsIHRyaWdnZXJzIGBwb2ludGVydXBgLFxuICogYHBvaW50ZXJvdXRgIGFuZCBgcG9pbnRlcmxlYXZlYCBldmVudHMuXG4gKlxuICogQHRoaXMge1RvdWNoU291cmNlfVxuICogQHBhcmFtIHtUb3VjaEV2ZW50fSBpbkV2ZW50IFRoZSBldmVudC5cbiAqL1xuZnVuY3Rpb24gdG91Y2hlbmQoaW5FdmVudCkge1xuICB0aGlzLmRlZHVwU3ludGhNb3VzZV8oaW5FdmVudCk7XG4gIHRoaXMucHJvY2Vzc1RvdWNoZXNfKGluRXZlbnQsIHRoaXMudXBPdXRfKTtcbn1cblxuLyoqXG4gKiBIYW5kbGVyIGZvciBgdG91Y2hjYW5jZWxgLCB0cmlnZ2VycyBgcG9pbnRlcmNhbmNlbGAsXG4gKiBgcG9pbnRlcm91dGAgYW5kIGBwb2ludGVybGVhdmVgIGV2ZW50cy5cbiAqXG4gKiBAdGhpcyB7VG91Y2hTb3VyY2V9XG4gKiBAcGFyYW0ge1RvdWNoRXZlbnR9IGluRXZlbnQgVGhlIGluIGV2ZW50LlxuICovXG5mdW5jdGlvbiB0b3VjaGNhbmNlbChpbkV2ZW50KSB7XG4gIHRoaXMucHJvY2Vzc1RvdWNoZXNfKGluRXZlbnQsIHRoaXMuY2FuY2VsT3V0Xyk7XG59XG5cblxudmFyIFRvdWNoU291cmNlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRXZlbnRTb3VyY2UpIHtcbiAgZnVuY3Rpb24gVG91Y2hTb3VyY2UoZGlzcGF0Y2hlciwgbW91c2VTb3VyY2UpIHtcbiAgICB2YXIgbWFwcGluZyA9IHtcbiAgICAgICd0b3VjaHN0YXJ0JzogdG91Y2hzdGFydCxcbiAgICAgICd0b3VjaG1vdmUnOiB0b3VjaG1vdmUsXG4gICAgICAndG91Y2hlbmQnOiB0b3VjaGVuZCxcbiAgICAgICd0b3VjaGNhbmNlbCc6IHRvdWNoY2FuY2VsXG4gICAgfTtcbiAgICBFdmVudFNvdXJjZS5jYWxsKHRoaXMsIGRpc3BhdGNoZXIsIG1hcHBpbmcpO1xuXG4gICAgLyoqXG4gICAgICogQGNvbnN0XG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBFdmVudHxPYmplY3Q+fVxuICAgICAqL1xuICAgIHRoaXMucG9pbnRlck1hcCA9IGRpc3BhdGNoZXIucG9pbnRlck1hcDtcblxuICAgIC8qKlxuICAgICAqIEBjb25zdFxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL01vdXNlU291cmNlLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5tb3VzZVNvdXJjZSA9IG1vdXNlU291cmNlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmZpcnN0VG91Y2hJZF8gPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5jbGlja0NvdW50XyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/fVxuICAgICAqL1xuICAgIHRoaXMucmVzZXRJZF87XG5cbiAgICAvKipcbiAgICAgKiBNb3VzZSBldmVudCB0aW1lb3V0OiBUaGlzIHNob3VsZCBiZSBsb25nIGVub3VnaCB0b1xuICAgICAqIGlnbm9yZSBjb21wYXQgbW91c2UgZXZlbnRzIG1hZGUgYnkgdG91Y2guXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZGVkdXBUaW1lb3V0XyA9IDI1MDA7XG4gIH1cblxuICBpZiAoIEV2ZW50U291cmNlICkgVG91Y2hTb3VyY2UuX19wcm90b19fID0gRXZlbnRTb3VyY2U7XG4gIFRvdWNoU291cmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEV2ZW50U291cmNlICYmIEV2ZW50U291cmNlLnByb3RvdHlwZSApO1xuICBUb3VjaFNvdXJjZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUb3VjaFNvdXJjZTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtUb3VjaH0gaW5Ub3VjaCBUaGUgaW4gdG91Y2guXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUsIGlmIHRoaXMgaXMgdGhlIHByaW1hcnkgdG91Y2guXG4gICAqL1xuICBUb3VjaFNvdXJjZS5wcm90b3R5cGUuaXNQcmltYXJ5VG91Y2hfID0gZnVuY3Rpb24gaXNQcmltYXJ5VG91Y2hfIChpblRvdWNoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmlyc3RUb3VjaElkXyA9PT0gaW5Ub3VjaC5pZGVudGlmaWVyO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgcHJpbWFyeSB0b3VjaCBpZiB0aGVyZSBhcmUgbm8gcG9pbnRlcnMsIG9yIHRoZSBvbmx5IHBvaW50ZXIgaXMgdGhlIG1vdXNlLlxuICAgKiBAcGFyYW0ge1RvdWNofSBpblRvdWNoIFRoZSBpbiB0b3VjaC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIFRvdWNoU291cmNlLnByb3RvdHlwZS5zZXRQcmltYXJ5VG91Y2hfID0gZnVuY3Rpb24gc2V0UHJpbWFyeVRvdWNoXyAoaW5Ub3VjaCkge1xuICAgIHZhciBjb3VudCA9IE9iamVjdC5rZXlzKHRoaXMucG9pbnRlck1hcCkubGVuZ3RoO1xuICAgIGlmIChjb3VudCA9PT0gMCB8fCAoY291bnQgPT09IDEgJiYgUE9JTlRFUl9JRC50b1N0cmluZygpIGluIHRoaXMucG9pbnRlck1hcCkpIHtcbiAgICAgIHRoaXMuZmlyc3RUb3VjaElkXyA9IGluVG91Y2guaWRlbnRpZmllcjtcbiAgICAgIHRoaXMuY2FuY2VsUmVzZXRDbGlja0NvdW50XygpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGluUG9pbnRlciBUaGUgaW4gcG9pbnRlciBvYmplY3QuXG4gICAqL1xuICBUb3VjaFNvdXJjZS5wcm90b3R5cGUucmVtb3ZlUHJpbWFyeVBvaW50ZXJfID0gZnVuY3Rpb24gcmVtb3ZlUHJpbWFyeVBvaW50ZXJfIChpblBvaW50ZXIpIHtcbiAgICBpZiAoaW5Qb2ludGVyLmlzUHJpbWFyeSkge1xuICAgICAgdGhpcy5maXJzdFRvdWNoSWRfID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5yZXNldENsaWNrQ291bnRfKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgVG91Y2hTb3VyY2UucHJvdG90eXBlLnJlc2V0Q2xpY2tDb3VudF8gPSBmdW5jdGlvbiByZXNldENsaWNrQ291bnRfICgpIHtcbiAgICB0aGlzLnJlc2V0SWRfID0gc2V0VGltZW91dChcbiAgICAgIHRoaXMucmVzZXRDbGlja0NvdW50SGFuZGxlcl8uYmluZCh0aGlzKSxcbiAgICAgIENMSUNLX0NPVU5UX1RJTUVPVVQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgVG91Y2hTb3VyY2UucHJvdG90eXBlLnJlc2V0Q2xpY2tDb3VudEhhbmRsZXJfID0gZnVuY3Rpb24gcmVzZXRDbGlja0NvdW50SGFuZGxlcl8gKCkge1xuICAgIHRoaXMuY2xpY2tDb3VudF8gPSAwO1xuICAgIHRoaXMucmVzZXRJZF8gPSB1bmRlZmluZWQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBUb3VjaFNvdXJjZS5wcm90b3R5cGUuY2FuY2VsUmVzZXRDbGlja0NvdW50XyA9IGZ1bmN0aW9uIGNhbmNlbFJlc2V0Q2xpY2tDb3VudF8gKCkge1xuICAgIGlmICh0aGlzLnJlc2V0SWRfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnJlc2V0SWRfKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7VG91Y2hFdmVudH0gYnJvd3NlckV2ZW50IEJyb3dzZXIgZXZlbnRcbiAgICogQHBhcmFtIHtUb3VjaH0gaW5Ub3VjaCBUb3VjaCBldmVudFxuICAgKiBAcmV0dXJuIHtQb2ludGVyRXZlbnR9IEEgcG9pbnRlciBvYmplY3QuXG4gICAqL1xuICBUb3VjaFNvdXJjZS5wcm90b3R5cGUudG91Y2hUb1BvaW50ZXJfID0gZnVuY3Rpb24gdG91Y2hUb1BvaW50ZXJfIChicm93c2VyRXZlbnQsIGluVG91Y2gpIHtcbiAgICB2YXIgZSA9IHRoaXMuZGlzcGF0Y2hlci5jbG9uZUV2ZW50KGJyb3dzZXJFdmVudCwgaW5Ub3VjaCk7XG4gICAgLy8gU3BlYyBzcGVjaWZpZXMgdGhhdCBwb2ludGVySWQgMSBpcyByZXNlcnZlZCBmb3IgTW91c2UuXG4gICAgLy8gVG91Y2ggaWRlbnRpZmllcnMgY2FuIHN0YXJ0IGF0IDAuXG4gICAgLy8gQWRkIDIgdG8gdGhlIHRvdWNoIGlkZW50aWZpZXIgZm9yIGNvbXBhdGliaWxpdHkuXG4gICAgZS5wb2ludGVySWQgPSBpblRvdWNoLmlkZW50aWZpZXIgKyAyO1xuICAgIC8vIFRPRE86IGNoZWNrIGlmIHRoaXMgaXMgbmVjZXNzYXJ5P1xuICAgIC8vZS50YXJnZXQgPSBmaW5kVGFyZ2V0KGUpO1xuICAgIGUuYnViYmxlcyA9IHRydWU7XG4gICAgZS5jYW5jZWxhYmxlID0gdHJ1ZTtcbiAgICBlLmRldGFpbCA9IHRoaXMuY2xpY2tDb3VudF87XG4gICAgZS5idXR0b24gPSAwO1xuICAgIGUuYnV0dG9ucyA9IDE7XG4gICAgZS53aWR0aCA9IGluVG91Y2gucmFkaXVzWCB8fCAwO1xuICAgIGUuaGVpZ2h0ID0gaW5Ub3VjaC5yYWRpdXNZIHx8IDA7XG4gICAgZS5wcmVzc3VyZSA9IGluVG91Y2guZm9yY2UgfHwgMC41O1xuICAgIGUuaXNQcmltYXJ5ID0gdGhpcy5pc1ByaW1hcnlUb3VjaF8oaW5Ub3VjaCk7XG4gICAgZS5wb2ludGVyVHlwZSA9IFBPSU5URVJfVFlQRTtcblxuICAgIC8vIG1ha2Ugc3VyZSB0aGF0IHRoZSBwcm9wZXJ0aWVzIHRoYXQgYXJlIGRpZmZlcmVudCBmb3JcbiAgICAvLyBlYWNoIGBUb3VjaGAgb2JqZWN0IGFyZSBub3QgY29waWVkIGZyb20gdGhlIEJyb3dzZXJFdmVudCBvYmplY3RcbiAgICBlLmNsaWVudFggPSBpblRvdWNoLmNsaWVudFg7XG4gICAgZS5jbGllbnRZID0gaW5Ub3VjaC5jbGllbnRZO1xuICAgIGUuc2NyZWVuWCA9IGluVG91Y2guc2NyZWVuWDtcbiAgICBlLnNjcmVlblkgPSBpblRvdWNoLnNjcmVlblk7XG5cbiAgICByZXR1cm4gZTtcbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtUb3VjaEV2ZW50fSBpbkV2ZW50IFRvdWNoIGV2ZW50XG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oVG91Y2hFdmVudCwgUG9pbnRlckV2ZW50KX0gaW5GdW5jdGlvbiBJbiBmdW5jdGlvbi5cbiAgICovXG4gIFRvdWNoU291cmNlLnByb3RvdHlwZS5wcm9jZXNzVG91Y2hlc18gPSBmdW5jdGlvbiBwcm9jZXNzVG91Y2hlc18gKGluRXZlbnQsIGluRnVuY3Rpb24pIHtcbiAgICB2YXIgdG91Y2hlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGluRXZlbnQuY2hhbmdlZFRvdWNoZXMpO1xuICAgIHZhciBjb3VudCA9IHRvdWNoZXMubGVuZ3RoO1xuICAgIGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KCkge1xuICAgICAgaW5FdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyArK2kpIHtcbiAgICAgIHZhciBwb2ludGVyID0gdGhpcy50b3VjaFRvUG9pbnRlcl8oaW5FdmVudCwgdG91Y2hlc1tpXSk7XG4gICAgICAvLyBmb3J3YXJkIHRvdWNoIHByZXZlbnREZWZhdWx0c1xuICAgICAgcG9pbnRlci5wcmV2ZW50RGVmYXVsdCA9IHByZXZlbnREZWZhdWx0O1xuICAgICAgaW5GdW5jdGlvbi5jYWxsKHRoaXMsIGluRXZlbnQsIHBvaW50ZXIpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtUb3VjaExpc3R9IHRvdWNoTGlzdCBUaGUgdG91Y2ggbGlzdC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHNlYXJjaElkIFNlYXJjaCBpZGVudGlmaWVyLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlLCBpZiB0aGUgYFRvdWNoYCB3aXRoIHRoZSBnaXZlbiBpZCBpcyBpbiB0aGUgbGlzdC5cbiAgICovXG4gIFRvdWNoU291cmNlLnByb3RvdHlwZS5maW5kVG91Y2hfID0gZnVuY3Rpb24gZmluZFRvdWNoXyAodG91Y2hMaXN0LCBzZWFyY2hJZCkge1xuICAgIHZhciBsID0gdG91Y2hMaXN0Lmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIHRvdWNoID0gdG91Y2hMaXN0W2ldO1xuICAgICAgaWYgKHRvdWNoLmlkZW50aWZpZXIgPT09IHNlYXJjaElkKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIEluIHNvbWUgaW5zdGFuY2VzLCBhIHRvdWNoc3RhcnQgY2FuIGhhcHBlbiB3aXRob3V0IGEgdG91Y2hlbmQuIFRoaXNcbiAgICogbGVhdmVzIHRoZSBwb2ludGVybWFwIGluIGEgYnJva2VuIHN0YXRlLlxuICAgKiBUaGVyZWZvcmUsIG9uIGV2ZXJ5IHRvdWNoc3RhcnQsIHdlIHJlbW92ZSB0aGUgdG91Y2hlcyB0aGF0IGRpZCBub3QgZmlyZSBhXG4gICAqIHRvdWNoZW5kIGV2ZW50LlxuICAgKiBUbyBrZWVwIHN0YXRlIGdsb2JhbGx5IGNvbnNpc3RlbnQsIHdlIGZpcmUgYSBwb2ludGVyY2FuY2VsIGZvclxuICAgKiB0aGlzIFwiYWJhbmRvbmVkXCIgdG91Y2hcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtUb3VjaEV2ZW50fSBpbkV2ZW50IFRoZSBpbiBldmVudC5cbiAgICovXG4gIFRvdWNoU291cmNlLnByb3RvdHlwZS52YWN1dW1Ub3VjaGVzXyA9IGZ1bmN0aW9uIHZhY3V1bVRvdWNoZXNfIChpbkV2ZW50KSB7XG4gICAgdmFyIHRvdWNoTGlzdCA9IGluRXZlbnQudG91Y2hlcztcbiAgICAvLyBwb2ludGVyTWFwLmdldENvdW50KCkgc2hvdWxkIGJlIDwgdG91Y2hMaXN0Lmxlbmd0aCBoZXJlLFxuICAgIC8vIGFzIHRoZSB0b3VjaHN0YXJ0IGhhcyBub3QgYmVlbiBwcm9jZXNzZWQgeWV0LlxuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXModGhpcy5wb2ludGVyTWFwKTtcbiAgICB2YXIgY291bnQgPSBrZXlzLmxlbmd0aDtcbiAgICBpZiAoY291bnQgPj0gdG91Y2hMaXN0Lmxlbmd0aCkge1xuICAgICAgdmFyIGQgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7ICsraSkge1xuICAgICAgICB2YXIga2V5ID0gTnVtYmVyKGtleXNbaV0pO1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnBvaW50ZXJNYXBba2V5XTtcbiAgICAgICAgLy8gTmV2ZXIgcmVtb3ZlIHBvaW50ZXJJZCA9PSAxLCB3aGljaCBpcyBtb3VzZS5cbiAgICAgICAgLy8gVG91Y2ggaWRlbnRpZmllcnMgYXJlIDIgc21hbGxlciB0aGFuIHRoZWlyIHBvaW50ZXJJZCwgd2hpY2ggaXMgdGhlXG4gICAgICAgIC8vIGluZGV4IGluIHBvaW50ZXJtYXAuXG4gICAgICAgIGlmIChrZXkgIT0gUE9JTlRFUl9JRCAmJiAhdGhpcy5maW5kVG91Y2hfKHRvdWNoTGlzdCwga2V5IC0gMikpIHtcbiAgICAgICAgICBkLnB1c2godmFsdWUub3V0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgZC5sZW5ndGg7ICsraSQxKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsT3V0XyhpbkV2ZW50LCBkW2kkMV0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtUb3VjaEV2ZW50fSBicm93c2VyRXZlbnQgVGhlIGV2ZW50LlxuICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gaW5Qb2ludGVyIFRoZSBpbiBwb2ludGVyIG9iamVjdC5cbiAgICovXG4gIFRvdWNoU291cmNlLnByb3RvdHlwZS5vdmVyRG93bl8gPSBmdW5jdGlvbiBvdmVyRG93bl8gKGJyb3dzZXJFdmVudCwgaW5Qb2ludGVyKSB7XG4gICAgdGhpcy5wb2ludGVyTWFwW2luUG9pbnRlci5wb2ludGVySWRdID0ge1xuICAgICAgdGFyZ2V0OiBpblBvaW50ZXIudGFyZ2V0LFxuICAgICAgb3V0OiBpblBvaW50ZXIsXG4gICAgICBvdXRUYXJnZXQ6IGluUG9pbnRlci50YXJnZXRcbiAgICB9O1xuICAgIHRoaXMuZGlzcGF0Y2hlci5vdmVyKGluUG9pbnRlciwgYnJvd3NlckV2ZW50KTtcbiAgICB0aGlzLmRpc3BhdGNoZXIuZW50ZXIoaW5Qb2ludGVyLCBicm93c2VyRXZlbnQpO1xuICAgIHRoaXMuZGlzcGF0Y2hlci5kb3duKGluUG9pbnRlciwgYnJvd3NlckV2ZW50KTtcbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtUb3VjaEV2ZW50fSBicm93c2VyRXZlbnQgVGhlIGV2ZW50LlxuICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gaW5Qb2ludGVyIFRoZSBpbiBwb2ludGVyLlxuICAgKi9cbiAgVG91Y2hTb3VyY2UucHJvdG90eXBlLm1vdmVPdmVyT3V0XyA9IGZ1bmN0aW9uIG1vdmVPdmVyT3V0XyAoYnJvd3NlckV2ZW50LCBpblBvaW50ZXIpIHtcbiAgICB2YXIgZXZlbnQgPSBpblBvaW50ZXI7XG4gICAgdmFyIHBvaW50ZXIgPSB0aGlzLnBvaW50ZXJNYXBbZXZlbnQucG9pbnRlcklkXTtcbiAgICAvLyBhIGZpbmdlciBkcmlmdGVkIG9mZiB0aGUgc2NyZWVuLCBpZ25vcmUgaXRcbiAgICBpZiAoIXBvaW50ZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG91dEV2ZW50ID0gcG9pbnRlci5vdXQ7XG4gICAgdmFyIG91dFRhcmdldCA9IHBvaW50ZXIub3V0VGFyZ2V0O1xuICAgIHRoaXMuZGlzcGF0Y2hlci5tb3ZlKGV2ZW50LCBicm93c2VyRXZlbnQpO1xuICAgIGlmIChvdXRFdmVudCAmJiBvdXRUYXJnZXQgIT09IGV2ZW50LnRhcmdldCkge1xuICAgICAgb3V0RXZlbnQucmVsYXRlZFRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIC8qKiBAdHlwZSB7T2JqZWN0fSAqLyAoZXZlbnQpLnJlbGF0ZWRUYXJnZXQgPSBvdXRUYXJnZXQ7XG4gICAgICAvLyByZWNvdmVyIGZyb20gcmV0YXJnZXRpbmcgYnkgc2hhZG93XG4gICAgICBvdXRFdmVudC50YXJnZXQgPSBvdXRUYXJnZXQ7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlci5sZWF2ZU91dChvdXRFdmVudCwgYnJvd3NlckV2ZW50KTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLmVudGVyT3ZlcihldmVudCwgYnJvd3NlckV2ZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNsZWFuIHVwIGNhc2Ugd2hlbiBmaW5nZXIgbGVhdmVzIHRoZSBzY3JlZW5cbiAgICAgICAgLyoqIEB0eXBlIHtPYmplY3R9ICovIChldmVudCkudGFyZ2V0ID0gb3V0VGFyZ2V0O1xuICAgICAgICAvKiogQHR5cGUge09iamVjdH0gKi8gKGV2ZW50KS5yZWxhdGVkVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jYW5jZWxPdXRfKGJyb3dzZXJFdmVudCwgZXZlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICBwb2ludGVyLm91dCA9IGV2ZW50O1xuICAgIHBvaW50ZXIub3V0VGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1RvdWNoRXZlbnR9IGJyb3dzZXJFdmVudCBBbiBldmVudC5cbiAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGluUG9pbnRlciBUaGUgaW5Qb2ludGVyIG9iamVjdC5cbiAgICovXG4gIFRvdWNoU291cmNlLnByb3RvdHlwZS51cE91dF8gPSBmdW5jdGlvbiB1cE91dF8gKGJyb3dzZXJFdmVudCwgaW5Qb2ludGVyKSB7XG4gICAgdGhpcy5kaXNwYXRjaGVyLnVwKGluUG9pbnRlciwgYnJvd3NlckV2ZW50KTtcbiAgICB0aGlzLmRpc3BhdGNoZXIub3V0KGluUG9pbnRlciwgYnJvd3NlckV2ZW50KTtcbiAgICB0aGlzLmRpc3BhdGNoZXIubGVhdmUoaW5Qb2ludGVyLCBicm93c2VyRXZlbnQpO1xuICAgIHRoaXMuY2xlYW5VcFBvaW50ZXJfKGluUG9pbnRlcik7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7VG91Y2hFdmVudH0gYnJvd3NlckV2ZW50IFRoZSBldmVudC5cbiAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGluUG9pbnRlciBUaGUgaW4gcG9pbnRlci5cbiAgICovXG4gIFRvdWNoU291cmNlLnByb3RvdHlwZS5jYW5jZWxPdXRfID0gZnVuY3Rpb24gY2FuY2VsT3V0XyAoYnJvd3NlckV2ZW50LCBpblBvaW50ZXIpIHtcbiAgICB0aGlzLmRpc3BhdGNoZXIuY2FuY2VsKGluUG9pbnRlciwgYnJvd3NlckV2ZW50KTtcbiAgICB0aGlzLmRpc3BhdGNoZXIub3V0KGluUG9pbnRlciwgYnJvd3NlckV2ZW50KTtcbiAgICB0aGlzLmRpc3BhdGNoZXIubGVhdmUoaW5Qb2ludGVyLCBicm93c2VyRXZlbnQpO1xuICAgIHRoaXMuY2xlYW5VcFBvaW50ZXJfKGluUG9pbnRlcik7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBpblBvaW50ZXIgVGhlIGluUG9pbnRlciBvYmplY3QuXG4gICAqL1xuICBUb3VjaFNvdXJjZS5wcm90b3R5cGUuY2xlYW5VcFBvaW50ZXJfID0gZnVuY3Rpb24gY2xlYW5VcFBvaW50ZXJfIChpblBvaW50ZXIpIHtcbiAgICBkZWxldGUgdGhpcy5wb2ludGVyTWFwW2luUG9pbnRlci5wb2ludGVySWRdO1xuICAgIHRoaXMucmVtb3ZlUHJpbWFyeVBvaW50ZXJfKGluUG9pbnRlcik7XG4gIH07XG5cbiAgLyoqXG4gICAqIFByZXZlbnQgc3ludGggbW91c2UgZXZlbnRzIGZyb20gY3JlYXRpbmcgcG9pbnRlciBldmVudHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7VG91Y2hFdmVudH0gaW5FdmVudCBUaGUgaW4gZXZlbnQuXG4gICAqL1xuICBUb3VjaFNvdXJjZS5wcm90b3R5cGUuZGVkdXBTeW50aE1vdXNlXyA9IGZ1bmN0aW9uIGRlZHVwU3ludGhNb3VzZV8gKGluRXZlbnQpIHtcbiAgICB2YXIgbHRzID0gdGhpcy5tb3VzZVNvdXJjZS5sYXN0VG91Y2hlcztcbiAgICB2YXIgdCA9IGluRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF07XG4gICAgLy8gb25seSB0aGUgcHJpbWFyeSBmaW5nZXIgd2lsbCBzeW50aCBtb3VzZSBldmVudHNcbiAgICBpZiAodGhpcy5pc1ByaW1hcnlUb3VjaF8odCkpIHtcbiAgICAgIC8vIHJlbWVtYmVyIHgveSBvZiBsYXN0IHRvdWNoXG4gICAgICB2YXIgbHQgPSBbdC5jbGllbnRYLCB0LmNsaWVudFldO1xuICAgICAgbHRzLnB1c2gobHQpO1xuXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyByZW1vdmUgdG91Y2ggYWZ0ZXIgdGltZW91dFxuICAgICAgICByZW1vdmUobHRzLCBsdCk7XG4gICAgICB9LCB0aGlzLmRlZHVwVGltZW91dF8pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gVG91Y2hTb3VyY2U7XG59KEV2ZW50U291cmNlKSk7XG5cbmV4cG9ydCBkZWZhdWx0IFRvdWNoU291cmNlO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ub3VjaFNvdXJjZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcG9pbnRlci9Qb2ludGVyRXZlbnRIYW5kbGVyXG4gKi9cblxuLy8gQmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL1BvbHltZXIvUG9pbnRlckV2ZW50c1xuXG4vLyBDb3B5cmlnaHQgKGMpIDIwMTMgVGhlIFBvbHltZXIgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vXG4vLyBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbi8vIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmVcbi8vIG1ldDpcbi8vXG4vLyAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XG4vLyBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4vLyAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmVcbi8vIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXJcbi8vIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGVcbi8vIGRpc3RyaWJ1dGlvbi5cbi8vICogTmVpdGhlciB0aGUgbmFtZSBvZiBHb29nbGUgSW5jLiBub3IgdGhlIG5hbWVzIG9mIGl0c1xuLy8gY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb21cbi8vIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4vL1xuLy8gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xuLy8gXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxuLy8gTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXG4vLyBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxuLy8gT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXG4vLyBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UXG4vLyBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSxcbi8vIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWVxuLy8gVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxuLy8gKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFXG4vLyBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuXG5pbXBvcnQge2xpc3RlbiwgdW5saXN0ZW59IGZyb20gJy4uL2V2ZW50cy5qcyc7XG5pbXBvcnQgRXZlbnRUYXJnZXQgZnJvbSAnLi4vZXZlbnRzL1RhcmdldC5qcyc7XG5pbXBvcnQge1BPSU5URVIsIE1TUE9JTlRFUiwgVE9VQ0h9IGZyb20gJy4uL2hhcy5qcyc7XG5pbXBvcnQgUG9pbnRlckV2ZW50VHlwZSBmcm9tICcuL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgTW91c2VTb3VyY2UsIHtwcmVwYXJlRXZlbnQgYXMgcHJlcGFyZU1vdXNlRXZlbnR9IGZyb20gJy4vTW91c2VTb3VyY2UuanMnO1xuaW1wb3J0IE1zU291cmNlIGZyb20gJy4vTXNTb3VyY2UuanMnO1xuaW1wb3J0IE5hdGl2ZVNvdXJjZSBmcm9tICcuL05hdGl2ZVNvdXJjZS5qcyc7XG5pbXBvcnQgUG9pbnRlckV2ZW50IGZyb20gJy4vUG9pbnRlckV2ZW50LmpzJztcbmltcG9ydCBUb3VjaFNvdXJjZSBmcm9tICcuL1RvdWNoU291cmNlLmpzJztcblxuXG4vKipcbiAqIFByb3BlcnRpZXMgdG8gY29weSB3aGVuIGNsb25pbmcgYW4gZXZlbnQsIHdpdGggZGVmYXVsdCB2YWx1ZXMuXG4gKiBAdHlwZSB7QXJyYXk8QXJyYXk+fVxuICovXG52YXIgQ0xPTkVfUFJPUFMgPSBbXG4gIC8vIE1vdXNlRXZlbnRcbiAgWydidWJibGVzJywgZmFsc2VdLFxuICBbJ2NhbmNlbGFibGUnLCBmYWxzZV0sXG4gIFsndmlldycsIG51bGxdLFxuICBbJ2RldGFpbCcsIG51bGxdLFxuICBbJ3NjcmVlblgnLCAwXSxcbiAgWydzY3JlZW5ZJywgMF0sXG4gIFsnY2xpZW50WCcsIDBdLFxuICBbJ2NsaWVudFknLCAwXSxcbiAgWydjdHJsS2V5JywgZmFsc2VdLFxuICBbJ2FsdEtleScsIGZhbHNlXSxcbiAgWydzaGlmdEtleScsIGZhbHNlXSxcbiAgWydtZXRhS2V5JywgZmFsc2VdLFxuICBbJ2J1dHRvbicsIDBdLFxuICBbJ3JlbGF0ZWRUYXJnZXQnLCBudWxsXSxcbiAgLy8gRE9NIExldmVsIDNcbiAgWydidXR0b25zJywgMF0sXG4gIC8vIFBvaW50ZXJFdmVudFxuICBbJ3BvaW50ZXJJZCcsIDBdLFxuICBbJ3dpZHRoJywgMF0sXG4gIFsnaGVpZ2h0JywgMF0sXG4gIFsncHJlc3N1cmUnLCAwXSxcbiAgWyd0aWx0WCcsIDBdLFxuICBbJ3RpbHRZJywgMF0sXG4gIFsncG9pbnRlclR5cGUnLCAnJ10sXG4gIFsnaHdUaW1lc3RhbXAnLCAwXSxcbiAgWydpc1ByaW1hcnknLCBmYWxzZV0sXG4gIC8vIGV2ZW50IGluc3RhbmNlXG4gIFsndHlwZScsICcnXSxcbiAgWyd0YXJnZXQnLCBudWxsXSxcbiAgWydjdXJyZW50VGFyZ2V0JywgbnVsbF0sXG4gIFsnd2hpY2gnLCAwXVxuXTtcblxuXG52YXIgUG9pbnRlckV2ZW50SGFuZGxlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEV2ZW50VGFyZ2V0KSB7XG4gIGZ1bmN0aW9uIFBvaW50ZXJFdmVudEhhbmRsZXIoZWxlbWVudCkge1xuICAgIEV2ZW50VGFyZ2V0LmNhbGwodGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBAY29uc3RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtFbGVtZW50fEhUTUxEb2N1bWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmVsZW1lbnRfID0gZWxlbWVudDtcblxuICAgIC8qKlxuICAgICAqIEBjb25zdFxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgRXZlbnR8T2JqZWN0Pn1cbiAgICAgKi9cbiAgICB0aGlzLnBvaW50ZXJNYXAgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBmdW5jdGlvbihFdmVudCk+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5ldmVudE1hcF8gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuL0V2ZW50U291cmNlLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5ldmVudFNvdXJjZUxpc3RfID0gW107XG5cbiAgICB0aGlzLnJlZ2lzdGVyU291cmNlcygpO1xuICB9XG5cbiAgaWYgKCBFdmVudFRhcmdldCApIFBvaW50ZXJFdmVudEhhbmRsZXIuX19wcm90b19fID0gRXZlbnRUYXJnZXQ7XG4gIFBvaW50ZXJFdmVudEhhbmRsZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZlbnRUYXJnZXQgJiYgRXZlbnRUYXJnZXQucHJvdG90eXBlICk7XG4gIFBvaW50ZXJFdmVudEhhbmRsZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUG9pbnRlckV2ZW50SGFuZGxlcjtcblxuICAvKipcbiAgICogU2V0IHVwIHRoZSBldmVudCBzb3VyY2VzIChtb3VzZSwgdG91Y2ggYW5kIG5hdGl2ZSBwb2ludGVycylcbiAgICogdGhhdCBnZW5lcmF0ZSBwb2ludGVyIGV2ZW50cy5cbiAgICovXG4gIFBvaW50ZXJFdmVudEhhbmRsZXIucHJvdG90eXBlLnJlZ2lzdGVyU291cmNlcyA9IGZ1bmN0aW9uIHJlZ2lzdGVyU291cmNlcyAoKSB7XG4gICAgaWYgKFBPSU5URVIpIHtcbiAgICAgIHRoaXMucmVnaXN0ZXJTb3VyY2UoJ25hdGl2ZScsIG5ldyBOYXRpdmVTb3VyY2UodGhpcykpO1xuICAgIH0gZWxzZSBpZiAoTVNQT0lOVEVSKSB7XG4gICAgICB0aGlzLnJlZ2lzdGVyU291cmNlKCdtcycsIG5ldyBNc1NvdXJjZSh0aGlzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBtb3VzZVNvdXJjZSA9IG5ldyBNb3VzZVNvdXJjZSh0aGlzKTtcbiAgICAgIHRoaXMucmVnaXN0ZXJTb3VyY2UoJ21vdXNlJywgbW91c2VTb3VyY2UpO1xuXG4gICAgICBpZiAoVE9VQ0gpIHtcbiAgICAgICAgdGhpcy5yZWdpc3RlclNvdXJjZSgndG91Y2gnLCBuZXcgVG91Y2hTb3VyY2UodGhpcywgbW91c2VTb3VyY2UpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyByZWdpc3RlciBldmVudHMgb24gdGhlIHZpZXdwb3J0IGVsZW1lbnRcbiAgICB0aGlzLnJlZ2lzdGVyXygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBZGQgYSBuZXcgZXZlbnQgc291cmNlIHRoYXQgd2lsbCBnZW5lcmF0ZSBwb2ludGVyIGV2ZW50cy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgQSBuYW1lIGZvciB0aGUgZXZlbnQgc291cmNlXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9FdmVudFNvdXJjZS5qc1wiKS5kZWZhdWx0fSBzb3VyY2UgVGhlIHNvdXJjZSBldmVudC5cbiAgICovXG4gIFBvaW50ZXJFdmVudEhhbmRsZXIucHJvdG90eXBlLnJlZ2lzdGVyU291cmNlID0gZnVuY3Rpb24gcmVnaXN0ZXJTb3VyY2UgKG5hbWUsIHNvdXJjZSkge1xuICAgIHZhciBzID0gc291cmNlO1xuICAgIHZhciBuZXdFdmVudHMgPSBzLmdldEV2ZW50cygpO1xuXG4gICAgaWYgKG5ld0V2ZW50cykge1xuICAgICAgbmV3RXZlbnRzLmZvckVhY2goZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgaGFuZGxlciA9IHMuZ2V0SGFuZGxlckZvckV2ZW50KGUpO1xuXG4gICAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgICAgdGhpcy5ldmVudE1hcF9bZV0gPSBoYW5kbGVyLmJpbmQocyk7XG4gICAgICAgIH1cbiAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICB0aGlzLmV2ZW50U291cmNlTGlzdF8ucHVzaChzKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB1cCB0aGUgZXZlbnRzIGZvciBhbGwgcmVnaXN0ZXJlZCBldmVudCBzb3VyY2VzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgUG9pbnRlckV2ZW50SGFuZGxlci5wcm90b3R5cGUucmVnaXN0ZXJfID0gZnVuY3Rpb24gcmVnaXN0ZXJfICgpIHtcbiAgICB2YXIgbCA9IHRoaXMuZXZlbnRTb3VyY2VMaXN0Xy5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBldmVudFNvdXJjZSA9IHRoaXMuZXZlbnRTb3VyY2VMaXN0X1tpXTtcbiAgICAgIHRoaXMuYWRkRXZlbnRzXyhldmVudFNvdXJjZS5nZXRFdmVudHMoKSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgYWxsIHJlZ2lzdGVyZWQgZXZlbnRzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgUG9pbnRlckV2ZW50SGFuZGxlci5wcm90b3R5cGUudW5yZWdpc3Rlcl8gPSBmdW5jdGlvbiB1bnJlZ2lzdGVyXyAoKSB7XG4gICAgdmFyIGwgPSB0aGlzLmV2ZW50U291cmNlTGlzdF8ubGVuZ3RoO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgZXZlbnRTb3VyY2UgPSB0aGlzLmV2ZW50U291cmNlTGlzdF9baV07XG4gICAgICB0aGlzLnJlbW92ZUV2ZW50c18oZXZlbnRTb3VyY2UuZ2V0RXZlbnRzKCkpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQ2FsbHMgdGhlIHJpZ2h0IGhhbmRsZXIgZm9yIGEgbmV3IGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0V2ZW50fSBpbkV2ZW50IEJyb3dzZXIgZXZlbnQuXG4gICAqL1xuICBQb2ludGVyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5ldmVudEhhbmRsZXJfID0gZnVuY3Rpb24gZXZlbnRIYW5kbGVyXyAoaW5FdmVudCkge1xuICAgIHZhciB0eXBlID0gaW5FdmVudC50eXBlO1xuICAgIHZhciBoYW5kbGVyID0gdGhpcy5ldmVudE1hcF9bdHlwZV07XG4gICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgIGhhbmRsZXIoaW5FdmVudCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBTZXR1cCBsaXN0ZW5lcnMgZm9yIHRoZSBnaXZlbiBldmVudHMuXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gZXZlbnRzIExpc3Qgb2YgZXZlbnRzLlxuICAgKi9cbiAgUG9pbnRlckV2ZW50SGFuZGxlci5wcm90b3R5cGUuYWRkRXZlbnRzXyA9IGZ1bmN0aW9uIGFkZEV2ZW50c18gKGV2ZW50cykge1xuICAgIGV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50TmFtZSkge1xuICAgICAgbGlzdGVuKHRoaXMuZWxlbWVudF8sIGV2ZW50TmFtZSwgdGhpcy5ldmVudEhhbmRsZXJfLCB0aGlzKTtcbiAgICB9LmJpbmQodGhpcykpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVbnJlZ2lzdGVyIGxpc3RlbmVycyBmb3IgdGhlIGdpdmVuIGV2ZW50cy5cbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBldmVudHMgTGlzdCBvZiBldmVudHMuXG4gICAqL1xuICBQb2ludGVyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5yZW1vdmVFdmVudHNfID0gZnVuY3Rpb24gcmVtb3ZlRXZlbnRzXyAoZXZlbnRzKSB7XG4gICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24oZSkge1xuICAgICAgdW5saXN0ZW4odGhpcy5lbGVtZW50XywgZSwgdGhpcy5ldmVudEhhbmRsZXJfLCB0aGlzKTtcbiAgICB9LmJpbmQodGhpcykpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc25hcHNob3Qgb2YgaW5FdmVudCwgd2l0aCB3cml0YWJsZSBwcm9wZXJ0aWVzLlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBCcm93c2VyIGV2ZW50LlxuICAgKiBAcGFyYW0ge0V2ZW50fFRvdWNofSBpbkV2ZW50IEFuIGV2ZW50IHRoYXQgY29udGFpbnNcbiAgICogICAgcHJvcGVydGllcyB0byBjb3B5LlxuICAgKiBAcmV0dXJuIHtPYmplY3R9IEFuIG9iamVjdCBjb250YWluaW5nIHNoYWxsb3cgY29waWVzIG9mXG4gICAqICAgIGBpbkV2ZW50YCdzIHByb3BlcnRpZXMuXG4gICAqL1xuICBQb2ludGVyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5jbG9uZUV2ZW50ID0gZnVuY3Rpb24gY2xvbmVFdmVudCAoZXZlbnQsIGluRXZlbnQpIHtcbiAgICB2YXIgZXZlbnRDb3B5ID0ge307XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gQ0xPTkVfUFJPUFMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgdmFyIHAgPSBDTE9ORV9QUk9QU1tpXVswXTtcbiAgICAgIGV2ZW50Q29weVtwXSA9IGV2ZW50W3BdIHx8IGluRXZlbnRbcF0gfHwgQ0xPTkVfUFJPUFNbaV1bMV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGV2ZW50Q29weTtcbiAgfTtcblxuICAvLyBFVkVOVFNcblxuXG4gIC8qKlxuICAgKiBUcmlnZ2VycyBhICdwb2ludGVyZG93bicgZXZlbnQuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIFBvaW50ZXIgZXZlbnQgZGF0YS5cbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgVGhlIGV2ZW50LlxuICAgKi9cbiAgUG9pbnRlckV2ZW50SGFuZGxlci5wcm90b3R5cGUuZG93biA9IGZ1bmN0aW9uIGRvd24gKGRhdGEsIGV2ZW50KSB7XG4gICAgdGhpcy5maXJlRXZlbnQoUG9pbnRlckV2ZW50VHlwZS5QT0lOVEVSRE9XTiwgZGF0YSwgZXZlbnQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUcmlnZ2VycyBhICdwb2ludGVybW92ZScgZXZlbnQuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIFBvaW50ZXIgZXZlbnQgZGF0YS5cbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgVGhlIGV2ZW50LlxuICAgKi9cbiAgUG9pbnRlckV2ZW50SGFuZGxlci5wcm90b3R5cGUubW92ZSA9IGZ1bmN0aW9uIG1vdmUgKGRhdGEsIGV2ZW50KSB7XG4gICAgdGhpcy5maXJlRXZlbnQoUG9pbnRlckV2ZW50VHlwZS5QT0lOVEVSTU9WRSwgZGF0YSwgZXZlbnQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUcmlnZ2VycyBhICdwb2ludGVydXAnIGV2ZW50LlxuICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBQb2ludGVyIGV2ZW50IGRhdGEuXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IFRoZSBldmVudC5cbiAgICovXG4gIFBvaW50ZXJFdmVudEhhbmRsZXIucHJvdG90eXBlLnVwID0gZnVuY3Rpb24gdXAgKGRhdGEsIGV2ZW50KSB7XG4gICAgdGhpcy5maXJlRXZlbnQoUG9pbnRlckV2ZW50VHlwZS5QT0lOVEVSVVAsIGRhdGEsIGV2ZW50KTtcbiAgfTtcblxuICAvKipcbiAgICogVHJpZ2dlcnMgYSAncG9pbnRlcmVudGVyJyBldmVudC5cbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgUG9pbnRlciBldmVudCBkYXRhLlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBUaGUgZXZlbnQuXG4gICAqL1xuICBQb2ludGVyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5lbnRlciA9IGZ1bmN0aW9uIGVudGVyIChkYXRhLCBldmVudCkge1xuICAgIGRhdGEuYnViYmxlcyA9IGZhbHNlO1xuICAgIHRoaXMuZmlyZUV2ZW50KFBvaW50ZXJFdmVudFR5cGUuUE9JTlRFUkVOVEVSLCBkYXRhLCBldmVudCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRyaWdnZXJzIGEgJ3BvaW50ZXJsZWF2ZScgZXZlbnQuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIFBvaW50ZXIgZXZlbnQgZGF0YS5cbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgVGhlIGV2ZW50LlxuICAgKi9cbiAgUG9pbnRlckV2ZW50SGFuZGxlci5wcm90b3R5cGUubGVhdmUgPSBmdW5jdGlvbiBsZWF2ZSAoZGF0YSwgZXZlbnQpIHtcbiAgICBkYXRhLmJ1YmJsZXMgPSBmYWxzZTtcbiAgICB0aGlzLmZpcmVFdmVudChQb2ludGVyRXZlbnRUeXBlLlBPSU5URVJMRUFWRSwgZGF0YSwgZXZlbnQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUcmlnZ2VycyBhICdwb2ludGVyb3ZlcicgZXZlbnQuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIFBvaW50ZXIgZXZlbnQgZGF0YS5cbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgVGhlIGV2ZW50LlxuICAgKi9cbiAgUG9pbnRlckV2ZW50SGFuZGxlci5wcm90b3R5cGUub3ZlciA9IGZ1bmN0aW9uIG92ZXIgKGRhdGEsIGV2ZW50KSB7XG4gICAgZGF0YS5idWJibGVzID0gdHJ1ZTtcbiAgICB0aGlzLmZpcmVFdmVudChQb2ludGVyRXZlbnRUeXBlLlBPSU5URVJPVkVSLCBkYXRhLCBldmVudCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRyaWdnZXJzIGEgJ3BvaW50ZXJvdXQnIGV2ZW50LlxuICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBQb2ludGVyIGV2ZW50IGRhdGEuXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IFRoZSBldmVudC5cbiAgICovXG4gIFBvaW50ZXJFdmVudEhhbmRsZXIucHJvdG90eXBlLm91dCA9IGZ1bmN0aW9uIG91dCAoZGF0YSwgZXZlbnQpIHtcbiAgICBkYXRhLmJ1YmJsZXMgPSB0cnVlO1xuICAgIHRoaXMuZmlyZUV2ZW50KFBvaW50ZXJFdmVudFR5cGUuUE9JTlRFUk9VVCwgZGF0YSwgZXZlbnQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUcmlnZ2VycyBhICdwb2ludGVyY2FuY2VsJyBldmVudC5cbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgUG9pbnRlciBldmVudCBkYXRhLlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBUaGUgZXZlbnQuXG4gICAqL1xuICBQb2ludGVyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbiBjYW5jZWwgKGRhdGEsIGV2ZW50KSB7XG4gICAgdGhpcy5maXJlRXZlbnQoUG9pbnRlckV2ZW50VHlwZS5QT0lOVEVSQ0FOQ0VMLCBkYXRhLCBldmVudCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRyaWdnZXJzIGEgY29tYmluYXRpb24gb2YgJ3BvaW50ZXJvdXQnIGFuZCAncG9pbnRlcmxlYXZlJyBldmVudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIFBvaW50ZXIgZXZlbnQgZGF0YS5cbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgVGhlIGV2ZW50LlxuICAgKi9cbiAgUG9pbnRlckV2ZW50SGFuZGxlci5wcm90b3R5cGUubGVhdmVPdXQgPSBmdW5jdGlvbiBsZWF2ZU91dCAoZGF0YSwgZXZlbnQpIHtcbiAgICB0aGlzLm91dChkYXRhLCBldmVudCk7XG4gICAgaWYgKCF0aGlzLmNvbnRhaW5zXyhkYXRhLnRhcmdldCwgZGF0YS5yZWxhdGVkVGFyZ2V0KSkge1xuICAgICAgdGhpcy5sZWF2ZShkYXRhLCBldmVudCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBUcmlnZ2VycyBhIGNvbWJpbmF0aW9uIG9mICdwb2ludGVyb3ZlcicgYW5kICdwb2ludGVyZXZlbnRzJyBldmVudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIFBvaW50ZXIgZXZlbnQgZGF0YS5cbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgVGhlIGV2ZW50LlxuICAgKi9cbiAgUG9pbnRlckV2ZW50SGFuZGxlci5wcm90b3R5cGUuZW50ZXJPdmVyID0gZnVuY3Rpb24gZW50ZXJPdmVyIChkYXRhLCBldmVudCkge1xuICAgIHRoaXMub3ZlcihkYXRhLCBldmVudCk7XG4gICAgaWYgKCF0aGlzLmNvbnRhaW5zXyhkYXRhLnRhcmdldCwgZGF0YS5yZWxhdGVkVGFyZ2V0KSkge1xuICAgICAgdGhpcy5lbnRlcihkYXRhLCBldmVudCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGNvbnRhaW5lciBUaGUgY29udGFpbmVyIGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gY29udGFpbmVkIFRoZSBjb250YWluZWQgZWxlbWVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIHRoZSBjb250YWluZXIgZWxlbWVudFxuICAgKiAgIGNvbnRhaW5zIHRoZSBvdGhlciBlbGVtZW50LlxuICAgKi9cbiAgUG9pbnRlckV2ZW50SGFuZGxlci5wcm90b3R5cGUuY29udGFpbnNfID0gZnVuY3Rpb24gY29udGFpbnNfIChjb250YWluZXIsIGNvbnRhaW5lZCkge1xuICAgIGlmICghY29udGFpbmVyIHx8ICFjb250YWluZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRhaW5lci5jb250YWlucyhjb250YWluZWQpO1xuICB9O1xuXG4gIC8vIEVWRU5UIENSRUFUSU9OIEFORCBUUkFDS0lOR1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBFdmVudCBvZiB0eXBlIGBpblR5cGVgLCBiYXNlZCBvbiB0aGUgaW5mb3JtYXRpb24gaW5cbiAgICogYGRhdGFgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaW5UeXBlIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdHlwZSBvZiBldmVudCB0byBjcmVhdGUuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIFBvaW50ZXIgZXZlbnQgZGF0YS5cbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgVGhlIGV2ZW50LlxuICAgKiBAcmV0dXJuIHtQb2ludGVyRXZlbnR9IEEgUG9pbnRlckV2ZW50IG9mIHR5cGUgYGluVHlwZWAuXG4gICAqL1xuICBQb2ludGVyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5tYWtlRXZlbnQgPSBmdW5jdGlvbiBtYWtlRXZlbnQgKGluVHlwZSwgZGF0YSwgZXZlbnQpIHtcbiAgICByZXR1cm4gbmV3IFBvaW50ZXJFdmVudChpblR5cGUsIGV2ZW50LCBkYXRhKTtcbiAgfTtcblxuICAvKipcbiAgICogTWFrZSBhbmQgZGlzcGF0Y2ggYW4gZXZlbnQgaW4gb25lIGNhbGwuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpblR5cGUgQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB0eXBlIG9mIGV2ZW50LlxuICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBQb2ludGVyIGV2ZW50IGRhdGEuXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IFRoZSBldmVudC5cbiAgICovXG4gIFBvaW50ZXJFdmVudEhhbmRsZXIucHJvdG90eXBlLmZpcmVFdmVudCA9IGZ1bmN0aW9uIGZpcmVFdmVudCAoaW5UeXBlLCBkYXRhLCBldmVudCkge1xuICAgIHZhciBlID0gdGhpcy5tYWtlRXZlbnQoaW5UeXBlLCBkYXRhLCBldmVudCk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgcG9pbnRlciBldmVudCBmcm9tIGEgbmF0aXZlIHBvaW50ZXIgZXZlbnRcbiAgICogYW5kIGRpc3BhdGNoZXMgdGhpcyBldmVudC5cbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgQSBwbGF0Zm9ybSBldmVudCB3aXRoIGEgdGFyZ2V0LlxuICAgKi9cbiAgUG9pbnRlckV2ZW50SGFuZGxlci5wcm90b3R5cGUuZmlyZU5hdGl2ZUV2ZW50ID0gZnVuY3Rpb24gZmlyZU5hdGl2ZUV2ZW50IChldmVudCkge1xuICAgIHZhciBlID0gdGhpcy5tYWtlRXZlbnQoZXZlbnQudHlwZSwgZXZlbnQsIGV2ZW50KTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFdyYXAgYSBuYXRpdmUgbW91c2UgZXZlbnQgaW50byBhIHBvaW50ZXIgZXZlbnQuXG4gICAqIFRoaXMgcHJveHkgbWV0aG9kIGlzIHJlcXVpcmVkIGZvciB0aGUgbGVnYWN5IElFIHN1cHBvcnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGUgVGhlIHBvaW50ZXIgZXZlbnQgdHlwZS5cbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgVGhlIGV2ZW50LlxuICAgKiBAcmV0dXJuIHtQb2ludGVyRXZlbnR9IFRoZSB3cmFwcGVkIGV2ZW50LlxuICAgKi9cbiAgUG9pbnRlckV2ZW50SGFuZGxlci5wcm90b3R5cGUud3JhcE1vdXNlRXZlbnQgPSBmdW5jdGlvbiB3cmFwTW91c2VFdmVudCAoZXZlbnRUeXBlLCBldmVudCkge1xuICAgIHZhciBwb2ludGVyRXZlbnQgPSB0aGlzLm1ha2VFdmVudChcbiAgICAgIGV2ZW50VHlwZSwgcHJlcGFyZU1vdXNlRXZlbnQoZXZlbnQsIHRoaXMpLCBldmVudCk7XG4gICAgcmV0dXJuIHBvaW50ZXJFdmVudDtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIFBvaW50ZXJFdmVudEhhbmRsZXIucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uIGRpc3Bvc2VJbnRlcm5hbCAoKSB7XG4gICAgdGhpcy51bnJlZ2lzdGVyXygpO1xuICAgIEV2ZW50VGFyZ2V0LnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgfTtcblxuICByZXR1cm4gUG9pbnRlckV2ZW50SGFuZGxlcjtcbn0oRXZlbnRUYXJnZXQpKTtcblxuZXhwb3J0IGRlZmF1bHQgUG9pbnRlckV2ZW50SGFuZGxlcjtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UG9pbnRlckV2ZW50SGFuZGxlci5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvTWFwQnJvd3NlckV2ZW50SGFuZGxlclxuICovXG5pbXBvcnQge0RFVklDRV9QSVhFTF9SQVRJT30gZnJvbSAnLi9oYXMuanMnO1xuaW1wb3J0IE1hcEJyb3dzZXJFdmVudFR5cGUgZnJvbSAnLi9NYXBCcm93c2VyRXZlbnRUeXBlLmpzJztcbmltcG9ydCBNYXBCcm93c2VyUG9pbnRlckV2ZW50IGZyb20gJy4vTWFwQnJvd3NlclBvaW50ZXJFdmVudC5qcyc7XG5pbXBvcnQge2xpc3RlbiwgdW5saXN0ZW5CeUtleX0gZnJvbSAnLi9ldmVudHMuanMnO1xuaW1wb3J0IEV2ZW50VGFyZ2V0IGZyb20gJy4vZXZlbnRzL1RhcmdldC5qcyc7XG5pbXBvcnQgUG9pbnRlckV2ZW50VHlwZSBmcm9tICcuL3BvaW50ZXIvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBQb2ludGVyRXZlbnRIYW5kbGVyIGZyb20gJy4vcG9pbnRlci9Qb2ludGVyRXZlbnRIYW5kbGVyLmpzJztcblxudmFyIE1hcEJyb3dzZXJFdmVudEhhbmRsZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChFdmVudFRhcmdldCkge1xuICBmdW5jdGlvbiBNYXBCcm93c2VyRXZlbnRIYW5kbGVyKG1hcCwgbW92ZVRvbGVyYW5jZSkge1xuXG4gICAgRXZlbnRUYXJnZXQuY2FsbCh0aGlzKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgdGhlIGVsZW1lbnQgdGhhdCB3ZSB3aWxsIGxpc3RlbiB0byB0aGUgcmVhbCBldmVudHMgb24uXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLm1hcF8gPSBtYXA7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7YW55fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5jbGlja1RpbWVvdXRJZF87XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZHJhZ2dpbmdfID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7IUFycmF5PGltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmRyYWdMaXN0ZW5lcktleXNfID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5tb3ZlVG9sZXJhbmNlXyA9IG1vdmVUb2xlcmFuY2UgP1xuICAgICAgbW92ZVRvbGVyYW5jZSAqIERFVklDRV9QSVhFTF9SQVRJTyA6IERFVklDRV9QSVhFTF9SQVRJTztcblxuICAgIC8qKlxuICAgICAqIFRoZSBtb3N0IHJlY2VudCBcImRvd25cIiB0eXBlIGV2ZW50IChvciBudWxsIGlmIG5vbmUgaGF2ZSBvY2N1cnJlZCkuXG4gICAgICogU2V0IG9uIHBvaW50ZXJkb3duLlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3BvaW50ZXIvUG9pbnRlckV2ZW50LmpzXCIpLmRlZmF1bHR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmRvd25fID0gbnVsbDtcblxuICAgIHZhciBlbGVtZW50ID0gdGhpcy5tYXBfLmdldFZpZXdwb3J0KCk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5hY3RpdmVQb2ludGVyc18gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgeyFPYmplY3Q8bnVtYmVyLCBib29sZWFuPn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMudHJhY2tlZFRvdWNoZXNfID0ge307XG5cbiAgICAvKipcbiAgICAgKiBFdmVudCBoYW5kbGVyIHdoaWNoIGdlbmVyYXRlcyBwb2ludGVyIGV2ZW50cyBmb3JcbiAgICAgKiB0aGUgdmlld3BvcnQgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtQb2ludGVyRXZlbnRIYW5kbGVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5wb2ludGVyRXZlbnRIYW5kbGVyXyA9IG5ldyBQb2ludGVyRXZlbnRIYW5kbGVyKGVsZW1lbnQpO1xuXG4gICAgLyoqXG4gICAgICogRXZlbnQgaGFuZGxlciB3aGljaCBnZW5lcmF0ZXMgcG9pbnRlciBldmVudHMgZm9yXG4gICAgICogdGhlIGRvY3VtZW50ICh1c2VkIHdoZW4gZHJhZ2dpbmcpLlxuICAgICAqXG4gICAgICogQHR5cGUge1BvaW50ZXJFdmVudEhhbmRsZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmRvY3VtZW50UG9pbnRlckV2ZW50SGFuZGxlcl8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgez9pbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnBvaW50ZXJkb3duTGlzdGVuZXJLZXlfID0gbGlzdGVuKHRoaXMucG9pbnRlckV2ZW50SGFuZGxlcl8sXG4gICAgICBQb2ludGVyRXZlbnRUeXBlLlBPSU5URVJET1dOLFxuICAgICAgdGhpcy5oYW5kbGVQb2ludGVyRG93bl8sIHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgez9pbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnJlbGF5ZWRMaXN0ZW5lcktleV8gPSBsaXN0ZW4odGhpcy5wb2ludGVyRXZlbnRIYW5kbGVyXyxcbiAgICAgIFBvaW50ZXJFdmVudFR5cGUuUE9JTlRFUk1PVkUsXG4gICAgICB0aGlzLnJlbGF5RXZlbnRfLCB0aGlzKTtcblxuICB9XG5cbiAgaWYgKCBFdmVudFRhcmdldCApIE1hcEJyb3dzZXJFdmVudEhhbmRsZXIuX19wcm90b19fID0gRXZlbnRUYXJnZXQ7XG4gIE1hcEJyb3dzZXJFdmVudEhhbmRsZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZlbnRUYXJnZXQgJiYgRXZlbnRUYXJnZXQucHJvdG90eXBlICk7XG4gIE1hcEJyb3dzZXJFdmVudEhhbmRsZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTWFwQnJvd3NlckV2ZW50SGFuZGxlcjtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3BvaW50ZXIvUG9pbnRlckV2ZW50LmpzXCIpLmRlZmF1bHR9IHBvaW50ZXJFdmVudCBQb2ludGVyXG4gICAqIGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTWFwQnJvd3NlckV2ZW50SGFuZGxlci5wcm90b3R5cGUuZW11bGF0ZUNsaWNrXyA9IGZ1bmN0aW9uIGVtdWxhdGVDbGlja18gKHBvaW50ZXJFdmVudCkge1xuICAgIHZhciBuZXdFdmVudCA9IG5ldyBNYXBCcm93c2VyUG9pbnRlckV2ZW50KFxuICAgICAgTWFwQnJvd3NlckV2ZW50VHlwZS5DTElDSywgdGhpcy5tYXBfLCBwb2ludGVyRXZlbnQpO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXdFdmVudCk7XG4gICAgaWYgKHRoaXMuY2xpY2tUaW1lb3V0SWRfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIGRvdWJsZS1jbGlja1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY2xpY2tUaW1lb3V0SWRfKTtcbiAgICAgIHRoaXMuY2xpY2tUaW1lb3V0SWRfID0gdW5kZWZpbmVkO1xuICAgICAgbmV3RXZlbnQgPSBuZXcgTWFwQnJvd3NlclBvaW50ZXJFdmVudChcbiAgICAgICAgTWFwQnJvd3NlckV2ZW50VHlwZS5EQkxDTElDSywgdGhpcy5tYXBfLCBwb2ludGVyRXZlbnQpO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ld0V2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gY2xpY2tcbiAgICAgIHRoaXMuY2xpY2tUaW1lb3V0SWRfID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5jbGlja1RpbWVvdXRJZF8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBuZXdFdmVudCA9IG5ldyBNYXBCcm93c2VyUG9pbnRlckV2ZW50KFxuICAgICAgICAgIE1hcEJyb3dzZXJFdmVudFR5cGUuU0lOR0xFQ0xJQ0ssIHRoaXMubWFwXywgcG9pbnRlckV2ZW50KTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ld0V2ZW50KTtcbiAgICAgIH0uYmluZCh0aGlzKSwgMjUwKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEtlZXBzIHRyYWNrIG9uIGhvdyBtYW55IHBvaW50ZXJzIGFyZSBjdXJyZW50bHkgYWN0aXZlLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcG9pbnRlci9Qb2ludGVyRXZlbnQuanNcIikuZGVmYXVsdH0gcG9pbnRlckV2ZW50IFBvaW50ZXJcbiAgICogZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBNYXBCcm93c2VyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVBY3RpdmVQb2ludGVyc18gPSBmdW5jdGlvbiB1cGRhdGVBY3RpdmVQb2ludGVyc18gKHBvaW50ZXJFdmVudCkge1xuICAgIHZhciBldmVudCA9IHBvaW50ZXJFdmVudDtcblxuICAgIGlmIChldmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUlVQIHx8XG4gICAgICAgIGV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSQ0FOQ0VMKSB7XG4gICAgICBkZWxldGUgdGhpcy50cmFja2VkVG91Y2hlc19bZXZlbnQucG9pbnRlcklkXTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSRE9XTikge1xuICAgICAgdGhpcy50cmFja2VkVG91Y2hlc19bZXZlbnQucG9pbnRlcklkXSA9IHRydWU7XG4gICAgfVxuICAgIHRoaXMuYWN0aXZlUG9pbnRlcnNfID0gT2JqZWN0LmtleXModGhpcy50cmFja2VkVG91Y2hlc18pLmxlbmd0aDtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3BvaW50ZXIvUG9pbnRlckV2ZW50LmpzXCIpLmRlZmF1bHR9IHBvaW50ZXJFdmVudCBQb2ludGVyXG4gICAqIGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTWFwQnJvd3NlckV2ZW50SGFuZGxlci5wcm90b3R5cGUuaGFuZGxlUG9pbnRlclVwXyA9IGZ1bmN0aW9uIGhhbmRsZVBvaW50ZXJVcF8gKHBvaW50ZXJFdmVudCkge1xuICAgIHRoaXMudXBkYXRlQWN0aXZlUG9pbnRlcnNfKHBvaW50ZXJFdmVudCk7XG4gICAgdmFyIG5ld0V2ZW50ID0gbmV3IE1hcEJyb3dzZXJQb2ludGVyRXZlbnQoXG4gICAgICBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJVUCwgdGhpcy5tYXBfLCBwb2ludGVyRXZlbnQpO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXdFdmVudCk7XG5cbiAgICAvLyBXZSBlbXVsYXRlIGNsaWNrIGV2ZW50cyBvbiBsZWZ0IG1vdXNlIGJ1dHRvbiBjbGljaywgdG91Y2ggY29udGFjdCwgYW5kIHBlblxuICAgIC8vIGNvbnRhY3QuIGlzTW91c2VBY3Rpb25CdXR0b24gcmV0dXJucyB0cnVlIGluIHRoZXNlIGNhc2VzIChldnQuYnV0dG9uIGlzIHNldFxuICAgIC8vIHRvIDApLlxuICAgIC8vIFNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9wb2ludGVyZXZlbnRzLyNidXR0b24tc3RhdGVzXG4gICAgLy8gV2Ugb25seSBmaXJlIGNsaWNrLCBzaW5nbGVjbGljaywgYW5kIGRvdWJsZWNsaWNrIGlmIG5vYm9keSBoYXMgY2FsbGVkXG4gICAgLy8gZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCkgb3IgZXZlbnQucHJldmVudERlZmF1bHQoKS5cbiAgICBpZiAoIW5ld0V2ZW50LnByb3BhZ2F0aW9uU3RvcHBlZCAmJiAhdGhpcy5kcmFnZ2luZ18gJiYgdGhpcy5pc01vdXNlQWN0aW9uQnV0dG9uXyhwb2ludGVyRXZlbnQpKSB7XG4gICAgICB0aGlzLmVtdWxhdGVDbGlja18odGhpcy5kb3duXyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYWN0aXZlUG9pbnRlcnNfID09PSAwKSB7XG4gICAgICB0aGlzLmRyYWdMaXN0ZW5lcktleXNfLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgICB0aGlzLmRyYWdMaXN0ZW5lcktleXNfLmxlbmd0aCA9IDA7XG4gICAgICB0aGlzLmRyYWdnaW5nXyA9IGZhbHNlO1xuICAgICAgdGhpcy5kb3duXyA9IG51bGw7XG4gICAgICB0aGlzLmRvY3VtZW50UG9pbnRlckV2ZW50SGFuZGxlcl8uZGlzcG9zZSgpO1xuICAgICAgdGhpcy5kb2N1bWVudFBvaW50ZXJFdmVudEhhbmRsZXJfID0gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wb2ludGVyL1BvaW50ZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBwb2ludGVyRXZlbnQgUG9pbnRlclxuICAgKiBldmVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGxlZnQgbW91c2UgYnV0dG9uIHdhcyBwcmVzc2VkLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTWFwQnJvd3NlckV2ZW50SGFuZGxlci5wcm90b3R5cGUuaXNNb3VzZUFjdGlvbkJ1dHRvbl8gPSBmdW5jdGlvbiBpc01vdXNlQWN0aW9uQnV0dG9uXyAocG9pbnRlckV2ZW50KSB7XG4gICAgcmV0dXJuIHBvaW50ZXJFdmVudC5idXR0b24gPT09IDA7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wb2ludGVyL1BvaW50ZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBwb2ludGVyRXZlbnQgUG9pbnRlclxuICAgKiBldmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIE1hcEJyb3dzZXJFdmVudEhhbmRsZXIucHJvdG90eXBlLmhhbmRsZVBvaW50ZXJEb3duXyA9IGZ1bmN0aW9uIGhhbmRsZVBvaW50ZXJEb3duXyAocG9pbnRlckV2ZW50KSB7XG4gICAgdGhpcy51cGRhdGVBY3RpdmVQb2ludGVyc18ocG9pbnRlckV2ZW50KTtcbiAgICB2YXIgbmV3RXZlbnQgPSBuZXcgTWFwQnJvd3NlclBvaW50ZXJFdmVudChcbiAgICAgIE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkRPV04sIHRoaXMubWFwXywgcG9pbnRlckV2ZW50KTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3RXZlbnQpO1xuXG4gICAgdGhpcy5kb3duXyA9IHBvaW50ZXJFdmVudDtcblxuICAgIGlmICh0aGlzLmRyYWdMaXN0ZW5lcktleXNfLmxlbmd0aCA9PT0gMCkge1xuICAgICAgLyogU2V0IHVwIGEgcG9pbnRlciBldmVudCBoYW5kbGVyIG9uIHRoZSBgZG9jdW1lbnRgLFxuICAgICAgICogd2hpY2ggaXMgcmVxdWlyZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBtb3ZlZCBvdXRzaWRlXG4gICAgICAgKiB0aGUgdmlld3BvcnQgd2hlbiBkcmFnZ2luZy5cbiAgICAgICAqL1xuICAgICAgdGhpcy5kb2N1bWVudFBvaW50ZXJFdmVudEhhbmRsZXJfID1cbiAgICAgICAgICBuZXcgUG9pbnRlckV2ZW50SGFuZGxlcihkb2N1bWVudCk7XG5cbiAgICAgIHRoaXMuZHJhZ0xpc3RlbmVyS2V5c18ucHVzaChcbiAgICAgICAgbGlzdGVuKHRoaXMuZG9jdW1lbnRQb2ludGVyRXZlbnRIYW5kbGVyXyxcbiAgICAgICAgICBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJNT1ZFLFxuICAgICAgICAgIHRoaXMuaGFuZGxlUG9pbnRlck1vdmVfLCB0aGlzKSxcbiAgICAgICAgbGlzdGVuKHRoaXMuZG9jdW1lbnRQb2ludGVyRXZlbnRIYW5kbGVyXyxcbiAgICAgICAgICBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJVUCxcbiAgICAgICAgICB0aGlzLmhhbmRsZVBvaW50ZXJVcF8sIHRoaXMpLFxuICAgICAgICAvKiBOb3RlIHRoYXQgdGhlIGxpc3RlbmVyIGZvciBgcG9pbnRlcmNhbmNlbCBpcyBzZXQgdXAgb25cbiAgICAgICAgICogYHBvaW50ZXJFdmVudEhhbmRsZXJfYCBhbmQgbm90IGBkb2N1bWVudFBvaW50ZXJFdmVudEhhbmRsZXJfYCBsaWtlXG4gICAgICAgICAqIHRoZSBgcG9pbnRlcnVwYCBhbmQgYHBvaW50ZXJtb3ZlYCBsaXN0ZW5lcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSByZWFzb24gZm9yIHRoaXMgaXMgdGhlIGZvbGxvd2luZzogYFRvdWNoU291cmNlLnZhY3V1bVRvdWNoZXNfKClgXG4gICAgICAgICAqIGlzc3VlcyBgcG9pbnRlcmNhbmNlbGAgZXZlbnRzLCB3aGVuIHRoZXJlIHdhcyBubyBgdG91Y2hlbmRgIGZvciBhXG4gICAgICAgICAqIGB0b3VjaHN0YXJ0YC4gTm93LCBsZXQncyBzYXkgYSBmaXJzdCBgdG91Y2hzdGFydGAgaXMgcmVnaXN0ZXJlZCBvblxuICAgICAgICAgKiBgcG9pbnRlckV2ZW50SGFuZGxlcl9gLiBUaGUgYGRvY3VtZW50UG9pbnRlckV2ZW50SGFuZGxlcl9gIGlzIHNldCB1cC5cbiAgICAgICAgICogQnV0IGBkb2N1bWVudFBvaW50ZXJFdmVudEhhbmRsZXJfYCBkb2Vzbid0IGtub3cgYWJvdXQgdGhlIGZpcnN0XG4gICAgICAgICAqIGB0b3VjaHN0YXJ0YC4gSWYgdGhlcmUgaXMgbm8gYHRvdWNoZW5kYCBmb3IgdGhlIGB0b3VjaHN0YXJ0YCwgd2UgY2FuXG4gICAgICAgICAqIG9ubHkgcmVjZWl2ZSBhIGB0b3VjaGNhbmNlbGAgZnJvbSBgcG9pbnRlckV2ZW50SGFuZGxlcl9gLCBiZWNhdXNlIGl0IGlzXG4gICAgICAgICAqIG9ubHkgcmVnaXN0ZXJlZCB0aGVyZS5cbiAgICAgICAgICovXG4gICAgICAgIGxpc3Rlbih0aGlzLnBvaW50ZXJFdmVudEhhbmRsZXJfLFxuICAgICAgICAgIE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkNBTkNFTCxcbiAgICAgICAgICB0aGlzLmhhbmRsZVBvaW50ZXJVcF8sIHRoaXMpXG4gICAgICApO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3BvaW50ZXIvUG9pbnRlckV2ZW50LmpzXCIpLmRlZmF1bHR9IHBvaW50ZXJFdmVudCBQb2ludGVyXG4gICAqIGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTWFwQnJvd3NlckV2ZW50SGFuZGxlci5wcm90b3R5cGUuaGFuZGxlUG9pbnRlck1vdmVfID0gZnVuY3Rpb24gaGFuZGxlUG9pbnRlck1vdmVfIChwb2ludGVyRXZlbnQpIHtcbiAgICAvLyBCZXR3ZWVuIHBvaW50ZXJkb3duIGFuZCBwb2ludGVydXAsIHBvaW50ZXJtb3ZlIGV2ZW50cyBhcmUgdHJpZ2dlcmVkLlxuICAgIC8vIFRvIGF2b2lkIGEgJ2ZhbHNlJyB0b3VjaG1vdmUgZXZlbnQgdG8gYmUgZGlzcGF0Y2hlZCwgd2UgdGVzdCBpZiB0aGUgcG9pbnRlclxuICAgIC8vIG1vdmVkIGEgc2lnbmlmaWNhbnQgZGlzdGFuY2UuXG4gICAgaWYgKHRoaXMuaXNNb3ZpbmdfKHBvaW50ZXJFdmVudCkpIHtcbiAgICAgIHRoaXMuZHJhZ2dpbmdfID0gdHJ1ZTtcbiAgICAgIHZhciBuZXdFdmVudCA9IG5ldyBNYXBCcm93c2VyUG9pbnRlckV2ZW50KFxuICAgICAgICBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJEUkFHLCB0aGlzLm1hcF8sIHBvaW50ZXJFdmVudCxcbiAgICAgICAgdGhpcy5kcmFnZ2luZ18pO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ld0V2ZW50KTtcbiAgICB9XG5cbiAgICAvLyBTb21lIG5hdGl2ZSBhbmRyb2lkIGJyb3dzZXIgdHJpZ2dlcnMgbW91c2Vtb3ZlIGV2ZW50cyBkdXJpbmcgc21hbGwgcGVyaW9kXG4gICAgLy8gb2YgdGltZS4gU2VlOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2FuZHJvaWQvaXNzdWVzL2RldGFpbD9pZD01NDkxIG9yXG4gICAgLy8gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9hbmRyb2lkL2lzc3Vlcy9kZXRhaWw/aWQ9MTk4MjdcbiAgICAvLyBleDogR2FsYXh5IFRhYiBQMzExMCArIEFuZHJvaWQgNC4xLjFcbiAgICBwb2ludGVyRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfTtcblxuICAvKipcbiAgICogV3JhcCBhbmQgcmVsYXkgYSBwb2ludGVyIGV2ZW50LiAgTm90ZSB0aGF0IHRoaXMgcmVxdWlyZXMgdGhhdCB0aGUgdHlwZVxuICAgKiBzdHJpbmcgZm9yIHRoZSBNYXBCcm93c2VyUG9pbnRlckV2ZW50IG1hdGNoZXMgdGhlIFBvaW50ZXJFdmVudCB0eXBlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcG9pbnRlci9Qb2ludGVyRXZlbnQuanNcIikuZGVmYXVsdH0gcG9pbnRlckV2ZW50IFBvaW50ZXJcbiAgICogZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBNYXBCcm93c2VyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5yZWxheUV2ZW50XyA9IGZ1bmN0aW9uIHJlbGF5RXZlbnRfIChwb2ludGVyRXZlbnQpIHtcbiAgICB2YXIgZHJhZ2dpbmcgPSAhISh0aGlzLmRvd25fICYmIHRoaXMuaXNNb3ZpbmdfKHBvaW50ZXJFdmVudCkpO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgTWFwQnJvd3NlclBvaW50ZXJFdmVudChcbiAgICAgIHBvaW50ZXJFdmVudC50eXBlLCB0aGlzLm1hcF8sIHBvaW50ZXJFdmVudCwgZHJhZ2dpbmcpKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3BvaW50ZXIvUG9pbnRlckV2ZW50LmpzXCIpLmRlZmF1bHR9IHBvaW50ZXJFdmVudCBQb2ludGVyXG4gICAqIGV2ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyBtb3ZpbmcuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBNYXBCcm93c2VyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5pc01vdmluZ18gPSBmdW5jdGlvbiBpc01vdmluZ18gKHBvaW50ZXJFdmVudCkge1xuICAgIHJldHVybiB0aGlzLmRyYWdnaW5nXyB8fFxuICAgICAgICBNYXRoLmFicyhwb2ludGVyRXZlbnQuY2xpZW50WCAtIHRoaXMuZG93bl8uY2xpZW50WCkgPiB0aGlzLm1vdmVUb2xlcmFuY2VfIHx8XG4gICAgICAgIE1hdGguYWJzKHBvaW50ZXJFdmVudC5jbGllbnRZIC0gdGhpcy5kb3duXy5jbGllbnRZKSA+IHRoaXMubW92ZVRvbGVyYW5jZV87XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBNYXBCcm93c2VyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbiBkaXNwb3NlSW50ZXJuYWwgKCkge1xuICAgIGlmICh0aGlzLnJlbGF5ZWRMaXN0ZW5lcktleV8pIHtcbiAgICAgIHVubGlzdGVuQnlLZXkodGhpcy5yZWxheWVkTGlzdGVuZXJLZXlfKTtcbiAgICAgIHRoaXMucmVsYXllZExpc3RlbmVyS2V5XyA9IG51bGw7XG4gICAgfVxuICAgIGlmICh0aGlzLnBvaW50ZXJkb3duTGlzdGVuZXJLZXlfKSB7XG4gICAgICB1bmxpc3RlbkJ5S2V5KHRoaXMucG9pbnRlcmRvd25MaXN0ZW5lcktleV8pO1xuICAgICAgdGhpcy5wb2ludGVyZG93bkxpc3RlbmVyS2V5XyA9IG51bGw7XG4gICAgfVxuXG4gICAgdGhpcy5kcmFnTGlzdGVuZXJLZXlzXy5mb3JFYWNoKHVubGlzdGVuQnlLZXkpO1xuICAgIHRoaXMuZHJhZ0xpc3RlbmVyS2V5c18ubGVuZ3RoID0gMDtcblxuICAgIGlmICh0aGlzLmRvY3VtZW50UG9pbnRlckV2ZW50SGFuZGxlcl8pIHtcbiAgICAgIHRoaXMuZG9jdW1lbnRQb2ludGVyRXZlbnRIYW5kbGVyXy5kaXNwb3NlKCk7XG4gICAgICB0aGlzLmRvY3VtZW50UG9pbnRlckV2ZW50SGFuZGxlcl8gPSBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy5wb2ludGVyRXZlbnRIYW5kbGVyXykge1xuICAgICAgdGhpcy5wb2ludGVyRXZlbnRIYW5kbGVyXy5kaXNwb3NlKCk7XG4gICAgICB0aGlzLnBvaW50ZXJFdmVudEhhbmRsZXJfID0gbnVsbDtcbiAgICB9XG4gICAgRXZlbnRUYXJnZXQucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICB9O1xuXG4gIHJldHVybiBNYXBCcm93c2VyRXZlbnRIYW5kbGVyO1xufShFdmVudFRhcmdldCkpO1xuXG5cbmV4cG9ydCBkZWZhdWx0IE1hcEJyb3dzZXJFdmVudEhhbmRsZXI7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hcEJyb3dzZXJFdmVudEhhbmRsZXIuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL01hcEV2ZW50VHlwZVxuICovXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuXG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgYSBtYXAgZnJhbWUgaXMgcmVuZGVyZWQuXG4gICAqIEBldmVudCBtb2R1bGU6b2wvTWFwRXZlbnR+TWFwRXZlbnQjcG9zdHJlbmRlclxuICAgKiBAYXBpXG4gICAqL1xuICBQT1NUUkVOREVSOiAncG9zdHJlbmRlcicsXG5cbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB3aGVuIHRoZSBtYXAgc3RhcnRzIG1vdmluZy5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBFdmVudH5NYXBFdmVudCNtb3Zlc3RhcnRcbiAgICogQGFwaVxuICAgKi9cbiAgTU9WRVNUQVJUOiAnbW92ZXN0YXJ0JyxcblxuICAvKipcbiAgICogVHJpZ2dlcmVkIGFmdGVyIHRoZSBtYXAgaXMgbW92ZWQuXG4gICAqIEBldmVudCBtb2R1bGU6b2wvTWFwRXZlbnR+TWFwRXZlbnQjbW92ZWVuZFxuICAgKiBAYXBpXG4gICAqL1xuICBNT1ZFRU5EOiAnbW92ZWVuZCdcblxufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWFwRXZlbnRUeXBlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9NYXBQcm9wZXJ0eVxuICovXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBMQVlFUkdST1VQOiAnbGF5ZXJncm91cCcsXG4gIFNJWkU6ICdzaXplJyxcbiAgVEFSR0VUOiAndGFyZ2V0JyxcbiAgVklFVzogJ3ZpZXcnXG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXBQcm9wZXJ0eS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvUGx1Z2dhYmxlTWFwXG4gKi9cbmltcG9ydCB7Z2V0VWlkfSBmcm9tICcuL3V0aWwuanMnO1xuaW1wb3J0IENvbGxlY3Rpb24gZnJvbSAnLi9Db2xsZWN0aW9uLmpzJztcbmltcG9ydCBDb2xsZWN0aW9uRXZlbnRUeXBlIGZyb20gJy4vQ29sbGVjdGlvbkV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgTWFwQnJvd3NlckV2ZW50IGZyb20gJy4vTWFwQnJvd3NlckV2ZW50LmpzJztcbmltcG9ydCBNYXBCcm93c2VyRXZlbnRIYW5kbGVyIGZyb20gJy4vTWFwQnJvd3NlckV2ZW50SGFuZGxlci5qcyc7XG5pbXBvcnQgTWFwQnJvd3NlckV2ZW50VHlwZSBmcm9tICcuL01hcEJyb3dzZXJFdmVudFR5cGUuanMnO1xuaW1wb3J0IE1hcEV2ZW50IGZyb20gJy4vTWFwRXZlbnQuanMnO1xuaW1wb3J0IE1hcEV2ZW50VHlwZSBmcm9tICcuL01hcEV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgTWFwUHJvcGVydHkgZnJvbSAnLi9NYXBQcm9wZXJ0eS5qcyc7XG5pbXBvcnQgUmVuZGVyRXZlbnRUeXBlIGZyb20gJy4vcmVuZGVyL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgQmFzZU9iamVjdCwge2dldENoYW5nZUV2ZW50VHlwZX0gZnJvbSAnLi9PYmplY3QuanMnO1xuaW1wb3J0IE9iamVjdEV2ZW50VHlwZSBmcm9tICcuL09iamVjdEV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgVGlsZVF1ZXVlIGZyb20gJy4vVGlsZVF1ZXVlLmpzJztcbmltcG9ydCBWaWV3IGZyb20gJy4vVmlldy5qcyc7XG5pbXBvcnQgVmlld0hpbnQgZnJvbSAnLi9WaWV3SGludC5qcyc7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7cmVtb3ZlTm9kZX0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHtsaXN0ZW4sIHVubGlzdGVuQnlLZXksIHVubGlzdGVufSBmcm9tICcuL2V2ZW50cy5qcyc7XG5pbXBvcnQge3N0b3BQcm9wYWdhdGlvbn0gZnJvbSAnLi9ldmVudHMvRXZlbnQuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IHtjcmVhdGVFbXB0eSwgY2xvbmUsIGNyZWF0ZU9yVXBkYXRlRW1wdHksIGVxdWFscywgZ2V0Rm9yVmlld0FuZFNpemUsIGlzRW1wdHl9IGZyb20gJy4vZXh0ZW50LmpzJztcbmltcG9ydCB7VFJVRX0gZnJvbSAnLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHtERVZJQ0VfUElYRUxfUkFUSU8sIFRPVUNIfSBmcm9tICcuL2hhcy5qcyc7XG5pbXBvcnQgTGF5ZXJHcm91cCBmcm9tICcuL2xheWVyL0dyb3VwLmpzJztcbmltcG9ydCB7aGFzQXJlYX0gZnJvbSAnLi9zaXplLmpzJztcbmltcG9ydCB7RFJPUH0gZnJvbSAnLi9zdHJ1Y3RzL1ByaW9yaXR5UXVldWUuanMnO1xuaW1wb3J0IHtjcmVhdGUgYXMgY3JlYXRlVHJhbnNmb3JtLCBhcHBseSBhcyBhcHBseVRyYW5zZm9ybX0gZnJvbSAnLi90cmFuc2Zvcm0uanMnO1xuXG5cbi8qKlxuICogU3RhdGUgb2YgdGhlIGN1cnJlbnQgZnJhbWUuIE9ubHkgYHBpeGVsUmF0aW9gLCBgdGltZWAgYW5kIGB2aWV3U3RhdGVgIHNob3VsZFxuICogYmUgdXNlZCBpbiBhcHBsaWNhdGlvbnMuXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGcmFtZVN0YXRlXG4gKiBAcHJvcGVydHkge251bWJlcn0gcGl4ZWxSYXRpbyBUaGUgcGl4ZWwgcmF0aW8gb2YgdGhlIGZyYW1lLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHRpbWUgVGhlIHRpbWUgd2hlbiByZW5kZXJpbmcgb2YgdGhlIGZyYW1lIHdhcyByZXF1ZXN0ZWQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vVmlldy5qc1wiKS5TdGF0ZX0gdmlld1N0YXRlIFRoZSBzdGF0ZSBvZiB0aGUgY3VycmVudCB2aWV3LlxuICogQHByb3BlcnR5IHtib29sZWFufSBhbmltYXRlXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm1cbiAqIEBwcm9wZXJ0eSB7bnVsbHxpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudFxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZm9jdXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpbmRleFxuICogQHByb3BlcnR5IHtPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuL2xheWVyL0xheWVyLmpzXCIpLlN0YXRlPn0gbGF5ZXJTdGF0ZXNcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi9sYXllci9MYXllci5qc1wiKS5TdGF0ZT59IGxheWVyU3RhdGVzQXJyYXlcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSBwaXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybVxuICogQHByb3BlcnR5IHtBcnJheTxQb3N0UmVuZGVyRnVuY3Rpb24+fSBwb3N0UmVuZGVyRnVuY3Rpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBzaXplXG4gKiBAcHJvcGVydHkgeyFPYmplY3Q8c3RyaW5nLCBib29sZWFuPn0gc2tpcHBlZEZlYXR1cmVVaWRzXG4gKiBAcHJvcGVydHkge1RpbGVRdWV1ZX0gdGlsZVF1ZXVlXG4gKiBAcHJvcGVydHkge09iamVjdDxzdHJpbmcsIE9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHQ+Pn0gdXNlZFRpbGVzXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IHZpZXdIaW50c1xuICogQHByb3BlcnR5IHshT2JqZWN0PHN0cmluZywgT2JqZWN0PHN0cmluZywgYm9vbGVhbj4+fSB3YW50ZWRUaWxlc1xuICovXG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oUGx1Z2dhYmxlTWFwLCA/RnJhbWVTdGF0ZSk6IGJvb2xlYW59IFBvc3RSZW5kZXJGdW5jdGlvblxuICovXG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBBdFBpeGVsT3B0aW9uc1xuICogQHByb3BlcnR5IHt1bmRlZmluZWR8ZnVuY3Rpb24oaW1wb3J0KFwiLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0KTogYm9vbGVhbn0gbGF5ZXJGaWx0ZXIgTGF5ZXIgZmlsdGVyXG4gKiBmdW5jdGlvbi4gVGhlIGZpbHRlciBmdW5jdGlvbiB3aWxsIHJlY2VpdmUgb25lIGFyZ3VtZW50LCB0aGVcbiAqIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXIgbGF5ZXItY2FuZGlkYXRlfSBhbmQgaXQgc2hvdWxkIHJldHVybiBhIGJvb2xlYW4gdmFsdWUuXG4gKiBPbmx5IGxheWVycyB3aGljaCBhcmUgdmlzaWJsZSBhbmQgZm9yIHdoaWNoIHRoaXMgZnVuY3Rpb24gcmV0dXJucyBgdHJ1ZWBcbiAqIHdpbGwgYmUgdGVzdGVkIGZvciBmZWF0dXJlcy4gQnkgZGVmYXVsdCwgYWxsIHZpc2libGUgbGF5ZXJzIHdpbGwgYmUgdGVzdGVkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtoaXRUb2xlcmFuY2U9MF0gSGl0LWRldGVjdGlvbiB0b2xlcmFuY2UgaW4gcGl4ZWxzLiBQaXhlbHNcbiAqIGluc2lkZSB0aGUgcmFkaXVzIGFyb3VuZCB0aGUgZ2l2ZW4gcG9zaXRpb24gd2lsbCBiZSBjaGVja2VkIGZvciBmZWF0dXJlcy4gVGhpcyBvbmx5XG4gKiB3b3JrcyBmb3IgdGhlIGNhbnZhcyByZW5kZXJlciBhbmQgbm90IGZvciBXZWJHTC5cbiAqL1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gTWFwT3B0aW9uc0ludGVybmFsXG4gKiBAcHJvcGVydHkge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9jb250cm9sL0NvbnRyb2wuanNcIikuZGVmYXVsdD59IFtjb250cm9sc11cbiAqIEBwcm9wZXJ0eSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uLmpzXCIpLmRlZmF1bHQ+fSBbaW50ZXJhY3Rpb25zXVxuICogQHByb3BlcnR5IHtIVE1MRWxlbWVudHxEb2N1bWVudH0ga2V5Ym9hcmRFdmVudFRhcmdldFxuICogQHByb3BlcnR5IHtDb2xsZWN0aW9uPGltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0Pn0gb3ZlcmxheXNcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0PHN0cmluZywgKj59IHZhbHVlc1xuICovXG5cblxuLyoqXG4gKiBPYmplY3QgbGl0ZXJhbCB3aXRoIGNvbmZpZyBvcHRpb25zIGZvciB0aGUgbWFwLlxuICogQHR5cGVkZWYge09iamVjdH0gTWFwT3B0aW9uc1xuICogQHByb3BlcnR5IHtDb2xsZWN0aW9uPGltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHQ+fEFycmF5PGltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHQ+fSBbY29udHJvbHNdXG4gKiBDb250cm9scyBpbml0aWFsbHkgYWRkZWQgdG8gdGhlIG1hcC4gSWYgbm90IHNwZWNpZmllZCxcbiAqIHtAbGluayBtb2R1bGU6b2wvY29udHJvbH5kZWZhdWx0c30gaXMgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcGl4ZWxSYXRpbz13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb10gVGhlIHJhdGlvIGJldHdlZW5cbiAqIHBoeXNpY2FsIHBpeGVscyBhbmQgZGV2aWNlLWluZGVwZW5kZW50IHBpeGVscyAoZGlwcykgb24gdGhlIGRldmljZS5cbiAqIEBwcm9wZXJ0eSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uLmpzXCIpLmRlZmF1bHQ+fEFycmF5PGltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdD59IFtpbnRlcmFjdGlvbnNdXG4gKiBJbnRlcmFjdGlvbnMgdGhhdCBhcmUgaW5pdGlhbGx5IGFkZGVkIHRvIHRoZSBtYXAuIElmIG5vdCBzcGVjaWZpZWQsXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9ufmRlZmF1bHRzfSBpcyB1c2VkLlxuICogQHByb3BlcnR5IHtIVE1MRWxlbWVudHxEb2N1bWVudHxzdHJpbmd9IFtrZXlib2FyZEV2ZW50VGFyZ2V0XSBUaGUgZWxlbWVudCB0b1xuICogbGlzdGVuIHRvIGtleWJvYXJkIGV2ZW50cyBvbi4gVGhpcyBkZXRlcm1pbmVzIHdoZW4gdGhlIGBLZXlib2FyZFBhbmAgYW5kXG4gKiBgS2V5Ym9hcmRab29tYCBpbnRlcmFjdGlvbnMgdHJpZ2dlci4gRm9yIGV4YW1wbGUsIGlmIHRoaXMgb3B0aW9uIGlzIHNldCB0b1xuICogYGRvY3VtZW50YCB0aGUga2V5Ym9hcmQgaW50ZXJhY3Rpb25zIHdpbGwgYWx3YXlzIHRyaWdnZXIuIElmIHRoaXMgb3B0aW9uIGlzXG4gKiBub3Qgc3BlY2lmaWVkLCB0aGUgZWxlbWVudCB0aGUgbGlicmFyeSBsaXN0ZW5zIHRvIGtleWJvYXJkIGV2ZW50cyBvbiBpcyB0aGVcbiAqIG1hcCB0YXJnZXQgKGkuZS4gdGhlIHVzZXItcHJvdmlkZWQgZGl2IGZvciB0aGUgbWFwKS4gSWYgdGhpcyBpcyBub3RcbiAqIGBkb2N1bWVudGAsIHRoZSB0YXJnZXQgZWxlbWVudCBuZWVkcyB0byBiZSBmb2N1c2VkIGZvciBrZXkgZXZlbnRzIHRvIGJlXG4gKiBlbWl0dGVkLCByZXF1aXJpbmcgdGhhdCB0aGUgdGFyZ2V0IGVsZW1lbnQgaGFzIGEgYHRhYmluZGV4YCBhdHRyaWJ1dGUuXG4gKiBAcHJvcGVydHkge0FycmF5PGltcG9ydChcIi4vbGF5ZXIvQmFzZS5qc1wiKS5kZWZhdWx0PnxDb2xsZWN0aW9uPGltcG9ydChcIi4vbGF5ZXIvQmFzZS5qc1wiKS5kZWZhdWx0PnxMYXllckdyb3VwfSBbbGF5ZXJzXVxuICogTGF5ZXJzLiBJZiB0aGlzIGlzIG5vdCBkZWZpbmVkLCBhIG1hcCB3aXRoIG5vIGxheWVycyB3aWxsIGJlIHJlbmRlcmVkLiBOb3RlXG4gKiB0aGF0IGxheWVycyBhcmUgcmVuZGVyZWQgaW4gdGhlIG9yZGVyIHN1cHBsaWVkLCBzbyBpZiB5b3Ugd2FudCwgZm9yIGV4YW1wbGUsXG4gKiBhIHZlY3RvciBsYXllciB0byBhcHBlYXIgb24gdG9wIG9mIGEgdGlsZSBsYXllciwgaXQgbXVzdCBjb21lIGFmdGVyIHRoZSB0aWxlXG4gKiBsYXllci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4VGlsZXNMb2FkaW5nPTE2XSBNYXhpbXVtIG51bWJlciB0aWxlcyB0byBsb2FkXG4gKiBzaW11bHRhbmVvdXNseS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2xvYWRUaWxlc1doaWxlQW5pbWF0aW5nPWZhbHNlXSBXaGVuIHNldCB0byBgdHJ1ZWAsIHRpbGVzXG4gKiB3aWxsIGJlIGxvYWRlZCBkdXJpbmcgYW5pbWF0aW9ucy4gVGhpcyBtYXkgaW1wcm92ZSB0aGUgdXNlciBleHBlcmllbmNlLCBidXRcbiAqIGNhbiBhbHNvIG1ha2UgYW5pbWF0aW9ucyBzdHV0dGVyIG9uIGRldmljZXMgd2l0aCBzbG93IG1lbW9yeS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2xvYWRUaWxlc1doaWxlSW50ZXJhY3Rpbmc9ZmFsc2VdIFdoZW4gc2V0IHRvIGB0cnVlYCxcbiAqIHRpbGVzIHdpbGwgYmUgbG9hZGVkIHdoaWxlIGludGVyYWN0aW5nIHdpdGggdGhlIG1hcC4gVGhpcyBtYXkgaW1wcm92ZSB0aGVcbiAqIHVzZXIgZXhwZXJpZW5jZSwgYnV0IGNhbiBhbHNvIG1ha2UgbWFwIHBhbm5pbmcgYW5kIHpvb21pbmcgY2hvcHB5IG9uIGRldmljZXNcbiAqIHdpdGggc2xvdyBtZW1vcnkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21vdmVUb2xlcmFuY2U9MV0gVGhlIG1pbmltdW0gZGlzdGFuY2UgaW4gcGl4ZWxzIHRoZVxuICogY3Vyc29yIG11c3QgbW92ZSB0byBiZSBkZXRlY3RlZCBhcyBhIG1hcCBtb3ZlIGV2ZW50IGluc3RlYWQgb2YgYSBjbGljay5cbiAqIEluY3JlYXNpbmcgdGhpcyB2YWx1ZSBjYW4gbWFrZSBpdCBlYXNpZXIgdG8gY2xpY2sgb24gdGhlIG1hcC5cbiAqIEBwcm9wZXJ0eSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdD58QXJyYXk8aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHQ+fSBbb3ZlcmxheXNdXG4gKiBPdmVybGF5cyBpbml0aWFsbHkgYWRkZWQgdG8gdGhlIG1hcC4gQnkgZGVmYXVsdCwgbm8gb3ZlcmxheXMgYXJlIGFkZGVkLlxuICogQHByb3BlcnR5IHtIVE1MRWxlbWVudHxzdHJpbmd9IFt0YXJnZXRdIFRoZSBjb250YWluZXIgZm9yIHRoZSBtYXAsIGVpdGhlciB0aGVcbiAqIGVsZW1lbnQgaXRzZWxmIG9yIHRoZSBgaWRgIG9mIHRoZSBlbGVtZW50LiBJZiBub3Qgc3BlY2lmaWVkIGF0IGNvbnN0cnVjdGlvblxuICogdGltZSwge0BsaW5rIG1vZHVsZTpvbC9NYXB+TWFwI3NldFRhcmdldH0gbXVzdCBiZSBjYWxsZWQgZm9yIHRoZSBtYXAgdG8gYmVcbiAqIHJlbmRlcmVkLlxuICogQHByb3BlcnR5IHtWaWV3fSBbdmlld10gVGhlIG1hcCdzIHZpZXcuICBObyBsYXllciBzb3VyY2VzIHdpbGwgYmVcbiAqIGZldGNoZWQgdW5sZXNzIHRoaXMgaXMgc3BlY2lmaWVkIGF0IGNvbnN0cnVjdGlvbiB0aW1lIG9yIHRocm91Z2hcbiAqIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcCNzZXRWaWV3fS5cbiAqL1xuXG5cbi8qKlxuICogQGZpcmVzIGltcG9ydChcIi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLk1hcEJyb3dzZXJFdmVudFxuICogQGZpcmVzIGltcG9ydChcIi4vTWFwRXZlbnQuanNcIikuTWFwRXZlbnRcbiAqIEBmaXJlcyBtb2R1bGU6b2wvcmVuZGVyL0V2ZW50flJlbmRlckV2ZW50I3Bvc3Rjb21wb3NlXG4gKiBAZmlyZXMgbW9kdWxlOm9sL3JlbmRlci9FdmVudH5SZW5kZXJFdmVudCNwcmVjb21wb3NlXG4gKiBAZmlyZXMgbW9kdWxlOm9sL3JlbmRlci9FdmVudH5SZW5kZXJFdmVudCNyZW5kZXJjb21wbGV0ZVxuICogQGFwaVxuICovXG52YXIgUGx1Z2dhYmxlTWFwID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQmFzZU9iamVjdCkge1xuICBmdW5jdGlvbiBQbHVnZ2FibGVNYXAob3B0aW9ucykge1xuXG4gICAgQmFzZU9iamVjdC5jYWxsKHRoaXMpO1xuXG4gICAgdmFyIG9wdGlvbnNJbnRlcm5hbCA9IGNyZWF0ZU9wdGlvbnNJbnRlcm5hbChvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLm1heFRpbGVzTG9hZGluZ18gPSBvcHRpb25zLm1heFRpbGVzTG9hZGluZyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tYXhUaWxlc0xvYWRpbmcgOiAxNjtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5sb2FkVGlsZXNXaGlsZUFuaW1hdGluZ18gPVxuICAgICAgICBvcHRpb25zLmxvYWRUaWxlc1doaWxlQW5pbWF0aW5nICE9PSB1bmRlZmluZWQgP1xuICAgICAgICAgIG9wdGlvbnMubG9hZFRpbGVzV2hpbGVBbmltYXRpbmcgOiBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5sb2FkVGlsZXNXaGlsZUludGVyYWN0aW5nXyA9XG4gICAgICAgIG9wdGlvbnMubG9hZFRpbGVzV2hpbGVJbnRlcmFjdGluZyAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgICBvcHRpb25zLmxvYWRUaWxlc1doaWxlSW50ZXJhY3RpbmcgOiBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnBpeGVsUmF0aW9fID0gb3B0aW9ucy5waXhlbFJhdGlvICE9PSB1bmRlZmluZWQgP1xuICAgICAgb3B0aW9ucy5waXhlbFJhdGlvIDogREVWSUNFX1BJWEVMX1JBVElPO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmFuaW1hdGlvbkRlbGF5S2V5XztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5hbmltYXRpb25EZWxheV8gPSBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuYW5pbWF0aW9uRGVsYXlLZXlfID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5yZW5kZXJGcmFtZV8uY2FsbCh0aGlzLCBEYXRlLm5vdygpKTtcbiAgICB9LmJpbmQodGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICovXG4gICAgdGhpcy5jb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybV8gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgKi9cbiAgICB0aGlzLnBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtXyA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZnJhbWVJbmRleF8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P0ZyYW1lU3RhdGV9XG4gICAgICovXG4gICAgdGhpcy5mcmFtZVN0YXRlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZXh0ZW50IGF0IHRoZSBwcmV2aW91cyAnbW92ZWVuZCcgZXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqL1xuICAgIHRoaXMucHJldmlvdXNFeHRlbnRfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez9pbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICovXG4gICAgdGhpcy52aWV3UHJvcGVydHlMaXN0ZW5lcktleV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgKi9cbiAgICB0aGlzLnZpZXdDaGFuZ2VMaXN0ZW5lcktleV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pn1cbiAgICAgKi9cbiAgICB0aGlzLmxheWVyR3JvdXBQcm9wZXJ0eUxpc3RlbmVyS2V5c18gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7IUhUTUxFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMudmlld3BvcnRfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy52aWV3cG9ydF8uY2xhc3NOYW1lID0gJ29sLXZpZXdwb3J0JyArIChUT1VDSCA/ICcgb2wtdG91Y2gnIDogJycpO1xuICAgIHRoaXMudmlld3BvcnRfLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICB0aGlzLnZpZXdwb3J0Xy5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgIHRoaXMudmlld3BvcnRfLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMudmlld3BvcnRfLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICAvLyBwcmV2ZW50IHBhZ2Ugem9vbSBvbiBJRSA+PSAxMCBicm93c2Vyc1xuICAgIHRoaXMudmlld3BvcnRfLnN0eWxlLm1zVG91Y2hBY3Rpb24gPSAnbm9uZSc7XG4gICAgdGhpcy52aWV3cG9ydF8uc3R5bGUudG91Y2hBY3Rpb24gPSAnbm9uZSc7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshSFRNTEVsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5vdmVybGF5Q29udGFpbmVyXyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMub3ZlcmxheUNvbnRhaW5lcl8uY2xhc3NOYW1lID0gJ29sLW92ZXJsYXljb250YWluZXInO1xuICAgIHRoaXMudmlld3BvcnRfLmFwcGVuZENoaWxkKHRoaXMub3ZlcmxheUNvbnRhaW5lcl8pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7IUhUTUxFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMub3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLm92ZXJsYXlDb250YWluZXJTdG9wRXZlbnRfLmNsYXNzTmFtZSA9ICdvbC1vdmVybGF5Y29udGFpbmVyLXN0b3BldmVudCc7XG4gICAgdmFyIG92ZXJsYXlFdmVudHMgPSBbXG4gICAgICBFdmVudFR5cGUuQ0xJQ0ssXG4gICAgICBFdmVudFR5cGUuREJMQ0xJQ0ssXG4gICAgICBFdmVudFR5cGUuTU9VU0VET1dOLFxuICAgICAgRXZlbnRUeXBlLlRPVUNIU1RBUlQsXG4gICAgICBFdmVudFR5cGUuTVNQT0lOVEVSRE9XTixcbiAgICAgIE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkRPV04sXG4gICAgICBFdmVudFR5cGUuTU9VU0VXSEVFTCxcbiAgICAgIEV2ZW50VHlwZS5XSEVFTFxuICAgIF07XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gb3ZlcmxheUV2ZW50cy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBsaXN0ZW4odGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50Xywgb3ZlcmxheUV2ZW50c1tpXSwgc3RvcFByb3BhZ2F0aW9uKTtcbiAgICB9XG4gICAgdGhpcy52aWV3cG9ydF8uYXBwZW5kQ2hpbGQodGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50Xyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtNYXBCcm93c2VyRXZlbnRIYW5kbGVyfVxuICAgICAqL1xuICAgIHRoaXMubWFwQnJvd3NlckV2ZW50SGFuZGxlcl8gPSBuZXcgTWFwQnJvd3NlckV2ZW50SGFuZGxlcih0aGlzLCBvcHRpb25zLm1vdmVUb2xlcmFuY2UpO1xuICAgIGZvciAodmFyIGtleSBpbiBNYXBCcm93c2VyRXZlbnRUeXBlKSB7XG4gICAgICBsaXN0ZW4odGhpcy5tYXBCcm93c2VyRXZlbnRIYW5kbGVyXywgTWFwQnJvd3NlckV2ZW50VHlwZVtrZXldLFxuICAgICAgICB0aGlzLmhhbmRsZU1hcEJyb3dzZXJFdmVudCwgdGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR8RG9jdW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5rZXlib2FyZEV2ZW50VGFyZ2V0XyA9IG9wdGlvbnNJbnRlcm5hbC5rZXlib2FyZEV2ZW50VGFyZ2V0O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pn1cbiAgICAgKi9cbiAgICB0aGlzLmtleUhhbmRsZXJLZXlzXyA9IG51bGw7XG5cbiAgICBsaXN0ZW4odGhpcy52aWV3cG9ydF8sIEV2ZW50VHlwZS5DT05URVhUTUVOVSwgdGhpcy5oYW5kbGVCcm93c2VyRXZlbnQsIHRoaXMpO1xuICAgIGxpc3Rlbih0aGlzLnZpZXdwb3J0XywgRXZlbnRUeXBlLldIRUVMLCB0aGlzLmhhbmRsZUJyb3dzZXJFdmVudCwgdGhpcyk7XG4gICAgbGlzdGVuKHRoaXMudmlld3BvcnRfLCBFdmVudFR5cGUuTU9VU0VXSEVFTCwgdGhpcy5oYW5kbGVCcm93c2VyRXZlbnQsIHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9jb250cm9sL0NvbnRyb2wuanNcIikuZGVmYXVsdD59XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHRoaXMuY29udHJvbHMgPSBvcHRpb25zSW50ZXJuYWwuY29udHJvbHMgfHwgbmV3IENvbGxlY3Rpb24oKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdD59XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHRoaXMuaW50ZXJhY3Rpb25zID0gb3B0aW9uc0ludGVybmFsLmludGVyYWN0aW9ucyB8fCBuZXcgQ29sbGVjdGlvbigpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHQ+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5vdmVybGF5c18gPSBvcHRpb25zSW50ZXJuYWwub3ZlcmxheXM7XG5cbiAgICAvKipcbiAgICAgKiBBIGxvb2t1cCBvZiBvdmVybGF5cyBieSBpZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdD59XG4gICAgICovXG4gICAgdGhpcy5vdmVybGF5SWRJbmRleF8gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3JlbmRlcmVyL01hcC5qc1wiKS5kZWZhdWx0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlcl8gPSB0aGlzLmNyZWF0ZVJlbmRlcmVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oRXZlbnQpfHVuZGVmaW5lZH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuaGFuZGxlUmVzaXplXztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAqL1xuICAgIHRoaXMuZm9jdXNfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFBcnJheTxQb3N0UmVuZGVyRnVuY3Rpb24+fVxuICAgICAqL1xuICAgIHRoaXMucG9zdFJlbmRlckZ1bmN0aW9uc18gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1RpbGVRdWV1ZX1cbiAgICAgKi9cbiAgICB0aGlzLnRpbGVRdWV1ZV8gPSBuZXcgVGlsZVF1ZXVlKFxuICAgICAgdGhpcy5nZXRUaWxlUHJpb3JpdHkuYmluZCh0aGlzKSxcbiAgICAgIHRoaXMuaGFuZGxlVGlsZUNoYW5nZV8uYmluZCh0aGlzKSk7XG5cbiAgICAvKipcbiAgICAgKiBVaWRzIG9mIGZlYXR1cmVzIHRvIHNraXAgYXQgcmVuZGVyaW5nIHRpbWUuXG4gICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIGJvb2xlYW4+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5za2lwcGVkRmVhdHVyZVVpZHNfID0ge307XG5cbiAgICBsaXN0ZW4oXG4gICAgICB0aGlzLCBnZXRDaGFuZ2VFdmVudFR5cGUoTWFwUHJvcGVydHkuTEFZRVJHUk9VUCksXG4gICAgICB0aGlzLmhhbmRsZUxheWVyR3JvdXBDaGFuZ2VkXywgdGhpcyk7XG4gICAgbGlzdGVuKHRoaXMsIGdldENoYW5nZUV2ZW50VHlwZShNYXBQcm9wZXJ0eS5WSUVXKSxcbiAgICAgIHRoaXMuaGFuZGxlVmlld0NoYW5nZWRfLCB0aGlzKTtcbiAgICBsaXN0ZW4odGhpcywgZ2V0Q2hhbmdlRXZlbnRUeXBlKE1hcFByb3BlcnR5LlNJWkUpLFxuICAgICAgdGhpcy5oYW5kbGVTaXplQ2hhbmdlZF8sIHRoaXMpO1xuICAgIGxpc3Rlbih0aGlzLCBnZXRDaGFuZ2VFdmVudFR5cGUoTWFwUHJvcGVydHkuVEFSR0VUKSxcbiAgICAgIHRoaXMuaGFuZGxlVGFyZ2V0Q2hhbmdlZF8sIHRoaXMpO1xuXG4gICAgLy8gc2V0UHJvcGVydGllcyB3aWxsIHRyaWdnZXIgdGhlIHJlbmRlcmluZyBvZiB0aGUgbWFwIGlmIHRoZSBtYXBcbiAgICAvLyBpcyBcImRlZmluZWRcIiBhbHJlYWR5LlxuICAgIHRoaXMuc2V0UHJvcGVydGllcyhvcHRpb25zSW50ZXJuYWwudmFsdWVzKTtcblxuICAgIHRoaXMuY29udHJvbHMuZm9yRWFjaChcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2NvbnRyb2wvQ29udHJvbC5qc1wiKS5kZWZhdWx0fSBjb250cm9sIENvbnRyb2wuXG4gICAgICAgKiBAdGhpcyB7UGx1Z2dhYmxlTWFwfVxuICAgICAgICovXG4gICAgICAoZnVuY3Rpb24oY29udHJvbCkge1xuICAgICAgICBjb250cm9sLnNldE1hcCh0aGlzKTtcbiAgICAgIH0pLmJpbmQodGhpcykpO1xuXG4gICAgbGlzdGVuKHRoaXMuY29udHJvbHMsIENvbGxlY3Rpb25FdmVudFR5cGUuQURELFxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnR9IGV2ZW50IENvbGxlY3Rpb25FdmVudC5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgZXZlbnQuZWxlbWVudC5zZXRNYXAodGhpcyk7XG4gICAgICB9LCB0aGlzKTtcblxuICAgIGxpc3Rlbih0aGlzLmNvbnRyb2xzLCBDb2xsZWN0aW9uRXZlbnRUeXBlLlJFTU9WRSxcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50fSBldmVudCBDb2xsZWN0aW9uRXZlbnQuXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LmVsZW1lbnQuc2V0TWFwKG51bGwpO1xuICAgICAgfSwgdGhpcyk7XG5cbiAgICB0aGlzLmludGVyYWN0aW9ucy5mb3JFYWNoKFxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdH0gaW50ZXJhY3Rpb24gSW50ZXJhY3Rpb24uXG4gICAgICAgKiBAdGhpcyB7UGx1Z2dhYmxlTWFwfVxuICAgICAgICovXG4gICAgICAoZnVuY3Rpb24oaW50ZXJhY3Rpb24pIHtcbiAgICAgICAgaW50ZXJhY3Rpb24uc2V0TWFwKHRoaXMpO1xuICAgICAgfSkuYmluZCh0aGlzKSk7XG5cbiAgICBsaXN0ZW4odGhpcy5pbnRlcmFjdGlvbnMsIENvbGxlY3Rpb25FdmVudFR5cGUuQURELFxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnR9IGV2ZW50IENvbGxlY3Rpb25FdmVudC5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgZXZlbnQuZWxlbWVudC5zZXRNYXAodGhpcyk7XG4gICAgICB9LCB0aGlzKTtcblxuICAgIGxpc3Rlbih0aGlzLmludGVyYWN0aW9ucywgQ29sbGVjdGlvbkV2ZW50VHlwZS5SRU1PVkUsXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25FdmVudH0gZXZlbnQgQ29sbGVjdGlvbkV2ZW50LlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBldmVudC5lbGVtZW50LnNldE1hcChudWxsKTtcbiAgICAgIH0sIHRoaXMpO1xuXG4gICAgdGhpcy5vdmVybGF5c18uZm9yRWFjaCh0aGlzLmFkZE92ZXJsYXlJbnRlcm5hbF8uYmluZCh0aGlzKSk7XG5cbiAgICBsaXN0ZW4odGhpcy5vdmVybGF5c18sIENvbGxlY3Rpb25FdmVudFR5cGUuQURELFxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnR9IGV2ZW50IENvbGxlY3Rpb25FdmVudC5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgdGhpcy5hZGRPdmVybGF5SW50ZXJuYWxfKC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHR9ICovIChldmVudC5lbGVtZW50KSk7XG4gICAgICB9LCB0aGlzKTtcblxuICAgIGxpc3Rlbih0aGlzLm92ZXJsYXlzXywgQ29sbGVjdGlvbkV2ZW50VHlwZS5SRU1PVkUsXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25FdmVudH0gZXZlbnQgQ29sbGVjdGlvbkV2ZW50LlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbihldmVudCkge1xuICAgICAgICB2YXIgb3ZlcmxheSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHR9ICovIChldmVudC5lbGVtZW50KTtcbiAgICAgICAgdmFyIGlkID0gb3ZlcmxheS5nZXRJZCgpO1xuICAgICAgICBpZiAoaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLm92ZXJsYXlJZEluZGV4X1tpZC50b1N0cmluZygpXTtcbiAgICAgICAgfVxuICAgICAgICBldmVudC5lbGVtZW50LnNldE1hcChudWxsKTtcbiAgICAgIH0sIHRoaXMpO1xuXG4gIH1cblxuICBpZiAoIEJhc2VPYmplY3QgKSBQbHVnZ2FibGVNYXAuX19wcm90b19fID0gQmFzZU9iamVjdDtcbiAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEJhc2VPYmplY3QgJiYgQmFzZU9iamVjdC5wcm90b3R5cGUgKTtcbiAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFBsdWdnYWJsZU1hcDtcblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vcmVuZGVyZXIvTWFwLmpzXCIpLmRlZmF1bHR9IFRoZSBtYXAgcmVuZGVyZXJcbiAgICovXG4gIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuY3JlYXRlUmVuZGVyZXIgPSBmdW5jdGlvbiBjcmVhdGVSZW5kZXJlciAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVc2UgYSBtYXAgdHlwZSB0aGF0IGhhcyBhIGNyZWF0ZVJlbmRlcmVyIG1ldGhvZCcpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBZGQgdGhlIGdpdmVuIGNvbnRyb2wgdG8gdGhlIG1hcC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2NvbnRyb2wvQ29udHJvbC5qc1wiKS5kZWZhdWx0fSBjb250cm9sIENvbnRyb2wuXG4gICAqIEBhcGlcbiAgICovXG4gIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuYWRkQ29udHJvbCA9IGZ1bmN0aW9uIGFkZENvbnRyb2wgKGNvbnRyb2wpIHtcbiAgICB0aGlzLmdldENvbnRyb2xzKCkucHVzaChjb250cm9sKTtcbiAgfTtcblxuICAvKipcbiAgICogQWRkIHRoZSBnaXZlbiBpbnRlcmFjdGlvbiB0byB0aGUgbWFwLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdH0gaW50ZXJhY3Rpb24gSW50ZXJhY3Rpb24gdG8gYWRkLlxuICAgKiBAYXBpXG4gICAqL1xuICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmFkZEludGVyYWN0aW9uID0gZnVuY3Rpb24gYWRkSW50ZXJhY3Rpb24gKGludGVyYWN0aW9uKSB7XG4gICAgdGhpcy5nZXRJbnRlcmFjdGlvbnMoKS5wdXNoKGludGVyYWN0aW9uKTtcbiAgfTtcblxuICAvKipcbiAgICogQWRkcyB0aGUgZ2l2ZW4gbGF5ZXIgdG8gdGhlIHRvcCBvZiB0aGlzIG1hcC4gSWYgeW91IHdhbnQgdG8gYWRkIGEgbGF5ZXJcbiAgICogZWxzZXdoZXJlIGluIHRoZSBzdGFjaywgdXNlIGBnZXRMYXllcnMoKWAgYW5kIHRoZSBtZXRob2RzIGF2YWlsYWJsZSBvblxuICAgKiB7QGxpbmsgbW9kdWxlOm9sL0NvbGxlY3Rpb25+Q29sbGVjdGlvbn0uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9sYXllci9CYXNlLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICAgKiBAYXBpXG4gICAqL1xuICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmFkZExheWVyID0gZnVuY3Rpb24gYWRkTGF5ZXIgKGxheWVyKSB7XG4gICAgdmFyIGxheWVycyA9IHRoaXMuZ2V0TGF5ZXJHcm91cCgpLmdldExheWVycygpO1xuICAgIGxheWVycy5wdXNoKGxheWVyKTtcbiAgfTtcblxuICAvKipcbiAgICogQWRkIHRoZSBnaXZlbiBvdmVybGF5IHRvIHRoZSBtYXAuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHR9IG92ZXJsYXkgT3ZlcmxheS5cbiAgICogQGFwaVxuICAgKi9cbiAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5hZGRPdmVybGF5ID0gZnVuY3Rpb24gYWRkT3ZlcmxheSAob3ZlcmxheSkge1xuICAgIHRoaXMuZ2V0T3ZlcmxheXMoKS5wdXNoKG92ZXJsYXkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGlzIGRlYWxzIHdpdGggbWFwJ3Mgb3ZlcmxheSBjb2xsZWN0aW9uIGNoYW5nZXMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHR9IG92ZXJsYXkgT3ZlcmxheS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuYWRkT3ZlcmxheUludGVybmFsXyA9IGZ1bmN0aW9uIGFkZE92ZXJsYXlJbnRlcm5hbF8gKG92ZXJsYXkpIHtcbiAgICB2YXIgaWQgPSBvdmVybGF5LmdldElkKCk7XG4gICAgaWYgKGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMub3ZlcmxheUlkSW5kZXhfW2lkLnRvU3RyaW5nKCldID0gb3ZlcmxheTtcbiAgICB9XG4gICAgb3ZlcmxheS5zZXRNYXAodGhpcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uIGRpc3Bvc2VJbnRlcm5hbCAoKSB7XG4gICAgdGhpcy5tYXBCcm93c2VyRXZlbnRIYW5kbGVyXy5kaXNwb3NlKCk7XG4gICAgdW5saXN0ZW4odGhpcy52aWV3cG9ydF8sIEV2ZW50VHlwZS5DT05URVhUTUVOVSwgdGhpcy5oYW5kbGVCcm93c2VyRXZlbnQsIHRoaXMpO1xuICAgIHVubGlzdGVuKHRoaXMudmlld3BvcnRfLCBFdmVudFR5cGUuV0hFRUwsIHRoaXMuaGFuZGxlQnJvd3NlckV2ZW50LCB0aGlzKTtcbiAgICB1bmxpc3Rlbih0aGlzLnZpZXdwb3J0XywgRXZlbnRUeXBlLk1PVVNFV0hFRUwsIHRoaXMuaGFuZGxlQnJvd3NlckV2ZW50LCB0aGlzKTtcbiAgICBpZiAodGhpcy5oYW5kbGVSZXNpemVfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLlJFU0laRSwgdGhpcy5oYW5kbGVSZXNpemVfLCBmYWxzZSk7XG4gICAgICB0aGlzLmhhbmRsZVJlc2l6ZV8gPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh0aGlzLmFuaW1hdGlvbkRlbGF5S2V5Xykge1xuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRpb25EZWxheUtleV8pO1xuICAgICAgdGhpcy5hbmltYXRpb25EZWxheUtleV8gPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHRoaXMuc2V0VGFyZ2V0KG51bGwpO1xuICAgIEJhc2VPYmplY3QucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEZXRlY3QgZmVhdHVyZXMgdGhhdCBpbnRlcnNlY3QgYSBwaXhlbCBvbiB0aGUgdmlld3BvcnQsIGFuZCBleGVjdXRlIGFcbiAgICogY2FsbGJhY2sgd2l0aCBlYWNoIGludGVyc2VjdGluZyBmZWF0dXJlLiBMYXllcnMgaW5jbHVkZWQgaW4gdGhlIGRldGVjdGlvbiBjYW5cbiAgICogYmUgY29uZmlndXJlZCB0aHJvdWdoIHRoZSBgbGF5ZXJGaWx0ZXJgIG9wdGlvbiBpbiBgb3B0X29wdGlvbnNgLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6IFMsIGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZSxcbiAgICogICAgIGltcG9ydChcIi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdCk6IFR9IGNhbGxiYWNrIEZlYXR1cmUgY2FsbGJhY2suIFRoZSBjYWxsYmFjayB3aWxsIGJlXG4gICAqICAgICBjYWxsZWQgd2l0aCB0d28gYXJndW1lbnRzLiBUaGUgZmlyc3QgYXJndW1lbnQgaXMgb25lXG4gICAqICAgICB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmUgZmVhdHVyZX0gb3JcbiAgICogICAgIHtAbGluayBtb2R1bGU6b2wvcmVuZGVyL0ZlYXR1cmUgcmVuZGVyIGZlYXR1cmV9IGF0IHRoZSBwaXhlbCwgdGhlIHNlY29uZCBpc1xuICAgKiAgICAgdGhlIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXIgbGF5ZXJ9IG9mIHRoZSBmZWF0dXJlIGFuZCB3aWxsIGJlIG51bGwgZm9yXG4gICAqICAgICB1bm1hbmFnZWQgbGF5ZXJzLiBUbyBzdG9wIGRldGVjdGlvbiwgY2FsbGJhY2sgZnVuY3Rpb25zIGNhbiByZXR1cm4gYVxuICAgKiAgICAgdHJ1dGh5IHZhbHVlLlxuICAgKiBAcGFyYW0ge0F0UGl4ZWxPcHRpb25zPX0gb3B0X29wdGlvbnMgT3B0aW9uYWwgb3B0aW9ucy5cbiAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IENhbGxiYWNrIHJlc3VsdCwgaS5lLiB0aGUgcmV0dXJuIHZhbHVlIG9mIGxhc3RcbiAgICogY2FsbGJhY2sgZXhlY3V0aW9uLCBvciB0aGUgZmlyc3QgdHJ1dGh5IGNhbGxiYWNrIHJldHVybiB2YWx1ZS5cbiAgICogQHRlbXBsYXRlIFMsVFxuICAgKiBAYXBpXG4gICAqL1xuICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmZvckVhY2hGZWF0dXJlQXRQaXhlbCA9IGZ1bmN0aW9uIGZvckVhY2hGZWF0dXJlQXRQaXhlbCAocGl4ZWwsIGNhbGxiYWNrLCBvcHRfb3B0aW9ucykge1xuICAgIGlmICghdGhpcy5mcmFtZVN0YXRlXykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgY29vcmRpbmF0ZSA9IHRoaXMuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbChwaXhlbCk7XG4gICAgb3B0X29wdGlvbnMgPSBvcHRfb3B0aW9ucyAhPT0gdW5kZWZpbmVkID8gb3B0X29wdGlvbnMgOlxuICAgICAgLyoqIEB0eXBlIHtBdFBpeGVsT3B0aW9uc30gKi8gKHt9KTtcbiAgICB2YXIgaGl0VG9sZXJhbmNlID0gb3B0X29wdGlvbnMuaGl0VG9sZXJhbmNlICE9PSB1bmRlZmluZWQgP1xuICAgICAgb3B0X29wdGlvbnMuaGl0VG9sZXJhbmNlICogdGhpcy5mcmFtZVN0YXRlXy5waXhlbFJhdGlvIDogMDtcbiAgICB2YXIgbGF5ZXJGaWx0ZXIgPSBvcHRfb3B0aW9ucy5sYXllckZpbHRlciAhPT0gdW5kZWZpbmVkID9cbiAgICAgIG9wdF9vcHRpb25zLmxheWVyRmlsdGVyIDogVFJVRTtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJlcl8uZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUoXG4gICAgICBjb29yZGluYXRlLCB0aGlzLmZyYW1lU3RhdGVfLCBoaXRUb2xlcmFuY2UsIGNhbGxiYWNrLCBudWxsLFxuICAgICAgbGF5ZXJGaWx0ZXIsIG51bGwpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgYWxsIGZlYXR1cmVzIHRoYXQgaW50ZXJzZWN0IGEgcGl4ZWwgb24gdGhlIHZpZXdwb3J0LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgKiBAcGFyYW0ge0F0UGl4ZWxPcHRpb25zPX0gb3B0X29wdGlvbnMgT3B0aW9uYWwgb3B0aW9ucy5cbiAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlPn0gVGhlIGRldGVjdGVkIGZlYXR1cmVzIG9yXG4gICAqIGBudWxsYCBpZiBub25lIHdlcmUgZm91bmQuXG4gICAqIEBhcGlcbiAgICovXG4gIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0RmVhdHVyZXNBdFBpeGVsID0gZnVuY3Rpb24gZ2V0RmVhdHVyZXNBdFBpeGVsIChwaXhlbCwgb3B0X29wdGlvbnMpIHtcbiAgICB2YXIgZmVhdHVyZXMgPSBudWxsO1xuICAgIHRoaXMuZm9yRWFjaEZlYXR1cmVBdFBpeGVsKHBpeGVsLCBmdW5jdGlvbihmZWF0dXJlKSB7XG4gICAgICBpZiAoIWZlYXR1cmVzKSB7XG4gICAgICAgIGZlYXR1cmVzID0gW107XG4gICAgICB9XG4gICAgICBmZWF0dXJlcy5wdXNoKGZlYXR1cmUpO1xuICAgIH0sIG9wdF9vcHRpb25zKTtcbiAgICByZXR1cm4gZmVhdHVyZXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIERldGVjdCBsYXllcnMgdGhhdCBoYXZlIGEgY29sb3IgdmFsdWUgYXQgYSBwaXhlbCBvbiB0aGUgdmlld3BvcnQsIGFuZFxuICAgKiBleGVjdXRlIGEgY2FsbGJhY2sgd2l0aCBlYWNoIG1hdGNoaW5nIGxheWVyLiBMYXllcnMgaW5jbHVkZWQgaW4gdGhlXG4gICAqIGRldGVjdGlvbiBjYW4gYmUgY29uZmlndXJlZCB0aHJvdWdoIGBvcHRfbGF5ZXJGaWx0ZXJgLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6IFMsIGltcG9ydChcIi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdCwgKFVpbnQ4Q2xhbXBlZEFycmF5fFVpbnQ4QXJyYXkpKTogVH0gY2FsbGJhY2tcbiAgICogICAgIExheWVyIGNhbGxiYWNrLiBUaGlzIGNhbGxiYWNrIHdpbGwgcmVjZWl2ZSB0d28gYXJndW1lbnRzOiBmaXJzdCBpcyB0aGVcbiAgICogICAgIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXIgbGF5ZXJ9LCBzZWNvbmQgYXJndW1lbnQgaXMgYW4gYXJyYXkgcmVwcmVzZW50aW5nXG4gICAqICAgICBbUiwgRywgQiwgQV0gcGl4ZWwgdmFsdWVzICgwIC0gMjU1KSBhbmQgd2lsbCBiZSBgbnVsbGAgZm9yIGxheWVyIHR5cGVzXG4gICAqICAgICB0aGF0IGRvIG5vdCBjdXJyZW50bHkgc3VwcG9ydCB0aGlzIGFyZ3VtZW50LiBUbyBzdG9wIGRldGVjdGlvbiwgY2FsbGJhY2tcbiAgICogICAgIGZ1bmN0aW9ucyBjYW4gcmV0dXJuIGEgdHJ1dGh5IHZhbHVlLlxuICAgKiBAcGFyYW0ge0F0UGl4ZWxPcHRpb25zPX0gb3B0X29wdGlvbnMgQ29uZmlndXJhdGlvbiBvcHRpb25zLlxuICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LCBpLmUuIHRoZSByZXR1cm4gdmFsdWUgb2YgbGFzdFxuICAgKiBjYWxsYmFjayBleGVjdXRpb24sIG9yIHRoZSBmaXJzdCB0cnV0aHkgY2FsbGJhY2sgcmV0dXJuIHZhbHVlLlxuICAgKiBAdGVtcGxhdGUgUyxUXG4gICAqIEBhcGlcbiAgICovXG4gIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZm9yRWFjaExheWVyQXRQaXhlbCA9IGZ1bmN0aW9uIGZvckVhY2hMYXllckF0UGl4ZWwgKHBpeGVsLCBjYWxsYmFjaywgb3B0X29wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuZnJhbWVTdGF0ZV8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCAvKiogQHR5cGUge0F0UGl4ZWxPcHRpb25zfSAqLyAoe30pO1xuICAgIHZhciBoaXRUb2xlcmFuY2UgPSBvcHRpb25zLmhpdFRvbGVyYW5jZSAhPT0gdW5kZWZpbmVkID9cbiAgICAgIG9wdF9vcHRpb25zLmhpdFRvbGVyYW5jZSAqIHRoaXMuZnJhbWVTdGF0ZV8ucGl4ZWxSYXRpbyA6IDA7XG4gICAgdmFyIGxheWVyRmlsdGVyID0gb3B0aW9ucy5sYXllckZpbHRlciB8fCBUUlVFO1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmVyXy5mb3JFYWNoTGF5ZXJBdFBpeGVsKFxuICAgICAgcGl4ZWwsIHRoaXMuZnJhbWVTdGF0ZV8sIGhpdFRvbGVyYW5jZSwgY2FsbGJhY2ssIG51bGwsIGxheWVyRmlsdGVyLCBudWxsKTtcbiAgfTtcblxuICAvKipcbiAgICogRGV0ZWN0IGlmIGZlYXR1cmVzIGludGVyc2VjdCBhIHBpeGVsIG9uIHRoZSB2aWV3cG9ydC4gTGF5ZXJzIGluY2x1ZGVkIGluIHRoZVxuICAgKiBkZXRlY3Rpb24gY2FuIGJlIGNvbmZpZ3VyZWQgdGhyb3VnaCBgb3B0X2xheWVyRmlsdGVyYC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbC5cbiAgICogQHBhcmFtIHtBdFBpeGVsT3B0aW9ucz19IG9wdF9vcHRpb25zIE9wdGlvbmFsIG9wdGlvbnMuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElzIHRoZXJlIGEgZmVhdHVyZSBhdCB0aGUgZ2l2ZW4gcGl4ZWw/XG4gICAqIEB0ZW1wbGF0ZSBVXG4gICAqIEBhcGlcbiAgICovXG4gIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuaGFzRmVhdHVyZUF0UGl4ZWwgPSBmdW5jdGlvbiBoYXNGZWF0dXJlQXRQaXhlbCAocGl4ZWwsIG9wdF9vcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmZyYW1lU3RhdGVfKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBjb29yZGluYXRlID0gdGhpcy5nZXRDb29yZGluYXRlRnJvbVBpeGVsKHBpeGVsKTtcbiAgICBvcHRfb3B0aW9ucyA9IG9wdF9vcHRpb25zICE9PSB1bmRlZmluZWQgPyBvcHRfb3B0aW9ucyA6XG4gICAgICAvKiogQHR5cGUge0F0UGl4ZWxPcHRpb25zfSAqLyAoe30pO1xuICAgIHZhciBsYXllckZpbHRlciA9IG9wdF9vcHRpb25zLmxheWVyRmlsdGVyICE9PSB1bmRlZmluZWQgPyBvcHRfb3B0aW9ucy5sYXllckZpbHRlciA6IFRSVUU7XG4gICAgdmFyIGhpdFRvbGVyYW5jZSA9IG9wdF9vcHRpb25zLmhpdFRvbGVyYW5jZSAhPT0gdW5kZWZpbmVkID9cbiAgICAgIG9wdF9vcHRpb25zLmhpdFRvbGVyYW5jZSAqIHRoaXMuZnJhbWVTdGF0ZV8ucGl4ZWxSYXRpbyA6IDA7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyZXJfLmhhc0ZlYXR1cmVBdENvb3JkaW5hdGUoXG4gICAgICBjb29yZGluYXRlLCB0aGlzLmZyYW1lU3RhdGVfLCBoaXRUb2xlcmFuY2UsIGxheWVyRmlsdGVyLCBudWxsKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY29vcmRpbmF0ZSBpbiB2aWV3IHByb2plY3Rpb24gZm9yIGEgYnJvd3NlciBldmVudC5cbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgRXZlbnQuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBDb29yZGluYXRlLlxuICAgKiBAYXBpXG4gICAqL1xuICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldEV2ZW50Q29vcmRpbmF0ZSA9IGZ1bmN0aW9uIGdldEV2ZW50Q29vcmRpbmF0ZSAoZXZlbnQpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDb29yZGluYXRlRnJvbVBpeGVsKHRoaXMuZ2V0RXZlbnRQaXhlbChldmVudCkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBtYXAgcGl4ZWwgcG9zaXRpb24gZm9yIGEgYnJvd3NlciBldmVudCByZWxhdGl2ZSB0byB0aGUgdmlld3BvcnQuXG4gICAqIEBwYXJhbSB7RXZlbnR8VG91Y2hFdmVudH0gZXZlbnQgRXZlbnQuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IFBpeGVsLlxuICAgKiBAYXBpXG4gICAqL1xuICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldEV2ZW50UGl4ZWwgPSBmdW5jdGlvbiBnZXRFdmVudFBpeGVsIChldmVudCkge1xuICAgIHZhciB2aWV3cG9ydFBvc2l0aW9uID0gdGhpcy52aWV3cG9ydF8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdmFyIGV2ZW50UG9zaXRpb24gPSAnY2hhbmdlZFRvdWNoZXMnIGluIGV2ZW50ID9cbiAgICAgIC8qKiBAdHlwZSB7VG91Y2hFdmVudH0gKi8gKGV2ZW50KS5jaGFuZ2VkVG91Y2hlc1swXSA6XG4gICAgICAvKiogQHR5cGUge01vdXNlRXZlbnR9ICovIChldmVudCk7XG5cbiAgICByZXR1cm4gW1xuICAgICAgZXZlbnRQb3NpdGlvbi5jbGllbnRYIC0gdmlld3BvcnRQb3NpdGlvbi5sZWZ0LFxuICAgICAgZXZlbnRQb3NpdGlvbi5jbGllbnRZIC0gdmlld3BvcnRQb3NpdGlvbi50b3BcbiAgICBdO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHRhcmdldCBpbiB3aGljaCB0aGlzIG1hcCBpcyByZW5kZXJlZC5cbiAgICogTm90ZSB0aGF0IHRoaXMgcmV0dXJucyB3aGF0IGlzIGVudGVyZWQgYXMgYW4gb3B0aW9uIG9yIGluIHNldFRhcmdldDpcbiAgICogaWYgdGhhdCB3YXMgYW4gZWxlbWVudCwgaXQgcmV0dXJucyBhbiBlbGVtZW50OyBpZiBhIHN0cmluZywgaXQgcmV0dXJucyB0aGF0LlxuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudHxzdHJpbmd8dW5kZWZpbmVkfSBUaGUgRWxlbWVudCBvciBpZCBvZiB0aGUgRWxlbWVudCB0aGF0IHRoZVxuICAgKiAgICAgbWFwIGlzIHJlbmRlcmVkIGluLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCAoKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR8c3RyaW5nfHVuZGVmaW5lZH0gKi8gKHRoaXMuZ2V0KE1hcFByb3BlcnR5LlRBUkdFVCkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIERPTSBlbGVtZW50IGludG8gd2hpY2ggdGhpcyBtYXAgaXMgcmVuZGVyZWQuIEluIGNvbnRyYXN0IHRvXG4gICAqIGBnZXRUYXJnZXRgIHRoaXMgbWV0aG9kIGFsd2F5cyByZXR1cm4gYW4gYEVsZW1lbnRgLCBvciBgbnVsbGAgaWYgdGhlXG4gICAqIG1hcCBoYXMgbm8gdGFyZ2V0LlxuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gVGhlIGVsZW1lbnQgdGhhdCB0aGUgbWFwIGlzIHJlbmRlcmVkIGluLlxuICAgKiBAYXBpXG4gICAqL1xuICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldFRhcmdldEVsZW1lbnQgPSBmdW5jdGlvbiBnZXRUYXJnZXRFbGVtZW50ICgpIHtcbiAgICB2YXIgdGFyZ2V0ID0gdGhpcy5nZXRUYXJnZXQoKTtcbiAgICBpZiAodGFyZ2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdGFyZ2V0ID09PSAnc3RyaW5nJyA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldCkgOiB0YXJnZXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSBjb29yZGluYXRlIGZvciBhIGdpdmVuIHBpeGVsLiAgVGhpcyByZXR1cm5zIGEgY29vcmRpbmF0ZSBpbiB0aGVcbiAgICogbWFwIHZpZXcgcHJvamVjdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbCBwb3NpdGlvbiBpbiB0aGUgbWFwIHZpZXdwb3J0LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gVGhlIGNvb3JkaW5hdGUgZm9yIHRoZSBwaXhlbCBwb3NpdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRDb29yZGluYXRlRnJvbVBpeGVsID0gZnVuY3Rpb24gZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbCAocGl4ZWwpIHtcbiAgICB2YXIgZnJhbWVTdGF0ZSA9IHRoaXMuZnJhbWVTdGF0ZV87XG4gICAgaWYgKCFmcmFtZVN0YXRlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGFwcGx5VHJhbnNmb3JtKGZyYW1lU3RhdGUucGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm0sIHBpeGVsLnNsaWNlKCkpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSBtYXAgY29udHJvbHMuIE1vZGlmeWluZyB0aGlzIGNvbGxlY3Rpb24gY2hhbmdlcyB0aGUgY29udHJvbHNcbiAgICogYXNzb2NpYXRlZCB3aXRoIHRoZSBtYXAuXG4gICAqIEByZXR1cm4ge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9jb250cm9sL0NvbnRyb2wuanNcIikuZGVmYXVsdD59IENvbnRyb2xzLlxuICAgKiBAYXBpXG4gICAqL1xuICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldENvbnRyb2xzID0gZnVuY3Rpb24gZ2V0Q29udHJvbHMgKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRyb2xzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1hcCBvdmVybGF5cy4gTW9kaWZ5aW5nIHRoaXMgY29sbGVjdGlvbiBjaGFuZ2VzIHRoZSBvdmVybGF5c1xuICAgKiBhc3NvY2lhdGVkIHdpdGggdGhlIG1hcC5cbiAgICogQHJldHVybiB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdD59IE92ZXJsYXlzLlxuICAgKiBAYXBpXG4gICAqL1xuICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldE92ZXJsYXlzID0gZnVuY3Rpb24gZ2V0T3ZlcmxheXMgKCkge1xuICAgIHJldHVybiB0aGlzLm92ZXJsYXlzXztcbiAgfTtcblxuICAvKipcbiAgICogR2V0IGFuIG92ZXJsYXkgYnkgaXRzIGlkZW50aWZpZXIgKHRoZSB2YWx1ZSByZXR1cm5lZCBieSBvdmVybGF5LmdldElkKCkpLlxuICAgKiBOb3RlIHRoYXQgdGhlIGluZGV4IHRyZWF0cyBzdHJpbmcgYW5kIG51bWVyaWMgaWRlbnRpZmllcnMgYXMgdGhlIHNhbWUuIFNvXG4gICAqIGBtYXAuZ2V0T3ZlcmxheUJ5SWQoMilgIHdpbGwgcmV0dXJuIGFuIG92ZXJsYXkgd2l0aCBpZCBgJzInYCBvciBgMmAuXG4gICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gaWQgT3ZlcmxheSBpZGVudGlmaWVyLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdH0gT3ZlcmxheS5cbiAgICogQGFwaVxuICAgKi9cbiAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRPdmVybGF5QnlJZCA9IGZ1bmN0aW9uIGdldE92ZXJsYXlCeUlkIChpZCkge1xuICAgIHZhciBvdmVybGF5ID0gdGhpcy5vdmVybGF5SWRJbmRleF9baWQudG9TdHJpbmcoKV07XG4gICAgcmV0dXJuIG92ZXJsYXkgIT09IHVuZGVmaW5lZCA/IG92ZXJsYXkgOiBudWxsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1hcCBpbnRlcmFjdGlvbnMuIE1vZGlmeWluZyB0aGlzIGNvbGxlY3Rpb24gY2hhbmdlcyB0aGUgaW50ZXJhY3Rpb25zXG4gICAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgbWFwLlxuICAgKlxuICAgKiBJbnRlcmFjdGlvbnMgYXJlIHVzZWQgZm9yIGUuZy4gcGFuLCB6b29tIGFuZCByb3RhdGUuXG4gICAqIEByZXR1cm4ge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0Pn0gSW50ZXJhY3Rpb25zLlxuICAgKiBAYXBpXG4gICAqL1xuICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldEludGVyYWN0aW9ucyA9IGZ1bmN0aW9uIGdldEludGVyYWN0aW9ucyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJhY3Rpb25zO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGxheWVyZ3JvdXAgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbWFwLlxuICAgKiBAcmV0dXJuIHtMYXllckdyb3VwfSBBIGxheWVyIGdyb3VwIGNvbnRhaW5pbmcgdGhlIGxheWVycyBpbiB0aGlzIG1hcC5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRMYXllckdyb3VwID0gZnVuY3Rpb24gZ2V0TGF5ZXJHcm91cCAoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIC8qKiBAdHlwZSB7TGF5ZXJHcm91cH0gKi8gKHRoaXMuZ2V0KE1hcFByb3BlcnR5LkxBWUVSR1JPVVApKVxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY29sbGVjdGlvbiBvZiBsYXllcnMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbWFwLlxuICAgKiBAcmV0dXJuIHshQ29sbGVjdGlvbjxpbXBvcnQoXCIuL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdD59IExheWVycy5cbiAgICogQGFwaVxuICAgKi9cbiAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRMYXllcnMgPSBmdW5jdGlvbiBnZXRMYXllcnMgKCkge1xuICAgIHZhciBsYXllcnMgPSB0aGlzLmdldExheWVyR3JvdXAoKS5nZXRMYXllcnMoKTtcbiAgICByZXR1cm4gbGF5ZXJzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHBpeGVsIGZvciBhIGNvb3JkaW5hdGUuICBUaGlzIHRha2VzIGEgY29vcmRpbmF0ZSBpbiB0aGUgbWFwIHZpZXdcbiAgICogcHJvamVjdGlvbiBhbmQgcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyBwaXhlbC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBBIG1hcCBjb29yZGluYXRlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBBIHBpeGVsIHBvc2l0aW9uIGluIHRoZSBtYXAgdmlld3BvcnQuXG4gICAqIEBhcGlcbiAgICovXG4gIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZSA9IGZ1bmN0aW9uIGdldFBpeGVsRnJvbUNvb3JkaW5hdGUgKGNvb3JkaW5hdGUpIHtcbiAgICB2YXIgZnJhbWVTdGF0ZSA9IHRoaXMuZnJhbWVTdGF0ZV87XG4gICAgaWYgKCFmcmFtZVN0YXRlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGFwcGx5VHJhbnNmb3JtKGZyYW1lU3RhdGUuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0sIGNvb3JkaW5hdGUuc2xpY2UoMCwgMikpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSBtYXAgcmVuZGVyZXIuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vcmVuZGVyZXIvTWFwLmpzXCIpLmRlZmF1bHR9IFJlbmRlcmVyXG4gICAqL1xuICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldFJlbmRlcmVyID0gZnVuY3Rpb24gZ2V0UmVuZGVyZXIgKCkge1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmVyXztcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSBzaXplIG9mIHRoaXMgbWFwLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZXx1bmRlZmluZWR9IFRoZSBzaXplIGluIHBpeGVscyBvZiB0aGUgbWFwIGluIHRoZSBET00uXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uIGdldFNpemUgKCkge1xuICAgIHJldHVybiAoXG4gICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfHVuZGVmaW5lZH0gKi8gKHRoaXMuZ2V0KE1hcFByb3BlcnR5LlNJWkUpKVxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmlldyBhc3NvY2lhdGVkIHdpdGggdGhpcyBtYXAuIEEgdmlldyBtYW5hZ2VzIHByb3BlcnRpZXMgc3VjaCBhc1xuICAgKiBjZW50ZXIgYW5kIHJlc29sdXRpb24uXG4gICAqIEByZXR1cm4ge1ZpZXd9IFRoZSB2aWV3IHRoYXQgY29udHJvbHMgdGhpcyBtYXAuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0VmlldyA9IGZ1bmN0aW9uIGdldFZpZXcgKCkge1xuICAgIHJldHVybiAoXG4gICAgICAvKiogQHR5cGUge1ZpZXd9ICovICh0aGlzLmdldChNYXBQcm9wZXJ0eS5WSUVXKSlcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGVsZW1lbnQgdGhhdCBzZXJ2ZXMgYXMgdGhlIG1hcCB2aWV3cG9ydC5cbiAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9IFZpZXdwb3J0LlxuICAgKiBAYXBpXG4gICAqL1xuICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldFZpZXdwb3J0ID0gZnVuY3Rpb24gZ2V0Vmlld3BvcnQgKCkge1xuICAgIHJldHVybiB0aGlzLnZpZXdwb3J0XztcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSBlbGVtZW50IHRoYXQgc2VydmVzIGFzIHRoZSBjb250YWluZXIgZm9yIG92ZXJsYXlzLiAgRWxlbWVudHMgYWRkZWQgdG9cbiAgICogdGhpcyBjb250YWluZXIgd2lsbCBsZXQgbW91c2Vkb3duIGFuZCB0b3VjaHN0YXJ0IGV2ZW50cyB0aHJvdWdoIHRvIHRoZSBtYXAsXG4gICAqIHNvIGNsaWNrcyBhbmQgZ2VzdHVyZXMgb24gYW4gb3ZlcmxheSB3aWxsIHRyaWdnZXIge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fVxuICAgKiBldmVudHMuXG4gICAqIEByZXR1cm4geyFIVE1MRWxlbWVudH0gVGhlIG1hcCdzIG92ZXJsYXkgY29udGFpbmVyLlxuICAgKi9cbiAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRPdmVybGF5Q29udGFpbmVyID0gZnVuY3Rpb24gZ2V0T3ZlcmxheUNvbnRhaW5lciAoKSB7XG4gICAgcmV0dXJuIHRoaXMub3ZlcmxheUNvbnRhaW5lcl87XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZWxlbWVudCB0aGF0IHNlcnZlcyBhcyBhIGNvbnRhaW5lciBmb3Igb3ZlcmxheXMgdGhhdCBkb24ndCBhbGxvd1xuICAgKiBldmVudCBwcm9wYWdhdGlvbi4gRWxlbWVudHMgYWRkZWQgdG8gdGhpcyBjb250YWluZXIgd29uJ3QgbGV0IG1vdXNlZG93biBhbmRcbiAgICogdG91Y2hzdGFydCBldmVudHMgdGhyb3VnaCB0byB0aGUgbWFwLCBzbyBjbGlja3MgYW5kIGdlc3R1cmVzIG9uIGFuIG92ZXJsYXlcbiAgICogZG9uJ3QgdHJpZ2dlciBhbnkge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fS5cbiAgICogQHJldHVybiB7IUhUTUxFbGVtZW50fSBUaGUgbWFwJ3Mgb3ZlcmxheSBjb250YWluZXIgdGhhdCBzdG9wcyBldmVudHMuXG4gICAqL1xuICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldE92ZXJsYXlDb250YWluZXJTdG9wRXZlbnQgPSBmdW5jdGlvbiBnZXRPdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50ICgpIHtcbiAgICByZXR1cm4gdGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50XztcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuZGVmYXVsdH0gdGlsZSBUaWxlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGlsZVNvdXJjZUtleSBUaWxlIHNvdXJjZSBrZXkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHRpbGVDZW50ZXIgVGlsZSBjZW50ZXIuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0aWxlUmVzb2x1dGlvbiBUaWxlIHJlc29sdXRpb24uXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGlsZSBwcmlvcml0eS5cbiAgICovXG4gIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0VGlsZVByaW9yaXR5ID0gZnVuY3Rpb24gZ2V0VGlsZVByaW9yaXR5ICh0aWxlLCB0aWxlU291cmNlS2V5LCB0aWxlQ2VudGVyLCB0aWxlUmVzb2x1dGlvbikge1xuICAgIC8vIEZpbHRlciBvdXQgdGlsZXMgYXQgaGlnaGVyIHpvb20gbGV2ZWxzIHRoYW4gdGhlIGN1cnJlbnQgem9vbSBsZXZlbCwgb3IgdGhhdFxuICAgIC8vIGFyZSBvdXRzaWRlIHRoZSB2aXNpYmxlIGV4dGVudC5cbiAgICB2YXIgZnJhbWVTdGF0ZSA9IHRoaXMuZnJhbWVTdGF0ZV87XG4gICAgaWYgKCFmcmFtZVN0YXRlIHx8ICEodGlsZVNvdXJjZUtleSBpbiBmcmFtZVN0YXRlLndhbnRlZFRpbGVzKSkge1xuICAgICAgcmV0dXJuIERST1A7XG4gICAgfVxuICAgIGlmICghZnJhbWVTdGF0ZS53YW50ZWRUaWxlc1t0aWxlU291cmNlS2V5XVt0aWxlLmdldEtleSgpXSkge1xuICAgICAgcmV0dXJuIERST1A7XG4gICAgfVxuICAgIC8vIFByaW9yaXRpemUgdGhlIGhpZ2hlc3Qgem9vbSBsZXZlbCB0aWxlcyBjbG9zZXN0IHRvIHRoZSBmb2N1cy5cbiAgICAvLyBUaWxlcyBhdCBoaWdoZXIgem9vbSBsZXZlbHMgYXJlIHByaW9yaXRpemVkIHVzaW5nIE1hdGgubG9nKHRpbGVSZXNvbHV0aW9uKS5cbiAgICAvLyBXaXRoaW4gYSB6b29tIGxldmVsLCB0aWxlcyBhcmUgcHJpb3JpdGl6ZWQgYnkgdGhlIGRpc3RhbmNlIGluIHBpeGVsc1xuICAgIC8vIGJldHdlZW4gdGhlIGNlbnRlciBvZiB0aGUgdGlsZSBhbmQgdGhlIGZvY3VzLiAgVGhlIGZhY3RvciBvZiA2NTUzNiBtZWFuc1xuICAgIC8vIHRoYXQgdGhlIHByaW9yaXRpemF0aW9uIHNob3VsZCBiZWhhdmUgYXMgZGVzaXJlZCBmb3IgdGlsZXMgdXAgdG9cbiAgICAvLyA2NTUzNiAqIE1hdGgubG9nKDIpID0gNDU0MjYgcGl4ZWxzIGZyb20gdGhlIGZvY3VzLlxuICAgIHZhciBkZWx0YVggPSB0aWxlQ2VudGVyWzBdIC0gZnJhbWVTdGF0ZS5mb2N1c1swXTtcbiAgICB2YXIgZGVsdGFZID0gdGlsZUNlbnRlclsxXSAtIGZyYW1lU3RhdGUuZm9jdXNbMV07XG4gICAgcmV0dXJuIDY1NTM2ICogTWF0aC5sb2codGlsZVJlc29sdXRpb24pICtcbiAgICAgICAgTWF0aC5zcXJ0KGRlbHRhWCAqIGRlbHRhWCArIGRlbHRhWSAqIGRlbHRhWSkgLyB0aWxlUmVzb2x1dGlvbjtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtFdmVudH0gYnJvd3NlckV2ZW50IEJyb3dzZXIgZXZlbnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X3R5cGUgVHlwZS5cbiAgICovXG4gIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuaGFuZGxlQnJvd3NlckV2ZW50ID0gZnVuY3Rpb24gaGFuZGxlQnJvd3NlckV2ZW50IChicm93c2VyRXZlbnQsIG9wdF90eXBlKSB7XG4gICAgdmFyIHR5cGUgPSBvcHRfdHlwZSB8fCBicm93c2VyRXZlbnQudHlwZTtcbiAgICB2YXIgbWFwQnJvd3NlckV2ZW50ID0gbmV3IE1hcEJyb3dzZXJFdmVudCh0eXBlLCB0aGlzLCBicm93c2VyRXZlbnQpO1xuICAgIHRoaXMuaGFuZGxlTWFwQnJvd3NlckV2ZW50KG1hcEJyb3dzZXJFdmVudCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TWFwQnJvd3NlckV2ZW50fSBtYXBCcm93c2VyRXZlbnQgVGhlIGV2ZW50IHRvIGhhbmRsZS5cbiAgICovXG4gIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuaGFuZGxlTWFwQnJvd3NlckV2ZW50ID0gZnVuY3Rpb24gaGFuZGxlTWFwQnJvd3NlckV2ZW50IChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuZnJhbWVTdGF0ZV8pIHtcbiAgICAgIC8vIFdpdGggbm8gdmlldyBkZWZpbmVkLCB3ZSBjYW5ub3QgdHJhbnNsYXRlIHBpeGVscyBpbnRvIGdlb2dyYXBoaWNhbFxuICAgICAgLy8gY29vcmRpbmF0ZXMgc28gaW50ZXJhY3Rpb25zIGNhbm5vdCBiZSB1c2VkLlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmZvY3VzXyA9IG1hcEJyb3dzZXJFdmVudC5jb29yZGluYXRlO1xuICAgIG1hcEJyb3dzZXJFdmVudC5mcmFtZVN0YXRlID0gdGhpcy5mcmFtZVN0YXRlXztcbiAgICB2YXIgaW50ZXJhY3Rpb25zQXJyYXkgPSB0aGlzLmdldEludGVyYWN0aW9ucygpLmdldEFycmF5KCk7XG4gICAgaWYgKHRoaXMuZGlzcGF0Y2hFdmVudChtYXBCcm93c2VyRXZlbnQpICE9PSBmYWxzZSkge1xuICAgICAgZm9yICh2YXIgaSA9IGludGVyYWN0aW9uc0FycmF5Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbiA9IGludGVyYWN0aW9uc0FycmF5W2ldO1xuICAgICAgICBpZiAoIWludGVyYWN0aW9uLmdldEFjdGl2ZSgpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbnQgPSBpbnRlcmFjdGlvbi5oYW5kbGVFdmVudChtYXBCcm93c2VyRXZlbnQpO1xuICAgICAgICBpZiAoIWNvbnQpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5oYW5kbGVQb3N0UmVuZGVyID0gZnVuY3Rpb24gaGFuZGxlUG9zdFJlbmRlciAoKSB7XG5cbiAgICB2YXIgZnJhbWVTdGF0ZSA9IHRoaXMuZnJhbWVTdGF0ZV87XG5cbiAgICAvLyBNYW5hZ2UgdGhlIHRpbGUgcXVldWVcbiAgICAvLyBJbWFnZSBsb2FkcyBhcmUgZXhwZW5zaXZlIGFuZCBhIGxpbWl0ZWQgcmVzb3VyY2UsIHNvIHRyeSB0byB1c2UgdGhlbVxuICAgIC8vIGVmZmljaWVudGx5OlxuICAgIC8vICogV2hlbiB0aGUgdmlldyBpcyBzdGF0aWMgd2UgYWxsb3cgYSBsYXJnZSBudW1iZXIgb2YgcGFyYWxsZWwgdGlsZSBsb2Fkc1xuICAgIC8vICAgdG8gY29tcGxldGUgdGhlIGZyYW1lIGFzIHF1aWNrbHkgYXMgcG9zc2libGUuXG4gICAgLy8gKiBXaGVuIGFuaW1hdGluZyBvciBpbnRlcmFjdGluZywgaW1hZ2UgbG9hZHMgY2FuIGNhdXNlIGphbmtzLCBzbyB3ZSByZWR1Y2VcbiAgICAvLyAgIHRoZSBtYXhpbXVtIG51bWJlciBvZiBsb2FkcyBwZXIgZnJhbWUgYW5kIGxpbWl0IHRoZSBudW1iZXIgb2YgcGFyYWxsZWxcbiAgICAvLyAgIHRpbGUgbG9hZHMgdG8gcmVtYWluIHJlYWN0aXZlIHRvIHZpZXcgY2hhbmdlcyBhbmQgdG8gcmVkdWNlIHRoZSBjaGFuY2Ugb2ZcbiAgICAvLyAgIGxvYWRpbmcgdGlsZXMgdGhhdCB3aWxsIHF1aWNrbHkgZGlzYXBwZWFyIGZyb20gdmlldy5cbiAgICB2YXIgdGlsZVF1ZXVlID0gdGhpcy50aWxlUXVldWVfO1xuICAgIGlmICghdGlsZVF1ZXVlLmlzRW1wdHkoKSkge1xuICAgICAgdmFyIG1heFRvdGFsTG9hZGluZyA9IHRoaXMubWF4VGlsZXNMb2FkaW5nXztcbiAgICAgIHZhciBtYXhOZXdMb2FkcyA9IG1heFRvdGFsTG9hZGluZztcbiAgICAgIGlmIChmcmFtZVN0YXRlKSB7XG4gICAgICAgIHZhciBoaW50cyA9IGZyYW1lU3RhdGUudmlld0hpbnRzO1xuICAgICAgICBpZiAoaGludHNbVmlld0hpbnQuQU5JTUFUSU5HXSkge1xuICAgICAgICAgIG1heFRvdGFsTG9hZGluZyA9IHRoaXMubG9hZFRpbGVzV2hpbGVBbmltYXRpbmdfID8gOCA6IDA7XG4gICAgICAgICAgbWF4TmV3TG9hZHMgPSAyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoaW50c1tWaWV3SGludC5JTlRFUkFDVElOR10pIHtcbiAgICAgICAgICBtYXhUb3RhbExvYWRpbmcgPSB0aGlzLmxvYWRUaWxlc1doaWxlSW50ZXJhY3RpbmdfID8gOCA6IDA7XG4gICAgICAgICAgbWF4TmV3TG9hZHMgPSAyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGlsZVF1ZXVlLmdldFRpbGVzTG9hZGluZygpIDwgbWF4VG90YWxMb2FkaW5nKSB7XG4gICAgICAgIHRpbGVRdWV1ZS5yZXByaW9yaXRpemUoKTsgLy8gRklYTUUgb25seSBjYWxsIGlmIHZpZXcgaGFzIGNoYW5nZWRcbiAgICAgICAgdGlsZVF1ZXVlLmxvYWRNb3JlVGlsZXMobWF4VG90YWxMb2FkaW5nLCBtYXhOZXdMb2Fkcyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChmcmFtZVN0YXRlICYmIHRoaXMuaGFzTGlzdGVuZXIoUmVuZGVyRXZlbnRUeXBlLlJFTkRFUkNPTVBMRVRFKSAmJiAhZnJhbWVTdGF0ZS5hbmltYXRlICYmXG4gICAgICAgICF0aGlzLnRpbGVRdWV1ZV8uZ2V0VGlsZXNMb2FkaW5nKCkgJiYgIWdldExvYWRpbmcodGhpcy5nZXRMYXllcnMoKS5nZXRBcnJheSgpKSkge1xuICAgICAgdGhpcy5yZW5kZXJlcl8uZGlzcGF0Y2hSZW5kZXJFdmVudChSZW5kZXJFdmVudFR5cGUuUkVOREVSQ09NUExFVEUsIGZyYW1lU3RhdGUpO1xuICAgIH1cblxuICAgIHZhciBwb3N0UmVuZGVyRnVuY3Rpb25zID0gdGhpcy5wb3N0UmVuZGVyRnVuY3Rpb25zXztcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBwb3N0UmVuZGVyRnVuY3Rpb25zLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIHBvc3RSZW5kZXJGdW5jdGlvbnNbaV0odGhpcywgZnJhbWVTdGF0ZSk7XG4gICAgfVxuICAgIHBvc3RSZW5kZXJGdW5jdGlvbnMubGVuZ3RoID0gMDtcbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuaGFuZGxlU2l6ZUNoYW5nZWRfID0gZnVuY3Rpb24gaGFuZGxlU2l6ZUNoYW5nZWRfICgpIHtcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5oYW5kbGVUYXJnZXRDaGFuZ2VkXyA9IGZ1bmN0aW9uIGhhbmRsZVRhcmdldENoYW5nZWRfICgpIHtcbiAgICAvLyB0YXJnZXQgbWF5IGJlIHVuZGVmaW5lZCwgbnVsbCwgYSBzdHJpbmcgb3IgYW4gRWxlbWVudC5cbiAgICAvLyBJZiBpdCdzIGEgc3RyaW5nIHdlIGNvbnZlcnQgaXQgdG8gYW4gRWxlbWVudCBiZWZvcmUgcHJvY2VlZGluZy5cbiAgICAvLyBJZiBpdCdzIG5vdCBub3cgYW4gRWxlbWVudCB3ZSByZW1vdmUgdGhlIHZpZXdwb3J0IGZyb20gdGhlIERPTS5cbiAgICAvLyBJZiBpdCdzIGFuIEVsZW1lbnQgd2UgYXBwZW5kIHRoZSB2aWV3cG9ydCBlbGVtZW50IHRvIGl0LlxuXG4gICAgdmFyIHRhcmdldEVsZW1lbnQ7XG4gICAgaWYgKHRoaXMuZ2V0VGFyZ2V0KCkpIHtcbiAgICAgIHRhcmdldEVsZW1lbnQgPSB0aGlzLmdldFRhcmdldEVsZW1lbnQoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5rZXlIYW5kbGVyS2V5c18pIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHRoaXMua2V5SGFuZGxlcktleXNfLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdW5saXN0ZW5CeUtleSh0aGlzLmtleUhhbmRsZXJLZXlzX1tpXSk7XG4gICAgICB9XG4gICAgICB0aGlzLmtleUhhbmRsZXJLZXlzXyA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCF0YXJnZXRFbGVtZW50KSB7XG4gICAgICB0aGlzLnJlbmRlcmVyXy5yZW1vdmVMYXllclJlbmRlcmVycygpO1xuICAgICAgcmVtb3ZlTm9kZSh0aGlzLnZpZXdwb3J0Xyk7XG4gICAgICBpZiAodGhpcy5oYW5kbGVSZXNpemVfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuUkVTSVpFLCB0aGlzLmhhbmRsZVJlc2l6ZV8sIGZhbHNlKTtcbiAgICAgICAgdGhpcy5oYW5kbGVSZXNpemVfID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXRFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMudmlld3BvcnRfKTtcblxuICAgICAgdmFyIGtleWJvYXJkRXZlbnRUYXJnZXQgPSAhdGhpcy5rZXlib2FyZEV2ZW50VGFyZ2V0XyA/XG4gICAgICAgIHRhcmdldEVsZW1lbnQgOiB0aGlzLmtleWJvYXJkRXZlbnRUYXJnZXRfO1xuICAgICAgdGhpcy5rZXlIYW5kbGVyS2V5c18gPSBbXG4gICAgICAgIGxpc3RlbihrZXlib2FyZEV2ZW50VGFyZ2V0LCBFdmVudFR5cGUuS0VZRE9XTiwgdGhpcy5oYW5kbGVCcm93c2VyRXZlbnQsIHRoaXMpLFxuICAgICAgICBsaXN0ZW4oa2V5Ym9hcmRFdmVudFRhcmdldCwgRXZlbnRUeXBlLktFWVBSRVNTLCB0aGlzLmhhbmRsZUJyb3dzZXJFdmVudCwgdGhpcylcbiAgICAgIF07XG5cbiAgICAgIGlmICghdGhpcy5oYW5kbGVSZXNpemVfKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlUmVzaXplXyA9IHRoaXMudXBkYXRlU2l6ZS5iaW5kKHRoaXMpO1xuICAgICAgICBhZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5SRVNJWkUsIHRoaXMuaGFuZGxlUmVzaXplXywgZmFsc2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMudXBkYXRlU2l6ZSgpO1xuICAgIC8vIHVwZGF0ZVNpemUgY2FsbHMgc2V0U2l6ZSwgc28gbm8gbmVlZCB0byBjYWxsIHRoaXMucmVuZGVyXG4gICAgLy8gb3Vyc2VsdmVzIGhlcmUuXG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmhhbmRsZVRpbGVDaGFuZ2VfID0gZnVuY3Rpb24gaGFuZGxlVGlsZUNoYW5nZV8gKCkge1xuICAgIHRoaXMucmVuZGVyKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmhhbmRsZVZpZXdQcm9wZXJ0eUNoYW5nZWRfID0gZnVuY3Rpb24gaGFuZGxlVmlld1Byb3BlcnR5Q2hhbmdlZF8gKCkge1xuICAgIHRoaXMucmVuZGVyKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmhhbmRsZVZpZXdDaGFuZ2VkXyA9IGZ1bmN0aW9uIGhhbmRsZVZpZXdDaGFuZ2VkXyAoKSB7XG4gICAgaWYgKHRoaXMudmlld1Byb3BlcnR5TGlzdGVuZXJLZXlfKSB7XG4gICAgICB1bmxpc3RlbkJ5S2V5KHRoaXMudmlld1Byb3BlcnR5TGlzdGVuZXJLZXlfKTtcbiAgICAgIHRoaXMudmlld1Byb3BlcnR5TGlzdGVuZXJLZXlfID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRoaXMudmlld0NoYW5nZUxpc3RlbmVyS2V5Xykge1xuICAgICAgdW5saXN0ZW5CeUtleSh0aGlzLnZpZXdDaGFuZ2VMaXN0ZW5lcktleV8pO1xuICAgICAgdGhpcy52aWV3Q2hhbmdlTGlzdGVuZXJLZXlfID0gbnVsbDtcbiAgICB9XG4gICAgdmFyIHZpZXcgPSB0aGlzLmdldFZpZXcoKTtcbiAgICBpZiAodmlldykge1xuICAgICAgdGhpcy52aWV3cG9ydF8uc2V0QXR0cmlidXRlKCdkYXRhLXZpZXcnLCBnZXRVaWQodmlldykpO1xuICAgICAgdGhpcy52aWV3UHJvcGVydHlMaXN0ZW5lcktleV8gPSBsaXN0ZW4oXG4gICAgICAgIHZpZXcsIE9iamVjdEV2ZW50VHlwZS5QUk9QRVJUWUNIQU5HRSxcbiAgICAgICAgdGhpcy5oYW5kbGVWaWV3UHJvcGVydHlDaGFuZ2VkXywgdGhpcyk7XG4gICAgICB0aGlzLnZpZXdDaGFuZ2VMaXN0ZW5lcktleV8gPSBsaXN0ZW4oXG4gICAgICAgIHZpZXcsIEV2ZW50VHlwZS5DSEFOR0UsXG4gICAgICAgIHRoaXMuaGFuZGxlVmlld1Byb3BlcnR5Q2hhbmdlZF8sIHRoaXMpO1xuICAgIH1cbiAgICB0aGlzLnJlbmRlcigpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5oYW5kbGVMYXllckdyb3VwQ2hhbmdlZF8gPSBmdW5jdGlvbiBoYW5kbGVMYXllckdyb3VwQ2hhbmdlZF8gKCkge1xuICAgIGlmICh0aGlzLmxheWVyR3JvdXBQcm9wZXJ0eUxpc3RlbmVyS2V5c18pIHtcbiAgICAgIHRoaXMubGF5ZXJHcm91cFByb3BlcnR5TGlzdGVuZXJLZXlzXy5mb3JFYWNoKHVubGlzdGVuQnlLZXkpO1xuICAgICAgdGhpcy5sYXllckdyb3VwUHJvcGVydHlMaXN0ZW5lcktleXNfID0gbnVsbDtcbiAgICB9XG4gICAgdmFyIGxheWVyR3JvdXAgPSB0aGlzLmdldExheWVyR3JvdXAoKTtcbiAgICBpZiAobGF5ZXJHcm91cCkge1xuICAgICAgdGhpcy5sYXllckdyb3VwUHJvcGVydHlMaXN0ZW5lcktleXNfID0gW1xuICAgICAgICBsaXN0ZW4oXG4gICAgICAgICAgbGF5ZXJHcm91cCwgT2JqZWN0RXZlbnRUeXBlLlBST1BFUlRZQ0hBTkdFLFxuICAgICAgICAgIHRoaXMucmVuZGVyLCB0aGlzKSxcbiAgICAgICAgbGlzdGVuKFxuICAgICAgICAgIGxheWVyR3JvdXAsIEV2ZW50VHlwZS5DSEFOR0UsXG4gICAgICAgICAgdGhpcy5yZW5kZXIsIHRoaXMpXG4gICAgICBdO1xuICAgIH1cbiAgICB0aGlzLnJlbmRlcigpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyByZW5kZXJlZC5cbiAgICovXG4gIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuaXNSZW5kZXJlZCA9IGZ1bmN0aW9uIGlzUmVuZGVyZWQgKCkge1xuICAgIHJldHVybiAhIXRoaXMuZnJhbWVTdGF0ZV87XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlcXVlc3RzIGFuIGltbWVkaWF0ZSByZW5kZXIgaW4gYSBzeW5jaHJvbm91cyBtYW5uZXIuXG4gICAqIEBhcGlcbiAgICovXG4gIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUucmVuZGVyU3luYyA9IGZ1bmN0aW9uIHJlbmRlclN5bmMgKCkge1xuICAgIGlmICh0aGlzLmFuaW1hdGlvbkRlbGF5S2V5Xykge1xuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRpb25EZWxheUtleV8pO1xuICAgIH1cbiAgICB0aGlzLmFuaW1hdGlvbkRlbGF5XygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXF1ZXN0IGEgbWFwIHJlbmRlcmluZyAoYXQgdGhlIG5leHQgYW5pbWF0aW9uIGZyYW1lKS5cbiAgICogQGFwaVxuICAgKi9cbiAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIgKCkge1xuICAgIGlmICh0aGlzLmFuaW1hdGlvbkRlbGF5S2V5XyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmFuaW1hdGlvbkRlbGF5S2V5XyA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGlvbkRlbGF5Xyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIGdpdmVuIGNvbnRyb2wgZnJvbSB0aGUgbWFwLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHR9IGNvbnRyb2wgQ29udHJvbC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9jb250cm9sL0NvbnRyb2wuanNcIikuZGVmYXVsdHx1bmRlZmluZWR9IFRoZSByZW1vdmVkIGNvbnRyb2wgKG9yIHVuZGVmaW5lZFxuICAgKiAgICAgaWYgdGhlIGNvbnRyb2wgd2FzIG5vdCBmb3VuZCkuXG4gICAqIEBhcGlcbiAgICovXG4gIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUucmVtb3ZlQ29udHJvbCA9IGZ1bmN0aW9uIHJlbW92ZUNvbnRyb2wgKGNvbnRyb2wpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDb250cm9scygpLnJlbW92ZShjb250cm9sKTtcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlIHRoZSBnaXZlbiBpbnRlcmFjdGlvbiBmcm9tIHRoZSBtYXAuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0fSBpbnRlcmFjdGlvbiBJbnRlcmFjdGlvbiB0byByZW1vdmUuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdHx1bmRlZmluZWR9IFRoZSByZW1vdmVkIGludGVyYWN0aW9uIChvclxuICAgKiAgICAgdW5kZWZpbmVkIGlmIHRoZSBpbnRlcmFjdGlvbiB3YXMgbm90IGZvdW5kKS5cbiAgICogQGFwaVxuICAgKi9cbiAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5yZW1vdmVJbnRlcmFjdGlvbiA9IGZ1bmN0aW9uIHJlbW92ZUludGVyYWN0aW9uIChpbnRlcmFjdGlvbikge1xuICAgIHJldHVybiB0aGlzLmdldEludGVyYWN0aW9ucygpLnJlbW92ZShpbnRlcmFjdGlvbik7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIGdpdmVuIGxheWVyIGZyb20gdGhlIG1hcC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdH0gbGF5ZXIgTGF5ZXIuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vbGF5ZXIvQmFzZS5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gVGhlIHJlbW92ZWQgbGF5ZXIgKG9yIHVuZGVmaW5lZCBpZiB0aGVcbiAgICogICAgIGxheWVyIHdhcyBub3QgZm91bmQpLlxuICAgKiBAYXBpXG4gICAqL1xuICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnJlbW92ZUxheWVyID0gZnVuY3Rpb24gcmVtb3ZlTGF5ZXIgKGxheWVyKSB7XG4gICAgdmFyIGxheWVycyA9IHRoaXMuZ2V0TGF5ZXJHcm91cCgpLmdldExheWVycygpO1xuICAgIHJldHVybiBsYXllcnMucmVtb3ZlKGxheWVyKTtcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlIHRoZSBnaXZlbiBvdmVybGF5IGZyb20gdGhlIG1hcC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdH0gb3ZlcmxheSBPdmVybGF5LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdHx1bmRlZmluZWR9IFRoZSByZW1vdmVkIG92ZXJsYXkgKG9yIHVuZGVmaW5lZFxuICAgKiAgICAgaWYgdGhlIG92ZXJsYXkgd2FzIG5vdCBmb3VuZCkuXG4gICAqIEBhcGlcbiAgICovXG4gIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUucmVtb3ZlT3ZlcmxheSA9IGZ1bmN0aW9uIHJlbW92ZU92ZXJsYXkgKG92ZXJsYXkpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRPdmVybGF5cygpLnJlbW92ZShvdmVybGF5KTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWUgVGltZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUucmVuZGVyRnJhbWVfID0gZnVuY3Rpb24gcmVuZGVyRnJhbWVfICh0aW1lKSB7XG4gICAgdmFyIHZpZXdTdGF0ZTtcblxuICAgIHZhciBzaXplID0gdGhpcy5nZXRTaXplKCk7XG4gICAgdmFyIHZpZXcgPSB0aGlzLmdldFZpZXcoKTtcbiAgICB2YXIgZXh0ZW50ID0gY3JlYXRlRW1wdHkoKTtcbiAgICB2YXIgcHJldmlvdXNGcmFtZVN0YXRlID0gdGhpcy5mcmFtZVN0YXRlXztcbiAgICAvKiogQHR5cGUgez9GcmFtZVN0YXRlfSAqL1xuICAgIHZhciBmcmFtZVN0YXRlID0gbnVsbDtcbiAgICBpZiAoc2l6ZSAhPT0gdW5kZWZpbmVkICYmIGhhc0FyZWEoc2l6ZSkgJiYgdmlldyAmJiB2aWV3LmlzRGVmKCkpIHtcbiAgICAgIHZhciB2aWV3SGludHMgPSB2aWV3LmdldEhpbnRzKHRoaXMuZnJhbWVTdGF0ZV8gPyB0aGlzLmZyYW1lU3RhdGVfLnZpZXdIaW50cyA6IHVuZGVmaW5lZCk7XG4gICAgICB2YXIgbGF5ZXJTdGF0ZXNBcnJheSA9IHRoaXMuZ2V0TGF5ZXJHcm91cCgpLmdldExheWVyU3RhdGVzQXJyYXkoKTtcbiAgICAgIHZhciBsYXllclN0YXRlcyA9IHt9O1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbGF5ZXJTdGF0ZXNBcnJheS5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGxheWVyU3RhdGVzW2dldFVpZChsYXllclN0YXRlc0FycmF5W2ldLmxheWVyKV0gPSBsYXllclN0YXRlc0FycmF5W2ldO1xuICAgICAgfVxuICAgICAgdmlld1N0YXRlID0gdmlldy5nZXRTdGF0ZSh0aGlzLnBpeGVsUmF0aW9fKTtcbiAgICAgIGZyYW1lU3RhdGUgPSAvKiogQHR5cGUge0ZyYW1lU3RhdGV9ICovICh7XG4gICAgICAgIGFuaW1hdGU6IGZhbHNlLFxuICAgICAgICBjb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybTogdGhpcy5jb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybV8sXG4gICAgICAgIGV4dGVudDogZXh0ZW50LFxuICAgICAgICBmb2N1czogdGhpcy5mb2N1c18gPyB0aGlzLmZvY3VzXyA6IHZpZXdTdGF0ZS5jZW50ZXIsXG4gICAgICAgIGluZGV4OiB0aGlzLmZyYW1lSW5kZXhfKyssXG4gICAgICAgIGxheWVyU3RhdGVzOiBsYXllclN0YXRlcyxcbiAgICAgICAgbGF5ZXJTdGF0ZXNBcnJheTogbGF5ZXJTdGF0ZXNBcnJheSxcbiAgICAgICAgcGl4ZWxSYXRpbzogdGhpcy5waXhlbFJhdGlvXyxcbiAgICAgICAgcGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm06IHRoaXMucGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm1fLFxuICAgICAgICBwb3N0UmVuZGVyRnVuY3Rpb25zOiBbXSxcbiAgICAgICAgc2l6ZTogc2l6ZSxcbiAgICAgICAgc2tpcHBlZEZlYXR1cmVVaWRzOiB0aGlzLnNraXBwZWRGZWF0dXJlVWlkc18sXG4gICAgICAgIHRpbGVRdWV1ZTogdGhpcy50aWxlUXVldWVfLFxuICAgICAgICB0aW1lOiB0aW1lLFxuICAgICAgICB1c2VkVGlsZXM6IHt9LFxuICAgICAgICB2aWV3U3RhdGU6IHZpZXdTdGF0ZSxcbiAgICAgICAgdmlld0hpbnRzOiB2aWV3SGludHMsXG4gICAgICAgIHdhbnRlZFRpbGVzOiB7fVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGZyYW1lU3RhdGUpIHtcbiAgICAgIGZyYW1lU3RhdGUuZXh0ZW50ID0gZ2V0Rm9yVmlld0FuZFNpemUodmlld1N0YXRlLmNlbnRlcixcbiAgICAgICAgdmlld1N0YXRlLnJlc29sdXRpb24sIHZpZXdTdGF0ZS5yb3RhdGlvbiwgZnJhbWVTdGF0ZS5zaXplLCBleHRlbnQpO1xuICAgIH1cblxuICAgIHRoaXMuZnJhbWVTdGF0ZV8gPSBmcmFtZVN0YXRlO1xuICAgIHRoaXMucmVuZGVyZXJfLnJlbmRlckZyYW1lKGZyYW1lU3RhdGUpO1xuXG4gICAgaWYgKGZyYW1lU3RhdGUpIHtcbiAgICAgIGlmIChmcmFtZVN0YXRlLmFuaW1hdGUpIHtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgIH1cbiAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHRoaXMucG9zdFJlbmRlckZ1bmN0aW9uc18sIGZyYW1lU3RhdGUucG9zdFJlbmRlckZ1bmN0aW9ucyk7XG5cbiAgICAgIGlmIChwcmV2aW91c0ZyYW1lU3RhdGUpIHtcbiAgICAgICAgdmFyIG1vdmVTdGFydCA9ICF0aGlzLnByZXZpb3VzRXh0ZW50XyB8fFxuICAgICAgICAgICAgICAgICAgICAoIWlzRW1wdHkodGhpcy5wcmV2aW91c0V4dGVudF8pICYmXG4gICAgICAgICAgICAgICAgICAgICFlcXVhbHMoZnJhbWVTdGF0ZS5leHRlbnQsIHRoaXMucHJldmlvdXNFeHRlbnRfKSk7XG4gICAgICAgIGlmIChtb3ZlU3RhcnQpIHtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoXG4gICAgICAgICAgICBuZXcgTWFwRXZlbnQoTWFwRXZlbnRUeXBlLk1PVkVTVEFSVCwgdGhpcywgcHJldmlvdXNGcmFtZVN0YXRlKSk7XG4gICAgICAgICAgdGhpcy5wcmV2aW91c0V4dGVudF8gPSBjcmVhdGVPclVwZGF0ZUVtcHR5KHRoaXMucHJldmlvdXNFeHRlbnRfKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgaWRsZSA9IHRoaXMucHJldmlvdXNFeHRlbnRfICYmXG4gICAgICAgICAgIWZyYW1lU3RhdGUudmlld0hpbnRzW1ZpZXdIaW50LkFOSU1BVElOR10gJiZcbiAgICAgICAgICAhZnJhbWVTdGF0ZS52aWV3SGludHNbVmlld0hpbnQuSU5URVJBQ1RJTkddICYmXG4gICAgICAgICAgIWVxdWFscyhmcmFtZVN0YXRlLmV4dGVudCwgdGhpcy5wcmV2aW91c0V4dGVudF8pO1xuXG4gICAgICBpZiAoaWRsZSkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IE1hcEV2ZW50KE1hcEV2ZW50VHlwZS5NT1ZFRU5ELCB0aGlzLCBmcmFtZVN0YXRlKSk7XG4gICAgICAgIGNsb25lKGZyYW1lU3RhdGUuZXh0ZW50LCB0aGlzLnByZXZpb3VzRXh0ZW50Xyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBNYXBFdmVudChNYXBFdmVudFR5cGUuUE9TVFJFTkRFUiwgdGhpcywgZnJhbWVTdGF0ZSkpO1xuXG4gICAgc2V0VGltZW91dCh0aGlzLmhhbmRsZVBvc3RSZW5kZXIuYmluZCh0aGlzKSwgMCk7XG5cbiAgfTtcblxuICAvKipcbiAgICogU2V0cyB0aGUgbGF5ZXJncm91cCBvZiB0aGlzIG1hcC5cbiAgICogQHBhcmFtIHtMYXllckdyb3VwfSBsYXllckdyb3VwIEEgbGF5ZXIgZ3JvdXAgY29udGFpbmluZyB0aGUgbGF5ZXJzIGluIHRoaXMgbWFwLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnNldExheWVyR3JvdXAgPSBmdW5jdGlvbiBzZXRMYXllckdyb3VwIChsYXllckdyb3VwKSB7XG4gICAgdGhpcy5zZXQoTWFwUHJvcGVydHkuTEFZRVJHUk9VUCwgbGF5ZXJHcm91cCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgc2l6ZSBvZiB0aGlzIG1hcC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZXx1bmRlZmluZWR9IHNpemUgVGhlIHNpemUgaW4gcGl4ZWxzIG9mIHRoZSBtYXAgaW4gdGhlIERPTS5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5zZXRTaXplID0gZnVuY3Rpb24gc2V0U2l6ZSAoc2l6ZSkge1xuICAgIHRoaXMuc2V0KE1hcFByb3BlcnR5LlNJWkUsIHNpemUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHRhcmdldCBlbGVtZW50IHRvIHJlbmRlciB0aGlzIG1hcCBpbnRvLlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fHN0cmluZ3x1bmRlZmluZWR9IHRhcmdldCBUaGUgRWxlbWVudCBvciBpZCBvZiB0aGUgRWxlbWVudFxuICAgKiAgICAgdGhhdCB0aGUgbWFwIGlzIHJlbmRlcmVkIGluLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnNldFRhcmdldCA9IGZ1bmN0aW9uIHNldFRhcmdldCAodGFyZ2V0KSB7XG4gICAgdGhpcy5zZXQoTWFwUHJvcGVydHkuVEFSR0VULCB0YXJnZXQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHZpZXcgZm9yIHRoaXMgbWFwLlxuICAgKiBAcGFyYW0ge1ZpZXd9IHZpZXcgVGhlIHZpZXcgdGhhdCBjb250cm9scyB0aGlzIG1hcC5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5zZXRWaWV3ID0gZnVuY3Rpb24gc2V0VmlldyAodmlldykge1xuICAgIHRoaXMuc2V0KE1hcFByb3BlcnR5LlZJRVcsIHZpZXcpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqL1xuICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnNraXBGZWF0dXJlID0gZnVuY3Rpb24gc2tpcEZlYXR1cmUgKGZlYXR1cmUpIHtcbiAgICB0aGlzLnNraXBwZWRGZWF0dXJlVWlkc19bZ2V0VWlkKGZlYXR1cmUpXSA9IHRydWU7XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfTtcblxuICAvKipcbiAgICogRm9yY2UgYSByZWNhbGN1bGF0aW9uIG9mIHRoZSBtYXAgdmlld3BvcnQgc2l6ZS4gIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCB3aGVuXG4gICAqIHRoaXJkLXBhcnR5IGNvZGUgY2hhbmdlcyB0aGUgc2l6ZSBvZiB0aGUgbWFwIHZpZXdwb3J0LlxuICAgKiBAYXBpXG4gICAqL1xuICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnVwZGF0ZVNpemUgPSBmdW5jdGlvbiB1cGRhdGVTaXplICgpIHtcbiAgICB2YXIgdGFyZ2V0RWxlbWVudCA9IHRoaXMuZ2V0VGFyZ2V0RWxlbWVudCgpO1xuXG4gICAgaWYgKCF0YXJnZXRFbGVtZW50KSB7XG4gICAgICB0aGlzLnNldFNpemUodW5kZWZpbmVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGNvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKHRhcmdldEVsZW1lbnQpO1xuICAgICAgdGhpcy5zZXRTaXplKFtcbiAgICAgICAgdGFyZ2V0RWxlbWVudC5vZmZzZXRXaWR0aCAtXG4gICAgICAgICAgICBwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGVbJ2JvcmRlckxlZnRXaWR0aCddKSAtXG4gICAgICAgICAgICBwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGVbJ3BhZGRpbmdMZWZ0J10pIC1cbiAgICAgICAgICAgIHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVsncGFkZGluZ1JpZ2h0J10pIC1cbiAgICAgICAgICAgIHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVsnYm9yZGVyUmlnaHRXaWR0aCddKSxcbiAgICAgICAgdGFyZ2V0RWxlbWVudC5vZmZzZXRIZWlnaHQgLVxuICAgICAgICAgICAgcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlWydib3JkZXJUb3BXaWR0aCddKSAtXG4gICAgICAgICAgICBwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGVbJ3BhZGRpbmdUb3AnXSkgLVxuICAgICAgICAgICAgcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlWydwYWRkaW5nQm90dG9tJ10pIC1cbiAgICAgICAgICAgIHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVsnYm9yZGVyQm90dG9tV2lkdGgnXSlcbiAgICAgIF0pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICAgKi9cbiAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS51bnNraXBGZWF0dXJlID0gZnVuY3Rpb24gdW5za2lwRmVhdHVyZSAoZmVhdHVyZSkge1xuICAgIGRlbGV0ZSB0aGlzLnNraXBwZWRGZWF0dXJlVWlkc19bZ2V0VWlkKGZlYXR1cmUpXTtcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9O1xuXG4gIHJldHVybiBQbHVnZ2FibGVNYXA7XG59KEJhc2VPYmplY3QpKTtcblxuXG4vKipcbiAqIEBwYXJhbSB7TWFwT3B0aW9uc30gb3B0aW9ucyBNYXAgb3B0aW9ucy5cbiAqIEByZXR1cm4ge01hcE9wdGlvbnNJbnRlcm5hbH0gSW50ZXJuYWwgbWFwIG9wdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZU9wdGlvbnNJbnRlcm5hbChvcHRpb25zKSB7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtIVE1MRWxlbWVudHxEb2N1bWVudH1cbiAgICovXG4gIHZhciBrZXlib2FyZEV2ZW50VGFyZ2V0ID0gbnVsbDtcbiAgaWYgKG9wdGlvbnMua2V5Ym9hcmRFdmVudFRhcmdldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAga2V5Ym9hcmRFdmVudFRhcmdldCA9IHR5cGVvZiBvcHRpb25zLmtleWJvYXJkRXZlbnRUYXJnZXQgPT09ICdzdHJpbmcnID9cbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG9wdGlvbnMua2V5Ym9hcmRFdmVudFRhcmdldCkgOlxuICAgICAgb3B0aW9ucy5rZXlib2FyZEV2ZW50VGFyZ2V0O1xuICB9XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCAqPn1cbiAgICovXG4gIHZhciB2YWx1ZXMgPSB7fTtcblxuICB2YXIgbGF5ZXJHcm91cCA9IG9wdGlvbnMubGF5ZXJzICYmIHR5cGVvZiAvKiogQHR5cGUgez99ICovIChvcHRpb25zLmxheWVycykuZ2V0TGF5ZXJzID09PSAnZnVuY3Rpb24nID9cbiAgICAvKiogQHR5cGUge0xheWVyR3JvdXB9ICovIChvcHRpb25zLmxheWVycykgOiBuZXcgTGF5ZXJHcm91cCh7bGF5ZXJzOiAvKiogQHR5cGUge0NvbGxlY3Rpb259ICovIChvcHRpb25zLmxheWVycyl9KTtcbiAgdmFsdWVzW01hcFByb3BlcnR5LkxBWUVSR1JPVVBdID0gbGF5ZXJHcm91cDtcblxuICB2YWx1ZXNbTWFwUHJvcGVydHkuVEFSR0VUXSA9IG9wdGlvbnMudGFyZ2V0O1xuXG4gIHZhbHVlc1tNYXBQcm9wZXJ0eS5WSUVXXSA9IG9wdGlvbnMudmlldyAhPT0gdW5kZWZpbmVkID9cbiAgICBvcHRpb25zLnZpZXcgOiBuZXcgVmlldygpO1xuXG4gIHZhciBjb250cm9scztcbiAgaWYgKG9wdGlvbnMuY29udHJvbHMgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMuY29udHJvbHMpKSB7XG4gICAgICBjb250cm9scyA9IG5ldyBDb2xsZWN0aW9uKG9wdGlvbnMuY29udHJvbHMuc2xpY2UoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2VydCh0eXBlb2YgLyoqIEB0eXBlIHs/fSAqLyAob3B0aW9ucy5jb250cm9scykuZ2V0QXJyYXkgPT09ICdmdW5jdGlvbicsXG4gICAgICAgIDQ3KTsgLy8gRXhwZWN0ZWQgYGNvbnRyb2xzYCB0byBiZSBhbiBhcnJheSBvciBhbiBgaW1wb3J0KFwiLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25gXG4gICAgICBjb250cm9scyA9IC8qKiBAdHlwZSB7Q29sbGVjdGlvbn0gKi8gKG9wdGlvbnMuY29udHJvbHMpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBpbnRlcmFjdGlvbnM7XG4gIGlmIChvcHRpb25zLmludGVyYWN0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucy5pbnRlcmFjdGlvbnMpKSB7XG4gICAgICBpbnRlcmFjdGlvbnMgPSBuZXcgQ29sbGVjdGlvbihvcHRpb25zLmludGVyYWN0aW9ucy5zbGljZSgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXNzZXJ0KHR5cGVvZiAvKiogQHR5cGUgez99ICovIChvcHRpb25zLmludGVyYWN0aW9ucykuZ2V0QXJyYXkgPT09ICdmdW5jdGlvbicsXG4gICAgICAgIDQ4KTsgLy8gRXhwZWN0ZWQgYGludGVyYWN0aW9uc2AgdG8gYmUgYW4gYXJyYXkgb3IgYW4gYGltcG9ydChcIi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uYFxuICAgICAgaW50ZXJhY3Rpb25zID0gLyoqIEB0eXBlIHtDb2xsZWN0aW9ufSAqLyAob3B0aW9ucy5pbnRlcmFjdGlvbnMpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBvdmVybGF5cztcbiAgaWYgKG9wdGlvbnMub3ZlcmxheXMgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMub3ZlcmxheXMpKSB7XG4gICAgICBvdmVybGF5cyA9IG5ldyBDb2xsZWN0aW9uKG9wdGlvbnMub3ZlcmxheXMuc2xpY2UoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2VydCh0eXBlb2YgLyoqIEB0eXBlIHs/fSAqLyAob3B0aW9ucy5vdmVybGF5cykuZ2V0QXJyYXkgPT09ICdmdW5jdGlvbicsXG4gICAgICAgIDQ5KTsgLy8gRXhwZWN0ZWQgYG92ZXJsYXlzYCB0byBiZSBhbiBhcnJheSBvciBhbiBgaW1wb3J0KFwiLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25gXG4gICAgICBvdmVybGF5cyA9IG9wdGlvbnMub3ZlcmxheXM7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG92ZXJsYXlzID0gbmV3IENvbGxlY3Rpb24oKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgY29udHJvbHM6IGNvbnRyb2xzLFxuICAgIGludGVyYWN0aW9uczogaW50ZXJhY3Rpb25zLFxuICAgIGtleWJvYXJkRXZlbnRUYXJnZXQ6IGtleWJvYXJkRXZlbnRUYXJnZXQsXG4gICAgb3ZlcmxheXM6IG92ZXJsYXlzLFxuICAgIHZhbHVlczogdmFsdWVzXG4gIH07XG5cbn1cbmV4cG9ydCBkZWZhdWx0IFBsdWdnYWJsZU1hcDtcblxuLyoqXG4gKiBAcGFyYW0gIHtBcnJheTxpbXBvcnQoXCIuL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdD59IGxheWVycyBMYXllcnMuXG4gKiBAcmV0dXJuIHtib29sZWFufSBMYXllcnMgaGF2ZSBzb3VyY2VzIHRoYXQgYXJlIHN0aWxsIGxvYWRpbmcuXG4gKi9cbmZ1bmN0aW9uIGdldExvYWRpbmcobGF5ZXJzKSB7XG4gIGZvciAodmFyIGkgPSAwLCBpaSA9IGxheWVycy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgdmFyIGxheWVyID0gbGF5ZXJzW2ldO1xuICAgIGlmICh0eXBlb2YgLyoqIEB0eXBlIHs/fSAqLyAobGF5ZXIpLmdldExheWVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGdldExvYWRpbmcoLyoqIEB0eXBlIHtMYXllckdyb3VwfSAqLyAobGF5ZXIpLmdldExheWVycygpLmdldEFycmF5KCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgc291cmNlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgbGF5ZXIpLmdldFNvdXJjZSgpO1xuICAgICAgaWYgKHNvdXJjZSAmJiBzb3VyY2UubG9hZGluZykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1QbHVnZ2FibGVNYXAuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2NvbnRyb2wvQ29udHJvbFxuICovXG5pbXBvcnQge1ZPSUR9IGZyb20gJy4uL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQgTWFwRXZlbnRUeXBlIGZyb20gJy4uL01hcEV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgQmFzZU9iamVjdCBmcm9tICcuLi9PYmplY3QuanMnO1xuaW1wb3J0IHtyZW1vdmVOb2RlfSBmcm9tICcuLi9kb20uanMnO1xuaW1wb3J0IHtsaXN0ZW4sIHVubGlzdGVuQnlLZXl9IGZyb20gJy4uL2V2ZW50cy5qcyc7XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fSBbZWxlbWVudF0gVGhlIGVsZW1lbnQgaXMgdGhlIGNvbnRyb2wnc1xuICogY29udGFpbmVyIGVsZW1lbnQuIFRoaXMgb25seSBuZWVkcyB0byBiZSBzcGVjaWZpZWQgaWYgeW91J3JlIGRldmVsb3BpbmdcbiAqIGEgY3VzdG9tIGNvbnRyb2wuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcEV2ZW50LmpzXCIpLmRlZmF1bHQpfSBbcmVuZGVyXSBGdW5jdGlvbiBjYWxsZWQgd2hlblxuICogdGhlIGNvbnRyb2wgc2hvdWxkIGJlIHJlLXJlbmRlcmVkLiBUaGlzIGlzIGNhbGxlZCBpbiBhIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgXG4gKiBjYWxsYmFjay5cbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR8c3RyaW5nfSBbdGFyZ2V0XSBTcGVjaWZ5IGEgdGFyZ2V0IGlmIHlvdSB3YW50XG4gKiB0aGUgY29udHJvbCB0byBiZSByZW5kZXJlZCBvdXRzaWRlIG9mIHRoZSBtYXAncyB2aWV3cG9ydC5cbiAqL1xuXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSBjb250cm9sIGlzIGEgdmlzaWJsZSB3aWRnZXQgd2l0aCBhIERPTSBlbGVtZW50IGluIGEgZml4ZWQgcG9zaXRpb24gb24gdGhlXG4gKiBzY3JlZW4uIFRoZXkgY2FuIGludm9sdmUgdXNlciBpbnB1dCAoYnV0dG9ucyksIG9yIGJlIGluZm9ybWF0aW9uYWwgb25seTtcbiAqIHRoZSBwb3NpdGlvbiBpcyBkZXRlcm1pbmVkIHVzaW5nIENTUy4gQnkgZGVmYXVsdCB0aGVzZSBhcmUgcGxhY2VkIGluIHRoZVxuICogY29udGFpbmVyIHdpdGggQ1NTIGNsYXNzIG5hbWUgYG9sLW92ZXJsYXljb250YWluZXItc3RvcGV2ZW50YCwgYnV0IGNhbiB1c2VcbiAqIGFueSBvdXRzaWRlIERPTSBlbGVtZW50LlxuICpcbiAqIFRoaXMgaXMgdGhlIGJhc2UgY2xhc3MgZm9yIGNvbnRyb2xzLiBZb3UgY2FuIHVzZSBpdCBmb3Igc2ltcGxlIGN1c3RvbVxuICogY29udHJvbHMgYnkgY3JlYXRpbmcgdGhlIGVsZW1lbnQgd2l0aCBsaXN0ZW5lcnMsIGNyZWF0aW5nIGFuIGluc3RhbmNlOlxuICogYGBganNcbiAqIHZhciBteUNvbnRyb2wgPSBuZXcgQ29udHJvbCh7ZWxlbWVudDogbXlFbGVtZW50fSk7XG4gKiBgYGBcbiAqIGFuZCB0aGVuIGFkZGluZyB0aGlzIHRvIHRoZSBtYXAuXG4gKlxuICogVGhlIG1haW4gYWR2YW50YWdlIG9mIGhhdmluZyB0aGlzIGFzIGEgY29udHJvbCByYXRoZXIgdGhhbiBhIHNpbXBsZSBzZXBhcmF0ZVxuICogRE9NIGVsZW1lbnQgaXMgdGhhdCBwcmV2ZW50aW5nIHByb3BhZ2F0aW9uIGlzIGhhbmRsZWQgZm9yIHlvdS4gQ29udHJvbHNcbiAqIHdpbGwgYWxzbyBiZSBvYmplY3RzIGluIGEge0BsaW5rIG1vZHVsZTpvbC9Db2xsZWN0aW9ufkNvbGxlY3Rpb259LCBzbyB5b3UgY2FuIHVzZSB0aGVpciBtZXRob2RzLlxuICpcbiAqIFlvdSBjYW4gYWxzbyBleHRlbmQgdGhpcyBiYXNlIGZvciB5b3VyIG93biBjb250cm9sIGNsYXNzLiBTZWVcbiAqIGV4YW1wbGVzL2N1c3RvbS1jb250cm9scyBmb3IgYW4gZXhhbXBsZSBvZiBob3cgdG8gZG8gdGhpcy5cbiAqXG4gKiBAYXBpXG4gKi9cbnZhciBDb250cm9sID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQmFzZU9iamVjdCkge1xuICBmdW5jdGlvbiBDb250cm9sKG9wdGlvbnMpIHtcblxuICAgIEJhc2VPYmplY3QuY2FsbCh0aGlzKTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5lbGVtZW50ID0gb3B0aW9ucy5lbGVtZW50ID8gb3B0aW9ucy5lbGVtZW50IDogbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMudGFyZ2V0XyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLm1hcF8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHshQXJyYXk8aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5saXN0ZW5lcktleXMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9NYXBFdmVudC5qc1wiKS5kZWZhdWx0KX1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlciA9IG9wdGlvbnMucmVuZGVyID8gb3B0aW9ucy5yZW5kZXIgOiBWT0lEO1xuXG4gICAgaWYgKG9wdGlvbnMudGFyZ2V0KSB7XG4gICAgICB0aGlzLnNldFRhcmdldChvcHRpb25zLnRhcmdldCk7XG4gICAgfVxuXG4gIH1cblxuICBpZiAoIEJhc2VPYmplY3QgKSBDb250cm9sLl9fcHJvdG9fXyA9IEJhc2VPYmplY3Q7XG4gIENvbnRyb2wucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQmFzZU9iamVjdCAmJiBCYXNlT2JqZWN0LnByb3RvdHlwZSApO1xuICBDb250cm9sLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENvbnRyb2w7XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBDb250cm9sLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbiBkaXNwb3NlSW50ZXJuYWwgKCkge1xuICAgIHJlbW92ZU5vZGUodGhpcy5lbGVtZW50KTtcbiAgICBCYXNlT2JqZWN0LnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSBtYXAgYXNzb2NpYXRlZCB3aXRoIHRoaXMgY29udHJvbC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IE1hcC5cbiAgICogQGFwaVxuICAgKi9cbiAgQ29udHJvbC5wcm90b3R5cGUuZ2V0TWFwID0gZnVuY3Rpb24gZ2V0TWFwICgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXBfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIGNvbnRyb2wgZnJvbSBpdHMgY3VycmVudCBtYXAgYW5kIGF0dGFjaCBpdCB0byB0aGUgbmV3IG1hcC5cbiAgICogU3ViY2xhc3NlcyBtYXkgc2V0IHVwIGV2ZW50IGhhbmRsZXJzIHRvIGdldCBub3RpZmllZCBhYm91dCBjaGFuZ2VzIHRvXG4gICAqIHRoZSBtYXAgaGVyZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gbWFwIE1hcC5cbiAgICogQGFwaVxuICAgKi9cbiAgQ29udHJvbC5wcm90b3R5cGUuc2V0TWFwID0gZnVuY3Rpb24gc2V0TWFwIChtYXApIHtcbiAgICBpZiAodGhpcy5tYXBfKSB7XG4gICAgICByZW1vdmVOb2RlKHRoaXMuZWxlbWVudCk7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHRoaXMubGlzdGVuZXJLZXlzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIHVubGlzdGVuQnlLZXkodGhpcy5saXN0ZW5lcktleXNbaV0pO1xuICAgIH1cbiAgICB0aGlzLmxpc3RlbmVyS2V5cy5sZW5ndGggPSAwO1xuICAgIHRoaXMubWFwXyA9IG1hcDtcbiAgICBpZiAodGhpcy5tYXBfKSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gdGhpcy50YXJnZXRfID9cbiAgICAgICAgdGhpcy50YXJnZXRfIDogbWFwLmdldE92ZXJsYXlDb250YWluZXJTdG9wRXZlbnQoKTtcbiAgICAgIHRhcmdldC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgICAgaWYgKHRoaXMucmVuZGVyICE9PSBWT0lEKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJLZXlzLnB1c2gobGlzdGVuKG1hcCxcbiAgICAgICAgICBNYXBFdmVudFR5cGUuUE9TVFJFTkRFUiwgdGhpcy5yZW5kZXIsIHRoaXMpKTtcbiAgICAgIH1cbiAgICAgIG1hcC5yZW5kZXIoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBzZXQgYSB0YXJnZXQgZWxlbWVudCBmb3IgdGhlIGNvbnRyb2wuIEl0IGhhcyBub1xuICAgKiBlZmZlY3QgaWYgaXQgaXMgY2FsbGVkIGFmdGVyIHRoZSBjb250cm9sIGhhcyBiZWVuIGFkZGVkIHRvIHRoZSBtYXAgKGkuZS5cbiAgICogYWZ0ZXIgYHNldE1hcGAgaXMgY2FsbGVkIG9uIHRoZSBjb250cm9sKS4gSWYgbm8gYHRhcmdldGAgaXMgc2V0IGluIHRoZVxuICAgKiBvcHRpb25zIHBhc3NlZCB0byB0aGUgY29udHJvbCBjb25zdHJ1Y3RvciBhbmQgaWYgYHNldFRhcmdldGAgaXMgbm90IGNhbGxlZFxuICAgKiB0aGVuIHRoZSBjb250cm9sIGlzIGFkZGVkIHRvIHRoZSBtYXAncyBvdmVybGF5IGNvbnRhaW5lci5cbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudHxzdHJpbmd9IHRhcmdldCBUYXJnZXQuXG4gICAqIEBhcGlcbiAgICovXG4gIENvbnRyb2wucHJvdG90eXBlLnNldFRhcmdldCA9IGZ1bmN0aW9uIHNldFRhcmdldCAodGFyZ2V0KSB7XG4gICAgdGhpcy50YXJnZXRfID0gdHlwZW9mIHRhcmdldCA9PT0gJ3N0cmluZycgP1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0KSA6XG4gICAgICB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIENvbnRyb2w7XG59KEJhc2VPYmplY3QpKTtcblxuXG5leHBvcnQgZGVmYXVsdCBDb250cm9sO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db250cm9sLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9jb250cm9sL0F0dHJpYnV0aW9uXG4gKi9cbmltcG9ydCB7ZXF1YWxzfSBmcm9tICcuLi9hcnJheS5qcyc7XG5pbXBvcnQgQ29udHJvbCBmcm9tICcuL0NvbnRyb2wuanMnO1xuaW1wb3J0IHtDTEFTU19DT05UUk9MLCBDTEFTU19VTlNFTEVDVEFCTEUsIENMQVNTX0NPTExBUFNFRH0gZnJvbSAnLi4vY3NzLmpzJztcbmltcG9ydCB7cmVtb3ZlQ2hpbGRyZW4sIHJlcGxhY2VOb2RlfSBmcm9tICcuLi9kb20uanMnO1xuaW1wb3J0IHtsaXN0ZW59IGZyb20gJy4uL2V2ZW50cy5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IHt2aXNpYmxlQXRSZXNvbHV0aW9ufSBmcm9tICcuLi9sYXllci9MYXllci5qcyc7XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NsYXNzTmFtZT0nb2wtYXR0cmlidXRpb24nXSBDU1MgY2xhc3MgbmFtZS5cbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR8c3RyaW5nfSBbdGFyZ2V0XSBTcGVjaWZ5IGEgdGFyZ2V0IGlmIHlvdVxuICogd2FudCB0aGUgY29udHJvbCB0byBiZSByZW5kZXJlZCBvdXRzaWRlIG9mIHRoZSBtYXAnc1xuICogdmlld3BvcnQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtjb2xsYXBzaWJsZV0gU3BlY2lmeSBpZiBhdHRyaWJ1dGlvbnMgY2FuXG4gKiBiZSBjb2xsYXBzZWQuIElmIG5vdCBzcGVjaWZpZWQsIHNvdXJjZXMgY29udHJvbCB0aGlzIGJlaGF2aW9yIHdpdGggdGhlaXJcbiAqIGBhdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZWAgc2V0dGluZy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2NvbGxhcHNlZD10cnVlXSBTcGVjaWZ5IGlmIGF0dHJpYnV0aW9ucyBzaG91bGRcbiAqIGJlIGNvbGxhcHNlZCBhdCBzdGFydHVwLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt0aXBMYWJlbD0nQXR0cmlidXRpb25zJ10gVGV4dCBsYWJlbCB0byB1c2UgZm9yIHRoZSBidXR0b24gdGlwLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtsYWJlbD0naSddIFRleHQgbGFiZWwgdG8gdXNlIGZvciB0aGVcbiAqIGNvbGxhcHNlZCBhdHRyaWJ1dGlvbnMgYnV0dG9uLlxuICogSW5zdGVhZCBvZiB0ZXh0LCBhbHNvIGFuIGVsZW1lbnQgKGUuZy4gYSBgc3BhbmAgZWxlbWVudCkgY2FuIGJlIHVzZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ3xIVE1MRWxlbWVudH0gW2NvbGxhcHNlTGFiZWw9J8K7J10gVGV4dCBsYWJlbCB0byB1c2VcbiAqIGZvciB0aGUgZXhwYW5kZWQgYXR0cmlidXRpb25zIGJ1dHRvbi5cbiAqIEluc3RlYWQgb2YgdGV4dCwgYWxzbyBhbiBlbGVtZW50IChlLmcuIGEgYHNwYW5gIGVsZW1lbnQpIGNhbiBiZSB1c2VkLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihpbXBvcnQoXCIuLi9NYXBFdmVudC5qc1wiKS5kZWZhdWx0KX0gW3JlbmRlcl0gRnVuY3Rpb24gY2FsbGVkIHdoZW5cbiAqIHRoZSBjb250cm9sIHNob3VsZCBiZSByZS1yZW5kZXJlZC4gVGhpcyBpcyBjYWxsZWQgaW4gYSBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYFxuICogY2FsbGJhY2suXG4gKi9cblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIENvbnRyb2wgdG8gc2hvdyBhbGwgdGhlIGF0dHJpYnV0aW9ucyBhc3NvY2lhdGVkIHdpdGggdGhlIGxheWVyIHNvdXJjZXNcbiAqIGluIHRoZSBtYXAuIFRoaXMgY29udHJvbCBpcyBvbmUgb2YgdGhlIGRlZmF1bHQgY29udHJvbHMgaW5jbHVkZWQgaW4gbWFwcy5cbiAqIEJ5IGRlZmF1bHQgaXQgd2lsbCBzaG93IGluIHRoZSBib3R0b20gcmlnaHQgcG9ydGlvbiBvZiB0aGUgbWFwLCBidXQgdGhpcyBjYW5cbiAqIGJlIGNoYW5nZWQgYnkgdXNpbmcgYSBjc3Mgc2VsZWN0b3IgZm9yIGAub2wtYXR0cmlidXRpb25gLlxuICpcbiAqIEBhcGlcbiAqL1xudmFyIEF0dHJpYnV0aW9uID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQ29udHJvbCkge1xuICBmdW5jdGlvbiBBdHRyaWJ1dGlvbihvcHRfb3B0aW9ucykge1xuXG4gICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG5cbiAgICBDb250cm9sLmNhbGwodGhpcywge1xuICAgICAgZWxlbWVudDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICByZW5kZXI6IG9wdGlvbnMucmVuZGVyIHx8IHJlbmRlcixcbiAgICAgIHRhcmdldDogb3B0aW9ucy50YXJnZXRcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMudWxFbGVtZW50XyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuY29sbGFwc2VkXyA9IG9wdGlvbnMuY29sbGFwc2VkICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbGxhcHNlZCA6IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMub3ZlcnJpZGVDb2xsYXBzaWJsZV8gPSBvcHRpb25zLmNvbGxhcHNpYmxlICE9PSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuY29sbGFwc2libGVfID0gb3B0aW9ucy5jb2xsYXBzaWJsZSAhPT0gdW5kZWZpbmVkID9cbiAgICAgIG9wdGlvbnMuY29sbGFwc2libGUgOiB0cnVlO1xuXG4gICAgaWYgKCF0aGlzLmNvbGxhcHNpYmxlXykge1xuICAgICAgdGhpcy5jb2xsYXBzZWRfID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGNsYXNzTmFtZSA9IG9wdGlvbnMuY2xhc3NOYW1lICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsYXNzTmFtZSA6ICdvbC1hdHRyaWJ1dGlvbic7XG5cbiAgICB2YXIgdGlwTGFiZWwgPSBvcHRpb25zLnRpcExhYmVsICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnRpcExhYmVsIDogJ0F0dHJpYnV0aW9ucyc7XG5cbiAgICB2YXIgY29sbGFwc2VMYWJlbCA9IG9wdGlvbnMuY29sbGFwc2VMYWJlbCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jb2xsYXBzZUxhYmVsIDogJ1xcdTAwQkInO1xuXG4gICAgaWYgKHR5cGVvZiBjb2xsYXBzZUxhYmVsID09PSAnc3RyaW5nJykge1xuICAgICAgLyoqXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAgICovXG4gICAgICB0aGlzLmNvbGxhcHNlTGFiZWxfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgdGhpcy5jb2xsYXBzZUxhYmVsXy50ZXh0Q29udGVudCA9IGNvbGxhcHNlTGFiZWw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29sbGFwc2VMYWJlbF8gPSBjb2xsYXBzZUxhYmVsO1xuICAgIH1cblxuICAgIHZhciBsYWJlbCA9IG9wdGlvbnMubGFiZWwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubGFiZWwgOiAnaSc7XG5cbiAgICBpZiAodHlwZW9mIGxhYmVsID09PSAnc3RyaW5nJykge1xuICAgICAgLyoqXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAgICovXG4gICAgICB0aGlzLmxhYmVsXyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIHRoaXMubGFiZWxfLnRleHRDb250ZW50ID0gbGFiZWw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubGFiZWxfID0gbGFiZWw7XG4gICAgfVxuXG5cbiAgICB2YXIgYWN0aXZlTGFiZWwgPSAodGhpcy5jb2xsYXBzaWJsZV8gJiYgIXRoaXMuY29sbGFwc2VkXykgP1xuICAgICAgdGhpcy5jb2xsYXBzZUxhYmVsXyA6IHRoaXMubGFiZWxfO1xuICAgIHZhciBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBidXR0b24uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICAgIGJ1dHRvbi50aXRsZSA9IHRpcExhYmVsO1xuICAgIGJ1dHRvbi5hcHBlbmRDaGlsZChhY3RpdmVMYWJlbCk7XG5cbiAgICBsaXN0ZW4oYnV0dG9uLCBFdmVudFR5cGUuQ0xJQ0ssIHRoaXMuaGFuZGxlQ2xpY2tfLCB0aGlzKTtcblxuICAgIHZhciBjc3NDbGFzc2VzID0gY2xhc3NOYW1lICsgJyAnICsgQ0xBU1NfVU5TRUxFQ1RBQkxFICsgJyAnICsgQ0xBU1NfQ09OVFJPTCArXG4gICAgICAgICh0aGlzLmNvbGxhcHNlZF8gJiYgdGhpcy5jb2xsYXBzaWJsZV8gPyAnICcgKyBDTEFTU19DT0xMQVBTRUQgOiAnJykgK1xuICAgICAgICAodGhpcy5jb2xsYXBzaWJsZV8gPyAnJyA6ICcgb2wtdW5jb2xsYXBzaWJsZScpO1xuICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gY3NzQ2xhc3NlcztcbiAgICBlbGVtZW50LmFwcGVuZENoaWxkKHRoaXMudWxFbGVtZW50Xyk7XG4gICAgZWxlbWVudC5hcHBlbmRDaGlsZChidXR0b24pO1xuXG4gICAgLyoqXG4gICAgICogQSBsaXN0IG9mIGN1cnJlbnRseSByZW5kZXJlZCByZXNvbHV0aW9ucy5cbiAgICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZWRBdHRyaWJ1dGlvbnNfID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZWRWaXNpYmxlXyA9IHRydWU7XG5cbiAgfVxuXG4gIGlmICggQ29udHJvbCApIEF0dHJpYnV0aW9uLl9fcHJvdG9fXyA9IENvbnRyb2w7XG4gIEF0dHJpYnV0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIENvbnRyb2wgJiYgQ29udHJvbC5wcm90b3R5cGUgKTtcbiAgQXR0cmlidXRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQXR0cmlidXRpb247XG5cbiAgLyoqXG4gICAqIENvbGxlY3QgYSBsaXN0IG9mIHZpc2libGUgYXR0cmlidXRpb25zIGFuZCBzZXQgdGhlIGNvbGxhcHNpYmxlIHN0YXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKiBAcmV0dXJuIHtBcnJheTxzdHJpbmc+fSBBdHRyaWJ1dGlvbnMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBBdHRyaWJ1dGlvbi5wcm90b3R5cGUuY29sbGVjdFNvdXJjZUF0dHJpYnV0aW9uc18gPSBmdW5jdGlvbiBjb2xsZWN0U291cmNlQXR0cmlidXRpb25zXyAoZnJhbWVTdGF0ZSkge1xuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gZGV0ZXJtaW5lIGlmIGFuIGF0dHJpYnV0aW9uIGFscmVhZHkgZXhpc3RzLlxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgYm9vbGVhbj59XG4gICAgICovXG4gICAgdmFyIGxvb2t1cCA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQSBsaXN0IG9mIHZpc2libGUgYXR0cmlidXRpb25zLlxuICAgICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgICAqL1xuICAgIHZhciB2aXNpYmxlQXR0cmlidXRpb25zID0gW107XG5cbiAgICB2YXIgbGF5ZXJTdGF0ZXNBcnJheSA9IGZyYW1lU3RhdGUubGF5ZXJTdGF0ZXNBcnJheTtcbiAgICB2YXIgcmVzb2x1dGlvbiA9IGZyYW1lU3RhdGUudmlld1N0YXRlLnJlc29sdXRpb247XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbGF5ZXJTdGF0ZXNBcnJheS5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICB2YXIgbGF5ZXJTdGF0ZSA9IGxheWVyU3RhdGVzQXJyYXlbaV07XG4gICAgICBpZiAoIXZpc2libGVBdFJlc29sdXRpb24obGF5ZXJTdGF0ZSwgcmVzb2x1dGlvbikpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBzb3VyY2UgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9ICovIChsYXllclN0YXRlLmxheWVyKS5nZXRTb3VyY2UoKTtcbiAgICAgIGlmICghc291cmNlKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgYXR0cmlidXRpb25HZXR0ZXIgPSBzb3VyY2UuZ2V0QXR0cmlidXRpb25zKCk7XG4gICAgICBpZiAoIWF0dHJpYnV0aW9uR2V0dGVyKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgYXR0cmlidXRpb25zID0gYXR0cmlidXRpb25HZXR0ZXIoZnJhbWVTdGF0ZSk7XG4gICAgICBpZiAoIWF0dHJpYnV0aW9ucykge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLm92ZXJyaWRlQ29sbGFwc2libGVfICYmIHNvdXJjZS5nZXRBdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZSgpID09PSBmYWxzZSkge1xuICAgICAgICB0aGlzLnNldENvbGxhcHNpYmxlKGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXR0cmlidXRpb25zKSkge1xuICAgICAgICBmb3IgKHZhciBqID0gMCwgamogPSBhdHRyaWJ1dGlvbnMubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICAgIGlmICghKGF0dHJpYnV0aW9uc1tqXSBpbiBsb29rdXApKSB7XG4gICAgICAgICAgICB2aXNpYmxlQXR0cmlidXRpb25zLnB1c2goYXR0cmlidXRpb25zW2pdKTtcbiAgICAgICAgICAgIGxvb2t1cFthdHRyaWJ1dGlvbnNbal1dID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghKGF0dHJpYnV0aW9ucyBpbiBsb29rdXApKSB7XG4gICAgICAgICAgdmlzaWJsZUF0dHJpYnV0aW9ucy5wdXNoKGF0dHJpYnV0aW9ucyk7XG4gICAgICAgICAgbG9va3VwW2F0dHJpYnV0aW9uc10gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2aXNpYmxlQXR0cmlidXRpb25zO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0gez9pbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICovXG4gIEF0dHJpYnV0aW9uLnByb3RvdHlwZS51cGRhdGVFbGVtZW50XyA9IGZ1bmN0aW9uIHVwZGF0ZUVsZW1lbnRfIChmcmFtZVN0YXRlKSB7XG4gICAgaWYgKCFmcmFtZVN0YXRlKSB7XG4gICAgICBpZiAodGhpcy5yZW5kZXJlZFZpc2libGVfKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB0aGlzLnJlbmRlcmVkVmlzaWJsZV8gPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgYXR0cmlidXRpb25zID0gdGhpcy5jb2xsZWN0U291cmNlQXR0cmlidXRpb25zXyhmcmFtZVN0YXRlKTtcblxuICAgIHZhciB2aXNpYmxlID0gYXR0cmlidXRpb25zLmxlbmd0aCA+IDA7XG4gICAgaWYgKHRoaXMucmVuZGVyZWRWaXNpYmxlXyAhPSB2aXNpYmxlKSB7XG4gICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IHZpc2libGUgPyAnJyA6ICdub25lJztcbiAgICAgIHRoaXMucmVuZGVyZWRWaXNpYmxlXyA9IHZpc2libGU7XG4gICAgfVxuXG4gICAgaWYgKGVxdWFscyhhdHRyaWJ1dGlvbnMsIHRoaXMucmVuZGVyZWRBdHRyaWJ1dGlvbnNfKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJlbW92ZUNoaWxkcmVuKHRoaXMudWxFbGVtZW50Xyk7XG5cbiAgICAvLyBhcHBlbmQgdGhlIGF0dHJpYnV0aW9uc1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGF0dHJpYnV0aW9ucy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICBlbGVtZW50LmlubmVySFRNTCA9IGF0dHJpYnV0aW9uc1tpXTtcbiAgICAgIHRoaXMudWxFbGVtZW50Xy5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICB9XG5cbiAgICB0aGlzLnJlbmRlcmVkQXR0cmlidXRpb25zXyA9IGF0dHJpYnV0aW9ucztcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCBUaGUgZXZlbnQgdG8gaGFuZGxlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBBdHRyaWJ1dGlvbi5wcm90b3R5cGUuaGFuZGxlQ2xpY2tfID0gZnVuY3Rpb24gaGFuZGxlQ2xpY2tfIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5oYW5kbGVUb2dnbGVfKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBBdHRyaWJ1dGlvbi5wcm90b3R5cGUuaGFuZGxlVG9nZ2xlXyA9IGZ1bmN0aW9uIGhhbmRsZVRvZ2dsZV8gKCkge1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKENMQVNTX0NPTExBUFNFRCk7XG4gICAgaWYgKHRoaXMuY29sbGFwc2VkXykge1xuICAgICAgcmVwbGFjZU5vZGUodGhpcy5jb2xsYXBzZUxhYmVsXywgdGhpcy5sYWJlbF8pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXBsYWNlTm9kZSh0aGlzLmxhYmVsXywgdGhpcy5jb2xsYXBzZUxhYmVsXyk7XG4gICAgfVxuICAgIHRoaXMuY29sbGFwc2VkXyA9ICF0aGlzLmNvbGxhcHNlZF87XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIGF0dHJpYnV0aW9uIGlzIGNvbGxhcHNpYmxlLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgd2lkZ2V0IGlzIGNvbGxhcHNpYmxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBBdHRyaWJ1dGlvbi5wcm90b3R5cGUuZ2V0Q29sbGFwc2libGUgPSBmdW5jdGlvbiBnZXRDb2xsYXBzaWJsZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29sbGFwc2libGVfO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgd2hldGhlciB0aGUgYXR0cmlidXRpb24gc2hvdWxkIGJlIGNvbGxhcHNpYmxlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNvbGxhcHNpYmxlIFRydWUgaWYgdGhlIHdpZGdldCBpcyBjb2xsYXBzaWJsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgQXR0cmlidXRpb24ucHJvdG90eXBlLnNldENvbGxhcHNpYmxlID0gZnVuY3Rpb24gc2V0Q29sbGFwc2libGUgKGNvbGxhcHNpYmxlKSB7XG4gICAgaWYgKHRoaXMuY29sbGFwc2libGVfID09PSBjb2xsYXBzaWJsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNvbGxhcHNpYmxlXyA9IGNvbGxhcHNpYmxlO1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdvbC11bmNvbGxhcHNpYmxlJyk7XG4gICAgaWYgKCFjb2xsYXBzaWJsZSAmJiB0aGlzLmNvbGxhcHNlZF8pIHtcbiAgICAgIHRoaXMuaGFuZGxlVG9nZ2xlXygpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQ29sbGFwc2Ugb3IgZXhwYW5kIHRoZSBhdHRyaWJ1dGlvbiBhY2NvcmRpbmcgdG8gdGhlIHBhc3NlZCBwYXJhbWV0ZXIuIFdpbGxcbiAgICogbm90IGRvIGFueXRoaW5nIGlmIHRoZSBhdHRyaWJ1dGlvbiBpc24ndCBjb2xsYXBzaWJsZSBvciBpZiB0aGUgY3VycmVudFxuICAgKiBjb2xsYXBzZWQgc3RhdGUgaXMgYWxyZWFkeSB0aGUgb25lIHJlcXVlc3RlZC5cbiAgICogQHBhcmFtIHtib29sZWFufSBjb2xsYXBzZWQgVHJ1ZSBpZiB0aGUgd2lkZ2V0IGlzIGNvbGxhcHNlZC5cbiAgICogQGFwaVxuICAgKi9cbiAgQXR0cmlidXRpb24ucHJvdG90eXBlLnNldENvbGxhcHNlZCA9IGZ1bmN0aW9uIHNldENvbGxhcHNlZCAoY29sbGFwc2VkKSB7XG4gICAgaWYgKCF0aGlzLmNvbGxhcHNpYmxlXyB8fCB0aGlzLmNvbGxhcHNlZF8gPT09IGNvbGxhcHNlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmhhbmRsZVRvZ2dsZV8oKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGB0cnVlYCB3aGVuIHRoZSBhdHRyaWJ1dGlvbiBpcyBjdXJyZW50bHkgY29sbGFwc2VkIG9yIGBmYWxzZWBcbiAgICogb3RoZXJ3aXNlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSB3aWRnZXQgaXMgY29sbGFwc2VkLlxuICAgKiBAYXBpXG4gICAqL1xuICBBdHRyaWJ1dGlvbi5wcm90b3R5cGUuZ2V0Q29sbGFwc2VkID0gZnVuY3Rpb24gZ2V0Q29sbGFwc2VkICgpIHtcbiAgICByZXR1cm4gdGhpcy5jb2xsYXBzZWRfO1xuICB9O1xuXG4gIHJldHVybiBBdHRyaWJ1dGlvbjtcbn0oQ29udHJvbCkpO1xuXG5cbi8qKlxuICogVXBkYXRlIHRoZSBhdHRyaWJ1dGlvbiBlbGVtZW50LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBFdmVudCBNYXAgZXZlbnQuXG4gKiBAdGhpcyB7QXR0cmlidXRpb259XG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIobWFwRXZlbnQpIHtcbiAgdGhpcy51cGRhdGVFbGVtZW50XyhtYXBFdmVudC5mcmFtZVN0YXRlKTtcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBBdHRyaWJ1dGlvbjtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXR0cmlidXRpb24uanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2NvbnRyb2wvUm90YXRlXG4gKi9cbmltcG9ydCBDb250cm9sIGZyb20gJy4vQ29udHJvbC5qcyc7XG5pbXBvcnQge0NMQVNTX0NPTlRST0wsIENMQVNTX0hJRERFTiwgQ0xBU1NfVU5TRUxFQ1RBQkxFfSBmcm9tICcuLi9jc3MuanMnO1xuaW1wb3J0IHtlYXNlT3V0fSBmcm9tICcuLi9lYXNpbmcuanMnO1xuaW1wb3J0IHtsaXN0ZW59IGZyb20gJy4uL2V2ZW50cy5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLXJvdGF0ZSddIENTUyBjbGFzcyBuYW1lLlxuICogQHByb3BlcnR5IHtzdHJpbmd8SFRNTEVsZW1lbnR9IFtsYWJlbD0n4oenJ10gVGV4dCBsYWJlbCB0byB1c2UgZm9yIHRoZSByb3RhdGUgYnV0dG9uLlxuICogSW5zdGVhZCBvZiB0ZXh0LCBhbHNvIGFuIGVsZW1lbnQgKGUuZy4gYSBgc3BhbmAgZWxlbWVudCkgY2FuIGJlIHVzZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3RpcExhYmVsPSdSZXNldCByb3RhdGlvbiddIFRleHQgbGFiZWwgdG8gdXNlIGZvciB0aGUgcm90YXRlIHRpcC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MjUwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbYXV0b0hpZGU9dHJ1ZV0gSGlkZSB0aGUgY29udHJvbCB3aGVuIHJvdGF0aW9uIGlzIDAuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcEV2ZW50LmpzXCIpLmRlZmF1bHQpfSBbcmVuZGVyXSBGdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgY29udHJvbCBzaG91bGRcbiAqIGJlIHJlLXJlbmRlcmVkLiBUaGlzIGlzIGNhbGxlZCBpbiBhIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgIGNhbGxiYWNrLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbigpfSBbcmVzZXROb3J0aF0gRnVuY3Rpb24gY2FsbGVkIHdoZW4gdGhlIGNvbnRyb2wgaXMgY2xpY2tlZC5cbiAqIFRoaXMgd2lsbCBvdmVycmlkZSB0aGUgZGVmYXVsdCBgcmVzZXROb3J0aGAuXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fHN0cmluZ30gW3RhcmdldF0gU3BlY2lmeSBhIHRhcmdldCBpZiB5b3Ugd2FudCB0aGUgY29udHJvbCB0byBiZVxuICogcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGUgbWFwJ3Mgdmlld3BvcnQuXG4gKi9cblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEEgYnV0dG9uIGNvbnRyb2wgdG8gcmVzZXQgcm90YXRpb24gdG8gMC5cbiAqIFRvIHN0eWxlIHRoaXMgY29udHJvbCB1c2UgY3NzIHNlbGVjdG9yIGAub2wtcm90YXRlYC4gQSBgLm9sLWhpZGRlbmAgY3NzXG4gKiBzZWxlY3RvciBpcyBhZGRlZCB0byB0aGUgYnV0dG9uIHdoZW4gdGhlIHJvdGF0aW9uIGlzIDAuXG4gKlxuICogQGFwaVxuICovXG52YXIgUm90YXRlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQ29udHJvbCkge1xuICBmdW5jdGlvbiBSb3RhdGUob3B0X29wdGlvbnMpIHtcblxuICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuXG4gICAgQ29udHJvbC5jYWxsKHRoaXMsIHtcbiAgICAgIGVsZW1lbnQ6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgcmVuZGVyOiBvcHRpb25zLnJlbmRlciB8fCByZW5kZXIsXG4gICAgICB0YXJnZXQ6IG9wdGlvbnMudGFyZ2V0XG4gICAgfSk7XG5cbiAgICB2YXIgY2xhc3NOYW1lID0gb3B0aW9ucy5jbGFzc05hbWUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2xhc3NOYW1lIDogJ29sLXJvdGF0ZSc7XG5cbiAgICB2YXIgbGFiZWwgPSBvcHRpb25zLmxhYmVsICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmxhYmVsIDogJ1xcdTIxRTcnO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5sYWJlbF8gPSBudWxsO1xuXG4gICAgaWYgKHR5cGVvZiBsYWJlbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMubGFiZWxfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgdGhpcy5sYWJlbF8uY2xhc3NOYW1lID0gJ29sLWNvbXBhc3MnO1xuICAgICAgdGhpcy5sYWJlbF8udGV4dENvbnRlbnQgPSBsYWJlbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5sYWJlbF8gPSBsYWJlbDtcbiAgICAgIHRoaXMubGFiZWxfLmNsYXNzTGlzdC5hZGQoJ29sLWNvbXBhc3MnKTtcbiAgICB9XG5cbiAgICB2YXIgdGlwTGFiZWwgPSBvcHRpb25zLnRpcExhYmVsID8gb3B0aW9ucy50aXBMYWJlbCA6ICdSZXNldCByb3RhdGlvbic7XG5cbiAgICB2YXIgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgYnV0dG9uLmNsYXNzTmFtZSA9IGNsYXNzTmFtZSArICctcmVzZXQnO1xuICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XG4gICAgYnV0dG9uLnRpdGxlID0gdGlwTGFiZWw7XG4gICAgYnV0dG9uLmFwcGVuZENoaWxkKHRoaXMubGFiZWxfKTtcblxuICAgIGxpc3RlbihidXR0b24sIEV2ZW50VHlwZS5DTElDSywgdGhpcy5oYW5kbGVDbGlja18sIHRoaXMpO1xuXG4gICAgdmFyIGNzc0NsYXNzZXMgPSBjbGFzc05hbWUgKyAnICcgKyBDTEFTU19VTlNFTEVDVEFCTEUgKyAnICcgKyBDTEFTU19DT05UUk9MO1xuICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gY3NzQ2xhc3NlcztcbiAgICBlbGVtZW50LmFwcGVuZENoaWxkKGJ1dHRvbik7XG5cbiAgICB0aGlzLmNhbGxSZXNldE5vcnRoXyA9IG9wdGlvbnMucmVzZXROb3J0aCA/IG9wdGlvbnMucmVzZXROb3J0aCA6IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmR1cmF0aW9uXyA9IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAyNTA7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuYXV0b0hpZGVfID0gb3B0aW9ucy5hdXRvSGlkZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5hdXRvSGlkZSA6IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMucm90YXRpb25fID0gdW5kZWZpbmVkO1xuXG4gICAgaWYgKHRoaXMuYXV0b0hpZGVfKSB7XG4gICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU19ISURERU4pO1xuICAgIH1cblxuICB9XG5cbiAgaWYgKCBDb250cm9sICkgUm90YXRlLl9fcHJvdG9fXyA9IENvbnRyb2w7XG4gIFJvdGF0ZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBDb250cm9sICYmIENvbnRyb2wucHJvdG90eXBlICk7XG4gIFJvdGF0ZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBSb3RhdGU7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgVGhlIGV2ZW50IHRvIGhhbmRsZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgUm90YXRlLnByb3RvdHlwZS5oYW5kbGVDbGlja18gPSBmdW5jdGlvbiBoYW5kbGVDbGlja18gKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAodGhpcy5jYWxsUmVzZXROb3J0aF8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5jYWxsUmVzZXROb3J0aF8oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZXNldE5vcnRoXygpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIFJvdGF0ZS5wcm90b3R5cGUucmVzZXROb3J0aF8gPSBmdW5jdGlvbiByZXNldE5vcnRoXyAoKSB7XG4gICAgdmFyIG1hcCA9IHRoaXMuZ2V0TWFwKCk7XG4gICAgdmFyIHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgIGlmICghdmlldykge1xuICAgICAgLy8gdGhlIG1hcCBkb2VzIG5vdCBoYXZlIGEgdmlldywgc28gd2UgY2FuJ3QgYWN0XG4gICAgICAvLyB1cG9uIGl0XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh2aWV3LmdldFJvdGF0aW9uKCkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKHRoaXMuZHVyYXRpb25fID4gMCkge1xuICAgICAgICB2aWV3LmFuaW1hdGUoe1xuICAgICAgICAgIHJvdGF0aW9uOiAwLFxuICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLmR1cmF0aW9uXyxcbiAgICAgICAgICBlYXNpbmc6IGVhc2VPdXRcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2aWV3LnNldFJvdGF0aW9uKDApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gUm90YXRlO1xufShDb250cm9sKSk7XG5cblxuLyoqXG4gKiBVcGRhdGUgdGhlIHJvdGF0ZSBjb250cm9sIGVsZW1lbnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEV2ZW50IE1hcCBldmVudC5cbiAqIEB0aGlzIHtSb3RhdGV9XG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIobWFwRXZlbnQpIHtcbiAgdmFyIGZyYW1lU3RhdGUgPSBtYXBFdmVudC5mcmFtZVN0YXRlO1xuICBpZiAoIWZyYW1lU3RhdGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIHJvdGF0aW9uID0gZnJhbWVTdGF0ZS52aWV3U3RhdGUucm90YXRpb247XG4gIGlmIChyb3RhdGlvbiAhPSB0aGlzLnJvdGF0aW9uXykge1xuICAgIHZhciB0cmFuc2Zvcm0gPSAncm90YXRlKCcgKyByb3RhdGlvbiArICdyYWQpJztcbiAgICBpZiAodGhpcy5hdXRvSGlkZV8pIHtcbiAgICAgIHZhciBjb250YWlucyA9IHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfSElEREVOKTtcbiAgICAgIGlmICghY29udGFpbnMgJiYgcm90YXRpb24gPT09IDApIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoQ0xBU1NfSElEREVOKTtcbiAgICAgIH0gZWxzZSBpZiAoY29udGFpbnMgJiYgcm90YXRpb24gIT09IDApIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoQ0xBU1NfSElEREVOKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5sYWJlbF8uc3R5bGUubXNUcmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgdGhpcy5sYWJlbF8uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgIHRoaXMubGFiZWxfLnN0eWxlLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgfVxuICB0aGlzLnJvdGF0aW9uXyA9IHJvdGF0aW9uO1xufVxuXG5leHBvcnQgZGVmYXVsdCBSb3RhdGU7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJvdGF0ZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvY29udHJvbC9ab29tXG4gKi9cbmltcG9ydCB7bGlzdGVufSBmcm9tICcuLi9ldmVudHMuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBDb250cm9sIGZyb20gJy4vQ29udHJvbC5qcyc7XG5pbXBvcnQge0NMQVNTX0NPTlRST0wsIENMQVNTX1VOU0VMRUNUQUJMRX0gZnJvbSAnLi4vY3NzLmpzJztcbmltcG9ydCB7ZWFzZU91dH0gZnJvbSAnLi4vZWFzaW5nLmpzJztcblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MjUwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLXpvb20nXSBDU1MgY2xhc3MgbmFtZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfEhUTUxFbGVtZW50fSBbem9vbUluTGFiZWw9JysnXSBUZXh0IGxhYmVsIHRvIHVzZSBmb3IgdGhlIHpvb20taW5cbiAqIGJ1dHRvbi4gSW5zdGVhZCBvZiB0ZXh0LCBhbHNvIGFuIGVsZW1lbnQgKGUuZy4gYSBgc3BhbmAgZWxlbWVudCkgY2FuIGJlIHVzZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ3xIVE1MRWxlbWVudH0gW3pvb21PdXRMYWJlbD0nLSddIFRleHQgbGFiZWwgdG8gdXNlIGZvciB0aGUgem9vbS1vdXQgYnV0dG9uLlxuICogSW5zdGVhZCBvZiB0ZXh0LCBhbHNvIGFuIGVsZW1lbnQgKGUuZy4gYSBgc3BhbmAgZWxlbWVudCkgY2FuIGJlIHVzZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3pvb21JblRpcExhYmVsPSdab29tIGluJ10gVGV4dCBsYWJlbCB0byB1c2UgZm9yIHRoZSBidXR0b24gdGlwLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt6b29tT3V0VGlwTGFiZWw9J1pvb20gb3V0J10gVGV4dCBsYWJlbCB0byB1c2UgZm9yIHRoZSBidXR0b24gdGlwLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkZWx0YT0xXSBUaGUgem9vbSBkZWx0YSBhcHBsaWVkIG9uIGVhY2ggY2xpY2suXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fHN0cmluZ30gW3RhcmdldF0gU3BlY2lmeSBhIHRhcmdldCBpZiB5b3Ugd2FudCB0aGUgY29udHJvbCB0byBiZVxuICogcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGUgbWFwJ3Mgdmlld3BvcnQuXG4gKi9cblxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEEgY29udHJvbCB3aXRoIDIgYnV0dG9ucywgb25lIGZvciB6b29tIGluIGFuZCBvbmUgZm9yIHpvb20gb3V0LlxuICogVGhpcyBjb250cm9sIGlzIG9uZSBvZiB0aGUgZGVmYXVsdCBjb250cm9scyBvZiBhIG1hcC4gVG8gc3R5bGUgdGhpcyBjb250cm9sXG4gKiB1c2UgY3NzIHNlbGVjdG9ycyBgLm9sLXpvb20taW5gIGFuZCBgLm9sLXpvb20tb3V0YC5cbiAqXG4gKiBAYXBpXG4gKi9cbnZhciBab29tID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQ29udHJvbCkge1xuICBmdW5jdGlvbiBab29tKG9wdF9vcHRpb25zKSB7XG5cbiAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcblxuICAgIENvbnRyb2wuY2FsbCh0aGlzLCB7XG4gICAgICBlbGVtZW50OiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgIHRhcmdldDogb3B0aW9ucy50YXJnZXRcbiAgICB9KTtcblxuICAgIHZhciBjbGFzc05hbWUgPSBvcHRpb25zLmNsYXNzTmFtZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jbGFzc05hbWUgOiAnb2wtem9vbSc7XG5cbiAgICB2YXIgZGVsdGEgPSBvcHRpb25zLmRlbHRhICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmRlbHRhIDogMTtcblxuICAgIHZhciB6b29tSW5MYWJlbCA9IG9wdGlvbnMuem9vbUluTGFiZWwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuem9vbUluTGFiZWwgOiAnKyc7XG4gICAgdmFyIHpvb21PdXRMYWJlbCA9IG9wdGlvbnMuem9vbU91dExhYmVsICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnpvb21PdXRMYWJlbCA6ICdcXHUyMjEyJztcblxuICAgIHZhciB6b29tSW5UaXBMYWJlbCA9IG9wdGlvbnMuem9vbUluVGlwTGFiZWwgIT09IHVuZGVmaW5lZCA/XG4gICAgICBvcHRpb25zLnpvb21JblRpcExhYmVsIDogJ1pvb20gaW4nO1xuICAgIHZhciB6b29tT3V0VGlwTGFiZWwgPSBvcHRpb25zLnpvb21PdXRUaXBMYWJlbCAhPT0gdW5kZWZpbmVkID9cbiAgICAgIG9wdGlvbnMuem9vbU91dFRpcExhYmVsIDogJ1pvb20gb3V0JztcblxuICAgIHZhciBpbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBpbkVsZW1lbnQuY2xhc3NOYW1lID0gY2xhc3NOYW1lICsgJy1pbic7XG4gICAgaW5FbGVtZW50LnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICBpbkVsZW1lbnQudGl0bGUgPSB6b29tSW5UaXBMYWJlbDtcbiAgICBpbkVsZW1lbnQuYXBwZW5kQ2hpbGQoXG4gICAgICB0eXBlb2Ygem9vbUluTGFiZWwgPT09ICdzdHJpbmcnID8gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoem9vbUluTGFiZWwpIDogem9vbUluTGFiZWxcbiAgICApO1xuXG4gICAgbGlzdGVuKGluRWxlbWVudCwgRXZlbnRUeXBlLkNMSUNLLCB0aGlzLmhhbmRsZUNsaWNrXy5iaW5kKHRoaXMsIGRlbHRhKSk7XG5cbiAgICB2YXIgb3V0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIG91dEVsZW1lbnQuY2xhc3NOYW1lID0gY2xhc3NOYW1lICsgJy1vdXQnO1xuICAgIG91dEVsZW1lbnQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICAgIG91dEVsZW1lbnQudGl0bGUgPSB6b29tT3V0VGlwTGFiZWw7XG4gICAgb3V0RWxlbWVudC5hcHBlbmRDaGlsZChcbiAgICAgIHR5cGVvZiB6b29tT3V0TGFiZWwgPT09ICdzdHJpbmcnID8gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoem9vbU91dExhYmVsKSA6IHpvb21PdXRMYWJlbFxuICAgICk7XG5cbiAgICBsaXN0ZW4ob3V0RWxlbWVudCwgRXZlbnRUeXBlLkNMSUNLLCB0aGlzLmhhbmRsZUNsaWNrXy5iaW5kKHRoaXMsIC1kZWx0YSkpO1xuXG4gICAgdmFyIGNzc0NsYXNzZXMgPSBjbGFzc05hbWUgKyAnICcgKyBDTEFTU19VTlNFTEVDVEFCTEUgKyAnICcgKyBDTEFTU19DT05UUk9MO1xuICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gY3NzQ2xhc3NlcztcbiAgICBlbGVtZW50LmFwcGVuZENoaWxkKGluRWxlbWVudCk7XG4gICAgZWxlbWVudC5hcHBlbmRDaGlsZChvdXRFbGVtZW50KTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmR1cmF0aW9uXyA9IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAyNTA7XG5cbiAgfVxuXG4gIGlmICggQ29udHJvbCApIFpvb20uX19wcm90b19fID0gQ29udHJvbDtcbiAgWm9vbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBDb250cm9sICYmIENvbnRyb2wucHJvdG90eXBlICk7XG4gIFpvb20ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gWm9vbTtcblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhIFpvb20gZGVsdGEuXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgVGhlIGV2ZW50IHRvIGhhbmRsZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgWm9vbS5wcm90b3R5cGUuaGFuZGxlQ2xpY2tfID0gZnVuY3Rpb24gaGFuZGxlQ2xpY2tfIChkZWx0YSwgZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuem9vbUJ5RGVsdGFfKGRlbHRhKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhIFpvb20gZGVsdGEuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBab29tLnByb3RvdHlwZS56b29tQnlEZWx0YV8gPSBmdW5jdGlvbiB6b29tQnlEZWx0YV8gKGRlbHRhKSB7XG4gICAgdmFyIG1hcCA9IHRoaXMuZ2V0TWFwKCk7XG4gICAgdmFyIHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgIGlmICghdmlldykge1xuICAgICAgLy8gdGhlIG1hcCBkb2VzIG5vdCBoYXZlIGEgdmlldywgc28gd2UgY2FuJ3QgYWN0XG4gICAgICAvLyB1cG9uIGl0XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBjdXJyZW50UmVzb2x1dGlvbiA9IHZpZXcuZ2V0UmVzb2x1dGlvbigpO1xuICAgIGlmIChjdXJyZW50UmVzb2x1dGlvbikge1xuICAgICAgdmFyIG5ld1Jlc29sdXRpb24gPSB2aWV3LmNvbnN0cmFpblJlc29sdXRpb24oY3VycmVudFJlc29sdXRpb24sIGRlbHRhKTtcbiAgICAgIGlmICh0aGlzLmR1cmF0aW9uXyA+IDApIHtcbiAgICAgICAgaWYgKHZpZXcuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgICB2aWV3LmNhbmNlbEFuaW1hdGlvbnMoKTtcbiAgICAgICAgfVxuICAgICAgICB2aWV3LmFuaW1hdGUoe1xuICAgICAgICAgIHJlc29sdXRpb246IG5ld1Jlc29sdXRpb24sXG4gICAgICAgICAgZHVyYXRpb246IHRoaXMuZHVyYXRpb25fLFxuICAgICAgICAgIGVhc2luZzogZWFzZU91dFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZpZXcuc2V0UmVzb2x1dGlvbihuZXdSZXNvbHV0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFpvb207XG59KENvbnRyb2wpKTtcblxuXG5leHBvcnQgZGVmYXVsdCBab29tO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1ab29tLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvUmVwbGF5R3JvdXBcbiAqL1xuaW1wb3J0IHthYnN0cmFjdH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgcmVwbGF5IGdyb3Vwcy5cbiAqL1xudmFyIFJlcGxheUdyb3VwID0gZnVuY3Rpb24gUmVwbGF5R3JvdXAgKCkge307XG5cblJlcGxheUdyb3VwLnByb3RvdHlwZS5nZXRSZXBsYXkgPSBmdW5jdGlvbiBnZXRSZXBsYXkgKHpJbmRleCwgcmVwbGF5VHlwZSkge1xuICByZXR1cm4gYWJzdHJhY3QoKTtcbn07XG5cbi8qKlxuICogQGFic3RyYWN0XG4gKiBAcmV0dXJuIHtib29sZWFufSBJcyBlbXB0eS5cbiAqL1xuUmVwbGF5R3JvdXAucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiBpc0VtcHR5ICgpIHtcbiAgcmV0dXJuIGFic3RyYWN0KCk7XG59O1xuXG4vKipcbiAqIEBhYnN0cmFjdFxuICogQHBhcmFtIHtib29sZWFufSBncm91cCBHcm91cCB3aXRoIHByZXZpb3VzIHJlcGxheVxuICogQHJldHVybiB7QXJyYXk8Kj59IFRoZSByZXN1bHRpbmcgaW5zdHJ1Y3Rpb24gZ3JvdXBcbiAqL1xuUmVwbGF5R3JvdXAucHJvdG90eXBlLmFkZERlY2x1dHRlciA9IGZ1bmN0aW9uIGFkZERlY2x1dHRlciAoZ3JvdXApIHtcbiAgcmV0dXJuIGFic3RyYWN0KCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBSZXBsYXlHcm91cDtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVwbGF5R3JvdXAuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9SZXBsYXlUeXBlXG4gKi9cblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIENJUkNMRTogJ0NpcmNsZScsXG4gIERFRkFVTFQ6ICdEZWZhdWx0JyxcbiAgSU1BR0U6ICdJbWFnZScsXG4gIExJTkVfU1RSSU5HOiAnTGluZVN0cmluZycsXG4gIFBPTFlHT046ICdQb2x5Z29uJyxcbiAgVEVYVDogJ1RleHQnXG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZXBsYXlUeXBlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvdGV4dHBhdGhcbiAqL1xuaW1wb3J0IHtsZXJwfSBmcm9tICcuLi8uLi9tYXRoLmpzJztcblxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIFBhdGggdG8gcHV0IHRleHQgb24uXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IFN0YXJ0IG9mZnNldCBvZiB0aGUgYGZsYXRDb29yZGluYXRlc2AuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZCBvZmZzZXQgb2YgdGhlIGBmbGF0Q29vcmRpbmF0ZXNgLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUZXh0IHRvIHBsYWNlIG9uIHRoZSBwYXRoLlxuICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmcpOm51bWJlcn0gbWVhc3VyZSBNZWFzdXJlIGZ1bmN0aW9uIHJldHVybmluZyB0aGVcbiAqIHdpZHRoIG9mIHRoZSBjaGFyYWN0ZXIgcGFzc2VkIGFzIDFzdCBhcmd1bWVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydE0gbSBhbG9uZyB0aGUgcGF0aCB3aGVyZSB0aGUgdGV4dCBzdGFydHMuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4QW5nbGUgTWF4IGFuZ2xlIGJldHdlZW4gYWRqYWNlbnQgY2hhcnMgaW4gcmFkaWFucy5cbiAqIEByZXR1cm4ge0FycmF5PEFycmF5PCo+Pn0gVGhlIHJlc3VsdCBhcnJheSBvZiBudWxsIGlmIGBtYXhBbmdsZWAgd2FzXG4gKiBleGNlZWRlZC4gRW50cmllcyBvZiB0aGUgYXJyYXkgYXJlIHgsIHksIGFuY2hvclgsIGFuZ2xlLCBjaHVuay5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRyYXdUZXh0T25QYXRoKFxuICBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIHRleHQsIG1lYXN1cmUsIHN0YXJ0TSwgbWF4QW5nbGUpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gIC8vIEtlZXAgdGV4dCB1cHJpZ2h0XG4gIHZhciByZXZlcnNlID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF0gPiBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlXTtcblxuICB2YXIgbnVtQ2hhcnMgPSB0ZXh0Lmxlbmd0aDtcblxuICB2YXIgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgdmFyIHkxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICBvZmZzZXQgKz0gc3RyaWRlO1xuICB2YXIgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgdmFyIHkyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICB2YXIgc2VnbWVudE0gPSAwO1xuICB2YXIgc2VnbWVudExlbmd0aCA9IE1hdGguc3FydChNYXRoLnBvdyh4MiAtIHgxLCAyKSArIE1hdGgucG93KHkyIC0geTEsIDIpKTtcblxuICB2YXIgY2h1bmsgPSAnJztcbiAgdmFyIGNodW5rTGVuZ3RoID0gMDtcbiAgdmFyIGRhdGEsIGluZGV4LCBwcmV2aW91c0FuZ2xlO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUNoYXJzOyArK2kpIHtcbiAgICBpbmRleCA9IHJldmVyc2UgPyBudW1DaGFycyAtIGkgLSAxIDogaTtcbiAgICB2YXIgY2hhciA9IHRleHQuY2hhckF0KGluZGV4KTtcbiAgICBjaHVuayA9IHJldmVyc2UgPyBjaGFyICsgY2h1bmsgOiBjaHVuayArIGNoYXI7XG4gICAgdmFyIGNoYXJMZW5ndGggPSBtZWFzdXJlKGNodW5rKSAtIGNodW5rTGVuZ3RoO1xuICAgIGNodW5rTGVuZ3RoICs9IGNoYXJMZW5ndGg7XG4gICAgdmFyIGNoYXJNID0gc3RhcnRNICsgY2hhckxlbmd0aCAvIDI7XG4gICAgd2hpbGUgKG9mZnNldCA8IGVuZCAtIHN0cmlkZSAmJiBzZWdtZW50TSArIHNlZ21lbnRMZW5ndGggPCBjaGFyTSkge1xuICAgICAgeDEgPSB4MjtcbiAgICAgIHkxID0geTI7XG4gICAgICBvZmZzZXQgKz0gc3RyaWRlO1xuICAgICAgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICAgIHkyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgICAgc2VnbWVudE0gKz0gc2VnbWVudExlbmd0aDtcbiAgICAgIHNlZ21lbnRMZW5ndGggPSBNYXRoLnNxcnQoTWF0aC5wb3coeDIgLSB4MSwgMikgKyBNYXRoLnBvdyh5MiAtIHkxLCAyKSk7XG4gICAgfVxuICAgIHZhciBzZWdtZW50UG9zID0gY2hhck0gLSBzZWdtZW50TTtcbiAgICB2YXIgYW5nbGUgPSBNYXRoLmF0YW4yKHkyIC0geTEsIHgyIC0geDEpO1xuICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICBhbmdsZSArPSBhbmdsZSA+IDAgPyAtTWF0aC5QSSA6IE1hdGguUEk7XG4gICAgfVxuICAgIGlmIChwcmV2aW91c0FuZ2xlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBkZWx0YSA9IGFuZ2xlIC0gcHJldmlvdXNBbmdsZTtcbiAgICAgIGRlbHRhICs9IChkZWx0YSA+IE1hdGguUEkpID8gLTIgKiBNYXRoLlBJIDogKGRlbHRhIDwgLU1hdGguUEkpID8gMiAqIE1hdGguUEkgOiAwO1xuICAgICAgaWYgKE1hdGguYWJzKGRlbHRhKSA+IG1heEFuZ2xlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgaW50ZXJwb2xhdGUgPSBzZWdtZW50UG9zIC8gc2VnbWVudExlbmd0aDtcbiAgICB2YXIgeCA9IGxlcnAoeDEsIHgyLCBpbnRlcnBvbGF0ZSk7XG4gICAgdmFyIHkgPSBsZXJwKHkxLCB5MiwgaW50ZXJwb2xhdGUpO1xuICAgIGlmIChwcmV2aW91c0FuZ2xlID09IGFuZ2xlKSB7XG4gICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICBkYXRhWzBdID0geDtcbiAgICAgICAgZGF0YVsxXSA9IHk7XG4gICAgICAgIGRhdGFbMl0gPSBjaGFyTGVuZ3RoIC8gMjtcbiAgICAgIH1cbiAgICAgIGRhdGFbNF0gPSBjaHVuaztcbiAgICB9IGVsc2Uge1xuICAgICAgY2h1bmsgPSBjaGFyO1xuICAgICAgY2h1bmtMZW5ndGggPSBjaGFyTGVuZ3RoO1xuICAgICAgZGF0YSA9IFt4LCB5LCBjaGFyTGVuZ3RoIC8gMiwgYW5nbGUsIGNodW5rXTtcbiAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgIHJlc3VsdC51bnNoaWZ0KGRhdGEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0LnB1c2goZGF0YSk7XG4gICAgICB9XG4gICAgICBwcmV2aW91c0FuZ2xlID0gYW5nbGU7XG4gICAgfVxuICAgIHN0YXJ0TSArPSBjaGFyTGVuZ3RoO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRleHRwYXRoLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL0luc3RydWN0aW9uXG4gKi9cblxuLyoqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG52YXIgSW5zdHJ1Y3Rpb24gPSB7XG4gIEJFR0lOX0dFT01FVFJZOiAwLFxuICBCRUdJTl9QQVRIOiAxLFxuICBDSVJDTEU6IDIsXG4gIENMT1NFX1BBVEg6IDMsXG4gIENVU1RPTTogNCxcbiAgRFJBV19DSEFSUzogNSxcbiAgRFJBV19JTUFHRTogNixcbiAgRU5EX0dFT01FVFJZOiA3LFxuICBGSUxMOiA4LFxuICBNT1ZFX1RPX0xJTkVfVE86IDksXG4gIFNFVF9GSUxMX1NUWUxFOiAxMCxcbiAgU0VUX1NUUk9LRV9TVFlMRTogMTEsXG4gIFNUUk9LRTogMTJcbn07XG5cblxuLyoqXG4gKiBAdHlwZSB7QXJyYXk8SW5zdHJ1Y3Rpb24+fVxuICovXG5leHBvcnQgdmFyIGZpbGxJbnN0cnVjdGlvbiA9IFtJbnN0cnVjdGlvbi5GSUxMXTtcblxuXG4vKipcbiAqIEB0eXBlIHtBcnJheTxJbnN0cnVjdGlvbj59XG4gKi9cbmV4cG9ydCB2YXIgc3Ryb2tlSW5zdHJ1Y3Rpb24gPSBbSW5zdHJ1Y3Rpb24uU1RST0tFXTtcblxuXG4vKipcbiAqIEB0eXBlIHtBcnJheTxJbnN0cnVjdGlvbj59XG4gKi9cbmV4cG9ydCB2YXIgYmVnaW5QYXRoSW5zdHJ1Y3Rpb24gPSBbSW5zdHJ1Y3Rpb24uQkVHSU5fUEFUSF07XG5cblxuLyoqXG4gKiBAdHlwZSB7QXJyYXk8SW5zdHJ1Y3Rpb24+fVxuICovXG5leHBvcnQgdmFyIGNsb3NlUGF0aEluc3RydWN0aW9uID0gW0luc3RydWN0aW9uLkNMT1NFX1BBVEhdO1xuXG5cbmV4cG9ydCBkZWZhdWx0IEluc3RydWN0aW9uO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbnN0cnVjdGlvbi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL3JlcGxheVxuICovXG5pbXBvcnQgUmVwbGF5VHlwZSBmcm9tICcuL1JlcGxheVR5cGUuanMnO1xuXG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7QXJyYXk8UmVwbGF5VHlwZT59XG4gKi9cbmV4cG9ydCB2YXIgT1JERVIgPSBbXG4gIFJlcGxheVR5cGUuUE9MWUdPTixcbiAgUmVwbGF5VHlwZS5DSVJDTEUsXG4gIFJlcGxheVR5cGUuTElORV9TVFJJTkcsXG4gIFJlcGxheVR5cGUuSU1BR0UsXG4gIFJlcGxheVR5cGUuVEVYVCxcbiAgUmVwbGF5VHlwZS5ERUZBVUxUXG5dO1xuXG4vKipcbiAqIEBjb25zdFxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IHZhciBURVhUX0FMSUdOID0ge307XG5URVhUX0FMSUdOWydsZWZ0J10gPSAwO1xuVEVYVF9BTElHTlsnZW5kJ10gPSAwO1xuVEVYVF9BTElHTlsnY2VudGVyJ10gPSAwLjU7XG5URVhUX0FMSUdOWydyaWdodCddID0gMTtcblRFWFRfQUxJR05bJ3N0YXJ0J10gPSAxO1xuVEVYVF9BTElHTlsndG9wJ10gPSAwO1xuVEVYVF9BTElHTlsnbWlkZGxlJ10gPSAwLjU7XG5URVhUX0FMSUdOWydoYW5naW5nJ10gPSAwLjI7XG5URVhUX0FMSUdOWydhbHBoYWJldGljJ10gPSAwLjg7XG5URVhUX0FMSUdOWydpZGVvZ3JhcGhpYyddID0gMC44O1xuVEVYVF9BTElHTlsnYm90dG9tJ10gPSAxO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXBsYXkuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9jYW52YXMvUmVwbGF5XG4gKi9cbmltcG9ydCB7Z2V0VWlkfSBmcm9tICcuLi8uLi91dGlsLmpzJztcbmltcG9ydCB7ZXF1YWxzLCByZXZlcnNlU3ViQXJyYXl9IGZyb20gJy4uLy4uL2FycmF5LmpzJztcbmltcG9ydCB7YXNDb2xvckxpa2V9IGZyb20gJy4uLy4uL2NvbG9ybGlrZS5qcyc7XG5pbXBvcnQge2J1ZmZlciwgY2xvbmUsIGNvb3JkaW5hdGVSZWxhdGlvbnNoaXAsIGNyZWF0ZUVtcHR5LCBjcmVhdGVPclVwZGF0ZSxcbiAgY3JlYXRlT3JVcGRhdGVFbXB0eSwgZXh0ZW5kLCBleHRlbmRDb29yZGluYXRlLCBpbnRlcnNlY3RzfSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuaW1wb3J0IFJlbGF0aW9uc2hpcCBmcm9tICcuLi8uLi9leHRlbnQvUmVsYXRpb25zaGlwLmpzJztcbmltcG9ydCBHZW9tZXRyeVR5cGUgZnJvbSAnLi4vLi4vZ2VvbS9HZW9tZXRyeVR5cGUuanMnO1xuaW1wb3J0IHtpbmZsYXRlQ29vcmRpbmF0ZXMsIGluZmxhdGVDb29yZGluYXRlc0FycmF5LCBpbmZsYXRlTXVsdGlDb29yZGluYXRlc0FycmF5fSBmcm9tICcuLi8uLi9nZW9tL2ZsYXQvaW5mbGF0ZS5qcyc7XG5pbXBvcnQge2xpbmVTdHJpbmdMZW5ndGh9IGZyb20gJy4uLy4uL2dlb20vZmxhdC9sZW5ndGguanMnO1xuaW1wb3J0IHtkcmF3VGV4dE9uUGF0aH0gZnJvbSAnLi4vLi4vZ2VvbS9mbGF0L3RleHRwYXRoLmpzJztcbmltcG9ydCB7dHJhbnNmb3JtMkR9IGZyb20gJy4uLy4uL2dlb20vZmxhdC90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHtDQU5WQVNfTElORV9EQVNIfSBmcm9tICcuLi8uLi9oYXMuanMnO1xuaW1wb3J0IHtpc0VtcHR5fSBmcm9tICcuLi8uLi9vYmouanMnO1xuaW1wb3J0IFZlY3RvckNvbnRleHQgZnJvbSAnLi4vVmVjdG9yQ29udGV4dC5qcyc7XG5pbXBvcnQge2RyYXdJbWFnZSwgcmVzZXRUcmFuc2Zvcm0sIGRlZmF1bHRQYWRkaW5nLCBkZWZhdWx0RmlsbFN0eWxlLCBkZWZhdWx0U3Ryb2tlU3R5bGUsXG4gIGRlZmF1bHRNaXRlckxpbWl0LCBkZWZhdWx0TGluZVdpZHRoLCBkZWZhdWx0TGluZUpvaW4sIGRlZmF1bHRMaW5lRGFzaE9mZnNldCxcbiAgZGVmYXVsdExpbmVEYXNoLCBkZWZhdWx0TGluZUNhcH0gZnJvbSAnLi4vY2FudmFzLmpzJztcbmltcG9ydCBDYW52YXNJbnN0cnVjdGlvbiBmcm9tICcuL0luc3RydWN0aW9uLmpzJztcbmltcG9ydCB7VEVYVF9BTElHTn0gZnJvbSAnLi4vcmVwbGF5LmpzJztcbmltcG9ydCB7XG4gIGNyZWF0ZSBhcyBjcmVhdGVUcmFuc2Zvcm0sXG4gIGNvbXBvc2UgYXMgY29tcG9zZVRyYW5zZm9ybSxcbiAgYXBwbHkgYXMgYXBwbHlUcmFuc2Zvcm0sXG4gIHNldEZyb21BcnJheSBhcyB0cmFuc2Zvcm1TZXRGcm9tQXJyYXlcbn0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtLmpzJztcblxuXG4vKipcbiAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICovXG52YXIgdG1wRXh0ZW50ID0gY3JlYXRlRW1wdHkoKTtcblxuXG4vKipcbiAqIEB0eXBlIHshaW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAqL1xudmFyIHRtcFRyYW5zZm9ybSA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xuXG5cbnZhciBDYW52YXNSZXBsYXkgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChWZWN0b3JDb250ZXh0KSB7XG4gIGZ1bmN0aW9uIENhbnZhc1JlcGxheSh0b2xlcmFuY2UsIG1heEV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbywgb3ZlcmxhcHMsIGRlY2x1dHRlclRyZWUpIHtcbiAgICBWZWN0b3JDb250ZXh0LmNhbGwodGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7P31cbiAgICAgKi9cbiAgICB0aGlzLmRlY2x1dHRlclRyZWUgPSBkZWNsdXR0ZXJUcmVlO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50b2xlcmFuY2UgPSB0b2xlcmFuY2U7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQGNvbnN0XG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICovXG4gICAgdGhpcy5tYXhFeHRlbnQgPSBtYXhFeHRlbnQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5vdmVybGFwcyA9IG92ZXJsYXBzO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5waXhlbFJhdGlvID0gcGl4ZWxSYXRpbztcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWF4TGluZVdpZHRoID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAY29uc3RcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuYWxpZ25GaWxsXztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PCo+fVxuICAgICAqL1xuICAgIHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8Kj59XG4gICAgICovXG4gICAgdGhpcy5iZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24yXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqL1xuICAgIHRoaXMuYnVmZmVyZWRNYXhFeHRlbnRfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7QXJyYXk8Kj59XG4gICAgICovXG4gICAgdGhpcy5pbnN0cnVjdGlvbnMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLmNvb3JkaW5hdGVzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshT2JqZWN0PG51bWJlcixpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8QXJyYXk8aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPnxBcnJheTxBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pj59XG4gICAgICovXG4gICAgdGhpcy5jb29yZGluYXRlQ2FjaGVfID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshaW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVkVHJhbnNmb3JtXyA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtBcnJheTwqPn1cbiAgICAgKi9cbiAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdHJva2VTdGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLnN0YXRlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0cm9rZVN0YXRlfSAqLyAoe30pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudmlld1JvdGF0aW9uXyA9IDA7XG5cbiAgfVxuXG4gIGlmICggVmVjdG9yQ29udGV4dCApIENhbnZhc1JlcGxheS5fX3Byb3RvX18gPSBWZWN0b3JDb250ZXh0O1xuICBDYW52YXNSZXBsYXkucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggVmVjdG9yQ29udGV4dCAmJiBWZWN0b3JDb250ZXh0LnByb3RvdHlwZSApO1xuICBDYW52YXNSZXBsYXkucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ2FudmFzUmVwbGF5O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gcDEgMXN0IHBvaW50IG9mIHRoZSBiYWNrZ3JvdW5kIGJveC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHAyIDJuZCBwb2ludCBvZiB0aGUgYmFja2dyb3VuZCBib3guXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBwMyAzcmQgcG9pbnQgb2YgdGhlIGJhY2tncm91bmQgYm94LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gcDQgNHRoIHBvaW50IG9mIHRoZSBiYWNrZ3JvdW5kIGJveC5cbiAgICogQHBhcmFtIHtBcnJheTwqPn0gZmlsbEluc3RydWN0aW9uIEZpbGwgaW5zdHJ1Y3Rpb24uXG4gICAqIEBwYXJhbSB7QXJyYXk8Kj59IHN0cm9rZUluc3RydWN0aW9uIFN0cm9rZSBpbnN0cnVjdGlvbi5cbiAgICovXG4gIENhbnZhc1JlcGxheS5wcm90b3R5cGUucmVwbGF5VGV4dEJhY2tncm91bmRfID0gZnVuY3Rpb24gcmVwbGF5VGV4dEJhY2tncm91bmRfIChjb250ZXh0LCBwMSwgcDIsIHAzLCBwNCwgZmlsbEluc3RydWN0aW9uLCBzdHJva2VJbnN0cnVjdGlvbikge1xuICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgY29udGV4dC5tb3ZlVG8uYXBwbHkoY29udGV4dCwgcDEpO1xuICAgIGNvbnRleHQubGluZVRvLmFwcGx5KGNvbnRleHQsIHAyKTtcbiAgICBjb250ZXh0LmxpbmVUby5hcHBseShjb250ZXh0LCBwMyk7XG4gICAgY29udGV4dC5saW5lVG8uYXBwbHkoY29udGV4dCwgcDQpO1xuICAgIGNvbnRleHQubGluZVRvLmFwcGx5KGNvbnRleHQsIHAxKTtcbiAgICBpZiAoZmlsbEluc3RydWN0aW9uKSB7XG4gICAgICB0aGlzLmFsaWduRmlsbF8gPSAvKiogQHR5cGUge2Jvb2xlYW59ICovIChmaWxsSW5zdHJ1Y3Rpb25bMl0pO1xuICAgICAgdGhpcy5maWxsXyhjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKHN0cm9rZUluc3RydWN0aW9uKSB7XG4gICAgICB0aGlzLnNldFN0cm9rZVN0eWxlXyhjb250ZXh0LCAvKiogQHR5cGUge0FycmF5PCo+fSAqLyAoc3Ryb2tlSW5zdHJ1Y3Rpb24pKTtcbiAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gaW1hZ2UgSW1hZ2UuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBhbmNob3JYIEFuY2hvciBYLlxuICAgKiBAcGFyYW0ge251bWJlcn0gYW5jaG9yWSBBbmNob3IgWS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRGVjbHV0dGVyR3JvdXB9IGRlY2x1dHRlckdyb3VwIERlY2x1dHRlciBncm91cC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBIZWlnaHQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvcGFjaXR5IE9wYWNpdHkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvcmlnaW5YIE9yaWdpbiBYLlxuICAgKiBAcGFyYW0ge251bWJlcn0gb3JpZ2luWSBPcmlnaW4gWS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgU2NhbGUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc25hcFRvUGl4ZWwgU25hcCB0byBwaXhlbC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIFdpZHRoLlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHBhZGRpbmcgUGFkZGluZy5cbiAgICogQHBhcmFtIHtBcnJheTwqPn0gZmlsbEluc3RydWN0aW9uIEZpbGwgaW5zdHJ1Y3Rpb24uXG4gICAqIEBwYXJhbSB7QXJyYXk8Kj59IHN0cm9rZUluc3RydWN0aW9uIFN0cm9rZSBpbnN0cnVjdGlvbi5cbiAgICovXG4gIENhbnZhc1JlcGxheS5wcm90b3R5cGUucmVwbGF5SW1hZ2VfID0gZnVuY3Rpb24gcmVwbGF5SW1hZ2VfIChcbiAgICBjb250ZXh0LFxuICAgIHgsXG4gICAgeSxcbiAgICBpbWFnZSxcbiAgICBhbmNob3JYLFxuICAgIGFuY2hvclksXG4gICAgZGVjbHV0dGVyR3JvdXAsXG4gICAgaGVpZ2h0LFxuICAgIG9wYWNpdHksXG4gICAgb3JpZ2luWCxcbiAgICBvcmlnaW5ZLFxuICAgIHJvdGF0aW9uLFxuICAgIHNjYWxlLFxuICAgIHNuYXBUb1BpeGVsLFxuICAgIHdpZHRoLFxuICAgIHBhZGRpbmcsXG4gICAgZmlsbEluc3RydWN0aW9uLFxuICAgIHN0cm9rZUluc3RydWN0aW9uXG4gICkge1xuICAgIHZhciBmaWxsU3Ryb2tlID0gZmlsbEluc3RydWN0aW9uIHx8IHN0cm9rZUluc3RydWN0aW9uO1xuICAgIGFuY2hvclggKj0gc2NhbGU7XG4gICAgYW5jaG9yWSAqPSBzY2FsZTtcbiAgICB4IC09IGFuY2hvclg7XG4gICAgeSAtPSBhbmNob3JZO1xuXG4gICAgdmFyIHcgPSAod2lkdGggKyBvcmlnaW5YID4gaW1hZ2Uud2lkdGgpID8gaW1hZ2Uud2lkdGggLSBvcmlnaW5YIDogd2lkdGg7XG4gICAgdmFyIGggPSAoaGVpZ2h0ICsgb3JpZ2luWSA+IGltYWdlLmhlaWdodCkgPyBpbWFnZS5oZWlnaHQgLSBvcmlnaW5ZIDogaGVpZ2h0O1xuICAgIHZhciBib3hXID0gcGFkZGluZ1szXSArIHcgKiBzY2FsZSArIHBhZGRpbmdbMV07XG4gICAgdmFyIGJveEggPSBwYWRkaW5nWzBdICsgaCAqIHNjYWxlICsgcGFkZGluZ1syXTtcbiAgICB2YXIgYm94WCA9IHggLSBwYWRkaW5nWzNdO1xuICAgIHZhciBib3hZID0geSAtIHBhZGRpbmdbMF07XG5cbiAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gKi9cbiAgICB2YXIgcDE7XG4gICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9ICovXG4gICAgdmFyIHAyO1xuICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSAqL1xuICAgIHZhciBwMztcbiAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gKi9cbiAgICB2YXIgcDQ7XG4gICAgaWYgKGZpbGxTdHJva2UgfHwgcm90YXRpb24gIT09IDApIHtcbiAgICAgIHAxID0gW2JveFgsIGJveFldO1xuICAgICAgcDIgPSBbYm94WCArIGJveFcsIGJveFldO1xuICAgICAgcDMgPSBbYm94WCArIGJveFcsIGJveFkgKyBib3hIXTtcbiAgICAgIHA0ID0gW2JveFgsIGJveFkgKyBib3hIXTtcbiAgICB9XG5cbiAgICB2YXIgdHJhbnNmb3JtID0gbnVsbDtcbiAgICBpZiAocm90YXRpb24gIT09IDApIHtcbiAgICAgIHZhciBjZW50ZXJYID0geCArIGFuY2hvclg7XG4gICAgICB2YXIgY2VudGVyWSA9IHkgKyBhbmNob3JZO1xuICAgICAgdHJhbnNmb3JtID0gY29tcG9zZVRyYW5zZm9ybSh0bXBUcmFuc2Zvcm0sIGNlbnRlclgsIGNlbnRlclksIDEsIDEsIHJvdGF0aW9uLCAtY2VudGVyWCwgLWNlbnRlclkpO1xuXG4gICAgICBjcmVhdGVPclVwZGF0ZUVtcHR5KHRtcEV4dGVudCk7XG4gICAgICBleHRlbmRDb29yZGluYXRlKHRtcEV4dGVudCwgYXBwbHlUcmFuc2Zvcm0odG1wVHJhbnNmb3JtLCBwMSkpO1xuICAgICAgZXh0ZW5kQ29vcmRpbmF0ZSh0bXBFeHRlbnQsIGFwcGx5VHJhbnNmb3JtKHRtcFRyYW5zZm9ybSwgcDIpKTtcbiAgICAgIGV4dGVuZENvb3JkaW5hdGUodG1wRXh0ZW50LCBhcHBseVRyYW5zZm9ybSh0bXBUcmFuc2Zvcm0sIHAzKSk7XG4gICAgICBleHRlbmRDb29yZGluYXRlKHRtcEV4dGVudCwgYXBwbHlUcmFuc2Zvcm0odG1wVHJhbnNmb3JtLCBwNCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjcmVhdGVPclVwZGF0ZShib3hYLCBib3hZLCBib3hYICsgYm94VywgYm94WSArIGJveEgsIHRtcEV4dGVudCk7XG4gICAgfVxuICAgIHZhciBjYW52YXMgPSBjb250ZXh0LmNhbnZhcztcbiAgICB2YXIgc3Ryb2tlUGFkZGluZyA9IHN0cm9rZUluc3RydWN0aW9uID8gKHN0cm9rZUluc3RydWN0aW9uWzJdICogc2NhbGUgLyAyKSA6IDA7XG4gICAgdmFyIGludGVyc2VjdHMgPVxuICAgICAgICB0bXBFeHRlbnRbMF0gLSBzdHJva2VQYWRkaW5nIDw9IGNhbnZhcy53aWR0aCAmJiB0bXBFeHRlbnRbMl0gKyBzdHJva2VQYWRkaW5nID49IDAgJiZcbiAgICAgICAgdG1wRXh0ZW50WzFdIC0gc3Ryb2tlUGFkZGluZyA8PSBjYW52YXMuaGVpZ2h0ICYmIHRtcEV4dGVudFszXSArIHN0cm9rZVBhZGRpbmcgPj0gMDtcblxuICAgIGlmIChzbmFwVG9QaXhlbCkge1xuICAgICAgeCA9IE1hdGgucm91bmQoeCk7XG4gICAgICB5ID0gTWF0aC5yb3VuZCh5KTtcbiAgICB9XG5cbiAgICBpZiAoZGVjbHV0dGVyR3JvdXApIHtcbiAgICAgIGlmICghaW50ZXJzZWN0cyAmJiBkZWNsdXR0ZXJHcm91cFs0XSA9PSAxKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGV4dGVuZChkZWNsdXR0ZXJHcm91cCwgdG1wRXh0ZW50KTtcbiAgICAgIHZhciBkZWNsdXR0ZXJBcmdzID0gaW50ZXJzZWN0cyA/XG4gICAgICAgIFtjb250ZXh0LCB0cmFuc2Zvcm0gPyB0cmFuc2Zvcm0uc2xpY2UoMCkgOiBudWxsLCBvcGFjaXR5LCBpbWFnZSwgb3JpZ2luWCwgb3JpZ2luWSwgdywgaCwgeCwgeSwgc2NhbGVdIDpcbiAgICAgICAgbnVsbDtcbiAgICAgIGlmIChkZWNsdXR0ZXJBcmdzICYmIGZpbGxTdHJva2UpIHtcbiAgICAgICAgZGVjbHV0dGVyQXJncy5wdXNoKGZpbGxJbnN0cnVjdGlvbiwgc3Ryb2tlSW5zdHJ1Y3Rpb24sIHAxLCBwMiwgcDMsIHA0KTtcbiAgICAgIH1cbiAgICAgIGRlY2x1dHRlckdyb3VwLnB1c2goZGVjbHV0dGVyQXJncyk7XG4gICAgfSBlbHNlIGlmIChpbnRlcnNlY3RzKSB7XG4gICAgICBpZiAoZmlsbFN0cm9rZSkge1xuICAgICAgICB0aGlzLnJlcGxheVRleHRCYWNrZ3JvdW5kXyhjb250ZXh0LCBwMSwgcDIsIHAzLCBwNCxcbiAgICAgICAgICAvKiogQHR5cGUge0FycmF5PCo+fSAqLyAoZmlsbEluc3RydWN0aW9uKSxcbiAgICAgICAgICAvKiogQHR5cGUge0FycmF5PCo+fSAqLyAoc3Ryb2tlSW5zdHJ1Y3Rpb24pKTtcbiAgICAgIH1cbiAgICAgIGRyYXdJbWFnZShjb250ZXh0LCB0cmFuc2Zvcm0sIG9wYWNpdHksIGltYWdlLCBvcmlnaW5YLCBvcmlnaW5ZLCB3LCBoLCB4LCB5LCBzY2FsZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZGFzaEFycmF5IERhc2ggYXJyYXkuXG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IERhc2ggYXJyYXkgd2l0aCBwaXhlbCByYXRpbyBhcHBsaWVkXG4gICAqL1xuICBDYW52YXNSZXBsYXkucHJvdG90eXBlLmFwcGx5UGl4ZWxSYXRpbyA9IGZ1bmN0aW9uIGFwcGx5UGl4ZWxSYXRpbyAoZGFzaEFycmF5KSB7XG4gICAgdmFyIHBpeGVsUmF0aW8gPSB0aGlzLnBpeGVsUmF0aW87XG4gICAgcmV0dXJuIHBpeGVsUmF0aW8gPT0gMSA/IGRhc2hBcnJheSA6IGRhc2hBcnJheS5tYXAoZnVuY3Rpb24oZGFzaCkge1xuICAgICAgcmV0dXJuIGRhc2ggKiBwaXhlbFJhdGlvO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsb3NlZCBMYXN0IGlucHV0IGNvb3JkaW5hdGUgZXF1YWxzIGZpcnN0LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNraXBGaXJzdCBTa2lwIGZpcnN0IGNvb3JkaW5hdGUuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQHJldHVybiB7bnVtYmVyfSBNeSBlbmQuXG4gICAqL1xuICBDYW52YXNSZXBsYXkucHJvdG90eXBlLmFwcGVuZEZsYXRDb29yZGluYXRlcyA9IGZ1bmN0aW9uIGFwcGVuZEZsYXRDb29yZGluYXRlcyAoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBjbG9zZWQsIHNraXBGaXJzdCkge1xuXG4gICAgdmFyIG15RW5kID0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGg7XG4gICAgdmFyIGV4dGVudCA9IHRoaXMuZ2V0QnVmZmVyZWRNYXhFeHRlbnQoKTtcbiAgICBpZiAoc2tpcEZpcnN0KSB7XG4gICAgICBvZmZzZXQgKz0gc3RyaWRlO1xuICAgIH1cbiAgICB2YXIgbGFzdENvb3JkID0gW2ZsYXRDb29yZGluYXRlc1tvZmZzZXRdLCBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV1dO1xuICAgIHZhciBuZXh0Q29vcmQgPSBbTmFOLCBOYU5dO1xuICAgIHZhciBza2lwcGVkID0gdHJ1ZTtcblxuICAgIHZhciBpLCBsYXN0UmVsLCBuZXh0UmVsO1xuICAgIGZvciAoaSA9IG9mZnNldCArIHN0cmlkZTsgaSA8IGVuZDsgaSArPSBzdHJpZGUpIHtcbiAgICAgIG5leHRDb29yZFswXSA9IGZsYXRDb29yZGluYXRlc1tpXTtcbiAgICAgIG5leHRDb29yZFsxXSA9IGZsYXRDb29yZGluYXRlc1tpICsgMV07XG4gICAgICBuZXh0UmVsID0gY29vcmRpbmF0ZVJlbGF0aW9uc2hpcChleHRlbnQsIG5leHRDb29yZCk7XG4gICAgICBpZiAobmV4dFJlbCAhPT0gbGFzdFJlbCkge1xuICAgICAgICBpZiAoc2tpcHBlZCkge1xuICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZXNbbXlFbmQrK10gPSBsYXN0Q29vcmRbMF07XG4gICAgICAgICAgdGhpcy5jb29yZGluYXRlc1tteUVuZCsrXSA9IGxhc3RDb29yZFsxXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvb3JkaW5hdGVzW215RW5kKytdID0gbmV4dENvb3JkWzBdO1xuICAgICAgICB0aGlzLmNvb3JkaW5hdGVzW215RW5kKytdID0gbmV4dENvb3JkWzFdO1xuICAgICAgICBza2lwcGVkID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKG5leHRSZWwgPT09IFJlbGF0aW9uc2hpcC5JTlRFUlNFQ1RJTkcpIHtcbiAgICAgICAgdGhpcy5jb29yZGluYXRlc1tteUVuZCsrXSA9IG5leHRDb29yZFswXTtcbiAgICAgICAgdGhpcy5jb29yZGluYXRlc1tteUVuZCsrXSA9IG5leHRDb29yZFsxXTtcbiAgICAgICAgc2tpcHBlZCA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2tpcHBlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBsYXN0Q29vcmRbMF0gPSBuZXh0Q29vcmRbMF07XG4gICAgICBsYXN0Q29vcmRbMV0gPSBuZXh0Q29vcmRbMV07XG4gICAgICBsYXN0UmVsID0gbmV4dFJlbDtcbiAgICB9XG5cbiAgICAvLyBMYXN0IGNvb3JkaW5hdGUgZXF1YWxzIGZpcnN0IG9yIG9ubHkgb25lIHBvaW50IHRvIGFwcGVuZDpcbiAgICBpZiAoKGNsb3NlZCAmJiBza2lwcGVkKSB8fCBpID09PSBvZmZzZXQgKyBzdHJpZGUpIHtcbiAgICAgIHRoaXMuY29vcmRpbmF0ZXNbbXlFbmQrK10gPSBsYXN0Q29vcmRbMF07XG4gICAgICB0aGlzLmNvb3JkaW5hdGVzW215RW5kKytdID0gbGFzdENvb3JkWzFdO1xuICAgIH1cbiAgICByZXR1cm4gbXlFbmQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gcmVwbGF5RW5kcyBSZXBsYXkgZW5kcy5cbiAgICogQHJldHVybiB7bnVtYmVyfSBPZmZzZXQuXG4gICAqL1xuICBDYW52YXNSZXBsYXkucHJvdG90eXBlLmRyYXdDdXN0b21Db29yZGluYXRlc18gPSBmdW5jdGlvbiBkcmF3Q3VzdG9tQ29vcmRpbmF0ZXNfIChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCByZXBsYXlFbmRzKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICB2YXIgZW5kID0gZW5kc1tpXTtcbiAgICAgIHZhciByZXBsYXlFbmQgPSB0aGlzLmFwcGVuZEZsYXRDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGZhbHNlLCBmYWxzZSk7XG4gICAgICByZXBsYXlFbmRzLnB1c2gocmVwbGF5RW5kKTtcbiAgICAgIG9mZnNldCA9IGVuZDtcbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldDtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2MuXG4gICAqL1xuICBDYW52YXNSZXBsYXkucHJvdG90eXBlLmRyYXdDdXN0b20gPSBmdW5jdGlvbiBkcmF3Q3VzdG9tIChnZW9tZXRyeSwgZmVhdHVyZSwgcmVuZGVyZXIpIHtcbiAgICB0aGlzLmJlZ2luR2VvbWV0cnkoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIHZhciB0eXBlID0gZ2VvbWV0cnkuZ2V0VHlwZSgpO1xuICAgIHZhciBzdHJpZGUgPSBnZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICB2YXIgcmVwbGF5QmVnaW4gPSB0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICB2YXIgZmxhdENvb3JkaW5hdGVzLCByZXBsYXlFbmQsIHJlcGxheUVuZHMsIHJlcGxheUVuZHNzO1xuICAgIHZhciBvZmZzZXQ7XG4gICAgaWYgKHR5cGUgPT0gR2VvbWV0cnlUeXBlLk1VTFRJX1BPTFlHT04pIHtcbiAgICAgIGdlb21ldHJ5ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpO1xuICAgICAgZmxhdENvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgIHJlcGxheUVuZHNzID0gW107XG4gICAgICB2YXIgZW5kc3MgPSBnZW9tZXRyeS5nZXRFbmRzcygpO1xuICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIG15RW5kcyA9IFtdO1xuICAgICAgICBvZmZzZXQgPSB0aGlzLmRyYXdDdXN0b21Db29yZGluYXRlc18oZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzW2ldLCBzdHJpZGUsIG15RW5kcyk7XG4gICAgICAgIHJlcGxheUVuZHNzLnB1c2gobXlFbmRzKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goW0NhbnZhc0luc3RydWN0aW9uLkNVU1RPTSxcbiAgICAgICAgcmVwbGF5QmVnaW4sIHJlcGxheUVuZHNzLCBnZW9tZXRyeSwgcmVuZGVyZXIsIGluZmxhdGVNdWx0aUNvb3JkaW5hdGVzQXJyYXldKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT0gR2VvbWV0cnlUeXBlLlBPTFlHT04gfHwgdHlwZSA9PSBHZW9tZXRyeVR5cGUuTVVMVElfTElORV9TVFJJTkcpIHtcbiAgICAgIHJlcGxheUVuZHMgPSBbXTtcbiAgICAgIGZsYXRDb29yZGluYXRlcyA9ICh0eXBlID09IEdlb21ldHJ5VHlwZS5QT0xZR09OKSA/XG4gICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKSA6XG4gICAgICAgIGdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgb2Zmc2V0ID0gdGhpcy5kcmF3Q3VzdG9tQ29vcmRpbmF0ZXNfKGZsYXRDb29yZGluYXRlcywgMCxcbiAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldEVuZHMoKSxcbiAgICAgICAgc3RyaWRlLCByZXBsYXlFbmRzKTtcbiAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goW0NhbnZhc0luc3RydWN0aW9uLkNVU1RPTSxcbiAgICAgICAgcmVwbGF5QmVnaW4sIHJlcGxheUVuZHMsIGdlb21ldHJ5LCByZW5kZXJlciwgaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXldKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT0gR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HIHx8IHR5cGUgPT0gR2VvbWV0cnlUeXBlLk1VTFRJX1BPSU5UKSB7XG4gICAgICBmbGF0Q29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgIHJlcGxheUVuZCA9IHRoaXMuYXBwZW5kRmxhdENvb3JkaW5hdGVzKFxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMsIDAsIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsIHN0cmlkZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goW0NhbnZhc0luc3RydWN0aW9uLkNVU1RPTSxcbiAgICAgICAgcmVwbGF5QmVnaW4sIHJlcGxheUVuZCwgZ2VvbWV0cnksIHJlbmRlcmVyLCBpbmZsYXRlQ29vcmRpbmF0ZXNdKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT0gR2VvbWV0cnlUeXBlLlBPSU5UKSB7XG4gICAgICBmbGF0Q29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgIHRoaXMuY29vcmRpbmF0ZXMucHVzaChmbGF0Q29vcmRpbmF0ZXNbMF0sIGZsYXRDb29yZGluYXRlc1sxXSk7XG4gICAgICByZXBsYXlFbmQgPSB0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goW0NhbnZhc0luc3RydWN0aW9uLkNVU1RPTSxcbiAgICAgICAgcmVwbGF5QmVnaW4sIHJlcGxheUVuZCwgZ2VvbWV0cnksIHJlbmRlcmVyXSk7XG4gICAgfVxuICAgIHRoaXMuZW5kR2VvbWV0cnkoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICAgKi9cbiAgQ2FudmFzUmVwbGF5LnByb3RvdHlwZS5iZWdpbkdlb21ldHJ5ID0gZnVuY3Rpb24gYmVnaW5HZW9tZXRyeSAoZ2VvbWV0cnksIGZlYXR1cmUpIHtcbiAgICB0aGlzLmJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjFfID0gW0NhbnZhc0luc3RydWN0aW9uLkJFR0lOX0dFT01FVFJZLCBmZWF0dXJlLCAwXTtcbiAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMV8pO1xuICAgIHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMl8gPSBbQ2FudmFzSW5zdHJ1Y3Rpb24uQkVHSU5fR0VPTUVUUlksIGZlYXR1cmUsIDBdO1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2godGhpcy5iZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24yXyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEZJWE1FIGVtcHR5IGRlc2NyaXB0aW9uIGZvciBqc2RvY1xuICAgKi9cbiAgQ2FudmFzUmVwbGF5LnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbiBmaW5pc2ggKCkge307XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAqL1xuICBDYW52YXNSZXBsYXkucHJvdG90eXBlLmZpbGxfID0gZnVuY3Rpb24gZmlsbF8gKGNvbnRleHQpIHtcbiAgICBpZiAodGhpcy5hbGlnbkZpbGxfKSB7XG4gICAgICB2YXIgb3JpZ2luID0gYXBwbHlUcmFuc2Zvcm0odGhpcy5yZW5kZXJlZFRyYW5zZm9ybV8sIFswLCAwXSk7XG4gICAgICB2YXIgcmVwZWF0U2l6ZSA9IDUxMiAqIHRoaXMucGl4ZWxSYXRpbztcbiAgICAgIGNvbnRleHQudHJhbnNsYXRlKG9yaWdpblswXSAlIHJlcGVhdFNpemUsIG9yaWdpblsxXSAlIHJlcGVhdFNpemUpO1xuICAgICAgY29udGV4dC5yb3RhdGUodGhpcy52aWV3Um90YXRpb25fKTtcbiAgICB9XG4gICAgY29udGV4dC5maWxsKCk7XG4gICAgaWYgKHRoaXMuYWxpZ25GaWxsXykge1xuICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0uYXBwbHkoY29udGV4dCwgcmVzZXRUcmFuc2Zvcm0pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICogQHBhcmFtIHtBcnJheTwqPn0gaW5zdHJ1Y3Rpb24gSW5zdHJ1Y3Rpb24uXG4gICAqL1xuICBDYW52YXNSZXBsYXkucHJvdG90eXBlLnNldFN0cm9rZVN0eWxlXyA9IGZ1bmN0aW9uIHNldFN0cm9rZVN0eWxlXyAoY29udGV4dCwgaW5zdHJ1Y3Rpb24pIHtcbiAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSAqLyAoaW5zdHJ1Y3Rpb25bMV0pO1xuICAgIGNvbnRleHQubGluZVdpZHRoID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsyXSk7XG4gICAgY29udGV4dC5saW5lQ2FwID0gLyoqIEB0eXBlIHtDYW52YXNMaW5lQ2FwfSAqLyAoaW5zdHJ1Y3Rpb25bM10pO1xuICAgIGNvbnRleHQubGluZUpvaW4gPSAvKiogQHR5cGUge0NhbnZhc0xpbmVKb2lufSAqLyAoaW5zdHJ1Y3Rpb25bNF0pO1xuICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bNV0pO1xuICAgIGlmIChDQU5WQVNfTElORV9EQVNIKSB7XG4gICAgICBjb250ZXh0LmxpbmVEYXNoT2Zmc2V0ID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls3XSk7XG4gICAgICBjb250ZXh0LnNldExpbmVEYXNoKC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi8gKGluc3RydWN0aW9uWzZdKSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5EZWNsdXR0ZXJHcm91cH0gZGVjbHV0dGVyR3JvdXAgRGVjbHV0dGVyIGdyb3VwLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICovXG4gIENhbnZhc1JlcGxheS5wcm90b3R5cGUucmVuZGVyRGVjbHV0dGVyXyA9IGZ1bmN0aW9uIHJlbmRlckRlY2x1dHRlcl8gKGRlY2x1dHRlckdyb3VwLCBmZWF0dXJlKSB7XG4gICAgaWYgKGRlY2x1dHRlckdyb3VwICYmIGRlY2x1dHRlckdyb3VwLmxlbmd0aCA+IDUpIHtcbiAgICAgIHZhciBncm91cENvdW50ID0gZGVjbHV0dGVyR3JvdXBbNF07XG4gICAgICBpZiAoZ3JvdXBDb3VudCA9PSAxIHx8IGdyb3VwQ291bnQgPT0gZGVjbHV0dGVyR3JvdXAubGVuZ3RoIC0gNSkge1xuICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL3N0cnVjdHMvUkJ1c2guanNcIikuRW50cnl9ICovXG4gICAgICAgIHZhciBib3ggPSB7XG4gICAgICAgICAgbWluWDogLyoqIEB0eXBlIHtudW1iZXJ9ICovIChkZWNsdXR0ZXJHcm91cFswXSksXG4gICAgICAgICAgbWluWTogLyoqIEB0eXBlIHtudW1iZXJ9ICovIChkZWNsdXR0ZXJHcm91cFsxXSksXG4gICAgICAgICAgbWF4WDogLyoqIEB0eXBlIHtudW1iZXJ9ICovIChkZWNsdXR0ZXJHcm91cFsyXSksXG4gICAgICAgICAgbWF4WTogLyoqIEB0eXBlIHtudW1iZXJ9ICovIChkZWNsdXR0ZXJHcm91cFszXSksXG4gICAgICAgICAgdmFsdWU6IGZlYXR1cmVcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCF0aGlzLmRlY2x1dHRlclRyZWUuY29sbGlkZXMoYm94KSkge1xuICAgICAgICAgIHRoaXMuZGVjbHV0dGVyVHJlZS5pbnNlcnQoYm94KTtcbiAgICAgICAgICBmb3IgKHZhciBqID0gNSwgamogPSBkZWNsdXR0ZXJHcm91cC5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgICAgICB2YXIgZGVjbHV0dGVyRGF0YSA9IC8qKiBAdHlwZSB7QXJyYXl9ICovIChkZWNsdXR0ZXJHcm91cFtqXSk7XG4gICAgICAgICAgICBpZiAoZGVjbHV0dGVyRGF0YSkge1xuICAgICAgICAgICAgICBpZiAoZGVjbHV0dGVyRGF0YS5sZW5ndGggPiAxMSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVwbGF5VGV4dEJhY2tncm91bmRfKGRlY2x1dHRlckRhdGFbMF0sXG4gICAgICAgICAgICAgICAgICBkZWNsdXR0ZXJEYXRhWzEzXSwgZGVjbHV0dGVyRGF0YVsxNF0sIGRlY2x1dHRlckRhdGFbMTVdLCBkZWNsdXR0ZXJEYXRhWzE2XSxcbiAgICAgICAgICAgICAgICAgIGRlY2x1dHRlckRhdGFbMTFdLCBkZWNsdXR0ZXJEYXRhWzEyXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZHJhd0ltYWdlLmFwcGx5KHVuZGVmaW5lZCwgZGVjbHV0dGVyRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRlY2x1dHRlckdyb3VwLmxlbmd0aCA9IDU7XG4gICAgICAgIGNyZWF0ZU9yVXBkYXRlRW1wdHkoZGVjbHV0dGVyR3JvdXApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICAgKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsIGJvb2xlYW4+fSBza2lwcGVkRmVhdHVyZXNIYXNoIElkcyBvZiBmZWF0dXJlc1xuICAgKiAgICAgdG8gc2tpcC5cbiAgICogQHBhcmFtIHtBcnJheTwqPn0gaW5zdHJ1Y3Rpb25zIEluc3RydWN0aW9ucyBhcnJheS5cbiAgICogQHBhcmFtIHtib29sZWFufSBzbmFwVG9QaXhlbCBTbmFwIHBvaW50IHN5bWJvbHMgYW5kIHRleHQgdG8gaW50ZWdlciBwaXhlbHMuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKGltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQpKTogVHx1bmRlZmluZWR9IGZlYXR1cmVDYWxsYmFjayBGZWF0dXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnQ9fSBvcHRfaGl0RXh0ZW50IE9ubHkgY2hlY2sgZmVhdHVyZXMgdGhhdCBpbnRlcnNlY3QgdGhpc1xuICAgKiAgICAgZXh0ZW50LlxuICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgKiBAdGVtcGxhdGUgVFxuICAgKi9cbiAgQ2FudmFzUmVwbGF5LnByb3RvdHlwZS5yZXBsYXlfID0gZnVuY3Rpb24gcmVwbGF5XyAoXG4gICAgY29udGV4dCxcbiAgICB0cmFuc2Zvcm0sXG4gICAgc2tpcHBlZEZlYXR1cmVzSGFzaCxcbiAgICBpbnN0cnVjdGlvbnMsXG4gICAgc25hcFRvUGl4ZWwsXG4gICAgZmVhdHVyZUNhbGxiYWNrLFxuICAgIG9wdF9oaXRFeHRlbnRcbiAgKSB7XG4gICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqL1xuICAgIHZhciBwaXhlbENvb3JkaW5hdGVzO1xuICAgIGlmICh0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfICYmIGVxdWFscyh0cmFuc2Zvcm0sIHRoaXMucmVuZGVyZWRUcmFuc2Zvcm1fKSkge1xuICAgICAgcGl4ZWxDb29yZGluYXRlcyA9IHRoaXMucGl4ZWxDb29yZGluYXRlc187XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghdGhpcy5waXhlbENvb3JkaW5hdGVzXykge1xuICAgICAgICB0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfID0gW107XG4gICAgICB9XG4gICAgICBwaXhlbENvb3JkaW5hdGVzID0gdHJhbnNmb3JtMkQoXG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZXMsIDAsIHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoLCAyLFxuICAgICAgICB0cmFuc2Zvcm0sIHRoaXMucGl4ZWxDb29yZGluYXRlc18pO1xuICAgICAgdHJhbnNmb3JtU2V0RnJvbUFycmF5KHRoaXMucmVuZGVyZWRUcmFuc2Zvcm1fLCB0cmFuc2Zvcm0pO1xuICAgIH1cbiAgICB2YXIgc2tpcEZlYXR1cmVzID0gIWlzRW1wdHkoc2tpcHBlZEZlYXR1cmVzSGFzaCk7XG4gICAgdmFyIGkgPSAwOyAvLyBpbnN0cnVjdGlvbiBpbmRleFxuICAgIHZhciBpaSA9IGluc3RydWN0aW9ucy5sZW5ndGg7IC8vIGVuZCBvZiBpbnN0cnVjdGlvbnNcbiAgICB2YXIgZCA9IDA7IC8vIGRhdGEgaW5kZXhcbiAgICB2YXIgZGQ7IC8vIGVuZCBvZiBwZXItaW5zdHJ1Y3Rpb24gZGF0YVxuICAgIHZhciBhbmNob3JYLCBhbmNob3JZLCBwcmV2WCwgcHJldlksIHJvdW5kWCwgcm91bmRZLCBkZWNsdXR0ZXJHcm91cCwgaW1hZ2U7XG4gICAgdmFyIHBlbmRpbmdGaWxsID0gMDtcbiAgICB2YXIgcGVuZGluZ1N0cm9rZSA9IDA7XG4gICAgdmFyIGxhc3RGaWxsSW5zdHJ1Y3Rpb24gPSBudWxsO1xuICAgIHZhciBsYXN0U3Ryb2tlSW5zdHJ1Y3Rpb24gPSBudWxsO1xuICAgIHZhciBjb29yZGluYXRlQ2FjaGUgPSB0aGlzLmNvb3JkaW5hdGVDYWNoZV87XG4gICAgdmFyIHZpZXdSb3RhdGlvbiA9IHRoaXMudmlld1JvdGF0aW9uXztcblxuICAgIHZhciBzdGF0ZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vcmVuZGVyLmpzXCIpLlN0YXRlfSAqLyAoe1xuICAgICAgY29udGV4dDogY29udGV4dCxcbiAgICAgIHBpeGVsUmF0aW86IHRoaXMucGl4ZWxSYXRpbyxcbiAgICAgIHJlc29sdXRpb246IHRoaXMucmVzb2x1dGlvbixcbiAgICAgIHJvdGF0aW9uOiB2aWV3Um90YXRpb25cbiAgICB9KTtcblxuICAgIC8vIFdoZW4gdGhlIGJhdGNoIHNpemUgZ2V0cyB0b28gYmlnLCBwZXJmb3JtYW5jZSBkZWNyZWFzZXMuIDIwMCBpcyBhIGdvb2RcbiAgICAvLyBiYWxhbmNlIGJldHdlZW4gYmF0Y2ggc2l6ZSBhbmQgbnVtYmVyIG9mIGZpbGwvc3Ryb2tlIGluc3RydWN0aW9ucy5cbiAgICB2YXIgYmF0Y2hTaXplID0gdGhpcy5pbnN0cnVjdGlvbnMgIT0gaW5zdHJ1Y3Rpb25zIHx8IHRoaXMub3ZlcmxhcHMgPyAwIDogMjAwO1xuICAgIHZhciAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9ICovIGZlYXR1cmU7XG4gICAgdmFyIHgsIHk7XG4gICAgd2hpbGUgKGkgPCBpaSkge1xuICAgICAgdmFyIGluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb25zW2ldO1xuICAgICAgdmFyIHR5cGUgPSAvKiogQHR5cGUge0NhbnZhc0luc3RydWN0aW9ufSAqLyAoaW5zdHJ1Y3Rpb25bMF0pO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uQkVHSU5fR0VPTUVUUlk6XG4gICAgICAgICAgZmVhdHVyZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gKi8gKGluc3RydWN0aW9uWzFdKTtcbiAgICAgICAgICBpZiAoKHNraXBGZWF0dXJlcyAmJiBza2lwcGVkRmVhdHVyZXNIYXNoW2dldFVpZChmZWF0dXJlKV0pIHx8ICFmZWF0dXJlLmdldEdlb21ldHJ5KCkpIHtcbiAgICAgICAgICAgIGkgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzJdKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG9wdF9oaXRFeHRlbnQgIT09IHVuZGVmaW5lZCAmJiAhaW50ZXJzZWN0cyhcbiAgICAgICAgICAgIG9wdF9oaXRFeHRlbnQsIGZlYXR1cmUuZ2V0R2VvbWV0cnkoKS5nZXRFeHRlbnQoKSkpIHtcbiAgICAgICAgICAgIGkgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzJdKSArIDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICsraTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uQkVHSU5fUEFUSDpcbiAgICAgICAgICBpZiAocGVuZGluZ0ZpbGwgPiBiYXRjaFNpemUpIHtcbiAgICAgICAgICAgIHRoaXMuZmlsbF8oY29udGV4dCk7XG4gICAgICAgICAgICBwZW5kaW5nRmlsbCA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwZW5kaW5nU3Ryb2tlID4gYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgcGVuZGluZ1N0cm9rZSA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghcGVuZGluZ0ZpbGwgJiYgIXBlbmRpbmdTdHJva2UpIHtcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBwcmV2WCA9IHByZXZZID0gTmFOO1xuICAgICAgICAgIH1cbiAgICAgICAgICArK2k7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uQ0lSQ0xFOlxuICAgICAgICAgIGQgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzFdKTtcbiAgICAgICAgICB2YXIgeDEgPSBwaXhlbENvb3JkaW5hdGVzW2RdO1xuICAgICAgICAgIHZhciB5MSA9IHBpeGVsQ29vcmRpbmF0ZXNbZCArIDFdO1xuICAgICAgICAgIHZhciB4MiA9IHBpeGVsQ29vcmRpbmF0ZXNbZCArIDJdO1xuICAgICAgICAgIHZhciB5MiA9IHBpeGVsQ29vcmRpbmF0ZXNbZCArIDNdO1xuICAgICAgICAgIHZhciBkeCA9IHgyIC0geDE7XG4gICAgICAgICAgdmFyIGR5ID0geTIgLSB5MTtcbiAgICAgICAgICB2YXIgciA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgICAgICAgY29udGV4dC5tb3ZlVG8oeDEgKyByLCB5MSk7XG4gICAgICAgICAgY29udGV4dC5hcmMoeDEsIHkxLCByLCAwLCAyICogTWF0aC5QSSwgdHJ1ZSk7XG4gICAgICAgICAgKytpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLkNMT1NFX1BBVEg6XG4gICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICArK2k7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NOlxuICAgICAgICAgIGQgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzFdKTtcbiAgICAgICAgICBkZCA9IGluc3RydWN0aW9uWzJdO1xuICAgICAgICAgIHZhciBnZW9tZXRyeSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoaW5zdHJ1Y3Rpb25bM10pO1xuICAgICAgICAgIHZhciByZW5kZXJlciA9IGluc3RydWN0aW9uWzRdO1xuICAgICAgICAgIHZhciBmbiA9IGluc3RydWN0aW9uLmxlbmd0aCA9PSA2ID8gaW5zdHJ1Y3Rpb25bNV0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgc3RhdGUuZ2VvbWV0cnkgPSBnZW9tZXRyeTtcbiAgICAgICAgICBzdGF0ZS5mZWF0dXJlID0gZmVhdHVyZTtcbiAgICAgICAgICBpZiAoIShpIGluIGNvb3JkaW5hdGVDYWNoZSkpIHtcbiAgICAgICAgICAgIGNvb3JkaW5hdGVDYWNoZVtpXSA9IFtdO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgY29vcmRzID0gY29vcmRpbmF0ZUNhY2hlW2ldO1xuICAgICAgICAgIGlmIChmbikge1xuICAgICAgICAgICAgZm4ocGl4ZWxDb29yZGluYXRlcywgZCwgZGQsIDIsIGNvb3Jkcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvb3Jkc1swXSA9IHBpeGVsQ29vcmRpbmF0ZXNbZF07XG4gICAgICAgICAgICBjb29yZHNbMV0gPSBwaXhlbENvb3JkaW5hdGVzW2QgKyAxXTtcbiAgICAgICAgICAgIGNvb3Jkcy5sZW5ndGggPSAyO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZW5kZXJlcihjb29yZHMsIHN0YXRlKTtcbiAgICAgICAgICArK2k7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19JTUFHRTpcbiAgICAgICAgICBkID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsxXSk7XG4gICAgICAgICAgZGQgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzJdKTtcbiAgICAgICAgICBpbWFnZSA9IC8qKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fSAqL1xuICAgICAgICAgICAgICAoaW5zdHJ1Y3Rpb25bM10pO1xuICAgICAgICAgIC8vIFJlbWFpbmluZyBhcmd1bWVudHMgaW4gRFJBV19JTUFHRSBhcmUgaW4gYWxwaGFiZXRpY2FsIG9yZGVyXG4gICAgICAgICAgYW5jaG9yWCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bNF0pO1xuICAgICAgICAgIGFuY2hvclkgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzVdKTtcbiAgICAgICAgICBkZWNsdXR0ZXJHcm91cCA9IGZlYXR1cmVDYWxsYmFjayA/IG51bGwgOiAvKiogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5EZWNsdXR0ZXJHcm91cH0gKi8gKGluc3RydWN0aW9uWzZdKTtcbiAgICAgICAgICB2YXIgaGVpZ2h0ID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls3XSk7XG4gICAgICAgICAgdmFyIG9wYWNpdHkgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzhdKTtcbiAgICAgICAgICB2YXIgb3JpZ2luWCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bOV0pO1xuICAgICAgICAgIHZhciBvcmlnaW5ZID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsxMF0pO1xuICAgICAgICAgIHZhciByb3RhdGVXaXRoVmlldyA9IC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8gKGluc3RydWN0aW9uWzExXSk7XG4gICAgICAgICAgdmFyIHJvdGF0aW9uID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsxMl0pO1xuICAgICAgICAgIHZhciBzY2FsZSA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMTNdKTtcbiAgICAgICAgICB2YXIgd2lkdGggPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzE0XSk7XG5cbiAgICAgICAgICB2YXIgcGFkZGluZyA9ICh2b2lkIDApLCBiYWNrZ3JvdW5kRmlsbCA9ICh2b2lkIDApLCBiYWNrZ3JvdW5kU3Ryb2tlID0gKHZvaWQgMCk7XG4gICAgICAgICAgaWYgKGluc3RydWN0aW9uLmxlbmd0aCA+IDE2KSB7XG4gICAgICAgICAgICBwYWRkaW5nID0gLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAoaW5zdHJ1Y3Rpb25bMTVdKTtcbiAgICAgICAgICAgIGJhY2tncm91bmRGaWxsID0gLyoqIEB0eXBlIHtib29sZWFufSAqLyAoaW5zdHJ1Y3Rpb25bMTZdKTtcbiAgICAgICAgICAgIGJhY2tncm91bmRTdHJva2UgPSAvKiogQHR5cGUge2Jvb2xlYW59ICovIChpbnN0cnVjdGlvblsxN10pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYWRkaW5nID0gZGVmYXVsdFBhZGRpbmc7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kRmlsbCA9IGJhY2tncm91bmRTdHJva2UgPSBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocm90YXRlV2l0aFZpZXcpIHtcbiAgICAgICAgICAgIHJvdGF0aW9uICs9IHZpZXdSb3RhdGlvbjtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yICg7IGQgPCBkZDsgZCArPSAyKSB7XG4gICAgICAgICAgICB0aGlzLnJlcGxheUltYWdlXyhjb250ZXh0LFxuICAgICAgICAgICAgICBwaXhlbENvb3JkaW5hdGVzW2RdLCBwaXhlbENvb3JkaW5hdGVzW2QgKyAxXSwgaW1hZ2UsIGFuY2hvclgsIGFuY2hvclksXG4gICAgICAgICAgICAgIGRlY2x1dHRlckdyb3VwLCBoZWlnaHQsIG9wYWNpdHksIG9yaWdpblgsIG9yaWdpblksIHJvdGF0aW9uLCBzY2FsZSxcbiAgICAgICAgICAgICAgc25hcFRvUGl4ZWwsIHdpZHRoLCBwYWRkaW5nLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kRmlsbCA/IC8qKiBAdHlwZSB7QXJyYXk8Kj59ICovIChsYXN0RmlsbEluc3RydWN0aW9uKSA6IG51bGwsXG4gICAgICAgICAgICAgIGJhY2tncm91bmRTdHJva2UgPyAvKiogQHR5cGUge0FycmF5PCo+fSAqLyAobGFzdFN0cm9rZUluc3RydWN0aW9uKSA6IG51bGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnJlbmRlckRlY2x1dHRlcl8oZGVjbHV0dGVyR3JvdXAsIGZlYXR1cmUpO1xuICAgICAgICAgICsraTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5EUkFXX0NIQVJTOlxuICAgICAgICAgIHZhciBiZWdpbiA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMV0pO1xuICAgICAgICAgIHZhciBlbmQgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzJdKTtcbiAgICAgICAgICB2YXIgYmFzZWxpbmUgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzNdKTtcbiAgICAgICAgICBkZWNsdXR0ZXJHcm91cCA9IGZlYXR1cmVDYWxsYmFjayA/IG51bGwgOiAvKiogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5EZWNsdXR0ZXJHcm91cH0gKi8gKGluc3RydWN0aW9uWzRdKTtcbiAgICAgICAgICB2YXIgb3ZlcmZsb3cgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzVdKTtcbiAgICAgICAgICB2YXIgZmlsbEtleSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoaW5zdHJ1Y3Rpb25bNl0pO1xuICAgICAgICAgIHZhciBtYXhBbmdsZSA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bN10pO1xuICAgICAgICAgIHZhciBtZWFzdXJlID0gLyoqIEB0eXBlIHtmdW5jdGlvbihzdHJpbmcpOm51bWJlcn0gKi8gKGluc3RydWN0aW9uWzhdKTtcbiAgICAgICAgICB2YXIgb2Zmc2V0WSA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bOV0pO1xuICAgICAgICAgIHZhciBzdHJva2VLZXkgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKGluc3RydWN0aW9uWzEwXSk7XG4gICAgICAgICAgdmFyIHN0cm9rZVdpZHRoID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsxMV0pO1xuICAgICAgICAgIHZhciB0ZXh0ID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChpbnN0cnVjdGlvblsxMl0pO1xuICAgICAgICAgIHZhciB0ZXh0S2V5ID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChpbnN0cnVjdGlvblsxM10pO1xuICAgICAgICAgIHZhciB0ZXh0U2NhbGUgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzE0XSk7XG5cbiAgICAgICAgICB2YXIgcGF0aExlbmd0aCA9IGxpbmVTdHJpbmdMZW5ndGgocGl4ZWxDb29yZGluYXRlcywgYmVnaW4sIGVuZCwgMik7XG4gICAgICAgICAgdmFyIHRleHRMZW5ndGggPSBtZWFzdXJlKHRleHQpO1xuICAgICAgICAgIGlmIChvdmVyZmxvdyB8fCB0ZXh0TGVuZ3RoIDw9IHBhdGhMZW5ndGgpIHtcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9UZXh0UmVwbGF5LmpzXCIpLmRlZmF1bHR9ICovXG4gICAgICAgICAgICB2YXIgdGV4dFJlcGxheSA9IC8qKiBAdHlwZSB7P30gKi8gKHRoaXMpO1xuICAgICAgICAgICAgdmFyIHRleHRBbGlnbiA9IHRleHRSZXBsYXkudGV4dFN0YXRlc1t0ZXh0S2V5XS50ZXh0QWxpZ247XG4gICAgICAgICAgICB2YXIgc3RhcnRNID0gKHBhdGhMZW5ndGggLSB0ZXh0TGVuZ3RoKSAqIFRFWFRfQUxJR05bdGV4dEFsaWduXTtcbiAgICAgICAgICAgIHZhciBwYXJ0cyA9IGRyYXdUZXh0T25QYXRoKFxuICAgICAgICAgICAgICBwaXhlbENvb3JkaW5hdGVzLCBiZWdpbiwgZW5kLCAyLCB0ZXh0LCBtZWFzdXJlLCBzdGFydE0sIG1heEFuZ2xlKTtcbiAgICAgICAgICAgIGlmIChwYXJ0cykge1xuICAgICAgICAgICAgICB2YXIgYyA9ICh2b2lkIDApLCBjYyA9ICh2b2lkIDApLCBjaGFycyA9ICh2b2lkIDApLCBsYWJlbCA9ICh2b2lkIDApLCBwYXJ0ID0gKHZvaWQgMCk7XG4gICAgICAgICAgICAgIGlmIChzdHJva2VLZXkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGMgPSAwLCBjYyA9IHBhcnRzLmxlbmd0aDsgYyA8IGNjOyArK2MpIHtcbiAgICAgICAgICAgICAgICAgIHBhcnQgPSBwYXJ0c1tjXTsgLy8geCwgeSwgYW5jaG9yWCwgcm90YXRpb24sIGNodW5rXG4gICAgICAgICAgICAgICAgICBjaGFycyA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAocGFydFs0XSk7XG4gICAgICAgICAgICAgICAgICBsYWJlbCA9IHRleHRSZXBsYXkuZ2V0SW1hZ2UoY2hhcnMsIHRleHRLZXksICcnLCBzdHJva2VLZXkpO1xuICAgICAgICAgICAgICAgICAgYW5jaG9yWCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAocGFydFsyXSkgKyBzdHJva2VXaWR0aDtcbiAgICAgICAgICAgICAgICAgIGFuY2hvclkgPSBiYXNlbGluZSAqIGxhYmVsLmhlaWdodCArICgwLjUgLSBiYXNlbGluZSkgKiAyICogc3Ryb2tlV2lkdGggLSBvZmZzZXRZO1xuICAgICAgICAgICAgICAgICAgdGhpcy5yZXBsYXlJbWFnZV8oY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtudW1iZXJ9ICovIChwYXJ0WzBdKSwgLyoqIEB0eXBlIHtudW1iZXJ9ICovIChwYXJ0WzFdKSwgbGFiZWwsXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvclgsIGFuY2hvclksIGRlY2x1dHRlckdyb3VwLCBsYWJlbC5oZWlnaHQsIDEsIDAsIDAsXG4gICAgICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAocGFydFszXSksIHRleHRTY2FsZSwgZmFsc2UsIGxhYmVsLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGFkZGluZywgbnVsbCwgbnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChmaWxsS2V5KSB7XG4gICAgICAgICAgICAgICAgZm9yIChjID0gMCwgY2MgPSBwYXJ0cy5sZW5ndGg7IGMgPCBjYzsgKytjKSB7XG4gICAgICAgICAgICAgICAgICBwYXJ0ID0gcGFydHNbY107IC8vIHgsIHksIGFuY2hvclgsIHJvdGF0aW9uLCBjaHVua1xuICAgICAgICAgICAgICAgICAgY2hhcnMgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKHBhcnRbNF0pO1xuICAgICAgICAgICAgICAgICAgbGFiZWwgPSB0ZXh0UmVwbGF5LmdldEltYWdlKGNoYXJzLCB0ZXh0S2V5LCBmaWxsS2V5LCAnJyk7XG4gICAgICAgICAgICAgICAgICBhbmNob3JYID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChwYXJ0WzJdKTtcbiAgICAgICAgICAgICAgICAgIGFuY2hvclkgPSBiYXNlbGluZSAqIGxhYmVsLmhlaWdodCAtIG9mZnNldFk7XG4gICAgICAgICAgICAgICAgICB0aGlzLnJlcGxheUltYWdlXyhjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAvKiogQHR5cGUge251bWJlcn0gKi8gKHBhcnRbMF0pLCAvKiogQHR5cGUge251bWJlcn0gKi8gKHBhcnRbMV0pLCBsYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yWCwgYW5jaG9yWSwgZGVjbHV0dGVyR3JvdXAsIGxhYmVsLmhlaWdodCwgMSwgMCwgMCxcbiAgICAgICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtudW1iZXJ9ICovIChwYXJ0WzNdKSwgdGV4dFNjYWxlLCBmYWxzZSwgbGFiZWwud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQYWRkaW5nLCBudWxsLCBudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5yZW5kZXJEZWNsdXR0ZXJfKGRlY2x1dHRlckdyb3VwLCBmZWF0dXJlKTtcbiAgICAgICAgICArK2k7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uRU5EX0dFT01FVFJZOlxuICAgICAgICAgIGlmIChmZWF0dXJlQ2FsbGJhY2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZmVhdHVyZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gKi8gKGluc3RydWN0aW9uWzFdKTtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBmZWF0dXJlQ2FsbGJhY2soZmVhdHVyZSk7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgICsraTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5GSUxMOlxuICAgICAgICAgIGlmIChiYXRjaFNpemUpIHtcbiAgICAgICAgICAgIHBlbmRpbmdGaWxsKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZmlsbF8oY29udGV4dCk7XG4gICAgICAgICAgfVxuICAgICAgICAgICsraTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5NT1ZFX1RPX0xJTkVfVE86XG4gICAgICAgICAgZCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMV0pO1xuICAgICAgICAgIGRkID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsyXSk7XG4gICAgICAgICAgeCA9IHBpeGVsQ29vcmRpbmF0ZXNbZF07XG4gICAgICAgICAgeSA9IHBpeGVsQ29vcmRpbmF0ZXNbZCArIDFdO1xuICAgICAgICAgIHJvdW5kWCA9ICh4ICsgMC41KSB8IDA7XG4gICAgICAgICAgcm91bmRZID0gKHkgKyAwLjUpIHwgMDtcbiAgICAgICAgICBpZiAocm91bmRYICE9PSBwcmV2WCB8fCByb3VuZFkgIT09IHByZXZZKSB7XG4gICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh4LCB5KTtcbiAgICAgICAgICAgIHByZXZYID0gcm91bmRYO1xuICAgICAgICAgICAgcHJldlkgPSByb3VuZFk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAoZCArPSAyOyBkIDwgZGQ7IGQgKz0gMikge1xuICAgICAgICAgICAgeCA9IHBpeGVsQ29vcmRpbmF0ZXNbZF07XG4gICAgICAgICAgICB5ID0gcGl4ZWxDb29yZGluYXRlc1tkICsgMV07XG4gICAgICAgICAgICByb3VuZFggPSAoeCArIDAuNSkgfCAwO1xuICAgICAgICAgICAgcm91bmRZID0gKHkgKyAwLjUpIHwgMDtcbiAgICAgICAgICAgIGlmIChkID09IGRkIC0gMiB8fCByb3VuZFggIT09IHByZXZYIHx8IHJvdW5kWSAhPT0gcHJldlkpIHtcbiAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oeCwgeSk7XG4gICAgICAgICAgICAgIHByZXZYID0gcm91bmRYO1xuICAgICAgICAgICAgICBwcmV2WSA9IHJvdW5kWTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgKytpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLlNFVF9GSUxMX1NUWUxFOlxuICAgICAgICAgIGxhc3RGaWxsSW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbjtcbiAgICAgICAgICB0aGlzLmFsaWduRmlsbF8gPSBpbnN0cnVjdGlvblsyXTtcblxuICAgICAgICAgIGlmIChwZW5kaW5nRmlsbCkge1xuICAgICAgICAgICAgdGhpcy5maWxsXyhjb250ZXh0KTtcbiAgICAgICAgICAgIHBlbmRpbmdGaWxsID0gMDtcbiAgICAgICAgICAgIGlmIChwZW5kaW5nU3Ryb2tlKSB7XG4gICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgIHBlbmRpbmdTdHJva2UgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSAqLyAoaW5zdHJ1Y3Rpb25bMV0pO1xuICAgICAgICAgICsraTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5TRVRfU1RST0tFX1NUWUxFOlxuICAgICAgICAgIGxhc3RTdHJva2VJbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uO1xuICAgICAgICAgIGlmIChwZW5kaW5nU3Ryb2tlKSB7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgcGVuZGluZ1N0cm9rZSA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuc2V0U3Ryb2tlU3R5bGVfKGNvbnRleHQsIC8qKiBAdHlwZSB7QXJyYXk8Kj59ICovIChpbnN0cnVjdGlvbikpO1xuICAgICAgICAgICsraTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5TVFJPS0U6XG4gICAgICAgICAgaWYgKGJhdGNoU2l6ZSkge1xuICAgICAgICAgICAgcGVuZGluZ1N0cm9rZSsrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICArK2k7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgKytpOyAvLyBjb25zdW1lIHRoZSBpbnN0cnVjdGlvbiBhbnl3YXksIHRvIGF2b2lkIGFuIGluZmluaXRlIGxvb3BcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHBlbmRpbmdGaWxsKSB7XG4gICAgICB0aGlzLmZpbGxfKGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAocGVuZGluZ1N0cm9rZSkge1xuICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICAgKiBAcGFyYW0ge251bWJlcn0gdmlld1JvdGF0aW9uIFZpZXcgcm90YXRpb24uXG4gICAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgYm9vbGVhbj59IHNraXBwZWRGZWF0dXJlc0hhc2ggSWRzIG9mIGZlYXR1cmVzXG4gICAqICAgICB0byBza2lwLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNuYXBUb1BpeGVsIFNuYXAgcG9pbnQgc3ltYm9scyBhbmQgdGV4dCB0byBpbnRlZ2VyIHBpeGVscy5cbiAgICovXG4gIENhbnZhc1JlcGxheS5wcm90b3R5cGUucmVwbGF5ID0gZnVuY3Rpb24gcmVwbGF5IChjb250ZXh0LCB0cmFuc2Zvcm0sIHZpZXdSb3RhdGlvbiwgc2tpcHBlZEZlYXR1cmVzSGFzaCwgc25hcFRvUGl4ZWwpIHtcbiAgICB0aGlzLnZpZXdSb3RhdGlvbl8gPSB2aWV3Um90YXRpb247XG4gICAgdGhpcy5yZXBsYXlfKGNvbnRleHQsIHRyYW5zZm9ybSxcbiAgICAgIHNraXBwZWRGZWF0dXJlc0hhc2gsIHRoaXMuaW5zdHJ1Y3Rpb25zLCBzbmFwVG9QaXhlbCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2aWV3Um90YXRpb24gVmlldyByb3RhdGlvbi5cbiAgICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBib29sZWFuPn0gc2tpcHBlZEZlYXR1cmVzSGFzaCBJZHMgb2YgZmVhdHVyZXNcbiAgICogICAgIHRvIHNraXAuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKGltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQpKTogVD19IG9wdF9mZWF0dXJlQ2FsbGJhY2tcbiAgICogICAgIEZlYXR1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudD19IG9wdF9oaXRFeHRlbnQgT25seSBjaGVjayBmZWF0dXJlcyB0aGF0IGludGVyc2VjdCB0aGlzXG4gICAqICAgICBleHRlbnQuXG4gICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQuXG4gICAqIEB0ZW1wbGF0ZSBUXG4gICAqL1xuICBDYW52YXNSZXBsYXkucHJvdG90eXBlLnJlcGxheUhpdERldGVjdGlvbiA9IGZ1bmN0aW9uIHJlcGxheUhpdERldGVjdGlvbiAoXG4gICAgY29udGV4dCxcbiAgICB0cmFuc2Zvcm0sXG4gICAgdmlld1JvdGF0aW9uLFxuICAgIHNraXBwZWRGZWF0dXJlc0hhc2gsXG4gICAgb3B0X2ZlYXR1cmVDYWxsYmFjayxcbiAgICBvcHRfaGl0RXh0ZW50XG4gICkge1xuICAgIHRoaXMudmlld1JvdGF0aW9uXyA9IHZpZXdSb3RhdGlvbjtcbiAgICByZXR1cm4gdGhpcy5yZXBsYXlfKGNvbnRleHQsIHRyYW5zZm9ybSwgc2tpcHBlZEZlYXR1cmVzSGFzaCxcbiAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLCB0cnVlLCBvcHRfZmVhdHVyZUNhbGxiYWNrLCBvcHRfaGl0RXh0ZW50KTtcbiAgfTtcblxuICAvKipcbiAgICogUmV2ZXJzZSB0aGUgaGl0IGRldGVjdGlvbiBpbnN0cnVjdGlvbnMuXG4gICAqL1xuICBDYW52YXNSZXBsYXkucHJvdG90eXBlLnJldmVyc2VIaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMgPSBmdW5jdGlvbiByZXZlcnNlSGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zICgpIHtcbiAgICB2YXIgaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zID0gdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnM7XG4gICAgLy8gc3RlcCAxIC0gcmV2ZXJzZSBhcnJheVxuICAgIGhpdERldGVjdGlvbkluc3RydWN0aW9ucy5yZXZlcnNlKCk7XG4gICAgLy8gc3RlcCAyIC0gcmV2ZXJzZSBpbnN0cnVjdGlvbnMgd2l0aGluIGdlb21ldHJ5IGJsb2Nrc1xuICAgIHZhciBpO1xuICAgIHZhciBuID0gaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLmxlbmd0aDtcbiAgICB2YXIgaW5zdHJ1Y3Rpb247XG4gICAgdmFyIHR5cGU7XG4gICAgdmFyIGJlZ2luID0gLTE7XG4gICAgZm9yIChpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaW5zdHJ1Y3Rpb24gPSBoaXREZXRlY3Rpb25JbnN0cnVjdGlvbnNbaV07XG4gICAgICB0eXBlID0gLyoqIEB0eXBlIHtDYW52YXNJbnN0cnVjdGlvbn0gKi8gKGluc3RydWN0aW9uWzBdKTtcbiAgICAgIGlmICh0eXBlID09IENhbnZhc0luc3RydWN0aW9uLkVORF9HRU9NRVRSWSkge1xuICAgICAgICBiZWdpbiA9IGk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gQ2FudmFzSW5zdHJ1Y3Rpb24uQkVHSU5fR0VPTUVUUlkpIHtcbiAgICAgICAgaW5zdHJ1Y3Rpb25bMl0gPSBpO1xuICAgICAgICByZXZlcnNlU3ViQXJyYXkodGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMsIGJlZ2luLCBpKTtcbiAgICAgICAgYmVnaW4gPSAtMTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBDYW52YXNSZXBsYXkucHJvdG90eXBlLnNldEZpbGxTdHJva2VTdHlsZSA9IGZ1bmN0aW9uIHNldEZpbGxTdHJva2VTdHlsZSAoZmlsbFN0eWxlLCBzdHJva2VTdHlsZSkge1xuICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgaWYgKGZpbGxTdHlsZSkge1xuICAgICAgdmFyIGZpbGxTdHlsZUNvbG9yID0gZmlsbFN0eWxlLmdldENvbG9yKCk7XG4gICAgICBzdGF0ZS5maWxsU3R5bGUgPSBhc0NvbG9yTGlrZShmaWxsU3R5bGVDb2xvciA/XG4gICAgICAgIGZpbGxTdHlsZUNvbG9yIDogZGVmYXVsdEZpbGxTdHlsZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLmZpbGxTdHlsZSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHN0cm9rZVN0eWxlKSB7XG4gICAgICB2YXIgc3Ryb2tlU3R5bGVDb2xvciA9IHN0cm9rZVN0eWxlLmdldENvbG9yKCk7XG4gICAgICBzdGF0ZS5zdHJva2VTdHlsZSA9IGFzQ29sb3JMaWtlKHN0cm9rZVN0eWxlQ29sb3IgP1xuICAgICAgICBzdHJva2VTdHlsZUNvbG9yIDogZGVmYXVsdFN0cm9rZVN0eWxlKTtcbiAgICAgIHZhciBzdHJva2VTdHlsZUxpbmVDYXAgPSBzdHJva2VTdHlsZS5nZXRMaW5lQ2FwKCk7XG4gICAgICBzdGF0ZS5saW5lQ2FwID0gc3Ryb2tlU3R5bGVMaW5lQ2FwICE9PSB1bmRlZmluZWQgP1xuICAgICAgICBzdHJva2VTdHlsZUxpbmVDYXAgOiBkZWZhdWx0TGluZUNhcDtcbiAgICAgIHZhciBzdHJva2VTdHlsZUxpbmVEYXNoID0gc3Ryb2tlU3R5bGUuZ2V0TGluZURhc2goKTtcbiAgICAgIHN0YXRlLmxpbmVEYXNoID0gc3Ryb2tlU3R5bGVMaW5lRGFzaCA/XG4gICAgICAgIHN0cm9rZVN0eWxlTGluZURhc2guc2xpY2UoKSA6IGRlZmF1bHRMaW5lRGFzaDtcbiAgICAgIHZhciBzdHJva2VTdHlsZUxpbmVEYXNoT2Zmc2V0ID0gc3Ryb2tlU3R5bGUuZ2V0TGluZURhc2hPZmZzZXQoKTtcbiAgICAgIHN0YXRlLmxpbmVEYXNoT2Zmc2V0ID0gc3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldCA/XG4gICAgICAgIHN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXQgOiBkZWZhdWx0TGluZURhc2hPZmZzZXQ7XG4gICAgICB2YXIgc3Ryb2tlU3R5bGVMaW5lSm9pbiA9IHN0cm9rZVN0eWxlLmdldExpbmVKb2luKCk7XG4gICAgICBzdGF0ZS5saW5lSm9pbiA9IHN0cm9rZVN0eWxlTGluZUpvaW4gIT09IHVuZGVmaW5lZCA/XG4gICAgICAgIHN0cm9rZVN0eWxlTGluZUpvaW4gOiBkZWZhdWx0TGluZUpvaW47XG4gICAgICB2YXIgc3Ryb2tlU3R5bGVXaWR0aCA9IHN0cm9rZVN0eWxlLmdldFdpZHRoKCk7XG4gICAgICBzdGF0ZS5saW5lV2lkdGggPSBzdHJva2VTdHlsZVdpZHRoICE9PSB1bmRlZmluZWQgP1xuICAgICAgICBzdHJva2VTdHlsZVdpZHRoIDogZGVmYXVsdExpbmVXaWR0aDtcbiAgICAgIHZhciBzdHJva2VTdHlsZU1pdGVyTGltaXQgPSBzdHJva2VTdHlsZS5nZXRNaXRlckxpbWl0KCk7XG4gICAgICBzdGF0ZS5taXRlckxpbWl0ID0gc3Ryb2tlU3R5bGVNaXRlckxpbWl0ICE9PSB1bmRlZmluZWQgP1xuICAgICAgICBzdHJva2VTdHlsZU1pdGVyTGltaXQgOiBkZWZhdWx0TWl0ZXJMaW1pdDtcblxuICAgICAgaWYgKHN0YXRlLmxpbmVXaWR0aCA+IHRoaXMubWF4TGluZVdpZHRoKSB7XG4gICAgICAgIHRoaXMubWF4TGluZVdpZHRoID0gc3RhdGUubGluZVdpZHRoO1xuICAgICAgICAvLyBpbnZhbGlkYXRlIHRoZSBidWZmZXJlZCBtYXggZXh0ZW50IGNhY2hlXG4gICAgICAgIHRoaXMuYnVmZmVyZWRNYXhFeHRlbnRfID0gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUuc3Ryb2tlU3R5bGUgPSB1bmRlZmluZWQ7XG4gICAgICBzdGF0ZS5saW5lQ2FwID0gdW5kZWZpbmVkO1xuICAgICAgc3RhdGUubGluZURhc2ggPSBudWxsO1xuICAgICAgc3RhdGUubGluZURhc2hPZmZzZXQgPSB1bmRlZmluZWQ7XG4gICAgICBzdGF0ZS5saW5lSm9pbiA9IHVuZGVmaW5lZDtcbiAgICAgIHN0YXRlLmxpbmVXaWR0aCA9IHVuZGVmaW5lZDtcbiAgICAgIHN0YXRlLm1pdGVyTGltaXQgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3Ryb2tlU3RhdGV9IHN0YXRlIFN0YXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgKiBAcmV0dXJuIHtBcnJheTwqPn0gRmlsbCBpbnN0cnVjdGlvbi5cbiAgICovXG4gIENhbnZhc1JlcGxheS5wcm90b3R5cGUuY3JlYXRlRmlsbCA9IGZ1bmN0aW9uIGNyZWF0ZUZpbGwgKHN0YXRlLCBnZW9tZXRyeSkge1xuICAgIHZhciBmaWxsU3R5bGUgPSBzdGF0ZS5maWxsU3R5bGU7XG4gICAgLyoqIEB0eXBlIHtBcnJheTwqPn0gKi9cbiAgICB2YXIgZmlsbEluc3RydWN0aW9uID0gW0NhbnZhc0luc3RydWN0aW9uLlNFVF9GSUxMX1NUWUxFLCBmaWxsU3R5bGVdO1xuICAgIGlmICh0eXBlb2YgZmlsbFN0eWxlICE9PSAnc3RyaW5nJykge1xuICAgICAgLy8gRmlsbCBpcyBhIHBhdHRlcm4gb3IgZ3JhZGllbnQgLSBhbGlnbiBpdCFcbiAgICAgIGZpbGxJbnN0cnVjdGlvbi5wdXNoKHRydWUpO1xuICAgIH1cbiAgICByZXR1cm4gZmlsbEluc3RydWN0aW9uO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3Ryb2tlU3RhdGV9IHN0YXRlIFN0YXRlLlxuICAgKi9cbiAgQ2FudmFzUmVwbGF5LnByb3RvdHlwZS5hcHBseVN0cm9rZSA9IGZ1bmN0aW9uIGFwcGx5U3Ryb2tlIChzdGF0ZSkge1xuICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2godGhpcy5jcmVhdGVTdHJva2Uoc3RhdGUpKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0cm9rZVN0YXRlfSBzdGF0ZSBTdGF0ZS5cbiAgICogQHJldHVybiB7QXJyYXk8Kj59IFN0cm9rZSBpbnN0cnVjdGlvbi5cbiAgICovXG4gIENhbnZhc1JlcGxheS5wcm90b3R5cGUuY3JlYXRlU3Ryb2tlID0gZnVuY3Rpb24gY3JlYXRlU3Ryb2tlIChzdGF0ZSkge1xuICAgIHJldHVybiBbXG4gICAgICBDYW52YXNJbnN0cnVjdGlvbi5TRVRfU1RST0tFX1NUWUxFLFxuICAgICAgc3RhdGUuc3Ryb2tlU3R5bGUsIHN0YXRlLmxpbmVXaWR0aCAqIHRoaXMucGl4ZWxSYXRpbywgc3RhdGUubGluZUNhcCxcbiAgICAgIHN0YXRlLmxpbmVKb2luLCBzdGF0ZS5taXRlckxpbWl0LFxuICAgICAgdGhpcy5hcHBseVBpeGVsUmF0aW8oc3RhdGUubGluZURhc2gpLCBzdGF0ZS5saW5lRGFzaE9mZnNldCAqIHRoaXMucGl4ZWxSYXRpb1xuICAgIF07XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdHJva2VTdGF0ZX0gc3RhdGUgU3RhdGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczpDYW52YXNSZXBsYXksIGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3Ryb2tlU3RhdGUsIChpbXBvcnQoXCIuLi8uLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0KSk6QXJyYXk8Kj59IGNyZWF0ZUZpbGwgQ3JlYXRlIGZpbGwuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gICAqL1xuICBDYW52YXNSZXBsYXkucHJvdG90eXBlLnVwZGF0ZUZpbGxTdHlsZSA9IGZ1bmN0aW9uIHVwZGF0ZUZpbGxTdHlsZSAoc3RhdGUsIGNyZWF0ZUZpbGwsIGdlb21ldHJ5KSB7XG4gICAgdmFyIGZpbGxTdHlsZSA9IHN0YXRlLmZpbGxTdHlsZTtcbiAgICBpZiAodHlwZW9mIGZpbGxTdHlsZSAhPT0gJ3N0cmluZycgfHwgc3RhdGUuY3VycmVudEZpbGxTdHlsZSAhPSBmaWxsU3R5bGUpIHtcbiAgICAgIGlmIChmaWxsU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKGNyZWF0ZUZpbGwuY2FsbCh0aGlzLCBzdGF0ZSwgZ2VvbWV0cnkpKTtcbiAgICAgIH1cbiAgICAgIHN0YXRlLmN1cnJlbnRGaWxsU3R5bGUgPSBmaWxsU3R5bGU7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3Ryb2tlU3RhdGV9IHN0YXRlIFN0YXRlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6Q2FudmFzUmVwbGF5LCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0cm9rZVN0YXRlKX0gYXBwbHlTdHJva2UgQXBwbHkgc3Ryb2tlLlxuICAgKi9cbiAgQ2FudmFzUmVwbGF5LnByb3RvdHlwZS51cGRhdGVTdHJva2VTdHlsZSA9IGZ1bmN0aW9uIHVwZGF0ZVN0cm9rZVN0eWxlIChzdGF0ZSwgYXBwbHlTdHJva2UpIHtcbiAgICB2YXIgc3Ryb2tlU3R5bGUgPSBzdGF0ZS5zdHJva2VTdHlsZTtcbiAgICB2YXIgbGluZUNhcCA9IHN0YXRlLmxpbmVDYXA7XG4gICAgdmFyIGxpbmVEYXNoID0gc3RhdGUubGluZURhc2g7XG4gICAgdmFyIGxpbmVEYXNoT2Zmc2V0ID0gc3RhdGUubGluZURhc2hPZmZzZXQ7XG4gICAgdmFyIGxpbmVKb2luID0gc3RhdGUubGluZUpvaW47XG4gICAgdmFyIGxpbmVXaWR0aCA9IHN0YXRlLmxpbmVXaWR0aDtcbiAgICB2YXIgbWl0ZXJMaW1pdCA9IHN0YXRlLm1pdGVyTGltaXQ7XG4gICAgaWYgKHN0YXRlLmN1cnJlbnRTdHJva2VTdHlsZSAhPSBzdHJva2VTdHlsZSB8fFxuICAgICAgICBzdGF0ZS5jdXJyZW50TGluZUNhcCAhPSBsaW5lQ2FwIHx8XG4gICAgICAgIChsaW5lRGFzaCAhPSBzdGF0ZS5jdXJyZW50TGluZURhc2ggJiYgIWVxdWFscyhzdGF0ZS5jdXJyZW50TGluZURhc2gsIGxpbmVEYXNoKSkgfHxcbiAgICAgICAgc3RhdGUuY3VycmVudExpbmVEYXNoT2Zmc2V0ICE9IGxpbmVEYXNoT2Zmc2V0IHx8XG4gICAgICAgIHN0YXRlLmN1cnJlbnRMaW5lSm9pbiAhPSBsaW5lSm9pbiB8fFxuICAgICAgICBzdGF0ZS5jdXJyZW50TGluZVdpZHRoICE9IGxpbmVXaWR0aCB8fFxuICAgICAgICBzdGF0ZS5jdXJyZW50TWl0ZXJMaW1pdCAhPSBtaXRlckxpbWl0KSB7XG4gICAgICBpZiAoc3Ryb2tlU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhcHBseVN0cm9rZS5jYWxsKHRoaXMsIHN0YXRlKTtcbiAgICAgIH1cbiAgICAgIHN0YXRlLmN1cnJlbnRTdHJva2VTdHlsZSA9IHN0cm9rZVN0eWxlO1xuICAgICAgc3RhdGUuY3VycmVudExpbmVDYXAgPSBsaW5lQ2FwO1xuICAgICAgc3RhdGUuY3VycmVudExpbmVEYXNoID0gbGluZURhc2g7XG4gICAgICBzdGF0ZS5jdXJyZW50TGluZURhc2hPZmZzZXQgPSBsaW5lRGFzaE9mZnNldDtcbiAgICAgIHN0YXRlLmN1cnJlbnRMaW5lSm9pbiA9IGxpbmVKb2luO1xuICAgICAgc3RhdGUuY3VycmVudExpbmVXaWR0aCA9IGxpbmVXaWR0aDtcbiAgICAgIHN0YXRlLmN1cnJlbnRNaXRlckxpbWl0ID0gbWl0ZXJMaW1pdDtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICAgKi9cbiAgQ2FudmFzUmVwbGF5LnByb3RvdHlwZS5lbmRHZW9tZXRyeSA9IGZ1bmN0aW9uIGVuZEdlb21ldHJ5IChnZW9tZXRyeSwgZmVhdHVyZSkge1xuICAgIHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMV9bMl0gPSB0aGlzLmluc3RydWN0aW9ucy5sZW5ndGg7XG4gICAgdGhpcy5iZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24xXyA9IG51bGw7XG4gICAgdGhpcy5iZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24yX1syXSA9IHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLmxlbmd0aDtcbiAgICB0aGlzLmJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjJfID0gbnVsbDtcbiAgICB2YXIgZW5kR2VvbWV0cnlJbnN0cnVjdGlvbiA9IFtDYW52YXNJbnN0cnVjdGlvbi5FTkRfR0VPTUVUUlksIGZlYXR1cmVdO1xuICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goZW5kR2VvbWV0cnlJbnN0cnVjdGlvbik7XG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChlbmRHZW9tZXRyeUluc3RydWN0aW9uKTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSBidWZmZXJlZCByZW5kZXJpbmcgZXh0ZW50LiAgUmVuZGVyaW5nIHdpbGwgYmUgY2xpcHBlZCB0byB0aGUgZXh0ZW50XG4gICAqIHByb3ZpZGVkIHRvIHRoZSBjb25zdHJ1Y3Rvci4gIFRvIGFjY291bnQgZm9yIHN5bWJvbGl6ZXJzIHRoYXQgbWF5IGludGVyc2VjdFxuICAgKiB0aGlzIGV4dGVudCwgd2UgY2FsY3VsYXRlIGEgYnVmZmVyZWQgZXh0ZW50IChlLmcuIGJhc2VkIG9uIHN0cm9rZSB3aWR0aCkuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFRoZSBidWZmZXJlZCByZW5kZXJpbmcgZXh0ZW50LlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBDYW52YXNSZXBsYXkucHJvdG90eXBlLmdldEJ1ZmZlcmVkTWF4RXh0ZW50ID0gZnVuY3Rpb24gZ2V0QnVmZmVyZWRNYXhFeHRlbnQgKCkge1xuICAgIGlmICghdGhpcy5idWZmZXJlZE1heEV4dGVudF8pIHtcbiAgICAgIHRoaXMuYnVmZmVyZWRNYXhFeHRlbnRfID0gY2xvbmUodGhpcy5tYXhFeHRlbnQpO1xuICAgICAgaWYgKHRoaXMubWF4TGluZVdpZHRoID4gMCkge1xuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLnJlc29sdXRpb24gKiAodGhpcy5tYXhMaW5lV2lkdGggKyAxKSAvIDI7XG4gICAgICAgIGJ1ZmZlcih0aGlzLmJ1ZmZlcmVkTWF4RXh0ZW50Xywgd2lkdGgsIHRoaXMuYnVmZmVyZWRNYXhFeHRlbnRfKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYnVmZmVyZWRNYXhFeHRlbnRfO1xuICB9O1xuXG4gIHJldHVybiBDYW52YXNSZXBsYXk7XG59KFZlY3RvckNvbnRleHQpKTtcblxuXG5leHBvcnQgZGVmYXVsdCBDYW52YXNSZXBsYXk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlcGxheS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9JbWFnZVJlcGxheVxuICovXG5pbXBvcnQgQ2FudmFzSW5zdHJ1Y3Rpb24gZnJvbSAnLi9JbnN0cnVjdGlvbi5qcyc7XG5pbXBvcnQgQ2FudmFzUmVwbGF5IGZyb20gJy4vUmVwbGF5LmpzJztcblxudmFyIENhbnZhc0ltYWdlUmVwbGF5ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQ2FudmFzUmVwbGF5KSB7XG4gIGZ1bmN0aW9uIENhbnZhc0ltYWdlUmVwbGF5KHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvLCBvdmVybGFwcywgZGVjbHV0dGVyVHJlZSkge1xuICAgIENhbnZhc1JlcGxheS5jYWxsKHRoaXMsIHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvLCBvdmVybGFwcywgZGVjbHV0dGVyVHJlZSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRGVjbHV0dGVyR3JvdXB9XG4gICAgICovXG4gICAgdGhpcy5kZWNsdXR0ZXJHcm91cF8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuYW5jaG9yWF8gPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuYW5jaG9yWV8gPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0XyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5vcGFjaXR5XyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5vcmlnaW5YXyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5vcmlnaW5ZXyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW58dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMucm90YXRlV2l0aFZpZXdfID0gdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnJvdGF0aW9uXyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5zY2FsZV8gPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMud2lkdGhfID0gdW5kZWZpbmVkO1xuXG4gIH1cblxuICBpZiAoIENhbnZhc1JlcGxheSApIENhbnZhc0ltYWdlUmVwbGF5Ll9fcHJvdG9fXyA9IENhbnZhc1JlcGxheTtcbiAgQ2FudmFzSW1hZ2VSZXBsYXkucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQ2FudmFzUmVwbGF5ICYmIENhbnZhc1JlcGxheS5wcm90b3R5cGUgKTtcbiAgQ2FudmFzSW1hZ2VSZXBsYXkucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ2FudmFzSW1hZ2VSZXBsYXk7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge251bWJlcn0gTXkgZW5kLlxuICAgKi9cbiAgQ2FudmFzSW1hZ2VSZXBsYXkucHJvdG90eXBlLmRyYXdDb29yZGluYXRlc18gPSBmdW5jdGlvbiBkcmF3Q29vcmRpbmF0ZXNfIChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpIHtcbiAgICByZXR1cm4gdGhpcy5hcHBlbmRGbGF0Q29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBmYWxzZSwgZmFsc2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgQ2FudmFzSW1hZ2VSZXBsYXkucHJvdG90eXBlLmRyYXdQb2ludCA9IGZ1bmN0aW9uIGRyYXdQb2ludCAocG9pbnRHZW9tZXRyeSwgZmVhdHVyZSkge1xuICAgIGlmICghdGhpcy5pbWFnZV8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5iZWdpbkdlb21ldHJ5KHBvaW50R2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBwb2ludEdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgIHZhciBzdHJpZGUgPSBwb2ludEdlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgIHZhciBteUJlZ2luID0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGg7XG4gICAgdmFyIG15RW5kID0gdGhpcy5kcmF3Q29vcmRpbmF0ZXNfKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlKTtcbiAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgIENhbnZhc0luc3RydWN0aW9uLkRSQVdfSU1BR0UsIG15QmVnaW4sIG15RW5kLCB0aGlzLmltYWdlXyxcbiAgICAgIC8vIFJlbWFpbmluZyBhcmd1bWVudHMgdG8gRFJBV19JTUFHRSBhcmUgaW4gYWxwaGFiZXRpY2FsIG9yZGVyXG4gICAgICB0aGlzLmFuY2hvclhfLCB0aGlzLmFuY2hvcllfLCB0aGlzLmRlY2x1dHRlckdyb3VwXywgdGhpcy5oZWlnaHRfLCB0aGlzLm9wYWNpdHlfLFxuICAgICAgdGhpcy5vcmlnaW5YXywgdGhpcy5vcmlnaW5ZXywgdGhpcy5yb3RhdGVXaXRoVmlld18sIHRoaXMucm90YXRpb25fLFxuICAgICAgdGhpcy5zY2FsZV8gKiB0aGlzLnBpeGVsUmF0aW8sIHRoaXMud2lkdGhfXG4gICAgXSk7XG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICBDYW52YXNJbnN0cnVjdGlvbi5EUkFXX0lNQUdFLCBteUJlZ2luLCBteUVuZCwgdGhpcy5oaXREZXRlY3Rpb25JbWFnZV8sXG4gICAgICAvLyBSZW1haW5pbmcgYXJndW1lbnRzIHRvIERSQVdfSU1BR0UgYXJlIGluIGFscGhhYmV0aWNhbCBvcmRlclxuICAgICAgdGhpcy5hbmNob3JYXywgdGhpcy5hbmNob3JZXywgdGhpcy5kZWNsdXR0ZXJHcm91cF8sIHRoaXMuaGVpZ2h0XywgdGhpcy5vcGFjaXR5XyxcbiAgICAgIHRoaXMub3JpZ2luWF8sIHRoaXMub3JpZ2luWV8sIHRoaXMucm90YXRlV2l0aFZpZXdfLCB0aGlzLnJvdGF0aW9uXyxcbiAgICAgIHRoaXMuc2NhbGVfLCB0aGlzLndpZHRoX1xuICAgIF0pO1xuICAgIHRoaXMuZW5kR2VvbWV0cnkocG9pbnRHZW9tZXRyeSwgZmVhdHVyZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBDYW52YXNJbWFnZVJlcGxheS5wcm90b3R5cGUuZHJhd011bHRpUG9pbnQgPSBmdW5jdGlvbiBkcmF3TXVsdGlQb2ludCAobXVsdGlQb2ludEdlb21ldHJ5LCBmZWF0dXJlKSB7XG4gICAgaWYgKCF0aGlzLmltYWdlXykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmJlZ2luR2VvbWV0cnkobXVsdGlQb2ludEdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gbXVsdGlQb2ludEdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgIHZhciBzdHJpZGUgPSBtdWx0aVBvaW50R2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgdmFyIG15QmVnaW4gPSB0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICB2YXIgbXlFbmQgPSB0aGlzLmRyYXdDb29yZGluYXRlc18oXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsIDAsIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsIHN0cmlkZSk7XG4gICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICBDYW52YXNJbnN0cnVjdGlvbi5EUkFXX0lNQUdFLCBteUJlZ2luLCBteUVuZCwgdGhpcy5pbWFnZV8sXG4gICAgICAvLyBSZW1haW5pbmcgYXJndW1lbnRzIHRvIERSQVdfSU1BR0UgYXJlIGluIGFscGhhYmV0aWNhbCBvcmRlclxuICAgICAgdGhpcy5hbmNob3JYXywgdGhpcy5hbmNob3JZXywgdGhpcy5kZWNsdXR0ZXJHcm91cF8sIHRoaXMuaGVpZ2h0XywgdGhpcy5vcGFjaXR5XyxcbiAgICAgIHRoaXMub3JpZ2luWF8sIHRoaXMub3JpZ2luWV8sIHRoaXMucm90YXRlV2l0aFZpZXdfLCB0aGlzLnJvdGF0aW9uXyxcbiAgICAgIHRoaXMuc2NhbGVfICogdGhpcy5waXhlbFJhdGlvLCB0aGlzLndpZHRoX1xuICAgIF0pO1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19JTUFHRSwgbXlCZWdpbiwgbXlFbmQsIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VfLFxuICAgICAgLy8gUmVtYWluaW5nIGFyZ3VtZW50cyB0byBEUkFXX0lNQUdFIGFyZSBpbiBhbHBoYWJldGljYWwgb3JkZXJcbiAgICAgIHRoaXMuYW5jaG9yWF8sIHRoaXMuYW5jaG9yWV8sIHRoaXMuZGVjbHV0dGVyR3JvdXBfLCB0aGlzLmhlaWdodF8sIHRoaXMub3BhY2l0eV8sXG4gICAgICB0aGlzLm9yaWdpblhfLCB0aGlzLm9yaWdpbllfLCB0aGlzLnJvdGF0ZVdpdGhWaWV3XywgdGhpcy5yb3RhdGlvbl8sXG4gICAgICB0aGlzLnNjYWxlXywgdGhpcy53aWR0aF9cbiAgICBdKTtcbiAgICB0aGlzLmVuZEdlb21ldHJ5KG11bHRpUG9pbnRHZW9tZXRyeSwgZmVhdHVyZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBDYW52YXNJbWFnZVJlcGxheS5wcm90b3R5cGUuZmluaXNoID0gZnVuY3Rpb24gZmluaXNoICgpIHtcbiAgICB0aGlzLnJldmVyc2VIaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMoKTtcbiAgICAvLyBGSVhNRSB0aGlzIGRvZXNuJ3QgcmVhbGx5IHByb3RlY3QgdXMgYWdhaW5zdCBmdXJ0aGVyIGNhbGxzIHRvIGRyYXcqR2VvbWV0cnlcbiAgICB0aGlzLmFuY2hvclhfID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuYW5jaG9yWV8gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbWFnZV8gPSBudWxsO1xuICAgIHRoaXMuaW1hZ2VfID0gbnVsbDtcbiAgICB0aGlzLmhlaWdodF8gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5zY2FsZV8gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5vcGFjaXR5XyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLm9yaWdpblhfID0gdW5kZWZpbmVkO1xuICAgIHRoaXMub3JpZ2luWV8gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5yb3RhdGVXaXRoVmlld18gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5yb3RhdGlvbl8gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy53aWR0aF8gPSB1bmRlZmluZWQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBDYW52YXNJbWFnZVJlcGxheS5wcm90b3R5cGUuc2V0SW1hZ2VTdHlsZSA9IGZ1bmN0aW9uIHNldEltYWdlU3R5bGUgKGltYWdlU3R5bGUsIGRlY2x1dHRlckdyb3VwKSB7XG4gICAgdmFyIGFuY2hvciA9IGltYWdlU3R5bGUuZ2V0QW5jaG9yKCk7XG4gICAgdmFyIHNpemUgPSBpbWFnZVN0eWxlLmdldFNpemUoKTtcbiAgICB2YXIgaGl0RGV0ZWN0aW9uSW1hZ2UgPSBpbWFnZVN0eWxlLmdldEhpdERldGVjdGlvbkltYWdlKDEpO1xuICAgIHZhciBpbWFnZSA9IGltYWdlU3R5bGUuZ2V0SW1hZ2UoMSk7XG4gICAgdmFyIG9yaWdpbiA9IGltYWdlU3R5bGUuZ2V0T3JpZ2luKCk7XG4gICAgdGhpcy5hbmNob3JYXyA9IGFuY2hvclswXTtcbiAgICB0aGlzLmFuY2hvcllfID0gYW5jaG9yWzFdO1xuICAgIHRoaXMuZGVjbHV0dGVyR3JvdXBfID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRGVjbHV0dGVyR3JvdXB9ICovIChkZWNsdXR0ZXJHcm91cCk7XG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbWFnZV8gPSBoaXREZXRlY3Rpb25JbWFnZTtcbiAgICB0aGlzLmltYWdlXyA9IGltYWdlO1xuICAgIHRoaXMuaGVpZ2h0XyA9IHNpemVbMV07XG4gICAgdGhpcy5vcGFjaXR5XyA9IGltYWdlU3R5bGUuZ2V0T3BhY2l0eSgpO1xuICAgIHRoaXMub3JpZ2luWF8gPSBvcmlnaW5bMF07XG4gICAgdGhpcy5vcmlnaW5ZXyA9IG9yaWdpblsxXTtcbiAgICB0aGlzLnJvdGF0ZVdpdGhWaWV3XyA9IGltYWdlU3R5bGUuZ2V0Um90YXRlV2l0aFZpZXcoKTtcbiAgICB0aGlzLnJvdGF0aW9uXyA9IGltYWdlU3R5bGUuZ2V0Um90YXRpb24oKTtcbiAgICB0aGlzLnNjYWxlXyA9IGltYWdlU3R5bGUuZ2V0U2NhbGUoKTtcbiAgICB0aGlzLndpZHRoXyA9IHNpemVbMF07XG4gIH07XG5cbiAgcmV0dXJuIENhbnZhc0ltYWdlUmVwbGF5O1xufShDYW52YXNSZXBsYXkpKTtcblxuXG5leHBvcnQgZGVmYXVsdCBDYW52YXNJbWFnZVJlcGxheTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW1hZ2VSZXBsYXkuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9jYW52YXMvTGluZVN0cmluZ1JlcGxheVxuICovXG5pbXBvcnQgQ2FudmFzSW5zdHJ1Y3Rpb24sIHtzdHJva2VJbnN0cnVjdGlvbiwgYmVnaW5QYXRoSW5zdHJ1Y3Rpb259IGZyb20gJy4vSW5zdHJ1Y3Rpb24uanMnO1xuaW1wb3J0IENhbnZhc1JlcGxheSBmcm9tICcuL1JlcGxheS5qcyc7XG5cbnZhciBDYW52YXNMaW5lU3RyaW5nUmVwbGF5ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQ2FudmFzUmVwbGF5KSB7XG4gIGZ1bmN0aW9uIENhbnZhc0xpbmVTdHJpbmdSZXBsYXkodG9sZXJhbmNlLCBtYXhFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8sIG92ZXJsYXBzLCBkZWNsdXR0ZXJUcmVlKSB7XG4gICAgQ2FudmFzUmVwbGF5LmNhbGwodGhpcywgdG9sZXJhbmNlLCBtYXhFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8sIG92ZXJsYXBzLCBkZWNsdXR0ZXJUcmVlKTtcbiAgfVxuXG4gIGlmICggQ2FudmFzUmVwbGF5ICkgQ2FudmFzTGluZVN0cmluZ1JlcGxheS5fX3Byb3RvX18gPSBDYW52YXNSZXBsYXk7XG4gIENhbnZhc0xpbmVTdHJpbmdSZXBsYXkucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQ2FudmFzUmVwbGF5ICYmIENhbnZhc1JlcGxheS5wcm90b3R5cGUgKTtcbiAgQ2FudmFzTGluZVN0cmluZ1JlcGxheS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDYW52YXNMaW5lU3RyaW5nUmVwbGF5O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IGVuZC5cbiAgICovXG4gIENhbnZhc0xpbmVTdHJpbmdSZXBsYXkucHJvdG90eXBlLmRyYXdGbGF0Q29vcmRpbmF0ZXNfID0gZnVuY3Rpb24gZHJhd0ZsYXRDb29yZGluYXRlc18gKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSkge1xuICAgIHZhciBteUJlZ2luID0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGg7XG4gICAgdmFyIG15RW5kID0gdGhpcy5hcHBlbmRGbGF0Q29vcmRpbmF0ZXMoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGZhbHNlLCBmYWxzZSk7XG4gICAgdmFyIG1vdmVUb0xpbmVUb0luc3RydWN0aW9uID0gW0NhbnZhc0luc3RydWN0aW9uLk1PVkVfVE9fTElORV9UTywgbXlCZWdpbiwgbXlFbmRdO1xuICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2gobW92ZVRvTGluZVRvSW5zdHJ1Y3Rpb24pO1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2gobW92ZVRvTGluZVRvSW5zdHJ1Y3Rpb24pO1xuICAgIHJldHVybiBlbmQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBDYW52YXNMaW5lU3RyaW5nUmVwbGF5LnByb3RvdHlwZS5kcmF3TGluZVN0cmluZyA9IGZ1bmN0aW9uIGRyYXdMaW5lU3RyaW5nIChsaW5lU3RyaW5nR2VvbWV0cnksIGZlYXR1cmUpIHtcbiAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIHZhciBzdHJva2VTdHlsZSA9IHN0YXRlLnN0cm9rZVN0eWxlO1xuICAgIHZhciBsaW5lV2lkdGggPSBzdGF0ZS5saW5lV2lkdGg7XG4gICAgaWYgKHN0cm9rZVN0eWxlID09PSB1bmRlZmluZWQgfHwgbGluZVdpZHRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy51cGRhdGVTdHJva2VTdHlsZShzdGF0ZSwgdGhpcy5hcHBseVN0cm9rZSk7XG4gICAgdGhpcy5iZWdpbkdlb21ldHJ5KGxpbmVTdHJpbmdHZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICBDYW52YXNJbnN0cnVjdGlvbi5TRVRfU1RST0tFX1NUWUxFLFxuICAgICAgc3RhdGUuc3Ryb2tlU3R5bGUsIHN0YXRlLmxpbmVXaWR0aCwgc3RhdGUubGluZUNhcCwgc3RhdGUubGluZUpvaW4sXG4gICAgICBzdGF0ZS5taXRlckxpbWl0LCBzdGF0ZS5saW5lRGFzaCwgc3RhdGUubGluZURhc2hPZmZzZXRcbiAgICBdLCBiZWdpblBhdGhJbnN0cnVjdGlvbik7XG4gICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IGxpbmVTdHJpbmdHZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICB2YXIgc3RyaWRlID0gbGluZVN0cmluZ0dlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgIHRoaXMuZHJhd0ZsYXRDb29yZGluYXRlc18oZmxhdENvb3JkaW5hdGVzLCAwLCBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCBzdHJpZGUpO1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goc3Ryb2tlSW5zdHJ1Y3Rpb24pO1xuICAgIHRoaXMuZW5kR2VvbWV0cnkobGluZVN0cmluZ0dlb21ldHJ5LCBmZWF0dXJlKTtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIENhbnZhc0xpbmVTdHJpbmdSZXBsYXkucHJvdG90eXBlLmRyYXdNdWx0aUxpbmVTdHJpbmcgPSBmdW5jdGlvbiBkcmF3TXVsdGlMaW5lU3RyaW5nIChtdWx0aUxpbmVTdHJpbmdHZW9tZXRyeSwgZmVhdHVyZSkge1xuICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgdmFyIHN0cm9rZVN0eWxlID0gc3RhdGUuc3Ryb2tlU3R5bGU7XG4gICAgdmFyIGxpbmVXaWR0aCA9IHN0YXRlLmxpbmVXaWR0aDtcbiAgICBpZiAoc3Ryb2tlU3R5bGUgPT09IHVuZGVmaW5lZCB8fCBsaW5lV2lkdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZVN0cm9rZVN0eWxlKHN0YXRlLCB0aGlzLmFwcGx5U3Ryb2tlKTtcbiAgICB0aGlzLmJlZ2luR2VvbWV0cnkobXVsdGlMaW5lU3RyaW5nR2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX1NUUk9LRV9TVFlMRSxcbiAgICAgIHN0YXRlLnN0cm9rZVN0eWxlLCBzdGF0ZS5saW5lV2lkdGgsIHN0YXRlLmxpbmVDYXAsIHN0YXRlLmxpbmVKb2luLFxuICAgICAgc3RhdGUubWl0ZXJMaW1pdCwgc3RhdGUubGluZURhc2gsIHN0YXRlLmxpbmVEYXNoT2Zmc2V0XG4gICAgXSwgYmVnaW5QYXRoSW5zdHJ1Y3Rpb24pO1xuICAgIHZhciBlbmRzID0gbXVsdGlMaW5lU3RyaW5nR2VvbWV0cnkuZ2V0RW5kcygpO1xuICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBtdWx0aUxpbmVTdHJpbmdHZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICB2YXIgc3RyaWRlID0gbXVsdGlMaW5lU3RyaW5nR2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgdmFyIG9mZnNldCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBvZmZzZXQgPSB0aGlzLmRyYXdGbGF0Q29vcmRpbmF0ZXNfKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzW2ldLCBzdHJpZGUpO1xuICAgIH1cbiAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKHN0cm9rZUluc3RydWN0aW9uKTtcbiAgICB0aGlzLmVuZEdlb21ldHJ5KG11bHRpTGluZVN0cmluZ0dlb21ldHJ5LCBmZWF0dXJlKTtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIENhbnZhc0xpbmVTdHJpbmdSZXBsYXkucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uIGZpbmlzaCAoKSB7XG4gICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICBpZiAoc3RhdGUubGFzdFN0cm9rZSAhPSB1bmRlZmluZWQgJiYgc3RhdGUubGFzdFN0cm9rZSAhPSB0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aCkge1xuICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChzdHJva2VJbnN0cnVjdGlvbik7XG4gICAgfVxuICAgIHRoaXMucmV2ZXJzZUhpdERldGVjdGlvbkluc3RydWN0aW9ucygpO1xuICAgIHRoaXMuc3RhdGUgPSBudWxsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvYy5cbiAgICovXG4gIENhbnZhc0xpbmVTdHJpbmdSZXBsYXkucHJvdG90eXBlLmFwcGx5U3Ryb2tlID0gZnVuY3Rpb24gYXBwbHlTdHJva2UgKHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlLmxhc3RTdHJva2UgIT0gdW5kZWZpbmVkICYmIHN0YXRlLmxhc3RTdHJva2UgIT0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goc3Ryb2tlSW5zdHJ1Y3Rpb24pO1xuICAgICAgc3RhdGUubGFzdFN0cm9rZSA9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgIH1cbiAgICBzdGF0ZS5sYXN0U3Ryb2tlID0gMDtcbiAgICBDYW52YXNSZXBsYXkucHJvdG90eXBlLmFwcGx5U3Ryb2tlLmNhbGwodGhpcywgc3RhdGUpO1xuICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goYmVnaW5QYXRoSW5zdHJ1Y3Rpb24pO1xuICB9O1xuXG4gIHJldHVybiBDYW52YXNMaW5lU3RyaW5nUmVwbGF5O1xufShDYW52YXNSZXBsYXkpKTtcblxuXG5leHBvcnQgZGVmYXVsdCBDYW52YXNMaW5lU3RyaW5nUmVwbGF5O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1MaW5lU3RyaW5nUmVwbGF5LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL1BvbHlnb25SZXBsYXlcbiAqL1xuaW1wb3J0IHthc1N0cmluZ30gZnJvbSAnLi4vLi4vY29sb3IuanMnO1xuaW1wb3J0IHtzbmFwfSBmcm9tICcuLi8uLi9nZW9tL2ZsYXQvc2ltcGxpZnkuanMnO1xuaW1wb3J0IHtkZWZhdWx0RmlsbFN0eWxlfSBmcm9tICcuLi9jYW52YXMuanMnO1xuaW1wb3J0IENhbnZhc0luc3RydWN0aW9uLCB7XG4gIGZpbGxJbnN0cnVjdGlvbiwgc3Ryb2tlSW5zdHJ1Y3Rpb24sIGJlZ2luUGF0aEluc3RydWN0aW9uLCBjbG9zZVBhdGhJbnN0cnVjdGlvblxufSBmcm9tICcuL0luc3RydWN0aW9uLmpzJztcbmltcG9ydCBDYW52YXNSZXBsYXkgZnJvbSAnLi9SZXBsYXkuanMnO1xuXG5cbnZhciBDYW52YXNQb2x5Z29uUmVwbGF5ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQ2FudmFzUmVwbGF5KSB7XG4gIGZ1bmN0aW9uIENhbnZhc1BvbHlnb25SZXBsYXkodG9sZXJhbmNlLCBtYXhFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8sIG92ZXJsYXBzLCBkZWNsdXR0ZXJUcmVlKSB7XG4gICAgQ2FudmFzUmVwbGF5LmNhbGwodGhpcywgdG9sZXJhbmNlLCBtYXhFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8sIG92ZXJsYXBzLCBkZWNsdXR0ZXJUcmVlKTtcbiAgfVxuXG4gIGlmICggQ2FudmFzUmVwbGF5ICkgQ2FudmFzUG9seWdvblJlcGxheS5fX3Byb3RvX18gPSBDYW52YXNSZXBsYXk7XG4gIENhbnZhc1BvbHlnb25SZXBsYXkucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQ2FudmFzUmVwbGF5ICYmIENhbnZhc1JlcGxheS5wcm90b3R5cGUgKTtcbiAgQ2FudmFzUG9seWdvblJlcGxheS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDYW52YXNQb2x5Z29uUmVwbGF5O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEVuZC5cbiAgICovXG4gIENhbnZhc1BvbHlnb25SZXBsYXkucHJvdG90eXBlLmRyYXdGbGF0Q29vcmRpbmF0ZXNzXyA9IGZ1bmN0aW9uIGRyYXdGbGF0Q29vcmRpbmF0ZXNzXyAoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSkge1xuICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgdmFyIGZpbGwgPSBzdGF0ZS5maWxsU3R5bGUgIT09IHVuZGVmaW5lZDtcbiAgICB2YXIgc3Ryb2tlID0gc3RhdGUuc3Ryb2tlU3R5bGUgIT0gdW5kZWZpbmVkO1xuICAgIHZhciBudW1FbmRzID0gZW5kcy5sZW5ndGg7XG4gICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChiZWdpblBhdGhJbnN0cnVjdGlvbik7XG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChiZWdpblBhdGhJbnN0cnVjdGlvbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1FbmRzOyArK2kpIHtcbiAgICAgIHZhciBlbmQgPSBlbmRzW2ldO1xuICAgICAgdmFyIG15QmVnaW4gPSB0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICAgIHZhciBteUVuZCA9IHRoaXMuYXBwZW5kRmxhdENvb3JkaW5hdGVzKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgdHJ1ZSwgIXN0cm9rZSk7XG4gICAgICB2YXIgbW92ZVRvTGluZVRvSW5zdHJ1Y3Rpb24gPSBbQ2FudmFzSW5zdHJ1Y3Rpb24uTU9WRV9UT19MSU5FX1RPLCBteUJlZ2luLCBteUVuZF07XG4gICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKG1vdmVUb0xpbmVUb0luc3RydWN0aW9uKTtcbiAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2gobW92ZVRvTGluZVRvSW5zdHJ1Y3Rpb24pO1xuICAgICAgaWYgKHN0cm9rZSkge1xuICAgICAgICAvLyBQZXJmb3JtYW5jZSBvcHRpbWl6YXRpb246IG9ubHkgY2FsbCBjbG9zZVBhdGgoKSB3aGVuIHdlIGhhdmUgYSBzdHJva2UuXG4gICAgICAgIC8vIE90aGVyd2lzZSB0aGUgcmluZyBpcyBjbG9zZWQgYWxyZWFkeSAoc2VlIGFwcGVuZEZsYXRDb29yZGluYXRlcyBhYm92ZSkuXG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goY2xvc2VQYXRoSW5zdHJ1Y3Rpb24pO1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKGNsb3NlUGF0aEluc3RydWN0aW9uKTtcbiAgICAgIH1cbiAgICAgIG9mZnNldCA9IGVuZDtcbiAgICB9XG4gICAgaWYgKGZpbGwpIHtcbiAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goZmlsbEluc3RydWN0aW9uKTtcbiAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goZmlsbEluc3RydWN0aW9uKTtcbiAgICB9XG4gICAgaWYgKHN0cm9rZSkge1xuICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChzdHJva2VJbnN0cnVjdGlvbik7XG4gICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKHN0cm9rZUluc3RydWN0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldDtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIENhbnZhc1BvbHlnb25SZXBsYXkucHJvdG90eXBlLmRyYXdDaXJjbGUgPSBmdW5jdGlvbiBkcmF3Q2lyY2xlIChjaXJjbGVHZW9tZXRyeSwgZmVhdHVyZSkge1xuICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgdmFyIGZpbGxTdHlsZSA9IHN0YXRlLmZpbGxTdHlsZTtcbiAgICB2YXIgc3Ryb2tlU3R5bGUgPSBzdGF0ZS5zdHJva2VTdHlsZTtcbiAgICBpZiAoZmlsbFN0eWxlID09PSB1bmRlZmluZWQgJiYgc3Ryb2tlU3R5bGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNldEZpbGxTdHJva2VTdHlsZXNfKGNpcmNsZUdlb21ldHJ5KTtcbiAgICB0aGlzLmJlZ2luR2VvbWV0cnkoY2lyY2xlR2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIGlmIChzdGF0ZS5maWxsU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgIENhbnZhc0luc3RydWN0aW9uLlNFVF9GSUxMX1NUWUxFLFxuICAgICAgICBhc1N0cmluZyhkZWZhdWx0RmlsbFN0eWxlKVxuICAgICAgXSk7XG4gICAgfVxuICAgIGlmIChzdGF0ZS5zdHJva2VTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX1NUUk9LRV9TVFlMRSxcbiAgICAgICAgc3RhdGUuc3Ryb2tlU3R5bGUsIHN0YXRlLmxpbmVXaWR0aCwgc3RhdGUubGluZUNhcCwgc3RhdGUubGluZUpvaW4sXG4gICAgICAgIHN0YXRlLm1pdGVyTGltaXQsIHN0YXRlLmxpbmVEYXNoLCBzdGF0ZS5saW5lRGFzaE9mZnNldFxuICAgICAgXSk7XG4gICAgfVxuICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBjaXJjbGVHZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICB2YXIgc3RyaWRlID0gY2lyY2xlR2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgdmFyIG15QmVnaW4gPSB0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICB0aGlzLmFwcGVuZEZsYXRDb29yZGluYXRlcyhcbiAgICAgIGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlLCBmYWxzZSwgZmFsc2UpO1xuICAgIHZhciBjaXJjbGVJbnN0cnVjdGlvbiA9IFtDYW52YXNJbnN0cnVjdGlvbi5DSVJDTEUsIG15QmVnaW5dO1xuICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goYmVnaW5QYXRoSW5zdHJ1Y3Rpb24sIGNpcmNsZUluc3RydWN0aW9uKTtcbiAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKGJlZ2luUGF0aEluc3RydWN0aW9uLCBjaXJjbGVJbnN0cnVjdGlvbik7XG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChmaWxsSW5zdHJ1Y3Rpb24pO1xuICAgIGlmIChzdGF0ZS5maWxsU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChmaWxsSW5zdHJ1Y3Rpb24pO1xuICAgIH1cbiAgICBpZiAoc3RhdGUuc3Ryb2tlU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChzdHJva2VJbnN0cnVjdGlvbik7XG4gICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKHN0cm9rZUluc3RydWN0aW9uKTtcbiAgICB9XG4gICAgdGhpcy5lbmRHZW9tZXRyeShjaXJjbGVHZW9tZXRyeSwgZmVhdHVyZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBDYW52YXNQb2x5Z29uUmVwbGF5LnByb3RvdHlwZS5kcmF3UG9seWdvbiA9IGZ1bmN0aW9uIGRyYXdQb2x5Z29uIChwb2x5Z29uR2VvbWV0cnksIGZlYXR1cmUpIHtcbiAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIHZhciBmaWxsU3R5bGUgPSBzdGF0ZS5maWxsU3R5bGU7XG4gICAgdmFyIHN0cm9rZVN0eWxlID0gc3RhdGUuc3Ryb2tlU3R5bGU7XG4gICAgaWYgKGZpbGxTdHlsZSA9PT0gdW5kZWZpbmVkICYmIHN0cm9rZVN0eWxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zZXRGaWxsU3Ryb2tlU3R5bGVzXyhwb2x5Z29uR2VvbWV0cnkpO1xuICAgIHRoaXMuYmVnaW5HZW9tZXRyeShwb2x5Z29uR2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIGlmIChzdGF0ZS5maWxsU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgIENhbnZhc0luc3RydWN0aW9uLlNFVF9GSUxMX1NUWUxFLFxuICAgICAgICBhc1N0cmluZyhkZWZhdWx0RmlsbFN0eWxlKVxuICAgICAgXSk7XG4gICAgfVxuICAgIGlmIChzdGF0ZS5zdHJva2VTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX1NUUk9LRV9TVFlMRSxcbiAgICAgICAgc3RhdGUuc3Ryb2tlU3R5bGUsIHN0YXRlLmxpbmVXaWR0aCwgc3RhdGUubGluZUNhcCwgc3RhdGUubGluZUpvaW4sXG4gICAgICAgIHN0YXRlLm1pdGVyTGltaXQsIHN0YXRlLmxpbmVEYXNoLCBzdGF0ZS5saW5lRGFzaE9mZnNldFxuICAgICAgXSk7XG4gICAgfVxuICAgIHZhciBlbmRzID0gcG9seWdvbkdlb21ldHJ5LmdldEVuZHMoKTtcbiAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gcG9seWdvbkdlb21ldHJ5LmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCk7XG4gICAgdmFyIHN0cmlkZSA9IHBvbHlnb25HZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICB0aGlzLmRyYXdGbGF0Q29vcmRpbmF0ZXNzXyhmbGF0Q29vcmRpbmF0ZXMsIDAsIGVuZHMsIHN0cmlkZSk7XG4gICAgdGhpcy5lbmRHZW9tZXRyeShwb2x5Z29uR2VvbWV0cnksIGZlYXR1cmUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgQ2FudmFzUG9seWdvblJlcGxheS5wcm90b3R5cGUuZHJhd011bHRpUG9seWdvbiA9IGZ1bmN0aW9uIGRyYXdNdWx0aVBvbHlnb24gKG11bHRpUG9seWdvbkdlb21ldHJ5LCBmZWF0dXJlKSB7XG4gICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICB2YXIgZmlsbFN0eWxlID0gc3RhdGUuZmlsbFN0eWxlO1xuICAgIHZhciBzdHJva2VTdHlsZSA9IHN0YXRlLnN0cm9rZVN0eWxlO1xuICAgIGlmIChmaWxsU3R5bGUgPT09IHVuZGVmaW5lZCAmJiBzdHJva2VTdHlsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2V0RmlsbFN0cm9rZVN0eWxlc18obXVsdGlQb2x5Z29uR2VvbWV0cnkpO1xuICAgIHRoaXMuYmVnaW5HZW9tZXRyeShtdWx0aVBvbHlnb25HZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgaWYgKHN0YXRlLmZpbGxTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX0ZJTExfU1RZTEUsXG4gICAgICAgIGFzU3RyaW5nKGRlZmF1bHRGaWxsU3R5bGUpXG4gICAgICBdKTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLnN0cm9rZVN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5TRVRfU1RST0tFX1NUWUxFLFxuICAgICAgICBzdGF0ZS5zdHJva2VTdHlsZSwgc3RhdGUubGluZVdpZHRoLCBzdGF0ZS5saW5lQ2FwLCBzdGF0ZS5saW5lSm9pbixcbiAgICAgICAgc3RhdGUubWl0ZXJMaW1pdCwgc3RhdGUubGluZURhc2gsIHN0YXRlLmxpbmVEYXNoT2Zmc2V0XG4gICAgICBdKTtcbiAgICB9XG4gICAgdmFyIGVuZHNzID0gbXVsdGlQb2x5Z29uR2VvbWV0cnkuZ2V0RW5kc3MoKTtcbiAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gbXVsdGlQb2x5Z29uR2VvbWV0cnkuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICB2YXIgc3RyaWRlID0gbXVsdGlQb2x5Z29uR2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgdmFyIG9mZnNldCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgb2Zmc2V0ID0gdGhpcy5kcmF3RmxhdENvb3JkaW5hdGVzc18oZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzW2ldLCBzdHJpZGUpO1xuICAgIH1cbiAgICB0aGlzLmVuZEdlb21ldHJ5KG11bHRpUG9seWdvbkdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIENhbnZhc1BvbHlnb25SZXBsYXkucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uIGZpbmlzaCAoKSB7XG4gICAgdGhpcy5yZXZlcnNlSGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zKCk7XG4gICAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gICAgLy8gV2Ugd2FudCB0byBwcmVzZXJ2ZSB0b3BvbG9neSB3aGVuIGRyYXdpbmcgcG9seWdvbnMuICBQb2x5Z29ucyBhcmVcbiAgICAvLyBzaW1wbGlmaWVkIHVzaW5nIHF1YW50aXphdGlvbiBhbmQgcG9pbnQgZWxpbWluYXRpb24uIEhvd2V2ZXIsIHdlIG1pZ2h0XG4gICAgLy8gaGF2ZSByZWNlaXZlZCBhIG1peCBvZiBxdWFudGl6ZWQgYW5kIG5vbi1xdWFudGl6ZWQgZ2VvbWV0cmllcywgc28gZW5zdXJlXG4gICAgLy8gdGhhdCBhbGwgYXJlIHF1YW50aXplZCBieSBxdWFudGl6aW5nIGFsbCBjb29yZGluYXRlcyBpbiB0aGUgYmF0Y2guXG4gICAgdmFyIHRvbGVyYW5jZSA9IHRoaXMudG9sZXJhbmNlO1xuICAgIGlmICh0b2xlcmFuY2UgIT09IDApIHtcbiAgICAgIHZhciBjb29yZGluYXRlcyA9IHRoaXMuY29vcmRpbmF0ZXM7XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBjb29yZGluYXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGNvb3JkaW5hdGVzW2ldID0gc25hcChjb29yZGluYXRlc1tpXSwgdG9sZXJhbmNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gICAqL1xuICBDYW52YXNQb2x5Z29uUmVwbGF5LnByb3RvdHlwZS5zZXRGaWxsU3Ryb2tlU3R5bGVzXyA9IGZ1bmN0aW9uIHNldEZpbGxTdHJva2VTdHlsZXNfIChnZW9tZXRyeSkge1xuICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgdmFyIGZpbGxTdHlsZSA9IHN0YXRlLmZpbGxTdHlsZTtcbiAgICBpZiAoZmlsbFN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMudXBkYXRlRmlsbFN0eWxlKHN0YXRlLCB0aGlzLmNyZWF0ZUZpbGwsIGdlb21ldHJ5KTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLnN0cm9rZVN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMudXBkYXRlU3Ryb2tlU3R5bGUoc3RhdGUsIHRoaXMuYXBwbHlTdHJva2UpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gQ2FudmFzUG9seWdvblJlcGxheTtcbn0oQ2FudmFzUmVwbGF5KSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzUG9seWdvblJlcGxheTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UG9seWdvblJlcGxheS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L3N0cmFpZ2h0Y2h1bmtcbiAqL1xuXG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IG1heEFuZ2xlIE1heGltdW0gYWNjZXB0YWJsZSBhbmdsZSBkZWx0YSBiZXR3ZWVuIHNlZ21lbnRzLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFN0YXJ0IGFuZCBlbmQgb2YgdGhlIGZpcnN0IHN1aXRhYmxlIGNodW5rIG9mIHRoZVxuICogZ2l2ZW4gYGZsYXRDb29yZGluYXRlc2AuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXRjaGluZ0NodW5rKG1heEFuZ2xlLCBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpIHtcbiAgdmFyIGNodW5rU3RhcnQgPSBvZmZzZXQ7XG4gIHZhciBjaHVua0VuZCA9IG9mZnNldDtcbiAgdmFyIGNodW5rTSA9IDA7XG4gIHZhciBtID0gMDtcbiAgdmFyIHN0YXJ0ID0gb2Zmc2V0O1xuICB2YXIgYWNvcywgaSwgbTEyLCBtMjMsIHgxLCB5MSwgeDEyLCB5MTIsIHgyMywgeTIzO1xuICBmb3IgKGkgPSBvZmZzZXQ7IGkgPCBlbmQ7IGkgKz0gc3RyaWRlKSB7XG4gICAgdmFyIHgyID0gZmxhdENvb3JkaW5hdGVzW2ldO1xuICAgIHZhciB5MiA9IGZsYXRDb29yZGluYXRlc1tpICsgMV07XG4gICAgaWYgKHgxICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHgyMyA9IHgyIC0geDE7XG4gICAgICB5MjMgPSB5MiAtIHkxO1xuICAgICAgbTIzID0gTWF0aC5zcXJ0KHgyMyAqIHgyMyArIHkyMyAqIHkyMyk7XG4gICAgICBpZiAoeDEyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbSArPSBtMTI7XG4gICAgICAgIGFjb3MgPSBNYXRoLmFjb3MoKHgxMiAqIHgyMyArIHkxMiAqIHkyMykgLyAobTEyICogbTIzKSk7XG4gICAgICAgIGlmIChhY29zID4gbWF4QW5nbGUpIHtcbiAgICAgICAgICBpZiAobSA+IGNodW5rTSkge1xuICAgICAgICAgICAgY2h1bmtNID0gbTtcbiAgICAgICAgICAgIGNodW5rU3RhcnQgPSBzdGFydDtcbiAgICAgICAgICAgIGNodW5rRW5kID0gaTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbSA9IDA7XG4gICAgICAgICAgc3RhcnQgPSBpIC0gc3RyaWRlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBtMTIgPSBtMjM7XG4gICAgICB4MTIgPSB4MjM7XG4gICAgICB5MTIgPSB5MjM7XG4gICAgfVxuICAgIHgxID0geDI7XG4gICAgeTEgPSB5MjtcbiAgfVxuICBtICs9IG0yMztcbiAgcmV0dXJuIG0gPiBjaHVua00gPyBbc3RhcnQsIGldIDogW2NodW5rU3RhcnQsIGNodW5rRW5kXTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RyYWlnaHRjaHVuay5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9UZXh0UmVwbGF5XG4gKi9cbmltcG9ydCB7Z2V0VWlkfSBmcm9tICcuLi8uLi91dGlsLmpzJztcbmltcG9ydCB7YXNDb2xvckxpa2V9IGZyb20gJy4uLy4uL2NvbG9ybGlrZS5qcyc7XG5pbXBvcnQge2NyZWF0ZUNhbnZhc0NvbnRleHQyRH0gZnJvbSAnLi4vLi4vZG9tLmpzJztcbmltcG9ydCB7aW50ZXJzZWN0c30gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7bWF0Y2hpbmdDaHVua30gZnJvbSAnLi4vLi4vZ2VvbS9mbGF0L3N0cmFpZ2h0Y2h1bmsuanMnO1xuaW1wb3J0IEdlb21ldHJ5VHlwZSBmcm9tICcuLi8uLi9nZW9tL0dlb21ldHJ5VHlwZS5qcyc7XG5pbXBvcnQge0NBTlZBU19MSU5FX0RBU0h9IGZyb20gJy4uLy4uL2hhcy5qcyc7XG5pbXBvcnQge2xhYmVsQ2FjaGUsIG1lYXN1cmVUZXh0V2lkdGgsIGRlZmF1bHRUZXh0QWxpZ24sIG1lYXN1cmVUZXh0SGVpZ2h0LCBkZWZhdWx0UGFkZGluZywgZGVmYXVsdExpbmVDYXAsIGRlZmF1bHRMaW5lRGFzaE9mZnNldCwgZGVmYXVsdExpbmVEYXNoLCBkZWZhdWx0TGluZUpvaW4sIGRlZmF1bHRGaWxsU3R5bGUsIGNoZWNrRm9udCwgZGVmYXVsdEZvbnQsIGRlZmF1bHRMaW5lV2lkdGgsIGRlZmF1bHRNaXRlckxpbWl0LCBkZWZhdWx0U3Ryb2tlU3R5bGUsIGRlZmF1bHRUZXh0QmFzZWxpbmV9IGZyb20gJy4uL2NhbnZhcy5qcyc7XG5pbXBvcnQgQ2FudmFzSW5zdHJ1Y3Rpb24gZnJvbSAnLi9JbnN0cnVjdGlvbi5qcyc7XG5pbXBvcnQgQ2FudmFzUmVwbGF5IGZyb20gJy4vUmVwbGF5LmpzJztcbmltcG9ydCB7VEVYVF9BTElHTn0gZnJvbSAnLi4vcmVwbGF5LmpzJztcbmltcG9ydCBUZXh0UGxhY2VtZW50IGZyb20gJy4uLy4uL3N0eWxlL1RleHRQbGFjZW1lbnQuanMnO1xuXG52YXIgQ2FudmFzVGV4dFJlcGxheSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKENhbnZhc1JlcGxheSkge1xuICBmdW5jdGlvbiBDYW52YXNUZXh0UmVwbGF5KHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvLCBvdmVybGFwcywgZGVjbHV0dGVyVHJlZSkge1xuICAgIENhbnZhc1JlcGxheS5jYWxsKHRoaXMsIHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvLCBvdmVybGFwcywgZGVjbHV0dGVyVHJlZSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRGVjbHV0dGVyR3JvdXB9XG4gICAgICovXG4gICAgdGhpcy5kZWNsdXR0ZXJHcm91cF87XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxIVE1MQ2FudmFzRWxlbWVudD59XG4gICAgICovXG4gICAgdGhpcy5sYWJlbHNfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnRleHRfID0gJyc7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50ZXh0T2Zmc2V0WF8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGV4dE9mZnNldFlfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW58dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMudGV4dFJvdGF0ZVdpdGhWaWV3XyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRSb3RhdGlvbl8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3RhdGV9XG4gICAgICovXG4gICAgdGhpcy50ZXh0RmlsbFN0YXRlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3RhdGU+fVxuICAgICAqL1xuICAgIHRoaXMuZmlsbFN0YXRlcyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRTdHJva2VTdGF0ZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU3Ryb2tlU3RhdGU+fVxuICAgICAqL1xuICAgIHRoaXMuc3Ryb2tlU3RhdGVzID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuVGV4dFN0YXRlfVxuICAgICAqL1xuICAgIHRoaXMudGV4dFN0YXRlXyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlRleHRTdGF0ZX0gKi8gKHt9KTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlRleHRTdGF0ZT59XG4gICAgICovXG4gICAgdGhpcy50ZXh0U3RhdGVzID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy50ZXh0S2V5XyA9ICcnO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuZmlsbEtleV8gPSAnJztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnN0cm9rZUtleV8gPSAnJztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIE9iamVjdDxzdHJpbmcsIG51bWJlcj4+fVxuICAgICAqL1xuICAgIHRoaXMud2lkdGhzXyA9IHt9O1xuXG4gICAgbGFiZWxDYWNoZS5wcnVuZSgpO1xuXG4gIH1cblxuICBpZiAoIENhbnZhc1JlcGxheSApIENhbnZhc1RleHRSZXBsYXkuX19wcm90b19fID0gQ2FudmFzUmVwbGF5O1xuICBDYW52YXNUZXh0UmVwbGF5LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIENhbnZhc1JlcGxheSAmJiBDYW52YXNSZXBsYXkucHJvdG90eXBlICk7XG4gIENhbnZhc1RleHRSZXBsYXkucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ2FudmFzVGV4dFJlcGxheTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIENhbnZhc1RleHRSZXBsYXkucHJvdG90eXBlLmRyYXdUZXh0ID0gZnVuY3Rpb24gZHJhd1RleHQgKGdlb21ldHJ5LCBmZWF0dXJlKSB7XG4gICAgdmFyIGZpbGxTdGF0ZSA9IHRoaXMudGV4dEZpbGxTdGF0ZV87XG4gICAgdmFyIHN0cm9rZVN0YXRlID0gdGhpcy50ZXh0U3Ryb2tlU3RhdGVfO1xuICAgIHZhciB0ZXh0U3RhdGUgPSB0aGlzLnRleHRTdGF0ZV87XG4gICAgaWYgKHRoaXMudGV4dF8gPT09ICcnIHx8ICF0ZXh0U3RhdGUgfHwgKCFmaWxsU3RhdGUgJiYgIXN0cm9rZVN0YXRlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBiZWdpbiA9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoO1xuXG4gICAgdmFyIGdlb21ldHJ5VHlwZSA9IGdlb21ldHJ5LmdldFR5cGUoKTtcbiAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gbnVsbDtcbiAgICB2YXIgZW5kID0gMjtcbiAgICB2YXIgc3RyaWRlID0gMjtcbiAgICB2YXIgaSwgaWk7XG5cbiAgICBpZiAodGV4dFN0YXRlLnBsYWNlbWVudCA9PT0gVGV4dFBsYWNlbWVudC5MSU5FKSB7XG4gICAgICBpZiAoIWludGVyc2VjdHModGhpcy5nZXRCdWZmZXJlZE1heEV4dGVudCgpLCBnZW9tZXRyeS5nZXRFeHRlbnQoKSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGVuZHM7XG4gICAgICBmbGF0Q29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgIHN0cmlkZSA9IGdlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgICAgaWYgKGdlb21ldHJ5VHlwZSA9PSBHZW9tZXRyeVR5cGUuTElORV9TVFJJTkcpIHtcbiAgICAgICAgZW5kcyA9IFtmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoXTtcbiAgICAgIH0gZWxzZSBpZiAoZ2VvbWV0cnlUeXBlID09IEdlb21ldHJ5VHlwZS5NVUxUSV9MSU5FX1NUUklORykge1xuICAgICAgICBlbmRzID0gZ2VvbWV0cnkuZ2V0RW5kcygpO1xuICAgICAgfSBlbHNlIGlmIChnZW9tZXRyeVR5cGUgPT0gR2VvbWV0cnlUeXBlLlBPTFlHT04pIHtcbiAgICAgICAgZW5kcyA9IGdlb21ldHJ5LmdldEVuZHMoKS5zbGljZSgwLCAxKTtcbiAgICAgIH0gZWxzZSBpZiAoZ2VvbWV0cnlUeXBlID09IEdlb21ldHJ5VHlwZS5NVUxUSV9QT0xZR09OKSB7XG4gICAgICAgIHZhciBlbmRzcyA9IGdlb21ldHJ5LmdldEVuZHNzKCk7XG4gICAgICAgIGVuZHMgPSBbXTtcbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgZW5kcy5wdXNoKGVuZHNzW2ldWzBdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5iZWdpbkdlb21ldHJ5KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICAgIHZhciB0ZXh0QWxpZ24gPSB0ZXh0U3RhdGUudGV4dEFsaWduO1xuICAgICAgdmFyIGZsYXRPZmZzZXQgPSAwO1xuICAgICAgdmFyIGZsYXRFbmQ7XG4gICAgICBmb3IgKHZhciBvID0gMCwgb28gPSBlbmRzLmxlbmd0aDsgbyA8IG9vOyArK28pIHtcbiAgICAgICAgaWYgKHRleHRBbGlnbiA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB2YXIgcmFuZ2UgPSBtYXRjaGluZ0NodW5rKHRleHRTdGF0ZS5tYXhBbmdsZSwgZmxhdENvb3JkaW5hdGVzLCBmbGF0T2Zmc2V0LCBlbmRzW29dLCBzdHJpZGUpO1xuICAgICAgICAgIGZsYXRPZmZzZXQgPSByYW5nZVswXTtcbiAgICAgICAgICBmbGF0RW5kID0gcmFuZ2VbMV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmxhdEVuZCA9IGVuZHNbb107XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gZmxhdE9mZnNldDsgaSA8IGZsYXRFbmQ7IGkgKz0gc3RyaWRlKSB7XG4gICAgICAgICAgdGhpcy5jb29yZGluYXRlcy5wdXNoKGZsYXRDb29yZGluYXRlc1tpXSwgZmxhdENvb3JkaW5hdGVzW2kgKyAxXSk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kID0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGg7XG4gICAgICAgIGZsYXRPZmZzZXQgPSBlbmRzW29dO1xuICAgICAgICB0aGlzLmRyYXdDaGFyc18oYmVnaW4sIGVuZCwgdGhpcy5kZWNsdXR0ZXJHcm91cF8pO1xuICAgICAgICBiZWdpbiA9IGVuZDtcbiAgICAgIH1cbiAgICAgIHRoaXMuZW5kR2VvbWV0cnkoZ2VvbWV0cnksIGZlYXR1cmUpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBsYWJlbCA9IHRoaXMuZ2V0SW1hZ2UodGhpcy50ZXh0XywgdGhpcy50ZXh0S2V5XywgdGhpcy5maWxsS2V5XywgdGhpcy5zdHJva2VLZXlfKTtcbiAgICAgIHZhciB3aWR0aCA9IGxhYmVsLndpZHRoIC8gdGhpcy5waXhlbFJhdGlvO1xuICAgICAgc3dpdGNoIChnZW9tZXRyeVR5cGUpIHtcbiAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuUE9JTlQ6XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLk1VTFRJX1BPSU5UOlxuICAgICAgICAgIGZsYXRDb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICAgIGVuZCA9IGZsYXRDb29yZGluYXRlcy5sZW5ndGg7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HOlxuICAgICAgICAgIGZsYXRDb29yZGluYXRlcyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9MaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuZ2V0RmxhdE1pZHBvaW50KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLkNJUkNMRTpcbiAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuZ2V0Q2VudGVyKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLk1VTFRJX0xJTkVfU1RSSU5HOlxuICAgICAgICAgIGZsYXRDb29yZGluYXRlcyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aUxpbmVTdHJpbmcuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRGbGF0TWlkcG9pbnRzKCk7XG4gICAgICAgICAgZW5kID0gZmxhdENvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuUE9MWUdPTjpcbiAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldEZsYXRJbnRlcmlvclBvaW50KCk7XG4gICAgICAgICAgaWYgKCF0ZXh0U3RhdGUub3ZlcmZsb3cgJiYgZmxhdENvb3JkaW5hdGVzWzJdIC8gdGhpcy5yZXNvbHV0aW9uIDwgd2lkdGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RyaWRlID0gMztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTVVMVElfUE9MWUdPTjpcbiAgICAgICAgICB2YXIgaW50ZXJpb3JQb2ludHMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2x5Z29uLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuZ2V0RmxhdEludGVyaW9yUG9pbnRzKCk7XG4gICAgICAgICAgZmxhdENvb3JkaW5hdGVzID0gW107XG4gICAgICAgICAgZm9yIChpID0gMCwgaWkgPSBpbnRlcmlvclBvaW50cy5sZW5ndGg7IGkgPCBpaTsgaSArPSAzKSB7XG4gICAgICAgICAgICBpZiAodGV4dFN0YXRlLm92ZXJmbG93IHx8IGludGVyaW9yUG9pbnRzW2kgKyAyXSAvIHRoaXMucmVzb2x1dGlvbiA+PSB3aWR0aCkge1xuICAgICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMucHVzaChpbnRlcmlvclBvaW50c1tpXSwgaW50ZXJpb3JQb2ludHNbaSArIDFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZW5kID0gZmxhdENvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICAgICAgICBpZiAoZW5kID09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICB9XG4gICAgICBlbmQgPSB0aGlzLmFwcGVuZEZsYXRDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIDAsIGVuZCwgc3RyaWRlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgaWYgKHRleHRTdGF0ZS5iYWNrZ3JvdW5kRmlsbCB8fCB0ZXh0U3RhdGUuYmFja2dyb3VuZFN0cm9rZSkge1xuICAgICAgICB0aGlzLnNldEZpbGxTdHJva2VTdHlsZSh0ZXh0U3RhdGUuYmFja2dyb3VuZEZpbGwsIHRleHRTdGF0ZS5iYWNrZ3JvdW5kU3Ryb2tlKTtcbiAgICAgICAgaWYgKHRleHRTdGF0ZS5iYWNrZ3JvdW5kRmlsbCkge1xuICAgICAgICAgIHRoaXMudXBkYXRlRmlsbFN0eWxlKHRoaXMuc3RhdGUsIHRoaXMuY3JlYXRlRmlsbCwgZ2VvbWV0cnkpO1xuICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2godGhpcy5jcmVhdGVGaWxsKHRoaXMuc3RhdGUsIGdlb21ldHJ5KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRleHRTdGF0ZS5iYWNrZ3JvdW5kU3Ryb2tlKSB7XG4gICAgICAgICAgdGhpcy51cGRhdGVTdHJva2VTdHlsZSh0aGlzLnN0YXRlLCB0aGlzLmFwcGx5U3Ryb2tlKTtcbiAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKHRoaXMuY3JlYXRlU3Ryb2tlKHRoaXMuc3RhdGUpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5iZWdpbkdlb21ldHJ5KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICAgIHRoaXMuZHJhd1RleHRJbWFnZV8obGFiZWwsIGJlZ2luLCBlbmQpO1xuICAgICAgdGhpcy5lbmRHZW9tZXRyeShnZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUZXh0LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dEtleSBUZXh0IHN0eWxlIGtleS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGxLZXkgRmlsbCBzdHlsZSBrZXkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJva2VLZXkgU3Ryb2tlIHN0eWxlIGtleS5cbiAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IEltYWdlLlxuICAgKi9cbiAgQ2FudmFzVGV4dFJlcGxheS5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiBnZXRJbWFnZSAodGV4dCwgdGV4dEtleSwgZmlsbEtleSwgc3Ryb2tlS2V5KSB7XG4gICAgdmFyIGxhYmVsO1xuICAgIHZhciBrZXkgPSBzdHJva2VLZXkgKyB0ZXh0S2V5ICsgdGV4dCArIGZpbGxLZXkgKyB0aGlzLnBpeGVsUmF0aW87XG5cbiAgICBpZiAoIWxhYmVsQ2FjaGUuY29udGFpbnNLZXkoa2V5KSkge1xuICAgICAgdmFyIHN0cm9rZVN0YXRlID0gc3Ryb2tlS2V5ID8gdGhpcy5zdHJva2VTdGF0ZXNbc3Ryb2tlS2V5XSB8fCB0aGlzLnRleHRTdHJva2VTdGF0ZV8gOiBudWxsO1xuICAgICAgdmFyIGZpbGxTdGF0ZSA9IGZpbGxLZXkgPyB0aGlzLmZpbGxTdGF0ZXNbZmlsbEtleV0gfHwgdGhpcy50ZXh0RmlsbFN0YXRlXyA6IG51bGw7XG4gICAgICB2YXIgdGV4dFN0YXRlID0gdGhpcy50ZXh0U3RhdGVzW3RleHRLZXldIHx8IHRoaXMudGV4dFN0YXRlXztcbiAgICAgIHZhciBwaXhlbFJhdGlvID0gdGhpcy5waXhlbFJhdGlvO1xuICAgICAgdmFyIHNjYWxlID0gdGV4dFN0YXRlLnNjYWxlICogcGl4ZWxSYXRpbztcbiAgICAgIHZhciBhbGlnbiA9IFRFWFRfQUxJR05bdGV4dFN0YXRlLnRleHRBbGlnbiB8fCBkZWZhdWx0VGV4dEFsaWduXTtcbiAgICAgIHZhciBzdHJva2VXaWR0aCA9IHN0cm9rZUtleSAmJiBzdHJva2VTdGF0ZS5saW5lV2lkdGggPyBzdHJva2VTdGF0ZS5saW5lV2lkdGggOiAwO1xuXG4gICAgICB2YXIgbGluZXMgPSB0ZXh0LnNwbGl0KCdcXG4nKTtcbiAgICAgIHZhciBudW1MaW5lcyA9IGxpbmVzLmxlbmd0aDtcbiAgICAgIHZhciB3aWR0aHMgPSBbXTtcbiAgICAgIHZhciB3aWR0aCA9IG1lYXN1cmVUZXh0V2lkdGhzKHRleHRTdGF0ZS5mb250LCBsaW5lcywgd2lkdGhzKTtcbiAgICAgIHZhciBsaW5lSGVpZ2h0ID0gbWVhc3VyZVRleHRIZWlnaHQodGV4dFN0YXRlLmZvbnQpO1xuICAgICAgdmFyIGhlaWdodCA9IGxpbmVIZWlnaHQgKiBudW1MaW5lcztcbiAgICAgIHZhciByZW5kZXJXaWR0aCA9ICh3aWR0aCArIHN0cm9rZVdpZHRoKTtcbiAgICAgIHZhciBjb250ZXh0ID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKFxuICAgICAgICBNYXRoLmNlaWwocmVuZGVyV2lkdGggKiBzY2FsZSksXG4gICAgICAgIE1hdGguY2VpbCgoaGVpZ2h0ICsgc3Ryb2tlV2lkdGgpICogc2NhbGUpKTtcbiAgICAgIGxhYmVsID0gY29udGV4dC5jYW52YXM7XG4gICAgICBsYWJlbENhY2hlLnNldChrZXksIGxhYmVsKTtcbiAgICAgIGlmIChzY2FsZSAhPSAxKSB7XG4gICAgICAgIGNvbnRleHQuc2NhbGUoc2NhbGUsIHNjYWxlKTtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQuZm9udCA9IHRleHRTdGF0ZS5mb250O1xuICAgICAgaWYgKHN0cm9rZUtleSkge1xuICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGU7XG4gICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3Ryb2tlV2lkdGg7XG4gICAgICAgIGNvbnRleHQubGluZUNhcCA9IC8qKiBAdHlwZSB7Q2FudmFzTGluZUNhcH0gKi8gKHN0cm9rZVN0YXRlLmxpbmVDYXApO1xuICAgICAgICBjb250ZXh0LmxpbmVKb2luID0gLyoqIEB0eXBlIHtDYW52YXNMaW5lSm9pbn0gKi8gKHN0cm9rZVN0YXRlLmxpbmVKb2luKTtcbiAgICAgICAgY29udGV4dC5taXRlckxpbWl0ID0gc3Ryb2tlU3RhdGUubWl0ZXJMaW1pdDtcbiAgICAgICAgaWYgKENBTlZBU19MSU5FX0RBU0ggJiYgc3Ryb2tlU3RhdGUubGluZURhc2gubGVuZ3RoKSB7XG4gICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChzdHJva2VTdGF0ZS5saW5lRGFzaCk7XG4gICAgICAgICAgY29udGV4dC5saW5lRGFzaE9mZnNldCA9IHN0cm9rZVN0YXRlLmxpbmVEYXNoT2Zmc2V0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZmlsbEtleSkge1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGZpbGxTdGF0ZS5maWxsU3R5bGU7XG4gICAgICB9XG4gICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuICAgICAgY29udGV4dC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICAgIHZhciBsZWZ0UmlnaHQgPSAoMC41IC0gYWxpZ24pO1xuICAgICAgdmFyIHggPSBhbGlnbiAqIGxhYmVsLndpZHRoIC8gc2NhbGUgKyBsZWZ0UmlnaHQgKiBzdHJva2VXaWR0aDtcbiAgICAgIHZhciBpO1xuICAgICAgaWYgKHN0cm9rZUtleSkge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbnVtTGluZXM7ICsraSkge1xuICAgICAgICAgIGNvbnRleHQuc3Ryb2tlVGV4dChsaW5lc1tpXSwgeCArIGxlZnRSaWdodCAqIHdpZHRoc1tpXSwgMC41ICogKHN0cm9rZVdpZHRoICsgbGluZUhlaWdodCkgKyBpICogbGluZUhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChmaWxsS2V5KSB7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBudW1MaW5lczsgKytpKSB7XG4gICAgICAgICAgY29udGV4dC5maWxsVGV4dChsaW5lc1tpXSwgeCArIGxlZnRSaWdodCAqIHdpZHRoc1tpXSwgMC41ICogKHN0cm9rZVdpZHRoICsgbGluZUhlaWdodCkgKyBpICogbGluZUhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxhYmVsQ2FjaGUuZ2V0KGtleSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGxhYmVsIExhYmVsLlxuICAgKiBAcGFyYW0ge251bWJlcn0gYmVnaW4gQmVnaW4uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICAgKi9cbiAgQ2FudmFzVGV4dFJlcGxheS5wcm90b3R5cGUuZHJhd1RleHRJbWFnZV8gPSBmdW5jdGlvbiBkcmF3VGV4dEltYWdlXyAobGFiZWwsIGJlZ2luLCBlbmQpIHtcbiAgICB2YXIgdGV4dFN0YXRlID0gdGhpcy50ZXh0U3RhdGVfO1xuICAgIHZhciBzdHJva2VTdGF0ZSA9IHRoaXMudGV4dFN0cm9rZVN0YXRlXztcbiAgICB2YXIgcGl4ZWxSYXRpbyA9IHRoaXMucGl4ZWxSYXRpbztcbiAgICB2YXIgYWxpZ24gPSBURVhUX0FMSUdOW3RleHRTdGF0ZS50ZXh0QWxpZ24gfHwgZGVmYXVsdFRleHRBbGlnbl07XG4gICAgdmFyIGJhc2VsaW5lID0gVEVYVF9BTElHTlt0ZXh0U3RhdGUudGV4dEJhc2VsaW5lXTtcbiAgICB2YXIgc3Ryb2tlV2lkdGggPSBzdHJva2VTdGF0ZSAmJiBzdHJva2VTdGF0ZS5saW5lV2lkdGggPyBzdHJva2VTdGF0ZS5saW5lV2lkdGggOiAwO1xuXG4gICAgdmFyIGFuY2hvclggPSBhbGlnbiAqIGxhYmVsLndpZHRoIC8gcGl4ZWxSYXRpbyArIDIgKiAoMC41IC0gYWxpZ24pICogc3Ryb2tlV2lkdGg7XG4gICAgdmFyIGFuY2hvclkgPSBiYXNlbGluZSAqIGxhYmVsLmhlaWdodCAvIHBpeGVsUmF0aW8gKyAyICogKDAuNSAtIGJhc2VsaW5lKSAqIHN0cm9rZVdpZHRoO1xuICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goW0NhbnZhc0luc3RydWN0aW9uLkRSQVdfSU1BR0UsIGJlZ2luLCBlbmQsXG4gICAgICBsYWJlbCwgKGFuY2hvclggLSB0aGlzLnRleHRPZmZzZXRYXykgKiBwaXhlbFJhdGlvLCAoYW5jaG9yWSAtIHRoaXMudGV4dE9mZnNldFlfKSAqIHBpeGVsUmF0aW8sXG4gICAgICB0aGlzLmRlY2x1dHRlckdyb3VwXywgbGFiZWwuaGVpZ2h0LCAxLCAwLCAwLCB0aGlzLnRleHRSb3RhdGVXaXRoVmlld18sIHRoaXMudGV4dFJvdGF0aW9uXyxcbiAgICAgIDEsIGxhYmVsLndpZHRoLFxuICAgICAgdGV4dFN0YXRlLnBhZGRpbmcgPT0gZGVmYXVsdFBhZGRpbmcgP1xuICAgICAgICBkZWZhdWx0UGFkZGluZyA6IHRleHRTdGF0ZS5wYWRkaW5nLm1hcChmdW5jdGlvbihwKSB7XG4gICAgICAgICAgcmV0dXJuIHAgKiBwaXhlbFJhdGlvO1xuICAgICAgICB9KSxcbiAgICAgICEhdGV4dFN0YXRlLmJhY2tncm91bmRGaWxsLCAhIXRleHRTdGF0ZS5iYWNrZ3JvdW5kU3Ryb2tlXG4gICAgXSk7XG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19JTUFHRSwgYmVnaW4sIGVuZCxcbiAgICAgIGxhYmVsLCAoYW5jaG9yWCAtIHRoaXMudGV4dE9mZnNldFhfKSAqIHBpeGVsUmF0aW8sIChhbmNob3JZIC0gdGhpcy50ZXh0T2Zmc2V0WV8pICogcGl4ZWxSYXRpbyxcbiAgICAgIHRoaXMuZGVjbHV0dGVyR3JvdXBfLCBsYWJlbC5oZWlnaHQsIDEsIDAsIDAsIHRoaXMudGV4dFJvdGF0ZVdpdGhWaWV3XywgdGhpcy50ZXh0Um90YXRpb25fLFxuICAgICAgMSAvIHBpeGVsUmF0aW8sIGxhYmVsLndpZHRoLCB0ZXh0U3RhdGUucGFkZGluZyxcbiAgICAgICEhdGV4dFN0YXRlLmJhY2tncm91bmRGaWxsLCAhIXRleHRTdGF0ZS5iYWNrZ3JvdW5kU3Ryb2tlXG4gICAgXSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBiZWdpbiBCZWdpbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkRlY2x1dHRlckdyb3VwfSBkZWNsdXR0ZXJHcm91cCBEZWNsdXR0ZXIgZ3JvdXAuXG4gICAqL1xuICBDYW52YXNUZXh0UmVwbGF5LnByb3RvdHlwZS5kcmF3Q2hhcnNfID0gZnVuY3Rpb24gZHJhd0NoYXJzXyAoYmVnaW4sIGVuZCwgZGVjbHV0dGVyR3JvdXApIHtcbiAgICB2YXIgc3Ryb2tlU3RhdGUgPSB0aGlzLnRleHRTdHJva2VTdGF0ZV87XG4gICAgdmFyIHRleHRTdGF0ZSA9IHRoaXMudGV4dFN0YXRlXztcbiAgICB2YXIgZmlsbFN0YXRlID0gdGhpcy50ZXh0RmlsbFN0YXRlXztcblxuICAgIHZhciBzdHJva2VLZXkgPSB0aGlzLnN0cm9rZUtleV87XG4gICAgaWYgKHN0cm9rZVN0YXRlKSB7XG4gICAgICBpZiAoIShzdHJva2VLZXkgaW4gdGhpcy5zdHJva2VTdGF0ZXMpKSB7XG4gICAgICAgIHRoaXMuc3Ryb2tlU3RhdGVzW3N0cm9rZUtleV0gPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZX0gKi8gKHtcbiAgICAgICAgICBzdHJva2VTdHlsZTogc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGUsXG4gICAgICAgICAgbGluZUNhcDogc3Ryb2tlU3RhdGUubGluZUNhcCxcbiAgICAgICAgICBsaW5lRGFzaE9mZnNldDogc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQsXG4gICAgICAgICAgbGluZVdpZHRoOiBzdHJva2VTdGF0ZS5saW5lV2lkdGgsXG4gICAgICAgICAgbGluZUpvaW46IHN0cm9rZVN0YXRlLmxpbmVKb2luLFxuICAgICAgICAgIG1pdGVyTGltaXQ6IHN0cm9rZVN0YXRlLm1pdGVyTGltaXQsXG4gICAgICAgICAgbGluZURhc2g6IHN0cm9rZVN0YXRlLmxpbmVEYXNoXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgdGV4dEtleSA9IHRoaXMudGV4dEtleV87XG4gICAgaWYgKCEodGhpcy50ZXh0S2V5XyBpbiB0aGlzLnRleHRTdGF0ZXMpKSB7XG4gICAgICB0aGlzLnRleHRTdGF0ZXNbdGhpcy50ZXh0S2V5X10gPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5UZXh0U3RhdGV9ICovICh7XG4gICAgICAgIGZvbnQ6IHRleHRTdGF0ZS5mb250LFxuICAgICAgICB0ZXh0QWxpZ246IHRleHRTdGF0ZS50ZXh0QWxpZ24gfHwgZGVmYXVsdFRleHRBbGlnbixcbiAgICAgICAgc2NhbGU6IHRleHRTdGF0ZS5zY2FsZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHZhciBmaWxsS2V5ID0gdGhpcy5maWxsS2V5XztcbiAgICBpZiAoZmlsbFN0YXRlKSB7XG4gICAgICBpZiAoIShmaWxsS2V5IGluIHRoaXMuZmlsbFN0YXRlcykpIHtcbiAgICAgICAgdGhpcy5maWxsU3RhdGVzW2ZpbGxLZXldID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0YXRlfSAqLyAoe1xuICAgICAgICAgIGZpbGxTdHlsZTogZmlsbFN0YXRlLmZpbGxTdHlsZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcGl4ZWxSYXRpbyA9IHRoaXMucGl4ZWxSYXRpbztcbiAgICB2YXIgYmFzZWxpbmUgPSBURVhUX0FMSUdOW3RleHRTdGF0ZS50ZXh0QmFzZWxpbmVdO1xuXG4gICAgdmFyIG9mZnNldFkgPSB0aGlzLnRleHRPZmZzZXRZXyAqIHBpeGVsUmF0aW87XG4gICAgdmFyIHRleHQgPSB0aGlzLnRleHRfO1xuICAgIHZhciBmb250ID0gdGV4dFN0YXRlLmZvbnQ7XG4gICAgdmFyIHRleHRTY2FsZSA9IHRleHRTdGF0ZS5zY2FsZTtcbiAgICB2YXIgc3Ryb2tlV2lkdGggPSBzdHJva2VTdGF0ZSA/IHN0cm9rZVN0YXRlLmxpbmVXaWR0aCAqIHRleHRTY2FsZSAvIDIgOiAwO1xuICAgIHZhciB3aWR0aHMgPSB0aGlzLndpZHRoc19bZm9udF07XG4gICAgaWYgKCF3aWR0aHMpIHtcbiAgICAgIHRoaXMud2lkdGhzX1tmb250XSA9IHdpZHRocyA9IHt9O1xuICAgIH1cbiAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKFtDYW52YXNJbnN0cnVjdGlvbi5EUkFXX0NIQVJTLFxuICAgICAgYmVnaW4sIGVuZCwgYmFzZWxpbmUsIGRlY2x1dHRlckdyb3VwLFxuICAgICAgdGV4dFN0YXRlLm92ZXJmbG93LCBmaWxsS2V5LCB0ZXh0U3RhdGUubWF4QW5nbGUsXG4gICAgICBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgIHZhciB3aWR0aCA9IHdpZHRoc1t0ZXh0XTtcbiAgICAgICAgaWYgKCF3aWR0aCkge1xuICAgICAgICAgIHdpZHRoID0gd2lkdGhzW3RleHRdID0gbWVhc3VyZVRleHRXaWR0aChmb250LCB0ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2lkdGggKiB0ZXh0U2NhbGUgKiBwaXhlbFJhdGlvO1xuICAgICAgfSxcbiAgICAgIG9mZnNldFksIHN0cm9rZUtleSwgc3Ryb2tlV2lkdGggKiBwaXhlbFJhdGlvLCB0ZXh0LCB0ZXh0S2V5LCAxXG4gICAgXSk7XG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19DSEFSUyxcbiAgICAgIGJlZ2luLCBlbmQsIGJhc2VsaW5lLCBkZWNsdXR0ZXJHcm91cCxcbiAgICAgIHRleHRTdGF0ZS5vdmVyZmxvdywgZmlsbEtleSwgdGV4dFN0YXRlLm1heEFuZ2xlLFxuICAgICAgZnVuY3Rpb24odGV4dCkge1xuICAgICAgICB2YXIgd2lkdGggPSB3aWR0aHNbdGV4dF07XG4gICAgICAgIGlmICghd2lkdGgpIHtcbiAgICAgICAgICB3aWR0aCA9IHdpZHRoc1t0ZXh0XSA9IG1lYXN1cmVUZXh0V2lkdGgoZm9udCwgdGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdpZHRoICogdGV4dFNjYWxlO1xuICAgICAgfSxcbiAgICAgIG9mZnNldFksIHN0cm9rZUtleSwgc3Ryb2tlV2lkdGgsIHRleHQsIHRleHRLZXksIDEgLyBwaXhlbFJhdGlvXG4gICAgXSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBDYW52YXNUZXh0UmVwbGF5LnByb3RvdHlwZS5zZXRUZXh0U3R5bGUgPSBmdW5jdGlvbiBzZXRUZXh0U3R5bGUgKHRleHRTdHlsZSwgZGVjbHV0dGVyR3JvdXApIHtcbiAgICB2YXIgdGV4dFN0YXRlLCBmaWxsU3RhdGUsIHN0cm9rZVN0YXRlO1xuICAgIGlmICghdGV4dFN0eWxlKSB7XG4gICAgICB0aGlzLnRleHRfID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGVjbHV0dGVyR3JvdXBfID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRGVjbHV0dGVyR3JvdXB9ICovIChkZWNsdXR0ZXJHcm91cCk7XG5cbiAgICAgIHZhciB0ZXh0RmlsbFN0eWxlID0gdGV4dFN0eWxlLmdldEZpbGwoKTtcbiAgICAgIGlmICghdGV4dEZpbGxTdHlsZSkge1xuICAgICAgICBmaWxsU3RhdGUgPSB0aGlzLnRleHRGaWxsU3RhdGVfID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbGxTdGF0ZSA9IHRoaXMudGV4dEZpbGxTdGF0ZV87XG4gICAgICAgIGlmICghZmlsbFN0YXRlKSB7XG4gICAgICAgICAgZmlsbFN0YXRlID0gdGhpcy50ZXh0RmlsbFN0YXRlXyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdGF0ZX0gKi8gKHt9KTtcbiAgICAgICAgfVxuICAgICAgICBmaWxsU3RhdGUuZmlsbFN0eWxlID0gYXNDb2xvckxpa2UoXG4gICAgICAgICAgdGV4dEZpbGxTdHlsZS5nZXRDb2xvcigpIHx8IGRlZmF1bHRGaWxsU3R5bGUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgdGV4dFN0cm9rZVN0eWxlID0gdGV4dFN0eWxlLmdldFN0cm9rZSgpO1xuICAgICAgaWYgKCF0ZXh0U3Ryb2tlU3R5bGUpIHtcbiAgICAgICAgc3Ryb2tlU3RhdGUgPSB0aGlzLnRleHRTdHJva2VTdGF0ZV8gPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3Ryb2tlU3RhdGUgPSB0aGlzLnRleHRTdHJva2VTdGF0ZV87XG4gICAgICAgIGlmICghc3Ryb2tlU3RhdGUpIHtcbiAgICAgICAgICBzdHJva2VTdGF0ZSA9IHRoaXMudGV4dFN0cm9rZVN0YXRlXyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlN0cm9rZVN0YXRlfSAqLyAoe30pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaW5lRGFzaCA9IHRleHRTdHJva2VTdHlsZS5nZXRMaW5lRGFzaCgpO1xuICAgICAgICB2YXIgbGluZURhc2hPZmZzZXQgPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0TGluZURhc2hPZmZzZXQoKTtcbiAgICAgICAgdmFyIGxpbmVXaWR0aCA9IHRleHRTdHJva2VTdHlsZS5nZXRXaWR0aCgpO1xuICAgICAgICB2YXIgbWl0ZXJMaW1pdCA9IHRleHRTdHJva2VTdHlsZS5nZXRNaXRlckxpbWl0KCk7XG4gICAgICAgIHN0cm9rZVN0YXRlLmxpbmVDYXAgPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0TGluZUNhcCgpIHx8IGRlZmF1bHRMaW5lQ2FwO1xuICAgICAgICBzdHJva2VTdGF0ZS5saW5lRGFzaCA9IGxpbmVEYXNoID8gbGluZURhc2guc2xpY2UoKSA6IGRlZmF1bHRMaW5lRGFzaDtcbiAgICAgICAgc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQgPVxuICAgICAgICAgICAgbGluZURhc2hPZmZzZXQgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRMaW5lRGFzaE9mZnNldCA6IGxpbmVEYXNoT2Zmc2V0O1xuICAgICAgICBzdHJva2VTdGF0ZS5saW5lSm9pbiA9IHRleHRTdHJva2VTdHlsZS5nZXRMaW5lSm9pbigpIHx8IGRlZmF1bHRMaW5lSm9pbjtcbiAgICAgICAgc3Ryb2tlU3RhdGUubGluZVdpZHRoID1cbiAgICAgICAgICAgIGxpbmVXaWR0aCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdExpbmVXaWR0aCA6IGxpbmVXaWR0aDtcbiAgICAgICAgc3Ryb2tlU3RhdGUubWl0ZXJMaW1pdCA9XG4gICAgICAgICAgICBtaXRlckxpbWl0ID09PSB1bmRlZmluZWQgPyBkZWZhdWx0TWl0ZXJMaW1pdCA6IG1pdGVyTGltaXQ7XG4gICAgICAgIHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlID0gYXNDb2xvckxpa2UoXG4gICAgICAgICAgdGV4dFN0cm9rZVN0eWxlLmdldENvbG9yKCkgfHwgZGVmYXVsdFN0cm9rZVN0eWxlKTtcbiAgICAgIH1cblxuICAgICAgdGV4dFN0YXRlID0gdGhpcy50ZXh0U3RhdGVfO1xuICAgICAgdmFyIGZvbnQgPSB0ZXh0U3R5bGUuZ2V0Rm9udCgpIHx8IGRlZmF1bHRGb250O1xuICAgICAgY2hlY2tGb250KGZvbnQpO1xuICAgICAgdmFyIHRleHRTY2FsZSA9IHRleHRTdHlsZS5nZXRTY2FsZSgpO1xuICAgICAgdGV4dFN0YXRlLm92ZXJmbG93ID0gdGV4dFN0eWxlLmdldE92ZXJmbG93KCk7XG4gICAgICB0ZXh0U3RhdGUuZm9udCA9IGZvbnQ7XG4gICAgICB0ZXh0U3RhdGUubWF4QW5nbGUgPSB0ZXh0U3R5bGUuZ2V0TWF4QW5nbGUoKTtcbiAgICAgIHRleHRTdGF0ZS5wbGFjZW1lbnQgPSB0ZXh0U3R5bGUuZ2V0UGxhY2VtZW50KCk7XG4gICAgICB0ZXh0U3RhdGUudGV4dEFsaWduID0gdGV4dFN0eWxlLmdldFRleHRBbGlnbigpO1xuICAgICAgdGV4dFN0YXRlLnRleHRCYXNlbGluZSA9IHRleHRTdHlsZS5nZXRUZXh0QmFzZWxpbmUoKSB8fCBkZWZhdWx0VGV4dEJhc2VsaW5lO1xuICAgICAgdGV4dFN0YXRlLmJhY2tncm91bmRGaWxsID0gdGV4dFN0eWxlLmdldEJhY2tncm91bmRGaWxsKCk7XG4gICAgICB0ZXh0U3RhdGUuYmFja2dyb3VuZFN0cm9rZSA9IHRleHRTdHlsZS5nZXRCYWNrZ3JvdW5kU3Ryb2tlKCk7XG4gICAgICB0ZXh0U3RhdGUucGFkZGluZyA9IHRleHRTdHlsZS5nZXRQYWRkaW5nKCkgfHwgZGVmYXVsdFBhZGRpbmc7XG4gICAgICB0ZXh0U3RhdGUuc2NhbGUgPSB0ZXh0U2NhbGUgPT09IHVuZGVmaW5lZCA/IDEgOiB0ZXh0U2NhbGU7XG5cbiAgICAgIHZhciB0ZXh0T2Zmc2V0WCA9IHRleHRTdHlsZS5nZXRPZmZzZXRYKCk7XG4gICAgICB2YXIgdGV4dE9mZnNldFkgPSB0ZXh0U3R5bGUuZ2V0T2Zmc2V0WSgpO1xuICAgICAgdmFyIHRleHRSb3RhdGVXaXRoVmlldyA9IHRleHRTdHlsZS5nZXRSb3RhdGVXaXRoVmlldygpO1xuICAgICAgdmFyIHRleHRSb3RhdGlvbiA9IHRleHRTdHlsZS5nZXRSb3RhdGlvbigpO1xuICAgICAgdGhpcy50ZXh0XyA9IHRleHRTdHlsZS5nZXRUZXh0KCkgfHwgJyc7XG4gICAgICB0aGlzLnRleHRPZmZzZXRYXyA9IHRleHRPZmZzZXRYID09PSB1bmRlZmluZWQgPyAwIDogdGV4dE9mZnNldFg7XG4gICAgICB0aGlzLnRleHRPZmZzZXRZXyA9IHRleHRPZmZzZXRZID09PSB1bmRlZmluZWQgPyAwIDogdGV4dE9mZnNldFk7XG4gICAgICB0aGlzLnRleHRSb3RhdGVXaXRoVmlld18gPSB0ZXh0Um90YXRlV2l0aFZpZXcgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogdGV4dFJvdGF0ZVdpdGhWaWV3O1xuICAgICAgdGhpcy50ZXh0Um90YXRpb25fID0gdGV4dFJvdGF0aW9uID09PSB1bmRlZmluZWQgPyAwIDogdGV4dFJvdGF0aW9uO1xuXG4gICAgICB0aGlzLnN0cm9rZUtleV8gPSBzdHJva2VTdGF0ZSA/XG4gICAgICAgICh0eXBlb2Ygc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGUgPT0gJ3N0cmluZycgPyBzdHJva2VTdGF0ZS5zdHJva2VTdHlsZSA6IGdldFVpZChzdHJva2VTdGF0ZS5zdHJva2VTdHlsZSkpICtcbiAgICAgICAgc3Ryb2tlU3RhdGUubGluZUNhcCArIHN0cm9rZVN0YXRlLmxpbmVEYXNoT2Zmc2V0ICsgJ3wnICsgc3Ryb2tlU3RhdGUubGluZVdpZHRoICtcbiAgICAgICAgc3Ryb2tlU3RhdGUubGluZUpvaW4gKyBzdHJva2VTdGF0ZS5taXRlckxpbWl0ICsgJ1snICsgc3Ryb2tlU3RhdGUubGluZURhc2guam9pbigpICsgJ10nIDpcbiAgICAgICAgJyc7XG4gICAgICB0aGlzLnRleHRLZXlfID0gdGV4dFN0YXRlLmZvbnQgKyB0ZXh0U3RhdGUuc2NhbGUgKyAodGV4dFN0YXRlLnRleHRBbGlnbiB8fCAnPycpO1xuICAgICAgdGhpcy5maWxsS2V5XyA9IGZpbGxTdGF0ZSA/XG4gICAgICAgICh0eXBlb2YgZmlsbFN0YXRlLmZpbGxTdHlsZSA9PSAnc3RyaW5nJyA/IGZpbGxTdGF0ZS5maWxsU3R5bGUgOiAoJ3wnICsgZ2V0VWlkKGZpbGxTdGF0ZS5maWxsU3R5bGUpKSkgOlxuICAgICAgICAnJztcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIENhbnZhc1RleHRSZXBsYXk7XG59KENhbnZhc1JlcGxheSkpO1xuXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGZvbnQgRm9udCB0byB1c2UgZm9yIG1lYXN1cmluZy5cbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gbGluZXMgTGluZXMgdG8gbWVhc3VyZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gd2lkdGhzIEFycmF5IHdpbGwgYmUgcG9wdWxhdGVkIHdpdGggdGhlIHdpZHRocyBvZlxuICogZWFjaCBsaW5lLlxuICogQHJldHVybiB7bnVtYmVyfSBXaWR0aCBvZiB0aGUgd2hvbGUgdGV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lYXN1cmVUZXh0V2lkdGhzKGZvbnQsIGxpbmVzLCB3aWR0aHMpIHtcbiAgdmFyIG51bUxpbmVzID0gbGluZXMubGVuZ3RoO1xuICB2YXIgd2lkdGggPSAwO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUxpbmVzOyArK2kpIHtcbiAgICB2YXIgY3VycmVudFdpZHRoID0gbWVhc3VyZVRleHRXaWR0aChmb250LCBsaW5lc1tpXSk7XG4gICAgd2lkdGggPSBNYXRoLm1heCh3aWR0aCwgY3VycmVudFdpZHRoKTtcbiAgICB3aWR0aHMucHVzaChjdXJyZW50V2lkdGgpO1xuICB9XG4gIHJldHVybiB3aWR0aDtcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBDYW52YXNUZXh0UmVwbGF5O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0UmVwbGF5LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL1JlcGxheUdyb3VwXG4gKi9cblxuaW1wb3J0IHtudW1iZXJTYWZlQ29tcGFyZUZ1bmN0aW9ufSBmcm9tICcuLi8uLi9hcnJheS5qcyc7XG5pbXBvcnQge2NyZWF0ZUNhbnZhc0NvbnRleHQyRH0gZnJvbSAnLi4vLi4vZG9tLmpzJztcbmltcG9ydCB7YnVmZmVyLCBjcmVhdGVFbXB0eSwgZXh0ZW5kQ29vcmRpbmF0ZX0gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7dHJhbnNmb3JtMkR9IGZyb20gJy4uLy4uL2dlb20vZmxhdC90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHtpc0VtcHR5fSBmcm9tICcuLi8uLi9vYmouanMnO1xuaW1wb3J0IFJlcGxheUdyb3VwIGZyb20gJy4uL1JlcGxheUdyb3VwLmpzJztcbmltcG9ydCBSZXBsYXlUeXBlIGZyb20gJy4uL1JlcGxheVR5cGUuanMnO1xuaW1wb3J0IENhbnZhc1JlcGxheSBmcm9tICcuL1JlcGxheS5qcyc7XG5pbXBvcnQgQ2FudmFzSW1hZ2VSZXBsYXkgZnJvbSAnLi9JbWFnZVJlcGxheS5qcyc7XG5pbXBvcnQgQ2FudmFzTGluZVN0cmluZ1JlcGxheSBmcm9tICcuL0xpbmVTdHJpbmdSZXBsYXkuanMnO1xuaW1wb3J0IENhbnZhc1BvbHlnb25SZXBsYXkgZnJvbSAnLi9Qb2x5Z29uUmVwbGF5LmpzJztcbmltcG9ydCBDYW52YXNUZXh0UmVwbGF5IGZyb20gJy4vVGV4dFJlcGxheS5qcyc7XG5pbXBvcnQge09SREVSfSBmcm9tICcuLi9yZXBsYXkuanMnO1xuaW1wb3J0IHtjcmVhdGUgYXMgY3JlYXRlVHJhbnNmb3JtLCBjb21wb3NlIGFzIGNvbXBvc2VUcmFuc2Zvcm19IGZyb20gJy4uLy4uL3RyYW5zZm9ybS5qcyc7XG5cblxuLyoqXG4gKiBAdHlwZSB7T2JqZWN0PFJlcGxheVR5cGUsIHR5cGVvZiBDYW52YXNSZXBsYXk+fVxuICovXG52YXIgQkFUQ0hfQ09OU1RSVUNUT1JTID0ge1xuICAnQ2lyY2xlJzogQ2FudmFzUG9seWdvblJlcGxheSxcbiAgJ0RlZmF1bHQnOiBDYW52YXNSZXBsYXksXG4gICdJbWFnZSc6IENhbnZhc0ltYWdlUmVwbGF5LFxuICAnTGluZVN0cmluZyc6IENhbnZhc0xpbmVTdHJpbmdSZXBsYXksXG4gICdQb2x5Z29uJzogQ2FudmFzUG9seWdvblJlcGxheSxcbiAgJ1RleHQnOiBDYW52YXNUZXh0UmVwbGF5XG59O1xuXG5cbnZhciBDYW52YXNSZXBsYXlHcm91cCA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFJlcGxheUdyb3VwKSB7XG4gIGZ1bmN0aW9uIENhbnZhc1JlcGxheUdyb3VwKFxuICAgIHRvbGVyYW5jZSxcbiAgICBtYXhFeHRlbnQsXG4gICAgcmVzb2x1dGlvbixcbiAgICBwaXhlbFJhdGlvLFxuICAgIG92ZXJsYXBzLFxuICAgIGRlY2x1dHRlclRyZWUsXG4gICAgb3B0X3JlbmRlckJ1ZmZlclxuICApIHtcbiAgICBSZXBsYXlHcm91cC5jYWxsKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogRGVjbHV0dGVyIHRyZWUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmRlY2x1dHRlclRyZWVfID0gZGVjbHV0dGVyVHJlZTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRGVjbHV0dGVyR3JvdXB9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmRlY2x1dHRlckdyb3VwXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50b2xlcmFuY2VfID0gdG9sZXJhbmNlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgKi9cbiAgICB0aGlzLm1heEV4dGVudF8gPSBtYXhFeHRlbnQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMub3ZlcmxhcHNfID0gb3ZlcmxhcHM7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5waXhlbFJhdGlvXyA9IHBpeGVsUmF0aW87XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZXNvbHV0aW9uXyA9IHJlc29sdXRpb247XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyQnVmZmVyXyA9IG9wdF9yZW5kZXJCdWZmZXI7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgIU9iamVjdDxSZXBsYXlUeXBlLCBDYW52YXNSZXBsYXk+Pn1cbiAgICAgKi9cbiAgICB0aGlzLnJlcGxheXNCeVpJbmRleF8gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAgICAgKi9cbiAgICB0aGlzLmhpdERldGVjdGlvbkNvbnRleHRfID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKDEsIDEpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgKi9cbiAgICB0aGlzLmhpdERldGVjdGlvblRyYW5zZm9ybV8gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcbiAgfVxuXG4gIGlmICggUmVwbGF5R3JvdXAgKSBDYW52YXNSZXBsYXlHcm91cC5fX3Byb3RvX18gPSBSZXBsYXlHcm91cDtcbiAgQ2FudmFzUmVwbGF5R3JvdXAucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggUmVwbGF5R3JvdXAgJiYgUmVwbGF5R3JvdXAucHJvdG90eXBlICk7XG4gIENhbnZhc1JlcGxheUdyb3VwLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENhbnZhc1JlcGxheUdyb3VwO1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgQ2FudmFzUmVwbGF5R3JvdXAucHJvdG90eXBlLmFkZERlY2x1dHRlciA9IGZ1bmN0aW9uIGFkZERlY2x1dHRlciAoZ3JvdXApIHtcbiAgICB2YXIgZGVjbHV0dGVyID0gbnVsbDtcbiAgICBpZiAodGhpcy5kZWNsdXR0ZXJUcmVlXykge1xuICAgICAgaWYgKGdyb3VwKSB7XG4gICAgICAgIGRlY2x1dHRlciA9IHRoaXMuZGVjbHV0dGVyR3JvdXBfO1xuICAgICAgICAvKiogQHR5cGUge251bWJlcn0gKi8gKGRlY2x1dHRlcls0XSkrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlY2x1dHRlciA9IHRoaXMuZGVjbHV0dGVyR3JvdXBfID0gY3JlYXRlRW1wdHkoKTtcbiAgICAgICAgZGVjbHV0dGVyLnB1c2goMSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkZWNsdXR0ZXI7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAgICovXG4gIENhbnZhc1JlcGxheUdyb3VwLnByb3RvdHlwZS5jbGlwID0gZnVuY3Rpb24gY2xpcCAoY29udGV4dCwgdHJhbnNmb3JtKSB7XG4gICAgdmFyIGZsYXRDbGlwQ29vcmRzID0gdGhpcy5nZXRDbGlwQ29vcmRzKHRyYW5zZm9ybSk7XG4gICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICBjb250ZXh0Lm1vdmVUbyhmbGF0Q2xpcENvb3Jkc1swXSwgZmxhdENsaXBDb29yZHNbMV0pO1xuICAgIGNvbnRleHQubGluZVRvKGZsYXRDbGlwQ29vcmRzWzJdLCBmbGF0Q2xpcENvb3Jkc1szXSk7XG4gICAgY29udGV4dC5saW5lVG8oZmxhdENsaXBDb29yZHNbNF0sIGZsYXRDbGlwQ29vcmRzWzVdKTtcbiAgICBjb250ZXh0LmxpbmVUbyhmbGF0Q2xpcENvb3Jkc1s2XSwgZmxhdENsaXBDb29yZHNbN10pO1xuICAgIGNvbnRleHQuY2xpcCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PFJlcGxheVR5cGU+fSByZXBsYXlzIFJlcGxheXMuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IEhhcyByZXBsYXlzIG9mIHRoZSBwcm92aWRlZCB0eXBlcy5cbiAgICovXG4gIENhbnZhc1JlcGxheUdyb3VwLnByb3RvdHlwZS5oYXNSZXBsYXlzID0gZnVuY3Rpb24gaGFzUmVwbGF5cyAocmVwbGF5cykge1xuICAgIGZvciAodmFyIHpJbmRleCBpbiB0aGlzLnJlcGxheXNCeVpJbmRleF8pIHtcbiAgICAgIHZhciBjYW5kaWRhdGVzID0gdGhpcy5yZXBsYXlzQnlaSW5kZXhfW3pJbmRleF07XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSByZXBsYXlzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgaWYgKHJlcGxheXNbaV0gaW4gY2FuZGlkYXRlcykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogRklYTUUgZW1wdHkgZGVzY3JpcHRpb24gZm9yIGpzZG9jXG4gICAqL1xuICBDYW52YXNSZXBsYXlHcm91cC5wcm90b3R5cGUuZmluaXNoID0gZnVuY3Rpb24gZmluaXNoICgpIHtcbiAgICBmb3IgKHZhciB6S2V5IGluIHRoaXMucmVwbGF5c0J5WkluZGV4Xykge1xuICAgICAgdmFyIHJlcGxheXMgPSB0aGlzLnJlcGxheXNCeVpJbmRleF9bektleV07XG4gICAgICBmb3IgKHZhciByZXBsYXlLZXkgaW4gcmVwbGF5cykge1xuICAgICAgICByZXBsYXlzW3JlcGxheUtleV0uZmluaXNoKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gUm90YXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoaXRUb2xlcmFuY2UgSGl0IHRvbGVyYW5jZSBpbiBwaXhlbHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgYm9vbGVhbj59IHNraXBwZWRGZWF0dXJlc0hhc2ggSWRzIG9mIGZlYXR1cmVzIHRvIHNraXAuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKGltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQpKTogVH0gY2FsbGJhY2sgRmVhdHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRGVjbHV0dGVyR3JvdXA+fSBkZWNsdXR0ZXJSZXBsYXlzIERlY2x1dHRlciByZXBsYXlzLlxuICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgKiBAdGVtcGxhdGUgVFxuICAgKi9cbiAgQ2FudmFzUmVwbGF5R3JvdXAucHJvdG90eXBlLmZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlID0gZnVuY3Rpb24gZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUgKFxuICAgIGNvb3JkaW5hdGUsXG4gICAgcmVzb2x1dGlvbixcbiAgICByb3RhdGlvbixcbiAgICBoaXRUb2xlcmFuY2UsXG4gICAgc2tpcHBlZEZlYXR1cmVzSGFzaCxcbiAgICBjYWxsYmFjayxcbiAgICBkZWNsdXR0ZXJSZXBsYXlzXG4gICkge1xuXG4gICAgaGl0VG9sZXJhbmNlID0gTWF0aC5yb3VuZChoaXRUb2xlcmFuY2UpO1xuICAgIHZhciBjb250ZXh0U2l6ZSA9IGhpdFRvbGVyYW5jZSAqIDIgKyAxO1xuICAgIHZhciB0cmFuc2Zvcm0gPSBjb21wb3NlVHJhbnNmb3JtKHRoaXMuaGl0RGV0ZWN0aW9uVHJhbnNmb3JtXyxcbiAgICAgIGhpdFRvbGVyYW5jZSArIDAuNSwgaGl0VG9sZXJhbmNlICsgMC41LFxuICAgICAgMSAvIHJlc29sdXRpb24sIC0xIC8gcmVzb2x1dGlvbixcbiAgICAgIC1yb3RhdGlvbixcbiAgICAgIC1jb29yZGluYXRlWzBdLCAtY29vcmRpbmF0ZVsxXSk7XG4gICAgdmFyIGNvbnRleHQgPSB0aGlzLmhpdERldGVjdGlvbkNvbnRleHRfO1xuXG4gICAgaWYgKGNvbnRleHQuY2FudmFzLndpZHRoICE9PSBjb250ZXh0U2l6ZSB8fCBjb250ZXh0LmNhbnZhcy5oZWlnaHQgIT09IGNvbnRleHRTaXplKSB7XG4gICAgICBjb250ZXh0LmNhbnZhcy53aWR0aCA9IGNvbnRleHRTaXplO1xuICAgICAgY29udGV4dC5jYW52YXMuaGVpZ2h0ID0gY29udGV4dFNpemU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNvbnRleHRTaXplLCBjb250ZXh0U2l6ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICovXG4gICAgdmFyIGhpdEV4dGVudDtcbiAgICBpZiAodGhpcy5yZW5kZXJCdWZmZXJfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGhpdEV4dGVudCA9IGNyZWF0ZUVtcHR5KCk7XG4gICAgICBleHRlbmRDb29yZGluYXRlKGhpdEV4dGVudCwgY29vcmRpbmF0ZSk7XG4gICAgICBidWZmZXIoaGl0RXh0ZW50LCByZXNvbHV0aW9uICogKHRoaXMucmVuZGVyQnVmZmVyXyArIGhpdFRvbGVyYW5jZSksIGhpdEV4dGVudCk7XG4gICAgfVxuXG4gICAgdmFyIG1hc2sgPSBnZXRDaXJjbGVBcnJheShoaXRUb2xlcmFuY2UpO1xuICAgIHZhciBkZWNsdXR0ZXJlZEZlYXR1cmVzO1xuICAgIGlmICh0aGlzLmRlY2x1dHRlclRyZWVfKSB7XG4gICAgICBkZWNsdXR0ZXJlZEZlYXR1cmVzID0gdGhpcy5kZWNsdXR0ZXJUcmVlXy5hbGwoKS5tYXAoZnVuY3Rpb24oZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIGVudHJ5LnZhbHVlO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIHJlcGxheVR5cGU7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKiBAcmV0dXJuIHs/fSBDYWxsYmFjayByZXN1bHQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmVhdHVyZUNhbGxiYWNrKGZlYXR1cmUpIHtcbiAgICAgIHZhciBpbWFnZURhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCBjb250ZXh0U2l6ZSwgY29udGV4dFNpemUpLmRhdGE7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRleHRTaXplOyBpKyspIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb250ZXh0U2l6ZTsgaisrKSB7XG4gICAgICAgICAgaWYgKG1hc2tbaV1bal0pIHtcbiAgICAgICAgICAgIGlmIChpbWFnZURhdGFbKGogKiBjb250ZXh0U2l6ZSArIGkpICogNCArIDNdID4gMCkge1xuICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gKHZvaWQgMCk7XG4gICAgICAgICAgICAgIGlmICghKGRlY2x1dHRlcmVkRmVhdHVyZXMgJiYgKHJlcGxheVR5cGUgPT0gUmVwbGF5VHlwZS5JTUFHRSB8fCByZXBsYXlUeXBlID09IFJlcGxheVR5cGUuVEVYVCkpIHx8XG4gICAgICAgICAgICAgICAgICBkZWNsdXR0ZXJlZEZlYXR1cmVzLmluZGV4T2YoZmVhdHVyZSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gY2FsbGJhY2soZmVhdHVyZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgY29udGV4dFNpemUsIGNvbnRleHRTaXplKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqL1xuICAgIHZhciB6cyA9IE9iamVjdC5rZXlzKHRoaXMucmVwbGF5c0J5WkluZGV4XykubWFwKE51bWJlcik7XG4gICAgenMuc29ydChudW1iZXJTYWZlQ29tcGFyZUZ1bmN0aW9uKTtcblxuICAgIHZhciBpLCBqLCByZXBsYXlzLCByZXBsYXksIHJlc3VsdDtcbiAgICBmb3IgKGkgPSB6cy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgdmFyIHpJbmRleEtleSA9IHpzW2ldLnRvU3RyaW5nKCk7XG4gICAgICByZXBsYXlzID0gdGhpcy5yZXBsYXlzQnlaSW5kZXhfW3pJbmRleEtleV07XG4gICAgICBmb3IgKGogPSBPUkRFUi5sZW5ndGggLSAxOyBqID49IDA7IC0taikge1xuICAgICAgICByZXBsYXlUeXBlID0gT1JERVJbal07XG4gICAgICAgIHJlcGxheSA9IHJlcGxheXNbcmVwbGF5VHlwZV07XG4gICAgICAgIGlmIChyZXBsYXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChkZWNsdXR0ZXJSZXBsYXlzICYmXG4gICAgICAgICAgICAgIChyZXBsYXlUeXBlID09IFJlcGxheVR5cGUuSU1BR0UgfHwgcmVwbGF5VHlwZSA9PSBSZXBsYXlUeXBlLlRFWFQpKSB7XG4gICAgICAgICAgICB2YXIgZGVjbHV0dGVyID0gZGVjbHV0dGVyUmVwbGF5c1t6SW5kZXhLZXldO1xuICAgICAgICAgICAgaWYgKCFkZWNsdXR0ZXIpIHtcbiAgICAgICAgICAgICAgZGVjbHV0dGVyUmVwbGF5c1t6SW5kZXhLZXldID0gW3JlcGxheSwgdHJhbnNmb3JtLnNsaWNlKDApXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGRlY2x1dHRlci5wdXNoKHJlcGxheSwgdHJhbnNmb3JtLnNsaWNlKDApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gcmVwbGF5LnJlcGxheUhpdERldGVjdGlvbihjb250ZXh0LCB0cmFuc2Zvcm0sIHJvdGF0aW9uLFxuICAgICAgICAgICAgICBza2lwcGVkRmVhdHVyZXNIYXNoLCBmZWF0dXJlQ2FsbGJhY2ssIGhpdEV4dGVudCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gQ2xpcCBjb29yZGluYXRlcy5cbiAgICovXG4gIENhbnZhc1JlcGxheUdyb3VwLnByb3RvdHlwZS5nZXRDbGlwQ29vcmRzID0gZnVuY3Rpb24gZ2V0Q2xpcENvb3JkcyAodHJhbnNmb3JtKSB7XG4gICAgdmFyIG1heEV4dGVudCA9IHRoaXMubWF4RXh0ZW50XztcbiAgICB2YXIgbWluWCA9IG1heEV4dGVudFswXTtcbiAgICB2YXIgbWluWSA9IG1heEV4dGVudFsxXTtcbiAgICB2YXIgbWF4WCA9IG1heEV4dGVudFsyXTtcbiAgICB2YXIgbWF4WSA9IG1heEV4dGVudFszXTtcbiAgICB2YXIgZmxhdENsaXBDb29yZHMgPSBbbWluWCwgbWluWSwgbWluWCwgbWF4WSwgbWF4WCwgbWF4WSwgbWF4WCwgbWluWV07XG4gICAgdHJhbnNmb3JtMkQoXG4gICAgICBmbGF0Q2xpcENvb3JkcywgMCwgOCwgMiwgdHJhbnNmb3JtLCBmbGF0Q2xpcENvb3Jkcyk7XG4gICAgcmV0dXJuIGZsYXRDbGlwQ29vcmRzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgQ2FudmFzUmVwbGF5R3JvdXAucHJvdG90eXBlLmdldFJlcGxheSA9IGZ1bmN0aW9uIGdldFJlcGxheSAoekluZGV4LCByZXBsYXlUeXBlKSB7XG4gICAgdmFyIHpJbmRleEtleSA9IHpJbmRleCAhPT0gdW5kZWZpbmVkID8gekluZGV4LnRvU3RyaW5nKCkgOiAnMCc7XG4gICAgdmFyIHJlcGxheXMgPSB0aGlzLnJlcGxheXNCeVpJbmRleF9bekluZGV4S2V5XTtcbiAgICBpZiAocmVwbGF5cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXBsYXlzID0ge307XG4gICAgICB0aGlzLnJlcGxheXNCeVpJbmRleF9bekluZGV4S2V5XSA9IHJlcGxheXM7XG4gICAgfVxuICAgIHZhciByZXBsYXkgPSByZXBsYXlzW3JlcGxheVR5cGVdO1xuICAgIGlmIChyZXBsYXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIENvbnN0cnVjdG9yID0gQkFUQ0hfQ09OU1RSVUNUT1JTW3JlcGxheVR5cGVdO1xuICAgICAgcmVwbGF5ID0gbmV3IENvbnN0cnVjdG9yKHRoaXMudG9sZXJhbmNlXywgdGhpcy5tYXhFeHRlbnRfLFxuICAgICAgICB0aGlzLnJlc29sdXRpb25fLCB0aGlzLnBpeGVsUmF0aW9fLCB0aGlzLm92ZXJsYXBzXywgdGhpcy5kZWNsdXR0ZXJUcmVlXyk7XG4gICAgICByZXBsYXlzW3JlcGxheVR5cGVdID0gcmVwbGF5O1xuICAgIH1cbiAgICByZXR1cm4gcmVwbGF5O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtPYmplY3Q8c3RyaW5nLCBPYmplY3Q8UmVwbGF5VHlwZSwgQ2FudmFzUmVwbGF5Pj59IFJlcGxheXMuXG4gICAqL1xuICBDYW52YXNSZXBsYXlHcm91cC5wcm90b3R5cGUuZ2V0UmVwbGF5cyA9IGZ1bmN0aW9uIGdldFJlcGxheXMgKCkge1xuICAgIHJldHVybiB0aGlzLnJlcGxheXNCeVpJbmRleF87XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBDYW52YXNSZXBsYXlHcm91cC5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uIGlzRW1wdHkkMSAoKSB7XG4gICAgcmV0dXJuIGlzRW1wdHkodGhpcy5yZXBsYXlzQnlaSW5kZXhfKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICAgKiBAcGFyYW0ge251bWJlcn0gdmlld1JvdGF0aW9uIFZpZXcgcm90YXRpb24uXG4gICAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgYm9vbGVhbj59IHNraXBwZWRGZWF0dXJlc0hhc2ggSWRzIG9mIGZlYXR1cmVzIHRvIHNraXAuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc25hcFRvUGl4ZWwgU25hcCBwb2ludCBzeW1ib2xzIGFuZCB0ZXN0IHRvIGludGVnZXIgcGl4ZWwuXG4gICAqIEBwYXJhbSB7QXJyYXk8UmVwbGF5VHlwZT49fSBvcHRfcmVwbGF5VHlwZXMgT3JkZXJlZCByZXBsYXkgdHlwZXMgdG8gcmVwbGF5LlxuICAgKiAgICAgRGVmYXVsdCBpcyB7QGxpbmsgbW9kdWxlOm9sL3JlbmRlci9yZXBsYXl+T1JERVJ9XG4gICAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkRlY2x1dHRlckdyb3VwPj19IG9wdF9kZWNsdXR0ZXJSZXBsYXlzIERlY2x1dHRlciByZXBsYXlzLlxuICAgKi9cbiAgQ2FudmFzUmVwbGF5R3JvdXAucHJvdG90eXBlLnJlcGxheSA9IGZ1bmN0aW9uIHJlcGxheSAoXG4gICAgY29udGV4dCxcbiAgICB0cmFuc2Zvcm0sXG4gICAgdmlld1JvdGF0aW9uLFxuICAgIHNraXBwZWRGZWF0dXJlc0hhc2gsXG4gICAgc25hcFRvUGl4ZWwsXG4gICAgb3B0X3JlcGxheVR5cGVzLFxuICAgIG9wdF9kZWNsdXR0ZXJSZXBsYXlzXG4gICkge1xuXG4gICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqL1xuICAgIHZhciB6cyA9IE9iamVjdC5rZXlzKHRoaXMucmVwbGF5c0J5WkluZGV4XykubWFwKE51bWJlcik7XG4gICAgenMuc29ydChudW1iZXJTYWZlQ29tcGFyZUZ1bmN0aW9uKTtcblxuICAgIC8vIHNldHVwIGNsaXBwaW5nIHNvIHRoYXQgdGhlIHBhcnRzIG9mIG92ZXItc2ltcGxpZmllZCBnZW9tZXRyaWVzIGFyZSBub3RcbiAgICAvLyB2aXNpYmxlIG91dHNpZGUgdGhlIGN1cnJlbnQgZXh0ZW50IHdoZW4gcGFubmluZ1xuICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgIHRoaXMuY2xpcChjb250ZXh0LCB0cmFuc2Zvcm0pO1xuXG4gICAgdmFyIHJlcGxheVR5cGVzID0gb3B0X3JlcGxheVR5cGVzID8gb3B0X3JlcGxheVR5cGVzIDogT1JERVI7XG4gICAgdmFyIGksIGlpLCBqLCBqaiwgcmVwbGF5cywgcmVwbGF5O1xuICAgIGZvciAoaSA9IDAsIGlpID0genMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgdmFyIHpJbmRleEtleSA9IHpzW2ldLnRvU3RyaW5nKCk7XG4gICAgICByZXBsYXlzID0gdGhpcy5yZXBsYXlzQnlaSW5kZXhfW3pJbmRleEtleV07XG4gICAgICBmb3IgKGogPSAwLCBqaiA9IHJlcGxheVR5cGVzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgdmFyIHJlcGxheVR5cGUgPSByZXBsYXlUeXBlc1tqXTtcbiAgICAgICAgcmVwbGF5ID0gcmVwbGF5c1tyZXBsYXlUeXBlXTtcbiAgICAgICAgaWYgKHJlcGxheSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKG9wdF9kZWNsdXR0ZXJSZXBsYXlzICYmXG4gICAgICAgICAgICAgIChyZXBsYXlUeXBlID09IFJlcGxheVR5cGUuSU1BR0UgfHwgcmVwbGF5VHlwZSA9PSBSZXBsYXlUeXBlLlRFWFQpKSB7XG4gICAgICAgICAgICB2YXIgZGVjbHV0dGVyID0gb3B0X2RlY2x1dHRlclJlcGxheXNbekluZGV4S2V5XTtcbiAgICAgICAgICAgIGlmICghZGVjbHV0dGVyKSB7XG4gICAgICAgICAgICAgIG9wdF9kZWNsdXR0ZXJSZXBsYXlzW3pJbmRleEtleV0gPSBbcmVwbGF5LCB0cmFuc2Zvcm0uc2xpY2UoMCldO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZGVjbHV0dGVyLnB1c2gocmVwbGF5LCB0cmFuc2Zvcm0uc2xpY2UoMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXBsYXkucmVwbGF5KGNvbnRleHQsIHRyYW5zZm9ybSwgdmlld1JvdGF0aW9uLCBza2lwcGVkRmVhdHVyZXNIYXNoLCBzbmFwVG9QaXhlbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29udGV4dC5yZXN0b3JlKCk7XG4gIH07XG5cbiAgcmV0dXJuIENhbnZhc1JlcGxheUdyb3VwO1xufShSZXBsYXlHcm91cCkpO1xuXG5cbi8qKlxuICogVGhpcyBjYWNoZSBpcyB1c2VkIGZvciBzdG9yaW5nIGNhbGN1bGF0ZWQgcGl4ZWwgY2lyY2xlcyBmb3IgaW5jcmVhc2luZyBwZXJmb3JtYW5jZS5cbiAqIEl0IGlzIGEgc3RhdGljIHByb3BlcnR5IHRvIGFsbG93IGVhY2ggUmVwbGF5Z3JvdXAgdG8gYWNjZXNzIGl0LlxuICogQHR5cGUge09iamVjdDxudW1iZXIsIEFycmF5PEFycmF5PChib29sZWFufHVuZGVmaW5lZCk+Pj59XG4gKi9cbnZhciBjaXJjbGVBcnJheUNhY2hlID0ge1xuICAwOiBbW3RydWVdXVxufTtcblxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGZpbGxzIGEgcm93IGluIHRoZSBhcnJheSBmcm9tIHRoZSBnaXZlbiBjb29yZGluYXRlIHRvIHRoZVxuICogbWlkZGxlIHdpdGggYHRydWVgLlxuICogQHBhcmFtIHtBcnJheTxBcnJheTwoYm9vbGVhbnx1bmRlZmluZWQpPj59IGFycmF5IFRoZSBhcnJheSB0aGF0IHdpbGwgYmUgYWx0ZXJlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFggY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkgY29vcmRpbmF0ZS5cbiAqL1xuZnVuY3Rpb24gZmlsbENpcmNsZUFycmF5Um93VG9NaWRkbGUoYXJyYXksIHgsIHkpIHtcbiAgdmFyIGk7XG4gIHZhciByYWRpdXMgPSBNYXRoLmZsb29yKGFycmF5Lmxlbmd0aCAvIDIpO1xuICBpZiAoeCA+PSByYWRpdXMpIHtcbiAgICBmb3IgKGkgPSByYWRpdXM7IGkgPCB4OyBpKyspIHtcbiAgICAgIGFycmF5W2ldW3ldID0gdHJ1ZTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoeCA8IHJhZGl1cykge1xuICAgIGZvciAoaSA9IHggKyAxOyBpIDwgcmFkaXVzOyBpKyspIHtcbiAgICAgIGFycmF5W2ldW3ldID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuXG4vKipcbiAqIFRoaXMgbWV0aG9kcyBjcmVhdGVzIGEgY2lyY2xlIGluc2lkZSBhIGZpdHRpbmcgYXJyYXkuIFBvaW50cyBpbnNpZGUgdGhlXG4gKiBjaXJjbGUgYXJlIG1hcmtlZCBieSB0cnVlLCBwb2ludHMgb24gdGhlIG91dHNpZGUgYXJlIHVuZGVmaW5lZC5cbiAqIEl0IHVzZXMgdGhlIG1pZHBvaW50IGNpcmNsZSBhbGdvcml0aG0uXG4gKiBBIGNhY2hlIGlzIHVzZWQgdG8gaW5jcmVhc2UgcGVyZm9ybWFuY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIFJhZGl1cy5cbiAqIEByZXR1cm5zIHtBcnJheTxBcnJheTwoYm9vbGVhbnx1bmRlZmluZWQpPj59IEFuIGFycmF5IHdpdGggbWFya2VkIGNpcmNsZSBwb2ludHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDaXJjbGVBcnJheShyYWRpdXMpIHtcbiAgaWYgKGNpcmNsZUFycmF5Q2FjaGVbcmFkaXVzXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGNpcmNsZUFycmF5Q2FjaGVbcmFkaXVzXTtcbiAgfVxuXG4gIHZhciBhcnJheVNpemUgPSByYWRpdXMgKiAyICsgMTtcbiAgdmFyIGFyciA9IG5ldyBBcnJheShhcnJheVNpemUpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5U2l6ZTsgaSsrKSB7XG4gICAgYXJyW2ldID0gbmV3IEFycmF5KGFycmF5U2l6ZSk7XG4gIH1cblxuICB2YXIgeCA9IHJhZGl1cztcbiAgdmFyIHkgPSAwO1xuICB2YXIgZXJyb3IgPSAwO1xuXG4gIHdoaWxlICh4ID49IHkpIHtcbiAgICBmaWxsQ2lyY2xlQXJyYXlSb3dUb01pZGRsZShhcnIsIHJhZGl1cyArIHgsIHJhZGl1cyArIHkpO1xuICAgIGZpbGxDaXJjbGVBcnJheVJvd1RvTWlkZGxlKGFyciwgcmFkaXVzICsgeSwgcmFkaXVzICsgeCk7XG4gICAgZmlsbENpcmNsZUFycmF5Um93VG9NaWRkbGUoYXJyLCByYWRpdXMgLSB5LCByYWRpdXMgKyB4KTtcbiAgICBmaWxsQ2lyY2xlQXJyYXlSb3dUb01pZGRsZShhcnIsIHJhZGl1cyAtIHgsIHJhZGl1cyArIHkpO1xuICAgIGZpbGxDaXJjbGVBcnJheVJvd1RvTWlkZGxlKGFyciwgcmFkaXVzIC0geCwgcmFkaXVzIC0geSk7XG4gICAgZmlsbENpcmNsZUFycmF5Um93VG9NaWRkbGUoYXJyLCByYWRpdXMgLSB5LCByYWRpdXMgLSB4KTtcbiAgICBmaWxsQ2lyY2xlQXJyYXlSb3dUb01pZGRsZShhcnIsIHJhZGl1cyArIHksIHJhZGl1cyAtIHgpO1xuICAgIGZpbGxDaXJjbGVBcnJheVJvd1RvTWlkZGxlKGFyciwgcmFkaXVzICsgeCwgcmFkaXVzIC0geSk7XG5cbiAgICB5Kys7XG4gICAgZXJyb3IgKz0gMSArIDIgKiB5O1xuICAgIGlmICgyICogKGVycm9yIC0geCkgKyAxID4gMCkge1xuICAgICAgeCAtPSAxO1xuICAgICAgZXJyb3IgKz0gMSAtIDIgKiB4O1xuICAgIH1cbiAgfVxuXG4gIGNpcmNsZUFycmF5Q2FjaGVbcmFkaXVzXSA9IGFycjtcbiAgcmV0dXJuIGFycjtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsIEFycmF5PCo+Pn0gZGVjbHV0dGVyUmVwbGF5cyBEZWNsdXR0ZXIgcmVwbGF5cy5cbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gUm90YXRpb24uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHNuYXBUb1BpeGVsIFNuYXAgcG9pbnQgc3ltYm9scyBhbmQgdGV4dCB0byBpbnRlZ2VyIHBpeGVscy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlcGxheURlY2x1dHRlcihkZWNsdXR0ZXJSZXBsYXlzLCBjb250ZXh0LCByb3RhdGlvbiwgc25hcFRvUGl4ZWwpIHtcbiAgdmFyIHpzID0gT2JqZWN0LmtleXMoZGVjbHV0dGVyUmVwbGF5cykubWFwKE51bWJlcikuc29ydChudW1iZXJTYWZlQ29tcGFyZUZ1bmN0aW9uKTtcbiAgdmFyIHNraXBwZWRGZWF0dXJlVWlkcyA9IHt9O1xuICBmb3IgKHZhciB6ID0gMCwgenogPSB6cy5sZW5ndGg7IHogPCB6ejsgKyt6KSB7XG4gICAgdmFyIHJlcGxheURhdGEgPSBkZWNsdXR0ZXJSZXBsYXlzW3pzW3pdLnRvU3RyaW5nKCldO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHJlcGxheURhdGEubGVuZ3RoOyBpIDwgaWk7KSB7XG4gICAgICB2YXIgcmVwbGF5ID0gcmVwbGF5RGF0YVtpKytdO1xuICAgICAgdmFyIHRyYW5zZm9ybSA9IHJlcGxheURhdGFbaSsrXTtcbiAgICAgIHJlcGxheS5yZXBsYXkoY29udGV4dCwgdHJhbnNmb3JtLCByb3RhdGlvbiwgc2tpcHBlZEZlYXR1cmVVaWRzLCBzbmFwVG9QaXhlbCk7XG4gICAgfVxuICB9XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzUmVwbGF5R3JvdXA7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlcGxheUdyb3VwLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXJlci92ZWN0b3JcbiAqL1xuaW1wb3J0IHtnZXRVaWR9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IEltYWdlU3RhdGUgZnJvbSAnLi4vSW1hZ2VTdGF0ZS5qcyc7XG5pbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJy4uL2dlb20vR2VvbWV0cnlUeXBlLmpzJztcbmltcG9ydCBSZXBsYXlUeXBlIGZyb20gJy4uL3JlbmRlci9SZXBsYXlUeXBlLmpzJztcblxuXG4vKipcbiAqIFRvbGVyYW5jZSBmb3IgZ2VvbWV0cnkgc2ltcGxpZmljYXRpb24gaW4gZGV2aWNlIHBpeGVscy5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbnZhciBTSU1QTElGWV9UT0xFUkFOQ0UgPSAwLjU7XG5cblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtPYmplY3Q8aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeVR5cGUuanNcIikuZGVmYXVsdCxcbiAqICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGltcG9ydChcIi4uL3JlbmRlci9SZXBsYXlHcm91cC5qc1wiKS5kZWZhdWx0LCBpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHQsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICBpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0LCBPYmplY3QpPn1cbiAqL1xudmFyIEdFT01FVFJZX1JFTkRFUkVSUyA9IHtcbiAgJ1BvaW50JzogcmVuZGVyUG9pbnRHZW9tZXRyeSxcbiAgJ0xpbmVTdHJpbmcnOiByZW5kZXJMaW5lU3RyaW5nR2VvbWV0cnksXG4gICdQb2x5Z29uJzogcmVuZGVyUG9seWdvbkdlb21ldHJ5LFxuICAnTXVsdGlQb2ludCc6IHJlbmRlck11bHRpUG9pbnRHZW9tZXRyeSxcbiAgJ011bHRpTGluZVN0cmluZyc6IHJlbmRlck11bHRpTGluZVN0cmluZ0dlb21ldHJ5LFxuICAnTXVsdGlQb2x5Z29uJzogcmVuZGVyTXVsdGlQb2x5Z29uR2VvbWV0cnksXG4gICdHZW9tZXRyeUNvbGxlY3Rpb24nOiByZW5kZXJHZW9tZXRyeUNvbGxlY3Rpb25HZW9tZXRyeSxcbiAgJ0NpcmNsZSc6IHJlbmRlckNpcmNsZUdlb21ldHJ5XG59O1xuXG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlMSBGZWF0dXJlIDEuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUyIEZlYXR1cmUgMi5cbiAqIEByZXR1cm4ge251bWJlcn0gT3JkZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0T3JkZXIoZmVhdHVyZTEsIGZlYXR1cmUyKSB7XG4gIHJldHVybiBwYXJzZUludChnZXRVaWQoZmVhdHVyZTEpLCAxMCkgLSBwYXJzZUludChnZXRVaWQoZmVhdHVyZTIpLCAxMCk7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNxdWFyZWQgcGl4ZWwgdG9sZXJhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3F1YXJlZFRvbGVyYW5jZShyZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB7XG4gIHZhciB0b2xlcmFuY2UgPSBnZXRUb2xlcmFuY2UocmVzb2x1dGlvbiwgcGl4ZWxSYXRpbyk7XG4gIHJldHVybiB0b2xlcmFuY2UgKiB0b2xlcmFuY2U7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFBpeGVsIHRvbGVyYW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRvbGVyYW5jZShyZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB7XG4gIHJldHVybiBTSU1QTElGWV9UT0xFUkFOQ0UgKiByZXNvbHV0aW9uIC8gcGl4ZWxSYXRpbztcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL1JlcGxheUdyb3VwLmpzXCIpLmRlZmF1bHR9IHJlcGxheUdyb3VwIFJlcGxheSBncm91cC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9DaXJjbGUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyQ2lyY2xlR2VvbWV0cnkocmVwbGF5R3JvdXAsIGdlb21ldHJ5LCBzdHlsZSwgZmVhdHVyZSkge1xuICB2YXIgZmlsbFN0eWxlID0gc3R5bGUuZ2V0RmlsbCgpO1xuICB2YXIgc3Ryb2tlU3R5bGUgPSBzdHlsZS5nZXRTdHJva2UoKTtcbiAgaWYgKGZpbGxTdHlsZSB8fCBzdHJva2VTdHlsZSkge1xuICAgIHZhciBjaXJjbGVSZXBsYXkgPSByZXBsYXlHcm91cC5nZXRSZXBsYXkoc3R5bGUuZ2V0WkluZGV4KCksIFJlcGxheVR5cGUuQ0lSQ0xFKTtcbiAgICBjaXJjbGVSZXBsYXkuc2V0RmlsbFN0cm9rZVN0eWxlKGZpbGxTdHlsZSwgc3Ryb2tlU3R5bGUpO1xuICAgIGNpcmNsZVJlcGxheS5kcmF3Q2lyY2xlKGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgfVxuICB2YXIgdGV4dFN0eWxlID0gc3R5bGUuZ2V0VGV4dCgpO1xuICBpZiAodGV4dFN0eWxlKSB7XG4gICAgdmFyIHRleHRSZXBsYXkgPSByZXBsYXlHcm91cC5nZXRSZXBsYXkoc3R5bGUuZ2V0WkluZGV4KCksIFJlcGxheVR5cGUuVEVYVCk7XG4gICAgdGV4dFJlcGxheS5zZXRUZXh0U3R5bGUodGV4dFN0eWxlLCByZXBsYXlHcm91cC5hZGREZWNsdXR0ZXIoZmFsc2UpKTtcbiAgICB0ZXh0UmVwbGF5LmRyYXdUZXh0KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgfVxufVxuXG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvUmVwbGF5R3JvdXAuanNcIikuZGVmYXVsdH0gcmVwbGF5R3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6IFQsIGltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0KX0gbGlzdGVuZXIgTGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge1R9IHRoaXNBcmcgVmFsdWUgdG8gdXNlIGFzIGB0aGlzYCB3aGVuIGV4ZWN1dGluZyBgbGlzdGVuZXJgLlxuICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHN0eWxlIGlzIGxvYWRpbmcuXG4gKiBAdGVtcGxhdGUgVFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyRmVhdHVyZShyZXBsYXlHcm91cCwgZmVhdHVyZSwgc3R5bGUsIHNxdWFyZWRUb2xlcmFuY2UsIGxpc3RlbmVyLCB0aGlzQXJnKSB7XG4gIHZhciBsb2FkaW5nID0gZmFsc2U7XG4gIHZhciBpbWFnZVN0eWxlID0gc3R5bGUuZ2V0SW1hZ2UoKTtcbiAgaWYgKGltYWdlU3R5bGUpIHtcbiAgICB2YXIgaW1hZ2VTdGF0ZSA9IGltYWdlU3R5bGUuZ2V0SW1hZ2VTdGF0ZSgpO1xuICAgIGlmIChpbWFnZVN0YXRlID09IEltYWdlU3RhdGUuTE9BREVEIHx8IGltYWdlU3RhdGUgPT0gSW1hZ2VTdGF0ZS5FUlJPUikge1xuICAgICAgaW1hZ2VTdHlsZS51bmxpc3RlbkltYWdlQ2hhbmdlKGxpc3RlbmVyLCB0aGlzQXJnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGltYWdlU3RhdGUgPT0gSW1hZ2VTdGF0ZS5JRExFKSB7XG4gICAgICAgIGltYWdlU3R5bGUubG9hZCgpO1xuICAgICAgfVxuICAgICAgaW1hZ2VTdGF0ZSA9IGltYWdlU3R5bGUuZ2V0SW1hZ2VTdGF0ZSgpO1xuICAgICAgaW1hZ2VTdHlsZS5saXN0ZW5JbWFnZUNoYW5nZShsaXN0ZW5lciwgdGhpc0FyZyk7XG4gICAgICBsb2FkaW5nID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmVuZGVyRmVhdHVyZUludGVybmFsKHJlcGxheUdyb3VwLCBmZWF0dXJlLCBzdHlsZSwgc3F1YXJlZFRvbGVyYW5jZSk7XG5cbiAgcmV0dXJuIGxvYWRpbmc7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9SZXBsYXlHcm91cC5qc1wiKS5kZWZhdWx0fSByZXBsYXlHcm91cCBSZXBsYXkgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyRmVhdHVyZUludGVybmFsKHJlcGxheUdyb3VwLCBmZWF0dXJlLCBzdHlsZSwgc3F1YXJlZFRvbGVyYW5jZSkge1xuICB2YXIgZ2VvbWV0cnkgPSBzdHlsZS5nZXRHZW9tZXRyeUZ1bmN0aW9uKCkoZmVhdHVyZSk7XG4gIGlmICghZ2VvbWV0cnkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIHNpbXBsaWZpZWRHZW9tZXRyeSA9IGdlb21ldHJ5LmdldFNpbXBsaWZpZWRHZW9tZXRyeShzcXVhcmVkVG9sZXJhbmNlKTtcbiAgdmFyIHJlbmRlcmVyID0gc3R5bGUuZ2V0UmVuZGVyZXIoKTtcbiAgaWYgKHJlbmRlcmVyKSB7XG4gICAgcmVuZGVyR2VvbWV0cnkocmVwbGF5R3JvdXAsIHNpbXBsaWZpZWRHZW9tZXRyeSwgc3R5bGUsIGZlYXR1cmUpO1xuICB9IGVsc2Uge1xuICAgIHZhciBnZW9tZXRyeVJlbmRlcmVyID0gR0VPTUVUUllfUkVOREVSRVJTW3NpbXBsaWZpZWRHZW9tZXRyeS5nZXRUeXBlKCldO1xuICAgIGdlb21ldHJ5UmVuZGVyZXIocmVwbGF5R3JvdXAsIHNpbXBsaWZpZWRHZW9tZXRyeSwgc3R5bGUsIGZlYXR1cmUpO1xuICB9XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9SZXBsYXlHcm91cC5qc1wiKS5kZWZhdWx0fSByZXBsYXlHcm91cCBSZXBsYXkgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9yZW5kZXIvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyR2VvbWV0cnkocmVwbGF5R3JvdXAsIGdlb21ldHJ5LCBzdHlsZSwgZmVhdHVyZSkge1xuICBpZiAoZ2VvbWV0cnkuZ2V0VHlwZSgpID09IEdlb21ldHJ5VHlwZS5HRU9NRVRSWV9DT0xMRUNUSU9OKSB7XG4gICAgdmFyIGdlb21ldHJpZXMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnlDb2xsZWN0aW9uLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuZ2V0R2VvbWV0cmllcygpO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGdlb21ldHJpZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgcmVuZGVyR2VvbWV0cnkocmVwbGF5R3JvdXAsIGdlb21ldHJpZXNbaV0sIHN0eWxlLCBmZWF0dXJlKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciByZXBsYXkgPSByZXBsYXlHcm91cC5nZXRSZXBsYXkoc3R5bGUuZ2V0WkluZGV4KCksIFJlcGxheVR5cGUuREVGQVVMVCk7XG4gIHJlcGxheS5kcmF3Q3VzdG9tKC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLCBmZWF0dXJlLCBzdHlsZS5nZXRSZW5kZXJlcigpKTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL1JlcGxheUdyb3VwLmpzXCIpLmRlZmF1bHR9IHJlcGxheUdyb3VwIFJlcGxheSBncm91cC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeUNvbGxlY3Rpb24uanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyR2VvbWV0cnlDb2xsZWN0aW9uR2VvbWV0cnkocmVwbGF5R3JvdXAsIGdlb21ldHJ5LCBzdHlsZSwgZmVhdHVyZSkge1xuICB2YXIgZ2VvbWV0cmllcyA9IGdlb21ldHJ5LmdldEdlb21ldHJpZXNBcnJheSgpO1xuICB2YXIgaSwgaWk7XG4gIGZvciAoaSA9IDAsIGlpID0gZ2VvbWV0cmllcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgdmFyIGdlb21ldHJ5UmVuZGVyZXIgPVxuICAgICAgICBHRU9NRVRSWV9SRU5ERVJFUlNbZ2VvbWV0cmllc1tpXS5nZXRUeXBlKCldO1xuICAgIGdlb21ldHJ5UmVuZGVyZXIocmVwbGF5R3JvdXAsIGdlb21ldHJpZXNbaV0sIHN0eWxlLCBmZWF0dXJlKTtcbiAgfVxufVxuXG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvUmVwbGF5R3JvdXAuanNcIikuZGVmYXVsdH0gcmVwbGF5R3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0xpbmVTdHJpbmcuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9yZW5kZXIvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyTGluZVN0cmluZ0dlb21ldHJ5KHJlcGxheUdyb3VwLCBnZW9tZXRyeSwgc3R5bGUsIGZlYXR1cmUpIHtcbiAgdmFyIHN0cm9rZVN0eWxlID0gc3R5bGUuZ2V0U3Ryb2tlKCk7XG4gIGlmIChzdHJva2VTdHlsZSkge1xuICAgIHZhciBsaW5lU3RyaW5nUmVwbGF5ID0gcmVwbGF5R3JvdXAuZ2V0UmVwbGF5KHN0eWxlLmdldFpJbmRleCgpLCBSZXBsYXlUeXBlLkxJTkVfU1RSSU5HKTtcbiAgICBsaW5lU3RyaW5nUmVwbGF5LnNldEZpbGxTdHJva2VTdHlsZShudWxsLCBzdHJva2VTdHlsZSk7XG4gICAgbGluZVN0cmluZ1JlcGxheS5kcmF3TGluZVN0cmluZyhnZW9tZXRyeSwgZmVhdHVyZSk7XG4gIH1cbiAgdmFyIHRleHRTdHlsZSA9IHN0eWxlLmdldFRleHQoKTtcbiAgaWYgKHRleHRTdHlsZSkge1xuICAgIHZhciB0ZXh0UmVwbGF5ID0gcmVwbGF5R3JvdXAuZ2V0UmVwbGF5KHN0eWxlLmdldFpJbmRleCgpLCBSZXBsYXlUeXBlLlRFWFQpO1xuICAgIHRleHRSZXBsYXkuc2V0VGV4dFN0eWxlKHRleHRTdHlsZSwgcmVwbGF5R3JvdXAuYWRkRGVjbHV0dGVyKGZhbHNlKSk7XG4gICAgdGV4dFJlcGxheS5kcmF3VGV4dChnZW9tZXRyeSwgZmVhdHVyZSk7XG4gIH1cbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL1JlcGxheUdyb3VwLmpzXCIpLmRlZmF1bHR9IHJlcGxheUdyb3VwIFJlcGxheSBncm91cC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9NdWx0aUxpbmVTdHJpbmcuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9yZW5kZXIvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyTXVsdGlMaW5lU3RyaW5nR2VvbWV0cnkocmVwbGF5R3JvdXAsIGdlb21ldHJ5LCBzdHlsZSwgZmVhdHVyZSkge1xuICB2YXIgc3Ryb2tlU3R5bGUgPSBzdHlsZS5nZXRTdHJva2UoKTtcbiAgaWYgKHN0cm9rZVN0eWxlKSB7XG4gICAgdmFyIGxpbmVTdHJpbmdSZXBsYXkgPSByZXBsYXlHcm91cC5nZXRSZXBsYXkoc3R5bGUuZ2V0WkluZGV4KCksIFJlcGxheVR5cGUuTElORV9TVFJJTkcpO1xuICAgIGxpbmVTdHJpbmdSZXBsYXkuc2V0RmlsbFN0cm9rZVN0eWxlKG51bGwsIHN0cm9rZVN0eWxlKTtcbiAgICBsaW5lU3RyaW5nUmVwbGF5LmRyYXdNdWx0aUxpbmVTdHJpbmcoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICB9XG4gIHZhciB0ZXh0U3R5bGUgPSBzdHlsZS5nZXRUZXh0KCk7XG4gIGlmICh0ZXh0U3R5bGUpIHtcbiAgICB2YXIgdGV4dFJlcGxheSA9IHJlcGxheUdyb3VwLmdldFJlcGxheShzdHlsZS5nZXRaSW5kZXgoKSwgUmVwbGF5VHlwZS5URVhUKTtcbiAgICB0ZXh0UmVwbGF5LnNldFRleHRTdHlsZSh0ZXh0U3R5bGUsIHJlcGxheUdyb3VwLmFkZERlY2x1dHRlcihmYWxzZSkpO1xuICAgIHRleHRSZXBsYXkuZHJhd1RleHQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICB9XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9SZXBsYXlHcm91cC5qc1wiKS5kZWZhdWx0fSByZXBsYXlHcm91cCBSZXBsYXkgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vTXVsdGlQb2x5Z29uLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlck11bHRpUG9seWdvbkdlb21ldHJ5KHJlcGxheUdyb3VwLCBnZW9tZXRyeSwgc3R5bGUsIGZlYXR1cmUpIHtcbiAgdmFyIGZpbGxTdHlsZSA9IHN0eWxlLmdldEZpbGwoKTtcbiAgdmFyIHN0cm9rZVN0eWxlID0gc3R5bGUuZ2V0U3Ryb2tlKCk7XG4gIGlmIChzdHJva2VTdHlsZSB8fCBmaWxsU3R5bGUpIHtcbiAgICB2YXIgcG9seWdvblJlcGxheSA9IHJlcGxheUdyb3VwLmdldFJlcGxheShzdHlsZS5nZXRaSW5kZXgoKSwgUmVwbGF5VHlwZS5QT0xZR09OKTtcbiAgICBwb2x5Z29uUmVwbGF5LnNldEZpbGxTdHJva2VTdHlsZShmaWxsU3R5bGUsIHN0cm9rZVN0eWxlKTtcbiAgICBwb2x5Z29uUmVwbGF5LmRyYXdNdWx0aVBvbHlnb24oZ2VvbWV0cnksIGZlYXR1cmUpO1xuICB9XG4gIHZhciB0ZXh0U3R5bGUgPSBzdHlsZS5nZXRUZXh0KCk7XG4gIGlmICh0ZXh0U3R5bGUpIHtcbiAgICB2YXIgdGV4dFJlcGxheSA9IHJlcGxheUdyb3VwLmdldFJlcGxheShzdHlsZS5nZXRaSW5kZXgoKSwgUmVwbGF5VHlwZS5URVhUKTtcbiAgICB0ZXh0UmVwbGF5LnNldFRleHRTdHlsZSh0ZXh0U3R5bGUsIHJlcGxheUdyb3VwLmFkZERlY2x1dHRlcihmYWxzZSkpO1xuICAgIHRleHRSZXBsYXkuZHJhd1RleHQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICB9XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9SZXBsYXlHcm91cC5qc1wiKS5kZWZhdWx0fSByZXBsYXlHcm91cCBSZXBsYXkgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vUG9pbnQuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9yZW5kZXIvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyUG9pbnRHZW9tZXRyeShyZXBsYXlHcm91cCwgZ2VvbWV0cnksIHN0eWxlLCBmZWF0dXJlKSB7XG4gIHZhciBpbWFnZVN0eWxlID0gc3R5bGUuZ2V0SW1hZ2UoKTtcbiAgaWYgKGltYWdlU3R5bGUpIHtcbiAgICBpZiAoaW1hZ2VTdHlsZS5nZXRJbWFnZVN0YXRlKCkgIT0gSW1hZ2VTdGF0ZS5MT0FERUQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGltYWdlUmVwbGF5ID0gcmVwbGF5R3JvdXAuZ2V0UmVwbGF5KHN0eWxlLmdldFpJbmRleCgpLCBSZXBsYXlUeXBlLklNQUdFKTtcbiAgICBpbWFnZVJlcGxheS5zZXRJbWFnZVN0eWxlKGltYWdlU3R5bGUsIHJlcGxheUdyb3VwLmFkZERlY2x1dHRlcihmYWxzZSkpO1xuICAgIGltYWdlUmVwbGF5LmRyYXdQb2ludChnZW9tZXRyeSwgZmVhdHVyZSk7XG4gIH1cbiAgdmFyIHRleHRTdHlsZSA9IHN0eWxlLmdldFRleHQoKTtcbiAgaWYgKHRleHRTdHlsZSkge1xuICAgIHZhciB0ZXh0UmVwbGF5ID0gcmVwbGF5R3JvdXAuZ2V0UmVwbGF5KHN0eWxlLmdldFpJbmRleCgpLCBSZXBsYXlUeXBlLlRFWFQpO1xuICAgIHRleHRSZXBsYXkuc2V0VGV4dFN0eWxlKHRleHRTdHlsZSwgcmVwbGF5R3JvdXAuYWRkRGVjbHV0dGVyKCEhaW1hZ2VTdHlsZSkpO1xuICAgIHRleHRSZXBsYXkuZHJhd1RleHQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICB9XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9SZXBsYXlHcm91cC5qc1wiKS5kZWZhdWx0fSByZXBsYXlHcm91cCBSZXBsYXkgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vTXVsdGlQb2ludC5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL3JlbmRlci9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICovXG5mdW5jdGlvbiByZW5kZXJNdWx0aVBvaW50R2VvbWV0cnkocmVwbGF5R3JvdXAsIGdlb21ldHJ5LCBzdHlsZSwgZmVhdHVyZSkge1xuICB2YXIgaW1hZ2VTdHlsZSA9IHN0eWxlLmdldEltYWdlKCk7XG4gIGlmIChpbWFnZVN0eWxlKSB7XG4gICAgaWYgKGltYWdlU3R5bGUuZ2V0SW1hZ2VTdGF0ZSgpICE9IEltYWdlU3RhdGUuTE9BREVEKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBpbWFnZVJlcGxheSA9IHJlcGxheUdyb3VwLmdldFJlcGxheShzdHlsZS5nZXRaSW5kZXgoKSwgUmVwbGF5VHlwZS5JTUFHRSk7XG4gICAgaW1hZ2VSZXBsYXkuc2V0SW1hZ2VTdHlsZShpbWFnZVN0eWxlLCByZXBsYXlHcm91cC5hZGREZWNsdXR0ZXIoZmFsc2UpKTtcbiAgICBpbWFnZVJlcGxheS5kcmF3TXVsdGlQb2ludChnZW9tZXRyeSwgZmVhdHVyZSk7XG4gIH1cbiAgdmFyIHRleHRTdHlsZSA9IHN0eWxlLmdldFRleHQoKTtcbiAgaWYgKHRleHRTdHlsZSkge1xuICAgIHZhciB0ZXh0UmVwbGF5ID0gcmVwbGF5R3JvdXAuZ2V0UmVwbGF5KHN0eWxlLmdldFpJbmRleCgpLCBSZXBsYXlUeXBlLlRFWFQpO1xuICAgIHRleHRSZXBsYXkuc2V0VGV4dFN0eWxlKHRleHRTdHlsZSwgcmVwbGF5R3JvdXAuYWRkRGVjbHV0dGVyKCEhaW1hZ2VTdHlsZSkpO1xuICAgIHRleHRSZXBsYXkuZHJhd1RleHQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICB9XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9SZXBsYXlHcm91cC5qc1wiKS5kZWZhdWx0fSByZXBsYXlHcm91cCBSZXBsYXkgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL3JlbmRlci9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICovXG5mdW5jdGlvbiByZW5kZXJQb2x5Z29uR2VvbWV0cnkocmVwbGF5R3JvdXAsIGdlb21ldHJ5LCBzdHlsZSwgZmVhdHVyZSkge1xuICB2YXIgZmlsbFN0eWxlID0gc3R5bGUuZ2V0RmlsbCgpO1xuICB2YXIgc3Ryb2tlU3R5bGUgPSBzdHlsZS5nZXRTdHJva2UoKTtcbiAgaWYgKGZpbGxTdHlsZSB8fCBzdHJva2VTdHlsZSkge1xuICAgIHZhciBwb2x5Z29uUmVwbGF5ID0gcmVwbGF5R3JvdXAuZ2V0UmVwbGF5KHN0eWxlLmdldFpJbmRleCgpLCBSZXBsYXlUeXBlLlBPTFlHT04pO1xuICAgIHBvbHlnb25SZXBsYXkuc2V0RmlsbFN0cm9rZVN0eWxlKGZpbGxTdHlsZSwgc3Ryb2tlU3R5bGUpO1xuICAgIHBvbHlnb25SZXBsYXkuZHJhd1BvbHlnb24oZ2VvbWV0cnksIGZlYXR1cmUpO1xuICB9XG4gIHZhciB0ZXh0U3R5bGUgPSBzdHlsZS5nZXRUZXh0KCk7XG4gIGlmICh0ZXh0U3R5bGUpIHtcbiAgICB2YXIgdGV4dFJlcGxheSA9IHJlcGxheUdyb3VwLmdldFJlcGxheShzdHlsZS5nZXRaSW5kZXgoKSwgUmVwbGF5VHlwZS5URVhUKTtcbiAgICB0ZXh0UmVwbGF5LnNldFRleHRTdHlsZSh0ZXh0U3R5bGUsIHJlcGxheUdyb3VwLmFkZERlY2x1dHRlcihmYWxzZSkpO1xuICAgIHRleHRSZXBsYXkuZHJhd1RleHQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlY3Rvci5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyZXIvY2FudmFzL1ZlY3RvckxheWVyXG4gKi9cbmltcG9ydCB7Z2V0VWlkfSBmcm9tICcuLi8uLi91dGlsLmpzJztcbmltcG9ydCBMYXllclR5cGUgZnJvbSAnLi4vLi4vTGF5ZXJUeXBlLmpzJztcbmltcG9ydCBWaWV3SGludCBmcm9tICcuLi8uLi9WaWV3SGludC5qcyc7XG5pbXBvcnQge2NyZWF0ZUNhbnZhc0NvbnRleHQyRH0gZnJvbSAnLi4vLi4vZG9tLmpzJztcbmltcG9ydCB7bGlzdGVuLCB1bmxpc3Rlbn0gZnJvbSAnLi4vLi4vZXZlbnRzLmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgcmJ1c2ggZnJvbSAncmJ1c2gnO1xuaW1wb3J0IHtidWZmZXIsIGNyZWF0ZUVtcHR5LCBjb250YWluc0V4dGVudCwgZ2V0V2lkdGh9IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgUmVuZGVyRXZlbnRUeXBlIGZyb20gJy4uLy4uL3JlbmRlci9FdmVudFR5cGUuanMnO1xuaW1wb3J0IHtsYWJlbENhY2hlLCByb3RhdGVBdE9mZnNldH0gZnJvbSAnLi4vLi4vcmVuZGVyL2NhbnZhcy5qcyc7XG5pbXBvcnQgQ2FudmFzUmVwbGF5R3JvdXAgZnJvbSAnLi4vLi4vcmVuZGVyL2NhbnZhcy9SZXBsYXlHcm91cC5qcyc7XG5pbXBvcnQgQ2FudmFzTGF5ZXJSZW5kZXJlciBmcm9tICcuL0xheWVyLmpzJztcbmltcG9ydCB7ZGVmYXVsdE9yZGVyIGFzIGRlZmF1bHRSZW5kZXJPcmRlciwgZ2V0VG9sZXJhbmNlIGFzIGdldFJlbmRlclRvbGVyYW5jZSwgZ2V0U3F1YXJlZFRvbGVyYW5jZSBhcyBnZXRTcXVhcmVkUmVuZGVyVG9sZXJhbmNlLCByZW5kZXJGZWF0dXJlfSBmcm9tICcuLi92ZWN0b3IuanMnO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIENhbnZhcyByZW5kZXJlciBmb3IgdmVjdG9yIGxheWVycy5cbiAqIEBhcGlcbiAqL1xudmFyIENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChDYW52YXNMYXllclJlbmRlcmVyKSB7XG4gIGZ1bmN0aW9uIENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIodmVjdG9yTGF5ZXIpIHtcblxuICAgIENhbnZhc0xheWVyUmVuZGVyZXIuY2FsbCh0aGlzLCB2ZWN0b3JMYXllcik7XG5cbiAgICAvKipcbiAgICAgKiBEZWNsdXR0ZXIgdHJlZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZGVjbHV0dGVyVHJlZV8gPSB2ZWN0b3JMYXllci5nZXREZWNsdXR0ZXIoKSA/IHJidXNoKDksIHVuZGVmaW5lZCkgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmRpcnR5XyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZWRSZXZpc2lvbl8gPSAtMTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVkUmVzb2x1dGlvbl8gPSBOYU47XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZWRFeHRlbnRfID0gY3JlYXRlRW1wdHkoKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Z1bmN0aW9uKGltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdCwgaW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0KTogbnVtYmVyfG51bGx9XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlZFJlbmRlck9yZGVyXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9yZW5kZXIvY2FudmFzL1JlcGxheUdyb3VwLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5yZXBsYXlHcm91cF8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQSBuZXcgcmVwbGF5IGdyb3VwIGhhZCB0byBiZSBjcmVhdGVkIGJ5IGBwcmVwYXJlRnJhbWUoKWBcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnJlcGxheUdyb3VwQ2hhbmdlZCA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAqL1xuICAgIHRoaXMuY29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCgpO1xuXG4gICAgbGlzdGVuKGxhYmVsQ2FjaGUsIEV2ZW50VHlwZS5DTEVBUiwgdGhpcy5oYW5kbGVGb250c0NoYW5nZWRfLCB0aGlzKTtcblxuICB9XG5cbiAgaWYgKCBDYW52YXNMYXllclJlbmRlcmVyICkgQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlci5fX3Byb3RvX18gPSBDYW52YXNMYXllclJlbmRlcmVyO1xuICBDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIENhbnZhc0xheWVyUmVuZGVyZXIgJiYgQ2FudmFzTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUgKTtcbiAgQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyO1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24gZGlzcG9zZUludGVybmFsICgpIHtcbiAgICB1bmxpc3RlbihsYWJlbENhY2hlLCBFdmVudFR5cGUuQ0xFQVIsIHRoaXMuaGFuZGxlRm9udHNDaGFuZ2VkXywgdGhpcyk7XG4gICAgQ2FudmFzTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vbGF5ZXIvTGF5ZXIuanNcIikuU3RhdGV9IGxheWVyU3RhdGUgTGF5ZXIgc3RhdGUuXG4gICAqL1xuICBDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyLnByb3RvdHlwZS5jb21wb3NlID0gZnVuY3Rpb24gY29tcG9zZSAoY29udGV4dCwgZnJhbWVTdGF0ZSwgbGF5ZXJTdGF0ZSkge1xuICAgIHZhciBleHRlbnQgPSBmcmFtZVN0YXRlLmV4dGVudDtcbiAgICB2YXIgcGl4ZWxSYXRpbyA9IGZyYW1lU3RhdGUucGl4ZWxSYXRpbztcbiAgICB2YXIgc2tpcHBlZEZlYXR1cmVVaWRzID0gbGF5ZXJTdGF0ZS5tYW5hZ2VkID9cbiAgICAgIGZyYW1lU3RhdGUuc2tpcHBlZEZlYXR1cmVVaWRzIDoge307XG4gICAgdmFyIHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgIHZhciBwcm9qZWN0aW9uID0gdmlld1N0YXRlLnByb2plY3Rpb247XG4gICAgdmFyIHJvdGF0aW9uID0gdmlld1N0YXRlLnJvdGF0aW9uO1xuICAgIHZhciBwcm9qZWN0aW9uRXh0ZW50ID0gcHJvamVjdGlvbi5nZXRFeHRlbnQoKTtcbiAgICB2YXIgdmVjdG9yU291cmNlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9zb3VyY2UvVmVjdG9yLmpzXCIpLmRlZmF1bHR9ICovICh0aGlzLmdldExheWVyKCkuZ2V0U291cmNlKCkpO1xuXG4gICAgdmFyIHRyYW5zZm9ybSA9IHRoaXMuZ2V0VHJhbnNmb3JtKGZyYW1lU3RhdGUsIDApO1xuXG4gICAgLy8gY2xpcHBlZCByZW5kZXJpbmcgaWYgbGF5ZXIgZXh0ZW50IGlzIHNldFxuICAgIHZhciBjbGlwRXh0ZW50ID0gbGF5ZXJTdGF0ZS5leHRlbnQ7XG4gICAgdmFyIGNsaXBwZWQgPSBjbGlwRXh0ZW50ICE9PSB1bmRlZmluZWQ7XG4gICAgaWYgKGNsaXBwZWQpIHtcbiAgICAgIHRoaXMuY2xpcChjb250ZXh0LCBmcmFtZVN0YXRlLCAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9ICovIChjbGlwRXh0ZW50KSk7XG4gICAgfVxuICAgIHZhciByZXBsYXlHcm91cCA9IHRoaXMucmVwbGF5R3JvdXBfO1xuICAgIGlmIChyZXBsYXlHcm91cCAmJiAhcmVwbGF5R3JvdXAuaXNFbXB0eSgpKSB7XG4gICAgICBpZiAodGhpcy5kZWNsdXR0ZXJUcmVlXykge1xuICAgICAgICB0aGlzLmRlY2x1dHRlclRyZWVfLmNsZWFyKCk7XG4gICAgICB9XG4gICAgICB2YXIgbGF5ZXIgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2xheWVyL1ZlY3Rvci5qc1wiKS5kZWZhdWx0fSAqLyAodGhpcy5nZXRMYXllcigpKTtcbiAgICAgIHZhciBkcmF3T2Zmc2V0WCA9IDA7XG4gICAgICB2YXIgZHJhd09mZnNldFkgPSAwO1xuICAgICAgdmFyIHJlcGxheUNvbnRleHQ7XG4gICAgICB2YXIgdHJhbnNwYXJlbnRMYXllciA9IGxheWVyU3RhdGUub3BhY2l0eSAhPT0gMTtcbiAgICAgIHZhciBoYXNSZW5kZXJMaXN0ZW5lcnMgPSBsYXllci5oYXNMaXN0ZW5lcihSZW5kZXJFdmVudFR5cGUuUkVOREVSKTtcbiAgICAgIGlmICh0cmFuc3BhcmVudExheWVyIHx8IGhhc1JlbmRlckxpc3RlbmVycykge1xuICAgICAgICB2YXIgZHJhd1dpZHRoID0gY29udGV4dC5jYW52YXMud2lkdGg7XG4gICAgICAgIHZhciBkcmF3SGVpZ2h0ID0gY29udGV4dC5jYW52YXMuaGVpZ2h0O1xuICAgICAgICBpZiAocm90YXRpb24pIHtcbiAgICAgICAgICB2YXIgZHJhd1NpemUgPSBNYXRoLnJvdW5kKE1hdGguc3FydChkcmF3V2lkdGggKiBkcmF3V2lkdGggKyBkcmF3SGVpZ2h0ICogZHJhd0hlaWdodCkpO1xuICAgICAgICAgIGRyYXdPZmZzZXRYID0gKGRyYXdTaXplIC0gZHJhd1dpZHRoKSAvIDI7XG4gICAgICAgICAgZHJhd09mZnNldFkgPSAoZHJhd1NpemUgLSBkcmF3SGVpZ2h0KSAvIDI7XG4gICAgICAgICAgZHJhd1dpZHRoID0gZHJhd0hlaWdodCA9IGRyYXdTaXplO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlc2l6ZSBhbmQgY2xlYXJcbiAgICAgICAgdGhpcy5jb250ZXh0LmNhbnZhcy53aWR0aCA9IGRyYXdXaWR0aDtcbiAgICAgICAgdGhpcy5jb250ZXh0LmNhbnZhcy5oZWlnaHQgPSBkcmF3SGVpZ2h0O1xuICAgICAgICByZXBsYXlDb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVwbGF5Q29udGV4dCA9IGNvbnRleHQ7XG4gICAgICB9XG5cbiAgICAgIHZhciBhbHBoYSA9IHJlcGxheUNvbnRleHQuZ2xvYmFsQWxwaGE7XG4gICAgICBpZiAoIXRyYW5zcGFyZW50TGF5ZXIpIHtcbiAgICAgICAgLy8gZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMsIGNvbnRleHQuc2F2ZSAvIGNvbnRleHQucmVzdG9yZSBpcyBub3QgdXNlZFxuICAgICAgICAvLyB0byBzYXZlIGFuZCByZXN0b3JlIHRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggYW5kIHRoZSBvcGFjaXR5LlxuICAgICAgICAvLyBzZWUgaHR0cDovL2pzcGVyZi5jb20vY29udGV4dC1zYXZlLXJlc3RvcmUtdmVyc3VzLXZhcmlhYmxlXG4gICAgICAgIHJlcGxheUNvbnRleHQuZ2xvYmFsQWxwaGEgPSBsYXllclN0YXRlLm9wYWNpdHk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXBsYXlDb250ZXh0ICE9IGNvbnRleHQpIHtcbiAgICAgICAgcmVwbGF5Q29udGV4dC50cmFuc2xhdGUoZHJhd09mZnNldFgsIGRyYXdPZmZzZXRZKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHZpZXdIaW50cyA9IGZyYW1lU3RhdGUudmlld0hpbnRzO1xuICAgICAgdmFyIHNuYXBUb1BpeGVsID0gISh2aWV3SGludHNbVmlld0hpbnQuQU5JTUFUSU5HXSB8fCB2aWV3SGludHNbVmlld0hpbnQuSU5URVJBQ1RJTkddKTtcbiAgICAgIHZhciB3aWR0aCA9IGZyYW1lU3RhdGUuc2l6ZVswXSAqIHBpeGVsUmF0aW87XG4gICAgICB2YXIgaGVpZ2h0ID0gZnJhbWVTdGF0ZS5zaXplWzFdICogcGl4ZWxSYXRpbztcbiAgICAgIHJvdGF0ZUF0T2Zmc2V0KHJlcGxheUNvbnRleHQsIC1yb3RhdGlvbixcbiAgICAgICAgd2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgICAgIHJlcGxheUdyb3VwLnJlcGxheShyZXBsYXlDb250ZXh0LCB0cmFuc2Zvcm0sIHJvdGF0aW9uLCBza2lwcGVkRmVhdHVyZVVpZHMsIHNuYXBUb1BpeGVsKTtcbiAgICAgIGlmICh2ZWN0b3JTb3VyY2UuZ2V0V3JhcFgoKSAmJiBwcm9qZWN0aW9uLmNhbldyYXBYKCkgJiZcbiAgICAgICAgICAhY29udGFpbnNFeHRlbnQocHJvamVjdGlvbkV4dGVudCwgZXh0ZW50KSkge1xuICAgICAgICB2YXIgc3RhcnRYID0gZXh0ZW50WzBdO1xuICAgICAgICB2YXIgd29ybGRXaWR0aCA9IGdldFdpZHRoKHByb2plY3Rpb25FeHRlbnQpO1xuICAgICAgICB2YXIgd29ybGQgPSAwO1xuICAgICAgICB2YXIgb2Zmc2V0WDtcbiAgICAgICAgd2hpbGUgKHN0YXJ0WCA8IHByb2plY3Rpb25FeHRlbnRbMF0pIHtcbiAgICAgICAgICAtLXdvcmxkO1xuICAgICAgICAgIG9mZnNldFggPSB3b3JsZFdpZHRoICogd29ybGQ7XG4gICAgICAgICAgdHJhbnNmb3JtID0gdGhpcy5nZXRUcmFuc2Zvcm0oZnJhbWVTdGF0ZSwgb2Zmc2V0WCk7XG4gICAgICAgICAgcmVwbGF5R3JvdXAucmVwbGF5KHJlcGxheUNvbnRleHQsIHRyYW5zZm9ybSwgcm90YXRpb24sIHNraXBwZWRGZWF0dXJlVWlkcywgc25hcFRvUGl4ZWwpO1xuICAgICAgICAgIHN0YXJ0WCArPSB3b3JsZFdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIHdvcmxkID0gMDtcbiAgICAgICAgc3RhcnRYID0gZXh0ZW50WzJdO1xuICAgICAgICB3aGlsZSAoc3RhcnRYID4gcHJvamVjdGlvbkV4dGVudFsyXSkge1xuICAgICAgICAgICsrd29ybGQ7XG4gICAgICAgICAgb2Zmc2V0WCA9IHdvcmxkV2lkdGggKiB3b3JsZDtcbiAgICAgICAgICB0cmFuc2Zvcm0gPSB0aGlzLmdldFRyYW5zZm9ybShmcmFtZVN0YXRlLCBvZmZzZXRYKTtcbiAgICAgICAgICByZXBsYXlHcm91cC5yZXBsYXkocmVwbGF5Q29udGV4dCwgdHJhbnNmb3JtLCByb3RhdGlvbiwgc2tpcHBlZEZlYXR1cmVVaWRzLCBzbmFwVG9QaXhlbCk7XG4gICAgICAgICAgc3RhcnRYIC09IHdvcmxkV2lkdGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJvdGF0ZUF0T2Zmc2V0KHJlcGxheUNvbnRleHQsIHJvdGF0aW9uLFxuICAgICAgICB3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuXG4gICAgICBpZiAoaGFzUmVuZGVyTGlzdGVuZXJzKSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hSZW5kZXJFdmVudChyZXBsYXlDb250ZXh0LCBmcmFtZVN0YXRlLCB0cmFuc2Zvcm0pO1xuICAgICAgfVxuICAgICAgaWYgKHJlcGxheUNvbnRleHQgIT0gY29udGV4dCkge1xuICAgICAgICBpZiAodHJhbnNwYXJlbnRMYXllcikge1xuICAgICAgICAgIHZhciBtYWluQ29udGV4dEFscGhhID0gY29udGV4dC5nbG9iYWxBbHBoYTtcbiAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gbGF5ZXJTdGF0ZS5vcGFjaXR5O1xuICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHJlcGxheUNvbnRleHQuY2FudmFzLCAtZHJhd09mZnNldFgsIC1kcmF3T2Zmc2V0WSk7XG4gICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IG1haW5Db250ZXh0QWxwaGE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UocmVwbGF5Q29udGV4dC5jYW52YXMsIC1kcmF3T2Zmc2V0WCwgLWRyYXdPZmZzZXRZKTtcbiAgICAgICAgfVxuICAgICAgICByZXBsYXlDb250ZXh0LnRyYW5zbGF0ZSgtZHJhd09mZnNldFgsIC1kcmF3T2Zmc2V0WSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghdHJhbnNwYXJlbnRMYXllcikge1xuICAgICAgICByZXBsYXlDb250ZXh0Lmdsb2JhbEFscGhhID0gYWxwaGE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNsaXBwZWQpIHtcbiAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIucHJvdG90eXBlLmNvbXBvc2VGcmFtZSA9IGZ1bmN0aW9uIGNvbXBvc2VGcmFtZSAoZnJhbWVTdGF0ZSwgbGF5ZXJTdGF0ZSwgY29udGV4dCkge1xuICAgIHZhciB0cmFuc2Zvcm0gPSB0aGlzLmdldFRyYW5zZm9ybShmcmFtZVN0YXRlLCAwKTtcbiAgICB0aGlzLnByZUNvbXBvc2UoY29udGV4dCwgZnJhbWVTdGF0ZSwgdHJhbnNmb3JtKTtcbiAgICB0aGlzLmNvbXBvc2UoY29udGV4dCwgZnJhbWVTdGF0ZSwgbGF5ZXJTdGF0ZSk7XG4gICAgdGhpcy5wb3N0Q29tcG9zZShjb250ZXh0LCBmcmFtZVN0YXRlLCBsYXllclN0YXRlLCB0cmFuc2Zvcm0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUgPSBmdW5jdGlvbiBmb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZSAoY29vcmRpbmF0ZSwgZnJhbWVTdGF0ZSwgaGl0VG9sZXJhbmNlLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgIGlmICghdGhpcy5yZXBsYXlHcm91cF8pIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciByZXNvbHV0aW9uID0gZnJhbWVTdGF0ZS52aWV3U3RhdGUucmVzb2x1dGlvbjtcbiAgICAgIHZhciByb3RhdGlvbiA9IGZyYW1lU3RhdGUudmlld1N0YXRlLnJvdGF0aW9uO1xuICAgICAgdmFyIGxheWVyID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9sYXllci9WZWN0b3IuanNcIikuZGVmYXVsdH0gKi8gKHRoaXMuZ2V0TGF5ZXIoKSk7XG4gICAgICAvKiogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBib29sZWFuPn0gKi9cbiAgICAgIHZhciBmZWF0dXJlcyA9IHt9O1xuICAgICAgdmFyIHJlc3VsdCA9IHRoaXMucmVwbGF5R3JvdXBfLmZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlKGNvb3JkaW5hdGUsIHJlc29sdXRpb24sIHJvdGF0aW9uLCBoaXRUb2xlcmFuY2UsIHt9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICAgICAqIEByZXR1cm4gez99IENhbGxiYWNrIHJlc3VsdC5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uKGZlYXR1cmUpIHtcbiAgICAgICAgICB2YXIga2V5ID0gZ2V0VWlkKGZlYXR1cmUpO1xuICAgICAgICAgIGlmICghKGtleSBpbiBmZWF0dXJlcykpIHtcbiAgICAgICAgICAgIGZlYXR1cmVzW2tleV0gPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgZmVhdHVyZSwgbGF5ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgbnVsbCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgRXZlbnQuXG4gICAqL1xuICBDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyLnByb3RvdHlwZS5oYW5kbGVGb250c0NoYW5nZWRfID0gZnVuY3Rpb24gaGFuZGxlRm9udHNDaGFuZ2VkXyAoZXZlbnQpIHtcbiAgICB2YXIgbGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XG4gICAgaWYgKGxheWVyLmdldFZpc2libGUoKSAmJiB0aGlzLnJlcGxheUdyb3VwXykge1xuICAgICAgbGF5ZXIuY2hhbmdlZCgpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogSGFuZGxlIGNoYW5nZXMgaW4gaW1hZ2Ugc3R5bGUgc3RhdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHR9IGV2ZW50IEltYWdlIHN0eWxlIGNoYW5nZSBldmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIucHJvdG90eXBlLmhhbmRsZVN0eWxlSW1hZ2VDaGFuZ2VfID0gZnVuY3Rpb24gaGFuZGxlU3R5bGVJbWFnZUNoYW5nZV8gKGV2ZW50KSB7XG4gICAgdGhpcy5yZW5kZXJJZlJlYWR5QW5kVmlzaWJsZSgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucHJlcGFyZUZyYW1lID0gZnVuY3Rpb24gcHJlcGFyZUZyYW1lIChmcmFtZVN0YXRlLCBsYXllclN0YXRlKSB7XG4gICAgdmFyIHZlY3RvckxheWVyID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9sYXllci9WZWN0b3IuanNcIikuZGVmYXVsdH0gKi8gKHRoaXMuZ2V0TGF5ZXIoKSk7XG4gICAgdmFyIHZlY3RvclNvdXJjZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vc291cmNlL1ZlY3Rvci5qc1wiKS5kZWZhdWx0fSAqLyAodmVjdG9yTGF5ZXIuZ2V0U291cmNlKCkpO1xuXG4gICAgdmFyIGFuaW1hdGluZyA9IGZyYW1lU3RhdGUudmlld0hpbnRzW1ZpZXdIaW50LkFOSU1BVElOR107XG4gICAgdmFyIGludGVyYWN0aW5nID0gZnJhbWVTdGF0ZS52aWV3SGludHNbVmlld0hpbnQuSU5URVJBQ1RJTkddO1xuICAgIHZhciB1cGRhdGVXaGlsZUFuaW1hdGluZyA9IHZlY3RvckxheWVyLmdldFVwZGF0ZVdoaWxlQW5pbWF0aW5nKCk7XG4gICAgdmFyIHVwZGF0ZVdoaWxlSW50ZXJhY3RpbmcgPSB2ZWN0b3JMYXllci5nZXRVcGRhdGVXaGlsZUludGVyYWN0aW5nKCk7XG5cbiAgICBpZiAoIXRoaXMuZGlydHlfICYmICghdXBkYXRlV2hpbGVBbmltYXRpbmcgJiYgYW5pbWF0aW5nKSB8fFxuICAgICAgICAoIXVwZGF0ZVdoaWxlSW50ZXJhY3RpbmcgJiYgaW50ZXJhY3RpbmcpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgZnJhbWVTdGF0ZUV4dGVudCA9IGZyYW1lU3RhdGUuZXh0ZW50O1xuICAgIHZhciB2aWV3U3RhdGUgPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZTtcbiAgICB2YXIgcHJvamVjdGlvbiA9IHZpZXdTdGF0ZS5wcm9qZWN0aW9uO1xuICAgIHZhciByZXNvbHV0aW9uID0gdmlld1N0YXRlLnJlc29sdXRpb247XG4gICAgdmFyIHBpeGVsUmF0aW8gPSBmcmFtZVN0YXRlLnBpeGVsUmF0aW87XG4gICAgdmFyIHZlY3RvckxheWVyUmV2aXNpb24gPSB2ZWN0b3JMYXllci5nZXRSZXZpc2lvbigpO1xuICAgIHZhciB2ZWN0b3JMYXllclJlbmRlckJ1ZmZlciA9IHZlY3RvckxheWVyLmdldFJlbmRlckJ1ZmZlcigpO1xuICAgIHZhciB2ZWN0b3JMYXllclJlbmRlck9yZGVyID0gdmVjdG9yTGF5ZXIuZ2V0UmVuZGVyT3JkZXIoKTtcblxuICAgIGlmICh2ZWN0b3JMYXllclJlbmRlck9yZGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHZlY3RvckxheWVyUmVuZGVyT3JkZXIgPSBkZWZhdWx0UmVuZGVyT3JkZXI7XG4gICAgfVxuXG4gICAgdmFyIGV4dGVudCA9IGJ1ZmZlcihmcmFtZVN0YXRlRXh0ZW50LFxuICAgICAgdmVjdG9yTGF5ZXJSZW5kZXJCdWZmZXIgKiByZXNvbHV0aW9uKTtcbiAgICB2YXIgcHJvamVjdGlvbkV4dGVudCA9IHZpZXdTdGF0ZS5wcm9qZWN0aW9uLmdldEV4dGVudCgpO1xuXG4gICAgaWYgKHZlY3RvclNvdXJjZS5nZXRXcmFwWCgpICYmIHZpZXdTdGF0ZS5wcm9qZWN0aW9uLmNhbldyYXBYKCkgJiZcbiAgICAgICAgIWNvbnRhaW5zRXh0ZW50KHByb2plY3Rpb25FeHRlbnQsIGZyYW1lU3RhdGUuZXh0ZW50KSkge1xuICAgICAgLy8gRm9yIHRoZSByZXBsYXkgZ3JvdXAsIHdlIG5lZWQgYW4gZXh0ZW50IHRoYXQgaW50ZXJzZWN0cyB0aGUgcmVhbCB3b3JsZFxuICAgICAgLy8gKC0xODDCsCB0byArMTgwwrApLiBUbyBzdXBwb3J0IGdlb21ldHJpZXMgaW4gYSBjb29yZGluYXRlIHJhbmdlIGZyb20gLTU0MMKwXG4gICAgICAvLyB0byArNTQwwrAsIHdlIGFkZCBhdCBsZWFzdCAxIHdvcmxkIHdpZHRoIG9uIGVhY2ggc2lkZSBvZiB0aGUgcHJvamVjdGlvblxuICAgICAgLy8gZXh0ZW50LiBJZiB0aGUgdmlld3BvcnQgaXMgd2lkZXIgdGhhbiB0aGUgd29ybGQsIHdlIG5lZWQgdG8gYWRkIGhhbGYgb2ZcbiAgICAgIC8vIHRoZSB2aWV3cG9ydCB3aWR0aCB0byBtYWtlIHN1cmUgd2UgY292ZXIgdGhlIHdob2xlIHZpZXdwb3J0LlxuICAgICAgdmFyIHdvcmxkV2lkdGggPSBnZXRXaWR0aChwcm9qZWN0aW9uRXh0ZW50KTtcbiAgICAgIHZhciBndXR0ZXIgPSBNYXRoLm1heChnZXRXaWR0aChleHRlbnQpIC8gMiwgd29ybGRXaWR0aCk7XG4gICAgICBleHRlbnRbMF0gPSBwcm9qZWN0aW9uRXh0ZW50WzBdIC0gZ3V0dGVyO1xuICAgICAgZXh0ZW50WzJdID0gcHJvamVjdGlvbkV4dGVudFsyXSArIGd1dHRlcjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuZGlydHlfICYmXG4gICAgICAgIHRoaXMucmVuZGVyZWRSZXNvbHV0aW9uXyA9PSByZXNvbHV0aW9uICYmXG4gICAgICAgIHRoaXMucmVuZGVyZWRSZXZpc2lvbl8gPT0gdmVjdG9yTGF5ZXJSZXZpc2lvbiAmJlxuICAgICAgICB0aGlzLnJlbmRlcmVkUmVuZGVyT3JkZXJfID09IHZlY3RvckxheWVyUmVuZGVyT3JkZXIgJiZcbiAgICAgICAgY29udGFpbnNFeHRlbnQodGhpcy5yZW5kZXJlZEV4dGVudF8sIGV4dGVudCkpIHtcbiAgICAgIHRoaXMucmVwbGF5R3JvdXBDaGFuZ2VkID0gZmFsc2U7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLnJlcGxheUdyb3VwXyA9IG51bGw7XG5cbiAgICB0aGlzLmRpcnR5XyA9IGZhbHNlO1xuXG4gICAgdmFyIHJlcGxheUdyb3VwID0gbmV3IENhbnZhc1JlcGxheUdyb3VwKFxuICAgICAgZ2V0UmVuZGVyVG9sZXJhbmNlKHJlc29sdXRpb24sIHBpeGVsUmF0aW8pLCBleHRlbnQsIHJlc29sdXRpb24sXG4gICAgICBwaXhlbFJhdGlvLCB2ZWN0b3JTb3VyY2UuZ2V0T3ZlcmxhcHMoKSwgdGhpcy5kZWNsdXR0ZXJUcmVlXywgdmVjdG9yTGF5ZXIuZ2V0UmVuZGVyQnVmZmVyKCkpO1xuICAgIHZlY3RvclNvdXJjZS5sb2FkRmVhdHVyZXMoZXh0ZW50LCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqIEB0aGlzIHtDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyfVxuICAgICAqL1xuICAgIHZhciByZW5kZXIgPSBmdW5jdGlvbihmZWF0dXJlKSB7XG4gICAgICB2YXIgc3R5bGVzO1xuICAgICAgdmFyIHN0eWxlRnVuY3Rpb24gPSBmZWF0dXJlLmdldFN0eWxlRnVuY3Rpb24oKSB8fCB2ZWN0b3JMYXllci5nZXRTdHlsZUZ1bmN0aW9uKCk7XG4gICAgICBpZiAoc3R5bGVGdW5jdGlvbikge1xuICAgICAgICBzdHlsZXMgPSBzdHlsZUZ1bmN0aW9uKGZlYXR1cmUsIHJlc29sdXRpb24pO1xuICAgICAgfVxuICAgICAgaWYgKHN0eWxlcykge1xuICAgICAgICB2YXIgZGlydHkgPSB0aGlzLnJlbmRlckZlYXR1cmUoXG4gICAgICAgICAgZmVhdHVyZSwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbywgc3R5bGVzLCByZXBsYXlHcm91cCk7XG4gICAgICAgIHRoaXMuZGlydHlfID0gdGhpcy5kaXJ0eV8gfHwgZGlydHk7XG4gICAgICB9XG4gICAgfS5iaW5kKHRoaXMpO1xuICAgIGlmICh2ZWN0b3JMYXllclJlbmRlck9yZGVyKSB7XG4gICAgICAvKiogQHR5cGUge0FycmF5PGltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59ICovXG4gICAgICB2YXIgZmVhdHVyZXMgPSBbXTtcbiAgICAgIHZlY3RvclNvdXJjZS5mb3JFYWNoRmVhdHVyZUluRXh0ZW50KGV4dGVudCxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbihmZWF0dXJlKSB7XG4gICAgICAgICAgZmVhdHVyZXMucHVzaChmZWF0dXJlKTtcbiAgICAgICAgfSk7XG4gICAgICBmZWF0dXJlcy5zb3J0KHZlY3RvckxheWVyUmVuZGVyT3JkZXIpO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZmVhdHVyZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICByZW5kZXIoZmVhdHVyZXNbaV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2ZWN0b3JTb3VyY2UuZm9yRWFjaEZlYXR1cmVJbkV4dGVudChleHRlbnQsIHJlbmRlcik7XG4gICAgfVxuICAgIHJlcGxheUdyb3VwLmZpbmlzaCgpO1xuXG4gICAgdGhpcy5yZW5kZXJlZFJlc29sdXRpb25fID0gcmVzb2x1dGlvbjtcbiAgICB0aGlzLnJlbmRlcmVkUmV2aXNpb25fID0gdmVjdG9yTGF5ZXJSZXZpc2lvbjtcbiAgICB0aGlzLnJlbmRlcmVkUmVuZGVyT3JkZXJfID0gdmVjdG9yTGF5ZXJSZW5kZXJPcmRlcjtcbiAgICB0aGlzLnJlbmRlcmVkRXh0ZW50XyA9IGV4dGVudDtcbiAgICB0aGlzLnJlcGxheUdyb3VwXyA9IHJlcGxheUdyb3VwO1xuXG4gICAgdGhpcy5yZXBsYXlHcm91cENoYW5nZWQgPSB0cnVlO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fEFycmF5PGltcG9ydChcIi4uLy4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHQ+fSBzdHlsZXMgVGhlIHN0eWxlIG9yIGFycmF5IG9mIHN0eWxlcy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9yZW5kZXIvY2FudmFzL1JlcGxheUdyb3VwLmpzXCIpLmRlZmF1bHR9IHJlcGxheUdyb3VwIFJlcGxheSBncm91cC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIGFuIGltYWdlIGlzIGxvYWRpbmcuXG4gICAqL1xuICBDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJGZWF0dXJlID0gZnVuY3Rpb24gcmVuZGVyRmVhdHVyZSQxIChmZWF0dXJlLCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvLCBzdHlsZXMsIHJlcGxheUdyb3VwKSB7XG4gICAgaWYgKCFzdHlsZXMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIGxvYWRpbmcgPSBmYWxzZTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzdHlsZXMpKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBzdHlsZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBsb2FkaW5nID0gcmVuZGVyRmVhdHVyZShcbiAgICAgICAgICByZXBsYXlHcm91cCwgZmVhdHVyZSwgc3R5bGVzW2ldLFxuICAgICAgICAgIGdldFNxdWFyZWRSZW5kZXJUb2xlcmFuY2UocmVzb2x1dGlvbiwgcGl4ZWxSYXRpbyksXG4gICAgICAgICAgdGhpcy5oYW5kbGVTdHlsZUltYWdlQ2hhbmdlXywgdGhpcykgfHwgbG9hZGluZztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbG9hZGluZyA9IHJlbmRlckZlYXR1cmUoXG4gICAgICAgIHJlcGxheUdyb3VwLCBmZWF0dXJlLCBzdHlsZXMsXG4gICAgICAgIGdldFNxdWFyZWRSZW5kZXJUb2xlcmFuY2UocmVzb2x1dGlvbiwgcGl4ZWxSYXRpbyksXG4gICAgICAgIHRoaXMuaGFuZGxlU3R5bGVJbWFnZUNoYW5nZV8sIHRoaXMpO1xuICAgIH1cbiAgICByZXR1cm4gbG9hZGluZztcbiAgfTtcblxuICByZXR1cm4gQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlcjtcbn0oQ2FudmFzTGF5ZXJSZW5kZXJlcikpO1xuXG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHRoaXMgcmVuZGVyZXIgaGFuZGxlcyB0aGUgcHJvdmlkZWQgbGF5ZXIuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IGxheWVyIFRoZSBjYW5kaWRhdGUgbGF5ZXIuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgcmVuZGVyZXIgY2FuIHJlbmRlciB0aGUgbGF5ZXIuXG4gKi9cbkNhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXJbJ2hhbmRsZXMnXSA9IGZ1bmN0aW9uKGxheWVyKSB7XG4gIHJldHVybiBsYXllci5nZXRUeXBlKCkgPT09IExheWVyVHlwZS5WRUNUT1I7XG59O1xuXG5cbi8qKlxuICogQ3JlYXRlIGEgbGF5ZXIgcmVuZGVyZXIuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0fSBtYXBSZW5kZXJlciBUaGUgbWFwIHJlbmRlcmVyLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0fSBsYXllciBUaGUgbGF5ZXIgdG8gYmUgcmVuZGVyZXJkLlxuICogQHJldHVybiB7Q2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlcn0gVGhlIGxheWVyIHJlbmRlcmVyLlxuICovXG5DYW52YXNWZWN0b3JMYXllclJlbmRlcmVyWydjcmVhdGUnXSA9IGZ1bmN0aW9uKG1hcFJlbmRlcmVyLCBsYXllcikge1xuICByZXR1cm4gbmV3IENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIoLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9sYXllci9WZWN0b3IuanNcIikuZGVmYXVsdH0gKi8gKGxheWVyKSk7XG59O1xuXG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXI7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZlY3RvckxheWVyLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXJlci9jYW52YXMvVmVjdG9yVGlsZUxheWVyXG4gKi9cbmltcG9ydCB7Z2V0VWlkfSBmcm9tICcuLi8uLi91dGlsLmpzJztcbmltcG9ydCBMYXllclR5cGUgZnJvbSAnLi4vLi4vTGF5ZXJUeXBlLmpzJztcbmltcG9ydCBUaWxlU3RhdGUgZnJvbSAnLi4vLi4vVGlsZVN0YXRlLmpzJztcbmltcG9ydCBWaWV3SGludCBmcm9tICcuLi8uLi9WaWV3SGludC5qcyc7XG5pbXBvcnQge2NyZWF0ZUNhbnZhc0NvbnRleHQyRH0gZnJvbSAnLi4vLi4vZG9tLmpzJztcbmltcG9ydCB7bGlzdGVuLCB1bmxpc3Rlbn0gZnJvbSAnLi4vLi4vZXZlbnRzLmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgcmJ1c2ggZnJvbSAncmJ1c2gnO1xuaW1wb3J0IHtidWZmZXIsIGNvbnRhaW5zQ29vcmRpbmF0ZSwgZXF1YWxzLCBnZXRJbnRlcnNlY3Rpb24sIGdldFRvcExlZnQsIGludGVyc2VjdHN9IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgVmVjdG9yVGlsZVJlbmRlclR5cGUgZnJvbSAnLi4vLi4vbGF5ZXIvVmVjdG9yVGlsZVJlbmRlclR5cGUuanMnO1xuaW1wb3J0IHtlcXVpdmFsZW50IGFzIGVxdWl2YWxlbnRQcm9qZWN0aW9ufSBmcm9tICcuLi8uLi9wcm9qLmpzJztcbmltcG9ydCBVbml0cyBmcm9tICcuLi8uLi9wcm9qL1VuaXRzLmpzJztcbmltcG9ydCBSZXBsYXlUeXBlIGZyb20gJy4uLy4uL3JlbmRlci9SZXBsYXlUeXBlLmpzJztcbmltcG9ydCB7bGFiZWxDYWNoZSwgcm90YXRlQXRPZmZzZXR9IGZyb20gJy4uLy4uL3JlbmRlci9jYW52YXMuanMnO1xuaW1wb3J0IENhbnZhc1JlcGxheUdyb3VwLCB7cmVwbGF5RGVjbHV0dGVyfSBmcm9tICcuLi8uLi9yZW5kZXIvY2FudmFzL1JlcGxheUdyb3VwLmpzJztcbmltcG9ydCB7T1JERVJ9IGZyb20gJy4uLy4uL3JlbmRlci9yZXBsYXkuanMnO1xuaW1wb3J0IENhbnZhc1RpbGVMYXllclJlbmRlcmVyIGZyb20gJy4vVGlsZUxheWVyLmpzJztcbmltcG9ydCB7Z2V0U3F1YXJlZFRvbGVyYW5jZSBhcyBnZXRTcXVhcmVkUmVuZGVyVG9sZXJhbmNlLCByZW5kZXJGZWF0dXJlfSBmcm9tICcuLi92ZWN0b3IuanMnO1xuaW1wb3J0IHtcbiAgY3JlYXRlIGFzIGNyZWF0ZVRyYW5zZm9ybSxcbiAgY29tcG9zZSBhcyBjb21wb3NlVHJhbnNmb3JtLFxuICByZXNldCBhcyByZXNldFRyYW5zZm9ybSxcbiAgc2NhbGUgYXMgc2NhbGVUcmFuc2Zvcm0sXG4gIHRyYW5zbGF0ZSBhcyB0cmFuc2xhdGVUcmFuc2Zvcm1cbn0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtLmpzJztcblxuXG4vKipcbiAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgQXJyYXk8aW1wb3J0KFwiLi4vLi4vcmVuZGVyL1JlcGxheVR5cGUuanNcIikuZGVmYXVsdD4+fVxuICovXG52YXIgSU1BR0VfUkVQTEFZUyA9IHtcbiAgJ2ltYWdlJzogW1JlcGxheVR5cGUuUE9MWUdPTiwgUmVwbGF5VHlwZS5DSVJDTEUsXG4gICAgUmVwbGF5VHlwZS5MSU5FX1NUUklORywgUmVwbGF5VHlwZS5JTUFHRSwgUmVwbGF5VHlwZS5URVhUXSxcbiAgJ2h5YnJpZCc6IFtSZXBsYXlUeXBlLlBPTFlHT04sIFJlcGxheVR5cGUuTElORV9TVFJJTkddXG59O1xuXG5cbi8qKlxuICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBBcnJheTxpbXBvcnQoXCIuLi8uLi9yZW5kZXIvUmVwbGF5VHlwZS5qc1wiKS5kZWZhdWx0Pj59XG4gKi9cbnZhciBWRUNUT1JfUkVQTEFZUyA9IHtcbiAgJ2ltYWdlJzogW1JlcGxheVR5cGUuREVGQVVMVF0sXG4gICdoeWJyaWQnOiBbUmVwbGF5VHlwZS5JTUFHRSwgUmVwbGF5VHlwZS5URVhULCBSZXBsYXlUeXBlLkRFRkFVTFRdLFxuICAndmVjdG9yJzogT1JERVJcbn07XG5cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDYW52YXMgcmVuZGVyZXIgZm9yIHZlY3RvciB0aWxlIGxheWVycy5cbiAqIEBhcGlcbiAqL1xudmFyIENhbnZhc1ZlY3RvclRpbGVMYXllclJlbmRlcmVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIpIHtcbiAgZnVuY3Rpb24gQ2FudmFzVmVjdG9yVGlsZUxheWVyUmVuZGVyZXIobGF5ZXIpIHtcblxuICAgIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLmNhbGwodGhpcywgbGF5ZXIsIHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogRGVjbHV0dGVyIHRyZWUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmRlY2x1dHRlclRyZWVfID0gbGF5ZXIuZ2V0RGVjbHV0dGVyKCkgPyByYnVzaCg5LCB1bmRlZmluZWQpIDogbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5kaXJ0eV8gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVkTGF5ZXJSZXZpc2lvbl87XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICAgICAqL1xuICAgIHRoaXMudG1wVHJhbnNmb3JtXyA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xuXG4gICAgdmFyIHJlbmRlck1vZGUgPSBsYXllci5nZXRSZW5kZXJNb2RlKCk7XG5cbiAgICAvLyBVc2UgbG93ZXIgcmVzb2x1dGlvbiBmb3IgcHVyZSB2ZWN0b3IgcmVuZGVyaW5nLiBDbG9zZXN0IHJlc29sdXRpb24gb3RoZXJ3aXNlLlxuICAgIHRoaXMuekRpcmVjdGlvbiA9IHJlbmRlck1vZGUgPT09IFZlY3RvclRpbGVSZW5kZXJUeXBlLlZFQ1RPUiA/IDEgOiAwO1xuXG4gICAgaWYgKHJlbmRlck1vZGUgIT09IFZlY3RvclRpbGVSZW5kZXJUeXBlLlZFQ1RPUikge1xuICAgICAgdGhpcy5jb250ZXh0ID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKCk7XG4gICAgfVxuXG5cbiAgICBsaXN0ZW4obGFiZWxDYWNoZSwgRXZlbnRUeXBlLkNMRUFSLCB0aGlzLmhhbmRsZUZvbnRzQ2hhbmdlZF8sIHRoaXMpO1xuXG4gIH1cblxuICBpZiAoIENhbnZhc1RpbGVMYXllclJlbmRlcmVyICkgQ2FudmFzVmVjdG9yVGlsZUxheWVyUmVuZGVyZXIuX19wcm90b19fID0gQ2FudmFzVGlsZUxheWVyUmVuZGVyZXI7XG4gIENhbnZhc1ZlY3RvclRpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIENhbnZhc1RpbGVMYXllclJlbmRlcmVyICYmIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZSApO1xuICBDYW52YXNWZWN0b3JUaWxlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDYW52YXNWZWN0b3JUaWxlTGF5ZXJSZW5kZXJlcjtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIENhbnZhc1ZlY3RvclRpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbiBkaXNwb3NlSW50ZXJuYWwgKCkge1xuICAgIHVubGlzdGVuKGxhYmVsQ2FjaGUsIEV2ZW50VHlwZS5DTEVBUiwgdGhpcy5oYW5kbGVGb250c0NoYW5nZWRfLCB0aGlzKTtcbiAgICBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBDYW52YXNWZWN0b3JUaWxlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZ2V0VGlsZSA9IGZ1bmN0aW9uIGdldFRpbGUgKHosIHgsIHksIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICB2YXIgdGlsZSA9IENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5nZXRUaWxlLmNhbGwodGhpcywgeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbik7XG4gICAgaWYgKHRpbGUuZ2V0U3RhdGUoKSA9PT0gVGlsZVN0YXRlLkxPQURFRCkge1xuICAgICAgdGhpcy5jcmVhdGVSZXBsYXlHcm91cF8oLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9WZWN0b3JJbWFnZVRpbGUuanNcIikuZGVmYXVsdH0gKi8gKHRpbGUpLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKTtcbiAgICAgIGlmICh0aGlzLmNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJUaWxlSW1hZ2VfKC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vVmVjdG9ySW1hZ2VUaWxlLmpzXCIpLmRlZmF1bHR9ICovICh0aWxlKSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aWxlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgQ2FudmFzVmVjdG9yVGlsZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLmdldFRpbGVJbWFnZSA9IGZ1bmN0aW9uIGdldFRpbGVJbWFnZSAodGlsZSkge1xuICAgIHZhciB0aWxlTGF5ZXIgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2xheWVyL1RpbGUuanNcIikuZGVmYXVsdH0gKi8gKHRoaXMuZ2V0TGF5ZXIoKSk7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vVmVjdG9ySW1hZ2VUaWxlLmpzXCIpLmRlZmF1bHR9ICovICh0aWxlKS5nZXRJbWFnZSh0aWxlTGF5ZXIpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgQ2FudmFzVmVjdG9yVGlsZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLnByZXBhcmVGcmFtZSA9IGZ1bmN0aW9uIHByZXBhcmVGcmFtZSAoZnJhbWVTdGF0ZSwgbGF5ZXJTdGF0ZSkge1xuICAgIHZhciBsYXllciA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vbGF5ZXIvVmVjdG9yLmpzXCIpLmRlZmF1bHR9ICovICh0aGlzLmdldExheWVyKCkpO1xuICAgIHZhciBsYXllclJldmlzaW9uID0gbGF5ZXIuZ2V0UmV2aXNpb24oKTtcbiAgICBpZiAodGhpcy5yZW5kZXJlZExheWVyUmV2aXNpb25fICE9IGxheWVyUmV2aXNpb24pIHtcbiAgICAgIHRoaXMucmVuZGVyZWRUaWxlcy5sZW5ndGggPSAwO1xuICAgIH1cbiAgICB0aGlzLnJlbmRlcmVkTGF5ZXJSZXZpc2lvbl8gPSBsYXllclJldmlzaW9uO1xuICAgIHJldHVybiBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucHJlcGFyZUZyYW1lLmNhbGwodGhpcywgZnJhbWVTdGF0ZSwgbGF5ZXJTdGF0ZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vVmVjdG9ySW1hZ2VUaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVGlsZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIENhbnZhc1ZlY3RvclRpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVSZXBsYXlHcm91cF8gPSBmdW5jdGlvbiBjcmVhdGVSZXBsYXlHcm91cF8gKHRpbGUsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBsYXllciA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vbGF5ZXIvVmVjdG9yLmpzXCIpLmRlZmF1bHR9ICovICh0aGlzLmdldExheWVyKCkpO1xuICAgIHZhciByZXZpc2lvbiA9IGxheWVyLmdldFJldmlzaW9uKCk7XG4gICAgdmFyIHJlbmRlck9yZGVyID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9yZW5kZXIuanNcIikuT3JkZXJGdW5jdGlvbn0gKi8gKGxheWVyLmdldFJlbmRlck9yZGVyKCkpIHx8IG51bGw7XG5cbiAgICB2YXIgcmVwbGF5U3RhdGUgPSB0aWxlLmdldFJlcGxheVN0YXRlKGxheWVyKTtcbiAgICBpZiAoIXJlcGxheVN0YXRlLmRpcnR5ICYmIHJlcGxheVN0YXRlLnJlbmRlcmVkUmV2aXNpb24gPT0gcmV2aXNpb24gJiZcbiAgICAgICAgcmVwbGF5U3RhdGUucmVuZGVyZWRSZW5kZXJPcmRlciA9PSByZW5kZXJPcmRlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBzb3VyY2UgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL3NvdXJjZS9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHR9ICovIChsYXllci5nZXRTb3VyY2UoKSk7XG4gICAgdmFyIHNvdXJjZVRpbGVHcmlkID0gc291cmNlLmdldFRpbGVHcmlkKCk7XG4gICAgdmFyIHRpbGVHcmlkID0gc291cmNlLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICB2YXIgcmVzb2x1dGlvbiA9IHRpbGVHcmlkLmdldFJlc29sdXRpb24odGlsZS50aWxlQ29vcmRbMF0pO1xuICAgIHZhciB0aWxlRXh0ZW50ID0gdGlsZS5leHRlbnQ7XG5cbiAgICB2YXIgbG9vcCA9IGZ1bmN0aW9uICggdCwgdHQgKSB7XG4gICAgICB2YXIgc291cmNlVGlsZSA9IHRpbGUuZ2V0VGlsZSh0aWxlLnRpbGVLZXlzW3RdKTtcbiAgICAgIGlmIChzb3VyY2VUaWxlLmdldFN0YXRlKCkgIT0gVGlsZVN0YXRlLkxPQURFRCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBzb3VyY2VUaWxlQ29vcmQgPSBzb3VyY2VUaWxlLnRpbGVDb29yZDtcbiAgICAgIHZhciBzb3VyY2VUaWxlRXh0ZW50ID0gc291cmNlVGlsZUdyaWQuZ2V0VGlsZUNvb3JkRXh0ZW50KHNvdXJjZVRpbGVDb29yZCk7XG4gICAgICB2YXIgc2hhcmVkRXh0ZW50ID0gZ2V0SW50ZXJzZWN0aW9uKHRpbGVFeHRlbnQsIHNvdXJjZVRpbGVFeHRlbnQpO1xuICAgICAgdmFyIGJ1ZmZlcmVkRXh0ZW50ID0gZXF1YWxzKHNvdXJjZVRpbGVFeHRlbnQsIHNoYXJlZEV4dGVudCkgPyBudWxsIDpcbiAgICAgICAgYnVmZmVyKHNoYXJlZEV4dGVudCwgbGF5ZXIuZ2V0UmVuZGVyQnVmZmVyKCkgKiByZXNvbHV0aW9uLCB0aGlzJDEudG1wRXh0ZW50KTtcbiAgICAgIHZhciB0aWxlUHJvamVjdGlvbiA9IHNvdXJjZVRpbGUuZ2V0UHJvamVjdGlvbigpO1xuICAgICAgdmFyIHJlcHJvamVjdCA9IGZhbHNlO1xuICAgICAgaWYgKCFlcXVpdmFsZW50UHJvamVjdGlvbihwcm9qZWN0aW9uLCB0aWxlUHJvamVjdGlvbikpIHtcbiAgICAgICAgcmVwcm9qZWN0ID0gdHJ1ZTtcbiAgICAgICAgc291cmNlVGlsZS5zZXRQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgICAgfVxuICAgICAgcmVwbGF5U3RhdGUuZGlydHkgPSBmYWxzZTtcbiAgICAgIHZhciByZXBsYXlHcm91cCA9IG5ldyBDYW52YXNSZXBsYXlHcm91cCgwLCBzaGFyZWRFeHRlbnQsIHJlc29sdXRpb24sXG4gICAgICAgIHBpeGVsUmF0aW8sIHNvdXJjZS5nZXRPdmVybGFwcygpLCB0aGlzJDEuZGVjbHV0dGVyVHJlZV8sIGxheWVyLmdldFJlbmRlckJ1ZmZlcigpKTtcbiAgICAgIHZhciBzcXVhcmVkVG9sZXJhbmNlID0gZ2V0U3F1YXJlZFJlbmRlclRvbGVyYW5jZShyZXNvbHV0aW9uLCBwaXhlbFJhdGlvKTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgICAqIEB0aGlzIHtDYW52YXNWZWN0b3JUaWxlTGF5ZXJSZW5kZXJlcn1cbiAgICAgICAqL1xuICAgICAgdmFyIHJlbmRlciA9IGZ1bmN0aW9uKGZlYXR1cmUpIHtcbiAgICAgICAgdmFyIHN0eWxlcztcbiAgICAgICAgdmFyIHN0eWxlRnVuY3Rpb24gPSBmZWF0dXJlLmdldFN0eWxlRnVuY3Rpb24oKSB8fCBsYXllci5nZXRTdHlsZUZ1bmN0aW9uKCk7XG4gICAgICAgIGlmIChzdHlsZUZ1bmN0aW9uKSB7XG4gICAgICAgICAgc3R5bGVzID0gc3R5bGVGdW5jdGlvbihmZWF0dXJlLCByZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3R5bGVzKSB7XG4gICAgICAgICAgdmFyIGRpcnR5ID0gdGhpcy5yZW5kZXJGZWF0dXJlKGZlYXR1cmUsIHNxdWFyZWRUb2xlcmFuY2UsIHN0eWxlcywgcmVwbGF5R3JvdXApO1xuICAgICAgICAgIHRoaXMuZGlydHlfID0gdGhpcy5kaXJ0eV8gfHwgZGlydHk7XG4gICAgICAgICAgcmVwbGF5U3RhdGUuZGlydHkgPSByZXBsYXlTdGF0ZS5kaXJ0eSB8fCBkaXJ0eTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdmFyIGZlYXR1cmVzID0gc291cmNlVGlsZS5nZXRGZWF0dXJlcygpO1xuICAgICAgaWYgKHJlbmRlck9yZGVyICYmIHJlbmRlck9yZGVyICE9PSByZXBsYXlTdGF0ZS5yZW5kZXJlZFJlbmRlck9yZGVyKSB7XG4gICAgICAgIGZlYXR1cmVzLnNvcnQocmVuZGVyT3JkZXIpO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZmVhdHVyZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgZmVhdHVyZSA9IGZlYXR1cmVzW2ldO1xuICAgICAgICBpZiAocmVwcm9qZWN0KSB7XG4gICAgICAgICAgaWYgKHRpbGVQcm9qZWN0aW9uLmdldFVuaXRzKCkgPT0gVW5pdHMuVElMRV9QSVhFTFMpIHtcbiAgICAgICAgICAgIC8vIHByb2plY3RlZCB0aWxlIGV4dGVudFxuICAgICAgICAgICAgdGlsZVByb2plY3Rpb24uc2V0V29ybGRFeHRlbnQoc291cmNlVGlsZUV4dGVudCk7XG4gICAgICAgICAgICAvLyB0aWxlIGV4dGVudCBpbiB0aWxlIHBpeGVsIHNwYWNlXG4gICAgICAgICAgICB0aWxlUHJvamVjdGlvbi5zZXRFeHRlbnQoc291cmNlVGlsZS5nZXRFeHRlbnQoKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZlYXR1cmUuZ2V0R2VvbWV0cnkoKS50cmFuc2Zvcm0odGlsZVByb2plY3Rpb24sIHByb2plY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYnVmZmVyZWRFeHRlbnQgfHwgaW50ZXJzZWN0cyhidWZmZXJlZEV4dGVudCwgZmVhdHVyZS5nZXRHZW9tZXRyeSgpLmdldEV4dGVudCgpKSkge1xuICAgICAgICAgIHJlbmRlci5jYWxsKHRoaXMkMSwgZmVhdHVyZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlcGxheUdyb3VwLmZpbmlzaCgpO1xuICAgICAgc291cmNlVGlsZS5zZXRSZXBsYXlHcm91cChsYXllciwgdGlsZS50aWxlQ29vcmQudG9TdHJpbmcoKSwgcmVwbGF5R3JvdXApO1xuICAgIH07XG5cbiAgICBmb3IgKHZhciB0ID0gMCwgdHQgPSB0aWxlLnRpbGVLZXlzLmxlbmd0aDsgdCA8IHR0OyArK3QpIGxvb3AoIHQsIHR0ICk7XG4gICAgcmVwbGF5U3RhdGUucmVuZGVyZWRSZXZpc2lvbiA9IHJldmlzaW9uO1xuICAgIHJlcGxheVN0YXRlLnJlbmRlcmVkUmVuZGVyT3JkZXIgPSByZW5kZXJPcmRlcjtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIENhbnZhc1ZlY3RvclRpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5mb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZSA9IGZ1bmN0aW9uIGZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlIChjb29yZGluYXRlLCBmcmFtZVN0YXRlLCBoaXRUb2xlcmFuY2UsIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgdmFyIHJlc29sdXRpb24gPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5yZXNvbHV0aW9uO1xuICAgIHZhciByb3RhdGlvbiA9IGZyYW1lU3RhdGUudmlld1N0YXRlLnJvdGF0aW9uO1xuICAgIGhpdFRvbGVyYW5jZSA9IGhpdFRvbGVyYW5jZSA9PSB1bmRlZmluZWQgPyAwIDogaGl0VG9sZXJhbmNlO1xuICAgIHZhciBsYXllciA9IHRoaXMuZ2V0TGF5ZXIoKTtcbiAgICAvKiogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBib29sZWFuPn0gKi9cbiAgICB2YXIgZmVhdHVyZXMgPSB7fTtcblxuICAgIHZhciByZW5kZXJlZFRpbGVzID0gLyoqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi8uLi9WZWN0b3JJbWFnZVRpbGUuanNcIikuZGVmYXVsdD59ICovICh0aGlzLnJlbmRlcmVkVGlsZXMpO1xuXG4gICAgdmFyIGJ1ZmZlcmVkRXh0ZW50LCBmb3VuZDtcbiAgICB2YXIgaSwgaWk7XG4gICAgZm9yIChpID0gMCwgaWkgPSByZW5kZXJlZFRpbGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIHZhciB0aWxlID0gcmVuZGVyZWRUaWxlc1tpXTtcbiAgICAgIGJ1ZmZlcmVkRXh0ZW50ID0gYnVmZmVyKHRpbGUuZXh0ZW50LCBoaXRUb2xlcmFuY2UgKiByZXNvbHV0aW9uLCBidWZmZXJlZEV4dGVudCk7XG4gICAgICBpZiAoIWNvbnRhaW5zQ29vcmRpbmF0ZShidWZmZXJlZEV4dGVudCwgY29vcmRpbmF0ZSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciB0ID0gMCwgdHQgPSB0aWxlLnRpbGVLZXlzLmxlbmd0aDsgdCA8IHR0OyArK3QpIHtcbiAgICAgICAgdmFyIHNvdXJjZVRpbGUgPSB0aWxlLmdldFRpbGUodGlsZS50aWxlS2V5c1t0XSk7XG4gICAgICAgIGlmIChzb3VyY2VUaWxlLmdldFN0YXRlKCkgIT0gVGlsZVN0YXRlLkxPQURFRCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXBsYXlHcm91cCA9IC8qKiBAdHlwZSB7Q2FudmFzUmVwbGF5R3JvdXB9ICovIChzb3VyY2VUaWxlLmdldFJlcGxheUdyb3VwKGxheWVyLFxuICAgICAgICAgIHRpbGUudGlsZUNvb3JkLnRvU3RyaW5nKCkpKTtcbiAgICAgICAgZm91bmQgPSBmb3VuZCB8fCByZXBsYXlHcm91cC5mb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZShjb29yZGluYXRlLCByZXNvbHV0aW9uLCByb3RhdGlvbiwgaGl0VG9sZXJhbmNlLCB7fSxcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgICAgICAgKiBAcmV0dXJuIHs/fSBDYWxsYmFjayByZXN1bHQuXG4gICAgICAgICAgICovXG4gICAgICAgICAgZnVuY3Rpb24oZmVhdHVyZSkge1xuICAgICAgICAgICAgdmFyIGtleSA9IGdldFVpZChmZWF0dXJlKTtcbiAgICAgICAgICAgIGlmICghKGtleSBpbiBmZWF0dXJlcykpIHtcbiAgICAgICAgICAgICAgZmVhdHVyZXNba2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIGZlYXR1cmUsIGxheWVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBudWxsKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZvdW5kO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1ZlY3RvclRpbGUuanNcIikuZGVmYXVsdH0gdGlsZSBUaWxlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgQ2FudmFzVmVjdG9yVGlsZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLmdldFJlcGxheVRyYW5zZm9ybV8gPSBmdW5jdGlvbiBnZXRSZXBsYXlUcmFuc2Zvcm1fICh0aWxlLCBmcmFtZVN0YXRlKSB7XG4gICAgdmFyIGxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgIHZhciBzb3VyY2UgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL3NvdXJjZS9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHR9ICovIChsYXllci5nZXRTb3VyY2UoKSk7XG4gICAgdmFyIHRpbGVHcmlkID0gc291cmNlLmdldFRpbGVHcmlkKCk7XG4gICAgdmFyIHRpbGVDb29yZCA9IHRpbGUudGlsZUNvb3JkO1xuICAgIHZhciB0aWxlUmVzb2x1dGlvbiA9IHRpbGVHcmlkLmdldFJlc29sdXRpb24odGlsZUNvb3JkWzBdKTtcbiAgICB2YXIgdmlld1N0YXRlID0gZnJhbWVTdGF0ZS52aWV3U3RhdGU7XG4gICAgdmFyIHBpeGVsUmF0aW8gPSBmcmFtZVN0YXRlLnBpeGVsUmF0aW87XG4gICAgdmFyIHJlbmRlclJlc29sdXRpb24gPSB2aWV3U3RhdGUucmVzb2x1dGlvbiAvIHBpeGVsUmF0aW87XG4gICAgdmFyIHRpbGVFeHRlbnQgPSB0aWxlR3JpZC5nZXRUaWxlQ29vcmRFeHRlbnQodGlsZUNvb3JkLCB0aGlzLnRtcEV4dGVudCk7XG4gICAgdmFyIGNlbnRlciA9IHZpZXdTdGF0ZS5jZW50ZXI7XG4gICAgdmFyIG9yaWdpbiA9IGdldFRvcExlZnQodGlsZUV4dGVudCk7XG4gICAgdmFyIHNpemUgPSBmcmFtZVN0YXRlLnNpemU7XG4gICAgdmFyIG9mZnNldFggPSBNYXRoLnJvdW5kKHBpeGVsUmF0aW8gKiBzaXplWzBdIC8gMik7XG4gICAgdmFyIG9mZnNldFkgPSBNYXRoLnJvdW5kKHBpeGVsUmF0aW8gKiBzaXplWzFdIC8gMik7XG4gICAgcmV0dXJuIGNvbXBvc2VUcmFuc2Zvcm0odGhpcy50bXBUcmFuc2Zvcm1fLFxuICAgICAgb2Zmc2V0WCwgb2Zmc2V0WSxcbiAgICAgIHRpbGVSZXNvbHV0aW9uIC8gcmVuZGVyUmVzb2x1dGlvbiwgdGlsZVJlc29sdXRpb24gLyByZW5kZXJSZXNvbHV0aW9uLFxuICAgICAgdmlld1N0YXRlLnJvdGF0aW9uLFxuICAgICAgKG9yaWdpblswXSAtIGNlbnRlclswXSkgLyB0aWxlUmVzb2x1dGlvbixcbiAgICAgIChjZW50ZXJbMV0gLSBvcmlnaW5bMV0pIC8gdGlsZVJlc29sdXRpb24pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0fSBldmVudCBFdmVudC5cbiAgICovXG4gIENhbnZhc1ZlY3RvclRpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5oYW5kbGVGb250c0NoYW5nZWRfID0gZnVuY3Rpb24gaGFuZGxlRm9udHNDaGFuZ2VkXyAoZXZlbnQpIHtcbiAgICB2YXIgbGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XG4gICAgaWYgKGxheWVyLmdldFZpc2libGUoKSAmJiB0aGlzLnJlbmRlcmVkTGF5ZXJSZXZpc2lvbl8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGF5ZXIuY2hhbmdlZCgpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogSGFuZGxlIGNoYW5nZXMgaW4gaW1hZ2Ugc3R5bGUgc3RhdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHR9IGV2ZW50IEltYWdlIHN0eWxlIGNoYW5nZSBldmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIENhbnZhc1ZlY3RvclRpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5oYW5kbGVTdHlsZUltYWdlQ2hhbmdlXyA9IGZ1bmN0aW9uIGhhbmRsZVN0eWxlSW1hZ2VDaGFuZ2VfIChldmVudCkge1xuICAgIHRoaXMucmVuZGVySWZSZWFkeUFuZFZpc2libGUoKTtcbiAgfTtcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIENhbnZhc1ZlY3RvclRpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5wb3N0Q29tcG9zZSA9IGZ1bmN0aW9uIHBvc3RDb21wb3NlIChjb250ZXh0LCBmcmFtZVN0YXRlLCBsYXllclN0YXRlKSB7XG4gICAgdmFyIGxheWVyID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9sYXllci9WZWN0b3IuanNcIikuZGVmYXVsdH0gKi8gKHRoaXMuZ2V0TGF5ZXIoKSk7XG4gICAgdmFyIHJlbmRlck1vZGUgPSBsYXllci5nZXRSZW5kZXJNb2RlKCk7XG4gICAgaWYgKHJlbmRlck1vZGUgIT0gVmVjdG9yVGlsZVJlbmRlclR5cGUuSU1BR0UpIHtcbiAgICAgIHZhciBkZWNsdXR0ZXJSZXBsYXlzID0gbGF5ZXIuZ2V0RGVjbHV0dGVyKCkgPyB7fSA6IG51bGw7XG4gICAgICB2YXIgc291cmNlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9zb3VyY2UvVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAobGF5ZXIuZ2V0U291cmNlKCkpO1xuICAgICAgdmFyIHJlcGxheVR5cGVzID0gVkVDVE9SX1JFUExBWVNbcmVuZGVyTW9kZV07XG4gICAgICB2YXIgcGl4ZWxSYXRpbyA9IGZyYW1lU3RhdGUucGl4ZWxSYXRpbztcbiAgICAgIHZhciByb3RhdGlvbiA9IGZyYW1lU3RhdGUudmlld1N0YXRlLnJvdGF0aW9uO1xuICAgICAgdmFyIHNpemUgPSBmcmFtZVN0YXRlLnNpemU7XG4gICAgICB2YXIgb2Zmc2V0WCwgb2Zmc2V0WTtcbiAgICAgIGlmIChyb3RhdGlvbikge1xuICAgICAgICBvZmZzZXRYID0gTWF0aC5yb3VuZChwaXhlbFJhdGlvICogc2l6ZVswXSAvIDIpO1xuICAgICAgICBvZmZzZXRZID0gTWF0aC5yb3VuZChwaXhlbFJhdGlvICogc2l6ZVsxXSAvIDIpO1xuICAgICAgICByb3RhdGVBdE9mZnNldChjb250ZXh0LCAtcm90YXRpb24sIG9mZnNldFgsIG9mZnNldFkpO1xuICAgICAgfVxuICAgICAgaWYgKGRlY2x1dHRlclJlcGxheXMpIHtcbiAgICAgICAgdGhpcy5kZWNsdXR0ZXJUcmVlXy5jbGVhcigpO1xuICAgICAgfVxuICAgICAgdmFyIHZpZXdIaW50cyA9IGZyYW1lU3RhdGUudmlld0hpbnRzO1xuICAgICAgdmFyIHNuYXBUb1BpeGVsID0gISh2aWV3SGludHNbVmlld0hpbnQuQU5JTUFUSU5HXSB8fCB2aWV3SGludHNbVmlld0hpbnQuSU5URVJBQ1RJTkddKTtcbiAgICAgIHZhciB0aWxlcyA9IHRoaXMucmVuZGVyZWRUaWxlcztcbiAgICAgIHZhciB0aWxlR3JpZCA9IHNvdXJjZS5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24oZnJhbWVTdGF0ZS52aWV3U3RhdGUucHJvamVjdGlvbik7XG4gICAgICB2YXIgY2xpcHMgPSBbXTtcbiAgICAgIHZhciB6cyA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IHRpbGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciB0aWxlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9WZWN0b3JJbWFnZVRpbGUuanNcIikuZGVmYXVsdH0gKi8gKHRpbGVzW2ldKTtcbiAgICAgICAgaWYgKHRpbGUuZ2V0U3RhdGUoKSA9PSBUaWxlU3RhdGUuQUJPUlQpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGlsZUNvb3JkID0gdGlsZS50aWxlQ29vcmQ7XG4gICAgICAgIHZhciB3b3JsZE9mZnNldCA9IHRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudCh0aWxlQ29vcmQsIHRoaXMudG1wRXh0ZW50KVswXSAtIHRpbGUuZXh0ZW50WzBdO1xuICAgICAgICB2YXIgdHJhbnNmb3JtID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKHZhciB0ID0gMCwgdHQgPSB0aWxlLnRpbGVLZXlzLmxlbmd0aDsgdCA8IHR0OyArK3QpIHtcbiAgICAgICAgICB2YXIgc291cmNlVGlsZSA9IHRpbGUuZ2V0VGlsZSh0aWxlLnRpbGVLZXlzW3RdKTtcbiAgICAgICAgICBpZiAoc291cmNlVGlsZS5nZXRTdGF0ZSgpICE9IFRpbGVTdGF0ZS5MT0FERUQpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgcmVwbGF5R3JvdXAgPSAvKiogQHR5cGUge0NhbnZhc1JlcGxheUdyb3VwfSAqLyAoc291cmNlVGlsZS5nZXRSZXBsYXlHcm91cChsYXllciwgdGlsZUNvb3JkLnRvU3RyaW5nKCkpKTtcbiAgICAgICAgICBpZiAoIXJlcGxheUdyb3VwIHx8ICFyZXBsYXlHcm91cC5oYXNSZXBsYXlzKHJlcGxheVR5cGVzKSkge1xuICAgICAgICAgICAgLy8gc291cmNlVGlsZSB3YXMgbm90IHlldCBsb2FkZWQgd2hlbiB0aGlzLmNyZWF0ZVJlcGxheUdyb3VwXygpIHdhc1xuICAgICAgICAgICAgLy8gY2FsbGVkLCBvciBpdCBoYXMgbm8gcmVwbGF5cyBvZiB0aGUgdHlwZXMgd2Ugd2FudCB0byByZW5kZXJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIXRyYW5zZm9ybSkge1xuICAgICAgICAgICAgdHJhbnNmb3JtID0gdGhpcy5nZXRUcmFuc2Zvcm0oZnJhbWVTdGF0ZSwgd29ybGRPZmZzZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgY3VycmVudFogPSBzb3VyY2VUaWxlLnRpbGVDb29yZFswXTtcbiAgICAgICAgICB2YXIgY3VycmVudENsaXAgPSByZXBsYXlHcm91cC5nZXRDbGlwQ29vcmRzKHRyYW5zZm9ybSk7XG4gICAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGxheWVyU3RhdGUub3BhY2l0eTtcbiAgICAgICAgICAvLyBDcmVhdGUgYSBjbGlwIG1hc2sgZm9yIHJlZ2lvbnMgaW4gdGhpcyBsb3cgcmVzb2x1dGlvbiB0aWxlIHRoYXQgYXJlXG4gICAgICAgICAgLy8gYWxyZWFkeSBmaWxsZWQgYnkgYSBoaWdoZXIgcmVzb2x1dGlvbiB0aWxlXG4gICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpqID0gY2xpcHMubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICAgICAgdmFyIGNsaXAgPSBjbGlwc1tqXTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50WiA8IHpzW2pdKSB7XG4gICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgIC8vIGNvdW50ZXItY2xvY2t3aXNlIChvdXRlciByaW5nKSBmb3IgY3VycmVudCB0aWxlXG4gICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKGN1cnJlbnRDbGlwWzBdLCBjdXJyZW50Q2xpcFsxXSk7XG4gICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGN1cnJlbnRDbGlwWzJdLCBjdXJyZW50Q2xpcFszXSk7XG4gICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGN1cnJlbnRDbGlwWzRdLCBjdXJyZW50Q2xpcFs1XSk7XG4gICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGN1cnJlbnRDbGlwWzZdLCBjdXJyZW50Q2xpcFs3XSk7XG4gICAgICAgICAgICAgIC8vIGNsb2Nrd2lzZSAoaW5uZXIgcmluZykgZm9yIGhpZ2hlciByZXNvbHV0aW9uIHRpbGVcbiAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oY2xpcFs2XSwgY2xpcFs3XSk7XG4gICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGNsaXBbNF0sIGNsaXBbNV0pO1xuICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhjbGlwWzJdLCBjbGlwWzNdKTtcbiAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oY2xpcFswXSwgY2xpcFsxXSk7XG4gICAgICAgICAgICAgIGNvbnRleHQuY2xpcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXBsYXlHcm91cC5yZXBsYXkoY29udGV4dCwgdHJhbnNmb3JtLCByb3RhdGlvbiwge30sIHNuYXBUb1BpeGVsLCByZXBsYXlUeXBlcywgZGVjbHV0dGVyUmVwbGF5cyk7XG4gICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgICAgY2xpcHMucHVzaChjdXJyZW50Q2xpcCk7XG4gICAgICAgICAgenMucHVzaChjdXJyZW50Wik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChkZWNsdXR0ZXJSZXBsYXlzKSB7XG4gICAgICAgIHJlcGxheURlY2x1dHRlcihkZWNsdXR0ZXJSZXBsYXlzLCBjb250ZXh0LCByb3RhdGlvbiwgc25hcFRvUGl4ZWwpO1xuICAgICAgfVxuICAgICAgaWYgKHJvdGF0aW9uKSB7XG4gICAgICAgIHJvdGF0ZUF0T2Zmc2V0KGNvbnRleHQsIHJvdGF0aW9uLFxuICAgICAgICAgIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAob2Zmc2V0WCksIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAob2Zmc2V0WSkpO1xuICAgICAgfVxuICAgIH1cbiAgICBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucG9zdENvbXBvc2UuY2FsbCh0aGlzLCBjb250ZXh0LCBmcmFtZVN0YXRlLCBsYXllclN0YXRlKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR8QXJyYXk8aW1wb3J0KFwiLi4vLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdD59IHN0eWxlcyBUaGUgc3R5bGUgb3IgYXJyYXkgb2Ygc3R5bGVzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3JlbmRlci9jYW52YXMvUmVwbGF5R3JvdXAuanNcIikuZGVmYXVsdH0gcmVwbGF5R3JvdXAgUmVwbGF5IGdyb3VwLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgYW4gaW1hZ2UgaXMgbG9hZGluZy5cbiAgICovXG4gIENhbnZhc1ZlY3RvclRpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJGZWF0dXJlID0gZnVuY3Rpb24gcmVuZGVyRmVhdHVyZSQxIChmZWF0dXJlLCBzcXVhcmVkVG9sZXJhbmNlLCBzdHlsZXMsIHJlcGxheUdyb3VwKSB7XG4gICAgaWYgKCFzdHlsZXMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIGxvYWRpbmcgPSBmYWxzZTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzdHlsZXMpKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBzdHlsZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBsb2FkaW5nID0gcmVuZGVyRmVhdHVyZShcbiAgICAgICAgICByZXBsYXlHcm91cCwgZmVhdHVyZSwgc3R5bGVzW2ldLCBzcXVhcmVkVG9sZXJhbmNlLFxuICAgICAgICAgIHRoaXMuaGFuZGxlU3R5bGVJbWFnZUNoYW5nZV8sIHRoaXMpIHx8IGxvYWRpbmc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvYWRpbmcgPSByZW5kZXJGZWF0dXJlKFxuICAgICAgICByZXBsYXlHcm91cCwgZmVhdHVyZSwgc3R5bGVzLCBzcXVhcmVkVG9sZXJhbmNlLFxuICAgICAgICB0aGlzLmhhbmRsZVN0eWxlSW1hZ2VDaGFuZ2VfLCB0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIGxvYWRpbmc7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vVmVjdG9ySW1hZ2VUaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVGlsZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIENhbnZhc1ZlY3RvclRpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJUaWxlSW1hZ2VfID0gZnVuY3Rpb24gcmVuZGVyVGlsZUltYWdlXyAodGlsZSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgIHZhciBsYXllciA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vbGF5ZXIvVmVjdG9yLmpzXCIpLmRlZmF1bHR9ICovICh0aGlzLmdldExheWVyKCkpO1xuICAgIHZhciByZXBsYXlTdGF0ZSA9IHRpbGUuZ2V0UmVwbGF5U3RhdGUobGF5ZXIpO1xuICAgIHZhciByZXZpc2lvbiA9IGxheWVyLmdldFJldmlzaW9uKCk7XG4gICAgdmFyIHJlcGxheXMgPSBJTUFHRV9SRVBMQVlTW2xheWVyLmdldFJlbmRlck1vZGUoKV07XG4gICAgaWYgKHJlcGxheXMgJiYgcmVwbGF5U3RhdGUucmVuZGVyZWRUaWxlUmV2aXNpb24gIT09IHJldmlzaW9uKSB7XG4gICAgICByZXBsYXlTdGF0ZS5yZW5kZXJlZFRpbGVSZXZpc2lvbiA9IHJldmlzaW9uO1xuICAgICAgdmFyIHRpbGVDb29yZCA9IHRpbGUud3JhcHBlZFRpbGVDb29yZDtcbiAgICAgIHZhciB6ID0gdGlsZUNvb3JkWzBdO1xuICAgICAgdmFyIHNvdXJjZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vc291cmNlL1ZlY3RvclRpbGUuanNcIikuZGVmYXVsdH0gKi8gKGxheWVyLmdldFNvdXJjZSgpKTtcbiAgICAgIHZhciB0aWxlR3JpZCA9IHNvdXJjZS5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgICB2YXIgcmVzb2x1dGlvbiA9IHRpbGVHcmlkLmdldFJlc29sdXRpb24oeik7XG4gICAgICB2YXIgY29udGV4dCA9IHRpbGUuZ2V0Q29udGV4dChsYXllcik7XG4gICAgICB2YXIgc2l6ZSA9IHNvdXJjZS5nZXRUaWxlUGl4ZWxTaXplKHosIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pO1xuICAgICAgY29udGV4dC5jYW52YXMud2lkdGggPSBzaXplWzBdO1xuICAgICAgY29udGV4dC5jYW52YXMuaGVpZ2h0ID0gc2l6ZVsxXTtcbiAgICAgIHZhciB0aWxlRXh0ZW50ID0gdGlsZUdyaWQuZ2V0VGlsZUNvb3JkRXh0ZW50KHRpbGVDb29yZCwgdGhpcy50bXBFeHRlbnQpO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGlsZS50aWxlS2V5cy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBzb3VyY2VUaWxlID0gdGlsZS5nZXRUaWxlKHRpbGUudGlsZUtleXNbaV0pO1xuICAgICAgICBpZiAoc291cmNlVGlsZS5nZXRTdGF0ZSgpICE9IFRpbGVTdGF0ZS5MT0FERUQpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGl4ZWxTY2FsZSA9IHBpeGVsUmF0aW8gLyByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgdHJhbnNmb3JtID0gcmVzZXRUcmFuc2Zvcm0odGhpcy50bXBUcmFuc2Zvcm1fKTtcbiAgICAgICAgc2NhbGVUcmFuc2Zvcm0odHJhbnNmb3JtLCBwaXhlbFNjYWxlLCAtcGl4ZWxTY2FsZSk7XG4gICAgICAgIHRyYW5zbGF0ZVRyYW5zZm9ybSh0cmFuc2Zvcm0sIC10aWxlRXh0ZW50WzBdLCAtdGlsZUV4dGVudFszXSk7XG4gICAgICAgIHZhciByZXBsYXlHcm91cCA9IC8qKiBAdHlwZSB7Q2FudmFzUmVwbGF5R3JvdXB9ICovIChzb3VyY2VUaWxlLmdldFJlcGxheUdyb3VwKGxheWVyLFxuICAgICAgICAgIHRpbGUudGlsZUNvb3JkLnRvU3RyaW5nKCkpKTtcbiAgICAgICAgcmVwbGF5R3JvdXAucmVwbGF5KGNvbnRleHQsIHRyYW5zZm9ybSwgMCwge30sIHRydWUsIHJlcGxheXMpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gQ2FudmFzVmVjdG9yVGlsZUxheWVyUmVuZGVyZXI7XG59KENhbnZhc1RpbGVMYXllclJlbmRlcmVyKSk7XG5cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgdGhpcyByZW5kZXJlciBoYW5kbGVzIHRoZSBwcm92aWRlZCBsYXllci5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdH0gbGF5ZXIgVGhlIGNhbmRpZGF0ZSBsYXllci5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSByZW5kZXJlciBjYW4gcmVuZGVyIHRoZSBsYXllci5cbiAqL1xuQ2FudmFzVmVjdG9yVGlsZUxheWVyUmVuZGVyZXJbJ2hhbmRsZXMnXSA9IGZ1bmN0aW9uKGxheWVyKSB7XG4gIHJldHVybiBsYXllci5nZXRUeXBlKCkgPT09IExheWVyVHlwZS5WRUNUT1JfVElMRTtcbn07XG5cblxuLyoqXG4gKiBDcmVhdGUgYSBsYXllciByZW5kZXJlci5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHR9IG1hcFJlbmRlcmVyIFRoZSBtYXAgcmVuZGVyZXIuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IGxheWVyIFRoZSBsYXllciB0byBiZSByZW5kZXJlcmQuXG4gKiBAcmV0dXJuIHtDYW52YXNWZWN0b3JUaWxlTGF5ZXJSZW5kZXJlcn0gVGhlIGxheWVyIHJlbmRlcmVyLlxuICovXG5DYW52YXNWZWN0b3JUaWxlTGF5ZXJSZW5kZXJlclsnY3JlYXRlJ10gPSBmdW5jdGlvbihtYXBSZW5kZXJlciwgbGF5ZXIpIHtcbiAgcmV0dXJuIG5ldyBDYW52YXNWZWN0b3JUaWxlTGF5ZXJSZW5kZXJlcigvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2xheWVyL1ZlY3RvclRpbGUuanNcIikuZGVmYXVsdH0gKi8gKGxheWVyKSk7XG59O1xuXG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhc1ZlY3RvclRpbGVMYXllclJlbmRlcmVyO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1WZWN0b3JUaWxlTGF5ZXIuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL01hcFxuICovXG5pbXBvcnQgUGx1Z2dhYmxlTWFwIGZyb20gJy4vUGx1Z2dhYmxlTWFwLmpzJztcbmltcG9ydCB7ZGVmYXVsdHMgYXMgZGVmYXVsdENvbnRyb2xzfSBmcm9tICcuL2NvbnRyb2wvdXRpbC5qcyc7XG5pbXBvcnQge2RlZmF1bHRzIGFzIGRlZmF1bHRJbnRlcmFjdGlvbnN9IGZyb20gJy4vaW50ZXJhY3Rpb24uanMnO1xuaW1wb3J0IHthc3NpZ259IGZyb20gJy4vb2JqLmpzJztcbmltcG9ydCBDYW52YXNJbWFnZUxheWVyUmVuZGVyZXIgZnJvbSAnLi9yZW5kZXJlci9jYW52YXMvSW1hZ2VMYXllci5qcyc7XG5pbXBvcnQgQ2FudmFzTWFwUmVuZGVyZXIgZnJvbSAnLi9yZW5kZXJlci9jYW52YXMvTWFwLmpzJztcbmltcG9ydCBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlciBmcm9tICcuL3JlbmRlcmVyL2NhbnZhcy9UaWxlTGF5ZXIuanMnO1xuaW1wb3J0IENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIgZnJvbSAnLi9yZW5kZXJlci9jYW52YXMvVmVjdG9yTGF5ZXIuanMnO1xuaW1wb3J0IENhbnZhc1ZlY3RvclRpbGVMYXllclJlbmRlcmVyIGZyb20gJy4vcmVuZGVyZXIvY2FudmFzL1ZlY3RvclRpbGVMYXllci5qcyc7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogVGhlIG1hcCBpcyB0aGUgY29yZSBjb21wb25lbnQgb2YgT3BlbkxheWVycy4gRm9yIGEgbWFwIHRvIHJlbmRlciwgYSB2aWV3LFxuICogb25lIG9yIG1vcmUgbGF5ZXJzLCBhbmQgYSB0YXJnZXQgY29udGFpbmVyIGFyZSBuZWVkZWQ6XG4gKlxuICogICAgIGltcG9ydCBNYXAgZnJvbSAnb2wvTWFwJztcbiAqICAgICBpbXBvcnQgVmlldyBmcm9tICdvbC9WaWV3JztcbiAqICAgICBpbXBvcnQgVGlsZUxheWVyIGZyb20gJ29sL2xheWVyL1RpbGUnO1xuICogICAgIGltcG9ydCBPU00gZnJvbSAnb2wvc291cmNlL09TTSc7XG4gKlxuICogICAgIHZhciBtYXAgPSBuZXcgTWFwKHtcbiAqICAgICAgIHZpZXc6IG5ldyBWaWV3KHtcbiAqICAgICAgICAgY2VudGVyOiBbMCwgMF0sXG4gKiAgICAgICAgIHpvb206IDFcbiAqICAgICAgIH0pLFxuICogICAgICAgbGF5ZXJzOiBbXG4gKiAgICAgICAgIG5ldyBUaWxlTGF5ZXIoe1xuICogICAgICAgICAgIHNvdXJjZTogbmV3IE9TTSgpXG4gKiAgICAgICAgIH0pXG4gKiAgICAgICBdLFxuICogICAgICAgdGFyZ2V0OiAnbWFwJ1xuICogICAgIH0pO1xuICpcbiAqIFRoZSBhYm92ZSBzbmlwcGV0IGNyZWF0ZXMgYSBtYXAgdXNpbmcgYSB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL1RpbGV9IHRvXG4gKiBkaXNwbGF5IHtAbGluayBtb2R1bGU6b2wvc291cmNlL09TTX5PU019IE9TTSBkYXRhIGFuZCByZW5kZXIgaXQgdG8gYSBET01cbiAqIGVsZW1lbnQgd2l0aCB0aGUgaWQgYG1hcGAuXG4gKlxuICogVGhlIGNvbnN0cnVjdG9yIHBsYWNlcyBhIHZpZXdwb3J0IGNvbnRhaW5lciAod2l0aCBDU1MgY2xhc3MgbmFtZVxuICogYG9sLXZpZXdwb3J0YCkgaW4gdGhlIHRhcmdldCBlbGVtZW50IChzZWUgYGdldFZpZXdwb3J0KClgKSwgYW5kIHRoZW4gdHdvXG4gKiBmdXJ0aGVyIGVsZW1lbnRzIHdpdGhpbiB0aGUgdmlld3BvcnQ6IG9uZSB3aXRoIENTUyBjbGFzcyBuYW1lXG4gKiBgb2wtb3ZlcmxheWNvbnRhaW5lci1zdG9wZXZlbnRgIGZvciBjb250cm9scyBhbmQgc29tZSBvdmVybGF5cywgYW5kIG9uZSB3aXRoXG4gKiBDU1MgY2xhc3MgbmFtZSBgb2wtb3ZlcmxheWNvbnRhaW5lcmAgZm9yIG90aGVyIG92ZXJsYXlzIChzZWUgdGhlIGBzdG9wRXZlbnRgXG4gKiBvcHRpb24gb2Yge0BsaW5rIG1vZHVsZTpvbC9PdmVybGF5fk92ZXJsYXl9IGZvciB0aGUgZGlmZmVyZW5jZSkuIFRoZSBtYXBcbiAqIGl0c2VsZiBpcyBwbGFjZWQgaW4gYSBmdXJ0aGVyIGVsZW1lbnQgd2l0aGluIHRoZSB2aWV3cG9ydC5cbiAqXG4gKiBMYXllcnMgYXJlIHN0b3JlZCBhcyBhIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn5Db2xsZWN0aW9ufSBpblxuICogbGF5ZXJHcm91cHMuIEEgdG9wLWxldmVsIGdyb3VwIGlzIHByb3ZpZGVkIGJ5IHRoZSBsaWJyYXJ5LiBUaGlzIGlzIHdoYXQgaXNcbiAqIGFjY2Vzc2VkIGJ5IGBnZXRMYXllckdyb3VwYCBhbmQgYHNldExheWVyR3JvdXBgLiBMYXllcnMgZW50ZXJlZCBpbiB0aGVcbiAqIG9wdGlvbnMgYXJlIGFkZGVkIHRvIHRoaXMgZ3JvdXAsIGFuZCBgYWRkTGF5ZXJgIGFuZCBgcmVtb3ZlTGF5ZXJgIGNoYW5nZSB0aGVcbiAqIGxheWVyIGNvbGxlY3Rpb24gaW4gdGhlIGdyb3VwLiBgZ2V0TGF5ZXJzYCBpcyBhIGNvbnZlbmllbmNlIGZ1bmN0aW9uIGZvclxuICogYGdldExheWVyR3JvdXAoKS5nZXRMYXllcnMoKWAuIE5vdGUgdGhhdCB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0dyb3Vwfkdyb3VwfVxuICogaXMgYSBzdWJjbGFzcyBvZiB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0Jhc2V9LCBzbyBsYXllcnMgZW50ZXJlZCBpbiB0aGVcbiAqIG9wdGlvbnMgb3IgYWRkZWQgd2l0aCBgYWRkTGF5ZXJgIGNhbiBiZSBncm91cHMsIHdoaWNoIGNhbiBjb250YWluIGZ1cnRoZXJcbiAqIGdyb3VwcywgYW5kIHNvIG9uLlxuICpcbiAqIEBmaXJlcyBpbXBvcnQoXCIuL01hcEJyb3dzZXJFdmVudC5qc1wiKS5NYXBCcm93c2VyRXZlbnRcbiAqIEBmaXJlcyBpbXBvcnQoXCIuL01hcEV2ZW50LmpzXCIpLk1hcEV2ZW50XG4gKiBAZmlyZXMgbW9kdWxlOm9sL3JlbmRlci9FdmVudH5SZW5kZXJFdmVudCNwb3N0Y29tcG9zZVxuICogQGZpcmVzIG1vZHVsZTpvbC9yZW5kZXIvRXZlbnR+UmVuZGVyRXZlbnQjcHJlY29tcG9zZVxuICogQGFwaVxuICovXG52YXIgTWFwID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoUGx1Z2dhYmxlTWFwKSB7XG4gIGZ1bmN0aW9uIE1hcChvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IGFzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgaWYgKCFvcHRpb25zLmNvbnRyb2xzKSB7XG4gICAgICBvcHRpb25zLmNvbnRyb2xzID0gZGVmYXVsdENvbnRyb2xzKCk7XG4gICAgfVxuICAgIGlmICghb3B0aW9ucy5pbnRlcmFjdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMuaW50ZXJhY3Rpb25zID0gZGVmYXVsdEludGVyYWN0aW9ucygpO1xuICAgIH1cblxuICAgIFBsdWdnYWJsZU1hcC5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgaWYgKCBQbHVnZ2FibGVNYXAgKSBNYXAuX19wcm90b19fID0gUGx1Z2dhYmxlTWFwO1xuICBNYXAucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggUGx1Z2dhYmxlTWFwICYmIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUgKTtcbiAgTWFwLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE1hcDtcblxuICBNYXAucHJvdG90eXBlLmNyZWF0ZVJlbmRlcmVyID0gZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXIgKCkge1xuICAgIHZhciByZW5kZXJlciA9IG5ldyBDYW52YXNNYXBSZW5kZXJlcih0aGlzKTtcbiAgICByZW5kZXJlci5yZWdpc3RlckxheWVyUmVuZGVyZXJzKFtcbiAgICAgIENhbnZhc0ltYWdlTGF5ZXJSZW5kZXJlcixcbiAgICAgIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLFxuICAgICAgQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlcixcbiAgICAgIENhbnZhc1ZlY3RvclRpbGVMYXllclJlbmRlcmVyXG4gICAgXSk7XG4gICAgcmV0dXJuIHJlbmRlcmVyO1xuICB9O1xuXG4gIHJldHVybiBNYXA7XG59KFBsdWdnYWJsZU1hcCkpO1xuXG5cbmV4cG9ydCBkZWZhdWx0IE1hcDtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWFwLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9jb250cm9sL3V0aWxcbiAqL1xuaW1wb3J0IENvbGxlY3Rpb24gZnJvbSAnLi4vQ29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgQXR0cmlidXRpb24gZnJvbSAnLi9BdHRyaWJ1dGlvbi5qcyc7XG5pbXBvcnQgUm90YXRlIGZyb20gJy4vUm90YXRlLmpzJztcbmltcG9ydCBab29tIGZyb20gJy4vWm9vbS5qcyc7XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBEZWZhdWx0c09wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F0dHJpYnV0aW9uPXRydWVdIEluY2x1ZGVcbiAqIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9BdHRyaWJ1dGlvbn5BdHRyaWJ1dGlvbn0uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vQXR0cmlidXRpb24uanNcIikuT3B0aW9uc30gW2F0dHJpYnV0aW9uT3B0aW9uc11cbiAqIE9wdGlvbnMgZm9yIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9BdHRyaWJ1dGlvbn5BdHRyaWJ1dGlvbn0uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtyb3RhdGU9dHJ1ZV0gSW5jbHVkZVxuICoge0BsaW5rIG1vZHVsZTpvbC9jb250cm9sL1JvdGF0ZX5Sb3RhdGV9LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1JvdGF0ZS5qc1wiKS5PcHRpb25zfSBbcm90YXRlT3B0aW9uc10gT3B0aW9uc1xuICogZm9yIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9Sb3RhdGV+Um90YXRlfS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3pvb21dIEluY2x1ZGUge0BsaW5rIG1vZHVsZTpvbC9jb250cm9sL1pvb21+Wm9vbX0uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vWm9vbS5qc1wiKS5PcHRpb25zfSBbem9vbU9wdGlvbnNdIE9wdGlvbnMgZm9yXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2wvWm9vbX5ab29tfS5cbiAqIEBhcGlcbiAqL1xuXG5cbi8qKlxuICogU2V0IG9mIGNvbnRyb2xzIGluY2x1ZGVkIGluIG1hcHMgYnkgZGVmYXVsdC4gVW5sZXNzIGNvbmZpZ3VyZWQgb3RoZXJ3aXNlLFxuICogdGhpcyByZXR1cm5zIGEgY29sbGVjdGlvbiBjb250YWluaW5nIGFuIGluc3RhbmNlIG9mIGVhY2ggb2YgdGhlIGZvbGxvd2luZ1xuICogY29udHJvbHM6XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9ab29tflpvb219XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9Sb3RhdGV+Um90YXRlfVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2wvQXR0cmlidXRpb25+QXR0cmlidXRpb259XG4gKlxuICogQHBhcmFtIHtEZWZhdWx0c09wdGlvbnM9fSBvcHRfb3B0aW9uc1xuICogRGVmYXVsdHMgb3B0aW9ucy5cbiAqIEByZXR1cm4ge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9Db250cm9sLmpzXCIpLmRlZmF1bHQ+fVxuICogQ29udHJvbHMuXG4gKiBAZnVuY3Rpb24gbW9kdWxlOm9sL2NvbnRyb2wuZGVmYXVsdHNcbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRzKG9wdF9vcHRpb25zKSB7XG5cbiAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG5cbiAgdmFyIGNvbnRyb2xzID0gbmV3IENvbGxlY3Rpb24oKTtcblxuICB2YXIgem9vbUNvbnRyb2wgPSBvcHRpb25zLnpvb20gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuem9vbSA6IHRydWU7XG4gIGlmICh6b29tQ29udHJvbCkge1xuICAgIGNvbnRyb2xzLnB1c2gobmV3IFpvb20ob3B0aW9ucy56b29tT3B0aW9ucykpO1xuICB9XG5cbiAgdmFyIHJvdGF0ZUNvbnRyb2wgPSBvcHRpb25zLnJvdGF0ZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yb3RhdGUgOiB0cnVlO1xuICBpZiAocm90YXRlQ29udHJvbCkge1xuICAgIGNvbnRyb2xzLnB1c2gobmV3IFJvdGF0ZShvcHRpb25zLnJvdGF0ZU9wdGlvbnMpKTtcbiAgfVxuXG4gIHZhciBhdHRyaWJ1dGlvbkNvbnRyb2wgPSBvcHRpb25zLmF0dHJpYnV0aW9uICE9PSB1bmRlZmluZWQgP1xuICAgIG9wdGlvbnMuYXR0cmlidXRpb24gOiB0cnVlO1xuICBpZiAoYXR0cmlidXRpb25Db250cm9sKSB7XG4gICAgY29udHJvbHMucHVzaChuZXcgQXR0cmlidXRpb24ob3B0aW9ucy5hdHRyaWJ1dGlvbk9wdGlvbnMpKTtcbiAgfVxuXG4gIHJldHVybiBjb250cm9scztcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbC5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9